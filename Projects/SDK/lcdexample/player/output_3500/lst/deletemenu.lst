TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   1
C:\STMP3XXX_SDK_FIRMWARE_320_finalfix\Projects\SDK\lcdexample\player\make\ccfc5f6b.src
M:ADDR CODE           CYCLES LINE SOURCELINE
                                1 ; TASKING DSP2410 C compiler v1.5r1 Build 208 SN 00100122
                                2 ; options: -OG -si -DPLAYER -DALL -DD3500 -DMMC -DLIION -DPL3_FB
                                3 ;          -DSTMP_BUILD_PLAYER -DPLAYER_BUILD -DPLAYER -DSTFM1000_LCD
                                4 ;          -DFULL_PLAYER_KERNEL -DDCDC_POWER_TRANSFER -DBACKLIGHT
                                5 ;          -DWMAAPI_NO_DRM -DREVB_ENGR_BD -DSED15XX_LCD -DSYNC_LYRICS
                                6 ;          -DTUNER_STFM1000 -DFM_EUROPE_REGION -DSD_USE_100KHZ_TUNING_GRID
                                7 ;          -DNEWSHINGYIH -DREAL_I2S_DATA -DFUNCLET
                                8 ;          -DMEDIA_DDI_COUNT_HIDDEN_SYSTEM_BLOCKS -DFMTUNER -DMP3_ENCODE
                                9 ;          -DCHKDSK -DFAT16 -DDEBUG -DDEVICE_3500 -DSDK2400 -DENGR_BD
                               10 ;          -DUSE_PLAYLIST3 -DBATTERY_TYPE_LI_ION -DBATTERY_CHARGE -w68 -w66
                               11 ;          -I..\output_3500\include
                               12 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player
                               13 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player\Menus -I..\..
                               14 ;          -I..\..\..\..\..\inc -I..\..\..\..\..\System\Common
                               15 ;          -I..\..\..\..\..\System\Common\symbols
                               16 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player\Display
                               17 ;          -I..\..\..\..\..\Algorithms\DRM\janus\src\h
                               18 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               19 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               20 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               21 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               22 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand -I -I
                               23 ;          -I..\..\..\..\..\system\common\resourcemanager -I..\..\..\..\..\inc
                               24 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               25 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\DataDrive\include
                               26 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               27 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               28 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\DataDrive
                               29 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               30 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               31 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               32 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               33 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               34 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand
                               35 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               36 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common\include
                               37 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               38 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               39 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common
                               40 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               41 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\SystemDrive\include
                               42 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               43 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               44 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\SystemDrive
                               45 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               46 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Media\include
                               47 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               48 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               49 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Media
                               50 ;          -I..\..\..\..\..\devicedriver\media\include
                               51 ;          -I..\..\..\..\..\devicedriver\media\ddildl
                               52 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               53 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common\include
                               54 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               55 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL
                               56 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL\include
                               57 ;          -I..\..\..\..\..\DeviceDriver\Media\include
                               58 ;          -I..\..\..\..\..\DeviceDriver\Media\PortHIL\GPFlash\include
                               59 ;          -I..\..\..\..\..\DeviceDriver\Media\PortHIL\GPFlash
                               60 ;          -I..\..\..\..\..\devicedriver\media\ddildl
                               61 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               62 ;          -I..\..\..\..\..\libsource\sysserialnumber
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   2

M:ADDR CODE           CYCLES LINE SOURCELINE
                               63 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\include
                               64 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               65 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\include
                               66 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\Media
                               67 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\HAL\include
                               68 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               69 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               70 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               71 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               72 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand
                               73 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL\include
                               74 ;          -I..\..\..\..\..\System\MsgModules\Software\Effects\srswow
                               75 ;          -I..\..\..\..\..\System\Common\rtcaccess
                               76 ;          -I..\..\..\..\..\System\Common\playlist3
                               77 ;          -I..\..\..\..\..\System\Common\record
                               78 ;          -I..\..\..\..\..\System\Common\mp3filename
                               79 ;          -I..\..\..\..\..\FileSystem\chkdsk\include
                               80 ;          -I..\..\..\..\..\FileSystem\Fat32\h -DFULL_PLAYER_KERNEL
                               81 ;          -DSYNC_LYRICS -DMP3_ENCODE -DBATTERY_TYPE_LI_ION -Dk_opt_single_fat
                               82 ;          -DPL3_FB -g -O2 -R -Cs -DMS_ADPCM -DIMA_ADPCM -DWINDOWS_PCM
                               83 ;          -I..\..\..\..\..\System\MsgModules\Software\musiclib\ghdr
                               84 ;          -I..\..\..\..\..\devicedriver\display
                               85 ;          -I..\..\..\..\..\System\MsgModules\Hardware\Display -MmyL
                               86 
                               94 
                               95 ;   deletemenu.c:
                               96 ; 1    |////////////////////////////////////////////////////////////////////////////////
                               97 ; 2    |// Copyright (C) SigmaTel, Inc. 2002-2005
                               98 ; 3    |// Filename:    deletemenu.c (LCD audio player)
                               99 ; 4    |// Description: Delete screen offers file deletion options to users.
                              100 ; 5    |////////////////////////////////////////////////////////////////////////////////
                              101 ; 6    |
                              102 ; 7    |#include "exec.h"
                              103 
                              105 
                              106 ; 1    |#ifndef EXEC_H
                              107 ; 2    |#define EXEC_H
                              108 ; 3    |
                              109 ; 4    |
                              110 ; 5    |void _reentrant SysPostMessage(int iLength,...);
                              111 ; 6    |int _asmfunc GetMessage(struct MessageQueueDescriptor*,struct CMessage * );
                              112 ; 7    |long _asmfunc SysGetCurrentTime(void);
                              113 ; 8    |
                              114 ; 9    |
                              115 ; 10   |#endif
                              116 
                              118 
                              119 ; 8    |#include "types.h"
                              120 
                              122 
                              123 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              124 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              125 ; 3    |//
                              126 ; 4    |// Filename: types.h
                              127 ; 5    |// Description: Standard data types
                              128 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              129 ; 7    |
                              130 ; 8    |#ifndef _TYPES_H
                              131 ; 9    |#define _TYPES_H
                              132 ; 10   |
                              133 ; 11   |// TODO:  move this outta here!
                              134 ; 12   |#if !defined(NOERROR)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   3

M:ADDR CODE           CYCLES LINE SOURCELINE
                              135 ; 13   |#define NOERROR 0
                              136 ; 14   |#define SUCCESS 0
                              137 ; 15   |#endif 
                              138 ; 16   |#if !defined(SUCCESS)
                              139 ; 17   |#define SUCCESS  0
                              140 ; 18   |#endif
                              141 ; 19   |#if !defined(ERROR)
                              142 ; 20   |#define ERROR   -1
                              143 ; 21   |#endif
                              144 ; 22   |#if !defined(FALSE)
                              145 ; 23   |#define FALSE 0
                              146 ; 24   |#endif
                              147 ; 25   |#if !defined(TRUE)
                              148 ; 26   |#define TRUE  1
                              149 ; 27   |#endif
                              150 ; 28   |
                              151 ; 29   |#if !defined(NULL)
                              152 ; 30   |#define NULL 0
                              153 ; 31   |#endif
                              154 ; 32   |
                              155 ; 33   |#define MAX_INT     0x7FFFFF
                              156 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                              157 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                              158 ; 36   |#define MAX_ULONG   (-1) 
                              159 ; 37   |
                              160 ; 38   |#define WORD_SIZE   24              // word size in bits
                              161 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                              162 ; 40   |
                              163 ; 41   |
                              164 ; 42   |#define BYTE    unsigned char       // btVarName
                              165 ; 43   |#define CHAR    signed char         // cVarName
                              166 ; 44   |#define USHORT  unsigned short      // usVarName
                              167 ; 45   |#define SHORT   unsigned short      // sVarName
                              168 ; 46   |#define WORD    unsigned int        // wVarName
                              169 ; 47   |#define INT     signed int          // iVarName
                              170 ; 48   |#define DWORD   unsigned long       // dwVarName
                              171 ; 49   |#define LONG    signed long         // lVarName
                              172 ; 50   |#define BOOL    unsigned int        // bVarName
                              173 ; 51   |#define FRACT   _fract              // frVarName
                              174 ; 52   |#define LFRACT  long _fract         // lfrVarName
                              175 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                              176 ; 54   |#define FLOAT   float               // fVarName
                              177 ; 55   |#define DBL     double              // dVarName
                              178 ; 56   |#define ENUM    enum                // eVarName
                              179 ; 57   |#define CMX     _complex            // cmxVarName
                              180 ; 58   |typedef WORD UCS3;                   // 
                              181 ; 59   |
                              182 ; 60   |#define UINT16  unsigned short
                              183 ; 61   |#define UINT8   unsigned char   
                              184 ; 62   |#define UINT32  unsigned long
                              185 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                              186 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                              187 ; 65   |#define WCHAR   UINT16
                              188 ; 66   |
                              189 ; 67   |//UINT128 is 16 bytes or 6 words
                              190 ; 68   |typedef struct UINT128_3500 {   
                              191 ; 69   |    int val[6];     
                              192 ; 70   |} UINT128_3500;
                              193 ; 71   |
                              194 ; 72   |#define UINT128   UINT128_3500
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   4

M:ADDR CODE           CYCLES LINE SOURCELINE
                              195 ; 73   |
                              196 ; 74   |// Little endian word packed byte strings:   
                              197 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              198 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              199 ; 77   |// Little endian word packed byte strings:   
                              200 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              201 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              202 ; 80   |
                              203 ; 81   |// Declare Memory Spaces To Use When Coding
                              204 ; 82   |// A. Sector Buffers
                              205 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                              206 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                              207 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                              208 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                              209 
                              211 
                              212 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                              213 ; 88   |// B. Media DDI Memory
                              214 ; 89   |#define MEDIA_DDI_MEM _Y
                              215 ; 90   |
                              216 ; 91   |
                              217 ; 92   |
                              218 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                              219 ; 94   |// Examples of circular pointers:
                              220 ; 95   |//    INT CIRC cpiVarName
                              221 ; 96   |//    DWORD CIRC cpdwVarName
                              222 ; 97   |
                              223 ; 98   |#define RETCODE INT                 // rcVarName
                              224 ; 99   |
                              225 ; 100  |// generic bitfield structure
                              226 ; 101  |struct Bitfield {
                              227 ; 102  |    unsigned int B0  :1;
                              228 ; 103  |    unsigned int B1  :1;
                              229 ; 104  |    unsigned int B2  :1;
                              230 ; 105  |    unsigned int B3  :1;
                              231 ; 106  |    unsigned int B4  :1;
                              232 ; 107  |    unsigned int B5  :1;
                              233 ; 108  |    unsigned int B6  :1;
                              234 ; 109  |    unsigned int B7  :1;
                              235 ; 110  |    unsigned int B8  :1;
                              236 ; 111  |    unsigned int B9  :1;
                              237 ; 112  |    unsigned int B10 :1;
                              238 ; 113  |    unsigned int B11 :1;
                              239 ; 114  |    unsigned int B12 :1;
                              240 ; 115  |    unsigned int B13 :1;
                              241 ; 116  |    unsigned int B14 :1;
                              242 ; 117  |    unsigned int B15 :1;
                              243 ; 118  |    unsigned int B16 :1;
                              244 ; 119  |    unsigned int B17 :1;
                              245 ; 120  |    unsigned int B18 :1;
                              246 ; 121  |    unsigned int B19 :1;
                              247 ; 122  |    unsigned int B20 :1;
                              248 ; 123  |    unsigned int B21 :1;
                              249 ; 124  |    unsigned int B22 :1;
                              250 ; 125  |    unsigned int B23 :1;
                              251 ; 126  |};
                              252 ; 127  |
                              253 ; 128  |union BitInt {
                              254 ; 129  |        struct Bitfield B;
                              255 ; 130  |        int        I;
                              256 ; 131  |};
                              257 ; 132  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   5

M:ADDR CODE           CYCLES LINE SOURCELINE
                              258 ; 133  |#define MAX_MSG_LENGTH 10
                              259 ; 134  |struct CMessage
                              260 ; 135  |{
                              261 ; 136  |        unsigned int m_uLength;
                              262 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                              263 ; 138  |};
                              264 ; 139  |
                              265 ; 140  |typedef struct {
                              266 ; 141  |    WORD m_wLength;
                              267 ; 142  |    WORD m_wMessage;
                              268 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                              269 ; 144  |} Message;
                              270 ; 145  |
                              271 ; 146  |struct MessageQueueDescriptor
                              272 ; 147  |{
                              273 ; 148  |        int *m_pBase;
                              274 ; 149  |        int m_iModulo;
                              275 ; 150  |        int m_iSize;
                              276 ; 151  |        int *m_pHead;
                              277 ; 152  |        int *m_pTail;
                              278 ; 153  |};
                              279 ; 154  |
                              280 ; 155  |struct ModuleEntry
                              281 ; 156  |{
                              282 ; 157  |    int m_iSignaledEventMask;
                              283 ; 158  |    int m_iWaitEventMask;
                              284 ; 159  |    int m_iResourceOfCode;
                              285 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                              286 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                              287 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                              288 ; 163  |    int m_uTimeOutHigh;
                              289 ; 164  |    int m_uTimeOutLow;
                              290 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                              291 ; 166  |};
                              292 ; 167  |
                              293 ; 168  |union WaitMask{
                              294 ; 169  |    struct B{
                              295 ; 170  |        unsigned int m_bNone     :1;
                              296 ; 171  |        unsigned int m_bMessage  :1;
                              297 ; 172  |        unsigned int m_bTimer    :1;
                              298 ; 173  |        unsigned int m_bButton   :1;
                              299 ; 174  |    } B;
                              300 ; 175  |    int I;
                              301 ; 176  |} ;
                              302 ; 177  |
                              303 ; 178  |
                              304 ; 179  |struct Button {
                              305 ; 180  |        WORD wButtonEvent;
                              306 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                              307 ; 182  |};
                              308 ; 183  |
                              309 ; 184  |struct Message {
                              310 ; 185  |        WORD wMsgLength;
                              311 ; 186  |        WORD wMsgCommand;
                              312 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                              313 ; 188  |};
                              314 ; 189  |
                              315 ; 190  |union EventTypes {
                              316 ; 191  |        struct CMessage msg;
                              317 ; 192  |        struct Button Button ;
                              318 ; 193  |        struct Message Message;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   6

M:ADDR CODE           CYCLES LINE SOURCELINE
                              319 ; 194  |};
                              320 ; 195  |
                              321 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                              322 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                              323 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                              324 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                              325 ; 200  |
                              326 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                              327 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                              328 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                              329 ; 204  |
                              330 ; 205  |#if DEBUG
                              331 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                              332 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                              333 ; 208  |#else 
                              334 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                              335 ; 210  |#define DebugBuildAssert(x)    
                              336 ; 211  |#endif
                              337 ; 212  |
                              338 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                              339 ; 214  |//  #pragma asm
                              340 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                              341 ; 216  |//  #pragma endasm
                              342 ; 217  |
                              343 ; 218  |
                              344 ; 219  |#ifdef COLOR_262K
                              345 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                              346 ; 221  |#elif defined(COLOR_65K)
                              347 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                              348 ; 223  |#else
                              349 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                              350 ; 225  |#endif
                              351 ; 226  |    
                              352 ; 227  |#endif // #ifndef _TYPES_H
                              353 
                              355 
                              356 ; 9    |#include "menumanager.h"
                              357 
                              359 
                              360 ; 1    |#ifndef _EXEC_H
                              361 ; 2    |#define _EXEC_H
                              362 ; 3    |
                              363 ; 4    |#include "types.h"
                              364 
                              366 
                              367 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              368 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              369 ; 3    |//
                              370 ; 4    |// Filename: types.h
                              371 ; 5    |// Description: Standard data types
                              372 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              373 ; 7    |
                              374 ; 8    |#ifndef _TYPES_H
                              375 ; 9    |#define _TYPES_H
                              376 ; 10   |
                              377 ; 11   |// TODO:  move this outta here!
                              378 ; 12   |#if !defined(NOERROR)
                              379 ; 13   |#define NOERROR 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   7

M:ADDR CODE           CYCLES LINE SOURCELINE
                              380 ; 14   |#define SUCCESS 0
                              381 ; 15   |#endif 
                              382 ; 16   |#if !defined(SUCCESS)
                              383 ; 17   |#define SUCCESS  0
                              384 ; 18   |#endif
                              385 ; 19   |#if !defined(ERROR)
                              386 ; 20   |#define ERROR   -1
                              387 ; 21   |#endif
                              388 ; 22   |#if !defined(FALSE)
                              389 ; 23   |#define FALSE 0
                              390 ; 24   |#endif
                              391 ; 25   |#if !defined(TRUE)
                              392 ; 26   |#define TRUE  1
                              393 ; 27   |#endif
                              394 ; 28   |
                              395 ; 29   |#if !defined(NULL)
                              396 ; 30   |#define NULL 0
                              397 ; 31   |#endif
                              398 ; 32   |
                              399 ; 33   |#define MAX_INT     0x7FFFFF
                              400 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                              401 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                              402 ; 36   |#define MAX_ULONG   (-1) 
                              403 ; 37   |
                              404 ; 38   |#define WORD_SIZE   24              // word size in bits
                              405 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                              406 ; 40   |
                              407 ; 41   |
                              408 ; 42   |#define BYTE    unsigned char       // btVarName
                              409 ; 43   |#define CHAR    signed char         // cVarName
                              410 ; 44   |#define USHORT  unsigned short      // usVarName
                              411 ; 45   |#define SHORT   unsigned short      // sVarName
                              412 ; 46   |#define WORD    unsigned int        // wVarName
                              413 ; 47   |#define INT     signed int          // iVarName
                              414 ; 48   |#define DWORD   unsigned long       // dwVarName
                              415 ; 49   |#define LONG    signed long         // lVarName
                              416 ; 50   |#define BOOL    unsigned int        // bVarName
                              417 ; 51   |#define FRACT   _fract              // frVarName
                              418 ; 52   |#define LFRACT  long _fract         // lfrVarName
                              419 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                              420 ; 54   |#define FLOAT   float               // fVarName
                              421 ; 55   |#define DBL     double              // dVarName
                              422 ; 56   |#define ENUM    enum                // eVarName
                              423 ; 57   |#define CMX     _complex            // cmxVarName
                              424 ; 58   |typedef WORD UCS3;                   // 
                              425 ; 59   |
                              426 ; 60   |#define UINT16  unsigned short
                              427 ; 61   |#define UINT8   unsigned char   
                              428 ; 62   |#define UINT32  unsigned long
                              429 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                              430 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                              431 ; 65   |#define WCHAR   UINT16
                              432 ; 66   |
                              433 ; 67   |//UINT128 is 16 bytes or 6 words
                              434 ; 68   |typedef struct UINT128_3500 {   
                              435 ; 69   |    int val[6];     
                              436 ; 70   |} UINT128_3500;
                              437 ; 71   |
                              438 ; 72   |#define UINT128   UINT128_3500
                              439 ; 73   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   8

M:ADDR CODE           CYCLES LINE SOURCELINE
                              440 ; 74   |// Little endian word packed byte strings:   
                              441 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              442 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              443 ; 77   |// Little endian word packed byte strings:   
                              444 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              445 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              446 ; 80   |
                              447 ; 81   |// Declare Memory Spaces To Use When Coding
                              448 ; 82   |// A. Sector Buffers
                              449 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                              450 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                              451 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                              452 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                              453 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                              454 ; 88   |// B. Media DDI Memory
                              455 ; 89   |#define MEDIA_DDI_MEM _Y
                              456 ; 90   |
                              457 ; 91   |
                              458 ; 92   |
                              459 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                              460 ; 94   |// Examples of circular pointers:
                              461 ; 95   |//    INT CIRC cpiVarName
                              462 ; 96   |//    DWORD CIRC cpdwVarName
                              463 ; 97   |
                              464 ; 98   |#define RETCODE INT                 // rcVarName
                              465 ; 99   |
                              466 ; 100  |// generic bitfield structure
                              467 ; 101  |struct Bitfield {
                              468 ; 102  |    unsigned int B0  :1;
                              469 ; 103  |    unsigned int B1  :1;
                              470 ; 104  |    unsigned int B2  :1;
                              471 ; 105  |    unsigned int B3  :1;
                              472 ; 106  |    unsigned int B4  :1;
                              473 ; 107  |    unsigned int B5  :1;
                              474 ; 108  |    unsigned int B6  :1;
                              475 ; 109  |    unsigned int B7  :1;
                              476 ; 110  |    unsigned int B8  :1;
                              477 ; 111  |    unsigned int B9  :1;
                              478 ; 112  |    unsigned int B10 :1;
                              479 ; 113  |    unsigned int B11 :1;
                              480 ; 114  |    unsigned int B12 :1;
                              481 ; 115  |    unsigned int B13 :1;
                              482 ; 116  |    unsigned int B14 :1;
                              483 ; 117  |    unsigned int B15 :1;
                              484 ; 118  |    unsigned int B16 :1;
                              485 ; 119  |    unsigned int B17 :1;
                              486 ; 120  |    unsigned int B18 :1;
                              487 ; 121  |    unsigned int B19 :1;
                              488 ; 122  |    unsigned int B20 :1;
                              489 ; 123  |    unsigned int B21 :1;
                              490 ; 124  |    unsigned int B22 :1;
                              491 ; 125  |    unsigned int B23 :1;
                              492 ; 126  |};
                              493 ; 127  |
                              494 ; 128  |union BitInt {
                              495 ; 129  |        struct Bitfield B;
                              496 ; 130  |        int        I;
                              497 ; 131  |};
                              498 ; 132  |
                              499 ; 133  |#define MAX_MSG_LENGTH 10
                              500 ; 134  |struct CMessage
                              501 ; 135  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   9

M:ADDR CODE           CYCLES LINE SOURCELINE
                              502 ; 136  |        unsigned int m_uLength;
                              503 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                              504 ; 138  |};
                              505 ; 139  |
                              506 ; 140  |typedef struct {
                              507 ; 141  |    WORD m_wLength;
                              508 ; 142  |    WORD m_wMessage;
                              509 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                              510 ; 144  |} Message;
                              511 ; 145  |
                              512 ; 146  |struct MessageQueueDescriptor
                              513 ; 147  |{
                              514 ; 148  |        int *m_pBase;
                              515 ; 149  |        int m_iModulo;
                              516 ; 150  |        int m_iSize;
                              517 ; 151  |        int *m_pHead;
                              518 ; 152  |        int *m_pTail;
                              519 ; 153  |};
                              520 ; 154  |
                              521 ; 155  |struct ModuleEntry
                              522 ; 156  |{
                              523 ; 157  |    int m_iSignaledEventMask;
                              524 ; 158  |    int m_iWaitEventMask;
                              525 ; 159  |    int m_iResourceOfCode;
                              526 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                              527 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                              528 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                              529 ; 163  |    int m_uTimeOutHigh;
                              530 ; 164  |    int m_uTimeOutLow;
                              531 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                              532 ; 166  |};
                              533 ; 167  |
                              534 ; 168  |union WaitMask{
                              535 ; 169  |    struct B{
                              536 ; 170  |        unsigned int m_bNone     :1;
                              537 ; 171  |        unsigned int m_bMessage  :1;
                              538 ; 172  |        unsigned int m_bTimer    :1;
                              539 ; 173  |        unsigned int m_bButton   :1;
                              540 ; 174  |    } B;
                              541 ; 175  |    int I;
                              542 ; 176  |} ;
                              543 ; 177  |
                              544 ; 178  |
                              545 ; 179  |struct Button {
                              546 ; 180  |        WORD wButtonEvent;
                              547 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                              548 ; 182  |};
                              549 ; 183  |
                              550 ; 184  |struct Message {
                              551 ; 185  |        WORD wMsgLength;
                              552 ; 186  |        WORD wMsgCommand;
                              553 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                              554 ; 188  |};
                              555 ; 189  |
                              556 ; 190  |union EventTypes {
                              557 ; 191  |        struct CMessage msg;
                              558 ; 192  |        struct Button Button ;
                              559 ; 193  |        struct Message Message;
                              560 ; 194  |};
                              561 ; 195  |
                              562 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  10

M:ADDR CODE           CYCLES LINE SOURCELINE
                              563 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                              564 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                              565 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                              566 ; 200  |
                              567 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                              568 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                              569 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                              570 ; 204  |
                              571 ; 205  |#if DEBUG
                              572 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                              573 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                              574 ; 208  |#else 
                              575 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                              576 ; 210  |#define DebugBuildAssert(x)    
                              577 ; 211  |#endif
                              578 ; 212  |
                              579 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                              580 ; 214  |//  #pragma asm
                              581 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                              582 ; 216  |//  #pragma endasm
                              583 ; 217  |
                              584 ; 218  |
                              585 ; 219  |#ifdef COLOR_262K
                              586 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                              587 ; 221  |#elif defined(COLOR_65K)
                              588 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                              589 ; 223  |#else
                              590 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                              591 ; 225  |#endif
                              592 ; 226  |    
                              593 ; 227  |#endif // #ifndef _TYPES_H
                              594 
                              596 
                              597 ; 5    |
                              598 ; 6    |int _asmfunc SysWaitOnEvent(unsigned int uEvent,struct CMessage *,int uLength);
                              599 ; 7    |int _asmfunc SysCallFunction(unsigned int RESOURCE,int _reentrant (int,int,int*),  int, in
                                  t, int *);
                              600 ; 8    |
                              601 ; 9    |#if !defined(NULL)
                              602 ; 10   |#define NULL 0
                              603 ; 11   |#endif 
                              604 ; 12   |
                              605 ; 13   |#if !defined(FALSE)
                              606 ; 14   |#define FALSE 0
                              607 ; 15   |#endif
                              608 ; 16   |#if !defined(TRUE)
                              609 ; 17   |#define TRUE  !FALSE
                              610 ; 18   |#endif
                              611 ; 19   |
                              612 ; 20   |// The same memory location contains either a menu message or button event. 
                              613 ; 21   |// The button info is stored in the first word or the entire message is stored.
                              614 ; 22   |
                              615 ; 23   |// CMessage is kept for backards compatibility.
                              616 ; 24   |// The union and 2 new structures are added to aid in readability.
                              617 ; 25   |
                              618 ; 26   |
                              619 ; 27   |#include "messages.h"
                              620 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  11

M:ADDR CODE           CYCLES LINE SOURCELINE
                              622 
                              623 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                              624 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                              625 ; 3    |// Message defs
                              626 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                              627 ; 5    |
                              628 ; 6    |#if (!defined(MSGEQU_INC))
                              629 ; 7    |#define MSGEQU_INC 1
                              630 ; 8    |
                              631 ; 9    |
                              632 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                              633 ; 11   |
                              634 ; 12   |
                              635 ; 13   |#define MSG_TYPE_DECODER 0x000000
                              636 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                              637 ; 15   |#define MSG_TYPE_PARSER 0x020000
                              638 ; 16   |#define MSG_TYPE_LCD 0x030000
                              639 ; 17   |#define MSG_TYPE_MIXER 0x040000
                              640 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                              641 ; 19   |#define MSG_TYPE_MENU 0x060000
                              642 ; 20   |#define MSG_TYPE_LED 0x070000
                              643 ; 21   |#define MSG_TYPE_TUNER 0x080000
                              644 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                              645 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                              646 ; 24   |// Equalizer and other effects
                              647 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                              648 ; 26   |#if (defined(USE_PLAYLIST3))
                              649 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                              650 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                              651 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                              652 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                              653 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                              654 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                              655 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                              656 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                              657 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                              658 ; 36   |#if defined(USE_PLAYLIST5)
                              659 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                              660 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                              661 ; 39   |#endif // if @def('USE_PLAYLIST5')
                              662 ; 40   |
                              663 ; 41   |// Message Structure Offsets
                              664 ; 42   |#define MSG_Length 0
                              665 ; 43   |#define MSG_ID 1
                              666 ; 44   |#define MSG_Argument1 2
                              667 ; 45   |#define MSG_Argument2 3
                              668 ; 46   |#define MSG_Argument3 4
                              669 ; 47   |#define MSG_Argument4 5
                              670 ; 48   |#define MSG_Argument5 6
                              671 ; 49   |#define MSG_Argument6 7
                              672 ; 50   |
                              673 ; 51   |
                              674 ; 52   |
                              675 ; 53   |// LCD Message IDs
                              676 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                              677 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                              678 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                              679 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                              680 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                              681 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                              682 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                              683 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  12

M:ADDR CODE           CYCLES LINE SOURCELINE
                              684 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                              685 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                              686 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                              687 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                              688 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                              689 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                              690 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                              691 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                              692 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                              693 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                              694 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                              695 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                              696 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                              697 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                              698 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                              699 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                              700 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                              701 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                              702 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                              703 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                              704 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                              705 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                              706 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                              707 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                              708 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                              709 ; 87   |//send a NULL as Param1 to return to root frame buffer
                              710 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                              711 ; 89   |//Param1 = left
                              712 ; 90   |//Param2 = top
                              713 ; 91   |//Param3 = right
                              714 ; 92   |//Param4 = bottom
                              715 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                              716 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                              717 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                              718 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                              719 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                              720 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                              721 ; 99   |
                              722 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                              723 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                              724 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                              725 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                              726 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                              727 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                              728 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                              729 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                              730 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                              731 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                              732 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                              733 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                              734 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                              735 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                              736 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                              737 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                              738 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                              739 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                              740 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                              741 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                              742 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                              743 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                              744 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                              745 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  13

M:ADDR CODE           CYCLES LINE SOURCELINE
                              746 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                              747 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                              748 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                              749 ; 127  |
                              750 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                              751 ; 129  |
                              752 ; 130  |#if defined(CLCD_16BIT)
                              753 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                              754 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                              755 ; 133  |
                              756 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                              757 ; 135  |#else 
                              758 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                              759 ; 137  |#endif
                              760 ; 138  |
                              761 ; 139  |// If you change the LCD message ID's then you must
                              762 ; 140  |// also change the jump table in lcdapi.asm
                              763 ; 141  |
                              764 ; 142  |// Character LCD Message IDs
                              765 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                              766 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                              767 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                              768 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                              769 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                              770 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                              771 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                              772 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                              773 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                              774 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                              775 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                              776 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                              777 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                              778 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                              779 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                              780 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                              781 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                              782 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                              783 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                              784 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                              785 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                              786 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                              787 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                              788 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                              789 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                              790 ; 168  |// also change the jump table in lcdapi.asm
                              791 ; 169  |
                              792 ; 170  |// Decoder Message IDs
                              793 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                              794 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                              795 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                              796 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                              797 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                              798 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                              799 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                              800 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                              801 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                              802 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                              803 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                              804 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                              805 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                              806 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                              807 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  14

M:ADDR CODE           CYCLES LINE SOURCELINE
                              808 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                              809 ; 187  |// If you change the Decoder message ID's, then you must
                              810 ; 188  |// also change the jump table in decoder_overlay.asm
                              811 ; 189  |// and in dec_adpcm_overlay.asm.
                              812 ; 190  |
                              813 ; 191  |// Encoder Message IDs
                              814 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                              815 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                              816 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                              817 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                              818 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                              819 ; 197  |// If you change the Encoder message ID's, then you must
                              820 ; 198  |// also change the jump table in all encoder overlay modules.
                              821 ; 199  |
                              822 ; 200  |// Parser Message IDs
                              823 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                              824 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                              825 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                              826 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                              827 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                              828 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                              829 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                              830 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                              831 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                              832 ; 210  |// If you change the Parser message ID's, then you must
                              833 ; 211  |// also change the jump table in parser.asm
                              834 ; 212  |
                              835 ; 213  |// Button Message IDs
                              836 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                              837 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                              838 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                              839 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                              840 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                              841 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                              842 ; 220  |
                              843 ; 221  |// Mixer Message IDs
                              844 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                              845 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                              846 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                              847 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                              848 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                              849 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                              850 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                              851 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                              852 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                              853 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                              854 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                              855 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                              856 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                              857 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                              858 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                              859 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                              860 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                              861 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                              862 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                              863 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                              864 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                              865 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                              866 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                              867 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                              868 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                              869 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  15

M:ADDR CODE           CYCLES LINE SOURCELINE
                              870 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                              871 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                              872 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                              873 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                              874 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                              875 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                              876 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                              877 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                              878 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                              879 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                              880 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                              881 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                              882 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                              883 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                              884 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                              885 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                              886 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                              887 ; 265  |// If you change the mixer message ID's then you must
                              888 ; 266  |// also change the jump table in mixer.asm
                              889 ; 267  |#define MIXER_ON 0
                              890 ; 268  |#define MIXER_OFF 1
                              891 ; 269  |
                              892 ; 270  |
                              893 ; 271  |// System Message IDs
                              894 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                              895 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                              896 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                              897 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                              898 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                              899 ; 277  |// If you change the system message ID's then you must
                              900 ; 278  |// also change the jump table in systemapi.asm
                              901 ; 279  |
                              902 ; 280  |// Menu IDs
                              903 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                              904 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                              905 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                              906 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                              907 ; 285  |//sub parameters for this message:
                              908 ; 286  |#define RECORDER_START 0
                              909 ; 287  |#define RECORDER_PAUSE 0x2000
                              910 ; 288  |#define RECORDER_RESUME 0x4000
                              911 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                              912 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                              913 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                              914 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                              915 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                              916 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                              917 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                              918 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                              919 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                              920 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                              921 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                              922 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                              923 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                              924 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                              925 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                              926 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                              927 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                              928 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                              929 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                              930 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                              931 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  16

M:ADDR CODE           CYCLES LINE SOURCELINE
                              932 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                              933 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                              934 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                              935 ; 313  |
                              936 ; 314  |// Note that other versions of this file have different msg equates.
                              937 ; 315  |// If you change the system message ID's then you must
                              938 ; 316  |// also change the jump table in all menu *.asm
                              939 ; 317  |
                              940 ; 318  |// LED Message IDs
                              941 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                              942 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                              943 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                              944 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                              945 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                              946 ; 324  |// If you change the LeD message ID's then you must
                              947 ; 325  |// also change the jump table in ledapi.asm
                              948 ; 326  |
                              949 ; 327  |#if (!defined(REMOVE_FM))
                              950 ; 328  |// FM Tuner Message IDs
                              951 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                              952 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                              953 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                              954 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                              955 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                              956 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                              957 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                              958 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                              959 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                              960 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                              961 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                              962 ; 340  |//one parameter--the sensitivity in uV
                              963 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                              964 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                              965 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                              966 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                              967 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                              968 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                              969 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                              970 ; 348  |#endif
                              971 ; 349  |
                              972 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                              973 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                              974 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                              975 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                              976 ; 354  |
                              977 ; 355  |
                              978 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                              979 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                              980 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                              981 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                              982 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                              983 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                              984 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                              985 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                              986 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                              987 ; 365  |
                              988 ; 366  |#if (defined(USE_PLAYLIST3))
                              989 ; 367  |// Music Library
                              990 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                              991 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                              992 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                              993 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  17

M:ADDR CODE           CYCLES LINE SOURCELINE
                              994 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                              995 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                              996 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                              997 ; 375  |
                              998 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                              999 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                             1000 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                             1001 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                             1002 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                             1003 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                             1004 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                             1005 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                             1006 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                             1007 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                             1008 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                             1009 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                             1010 ; 388  |
                             1011 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             1012 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             1013 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             1014 ; 392  |
                             1015 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             1016 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             1017 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             1018 ; 396  |
                             1019 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             1020 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                             1021 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             1022 ; 400  |
                             1023 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                             1024 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                             1025 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                             1026 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                             1027 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                             1028 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                             1029 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                             1030 ; 408  |
                             1031 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             1032 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             1033 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             1034 ; 412  |
                             1035 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                             1036 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                             1037 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                             1038 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                             1039 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                             1040 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                             1041 ; 419  |
                             1042 ; 420  |#if defined(USE_PLAYLIST5)
                             1043 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                             1044 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                             1045 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                             1046 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                             1047 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                             1048 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                             1049 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                             1050 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                             1051 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                             1052 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                             1053 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                             1054 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                             1055 ; 433  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  18

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1056 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                             1057 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                             1058 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                             1059 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                             1060 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                             1061 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                             1062 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                             1063 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                             1064 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                             1065 ; 443  |#endif // if @def('USE_PLAYLIST5')
                             1066 ; 444  |// Events
                             1067 ; 445  |// No event
                             1068 ; 446  |#define EVENT_NONE 0x000001   
                             1069 ; 447  |// A message has been posted
                             1070 ; 448  |#define EVENT_MESSAGE 0x000002   
                             1071 ; 449  |// Run if wait time elapsed
                             1072 ; 450  |#define EVENT_TIMER 0x000004   
                             1073 ; 451  |// Run if a button event occured
                             1074 ; 452  |#define EVENT_BUTTON 0x000008   
                             1075 ; 453  |// Run if a background event occured
                             1076 ; 454  |#define EVENT_BACKGROUND 0x000010   
                             1077 ; 455  |// The executive should immediately repeat this module
                             1078 ; 456  |#define EVENT_REPEAT 0x000020   
                             1079 ; 457  |// Run the module's init routine
                             1080 ; 458  |#define EVENT_INIT 0x800000   
                             1081 ; 459  |
                             1082 ; 460  |#define EVENT_NONE_BITPOS 0
                             1083 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                             1084 ; 462  |#define EVENT_TIMER_BITPOS 2
                             1085 ; 463  |#define EVENT_BUTTON_BITPOS 3
                             1086 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                             1087 ; 465  |#define EVENT_REPEAT_BITPOS 5
                             1088 ; 466  |#define EVENT_INIT_BITPOS 23
                             1089 ; 467  |
                             1090 ; 468  |// Parser Message Buffers
                             1091 ; 469  |#define ParserPlayBit 0
                             1092 ; 470  |#define ButtonPressBit 1
                             1093 ; 471  |#define ParserRwndBit 1
                             1094 ; 472  |#define ParserFfwdBit 2
                             1095 ; 473  |
                             1096 ; 474  |//NextSong Message Parameters
                             1097 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                             1098 ; 476  |#define NEXT_SONG 2             
                             1099 ; 477  |// ButtonPressBit1 cleared
                             1100 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                             1101 ; 479  |// ButtonPressBit1 set
                             1102 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                             1103 ; 481  |// NextSong + Ffwd
                             1104 ; 482  |#define NEXT_SONG_FFWD 4          
                             1105 ; 483  |
                             1106 ; 484  |//PrevSong Message Parameters
                             1107 ; 485  |// PrevSong + Stopped
                             1108 ; 486  |#define PREV_SONG 0          
                             1109 ; 487  |// PrevSong + Play
                             1110 ; 488  |#define PREV_SONG_PLAY 1          
                             1111 ; 489  |// PrevSong + Rwnd
                             1112 ; 490  |#define PREV_SONG_RWND 2          
                             1113 ; 491  |
                             1114 ; 492  |
                             1115 ; 493  |
                             1116 ; 494  |
                             1117 ; 495  |#endif // IF (!@def(MSGEQU_INC))
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  19

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1118 ; 496  |
                             1119 ; 497  |
                             1120 
                             1122 
                             1123 ; 28   |
                             1124 ; 29   |#endif 
                             1125 
                             1127 
                             1128 ; 10   |#include "messages.h"
                             1129 
                             1131 
                             1132 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             1133 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                             1134 ; 3    |// Message defs
                             1135 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                             1136 ; 5    |
                             1137 ; 6    |#if (!defined(MSGEQU_INC))
                             1138 ; 7    |#define MSGEQU_INC 1
                             1139 ; 8    |
                             1140 ; 9    |
                             1141 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                             1142 ; 11   |
                             1143 ; 12   |
                             1144 ; 13   |#define MSG_TYPE_DECODER 0x000000
                             1145 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                             1146 ; 15   |#define MSG_TYPE_PARSER 0x020000
                             1147 ; 16   |#define MSG_TYPE_LCD 0x030000
                             1148 ; 17   |#define MSG_TYPE_MIXER 0x040000
                             1149 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                             1150 ; 19   |#define MSG_TYPE_MENU 0x060000
                             1151 ; 20   |#define MSG_TYPE_LED 0x070000
                             1152 ; 21   |#define MSG_TYPE_TUNER 0x080000
                             1153 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                             1154 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                             1155 ; 24   |// Equalizer and other effects
                             1156 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                             1157 ; 26   |#if (defined(USE_PLAYLIST3))
                             1158 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                             1159 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                             1160 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                             1161 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                             1162 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                             1163 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                             1164 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                             1165 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                             1166 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                             1167 ; 36   |#if defined(USE_PLAYLIST5)
                             1168 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                             1169 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                             1170 ; 39   |#endif // if @def('USE_PLAYLIST5')
                             1171 ; 40   |
                             1172 ; 41   |// Message Structure Offsets
                             1173 ; 42   |#define MSG_Length 0
                             1174 ; 43   |#define MSG_ID 1
                             1175 ; 44   |#define MSG_Argument1 2
                             1176 ; 45   |#define MSG_Argument2 3
                             1177 ; 46   |#define MSG_Argument3 4
                             1178 ; 47   |#define MSG_Argument4 5
                             1179 ; 48   |#define MSG_Argument5 6
                             1180 ; 49   |#define MSG_Argument6 7
                             1181 ; 50   |
                             1182 ; 51   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  20

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1183 ; 52   |
                             1184 ; 53   |// LCD Message IDs
                             1185 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                             1186 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                             1187 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                             1188 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                             1189 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                             1190 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                             1191 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                             1192 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                             1193 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                             1194 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                             1195 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                             1196 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                             1197 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                             1198 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                             1199 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                             1200 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                             1201 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                             1202 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                             1203 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                             1204 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                             1205 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                             1206 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                             1207 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                             1208 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                             1209 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                             1210 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                             1211 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                             1212 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                             1213 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                             1214 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                             1215 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                             1216 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                             1217 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                             1218 ; 87   |//send a NULL as Param1 to return to root frame buffer
                             1219 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                             1220 ; 89   |//Param1 = left
                             1221 ; 90   |//Param2 = top
                             1222 ; 91   |//Param3 = right
                             1223 ; 92   |//Param4 = bottom
                             1224 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                             1225 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                             1226 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                             1227 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                             1228 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                             1229 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                             1230 ; 99   |
                             1231 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                             1232 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                             1233 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                             1234 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                             1235 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                             1236 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                             1237 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                             1238 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                             1239 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                             1240 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                             1241 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                             1242 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                             1243 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                             1244 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  21

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1245 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                             1246 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                             1247 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                             1248 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                             1249 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                             1250 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                             1251 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                             1252 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                             1253 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                             1254 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                             1255 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                             1256 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                             1257 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                             1258 ; 127  |
                             1259 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                             1260 ; 129  |
                             1261 ; 130  |#if defined(CLCD_16BIT)
                             1262 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                             1263 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                             1264 ; 133  |
                             1265 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                             1266 ; 135  |#else 
                             1267 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                             1268 ; 137  |#endif
                             1269 ; 138  |
                             1270 ; 139  |// If you change the LCD message ID's then you must
                             1271 ; 140  |// also change the jump table in lcdapi.asm
                             1272 ; 141  |
                             1273 ; 142  |// Character LCD Message IDs
                             1274 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                             1275 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                             1276 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                             1277 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                             1278 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                             1279 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                             1280 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                             1281 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                             1282 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                             1283 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                             1284 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                             1285 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                             1286 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                             1287 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                             1288 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                             1289 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                             1290 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                             1291 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                             1292 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                             1293 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                             1294 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                             1295 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                             1296 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                             1297 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                             1298 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                             1299 ; 168  |// also change the jump table in lcdapi.asm
                             1300 ; 169  |
                             1301 ; 170  |// Decoder Message IDs
                             1302 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                             1303 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                             1304 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                             1305 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                             1306 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  22

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1307 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                             1308 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                             1309 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                             1310 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                             1311 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                             1312 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                             1313 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                             1314 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                             1315 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                             1316 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                             1317 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                             1318 ; 187  |// If you change the Decoder message ID's, then you must
                             1319 ; 188  |// also change the jump table in decoder_overlay.asm
                             1320 ; 189  |// and in dec_adpcm_overlay.asm.
                             1321 ; 190  |
                             1322 ; 191  |// Encoder Message IDs
                             1323 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                             1324 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                             1325 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                             1326 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                             1327 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                             1328 ; 197  |// If you change the Encoder message ID's, then you must
                             1329 ; 198  |// also change the jump table in all encoder overlay modules.
                             1330 ; 199  |
                             1331 ; 200  |// Parser Message IDs
                             1332 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                             1333 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                             1334 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                             1335 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                             1336 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                             1337 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                             1338 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                             1339 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                             1340 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                             1341 ; 210  |// If you change the Parser message ID's, then you must
                             1342 ; 211  |// also change the jump table in parser.asm
                             1343 ; 212  |
                             1344 ; 213  |// Button Message IDs
                             1345 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                             1346 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                             1347 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                             1348 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                             1349 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                             1350 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                             1351 ; 220  |
                             1352 ; 221  |// Mixer Message IDs
                             1353 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                             1354 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                             1355 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                             1356 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                             1357 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                             1358 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                             1359 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                             1360 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                             1361 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                             1362 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                             1363 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                             1364 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                             1365 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                             1366 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                             1367 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                             1368 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  23

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1369 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                             1370 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                             1371 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                             1372 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                             1373 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                             1374 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                             1375 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                             1376 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                             1377 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                             1378 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                             1379 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                             1380 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                             1381 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                             1382 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                             1383 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                             1384 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                             1385 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                             1386 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                             1387 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                             1388 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                             1389 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                             1390 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                             1391 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                             1392 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                             1393 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                             1394 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                             1395 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                             1396 ; 265  |// If you change the mixer message ID's then you must
                             1397 ; 266  |// also change the jump table in mixer.asm
                             1398 ; 267  |#define MIXER_ON 0
                             1399 ; 268  |#define MIXER_OFF 1
                             1400 ; 269  |
                             1401 ; 270  |
                             1402 ; 271  |// System Message IDs
                             1403 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                             1404 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                             1405 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                             1406 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                             1407 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                             1408 ; 277  |// If you change the system message ID's then you must
                             1409 ; 278  |// also change the jump table in systemapi.asm
                             1410 ; 279  |
                             1411 ; 280  |// Menu IDs
                             1412 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                             1413 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                             1414 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                             1415 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                             1416 ; 285  |//sub parameters for this message:
                             1417 ; 286  |#define RECORDER_START 0
                             1418 ; 287  |#define RECORDER_PAUSE 0x2000
                             1419 ; 288  |#define RECORDER_RESUME 0x4000
                             1420 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                             1421 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                             1422 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                             1423 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                             1424 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                             1425 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                             1426 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                             1427 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                             1428 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                             1429 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                             1430 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  24

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1431 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                             1432 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                             1433 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                             1434 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                             1435 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                             1436 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                             1437 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                             1438 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                             1439 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                             1440 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                             1441 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                             1442 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                             1443 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                             1444 ; 313  |
                             1445 ; 314  |// Note that other versions of this file have different msg equates.
                             1446 ; 315  |// If you change the system message ID's then you must
                             1447 ; 316  |// also change the jump table in all menu *.asm
                             1448 ; 317  |
                             1449 ; 318  |// LED Message IDs
                             1450 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                             1451 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                             1452 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                             1453 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                             1454 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                             1455 ; 324  |// If you change the LeD message ID's then you must
                             1456 ; 325  |// also change the jump table in ledapi.asm
                             1457 ; 326  |
                             1458 ; 327  |#if (!defined(REMOVE_FM))
                             1459 ; 328  |// FM Tuner Message IDs
                             1460 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                             1461 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                             1462 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                             1463 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                             1464 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                             1465 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                             1466 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                             1467 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                             1468 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                             1469 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                             1470 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                             1471 ; 340  |//one parameter--the sensitivity in uV
                             1472 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                             1473 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                             1474 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                             1475 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                             1476 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                             1477 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                             1478 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                             1479 ; 348  |#endif
                             1480 ; 349  |
                             1481 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                             1482 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                             1483 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                             1484 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                             1485 ; 354  |
                             1486 ; 355  |
                             1487 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                             1488 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                             1489 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                             1490 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                             1491 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                             1492 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  25

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1493 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                             1494 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                             1495 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                             1496 ; 365  |
                             1497 ; 366  |#if (defined(USE_PLAYLIST3))
                             1498 ; 367  |// Music Library
                             1499 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                             1500 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                             1501 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                             1502 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                             1503 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                             1504 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                             1505 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                             1506 ; 375  |
                             1507 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                             1508 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                             1509 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                             1510 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                             1511 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                             1512 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                             1513 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                             1514 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                             1515 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                             1516 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                             1517 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                             1518 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                             1519 ; 388  |
                             1520 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             1521 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             1522 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             1523 ; 392  |
                             1524 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             1525 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             1526 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             1527 ; 396  |
                             1528 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             1529 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                             1530 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             1531 ; 400  |
                             1532 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                             1533 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                             1534 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                             1535 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                             1536 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                             1537 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                             1538 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                             1539 ; 408  |
                             1540 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             1541 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             1542 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             1543 ; 412  |
                             1544 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                             1545 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                             1546 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                             1547 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                             1548 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                             1549 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                             1550 ; 419  |
                             1551 ; 420  |#if defined(USE_PLAYLIST5)
                             1552 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                             1553 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                             1554 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  26

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1555 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                             1556 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                             1557 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                             1558 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                             1559 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                             1560 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                             1561 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                             1562 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                             1563 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                             1564 ; 433  |
                             1565 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                             1566 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                             1567 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                             1568 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                             1569 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                             1570 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                             1571 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                             1572 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                             1573 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                             1574 ; 443  |#endif // if @def('USE_PLAYLIST5')
                             1575 ; 444  |// Events
                             1576 ; 445  |// No event
                             1577 ; 446  |#define EVENT_NONE 0x000001   
                             1578 ; 447  |// A message has been posted
                             1579 ; 448  |#define EVENT_MESSAGE 0x000002   
                             1580 ; 449  |// Run if wait time elapsed
                             1581 ; 450  |#define EVENT_TIMER 0x000004   
                             1582 ; 451  |// Run if a button event occured
                             1583 ; 452  |#define EVENT_BUTTON 0x000008   
                             1584 ; 453  |// Run if a background event occured
                             1585 ; 454  |#define EVENT_BACKGROUND 0x000010   
                             1586 ; 455  |// The executive should immediately repeat this module
                             1587 ; 456  |#define EVENT_REPEAT 0x000020   
                             1588 ; 457  |// Run the module's init routine
                             1589 ; 458  |#define EVENT_INIT 0x800000   
                             1590 ; 459  |
                             1591 ; 460  |#define EVENT_NONE_BITPOS 0
                             1592 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                             1593 ; 462  |#define EVENT_TIMER_BITPOS 2
                             1594 ; 463  |#define EVENT_BUTTON_BITPOS 3
                             1595 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                             1596 ; 465  |#define EVENT_REPEAT_BITPOS 5
                             1597 ; 466  |#define EVENT_INIT_BITPOS 23
                             1598 ; 467  |
                             1599 ; 468  |// Parser Message Buffers
                             1600 ; 469  |#define ParserPlayBit 0
                             1601 ; 470  |#define ButtonPressBit 1
                             1602 ; 471  |#define ParserRwndBit 1
                             1603 ; 472  |#define ParserFfwdBit 2
                             1604 ; 473  |
                             1605 ; 474  |//NextSong Message Parameters
                             1606 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                             1607 ; 476  |#define NEXT_SONG 2             
                             1608 ; 477  |// ButtonPressBit1 cleared
                             1609 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                             1610 ; 479  |// ButtonPressBit1 set
                             1611 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                             1612 ; 481  |// NextSong + Ffwd
                             1613 ; 482  |#define NEXT_SONG_FFWD 4          
                             1614 ; 483  |
                             1615 ; 484  |//PrevSong Message Parameters
                             1616 ; 485  |// PrevSong + Stopped
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  27

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1617 ; 486  |#define PREV_SONG 0          
                             1618 ; 487  |// PrevSong + Play
                             1619 ; 488  |#define PREV_SONG_PLAY 1          
                             1620 ; 489  |// PrevSong + Rwnd
                             1621 ; 490  |#define PREV_SONG_RWND 2          
                             1622 ; 491  |
                             1623 ; 492  |
                             1624 ; 493  |
                             1625 ; 494  |
                             1626 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                             1627 ; 496  |
                             1628 ; 497  |
                             1629 
                             1631 
                             1632 ; 11   |#include "resource.h"
                             1633 
                             1635 
                             1636 ; 1    |//  NOTE: This file was generated automatically by rscrenum.pl
                             1637 ; 2    |//  Do not edit it directly.
                             1638 ; 3    |//  Created on Sat Jun 28 16:37:44 2008 using resource.inc as input.
                             1639 ; 4    |
                             1640 ; 5    |
                             1641 ; 6    |
                             1642 ; 7    |//  NOTE: This file was generated automatically by rscrenum.pl
                             1643 ; 8    |//  Do not edit it directly.
                             1644 ; 9    |//  Created on Sat Jun 28 16:13:49 2008 using resource.inc as input.
                             1645 ; 10   |
                             1646 ; 11   |
                             1647 ; 12   |
                             1648 ; 13   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1649 ; 14   |//  Do not edit it directly.
                             1650 ; 15   |//  Created on Sat Jun 28 15:55:53 2008 using resource.inc as input.
                             1651 ; 16   |
                             1652 ; 17   |
                             1653 ; 18   |
                             1654 ; 19   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1655 ; 20   |//  Do not edit it directly.
                             1656 ; 21   |//  Created on Thu Jun 26 08:58:05 2008 using resource.inc as input.
                             1657 ; 22   |
                             1658 ; 23   |
                             1659 ; 24   |
                             1660 ; 25   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1661 ; 26   |//  Do not edit it directly.
                             1662 ; 27   |//  Created on Wed Jun 25 17:00:35 2008 using resource.inc as input.
                             1663 ; 28   |
                             1664 ; 29   |
                             1665 ; 30   |
                             1666 ; 31   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1667 ; 32   |//  Do not edit it directly.
                             1668 ; 33   |//  Created on Wed Jun 25 11:42:38 2008 using resource.inc as input.
                             1669 ; 34   |
                             1670 ; 35   |
                             1671 ; 36   |
                             1672 ; 37   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1673 ; 38   |//  Do not edit it directly.
                             1674 ; 39   |//  Created on Wed Jun 25 11:17:50 2008 using resource.inc as input.
                             1675 ; 40   |
                             1676 ; 41   |
                             1677 ; 42   |
                             1678 ; 43   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1679 ; 44   |//  Do not edit it directly.
                             1680 ; 45   |//  Created on Wed Jun 25 11:17:05 2008 using resource.inc as input.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  28

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1681 ; 46   |
                             1682 ; 47   |
                             1683 ; 48   |
                             1684 ; 49   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1685 ; 50   |//  Do not edit it directly.
                             1686 ; 51   |//  Created on Tue Jun 24 15:21:11 2008 using resource.inc as input.
                             1687 ; 52   |
                             1688 ; 53   |
                             1689 ; 54   |
                             1690 ; 55   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1691 ; 56   |//  Do not edit it directly.
                             1692 ; 57   |//  Created on Sun Jun 22 02:54:01 2008 using resource.inc as input.
                             1693 ; 58   |
                             1694 ; 59   |
                             1695 ; 60   |
                             1696 ; 61   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1697 ; 62   |//  Do not edit it directly.
                             1698 ; 63   |//  Created on Sun Jun 22 00:47:39 2008 using resource.inc as input.
                             1699 ; 64   |
                             1700 ; 65   |
                             1701 ; 66   |
                             1702 ; 67   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1703 ; 68   |//  Do not edit it directly.
                             1704 ; 69   |//  Created on Fri Jun 20 16:15:57 2008 using resource.inc as input.
                             1705 ; 70   |
                             1706 ; 71   |
                             1707 ; 72   |
                             1708 ; 73   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1709 ; 74   |//  Do not edit it directly.
                             1710 ; 75   |//  Created on Thu Jun 19 09:47:30 2008 using resource.inc as input.
                             1711 ; 76   |
                             1712 ; 77   |
                             1713 ; 78   |
                             1714 ; 79   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1715 ; 80   |//  Do not edit it directly.
                             1716 ; 81   |//  Created on Wed Jun 18 23:11:16 2008 using resource.inc as input.
                             1717 ; 82   |
                             1718 ; 83   |
                             1719 ; 84   |
                             1720 ; 85   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1721 ; 86   |//  Do not edit it directly.
                             1722 ; 87   |//  Created on Wed Jun 18 22:57:19 2008 using resource.inc as input.
                             1723 ; 88   |
                             1724 ; 89   |
                             1725 ; 90   |
                             1726 ; 91   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1727 ; 92   |//  Do not edit it directly.
                             1728 ; 93   |//  Created on Wed Jun 18 22:49:16 2008 using resource.inc as input.
                             1729 ; 94   |
                             1730 ; 95   |
                             1731 ; 96   |
                             1732 ; 97   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1733 ; 98   |//  Do not edit it directly.
                             1734 ; 99   |//  Created on Wed Jun 18 11:53:38 2008 using resource.inc as input.
                             1735 ; 100  |
                             1736 ; 101  |
                             1737 ; 102  |
                             1738 ; 103  |//  NOTE: This file was generated automatically by rscrenum.pl
                             1739 ; 104  |//  Do not edit it directly.
                             1740 ; 105  |//  Created on Wed Jun 18 10:45:13 2008 using resource.inc as input.
                             1741 ; 106  |
                             1742 ; 107  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  29

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1743 ; 108  |
                             1744 ; 109  |//  NOTE: This file was generated automatically by rscrenum.pl
                             1745 ; 110  |//  Do not edit it directly.
                             1746 ; 111  |//  Created on Wed Jun 18 09:54:56 2008 using resource.inc as input.
                             1747 ; 112  |
                             1748 ; 113  |
                             1749 ; 114  |
                             1750 ; 115  |//  NOTE: This file was generated automatically by rscrenum.pl
                             1751 ; 116  |//  Do not edit it directly.
                             1752 ; 117  |//  Created on Tue Jun 17 16:47:21 2008 using resource.inc as input.
                             1753 ; 118  |
                             1754 ; 119  |
                             1755 ; 120  |
                             1756 ; 121  |//  NOTE: This file was generated automatically by rscrenum.pl
                             1757 ; 122  |//  Do not edit it directly.
                             1758 ; 123  |//  Created on Tue Jun 17 11:30:49 2008 using resource.inc as input.
                             1759 ; 124  |
                             1760 ; 125  |
                             1761 ; 126  |
                             1762 ; 127  |/////////////////////////////////////////////////////////////////////////////////
                             1763 ; 128  |// Copyright(C) SigmaTel, Inc. 2001-2007
                             1764 ; 129  |// Reviews: DanhNguyen (06-2008) for X8iTF/STFM1000
                             1765 ; 130  |// LCD example resource listing
                             1766 ; 131  |/////////////////////////////////////////////////////////////////////////////////
                             1767 ; 132  |
                             1768 ; 133  |#if (!defined(resources))
                             1769 ; 134  |#define resources 1
                             1770 ; 135  |
                             1771 ; 136  |/////////////////////////////////////////////////////////////////////////////////
                             1772 ; 137  |//  Player version number  no leading zeros in version number!!!!!
                             1773 ; 138  |/////////////////////////////////////////////////////////////////////////////////
                             1774 ; 139  |
                             1775 ; 140  |#define VERSION_MAJOR 3
                             1776 ; 141  |#define VERSION_MIDDLE 200
                             1777 ; 142  |#define VERSION_MINOR 910
                             1778 ; 143  |
                             1779 ; 144  |#define LCD_SEG_OFFSET 0x000000
                             1780 ; 145  |#define NUMBER_OF_PRESETS 10
                             1781 ; 146  |
                             1782 ; 147  |
                             1783 ; 148  |/////////////////////////////////////////////////////////////////////////////////
                             1784 ; 149  |//  High usage resource. These have been moved here to take maximum advantage of
                             1785 ; 150  |//  the resource index cache if it was added.
                             1786 ; 151  |//  This block is sorted by frequency of use while loading a new song.
                             1787 ; 152  |/////////////////////////////////////////////////////////////////////////////////
                             1788 ; 153  |
                             1789 ; 154  |//$FILENAME searchdirectory.src
                             1790 ; 155  |#define RSRC_FUNCLET_SEARCHDIRECTORY 1    
                             1791 ; 156  |//$FILENAME shortdirmatch.src
                             1792 ; 157  |#define RSRC_FUNCLET_SHORTDIRMATCH 2    
                             1793 ; 158  |//$FILENAME fopen.src
                             1794 ; 159  |#define RSRC_FUNCLET_FOPEN 3    
                             1795 ; 160  |//$FILENAME musicmenu.src
                             1796 ; 161  |#define RSRC_MUSIC_MENU_CODE_BANK 4    
                             1797 ; 162  |//$FILENAME changepath.src
                             1798 ; 163  |#define RSRC_FUNCLET_CHANGEPATH 5    
                             1799 ; 164  |//$FILENAME _openandverifyslot.src
                             1800 ; 165  |#define RSRC_FUNCLET__OPENANDVERIFYSLOT 6    
                             1801 ; 166  |//$FILENAME _loadslot.src
                             1802 ; 167  |#define RSRC_FUNCLET__LOADSLOT 7    
                             1803 ; 168  |//$FILENAME getname.src
                             1804 ; 169  |#define RSRC_FUNCLET_GETNAME 8    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  30

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1805 ; 170  |//$FILENAME Funclet_SteppingVoltageSet.src
                             1806 ; 171  |#define RSRC_FUNCLET_STEPPINGVOLTAGESET 9    
                             1807 ; 172  |//$FILENAME sethandleforsearch.src
                             1808 ; 173  |#define RSRC_FUNCLET_SETHANDLEFORSEARCH 10    
                             1809 ; 174  |//$FILENAME wmaWrap.src
                             1810 ; 175  |#define RSRC_WMADEC_CODE 11    
                             1811 ; 176  |//$FILENAME extractfilename.src
                             1812 ; 177  |#define RSRC_FUNCLET_EXTRACTFILENAME 12    
                             1813 ; 178  |//$FILENAME oem_getgroupcertprivatekey.src
                             1814 ; 179  |#define RSRC_FUNCLET_OEM_GETGROUPCERTPRIVATEKEY 13    
                             1815 ; 180  |//$FILENAME SoftTimerMod.src
                             1816 ; 181  |#define RSRC_SOFT_TIMER_MODULE_CODE 14    
                             1817 ; 182  |//$FILENAME GetShortfilename.src
                             1818 ; 183  |#define RSRC_FUNCLET_GETSHORTFILENAME 15    
                             1819 ; 184  |//$FILENAME drm_dcp_loadpropertiescache.src
                             1820 ; 185  |#define RSRC_FUNCLET_DRM_DCP_LOADPROPERTIESCACHE 16    
                             1821 ; 186  |//$FILENAME playerstatemachine.src
                             1822 ; 187  |#define RSRC_PLAY_STATE_MACHINE_CODE_BANK 17    
                             1823 ; 188  |//$FILENAME SysMod.src
                             1824 ; 189  |#define RSRC_SYSMOD_CODE 18    
                             1825 ; 190  |//$FILENAME drm_b64_decodew.src
                             1826 ; 191  |#define RSRC_FUNCLET_DRM_B64_DECODEW 19    
                             1827 ; 192  |//$FILENAME discardtrailigperiods.src
                             1828 ; 193  |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODS 20    
                             1829 ; 194  |//$FILENAME uppercase.src
                             1830 ; 195  |#define RSRC_FUNCLET_UPPERCASE 21    
                             1831 ; 196  |//$FILENAME strlength.src
                             1832 ; 197  |#define RSRC_FUNCLET_STRLENGTH 22    
                             1833 ; 198  |//$FILENAME ConverToShortname.src
                             1834 ; 199  |#define RSRC_FUNCLET_CONVERTOSHORTNAME 23    
                             1835 ; 200  |//$FILENAME drm_bbx_hashvalue.src
                             1836 ; 201  |#define RSRC_FUNCLET_DRM_BBX_HASHVALUE 24    
                             1837 ; 202  |//$FILENAME drm_expr_evaluateexpression.src
                             1838 ; 203  |#define RSRC_FUNCLET_DRM_EXPR_EVALUATEEXPRESSION 25    
                             1839 ; 204  |//$FILENAME drm_sst_closekey.src
                             1840 ; 205  |#define RSRC_FUNCLET_DRM_SST_CLOSEKEY 26    
                             1841 ; 206  |//$FILENAME Funclet_SysSetSpeed.src
                             1842 ; 207  |#define RSRC_FUNCLET_SYSSETSPEED 27    
                             1843 ; 208  |//$FILENAME freehandle.src
                             1844 ; 209  |#define RSRC_FUNCLET_FREEHANDLE 28    
                             1845 ; 210  |//$FILENAME searchfreehandleallocate.src
                             1846 ; 211  |#define RSRC_FUNCLET_SEARCHFREEHANDLEALLOCATE 29    
                             1847 ; 212  |//$FILENAME _parselicenseattributes.src
                             1848 ; 213  |#define RSRC_FUNCLET__PARSELICENSEATTRIBUTES 30    
                             1849 ; 214  |//$FILENAME variablesecstategetorset.src
                             1850 ; 215  |#define RSRC_FUNCLET_VARIABLESECSTATEGETORSET 31    
                             1851 ; 216  |//$FILENAME _setuplicevalobjecttoshare.src
                             1852 ; 217  |#define RSRC_FUNCLET__SETUPLICEVALOBJECTTOSHARE 32    
                             1853 ; 218  |//$FILENAME drm_mgr_initialize.src
                             1854 ; 219  |#define RSRC_FUNCLET_DRM_MGR_INITIALIZE 33    
                             1855 ; 220  |//$FILENAME display.src
                             1856 ; 221  |#define RSRC_DISPLAY_CODE_BANK 34    
                             1857 ; 222  |//$FILENAME DisplayModule.src
                             1858 ; 223  |#define RSRC_DISPLAY_MODULE 35    
                             1859 ; 224  |//$FILENAME extractpath.src
                             1860 ; 225  |#define RSRC_FUNCLET_EXTRACTPATH 36    
                             1861 ; 226  |//$FILENAME drm_sst_createglobalstorepassword.src
                             1862 ; 227  |#define RSRC_FUNCLET_DRM_SST_CREATEGLOBALSTOREPASSWORD 37    
                             1863 ; 228  |//$FILENAME _getprivatekey.src
                             1864 ; 229  |#define RSRC_FUNCLET__GETPRIVATEKEY 38    
                             1865 ; 230  |//$FILENAME drm_hds_opennamespace.src
                             1866 ; 231  |#define RSRC_FUNCLET_DRM_HDS_OPENNAMESPACE 39    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  31

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1867 ; 232  |//$FILENAME drm_hds_openslot.src
                             1868 ; 233  |#define RSRC_FUNCLET_DRM_HDS_OPENSLOT 40    
                             1869 ; 234  |//$FILENAME fclose.src
                             1870 ; 235  |#define RSRC_FUNCLET_FCLOSE 41    
                             1871 ; 236  |//$FILENAME drm_cphr_init.src
                             1872 ; 237  |#define RSRC_FUNCLET_DRM_CPHR_INIT 42    
                             1873 ; 238  |//$FILENAME drm_pk_symmetriccrypt.src
                             1874 ; 239  |#define RSRC_FUNCLET_DRM_PK_SYMMETRICCRYPT 43    
                             1875 ; 240  |//$FILENAME drm_mgr_bind.src
                             1876 ; 241  |#define RSRC_FUNCLET_DRM_MGR_BIND 44    
                             1877 ; 242  |//$FILENAME _decryptcontentkey.src
                             1878 ; 243  |#define RSRC_FUNCLET__DECRYPTCONTENTKEY 45    
                             1879 ; 244  |//$FILENAME drm_mac_inv32.src
                             1880 ; 245  |#define RSRC_FUNCLET_DRM_MAC_INV32 46    
                             1881 ; 246  |//$FILENAME drm_lic_getattribute.src
                             1882 ; 247  |#define RSRC_FUNCLET_DRM_LIC_GETATTRIBUTE 47    
                             1883 ; 248  |//$FILENAME drm_utl_getversionasstring.src
                             1884 ; 249  |#define RSRC_FUNCLET_DRM_UTL_GETVERSIONASSTRING 48    
                             1885 ; 250  |//$FILENAME drm_dcp_getattribute.src
                             1886 ; 251  |#define RSRC_FUNCLET_DRM_DCP_GETATTRIBUTE 49    
                             1887 ; 252  |//$FILENAME effectsmodules.src
                             1888 ; 253  |#define RSRC_EFFECTS_MODULES_P 50    
                             1889 ; 254  |//$FILENAME janusx.src
                             1890 ; 255  |#define RSRC_JANUSX_CODE 51    
                             1891 ; 256  |//$FILENAME drm_sst_openkeytokens.src
                             1892 ; 257  |#define RSRC_FUNCLET_DRM_SST_OPENKEYTOKENS 52    
                             1893 ; 258  |//$FILENAME eval.src
                             1894 ; 259  |#define RSRC_FUNCLET_EVAL 53    
                             1895 ; 260  |//$FILENAME _verifyslothash.src
                             1896 ; 261  |#define RSRC_FUNCLET__VERIFYSLOTHASH 54    
                             1897 ; 262  |//$FILENAME januscommon.src
                             1898 ; 263  |#define RSRC_JANUS_COMMON 55    
                             1899 ; 264  |//$FILENAME changecase.src
                             1900 ; 265  |#define RSRC_FUNCLET_CHANGECASE 56    
                             1901 ; 266  |//$FILENAME drm_bbx_symmetricverify.src
                             1902 ; 267  |#define RSRC_FUNCLET_DRM_BBX_SYMMETRICVERIFY 57    
                             1903 ; 268  |//$FILENAME _loadlicenseattributes.src
                             1904 ; 269  |#define RSRC_FUNCLET__LOADLICENSEATTRIBUTES 58    
                             1905 ; 270  |//$FILENAME drm_hds_slotseek.src
                             1906 ; 271  |#define RSRC_FUNCLET_DRM_HDS_SLOTSEEK 59    
                             1907 ; 272  |//$FILENAME drm_hds_slotwrite.src
                             1908 ; 273  |#define RSRC_FUNCLET_DRM_HDS_SLOTWRITE 60    
                             1909 ; 274  |//$FILENAME drm_levl_performoperations.src
                             1910 ; 275  |#define RSRC_FUNCLET_DRM_LEVL_PERFORMOPERATIONS 61    
                             1911 ; 276  |//$FILENAME drm_lic_verifysignature.src
                             1912 ; 277  |#define RSRC_FUNCLET_DRM_LIC_VERIFYSIGNATURE 62    
                             1913 ; 278  |//$FILENAME drm_lst_getlicense.src
                             1914 ; 279  |#define RSRC_FUNCLET_DRM_LST_GETLICENSE 63    
                             1915 ; 280  |//$FILENAME drm_utl_numbertostring.src
                             1916 ; 281  |#define RSRC_FUNCLET_DRM_UTL_NUMBERTOSTRING 64    
                             1917 ; 282  |//$FILENAME oem_writefile.src
                             1918 ; 283  |#define RSRC_FUNCLET_OEM_WRITEFILE 65    
                             1919 ; 284  |//$FILENAME drm_sst_getdata.src
                             1920 ; 285  |#define RSRC_FUNCLET_DRM_SST_GETDATA 66    
                             1921 ; 286  |//$FILENAME updatehandlemode.src
                             1922 ; 287  |#define RSRC_FUNCLET_UPDATEHANDLEMODE 67    
                             1923 ; 288  |//$FILENAME _getlicenseinfoandsetup.src
                             1924 ; 289  |#define RSRC_FUNCLET__GETLICENSEINFOANDSETUP 68    
                             1925 ; 290  |//$FILENAME drm_lic_completelicensechain.src
                             1926 ; 291  |#define RSRC_FUNCLET_DRM_LIC_COMPLETELICENSECHAIN 69    
                             1927 ; 292  |//$FILENAME doplay_p.src
                             1928 ; 293  |#define RSRC_DOPLAY_P 70    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  32

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1929 ; 294  |//$FILENAME fatwritep.src
                             1930 ; 295  |#define RSRC_FATWRITE_P_CODE 71    
                             1931 ; 296  |//$FILENAME findfirst.src
                             1932 ; 297  |#define RSRC_FUNCLET_FINDFIRST 72    
                             1933 ; 298  |//$FILENAME Funclet_SysLoadFatWrite.src
                             1934 ; 299  |#define RSRC_FUNCLET_SYSLOADFATWRITE 73    
                             1935 ; 300  |//$FILENAME changetorootdirectory.src
                             1936 ; 301  |#define RSRC_FUNCLET_CHANGETOROOTDIRECTORY 74    
                             1937 ; 302  |//$FILENAME _findkeypair.src
                             1938 ; 303  |#define RSRC_FUNCLET__FINDKEYPAIR 75    
                             1939 ; 304  |//$FILENAME variablemachinegetorset.src
                             1940 ; 305  |#define RSRC_FUNCLET_VARIABLEMACHINEGETORSET 76    
                             1941 ; 306  |//$FILENAME _hdsslotenumnext.src
                             1942 ; 307  |#define RSRC_FUNCLET__HDSSLOTENUMNEXT 77    
                             1943 ; 308  |//$FILENAME getlspubkey.src
                             1944 ; 309  |#define RSRC_FUNCLET_GETLSPUBKEY 78    
                             1945 ; 310  |//$FILENAME drm_sst_gettokenvalue.src
                             1946 ; 311  |#define RSRC_FUNCLET_DRM_SST_GETTOKENVALUE 79    
                             1947 ; 312  |//$FILENAME drm_utl_decodekid.src
                             1948 ; 313  |#define RSRC_FUNCLET_DRM_UTL_DECODEKID 80    
                             1949 ; 314  |//$FILENAME drm_xml_getnodecdata.src
                             1950 ; 315  |#define RSRC_FUNCLET_DRM_XML_GETNODECDATA 81    
                             1951 ; 316  |//$FILENAME _freedrmmanagerinternalcontexts.src
                             1952 ; 317  |#define RSRC_FUNCLET__FREEDRMMANAGERINTERNALCONTEXTS 82    
                             1953 ; 318  |//$FILENAME drm_clk_initchecksecureclock.src
                             1954 ; 319  |#define RSRC_FUNCLET_DRM_CLK_INITCHECKSECURECLOCK 83    
                             1955 ; 320  |//$FILENAME drm_sst_openandlockslot.src
                             1956 ; 321  |#define RSRC_FUNCLET_DRM_SST_OPENANDLOCKSLOT 84    
                             1957 ; 322  |//$FILENAME aes_enc.src
                             1958 ; 323  |#define RSRC_AES_ENC 85    
                             1959 ; 324  |//$FILENAME getprivkey.src
                             1960 ; 325  |#define RSRC_FUNCLET_GETPRIVKEY 86    
                             1961 ; 326  |//$FILENAME Funclet_GetUnicodeCharacterBitmap.src
                             1962 ; 327  |#define RSRC_FUNCLET_GET_UNICODE_CHARACTER_BITMAP 87    
                             1963 ; 328  |//$FILENAME playlist_codebank.src
                             1964 ; 329  |#define RSRC_PLAYLIST_CODEBANK 88    
                             1965 ; 330  |//$FILENAME drm_lic_getenablingbits.src
                             1966 ; 331  |#define RSRC_FUNCLET_DRM_LIC_GETENABLINGBITS 89    
                             1967 ; 332  |//$FILENAME drm_mgr_uninitialize.src
                             1968 ; 333  |#define RSRC_FUNCLET_DRM_MGR_UNINITIALIZE 90    
                             1969 ; 334  |//$FILENAME _getdevicecert.src
                             1970 ; 335  |#define RSRC_FUNCLET__GETDEVICECERT 91    
                             1971 ; 336  |//$FILENAME drm_lic_reportactions.src
                             1972 ; 337  |#define RSRC_FUNCLET_DRM_LIC_REPORTACTIONS 92    
                             1973 ; 338  |//$FILENAME drmcrt_wcsntol.src
                             1974 ; 339  |#define RSRC_FUNCLET_DRMCRT_WCSNTOL 93    
                             1975 ; 340  |//$FILENAME _basicheaderchecks.src
                             1976 ; 341  |#define RSRC_FUNCLET__BASICHEADERCHECKS 94    
                             1977 ; 342  |//$FILENAME drm_hdr_getattribute.src
                             1978 ; 343  |#define RSRC_FUNCLET_DRM_HDR_GETATTRIBUTE 95    
                             1979 ; 344  |//$FILENAME drm_hds_slotenumnext.src
                             1980 ; 345  |#define RSRC_FUNCLET_DRM_HDS_SLOTENUMNEXT 96    
                             1981 ; 346  |//$FILENAME drm_levl_evaluateexpression.src
                             1982 ; 347  |#define RSRC_FUNCLET_DRM_LEVL_EVALUATEEXPRESSION 97    
                             1983 ; 348  |//$FILENAME drm_lst_open.src
                             1984 ; 349  |#define RSRC_FUNCLET_DRM_LST_OPEN 98    
                             1985 ; 350  |//$FILENAME drm_xml_getnodeattribute.src
                             1986 ; 351  |#define RSRC_FUNCLET_DRM_XML_GETNODEATTRIBUTE 99    
                             1987 ; 352  |//$FILENAME _verifysymmerticsignature.src
                             1988 ; 353  |#define RSRC_FUNCLET__VERIFYSYMMERTICSIGNATURE 100    
                             1989 ; 354  |//$FILENAME oem_openfile.src
                             1990 ; 355  |#define RSRC_FUNCLET_OEM_OPENFILE 101    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  33

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1991 ; 356  |//$FILENAME _getdrmfullpathname.src
                             1992 ; 357  |#define RSRC_FUNCLET__GETDRMFULLPATHNAME 102    
                             1993 ; 358  |//$FILENAME oem_getsecurestoreglobalpasswordseed.src
                             1994 ; 359  |#define RSRC_FUNCLET_OEM_GETSECURESTOREGLOBALPASSWORDSEED 103    
                             1995 ; 360  |//$FILENAME _applydiffstostore.src
                             1996 ; 361  |#define RSRC_FUNCLET__APPLYDIFFSTOSTORE 104    
                             1997 ; 362  |//$FILENAME drm_sst_setdata.src
                             1998 ; 363  |#define RSRC_FUNCLET_DRM_SST_SETDATA 105    
                             1999 ; 364  |//$FILENAME drm_sst_getlockeddata.src
                             2000 ; 365  |#define RSRC_FUNCLET_DRM_SST_GETLOCKEDDATA 106    
                             2001 ; 366  |//$FILENAME drm_sst_setlockeddata.src
                             2002 ; 367  |#define RSRC_FUNCLET_DRM_SST_SETLOCKEDDATA 107    
                             2003 ; 368  |//$FILENAME playerlib_extra.src
                             2004 ; 369  |#define RSRC_PLAYERLIB_EXTRA_CODE_BANK 108    
                             2005 ; 370  |//$FILENAME wmaCommon.src
                             2006 ; 371  |#define RSRC_WMA_COMMON 109    
                             2007 ; 372  |//$FILENAME wmainit.src
                             2008 ; 373  |#define RSRC_WMA_INIT 110    
                             2009 ; 374  |//$FILENAME playlist2traverse_codebank.src
                             2010 ; 375  |#define RSRC_PLAYLIST2TRAVERSE_CODEBANK 111    
                             2011 ; 376  |//$FILENAME drm_bbx_cipherkeysetup.src
                             2012 ; 377  |#define RSRC_FUNCLET_DRM_BBX_CIPHERKEYSETUP 112    
                             2013 ; 378  |//$FILENAME drm_lic_checkclockrollback.src
                             2014 ; 379  |#define RSRC_FUNCLET_DRM_LIC_CHECKCLOCKROLLBACK 113    
                             2015 ; 380  |//$FILENAME drm_hds_closestore.src
                             2016 ; 381  |#define RSRC_FUNCLET_DRM_HDS_CLOSESTORE 114    
                             2017 ; 382  |//$FILENAME _hdsloadsrn.src
                             2018 ; 383  |#define RSRC_FUNCLET__HDSLOADSRN 115    
                             2019 ; 384  |//$FILENAME _loadproritizedlist.src
                             2020 ; 385  |#define RSRC_FUNCLET__LOADPRORITIZEDLIST 116    
                             2021 ; 386  |//$FILENAME drm_lst_initenum.src
                             2022 ; 387  |#define RSRC_FUNCLET_DRM_LST_INITENUM 117    
                             2023 ; 388  |//$FILENAME _loadattributesintocache.src
                             2024 ; 389  |#define RSRC_FUNCLET__LOADATTRIBUTESINTOCACHE 118    
                             2025 ; 390  |//$FILENAME drm_pk_symmetricverify.src
                             2026 ; 391  |#define RSRC_FUNCLET_DRM_PK_SYMMETRICVERIFY 119    
                             2027 ; 392  |
                             2028 ; 393  |/////////////////////////////////////////////////////////////////////////////////
                             2029 ; 394  |//  Menu Modules (codebanks)
                             2030 ; 395  |/////////////////////////////////////////////////////////////////////////////////
                             2031 ; 396  |//$FILENAME mainmenu.src
                             2032 ; 397  |#define RSRC_MAIN_MENU_CODE_BANK 120    
                             2033 ; 398  |//$FILENAME displaylists.src
                             2034 ; 399  |#define RSRC_DISPLAY_LISTS_CODE_BANK 121    
                             2035 ; 400  |
                             2036 ; 401  |//$FILENAME voicemenu.src
                             2037 ; 402  |#define RSRC_VOICE_MENU_CODE_BANK 122    
                             2038 ; 403  |//$FILENAME fmtunermenu.src
                             2039 ; 404  |#define RSRC_FMTUNER_MENU_CODE_BANK 123    
                             2040 ; 405  |//$FILENAME recorderstatemachine.src
                             2041 ; 406  |#define RSRC_RECORDER_STATE_MACHINE_CODE_BANK 124    
                             2042 ; 407  |
                             2043 ; 408  |//$FILENAME eqmenu.src
                             2044 ; 409  |#define RSRC_EQ_MENU_CODE_BANK 125    
                             2045 ; 410  |//$FILENAME playmodemenu.src
                             2046 ; 411  |#define RSRC_PLAYMODE_MENU_CODE_BANK 126    
                             2047 ; 412  |//$FILENAME contrastmenu.src
                             2048 ; 413  |#define RSRC_CONTRAST_MENU_CODE_BANK 127    
                             2049 ; 414  |//$FILENAME pwrsettingsmenu.src
                             2050 ; 415  |#define RSRC_PWRSETTINGS_MENU_CODE_BANK 128    
                             2051 ; 416  |//$FILENAME timedatemenu.src
                             2052 ; 417  |#define RSRC_TIMEDATE_MENU_CODE_BANK 129    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  34

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2053 ; 418  |//$FILENAME settimemenu.src
                             2054 ; 419  |#define RSRC_SETTIME_MENU_CODE_BANK 130    
                             2055 ; 420  |//$FILENAME setdatemenu.src
                             2056 ; 421  |#define RSRC_SETDATE_MENU_CODE_BANK 131    
                             2057 ; 422  |//$FILENAME settingsmenu.src
                             2058 ; 423  |#define RSRC_SETTINGS_MENU_CODE_BANK 132    
                             2059 ; 424  |//$FILENAME string_system_menu.src
                             2060 ; 425  |#define RSRC_SYSTEM_MENU_CODE_BANK 133    
                             2061 ; 426  |//$FILENAME deletemenu.src
                             2062 ; 427  |#define RSRC_DELETE_MENU_CODE_BANK 134    
                             2063 ; 428  |//$FILENAME aboutmenu.src
                             2064 ; 429  |#define RSRC_ABOUT_MENU_CODE_BANK 135    
                             2065 ; 430  |
                             2066 ; 431  |//$FILENAME spectrogram.src
                             2067 ; 432  |#define RSRC_SPECTROGRAM_MENU_CODE_BANK 136    
                             2068 ; 433  |
                             2069 ; 434  |//$FILENAME motionvideomenu.src
                             2070 ; 435  |#define RSRC_MOTION_VIDEO_MENU_CODE_BANK 137    
                             2071 ; 436  |//$FILENAME motionvideomenuinitstate.src
                             2072 ; 437  |#define RSRC_MOTION_VIDEO_MENU_INITSTATE_CODE_BANK 138    
                             2073 ; 438  |//$FILENAME jpegdisplaymenu.src
                             2074 ; 439  |#define RSRC_JPEG_DISPLAY_MENU_CODE_BANK 139    
                             2075 ; 440  |//$FILENAME jpegmanualmenu.src
                             2076 ; 441  |#define RSRC_JPEG_MANUAL_MENU_CODE_BANK 140    
                             2077 ; 442  |//$FILENAME jpegthumbnailmenu.src
                             2078 ; 443  |#define RSRC_JPEG_THUMBNAIL_MENU_CODE_BANK 141    
                             2079 ; 444  |//$FILENAME jpegslideshowmenu.src
                             2080 ; 445  |#define RSRC_JPEG_SLIDESHOW_MENU_CODE_BANK 142    
                             2081 ; 446  |//$FILENAME albumartmenu.src
                             2082 ; 447  |#define RSRC_ALBUM_ART_MENU_CODE_BANK 143    
                             2083 ; 448  |//$FILENAME jpegfileutilextra.src
                             2084 ; 449  |#define RSRC_JPEG_FILEUTIL_EXTRA_MENU_CODE_BANK 144    
                             2085 ; 450  |
                             2086 ; 451  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2087 ; 452  |// General Modules
                             2088 ; 453  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2089 ; 454  |//$FILENAME MixMod.src
                             2090 ; 455  |#define RSRC_MIXMOD_CODE 145    
                             2091 ; 456  |//$FILENAME TunerModule.src
                             2092 ; 457  |#define RSRC_TUNER_MODULE 146    
                             2093 ; 458  |//$FILENAME geqoverlay.src
                             2094 ; 459  |#define RSRC_GEQOVERLAY_CODE 147    
                             2095 ; 460  |
                             2096 ; 461  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2097 ; 462  |// Decoders/Encoders
                             2098 ; 463  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2099 ; 464  |//$FILENAME DecMod.src
                             2100 ; 465  |#define RSRC_DECMOD_CODE 148    
                             2101 ; 466  |//$FILENAME mp3p.src
                             2102 ; 467  |#define RSRC_MP3P_CODE 149    
                             2103 ; 468  |//$FILENAME mp3x.src
                             2104 ; 469  |#define RSRC_MP3X_CODE 150    
                             2105 ; 470  |//$FILENAME mp3y.src
                             2106 ; 471  |#define RSRC_MP3Y_CODE 151    
                             2107 ; 472  |//$FILENAME janusp.src
                             2108 ; 473  |#define RSRC_JANUSP_CODE 152    
                             2109 ; 474  |//RSRC_JANUSY_CODE        equ       29    ;$FILENAME janusy.src
                             2110 ; 475  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  35

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2111 ; 476  |//$FILENAME decadpcmimamod.src
                             2112 ; 477  |#define RSRC_DEC_ADPCM_MOD_CODE 153    
                             2113 ; 478  |//$FILENAME dec_adpcmp.src
                             2114 ; 479  |#define RSRC_DEC_ADPCMP_CODE 154    
                             2115 ; 480  |//$FILENAME dec_adpcmx.src
                             2116 ; 481  |#define RSRC_DEC_ADPCMX_CODE 155    
                             2117 ; 482  |//$FILENAME dec_adpcmy.src
                             2118 ; 483  |#define RSRC_DEC_ADPCMY_CODE 156    
                             2119 ; 484  |
                             2120 ; 485  |//$FILENAME decadpcmsmvmod.src
                             2121 ; 486  |#define RSRC_DEC_SMVADPCM_MOD_CODE 157    
                             2122 ; 487  |//$FILENAME dec_smvadpcmp.src
                             2123 ; 488  |#define RSRC_DEC_SMVADPCMP_CODE 158    
                             2124 ; 489  |//$FILENAME dec_smvadpcmx.src
                             2125 ; 490  |#define RSRC_DEC_SMVADPCMX_CODE 159    
                             2126 ; 491  |//$FILENAME dec_smvadpcmy.src
                             2127 ; 492  |#define RSRC_DEC_SMVADPCMY_CODE 160    
                             2128 ; 493  |
                             2129 ; 494  |//$FILENAME encadpcmimamod.src
                             2130 ; 495  |#define RSRC_ENC_ADPCM_MOD_CODE 161    
                             2131 ; 496  |//$FILENAME enc_adpcmp.src
                             2132 ; 497  |#define RSRC_ENC_ADPCMP_CODE 162    
                             2133 ; 498  |//$FILENAME enc_adpcmx.src
                             2134 ; 499  |#define RSRC_ENC_ADPCMX_CODE 163    
                             2135 ; 500  |//$FILENAME enc_adpcmy.src
                             2136 ; 501  |#define RSRC_ENC_ADPCMY_CODE 164    
                             2137 ; 502  |
                             2138 ; 503  |//$FILENAME jpeg_p.src
                             2139 ; 504  |#define RSRC_JPEG_DECODER_P 165    
                             2140 ; 505  |//$FILENAME jpeg_x.src
                             2141 ; 506  |#define RSRC_JPEG_DECODER_X 166    
                             2142 ; 507  |//$FILENAME jpeg_y.src
                             2143 ; 508  |#define RSRC_JPEG_DECODER_Y 167    
                             2144 ; 509  |//$FILENAME jpeg2_y.src
                             2145 ; 510  |#define RSRC_JPEG_DECODER_Y_2 168    
                             2146 ; 511  |//$FILENAME bmp2_y.src
                             2147 ; 512  |#define RSRC_BMP_DECODER_Y_2 169    
                             2148 ; 513  |//$FILENAME bmp_p.src
                             2149 ; 514  |#define RSRC_BMP_DECODER_P 170    
                             2150 ; 515  |
                             2151 ; 516  |//RSRC_SMVJPEG_DECODER_P    equ       57    ;$FILENAME smvjpeg_p.src
                             2152 ; 517  |//$FILENAME smvjpeg_x.src
                             2153 ; 518  |#define RSRC_SMVJPEG_DECODER_X 171    
                             2154 ; 519  |//$FILENAME smvjpeg_y.src
                             2155 ; 520  |#define RSRC_SMVJPEG_DECODER_Y 172    
                             2156 ; 521  |
                             2157 ; 522  |
                             2158 ; 523  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2159 ; 524  |// System Settings
                             2160 ; 525  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2161 ; 526  |//$FILENAME settings.src
                             2162 ; 527  |#define RSRC_SETTINGS_COMMANDS 173    
                             2163 ; 528  |
                             2164 ; 529  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2165 ; 530  |// Media Device Drivers
                             2166 ; 531  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2167 ; 532  |//This resource is filled with garbage unless it is the MMC build
                             2168 ; 533  |//$FILENAME null.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  36

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2169 ; 534  |#define RSRC_MMCDD_CODE 174    
                             2170 ; 535  |//$FILENAME null.src
                             2171 ; 536  |#define RSRC_SMDD_HIGH_CODE 175    
                             2172 ; 537  |
                             2173 ; 538  |/////////////////////////////////////////////////////////////////////////////////
                             2174 ; 539  |//  PlayState resources
                             2175 ; 540  |/////////////////////////////////////////////////////////////////////////////////
                             2176 ; 541  |//$FILENAME play_icon_with_border.src
                             2177 ; 542  |#define RSRC_PLAY_ICON_WITH_BORDER 176    
                             2178 ; 543  |//$FILENAME pause_icon_with_border.src
                             2179 ; 544  |#define RSRC_PAUSE_ICON_WITH_BORDER 177    
                             2180 ; 545  |//$FILENAME stop_icon_with_border.src
                             2181 ; 546  |#define RSRC_STOP_ICON_WITH_BORDER 178    
                             2182 ; 547  |//$FILENAME record_icon_with_border.src
                             2183 ; 548  |#define RSRC_RECORD_ICON_WITH_BORDER 179    
                             2184 ; 549  |//$FILENAME paused_record_icon_with_border.src
                             2185 ; 550  |#define RSRC_PAUSED_RECORD_ICON_BORDER 180    
                             2186 ; 551  |//$FILENAME ffwd_icon_with_border.src
                             2187 ; 552  |#define RSRC_FFWD_ICON_WITH_BORDER 181    
                             2188 ; 553  |//$FILENAME rwnd_icon_with_border.src
                             2189 ; 554  |#define RSRC_RWND_ICON_WITH_BORDER 182    
                             2190 ; 555  |
                             2191 ; 556  |/////////////////////////////////////////////////////////////////////////////////
                             2192 ; 557  |//  PlayMode resources
                             2193 ; 558  |/////////////////////////////////////////////////////////////////////////////////
                             2194 ; 559  |//$FILENAME repeatall_icon.src
                             2195 ; 560  |#define RSRC_REPEAT_ALL_ICON 183    
                             2196 ; 561  |//$FILENAME repeatsong_icon.src
                             2197 ; 562  |#define RSRC_REPEAT_SONG_ICON 184    
                             2198 ; 563  |//$FILENAME shuffle_icon.src
                             2199 ; 564  |#define RSRC_SHUFFLE_ICON 185    
                             2200 ; 565  |//$FILENAME random_icon.src
                             2201 ; 566  |#define RSRC_RANDOM_ICON 186    
                             2202 ; 567  |//$FILENAME repeatallclear_icon.src
                             2203 ; 568  |#define RSRC_REPEAT_ALL_CLEAR_ICON 187    
                             2204 ; 569  |//$FILENAME repeatsongclear_icon.src
                             2205 ; 570  |#define RSRC_REPEAT_SONG_CLEAR_ICON 188    
                             2206 ; 571  |//$FILENAME shuffleclear_icon.src
                             2207 ; 572  |#define RSRC_SHUFFLE_CLEAR_ICON 189    
                             2208 ; 573  |
                             2209 ; 574  |/////////////////////////////////////////////////////////////////////////////////
                             2210 ; 575  |//  Battery Status
                             2211 ; 576  |/////////////////////////////////////////////////////////////////////////////////
                             2212 ; 577  |//$FILENAME battery_00.src
                             2213 ; 578  |#define RSRC_BATTERY_00 190    
                             2214 ; 579  |//$FILENAME battery_01.src
                             2215 ; 580  |#define RSRC_BATTERY_01 191    
                             2216 ; 581  |//$FILENAME battery_02.src
                             2217 ; 582  |#define RSRC_BATTERY_02 192    
                             2218 ; 583  |//$FILENAME battery_03.src
                             2219 ; 584  |#define RSRC_BATTERY_03 193    
                             2220 ; 585  |//$FILENAME battery_04.src
                             2221 ; 586  |#define RSRC_BATTERY_04 194    
                             2222 ; 587  |//$FILENAME battery_05.src
                             2223 ; 588  |#define RSRC_BATTERY_05 195    
                             2224 ; 589  |//$FILENAME battery_06.src
                             2225 ; 590  |#define RSRC_BATTERY_06 196    
                             2226 ; 591  |//$FILENAME battery_07.src
                             2227 ; 592  |#define RSRC_BATTERY_07 197    
                             2228 ; 593  |//$FILENAME battery_08.src
                             2229 ; 594  |#define RSRC_BATTERY_08 198    
                             2230 ; 595  |//$FILENAME battery_09.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  37

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2231 ; 596  |#define RSRC_BATTERY_09 199    
                             2232 ; 597  |//$FILENAME battery_10.src
                             2233 ; 598  |#define RSRC_BATTERY_10 200    
                             2234 ; 599  |
                             2235 ; 600  |/////////////////////////////////////////////////////////////////////////////////
                             2236 ; 601  |//  System Icons
                             2237 ; 602  |/////////////////////////////////////////////////////////////////////////////////
                             2238 ; 603  |//$FILENAME disk_small.src
                             2239 ; 604  |#define RSRC_DISK_ICON 201    
                             2240 ; 605  |//$FILENAME lock_small.src
                             2241 ; 606  |#define RSRC_LOCK_ICON 202    
                             2242 ; 607  |//$FILENAME icon_music_mode.src
                             2243 ; 608  |#define RSRC_MUSIC_MODE_ICON 203    
                             2244 ; 609  |//$FILENAME icon_voice_mode.src
                             2245 ; 610  |#define RSRC_VOICE_MODE_ICON 204    
                             2246 ; 611  |
                             2247 ; 612  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2248 ; 613  |// Volume Bitmaps
                             2249 ; 614  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2250 ; 615  |//$FILENAME icon_vol_00.src
                             2251 ; 616  |#define RSRC_ICON_VOL_00 205    
                             2252 ; 617  |//$FILENAME icon_vol_01.src
                             2253 ; 618  |#define RSRC_ICON_VOL_01 206    
                             2254 ; 619  |//$FILENAME icon_vol_02.src
                             2255 ; 620  |#define RSRC_ICON_VOL_02 207    
                             2256 ; 621  |//$FILENAME icon_vol_03.src
                             2257 ; 622  |#define RSRC_ICON_VOL_03 208    
                             2258 ; 623  |//$FILENAME icon_vol_04.src
                             2259 ; 624  |#define RSRC_ICON_VOL_04 209    
                             2260 ; 625  |//$FILENAME icon_vol_05.src
                             2261 ; 626  |#define RSRC_ICON_VOL_05 210    
                             2262 ; 627  |//$FILENAME icon_vol_06.src
                             2263 ; 628  |#define RSRC_ICON_VOL_06 211    
                             2264 ; 629  |//$FILENAME icon_vol_07.src
                             2265 ; 630  |#define RSRC_ICON_VOL_07 212    
                             2266 ; 631  |//$FILENAME icon_vol_08.src
                             2267 ; 632  |#define RSRC_ICON_VOL_08 213    
                             2268 ; 633  |//$FILENAME icon_vol_09.src
                             2269 ; 634  |#define RSRC_ICON_VOL_09 214    
                             2270 ; 635  |//$FILENAME icon_vol_10.src
                             2271 ; 636  |#define RSRC_ICON_VOL_10 215    
                             2272 ; 637  |//$FILENAME icon_vol_11.src
                             2273 ; 638  |#define RSRC_ICON_VOL_11 216    
                             2274 ; 639  |//$FILENAME icon_vol_12.src
                             2275 ; 640  |#define RSRC_ICON_VOL_12 217    
                             2276 ; 641  |//$FILENAME icon_vol_13.src
                             2277 ; 642  |#define RSRC_ICON_VOL_13 218    
                             2278 ; 643  |//$FILENAME icon_vol_14.src
                             2279 ; 644  |#define RSRC_ICON_VOL_14 219    
                             2280 ; 645  |//$FILENAME icon_vol_15.src
                             2281 ; 646  |#define RSRC_ICON_VOL_15 220    
                             2282 ; 647  |//$FILENAME icon_vol_16.src
                             2283 ; 648  |#define RSRC_ICON_VOL_16 221    
                             2284 ; 649  |//$FILENAME icon_vol_17.src
                             2285 ; 650  |#define RSRC_ICON_VOL_17 222    
                             2286 ; 651  |//$FILENAME icon_vol_18.src
                             2287 ; 652  |#define RSRC_ICON_VOL_18 223    
                             2288 ; 653  |//$FILENAME icon_vol_19.src
                             2289 ; 654  |#define RSRC_ICON_VOL_19 224    
                             2290 ; 655  |//$FILENAME icon_vol_20.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  38

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2291 ; 656  |#define RSRC_ICON_VOL_20 225    
                             2292 ; 657  |//$FILENAME icon_vol_21.src
                             2293 ; 658  |#define RSRC_ICON_VOL_21 226    
                             2294 ; 659  |//$FILENAME icon_vol_22.src
                             2295 ; 660  |#define RSRC_ICON_VOL_22 227    
                             2296 ; 661  |//$FILENAME icon_vol_23.src
                             2297 ; 662  |#define RSRC_ICON_VOL_23 228    
                             2298 ; 663  |//$FILENAME icon_vol_24.src
                             2299 ; 664  |#define RSRC_ICON_VOL_24 229    
                             2300 ; 665  |//$FILENAME icon_vol_25.src
                             2301 ; 666  |#define RSRC_ICON_VOL_25 230    
                             2302 ; 667  |//$FILENAME icon_vol_26.src
                             2303 ; 668  |#define RSRC_ICON_VOL_26 231    
                             2304 ; 669  |//$FILENAME icon_vol_27.src
                             2305 ; 670  |#define RSRC_ICON_VOL_27 232    
                             2306 ; 671  |//$FILENAME icon_vol_28.src
                             2307 ; 672  |#define RSRC_ICON_VOL_28 233    
                             2308 ; 673  |//$FILENAME icon_vol_29.src
                             2309 ; 674  |#define RSRC_ICON_VOL_29 234    
                             2310 ; 675  |//$FILENAME icon_vol_30.src
                             2311 ; 676  |#define RSRC_ICON_VOL_30 235    
                             2312 ; 677  |//$FILENAME icon_vol_31.src
                             2313 ; 678  |#define RSRC_ICON_VOL_31 236    
                             2314 ; 679  |
                             2315 ; 680  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             2316 ; 681  |// Splash Screen Stuff
                             2317 ; 682  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             2318 ; 683  |//$FILENAME st_bw1.src
                             2319 ; 684  |#define RSRC_SPLASH_SCREEN 237    
                             2320 ; 685  |//$FILENAME siglogo1.src
                             2321 ; 686  |#define RSRC_SPLASH_SCREEN_1 238    
                             2322 ; 687  |//$FILENAME siglogo2.src
                             2323 ; 688  |#define RSRC_SPLASH_SCREEN_2 239    
                             2324 ; 689  |//$FILENAME siglogo3.src
                             2325 ; 690  |#define RSRC_SPLASH_SCREEN_3 240    
                             2326 ; 691  |//$FILENAME siglogo4.src
                             2327 ; 692  |#define RSRC_SPLASH_SCREEN_4 241    
                             2328 ; 693  |//$FILENAME siglogo5.src
                             2329 ; 694  |#define RSRC_SPLASH_SCREEN_5 242    
                             2330 ; 695  |//$FILENAME siglogo6.src
                             2331 ; 696  |#define RSRC_SPLASH_SCREEN_6 243    
                             2332 ; 697  |//$FILENAME siglogo7.src
                             2333 ; 698  |#define RSRC_SPLASH_SCREEN_7 244    
                             2334 ; 699  |//$FILENAME siglogo8.src
                             2335 ; 700  |#define RSRC_SPLASH_SCREEN_8 245    
                             2336 ; 701  |//$FILENAME siglogo9.src
                             2337 ; 702  |#define RSRC_SPLASH_SCREEN_9 246    
                             2338 ; 703  |//$FILENAME siglogo10.src
                             2339 ; 704  |#define RSRC_SPLASH_SCREEN_10 247    
                             2340 ; 705  |//$FILENAME siglogo11.src
                             2341 ; 706  |#define RSRC_SPLASH_SCREEN_11 248    
                             2342 ; 707  |//$FILENAME siglogo12.src
                             2343 ; 708  |#define RSRC_SPLASH_SCREEN_12 249    
                             2344 ; 709  |//$FILENAME siglogo13.src
                             2345 ; 710  |#define RSRC_SPLASH_SCREEN_13 250    
                             2346 ; 711  |//$FILENAME siglogo.src
                             2347 ; 712  |#define RSRC_SPLASH_SCREEN_ALL 251    
                             2348 ; 713  |
                             2349 ; 714  |//$FILENAME locked.src
                             2350 ; 715  |#define RSRC_LOCKED_SCREEN 252    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  39

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2351 ; 716  |
                             2352 ; 717  |/////////////////////////////////////////////////////////////////////////////////
                             2353 ; 718  |//  Shutdown
                             2354 ; 719  |/////////////////////////////////////////////////////////////////////////////////
                             2355 ; 720  |//$FILENAME string_arial_8_continue_holding_to_power_off.src
                             2356 ; 721  |#define RSRC_PDOWN_HOLD_STRING 253    
                             2357 ; 722  |//$FILENAME status_16_6_steps_0.src
                             2358 ; 723  |#define RSRC_PDOWN_STATUS_0 254    
                             2359 ; 724  |//$FILENAME status_16_6_steps_1.src
                             2360 ; 725  |#define RSRC_PDOWN_STATUS_1 255    
                             2361 ; 726  |//$FILENAME status_16_6_steps_2.src
                             2362 ; 727  |#define RSRC_PDOWN_STATUS_2 256    
                             2363 ; 728  |//$FILENAME status_16_6_steps_3.src
                             2364 ; 729  |#define RSRC_PDOWN_STATUS_3 257    
                             2365 ; 730  |//$FILENAME status_16_6_steps_4.src
                             2366 ; 731  |#define RSRC_PDOWN_STATUS_4 258    
                             2367 ; 732  |//$FILENAME status_16_6_steps_5.src
                             2368 ; 733  |#define RSRC_PDOWN_STATUS_5 259    
                             2369 ; 734  |//$FILENAME status_16_6_steps_6.src
                             2370 ; 735  |#define RSRC_PDOWN_STATUS_6 260    
                             2371 ; 736  |
                             2372 ; 737  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             2373 ; 738  |// EQ
                             2374 ; 739  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             2375 ; 740  |//$FILENAME eq_clear_icon.src
                             2376 ; 741  |#define RSRC_EQ_CLEAR_ICON 261    
                             2377 ; 742  |//$FILENAME rock_icon.src
                             2378 ; 743  |#define RSRC_ROCK_ICON 262    
                             2379 ; 744  |//$FILENAME jazz_icon.src
                             2380 ; 745  |#define RSRC_JAZZ_ICON 263    
                             2381 ; 746  |//$FILENAME classic_icon.src
                             2382 ; 747  |#define RSRC_CLASSIC_ICON 264    
                             2383 ; 748  |//$FILENAME pop_icon.src
                             2384 ; 749  |#define RSRC_POP_ICON 265    
                             2385 ; 750  |//$FILENAME custom_icon.src
                             2386 ; 751  |#define RSRC_CUSTOM_ICON 266    
                             2387 ; 752  |
                             2388 ; 753  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             2389 ; 754  |// AB
                             2390 ; 755  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             2391 ; 756  |//$FILENAME ab_mark_a.src
                             2392 ; 757  |#define RSRC_AB_MARK_A_ICON 267    
                             2393 ; 758  |//$FILENAME ab_mark_b.src
                             2394 ; 759  |#define RSRC_AB_MARK_B_ICON 268    
                             2395 ; 760  |
                             2396 ; 761  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             2397 ; 762  |// Menu Display Resources
                             2398 ; 763  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             2399 ; 764  |//$FILENAME string_music_menu.src
                             2400 ; 765  |#define RSRC_STRING_MUSIC_MENU 269    
                             2401 ; 766  |//$FILENAME string_mvideo_menu.src
                             2402 ; 767  |#define RSRC_STRING_MVIDEO_MENU 270    
                             2403 ; 768  |//$FILENAME string_jpeg_display_menu.src
                             2404 ; 769  |#define RSRC_STRING_JPEG_DISPLAY_MENU 271    
                             2405 ; 770  |//$FILENAME string_jpeg_manual_menu.src
                             2406 ; 771  |#define RSRC_STRING_JPEG_MANUAL_MENU 272    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  40

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2407 ; 772  |//$FILENAME string_jpeg_slideshow_menu.src
                             2408 ; 773  |#define RSRC_STRING_JPEG_SLIDESHOW_MENU 273    
                             2409 ; 774  |//$FILENAME string_jpeg_thumbnail_menu.src
                             2410 ; 775  |#define RSRC_STRING_JPEG_THUMBNAIL_MENU 274    
                             2411 ; 776  |//$FILENAME string_voice_menu.src
                             2412 ; 777  |#define RSRC_STRING_VOICE_MENU 275    
                             2413 ; 778  |//$FILENAME string_audible_menu.src
                             2414 ; 779  |#define RSRC_STRING_AUDIBLE_MENU 276    
                             2415 ; 780  |//$FILENAME string_fmtuner_menu.src
                             2416 ; 781  |#define RSRC_STRING_FMTUNER_MENU 277    
                             2417 ; 782  |//$FILENAME string_settings_menu.src
                             2418 ; 783  |#define RSRC_STRING_SETTINGS_MENU 278    
                             2419 ; 784  |//$FILENAME string_eq_menu.src
                             2420 ; 785  |#define RSRC_STRING_EQ_MENU 279    
                             2421 ; 786  |//$FILENAME string_playmode_menu.src
                             2422 ; 787  |#define RSRC_STRING_PLAYMODE_MENU 280    
                             2423 ; 788  |//$FILENAME string_contrast_menu.src
                             2424 ; 789  |#define RSRC_STRING_CONTRAST_MENU 281    
                             2425 ; 790  |//$FILENAME string_pwrsavings_menu.src
                             2426 ; 791  |#define RSRC_STRING_PWRSAVINGS_MENU 282    
                             2427 ; 792  |//$FILENAME string_time_date_menu.src
                             2428 ; 793  |#define RSRC_STRING_TIME_DATE_MENU 283    
                             2429 ; 794  |//$FILENAME string_set_time_menu.src
                             2430 ; 795  |#define RSRC_STRING_SET_TIME_MENU 284    
                             2431 ; 796  |//$FILENAME string_set_date_menu.src
                             2432 ; 797  |#define RSRC_STRING_SET_DATE_MENU 285    
                             2433 ; 798  |//$FILENAME string_exit_menu.src
                             2434 ; 799  |#define RSRC_STRING_EXIT_MENU 286    
                             2435 ; 800  |//$FILENAME string_rock_menu.src
                             2436 ; 801  |#define RSRC_STRING_ROCK_MENU 287    
                             2437 ; 802  |//$FILENAME string_pop_menu.src
                             2438 ; 803  |#define RSRC_STRING_POP_MENU 288    
                             2439 ; 804  |//$FILENAME string_classic_menu.src
                             2440 ; 805  |#define RSRC_STRING_CLASSIC_MENU 289    
                             2441 ; 806  |//$FILENAME string_normal_menu.src
                             2442 ; 807  |#define RSRC_STRING_NORMAL_MENU 290    
                             2443 ; 808  |//$FILENAME string_jazz_menu.src
                             2444 ; 809  |#define RSRC_STRING_JAZZ_MENU 291    
                             2445 ; 810  |//$FILENAME string_repeat1_menu.src
                             2446 ; 811  |#define RSRC_STRING_REPEAT1_MENU 292    
                             2447 ; 812  |//$FILENAME string_repeatall_menu.src
                             2448 ; 813  |#define RSRC_STRING_REPEATALL_MENU 293    
                             2449 ; 814  |//$FILENAME string_shuffle_menu.src
                             2450 ; 815  |#define RSRC_STRING_SHUFFLE_MENU 294    
                             2451 ; 816  |//$FILENAME string_repeatshuffle_menu.src
                             2452 ; 817  |#define RSRC_STRING_SHUFFLEREPEAT_MENU 295    
                             2453 ; 818  |//$FILENAME string_disable_menu.src
                             2454 ; 819  |#define RSRC_STRING_DISABLE_MENU 296    
                             2455 ; 820  |//$FILENAME string_1min_menu.src
                             2456 ; 821  |#define RSRC_STRING_1MIN_MENU 297    
                             2457 ; 822  |//$FILENAME string_2min_menu.src
                             2458 ; 823  |#define RSRC_STRING_2MIN_MENU 298    
                             2459 ; 824  |//$FILENAME string_5min_menu.src
                             2460 ; 825  |#define RSRC_STRING_5MIN_MENU 299    
                             2461 ; 826  |//$FILENAME string_10min_menu.src
                             2462 ; 827  |#define RSRC_STRING_10MIN_MENU 300    
                             2463 ; 828  |//$FILENAME string_system_menu.src
                             2464 ; 829  |#define RSRC_STRING_SYSTEM_MENU 301    
                             2465 ; 830  |//$FILENAME string_about_menu.src
                             2466 ; 831  |#define RSRC_STRING_ABOUT_MENU 302    
                             2467 ; 832  |//$FILENAME string_delete_menu.src
                             2468 ; 833  |#define RSRC_STRING_DELETE_MENU 303    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  41

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2469 ; 834  |//$FILENAME string_record_menu.src
                             2470 ; 835  |#define RSRC_STRING_RECORD_MENU 304    
                             2471 ; 836  |//$FILENAME string_spectrogram_menu.src
                             2472 ; 837  |#define RSRC_STRING_SPECTROGRAM_MENU 305    
                             2473 ; 838  |
                             2474 ; 839  |//$FILENAME string_end_of_slide_show.src
                             2475 ; 840  |#define RSRC_STRING_END_OF_SLIDE_SHOW 306    
                             2476 ; 841  |
                             2477 ; 842  |//$FILENAME string_mb.src
                             2478 ; 843  |#define RSRC_STRING_MB 307    
                             2479 ; 844  |
                             2480 ; 845  |//$FILENAME internal_media.src
                             2481 ; 846  |#define RSRC_INT_MEDIA 308    
                             2482 ; 847  |//$FILENAME external_media.src
                             2483 ; 848  |#define RSRC_EXT_MEDIA 309    
                             2484 ; 849  |
                             2485 ; 850  |//$FILENAME about_title.src
                             2486 ; 851  |#define RSRC_ABOUT_TITLE 310    
                             2487 ; 852  |//$FILENAME player_name.src
                             2488 ; 853  |#define RSRC_PLAYER_NAME_VER 311    
                             2489 ; 854  |
                             2490 ; 855  |//$FILENAME settings_title.src
                             2491 ; 856  |#define RSRC_SETTINGS_TITLE 312    
                             2492 ; 857  |//$FILENAME jpeg_display_title.src
                             2493 ; 858  |#define RSRC_JPEG_DISPLAY_TITLE 313    
                             2494 ; 859  |//$FILENAME erase_title.src
                             2495 ; 860  |#define RSRC_ERASE_TITLE 314    
                             2496 ; 861  |
                             2497 ; 862  |//$FILENAME del_warning_no.src
                             2498 ; 863  |#define RSRC_DELETE_NO 315    
                             2499 ; 864  |//$FILENAME del_warning_yes.src
                             2500 ; 865  |#define RSRC_DELETE_YES 316    
                             2501 ; 866  |//$FILENAME del_warning_line1.src
                             2502 ; 867  |#define RSRC_WARNING_MSG_LINE1 317    
                             2503 ; 868  |//$FILENAME del_warning_line2.src
                             2504 ; 869  |#define RSRC_WARNING_MSG_LINE2 318    
                             2505 ; 870  |//$FILENAME lowbattery.src
                             2506 ; 871  |#define RSRC_BROWNOUT_BITMAP 319    
                             2507 ; 872  |//$FILENAME vbr.src
                             2508 ; 873  |#define RSRC_VBR_BITMAP 320    
                             2509 ; 874  |
                             2510 ; 875  |//$FILENAME string_song.src
                             2511 ; 876  |#define RSRC_STRING_SONG_COLON 321    
                             2512 ; 877  |//$FILENAME string_voice.src
                             2513 ; 878  |#define RSRC_STRING_VOICE_COLON 322    
                             2514 ; 879  |
                             2515 ; 880  |//$FILENAME time_date_title.src
                             2516 ; 881  |#define RSRC_TIME_DATE_TITLE 323    
                             2517 ; 882  |//$FILENAME set_time_title.src
                             2518 ; 883  |#define RSRC_SET_TIME_TITLE 324    
                             2519 ; 884  |//$FILENAME set_date_title.src
                             2520 ; 885  |#define RSRC_SET_DATE_TITLE 325    
                             2521 ; 886  |//$FILENAME string_searching.src
                             2522 ; 887  |#define RSRC_STRING_SEARCHING 326    
                             2523 ; 888  |/////////////////////////////////////////////////////////////////////////////////
                             2524 ; 889  |//  Save Changes
                             2525 ; 890  |/////////////////////////////////////////////////////////////////////////////////
                             2526 ; 891  |//$FILENAME save_changes_yes.src
                             2527 ; 892  |#define RSRC_SAVE_CHANGES_YES 327    
                             2528 ; 893  |//$FILENAME save_changes_no.src
                             2529 ; 894  |#define RSRC_SAVE_CHANGES_NO 328    
                             2530 ; 895  |//$FILENAME save_changes_cancel.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  42

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2531 ; 896  |#define RSRC_SAVE_CHANGES_CANCEL 329    
                             2532 ; 897  |//$FILENAME save_changes_clear.src
                             2533 ; 898  |#define RSRC_SAVE_CHANGES_CLEAR 330    
                             2534 ; 899  |/////////////////////////////////////////////////////////////////////////////////
                             2535 ; 900  |//  Contrast
                             2536 ; 901  |/////////////////////////////////////////////////////////////////////////////////
                             2537 ; 902  |//$FILENAME contrast_title.src
                             2538 ; 903  |#define RSRC_CONTRAST_TITLE 331    
                             2539 ; 904  |//$FILENAME contrast_frame.src
                             2540 ; 905  |#define RSRC_CONTRAST_FRAME 332    
                             2541 ; 906  |//$FILENAME contrast_level0.src
                             2542 ; 907  |#define RSRC_CONTRAST_LEVEL_0 333    
                             2543 ; 908  |//$FILENAME contrast_level1.src
                             2544 ; 909  |#define RSRC_CONTRAST_LEVEL_1 334    
                             2545 ; 910  |//$FILENAME contrast_level2.src
                             2546 ; 911  |#define RSRC_CONTRAST_LEVEL_2 335    
                             2547 ; 912  |//$FILENAME contrast_level3.src
                             2548 ; 913  |#define RSRC_CONTRAST_LEVEL_3 336    
                             2549 ; 914  |//$FILENAME contrast_level4.src
                             2550 ; 915  |#define RSRC_CONTRAST_LEVEL_4 337    
                             2551 ; 916  |//$FILENAME contrast_level5.src
                             2552 ; 917  |#define RSRC_CONTRAST_LEVEL_5 338    
                             2553 ; 918  |//$FILENAME contrast_level6.src
                             2554 ; 919  |#define RSRC_CONTRAST_LEVEL_6 339    
                             2555 ; 920  |//$FILENAME contrast_level7.src
                             2556 ; 921  |#define RSRC_CONTRAST_LEVEL_7 340    
                             2557 ; 922  |//$FILENAME contrast_level8.src
                             2558 ; 923  |#define RSRC_CONTRAST_LEVEL_8 341    
                             2559 ; 924  |//$FILENAME contrast_level9.src
                             2560 ; 925  |#define RSRC_CONTRAST_LEVEL_9 342    
                             2561 ; 926  |//$FILENAME contrast_level10.src
                             2562 ; 927  |#define RSRC_CONTRAST_LEVEL_10 343    
                             2563 ; 928  |
                             2564 ; 929  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2565 ; 930  |// Funclets
                             2566 ; 931  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2567 ; 932  |//$FILENAME Funclet_SetRTC.src
                             2568 ; 933  |#define RSRC_FUNCLET_SET_RTC 344    
                             2569 ; 934  |//$FILENAME Funclet_InitRTC.src
                             2570 ; 935  |#define RSRC_FUNCLET_INIT_RTC 345    
                             2571 ; 936  |//$FILENAME Funclet_ReadRTC.src
                             2572 ; 937  |#define RSRC_FUNCLET_READ_RTC 346    
                             2573 ; 938  |//$FILENAME Funclet_SysResetAllInt.src
                             2574 ; 939  |#define RSRC_FUNCLET_SYSRESETALLINT 347    
                             2575 ; 940  |//$FILENAME Funclet_SysSetupDecVec.src
                             2576 ; 941  |#define RSRC_FUNCLET_SYSSETUPDECVEC 348    
                             2577 ; 942  |//$FILENAME Funclet_SysSetupEncVec.src
                             2578 ; 943  |#define RSRC_FUNCLET_SYSSETUPENCVEC 349    
                             2579 ; 944  |//$FILENAME Funclet_SysTimeInit.src
                             2580 ; 945  |#define RSRC_FUNCLET_SYSTIMEINIT 350    
                             2581 ; 946  |//$FILENAME Funclet_AnalogInit.src
                             2582 ; 947  |#define RSRC_FUNCLET_ANALOGINIT 351    
                             2583 ; 948  |//$FILENAME Funclet_UsbConnected.src
                             2584 ; 949  |#define RSRC_FUNCLET_USBCONNECTED 352    
                             2585 ; 950  |//$FILENAME Funclet_ButtonInit.src
                             2586 ; 951  |#define RSRC_FUNCLET_BUTTONINIT 353    
                             2587 ; 952  |//$FILENAME Funclet_PowerUpHeadPhones.src
                             2588 ; 953  |#define RSRC_FUNCLET_POWERUPHEADPHONES 354    
                             2589 ; 954  |//$FILENAME Funclet_PowerDownHeadPhones.src
                             2590 ; 955  |#define RSRC_FUNCLET_POWERDOWNHEADPHONES 355    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  43

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2591 ; 956  |//$FILENAME Funclet_StartProject.src
                             2592 ; 957  |#define RSRC_FUNCLET_STARTPROJECT 356    
                             2593 ; 958  |//$FILENAME Funclet_ModuleSetTimer.src
                             2594 ; 959  |#define RSRC_FUNCLET_MODULESETTIMER 357    
                             2595 ; 960  |//$FILENAME null.src
                             2596 ; 961  |#define RSRC_FUNCLET_MEDIADETECTION 358    
                             2597 ; 962  |//$FILENAME Funclet_SysStopDecoder.src
                             2598 ; 963  |#define RSRC_FUNCLET_SYSSTOPDECODER 359    
                             2599 ; 964  |//$FILENAME Funclet_SysStopEncoder.src
                             2600 ; 965  |#define RSRC_FUNCLET_SYSSTOPENCODER 360    
                             2601 ; 966  |//$FILENAME Funclet_SysSetDecoder.src
                             2602 ; 967  |#define RSRC_FUNCLET_SYSSETDECODER 361    
                             2603 ; 968  |//$FILENAME Funclet_SysSetEncoder.src
                             2604 ; 969  |#define RSRC_FUNCLET_SYSSETENCODER 362    
                             2605 ; 970  |//$FILENAME null.src
                             2606 ; 971  |#define RSRC_FUNCLET_PROCESSPT 363    
                             2607 ; 972  |//$FILENAME Funclet_DisplaySplashScreen.src
                             2608 ; 973  |#define RSRC_FUNCLET_DISPLAYSPLASHSCREEN 364    
                             2609 ; 974  |//$FILENAME Funclet_SysGetVolume.src
                             2610 ; 975  |#define RSRC_FUNCLET_SYSGETVOLUME 365    
                             2611 ; 976  |//$FILENAME null.src
                             2612 ; 977  |#define RSRC_FUNCLET_MMCENUMERATEPHYSICALDEVICE 366    
                             2613 ; 978  |//$FILENAME null.src
                             2614 ; 979  |#define RSRC_FUNCLET_RESETDEVICE 367    
                             2615 ; 980  |//$FILENAME null.src
                             2616 ; 981  |#define RSRC_FUNCLET_PROCESSCSD 368    
                             2617 ; 982  |//$FILENAME null.src
                             2618 ; 983  |#define RSRC_FUNCLET_PROCESSPARTITION 369    
                             2619 ; 984  |//$FILENAME null.src
                             2620 ; 985  |#define RSRC_FUNCLET_PARTITIONENTRYCOPY 370    
                             2621 ; 986  |//$FILENAME Funclet_MixerMasterFadeOut.src
                             2622 ; 987  |#define RSRC_FUNCLET_MIXER_MASTER_FADE_OUT 371    
                             2623 ; 988  |//$FILENAME Funclet_MixerMasterFadeIn.src
                             2624 ; 989  |#define RSRC_FUNCLET_MIXER_MASTER_FADE_IN 372    
                             2625 ; 990  |//$FILENAME Funclet_EncSetProperties.src
                             2626 ; 991  |#define RSRC_FUNCLET_ENCSETPROPERTIES 373    
                             2627 ; 992  |//$FILENAME null.src
                             2628 ; 993  |#define RSRC_FUNCLET_DOESMBREXIST 374    
                             2629 ; 994  |//$FILENAME null.src
                             2630 ; 995  |#define RSRC_FUNCLET_EXTRACTPARTITIONPARAMETERS 375    
                             2631 ; 996  |//$FILENAME Funclet_SaveSettings.src
                             2632 ; 997  |#define RSRC_FUNCLET_SYSSAVESETTINGS 376    
                             2633 ; 998  |//$FILENAME Funclet_LoadSettings.src
                             2634 ; 999  |#define RSRC_FUNCLET_SYSLOADSETTINGS 377    
                             2635 ; 1000 |///////////////////////////////////////////////////////////////
                             2636 ; 1001 |// Sanyo FM Tuner Fuclet
                             2637 ; 1002 |///////////////////////////////////////////////////////////////
                             2638 ; 1003 |//RSRC_FUNCLET_TUNER_DRIVER_INIT    equ      334    ;$FILENAME Funclet_TunerDriverInit.src
                                  
                             2639 ; 1004 |//RSRC_FUNCLET_TUNER_SCAN_STATIONS    equ      335    ;$FILENAME Funclet_TunerScanStations
                                  .src
                             2640 ; 1005 |//RSRC_FUNCLET_TUNER_SET_TO_PRESET    equ      336    ;$FILENAME Funclet_TunerSetToPreset.
                                  src
                             2641 ; 1006 |//RSRC_FUNCLET_TUNER_SET_MONO_STEREO    equ      337    ;$FILENAME Funclet_TunerSetMonoSte
                                  reo.src
                             2642 ; 1007 |//RSRC_FUNCLET_TUNER_SET_STANDBY    equ      338    ;$FILENAME Funclet_TunerSetStandby.src
                                  
                             2643 ; 1008 |//RSRC_FUNCLET_TUNER_SET_PRESET    equ      339    ;$FILENAME Funclet_TunerSetPreset.src
                             2644 ; 1009 |//RSRC_FUNCLET_TUNER_ERASE_PRESET    equ      340    ;$FILENAME Funclet_TunerErasePreset.s
                                  rc
                             2645 ; 1010 |//RSRC_FUNCLET_TUNER_SET_IF    equ      341    ;$FILENAME Funclet_TunerSetIf.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  44

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2646 ; 1011 |//RSRC_FUNCLET_TUNER_WRITE_IF_OSC    equ      342    ;$FILENAME Funclet_TunerWriteIfOSc.sr
                                  c
                             2647 ; 1012 |//RSRC_FUNCLET_TUNER_GET_FIELD_STRENGTH    equ      343    ;$FILENAME Funclet_TunerGetFiel
                                  dStrength.src
                             2648 ; 1013 |//RSRC_FUNCLET_TUNER_INIT_RF_CAP_OSC    equ      344    ;$FILENAME Funclet_TunerInitRfCapO
                                  sc.src
                             2649 ; 1014 |//RSRC_FUNCLET_TUNER_STORE_FM_STATION    equ      345    ;$FILENAME Funclet_TunerStoreFmSt
                                  ation.src
                             2650 ; 1015 |//RSRC_FUNCLET_TUNER_STORE_FM_PRESET    equ      346    ;$FILENAME Funclet_TunerStoreFmPre
                                  set.src
                             2651 ; 1016 |//RSRC_FUNCLET_TUNER_SET_REGION    equ      347    ;$FILENAME Funclet_TunerSetRegion.src
                             2652 ; 1017 |
                             2653 ; 1018 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2654 ; 1019 |// WMA Resources
                             2655 ; 1020 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2656 ; 1021 |//$FILENAME wmaCore.src
                             2657 ; 1022 |#define RSRC_WMA_CORE 378    
                             2658 ; 1023 |//$FILENAME wmaMidLow.src
                             2659 ; 1024 |#define RSRC_WMA_MIDLOW 379    
                             2660 ; 1025 |//$FILENAME wmaHigh.src
                             2661 ; 1026 |#define RSRC_WMA_HIGH 380    
                             2662 ; 1027 |//$FILENAME wmaHighMid.src
                             2663 ; 1028 |#define RSRC_WMA_HIGHMID 381    
                             2664 ; 1029 |//$FILENAME wmaMid.src
                             2665 ; 1030 |#define RSRC_WMA_MID 382    
                             2666 ; 1031 |//$FILENAME wmaLow.src
                             2667 ; 1032 |#define RSRC_WMA_LOW 383    
                             2668 ; 1033 |//$FILENAME wmaX1mem.src
                             2669 ; 1034 |#define RSRC_WMA_DATA_X1 384    
                             2670 ; 1035 |//$FILENAME wmaYmem.src
                             2671 ; 1036 |#define RSRC_WMA_DATA_Y 385    
                             2672 ; 1037 |//$FILENAME wmaLXmem.src
                             2673 ; 1038 |#define RSRC_WMA_DATA_L_X 386    
                             2674 ; 1039 |//$FILENAME wmaLYmem.src
                             2675 ; 1040 |#define RSRC_WMA_DATA_L_Y 387    
                             2676 ; 1041 |//$FILENAME wmaHuff44Qb.src
                             2677 ; 1042 |#define RSRC_WMA_HUFF44QB 388    
                             2678 ; 1043 |//$FILENAME wmaHuff44Ob.src
                             2679 ; 1044 |#define RSRC_WMA_HUFF44OB 389    
                             2680 ; 1045 |//$FILENAME wmaHuff16Ob.src
                             2681 ; 1046 |#define RSRC_WMA_HUFF16OB 390    
                             2682 ; 1047 |//$FILENAME drmpdcommon.src
                             2683 ; 1048 |#define RSRC_DRMPD_COMMON 391    
                             2684 ; 1049 |//$FILENAME januswmasupport.src
                             2685 ; 1050 |#define RSRC_JANUS_WMASUPPORT 392    
                             2686 ; 1051 |//$FILENAME wmalicenseinit.src
                             2687 ; 1052 |#define RSRC_WMA_LICENSEINIT 393    
                             2688 ; 1053 |//$FILENAME wma_tables.src
                             2689 ; 1054 |#define RSRC_WMA_TABLES 394    
                             2690 ; 1055 |//$FILENAME janus_tables.src
                             2691 ; 1056 |#define RSRC_JANUS_TABLES 395    
                             2692 ; 1057 |//$FILENAME wma_constants.src
                             2693 ; 1058 |#define RSRC_WMA_CONSTANTS 396    
                             2694 ; 1059 |//$FILENAME janus_constants.src
                             2695 ; 1060 |#define RSRC_JANUS_CONSTANTS 397    
                             2696 ; 1061 |//$FILENAME janus_xmem.src
                             2697 ; 1062 |#define RSRC_JANUS_X 398    
                             2698 ; 1063 |//$FILENAME janusy_data.src
                             2699 ; 1064 |#define RSRC_JANUSY_DATA 399    
                             2700 ; 1065 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  45

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2701 ; 1066 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2702 ; 1067 |// Fonts -- these are last because they are very large
                             2703 ; 1068 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2704 ; 1069 |//$FILENAME font_table.src
                             2705 ; 1070 |#define RSRC_FONT_TABLE 400    
                             2706 ; 1071 |//$FILENAME font_PGM.src
                             2707 ; 1072 |#define RSRC_PGM_8 401    
                             2708 ; 1073 |//$FILENAME font_SGMs.src
                             2709 ; 1074 |#define RSRC_SGMS_8 402    
                             2710 ; 1075 |//$FILENAME font_script_00.src
                             2711 ; 1076 |#define RSRC_SCRIPT_00_8 403    
                             2712 ; 1077 |//$FILENAME font_scripts.src
                             2713 ; 1078 |#define RSRC_SCRIPTS_8 404    
                             2714 ; 1079 |//$FILENAME font_PDM.src
                             2715 ; 1080 |#define RSRC_PDM 405    
                             2716 ; 1081 |//$FILENAME font_SDMs.src
                             2717 ; 1082 |#define RSRC_SDMS 406    
                             2718 ; 1083 |//$FILENAME bitmap_warning.src
                             2719 ; 1084 |#define RSRC_WARNING 407    
                             2720 ; 1085 |//$FILENAME bitmap_device_full.src
                             2721 ; 1086 |#define RSRC_DEVICE_FULL 408    
                             2722 ; 1087 |
                             2723 ; 1088 |
                             2724 ; 1089 |//$FILENAME lcd_controller_init.src
                             2725 ; 1090 |#define RSRC_LCD_INIT_SEQ 409    
                             2726 ; 1091 |
                             2727 ; 1092 |//$FILENAME Funclet_DBCSToUnicode.src
                             2728 ; 1093 |#define RSRC_FUNCLET_DBCS_TO_UNICODE 410    
                             2729 ; 1094 |//$FILENAME Funclet_DBCSToUnicodeDstXSrcY.src
                             2730 ; 1095 |#define RSRC_FUNCLET_DBCS_TO_UNICODE_DSTX_SRCY 411    
                             2731 ; 1096 |//$FILENAME Funclet_LCDSetFont.src
                             2732 ; 1097 |#define RSRC_FUNCLET_SET_FONT 412    
                             2733 ; 1098 |//$FILENAME Funclet_GetTextWidthAddressUnicode.src
                             2734 ; 1099 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_ADDRESS_UNICODE 413    
                             2735 ; 1100 |//$FILENAME Funclet_GetTextWidthResourceUnicode.src
                             2736 ; 1101 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_RESOURCE_UNICODE 414    
                             2737 ; 1102 |//$FILENAME Funclet_GetTextWidthAddressDBCS.src
                             2738 ; 1103 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_ADDRESS_DBCS 415    
                             2739 ; 1104 |//$FILENAME Funclet_GetTextWidthResourceDBCS.src
                             2740 ; 1105 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_RESOURCE_DBCS 416    
                             2741 ; 1106 |//$FILENAME Funclet_ChipSerialNumberInit.src
                             2742 ; 1107 |#define RSRC_FUNCLET_CHIPSERIALNUMBERINIT 417    
                             2743 ; 1108 |//$FILENAME Funclet_InternalMediaSerialNumberInit.src
                             2744 ; 1109 |#define RSRC_FUNCLET_INTERNALMEDIASERIALNUMBERINIT 418    
                             2745 ; 1110 |//$FILENAME Funclet_ChipGetSerialNumber.src
                             2746 ; 1111 |#define RSRC_FUNCLET_CHIPGETSERIALNUMBER 419    
                             2747 ; 1112 |//$FILENAME Funclet_CreateNullSerialNumber.src
                             2748 ; 1113 |#define RSRC_FUNCLET_CREATENULLSERIALNUMBER 420    
                             2749 ; 1114 |//$FILENAME Funclet_ConvertHexToASCII.src
                             2750 ; 1115 |#define RSRC_FUNCLET_CONVERTHEXTOASCII 421    
                             2751 ; 1116 |//$FILENAME Funclet_LowResolutionAdcInit.src
                             2752 ; 1117 |#define RSRC_FUNCLET_LOWRESOLUTIONADCINIT 422    
                             2753 ; 1118 |
                             2754 ; 1119 |
                             2755 ; 1120 |//$FILENAME sysrecord.src
                             2756 ; 1121 |#define RSRC_SYSRECORD_CODE 423    
                             2757 ; 1122 |
                             2758 ; 1123 |//$FILENAME string_record_settings.src
                             2759 ; 1124 |#define RSRC_STRING_RECORD_SETTINGS 424    
                             2760 ; 1125 |//$FILENAME string_sample_rate.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  46

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2761 ; 1126 |#define RSRC_STRING_SAMPLE_RATE 425    
                             2762 ; 1127 |//$FILENAME string_encoder.src
                             2763 ; 1128 |#define RSRC_STRING_ENCODER 426    
                             2764 ; 1129 |//$FILENAME string_adpcm.src
                             2765 ; 1130 |#define RSRC_STRING_ADPCM 427    
                             2766 ; 1131 |//$FILENAME string_msadpcm.src
                             2767 ; 1132 |#define RSRC_STRING_MSADPCM 428    
                             2768 ; 1133 |//$FILENAME string_imadpcm.src
                             2769 ; 1134 |#define RSRC_STRING_IMADPCM 429    
                             2770 ; 1135 |//$FILENAME string_pcm.src
                             2771 ; 1136 |#define RSRC_STRING_PCM 430    
                             2772 ; 1137 |//$FILENAME string_internal.src
                             2773 ; 1138 |#define RSRC_STRING_INTERNAL 431    
                             2774 ; 1139 |//$FILENAME string_external.src
                             2775 ; 1140 |#define RSRC_STRING_EXTERNAL 432    
                             2776 ; 1141 |//$FILENAME string_device.src
                             2777 ; 1142 |#define RSRC_STRING_DEVICE 433    
                             2778 ; 1143 |//$FILENAME string_source.src
                             2779 ; 1144 |#define RSRC_STRING_SOURCE 434    
                             2780 ; 1145 |//$FILENAME string_microphone.src
                             2781 ; 1146 |#define RSRC_STRING_MICROPHONE 435    
                             2782 ; 1147 |//$FILENAME string_linein.src
                             2783 ; 1148 |#define RSRC_STRING_LINEIN 436    
                             2784 ; 1149 |//$FILENAME string_bits.src
                             2785 ; 1150 |#define RSRC_STRING_BITS 437    
                             2786 ; 1151 |//$FILENAME string_4.src
                             2787 ; 1152 |#define RSRC_STRING_4 438    
                             2788 ; 1153 |//$FILENAME string_8.src
                             2789 ; 1154 |#define RSRC_STRING_8 439    
                             2790 ; 1155 |//$FILENAME string_16.src
                             2791 ; 1156 |#define RSRC_STRING_16 440    
                             2792 ; 1157 |//$FILENAME string_24.src
                             2793 ; 1158 |#define RSRC_STRING_24 441    
                             2794 ; 1159 |//$FILENAME string_fm.src
                             2795 ; 1160 |#define RSRC_STRING_FM 442    
                             2796 ; 1161 |//$FILENAME string_mono.src
                             2797 ; 1162 |#define RSRC_STRING_MONO 443    
                             2798 ; 1163 |//$FILENAME string_stereo.src
                             2799 ; 1164 |#define RSRC_STRING_STEREO 444    
                             2800 ; 1165 |//$FILENAME string_8000hz.src
                             2801 ; 1166 |#define RSRC_STRING_8000HZ 445    
                             2802 ; 1167 |//$FILENAME string_11025hz.src
                             2803 ; 1168 |#define RSRC_STRING_11025HZ 446    
                             2804 ; 1169 |//$FILENAME string_16000hz.src
                             2805 ; 1170 |#define RSRC_STRING_16000HZ 447    
                             2806 ; 1171 |//$FILENAME string_22050hz.src
                             2807 ; 1172 |#define RSRC_STRING_22050HZ 448    
                             2808 ; 1173 |//$FILENAME string_32000hz.src
                             2809 ; 1174 |#define RSRC_STRING_32000HZ 449    
                             2810 ; 1175 |//$FILENAME string_44100hz.src
                             2811 ; 1176 |#define RSRC_STRING_44100HZ 450    
                             2812 ; 1177 |//$FILENAME string_48000hz.src
                             2813 ; 1178 |#define RSRC_STRING_48000HZ 451    
                             2814 ; 1179 |//$FILENAME string_channels.src
                             2815 ; 1180 |#define RSRC_STRING_CHANNELS 452    
                             2816 ; 1181 |//$FILENAME string_spaces.src
                             2817 ; 1182 |#define RSRC_STRING_SPACES 453    
                             2818 ; 1183 |//$FILENAME slider_bar.src
                             2819 ; 1184 |#define RSRC_SLIDER_BAR 454    
                             2820 ; 1185 |//$FILENAME slider_bar_inv.src
                             2821 ; 1186 |#define RSRC_SLIDER_BAR_INV 455    
                             2822 ; 1187 |//$FILENAME slider_track.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  47

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2823 ; 1188 |#define RSRC_SLIDER_TRACK 456    
                             2824 ; 1189 |//$FILENAME string_no_files.src
                             2825 ; 1190 |#define RSRC_STRING_NO_FILES 457    
                             2826 ; 1191 |
                             2827 ; 1192 |/////////////////////////////////////////////////////////////////////
                             2828 ; 1193 |//  Time and Date Resource Strings
                             2829 ; 1194 |/////////////////////////////////////////////////////////////////////
                             2830 ; 1195 |//$FILENAME string_sunday.src
                             2831 ; 1196 |#define RSRC_STRING_SUNDAY 458    
                             2832 ; 1197 |//$FILENAME string_monday.src
                             2833 ; 1198 |#define RSRC_STRING_MONDAY 459    
                             2834 ; 1199 |//$FILENAME string_tuesday.src
                             2835 ; 1200 |#define RSRC_STRING_TUESDAY 460    
                             2836 ; 1201 |//$FILENAME string_wednesday.src
                             2837 ; 1202 |#define RSRC_STRING_WEDNESDAY 461    
                             2838 ; 1203 |//$FILENAME string_thursday.src
                             2839 ; 1204 |#define RSRC_STRING_THURSDAY 462    
                             2840 ; 1205 |//$FILENAME string_friday.src
                             2841 ; 1206 |#define RSRC_STRING_FRIDAY 463    
                             2842 ; 1207 |//$FILENAME string_saturday.src
                             2843 ; 1208 |#define RSRC_STRING_SATURDAY 464    
                             2844 ; 1209 |//$FILENAME string_am.src
                             2845 ; 1210 |#define RSRC_STRING_AM 465    
                             2846 ; 1211 |//$FILENAME string_pm.src
                             2847 ; 1212 |#define RSRC_STRING_PM 466    
                             2848 ; 1213 |//$FILENAME string_amclear.src
                             2849 ; 1214 |#define RSRC_STRING_AMCLEAR 467    
                             2850 ; 1215 |//$FILENAME string_slash.src
                             2851 ; 1216 |#define RSRC_STRING_SLASH 468    
                             2852 ; 1217 |//$FILENAME string_colon.src
                             2853 ; 1218 |#define RSRC_STRING_COLON 469    
                             2854 ; 1219 |//$FILENAME string_12hour.src
                             2855 ; 1220 |#define RSRC_STRING_12HOUR 470    
                             2856 ; 1221 |//$FILENAME string_24hour.src
                             2857 ; 1222 |#define RSRC_STRING_24HOUR 471    
                             2858 ; 1223 |//$FILENAME string_format.src
                             2859 ; 1224 |#define RSRC_STRING_FORMAT 472    
                             2860 ; 1225 |//$FILENAME string_mmddyyyy.src
                             2861 ; 1226 |#define RSRC_STRING_MMDDYYYY 473    
                             2862 ; 1227 |//$FILENAME string_ddmmyyyy.src
                             2863 ; 1228 |#define RSRC_STRING_DDMMYYYY 474    
                             2864 ; 1229 |//$FILENAME string_yyyymmdd.src
                             2865 ; 1230 |#define RSRC_STRING_YYYYMMDD 475    
                             2866 ; 1231 |//$FILENAME string_ok.src
                             2867 ; 1232 |#define RSRC_STRING_OK 476    
                             2868 ; 1233 |//$FILENAME string_cancel.src
                             2869 ; 1234 |#define RSRC_STRING_CANCEL 477    
                             2870 ; 1235 |//$FILENAME negative_sign.src
                             2871 ; 1236 |#define RSRC_NEGATIVE_SIGN 478    
                             2872 ; 1237 |//$FILENAME string_dec_pt5.src
                             2873 ; 1238 |#define RSRC_DEC_PT5_STRING 479    
                             2874 ; 1239 |//$FILENAME string_dec_pt0.src
                             2875 ; 1240 |#define RSRC_DEC_PT0_STRING 480    
                             2876 ; 1241 |//$FILENAME string_db.src
                             2877 ; 1242 |#define RSRC_DB_STRING 481    
                             2878 ; 1243 |//$FILENAME string_hz2.src
                             2879 ; 1244 |#define RSRC_HZ2_STRING 482    
                             2880 ; 1245 |
                             2881 ; 1246 |
                             2882 ; 1247 |//$FILENAME record_settings_menu_code_bank.src
                             2883 ; 1248 |#define RSRC_RECORD_SETTINGS_MENU_CODE_BANK 483    
                             2884 ; 1249 |//$FILENAME metadata_codebank.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  48

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2885 ; 1250 |#define RSRC_METADATA_CODEBANK 484    
                             2886 ; 1251 |//$FILENAME mp3metadata_codebank.src
                             2887 ; 1252 |#define RSRC_MP3_METADATA_CODEBANK 485    
                             2888 ; 1253 |//$FILENAME wmametadata_codebank.src
                             2889 ; 1254 |#define RSRC_WMA_METADATA_CODEBANK 486    
                             2890 ; 1255 |//$FILENAME wavmetadata_codebank.src
                             2891 ; 1256 |#define RSRC_WAV_METADATA_CODEBANK 487    
                             2892 ; 1257 |//$FILENAME smvmetadata_codebank.src
                             2893 ; 1258 |#define RSRC_SMV_METADATA_CODEBANK 488    
                             2894 ; 1259 |//$FILENAME playlist2init_codebank.src
                             2895 ; 1260 |#define RSRC_PLAYLIST2INIT_CODEBANK 489    
                             2896 ; 1261 |
                             2897 ; 1262 |//$FILENAME delete_successful.src
                             2898 ; 1263 |#define RSRC_DELETE_SUCCESSFUL 490    
                             2899 ; 1264 |//$FILENAME delete_error.src
                             2900 ; 1265 |#define RSRC_DELETE_ERROR 491    
                             2901 ; 1266 |//$FILENAME lic_expired.src
                             2902 ; 1267 |#define RSRC_LIC_EXPIRED 492    
                             2903 ; 1268 |//$FILENAME id3v2_codebank.src
                             2904 ; 1269 |#define RSRC_ID3V2_CODEBANK 493    
                             2905 ; 1270 |//$FILENAME id3v2lyrics_codebank.src
                             2906 ; 1271 |#define RSRC_ID3V2_LYRICS_CODEBANK 494    
                             2907 ; 1272 |//$FILENAME lyrics3_codebank.src
                             2908 ; 1273 |#define RSRC_LYRICS3_CODEBANK 495    
                             2909 ; 1274 |//$FILENAME lrc_codebank.src
                             2910 ; 1275 |#define RSRC_LRC_CODEBANK 496    
                             2911 ; 1276 |//$FILENAME lyrics_api_codebank.src
                             2912 ; 1277 |#define RSRC_LYRICS_API_CODEBANK 497    
                             2913 ; 1278 |//$FILENAME wmalyrics_codebank.src
                             2914 ; 1279 |#define RSRC_WMA_LYRICS_CODEBANK 498    
                             2915 ; 1280 |//$FILENAME apicframe_codebank.src
                             2916 ; 1281 |#define RSRC_APIC_FRAME_CODEBANK 499    
                             2917 ; 1282 |
                             2918 ; 1283 |//$FILENAME exmediaerror1.src
                             2919 ; 1284 |#define RSRC_EXTERNAL_MEDIA_ERROR1 500    
                             2920 ; 1285 |//$FILENAME exmediaerror2.src
                             2921 ; 1286 |#define RSRC_EXTERNAL_MEDIA_ERROR2 501    
                             2922 ; 1287 |//$FILENAME inmediaerror1.src
                             2923 ; 1288 |#define RSRC_INTERNAL_MEDIA_ERROR1 502    
                             2924 ; 1289 |
                             2925 ; 1290 |//$FILENAME backlight_title.src
                             2926 ; 1291 |#define RSRC_BACKLIGHT_TITLE 503    
                             2927 ; 1292 |//$FILENAME backlight_state_on.src
                             2928 ; 1293 |#define RSRC_BACKLIGHT_STATE_ON 504    
                             2929 ; 1294 |//$FILENAME backlight_state_off.src
                             2930 ; 1295 |#define RSRC_BACKLIGHT_STATE_OFF 505    
                             2931 ; 1296 |//$FILENAME backlightmenu.src
                             2932 ; 1297 |#define RSRC_BACKLIGHT_MENU_CODE_BANK 506    
                             2933 ; 1298 |//$FILENAME string_backlight_menu.src
                             2934 ; 1299 |#define RSRC_STRING_BACKLIGHT_MENU 507    
                             2935 ; 1300 |
                             2936 ; 1301 |//$FILENAME enc_mp3mod.src
                             2937 ; 1302 |#define RSRC_ENC_MP3_MOD_CODE 508    
                             2938 ; 1303 |//$FILENAME enc_mp3p.src
                             2939 ; 1304 |#define RSRC_ENC_MP3P_CODE 509    
                             2940 ; 1305 |//$FILENAME enc_mp3x.src
                             2941 ; 1306 |#define RSRC_ENC_MP3X_CODE 510    
                             2942 ; 1307 |//$FILENAME enc_mp3y.src
                             2943 ; 1308 |#define RSRC_ENC_MP3Y_CODE 511    
                             2944 ; 1309 |//$FILENAME mp3_implementation.src
                             2945 ; 1310 |#define RSRC_MP3_IMPLEMENTATION 512    
                             2946 ; 1311 |//$FILENAME string_mp3.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  49

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2947 ; 1312 |#define RSRC_STRING_MP3 513    
                             2948 ; 1313 |//$FILENAME string_all.src
                             2949 ; 1314 |#define RSRC_STRING_ALL 514    
                             2950 ; 1315 |
                             2951 ; 1316 |//$FILENAME mediastartup.src
                             2952 ; 1317 |#define RSRC_NANDMEDIAINIT 515    
                             2953 ; 1318 |#define RSRC_NANDMEDIAALLOCATE 0
                             2954 ; 1319 |#define RSRC_NANDMEDIADISCOVERALLOCATION 0
                             2955 ; 1320 |#define RSRC_NANDMEDIAGETMEDIATABLE RSRC_NANDMEDIAINIT
                             2956 ; 1321 |#define RSRC_NANDMEDIAGETINFO RSRC_NANDMEDIAINIT
                             2957 ; 1322 |#define RSRC_NANDMEDIAERASE 0
                             2958 ; 1323 |
                             2959 ; 1324 |//$FILENAME nanddatadriveinit.src
                             2960 ; 1325 |#define RSRC_NANDDATADRIVEINIT 516    
                             2961 ; 1326 |#define RSRC_NANDDATADRIVEGETINFO RSRC_NANDDATADRIVEREADSECTOR
                             2962 ; 1327 |#define RSRC_NANDDATADRIVESETINFO 0
                             2963 ; 1328 |//$FILENAME nanddatadrivereadsector.src
                             2964 ; 1329 |#define RSRC_NANDDATADRIVEREADSECTOR 517    
                             2965 ; 1330 |#define RSRC_NANDDATADRIVEWRITESECTOR RSRC_NANDDATADRIVEREADSECTOR
                             2966 ; 1331 |#define RSRC_NANDDATADRIVEDUMBMULTIWRITESETUP 0
                             2967 ; 1332 |#define RSRC_NANDDATADRIVEDUMBMULTIWRITESECTOR 0
                             2968 ; 1333 |#define RSRC_NANDDATADRIVECACHEMULTIWRITESETUP 0
                             2969 ; 1334 |#define RSRC_NANDDATADRIVECACHEMULTIWRITESECTOR 0
                             2970 ; 1335 |#define RSRC_NANDDATADRIVEERASE 0
                             2971 ; 1336 |#define RSRC_NANDDATADRIVEFLUSH RSRC_NANDDATADRIVEREADSECTOR
                             2972 ; 1337 |
                             2973 ; 1338 |#define RSRC_NANDSYSTEMDRIVEINIT RSRC_NANDMEDIAINIT
                             2974 ; 1339 |#define RSRC_NANDSYSTEMDRIVEGETINFO RSRC_NANDMEDIAINIT
                             2975 ; 1340 |#define RSRC_NANDSYSTEMDRIVESETINFO 0
                             2976 ; 1341 |#define RSRC_NANDSYSTEMDRIVEREADSECTOR 0
                             2977 ; 1342 |#define RSRC_NANDSYSTEMDRIVEWRITESECTOR 0
                             2978 ; 1343 |#define RSRC_NANDSYSTEMDRIVEMULTIWRITESETUP 0
                             2979 ; 1344 |#define RSRC_NANDSYSTEMDRIVEMULTIWRITESECTOR 0
                             2980 ; 1345 |#define RSRC_NANDSYSTEMDRIVEERASE 0
                             2981 ; 1346 |#define RSRC_NANDSYSTEMDRIVEFLUSH 0
                             2982 ; 1347 |
                             2983 ; 1348 |//$FILENAME vbr_codebank.src
                             2984 ; 1349 |#define RSRC_VBR_CODEBANK 518    
                             2985 ; 1350 |
                             2986 ; 1351 |//$FILENAME string_recordtest_menu.src
                             2987 ; 1352 |#define RSRC_STRING_RECORDTEST_MENU 519    
                             2988 ; 1353 |//$FILENAME string_recordtest_duration.src
                             2989 ; 1354 |#define RSRC_STRING_DURATION 520    
                             2990 ; 1355 |//$FILENAME string_recordtest_time5.src
                             2991 ; 1356 |#define RSRC_STRING_TIME5 521    
                             2992 ; 1357 |//$FILENAME string_recordtest_time10.src
                             2993 ; 1358 |#define RSRC_STRING_TIME10 522    
                             2994 ; 1359 |//$FILENAME string_recordtest_time30.src
                             2995 ; 1360 |#define RSRC_STRING_TIME30 523    
                             2996 ; 1361 |//$FILENAME string_recordtest_time60.src
                             2997 ; 1362 |#define RSRC_STRING_TIME60 524    
                             2998 ; 1363 |//$FILENAME string_recordtest_time300.src
                             2999 ; 1364 |#define RSRC_STRING_TIME300 525    
                             3000 ; 1365 |//$FILENAME string_recordtest_time600.src
                             3001 ; 1366 |#define RSRC_STRING_TIME600 526    
                             3002 ; 1367 |
                             3003 ; 1368 |//$FILENAME test_title.src
                             3004 ; 1369 |#define RSRC_TEST_TITLE 527    
                             3005 ; 1370 |//$FILENAME testmenu.src
                             3006 ; 1371 |#define RSRC_TEST_MENU_CODE_BANK 528    
                             3007 ; 1372 |
                             3008 ; 1373 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  50

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3009 ; 1374 |//$FILENAME mmcmediastartup.src
                             3010 ; 1375 |#define RSRC_MMCDATADRIVEINIT 529    
                             3011 ; 1376 |#define RSRC_MMCMEDIAALLOCATE RSRC_MMCDATADRIVEINIT
                             3012 ; 1377 |#define RSRC_MMCMEDIADISCOVERALLOCATION RSRC_MMCDATADRIVEINIT
                             3013 ; 1378 |//$FILENAME mmcinfo.src
                             3014 ; 1379 |#define RSRC_MMCMEDIAGETINFO 530    
                             3015 ; 1380 |#define RSRC_MMCMEDIAGETMEDIATABLE RSRC_MMCMEDIAGETINFO
                             3016 ; 1381 |//$FILENAME mmcerase.src
                             3017 ; 1382 |#define RSRC_MMCMEDIAERASE 531    
                             3018 ; 1383 |
                             3019 ; 1384 |
                             3020 ; 1385 |#define RSRC_MMCDATADRIVEFLUSH RSRC_MMCDATADRIVEINIT
                             3021 ; 1386 |
                             3022 ; 1387 |//$FILENAME mmcenumerate.src
                             3023 ; 1388 |#define RSRC_MMCENUMERATE 532    
                             3024 ; 1389 |//$FILENAME mmcresetdevice.src
                             3025 ; 1390 |#define RSRC_MMC_RESETDEVICE 533    
                             3026 ; 1391 |//$FILENAME mmcprocesscsd.src
                             3027 ; 1392 |#define RSRC_MMC_PROCESSCSD 534    
                             3028 ; 1393 |//$FILENAME mmcprocesscid.src
                             3029 ; 1394 |#define RSRC_MMC_PROCESSCID 535    
                             3030 ; 1395 |//$FILENAME mmcprocesscid2.src
                             3031 ; 1396 |#define RSRC_FUNCLET_MMCPROCESSCID2 536    
                             3032 ; 1397 |//$FILENAME mmcdetectpresence.src
                             3033 ; 1398 |#define RSRC_MMC_DETECTPRESENCE 537    
                             3034 ; 1399 |//$FILENAME mmcserialnumberinit.src
                             3035 ; 1400 |#define RSRC_MMCSERIALNUMBERINIT 538    
                             3036 ; 1401 |//$FILENAME mmccheckwriteprotect.src
                             3037 ; 1402 |#define RSRC_MMC_CHECKWRITEPROTECT 539    
                             3038 ; 1403 |
                             3039 ; 1404 |//$FILENAME mmcread.src
                             3040 ; 1405 |#define RSRC_MMCDATADRIVEREADSECTOR 540    
                             3041 ; 1406 |//$FILENAME mmcmediainit.src
                             3042 ; 1407 |#define RSRC_MMCMEDIAINIT 541    
                             3043 ; 1408 |//$FILENAME mmcdatadriveinfo.src
                             3044 ; 1409 |#define RSRC_MMCDATADRIVESETINFO 542    
                             3045 ; 1410 |#define RSRC_MMCDATADRIVEGETINFO RSRC_MMCDATADRIVESETINFO
                             3046 ; 1411 |//$FILENAME mmcdatadriveerase.src
                             3047 ; 1412 |#define RSRC_MMCDATADRIVEERASE 543    
                             3048 ; 1413 |
                             3049 ; 1414 |#define RSRC_MMCDATADRIVEWRITESECTOR RSRC_MMCDATADRIVEREADSECTOR
                             3050 ; 1415 |#define RSRC_MMCDATADRIVEMULTIWRITESETUP RSRC_MMCDATADRIVEWRITESECTOR
                             3051 ; 1416 |#define RSRC_MMCDATADRIVEMULTIWRITESECTOR RSRC_MMCDATADRIVEWRITESECTOR
                             3052 ; 1417 |
                             3053 ; 1418 |
                             3054 ; 1419 |/////////////////////////////////////////////////////////////////////////////////
                             3055 ; 1420 |//  File system
                             3056 ; 1421 |/////////////////////////////////////////////////////////////////////////////////
                             3057 ; 1422 |//$FILENAME arrangefilename.src
                             3058 ; 1423 |#define RSRC_FUNCLET_ARRANGEFILENAME 544    
                             3059 ; 1424 |//$FILENAME clearcluster.src
                             3060 ; 1425 |#define RSRC_FUNCLET_CLEARCLUSTER 545    
                             3061 ; 1426 |//$FILENAME createdirectory.src
                             3062 ; 1427 |#define RSRC_FUNCLET_CREATEDIRECTORY 546    
                             3063 ; 1428 |//$FILENAME deletecontent.src
                             3064 ; 1429 |#define RSRC_FUNCLET_DELETECONTENT 547    
                             3065 ; 1430 |//$FILENAME deleterecord.src
                             3066 ; 1431 |#define RSRC_FUNCLET_DELETERECORD 548    
                             3067 ; 1432 |//$FILENAME fastopen.src
                             3068 ; 1433 |#define RSRC_FUNCLET_FASTOPEN 549    
                             3069 ; 1434 |//$FILENAME fcreate.src
                             3070 ; 1435 |#define RSRC_FUNCLET_FCREATE 550    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  51

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3071 ; 1436 |//$FILENAME filegetattrib.src
                             3072 ; 1437 |#define RSRC_FUNCLET_FILEGETATTRIB 551    
                             3073 ; 1438 |//$FILENAME filegetdate.src
                             3074 ; 1439 |#define RSRC_FUNCLET_FILEGETDATE 552    
                             3075 ; 1440 |//$FILENAME filesetattrib.src
                             3076 ; 1441 |#define RSRC_FUNCLET_FILESETATTRIB 553    
                             3077 ; 1442 |//$FILENAME filesetdate.src
                             3078 ; 1443 |#define RSRC_FUNCLET_FILESETDATE 554    
                             3079 ; 1444 |//$FILENAME fsinit.src
                             3080 ; 1445 |#define RSRC_FUNCLET_FSINIT 555    
                             3081 ; 1446 |//$FILENAME fsshutdown.src
                             3082 ; 1447 |#define RSRC_FUNCLET_FSSHUTDOWN 556    
                             3083 ; 1448 |//$FILENAME readdevicerecord.src
                             3084 ; 1449 |#define RSRC_FUNCLET_READDEVICERECORD 557    
                             3085 ; 1450 |//$FILENAME checkspaceinrootdir.src
                             3086 ; 1451 |#define RSRC_FUNCLET_CHECKSPACEINROOTDIR 558    
                             3087 ; 1452 |//$FILENAME setcwdhandle.src
                             3088 ; 1453 |#define RSRC_FUNCLET_SETCWDHANDLE 559    
                             3089 ; 1454 |//$FILENAME fsdriveinit.src
                             3090 ; 1455 |#define RSRC_FUNCLET_FSDRIVEINIT 560    
                             3091 ; 1456 |//$FILENAME fsclearBuf.src
                             3092 ; 1457 |#define RSRC_FUNCLET_FSCLEARDRIVEBUF 561    
                             3093 ; 1458 |//RSRC_FUNCLET_TOTALFREECLUSTER    equ      328    ;$FILENAME totalfreecluster.src
                             3094 ; 1459 |//RSRC_FUNCLET_TOTALFREECLUSTERFAT16    equ      328    ;$FILENAME totalfreeclusterfat16.s
                                  rc
                             3095 ; 1460 |//$FILENAME fgetfasthandle.src
                             3096 ; 1461 |#define RSRC_FUNCLET_FGETFASTHANDLE 562    
                             3097 ; 1462 |//$FILENAME ishandlewriteallocated.src
                             3098 ; 1463 |#define RSRC_FUNCLET_ISHANDLEWRITEALLOCATED 563    
                             3099 ; 1464 |//$FILENAME isfileopen.src
                             3100 ; 1465 |#define RSRC_FUNCLET_ISFILEOPEN 564    
                             3101 ; 1466 |//$FILENAME iscurrworkdir.src
                             3102 ; 1467 |#define RSRC_FUNCLET_ISCURRWORKDIR 565    
                             3103 ; 1468 |//$FILENAME chdir.src
                             3104 ; 1469 |#define RSRC_FUNCLET_CHDIR 566    
                             3105 ; 1470 |//$FILENAME chdirFromOffset.src
                             3106 ; 1471 |#define RSRC_FUNCLET_CHDIR_FROM_OFFSET 567    
                             3107 ; 1472 |//$FILENAME deletetree.src
                             3108 ; 1473 |#define RSRC_FUNCLET_DELETETREE 568    
                             3109 ; 1474 |//$FILENAME deleteallrecords.src
                             3110 ; 1475 |#define RSRC_FUNCLET_DELETEALLRECORDS 569    
                             3111 ; 1476 |//$FILENAME cleardata.src
                             3112 ; 1477 |#define RSRC_FUNCLET_CLEARDATA 570    
                             3113 ; 1478 |//$FILENAME changetolowleveldir.src
                             3114 ; 1479 |#define RSRC_FUNCLET_CHANGETOLOWLEVELDIR 571    
                             3115 ; 1480 |//$FILENAME getrecordnumber.src
                             3116 ; 1481 |#define RSRC_FUNCLET_GETRECORDNUMBER 572    
                             3117 ; 1482 |//$FILENAME fileremove.src
                             3118 ; 1483 |#define RSRC_FUNCLET_FILEREMOVE 573    
                             3119 ; 1484 |//$FILENAME charactersearch.src
                             3120 ; 1485 |#define RSRC_FUNCLET_CHARACTERSEARCH 574    
                             3121 ; 1486 |//$FILENAME stringcompare.src
                             3122 ; 1487 |#define RSRC_FUNCLET_STRINGCOMPARE 575    
                             3123 ; 1488 |//$FILENAME fopenw.src
                             3124 ; 1489 |#define RSRC_FUNCLET_FOPENW 576    
                             3125 ; 1490 |//$FILENAME fremove.src
                             3126 ; 1491 |#define RSRC_FUNCLET_FREMOVE 577    
                             3127 ; 1492 |//$FILENAME fremovew.src
                             3128 ; 1493 |#define RSRC_FUNCLET_FREMOVEW 578    
                             3129 ; 1494 |//$FILENAME mkdir.src
                             3130 ; 1495 |#define RSRC_FUNCLET_MKDIR 579    
                             3131 ; 1496 |//$FILENAME mkdirw.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  52

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3132 ; 1497 |#define RSRC_FUNCLET_MKDIRW 580    
                             3133 ; 1498 |//$FILENAME rmdir.src
                             3134 ; 1499 |#define RSRC_FUNCLET_RMDIR 581    
                             3135 ; 1500 |//$FILENAME rmdirw.src
                             3136 ; 1501 |#define RSRC_FUNCLET_RMDIRW 582    
                             3137 ; 1502 |//$FILENAME fgetc.src
                             3138 ; 1503 |#define RSRC_FUNCLET_FGETC 583    
                             3139 ; 1504 |//$FILENAME fgets.src
                             3140 ; 1505 |#define RSRC_FUNCLET_FGETS 584    
                             3141 ; 1506 |//$FILENAME fputc.src
                             3142 ; 1507 |#define RSRC_FUNCLET_FPUTC 585    
                             3143 ; 1508 |//$FILENAME fputs.src
                             3144 ; 1509 |#define RSRC_FUNCLET_FPUTS 586    
                             3145 ; 1510 |//$FILENAME arrangelongfilename.src
                             3146 ; 1511 |#define RSRC_FUNCLET_ARRANGELONGFILENAME 587    
                             3147 ; 1512 |//$FILENAME convert_itoa.src
                             3148 ; 1513 |#define RSRC_FUNCLET_CONVERT_ITOA 588    
                             3149 ; 1514 |//$FILENAME createdirrecord.src
                             3150 ; 1515 |#define RSRC_FUNCLET_CREATEDIRRECORD 589    
                             3151 ; 1516 |//$FILENAME chksum.src
                             3152 ; 1517 |#define RSRC_FUNCLET_CHKSUM 590    
                             3153 ; 1518 |//$FILENAME createshortdirrecord.src
                             3154 ; 1519 |#define RSRC_FUNCLET_CREATESHORTDIRRECORD 591    
                             3155 ; 1520 |//$FILENAME discardtrailigperiodsucs3.src
                             3156 ; 1521 |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODSUCS3 592    
                             3157 ; 1522 |//$FILENAME discardtrailigperiodsw.src
                             3158 ; 1523 |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODSW 593    
                             3159 ; 1524 |//$FILENAME extractfilenamew.src
                             3160 ; 1525 |#define RSRC_FUNCLET_EXTRACTFILENAMEW 594    
                             3161 ; 1526 |//$FILENAME extractpathw.src
                             3162 ; 1527 |#define RSRC_FUNCLET_EXTRACTPATHW 595    
                             3163 ; 1528 |//$FILENAME findfreerecord.src
                             3164 ; 1529 |#define RSRC_FUNCLET_FINDFREERECORD 596    
                             3165 ; 1530 |//$FILENAME getnamew.src
                             3166 ; 1531 |#define RSRC_FUNCLET_GETNAMEW 597    
                             3167 ; 1532 |//$FILENAME isdirectoryempty.src
                             3168 ; 1533 |#define RSRC_FUNCLET_ISDIRECTORYEMPTY 598    
                             3169 ; 1534 |//$FILENAME isshortnamevalid.src
                             3170 ; 1535 |#define RSRC_FUNCLET_ISSHORTNAMEVALID 599    
                             3171 ; 1536 |//$FILENAME longdirmatch.src
                             3172 ; 1537 |#define RSRC_FUNCLET_LONGDIRMATCH 600    
                             3173 ; 1538 |//$FILENAME unicodetooem.src
                             3174 ; 1539 |#define RSRC_FUNCLET_UNICODETOOEM 601    
                             3175 ; 1540 |//$FILENAME matchdirrecordw.src
                             3176 ; 1541 |#define RSRC_FUNCLET_MATCHDIRRECORDW 602    
                             3177 ; 1542 |//$FILENAME setcwd.src
                             3178 ; 1543 |#define RSRC_FUNCLET_SETCWD 603    
                             3179 ; 1544 |//$FILENAME setshortfilename.src
                             3180 ; 1545 |#define RSRC_FUNCLET_SETSHORTFILENAME 604    
                             3181 ; 1546 |//$FILENAME generatefilenametail.src
                             3182 ; 1547 |#define RSRC_FUNCLET_GENERATEFILENAMETAIL 605    
                             3183 ; 1548 |//$FILENAME dbcstounicode.src
                             3184 ; 1549 |#define RSRC_FUNCLET_DBCSTOUNICODE 606    
                             3185 ; 1550 |//$FILENAME strcpy.src
                             3186 ; 1551 |#define RSRC_FUNCLET_STRCPY 607    
                             3187 ; 1552 |//$FILENAME strcpyw.src
                             3188 ; 1553 |#define RSRC_FUNCLET_STRCPYW 608    
                             3189 ; 1554 |//$FILENAME strlengthw.src
                             3190 ; 1555 |#define RSRC_FUNCLET_STRLENGTHW 609    
                             3191 ; 1556 |//$FILENAME filesystempresent.src
                             3192 ; 1557 |#define RSRC_FUNCLET_FILESYSTEMPRESENT 610    
                             3193 ; 1558 |//$FILENAME DataDriveInit.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  53

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3194 ; 1559 |#define RSRC_FUNCLET_DATADRIVEINIT 611    
                             3195 ; 1560 |//$FILENAME FSGetDataDrivePbsLocation.src
                             3196 ; 1561 |#define RSRC_FUNCLET_FSGETDATADRIVEPBSLOCATION 612    
                             3197 ; 1562 |//$FILENAME FSPartitionEntryCopy.src
                             3198 ; 1563 |#define RSRC_FUNCLET_FSPARTITIONENTRYCOPYFSDD 613    
                             3199 ; 1564 |//$FILENAME DataDriveGetSize.src
                             3200 ; 1565 |#define RSRC_FUNCLET_DATADRIVEGETSIZE 614    
                             3201 ; 1566 |//$FILENAME ConstructLongFileName.src
                             3202 ; 1567 |#define RSRC_FUNCLET_CONSTRUCTLONGFILENAME 615    
                             3203 ; 1568 |//$FILENAME strcpyucs3_2.src
                             3204 ; 1569 |#define RSRC_FUNCLET_STRCPYUCS3_2 616    
                             3205 ; 1570 |//$FILENAME getvolumelabel.src
                             3206 ; 1571 |#define RSRC_FUNCLET_GETVOLUMELABEL 617    
                             3207 ; 1572 |//$FILENAME setvolumelabel.src
                             3208 ; 1573 |#define RSRC_FUNCLET_SETVOLUMELABEL 618    
                             3209 ; 1574 |//$FILENAME disk_full.src
                             3210 ; 1575 |#define RSRC_DISK_FULL 619    
                             3211 ; 1576 |//$FILENAME chkdskstartup.src
                             3212 ; 1577 |#define RSRC_CHECKDISK 620    
                             3213 ; 1578 |//$FILENAME chkdskstartupy.src
                             3214 ; 1579 |#define RSRC_CHKDSK_YMEM 621    
                             3215 ; 1580 |//$FILENAME low_level_pwr_line1.src
                             3216 ; 1581 |#define RSRC_LOW_PWR_EXT_DEV_LINE1 622    
                             3217 ; 1582 |//$FILENAME low_level_pwr_line2.src
                             3218 ; 1583 |#define RSRC_LOW_PWR_EXT_DEV_LINE2 623    
                             3219 ; 1584 |//$FILENAME string_bit_rate.src
                             3220 ; 1585 |#define RSRC_STRING_BIT_RATE 624    
                             3221 ; 1586 |//$FILENAME string_96000hz.src
                             3222 ; 1587 |#define RSRC_STRING_96KBPS 625    
                             3223 ; 1588 |//$FILENAME string_112000hz.src
                             3224 ; 1589 |#define RSRC_STRING_112KBPS 626    
                             3225 ; 1590 |//$FILENAME string_128000hz.src
                             3226 ; 1591 |#define RSRC_STRING_128KBPS 627    
                             3227 ; 1592 |//$FILENAME string_160000hz.src
                             3228 ; 1593 |#define RSRC_STRING_160KBPS 628    
                             3229 ; 1594 |//$FILENAME string_192000hz.src
                             3230 ; 1595 |#define RSRC_STRING_192KBPS 629    
                             3231 ; 1596 |//$FILENAME string_224000hz.src
                             3232 ; 1597 |#define RSRC_STRING_224KBPS 630    
                             3233 ; 1598 |//$FILENAME string_256000hz.src
                             3234 ; 1599 |#define RSRC_STRING_256KBPS 631    
                             3235 ; 1600 |//$FILENAME string_320000hz.src
                             3236 ; 1601 |#define RSRC_STRING_320KBPS 632    
                             3237 ; 1602 |//$FILENAME string_hz.src
                             3238 ; 1603 |#define RSRC_STRING_HZ 633    
                             3239 ; 1604 |//$FILENAME EncCommonp.src
                             3240 ; 1605 |#define RSRC_ENCODERCOMMON_P_CODE 634    
                             3241 ; 1606 |//$FILENAME adc_adcx.src
                             3242 ; 1607 |#define RSRC_ADC_ADCX_CODE 635    
                             3243 ; 1608 |//$FILENAME adc_adcy.src
                             3244 ; 1609 |#define RSRC_ADC_ADCY_CODE 636    
                             3245 ; 1610 |//$FILENAME Funclet_encodercommon.src
                             3246 ; 1611 |#define RSRC_FUNCLET_LOADENCODERCOMMON 637    
                             3247 ; 1612 |//$FILENAME string_album.src
                             3248 ; 1613 |#define RSRC_STRING_ALBUM 638    
                             3249 ; 1614 |//$FILENAME string_encoder_song.src
                             3250 ; 1615 |#define RSRC_STRING_SONG 639    
                             3251 ; 1616 |//$FILENAME string_mode.src
                             3252 ; 1617 |#define RSRC_STRING_MODE 640    
                             3253 ; 1618 |
                             3254 ; 1619 |//////////////////////////////////////////////////////////////////////////////////
                             3255 ; 1620 |// display related
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  54

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3256 ; 1621 |//////////////////////////////////////////////////////////////////////////////////
                             3257 ; 1622 |//$FILENAME Funclet_HalDisplayInit.src
                             3258 ; 1623 |#define RSRC_FUNCLET_HAL_DISPLAY_INIT 641    
                             3259 ; 1624 |//$FILENAME Funclet_SalDisplayInit.src
                             3260 ; 1625 |#define RSRC_FUNCLET_SAL_DISPLAY_INIT 642    
                             3261 ; 1626 |//$FILENAME Funclet_SalHandleMessage.src
                             3262 ; 1627 |#define RSRC_FUNCLET_SAL_HANDLE_MSG 643    
                             3263 ; 1628 |//$FILENAME Funclet_FixBitmapHeader.src
                             3264 ; 1629 |#define RSRC_FUNCLET_FIXBITMAPHEADER 644    
                             3265 ; 1630 |//$FILENAME Funclet_BitmapReadHeader.src
                             3266 ; 1631 |#define RSRC_FUNCLET_BITMAPREADHEADER 645    
                             3267 ; 1632 |//$FILENAME Funclet_BitmapReadPalette.src
                             3268 ; 1633 |#define RSRC_FUNCLET_BITMAPREADPALETTE 646    
                             3269 ; 1634 |//$FILENAME Funclet_BitmapReadBitMask.src
                             3270 ; 1635 |#define RSRC_FUNCLET_BITMAPREADBITMASK 647    
                             3271 ; 1636 |//$FILENAME Funclet_BitmapPrintNonPalette.src
                             3272 ; 1637 |#define RSRC_FUNCLET_BITMAPPRINTNONPALETTE 648    
                             3273 ; 1638 |//$FILENAME Funclet_BitmapPrintPalette.src
                             3274 ; 1639 |#define RSRC_FUNCLET_BITMAPPRINTPALETTE 649    
                             3275 ; 1640 |//$FILENAME Funclet_DisplayPrintBitmapFile.src
                             3276 ; 1641 |#define RSRC_FUNCLET_DISPLAYPRINTBITMAPFILE 650    
                             3277 ; 1642 |//$FILENAME Funclet_DisplayPrintBitmapResource.src
                             3278 ; 1643 |#define RSRC_FUNCLET_DISPLAYPRINTBITMAPRESOURCE 651    
                             3279 ; 1644 |
                             3280 ; 1645 |//////////////////////////////////////////////////////////////////////////////////
                             3281 ; 1646 |//WMDRM Related
                             3282 ; 1647 |//////////////////////////////////////////////////////////////////////////////////
                             3283 ; 1648 |//$FILENAME legacy_decryptcontentkey.src
                             3284 ; 1649 |#define RSRC_FUNCLET_LEGACY_DECRYPTCONTENTKEY 652    
                             3285 ; 1650 |//$FILENAME drm_bbx_legacycipherkeysetup.src
                             3286 ; 1651 |#define RSRC_FUNCLET_DRM_BBX_LEGACYCIPHERKEYSETUP 653    
                             3287 ; 1652 |//$FILENAME drm_bbx_initialize.src
                             3288 ; 1653 |#define RSRC_FUNCLET_DRM_BBX_INITIALIZE 654    
                             3289 ; 1654 |//$FILENAME drm_bbx_canbind.src
                             3290 ; 1655 |#define RSRC_FUNCLET_DRM_BBX_CANBIND 655    
                             3291 ; 1656 |//$FILENAME verifychecksum.src
                             3292 ; 1657 |#define RSRC_FUNCLET_VERIFYCHECKSUM 656    
                             3293 ; 1658 |//$FILENAME drm_b64_encodew.src
                             3294 ; 1659 |#define RSRC_FUNCLET_DRM_B64_ENCODEW 657    
                             3295 ; 1660 |//$FILENAME _performactions.src
                             3296 ; 1661 |#define RSRC_FUNCLET__PERFORMACTIONS 658    
                             3297 ; 1662 |//$FILENAME _processendofchain.src
                             3298 ; 1663 |#define RSRC_FUNCLET__PROCESSENDOFCHAIN 659    
                             3299 ; 1664 |//$FILENAME drmcrt_iswxdigit.src
                             3300 ; 1665 |#define RSRC_FUNCLET_DRMCRT_ISWXDIGIT 660    
                             3301 ; 1666 |//$FILENAME drmcrt_towlower.src
                             3302 ; 1667 |#define RSRC_FUNCLET_DRMCRT_TOWLOWER 661    
                             3303 ; 1668 |//$FILENAME drmcrt_wcslen.src
                             3304 ; 1669 |#define RSRC_FUNCLET_DRMCRT_WCSLEN 662    
                             3305 ; 1670 |//$FILENAME drmcrt_wcsncpy.src
                             3306 ; 1671 |#define RSRC_FUNCLET_DRMCRT_WCSNCPY 663    
                             3307 ; 1672 |//$FILENAME drmcrt_memmove.src
                             3308 ; 1673 |#define RSRC_FUNCLET_DRMCRT_MEMMOVE 664    
                             3309 ; 1674 |//$FILENAME performoperation_part1.src
                             3310 ; 1675 |#define RSRC_FUNCLET_PERFORMOPERATION_PART1 665    
                             3311 ; 1676 |//$FILENAME performoperation_part2.src
                             3312 ; 1677 |#define RSRC_FUNCLET_PERFORMOPERATION_PART2 666    
                             3313 ; 1678 |//$FILENAME performoperation_part3.src
                             3314 ; 1679 |#define RSRC_FUNCLET_PERFORMOPERATION_PART3 667    
                             3315 ; 1680 |//$FILENAME performoperation_part4.src
                             3316 ; 1681 |#define RSRC_FUNCLET_PERFORMOPERATION_PART4 668    
                             3317 ; 1682 |//$FILENAME performoperation_part5.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  55

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3318 ; 1683 |#define RSRC_FUNCLET_PERFORMOPERATION_PART5 669    
                             3319 ; 1684 |//$FILENAME performoperation_part6.src
                             3320 ; 1685 |#define RSRC_FUNCLET_PERFORMOPERATION_PART6 670    
                             3321 ; 1686 |//$FILENAME isvalidfunction.src
                             3322 ; 1687 |#define RSRC_FUNCLET_ISVALIDFUNCTION 671    
                             3323 ; 1688 |//$FILENAME functiongetvalue.src
                             3324 ; 1689 |#define RSRC_FUNCLET_FUNCTIONGETVALUE 672    
                             3325 ; 1690 |//$FILENAME globalsetvariable.src
                             3326 ; 1691 |#define RSRC_FUNCLET_GLOBALSETVARIABLE 673    
                             3327 ; 1692 |//$FILENAME variabledrmkgetorset.src
                             3328 ; 1693 |#define RSRC_FUNCLET_VARIABLEDRMKGETORSET 674    
                             3329 ; 1694 |//$FILENAME variabledrmgetorset.src
                             3330 ; 1695 |#define RSRC_FUNCLET_VARIABLEDRMGETORSET 675    
                             3331 ; 1696 |//$FILENAME variableappgetorset.src
                             3332 ; 1697 |#define RSRC_FUNCLET_VARIABLEAPPGETORSET 676    
                             3333 ; 1698 |//$FILENAME variablelicensegetorset.src
                             3334 ; 1699 |#define RSRC_FUNCLET_VARIABLELICENSEGETORSET 677    
                             3335 ; 1700 |//$FILENAME variablecontentgetorset.src
                             3336 ; 1701 |#define RSRC_FUNCLET_VARIABLECONTENTGETORSET 678    
                             3337 ; 1702 |//$FILENAME variabledevicegetorset.src
                             3338 ; 1703 |#define RSRC_FUNCLET_VARIABLEDEVICEGETORSET 679    
                             3339 ; 1704 |//$FILENAME variablepmlicensegetorset.src
                             3340 ; 1705 |#define RSRC_FUNCLET_VARIABLEPMLICENSEGETORSET 680    
                             3341 ; 1706 |//$FILENAME drm_hds_createstore.src
                             3342 ; 1707 |#define RSRC_FUNCLET_DRM_HDS_CREATESTORE 681    
                             3343 ; 1708 |//$FILENAME drm_hds_init.src
                             3344 ; 1709 |#define RSRC_FUNCLET_DRM_HDS_INIT 682    
                             3345 ; 1710 |//$FILENAME drm_hds_uninit.src
                             3346 ; 1711 |#define RSRC_FUNCLET_DRM_HDS_UNINIT 683    
                             3347 ; 1712 |//$FILENAME drm_hds_openstore.src
                             3348 ; 1713 |#define RSRC_FUNCLET_DRM_HDS_OPENSTORE 684    
                             3349 ; 1714 |//$FILENAME drm_hds_deleteslot.src
                             3350 ; 1715 |#define RSRC_FUNCLET_DRM_HDS_DELETESLOT 685    
                             3351 ; 1716 |//$FILENAME drm_hds_slotresize.src
                             3352 ; 1717 |#define RSRC_FUNCLET_DRM_HDS_SLOTRESIZE 686    
                             3353 ; 1718 |//$FILENAME drm_hds_initslotenum.src
                             3354 ; 1719 |#define RSRC_FUNCLET_DRM_HDS_INITSLOTENUM 687    
                             3355 ; 1720 |//$FILENAME drm_hds_cleanupstore.src
                             3356 ; 1721 |#define RSRC_FUNCLET_DRM_HDS_CLEANUPSTORE 688    
                             3357 ; 1722 |//$FILENAME _hdscopyslot_child2child.src
                             3358 ; 1723 |#define RSRC_FUNCLET__HDSCOPYSLOT_CHILD2CHILD 689    
                             3359 ; 1724 |//$FILENAME _hdscopychildpayload.src
                             3360 ; 1725 |#define RSRC_FUNCLET__HDSCOPYCHILDPAYLOAD 690    
                             3361 ; 1726 |//$FILENAME _hdsdefragmentfile.src
                             3362 ; 1727 |#define RSRC_FUNCLET__HDSDEFRAGMENTFILE 691    
                             3363 ; 1728 |//$FILENAME _hdscleanupnamespace.src
                             3364 ; 1729 |#define RSRC_FUNCLET__HDSCLEANUPNAMESPACE 692    
                             3365 ; 1730 |//$FILENAME _hdscleanupstore.src
                             3366 ; 1731 |#define RSRC_FUNCLET__HDSCLEANUPSTORE 693    
                             3367 ; 1732 |//$FILENAME drm_lst_clean.src
                             3368 ; 1733 |#define RSRC_FUNCLET_DRM_LST_CLEAN 694    
                             3369 ; 1734 |//$FILENAME _hdslocatefreeblockforslot.src
                             3370 ; 1735 |#define RSRC_FUNCLET__HDSLOCATEFREEBLOCKFORSLOT 695    
                             3371 ; 1736 |//$FILENAME _hdslockblock2deleteslot.src
                             3372 ; 1737 |#define RSRC_FUNCLET__HDSLOCKBLOCK2DELETESLOT 696    
                             3373 ; 1738 |//$FILENAME _hdsunlockblock2deleteslot.src
                             3374 ; 1739 |#define RSRC_FUNCLET__HDSUNLOCKBLOCK2DELETESLOT 697    
                             3375 ; 1740 |//$FILENAME _hdscreatenamespace.src
                             3376 ; 1741 |#define RSRC_FUNCLET__HDSCREATENAMESPACE 698    
                             3377 ; 1742 |//$FILENAME _hdsfilepos2blocknum.src
                             3378 ; 1743 |#define RSRC_FUNCLET__HDSFILEPOS2BLOCKNUM 699    
                             3379 ; 1744 |//$FILENAME _writesrn.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  56

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3380 ; 1745 |#define RSRC_FUNCLET__WRITESRN 700    
                             3381 ; 1746 |//$FILENAME _writecommonblockheader.src
                             3382 ; 1747 |#define RSRC_FUNCLET__WRITECOMMONBLOCKHEADER 701    
                             3383 ; 1748 |//$FILENAME _writechildblockheader.src
                             3384 ; 1749 |#define RSRC_FUNCLET__WRITECHILDBLOCKHEADER 702    
                             3385 ; 1750 |//$FILENAME _readdatablockheader.src
                             3386 ; 1751 |#define RSRC_FUNCLET__READDATABLOCKHEADER 703    
                             3387 ; 1752 |//$FILENAME _writedatablockheader.src
                             3388 ; 1753 |#define RSRC_FUNCLET__WRITEDATABLOCKHEADER 704    
                             3389 ; 1754 |//$FILENAME _hdsexpandstore.src
                             3390 ; 1755 |#define RSRC_FUNCLET__HDSEXPANDSTORE 705    
                             3391 ; 1756 |//$FILENAME _hdsallocblock.src
                             3392 ; 1757 |#define RSRC_FUNCLET__HDSALLOCBLOCK 706    
                             3393 ; 1758 |//$FILENAME _hdsfreeblock.src
                             3394 ; 1759 |#define RSRC_FUNCLET__HDSFREEBLOCK 707    
                             3395 ; 1760 |//$FILENAME _hdscreateoversizedslot.src
                             3396 ; 1761 |#define RSRC_FUNCLET__HDSCREATEOVERSIZEDSLOT 708    
                             3397 ; 1762 |//$FILENAME _hdsallocslotinfile.src
                             3398 ; 1763 |#define RSRC_FUNCLET__HDSALLOCSLOTINFILE 709    
                             3399 ; 1764 |//$FILENAME _hdswriteblockhdr.src
                             3400 ; 1765 |#define RSRC_FUNCLET__HDSWRITEBLOCKHDR 710    
                             3401 ; 1766 |//$FILENAME _hdsadjustchildpayload.src
                             3402 ; 1767 |#define RSRC_FUNCLET__HDSADJUSTCHILDPAYLOAD 711    
                             3403 ; 1768 |//$FILENAME _hdsfindleftmostleafblock.src
                             3404 ; 1769 |#define RSRC_FUNCLET__HDSFINDLEFTMOSTLEAFBLOCK 712    
                             3405 ; 1770 |//$FILENAME _hdscreateandopenslot.src
                             3406 ; 1771 |#define RSRC_FUNCLET__HDSCREATEANDOPENSLOT 713    
                             3407 ; 1772 |//$FILENAME _hdsremoveslot.src
                             3408 ; 1773 |#define RSRC_FUNCLET__HDSREMOVESLOT 714    
                             3409 ; 1774 |//$FILENAME _hdscopyandlocknewslot.src
                             3410 ; 1775 |#define RSRC_FUNCLET__HDSCOPYANDLOCKNEWSLOT 715    
                             3411 ; 1776 |//$FILENAME _hdsrelocateslotandkeepcurrlock.src
                             3412 ; 1777 |#define RSRC_FUNCLET__HDSRELOCATESLOTANDKEEPCURRLOCK 716    
                             3413 ; 1778 |//$FILENAME _hdstraversenextrightsiblingblock.src
                             3414 ; 1779 |#define RSRC_FUNCLET__HDSTRAVERSENEXTRIGHTSIBLINGBLOCK 717    
                             3415 ; 1780 |//$FILENAME _hdstraverseblocksinpostorder.src
                             3416 ; 1781 |#define RSRC_FUNCLET__HDSTRAVERSEBLOCKSINPOSTORDER 718    
                             3417 ; 1782 |//$FILENAME _hdsslotresize.src
                             3418 ; 1783 |#define RSRC_FUNCLET__HDSSLOTRESIZE 719    
                             3419 ; 1784 |//$FILENAME _isnull.src
                             3420 ; 1785 |#define RSRC_FUNCLET__ISNULL 720    
                             3421 ; 1786 |//$FILENAME _hdsgensrnhash.src
                             3422 ; 1787 |#define RSRC_FUNCLET__HDSGENSRNHASH 721    
                             3423 ; 1788 |//$FILENAME _hdsallocblockbuffer.src
                             3424 ; 1789 |#define RSRC_FUNCLET__HDSALLOCBLOCKBUFFER 722    
                             3425 ; 1790 |//$FILENAME _readsrn.src
                             3426 ; 1791 |#define RSRC_FUNCLET__READSRN 723    
                             3427 ; 1792 |//$FILENAME _hdsgetputchildblocknum.src
                             3428 ; 1793 |#define RSRC_FUNCLET__HDSGETPUTCHILDBLOCKNUM 724    
                             3429 ; 1794 |//$FILENAME _hdshashkeytoindex.src
                             3430 ; 1795 |#define RSRC_FUNCLET__HDSHASHKEYTOINDEX 725    
                             3431 ; 1796 |//$FILENAME _hdsslotwrite.src
                             3432 ; 1797 |#define RSRC_FUNCLET__HDSSLOTWRITE 726    
                             3433 ; 1798 |//$FILENAME _hdsinitslotenum.src
                             3434 ; 1799 |#define RSRC_FUNCLET__HDSINITSLOTENUM 727    
                             3435 ; 1800 |//$FILENAME drm_lst_close.src
                             3436 ; 1801 |#define RSRC_FUNCLET_DRM_LST_CLOSE 728    
                             3437 ; 1802 |//$FILENAME drm_lst_enumnext.src
                             3438 ; 1803 |#define RSRC_FUNCLET_DRM_LST_ENUMNEXT 729    
                             3439 ; 1804 |//$FILENAME drm_lst_enumdelete.src
                             3440 ; 1805 |#define RSRC_FUNCLET_DRM_LST_ENUMDELETE 730    
                             3441 ; 1806 |//$FILENAME _processextensions.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  57

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3442 ; 1807 |#define RSRC_FUNCLET__PROCESSEXTENSIONS 731    
                             3443 ; 1808 |//$FILENAME _processidlist.src
                             3444 ; 1809 |#define RSRC_FUNCLET__PROCESSIDLIST 732    
                             3445 ; 1810 |//$FILENAME _processexclusions.src
                             3446 ; 1811 |#define RSRC_FUNCLET__PROCESSEXCLUSIONS 733    
                             3447 ; 1812 |//$FILENAME _processinclusions.src
                             3448 ; 1813 |#define RSRC_FUNCLET__PROCESSINCLUSIONS 734    
                             3449 ; 1814 |//$FILENAME drm_opl_processcopyoutputleveldata.src
                             3450 ; 1815 |#define RSRC_FUNCLET_DRM_OPL_PROCESSCOPYOUTPUTLEVELDATA 735    
                             3451 ; 1816 |//$FILENAME _getopllevel.src
                             3452 ; 1817 |#define RSRC_FUNCLET__GETOPLLEVEL 736    
                             3453 ; 1818 |//$FILENAME drm_opl_processplayoutputleveldata.src
                             3454 ; 1819 |#define RSRC_FUNCLET_DRM_OPL_PROCESSPLAYOUTPUTLEVELDATA 737    
                             3455 ; 1820 |//$FILENAME _updateattributetokeninslot.src
                             3456 ; 1821 |#define RSRC_FUNCLET__UPDATEATTRIBUTETOKENINSLOT 738    
                             3457 ; 1822 |//$FILENAME drm_sst_settokenvalue.src
                             3458 ; 1823 |#define RSRC_FUNCLET_DRM_SST_SETTOKENVALUE 739    
                             3459 ; 1824 |//$FILENAME drm_sst_createlicensestatepassword.src
                             3460 ; 1825 |#define RSRC_FUNCLET_DRM_SST_CREATELICENSESTATEPASSWORD 740    
                             3461 ; 1826 |//$FILENAME drm_utl_promoteansitounicode.src
                             3462 ; 1827 |#define RSRC_FUNCLET_DRM_UTL_PROMOTEANSITOUNICODE 741    
                             3463 ; 1828 |//$FILENAME drm_pk_symmetricsign.src
                             3464 ; 1829 |#define RSRC_FUNCLET_DRM_PK_SYMMETRICSIGN 742    
                             3465 ; 1830 |//$FILENAME drm_utl_getversionfromstring.src
                             3466 ; 1831 |#define RSRC_FUNCLET_DRM_UTL_GETVERSIONFROMSTRING 743    
                             3467 ; 1832 |//$FILENAME drm_utl_stringinsertblanksubstring.src
                             3468 ; 1833 |#define RSRC_FUNCLET_DRM_UTL_STRINGINSERTBLANKSUBSTRING 744    
                             3469 ; 1834 |//$FILENAME drm_utl_stringremovesubstring.src
                             3470 ; 1835 |#define RSRC_FUNCLET_DRM_UTL_STRINGREMOVESUBSTRING 745    
                             3471 ; 1836 |//$FILENAME drm_utl_dstrsearch.src
                             3472 ; 1837 |#define RSRC_FUNCLET_DRM_UTL_DSTRSEARCH 746    
                             3473 ; 1838 |//$FILENAME drm_utl_dstrsearchreverse.src
                             3474 ; 1839 |#define RSRC_FUNCLET_DRM_UTL_DSTRSEARCHREVERSE 747    
                             3475 ; 1840 |//$FILENAME drm_utl_stringtoguid.src
                             3476 ; 1841 |#define RSRC_FUNCLET_DRM_UTL_STRINGTOGUID 748    
                             3477 ; 1842 |//$FILENAME drm_utl_ensuredataalignment.src
                             3478 ; 1843 |#define RSRC_FUNCLET_DRM_UTL_ENSUREDATAALIGNMENT 749    
                             3479 ; 1844 |//$FILENAME overlappingdates.src
                             3480 ; 1845 |#define RSRC_FUNCLET_OVERLAPPINGDATES 750    
                             3481 ; 1846 |//$FILENAME drm_asd_parsev2license.src
                             3482 ; 1847 |#define RSRC_FUNCLET_DRM_ASD_PARSEV2LICENSE 751    
                             3483 ; 1848 |//$FILENAME neginfdate.src
                             3484 ; 1849 |#define RSRC_FUNCLET_NEGINFDATE 752    
                             3485 ; 1850 |//$FILENAME infdate.src
                             3486 ; 1851 |#define RSRC_FUNCLET_INFDATE 753    
                             3487 ; 1852 |//$FILENAME isexpired.src
                             3488 ; 1853 |#define RSRC_FUNCLET_ISEXPIRED 754    
                             3489 ; 1854 |//$FILENAME getsecstateattr.src
                             3490 ; 1855 |#define RSRC_FUNCLET_GETSECSTATEATTR 755    
                             3491 ; 1856 |//$FILENAME setexpirycategory.src
                             3492 ; 1857 |#define RSRC_FUNCLET_SETEXPIRYCATEGORY 756    
                             3493 ; 1858 |//$FILENAME getv2licenseinfo.src
                             3494 ; 1859 |#define RSRC_FUNCLET_GETV2LICENSEINFO 757    
                             3495 ; 1860 |//$FILENAME getnextlicense.src
                             3496 ; 1861 |#define RSRC_FUNCLET_GETNEXTLICENSE 758    
                             3497 ; 1862 |//$FILENAME aggregate.src
                             3498 ; 1863 |#define RSRC_FUNCLET_AGGREGATE 759    
                             3499 ; 1864 |//$FILENAME drm_asd_getlicenseaggregatedata.src
                             3500 ; 1865 |#define RSRC_FUNCLET_DRM_ASD_GETLICENSEAGGREGATEDATA 760    
                             3501 ; 1866 |//$FILENAME _scannodeforattributew.src
                             3502 ; 1867 |#define RSRC_FUNCLET__SCANNODEFORATTRIBUTEW 761    
                             3503 ; 1868 |//$FILENAME _getxmlnodecdataw.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  58

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3504 ; 1869 |#define RSRC_FUNCLET__GETXMLNODECDATAW 762    
                             3505 ; 1870 |//$FILENAME drm_ddc_getdevicecertificate.src
                             3506 ; 1871 |#define RSRC_FUNCLET_DRM_DDC_GETDEVICECERTIFICATE 763    
                             3507 ; 1872 |//$FILENAME _createdevicestore.src
                             3508 ; 1873 |#define RSRC_FUNCLET__CREATEDEVICESTORE 764    
                             3509 ; 1874 |//$FILENAME _mapdrmerror.src
                             3510 ; 1875 |#define RSRC_FUNCLET__MAPDRMERROR 765    
                             3511 ; 1876 |//$FILENAME _comparemachineid.src
                             3512 ; 1877 |#define RSRC_FUNCLET__COMPAREMACHINEID 766    
                             3513 ; 1878 |//$FILENAME initmgrcontext.src
                             3514 ; 1879 |#define RSRC_FUNCLET_INITMGRCONTEXT 767    
                             3515 ; 1880 |//$FILENAME drm_mgr_setv2header.src
                             3516 ; 1881 |#define RSRC_FUNCLET_DRM_MGR_SETV2HEADER 768    
                             3517 ; 1882 |//$FILENAME drm_mgr_commit.src
                             3518 ; 1883 |#define RSRC_FUNCLET_DRM_MGR_COMMIT 769    
                             3519 ; 1884 |//$FILENAME drm_mgr_cleanuplicensestore.src
                             3520 ; 1885 |#define RSRC_FUNCLET_DRM_MGR_CLEANUPLICENSESTORE 770    
                             3521 ; 1886 |//$FILENAME januscleandatastore.src
                             3522 ; 1887 |#define RSRC_FUNCLET_JANUSCLEANDATASTORE 771    
                             3523 ; 1888 |//$FILENAME drm_mtr_openid.src
                             3524 ; 1889 |#define RSRC_FUNCLET_DRM_MTR_OPENID 772    
                             3525 ; 1890 |//$FILENAME drm_mtr_incrementcount.src
                             3526 ; 1891 |#define RSRC_FUNCLET_DRM_MTR_INCREMENTCOUNT 773    
                             3527 ; 1892 |//$FILENAME drm_mtr_closecontext.src
                             3528 ; 1893 |#define RSRC_FUNCLET_DRM_MTR_CLOSECONTEXT 774    
                             3529 ; 1894 |//$FILENAME oem_setendoffile.src
                             3530 ; 1895 |#define RSRC_FUNCLET_OEM_SETENDOFFILE 775    
                             3531 ; 1896 |//$FILENAME oem_genrandombytes.src
                             3532 ; 1897 |#define RSRC_FUNCLET_OEM_GENRANDOMBYTES 776    
                             3533 ; 1898 |//$FILENAME oem_getfallbacksigningkey.src
                             3534 ; 1899 |#define RSRC_FUNCLET_OEM_GETFALLBACKSIGNINGKEY 777    
                             3535 ; 1900 |//$FILENAME oem_getdevicecerttemplate.src
                             3536 ; 1901 |#define RSRC_FUNCLET_OEM_GETDEVICECERTTEMPLATE 778    
                             3537 ; 1902 |//$FILENAME oem_setdevicecert.src
                             3538 ; 1903 |#define RSRC_FUNCLET_OEM_SETDEVICECERT 779    
                             3539 ; 1904 |//$FILENAME oem_getclockresetstate.src
                             3540 ; 1905 |#define RSRC_FUNCLET_OEM_GETCLOCKRESETSTATE 780    
                             3541 ; 1906 |//$FILENAME oem_setclockresetstate.src
                             3542 ; 1907 |#define RSRC_FUNCLET_OEM_SETCLOCKRESETSTATE 781    
                             3543 ; 1908 |//$FILENAME oem_getuniqueid.src
                             3544 ; 1909 |#define RSRC_FUNCLET_OEM_GETUNIQUEID 782    
                             3545 ; 1910 |//$FILENAME oem_getdevicecert.src
                             3546 ; 1911 |#define RSRC_FUNCLET_OEM_GETDEVICECERT 783    
                             3547 ; 1912 |//$FILENAME drm_snc_openstore.src
                             3548 ; 1913 |#define RSRC_FUNCLET_DRM_SNC_OPENSTORE 784    
                             3549 ; 1914 |//$FILENAME drm_snc_closestore.src
                             3550 ; 1915 |#define RSRC_FUNCLET_DRM_SNC_CLOSESTORE 785    
                             3551 ; 1916 |//$FILENAME _setkidstoredata.src
                             3552 ; 1917 |#define RSRC_FUNCLET__SETKIDSTOREDATA 786    
                             3553 ; 1918 |//$FILENAME drm_snc_deletekid.src
                             3554 ; 1919 |#define RSRC_FUNCLET_DRM_SNC_DELETEKID 787    
                             3555 ; 1920 |//$FILENAME drm_snc_updatekid.src
                             3556 ; 1921 |#define RSRC_FUNCLET_DRM_SNC_UPDATEKID 788    
                             3557 ; 1922 |//$FILENAME drm_mgr_setv1header.src
                             3558 ; 1923 |#define RSRC_FUNCLET_DRM_MGR_SETV1HEADER 789    
                             3559 ; 1924 |//$FILENAME functiongetvalue_part1.src
                             3560 ; 1925 |#define RSRC_FUNCLET_FUNCTIONGETVALUE_PART1 790    
                             3561 ; 1926 |//$FILENAME functiongetvalue_fn_datediff.src
                             3562 ; 1927 |#define RSRC_FUNCLET_FUNCTIONGETVALUE_FN_DATEDIFF 791    
                             3563 ; 1928 |//$FILENAME _hdscreatenamespacestore.src
                             3564 ; 1929 |#define RSRC_FUNCLET__HDSCREATENAMESPACESTORE 792    
                             3565 ; 1930 |//$FILENAME drm_hds_createstore2.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  59

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3566 ; 1931 |#define RSRC_FUNCLET_DRM_HDS_CREATESTORE2 793    
                             3567 ; 1932 |//$FILENAME drm_hds_openstore2.src
                             3568 ; 1933 |#define RSRC_FUNCLET_DRM_HDS_OPENSTORE2 794    
                             3569 ; 1934 |//$FILENAME _hdsprealloc.src
                             3570 ; 1935 |#define RSRC_FUNCLET__HDSPREALLOC 795    
                             3571 ; 1936 |//$FILENAME oem_systemtimetofiletime.src
                             3572 ; 1937 |#define RSRC_FUNCLET_OEM_SYSTEMTIMETOFILETIME 796    
                             3573 ; 1938 |//$FILENAME oem_filetimetosystemtime.src
                             3574 ; 1939 |#define RSRC_FUNCLET_OEM_FILETIMETOSYSTEMTIME 797    
                             3575 ; 1940 |//$FILENAME gendevicecertificate.src
                             3576 ; 1941 |#define RSRC_FUNCLET_GENDEVICECERTIFICATE 798    
                             3577 ; 1942 |//$FILENAME drmcrt_memmove_mem.src
                             3578 ; 1943 |#define RSRC_FUNCLET_DRMCRT_MEMMOVE_MEM 799    
                             3579 ; 1944 |//$FILENAME copyhdsdtore.src
                             3580 ; 1945 |#define RSRC_FUNCLET_COPYHDSDTORE 800    
                             3581 ; 1946 |//$FILENAME generatedevicecert.src
                             3582 ; 1947 |#define RSRC_FUNCLET_GENERATEDEVICECERT 801    
                             3583 ; 1948 |//$FILENAME oem_getdevicedatetime.src
                             3584 ; 1949 |#define RSRC_FUNCLET_OEM_GETDEVICEDATETIME 802    
                             3585 ; 1950 |//$FILENAME drm_mtr_updatedata.src
                             3586 ; 1951 |#define RSRC_FUNCLET_DRM_MTR_UPDATEDATA 803    
                             3587 ; 1952 |//$FILENAME _hdsupdatesrn.src
                             3588 ; 1953 |#define RSRC_FUNCLET__HDSUPDATESRN 804    
                             3589 ; 1954 |//$FILENAME drm_b64_decodew_inplace.src
                             3590 ; 1955 |#define RSRC_FUNCLET_DRM_B64_DECODEW_INPLACE 805    
                             3591 ; 1956 |//$FILENAME _checksecureclock.src
                             3592 ; 1957 |#define RSRC_FUNCLET__CHECKSECURECLOCK 806    
                             3593 ; 1958 |//$FILENAME _preparesecureclockdataforwriting.src
                             3594 ; 1959 |#define RSRC_FUNCLET__PREPARESECURECLOCKDATAFORWRITING 807    
                             3595 ; 1960 |//$FILENAME _preparesecureclockdataforreading.src
                             3596 ; 1961 |#define RSRC_FUNCLET__PREPARESECURECLOCKDATAFORREADING 808    
                             3597 ; 1962 |//$FILENAME drm_sst_closelockedslot.src
                             3598 ; 1963 |#define RSRC_FUNCLET_DRM_SST_CLOSELOCKEDSLOT 809    
                             3599 ; 1964 |//$FILENAME variablesecuretimegetorset.src
                             3600 ; 1965 |#define RSRC_FUNCLET_VARIABLESECURETIMEGETORSET 810    
                             3601 ; 1966 |//$FILENAME strtol.src
                             3602 ; 1967 |#define RSRC_FUNCLET_STRTOL 811    
                             3603 ; 1968 |//$FILENAME mktime.src
                             3604 ; 1969 |#define RSRC_FUNCLET_MKTIME 812    
                             3605 ; 1970 |//$FILENAME gmtime.src
                             3606 ; 1971 |#define RSRC_FUNCLET_GMTIME 813    
                             3607 ; 1972 |//$FILENAME localtime.src
                             3608 ; 1973 |#define RSRC_FUNCLET_LOCALTIME 814    
                             3609 ; 1974 |//$FILENAME _struct_tm_to_systemtime.src
                             3610 ; 1975 |#define RSRC_FUNCLET__STRUCT_TM_TO_SYSTEMTIME 815    
                             3611 ; 1976 |//$FILENAME _systemtime_to_struct_tm.src
                             3612 ; 1977 |#define RSRC_FUNCLET__SYSTEMTIME_TO_STRUCT_TM 816    
                             3613 ; 1978 |//$FILENAME _systemtimetotime_t.src
                             3614 ; 1979 |#define RSRC_FUNCLET__SYSTEMTIMETOTIME_T 817    
                             3615 ; 1980 |//$FILENAME oem_setsystemtime.src
                             3616 ; 1981 |#define RSRC_FUNCLET_OEM_SETSYSTEMTIME 818    
                             3617 ; 1982 |//$FILENAME const_pkcrypto.src
                             3618 ; 1983 |#define RSRC_CONST_PKCRYPTO 819    
                             3619 ; 1984 |//$FILENAME const_y.src
                             3620 ; 1985 |#define RSRC_CONST_Y 820    
                             3621 ; 1986 |//$FILENAME aes_dec_table.src
                             3622 ; 1987 |#define RSRC_AES_DEC_TABLE 821    
                             3623 ; 1988 |//$FILENAME aes_key_table.src
                             3624 ; 1989 |#define RSRC_AES_KEY_TABLE 822    
                             3625 ; 1990 |//$FILENAME aes_enc_table.src
                             3626 ; 1991 |#define RSRC_AES_ENC_TABLE 823    
                             3627 ; 1992 |//$FILENAME device_cert.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  60

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3628 ; 1993 |#define RSRC_DEVCERT 824    
                             3629 ; 1994 |//$FILENAME devcert_template.src
                             3630 ; 1995 |#define RSRC_DEVCERT_TEMPLATE 825    
                             3631 ; 1996 |//$FILENAME getbase64decodedkey.src
                             3632 ; 1997 |#define RSRC_FUNCLET_GETBASE64DECODEDKEY 826    
                             3633 ; 1998 |//$FILENAME _initslot.src
                             3634 ; 1999 |#define RSRC_FUNCLET__INITSLOT 827    
                             3635 ; 2000 |//$FILENAME hdsimplcommon.src
                             3636 ; 2001 |#define RSRC_HDSIMPLCOMMON_P 828    
                             3637 ; 2002 |//$FILENAME hdsimpl_p.src
                             3638 ; 2003 |#define RSRC_HDSIMPL_P 829    
                             3639 ; 2004 |
                             3640 ; 2005 |
                             3641 ; 2006 |//////////////////////////////////////////////////////////////////////////////////
                             3642 ; 2007 |//pkcrypto Related
                             3643 ; 2008 |//////////////////////////////////////////////////////////////////////////////////
                             3644 ; 2009 |//$FILENAME two_adic_inverse.src
                             3645 ; 2010 |#define RSRC_FUNCLET_TWO_ADIC_INVERSE 830    
                             3646 ; 2011 |//$FILENAME mp_shift.src
                             3647 ; 2012 |#define RSRC_FUNCLET_MP_SHIFT 831    
                             3648 ; 2013 |//$FILENAME mp_significant_bit_count.src
                             3649 ; 2014 |#define RSRC_FUNCLET_MP_SIGNIFICANT_BIT_COUNT 832    
                             3650 ; 2015 |//$FILENAME set_immediate.src
                             3651 ; 2016 |#define RSRC_FUNCLET_SET_IMMEDIATE 833    
                             3652 ; 2017 |//$FILENAME multiply_immediate.src
                             3653 ; 2018 |#define RSRC_FUNCLET_MULTIPLY_IMMEDIATE 834    
                             3654 ; 2019 |//$FILENAME multiply.src
                             3655 ; 2020 |#define RSRC_FUNCLET_MULTIPLY 835    
                             3656 ; 2021 |//$FILENAME divide_precondition_1.src
                             3657 ; 2022 |#define RSRC_FUNCLET_DIVIDE_PRECONDITION_1 836    
                             3658 ; 2023 |//$FILENAME divide_immediate.src
                             3659 ; 2024 |#define RSRC_FUNCLET_DIVIDE_IMMEDIATE 837    
                             3660 ; 2025 |//$FILENAME ecaffine_exponentiation_tabular.src
                             3661 ; 2026 |#define RSRC_FUNCLET_ECAFFINE_EXPONENTIATION_TABULAR 838    
                             3662 ; 2027 |//$FILENAME ecaffine_table_construction.src
                             3663 ; 2028 |#define RSRC_FUNCLET_ECAFFINE_TABLE_CONSTRUCTION 839    
                             3664 ; 2029 |//$FILENAME ecproj5_to_ecaffine.src
                             3665 ; 2030 |#define RSRC_FUNCLET_ECPROJ5_TO_ECAFFINE 840    
                             3666 ; 2031 |//$FILENAME ecproj5_set_infinite.src
                             3667 ; 2032 |#define RSRC_FUNCLET_ECPROJ5_SET_INFINITE 841    
                             3668 ; 2033 |//$FILENAME ecaffine_on_curve.src
                             3669 ; 2034 |#define RSRC_FUNCLET_ECAFFINE_ON_CURVE 842    
                             3670 ; 2035 |//$FILENAME ecaffine_addition.src
                             3671 ; 2036 |#define RSRC_FUNCLET_ECAFFINE_ADDITION 843    
                             3672 ; 2037 |//$FILENAME ecaffine_addition_subtraction.src
                             3673 ; 2038 |#define RSRC_FUNCLET_ECAFFINE_ADDITION_SUBTRACTION 844    
                             3674 ; 2039 |//$FILENAME ecaffine_attributes2.src
                             3675 ; 2040 |#define RSRC_FUNCLET_ECAFFINE_ATTRIBUTES2 845    
                             3676 ; 2041 |//$FILENAME kfdesc_initialize.src
                             3677 ; 2042 |#define RSRC_FUNCLET_KFDESC_INITIALIZE 846    
                             3678 ; 2043 |//$FILENAME kimmediate.src
                             3679 ; 2044 |#define RSRC_FUNCLET_KIMMEDIATE 847    
                             3680 ; 2045 |//$FILENAME kprime_immediater.src
                             3681 ; 2046 |#define RSRC_FUNCLET_KPRIME_IMMEDIATER 848    
                             3682 ; 2047 |//$FILENAME kprime_sqrter.src
                             3683 ; 2048 |#define RSRC_FUNCLET_KPRIME_SQRTER 849    
                             3684 ; 2049 |//$FILENAME kinitialize_prime.src
                             3685 ; 2050 |#define RSRC_FUNCLET_KINITIALIZE_PRIME 850    
                             3686 ; 2051 |//$FILENAME mod_lucasuv.src
                             3687 ; 2052 |#define RSRC_FUNCLET_MOD_LUCASUV 851    
                             3688 ; 2053 |//$FILENAME mod_lucas.src
                             3689 ; 2054 |#define RSRC_FUNCLET_MOD_LUCAS 852    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  61

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3690 ; 2055 |//$FILENAME bucket_multiply.src
                             3691 ; 2056 |#define RSRC_FUNCLET_BUCKET_MULTIPLY 853    
                             3692 ; 2057 |//$FILENAME mod_exp2000.src
                             3693 ; 2058 |#define RSRC_FUNCLET_MOD_EXP2000 854    
                             3694 ; 2059 |//$FILENAME mod_exp.src
                             3695 ; 2060 |#define RSRC_FUNCLET_MOD_EXP 855    
                             3696 ; 2061 |//$FILENAME modmul_choices1.src
                             3697 ; 2062 |#define RSRC_FUNCLET_MODMUL_CHOICES1 856    
                             3698 ; 2063 |//$FILENAME mod_sqrt.src
                             3699 ; 2064 |#define RSRC_FUNCLET_MOD_SQRT 857    
                             3700 ; 2065 |//$FILENAME create_modulus.src
                             3701 ; 2066 |#define RSRC_FUNCLET_CREATE_MODULUS 858    
                             3702 ; 2067 |//$FILENAME from_modular.src
                             3703 ; 2068 |#define RSRC_FUNCLET_FROM_MODULAR 859    
                             3704 ; 2069 |//$FILENAME add_immediate.src
                             3705 ; 2070 |#define RSRC_FUNCLET_ADD_IMMEDIATE 860    
                             3706 ; 2071 |//$FILENAME add_diff.src
                             3707 ; 2072 |#define RSRC_FUNCLET_ADD_DIFF 861    
                             3708 ; 2073 |//$FILENAME add_full.src
                             3709 ; 2074 |#define RSRC_FUNCLET_ADD_FULL 862    
                             3710 ; 2075 |//$FILENAME compare_sum_same.src
                             3711 ; 2076 |#define RSRC_FUNCLET_COMPARE_SUM_SAME 863    
                             3712 ; 2077 |//$FILENAME sub_immediate.src
                             3713 ; 2078 |#define RSRC_FUNCLET_SUB_IMMEDIATE 864    
                             3714 ; 2079 |//$FILENAME mp_initialization.src
                             3715 ; 2080 |#define RSRC_FUNCLET_MP_INITIALIZATION 865    
                             3716 ; 2081 |//$FILENAME new_random_bytes.src
                             3717 ; 2082 |#define RSRC_FUNCLET_NEW_RANDOM_BYTES 866    
                             3718 ; 2083 |//$FILENAME new_random_dword_interval.src
                             3719 ; 2084 |#define RSRC_FUNCLET_NEW_RANDOM_DWORD_INTERVAL 867    
                             3720 ; 2085 |//$FILENAME new_random_digit_interval.src
                             3721 ; 2086 |#define RSRC_FUNCLET_NEW_RANDOM_DIGIT_INTERVAL 868    
                             3722 ; 2087 |//$FILENAME new_random_mod.src
                             3723 ; 2088 |#define RSRC_FUNCLET_NEW_RANDOM_MOD 869    
                             3724 ; 2089 |//$FILENAME new_random_mod_nonzero.src
                             3725 ; 2090 |#define RSRC_FUNCLET_NEW_RANDOM_MOD_NONZERO 870    
                             3726 ; 2091 |//$FILENAME new_random_digits.src
                             3727 ; 2092 |#define RSRC_FUNCLET_NEW_RANDOM_DIGITS 871    
                             3728 ; 2093 |//$FILENAME words_to_ecaffine.src
                             3729 ; 2094 |#define RSRC_FUNCLET_WORDS_TO_ECAFFINE 872    
                             3730 ; 2095 |//$FILENAME ecaffine_to_dwords.src
                             3731 ; 2096 |#define RSRC_FUNCLET_ECAFFINE_TO_DWORDS 873    
                             3732 ; 2097 |//$FILENAME _threadunsafepkinit.src
                             3733 ; 2098 |#define RSRC_FUNCLET__THREADUNSAFEPKINIT 874    
                             3734 ; 2099 |//$FILENAME pkinit.src
                             3735 ; 2100 |#define RSRC_FUNCLET_PKINIT 875    
                             3736 ; 2101 |//$FILENAME drm_pk_genkeypair.src
                             3737 ; 2102 |#define RSRC_FUNCLET_DRM_PK_GENKEYPAIR 876    
                             3738 ; 2103 |//$FILENAME drm_pk_encrypt.src
                             3739 ; 2104 |#define RSRC_FUNCLET_DRM_PK_ENCRYPT 877    
                             3740 ; 2105 |//$FILENAME drm_pk_decrypt.src
                             3741 ; 2106 |#define RSRC_FUNCLET_DRM_PK_DECRYPT 878    
                             3742 ; 2107 |//$FILENAME byte_array_mod_bignum.src
                             3743 ; 2108 |#define RSRC_FUNCLET_BYTE_ARRAY_MOD_BIGNUM 879    
                             3744 ; 2109 |//$FILENAME fe2ipmod.src
                             3745 ; 2110 |#define RSRC_FUNCLET_FE2IPMOD 880    
                             3746 ; 2111 |//$FILENAME drm_pk_sign.src
                             3747 ; 2112 |#define RSRC_FUNCLET_DRM_PK_SIGN 881    
                             3748 ; 2113 |//$FILENAME drm_pk_verify.src
                             3749 ; 2114 |#define RSRC_FUNCLET_DRM_PK_VERIFY 882    
                             3750 ; 2115 |//$FILENAME random_bytes.src
                             3751 ; 2116 |#define RSRC_FUNCLET_RANDOM_BYTES 883    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  62

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3752 ; 2117 |//$FILENAME mp_gcdex.src
                             3753 ; 2118 |#define RSRC_FUNCLET_MP_GCDEX 884    
                             3754 ; 2119 |//$FILENAME mp_gcdex_split1.src
                             3755 ; 2120 |#define RSRC_FUNCLET_MP_GCDEX_SPLIT1 885    
                             3756 ; 2121 |//$FILENAME pkcrypto_p.src
                             3757 ; 2122 |#define RSRC_PKCRYPTO_P 886    
                             3758 ; 2123 |//$FILENAME pkcrypto_ovl_p.src
                             3759 ; 2124 |#define RSRC_PKCRYPTO_OVL_P 887    
                             3760 ; 2125 |//$FILENAME del_all_warning_line2.src
                             3761 ; 2126 |#define RSRC_WARNING_MSG_ALL_LINE2 888    
                             3762 ; 2127 |//$FILENAME del_all_file_star.src
                             3763 ; 2128 |#define RSRC_FILE_DELETE_STAR 889    
                             3764 ; 2129 |//$FILENAME string_voice_menu_delete_all.src
                             3765 ; 2130 |#define RSRC_STRING_VOICE_MENU_DELETE_ALL 890    
                             3766 ; 2131 |//$FILENAME Funclet_Init5VSense.src
                             3767 ; 2132 |#define RSRC_FUNCLET_INIT5VSENSE 891    
                             3768 ; 2133 |//$FILENAME Funclet_UpdateDCDCDutyCycle.src
                             3769 ; 2134 |#define RSRC_FUNCLET_UPDATEDCDCDUTYCYCLE 892    
                             3770 ; 2135 |//$FILENAME Funclet_changeplayset.src
                             3771 ; 2136 |#define RSRC_FUNCLET_CHANGE_PLAYSET 893    
                             3772 ; 2137 |
                             3773 ; 2138 |//$FILENAME Funclet_mmctesterase.src
                             3774 ; 2139 |#define RSRC_FUNCLET_MMC_TEST_ERASE 894    
                             3775 ; 2140 |//$FILENAME Funclet_mmchalinit.src
                             3776 ; 2141 |#define RSRC_FUNCLET_MMC_HALINIT 895    
                             3777 ; 2142 |
                             3778 ; 2143 |
                             3779 ; 2144 |// Added to allow rechargeable battery configurations to build
                             3780 ; 2145 |//$FILENAME battery_charging.src
                             3781 ; 2146 |#define RSRC_BATTERY_CHARGING 896    
                             3782 ; 2147 |//$FILENAME batterychargecodebank.src
                             3783 ; 2148 |#define RSRC_BATTERY_CHARGE_CODEBANK 897    
                             3784 ; 2149 |//$FILENAME updatevolume.src
                             3785 ; 2150 |#define RSRC_FUNCLET_SYSUPDATEVOLUME 898    
                             3786 ; 2151 |//$FILENAME Funclet_TestSkipCheckDisk.src
                             3787 ; 2152 |#define RSRC_FUNCLET_TESTSKIPCHECKDISK 899    
                             3788 ; 2153 |//$FILENAME Funclet_DisableStmpGeneratedMicBias.src
                             3789 ; 2154 |#define RSRC_FUNCLET_DISABLE_STMP_GENERATED_MICBIAS 900    
                             3790 ; 2155 |//$FILENAME Funclet_EnableStmpGeneratedMicBias.src
                             3791 ; 2156 |#define RSRC_FUNCLET_ENABLE_STMP_GENERATED_MICBIAS 901    
                             3792 ; 2157 |//$FILENAME Funclet_SetSkipCheckDisk.src
                             3793 ; 2158 |#define RSRC_FUNCLET_SETSKIPCHECKDISK 902    
                             3794 ; 2159 |//$FILENAME drm_expr_evaluateexpression_no_more_tokens.src
                             3795 ; 2160 |#define RSRC_FUNCLET_DRM_EXPR_EVALUATEEXPRESSION_NO_MORE_TOKENS 903    
                             3796 ; 2161 |//$FILENAME _iscachedevent.src
                             3797 ; 2162 |#define RSRC_FUNCLET__ISCACHEDEVENT 904    
                             3798 ; 2163 |//$FILENAME setcountedexpirycategory.src
                             3799 ; 2164 |#define RSRC_FUNCLET_SETCOUNTEDEXPIRYCATEGORY 905    
                             3800 ; 2165 |//$FILENAME oem_data.src
                             3801 ; 2166 |#define RSRC_OEM_DATA 906    
                             3802 ; 2167 |//$FILENAME gpk_p.src
                             3803 ; 2168 |#define RSRC_GPK_P 907    
                             3804 ; 2169 |//$FILENAME key_data.src
                             3805 ; 2170 |#define RSRC_KEY_DATA 908    
                             3806 ; 2171 |//$FILENAME string_arial_8_defragmenting_store.src
                             3807 ; 2172 |#define RSRC_DEFRAGMENT_STORE_STRING 909    
                             3808 ; 2173 |//$FILENAME string_working.src
                             3809 ; 2174 |#define RSRC_STRING_WORKING 910    
                             3810 ; 2175 |//$FILENAME Funclet_loadusertime.src
                             3811 ; 2176 |#define RSRC_FUNCLET_LOADUSERTIME 911    
                             3812 ; 2177 |//$FILENAME Funclet_saveusertime.src
                             3813 ; 2178 |#define RSRC_FUNCLET_SAVEUSERTIME 912    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  63

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3814 ; 2179 |
                             3815 ; 2180 |//$FILENAME Funclet_SysLRADCBrownoutInit.src
                             3816 ; 2181 |#define RSRC_FUNCLET_SYSLRADCBROWNOUTINIT 913    
                             3817 ; 2182 |//$FILENAME Funclet_SysBatteryGetLevel.src
                             3818 ; 2183 |#define RSRC_FUNCLET_SYSBATTERYGETLEVEL 914    
                             3819 ; 2184 |
                             3820 ; 2185 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             3821 ; 2186 |// Audible ACELP Resources
                             3822 ; 2187 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             3823 ; 2188 |//$FILENAME AudibleAcelpDec.src
                             3824 ; 2189 |#define RSRC_AUDIBLE_ACELPDEC_CODE 915    
                             3825 ; 2190 |//$FILENAME AudibleAcelpP.src
                             3826 ; 2191 |#define RSRC_AUDIBLE_ACELP_CODE_P 916    
                             3827 ; 2192 |//$FILENAME AudibleAcelpX.src
                             3828 ; 2193 |#define RSRC_AUDIBLE_ACELP_DATA_X 917    
                             3829 ; 2194 |//$FILENAME AudibleAcelpY.src
                             3830 ; 2195 |#define RSRC_AUDIBLE_ACELP_DATA_Y 918    
                             3831 ; 2196 |
                             3832 ; 2197 |//$FILENAME AudibleDecMod.src
                             3833 ; 2198 |#define RSRC_AUDIBLE_DECMOD_CODE 919    
                             3834 ; 2199 |//$FILENAME audiblemp3p.src
                             3835 ; 2200 |#define RSRC_AUDIBLE_MP3P_CODE 920    
                             3836 ; 2201 |//$FILENAME audiblemp3x.src
                             3837 ; 2202 |#define RSRC_AUDIBLE_MP3X_CODE 921    
                             3838 ; 2203 |//$FILENAME audiblemp3y.src
                             3839 ; 2204 |#define RSRC_AUDIBLE_MP3Y_CODE 922    
                             3840 ; 2205 |
                             3841 ; 2206 |//$FILENAME audiblemetadata_p.src
                             3842 ; 2207 |#define RSRC_AUDIBLE_METADATA_P 923    
                             3843 ; 2208 |//$FILENAME audiblemetadata_y.src
                             3844 ; 2209 |#define RSRC_AUDIBLE_METADATA_Y 924    
                             3845 ; 2210 |//$FILENAME audiblesongposition_p.src
                             3846 ; 2211 |#define RSRC_AUDIBLE_SONG_POSITION_P 925    
                             3847 ; 2212 |//$FILENAME audibletargetcheck_p.src
                             3848 ; 2213 |#define RSRC_AUDIBLE_TARGET_CHECK_P 926    
                             3849 ; 2214 |//$FILENAME audiblefillfileinfo_p.src
                             3850 ; 2215 |#define RSRC_AUDIBLE_FILLFILEINFO_P 927    
                             3851 ; 2216 |//$FILENAME audibledsa_p.src
                             3852 ; 2217 |#define RSRC_AUDIBLE_DSA_P 928    
                             3853 ; 2218 |//$FILENAME audiblefillmetadata_p.src
                             3854 ; 2219 |#define RSRC_AUDIBLE_FILLMETADATA_P 929    
                             3855 ; 2220 |//$FILENAME audiblemetastrings_p.src
                             3856 ; 2221 |#define RSRC_AUDIBLE_METASTRINGS_P 930    
                             3857 ; 2222 |//$FILENAME aaactivationrecords_p.src
                             3858 ; 2223 |#define RSRC_AUDIBLE_ACTIVATION_P 931    
                             3859 ; 2224 |
                             3860 ; 2225 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             3861 ; 2226 |// Effects and SRS Resources
                             3862 ; 2227 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             3863 ; 2228 |//$FILENAME srs_effectsmodules_p.src
                             3864 ; 2229 |#define RSRC_SRS_EFFECTS_MODULES_P 932    
                             3865 ; 2230 |//$FILENAME srs_effectsmodules_x.src
                             3866 ; 2231 |#define RSRC_SRS_EFFECTS_MODULES_X 933    
                             3867 ; 2232 |//$FILENAME wowctrl.src
                             3868 ; 2233 |#define RSRC_WOW_CTRL 934    
                             3869 ; 2234 |
                             3870 ; 2235 |//$FILENAME wowmenu.src
                             3871 ; 2236 |#define RSRC_WOW_MENU_CODE_BANK 935    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  64

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3872 ; 2237 |//$FILENAME string_wowbrightness_menu.src
                             3873 ; 2238 |#define RSRC_STRING_WOW_BRIGHTNESS 936    
                             3874 ; 2239 |//$FILENAME string_wow_menu.src
                             3875 ; 2240 |#define RSRC_STRING_WOW_MENU 937    
                             3876 ; 2241 |//$FILENAME string_wowtrubass_menu.src
                             3877 ; 2242 |#define RSRC_STRING_WOW_TRUBASS 938    
                             3878 ; 2243 |//$FILENAME string_wowvolume_menu.src
                             3879 ; 2244 |#define RSRC_STRING_WOW_VOLUME 939    
                             3880 ; 2245 |//$FILENAME string_wowbrightness_low_menu.src
                             3881 ; 2246 |#define RSRC_STRING_WOW_BRIGHT_LOW 940    
                             3882 ; 2247 |//$FILENAME string_wowbrightness_mid_menu.src
                             3883 ; 2248 |#define RSRC_STRING_WOW_BRIGHT_MID 941    
                             3884 ; 2249 |//$FILENAME string_wowbrightness_high_menu.src
                             3885 ; 2250 |#define RSRC_STRING_WOW_BRIGHT_HIGH 942    
                             3886 ; 2251 |//$FILENAME wow_icon.src
                             3887 ; 2252 |#define RSRC_WOW_ICON 943    
                             3888 ; 2253 |
                             3889 ; 2254 |//$FILENAME wow16k.src
                             3890 ; 2255 |#define RSRC_WOW16K 944    
                             3891 ; 2256 |//$FILENAME wow32k.src
                             3892 ; 2257 |#define RSRC_WOW32K 945    
                             3893 ; 2258 |//$FILENAME wow8k.src
                             3894 ; 2259 |#define RSRC_WOW8K 946    
                             3895 ; 2260 |//$FILENAME wow11k.src
                             3896 ; 2261 |#define RSRC_WOW11K 947    
                             3897 ; 2262 |//$FILENAME wow22k.src
                             3898 ; 2263 |#define RSRC_WOW22K 948    
                             3899 ; 2264 |//$FILENAME wow24k.src
                             3900 ; 2265 |#define RSRC_WOW24K 949    
                             3901 ; 2266 |//$FILENAME wow44k.src
                             3902 ; 2267 |#define RSRC_WOW44K 950    
                             3903 ; 2268 |//$FILENAME wow48k.src
                             3904 ; 2269 |#define RSRC_WOW48K 951    
                             3905 ; 2270 |
                             3906 ; 2271 |//$FILENAME wow16k_Y.src
                             3907 ; 2272 |#define RSRC_WOW16K_Y 952    
                             3908 ; 2273 |//$FILENAME wow32k_Y.src
                             3909 ; 2274 |#define RSRC_WOW32K_Y 953    
                             3910 ; 2275 |//$FILENAME wow8k_Y.src
                             3911 ; 2276 |#define RSRC_WOW8K_Y 954    
                             3912 ; 2277 |//$FILENAME wow11k_Y.src
                             3913 ; 2278 |#define RSRC_WOW11K_Y 955    
                             3914 ; 2279 |//$FILENAME wow22k_Y.src
                             3915 ; 2280 |#define RSRC_WOW22K_Y 956    
                             3916 ; 2281 |//$FILENAME wow24k_Y.src
                             3917 ; 2282 |#define RSRC_WOW24K_Y 957    
                             3918 ; 2283 |//$FILENAME wow44k_Y.src
                             3919 ; 2284 |#define RSRC_WOW44K_Y 958    
                             3920 ; 2285 |//$FILENAME wow48k_Y.src
                             3921 ; 2286 |#define RSRC_WOW48K_Y 959    
                             3922 ; 2287 |
                             3923 ; 2288 |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             3924 ; 2289 |// Audible Section Navigation
                             3925 ; 2290 |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             3926 ; 2291 |//$FILENAME audible_secnav.src
                             3927 ; 2292 |#define RSRC_AUDIBLE_SECNAV_ICON 960    
                             3928 ; 2293 |
                             3929 ; 2294 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             3930 ; 2295 |// PLAYLIST3 and Music Library
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  65

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3931 ; 2296 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             3932 ; 2297 |
                             3933 ; 2298 |//$FILENAME build_ml.src
                             3934 ; 2299 |#define RSRC_BUILD_ML 961    
                             3935 ; 2300 |//$FILENAME build_ml_warning.src
                             3936 ; 2301 |#define RSRC_BUILD_ML_WARNING 962    
                             3937 ; 2302 |//$FILENAME build_ml_warning2.src
                             3938 ; 2303 |#define RSRC_BUILD_ML_WARNING2 963    
                             3939 ; 2304 |//$FILENAME build_flash1.src
                             3940 ; 2305 |#define RSRC_BUILD_FLASH1 964    
                             3941 ; 2306 |//$FILENAME build_flash2.src
                             3942 ; 2307 |#define RSRC_BUILD_FLASH2 965    
                             3943 ; 2308 |//$FILENAME build_flash3.src
                             3944 ; 2309 |#define RSRC_BUILD_FLASH3 966    
                             3945 ; 2310 |//$FILENAME build_sd1.src
                             3946 ; 2311 |#define RSRC_BUILD_SD1 967    
                             3947 ; 2312 |//$FILENAME build_sd2.src
                             3948 ; 2313 |#define RSRC_BUILD_SD2 968    
                             3949 ; 2314 |//$FILENAME build_sd3.src
                             3950 ; 2315 |#define RSRC_BUILD_SD3 969    
                             3951 ; 2316 |//$FILENAME build_newmusic.src
                             3952 ; 2317 |#define RSRC_BUILD_NEWMUSIC 970    
                             3953 ; 2318 |//$FILENAME sdmd.src
                             3954 ; 2319 |#define RSRC_SDMD_MENU_CODE_BANK 971    
                             3955 ; 2320 |//$FILENAME musiclib_build_function_sec.src
                             3956 ; 2321 |#define RSRC_MUSICLIB_BUILD_FUNCTION_SEC 972    
                             3957 ; 2322 |//$FILENAME musiclib_build_function_flush.src
                             3958 ; 2323 |#define RSRC_MUSICLIB_BUILD_FUNCTION_FLUSH 973    
                             3959 ; 2324 |//$FILENAME MusicLibBuildModule.src
                             3960 ; 2325 |#define RSRC_MUSICLIB_BUILD_MODULE 974    
                             3961 ; 2326 |//$FILENAME MusicLibBuildGenreTable.src
                             3962 ; 2327 |#define RSRC_MUSICLIB_BUILD_GENRE_TABLE 975    
                             3963 ; 2328 |//$FILENAME MusicLibBuildFlushMem.src
                             3964 ; 2329 |#define RSRC_MUSICLIB_BUILD_FLUSH_MEM 976    
                             3965 ; 2330 |//$FILENAME MusicLibBrowseModule.src
                             3966 ; 2331 |#define RSRC_MUSICLIB_BROWSE_MODULE 977    
                             3967 ; 2332 |//$FILENAME MusicLibPlayModule.src
                             3968 ; 2333 |#define RSRC_MUSICLIB_PLAY_MODULE 978    
                             3969 ; 2334 |//$FILENAME MusicLibPlayAllNextModule.src
                             3970 ; 2335 |#define RSRC_MUSICLIB_PLAYALLNEXT_MODULE 979    
                             3971 ; 2336 |//$FILENAME MusicLibPlayAllPrevModule.src
                             3972 ; 2337 |#define RSRC_MUSICLIB_PLAYALLPREV_MODULE 980    
                             3973 ; 2338 |//$FILENAME MusicLibShuffleModule.src
                             3974 ; 2339 |#define RSRC_MUSICLIB_SHUFFLE_MODULE 981    
                             3975 ; 2340 |//$FILENAME Funclet_write_detection_access.src
                             3976 ; 2341 |#define RSRC_FUNCLET_WRITE_DETECTION_ACCESS 982    
                             3977 ; 2342 |//$FILENAME Funclet_LOCAL_GetLvlOneItem_info.src
                             3978 ; 2343 |#define RSRC_FUNCLET_LOCAL_GET_LVL_ONE_ITEM_INFO 983    
                             3979 ; 2344 |//$FILENAME Funclet_LOCAL_GetFlashAssociatedList_info.src
                             3980 ; 2345 |#define RSRC_FUNCLET_LOCAL_GET_FLASH_ASSOCIATED_LIST_INFO 984    
                             3981 ; 2346 |//$FILENAME Funclet_ML_ResumePlayState.src
                             3982 ; 2347 |#define RSRC_FUNCLET_ML_RESUMEPLAYSTATE 985    
                             3983 ; 2348 |//$FILENAME Funclet_ML_UpdateOnTheGo.src
                             3984 ; 2349 |#define RSRC_FUNCLET_ML_UPDATE_ON_THE_GO 986    
                             3985 ; 2350 |//$FILENAME Funclet_ML_ChOnTheGo.src
                             3986 ; 2351 |#define RSRC_FUNCLET_ML_CH_ON_THE_GO 987    
                             3987 ; 2352 |//$FILENAME Funclet_ML_LoadOnTheGo.src
                             3988 ; 2353 |#define RSRC_FUNCLET_ML_LOAD_ON_THE_GO 988    
                             3989 ; 2354 |//$FILENAME Funclet_Build_InitandUseCache.src
                             3990 ; 2355 |#define RSRC_FUNCLET_BUILD_INIT_AND_USE_CACHE 989    
                             3991 ; 2356 |//$FILENAME Funclet_Build_FlushAndCloseCache.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  66

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3992 ; 2357 |#define RSRC_FUNCLET_BUILD_FLUSH_AND_CLOSE_CACHE 990    
                             3993 ; 2358 |//$FILENAME Funclet_ML_movePointerBackward.src
                             3994 ; 2359 |#define RSRC_FUNCLET_ML_MOVE_POINTER_BACKWARD 991    
                             3995 ; 2360 |//$FILENAME Funclet_ML_findLastItemPointer.src
                             3996 ; 2361 |#define RSRC_FUNCLET_ML_FIND_LAST_ITEM_POINTER 992    
                             3997 ; 2362 |//$FILENAME Funclet_ML_startShuffle.src
                             3998 ; 2363 |#define RSRC_FUNCLET_ML_START_SHUFFLE 993    
                             3999 ; 2364 |//$FILENAME Funclet_ML_GetFlashDirAssocListId.src
                             4000 ; 2365 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_ID 994    
                             4001 ; 2366 |//$FILENAME Funclet_ML_GetFlashDirAssocListRootId.src
                             4002 ; 2367 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_ROOT_ID 995    
                             4003 ; 2368 |//$FILENAME Funclet_ML_GetFlashDirAssocListSize.src
                             4004 ; 2369 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_SIZE 996    
                             4005 ; 2370 |//$FILENAME Funclet_ML_GetIdByStateAndPosition.src
                             4006 ; 2371 |#define RSRC_FUNCLET_ML_GET_ID_BY_STATE_AND_POSITION 997    
                             4007 ; 2372 |//$FILENAME Funclet_ML_StartPlayDirSongInit.src
                             4008 ; 2373 |#define RSRC_FUNCLET_ML_START_PLAY_DIR_SONG_INIT 998    
                             4009 ; 2374 |//$FILENAME Funclet_ML_ShuffleNextDirSong.src
                             4010 ; 2375 |#define RSRC_FUNCLET_ML_SHUFFLE_NEXT_DIR_SONG 999    
                             4011 ; 2376 |//$FILENAME Funclet_ML_BrowseMenu.src
                             4012 ; 2377 |#define RSRC_FUNCLET_ML_BROWSE_MENU 1000    
                             4013 ; 2378 |//$FILENAME Funclet_ML_StartPlayAllSong.src
                             4014 ; 2379 |#define RSRC_FUNCLET_ML_START_PLAY_ALL_SONG 1001    
                             4015 ; 2380 |//$FILENAME Funclet_ML_PlayAllNextSong.src
                             4016 ; 2381 |#define RSRC_FUNCLET_ML_PLAY_ALL_NEXT_SONG 1002    
                             4017 ; 2382 |//$FILENAME Funclet_ML_PlayAllPreviousSong.src
                             4018 ; 2383 |#define RSRC_FUNCLET_ML_PLAY_ALL_PREVIOUS_SONG 1003    
                             4019 ; 2384 |//$FILENAME Funclet_ML_PlayPreviousDirSong.src
                             4020 ; 2385 |#define RSRC_FUNCLET_ML_PLAY_PREVIOUS_DIR_SONG 1004    
                             4021 ; 2386 |//$FILENAME Funclet_ML_ShuffleNextSong.src
                             4022 ; 2387 |#define RSRC_FUNCLET_ML_SHUFFLE_NEXT_SONG 1005    
                             4023 ; 2388 |//$FILENAME Funclet_ML_PlayNextSong.src
                             4024 ; 2389 |#define RSRC_FUNCLET_ML_PLAY_NEXT_SONG 1006    
                             4025 ; 2390 |//$FILENAME Funclet_ML_PlayPreviousSong.src
                             4026 ; 2391 |#define RSRC_FUNCLET_ML_PLAY_PREVIOUS_SONG 1007    
                             4027 ; 2392 |//$FILENAME Funclet_BuildVoiceFilePath.src
                             4028 ; 2393 |#define RSRC_FUNCLET_BUILDVOICEFILEPATH 1008    
                             4029 ; 2394 |//$FILENAME Funclet_BuildFMFilePath.src
                             4030 ; 2395 |#define RSRC_FUNCLET_BUILDFMFILEPATH 1009    
                             4031 ; 2396 |//$FILENAME Funclet_BuildLINEINFilePath.src
                             4032 ; 2397 |#define RSRC_FUNCLET_BUILDLINEINFILEPATH 1010    
                             4033 ; 2398 |//$FILENAME Funclet_GetVoiceFastKey.src
                             4034 ; 2399 |#define RSRC_FUNCLET_GETVOICEFASTKEY 1011    
                             4035 ; 2400 |//$FILENAME MusicLibVoiceApp.src
                             4036 ; 2401 |#define RSRC_MUSICLIB_VOICE_APP 1012    
                             4037 ; 2402 |//$FILENAME MusicLibVoiceModule.src
                             4038 ; 2403 |#define RSRC_MUSICLIB_VOICE_MODULE 1013    
                             4039 ; 2404 |//$FILENAME MusicLibVoicePlayModule.src
                             4040 ; 2405 |#define RSRC_MUSICLIB_VOICEPLAY_MODULE 1014    
                             4041 ; 2406 |//$FILENAME MusicLibMergeFunction.src
                             4042 ; 2407 |#define RSRC_MUSICLIB_MERGE_FUNCTION 1015    
                             4043 ; 2408 |//$FILENAME MusicLibMergeModule.src
                             4044 ; 2409 |#define RSRC_MUSICLIB_MERGE_MODULE 1016    
                             4045 ; 2410 |//$FILENAME MusicLibBrowseApp.src
                             4046 ; 2411 |#define RSRC_MUSICLIB_BROWSE_APP 1017    
                             4047 ; 2412 |//$FILENAME playmusicmenu.src
                             4048 ; 2413 |#define RSRC_PLAYMUSIC_MENU_CODE_BANK 1018    
                             4049 ; 2414 |//$FILENAME browsemenu.src
                             4050 ; 2415 |#define RSRC_BROWSE_MENU_CODE_BANK 1019    
                             4051 ; 2416 |//$FILENAME browsemenu_extra.src
                             4052 ; 2417 |#define RSRC_BROWSE_MENU_EXTRA_CODE_BANK 1020    
                             4053 ; 2418 |//$FILENAME string_play_all.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  67

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4054 ; 2419 |#define RSRC_STRING_PLAY_ALL 1021    
                             4055 ; 2420 |//$FILENAME string_play.src
                             4056 ; 2421 |#define RSRC_STRING_PLAY 1022    
                             4057 ; 2422 |//$FILENAME string_unknown_year.src
                             4058 ; 2423 |#define RSRC_STRING_UNKNOWN_YEAR 1023    
                             4059 ; 2424 |//$FILENAME string_year_width.src
                             4060 ; 2425 |#define RSRC_STRING_YEAR_WIDTH 1024    
                             4061 ; 2426 |//$FILENAME string_artist.src
                             4062 ; 2427 |#define RSRC_STRING_ARTIST 1025    
                             4063 ; 2428 |//$FILENAME string_songs.src
                             4064 ; 2429 |#define RSRC_STRING_SONGS 1026    
                             4065 ; 2430 |//$FILENAME string_on_the_fly.src
                             4066 ; 2431 |#define RSRC_STRING_ON_THE_FLY 1027    
                             4067 ; 2432 |//$FILENAME string_new_music.src
                             4068 ; 2433 |#define RSRC_STRING_NEW_MUSIC_MENU 1028    
                             4069 ; 2434 |//$FILENAME string_genre.src
                             4070 ; 2435 |#define RSRC_STRING_GENRE 1029    
                             4071 ; 2436 |//$FILENAME string_year.src
                             4072 ; 2437 |#define RSRC_STRING_YEAR 1030    
                             4073 ; 2438 |//$FILENAME string_playlist.src
                             4074 ; 2439 |#define RSRC_STRING_PLAYLIST 1031    
                             4075 ; 2440 |//$FILENAME string_fm_rec.src
                             4076 ; 2441 |#define RSRC_STRING_FM_REC 1032    
                             4077 ; 2442 |//$FILENAME string_linein_rec.src
                             4078 ; 2443 |#define RSRC_STRING_LINEIN_REC 1033    
                             4079 ; 2444 |//$FILENAME string_play_music.src
                             4080 ; 2445 |#define RSRC_STRING_PLAY_MUSIC 1034    
                             4081 ; 2446 |//$FILENAME highlight_back.src
                             4082 ; 2447 |#define RSRC_HIGHLIGHT_BACK 1035    
                             4083 ; 2448 |//$FILENAME newmusicmenu.src
                             4084 ; 2449 |#define RSRC_NEW_MUSIC_MENU_CODE_BANK 1036    
                             4085 ; 2450 |//$FILENAME string_1_day.src
                             4086 ; 2451 |#define RSRC_STRING_1_DAY 1037    
                             4087 ; 2452 |//$FILENAME string_1_week.src
                             4088 ; 2453 |#define RSRC_STRING_1_WEEK 1038    
                             4089 ; 2454 |//$FILENAME string_1_month.src
                             4090 ; 2455 |#define RSRC_STRING_1_MONTH 1039    
                             4091 ; 2456 |//$FILENAME on_the_fly_full.src
                             4092 ; 2457 |#define RSRC_LIST_FULL_MESSAGE 1040    
                             4093 ; 2458 |//$FILENAME on_the_fly_free1.src
                             4094 ; 2459 |#define RSRC_LIST_FREE_MESSAGE 1041    
                             4095 ; 2460 |//$FILENAME on_the_fly_free2.src
                             4096 ; 2461 |#define RSRC_LIST_FREE_MESSAGE2 1042    
                             4097 ; 2462 |//$FILENAME on_the_fly_delete1.src
                             4098 ; 2463 |#define RSRC_LIST_DELETE_MESSAGE 1043    
                             4099 ; 2464 |//$FILENAME on_the_fly_delete2.src
                             4100 ; 2465 |#define RSRC_LIST_DELETE_MESSAGE2 1044    
                             4101 ; 2466 |//$FILENAME empty_favourite.src
                             4102 ; 2467 |#define RSRC_EMPTY_FAVOURITE 1045    
                             4103 ; 2468 |//$FILENAME sd_remove.src
                             4104 ; 2469 |#define RSRC_SD_REMOVE 1046    
                             4105 ; 2470 |//$FILENAME sd_insert.src
                             4106 ; 2471 |#define RSRC_SD_INSERT 1047    
                             4107 ; 2472 |//$FILENAME check_disk_1.src
                             4108 ; 2473 |#define RSRC_CHECK_DISK_1 1048    
                             4109 ; 2474 |//$FILENAME check_disk_2.src
                             4110 ; 2475 |#define RSRC_CHECK_DISK_2 1049    
                             4111 ; 2476 |//$FILENAME check_disk_3.src
                             4112 ; 2477 |#define RSRC_CHECK_DISK_3 1050    
                             4113 ; 2478 |//$FILENAME flash_error.src
                             4114 ; 2479 |#define RSRC_FLASH_ERROR 1051    
                             4115 ; 2480 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  68

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4116 ; 2481 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             4117 ; 2482 |// STFM1000 Tuner funclet
                             4118 ; 2483 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             4119 ; 2484 |//$FILENAME Funclet_TunerDriverInit.src
                             4120 ; 2485 |#define RSRC_FUNCLET_TUNER_DRIVER_INIT 1052    
                             4121 ; 2486 |//$FILENAME Funclet_TunerDriverIncUp.src
                             4122 ; 2487 |#define RSRC_FUNCLET_TUNER_DRIVER_INC_UP 1053    
                             4123 ; 2488 |//$FILENAME Funclet_TunerDriverIncDown.src
                             4124 ; 2489 |#define RSRC_FUNCLET_TUNER_DRIVER_INC_DOWN 1054    
                             4125 ; 2490 |//$FILENAME Funclet_TunerDriverStandyby.src
                             4126 ; 2491 |#define RSRC_FUNCLET_TUNER_DRIVER_SET_STANDBY 1055    
                             4127 ; 2492 |//$FILENAME Funclet_TunerDriverReplacePreset.src
                             4128 ; 2493 |#define RSRC_FUNCLET_TUNER_DRIVER_REPLACE_PRESET 1056    
                             4129 ; 2494 |//$FILENAME Funclet_TunerDriverErasePreset.src
                             4130 ; 2495 |#define RSRC_FUNCLET_TUNER_DRIVER_ERASE_PRESET 1057    
                             4131 ; 2496 |//$FILENAME Funclet_TunerDriverTuneToPreset.src
                             4132 ; 2497 |#define RSRC_FUNCLET_TUNER_DRIVER_TUNE_TO_PRESET 1058    
                             4133 ; 2498 |//$FILENAME Funclet_TunerDriverSearchDown.src
                             4134 ; 2499 |#define RSRC_FUNCLET_TUNER_DRIVER_SEARCH_DOWN 1059    
                             4135 ; 2500 |//$FILENAME Funclet_TunerSTFM1000SafePowerDown.src
                             4136 ; 2501 |#define RSRC_FUNCLET_TUNER_SAFE_POWER_DOWN 1060    
                             4137 ; 2502 |//$FILENAME Funclet_TunerSTFM1000OptimizeChannel.src
                             4138 ; 2503 |#define RSRC_FUNCLET_STFM1000_TUNER_OPTIMIZE_CHANNEL 1061    
                             4139 ; 2504 |//$FILENAME decstfmmod.src
                             4140 ; 2505 |#define RSRC_DEC_STFM_MOD_CODE 1062    
                             4141 ; 2506 |//$FILENAME dec_stfmp.src
                             4142 ; 2507 |#define RSRC_DEC_STFMP_CODE 1063    
                             4143 ; 2508 |//$FILENAME dec_stfmx.src
                             4144 ; 2509 |#define RSRC_DEC_STFMX_CODE 1064    
                             4145 ; 2510 |//$FILENAME dec_stfmy.src
                             4146 ; 2511 |#define RSRC_DEC_STFMY_CODE 1065    
                             4147 ; 2512 |//$FILENAME Funclet_TunerSTFM1000I2CInit.src
                             4148 ; 2513 |#define RSRC_FUNCLET_STFM1000_I2C_INIT 1066    
                             4149 ; 2514 |//$FILENAME Funclet_TunerDriverScanStations.src
                             4150 ; 2515 |#define RSRC_FUNCLET_TUNER_DRIVER_SCAN_STATION 1067    
                             4151 ; 2516 |//$FILENAME Funclet_TunerDriverSetMonoStereoMode.src
                             4152 ; 2517 |#define RSRC_FUNCLET_TUNER_DRIVER_SET_MONO_STEREO_MODE 1068    
                             4153 ; 2518 |//$FILENAME Funclet_STFM1000TestPresence.src
                             4154 ; 2519 |#define RSRC_FUNCLET_STFM1000_TEST_PRESENCE 1069    
                             4155 ; 2520 |//$FILENAME Funclet_I2CWriteTunerRegister.src
                             4156 ; 2521 |#define RSRC_FUNCLET_I2C_WRITE_TUNER_REGISTER 1070    
                             4157 ; 2522 |//$FILENAME Funclet_I2CReset.src
                             4158 ; 2523 |#define RSRC_FUNCLET_I2C_RESET 1071    
                             4159 ; 2524 |//$FILENAME fmtunersecondrsrc.src
                             4160 ; 2525 |#define RSRC_FM_TUNER_SECOND_RSRC 1072    
                             4161 ; 2526 |//$FILENAME Funclet_TunerSTFM1000RegPowerUp1.src
                             4162 ; 2527 |#define RSRC_FUNCLET_STFM1000_REG_POWER_UP1 1073    
                             4163 ; 2528 |//$FILENAME Funclet_TunerSTFM1000RegPowerUp2.src
                             4164 ; 2529 |#define RSRC_FUNCLET_STFM1000_REG_POWER_UP2 1074    
                             4165 ; 2530 |//$FILENAME Funclet_TunerSTFM1000FindRssiThreshold.src
                             4166 ; 2531 |#define RSRC_FUNCLET_STFM1000_FIND_RSSI_THRESHOLD 1075    
                             4167 ; 2532 |//$FILENAME Funclet_TunerSTFM1000DataPathOff.src
                             4168 ; 2533 |#define RSRC_FUNCLET_STFM1000_DATA_PATH_OFF 1076    
                             4169 ; 2534 |//$FILENAME Funclet_TunerSTFM1000ContinueSearching.src
                             4170 ; 2535 |#define RSRC_FUNCLET_STFM1000_CONTINUE_SEARCHING 1077    
                             4171 ; 2536 |//RSRC_FUNCLET_STFM1000_SET_LNA_BIAS    equ      975    ;$FILENAME Funclet_STFM1000SetLnaB
                                  ias.src
                             4172 ; 2537 |//RSRC_FUNCLET_STFM1000_LOOK_FOR_PILOT    equ      976    ;$FILENAME Funclet_STFM1000LookF
                                  orPilot.src
                             4173 ; 2538 |//$FILENAME Funclet_STFM1000TunerSearchEnded.src
                             4174 ; 2539 |#define RSRC_FUNCLET_STFM1000_TUNER_SEARCH_ENDED 1078    
                             4175 ; 2540 |// for RestoreDriveFromBackup
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  69

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4176 ; 2541 |//$FILENAME restoresysdrive.src
                             4177 ; 2542 |#define RSRC_RESTORESYSDRIVE_P_CODE 1079    
                             4178 ; 2543 |
                             4179 ; 2544 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             4180 ; 2545 |// Playlist5 sources
                             4181 ; 2546 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             4182 ; 2547 |//$FILENAME playlist5_browsemenu.src
                             4183 ; 2548 |#define RSRC_PL5BROWSE_MENU_CODEBANK 1080    
                             4184 ; 2549 |//$FILENAME playlist5_browsemenu_extra.src
                             4185 ; 2550 |#define RSRC_PL5_BROWSEMENU_EXTRA 1081    
                             4186 ; 2551 |//$FILENAME playlist5_browse_submenu.src
                             4187 ; 2552 |#define RSRC_PL5BROWSE_SUBMENU_CODEBANK 1082    
                             4188 ; 2553 |//$FILENAME playlist5_playback_module.src
                             4189 ; 2554 |#define RSRC_PLAYLIST5_PLAYBACK_MODULE 1083    
                             4190 ; 2555 |//$FILENAME playlist5_browse_module.src
                             4191 ; 2556 |#define RSRC_PLAYLIST5_BROWSE_MODULE 1084    
                             4192 ; 2557 |
                             4193 ; 2558 |//$FILENAME Funclet_Get_LRCDirName_PL5.src
                             4194 ; 2559 |#define RSRC_FUNCLET_GET_LRC_DIR_NAME_PL5 1085    
                             4195 ; 2560 |//$FILENAME Funclet_PL5_PL_QueuePushBack.src   
                             4196 ; 2561 |#define RSRC_FUNCLET_PL5_PL_QUEUEPUSHBACK 1086    
                             4197 ; 2562 |//$FILENAME Funclet_PL5_PL_QueuePushFront.src 
                             4198 ; 2563 |#define RSRC_FUNCLET_PL5_PL_QUEUEPUSHFRONT 1087    
                             4199 ; 2564 |
                             4200 ; 2565 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             4201 ; 2566 |// DanhNguyen added bitmaps
                             4202 ; 2567 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             4203 ; 2568 |//$FILENAME icon_folder.src
                             4204 ; 2569 |#define RSRC_ICON_FOLDER 1088    
                             4205 ; 2570 |//$FILENAME icon_song.src
                             4206 ; 2571 |#define RSRC_ICON_SONG 1089    
                             4207 ; 2572 |
                             4208 ; 2573 |//$FILENAME menu_music.src
                             4209 ; 2574 |#define RSRC_MENU_MUSIC 1090    
                             4210 ; 2575 |//$FILENAME vie_menu_music.src
                             4211 ; 2576 |#define RSRC_VIE_MENU_MUSIC 1091    
                             4212 ; 2577 |
                             4213 ; 2578 |//$FILENAME menu_voice.src
                             4214 ; 2579 |#define RSRC_MENU_VOICE 1092    
                             4215 ; 2580 |//$FILENAME vie_menu_voice.src
                             4216 ; 2581 |#define RSRC_VIE_MENU_VOICE 1093    
                             4217 ; 2582 |
                             4218 ; 2583 |//$FILENAME menu_fmtuner.src
                             4219 ; 2584 |#define RSRC_MENU_FMTUNER 1094    
                             4220 ; 2585 |//$FILENAME vie_menu_fmtuner.src
                             4221 ; 2586 |#define RSRC_VIE_MENU_FMTUNER 1095    
                             4222 ; 2587 |
                             4223 ; 2588 |//$FILENAME menu_record.src
                             4224 ; 2589 |#define RSRC_MENU_RECORD 1096    
                             4225 ; 2590 |//$FILENAME vie_menu_record.src
                             4226 ; 2591 |#define RSRC_VIE_MENU_RECORD 1097    
                             4227 ; 2592 |
                             4228 ; 2593 |//$FILENAME menu_settings.src
                             4229 ; 2594 |#define RSRC_MENU_SETTINGS 1098    
                             4230 ; 2595 |//$FILENAME vie_menu_settings.src
                             4231 ; 2596 |#define RSRC_VIE_MENU_SETTINGS 1099    
                             4232 ; 2597 |
                             4233 ; 2598 |//$FILENAME menu_shutdown.src
                             4234 ; 2599 |#define RSRC_MENU_SHUTDOWN 1100    
                             4235 ; 2600 |//$FILENAME vie_menu_shutdown.src
                             4236 ; 2601 |#define RSRC_VIE_MENU_SHUTDOWN 1101    
                             4237 ; 2602 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  70

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4238 ; 2603 |//$FILENAME menu_clock.src
                             4239 ; 2604 |#define RSRC_MENU_CLOCK 1102    
                             4240 ; 2605 |//$FILENAME vie_menu_clock.src
                             4241 ; 2606 |#define RSRC_VIE_MENU_CLOCK 1103    
                             4242 ; 2607 |
                             4243 ; 2608 |//$FILENAME menu_ab.src
                             4244 ; 2609 |#define RSRC_MENU_AB 1104    
                             4245 ; 2610 |//$FILENAME vie_menu_ab.src
                             4246 ; 2611 |#define RSRC_VIE_MENU_AB 1105    
                             4247 ; 2612 |
                             4248 ; 2613 |//$FILENAME menu_delete.src
                             4249 ; 2614 |#define RSRC_MENU_DELETE 1106    
                             4250 ; 2615 |//$FILENAME vie_menu_delete.src
                             4251 ; 2616 |#define RSRC_VIE_MENU_DELETE 1107    
                             4252 ; 2617 |
                             4253 ; 2618 |//$FILENAME menu_about.src
                             4254 ; 2619 |#define RSRC_MENU_ABOUT 1108    
                             4255 ; 2620 |//$FILENAME vie_menu_about.src
                             4256 ; 2621 |#define RSRC_VIE_MENU_ABOUT 1109    
                             4257 ; 2622 |
                             4258 ; 2623 |//$FILENAME menu_exit.src
                             4259 ; 2624 |#define RSRC_MENU_EXIT 1110    
                             4260 ; 2625 |//$FILENAME vie_menu_exit.src
                             4261 ; 2626 |#define RSRC_VIE_MENU_EXIT 1111    
                             4262 ; 2627 |
                             4263 ; 2628 |//$FILENAME music_play_all.src
                             4264 ; 2629 |#define RSRC_MUSIC_PLAY_ALL 1112    
                             4265 ; 2630 |//$FILENAME vie_music_play_all.src
                             4266 ; 2631 |#define RSRC_VIE_MUSIC_PLAY_ALL 1113    
                             4267 ; 2632 |
                             4268 ; 2633 |//$FILENAME music_folder_internal.src
                             4269 ; 2634 |#define RSRC_MUSIC_FOLDER_INTERNAL 1114    
                             4270 ; 2635 |//$FILENAME vie_music_folder_internal.src
                             4271 ; 2636 |#define RSRC_VIE_MUSIC_FOLDER_INTERNAL 1115    
                             4272 ; 2637 |
                             4273 ; 2638 |//$FILENAME music_folder_external.src
                             4274 ; 2639 |#define RSRC_MUSIC_FOLDER_EXTERNAL 1116    
                             4275 ; 2640 |//$FILENAME vie_music_folder_external.src
                             4276 ; 2641 |#define RSRC_VIE_MUSIC_FOLDER_EXTERNAL 1117    
                             4277 ; 2642 |
                             4278 ; 2643 |//$FILENAME music_songs.src
                             4279 ; 2644 |#define RSRC_MUSIC_SONGS 1118    
                             4280 ; 2645 |//$FILENAME vie_music_songs.src
                             4281 ; 2646 |#define RSRC_VIE_MUSIC_SONGS 1119    
                             4282 ; 2647 |
                             4283 ; 2648 |//$FILENAME music_favorites.src
                             4284 ; 2649 |#define RSRC_MUSIC_FAVORITES 1120    
                             4285 ; 2650 |//$FILENAME vie_music_favorites.src
                             4286 ; 2651 |#define RSRC_VIE_MUSIC_FAVORITES 1121    
                             4287 ; 2652 |
                             4288 ; 2653 |//$FILENAME music_fm_record.src
                             4289 ; 2654 |#define RSRC_MUSIC_FM_RECORD 1122    
                             4290 ; 2655 |//$FILENAME vie_music_fm_record.src
                             4291 ; 2656 |#define RSRC_VIE_MUSIC_FM_RECORD 1123    
                             4292 ; 2657 |
                             4293 ; 2658 |//$FILENAME music_exit.src
                             4294 ; 2659 |#define RSRC_MUSIC_EXIT 1124    
                             4295 ; 2660 |//$FILENAME vie_music_exit.src
                             4296 ; 2661 |#define RSRC_VIE_MUSIC_EXIT 1125    
                             4297 ; 2662 |
                             4298 ; 2663 |//$FILENAME browse_music_folder_internal.src
                             4299 ; 2664 |#define RSRC_BROWSE_MUSIC_FOLDER_INTERNAL 1126    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  71

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4300 ; 2665 |//$FILENAME vie_browse_music_folder_internal.src
                             4301 ; 2666 |#define RSRC_VIE_BROWSE_MUSIC_FOLDER_INTERNAL 1127    
                             4302 ; 2667 |
                             4303 ; 2668 |//$FILENAME browse_music_folder_external.src
                             4304 ; 2669 |#define RSRC_BROWSE_MUSIC_FOLDER_EXTERNAL 1128    
                             4305 ; 2670 |//$FILENAME vie_browse_music_folder_external.src
                             4306 ; 2671 |#define RSRC_VIE_BROWSE_MUSIC_FOLDER_EXTERNAL 1129    
                             4307 ; 2672 |
                             4308 ; 2673 |//$FILENAME browse_music_list_songs.src
                             4309 ; 2674 |#define RSRC_BROWSE_MUSIC_LIST_SONGS 1130    
                             4310 ; 2675 |//$FILENAME vie_browse_music_list_songs.src
                             4311 ; 2676 |#define RSRC_VIE_BROWSE_MUSIC_LIST_SONGS 1131    
                             4312 ; 2677 |
                             4313 ; 2678 |//$FILENAME browse_music_favourites.src
                             4314 ; 2679 |#define RSRC_BROWSE_MUSIC_FAVOURITES 1132    
                             4315 ; 2680 |//$FILENAME vie_browse_music_favourites.src
                             4316 ; 2681 |#define RSRC_VIE_BROWSE_MUSIC_FAVOURITES 1133    
                             4317 ; 2682 |
                             4318 ; 2683 |//$FILENAME browse_music_fm_files.src
                             4319 ; 2684 |#define RSRC_BROWSE_MUSIC_FM_FILES 1134    
                             4320 ; 2685 |//$FILENAME vie_browse_music_fm_files.src
                             4321 ; 2686 |#define RSRC_VIE_BROWSE_MUSIC_FM_FILES 1135    
                             4322 ; 2687 |
                             4323 ; 2688 |//$FILENAME browse_voice.src
                             4324 ; 2689 |#define RSRC_BROWSE_VOICE 1136    
                             4325 ; 2690 |//$FILENAME vie_browse_voice.src
                             4326 ; 2691 |#define RSRC_VIE_BROWSE_VOICE 1137    
                             4327 ; 2692 |
                             4328 ; 2693 |//$FILENAME favourites_list_add.src
                             4329 ; 2694 |#define RSRC_FAVOURITES_LIST_ADD 1138    
                             4330 ; 2695 |//$FILENAME vie_favourites_list_add.src
                             4331 ; 2696 |#define RSRC_VIE_FAVOURITES_LIST_ADD 1139    
                             4332 ; 2697 |
                             4333 ; 2698 |//$FILENAME favourites_list_remove.src
                             4334 ; 2699 |#define RSRC_FAVOURITES_LIST_REMOVE 1140    
                             4335 ; 2700 |//$FILENAME vie_favourites_list_remove.src
                             4336 ; 2701 |#define RSRC_VIE_FAVOURITES_LIST_REMOVE 1141    
                             4337 ; 2702 |
                             4338 ; 2703 |//$FILENAME favourites_list_is_full.src
                             4339 ; 2704 |#define RSRC_FAVOURITES_LIST_IS_FULL 1142    
                             4340 ; 2705 |//$FILENAME vie_favourites_list_is_full.src
                             4341 ; 2706 |#define RSRC_VIE_FAVOURITES_LIST_IS_FULL 1143    
                             4342 ; 2707 |
                             4343 ; 2708 |//$FILENAME about_screen_1.src
                             4344 ; 2709 |#define RSRC_ABOUT_SCREEN_1 1144    
                             4345 ; 2710 |//$FILENAME vie_about_screen_1.src
                             4346 ; 2711 |#define RSRC_VIE_ABOUT_SCREEN_1 1145    
                             4347 ; 2712 |
                             4348 ; 2713 |//$FILENAME about_screen_2.src
                             4349 ; 2714 |#define RSRC_ABOUT_SCREEN_2 1146    
                             4350 ; 2715 |//$FILENAME vie_about_screen_2.src
                             4351 ; 2716 |#define RSRC_VIE_ABOUT_SCREEN_2 1147    
                             4352 ; 2717 |
                             4353 ; 2718 |//$FILENAME about_screen_3.src
                             4354 ; 2719 |#define RSRC_ABOUT_SCREEN_3 1148    
                             4355 ; 2720 |//$FILENAME vie_about_screen_3.src
                             4356 ; 2721 |#define RSRC_VIE_ABOUT_SCREEN_3 1149    
                             4357 ; 2722 |
                             4358 ; 2723 |//$FILENAME about_screen_4.src
                             4359 ; 2724 |#define RSRC_ABOUT_SCREEN_4 1150    
                             4360 ; 2725 |//$FILENAME vie_about_screen_4.src
                             4361 ; 2726 |#define RSRC_VIE_ABOUT_SCREEN_4 1151    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  72

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4362 ; 2727 |
                             4363 ; 2728 |//$FILENAME time_date_exit_title.src
                             4364 ; 2729 |#define RSRC_TIME_DATE_EXIT_TITLE 1152    
                             4365 ; 2730 |//$FILENAME vie_time_date_exit_title.src
                             4366 ; 2731 |#define RSRC_VIE_TIME_DATE_EXIT_TITLE 1153    
                             4367 ; 2732 |
                             4368 ; 2733 |//$FILENAME time_clean_desktop.src
                             4369 ; 2734 |#define RSRC_TIME_CLEAN_DESKTOP 1154    
                             4370 ; 2735 |//$FILENAME time_dash.src
                             4371 ; 2736 |#define RSRC_TIME_DASH 1155    
                             4372 ; 2737 |
                             4373 ; 2738 |//$FILENAME time_day_7.src
                             4374 ; 2739 |#define RSRC_TIME_DAY_SAT 1156    
                             4375 ; 2740 |//$FILENAME vie_time_day_7.src
                             4376 ; 2741 |#define RSRC_VIE_TIME_DAY_SAT 1157    
                             4377 ; 2742 |//$FILENAME time_day_cn.src
                             4378 ; 2743 |#define RSRC_TIME_DAY_SUN 1158    
                             4379 ; 2744 |//$FILENAME vie_time_day_cn.src
                             4380 ; 2745 |#define RSRC_VIE_TIME_DAY_SUN 1159    
                             4381 ; 2746 |//$FILENAME time_day_2.src
                             4382 ; 2747 |#define RSRC_TIME_DAY_MON 1160    
                             4383 ; 2748 |//$FILENAME vie_time_day_2.src
                             4384 ; 2749 |#define RSRC_VIE_TIME_DAY_MON 1161    
                             4385 ; 2750 |//$FILENAME time_day_3.src
                             4386 ; 2751 |#define RSRC_TIME_DAY_TUE 1162    
                             4387 ; 2752 |//$FILENAME vie_time_day_3.src
                             4388 ; 2753 |#define RSRC_VIE_TIME_DAY_TUE 1163    
                             4389 ; 2754 |//$FILENAME time_day_4.src
                             4390 ; 2755 |#define RSRC_TIME_DAY_WED 1164    
                             4391 ; 2756 |//$FILENAME vie_time_day_4.src
                             4392 ; 2757 |#define RSRC_VIE_TIME_DAY_WED 1165    
                             4393 ; 2758 |//$FILENAME time_day_5.src
                             4394 ; 2759 |#define RSRC_TIME_DAY_THU 1166    
                             4395 ; 2760 |//$FILENAME vie_time_day_5.src
                             4396 ; 2761 |#define RSRC_VIE_TIME_DAY_THU 1167    
                             4397 ; 2762 |//$FILENAME time_day_6.src
                             4398 ; 2763 |#define RSRC_TIME_DAY_FRI 1168    
                             4399 ; 2764 |//$FILENAME vie_time_day_6.src
                             4400 ; 2765 |#define RSRC_VIE_TIME_DAY_FRI 1169    
                             4401 ; 2766 |
                             4402 ; 2767 |//$FILENAME time_month_1.src
                             4403 ; 2768 |#define RSRC_TIME_MONTH_1 1170    
                             4404 ; 2769 |//$FILENAME vie_time_month_1.src
                             4405 ; 2770 |#define RSRC_VIE_TIME_MONTH_1 1171    
                             4406 ; 2771 |//$FILENAME time_month_2.src
                             4407 ; 2772 |#define RSRC_TIME_MONTH_2 1172    
                             4408 ; 2773 |//$FILENAME vie_time_month_2.src
                             4409 ; 2774 |#define RSRC_VIE_TIME_MONTH_2 1173    
                             4410 ; 2775 |//$FILENAME time_month_3.src
                             4411 ; 2776 |#define RSRC_TIME_MONTH_3 1174    
                             4412 ; 2777 |//$FILENAME vie_time_month_3.src
                             4413 ; 2778 |#define RSRC_VIE_TIME_MONTH_3 1175    
                             4414 ; 2779 |//$FILENAME time_month_4.src
                             4415 ; 2780 |#define RSRC_TIME_MONTH_4 1176    
                             4416 ; 2781 |//$FILENAME vie_time_month_4.src
                             4417 ; 2782 |#define RSRC_VIE_TIME_MONTH_4 1177    
                             4418 ; 2783 |//$FILENAME time_month_5.src
                             4419 ; 2784 |#define RSRC_TIME_MONTH_5 1178    
                             4420 ; 2785 |//$FILENAME vie_time_month_5.src
                             4421 ; 2786 |#define RSRC_VIE_TIME_MONTH_5 1179    
                             4422 ; 2787 |//$FILENAME time_month_6.src
                             4423 ; 2788 |#define RSRC_TIME_MONTH_6 1180    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  73

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4424 ; 2789 |//$FILENAME vie_time_month_6.src
                             4425 ; 2790 |#define RSRC_VIE_TIME_MONTH_6 1181    
                             4426 ; 2791 |//$FILENAME time_month_7.src
                             4427 ; 2792 |#define RSRC_TIME_MONTH_7 1182    
                             4428 ; 2793 |//$FILENAME vie_time_month_7.src
                             4429 ; 2794 |#define RSRC_VIE_TIME_MONTH_7 1183    
                             4430 ; 2795 |//$FILENAME time_month_8.src
                             4431 ; 2796 |#define RSRC_TIME_MONTH_8 1184    
                             4432 ; 2797 |//$FILENAME vie_time_month_8.src
                             4433 ; 2798 |#define RSRC_VIE_TIME_MONTH_8 1185    
                             4434 ; 2799 |//$FILENAME time_month_9.src
                             4435 ; 2800 |#define RSRC_TIME_MONTH_9 1186    
                             4436 ; 2801 |//$FILENAME vie_time_month_9.src
                             4437 ; 2802 |#define RSRC_VIE_TIME_MONTH_9 1187    
                             4438 ; 2803 |//$FILENAME time_month_10.src
                             4439 ; 2804 |#define RSRC_TIME_MONTH_10 1188    
                             4440 ; 2805 |//$FILENAME vie_time_month_10.src
                             4441 ; 2806 |#define RSRC_VIE_TIME_MONTH_10 1189    
                             4442 ; 2807 |//$FILENAME time_month_11.src
                             4443 ; 2808 |#define RSRC_TIME_MONTH_11 1190    
                             4444 ; 2809 |//$FILENAME vie_time_month_11.src
                             4445 ; 2810 |#define RSRC_VIE_TIME_MONTH_11 1191    
                             4446 ; 2811 |//$FILENAME time_month_12.src
                             4447 ; 2812 |#define RSRC_TIME_MONTH_12 1192    
                             4448 ; 2813 |//$FILENAME vie_time_month_12.src
                             4449 ; 2814 |#define RSRC_VIE_TIME_MONTH_12 1193    
                             4450 ; 2815 |
                             4451 ; 2816 |//$FILENAME time_num_am.src
                             4452 ; 2817 |#define RSRC_TIME_NUM_AM 1194    
                             4453 ; 2818 |//$FILENAME time_num_am.src
                             4454 ; 2819 |#define RSRC_TIME_NUM_PM 1195    
                             4455 ; 2820 |//$FILENAME settime_format_12h.src
                             4456 ; 2821 |#define RSRC_SETTIME_FORMAT_12H 1196    
                             4457 ; 2822 |//$FILENAME settime_format_24h.src
                             4458 ; 2823 |#define RSRC_SETTIME_FORMAT_24H 1197    
                             4459 ; 2824 |//$FILENAME setdate_format_dmy.src
                             4460 ; 2825 |#define RSRC_SETDATE_FORMAT_DMY 1198    
                             4461 ; 2826 |//$FILENAME setdate_format_mdy.src
                             4462 ; 2827 |#define RSRC_SETDATE_FORMAT_MDY 1199    
                             4463 ; 2828 |//$FILENAME setdate_format_ymd.src
                             4464 ; 2829 |#define RSRC_SETDATE_FORMAT_YMD 1200    
                             4465 ; 2830 |
                             4466 ; 2831 |//$FILENAME time_num_large_0.src
                             4467 ; 2832 |#define RSRC_TIME_NUM_LARGE_0 1201    
                             4468 ; 2833 |//$FILENAME time_num_large_1.src
                             4469 ; 2834 |#define RSRC_TIME_NUM_LARGE_1 1202    
                             4470 ; 2835 |//$FILENAME time_num_large_2.src
                             4471 ; 2836 |#define RSRC_TIME_NUM_LARGE_2 1203    
                             4472 ; 2837 |//$FILENAME time_num_large_3.src
                             4473 ; 2838 |#define RSRC_TIME_NUM_LARGE_3 1204    
                             4474 ; 2839 |//$FILENAME time_num_large_4.src
                             4475 ; 2840 |#define RSRC_TIME_NUM_LARGE_4 1205    
                             4476 ; 2841 |//$FILENAME time_num_large_5.src
                             4477 ; 2842 |#define RSRC_TIME_NUM_LARGE_5 1206    
                             4478 ; 2843 |//$FILENAME time_num_large_6.src
                             4479 ; 2844 |#define RSRC_TIME_NUM_LARGE_6 1207    
                             4480 ; 2845 |//$FILENAME time_num_large_7.src
                             4481 ; 2846 |#define RSRC_TIME_NUM_LARGE_7 1208    
                             4482 ; 2847 |//$FILENAME time_num_large_8.src
                             4483 ; 2848 |#define RSRC_TIME_NUM_LARGE_8 1209    
                             4484 ; 2849 |//$FILENAME time_num_large_9.src
                             4485 ; 2850 |#define RSRC_TIME_NUM_LARGE_9 1210    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  74

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4486 ; 2851 |
                             4487 ; 2852 |//$FILENAME time_num_medium_0.src
                             4488 ; 2853 |#define RSRC_TIME_NUM_MEDIUM_0 1211    
                             4489 ; 2854 |//$FILENAME time_num_medium_1.src
                             4490 ; 2855 |#define RSRC_TIME_NUM_MEDIUM_1 1212    
                             4491 ; 2856 |//$FILENAME time_num_medium_2.src
                             4492 ; 2857 |#define RSRC_TIME_NUM_MEDIUM_2 1213    
                             4493 ; 2858 |//$FILENAME time_num_medium_3.src
                             4494 ; 2859 |#define RSRC_TIME_NUM_MEDIUM_3 1214    
                             4495 ; 2860 |//$FILENAME time_num_medium_4.src
                             4496 ; 2861 |#define RSRC_TIME_NUM_MEDIUM_4 1215    
                             4497 ; 2862 |//$FILENAME time_num_medium_5.src
                             4498 ; 2863 |#define RSRC_TIME_NUM_MEDIUM_5 1216    
                             4499 ; 2864 |//$FILENAME time_num_medium_6.src
                             4500 ; 2865 |#define RSRC_TIME_NUM_MEDIUM_6 1217    
                             4501 ; 2866 |//$FILENAME time_num_medium_7.src
                             4502 ; 2867 |#define RSRC_TIME_NUM_MEDIUM_7 1218    
                             4503 ; 2868 |//$FILENAME time_num_medium_8.src
                             4504 ; 2869 |#define RSRC_TIME_NUM_MEDIUM_8 1219    
                             4505 ; 2870 |//$FILENAME time_num_medium_9.src
                             4506 ; 2871 |#define RSRC_TIME_NUM_MEDIUM_9 1220    
                             4507 ; 2872 |
                             4508 ; 2873 |//$FILENAME time_colon.src
                             4509 ; 2874 |#define RSRC_TIME_COLON 1221    
                             4510 ; 2875 |
                             4511 ; 2876 |//$FILENAME settings_backlight_title.src
                             4512 ; 2877 |#define RSRC_SETTINGS_BACKLIGHT_TITLE 1222    
                             4513 ; 2878 |//$FILENAME settings_auto_shutdown_title.src
                             4514 ; 2879 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_TITLE 1223    
                             4515 ; 2880 |//$FILENAME settings_playmode_title.src
                             4516 ; 2881 |#define RSRC_SETTINGS_PLAYMODE_TITLE 1224    
                             4517 ; 2882 |
                             4518 ; 2883 |//$FILENAME settings_contrast_title.src
                             4519 ; 2884 |#define RSRC_SETTINGS_CONTRAST_TITLE 1225    
                             4520 ; 2885 |//$FILENAME vie_settings_contrast_title.src
                             4521 ; 2886 |#define RSRC_VIE_SETTINGS_CONTRAST_TITLE 1226    
                             4522 ; 2887 |
                             4523 ; 2888 |//$FILENAME settings_eq_title.src
                             4524 ; 2889 |#define RSRC_SETTINGS_EQ_TITLE 1227    
                             4525 ; 2890 |//$FILENAME vie_settings_eq_title.src
                             4526 ; 2891 |#define RSRC_VIE_SETTINGS_EQ_TITLE 1228    
                             4527 ; 2892 |
                             4528 ; 2893 |//$FILENAME settings_exit_title.src
                             4529 ; 2894 |#define RSRC_SETTINGS_EXIT_TITLE 1229    
                             4530 ; 2895 |//$FILENAME vie_settings_exit_title.src
                             4531 ; 2896 |#define RSRC_VIE_SETTINGS_EXIT_TITLE 1230    
                             4532 ; 2897 |
                             4533 ; 2898 |//$FILENAME settings_set_date_title.src
                             4534 ; 2899 |#define RSRC_SETTINGS_SET_DATE_TITLE 1231    
                             4535 ; 2900 |//$FILENAME vie_settings_set_date_title.src
                             4536 ; 2901 |#define RSRC_VIE_SETTINGS_SET_DATE_TITLE 1232    
                             4537 ; 2902 |
                             4538 ; 2903 |//$FILENAME settings_set_time_title.src
                             4539 ; 2904 |#define RSRC_SETTINGS_SET_TIME_TITLE 1233    
                             4540 ; 2905 |//$FILENAME vie_settings_set_time_title.src
                             4541 ; 2906 |#define RSRC_VIE_SETTINGS_SET_TIME_TITLE 1234    
                             4542 ; 2907 |
                             4543 ; 2908 |//$FILENAME settings_playmode_normal.src
                             4544 ; 2909 |#define RSRC_SETTINGS_PLAYMODE_NORMAL 1235    
                             4545 ; 2910 |//$FILENAME vie_settings_playmode_normal.src
                             4546 ; 2911 |#define RSRC_VIE_SETTINGS_PLAYMODE_NORMAL 1236    
                             4547 ; 2912 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  75

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4548 ; 2913 |//$FILENAME settings_playmode_repeatone.src
                             4549 ; 2914 |#define RSRC_SETTINGS_PLAYMODE_REPEATONE 1237    
                             4550 ; 2915 |//$FILENAME vie_settings_playmode_repeatone.src
                             4551 ; 2916 |#define RSRC_VIE_SETTINGS_PLAYMODE_REPEATONE 1238    
                             4552 ; 2917 |
                             4553 ; 2918 |//$FILENAME settings_playmode_repeatall.src
                             4554 ; 2919 |#define RSRC_SETTINGS_PLAYMODE_REPEATALL 1239    
                             4555 ; 2920 |//$FILENAME vie_settings_playmode_repeatall.src
                             4556 ; 2921 |#define RSRC_VIE_SETTINGS_PLAYMODE_REPEATALL 1240    
                             4557 ; 2922 |
                             4558 ; 2923 |//$FILENAME settings_playmode_shuffle.src
                             4559 ; 2924 |#define RSRC_SETTINGS_PLAYMODE_SHUFFLE 1241    
                             4560 ; 2925 |//$FILENAME vie_settings_playmode_shuffle.src
                             4561 ; 2926 |#define RSRC_VIE_SETTINGS_PLAYMODE_SHUFFLE 1242    
                             4562 ; 2927 |
                             4563 ; 2928 |//$FILENAME settings_playmode_shuffle_repeat.src
                             4564 ; 2929 |#define RSRC_SETTINGS_PLAYMODE_SHUFFLE_REPEAT 1243    
                             4565 ; 2930 |//$FILENAME vie_settings_playmode_shuffle_repeat.src
                             4566 ; 2931 |#define RSRC_VIE_SETTINGS_PLAYMODE_SHUFFLE_REPEAT 1244    
                             4567 ; 2932 |
                             4568 ; 2933 |//$FILENAME settings_backlight_on.src
                             4569 ; 2934 |#define RSRC_SETTINGS_BACKLIGHT_ON 1245    
                             4570 ; 2935 |//$FILENAME vie_settings_backlight_on.src
                             4571 ; 2936 |#define RSRC_VIE_SETTINGS_BACKLIGHT_ON 1246    
                             4572 ; 2937 |
                             4573 ; 2938 |//$FILENAME settings_backlight_10s.src
                             4574 ; 2939 |#define RSRC_SETTINGS_BACKLIGHT_10S 1247    
                             4575 ; 2940 |//$FILENAME vie_settings_backlight_10s.src
                             4576 ; 2941 |#define RSRC_VIE_SETTINGS_BACKLIGHT_10S 1248    
                             4577 ; 2942 |
                             4578 ; 2943 |//$FILENAME settings_backlight_20s.src
                             4579 ; 2944 |#define RSRC_SETTINGS_BACKLIGHT_20S 1249    
                             4580 ; 2945 |//$FILENAME vie_settings_backlight_20s.src
                             4581 ; 2946 |#define RSRC_VIE_SETTINGS_BACKLIGHT_20s 1250    
                             4582 ; 2947 |
                             4583 ; 2948 |//$FILENAME settings_backlight_30s.src
                             4584 ; 2949 |#define RSRC_SETTINGS_BACKLIGHT_30S 1251    
                             4585 ; 2950 |//$FILENAME vie_settings_backlight_30s.src
                             4586 ; 2951 |#define RSRC_VIE_SETTINGS_BACKLIGHT_30S 1252    
                             4587 ; 2952 |
                             4588 ; 2953 |//$FILENAME settings_auto_shutdown_disable.src
                             4589 ; 2954 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_DISABLE 1253    
                             4590 ; 2955 |//$FILENAME vie_settings_auto_shutdown_disable.src
                             4591 ; 2956 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_DISABLE 1254    
                             4592 ; 2957 |
                             4593 ; 2958 |//$FILENAME settings_auto_shutdown_1minute.src
                             4594 ; 2959 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_1MINUTE 1255    
                             4595 ; 2960 |//$FILENAME vie_settings_auto_shutdown_1min.src
                             4596 ; 2961 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_1MINUTE 1256    
                             4597 ; 2962 |
                             4598 ; 2963 |//$FILENAME settings_auto_shutdown_2minutes.src
                             4599 ; 2964 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_2MINUTES 1257    
                             4600 ; 2965 |//$FILENAME vie_settings_auto_shutdown_2min.src
                             4601 ; 2966 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_2MINUTES 1258    
                             4602 ; 2967 |
                             4603 ; 2968 |//$FILENAME settings_auto_shutdown_5minutes.src
                             4604 ; 2969 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_5MINUTES 1259    
                             4605 ; 2970 |//$FILENAME vie_settings_auto_shutdown_5min.src
                             4606 ; 2971 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_5MINUTES 1260    
                             4607 ; 2972 |
                             4608 ; 2973 |//$FILENAME settings_auto_shutdown_10minutes.src
                             4609 ; 2974 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_10MINUTES 1261    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  76

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4610 ; 2975 |//$FILENAME vie_settings_auto_shutdown_10min.src
                             4611 ; 2976 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_10MINUTES 1262    
                             4612 ; 2977 |
                             4613 ; 2978 |//$FILENAME settings_languages_eng.src
                             4614 ; 2979 |#define RSRC_SETTINGS_LANGUAGES_ENG 1263    
                             4615 ; 2980 |//$FILENAME settings_languages_vie.src
                             4616 ; 2981 |#define RSRC_SETTINGS_LANGUAGES_VIE 1264    
                             4617 ; 2982 |
                             4618 ; 2983 |//$FILENAME fraction_dot.src
                             4619 ; 2984 |#define RSRC_FRACTION_DOT 1265    
                             4620 ; 2985 |
                             4621 ; 2986 |//$FILENAME fm_background.src
                             4622 ; 2987 |#define RSRC_FM_BACKGROUND 1266    
                             4623 ; 2988 |//$FILENAME vie_fm_background.src
                             4624 ; 2989 |#define RSRC_VIE_FM_BACKGROUND 1267    
                             4625 ; 2990 |
                             4626 ; 2991 |//$FILENAME searching_please_wait.src
                             4627 ; 2992 |#define RSRC_SEARCHING_PLEASE_WAIT 1268    
                             4628 ; 2993 |//$FILENAME vie_searching_please_wait.src
                             4629 ; 2994 |#define RSRC_VIE_SEARCHING_PLEASE_WAIT 1269    
                             4630 ; 2995 |
                             4631 ; 2996 |//$FILENAME fm_auto_search.src
                             4632 ; 2997 |#define RSRC_FM_AUTO_SEARCH 1270    
                             4633 ; 2998 |//$FILENAME vie_fm_auto_search.src
                             4634 ; 2999 |#define RSRC_VIE_FM_AUTO_SEARCH 1271    
                             4635 ; 3000 |
                             4636 ; 3001 |//$FILENAME jvj_shutdown_player.src
                             4637 ; 3002 |#define RSRC_JVJ_SHUTDOWN_PLAYER 1272    
                             4638 ; 3003 |//$FILENAME vie_jvj_shutdown_player.src
                             4639 ; 3004 |#define RSRC_VIE_JVJ_SHUTDOWN_PLAYER 1273    
                             4640 ; 3005 |
                             4641 ; 3006 |#endif //IF (!@def(resources))
                             4642 ; 3007 |
                             4643 
                             4645 
                             4646 ; 12   |#include "buttons.h"
                             4647 
                             4649 
                             4650 ; 1    |#ifndef _BUTTONS_H
                             4651 ; 2    |#define _BUTTONS_H
                             4652 ; 3    |
                             4653 ; 4    |#include "types.h"
                             4654 
                             4656 
                             4657 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             4658 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             4659 ; 3    |//
                             4660 ; 4    |// Filename: types.h
                             4661 ; 5    |// Description: Standard data types
                             4662 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             4663 ; 7    |
                             4664 ; 8    |#ifndef _TYPES_H
                             4665 ; 9    |#define _TYPES_H
                             4666 ; 10   |
                             4667 ; 11   |// TODO:  move this outta here!
                             4668 ; 12   |#if !defined(NOERROR)
                             4669 ; 13   |#define NOERROR 0
                             4670 ; 14   |#define SUCCESS 0
                             4671 ; 15   |#endif 
                             4672 ; 16   |#if !defined(SUCCESS)
                             4673 ; 17   |#define SUCCESS  0
                             4674 ; 18   |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  77

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4675 ; 19   |#if !defined(ERROR)
                             4676 ; 20   |#define ERROR   -1
                             4677 ; 21   |#endif
                             4678 ; 22   |#if !defined(FALSE)
                             4679 ; 23   |#define FALSE 0
                             4680 ; 24   |#endif
                             4681 ; 25   |#if !defined(TRUE)
                             4682 ; 26   |#define TRUE  1
                             4683 ; 27   |#endif
                             4684 ; 28   |
                             4685 ; 29   |#if !defined(NULL)
                             4686 ; 30   |#define NULL 0
                             4687 ; 31   |#endif
                             4688 ; 32   |
                             4689 ; 33   |#define MAX_INT     0x7FFFFF
                             4690 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             4691 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             4692 ; 36   |#define MAX_ULONG   (-1) 
                             4693 ; 37   |
                             4694 ; 38   |#define WORD_SIZE   24              // word size in bits
                             4695 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             4696 ; 40   |
                             4697 ; 41   |
                             4698 ; 42   |#define BYTE    unsigned char       // btVarName
                             4699 ; 43   |#define CHAR    signed char         // cVarName
                             4700 ; 44   |#define USHORT  unsigned short      // usVarName
                             4701 ; 45   |#define SHORT   unsigned short      // sVarName
                             4702 ; 46   |#define WORD    unsigned int        // wVarName
                             4703 ; 47   |#define INT     signed int          // iVarName
                             4704 ; 48   |#define DWORD   unsigned long       // dwVarName
                             4705 ; 49   |#define LONG    signed long         // lVarName
                             4706 ; 50   |#define BOOL    unsigned int        // bVarName
                             4707 ; 51   |#define FRACT   _fract              // frVarName
                             4708 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             4709 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             4710 ; 54   |#define FLOAT   float               // fVarName
                             4711 ; 55   |#define DBL     double              // dVarName
                             4712 ; 56   |#define ENUM    enum                // eVarName
                             4713 ; 57   |#define CMX     _complex            // cmxVarName
                             4714 ; 58   |typedef WORD UCS3;                   // 
                             4715 ; 59   |
                             4716 ; 60   |#define UINT16  unsigned short
                             4717 ; 61   |#define UINT8   unsigned char   
                             4718 ; 62   |#define UINT32  unsigned long
                             4719 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             4720 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             4721 ; 65   |#define WCHAR   UINT16
                             4722 ; 66   |
                             4723 ; 67   |//UINT128 is 16 bytes or 6 words
                             4724 ; 68   |typedef struct UINT128_3500 {   
                             4725 ; 69   |    int val[6];     
                             4726 ; 70   |} UINT128_3500;
                             4727 ; 71   |
                             4728 ; 72   |#define UINT128   UINT128_3500
                             4729 ; 73   |
                             4730 ; 74   |// Little endian word packed byte strings:   
                             4731 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4732 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4733 ; 77   |// Little endian word packed byte strings:   
                             4734 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  78

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4735 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4736 ; 80   |
                             4737 ; 81   |// Declare Memory Spaces To Use When Coding
                             4738 ; 82   |// A. Sector Buffers
                             4739 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             4740 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             4741 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             4742 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             4743 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             4744 ; 88   |// B. Media DDI Memory
                             4745 ; 89   |#define MEDIA_DDI_MEM _Y
                             4746 ; 90   |
                             4747 ; 91   |
                             4748 ; 92   |
                             4749 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             4750 ; 94   |// Examples of circular pointers:
                             4751 ; 95   |//    INT CIRC cpiVarName
                             4752 ; 96   |//    DWORD CIRC cpdwVarName
                             4753 ; 97   |
                             4754 ; 98   |#define RETCODE INT                 // rcVarName
                             4755 ; 99   |
                             4756 ; 100  |// generic bitfield structure
                             4757 ; 101  |struct Bitfield {
                             4758 ; 102  |    unsigned int B0  :1;
                             4759 ; 103  |    unsigned int B1  :1;
                             4760 ; 104  |    unsigned int B2  :1;
                             4761 ; 105  |    unsigned int B3  :1;
                             4762 ; 106  |    unsigned int B4  :1;
                             4763 ; 107  |    unsigned int B5  :1;
                             4764 ; 108  |    unsigned int B6  :1;
                             4765 ; 109  |    unsigned int B7  :1;
                             4766 ; 110  |    unsigned int B8  :1;
                             4767 ; 111  |    unsigned int B9  :1;
                             4768 ; 112  |    unsigned int B10 :1;
                             4769 ; 113  |    unsigned int B11 :1;
                             4770 ; 114  |    unsigned int B12 :1;
                             4771 ; 115  |    unsigned int B13 :1;
                             4772 ; 116  |    unsigned int B14 :1;
                             4773 ; 117  |    unsigned int B15 :1;
                             4774 ; 118  |    unsigned int B16 :1;
                             4775 ; 119  |    unsigned int B17 :1;
                             4776 ; 120  |    unsigned int B18 :1;
                             4777 ; 121  |    unsigned int B19 :1;
                             4778 ; 122  |    unsigned int B20 :1;
                             4779 ; 123  |    unsigned int B21 :1;
                             4780 ; 124  |    unsigned int B22 :1;
                             4781 ; 125  |    unsigned int B23 :1;
                             4782 ; 126  |};
                             4783 ; 127  |
                             4784 ; 128  |union BitInt {
                             4785 ; 129  |        struct Bitfield B;
                             4786 ; 130  |        int        I;
                             4787 ; 131  |};
                             4788 ; 132  |
                             4789 ; 133  |#define MAX_MSG_LENGTH 10
                             4790 ; 134  |struct CMessage
                             4791 ; 135  |{
                             4792 ; 136  |        unsigned int m_uLength;
                             4793 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             4794 ; 138  |};
                             4795 ; 139  |
                             4796 ; 140  |typedef struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  79

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4797 ; 141  |    WORD m_wLength;
                             4798 ; 142  |    WORD m_wMessage;
                             4799 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             4800 ; 144  |} Message;
                             4801 ; 145  |
                             4802 ; 146  |struct MessageQueueDescriptor
                             4803 ; 147  |{
                             4804 ; 148  |        int *m_pBase;
                             4805 ; 149  |        int m_iModulo;
                             4806 ; 150  |        int m_iSize;
                             4807 ; 151  |        int *m_pHead;
                             4808 ; 152  |        int *m_pTail;
                             4809 ; 153  |};
                             4810 ; 154  |
                             4811 ; 155  |struct ModuleEntry
                             4812 ; 156  |{
                             4813 ; 157  |    int m_iSignaledEventMask;
                             4814 ; 158  |    int m_iWaitEventMask;
                             4815 ; 159  |    int m_iResourceOfCode;
                             4816 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             4817 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             4818 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             4819 ; 163  |    int m_uTimeOutHigh;
                             4820 ; 164  |    int m_uTimeOutLow;
                             4821 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             4822 ; 166  |};
                             4823 ; 167  |
                             4824 ; 168  |union WaitMask{
                             4825 ; 169  |    struct B{
                             4826 ; 170  |        unsigned int m_bNone     :1;
                             4827 ; 171  |        unsigned int m_bMessage  :1;
                             4828 ; 172  |        unsigned int m_bTimer    :1;
                             4829 ; 173  |        unsigned int m_bButton   :1;
                             4830 ; 174  |    } B;
                             4831 ; 175  |    int I;
                             4832 ; 176  |} ;
                             4833 ; 177  |
                             4834 ; 178  |
                             4835 ; 179  |struct Button {
                             4836 ; 180  |        WORD wButtonEvent;
                             4837 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             4838 ; 182  |};
                             4839 ; 183  |
                             4840 ; 184  |struct Message {
                             4841 ; 185  |        WORD wMsgLength;
                             4842 ; 186  |        WORD wMsgCommand;
                             4843 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             4844 ; 188  |};
                             4845 ; 189  |
                             4846 ; 190  |union EventTypes {
                             4847 ; 191  |        struct CMessage msg;
                             4848 ; 192  |        struct Button Button ;
                             4849 ; 193  |        struct Message Message;
                             4850 ; 194  |};
                             4851 ; 195  |
                             4852 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             4853 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             4854 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             4855 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             4856 ; 200  |
                             4857 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  80

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4858 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             4859 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             4860 ; 204  |
                             4861 ; 205  |#if DEBUG
                             4862 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             4863 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             4864 ; 208  |#else 
                             4865 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             4866 ; 210  |#define DebugBuildAssert(x)    
                             4867 ; 211  |#endif
                             4868 ; 212  |
                             4869 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             4870 ; 214  |//  #pragma asm
                             4871 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             4872 ; 216  |//  #pragma endasm
                             4873 ; 217  |
                             4874 ; 218  |
                             4875 ; 219  |#ifdef COLOR_262K
                             4876 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             4877 ; 221  |#elif defined(COLOR_65K)
                             4878 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             4879 ; 223  |#else
                             4880 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             4881 ; 225  |#endif
                             4882 ; 226  |    
                             4883 ; 227  |#endif // #ifndef _TYPES_H
                             4884 
                             4886 
                             4887 ; 5    |
                             4888 ; 6    |//These must match the definintions in buttondefs.inc, otherwise the button presses will t
                                  rigger
                             4889 ; 7    |//unexpected events.
                             4890 ; 8    |
                             4891 ; 9    |#define PR_RW           0
                             4892 ; 10   |#define PH_RW                   1
                             4893 ; 11   |#define PR_FF           2
                             4894 ; 12   |#define PH_FF           3
                             4895 ; 13   |#define PR_MENU         4
                             4896 ; 14   |#define PH_MENU         5
                             4897 ; 15   |#define PR_RV           6
                             4898 ; 16   |#define PH_RV           7
                             4899 ; 17   |#define PR_PLAY                 8
                             4900 ; 18   |#define PH_PLAY         9
                             4901 ; 19   |#define PR_HOLD         10
                             4902 ; 20   |#define PH_HOLD         11
                             4903 ; 21   |#define PR_VOL_DOWN     12
                             4904 ; 22   |#define PR_VOL_UP       13
                             4905 ; 23   |
                             4906 ; 24   |
                             4907 ; 25   |
                             4908 ; 26   |
                             4909 ; 27   |#define PH_VOL_DOWN     14
                             4910 ; 28   |#define PH_VOL_UP       15
                             4911 ; 29   |#define PR_MODE         24
                             4912 ; 30   |#define PR_STOP                 25
                             4913 ; 31   |#define PH_STOP         26
                             4914 ; 32   |#define PR_RECORD      27
                             4915 ; 33   |#define PH_RECORD       28
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  81

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4916 ; 34   |#define PR_AB           33
                             4917 ; 35   |#define PR_ERASE        34
                             4918 ; 36   |#define PH_ERASE        35
                             4919 ; 37   |#define PR_EQ           36
                             4920 ; 38   |#define PH_EQ       37
                             4921 ; 39   |
                             4922 ; 40   |
                             4923 ; 41   |
                             4924 ; 42   |
                             4925 ; 43   |extern WORD g_wLastButton;
                             4926 ; 44   |
                             4927 ; 45   |#endif //_BUTTONS_H
                             4928 
                             4930 
                             4931 ; 13   |#include "menus.h"
                             4932 
                             4934 
                             4935 ; 1    |#ifndef _MENU_H
                             4936 ; 2    |#define _MENU_H
                             4937 ; 3    |
                             4938 ; 4    |#include "types.h"
                             4939 
                             4941 
                             4942 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             4943 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             4944 ; 3    |//
                             4945 ; 4    |// Filename: types.h
                             4946 ; 5    |// Description: Standard data types
                             4947 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             4948 ; 7    |
                             4949 ; 8    |#ifndef _TYPES_H
                             4950 ; 9    |#define _TYPES_H
                             4951 ; 10   |
                             4952 ; 11   |// TODO:  move this outta here!
                             4953 ; 12   |#if !defined(NOERROR)
                             4954 ; 13   |#define NOERROR 0
                             4955 ; 14   |#define SUCCESS 0
                             4956 ; 15   |#endif 
                             4957 ; 16   |#if !defined(SUCCESS)
                             4958 ; 17   |#define SUCCESS  0
                             4959 ; 18   |#endif
                             4960 ; 19   |#if !defined(ERROR)
                             4961 ; 20   |#define ERROR   -1
                             4962 ; 21   |#endif
                             4963 ; 22   |#if !defined(FALSE)
                             4964 ; 23   |#define FALSE 0
                             4965 ; 24   |#endif
                             4966 ; 25   |#if !defined(TRUE)
                             4967 ; 26   |#define TRUE  1
                             4968 ; 27   |#endif
                             4969 ; 28   |
                             4970 ; 29   |#if !defined(NULL)
                             4971 ; 30   |#define NULL 0
                             4972 ; 31   |#endif
                             4973 ; 32   |
                             4974 ; 33   |#define MAX_INT     0x7FFFFF
                             4975 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             4976 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             4977 ; 36   |#define MAX_ULONG   (-1) 
                             4978 ; 37   |
                             4979 ; 38   |#define WORD_SIZE   24              // word size in bits
                             4980 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  82

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4981 ; 40   |
                             4982 ; 41   |
                             4983 ; 42   |#define BYTE    unsigned char       // btVarName
                             4984 ; 43   |#define CHAR    signed char         // cVarName
                             4985 ; 44   |#define USHORT  unsigned short      // usVarName
                             4986 ; 45   |#define SHORT   unsigned short      // sVarName
                             4987 ; 46   |#define WORD    unsigned int        // wVarName
                             4988 ; 47   |#define INT     signed int          // iVarName
                             4989 ; 48   |#define DWORD   unsigned long       // dwVarName
                             4990 ; 49   |#define LONG    signed long         // lVarName
                             4991 ; 50   |#define BOOL    unsigned int        // bVarName
                             4992 ; 51   |#define FRACT   _fract              // frVarName
                             4993 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             4994 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             4995 ; 54   |#define FLOAT   float               // fVarName
                             4996 ; 55   |#define DBL     double              // dVarName
                             4997 ; 56   |#define ENUM    enum                // eVarName
                             4998 ; 57   |#define CMX     _complex            // cmxVarName
                             4999 ; 58   |typedef WORD UCS3;                   // 
                             5000 ; 59   |
                             5001 ; 60   |#define UINT16  unsigned short
                             5002 ; 61   |#define UINT8   unsigned char   
                             5003 ; 62   |#define UINT32  unsigned long
                             5004 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             5005 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             5006 ; 65   |#define WCHAR   UINT16
                             5007 ; 66   |
                             5008 ; 67   |//UINT128 is 16 bytes or 6 words
                             5009 ; 68   |typedef struct UINT128_3500 {   
                             5010 ; 69   |    int val[6];     
                             5011 ; 70   |} UINT128_3500;
                             5012 ; 71   |
                             5013 ; 72   |#define UINT128   UINT128_3500
                             5014 ; 73   |
                             5015 ; 74   |// Little endian word packed byte strings:   
                             5016 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             5017 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             5018 ; 77   |// Little endian word packed byte strings:   
                             5019 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             5020 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             5021 ; 80   |
                             5022 ; 81   |// Declare Memory Spaces To Use When Coding
                             5023 ; 82   |// A. Sector Buffers
                             5024 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             5025 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             5026 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             5027 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             5028 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             5029 ; 88   |// B. Media DDI Memory
                             5030 ; 89   |#define MEDIA_DDI_MEM _Y
                             5031 ; 90   |
                             5032 ; 91   |
                             5033 ; 92   |
                             5034 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             5035 ; 94   |// Examples of circular pointers:
                             5036 ; 95   |//    INT CIRC cpiVarName
                             5037 ; 96   |//    DWORD CIRC cpdwVarName
                             5038 ; 97   |
                             5039 ; 98   |#define RETCODE INT                 // rcVarName
                             5040 ; 99   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  83

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5041 ; 100  |// generic bitfield structure
                             5042 ; 101  |struct Bitfield {
                             5043 ; 102  |    unsigned int B0  :1;
                             5044 ; 103  |    unsigned int B1  :1;
                             5045 ; 104  |    unsigned int B2  :1;
                             5046 ; 105  |    unsigned int B3  :1;
                             5047 ; 106  |    unsigned int B4  :1;
                             5048 ; 107  |    unsigned int B5  :1;
                             5049 ; 108  |    unsigned int B6  :1;
                             5050 ; 109  |    unsigned int B7  :1;
                             5051 ; 110  |    unsigned int B8  :1;
                             5052 ; 111  |    unsigned int B9  :1;
                             5053 ; 112  |    unsigned int B10 :1;
                             5054 ; 113  |    unsigned int B11 :1;
                             5055 ; 114  |    unsigned int B12 :1;
                             5056 ; 115  |    unsigned int B13 :1;
                             5057 ; 116  |    unsigned int B14 :1;
                             5058 ; 117  |    unsigned int B15 :1;
                             5059 ; 118  |    unsigned int B16 :1;
                             5060 ; 119  |    unsigned int B17 :1;
                             5061 ; 120  |    unsigned int B18 :1;
                             5062 ; 121  |    unsigned int B19 :1;
                             5063 ; 122  |    unsigned int B20 :1;
                             5064 ; 123  |    unsigned int B21 :1;
                             5065 ; 124  |    unsigned int B22 :1;
                             5066 ; 125  |    unsigned int B23 :1;
                             5067 ; 126  |};
                             5068 ; 127  |
                             5069 ; 128  |union BitInt {
                             5070 ; 129  |        struct Bitfield B;
                             5071 ; 130  |        int        I;
                             5072 ; 131  |};
                             5073 ; 132  |
                             5074 ; 133  |#define MAX_MSG_LENGTH 10
                             5075 ; 134  |struct CMessage
                             5076 ; 135  |{
                             5077 ; 136  |        unsigned int m_uLength;
                             5078 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             5079 ; 138  |};
                             5080 ; 139  |
                             5081 ; 140  |typedef struct {
                             5082 ; 141  |    WORD m_wLength;
                             5083 ; 142  |    WORD m_wMessage;
                             5084 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             5085 ; 144  |} Message;
                             5086 ; 145  |
                             5087 ; 146  |struct MessageQueueDescriptor
                             5088 ; 147  |{
                             5089 ; 148  |        int *m_pBase;
                             5090 ; 149  |        int m_iModulo;
                             5091 ; 150  |        int m_iSize;
                             5092 ; 151  |        int *m_pHead;
                             5093 ; 152  |        int *m_pTail;
                             5094 ; 153  |};
                             5095 ; 154  |
                             5096 ; 155  |struct ModuleEntry
                             5097 ; 156  |{
                             5098 ; 157  |    int m_iSignaledEventMask;
                             5099 ; 158  |    int m_iWaitEventMask;
                             5100 ; 159  |    int m_iResourceOfCode;
                             5101 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  84

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5102 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             5103 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             5104 ; 163  |    int m_uTimeOutHigh;
                             5105 ; 164  |    int m_uTimeOutLow;
                             5106 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             5107 ; 166  |};
                             5108 ; 167  |
                             5109 ; 168  |union WaitMask{
                             5110 ; 169  |    struct B{
                             5111 ; 170  |        unsigned int m_bNone     :1;
                             5112 ; 171  |        unsigned int m_bMessage  :1;
                             5113 ; 172  |        unsigned int m_bTimer    :1;
                             5114 ; 173  |        unsigned int m_bButton   :1;
                             5115 ; 174  |    } B;
                             5116 ; 175  |    int I;
                             5117 ; 176  |} ;
                             5118 ; 177  |
                             5119 ; 178  |
                             5120 ; 179  |struct Button {
                             5121 ; 180  |        WORD wButtonEvent;
                             5122 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             5123 ; 182  |};
                             5124 ; 183  |
                             5125 ; 184  |struct Message {
                             5126 ; 185  |        WORD wMsgLength;
                             5127 ; 186  |        WORD wMsgCommand;
                             5128 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             5129 ; 188  |};
                             5130 ; 189  |
                             5131 ; 190  |union EventTypes {
                             5132 ; 191  |        struct CMessage msg;
                             5133 ; 192  |        struct Button Button ;
                             5134 ; 193  |        struct Message Message;
                             5135 ; 194  |};
                             5136 ; 195  |
                             5137 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             5138 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             5139 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             5140 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             5141 ; 200  |
                             5142 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             5143 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             5144 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             5145 ; 204  |
                             5146 ; 205  |#if DEBUG
                             5147 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             5148 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             5149 ; 208  |#else 
                             5150 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             5151 ; 210  |#define DebugBuildAssert(x)    
                             5152 ; 211  |#endif
                             5153 ; 212  |
                             5154 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             5155 ; 214  |//  #pragma asm
                             5156 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             5157 ; 216  |//  #pragma endasm
                             5158 ; 217  |
                             5159 ; 218  |
                             5160 ; 219  |#ifdef COLOR_262K
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  85

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5161 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             5162 ; 221  |#elif defined(COLOR_65K)
                             5163 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             5164 ; 223  |#else
                             5165 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             5166 ; 225  |#endif
                             5167 ; 226  |    
                             5168 ; 227  |#endif // #ifndef _TYPES_H
                             5169 
                             5171 
                             5172 ; 5    |
                             5173 ; 6    |#define TIMER_ANIMATE           0
                             5174 ; 7    |#define TIMER_AUTO_SHUTDOWN     1
                             5175 ; 8    |#define TIMER_BATT_CHK          2
                             5176 ; 9    |#define TIMER_SONG_CHANGE       3
                             5177 ; 10   |#define TIMER_TUNER                             4
                             5178 ; 11   |#define TIMER_BACKLIGHT                 5
                             5179 ; 12   |#define TIMER_FFRWND                6
                             5180 ; 13   |#define TIMER_BATTERY_CHARGER   7
                             5181 ; 14   |#define TIMER_TIMEDATE                  8
                             5182 ; 15   |#define TIMER_JPEG_DECODER_CALLBACK 6 //shared with TIMER_FFRWND since they won't use toge
                                  ther
                             5183 ; 16   |#define TIMER_APIC_UPDATE               9
                             5184 ; 17   |
                             5185 ; 18   |#define MENU_MSG_ANIMATE            MENU_LAST_MSG_ID+1
                             5186 ; 19   |#define MENU_MSG_AUTOSHUTDOWN       MENU_LAST_MSG_ID+2
                             5187 ; 20   |#define MENU_SONG_CHANGE_TIMEOUT    MENU_LAST_MSG_ID+3
                             5188 ; 21   |#define MENU_TUNER_READY                        MENU_LAST_MSG_ID+4
                             5189 ; 22   |#define MENU_MSG_TURN_OFF_BACKLIGHT MENU_LAST_MSG_ID+5
                             5190 ; 23   |#define MENU_MSG_SEND_FF            MENU_LAST_MSG_ID+6
                             5191 ; 24   |#define MENU_MSG_SEND_RWND          MENU_LAST_MSG_ID+7
                             5192 ; 25   |#define MENU_BATTERY_CHARGER_TIMEOUT  MENU_LAST_MSG_ID+8
                             5193 ; 26   |#define MENU_MSG_REFRESH_TIMEDATE       MENU_LAST_MSG_ID+9
                             5194 ; 27   |#ifdef USE_PLAYLIST3
                             5195 ; 28   |#define MENU_PAGE_ITEM_COUNT    (4)
                             5196 ; 29   |#define MENU_ITEM_HEIGHT                (8)
                             5197 ; 30   |#define MENU_ITEM_X_OFFSET      (0)
                             5198 ; 31   |#define MENU_ITEM_Y_OFFSET      (16)
                             5199 ; 32   |
                             5200 ; 33   |#define PLAYLIST_ENABLE         (0)
                             5201 ; 34   |#endif
                             5202 ; 35   |#define ANIMATE_PERIOD          (100)
                             5203 ; 36   |#define MENU_MSG_JPEG_CALLBACK            MENU_LAST_MSG_ID+10
                             5204 ; 37   |#define MENU_JPEG_THUMBNAIL_CURSOR  MENU_LAST_MSG_ID+11
                             5205 ; 38   |#define MENU_JPEG_NEXT_PICTURE          MENU_LAST_MSG_ID+12
                             5206 ; 39   |#define MENU_MSG_APIC_UPDATE            MENU_LAST_MSG_ID+13
                             5207 ; 40   |#ifdef USE_PLAYLIST5
                             5208 ; 41   |#define MENU_MSG_PL5_PLAY_SONG          MENU_LAST_MSG_ID+14
                             5209 ; 42   |#endif
                             5210 ; 43   |
                             5211 ; 44   |#define MENU_BATTERY_CHARGER_TIMEOUT  MENU_LAST_MSG_ID+8
                             5212 ; 45   |#define FILE_NAME_BUFFER_SIZE  7
                             5213 ; 46   |#define TIMER_JPEG_DECODER_TIMEOUT_MS 5
                             5214 ; 47   |
                             5215 ; 48   |// used with shutdown menu
                             5216 ; 49   |// FORCESHUTDOWN does not allow abort
                             5217 ; 50   |// USERSHUTDOWN allows user abort if PH_STOP is not held long enough
                             5218 ; 51   |#define FORCESHUTDOWN                   TRUE
                             5219 ; 52   |#define USERSHUTDOWN                    FALSE
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  86

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5220 ; 53   |
                             5221 ; 54   |// if low battery display low battery message
                             5222 ; 55   |#define LOWBATT                                 TRUE
                             5223 ; 56   |#define REGBATT                                 FALSE
                             5224 ; 57   |
                             5225 ; 58   |//Backlight Define Statements
                             5226 ; 59   |#ifdef CLCD
                             5227 ; 60   |#ifdef CLCD_16BIT
                             5228 ; 61   |#define BACKLIGHT_CONTROL_REGISTER              HW_PWM_CH0AR.I
                             5229 ; 62   |#define BACKLIGHT_CONTROL_REGISTER_ENABLE       HW_GP0ENR.B.B9  //PWM2
                             5230 ; 63   |#define BACKLIGHT_CONTROL_REGISTER_DIRECTION    HW_GP0DOER.B.B9
                             5231 ; 64   |#define BACKLIGHT_ON                            0x06C000
                             5232 ; 65   |#define BACKLIGHT_OFF                           0x024000
                             5233 ; 66   |#else
                             5234 ; 67   |#define BACKLIGHT_CONTROL_REGISTER              HW_PWM_CH2AR.I
                             5235 ; 68   |#define BACKLIGHT_CONTROL_REGISTER_ENABLE       HW_GP0ENR.B.B9  //PWM2
                             5236 ; 69   |#define BACKLIGHT_CONTROL_REGISTER_DIRECTION    HW_GP0DOER.B.B9
                             5237 ; 70   |#define BACKLIGHT_ON                            0x006000
                             5238 ; 71   |#define BACKLIGHT_OFF                           0x002000
                             5239 ; 72   |#endif
                             5240 ; 73   |#else
                             5241 ; 74   |#define BACKLIGHT_CONTROL_REGISTER              HW_GP0DOR.B.B9
                             5242 ; 75   |#define BACKLIGHT_CONTROL_REGISTER_ENABLE       HW_GP0ENR.B.B9
                             5243 ; 76   |#define BACKLIGHT_CONTROL_REGISTER_DIRECTION    HW_GP0DOER.B.B9
                             5244 ; 77   |#define BACKLIGHT_ON                            TRUE
                             5245 ; 78   |#define BACKLIGHT_OFF                           FALSE
                             5246 ; 79   |#endif
                             5247 ; 80   |#define BACKLIGHT_TIME                                          5000            //5 second
                                  s
                             5248 ; 81   |
                             5249 ; 82   |// used with NextEQ / NextPlayMode to indicate direction
                             5250 ; 83   |#define INCREMENT 1
                             5251 ; 84   |#define DECREMENT 0
                             5252 ; 85   |
                             5253 ; 86   |//These two sit outside the boundary of MENU_FIRST and MENU_LAST simply because they're
                             5254 ; 87   |//states that aren't included in the displayed list.
                             5255 ; 88   |#define MENU_EXIT       101
                             5256 ; 89   |#define MENU_MAIN       100
                             5257 ; 90   |
                             5258 ; 91   |// menu flags
                             5259 ; 92   |#define MENU_FLAG_POWER_DOWN_ENABLED    B0      // when clear, disable tracking
                             5260 ; 93   |#define MENU_FLAG_ESCAPE_TO_MUSIC               B1      // when set, escape all menu nesti
                                  ng to music
                             5261 ; 94   |#define MENU_FLAG_SAVE_CHANGES          B2  // true if fast escape interrupted by save cha
                                  nges?
                             5262 ; 95   |#if (defined USE_PLAYLIST3) || (defined USE_PLAYLIST5)
                             5263 ; 96   |#define MENU_FLAG_ESCAPE_TO_RECORD              B2      // when set, escape all menu nesti
                                  ng to voice/fm menu and start recording
                             5264 ; 97   |#define MENU_FLAG_RETURN_TO_MUSIC               B3      // when set, escape all menu nesti
                                  ng to music
                             5265 ; 98   |#endif
                             5266 ; 99   |
                             5267 ; 100  |#define LANGUAGES_ENG   0
                             5268 ; 101  |#define LANGUAGES_VIE   1
                             5269 ; 102  |#define LANGUAGES_FIRST LANGUAGES_ENG
                             5270 ; 103  |#define LANGUAGES_LAST          LANGUAGES_VIE
                             5271 ; 104  |
                             5272 ; 105  |// 1 word menu variable -- bit flags
                             5273 ; 106  |extern struct Bitfield g_MenuFlags;
                             5274 ; 107  |
                             5275 ; 108  |// This data type is declared in mainmenu.c, but is externed here for all other menus.
                             5276 ; 109  |extern union EventTypes gEventInfo;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  87

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5277 ; 110  |
                             5278 ; 111  |//each menu should set g_iCurrentMenu to make sure the menu icon shows up correctly.
                             5279 ; 112  |extern INT g_iCurrentMenu;
                             5280 ; 113  |
                             5281 ; 114  |//Backlight State
                             5282 ; 115  |extern INT g_iBackLightState;
                             5283 ; 116  |
                             5284 ; 117  |//Language state
                             5285 ; 118  |extern INT g_iLanguage;
                             5286 ; 119  |
                             5287 ; 120  |//Export all Menu prototypes for calls allowed from other code banks
                             5288 ; 121  |void _reentrant UserTask(int a, int b, int *pPtr);
                             5289 ; 122  |_reentrant INT ShutdownMenu( INT iIgnored1, INT iIgnored2, INT *pPtr);
                             5290 ; 123  |_reentrant INT SplashScreen( INT iResource, INT iMilliseconds, INT *pPtr);
                             5291 ; 124  |int _reentrant MusicMenu(INT a, INT b, INT *c);
                             5292 ; 125  |#ifdef USE_PLAYLIST3
                             5293 ; 126  |int _reentrant PlayMusicMenu(INT a, INT b, INT *c);
                             5294 ; 127  |int _reentrant NewMusicMenu(INT a, INT b, INT *c);
                             5295 ; 128  |int _reentrant BrowseMenu(INT a, INT b, INT *c);
                             5296 ; 129  |#endif // #ifdef USE_PLAYLIST3
                             5297 ; 130  |#ifdef MOTION_VIDEO
                             5298 ; 131  |int _reentrant MotionVideoMenu(INT a, INT b, INT *c);
                             5299 ; 132  |#endif
                             5300 ; 133  |#ifdef JPEG_APP
                             5301 ; 134  |int _reentrant JpegDisplayMenu(int a, int b, int *pPtr);
                             5302 ; 135  |int _reentrant JpegManualMenu(int a, int b, int *pPtr);
                             5303 ; 136  |int _reentrant JpegSlideshowMenu(int a, int b, int *pPtr);
                             5304 ; 137  |int _reentrant JpegThumbnailMenu(int a, int b, int *pPtr);
                             5305 ; 138  |#endif
                             5306 ; 139  |int _reentrant SpectrogramMenu(INT a, INT b, INT *pPtr);
                             5307 ; 140  |int _reentrant VoiceMenu(int a, int b, int *c);
                             5308 ; 141  |int _reentrant SettingsMenu(int a, int b, int *pPtr);
                             5309 ; 142  |int _reentrant EqMenu(int a, int b, int *pPtr);
                             5310 ; 143  |int _reentrant SendEQ(int iCurrentEQ, int b, int *pPtr);
                             5311 ; 144  |
                             5312 ; 145  |int _reentrant PlayModeMenu(int a, int b, int *pPtr);
                             5313 ; 146  |int _reentrant NextPlayMode(int iDirection, int b, int *c);
                             5314 ; 147  |int _reentrant ContrastMenu(int a, int b, int *pPtr);
                             5315 ; 148  |int _reentrant AboutMenu(int a, int b, int *pPtr);
                             5316 ; 149  |#ifdef USE_PLAYLIST5
                             5317 ; 150  |int _reentrant BrowseMenu(INT a, INT b, INT *c);
                             5318 ; 151  |#endif
                             5319 ; 152  |int _reentrant DeleteMenu(int a, int b, int *pPtr);
                             5320 ; 153  |int _reentrant PwrSavingsMenu(int a, int b, int *pPtr);
                             5321 ; 154  |int _reentrant BackLightMenu(int a, int b, int *pPtr);
                             5322 ; 155  |int _reentrant RecordSettingsMenu(int a, int b, int *pPtr);
                             5323 ; 156  |int _reentrant TimeDateMenu(int a, int b, int *pPtr);
                             5324 ; 157  |int _reentrant SetTimeMenu(int a, int b, int *pPtr);
                             5325 ; 158  |int _reentrant SetDateMenu(int a, int b, int *pPtr);
                             5326 ; 159  |
                             5327 ; 160  |int _reentrant TestMenu(int a, int b, int *pPtr);
                             5328 ; 161  |void _reentrant RecordTestMenu(void);
                             5329 ; 162  |
                             5330 ; 163  |int _reentrant FMTunerMenu(int a, int b, int *c);
                             5331 ; 164  |int _reentrant InitPlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr);
                             5332 ; 165  |int _reentrant HandlePlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr);
                             5333 ; 166  |int _reentrant ExitPlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr);
                             5334 ; 167  |_reentrant int InitRecorderStateMachine(int EncodingType, int InputSource, int *c);
                             5335 ; 168  |_reentrant int HandleRecorderStateMachine(int a, int b, int *c);
                             5336 ; 169  |_reentrant int ExitRecorderStateMachine(int InputSource, int b, int *c);
                             5337 ; 170  |int _reentrant NextEQ(INT iDirection, INT b, INT *c);
                             5338 ; 171  |_reentrant INT RecordVoiceFile(INT a, INT b, INT *pPtr);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  88

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5339 ; 172  |_reentrant int RefreshDisplay           ( int iDisplayHint, int a, int *pPtr);
                             5340 ; 173  |_reentrant void DisplayClearDisplay      ( int iDisplayHint, int a, int *pPtr);
                             5341 ; 174  |_reentrant int DisplayEQIcon            ( int iDisplayHint, int a, int *pPtr);
                             5342 ; 175  |_reentrant int DisplayVolume            ( int iDisplayHint, int a, int *pPtr);
                             5343 ; 176  |_reentrant int DisplayShutdownProgress  ( int iDisplayHint, int a, int *pPtr);
                             5344 ; 177  |_reentrant int DisplayDefragmentstore  ( int iDisplayHint, int a, int *pPtr);
                             5345 ; 178  |_reentrant int DisplayKickOff           ( int iDisplayHint, int a, int *pPtr);
                             5346 ; 179  |_reentrant int DisplayKickOffLocked     ( int iDisplayHint, int a, int *pPtr);
                             5347 ; 180  |_reentrant void DisplayLockIcon          ( int iDisplayHint, int a, int *pPtr);
                             5348 ; 181  |_reentrant void ChangePlaySet(INT mode);
                             5349 ; 182  |void _reentrant UpdateAutoShutdownTimer (void);
                             5350 ; 183  |int _reentrant SetPwrSetting (int iCurrentPwrSetting, int b, int *pPtr);
                             5351 ; 184  |int  _reentrant SendPlayMode(int iCurrentPlayMode, int b, int *pPtr);
                             5352 ; 185  |_reentrant int DeleteFilePrompt(int a,int b, int *pPtr);
                             5353 ; 186  |#endif
                             5354 ; 187  |
                             5355 
                             5357 
                             5358 ; 14   |#include "display.h"
                             5359 
                             5361 
                             5362 ; 1    |#ifndef _DISPLAY_H
                             5363 ; 2    |#define _DISPLAY_H
                             5364 ; 3    |
                             5365 ; 4    |//Display bits
                             5366 ; 5    |#define DISPLAY_CLEAR_DISPLAY_BITPOS        0
                             5367 ; 6    |
                             5368 ; 7    |#define DISPLAY_ENCODER_TRACK_TIME_BITPOS   1
                             5369 ; 8    |#define DISPLAY_ENCODER_TRACK_NAME_BITPOS   2
                             5370 ; 9    |#define DISPLAY_RECORD_MODE_BITPOS          3
                             5371 ; 10   |
                             5372 ; 11   |//This bit (DISPLAY_MISC_BITPOS) is set to allow DisplayHints to be non zero, but does not
                                   map
                             5373 ; 12   |//to anything in UpdateDisplay();  (meant to be used to indicate that specific
                             5374 ; 13   |//things that are specific for that menu.
                             5375 ; 14   |#define DISPLAY_MISC_BITPOS                 4
                             5376 ; 15   |
                             5377 ; 16   |#define DISPLAY_FMTUNER_FREQUENCY           5
                             5378 ; 17   |#define DISPLAY_FMTUNER_PRESET              6
                             5379 ; 18   |#define DISPLAY_FMTUNER_STRENGTH            7
                             5380 ; 19   |
                             5381 ; 20   |#define DISPLAY_PLAYSTATE_BITPOS             9
                             5382 ; 21   |#define DISPLAY_AB_ICON_BITPOS              10
                             5383 ; 22   |#define DISPLAY_PLAYMODE_BITPOS             11
                             5384 ; 23   |#define DISPLAY_PLAYSET_BITPOS              12
                             5385 ; 24   |
                             5386 ; 25   |//Playback info
                             5387 ; 26   |#define DISPLAY_EQ_BITPOS                   13
                             5388 ; 27   |#define DISPLAY_VOLUME_BITPOS               14
                             5389 ; 28   |
                             5390 ; 29   |//Track Info
                             5391 ; 30   |#define DISPLAY_SONGARTISTALBUM_BITPOS      15
                             5392 ; 31   |#define DISPLAY_SONGTITLE_BITPOS            16
                             5393 ; 32   |#define DISPLAY_CURRENTTRACK_BITPOS         17
                             5394 ; 33   |#define DISPLAY_TRACKTIME_BITPOS            18
                             5395 ; 34   |#define DISPLAY_TOTALTRACKTIME_BITPOS        8
                             5396 ; 35   |#define DISPLAY_BITRATE_BITPOS              19
                             5397 ; 36   |
                             5398 ; 37   |//Device status info
                             5399 ; 38   |#define DISPLAY_LOCK_BITPOS                 20
                             5400 ; 39   |#define DISPLAY_DISK_BITPOS                 21
                             5401 ; 40   |#define DISPLAY_BATTERY_BITPOS              22
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  89

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5402 ; 41   |#define DISPLAY_ALBUMART_BITPOS              23
                             5403 ; 42   |
                             5404 ; 43   |#ifdef PLAYER_STRESS
                             5405 ; 44   |// this may not work since album art uses bit 23 so we may need a new word variable for th
                                  is player stress test bit below.
                             5406 ; 45   |#define DISPLAY_STRESSTEST_BITPOS            23
                             5407 ; 46   |#endif
                             5408 ; 47   |
                             5409 ; 48   |
                             5410 ; 49   |union DisplayHints
                             5411 ; 50   |{
                             5412 ; 51   |    struct {
                             5413 ; 52   |        int ClearDisplay        :1;//0
                             5414 ; 53   |        int EncoderTrackTime    :1;//1
                             5415 ; 54   |        int EncoderTrackName    :1;//2
                             5416 ; 55   |        int RecordMode          :1;//3
                             5417 ; 56   |        int Misc                :1;//4
                             5418 ; 57   |        int FMTunerFrequency    :1;//5
                             5419 ; 58   |        int FMTunerPreset       :1;//6
                             5420 ; 59   |        int FMTunerStrength     :1;//7
                             5421 ; 60   |        int TotalTrackTime      :1;//8
                             5422 ; 61   |        int PlayState           :1;//9
                             5423 ; 62   |        int ABIcon              :1;//10
                             5424 ; 63   |        int PlayMode            :1;//11
                             5425 ; 64   |        int PlaySet             :1;//12
                             5426 ; 65   |        int EQ                  :1;//13
                             5427 ; 66   |        int Volume              :1;//14
                             5428 ; 67   |        int SongArtistAlbum     :1;//15
                             5429 ; 68   |        int SongTitle           :1;//16
                             5430 ; 69   |        int CurrentTrack        :1;//17
                             5431 ; 70   |        int TrackTime           :1;//18
                             5432 ; 71   |        int Bitrate             :1;//19
                             5433 ; 72   |        int LockIcon            :1;//20
                             5434 ; 73   |        int Disk                :1;//21
                             5435 ; 74   |        int Battery             :1;//22
                             5436 ; 75   |#ifdef PLAYER_STRESS
                             5437 ; 76   |        int StressTest         :1;//23  // this might not work since bit 23 is already tak
                                  en by album art. 23 is last bit in word.
                             5438 ; 77   |#else
                             5439 ; 78   |        int AlbumArt            :1;//23
                             5440 ; 79   |#endif
                             5441 ; 80   |    } bits;
                             5442 ; 81   |    WORD I;
                             5443 ; 82   |};
                             5444 ; 83   |
                             5445 ; 84   |// setup default display for all menus
                             5446 ; 85   |// can be adjusted in each menus as required.
                             5447 ; 86   |#define COMMON_DISPLAY_ALL  (\ 
                             5448 ; 87   |                                (1<<DISPLAY_BATTERY_BITPOS)|\ 
                             5449 ; 88   |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                             5450 ; 89   |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             5451 ; 90   |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                             5452 ; 91   |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                             5453 ; 92   |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                             5454 ; 93   |                                (1<<DISPLAY_EQ_BITPOS)|\ 
                             5455 ; 94   |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                             5456 ; 95   |                                (1<<DISPLAY_PLAYSTATE_BITPOS)\ 
                             5457 ; 96   |                                )
                             5458 ; 97   |
                             5459 ; 98   |#define SPECTROGRAM_MENU_DISPLAY_ALL  (\ 
                             5460 ; 99   |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                             5461 ; 100  |                                (1<<DISPLAY_DISK_BITPOS)|\ 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  90

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5462 ; 101  |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                             5463 ; 102  |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                             5464 ; 103  |                                (1<<DISPLAY_EQ_BITPOS)|\ 
                             5465 ; 104  |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                             5466 ; 105  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)\ 
                             5467 ; 106  |                                )
                             5468 ; 107  |
                             5469 ; 108  |//-----------------------------------------------
                             5470 ; 109  |#ifdef JPEG_ALBUM_ART
                             5471 ; 110  |#define ALBUMART_SET_MASK_IF_APPROPRIATE (1<<DISPLAY_ALBUMART_BITPOS)
                             5472 ; 111  |#else
                             5473 ; 112  |#define ALBUMART_SET_MASK_IF_APPROPRIATE (0)
                             5474 ; 113  |#endif
                             5475 ; 114  |
                             5476 ; 115  |#ifdef PLAYER_STRESS
                             5477 ; 116  |#define PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE (1<<DISPLAY_STRESSTEST_BITPOS)
                             5478 ; 117  |#else
                             5479 ; 118  |#define PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE (0)
                             5480 ; 119  |#endif
                             5481 ; 120  |
                             5482 ; 121  |
                             5483 ; 122  |#define MUSIC_MENU_DISPLAY_ALL  (\ 
                             5484 ; 123  |                                (COMMON_DISPLAY_ALL)|\ 
                             5485 ; 124  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             5486 ; 125  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             5487 ; 126  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             5488 ; 127  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                             5489 ; 128  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                             5490 ; 129  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             5491 ; 130  |                                (1<<DISPLAY_TRACKTIME_BITPOS)|\ 
                             5492 ; 131  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)\ 
                             5493 ; 132  |                                )
                             5494 ; 133  |
                             5495 ; 134  |#define MUSIC_MENU_DISPLAY_NEW_TRACK (\ 
                             5496 ; 135  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             5497 ; 136  |                                (PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE)|\ 
                             5498 ; 137  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                             5499 ; 138  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                             5500 ; 139  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             5501 ; 140  |                                (1<<DISPLAY_TRACKTIME_BITPOS)|\ 
                             5502 ; 141  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)|\ 
                             5503 ; 142  |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                             5504 ; 143  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             5505 ; 144  |                                (1<<DISPLAY_PLAYSET_BITPOS)\ 
                             5506 ; 145  |                                )
                             5507 ; 146  |//-----------------------------------------------
                             5508 ; 147  |
                             5509 ; 148  |
                             5510 ; 149  |#define MVIDEO_MENU_DISPLAY_ALL ((1<<DISPLAY_CURRENTTRACK_BITPOS)|(1<<DISPLAY_SONGTITLE_BI
                                  TPOS))
                             5511 ; 150  |
                             5512 ; 151  |
                             5513 ; 152  |#define VOICE_MENU_DISPLAY_ALL  (\ 
                             5514 ; 153  |                                COMMON_DISPLAY_ALL|\ 
                             5515 ; 154  |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                             5516 ; 155  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             5517 ; 156  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             5518 ; 157  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                             5519 ; 158  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                             5520 ; 159  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             5521 ; 160  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)|\ 
                             5522 ; 161  |                                (1<<DISPLAY_TRACKTIME_BITPOS)\ 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  91

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5523 ; 162  |                                )
                             5524 ; 163  |
                             5525 ; 164  |
                             5526 ; 165  |#define RECORDING_DISPLAY_ALL   (\ 
                             5527 ; 166  |                                COMMON_DISPLAY_ALL|\ 
                             5528 ; 167  |                                (1<<DISPLAY_ENCODER_TRACK_TIME_BITPOS)|\ 
                             5529 ; 168  |                                (1<<DISPLAY_ENCODER_TRACK_NAME_BITPOS)|\ 
                             5530 ; 169  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             5531 ; 170  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             5532 ; 171  |                                (1<<DISPLAY_RECORD_MODE_BITPOS)\ 
                             5533 ; 172  |                                )
                             5534 ; 173  |
                             5535 ; 174  |#ifdef USE_PLAYLIST3
                             5536 ; 175  |#define BROWSE_MENU_DISPLAY_ALL  (\ 
                             5537 ; 176  |                                (1<<DISPLAY_BATTERY_BITPOS)|\ 
                             5538 ; 177  |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                             5539 ; 178  |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                             5540 ; 179  |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                             5541 ; 180  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                             5542 ; 181  |                                )
                             5543 ; 182  |#else
                             5544 ; 183  |#ifdef USE_PLAYLIST5
                             5545 ; 184  |#if 0
                             5546 ; 185  |#define BROWSE_MENU_DISPLAY_ALL (\ 
                             5547 ; 186  |                                 COMMON_DISPLAY_ALL|\ 
                             5548 ; 187  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             5549 ; 188  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             5550 ; 189  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             5551 ; 190  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             5552 ; 191  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                             5553 ; 192  |                                )
                             5554 ; 193  |#else
                             5555 ; 194  |#define BROWSE_MENU_DISPLAY_ALL (\ 
                             5556 ; 195  |                                 COMMON_DISPLAY_ALL|\ 
                             5557 ; 196  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             5558 ; 197  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             5559 ; 198  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             5560 ; 199  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                             5561 ; 200  |                                )
                             5562 ; 201  |#endif
                             5563 ; 202  |#endif  // #ifdef USE_PLAYLIST5
                             5564 ; 203  |#endif  // #ifdef USE_PLAYLIST3
                             5565 ; 204  |
                             5566 ; 205  |
                             5567 ; 206  |
                             5568 ; 207  |#define MAIN_MENU_DISPLAY_ALL           (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             5569 ; 208  |
                             5570 ; 209  |#define EQ_MENU_DISPLAY_ALL             (\ 
                             5571 ; 210  |                                        COMMON_DISPLAY_ALL|\ 
                             5572 ; 211  |                                        (1<<DISPLAY_EQ_BITPOS)|\ 
                             5573 ; 212  |                                        (1<<DISPLAY_VOLUME_BITPOS)\ 
                             5574 ; 213  |                                        )     // (SDK2.520)
                             5575 ; 214  |
                             5576 ; 215  |#define PM_MENU_DISPLAY_ALL             (COMMON_DISPLAY_ALL|(1<<DISPLAY_PLAYMODE_BITPOS)|(
                                  1<<DISPLAY_MISC_BITPOS))
                             5577 ; 216  |#define PWR_MENU_DISPLAY_ALL            (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             5578 ; 217  |#define SETTINGS_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             5579 ; 218  |#define JPEG_DISPLAY_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             5580 ; 219  |#define DELETE_MENU_DISPLAY_ALL         (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             5581 ; 220  |#define ABOUT_MENU_DISPLAY_ALL          (COMMON_DISPLAY_ALL)
                             5582 ; 221  |#define ERASE_MENU_DISPLAY_ALL          ((1<<DISPLAY_BATTERY_BITPOS)|(1<<DISPLAY_LOCK_BITP
                                  OS))
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  92

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5583 ; 222  |
                             5584 ; 223  |#define CONTRAST_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             5585 ; 224  |
                             5586 ; 225  |#define TIME_DATE_MENU_DISPLAY_ALL      0
                             5587 ; 226  |#define RECORDTEST_DISPLAY_ALL       (\ 
                             5588 ; 227  |                                        (1<<DISPLAY_ENCODER_TRACK_TIME_BITPOS)|\ 
                             5589 ; 228  |                                                                        (1<<DISPLAY_ENCODE
                                  R_TRACK_NAME_BITPOS)|\ 
                             5590 ; 229  |                                                                        (1<<DISPLAY_PLAYST
                                  ATE_BITPOS)|\ 
                             5591 ; 230  |                                        (1<<DISPLAY_RECORD_MODE_BITPOS)|\ 
                             5592 ; 231  |                                    (1<<DISPLAY_MISC_BITPOS)\ 
                             5593 ; 232  |                                                                        )
                             5594 ; 233  |
                             5595 ; 234  |#define SPLASH_MENU_DISPLAY_ALL         (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             5596 ; 235  |// used during track update to force total time update
                             5597 ; 236  |#define AUTOUPDATE              FALSE
                             5598 ; 237  |#define FORCEUPDATE             TRUE
                             5599 ; 238  |
                             5600 ; 239  |
                             5601 ; 240  |// based on font used for title/artist display
                             5602 ; 241  |#define DEFAULT_CHAR_WIDTH  5
                             5603 ; 242  |
                             5604 ; 243  |
                             5605 ; 244  |// LCD dimensions
                             5606 ; 245  |#ifdef LDS514_LCD
                             5607 ; 246  |#define   LCD_SIZE_X       96
                             5608 ; 247  |#define   LCD_SIZE_Y       64
                             5609 ; 248  |#endif
                             5610 ; 249  |
                             5611 ; 250  |#ifdef ILI814_LCD
                             5612 ; 251  |#define   LCD_SIZE_X       96
                             5613 ; 252  |#define   LCD_SIZE_Y       64
                             5614 ; 253  |#endif
                             5615 ; 254  |
                             5616 ; 255  |#ifdef ML9341_LCD
                             5617 ; 256  |#define   LCD_SIZE_X       96
                             5618 ; 257  |#define   LCD_SIZE_Y       96
                             5619 ; 258  |#endif
                             5620 ; 259  |
                             5621 ; 260  |#ifdef SSD1332_LCD
                             5622 ; 261  |#define   LCD_SIZE_X       96
                             5623 ; 262  |#define   LCD_SIZE_Y       64
                             5624 ; 263  |#endif
                             5625 ; 264  |
                             5626 ; 265  |#ifdef S6B33B0A_LCD
                             5627 ; 266  |#define   LCD_SIZE_X       128
                             5628 ; 267  |#define   LCD_SIZE_Y       159
                             5629 ; 268  |#endif
                             5630 ; 269  |
                             5631 ; 270  |#ifdef SED15XX_LCD
                             5632 ; 271  |#define LCD_SIZE_X                      128
                             5633 ; 272  |#define LCD_SIZE_Y                      64
                             5634 ; 273  |#endif
                             5635 ; 274  |
                             5636 ; 275  |#define LCD_SIZE_ROW                     8
                             5637 ; 276  |
                             5638 ; 277  |#define TOP_OF_SCREEN           0
                             5639 ; 278  |#define LEFT_OF_SCREEN          0
                             5640 ; 279  |
                             5641 ; 280  |#ifdef LDS514_LCD
                             5642 ; 281  |#define   SCREEN_WIDTH       96
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  93

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5643 ; 282  |#define   SCREEN_HEIGHT       64
                             5644 ; 283  |#endif
                             5645 ; 284  |
                             5646 ; 285  |#ifdef ILI814_LCD
                             5647 ; 286  |#define   SCREEN_WIDTH       96
                             5648 ; 287  |#define   SCREEN_HEIGHT       64
                             5649 ; 288  |#endif
                             5650 ; 289  |
                             5651 ; 290  |#ifdef ML9341_LCD
                             5652 ; 291  |#define   SCREEN_WIDTH       96
                             5653 ; 292  |#define   SCREEN_HEIGHT       96
                             5654 ; 293  |#endif
                             5655 ; 294  |
                             5656 ; 295  |#ifdef SSD1332_LCD
                             5657 ; 296  |#define   SCREEN_WIDTH       96
                             5658 ; 297  |#define   SCREEN_HEIGHT       64
                             5659 ; 298  |#endif
                             5660 ; 299  |
                             5661 ; 300  |#ifdef S6B33B0A_LCD
                             5662 ; 301  |#define   SCREEN_WIDTH       128
                             5663 ; 302  |#define   SCREEN_HEIGHT       159
                             5664 ; 303  |#endif
                             5665 ; 304  |
                             5666 ; 305  |#ifdef SED15XX_LCD
                             5667 ; 306  |#define SCREEN_WIDTH            128
                             5668 ; 307  |#define SCREEN_HEIGHT           64
                             5669 ; 308  |#endif
                             5670 ; 309  |
                             5671 ; 310  |#define CHAR_SIZE_X             6
                             5672 ; 311  |#define CHAR_SIZE_Y             8
                             5673 ; 312  |
                             5674 ; 313  |// Physical rows are numbered from 0 to LCD_SIZE_Y/LCD_SIZE_ROW
                             5675 ; 314  |#define LCD_FIRST_ROW_NUM                1
                             5676 ; 315  |#define LCD_FIRST_ROW_POS_Y=LCD_FIRST_ROW_NUM*LCD_SIZE_ROW  // skipping the first row
                             5677 ; 316  |
                             5678 ; 317  |// Top row in order from left to right
                             5679 ; 318  |#define PLAY_STATE_ICON_X_POS   LEFT_OF_SCREEN+0
                             5680 ; 319  |#define PLAY_STATE_ICON_Y_POS   TOP_OF_SCREEN+0
                             5681 ; 320  |#define PLAY_STATE_ICON_X_SIZE  12
                             5682 ; 321  |#define PLAY_STATE_ICON_Y_SIZE  8
                             5683 ; 322  |
                             5684 ; 323  |#define REPEAT_ICON_X_POS       LEFT_OF_SCREEN+13
                             5685 ; 324  |#define REPEAT_ICON_Y_POS       TOP_OF_SCREEN+0
                             5686 ; 325  |#define REPEAT_ICON_X_SIZE      12
                             5687 ; 326  |#define REPEAT_ICON_Y_SIZE      8
                             5688 ; 327  |
                             5689 ; 328  |#define SHUFFLE_ICON_X_POS      LEFT_OF_SCREEN+25
                             5690 ; 329  |#define SHUFFLE_ICON_Y_POS      TOP_OF_SCREEN+0
                             5691 ; 330  |#define SHUFFLE_ICON_X_SIZE     5     // includes white space on left side of .bmp
                             5692 ; 331  |#define SHUFFLE_ICON_Y_SIZE     8
                             5693 ; 332  |
                             5694 ; 333  |#define AB_ICON_X_POS           LEFT_OF_SCREEN+31
                             5695 ; 334  |#define AB_ICON_Y_POS           TOP_OF_SCREEN+0
                             5696 ; 335  |#define AB_ICON_X_SIZE          12
                             5697 ; 336  |#define AB_ICON_Y_SIZE          8
                             5698 ; 337  |
                             5699 ; 338  |#ifdef  AUDIBLE
                             5700 ; 339  |#define SECNAV_ICON_X_POS       LEFT_OF_SCREEN+31
                             5701 ; 340  |#define SECNAV_ICON_Y_POS       TOP_OF_SCREEN+0
                             5702 ; 341  |#define SECNAV_ICON_X_SIZE      12
                             5703 ; 342  |#define SECNAV_ICON_Y_SIZE      8
                             5704 ; 343  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  94

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5705 ; 344  |
                             5706 ; 345  |#define EQ_ICON_X_POS           LEFT_OF_SCREEN+44
                             5707 ; 346  |#define EQ_ICON_Y_POS           TOP_OF_SCREEN+0
                             5708 ; 347  |#define EQ_ICON_X_SIZE          22
                             5709 ; 348  |#define EQ_ICON_Y_SIZE          8
                             5710 ; 349  |
                             5711 ; 350  |#ifdef WOW
                             5712 ; 351  |#define WOW_X_POS               EQ_ICON_X_POS
                             5713 ; 352  |#define WOW_Y_POS               EQ_ICON_Y_POS
                             5714 ; 353  |#endif
                             5715 ; 354  |
                             5716 ; 355  |
                             5717 ; 356  |// Media icon
                             5718 ; 357  |#define DISK_X_POS              LEFT_OF_SCREEN+66
                             5719 ; 358  |#define DISK_Y_POS              TOP_OF_SCREEN
                             5720 ; 359  |#define DISK_X_SIZE             8
                             5721 ; 360  |#define DISK_Y_SIZE             8
                             5722 ; 361  |
                             5723 ; 362  |// Hold icon
                             5724 ; 363  |#define LOCK_ICON_X_POS         LEFT_OF_SCREEN+73
                             5725 ; 364  |#define LOCK_ICON_Y_POS         TOP_OF_SCREEN
                             5726 ; 365  |#define LOCK_ICON_X_SIZE        8
                             5727 ; 366  |#define LOCK_ICON_Y_SIZE        8
                             5728 ; 367  |
                             5729 ; 368  |#define BATTERY_ICON_X_POS      LEFT_OF_SCREEN+110
                             5730 ; 369  |#define BATTERY_ICON_Y_POS      TOP_OF_SCREEN+0
                             5731 ; 370  |#define BATTERY_ICON_X_SIZE     16
                             5732 ; 371  |#define BATTERY_ICON_Y_SIZE     8
                             5733 ; 372  |#define BATTERY_RESOURCE        RSRC_BATTERY_00
                             5734 ; 373  |
                             5735 ; 374  |// Second row from left to right
                             5736 ; 375  |#define VOLUME_ICON_X_POS       LEFT_OF_SCREEN+0
                             5737 ; 376  |#define VOLUME_ICON_Y_POS       TOP_OF_SCREEN+8
                             5738 ; 377  |#define VOLUME_ICON_X_SIZE      48
                             5739 ; 378  |#define VOLUME_ICON_Y_SIZE      8
                             5740 ; 379  |#define VOLUME_RESOURCE         RSRC_ICON_VOL_00
                             5741 ; 380  |#define VOLUME_NUM_ICONS        27
                             5742 ; 381  |
                             5743 ; 382  |#define PLAYSET_X_POS           SCREEN_WIDTH-8
                             5744 ; 383  |#define PLAYSET_Y_POS           TOP_OF_SCREEN+8
                             5745 ; 384  |
                             5746 ; 385  |//Lyrics Position
                             5747 ; 386  |#define LYRICS_DISPLAY_X_POS    LEFT_OF_SCREEN
                             5748 ; 387  |#define LYRICS_DISPLAY_Y_POS    TOP_OF_SCREEN+16
                             5749 ; 388  |#define LYRICS_DISPLAY_HEIGHT           10
                             5750 ; 389  |
                             5751 ; 390  |// Music menu
                             5752 ; 391  |#define SONG_TITLE_X_POS        LEFT_OF_SCREEN+0
                             5753 ; 392  |#define SONG_TITLE_Y_POS        TOP_OF_SCREEN+16
                             5754 ; 393  |#define SONG_TITLE_X_SIZE       SCREEN_WIDTH
                             5755 ; 394  |#define SONG_TITLE_Y_SIZE       10
                             5756 ; 395  |
                             5757 ; 396  |#define SONG_ARTIST_X_POS       LEFT_OF_SCREEN
                             5758 ; 397  |#define SONG_ARTIST_Y_POS       TOP_OF_SCREEN+26
                             5759 ; 398  |#define SONG_ARTIST_X_SIZE      SCREEN_WIDTH
                             5760 ; 399  |#define SONG_ARTIST_Y_SIZE      10
                             5761 ; 400  |
                             5762 ; 401  |#define SONG_ALBUM_X_POS       LEFT_OF_SCREEN
                             5763 ; 402  |#define SONG_ALBUM_Y_POS       TOP_OF_SCREEN+36
                             5764 ; 403  |#define SONG_ALBUM_X_SIZE      SCREEN_WIDTH
                             5765 ; 404  |#define SONG_ALBUM_Y_SIZE      10
                             5766 ; 405  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  95

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5767 ; 406  |#ifdef USE_PLAYLIST5
                             5768 ; 407  |#define TRACK_NUMBER_X_POS      LEFT_OF_SCREEN+28
                             5769 ; 408  |#define TRACK_NUMBER_Y_POS      TOP_OF_SCREEN+56
                             5770 ; 409  |#define TRACK_NUMBER_X_SIZE     6*4
                             5771 ; 410  |#define TRACK_NUMBER_Y_SIZE     8
                             5772 ; 411  |
                             5773 ; 412  |#define TRACK_COUNT_X_POS       TRACK_NUMBER_X_POS+TRACK_NUMBER_X_SIZE+10
                             5774 ; 413  |#define TRACK_COUNT_Y_POS       TOP_OF_SCREEN+56
                             5775 ; 414  |#define TRACK_COUNT_X_SIZE      6*4
                             5776 ; 415  |#define TRACK_COUNT_Y_SIZE      8
                             5777 ; 416  |
                             5778 ; 417  |#define TRACK_DIVIDE_X TRACK_NUMBER_X_POS+TRACK_COUNT_X_SIZE + 2
                             5779 ; 418  |#else
                             5780 ; 419  |#define TRACK_NUMBER_X_POS      LEFT_OF_SCREEN+34
                             5781 ; 420  |#define TRACK_NUMBER_Y_POS      TOP_OF_SCREEN+56
                             5782 ; 421  |#define TRACK_NUMBER_X_SIZE     6*3
                             5783 ; 422  |#define TRACK_NUMBER_Y_SIZE     8
                             5784 ; 423  |
                             5785 ; 424  |#define TRACK_COUNT_X_POS       TRACK_NUMBER_X_POS+TRACK_NUMBER_X_SIZE+10
                             5786 ; 425  |#define TRACK_COUNT_Y_POS       TOP_OF_SCREEN+56
                             5787 ; 426  |#define TRACK_COUNT_X_SIZE      6*3
                             5788 ; 427  |#define TRACK_COUNT_Y_SIZE      8
                             5789 ; 428  |
                             5790 ; 429  |#define TRACK_DIVIDE_X  TRACK_NUMBER_X_POS+24
                             5791 ; 430  |#endif
                             5792 ; 431  |
                             5793 ; 432  |
                             5794 ; 433  |#define TRACK_CURR_TIME_X_POS       LEFT_OF_SCREEN+28
                             5795 ; 434  |#define TRACK_CURR_TIME_Y_POS       TOP_OF_SCREEN+48
                             5796 ; 435  |#define TRACK_CURR_TIME_X_SIZE      25
                             5797 ; 436  |#define TRACK_CURR_TIME_Y_SIZE      8
                             5798 ; 437  |
                             5799 ; 438  |#define TRACK_SLASH_X_SIZE          5
                             5800 ; 439  |#define TRACK_SLASH_X_POS           TRACK_TOTAL_TIME_X_POS-TRACK_SLASH_X_SIZE
                             5801 ; 440  |#define TRACK_SLASH_Y_POS           TRACK_CURR_TIME_Y_POS
                             5802 ; 441  |
                             5803 ; 442  |#define TRACK_TOTAL_TIME_X_POS      LEFT_OF_SCREEN+60
                             5804 ; 443  |#define TRACK_TOTAL_TIME_Y_POS      TRACK_CURR_TIME_Y_POS
                             5805 ; 444  |#define TRACK_TOTAL_TIME_X_SIZE     28
                             5806 ; 445  |#define TRACK_TOTAL_TIME_Y_SIZE     8
                             5807 ; 446  |
                             5808 ; 447  |#define VBR_FLAG_X_POS      LEFT_OF_SCREEN+80
                             5809 ; 448  |#define VBR_FLAG_Y_POS      8
                             5810 ; 449  |#define VBR_FLAG_X_SIZE     20
                             5811 ; 450  |#define VBR_FLAG_Y_SIZE     8
                             5812 ; 451  |#ifdef JPEG_ALBUM_ART
                             5813 ; 452  |// Album art display parameters:
                             5814 ; 453  |#define ALBUM_ART_X_POS         TOP_OF_SCREEN
                             5815 ; 454  |#define ALBUM_ART_Y_POS         80
                             5816 ; 455  |#define ALBUM_ART_X_SIZE        SCREEN_WIDTH
                             5817 ; 456  |#define ALBUM_ART_Y_SIZE        (SCREEN_HEIGHT-ALBUM_ART_Y_POS)
                             5818 ; 457  |#endif
                             5819 ; 458  |
                             5820 ; 459  |// Recording Display
                             5821 ; 460  |#define REC_CURR_TIME_X_POS       LEFT_OF_SCREEN
                             5822 ; 461  |#define REC_CURR_TIME_Y_POS       TOP_OF_SCREEN+48
                             5823 ; 462  |#define REC_CURR_TIME_X_SIZE      12
                             5824 ; 463  |#define REC_CURR_TIME_Y_SIZE      8
                             5825 ; 464  |
                             5826 ; 465  |#define REC_TOTAL_TIME_X_POS      LEFT_OF_SCREEN+45
                             5827 ; 466  |#define REC_TOTAL_TIME_Y_POS      TOP_OF_SCREEN+48
                             5828 ; 467  |#define REC_TOTAL_TIME_X_SIZE     28
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  96

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5829 ; 468  |#define REC_TOTAL_TIME_Y_SIZE     8
                             5830 ; 469  |
                             5831 ; 470  |// Playback Display with hours added.
                             5832 ; 471  |#ifdef LDS514_LCD
                             5833 ; 472  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             5834 ; 473  |#endif
                             5835 ; 474  |
                             5836 ; 475  |#ifdef ILI814_LCD
                             5837 ; 476  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             5838 ; 477  |#endif
                             5839 ; 478  |
                             5840 ; 479  |#ifdef ML9341_LCD
                             5841 ; 480  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             5842 ; 481  |#endif
                             5843 ; 482  |
                             5844 ; 483  |#ifdef SSD1332_LCD
                             5845 ; 484  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             5846 ; 485  |#endif
                             5847 ; 486  |
                             5848 ; 487  |#ifdef S6B33B0A_LCD
                             5849 ; 488  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             5850 ; 489  |#endif
                             5851 ; 490  |
                             5852 ; 491  |#ifdef SED15XX_LCD
                             5853 ; 492  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             5854 ; 493  |#endif
                             5855 ; 494  |
                             5856 ; 495  |#define HR_TRACK_CURR_TIME_Y_POS        TOP_OF_SCREEN+48
                             5857 ; 496  |#define HR_TRACK_CURR_TIME_X_SIZE       28
                             5858 ; 497  |#define HR_TRACK_CURR_TIME_Y_SIZE       8
                             5859 ; 498  |
                             5860 ; 499  |#define HR_TRACK_TOTAL_TIME_X_POS       LEFT_OF_SCREEN+59
                             5861 ; 500  |#define HR_TRACK_TOTAL_TIME_Y_POS       TRACK_CURR_TIME_Y_POS
                             5862 ; 501  |#define HR_TRACK_TOTAL_TIME_X_SIZE      28
                             5863 ; 502  |#define HR_TRACK_TOTAL_TIME_Y_SIZE      8
                             5864 ; 503  |
                             5865 ; 504  |//Clear entire Track Time when song changes.
                             5866 ; 505  |#define CLR_TRACK_TIME_X_POS            LEFT_OF_SCREEN
                             5867 ; 506  |#define CLR_TRACK_TIME_Y_POS            TRACK_CURR_TIME_Y_POS
                             5868 ; 507  |#define CLR_TRACK_TIME_X_SIZE           SCREEN_WIDTH
                             5869 ; 508  |#define CLR_TRACK_TIME_Y_SIZE           8
                             5870 ; 509  |
                             5871 ; 510  |#define HR_TRACK_SLASH_X_SIZE           3
                             5872 ; 511  |#define HR_TRACK_SLASH_X_POS            HR_TRACK_TOTAL_TIME_X_POS-HR_TRACK_SLASH_X_SIZE
                             5873 ; 512  |#define HR_TRACK_SLASH_Y_POS            HR_TRACK_CURR_TIME_Y_POS
                             5874 ; 513  |
                             5875 ; 514  | //DVRWARN
                             5876 ; 515  |#define VOICE_SPACE_WARN_X_POS      LEFT_OF_SCREEN
                             5877 ; 516  |#define VOICE_SPACE_WARN_Y_POS      SONG_TITLE_Y_POS
                             5878 ; 517  |#define VOICE_SPACE_WARN_X_SIZE     93
                             5879 ; 518  |#define VOICE_SPACE_WARN_Y_SIZE     16
                             5880 ; 519  |
                             5881 ; 520  |//Shutdown
                             5882 ; 521  |#define SHUTDOWN_PROGRESS_X_POS     LEFT_OF_SCREEN+24
                             5883 ; 522  |#define SHUTDOWN_PROGRESS_Y_POS     TOP_OF_SCREEN+32
                             5884 ; 523  |#define SHUTDOWN_PROGRESS_X_SIZE    59
                             5885 ; 524  |#define SHUTDOWN_PROGRESS_Y_SIZE    16
                             5886 ; 525  |#define SHUTDOWN_PROGRESS_RESOURCE  RSRC_PDOWN_STATUS_0
                             5887 ; 526  |
                             5888 ; 527  |#define SHUTDOWN_STRING_X_POS       LEFT_OF_SCREEN+10
                             5889 ; 528  |#define SHUTDOWN_STRING_Y_POS       TOP_OF_SCREEN+16
                             5890 ; 529  |#define SHUTDOWN_STRING_X_SIZE      59
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  97

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5891 ; 530  |#define SHUTDOWN_STRING_Y_SIZE      16
                             5892 ; 531  |#define SHUTDOWN_STRING_RESOURCE    RSRC_PDOWN_HOLD_STRING
                             5893 ; 532  |
                             5894 ; 533  |#define DEFRAGMENT_STRING_X_POS       LEFT_OF_SCREEN+0
                             5895 ; 534  |#define DEFRAGMENT_STRING_Y_POS       TOP_OF_SCREEN+16
                             5896 ; 535  |#define DEFRAGMENT_STRING_X_SIZE      59
                             5897 ; 536  |#define DEFRAGMENT_STRING_Y_SIZE      16
                             5898 ; 537  |#define DEFRAGMENT_STRING_RESOURCE    RSRC_DEFRAGMENT_STORE_STRING
                             5899 ; 538  |
                             5900 ; 539  |
                             5901 ; 540  |//Contrast Display
                             5902 ; 541  |#define CONTRAST_TITLE_X_POS        LEFT_OF_SCREEN+0
                             5903 ; 542  |#define CONTRAST_TITLE_Y_POS        TOP_OF_SCREEN+16
                             5904 ; 543  |
                             5905 ; 544  |#define CONTRAST_X_POS              LEFT_OF_SCREEN+8
                             5906 ; 545  |#define CONTRAST_Y_POS              TOP_OF_SCREEN+32
                             5907 ; 546  |#define CONTRAST_X_SIZE             96
                             5908 ; 547  |#define CONTRAST_Y_SIZE             8
                             5909 ; 548  |#define CONTRAST_RESOURCE           RSRC_CONTRAST_LEVEL_0
                             5910 ; 549  |
                             5911 ; 550  |//Backlight Display
                             5912 ; 551  |#define BACKLIGHT_TITLE_X_POS        LEFT_OF_SCREEN+0
                             5913 ; 552  |#define BACKLIGHT_TITLE_Y_POS        TOP_OF_SCREEN+24
                             5914 ; 553  |#define BACKLIGHT_STATE_X_POS        LEFT_OF_SCREEN+0
                             5915 ; 554  |#define BACKLIGHT_STATE_Y_POS        (LCD_FIRST_ROW_NUM+4)*LCD_SIZE_ROW
                             5916 ; 555  |
                             5917 ; 556  |//settings title display
                             5918 ; 557  |#define SETTINGS_TITLE_X_POS        LEFT_OF_SCREEN+0
                             5919 ; 558  |#define SETTINGS_TITLE_Y_POS        TOP_OF_SCREEN+8
                             5920 ; 559  |//jpeg display title display
                             5921 ; 560  |#define JPEG_DISPLAY_TITLE_X_POS        LEFT_OF_SCREEN+0
                             5922 ; 561  |#define JPEG_DISPLAY_TITLE_Y_POS        TOP_OF_SCREEN+8
                             5923 ; 562  |//erase files title display
                             5924 ; 563  |#define ERASE_TITLE_X_POS           LEFT_OF_SCREEN+0
                             5925 ; 564  |#define ERASE_TITLE_Y_POS           TOP_OF_SCREEN+8
                             5926 ; 565  |
                             5927 ; 566  |// Splashscreen
                             5928 ; 567  |#ifdef LDS514_LCD
                             5929 ; 568  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             5930 ; 569  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                             5931 ; 570  |#define SPLASH_SCREEN_X_SIZE        96
                             5932 ; 571  |#define SPLASH_SCREEN_Y_SIZE        64
                             5933 ; 572  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             5934 ; 573  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             5935 ; 574  |#endif
                             5936 ; 575  |
                             5937 ; 576  |#ifdef ILI814_LCD
                             5938 ; 577  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             5939 ; 578  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                             5940 ; 579  |#define SPLASH_SCREEN_X_SIZE        96
                             5941 ; 580  |#define SPLASH_SCREEN_Y_SIZE        64
                             5942 ; 581  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             5943 ; 582  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             5944 ; 583  |#endif
                             5945 ; 584  |
                             5946 ; 585  |#ifdef ML9341_LCD
                             5947 ; 586  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             5948 ; 587  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                             5949 ; 588  |#define SPLASH_SCREEN_X_SIZE        96
                             5950 ; 589  |#define SPLASH_SCREEN_Y_SIZE        96
                             5951 ; 590  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             5952 ; 591  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  98

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5953 ; 592  |#endif
                             5954 ; 593  |
                             5955 ; 594  |#ifdef SSD1332_LCD
                             5956 ; 595  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             5957 ; 596  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                             5958 ; 597  |#define SPLASH_SCREEN_X_SIZE        96
                             5959 ; 598  |#define SPLASH_SCREEN_Y_SIZE        64
                             5960 ; 599  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             5961 ; 600  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             5962 ; 601  |#endif
                             5963 ; 602  |
                             5964 ; 603  |#ifdef S6B33B0A_LCD
                             5965 ; 604  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             5966 ; 605  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN + 16
                             5967 ; 606  |#define SPLASH_SCREEN_X_SIZE        80
                             5968 ; 607  |#define SPLASH_SCREEN_Y_SIZE        48
                             5969 ; 608  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             5970 ; 609  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             5971 ; 610  |#endif
                             5972 ; 611  |
                             5973 ; 612  |#ifdef SED15XX_LCD
                             5974 ; 613  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             5975 ; 614  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN 
                             5976 ; 615  |#define SPLASH_SCREEN_X_SIZE        128
                             5977 ; 616  |#define SPLASH_SCREEN_Y_SIZE        64    
                             5978 ; 617  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             5979 ; 618  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             5980 ; 619  |#endif
                             5981 ; 620  |
                             5982 ; 621  |// FM tuner
                             5983 ; 622  |#define FM_TUNER_FREQUENCY_X_POS    LEFT_OF_SCREEN+30
                             5984 ; 623  |#define FM_TUNER_FREQUENCY_Y_POS    TOP_OF_SCREEN+24
                             5985 ; 624  |#define FM_TUNER_FREQUENCY_X_SIZE   CHAR_SIZE_X*10
                             5986 ; 625  |#define FM_TUNER_FREQUENCY_Y_SIZE   CHAR_SIZE_Y
                             5987 ; 626  |#define FM_TUNER_FREQUENCY_DOT_X_POS    FM_TUNER_FREQUENCY_X_POS+CHAR_SIZE_X*3
                             5988 ; 627  |#define FM_TUNER_FRAC_FREQUENCY_X_POS    FM_TUNER_FREQUENCY_DOT_X_POS+3
                             5989 ; 628  |
                             5990 ; 629  |#define FM_TUNER_PRESET_X_POS       LEFT_OF_SCREEN+30
                             5991 ; 630  |#define FM_TUNER_PRESET_Y_POS       TOP_OF_SCREEN+34
                             5992 ; 631  |#define FM_TUNER_PRESET_X_SIZE      CHAR_SIZE_X*5
                             5993 ; 632  |#define FM_TUNER_PRESET_Y_SIZE      CHAR_SIZE_Y
                             5994 ; 633  |
                             5995 ; 634  |#define FM_TUNER_PILOT_X_POS       LEFT_OF_SCREEN+30
                             5996 ; 635  |#define FM_TUNER_PILOT_Y_POS       TOP_OF_SCREEN+44
                             5997 ; 636  |
                             5998 ; 637  |// About menu
                             5999 ; 638  |#define ABOUT_TITLE_X_POS           LEFT_OF_SCREEN+0
                             6000 ; 639  |#define ABOUT_TITLE_Y_POS           TOP_OF_SCREEN+LCD_SIZE_ROW
                             6001 ; 640  |// starting row -- use offsets for the rest
                             6002 ; 641  |#define ABOUT_LINE_LABEL_X_POS      LEFT_OF_SCREEN+0
                             6003 ; 642  |#define ABOUT_LINE_LABEL_Y_POS      ABOUT_TITLE_Y_POS+(2*LCD_SIZE_ROW)
                             6004 ; 643  |
                             6005 ; 644  |#ifdef PLAYER_STRESS
                             6006 ; 645  |#define STRESS_TEST_X_POS       LEFT_OF_SCREEN
                             6007 ; 646  |#define STRESS_TEST_Y_POS       TOP_OF_SCREEN+40
                             6008 ; 647  |#define STRESS_TEST_X_SIZE      SCREEN_WIDTH
                             6009 ; 648  |#define STRESS_TEST_Y_SIZE      8
                             6010 ; 649  |#endif
                             6011 ; 650  |
                             6012 ; 651  |
                             6013 ; 652  |// Delete Menu
                             6014 ; 653  |#define WARNING_MSG_LINE1_X         LEFT_OF_SCREEN
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  99

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6015 ; 654  |#define WARNING_MSG_LINE1_Y         (LCD_FIRST_ROW_NUM+1)*LCD_SIZE_ROW
                             6016 ; 655  |#define WARNING_MSG_LINE2_X         LEFT_OF_SCREEN
                             6017 ; 656  |#define WARNING_MSG_LINE2_Y         (LCD_FIRST_ROW_NUM+2)*LCD_SIZE_ROW
                             6018 ; 657  |#define WARNING_MSG_FILE_X          LEFT_OF_SCREEN
                             6019 ; 658  |#define WARNING_MSG_FILE_Y          (LCD_FIRST_ROW_NUM+4)*LCD_SIZE_ROW
                             6020 ; 659  |#define WARNING_MSG_YES_X           LEFT_OF_SCREEN
                             6021 ; 660  |#define WARNING_MSG_YES_Y           (LCD_FIRST_ROW_NUM+6)*LCD_SIZE_ROW
                             6022 ; 661  |#define DELETE_FAIL_MSG_X           LEFT_OF_SCREEN
                             6023 ; 662  |#define DELETE_FAIL_MSG_Y           (LCD_FIRST_ROW_NUM+6)*LCD_SIZE_ROW
                             6024 ; 663  |
                             6025 ; 664  |_reentrant void DisplayClear (void);
                             6026 ; 665  |_reentrant void DisplayLowBattery (void);
                             6027 ; 666  |
                             6028 ; 667  |_reentrant int DisplayContrast( int bDisplay, int iIgnored1, void *pPtr);
                             6029 ; 668  |
                             6030 ; 669  |_reentrant int DisplayBacklight( int bDisplay, int iIgnored1, void *pPtr);
                             6031 ; 670  |#ifdef WOW
                             6032 ; 671  |_reentrant int DisplayBar( int bDisplay, int step, void *pPtr);
                             6033 ; 672  |#endif
                             6034 ; 673  |extern _X BOOL g_bSongStringScroll;
                             6035 ; 674  |extern _X INT  g_iSongStringOffset;
                             6036 ; 675  |extern _X INT  g_iSongStringLength;
                             6037 ; 676  |
                             6038 ; 677  |extern _X BOOL g_bArtistStringScroll;
                             6039 ; 678  |extern _X INT  g_iArtistStringOffset;
                             6040 ; 679  |extern _X INT  g_iArtistStringLength;
                             6041 ; 680  |
                             6042 ; 681  |
                             6043 ; 682  |extern _X BOOL g_bAlbumStringScroll;
                             6044 ; 683  |extern _X INT  g_iAlbumStringOffset;
                             6045 ; 684  |extern _X INT  g_iAlbumStringLength;
                             6046 ; 685  |extern int g_iVolume_Control_Mode;
                             6047 ; 686  |extern int g_iAB_Control_Mode;
                             6048 ; 687  |
                             6049 ; 688  |
                             6050 ; 689  |#endif //_DISPLAY_H
                             6051 
                             6053 
                             6054 ; 15   |#include "displaylists.h"
                             6055 
                             6057 
                             6058 ; 1    |#ifndef _DISPLAY_LISTS_H
                             6059 ; 2    |#define _DISPLAY_LISTS_H
                             6060 ; 3    |
                             6061 ; 4    |#include "display.h"
                             6062 
                             6064 
                             6065 ; 1    |#ifndef _DISPLAY_H
                             6066 ; 2    |#define _DISPLAY_H
                             6067 ; 3    |
                             6068 ; 4    |//Display bits
                             6069 ; 5    |#define DISPLAY_CLEAR_DISPLAY_BITPOS        0
                             6070 ; 6    |
                             6071 ; 7    |#define DISPLAY_ENCODER_TRACK_TIME_BITPOS   1
                             6072 ; 8    |#define DISPLAY_ENCODER_TRACK_NAME_BITPOS   2
                             6073 ; 9    |#define DISPLAY_RECORD_MODE_BITPOS          3
                             6074 ; 10   |
                             6075 ; 11   |//This bit (DISPLAY_MISC_BITPOS) is set to allow DisplayHints to be non zero, but does not
                                   map
                             6076 ; 12   |//to anything in UpdateDisplay();  (meant to be used to indicate that specific
                             6077 ; 13   |//things that are specific for that menu.
                             6078 ; 14   |#define DISPLAY_MISC_BITPOS                 4
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 100

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6079 ; 15   |
                             6080 ; 16   |#define DISPLAY_FMTUNER_FREQUENCY           5
                             6081 ; 17   |#define DISPLAY_FMTUNER_PRESET              6
                             6082 ; 18   |#define DISPLAY_FMTUNER_STRENGTH            7
                             6083 ; 19   |
                             6084 ; 20   |#define DISPLAY_PLAYSTATE_BITPOS             9
                             6085 ; 21   |#define DISPLAY_AB_ICON_BITPOS              10
                             6086 ; 22   |#define DISPLAY_PLAYMODE_BITPOS             11
                             6087 ; 23   |#define DISPLAY_PLAYSET_BITPOS              12
                             6088 ; 24   |
                             6089 ; 25   |//Playback info
                             6090 ; 26   |#define DISPLAY_EQ_BITPOS                   13
                             6091 ; 27   |#define DISPLAY_VOLUME_BITPOS               14
                             6092 ; 28   |
                             6093 ; 29   |//Track Info
                             6094 ; 30   |#define DISPLAY_SONGARTISTALBUM_BITPOS      15
                             6095 ; 31   |#define DISPLAY_SONGTITLE_BITPOS            16
                             6096 ; 32   |#define DISPLAY_CURRENTTRACK_BITPOS         17
                             6097 ; 33   |#define DISPLAY_TRACKTIME_BITPOS            18
                             6098 ; 34   |#define DISPLAY_TOTALTRACKTIME_BITPOS        8
                             6099 ; 35   |#define DISPLAY_BITRATE_BITPOS              19
                             6100 ; 36   |
                             6101 ; 37   |//Device status info
                             6102 ; 38   |#define DISPLAY_LOCK_BITPOS                 20
                             6103 ; 39   |#define DISPLAY_DISK_BITPOS                 21
                             6104 ; 40   |#define DISPLAY_BATTERY_BITPOS              22
                             6105 ; 41   |#define DISPLAY_ALBUMART_BITPOS              23
                             6106 ; 42   |
                             6107 ; 43   |#ifdef PLAYER_STRESS
                             6108 ; 44   |// this may not work since album art uses bit 23 so we may need a new word variable for th
                                  is player stress test bit below.
                             6109 ; 45   |#define DISPLAY_STRESSTEST_BITPOS            23
                             6110 ; 46   |#endif
                             6111 ; 47   |
                             6112 ; 48   |
                             6113 ; 49   |union DisplayHints
                             6114 ; 50   |{
                             6115 ; 51   |    struct {
                             6116 ; 52   |        int ClearDisplay        :1;//0
                             6117 ; 53   |        int EncoderTrackTime    :1;//1
                             6118 ; 54   |        int EncoderTrackName    :1;//2
                             6119 ; 55   |        int RecordMode          :1;//3
                             6120 ; 56   |        int Misc                :1;//4
                             6121 ; 57   |        int FMTunerFrequency    :1;//5
                             6122 ; 58   |        int FMTunerPreset       :1;//6
                             6123 ; 59   |        int FMTunerStrength     :1;//7
                             6124 ; 60   |        int TotalTrackTime      :1;//8
                             6125 ; 61   |        int PlayState           :1;//9
                             6126 ; 62   |        int ABIcon              :1;//10
                             6127 ; 63   |        int PlayMode            :1;//11
                             6128 ; 64   |        int PlaySet             :1;//12
                             6129 ; 65   |        int EQ                  :1;//13
                             6130 ; 66   |        int Volume              :1;//14
                             6131 ; 67   |        int SongArtistAlbum     :1;//15
                             6132 ; 68   |        int SongTitle           :1;//16
                             6133 ; 69   |        int CurrentTrack        :1;//17
                             6134 ; 70   |        int TrackTime           :1;//18
                             6135 ; 71   |        int Bitrate             :1;//19
                             6136 ; 72   |        int LockIcon            :1;//20
                             6137 ; 73   |        int Disk                :1;//21
                             6138 ; 74   |        int Battery             :1;//22
                             6139 ; 75   |#ifdef PLAYER_STRESS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 101

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6140 ; 76   |        int StressTest         :1;//23  // this might not work since bit 23 is already tak
                                  en by album art. 23 is last bit in word.
                             6141 ; 77   |#else
                             6142 ; 78   |        int AlbumArt            :1;//23
                             6143 ; 79   |#endif
                             6144 ; 80   |    } bits;
                             6145 ; 81   |    WORD I;
                             6146 ; 82   |};
                             6147 ; 83   |
                             6148 ; 84   |// setup default display for all menus
                             6149 ; 85   |// can be adjusted in each menus as required.
                             6150 ; 86   |#define COMMON_DISPLAY_ALL  (\ 
                             6151 ; 87   |                                (1<<DISPLAY_BATTERY_BITPOS)|\ 
                             6152 ; 88   |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                             6153 ; 89   |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             6154 ; 90   |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                             6155 ; 91   |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                             6156 ; 92   |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                             6157 ; 93   |                                (1<<DISPLAY_EQ_BITPOS)|\ 
                             6158 ; 94   |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                             6159 ; 95   |                                (1<<DISPLAY_PLAYSTATE_BITPOS)\ 
                             6160 ; 96   |                                )
                             6161 ; 97   |
                             6162 ; 98   |#define SPECTROGRAM_MENU_DISPLAY_ALL  (\ 
                             6163 ; 99   |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                             6164 ; 100  |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                             6165 ; 101  |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                             6166 ; 102  |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                             6167 ; 103  |                                (1<<DISPLAY_EQ_BITPOS)|\ 
                             6168 ; 104  |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                             6169 ; 105  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)\ 
                             6170 ; 106  |                                )
                             6171 ; 107  |
                             6172 ; 108  |//-----------------------------------------------
                             6173 ; 109  |#ifdef JPEG_ALBUM_ART
                             6174 ; 110  |#define ALBUMART_SET_MASK_IF_APPROPRIATE (1<<DISPLAY_ALBUMART_BITPOS)
                             6175 ; 111  |#else
                             6176 ; 112  |#define ALBUMART_SET_MASK_IF_APPROPRIATE (0)
                             6177 ; 113  |#endif
                             6178 ; 114  |
                             6179 ; 115  |#ifdef PLAYER_STRESS
                             6180 ; 116  |#define PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE (1<<DISPLAY_STRESSTEST_BITPOS)
                             6181 ; 117  |#else
                             6182 ; 118  |#define PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE (0)
                             6183 ; 119  |#endif
                             6184 ; 120  |
                             6185 ; 121  |
                             6186 ; 122  |#define MUSIC_MENU_DISPLAY_ALL  (\ 
                             6187 ; 123  |                                (COMMON_DISPLAY_ALL)|\ 
                             6188 ; 124  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             6189 ; 125  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             6190 ; 126  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             6191 ; 127  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                             6192 ; 128  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                             6193 ; 129  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             6194 ; 130  |                                (1<<DISPLAY_TRACKTIME_BITPOS)|\ 
                             6195 ; 131  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)\ 
                             6196 ; 132  |                                )
                             6197 ; 133  |
                             6198 ; 134  |#define MUSIC_MENU_DISPLAY_NEW_TRACK (\ 
                             6199 ; 135  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             6200 ; 136  |                                (PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE)|\ 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 102

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6201 ; 137  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                             6202 ; 138  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                             6203 ; 139  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             6204 ; 140  |                                (1<<DISPLAY_TRACKTIME_BITPOS)|\ 
                             6205 ; 141  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)|\ 
                             6206 ; 142  |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                             6207 ; 143  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             6208 ; 144  |                                (1<<DISPLAY_PLAYSET_BITPOS)\ 
                             6209 ; 145  |                                )
                             6210 ; 146  |//-----------------------------------------------
                             6211 ; 147  |
                             6212 ; 148  |
                             6213 ; 149  |#define MVIDEO_MENU_DISPLAY_ALL ((1<<DISPLAY_CURRENTTRACK_BITPOS)|(1<<DISPLAY_SONGTITLE_BI
                                  TPOS))
                             6214 ; 150  |
                             6215 ; 151  |
                             6216 ; 152  |#define VOICE_MENU_DISPLAY_ALL  (\ 
                             6217 ; 153  |                                COMMON_DISPLAY_ALL|\ 
                             6218 ; 154  |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                             6219 ; 155  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             6220 ; 156  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             6221 ; 157  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                             6222 ; 158  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                             6223 ; 159  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             6224 ; 160  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)|\ 
                             6225 ; 161  |                                (1<<DISPLAY_TRACKTIME_BITPOS)\ 
                             6226 ; 162  |                                )
                             6227 ; 163  |
                             6228 ; 164  |
                             6229 ; 165  |#define RECORDING_DISPLAY_ALL   (\ 
                             6230 ; 166  |                                COMMON_DISPLAY_ALL|\ 
                             6231 ; 167  |                                (1<<DISPLAY_ENCODER_TRACK_TIME_BITPOS)|\ 
                             6232 ; 168  |                                (1<<DISPLAY_ENCODER_TRACK_NAME_BITPOS)|\ 
                             6233 ; 169  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             6234 ; 170  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             6235 ; 171  |                                (1<<DISPLAY_RECORD_MODE_BITPOS)\ 
                             6236 ; 172  |                                )
                             6237 ; 173  |
                             6238 ; 174  |#ifdef USE_PLAYLIST3
                             6239 ; 175  |#define BROWSE_MENU_DISPLAY_ALL  (\ 
                             6240 ; 176  |                                (1<<DISPLAY_BATTERY_BITPOS)|\ 
                             6241 ; 177  |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                             6242 ; 178  |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                             6243 ; 179  |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                             6244 ; 180  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                             6245 ; 181  |                                )
                             6246 ; 182  |#else
                             6247 ; 183  |#ifdef USE_PLAYLIST5
                             6248 ; 184  |#if 0
                             6249 ; 185  |#define BROWSE_MENU_DISPLAY_ALL (\ 
                             6250 ; 186  |                                 COMMON_DISPLAY_ALL|\ 
                             6251 ; 187  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             6252 ; 188  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             6253 ; 189  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             6254 ; 190  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             6255 ; 191  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                             6256 ; 192  |                                )
                             6257 ; 193  |#else
                             6258 ; 194  |#define BROWSE_MENU_DISPLAY_ALL (\ 
                             6259 ; 195  |                                 COMMON_DISPLAY_ALL|\ 
                             6260 ; 196  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             6261 ; 197  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 103

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6262 ; 198  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             6263 ; 199  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                             6264 ; 200  |                                )
                             6265 ; 201  |#endif
                             6266 ; 202  |#endif  // #ifdef USE_PLAYLIST5
                             6267 ; 203  |#endif  // #ifdef USE_PLAYLIST3
                             6268 ; 204  |
                             6269 ; 205  |
                             6270 ; 206  |
                             6271 ; 207  |#define MAIN_MENU_DISPLAY_ALL           (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             6272 ; 208  |
                             6273 ; 209  |#define EQ_MENU_DISPLAY_ALL             (\ 
                             6274 ; 210  |                                        COMMON_DISPLAY_ALL|\ 
                             6275 ; 211  |                                        (1<<DISPLAY_EQ_BITPOS)|\ 
                             6276 ; 212  |                                        (1<<DISPLAY_VOLUME_BITPOS)\ 
                             6277 ; 213  |                                        )     // (SDK2.520)
                             6278 ; 214  |
                             6279 ; 215  |#define PM_MENU_DISPLAY_ALL             (COMMON_DISPLAY_ALL|(1<<DISPLAY_PLAYMODE_BITPOS)|(
                                  1<<DISPLAY_MISC_BITPOS))
                             6280 ; 216  |#define PWR_MENU_DISPLAY_ALL            (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             6281 ; 217  |#define SETTINGS_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             6282 ; 218  |#define JPEG_DISPLAY_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             6283 ; 219  |#define DELETE_MENU_DISPLAY_ALL         (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             6284 ; 220  |#define ABOUT_MENU_DISPLAY_ALL          (COMMON_DISPLAY_ALL)
                             6285 ; 221  |#define ERASE_MENU_DISPLAY_ALL          ((1<<DISPLAY_BATTERY_BITPOS)|(1<<DISPLAY_LOCK_BITP
                                  OS))
                             6286 ; 222  |
                             6287 ; 223  |#define CONTRAST_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             6288 ; 224  |
                             6289 ; 225  |#define TIME_DATE_MENU_DISPLAY_ALL      0
                             6290 ; 226  |#define RECORDTEST_DISPLAY_ALL       (\ 
                             6291 ; 227  |                                        (1<<DISPLAY_ENCODER_TRACK_TIME_BITPOS)|\ 
                             6292 ; 228  |                                                                        (1<<DISPLAY_ENCODE
                                  R_TRACK_NAME_BITPOS)|\ 
                             6293 ; 229  |                                                                        (1<<DISPLAY_PLAYST
                                  ATE_BITPOS)|\ 
                             6294 ; 230  |                                        (1<<DISPLAY_RECORD_MODE_BITPOS)|\ 
                             6295 ; 231  |                                    (1<<DISPLAY_MISC_BITPOS)\ 
                             6296 ; 232  |                                                                        )
                             6297 ; 233  |
                             6298 ; 234  |#define SPLASH_MENU_DISPLAY_ALL         (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             6299 ; 235  |// used during track update to force total time update
                             6300 ; 236  |#define AUTOUPDATE              FALSE
                             6301 ; 237  |#define FORCEUPDATE             TRUE
                             6302 ; 238  |
                             6303 ; 239  |
                             6304 ; 240  |// based on font used for title/artist display
                             6305 ; 241  |#define DEFAULT_CHAR_WIDTH  5
                             6306 ; 242  |
                             6307 ; 243  |
                             6308 ; 244  |// LCD dimensions
                             6309 ; 245  |#ifdef LDS514_LCD
                             6310 ; 246  |#define   LCD_SIZE_X       96
                             6311 ; 247  |#define   LCD_SIZE_Y       64
                             6312 ; 248  |#endif
                             6313 ; 249  |
                             6314 ; 250  |#ifdef ILI814_LCD
                             6315 ; 251  |#define   LCD_SIZE_X       96
                             6316 ; 252  |#define   LCD_SIZE_Y       64
                             6317 ; 253  |#endif
                             6318 ; 254  |
                             6319 ; 255  |#ifdef ML9341_LCD
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 104

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6320 ; 256  |#define   LCD_SIZE_X       96
                             6321 ; 257  |#define   LCD_SIZE_Y       96
                             6322 ; 258  |#endif
                             6323 ; 259  |
                             6324 ; 260  |#ifdef SSD1332_LCD
                             6325 ; 261  |#define   LCD_SIZE_X       96
                             6326 ; 262  |#define   LCD_SIZE_Y       64
                             6327 ; 263  |#endif
                             6328 ; 264  |
                             6329 ; 265  |#ifdef S6B33B0A_LCD
                             6330 ; 266  |#define   LCD_SIZE_X       128
                             6331 ; 267  |#define   LCD_SIZE_Y       159
                             6332 ; 268  |#endif
                             6333 ; 269  |
                             6334 ; 270  |#ifdef SED15XX_LCD
                             6335 ; 271  |#define LCD_SIZE_X                      128
                             6336 ; 272  |#define LCD_SIZE_Y                      64
                             6337 ; 273  |#endif
                             6338 ; 274  |
                             6339 ; 275  |#define LCD_SIZE_ROW                     8
                             6340 ; 276  |
                             6341 ; 277  |#define TOP_OF_SCREEN           0
                             6342 ; 278  |#define LEFT_OF_SCREEN          0
                             6343 ; 279  |
                             6344 ; 280  |#ifdef LDS514_LCD
                             6345 ; 281  |#define   SCREEN_WIDTH       96
                             6346 ; 282  |#define   SCREEN_HEIGHT       64
                             6347 ; 283  |#endif
                             6348 ; 284  |
                             6349 ; 285  |#ifdef ILI814_LCD
                             6350 ; 286  |#define   SCREEN_WIDTH       96
                             6351 ; 287  |#define   SCREEN_HEIGHT       64
                             6352 ; 288  |#endif
                             6353 ; 289  |
                             6354 ; 290  |#ifdef ML9341_LCD
                             6355 ; 291  |#define   SCREEN_WIDTH       96
                             6356 ; 292  |#define   SCREEN_HEIGHT       96
                             6357 ; 293  |#endif
                             6358 ; 294  |
                             6359 ; 295  |#ifdef SSD1332_LCD
                             6360 ; 296  |#define   SCREEN_WIDTH       96
                             6361 ; 297  |#define   SCREEN_HEIGHT       64
                             6362 ; 298  |#endif
                             6363 ; 299  |
                             6364 ; 300  |#ifdef S6B33B0A_LCD
                             6365 ; 301  |#define   SCREEN_WIDTH       128
                             6366 ; 302  |#define   SCREEN_HEIGHT       159
                             6367 ; 303  |#endif
                             6368 ; 304  |
                             6369 ; 305  |#ifdef SED15XX_LCD
                             6370 ; 306  |#define SCREEN_WIDTH            128
                             6371 ; 307  |#define SCREEN_HEIGHT           64
                             6372 ; 308  |#endif
                             6373 ; 309  |
                             6374 ; 310  |#define CHAR_SIZE_X             6
                             6375 ; 311  |#define CHAR_SIZE_Y             8
                             6376 ; 312  |
                             6377 ; 313  |// Physical rows are numbered from 0 to LCD_SIZE_Y/LCD_SIZE_ROW
                             6378 ; 314  |#define LCD_FIRST_ROW_NUM                1
                             6379 ; 315  |#define LCD_FIRST_ROW_POS_Y=LCD_FIRST_ROW_NUM*LCD_SIZE_ROW  // skipping the first row
                             6380 ; 316  |
                             6381 ; 317  |// Top row in order from left to right
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 105

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6382 ; 318  |#define PLAY_STATE_ICON_X_POS   LEFT_OF_SCREEN+0
                             6383 ; 319  |#define PLAY_STATE_ICON_Y_POS   TOP_OF_SCREEN+0
                             6384 ; 320  |#define PLAY_STATE_ICON_X_SIZE  12
                             6385 ; 321  |#define PLAY_STATE_ICON_Y_SIZE  8
                             6386 ; 322  |
                             6387 ; 323  |#define REPEAT_ICON_X_POS       LEFT_OF_SCREEN+13
                             6388 ; 324  |#define REPEAT_ICON_Y_POS       TOP_OF_SCREEN+0
                             6389 ; 325  |#define REPEAT_ICON_X_SIZE      12
                             6390 ; 326  |#define REPEAT_ICON_Y_SIZE      8
                             6391 ; 327  |
                             6392 ; 328  |#define SHUFFLE_ICON_X_POS      LEFT_OF_SCREEN+25
                             6393 ; 329  |#define SHUFFLE_ICON_Y_POS      TOP_OF_SCREEN+0
                             6394 ; 330  |#define SHUFFLE_ICON_X_SIZE     5     // includes white space on left side of .bmp
                             6395 ; 331  |#define SHUFFLE_ICON_Y_SIZE     8
                             6396 ; 332  |
                             6397 ; 333  |#define AB_ICON_X_POS           LEFT_OF_SCREEN+31
                             6398 ; 334  |#define AB_ICON_Y_POS           TOP_OF_SCREEN+0
                             6399 ; 335  |#define AB_ICON_X_SIZE          12
                             6400 ; 336  |#define AB_ICON_Y_SIZE          8
                             6401 ; 337  |
                             6402 ; 338  |#ifdef  AUDIBLE
                             6403 ; 339  |#define SECNAV_ICON_X_POS       LEFT_OF_SCREEN+31
                             6404 ; 340  |#define SECNAV_ICON_Y_POS       TOP_OF_SCREEN+0
                             6405 ; 341  |#define SECNAV_ICON_X_SIZE      12
                             6406 ; 342  |#define SECNAV_ICON_Y_SIZE      8
                             6407 ; 343  |#endif
                             6408 ; 344  |
                             6409 ; 345  |#define EQ_ICON_X_POS           LEFT_OF_SCREEN+44
                             6410 ; 346  |#define EQ_ICON_Y_POS           TOP_OF_SCREEN+0
                             6411 ; 347  |#define EQ_ICON_X_SIZE          22
                             6412 ; 348  |#define EQ_ICON_Y_SIZE          8
                             6413 ; 349  |
                             6414 ; 350  |#ifdef WOW
                             6415 ; 351  |#define WOW_X_POS               EQ_ICON_X_POS
                             6416 ; 352  |#define WOW_Y_POS               EQ_ICON_Y_POS
                             6417 ; 353  |#endif
                             6418 ; 354  |
                             6419 ; 355  |
                             6420 ; 356  |// Media icon
                             6421 ; 357  |#define DISK_X_POS              LEFT_OF_SCREEN+66
                             6422 ; 358  |#define DISK_Y_POS              TOP_OF_SCREEN
                             6423 ; 359  |#define DISK_X_SIZE             8
                             6424 ; 360  |#define DISK_Y_SIZE             8
                             6425 ; 361  |
                             6426 ; 362  |// Hold icon
                             6427 ; 363  |#define LOCK_ICON_X_POS         LEFT_OF_SCREEN+73
                             6428 ; 364  |#define LOCK_ICON_Y_POS         TOP_OF_SCREEN
                             6429 ; 365  |#define LOCK_ICON_X_SIZE        8
                             6430 ; 366  |#define LOCK_ICON_Y_SIZE        8
                             6431 ; 367  |
                             6432 ; 368  |#define BATTERY_ICON_X_POS      LEFT_OF_SCREEN+110
                             6433 ; 369  |#define BATTERY_ICON_Y_POS      TOP_OF_SCREEN+0
                             6434 ; 370  |#define BATTERY_ICON_X_SIZE     16
                             6435 ; 371  |#define BATTERY_ICON_Y_SIZE     8
                             6436 ; 372  |#define BATTERY_RESOURCE        RSRC_BATTERY_00
                             6437 ; 373  |
                             6438 ; 374  |// Second row from left to right
                             6439 ; 375  |#define VOLUME_ICON_X_POS       LEFT_OF_SCREEN+0
                             6440 ; 376  |#define VOLUME_ICON_Y_POS       TOP_OF_SCREEN+8
                             6441 ; 377  |#define VOLUME_ICON_X_SIZE      48
                             6442 ; 378  |#define VOLUME_ICON_Y_SIZE      8
                             6443 ; 379  |#define VOLUME_RESOURCE         RSRC_ICON_VOL_00
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 106

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6444 ; 380  |#define VOLUME_NUM_ICONS        27
                             6445 ; 381  |
                             6446 ; 382  |#define PLAYSET_X_POS           SCREEN_WIDTH-8
                             6447 ; 383  |#define PLAYSET_Y_POS           TOP_OF_SCREEN+8
                             6448 ; 384  |
                             6449 ; 385  |//Lyrics Position
                             6450 ; 386  |#define LYRICS_DISPLAY_X_POS    LEFT_OF_SCREEN
                             6451 ; 387  |#define LYRICS_DISPLAY_Y_POS    TOP_OF_SCREEN+16
                             6452 ; 388  |#define LYRICS_DISPLAY_HEIGHT           10
                             6453 ; 389  |
                             6454 ; 390  |// Music menu
                             6455 ; 391  |#define SONG_TITLE_X_POS        LEFT_OF_SCREEN+0
                             6456 ; 392  |#define SONG_TITLE_Y_POS        TOP_OF_SCREEN+16
                             6457 ; 393  |#define SONG_TITLE_X_SIZE       SCREEN_WIDTH
                             6458 ; 394  |#define SONG_TITLE_Y_SIZE       10
                             6459 ; 395  |
                             6460 ; 396  |#define SONG_ARTIST_X_POS       LEFT_OF_SCREEN
                             6461 ; 397  |#define SONG_ARTIST_Y_POS       TOP_OF_SCREEN+26
                             6462 ; 398  |#define SONG_ARTIST_X_SIZE      SCREEN_WIDTH
                             6463 ; 399  |#define SONG_ARTIST_Y_SIZE      10
                             6464 ; 400  |
                             6465 ; 401  |#define SONG_ALBUM_X_POS       LEFT_OF_SCREEN
                             6466 ; 402  |#define SONG_ALBUM_Y_POS       TOP_OF_SCREEN+36
                             6467 ; 403  |#define SONG_ALBUM_X_SIZE      SCREEN_WIDTH
                             6468 ; 404  |#define SONG_ALBUM_Y_SIZE      10
                             6469 ; 405  |
                             6470 ; 406  |#ifdef USE_PLAYLIST5
                             6471 ; 407  |#define TRACK_NUMBER_X_POS      LEFT_OF_SCREEN+28
                             6472 ; 408  |#define TRACK_NUMBER_Y_POS      TOP_OF_SCREEN+56
                             6473 ; 409  |#define TRACK_NUMBER_X_SIZE     6*4
                             6474 ; 410  |#define TRACK_NUMBER_Y_SIZE     8
                             6475 ; 411  |
                             6476 ; 412  |#define TRACK_COUNT_X_POS       TRACK_NUMBER_X_POS+TRACK_NUMBER_X_SIZE+10
                             6477 ; 413  |#define TRACK_COUNT_Y_POS       TOP_OF_SCREEN+56
                             6478 ; 414  |#define TRACK_COUNT_X_SIZE      6*4
                             6479 ; 415  |#define TRACK_COUNT_Y_SIZE      8
                             6480 ; 416  |
                             6481 ; 417  |#define TRACK_DIVIDE_X TRACK_NUMBER_X_POS+TRACK_COUNT_X_SIZE + 2
                             6482 ; 418  |#else
                             6483 ; 419  |#define TRACK_NUMBER_X_POS      LEFT_OF_SCREEN+34
                             6484 ; 420  |#define TRACK_NUMBER_Y_POS      TOP_OF_SCREEN+56
                             6485 ; 421  |#define TRACK_NUMBER_X_SIZE     6*3
                             6486 ; 422  |#define TRACK_NUMBER_Y_SIZE     8
                             6487 ; 423  |
                             6488 ; 424  |#define TRACK_COUNT_X_POS       TRACK_NUMBER_X_POS+TRACK_NUMBER_X_SIZE+10
                             6489 ; 425  |#define TRACK_COUNT_Y_POS       TOP_OF_SCREEN+56
                             6490 ; 426  |#define TRACK_COUNT_X_SIZE      6*3
                             6491 ; 427  |#define TRACK_COUNT_Y_SIZE      8
                             6492 ; 428  |
                             6493 ; 429  |#define TRACK_DIVIDE_X  TRACK_NUMBER_X_POS+24
                             6494 ; 430  |#endif
                             6495 ; 431  |
                             6496 ; 432  |
                             6497 ; 433  |#define TRACK_CURR_TIME_X_POS       LEFT_OF_SCREEN+28
                             6498 ; 434  |#define TRACK_CURR_TIME_Y_POS       TOP_OF_SCREEN+48
                             6499 ; 435  |#define TRACK_CURR_TIME_X_SIZE      25
                             6500 ; 436  |#define TRACK_CURR_TIME_Y_SIZE      8
                             6501 ; 437  |
                             6502 ; 438  |#define TRACK_SLASH_X_SIZE          5
                             6503 ; 439  |#define TRACK_SLASH_X_POS           TRACK_TOTAL_TIME_X_POS-TRACK_SLASH_X_SIZE
                             6504 ; 440  |#define TRACK_SLASH_Y_POS           TRACK_CURR_TIME_Y_POS
                             6505 ; 441  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 107

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6506 ; 442  |#define TRACK_TOTAL_TIME_X_POS      LEFT_OF_SCREEN+60
                             6507 ; 443  |#define TRACK_TOTAL_TIME_Y_POS      TRACK_CURR_TIME_Y_POS
                             6508 ; 444  |#define TRACK_TOTAL_TIME_X_SIZE     28
                             6509 ; 445  |#define TRACK_TOTAL_TIME_Y_SIZE     8
                             6510 ; 446  |
                             6511 ; 447  |#define VBR_FLAG_X_POS      LEFT_OF_SCREEN+80
                             6512 ; 448  |#define VBR_FLAG_Y_POS      8
                             6513 ; 449  |#define VBR_FLAG_X_SIZE     20
                             6514 ; 450  |#define VBR_FLAG_Y_SIZE     8
                             6515 ; 451  |#ifdef JPEG_ALBUM_ART
                             6516 ; 452  |// Album art display parameters:
                             6517 ; 453  |#define ALBUM_ART_X_POS         TOP_OF_SCREEN
                             6518 ; 454  |#define ALBUM_ART_Y_POS         80
                             6519 ; 455  |#define ALBUM_ART_X_SIZE        SCREEN_WIDTH
                             6520 ; 456  |#define ALBUM_ART_Y_SIZE        (SCREEN_HEIGHT-ALBUM_ART_Y_POS)
                             6521 ; 457  |#endif
                             6522 ; 458  |
                             6523 ; 459  |// Recording Display
                             6524 ; 460  |#define REC_CURR_TIME_X_POS       LEFT_OF_SCREEN
                             6525 ; 461  |#define REC_CURR_TIME_Y_POS       TOP_OF_SCREEN+48
                             6526 ; 462  |#define REC_CURR_TIME_X_SIZE      12
                             6527 ; 463  |#define REC_CURR_TIME_Y_SIZE      8
                             6528 ; 464  |
                             6529 ; 465  |#define REC_TOTAL_TIME_X_POS      LEFT_OF_SCREEN+45
                             6530 ; 466  |#define REC_TOTAL_TIME_Y_POS      TOP_OF_SCREEN+48
                             6531 ; 467  |#define REC_TOTAL_TIME_X_SIZE     28
                             6532 ; 468  |#define REC_TOTAL_TIME_Y_SIZE     8
                             6533 ; 469  |
                             6534 ; 470  |// Playback Display with hours added.
                             6535 ; 471  |#ifdef LDS514_LCD
                             6536 ; 472  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6537 ; 473  |#endif
                             6538 ; 474  |
                             6539 ; 475  |#ifdef ILI814_LCD
                             6540 ; 476  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6541 ; 477  |#endif
                             6542 ; 478  |
                             6543 ; 479  |#ifdef ML9341_LCD
                             6544 ; 480  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6545 ; 481  |#endif
                             6546 ; 482  |
                             6547 ; 483  |#ifdef SSD1332_LCD
                             6548 ; 484  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6549 ; 485  |#endif
                             6550 ; 486  |
                             6551 ; 487  |#ifdef S6B33B0A_LCD
                             6552 ; 488  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6553 ; 489  |#endif
                             6554 ; 490  |
                             6555 ; 491  |#ifdef SED15XX_LCD
                             6556 ; 492  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6557 ; 493  |#endif
                             6558 ; 494  |
                             6559 ; 495  |#define HR_TRACK_CURR_TIME_Y_POS        TOP_OF_SCREEN+48
                             6560 ; 496  |#define HR_TRACK_CURR_TIME_X_SIZE       28
                             6561 ; 497  |#define HR_TRACK_CURR_TIME_Y_SIZE       8
                             6562 ; 498  |
                             6563 ; 499  |#define HR_TRACK_TOTAL_TIME_X_POS       LEFT_OF_SCREEN+59
                             6564 ; 500  |#define HR_TRACK_TOTAL_TIME_Y_POS       TRACK_CURR_TIME_Y_POS
                             6565 ; 501  |#define HR_TRACK_TOTAL_TIME_X_SIZE      28
                             6566 ; 502  |#define HR_TRACK_TOTAL_TIME_Y_SIZE      8
                             6567 ; 503  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 108

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6568 ; 504  |//Clear entire Track Time when song changes.
                             6569 ; 505  |#define CLR_TRACK_TIME_X_POS            LEFT_OF_SCREEN
                             6570 ; 506  |#define CLR_TRACK_TIME_Y_POS            TRACK_CURR_TIME_Y_POS
                             6571 ; 507  |#define CLR_TRACK_TIME_X_SIZE           SCREEN_WIDTH
                             6572 ; 508  |#define CLR_TRACK_TIME_Y_SIZE           8
                             6573 ; 509  |
                             6574 ; 510  |#define HR_TRACK_SLASH_X_SIZE           3
                             6575 ; 511  |#define HR_TRACK_SLASH_X_POS            HR_TRACK_TOTAL_TIME_X_POS-HR_TRACK_SLASH_X_SIZE
                             6576 ; 512  |#define HR_TRACK_SLASH_Y_POS            HR_TRACK_CURR_TIME_Y_POS
                             6577 ; 513  |
                             6578 ; 514  | //DVRWARN
                             6579 ; 515  |#define VOICE_SPACE_WARN_X_POS      LEFT_OF_SCREEN
                             6580 ; 516  |#define VOICE_SPACE_WARN_Y_POS      SONG_TITLE_Y_POS
                             6581 ; 517  |#define VOICE_SPACE_WARN_X_SIZE     93
                             6582 ; 518  |#define VOICE_SPACE_WARN_Y_SIZE     16
                             6583 ; 519  |
                             6584 ; 520  |//Shutdown
                             6585 ; 521  |#define SHUTDOWN_PROGRESS_X_POS     LEFT_OF_SCREEN+24
                             6586 ; 522  |#define SHUTDOWN_PROGRESS_Y_POS     TOP_OF_SCREEN+32
                             6587 ; 523  |#define SHUTDOWN_PROGRESS_X_SIZE    59
                             6588 ; 524  |#define SHUTDOWN_PROGRESS_Y_SIZE    16
                             6589 ; 525  |#define SHUTDOWN_PROGRESS_RESOURCE  RSRC_PDOWN_STATUS_0
                             6590 ; 526  |
                             6591 ; 527  |#define SHUTDOWN_STRING_X_POS       LEFT_OF_SCREEN+10
                             6592 ; 528  |#define SHUTDOWN_STRING_Y_POS       TOP_OF_SCREEN+16
                             6593 ; 529  |#define SHUTDOWN_STRING_X_SIZE      59
                             6594 ; 530  |#define SHUTDOWN_STRING_Y_SIZE      16
                             6595 ; 531  |#define SHUTDOWN_STRING_RESOURCE    RSRC_PDOWN_HOLD_STRING
                             6596 ; 532  |
                             6597 ; 533  |#define DEFRAGMENT_STRING_X_POS       LEFT_OF_SCREEN+0
                             6598 ; 534  |#define DEFRAGMENT_STRING_Y_POS       TOP_OF_SCREEN+16
                             6599 ; 535  |#define DEFRAGMENT_STRING_X_SIZE      59
                             6600 ; 536  |#define DEFRAGMENT_STRING_Y_SIZE      16
                             6601 ; 537  |#define DEFRAGMENT_STRING_RESOURCE    RSRC_DEFRAGMENT_STORE_STRING
                             6602 ; 538  |
                             6603 ; 539  |
                             6604 ; 540  |//Contrast Display
                             6605 ; 541  |#define CONTRAST_TITLE_X_POS        LEFT_OF_SCREEN+0
                             6606 ; 542  |#define CONTRAST_TITLE_Y_POS        TOP_OF_SCREEN+16
                             6607 ; 543  |
                             6608 ; 544  |#define CONTRAST_X_POS              LEFT_OF_SCREEN+8
                             6609 ; 545  |#define CONTRAST_Y_POS              TOP_OF_SCREEN+32
                             6610 ; 546  |#define CONTRAST_X_SIZE             96
                             6611 ; 547  |#define CONTRAST_Y_SIZE             8
                             6612 ; 548  |#define CONTRAST_RESOURCE           RSRC_CONTRAST_LEVEL_0
                             6613 ; 549  |
                             6614 ; 550  |//Backlight Display
                             6615 ; 551  |#define BACKLIGHT_TITLE_X_POS        LEFT_OF_SCREEN+0
                             6616 ; 552  |#define BACKLIGHT_TITLE_Y_POS        TOP_OF_SCREEN+24
                             6617 ; 553  |#define BACKLIGHT_STATE_X_POS        LEFT_OF_SCREEN+0
                             6618 ; 554  |#define BACKLIGHT_STATE_Y_POS        (LCD_FIRST_ROW_NUM+4)*LCD_SIZE_ROW
                             6619 ; 555  |
                             6620 ; 556  |//settings title display
                             6621 ; 557  |#define SETTINGS_TITLE_X_POS        LEFT_OF_SCREEN+0
                             6622 ; 558  |#define SETTINGS_TITLE_Y_POS        TOP_OF_SCREEN+8
                             6623 ; 559  |//jpeg display title display
                             6624 ; 560  |#define JPEG_DISPLAY_TITLE_X_POS        LEFT_OF_SCREEN+0
                             6625 ; 561  |#define JPEG_DISPLAY_TITLE_Y_POS        TOP_OF_SCREEN+8
                             6626 ; 562  |//erase files title display
                             6627 ; 563  |#define ERASE_TITLE_X_POS           LEFT_OF_SCREEN+0
                             6628 ; 564  |#define ERASE_TITLE_Y_POS           TOP_OF_SCREEN+8
                             6629 ; 565  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 109

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6630 ; 566  |// Splashscreen
                             6631 ; 567  |#ifdef LDS514_LCD
                             6632 ; 568  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6633 ; 569  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                             6634 ; 570  |#define SPLASH_SCREEN_X_SIZE        96
                             6635 ; 571  |#define SPLASH_SCREEN_Y_SIZE        64
                             6636 ; 572  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6637 ; 573  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6638 ; 574  |#endif
                             6639 ; 575  |
                             6640 ; 576  |#ifdef ILI814_LCD
                             6641 ; 577  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6642 ; 578  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                             6643 ; 579  |#define SPLASH_SCREEN_X_SIZE        96
                             6644 ; 580  |#define SPLASH_SCREEN_Y_SIZE        64
                             6645 ; 581  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6646 ; 582  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6647 ; 583  |#endif
                             6648 ; 584  |
                             6649 ; 585  |#ifdef ML9341_LCD
                             6650 ; 586  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6651 ; 587  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                             6652 ; 588  |#define SPLASH_SCREEN_X_SIZE        96
                             6653 ; 589  |#define SPLASH_SCREEN_Y_SIZE        96
                             6654 ; 590  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6655 ; 591  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6656 ; 592  |#endif
                             6657 ; 593  |
                             6658 ; 594  |#ifdef SSD1332_LCD
                             6659 ; 595  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6660 ; 596  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                             6661 ; 597  |#define SPLASH_SCREEN_X_SIZE        96
                             6662 ; 598  |#define SPLASH_SCREEN_Y_SIZE        64
                             6663 ; 599  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6664 ; 600  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6665 ; 601  |#endif
                             6666 ; 602  |
                             6667 ; 603  |#ifdef S6B33B0A_LCD
                             6668 ; 604  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6669 ; 605  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN + 16
                             6670 ; 606  |#define SPLASH_SCREEN_X_SIZE        80
                             6671 ; 607  |#define SPLASH_SCREEN_Y_SIZE        48
                             6672 ; 608  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6673 ; 609  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6674 ; 610  |#endif
                             6675 ; 611  |
                             6676 ; 612  |#ifdef SED15XX_LCD
                             6677 ; 613  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6678 ; 614  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN 
                             6679 ; 615  |#define SPLASH_SCREEN_X_SIZE        128
                             6680 ; 616  |#define SPLASH_SCREEN_Y_SIZE        64    
                             6681 ; 617  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6682 ; 618  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6683 ; 619  |#endif
                             6684 ; 620  |
                             6685 ; 621  |// FM tuner
                             6686 ; 622  |#define FM_TUNER_FREQUENCY_X_POS    LEFT_OF_SCREEN+30
                             6687 ; 623  |#define FM_TUNER_FREQUENCY_Y_POS    TOP_OF_SCREEN+24
                             6688 ; 624  |#define FM_TUNER_FREQUENCY_X_SIZE   CHAR_SIZE_X*10
                             6689 ; 625  |#define FM_TUNER_FREQUENCY_Y_SIZE   CHAR_SIZE_Y
                             6690 ; 626  |#define FM_TUNER_FREQUENCY_DOT_X_POS    FM_TUNER_FREQUENCY_X_POS+CHAR_SIZE_X*3
                             6691 ; 627  |#define FM_TUNER_FRAC_FREQUENCY_X_POS    FM_TUNER_FREQUENCY_DOT_X_POS+3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 110

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6692 ; 628  |
                             6693 ; 629  |#define FM_TUNER_PRESET_X_POS       LEFT_OF_SCREEN+30
                             6694 ; 630  |#define FM_TUNER_PRESET_Y_POS       TOP_OF_SCREEN+34
                             6695 ; 631  |#define FM_TUNER_PRESET_X_SIZE      CHAR_SIZE_X*5
                             6696 ; 632  |#define FM_TUNER_PRESET_Y_SIZE      CHAR_SIZE_Y
                             6697 ; 633  |
                             6698 ; 634  |#define FM_TUNER_PILOT_X_POS       LEFT_OF_SCREEN+30
                             6699 ; 635  |#define FM_TUNER_PILOT_Y_POS       TOP_OF_SCREEN+44
                             6700 ; 636  |
                             6701 ; 637  |// About menu
                             6702 ; 638  |#define ABOUT_TITLE_X_POS           LEFT_OF_SCREEN+0
                             6703 ; 639  |#define ABOUT_TITLE_Y_POS           TOP_OF_SCREEN+LCD_SIZE_ROW
                             6704 ; 640  |// starting row -- use offsets for the rest
                             6705 ; 641  |#define ABOUT_LINE_LABEL_X_POS      LEFT_OF_SCREEN+0
                             6706 ; 642  |#define ABOUT_LINE_LABEL_Y_POS      ABOUT_TITLE_Y_POS+(2*LCD_SIZE_ROW)
                             6707 ; 643  |
                             6708 ; 644  |#ifdef PLAYER_STRESS
                             6709 ; 645  |#define STRESS_TEST_X_POS       LEFT_OF_SCREEN
                             6710 ; 646  |#define STRESS_TEST_Y_POS       TOP_OF_SCREEN+40
                             6711 ; 647  |#define STRESS_TEST_X_SIZE      SCREEN_WIDTH
                             6712 ; 648  |#define STRESS_TEST_Y_SIZE      8
                             6713 ; 649  |#endif
                             6714 ; 650  |
                             6715 ; 651  |
                             6716 ; 652  |// Delete Menu
                             6717 ; 653  |#define WARNING_MSG_LINE1_X         LEFT_OF_SCREEN
                             6718 ; 654  |#define WARNING_MSG_LINE1_Y         (LCD_FIRST_ROW_NUM+1)*LCD_SIZE_ROW
                             6719 ; 655  |#define WARNING_MSG_LINE2_X         LEFT_OF_SCREEN
                             6720 ; 656  |#define WARNING_MSG_LINE2_Y         (LCD_FIRST_ROW_NUM+2)*LCD_SIZE_ROW
                             6721 ; 657  |#define WARNING_MSG_FILE_X          LEFT_OF_SCREEN
                             6722 ; 658  |#define WARNING_MSG_FILE_Y          (LCD_FIRST_ROW_NUM+4)*LCD_SIZE_ROW
                             6723 ; 659  |#define WARNING_MSG_YES_X           LEFT_OF_SCREEN
                             6724 ; 660  |#define WARNING_MSG_YES_Y           (LCD_FIRST_ROW_NUM+6)*LCD_SIZE_ROW
                             6725 ; 661  |#define DELETE_FAIL_MSG_X           LEFT_OF_SCREEN
                             6726 ; 662  |#define DELETE_FAIL_MSG_Y           (LCD_FIRST_ROW_NUM+6)*LCD_SIZE_ROW
                             6727 ; 663  |
                             6728 ; 664  |_reentrant void DisplayClear (void);
                             6729 ; 665  |_reentrant void DisplayLowBattery (void);
                             6730 ; 666  |
                             6731 ; 667  |_reentrant int DisplayContrast( int bDisplay, int iIgnored1, void *pPtr);
                             6732 ; 668  |
                             6733 ; 669  |_reentrant int DisplayBacklight( int bDisplay, int iIgnored1, void *pPtr);
                             6734 ; 670  |#ifdef WOW
                             6735 ; 671  |_reentrant int DisplayBar( int bDisplay, int step, void *pPtr);
                             6736 ; 672  |#endif
                             6737 ; 673  |extern _X BOOL g_bSongStringScroll;
                             6738 ; 674  |extern _X INT  g_iSongStringOffset;
                             6739 ; 675  |extern _X INT  g_iSongStringLength;
                             6740 ; 676  |
                             6741 ; 677  |extern _X BOOL g_bArtistStringScroll;
                             6742 ; 678  |extern _X INT  g_iArtistStringOffset;
                             6743 ; 679  |extern _X INT  g_iArtistStringLength;
                             6744 ; 680  |
                             6745 ; 681  |
                             6746 ; 682  |extern _X BOOL g_bAlbumStringScroll;
                             6747 ; 683  |extern _X INT  g_iAlbumStringOffset;
                             6748 ; 684  |extern _X INT  g_iAlbumStringLength;
                             6749 ; 685  |extern int g_iVolume_Control_Mode;
                             6750 ; 686  |extern int g_iAB_Control_Mode;
                             6751 ; 687  |
                             6752 ; 688  |
                             6753 ; 689  |#endif //_DISPLAY_H
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 111

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6754 
                             6756 
                             6757 ; 5    |
                             6758 ; 6    |//Display lists is very LCD centric
                             6759 ; 7    |
                             6760 ; 8    |
                             6761 ; 9    |//Each menu item contains which page it belongs on, the resource required to display this,
                                   and the
                             6762 ; 10   |//X and Y position.  All Items on the same page as the selected item will be displayed usi
                                  ng the
                             6763 ; 11   |//coordinates listed below.
                             6764 ; 12   |struct MenuItem
                             6765 ; 13   |{
                             6766 ; 14   |    int m_iPage;
                             6767 ; 15   |    int m_iResource;
                             6768 ; 16   |    int m_ixPos;
                             6769 ; 17   |    int m_iyPos;
                             6770 ; 18   |};
                             6771 ; 19   |
                             6772 ; 20   |//The PagedListStructure contains the message used to display items in the list, 
                             6773 ; 21   |//the message used to display the selected item in the list, the number of items
                             6774 ; 22   |//in the list, and a pointer to an array of these items.
                             6775 ; 23   |struct PagedListStructure
                             6776 ; 24   |{
                             6777 ; 25   |    int m_iNormalDisplayMsg;
                             6778 ; 26   |    int m_iSelectedDisplayMsg;
                             6779 ; 27   |    int m_iItems;
                             6780 ; 28   |    struct MenuItem *m_pItems;
                             6781 ; 29   |};
                             6782 ; 30   |
                             6783 ; 31   |_reentrant int DisplayPagedList(int iSelectedItem, int iTitle, void*ListStructure);
                             6784 ; 32   |
                             6785 ; 33   |// iTitle values
                             6786 ; 34   |#define BITMAP_SETTINGS_TITLE_NUM 1 //sdk2.1 for displaying title bitmap SETTINGS. 
                             6787 ; 35   |#define BITMAP_ERASE_TITLE_NUM    2 //sdk2.1 for displaying title bitmap ERASE. 
                             6788 ; 36   |#define BITMAP_TEST_TITLE_NUM    3 
                             6789 ; 37   |#define BITMAP_RECORD_SETTINGS_TITLE_NUM 4
                             6790 ; 38   |
                             6791 ; 39   |#ifdef JPEG_APP
                             6792 ; 40   |#define BITMAP_JPEG_DISPLAY_TITLE_NUM 5 //sdk2.1 for displaying title bitmap JPEG DISPLAY.
                                   
                             6793 ; 41   |#endif
                             6794 ; 42   |
                             6795 ; 43   |#endif
                             6796 
                             6798 
                             6799 ; 16   |#include "mainmenu.h"
                             6800 
                             6802 
                             6803 ; 1    |#ifndef _MAIN_MENU_H
                             6804 ; 2    |#define _MAIN_MENU_H
                             6805 ; 3    |
                             6806 ; 4    |// menus in mainmenu
                             6807 ; 5    |#define MAINMENU_FIRST  0
                             6808 ; 6    |
                             6809 ; 7    |enum _MENU_ID
                             6810 ; 8    |{
                             6811 ; 9    |        MENU_MUSIC = 0,
                             6812 ; 10   |#ifdef JPEG_APP
                             6813 ; 11   |        MENU_JPEG_DISPLAY,
                             6814 ; 12   |#endif
                             6815 ; 13   |#ifdef MOTION_VIDEO
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 112

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6816 ; 14   |        MENU_MVIDEO,
                             6817 ; 15   |#endif
                             6818 ; 16   |        MENU_VOICE,
                             6819 ; 17   |
                             6820 ; 18   |/*This version does not use PL5
                             6821 ; 19   |#ifdef USE_PLAYLIST5
                             6822 ; 20   |#ifndef REMOVE_FM
                             6823 ; 21   |    MENU_FMREC,
                             6824 ; 22   |#endif
                             6825 ; 23   |    MENU_LINEIN,
                             6826 ; 24   |#ifdef AUDIBLE
                             6827 ; 25   |        MENU_AUDIBLE,
                             6828 ; 26   |#endif
                             6829 ; 27   |#endif  // #ifdef USE_PLAYLIST5
                             6830 ; 28   |*/
                             6831 ; 29   |
                             6832 ; 30   |#ifdef USE_PLAYLIST3
                             6833 ; 31   |#ifdef AUDIBLE
                             6834 ; 32   |        MENU_AUDIBLE,
                             6835 ; 33   |#endif
                             6836 ; 34   |#endif
                             6837 ; 35   |#ifndef REMOVE_FM
                             6838 ; 36   |        MENU_FMTUNER,
                             6839 ; 37   |#endif
                             6840 ; 38   |        MENU_RECORD,
                             6841 ; 39   |        MENU_SETTINGS,
                             6842 ; 40   |        MENU_SHUTDOWN,
                             6843 ; 41   |        MENU_TIME_DATE,
                             6844 ; 42   |        MENU_AB,
                             6845 ; 43   |        MENU_DELETE,
                             6846 ; 44   |        MENU_ABOUT,
                             6847 ; 45   |#ifdef SPECTRUM_ANAL
                             6848 ; 46   |        MENU_SPECTROGRAM,
                             6849 ; 47   |#endif
                             6850 ; 48   |        MENU_MAIN_EXIT
                             6851 ; 49   |};
                             6852 ; 50   |
                             6853 ; 51   |
                             6854 ; 52   |#define MAINMENU_LAST    MENU_MAIN_EXIT
                             6855 ; 53   |#define MAINMENU_COUNT  (MAINMENU_LAST+1)
                             6856 ; 54   |
                             6857 ; 55   |#ifdef S6B33B0A_LCD
                             6858 ; 56   |#define MAINMENU_PAGE1_COUNT    MAINMENU_COUNT
                             6859 ; 57   |#endif
                             6860 ; 58   |
                             6861 ; 59   |#ifdef SED15XX_LCD
                             6862 ; 60   |#define MAINMENU_PAGE1_COUNT    4
                             6863 ; 61   |#endif
                             6864 ; 62   |
                             6865 ; 63   |
                             6866 ; 64   |// Media error constants
                             6867 ; 65   |// Each device gets 5 bits for error codes, in the global g_FSinitErrorCode.
                             6868 ; 66   |// If there is no external device, the internal device uses bits 0-4.  If there
                             6869 ; 67   |// is an external device, the internal device is shifted up 5 bits (to bits 5-9),
                             6870 ; 68   |// and the external device uses bits 0-4.  (More than one external device is not
                             6871 ; 69   |// supported in the current code.)
                             6872 ; 70   |
                             6873 ; 71   |#define ERROR_ON_INTERNAL_MEDIA         0x0F
                             6874 ; 72   |#define INTERNAL_MEDIA_NOT_SIGMATEL_FORMAT      0x010
                             6875 ; 73   |
                             6876 ; 74   |#define ERROR_ON_EXTERNAL_MEDIA                         0x0E
                             6877 ; 75   |#define EXTERNAL_MEDIA_NOT_SIGMATEL_FORMAT      0x010
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 113

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6878 ; 76   |
                             6879 ; 77   |#define ERROR_ON_INTERNAL_MEDIA_SHIFTED         0x01E0
                             6880 ; 78   |#define INTERNAL_MEDIA_NOT_SIGMATEL_FORMAT_SHIFTED      0x020
                             6881 ; 79   |
                             6882 ; 80   |#ifdef USE_PLAYLIST3
                             6883 ; 81   |extern INT  g_current_index;
                             6884 ; 82   |extern INT  g_current_size;
                             6885 ; 83   |extern _packed BYTE g_strMusicLib_FilePath[];
                             6886 ; 84   |extern _packed BYTE g_strMusicLib_SecTable_FilePath[];
                             6887 ; 85   |extern INT  g_iFileHandle;
                             6888 ; 86   |extern INT  g_ML_save_on_exit;
                             6889 ; 87   |extern WORD g_rsrc_TimeDate_CodeBank;
                             6890 ; 88   |#endif  // USE_PLAYLIST3
                             6891 ; 89   |
                             6892 ; 90   |////////////////////////////////////////////////////////////////////////////////
                             6893 ; 91   |//  Prototypes
                             6894 ; 92   |////////////////////////////////////////////////////////////////////////////////
                             6895 ; 93   |#ifdef USE_PLAYLIST3
                             6896 ; 94   |void _reentrant ML_building_engine_init(void);
                             6897 ; 95   |#endif  // USE_PLAYLIST3
                             6898 ; 96   |
                             6899 ; 97   |#endif
                             6900 
                             6902 
                             6903 ; 17   |#include "deletemenu.h"
                             6904 
                             6906 
                             6907 ; 1    |#ifndef _SYSTEM_MENU_H
                             6908 ; 2    |#define _SYSTEM_MENU_H
                             6909 ; 3    |
                             6910 ; 4    |// menus in settings menu
                             6911 ; 5    |// defines order of selection
                             6912 ; 6    |#define DELETEMENU_FIRST                0
                             6913 ; 7    |//#define MENU_DELETE_MUSIC             0
                             6914 ; 8    |//#define MENU_DELETE_MUSIC_ALL 1
                             6915 ; 9    |#define MENU_DELETE_VOICE               0
                             6916 ; 10   |#define MENU_DELETE_VOICE_ALL   1
                             6917 ; 11   |#define MENU_DELETE_EXIT                2
                             6918 ; 12   |#define DELETEMENU_LAST                 2
                             6919 ; 13   |#define DELETEMENU_COUNT        DELETEMENU_LAST+1
                             6920 ; 14   |// TOVERIFY2 ln below should be changed to 3 right?
                             6921 ; 15   |#define MENU_DELETE_MAIN                5
                             6922 ; 16   |#ifdef USE_PLAYLIST3
                             6923 ; 17   |#define MENU_DELETE_FM                  6
                             6924 ; 18   |#define MENU_DELETE_FM_ALL              7
                             6925 ; 19   |#define MENU_DELETE_LINEIN      8
                             6926 ; 20   |#define MENU_DELETE_LINEIN_ALL  9
                             6927 ; 21   |
                             6928 ; 22   |typedef enum{
                             6929 ; 23   |    VOICE_SUBMENU,
                             6930 ; 24   |    FMREC_SUBMENU,
                             6931 ; 25   |    LINEIN_SUBMENU,
                             6932 ; 26   |    MAXSUBMENU
                             6933 ; 27   |} DELVOICESUBMENU;
                             6934 ; 28   |
                             6935 ; 29   |#endif  // #ifdef USE_PLAYLIST3
                             6936 ; 30   |
                             6937 ; 31   |#ifndef NO
                             6938 ; 32   |#define NO      0
                             6939 ; 33   |#endif
                             6940 ; 34   |
                             6941 ; 35   |#ifndef YES
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 114

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6942 ; 36   |#define YES 1
                             6943 ; 37   |#endif
                             6944 ; 38   |#endif
                             6945 
                             6947 
                             6948 ; 18   |#include "const.h"
                             6949 
                             6951 
                             6952 ; 1    |//******************************************************************************
                             6953 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                             6954 ; 3    |//
                             6955 ; 4    |//  Use these values to reduce memory
                             6956 ; 5    |//;******************************************************************************
                             6957 ; 6    |
                             6958 ; 7    |#ifndef _CONST_H
                             6959 ; 8    |#define _CONST_H
                             6960 ; 9    |
                             6961 ; 10   |
                             6962 ; 11   |extern unsigned int _Y const_zero;    
                             6963 ; 12   |extern unsigned int _Y const_one;     
                             6964 ; 13   |extern unsigned int _Y const_two;     
                             6965 ; 14   |extern unsigned int _Y const_three;   
                             6966 ; 15   |extern unsigned int _Y const_four;    
                             6967 ; 16   |extern unsigned int _Y const_eight;   
                             6968 ; 17   |extern unsigned int _Y const_12;   
                             6969 ; 18   |extern unsigned int _Y const_16;   
                             6970 ; 19   |extern unsigned int _Y const_24;      
                             6971 ; 20   |extern unsigned int _Y const_32;     
                             6972 ; 21   |extern unsigned int _Y const_minus_1; 
                             6973 ; 22   |extern unsigned int _Y fract_one;     
                             6974 ; 23   |
                             6975 ; 24   |#endif
                             6976 
                             6978 
                             6979 ; 19   |#include "FileSystem.h"
                             6980 
                             6982 
                             6983 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             6984 ; 2    |//  Copyright(C) SigmaTel, Inc. 2001
                             6985 ; 3    |//
                             6986 ; 4    |//  File        : FileSystem.h
                             6987 ; 5    |//  Description : Header File for File System
                             6988 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             6989 ; 7    |
                             6990 ; 8    |#ifndef _FILESYSTEM_H
                             6991 ; 9    |#define _FILESYSTEM_H
                             6992 ; 10   |
                             6993 ; 11   |#include "types.h"
                             6994 
                             6996 
                             6997 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             6998 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             6999 ; 3    |//
                             7000 ; 4    |// Filename: types.h
                             7001 ; 5    |// Description: Standard data types
                             7002 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             7003 ; 7    |
                             7004 ; 8    |#ifndef _TYPES_H
                             7005 ; 9    |#define _TYPES_H
                             7006 ; 10   |
                             7007 ; 11   |// TODO:  move this outta here!
                             7008 ; 12   |#if !defined(NOERROR)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 115

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7009 ; 13   |#define NOERROR 0
                             7010 ; 14   |#define SUCCESS 0
                             7011 ; 15   |#endif 
                             7012 ; 16   |#if !defined(SUCCESS)
                             7013 ; 17   |#define SUCCESS  0
                             7014 ; 18   |#endif
                             7015 ; 19   |#if !defined(ERROR)
                             7016 ; 20   |#define ERROR   -1
                             7017 ; 21   |#endif
                             7018 ; 22   |#if !defined(FALSE)
                             7019 ; 23   |#define FALSE 0
                             7020 ; 24   |#endif
                             7021 ; 25   |#if !defined(TRUE)
                             7022 ; 26   |#define TRUE  1
                             7023 ; 27   |#endif
                             7024 ; 28   |
                             7025 ; 29   |#if !defined(NULL)
                             7026 ; 30   |#define NULL 0
                             7027 ; 31   |#endif
                             7028 ; 32   |
                             7029 ; 33   |#define MAX_INT     0x7FFFFF
                             7030 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             7031 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             7032 ; 36   |#define MAX_ULONG   (-1) 
                             7033 ; 37   |
                             7034 ; 38   |#define WORD_SIZE   24              // word size in bits
                             7035 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             7036 ; 40   |
                             7037 ; 41   |
                             7038 ; 42   |#define BYTE    unsigned char       // btVarName
                             7039 ; 43   |#define CHAR    signed char         // cVarName
                             7040 ; 44   |#define USHORT  unsigned short      // usVarName
                             7041 ; 45   |#define SHORT   unsigned short      // sVarName
                             7042 ; 46   |#define WORD    unsigned int        // wVarName
                             7043 ; 47   |#define INT     signed int          // iVarName
                             7044 ; 48   |#define DWORD   unsigned long       // dwVarName
                             7045 ; 49   |#define LONG    signed long         // lVarName
                             7046 ; 50   |#define BOOL    unsigned int        // bVarName
                             7047 ; 51   |#define FRACT   _fract              // frVarName
                             7048 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             7049 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             7050 ; 54   |#define FLOAT   float               // fVarName
                             7051 ; 55   |#define DBL     double              // dVarName
                             7052 ; 56   |#define ENUM    enum                // eVarName
                             7053 ; 57   |#define CMX     _complex            // cmxVarName
                             7054 ; 58   |typedef WORD UCS3;                   // 
                             7055 ; 59   |
                             7056 ; 60   |#define UINT16  unsigned short
                             7057 ; 61   |#define UINT8   unsigned char   
                             7058 ; 62   |#define UINT32  unsigned long
                             7059 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             7060 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             7061 ; 65   |#define WCHAR   UINT16
                             7062 ; 66   |
                             7063 ; 67   |//UINT128 is 16 bytes or 6 words
                             7064 ; 68   |typedef struct UINT128_3500 {   
                             7065 ; 69   |    int val[6];     
                             7066 ; 70   |} UINT128_3500;
                             7067 ; 71   |
                             7068 ; 72   |#define UINT128   UINT128_3500
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 116

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7069 ; 73   |
                             7070 ; 74   |// Little endian word packed byte strings:   
                             7071 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7072 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7073 ; 77   |// Little endian word packed byte strings:   
                             7074 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7075 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7076 ; 80   |
                             7077 ; 81   |// Declare Memory Spaces To Use When Coding
                             7078 ; 82   |// A. Sector Buffers
                             7079 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             7080 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             7081 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             7082 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             7083 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             7084 ; 88   |// B. Media DDI Memory
                             7085 ; 89   |#define MEDIA_DDI_MEM _Y
                             7086 ; 90   |
                             7087 ; 91   |
                             7088 ; 92   |
                             7089 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             7090 ; 94   |// Examples of circular pointers:
                             7091 ; 95   |//    INT CIRC cpiVarName
                             7092 ; 96   |//    DWORD CIRC cpdwVarName
                             7093 ; 97   |
                             7094 ; 98   |#define RETCODE INT                 // rcVarName
                             7095 ; 99   |
                             7096 ; 100  |// generic bitfield structure
                             7097 ; 101  |struct Bitfield {
                             7098 ; 102  |    unsigned int B0  :1;
                             7099 ; 103  |    unsigned int B1  :1;
                             7100 ; 104  |    unsigned int B2  :1;
                             7101 ; 105  |    unsigned int B3  :1;
                             7102 ; 106  |    unsigned int B4  :1;
                             7103 ; 107  |    unsigned int B5  :1;
                             7104 ; 108  |    unsigned int B6  :1;
                             7105 ; 109  |    unsigned int B7  :1;
                             7106 ; 110  |    unsigned int B8  :1;
                             7107 ; 111  |    unsigned int B9  :1;
                             7108 ; 112  |    unsigned int B10 :1;
                             7109 ; 113  |    unsigned int B11 :1;
                             7110 ; 114  |    unsigned int B12 :1;
                             7111 ; 115  |    unsigned int B13 :1;
                             7112 ; 116  |    unsigned int B14 :1;
                             7113 ; 117  |    unsigned int B15 :1;
                             7114 ; 118  |    unsigned int B16 :1;
                             7115 ; 119  |    unsigned int B17 :1;
                             7116 ; 120  |    unsigned int B18 :1;
                             7117 ; 121  |    unsigned int B19 :1;
                             7118 ; 122  |    unsigned int B20 :1;
                             7119 ; 123  |    unsigned int B21 :1;
                             7120 ; 124  |    unsigned int B22 :1;
                             7121 ; 125  |    unsigned int B23 :1;
                             7122 ; 126  |};
                             7123 ; 127  |
                             7124 ; 128  |union BitInt {
                             7125 ; 129  |        struct Bitfield B;
                             7126 ; 130  |        int        I;
                             7127 ; 131  |};
                             7128 ; 132  |
                             7129 ; 133  |#define MAX_MSG_LENGTH 10
                             7130 ; 134  |struct CMessage
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 117

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7131 ; 135  |{
                             7132 ; 136  |        unsigned int m_uLength;
                             7133 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             7134 ; 138  |};
                             7135 ; 139  |
                             7136 ; 140  |typedef struct {
                             7137 ; 141  |    WORD m_wLength;
                             7138 ; 142  |    WORD m_wMessage;
                             7139 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             7140 ; 144  |} Message;
                             7141 ; 145  |
                             7142 ; 146  |struct MessageQueueDescriptor
                             7143 ; 147  |{
                             7144 ; 148  |        int *m_pBase;
                             7145 ; 149  |        int m_iModulo;
                             7146 ; 150  |        int m_iSize;
                             7147 ; 151  |        int *m_pHead;
                             7148 ; 152  |        int *m_pTail;
                             7149 ; 153  |};
                             7150 ; 154  |
                             7151 ; 155  |struct ModuleEntry
                             7152 ; 156  |{
                             7153 ; 157  |    int m_iSignaledEventMask;
                             7154 ; 158  |    int m_iWaitEventMask;
                             7155 ; 159  |    int m_iResourceOfCode;
                             7156 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             7157 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             7158 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             7159 ; 163  |    int m_uTimeOutHigh;
                             7160 ; 164  |    int m_uTimeOutLow;
                             7161 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             7162 ; 166  |};
                             7163 ; 167  |
                             7164 ; 168  |union WaitMask{
                             7165 ; 169  |    struct B{
                             7166 ; 170  |        unsigned int m_bNone     :1;
                             7167 ; 171  |        unsigned int m_bMessage  :1;
                             7168 ; 172  |        unsigned int m_bTimer    :1;
                             7169 ; 173  |        unsigned int m_bButton   :1;
                             7170 ; 174  |    } B;
                             7171 ; 175  |    int I;
                             7172 ; 176  |} ;
                             7173 ; 177  |
                             7174 ; 178  |
                             7175 ; 179  |struct Button {
                             7176 ; 180  |        WORD wButtonEvent;
                             7177 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             7178 ; 182  |};
                             7179 ; 183  |
                             7180 ; 184  |struct Message {
                             7181 ; 185  |        WORD wMsgLength;
                             7182 ; 186  |        WORD wMsgCommand;
                             7183 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             7184 ; 188  |};
                             7185 ; 189  |
                             7186 ; 190  |union EventTypes {
                             7187 ; 191  |        struct CMessage msg;
                             7188 ; 192  |        struct Button Button ;
                             7189 ; 193  |        struct Message Message;
                             7190 ; 194  |};
                             7191 ; 195  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 118

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7192 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             7193 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             7194 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             7195 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             7196 ; 200  |
                             7197 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             7198 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             7199 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             7200 ; 204  |
                             7201 ; 205  |#if DEBUG
                             7202 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             7203 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             7204 ; 208  |#else 
                             7205 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             7206 ; 210  |#define DebugBuildAssert(x)    
                             7207 ; 211  |#endif
                             7208 ; 212  |
                             7209 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             7210 ; 214  |//  #pragma asm
                             7211 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             7212 ; 216  |//  #pragma endasm
                             7213 ; 217  |
                             7214 ; 218  |
                             7215 ; 219  |#ifdef COLOR_262K
                             7216 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             7217 ; 221  |#elif defined(COLOR_65K)
                             7218 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             7219 ; 223  |#else
                             7220 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             7221 ; 225  |#endif
                             7222 ; 226  |    
                             7223 ; 227  |#endif // #ifndef _TYPES_H
                             7224 
                             7226 
                             7227 ; 12   |
                             7228 ; 13   |
                             7229 ; 14   |// File attributes
                             7230 ; 15   |#ifndef _FS_ATTRIBUTES
                             7231 ; 16   |#define _FS_ATTRIBUTES
                             7232 ; 17   |#define READ        1
                             7233 ; 18   |#define WRITE       2
                             7234 ; 19   |#define WRITE_PLUS  3
                             7235 ; 20   |#define APPEND      4
                             7236 ; 21   |#define TRUNCATE    8
                             7237 ; 22   |#define CREATE      16
                             7238 ; 23   |#endif
                             7239 ; 24   |
                             7240 ; 25   |//#ifndef FAT12
                             7241 ; 26   |//#define FAT12   1
                             7242 ; 27   |//#endif
                             7243 ; 28   |//
                             7244 ; 29   |#ifndef FAT16
                             7245 ; 30   |#define FAT16   2
                             7246 ; 31   |#endif
                             7247 ; 32   |
                             7248 ; 33   |#define MEM_SPACE_P 0x100000
                             7249 ; 34   |#define MEM_SPACE_Y 0x400000
                             7250 ; 35   |#define MEM_SPACE_X 0x800000
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 119

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7251 ; 36   |
                             7252 ; 37   |#define FILE_SYS_MODE_READ  0
                             7253 ; 38   |#define FILE_SYS_MODE_WRITE 1
                             7254 ; 39   | 
                             7255 ; 40   |#define ATTR_READ_ONLY      0x01
                             7256 ; 41   |#define ATTR_HIDDEN         0x02
                             7257 ; 42   |#define ATTR_SYSTEM         0x04
                             7258 ; 43   |#define ATTR_VOLUME_ID      0x08
                             7259 ; 44   |#define ATTR_DIRECTORY      0x10
                             7260 ; 45   |#define ATTR_ARCHIVE        0x20
                             7261 ; 46   |#define ATTR_LONG_NAME      ATTR_READ_ONLY|ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID
                             7262 ; 47   |
                             7263 ; 48   |#define SEEK_SET           -1
                             7264 ; 49   |#define SEEK_CUR            0
                             7265 ; 50   |#define SEEK_END            1
                             7266 ; 51   |
                             7267 ; 52   |#define DEVICE_INSTALLED              (WORD)(0)
                             7268 ; 53   |#define DEVICE_NOT_FOUND              (WORD)(2)
                             7269 ; 54   |#define INVALID_FILESYSTEM                        (WORD)(3)
                             7270 ; 55   |#define DEVICE_INVALID                (WORD)(-1)
                             7271 ; 56   |#define DEVICE_ERROR_WRITE_PROTECTED  (WORD)(-2)
                             7272 ; 57   |
                             7273 ; 58   |#define MEDIA_SIZE_TOTAL_SECTORS    0
                             7274 ; 59   |#define MEDIA_SIZE_TOTAL_BYTES      1
                             7275 ; 60   |#define MEDIA_SIZE_BYTES_PER_SECTOR 2
                             7276 ; 61   |#define MEDIA_SIZE_IN_MEGABYTES     3     
                             7277 ; 62   |
                             7278 ; 63   |#define READ_TYPE_NORMAL            0
                             7279 ; 64   |#define READ_TYPE_FAT               1
                             7280 ; 65   |#define READ_TYPE_RAW               2
                             7281 ; 66   |
                             7282 ; 67   |
                             7283 ; 68   |#ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                             7284 ; 69   |    #define WRITE_TYPE_RANDOM                   0
                             7285 ; 70   |    #define WRITE_TYPE_SEQ_FIRST                1
                             7286 ; 71   |    #define WRITE_TYPE_SEQ_NEXT                 2
                             7287 ; 72   |    #define WRITE_TYPE_RESET_CLEAN_UP           3
                             7288 ; 73   |    #define WRITE_TYPE_PARTIAL_SEQ_FIRST        4
                             7289 ; 74   |    #define WRITE_TYPE_PARTIAL_SEQ_NEXT         5
                             7290 ; 75   |    #define WRITE_TYPE_PARTIAL_SEQ_LAST         6
                             7291 ; 76   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                             7292 ; 77   |        #define WRITE_TYPE_RANDOM_RAW               7
                             7293 ; 78   |        #define WRITE_TYPE_SEQ_FIRST_RAW            8
                             7294 ; 79   |        #define WRITE_TYPE_SEQ_NEXT_RAW             9
                             7295 ; 80   |        #define WRITE_TYPE_PARTIAL_SEQ_FIRST_RAW    10
                             7296 ; 81   |        #define WRITE_TYPE_PARTIAL_SEQ_NEXT_RAW     11
                             7297 ; 82   |        #define WRITE_TYPE_PARTIAL_SEQ_LAST_RAW     12
                             7298 ; 83   |    #endif
                             7299 ; 84   |#else
                             7300 ; 85   |    #define WRITE_TYPE_RANDOM                   0
                             7301 ; 86   |    #define WRITE_TYPE_SEQ_FIRST                1
                             7302 ; 87   |    #define WRITE_TYPE_SEQ_NEXT                 2
                             7303 ; 88   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                             7304 ; 89   |        #define WRITE_TYPE_RANDOM_RAW               3
                             7305 ; 90   |        #define WRITE_TYPE_SEQ_FIRST_RAW            4
                             7306 ; 91   |        #define WRITE_TYPE_SEQ_NEXT_RAW             5
                             7307 ; 92   |    #endif
                             7308 ; 93   |#endif
                             7309 ; 94   |    #define WRITE_TYPE_UNDEFINED 0xFFFFFF
                             7310 ; 95   |
                             7311 ; 96   |
                             7312 ; 97   |#ifndef MAX_FILENAME_LENGTH
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 120

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7313 ; 98   |#define MAX_FILENAME_LENGTH 256
                             7314 ; 99   |#endif
                             7315 ; 100  |
                             7316 ; 101  |typedef struct {
                             7317 ; 102  |    WORD wNumberOfZones;
                             7318 ; 103  |    WORD wSizeInMegaBytes;
                             7319 ; 104  |} SMARTMEDIA_CHIP_INFO;
                             7320 ; 105  |
                             7321 ; 106  |typedef struct {
                             7322 ; 107  |    WORD wBootIdentification;
                             7323 ; 108  |    WORD wStartHeadNumber;
                             7324 ; 109  |    WORD wStartSectorNumber;
                             7325 ; 110  |    WORD wStartCylinderNumber;
                             7326 ; 111  |    WORD wSystemIdentification;
                             7327 ; 112  |    WORD wEndHeadNumber;
                             7328 ; 113  |    WORD wEndSectorNumber;
                             7329 ; 114  |    WORD wEndCylinderNumber;
                             7330 ; 115  |    WORD wStartLogicalSectorNumberHigh;
                             7331 ; 116  |    WORD wStartLogicalSectorNumberLow;
                             7332 ; 117  |    WORD wPartitionSizeHigh;
                             7333 ; 118  |    WORD wPartitionSizeLow;
                             7334 ; 119  |} SMARTMEDIA_PARTITION_TABLE;
                             7335 ; 120  |
                             7336 ; 121  |typedef struct {
                             7337 ; 122  |    WORD wWord0;
                             7338 ; 123  |    WORD wWord1;
                             7339 ; 124  |    WORD wWord2;
                             7340 ; 125  |} SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME;
                             7341 ; 126  |
                             7342 ; 127  |typedef struct {
                             7343 ; 128  |    WORD wWord0;
                             7344 ; 129  |    WORD wWord1;
                             7345 ; 130  |} SMARTMEDIA_CIS_IDI_PRODUCT_NAME;
                             7346 ; 131  |
                             7347 ; 132  |typedef struct {
                             7348 ; 133  |    WORD wWord0;
                             7349 ; 134  |    WORD wWord1;
                             7350 ; 135  |} SMARTMEDIA_CIS_IDI_PRODUCT_VERSION;
                             7351 ; 136  |
                             7352 ; 137  |typedef struct {
                             7353 ; 138  |    WORD wWord0;
                             7354 ; 139  |    WORD wWord1;
                             7355 ; 140  |    WORD wWord2;
                             7356 ; 141  |    WORD wWord3;
                             7357 ; 142  |} SMARTMEDIA_CIS_IDI_SERIAL_NUMBER;
                             7358 ; 143  |
                             7359 ; 144  |typedef struct {
                             7360 ; 145  |    WORD wWord0;
                             7361 ; 146  |} SMARTMEDIA_CIS_IDI_MODEL_NUMBER;
                             7362 
                             7385 
                             7386 ; 147  |
                             7387 ; 148  |typedef struct {
                             7388 ; 149  |    SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME ManufacturerName;
                             7389 ; 150  |    SMARTMEDIA_CIS_IDI_PRODUCT_NAME ProductName;
                             7390 ; 151  |    SMARTMEDIA_CIS_IDI_PRODUCT_VERSION ProductVersion;
                             7391 ; 152  |    SMARTMEDIA_CIS_IDI_SERIAL_NUMBER SerialNumber;
                             7392 ; 153  |    SMARTMEDIA_CIS_IDI_MODEL_NUMBER ModelNumber;
                             7393 ; 154  |} SMARTMEDIA_CIS_IDI_TABLE;
                             7394 
                             7416 
                             7417 ; 155  |   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 121

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7418 ; 156  |typedef struct {
                             7419 ; 157  |    WORD wPageSizeInBytes;
                             7420 ; 158  |    WORD wRedundantAreaSizeInBytes;
                             7421 ; 159  |    WORD wNumberOfPagesPerBlock;
                             7422 ; 160  |    WORD wNumberOfBlocksPerZone;
                             7423 ; 161  |    WORD wNumberOfZonesInMedia;
                             7424 ; 162  |    WORD wMediaSizeInMBytes;
                             7425 ; 163  |    SMARTMEDIA_PARTITION_TABLE * pPartitionTable;
                             7426 ; 164  |    SMARTMEDIA_CIS_IDI_TABLE * pCisIdiTable;
                             7427 ; 165  |    WORD wMediaFlagStatus;
                             7428 ; 166  |    WORD wNumberOfBlocksToTheCisIdiBlock;
                             7429 ; 167  |    WORD wTotalNumberOfPhysicalBlocks;
                             7430 ; 168  |    WORD wNumberOfSystemBlocks;
                             7431 ; 169  |} SMARTMEDIA_ENTRY_TABLE;
                             7432 ; 170  |
                             7433 ; 171  |typedef struct {
                             7434 ; 172  |    WORD wDevice;        
                             7435 ; 173  |    WORD wDirtyBlockFlag;
                             7436 ; 174  |    WORD wCleanTailFlag; 
                             7437 ; 175  |    WORD wLogDOSPage;    
                             7438 ; 176  |    WORD wSrcLogBlock;   
                             7439 ; 177  |    WORD wSrcPhyBlock;   
                             7440 ; 178  |    WORD wDestPhyBlock;  
                             7441 ; 179  |    WORD wStartSrcPage;  
                             7442 ; 180  |    WORD wStartDestPage; 
                             7443 ; 181  |    WORD wPagesToCopy;   
                             7444 ; 182  |    WORD wReplaceBuff;   
                             7445 ; 183  |    WORD wReplaceRdnt;
                             7446 ; 184  |    #ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                             7447 ; 185  |        WORD wFirstCount;
                             7448 ; 186  |        WORD wNextCount;
                             7449 ; 187  |        WORD wLastCount;
                             7450 ; 188  |    #endif
                             7451 ; 189  |} SMARTMEDIA_FWPPS_TABLE;
                             7452 ; 190  |
                             7453 ; 191  |typedef struct {
                             7454 ; 192  |    WORD wWord0;
                             7455 ; 193  |    WORD wWord1;
                             7456 ; 194  |    WORD wWord2;
                             7457 ; 195  |    WORD wWord3;
                             7458 ; 196  |} DIRECTORY_NAME;
                             7459 ; 197  |
                             7460 ; 198  |typedef struct {
                             7461 ; 199  |    WORD wWord0;
                             7462 ; 200  |    WORD wWord1;
                             7463 ; 201  |} DIRECTORY_EXTENSION;
                             7464 ; 202  |
                             7465 ; 203  |typedef struct {
                             7466 ; 204  |    WORD wWord0;
                             7467 ; 205  |    WORD wWord1;
                             7468 ; 206  |} DIRECTORY_SIZE;
                             7469 
                             7484 
                             7485 ; 207  |
                             7486 ; 208  |typedef struct {
                             7487 ; 209  |    DIRECTORY_NAME Name;
                             7488 ; 210  |    DIRECTORY_EXTENSION Extension;
                             7489 ; 211  |    WORD wAttribute;
                             7490 ; 212  |    WORD wReserved[4];
                             7491 ; 213  |    WORD wCreationTime;
                             7492 ; 214  |    WORD wCreationData;
                             7493 ; 215  |    WORD wFirstCluster;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 122

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7494 ; 216  |    DIRECTORY_SIZE Size;
                             7495 ; 217  |    WORD wCurrentCluster;
                             7496 ; 218  |    WORD wPointer;
                             7497 ; 219  |    WORD wRecord;
                             7498 ; 220  |    WORD wRd;
                             7499 ; 221  |} DIRECTORY_FILE_CONTROL_BLOCK;
                             7500 ; 222  |
                             7501 ; 223  |// TODO:  clean this up.  There are two versions.
                             7502 ; 224  |struct FCB
                             7503 ; 225  |{
                             7504 ; 226  |    _packed BYTE m_szFileName[9];       //0-2
                             7505 ; 227  |    int     m_wReserved;                //3
                             7506 ; 228  |    _packed BYTE m_szExt[4];            //4-5
                             7507 ; 229  |    int     m_wAttributes;              //6
                             7508 ; 230  |    int     m_wReserved2[4];            //7,8,9,a
                             7509 ; 231  |    int     m_wTimeofCreation;          //b
                             7510 ; 232  |    int     m_wDateofCreation;          //c
                             7511 ; 233  |    int     m_wFirstCluster;            //d
                             7512 ; 234  |    int     m_wFileSizeHigh;            //e
                             7513 ; 235  |    int     m_wFileSizeLow;             //f
                             7514 ; 236  |};
                             7515 
                             7531 
                             7532 ; 237  |
                             7533 ; 238  |
                             7534 ; 239  |typedef struct {
                             7535 ; 240  |    WORD wFirstClusterCurrentDirectory;
                             7536 ; 241  |    WORD wFirstClusterParentDirectory;
                             7537 ; 242  |    WORD wAbsSectorCurrentlyCached;
                             7538 ; 243  |    WORD wCurrentRelativeSector;
                             7539 ; 244  |    WORD wNumberOfSectors;
                             7540 ; 245  |    WORD wCurrentRecordLoadedInDcb;
                             7541 ; 246  |    WORD wBufferedRecord;
                             7542 ; 247  |    WORD wMaxNumberRecordsCurrentDirectory;
                             7543 ; 248  |    WORD * pwPointerToBuffer;
                             7544 ; 249  |    WORD * pwPointerToPath;
                             7545 ; 250  |    DIRECTORY_FILE_CONTROL_BLOCK * pDirFcb;
                             7546 ; 251  |} DIRECTORY_CONTROL_BLOCK;
                             7547 ; 252  |
                             7548 ; 253  |typedef struct {
                             7549 ; 254  |    WORD wWord0;
                             7550 ; 255  |    WORD wWord1;
                             7551 ; 256  |    WORD wWord2;
                             7552 ; 257  |    WORD wWord3;
                             7553 ; 258  |} FILE_NAME;
                             7554 ; 259  |
                             7555 ; 260  |typedef struct {
                             7556 ; 261  |    WORD wWord0;
                             7557 ; 262  |    WORD wWord1;
                             7558 ; 263  |} FILE_EXTENSION;
                             7559 ; 264  |
                             7560 ; 265  |typedef struct {
                             7561 ; 266  |    WORD wWord0;
                             7562 ; 267  |    WORD wWord1;
                             7563 ; 268  |} FILE_SIZE;
                             7564 ; 269  |
                             7565 ; 270  |typedef union {
                             7566 ; 271  |    struct {
                             7567 ; 272  |        int Read        :1;
                             7568 ; 273  |        int Write       :1;
                             7569 ; 274  |        int Append      :1;
                             7570 ; 275  |        int Truncate    :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 123

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7571 ; 276  |        int Create      :1;
                             7572 ; 277  |        int Rsrv        :3;
                             7573 ; 278  |        int Mode        :8;
                             7574 ; 279  |        int Device      :8;
                             7575 ; 280  |    } B;
                             7576 ; 281  |    int I;
                             7577 ; 282  |} FILE_FLAGS;
                             7578 ; 283  |
                             7579 ; 284  |typedef struct {
                             7580 ; 285  |    WORD wWord0;
                             7581 ; 286  |    WORD wWord1;
                             7582 ; 287  |} FILE_BYTE_CURRENT;
                             7583 
                             7623 
                             7624 ; 288  |
                             7625 ; 289  |typedef struct {
                             7626 ; 290  |    FILE_NAME Name;
                             7627 ; 291  |    FILE_EXTENSION Extension;
                             7628 ; 292  |    WORD wAttributes;
                             7629 ; 293  |    WORD wReserved[4];
                             7630 ; 294  |    WORD wCreationTime;
                             7631 ; 295  |    WORD wCreationData;
                             7632 ; 296  |    WORD wFirstCluster;
                             7633 ; 297  |    FILE_SIZE Size;
                             7634 ; 298  |    WORD wCurrentCluster;
                             7635 ; 299  |    WORD wPointer;
                             7636 ; 300  |    WORD wRecord;
                             7637 ; 301  |    WORD wRd;
                             7638 ; 302  |    FILE_FLAGS Flags;
                             7639 ; 303  |    FILE_BYTE_CURRENT FcbByteCurrent;
                             7640 ; 304  |    WORD wFcbFlagEndOfCx;
                             7641 ; 305  |} FILE_CONTROL_BLOCK;    
                             7642 ; 306  |
                             7643 ; 307  |typedef struct {
                             7644 ; 308  |    WORD wWord0;
                             7645 ; 309  |    WORD wWord1;
                             7646 ; 310  |    WORD wWord2;
                             7647 ; 311  |    WORD wWord3;
                             7648 ; 312  |} VOLUME_LABEL;
                             7649 ; 313  |
                             7650 ; 314  |typedef struct {
                             7651 ; 315  |    WORD wFATPhysicalBlock1;
                             7652 ; 316  |    WORD wFATPhysicalBlock2;
                             7653 ; 317  |    WORD wFATPhysicalBlock3;
                             7654 ; 318  |    WORD wFATPhysicalBlock4;
                             7655 ; 319  |} FAT_PHYSICAL_BLOCK_LIST;
                             7656 
                             7663 
                             7664 ; 320  |
                             7665 ; 321  |typedef struct {
                             7666 ; 322  |    WORD wFATSectorInCache;
                             7667 ; 323  |    WORD wLastClusterFree;
                             7668 ; 324  |    WORD wNumberOfUsedClusters;
                             7669 ; 325  |    WORD wNumberOfFreeClusters;
                             7670 ; 326  |    WORD wNumberOfBadClusters;
                             7671 ; 327  |    WORD wNumberOfReservedClusters;
                             7672 ; 328  |    WORD wControl;
                             7673 ; 329  |    WORD * pwSectorCache;
                             7674 ; 330  |    FAT_PHYSICAL_BLOCK_LIST FATPhysicalLocationList;
                             7675 ; 331  |} FAT_TABLE;
                             7676 
                             7683 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 124

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7684 ; 332  |
                             7685 ; 333  |typedef struct {
                             7686 ; 334  |    WORD wStateMediaTable;
                             7687 ; 335  |    WORD wTypeFs;
                             7688 ; 336  |    WORD wBytesPerSector;
                             7689 ; 337  |    WORD wSectorsPerCluster;
                             7690 ; 338  |    WORD wNumberOfReservedSectors;
                             7691 ; 339  |    WORD wMaximumNumberOfFATs;
                             7692 ; 340  |    WORD wMaxRootDirectoryEntries;
                             7693 ; 341  |    WORD wTotalSectors;
                             7694 ; 342  |    WORD wNumberOfFATSectors;
                             7695 ; 343  |    WORD wNumberOfSectorsPerTrack;
                             7696 ; 344  |    WORD wNumberOfHeads;
                             7697 ; 345  |    WORD wNumberOfHiddenSectorsMSB;
                             7698 ; 346  |    WORD wNumberOfHiddenSectorsLSB;
                             7699 ; 347  |    WORD wTotalSectors32MSB;
                             7700 ; 348  |    WORD wTotalSectors32LSB;
                             7701 ; 349  |    WORD wDriverNumber;
                             7702 ; 350  |    WORD wExtendedBootSignature;
                             7703 ; 351  |    WORD wVolumeIDMSB;
                             7704 ; 352  |    WORD wVolumeIDLSB;
                             7705 ; 353  |    VOLUME_LABEL VolumeLabel;
                             7706 ; 354  |    WORD * pwWriteBuffer;
                             7707 ; 355  |    WORD wPrimaryFATRelativeSector;
                             7708 ; 356  |    WORD wSecondaryFATRelativeSector;
                             7709 ; 357  |    WORD wRootDirectoryRelativeSector;
                             7710 ; 358  |    WORD wFirstSectorNumberDataZone;
                             7711 ; 359  |    WORD wMaxNumberOfFATEntries;
                             7712 ; 360  |    WORD wRootDirectorySizeInSectors;
                             7713 ; 361  |    WORD wDataAreaSizeInSectors;
                             7714 ; 362  |} MEDIA_TABLE;
                             7715 
                             7774 
                             7775 ; 363  |
                             7776 ; 364  |typedef struct {
                             7777 ; 365  |    MEDIA_TABLE * pMediaTable;
                             7778 ; 366  |    DIRECTORY_CONTROL_BLOCK * pDirectoryControlBlock;
                             7779 ; 367  |    FAT_TABLE * pFATTable;
                             7780 ; 368  |} DEVICE_CONTROL_TABLE;
                             7781 ; 369  |    
                             7782 ; 370  |typedef struct {
                             7783 ; 371  |    WORD dwTotalSizeInMegaBytes;        // dwTotalSizeInMegaBytes is limited
                             7784 ; 372  |                                        //  to 2-bytes for compatibility with
                             7785 ; 373  |                                        //  older host drivers.
                             7786 ; 374  |    DWORD dwTotalNumberOfSectors;
                             7787 ; 375  |    DWORD dwTotalNumberOfBytes;
                             7788 ; 376  |    WORD wSectorSizeInBytes;
                             7789 ; 377  |} MEDIA_SIZE;
                             7790 ; 378  |
                             7791 ; 379  |typedef struct {
                             7792 ; 380  |    BOOL    bInstalled;
                             7793 ; 381  |    INT     iPbsSectorOffset;   // from the beginning of the data drive 
                             7794 ; 382  |    DWORD   dwSize;
                             7795 ; 383  |} DATA_DRIVE_PBS_LOC;
                             7796 ; 384  |extern  INT _reentrant FSFileOpen(_packed BYTE *fname,INT attribute, INT DeviceNumber);
                             7797 ; 385  |extern  INT _reentrant FSFastOpen(DWORD Key, INT attribute);
                             7798 ; 386  |extern  INT FSFileDelete(_packed BYTE *fname,INT DeviceNumber);
                             7799 ; 387  |extern  INT FSFileCreate(_packed BYTE *fname,INT DeviceNumber);
                             7800 ; 388  |extern  INT _reentrant FSChangeDir(_packed BYTE *dirname,INT DeviceNumber);
                             7801 ; 389  |extern  INT _reentrant FSCreateDir(_packed BYTE *dirname,INT DeviceNumber);
                             7802 ; 390  |extern  INT _reentrant FSDeleteDir(_packed BYTE *dirname,INT DeviceNumber);
                             7803 ; 391  |extern  INT _reentrant FSFileAppend(_packed BYTE *fname,INT DeviceNumber);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 125

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7804 ; 392  |extern  INT _reentrant FSFileRead(INT BytestoRead, INT Handle, INT memory_type, INT modulo
                                  , WORD *buffer);
                             7805 ; 393  |extern  INT _reentrant FSFileWrite(INT wNumberBytes, INT Handle, INT memory_type, INT iMod
                                  ulo, WORD *buffer);
                             7806 ; 394  |extern  INT _reentrant FSFileClose(INT Handle);
                             7807 ; 395  |extern  LONG _reentrant FSFileSize(INT HandleNumber);
                             7808 ; 396  |extern  LONG  FSSize(INT DeviceNum, INT TYPE);   
                             7809 ; 397  |extern  INT FSFreeClusters(INT Device);
                             7810 ; 398  |extern  INT BytesPerCluster(INT Device);
                             7811 ; 399  |
                             7812 ; 400  |
                             7813 ; 401  |
                             7814 ; 402  |//extern  INT FSFileCreate(_packed BYTE *pbFileName, BYTE bDevice);
                             7815 ; 403  |//extern  INT FSFileDelete(_packed BYTE *pbFileName, BYTE bDevice);
                             7816 ; 404  |extern  INT FSFileRename(_packed BYTE *pbCurFilename, _packed BYTE *pbNewFilename, BYTE bD
                                  evice);
                             7817 ; 405  |//extern  INT _reentrant FSFileAttribute(_packed BYTE *pbFilename, WORD wAttributes, BYTE 
                                  bDevice);
                             7818 ; 406  |//extern  INT FSFileAppend(_packed BYTE *pbFileName, BYTE bDevice);
                             7819 ; 407  |//extern  INT FSFileOpen(_packed BYTE *pbFileName, WORD wAttributes, BYTE bDevice);
                             7820 ; 408  |//extern  INT FSFileClose(INT bHandle);
                             7821 ; 409  |//extern  INT FSFileRead(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WOR
                                  D *pwBuffer);
                             7822 ; 410  |//extern  INT FSFileWrite(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WO
                                  RD *pwBuffer);
                             7823 ; 411  |extern  INT _reentrant fseek( INT handle , LONG offset, INT iOrigin );
                             7824 ; 412  |extern  INT _reentrant FSFileEof(INT Handle);
                             7825 ; 413  |extern INT _reentrant FSFileAttribute(INT Attributes, _packed BYTE *fname, INT DeviceNumbe
                                  r);
                             7826 ; 414  |extern INT _reentrant FSFileAttributeClear(INT Attributes, _packed BYTE *fname, INT Device
                                  Number);
                             7827 ; 415  |//extern  LONG FSFileSize(INT bHandle);
                             7828 ; 416  |extern _asmfunc INT FSPresent(BYTE bDevice);
                             7829 ; 417  |extern _asmfunc INT FSType(BYTE bDevice);
                             7830 ; 418  |//extern LONG FSSize(WORD wDevice, WORD wReturnType);
                             7831 ; 419  |//extern INT FSChangeDir(_packed BYTE *pbDirName, BYTE bDevice);
                             7832 ; 420  |//extern INT FSCreateDir(_packed BYTE *pbDirName, BYTE bDevice);
                             7833 ; 421  |//extern INT FSDeleteDir(_packed BYTE *pbDirName, BYTE bDevice);
                             7834 ; 422  |extern _asmfunc void SysLoadFATWrite(void);
                             7835 ; 423  |extern _asmfunc INT SysUnLoadFATWrite(void);
                             7836 ; 424  |extern LONG _reentrant ftell(INT iHandle);
                             7837 ; 425  |extern _asmfunc struct FCB * ReadDirectory(int iDevice, int iEntry);
                             7838 ; 426  |
                             7839 ; 427  |#endif
                             7840 
                             7842 
                             7843 ; 20   |#include "playerstatemachine.h"
                             7844 
                             7846 
                             7847 ; 1    |#ifndef _HANDLEPLAYERSTATEMACHINE_H
                             7848 ; 2    |#define _HANDLEPLAYERSTATEMACHINE_H
                             7849 ; 3    |
                             7850 ; 4    |#ifdef USE_PLAYLIST3
                             7851 ; 5    |#include "musiclib_ghdr.h"
                             7852 
                             7854 
                             7855 ; 1    |#ifndef MUSICLIB_GHDR_H
                             7856 ; 2    |#define MUSICLIB_GHDR_H
                             7857 ; 3    |
                             7858 ; 4    |#ifdef __cplusplus
                             7859 ; 5    |extern "C" {
                             7860 ; 6    |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 126

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7861 ; 7    |
                             7862 ; 8    |/*========================================================================================
                                  ==========
                             7863 ; 9    |
                             7864 ; 10   |                                        General Description
                             7865 ; 11   |
                             7866 ; 12   |==========================================================================================
                                  ==========
                             7867 ; 13   |
                             7868 ; 14   |                               Sigmatel Inc Confidential Proprietary
                             7869 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                             7870 ; 16   |
                             7871 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                             7872 ; 18   |
                             7873 ; 19   |PRODUCT NAMES: All
                             7874 ; 20   |
                             7875 ; 21   |GENERAL DESCRIPTION:
                             7876 ; 22   |
                             7877 ; 23   |    General description of this grouping of functions.
                             7878 ; 24   |
                             7879 ; 25   |Portability: All
                             7880 ; 26   |
                             7881 ; 27   |
                             7882 ; 28   |Revision History:
                             7883 ; 29   |
                             7884 ; 30   |                         Modification        Tracking
                             7885 ; 31   |Author                       Date             Number           Description of Changes
                             7886 ; 32   |---------------------    ------------        ----------        ---------------------------
                                  ----------
                             7887 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of change
                                  s made
                             7888 ; 34   |
                             7889 ; 35   |
                             7890 ; 36   |==========================================================================================
                                  ==========
                             7891 ; 37   |                                            DESCRIPTION
                             7892 ; 38   |==========================================================================================
                                  ==========
                             7893 ; 39   |
                             7894 ; 40   |GLOBAL FUNCTIONS:
                             7895 ; 41   |    MF_global_func_name()
                             7896 ; 42   |
                             7897 ; 43   |TRACEABILITY MATRIX:
                             7898 ; 44   |    None
                             7899 ; 45   |
                             7900 ; 46   |==========================================================================================
                                  ========*/
                             7901 ; 47   |
                             7902 ; 48   |/*========================================================================================
                                  ==========
                             7903 ; 49   |                                                                Conditional Compilation Di
                                  rectives
                             7904 ; 50   |==========================================================================================
                                  ========*/
                             7905 ; 51   |#ifdef WIN32
                             7906 ; 52   |#define _PC_SIMULATION_
                             7907 ; 53   |#else
                             7908 ; 54   |#define _RUNNING_IN_EMBEDDED_
                             7909 ; 55   |#endif  // WIN32
                             7910 ; 56   |
                             7911 ; 57   |#if 1
                             7912 ; 58   |#define _NEWMUSIC_      /* install new music list */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 127

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7913 ; 59   |#endif
                             7914 ; 60   |
                             7915 ; 61   |#if 1
                             7916 ; 62   |#define _AUDIBLE_       /* install audible list */
                             7917 ; 63   |#endif
                             7918 ; 64   |
                             7919 ; 65   |#if 1
                             7920 ; 66   |#define _ONTHEGO_       /* install on the go list */
                             7921 ; 67   |#endif
                             7922 ; 68   |
                             7923 ; 69   |#ifdef PL3_FB
                             7924 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                             7925 ; 71   |#endif
                             7926 ; 72   |
                             7927 ; 73   |#if 1
                             7928 ; 74   |#define _SUPPORT_2000_SONGS_
                             7929 ; 75   |#endif
                             7930 ; 76   |
                             7931 ; 77   |/*========================================================================================
                                  ==========
                             7932 ; 78   |                                           INCLUDE FILES
                             7933 ; 79   |==========================================================================================
                                  ========*/
                             7934 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                             7935 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                             7936 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                             7937 ; 83   |#define OEM_SEEK_END    SEEK_END
                             7938 ; 84   |#else
                             7939 ; 85   |#define _X
                             7940 ; 86   |#define _Y
                             7941 ; 87   |#define _packed
                             7942 ; 88   |
                             7943 ; 89   |#define _asmfunc
                             7944 ; 90   |#define _reentrant
                             7945 ; 91   |
                             7946 ; 92   |#define OEM_SEEK_CUR    1
                             7947 ; 93   |#define OEM_SEEK_SET    0
                             7948 ; 94   |#define OEM_SEEK_END    2
                             7949 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                             7950 ; 96   |
                             7951 ; 97   |#include "types.h"
                             7952 
                             7954 
                             7955 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             7956 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             7957 ; 3    |//
                             7958 ; 4    |// Filename: types.h
                             7959 ; 5    |// Description: Standard data types
                             7960 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             7961 ; 7    |
                             7962 ; 8    |#ifndef _TYPES_H
                             7963 ; 9    |#define _TYPES_H
                             7964 ; 10   |
                             7965 ; 11   |// TODO:  move this outta here!
                             7966 ; 12   |#if !defined(NOERROR)
                             7967 ; 13   |#define NOERROR 0
                             7968 ; 14   |#define SUCCESS 0
                             7969 ; 15   |#endif 
                             7970 ; 16   |#if !defined(SUCCESS)
                             7971 ; 17   |#define SUCCESS  0
                             7972 ; 18   |#endif
                             7973 ; 19   |#if !defined(ERROR)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 128

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7974 ; 20   |#define ERROR   -1
                             7975 ; 21   |#endif
                             7976 ; 22   |#if !defined(FALSE)
                             7977 ; 23   |#define FALSE 0
                             7978 ; 24   |#endif
                             7979 ; 25   |#if !defined(TRUE)
                             7980 ; 26   |#define TRUE  1
                             7981 ; 27   |#endif
                             7982 ; 28   |
                             7983 ; 29   |#if !defined(NULL)
                             7984 ; 30   |#define NULL 0
                             7985 ; 31   |#endif
                             7986 ; 32   |
                             7987 ; 33   |#define MAX_INT     0x7FFFFF
                             7988 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             7989 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             7990 ; 36   |#define MAX_ULONG   (-1) 
                             7991 ; 37   |
                             7992 ; 38   |#define WORD_SIZE   24              // word size in bits
                             7993 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             7994 ; 40   |
                             7995 ; 41   |
                             7996 ; 42   |#define BYTE    unsigned char       // btVarName
                             7997 ; 43   |#define CHAR    signed char         // cVarName
                             7998 ; 44   |#define USHORT  unsigned short      // usVarName
                             7999 ; 45   |#define SHORT   unsigned short      // sVarName
                             8000 ; 46   |#define WORD    unsigned int        // wVarName
                             8001 ; 47   |#define INT     signed int          // iVarName
                             8002 ; 48   |#define DWORD   unsigned long       // dwVarName
                             8003 ; 49   |#define LONG    signed long         // lVarName
                             8004 ; 50   |#define BOOL    unsigned int        // bVarName
                             8005 ; 51   |#define FRACT   _fract              // frVarName
                             8006 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             8007 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             8008 ; 54   |#define FLOAT   float               // fVarName
                             8009 ; 55   |#define DBL     double              // dVarName
                             8010 ; 56   |#define ENUM    enum                // eVarName
                             8011 ; 57   |#define CMX     _complex            // cmxVarName
                             8012 ; 58   |typedef WORD UCS3;                   // 
                             8013 ; 59   |
                             8014 ; 60   |#define UINT16  unsigned short
                             8015 ; 61   |#define UINT8   unsigned char   
                             8016 ; 62   |#define UINT32  unsigned long
                             8017 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             8018 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             8019 ; 65   |#define WCHAR   UINT16
                             8020 ; 66   |
                             8021 ; 67   |//UINT128 is 16 bytes or 6 words
                             8022 ; 68   |typedef struct UINT128_3500 {   
                             8023 ; 69   |    int val[6];     
                             8024 ; 70   |} UINT128_3500;
                             8025 ; 71   |
                             8026 ; 72   |#define UINT128   UINT128_3500
                             8027 ; 73   |
                             8028 ; 74   |// Little endian word packed byte strings:   
                             8029 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8030 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8031 ; 77   |// Little endian word packed byte strings:   
                             8032 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8033 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 129

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8034 ; 80   |
                             8035 ; 81   |// Declare Memory Spaces To Use When Coding
                             8036 ; 82   |// A. Sector Buffers
                             8037 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             8038 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             8039 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             8040 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             8041 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             8042 ; 88   |// B. Media DDI Memory
                             8043 ; 89   |#define MEDIA_DDI_MEM _Y
                             8044 ; 90   |
                             8045 ; 91   |
                             8046 ; 92   |
                             8047 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             8048 ; 94   |// Examples of circular pointers:
                             8049 ; 95   |//    INT CIRC cpiVarName
                             8050 ; 96   |//    DWORD CIRC cpdwVarName
                             8051 ; 97   |
                             8052 ; 98   |#define RETCODE INT                 // rcVarName
                             8053 ; 99   |
                             8054 ; 100  |// generic bitfield structure
                             8055 ; 101  |struct Bitfield {
                             8056 ; 102  |    unsigned int B0  :1;
                             8057 ; 103  |    unsigned int B1  :1;
                             8058 ; 104  |    unsigned int B2  :1;
                             8059 ; 105  |    unsigned int B3  :1;
                             8060 ; 106  |    unsigned int B4  :1;
                             8061 ; 107  |    unsigned int B5  :1;
                             8062 ; 108  |    unsigned int B6  :1;
                             8063 ; 109  |    unsigned int B7  :1;
                             8064 ; 110  |    unsigned int B8  :1;
                             8065 ; 111  |    unsigned int B9  :1;
                             8066 ; 112  |    unsigned int B10 :1;
                             8067 ; 113  |    unsigned int B11 :1;
                             8068 ; 114  |    unsigned int B12 :1;
                             8069 ; 115  |    unsigned int B13 :1;
                             8070 ; 116  |    unsigned int B14 :1;
                             8071 ; 117  |    unsigned int B15 :1;
                             8072 ; 118  |    unsigned int B16 :1;
                             8073 ; 119  |    unsigned int B17 :1;
                             8074 ; 120  |    unsigned int B18 :1;
                             8075 ; 121  |    unsigned int B19 :1;
                             8076 ; 122  |    unsigned int B20 :1;
                             8077 ; 123  |    unsigned int B21 :1;
                             8078 ; 124  |    unsigned int B22 :1;
                             8079 ; 125  |    unsigned int B23 :1;
                             8080 ; 126  |};
                             8081 ; 127  |
                             8082 ; 128  |union BitInt {
                             8083 ; 129  |        struct Bitfield B;
                             8084 ; 130  |        int        I;
                             8085 ; 131  |};
                             8086 ; 132  |
                             8087 ; 133  |#define MAX_MSG_LENGTH 10
                             8088 ; 134  |struct CMessage
                             8089 ; 135  |{
                             8090 ; 136  |        unsigned int m_uLength;
                             8091 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             8092 ; 138  |};
                             8093 ; 139  |
                             8094 ; 140  |typedef struct {
                             8095 ; 141  |    WORD m_wLength;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 130

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8096 ; 142  |    WORD m_wMessage;
                             8097 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             8098 ; 144  |} Message;
                             8099 ; 145  |
                             8100 ; 146  |struct MessageQueueDescriptor
                             8101 ; 147  |{
                             8102 ; 148  |        int *m_pBase;
                             8103 ; 149  |        int m_iModulo;
                             8104 ; 150  |        int m_iSize;
                             8105 ; 151  |        int *m_pHead;
                             8106 ; 152  |        int *m_pTail;
                             8107 ; 153  |};
                             8108 ; 154  |
                             8109 ; 155  |struct ModuleEntry
                             8110 ; 156  |{
                             8111 ; 157  |    int m_iSignaledEventMask;
                             8112 ; 158  |    int m_iWaitEventMask;
                             8113 ; 159  |    int m_iResourceOfCode;
                             8114 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             8115 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             8116 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             8117 ; 163  |    int m_uTimeOutHigh;
                             8118 ; 164  |    int m_uTimeOutLow;
                             8119 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             8120 ; 166  |};
                             8121 ; 167  |
                             8122 ; 168  |union WaitMask{
                             8123 ; 169  |    struct B{
                             8124 ; 170  |        unsigned int m_bNone     :1;
                             8125 ; 171  |        unsigned int m_bMessage  :1;
                             8126 ; 172  |        unsigned int m_bTimer    :1;
                             8127 ; 173  |        unsigned int m_bButton   :1;
                             8128 ; 174  |    } B;
                             8129 ; 175  |    int I;
                             8130 ; 176  |} ;
                             8131 ; 177  |
                             8132 ; 178  |
                             8133 ; 179  |struct Button {
                             8134 ; 180  |        WORD wButtonEvent;
                             8135 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             8136 ; 182  |};
                             8137 ; 183  |
                             8138 ; 184  |struct Message {
                             8139 ; 185  |        WORD wMsgLength;
                             8140 ; 186  |        WORD wMsgCommand;
                             8141 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             8142 ; 188  |};
                             8143 ; 189  |
                             8144 ; 190  |union EventTypes {
                             8145 ; 191  |        struct CMessage msg;
                             8146 ; 192  |        struct Button Button ;
                             8147 ; 193  |        struct Message Message;
                             8148 ; 194  |};
                             8149 ; 195  |
                             8150 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             8151 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             8152 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             8153 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             8154 ; 200  |
                             8155 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             8156 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 131

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8157 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             8158 ; 204  |
                             8159 ; 205  |#if DEBUG
                             8160 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             8161 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             8162 ; 208  |#else 
                             8163 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             8164 ; 210  |#define DebugBuildAssert(x)    
                             8165 ; 211  |#endif
                             8166 ; 212  |
                             8167 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             8168 ; 214  |//  #pragma asm
                             8169 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             8170 ; 216  |//  #pragma endasm
                             8171 ; 217  |
                             8172 ; 218  |
                             8173 ; 219  |#ifdef COLOR_262K
                             8174 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             8175 ; 221  |#elif defined(COLOR_65K)
                             8176 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             8177 ; 223  |#else
                             8178 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             8179 ; 225  |#endif
                             8180 ; 226  |    
                             8181 ; 227  |#endif // #ifndef _TYPES_H
                             8182 
                             8184 
                             8185 ; 98   |#include "exec.h"
                             8186 
                             8188 
                             8189 ; 1    |#ifndef EXEC_H
                             8190 ; 2    |#define EXEC_H
                             8191 ; 3    |
                             8192 ; 4    |
                             8193 ; 5    |void _reentrant SysPostMessage(int iLength,...);
                             8194 ; 6    |int _asmfunc GetMessage(struct MessageQueueDescriptor*,struct CMessage * );
                             8195 ; 7    |long _asmfunc SysGetCurrentTime(void);
                             8196 ; 8    |
                             8197 ; 9    |
                             8198 ; 10   |#endif
                             8199 
                             8201 
                             8202 ; 99   |#include "messages.h"
                             8203 
                             8205 
                             8206 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             8207 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                             8208 ; 3    |// Message defs
                             8209 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                             8210 ; 5    |
                             8211 ; 6    |#if (!defined(MSGEQU_INC))
                             8212 ; 7    |#define MSGEQU_INC 1
                             8213 ; 8    |
                             8214 ; 9    |
                             8215 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                             8216 ; 11   |
                             8217 ; 12   |
                             8218 ; 13   |#define MSG_TYPE_DECODER 0x000000
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 132

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8219 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                             8220 ; 15   |#define MSG_TYPE_PARSER 0x020000
                             8221 ; 16   |#define MSG_TYPE_LCD 0x030000
                             8222 ; 17   |#define MSG_TYPE_MIXER 0x040000
                             8223 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                             8224 ; 19   |#define MSG_TYPE_MENU 0x060000
                             8225 ; 20   |#define MSG_TYPE_LED 0x070000
                             8226 ; 21   |#define MSG_TYPE_TUNER 0x080000
                             8227 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                             8228 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                             8229 ; 24   |// Equalizer and other effects
                             8230 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                             8231 ; 26   |#if (defined(USE_PLAYLIST3))
                             8232 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                             8233 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                             8234 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                             8235 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                             8236 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                             8237 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                             8238 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                             8239 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                             8240 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                             8241 ; 36   |#if defined(USE_PLAYLIST5)
                             8242 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                             8243 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                             8244 ; 39   |#endif // if @def('USE_PLAYLIST5')
                             8245 ; 40   |
                             8246 ; 41   |// Message Structure Offsets
                             8247 ; 42   |#define MSG_Length 0
                             8248 ; 43   |#define MSG_ID 1
                             8249 ; 44   |#define MSG_Argument1 2
                             8250 ; 45   |#define MSG_Argument2 3
                             8251 ; 46   |#define MSG_Argument3 4
                             8252 ; 47   |#define MSG_Argument4 5
                             8253 ; 48   |#define MSG_Argument5 6
                             8254 ; 49   |#define MSG_Argument6 7
                             8255 ; 50   |
                             8256 ; 51   |
                             8257 ; 52   |
                             8258 ; 53   |// LCD Message IDs
                             8259 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                             8260 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                             8261 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                             8262 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                             8263 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                             8264 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                             8265 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                             8266 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                             8267 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                             8268 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                             8269 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                             8270 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                             8271 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                             8272 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                             8273 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                             8274 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                             8275 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                             8276 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                             8277 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                             8278 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                             8279 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                             8280 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 133

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8281 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                             8282 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                             8283 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                             8284 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                             8285 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                             8286 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                             8287 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                             8288 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                             8289 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                             8290 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                             8291 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                             8292 ; 87   |//send a NULL as Param1 to return to root frame buffer
                             8293 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                             8294 ; 89   |//Param1 = left
                             8295 ; 90   |//Param2 = top
                             8296 ; 91   |//Param3 = right
                             8297 ; 92   |//Param4 = bottom
                             8298 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                             8299 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                             8300 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                             8301 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                             8302 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                             8303 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                             8304 ; 99   |
                             8305 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                             8306 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                             8307 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                             8308 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                             8309 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                             8310 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                             8311 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                             8312 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                             8313 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                             8314 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                             8315 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                             8316 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                             8317 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                             8318 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                             8319 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                             8320 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                             8321 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                             8322 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                             8323 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                             8324 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                             8325 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                             8326 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                             8327 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                             8328 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                             8329 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                             8330 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                             8331 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                             8332 ; 127  |
                             8333 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                             8334 ; 129  |
                             8335 ; 130  |#if defined(CLCD_16BIT)
                             8336 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                             8337 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                             8338 ; 133  |
                             8339 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                             8340 ; 135  |#else 
                             8341 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                             8342 ; 137  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 134

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8343 ; 138  |
                             8344 ; 139  |// If you change the LCD message ID's then you must
                             8345 ; 140  |// also change the jump table in lcdapi.asm
                             8346 ; 141  |
                             8347 ; 142  |// Character LCD Message IDs
                             8348 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                             8349 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                             8350 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                             8351 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                             8352 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                             8353 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                             8354 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                             8355 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                             8356 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                             8357 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                             8358 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                             8359 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                             8360 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                             8361 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                             8362 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                             8363 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                             8364 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                             8365 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                             8366 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                             8367 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                             8368 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                             8369 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                             8370 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                             8371 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                             8372 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                             8373 ; 168  |// also change the jump table in lcdapi.asm
                             8374 ; 169  |
                             8375 ; 170  |// Decoder Message IDs
                             8376 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                             8377 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                             8378 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                             8379 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                             8380 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                             8381 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                             8382 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                             8383 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                             8384 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                             8385 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                             8386 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                             8387 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                             8388 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                             8389 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                             8390 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                             8391 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                             8392 ; 187  |// If you change the Decoder message ID's, then you must
                             8393 ; 188  |// also change the jump table in decoder_overlay.asm
                             8394 ; 189  |// and in dec_adpcm_overlay.asm.
                             8395 ; 190  |
                             8396 ; 191  |// Encoder Message IDs
                             8397 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                             8398 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                             8399 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                             8400 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                             8401 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                             8402 ; 197  |// If you change the Encoder message ID's, then you must
                             8403 ; 198  |// also change the jump table in all encoder overlay modules.
                             8404 ; 199  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 135

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8405 ; 200  |// Parser Message IDs
                             8406 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                             8407 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                             8408 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                             8409 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                             8410 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                             8411 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                             8412 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                             8413 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                             8414 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                             8415 ; 210  |// If you change the Parser message ID's, then you must
                             8416 ; 211  |// also change the jump table in parser.asm
                             8417 ; 212  |
                             8418 ; 213  |// Button Message IDs
                             8419 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                             8420 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                             8421 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                             8422 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                             8423 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                             8424 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                             8425 ; 220  |
                             8426 ; 221  |// Mixer Message IDs
                             8427 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                             8428 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                             8429 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                             8430 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                             8431 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                             8432 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                             8433 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                             8434 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                             8435 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                             8436 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                             8437 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                             8438 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                             8439 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                             8440 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                             8441 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                             8442 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                             8443 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                             8444 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                             8445 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                             8446 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                             8447 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                             8448 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                             8449 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                             8450 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                             8451 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                             8452 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                             8453 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                             8454 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                             8455 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                             8456 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                             8457 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                             8458 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                             8459 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                             8460 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                             8461 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                             8462 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                             8463 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                             8464 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                             8465 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                             8466 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 136

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8467 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                             8468 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                             8469 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                             8470 ; 265  |// If you change the mixer message ID's then you must
                             8471 ; 266  |// also change the jump table in mixer.asm
                             8472 ; 267  |#define MIXER_ON 0
                             8473 ; 268  |#define MIXER_OFF 1
                             8474 ; 269  |
                             8475 ; 270  |
                             8476 ; 271  |// System Message IDs
                             8477 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                             8478 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                             8479 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                             8480 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                             8481 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                             8482 ; 277  |// If you change the system message ID's then you must
                             8483 ; 278  |// also change the jump table in systemapi.asm
                             8484 ; 279  |
                             8485 ; 280  |// Menu IDs
                             8486 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                             8487 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                             8488 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                             8489 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                             8490 ; 285  |//sub parameters for this message:
                             8491 ; 286  |#define RECORDER_START 0
                             8492 ; 287  |#define RECORDER_PAUSE 0x2000
                             8493 ; 288  |#define RECORDER_RESUME 0x4000
                             8494 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                             8495 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                             8496 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                             8497 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                             8498 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                             8499 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                             8500 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                             8501 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                             8502 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                             8503 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                             8504 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                             8505 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                             8506 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                             8507 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                             8508 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                             8509 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                             8510 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                             8511 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                             8512 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                             8513 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                             8514 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                             8515 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                             8516 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                             8517 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                             8518 ; 313  |
                             8519 ; 314  |// Note that other versions of this file have different msg equates.
                             8520 ; 315  |// If you change the system message ID's then you must
                             8521 ; 316  |// also change the jump table in all menu *.asm
                             8522 ; 317  |
                             8523 ; 318  |// LED Message IDs
                             8524 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                             8525 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                             8526 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                             8527 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                             8528 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 137

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8529 ; 324  |// If you change the LeD message ID's then you must
                             8530 ; 325  |// also change the jump table in ledapi.asm
                             8531 ; 326  |
                             8532 ; 327  |#if (!defined(REMOVE_FM))
                             8533 ; 328  |// FM Tuner Message IDs
                             8534 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                             8535 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                             8536 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                             8537 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                             8538 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                             8539 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                             8540 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                             8541 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                             8542 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                             8543 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                             8544 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                             8545 ; 340  |//one parameter--the sensitivity in uV
                             8546 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                             8547 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                             8548 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                             8549 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                             8550 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                             8551 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                             8552 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                             8553 ; 348  |#endif
                             8554 ; 349  |
                             8555 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                             8556 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                             8557 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                             8558 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                             8559 ; 354  |
                             8560 ; 355  |
                             8561 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                             8562 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                             8563 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                             8564 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                             8565 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                             8566 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                             8567 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                             8568 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                             8569 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                             8570 ; 365  |
                             8571 ; 366  |#if (defined(USE_PLAYLIST3))
                             8572 ; 367  |// Music Library
                             8573 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                             8574 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                             8575 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                             8576 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                             8577 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                             8578 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                             8579 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                             8580 ; 375  |
                             8581 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                             8582 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                             8583 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                             8584 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                             8585 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                             8586 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                             8587 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                             8588 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                             8589 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                             8590 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 138

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8591 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                             8592 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                             8593 ; 388  |
                             8594 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             8595 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             8596 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             8597 ; 392  |
                             8598 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             8599 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             8600 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             8601 ; 396  |
                             8602 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             8603 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                             8604 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             8605 ; 400  |
                             8606 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                             8607 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                             8608 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                             8609 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                             8610 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                             8611 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                             8612 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                             8613 ; 408  |
                             8614 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             8615 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             8616 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             8617 ; 412  |
                             8618 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                             8619 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                             8620 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                             8621 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                             8622 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                             8623 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                             8624 ; 419  |
                             8625 ; 420  |#if defined(USE_PLAYLIST5)
                             8626 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                             8627 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                             8628 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                             8629 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                             8630 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                             8631 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                             8632 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                             8633 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                             8634 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                             8635 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                             8636 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                             8637 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                             8638 ; 433  |
                             8639 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                             8640 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                             8641 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                             8642 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                             8643 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                             8644 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                             8645 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                             8646 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                             8647 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                             8648 ; 443  |#endif // if @def('USE_PLAYLIST5')
                             8649 ; 444  |// Events
                             8650 ; 445  |// No event
                             8651 ; 446  |#define EVENT_NONE 0x000001   
                             8652 ; 447  |// A message has been posted
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 139

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8653 ; 448  |#define EVENT_MESSAGE 0x000002   
                             8654 ; 449  |// Run if wait time elapsed
                             8655 ; 450  |#define EVENT_TIMER 0x000004   
                             8656 ; 451  |// Run if a button event occured
                             8657 ; 452  |#define EVENT_BUTTON 0x000008   
                             8658 ; 453  |// Run if a background event occured
                             8659 ; 454  |#define EVENT_BACKGROUND 0x000010   
                             8660 ; 455  |// The executive should immediately repeat this module
                             8661 ; 456  |#define EVENT_REPEAT 0x000020   
                             8662 ; 457  |// Run the module's init routine
                             8663 ; 458  |#define EVENT_INIT 0x800000   
                             8664 ; 459  |
                             8665 ; 460  |#define EVENT_NONE_BITPOS 0
                             8666 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                             8667 ; 462  |#define EVENT_TIMER_BITPOS 2
                             8668 ; 463  |#define EVENT_BUTTON_BITPOS 3
                             8669 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                             8670 ; 465  |#define EVENT_REPEAT_BITPOS 5
                             8671 ; 466  |#define EVENT_INIT_BITPOS 23
                             8672 ; 467  |
                             8673 ; 468  |// Parser Message Buffers
                             8674 ; 469  |#define ParserPlayBit 0
                             8675 ; 470  |#define ButtonPressBit 1
                             8676 ; 471  |#define ParserRwndBit 1
                             8677 ; 472  |#define ParserFfwdBit 2
                             8678 ; 473  |
                             8679 ; 474  |//NextSong Message Parameters
                             8680 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                             8681 ; 476  |#define NEXT_SONG 2             
                             8682 ; 477  |// ButtonPressBit1 cleared
                             8683 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                             8684 ; 479  |// ButtonPressBit1 set
                             8685 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                             8686 ; 481  |// NextSong + Ffwd
                             8687 ; 482  |#define NEXT_SONG_FFWD 4          
                             8688 ; 483  |
                             8689 ; 484  |//PrevSong Message Parameters
                             8690 ; 485  |// PrevSong + Stopped
                             8691 ; 486  |#define PREV_SONG 0          
                             8692 ; 487  |// PrevSong + Play
                             8693 ; 488  |#define PREV_SONG_PLAY 1          
                             8694 ; 489  |// PrevSong + Rwnd
                             8695 ; 490  |#define PREV_SONG_RWND 2          
                             8696 ; 491  |
                             8697 ; 492  |
                             8698 ; 493  |
                             8699 ; 494  |
                             8700 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                             8701 ; 496  |
                             8702 ; 497  |
                             8703 
                             8705 
                             8706 ; 100  |#include "project.h"
                             8707 
                             8709 
                             8710 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             8711 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                             8712 ; 3    |//  Filename: project.inc
                             8713 ; 4    |//  Description: 
                             8714 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             8715 ; 6    |
                             8716 ; 7    |#if (!defined(_PROJECT_INC))
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 140

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8717 ; 8    |#define _PROJECT_INC 1
                             8718 ; 9    |
                             8719 ; 10   |#if defined(STMP_BUILD_PLAYER)
                             8720 ; 11   |#include "hwequ.h"
                             8721 
                             8723 
                             8724 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             8725 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2001
                             8726 ; 3    |//  File        : hwequ.inc
                             8727 ; 4    |//  Description : STMP Hardware Constants
                             8728 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             8729 ; 6    |
                             8730 ; 7    |// ////////////////////////////////////////////////////////////////////////////////
                             8731 ; 8    |// hwequ is being eliminated for SDK3XXX.  For SDK2.5XX it will now reside in the   
                             8732 ; 9    |// local folder instead of ..\inc.  All register includes are converted to .h by 
                             8733 ; 10   |// registers.mk placed in the ..\lcdexample\player\output_XXXX folder.
                             8734 ; 11   |// ////////////////////////////////////////////////////////////////////////////////
                             8735 ; 12   |
                             8736 ; 13   |#if (!defined(HWEQU_INC))
                             8737 ; 14   |#define HWEQU_INC 1
                             8738 ; 15   |
                             8739 ; 16   |#include "types.h"
                             8740 
                             8742 
                             8743 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             8744 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             8745 ; 3    |//
                             8746 ; 4    |// Filename: types.h
                             8747 ; 5    |// Description: Standard data types
                             8748 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             8749 ; 7    |
                             8750 ; 8    |#ifndef _TYPES_H
                             8751 ; 9    |#define _TYPES_H
                             8752 ; 10   |
                             8753 ; 11   |// TODO:  move this outta here!
                             8754 ; 12   |#if !defined(NOERROR)
                             8755 ; 13   |#define NOERROR 0
                             8756 ; 14   |#define SUCCESS 0
                             8757 ; 15   |#endif 
                             8758 ; 16   |#if !defined(SUCCESS)
                             8759 ; 17   |#define SUCCESS  0
                             8760 ; 18   |#endif
                             8761 ; 19   |#if !defined(ERROR)
                             8762 ; 20   |#define ERROR   -1
                             8763 ; 21   |#endif
                             8764 ; 22   |#if !defined(FALSE)
                             8765 ; 23   |#define FALSE 0
                             8766 ; 24   |#endif
                             8767 ; 25   |#if !defined(TRUE)
                             8768 ; 26   |#define TRUE  1
                             8769 ; 27   |#endif
                             8770 ; 28   |
                             8771 ; 29   |#if !defined(NULL)
                             8772 ; 30   |#define NULL 0
                             8773 ; 31   |#endif
                             8774 ; 32   |
                             8775 ; 33   |#define MAX_INT     0x7FFFFF
                             8776 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             8777 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             8778 ; 36   |#define MAX_ULONG   (-1) 
                             8779 ; 37   |
                             8780 ; 38   |#define WORD_SIZE   24              // word size in bits
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 141

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8781 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             8782 ; 40   |
                             8783 ; 41   |
                             8784 ; 42   |#define BYTE    unsigned char       // btVarName
                             8785 ; 43   |#define CHAR    signed char         // cVarName
                             8786 ; 44   |#define USHORT  unsigned short      // usVarName
                             8787 ; 45   |#define SHORT   unsigned short      // sVarName
                             8788 ; 46   |#define WORD    unsigned int        // wVarName
                             8789 ; 47   |#define INT     signed int          // iVarName
                             8790 ; 48   |#define DWORD   unsigned long       // dwVarName
                             8791 ; 49   |#define LONG    signed long         // lVarName
                             8792 ; 50   |#define BOOL    unsigned int        // bVarName
                             8793 ; 51   |#define FRACT   _fract              // frVarName
                             8794 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             8795 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             8796 ; 54   |#define FLOAT   float               // fVarName
                             8797 ; 55   |#define DBL     double              // dVarName
                             8798 ; 56   |#define ENUM    enum                // eVarName
                             8799 ; 57   |#define CMX     _complex            // cmxVarName
                             8800 ; 58   |typedef WORD UCS3;                   // 
                             8801 ; 59   |
                             8802 ; 60   |#define UINT16  unsigned short
                             8803 ; 61   |#define UINT8   unsigned char   
                             8804 ; 62   |#define UINT32  unsigned long
                             8805 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             8806 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             8807 ; 65   |#define WCHAR   UINT16
                             8808 ; 66   |
                             8809 ; 67   |//UINT128 is 16 bytes or 6 words
                             8810 ; 68   |typedef struct UINT128_3500 {   
                             8811 ; 69   |    int val[6];     
                             8812 ; 70   |} UINT128_3500;
                             8813 ; 71   |
                             8814 ; 72   |#define UINT128   UINT128_3500
                             8815 ; 73   |
                             8816 ; 74   |// Little endian word packed byte strings:   
                             8817 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8818 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8819 ; 77   |// Little endian word packed byte strings:   
                             8820 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8821 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8822 ; 80   |
                             8823 ; 81   |// Declare Memory Spaces To Use When Coding
                             8824 ; 82   |// A. Sector Buffers
                             8825 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             8826 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             8827 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             8828 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             8829 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             8830 ; 88   |// B. Media DDI Memory
                             8831 ; 89   |#define MEDIA_DDI_MEM _Y
                             8832 ; 90   |
                             8833 ; 91   |
                             8834 ; 92   |
                             8835 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             8836 ; 94   |// Examples of circular pointers:
                             8837 ; 95   |//    INT CIRC cpiVarName
                             8838 ; 96   |//    DWORD CIRC cpdwVarName
                             8839 ; 97   |
                             8840 ; 98   |#define RETCODE INT                 // rcVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 142

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8841 ; 99   |
                             8842 ; 100  |// generic bitfield structure
                             8843 ; 101  |struct Bitfield {
                             8844 ; 102  |    unsigned int B0  :1;
                             8845 ; 103  |    unsigned int B1  :1;
                             8846 ; 104  |    unsigned int B2  :1;
                             8847 ; 105  |    unsigned int B3  :1;
                             8848 ; 106  |    unsigned int B4  :1;
                             8849 ; 107  |    unsigned int B5  :1;
                             8850 ; 108  |    unsigned int B6  :1;
                             8851 ; 109  |    unsigned int B7  :1;
                             8852 ; 110  |    unsigned int B8  :1;
                             8853 ; 111  |    unsigned int B9  :1;
                             8854 ; 112  |    unsigned int B10 :1;
                             8855 ; 113  |    unsigned int B11 :1;
                             8856 ; 114  |    unsigned int B12 :1;
                             8857 ; 115  |    unsigned int B13 :1;
                             8858 ; 116  |    unsigned int B14 :1;
                             8859 ; 117  |    unsigned int B15 :1;
                             8860 ; 118  |    unsigned int B16 :1;
                             8861 ; 119  |    unsigned int B17 :1;
                             8862 ; 120  |    unsigned int B18 :1;
                             8863 ; 121  |    unsigned int B19 :1;
                             8864 ; 122  |    unsigned int B20 :1;
                             8865 ; 123  |    unsigned int B21 :1;
                             8866 ; 124  |    unsigned int B22 :1;
                             8867 ; 125  |    unsigned int B23 :1;
                             8868 ; 126  |};
                             8869 ; 127  |
                             8870 ; 128  |union BitInt {
                             8871 ; 129  |        struct Bitfield B;
                             8872 ; 130  |        int        I;
                             8873 ; 131  |};
                             8874 ; 132  |
                             8875 ; 133  |#define MAX_MSG_LENGTH 10
                             8876 ; 134  |struct CMessage
                             8877 ; 135  |{
                             8878 ; 136  |        unsigned int m_uLength;
                             8879 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             8880 ; 138  |};
                             8881 ; 139  |
                             8882 ; 140  |typedef struct {
                             8883 ; 141  |    WORD m_wLength;
                             8884 ; 142  |    WORD m_wMessage;
                             8885 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             8886 ; 144  |} Message;
                             8887 ; 145  |
                             8888 ; 146  |struct MessageQueueDescriptor
                             8889 ; 147  |{
                             8890 ; 148  |        int *m_pBase;
                             8891 ; 149  |        int m_iModulo;
                             8892 ; 150  |        int m_iSize;
                             8893 ; 151  |        int *m_pHead;
                             8894 ; 152  |        int *m_pTail;
                             8895 ; 153  |};
                             8896 ; 154  |
                             8897 ; 155  |struct ModuleEntry
                             8898 ; 156  |{
                             8899 ; 157  |    int m_iSignaledEventMask;
                             8900 ; 158  |    int m_iWaitEventMask;
                             8901 ; 159  |    int m_iResourceOfCode;
                             8902 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 143

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8903 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             8904 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             8905 ; 163  |    int m_uTimeOutHigh;
                             8906 ; 164  |    int m_uTimeOutLow;
                             8907 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             8908 ; 166  |};
                             8909 ; 167  |
                             8910 ; 168  |union WaitMask{
                             8911 ; 169  |    struct B{
                             8912 ; 170  |        unsigned int m_bNone     :1;
                             8913 ; 171  |        unsigned int m_bMessage  :1;
                             8914 ; 172  |        unsigned int m_bTimer    :1;
                             8915 ; 173  |        unsigned int m_bButton   :1;
                             8916 ; 174  |    } B;
                             8917 ; 175  |    int I;
                             8918 ; 176  |} ;
                             8919 ; 177  |
                             8920 ; 178  |
                             8921 ; 179  |struct Button {
                             8922 ; 180  |        WORD wButtonEvent;
                             8923 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             8924 ; 182  |};
                             8925 ; 183  |
                             8926 ; 184  |struct Message {
                             8927 ; 185  |        WORD wMsgLength;
                             8928 ; 186  |        WORD wMsgCommand;
                             8929 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             8930 ; 188  |};
                             8931 ; 189  |
                             8932 ; 190  |union EventTypes {
                             8933 ; 191  |        struct CMessage msg;
                             8934 ; 192  |        struct Button Button ;
                             8935 ; 193  |        struct Message Message;
                             8936 ; 194  |};
                             8937 ; 195  |
                             8938 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             8939 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             8940 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             8941 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             8942 ; 200  |
                             8943 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             8944 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             8945 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             8946 ; 204  |
                             8947 ; 205  |#if DEBUG
                             8948 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             8949 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             8950 ; 208  |#else 
                             8951 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             8952 ; 210  |#define DebugBuildAssert(x)    
                             8953 ; 211  |#endif
                             8954 ; 212  |
                             8955 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             8956 ; 214  |//  #pragma asm
                             8957 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             8958 ; 216  |//  #pragma endasm
                             8959 ; 217  |
                             8960 ; 218  |
                             8961 ; 219  |#ifdef COLOR_262K
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 144

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8962 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             8963 ; 221  |#elif defined(COLOR_65K)
                             8964 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             8965 ; 223  |#else
                             8966 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             8967 ; 225  |#endif
                             8968 ; 226  |    
                             8969 ; 227  |#endif // #ifndef _TYPES_H
                             8970 
                             8972 
                             8973 ; 17   |#include "regsclkctrl.h"
                             8974 
                             8976 
                             8977 ; 1    |#if !(defined(__REGS_CLK_CONTROL_INC))
                             8978 ; 2    |#define __REGS_CLK_CONTROL_INC 1
                             8979 ; 3    |
                             8980 ; 4    |
                             8981 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             8982 ; 6    |//  Clock Control Register (HW_CCR) Bit Positions
                             8983 ; 7    |#define HW_CCR_CKRST_BITPOS 0
                             8984 ; 8    |#define HW_CCR_LTC_BITPOS 1
                             8985 ; 9    |#define HW_CCR_PLLEN_BITPOS 2
                             8986 ; 10   |#define HW_CCR_XTLEN_BITPOS 3
                             8987 ; 11   |#define HW_CCR_PLL_SOURCE_SEL_BITPOS 4
                             8988 ; 12   |#define HW_CCR_ADIV_B0_BITPOS 5
                             8989 ; 13   |#define HW_CCR_ADIV_B1_BITPOS 6
                             8990 ; 14   |#define HW_CCR_ADIV_B2_BITPOS 7
                             8991 ; 15   |#define HW_CCR_CKSRC_BITPOS 8
                             8992 ; 16   |#define HW_CCR_DDIV_BITPOS 9
                             8993 ; 17   |#define HW_CCR_DDIV_B0_BITPOS 9
                             8994 ; 18   |#define HW_CCR_DDIV_B1_BITPOS 10
                             8995 ; 19   |#define HW_CCR_DDIV_B2_BITPOS 11
                             8996 ; 20   |#define HW_CCR_PDIV_BITPOS 12
                             8997 ; 21   |#define HW_CCR_PDIV_B0_BITPOS 12
                             8998 ; 22   |#define HW_CCR_PDIV_B1_BITPOS 13
                             8999 ; 23   |#define HW_CCR_PDIV_B2_BITPOS 14
                             9000 ; 24   |#define HW_CCR_PDIV_B3_BITPOS 15
                             9001 ; 25   |#define HW_CCR_PDIV_B4_BITPOS 16
                             9002 ; 26   |#define HW_CCR_PWDN_BITPOS 17
                             9003 ; 27   |#define HW_CCR_ACKEN_BITPOS 18
                             9004 ; 28   |#define HW_CCR_LOCK_BITPOS 19
                             9005 ; 29   |#define HW_CCR_DACDIV_BITPOS 20
                             9006 ; 30   |#define HW_CCR_ADIV1_B0_BITPOS 20
                             9007 ; 31   |#define HW_CCR_ADIV1_B1_BITPOS 21
                             9008 ; 32   |#define HW_CCR_ADIV1_B2_BITPOS 22
                             9009 ; 33   |#define HW_CCR_DDIV_MSB_BITPOS 23
                             9010 ; 34   |
                             9011 ; 35   |#define HW_CCR_CKRST_SETMASK 1<<HW_CCR_CKRST_BITPOS
                             9012 ; 36   |#define HW_CCR_LTC_SETMASK 1<<HW_CCR_LTC_BITPOS
                             9013 ; 37   |#define HW_CCR_PLLEN_SETMASK 1<<HW_CCR_PLLEN_BITPOS
                             9014 ; 38   |#define HW_CCR_XTLEN_SETMASK 1<<HW_CCR_XTLEN_BITPOS
                             9015 ; 39   |#define HW_CCR_ADCDIV_SETMASK 0x7<<HW_CCR_ADIV_B0_BITPOS
                             9016 ; 40   |#define HW_CCR_CKSRC_SETMASK 1<<HW_CCR_CKSRC_BITPOS
                             9017 ; 41   |#define HW_CCR_DDIV_SETMASK 0x7<<HW_CCR_DDIV_BITPOS
                             9018 ; 42   |#define HW_CCR_PDIV_SETMASK 0x1F<<HW_CCR_PDIV_BITPOS
                             9019 ; 43   |#define HW_CCR_PWDN_SETMASK 1<<HW_CCR_PWDN_BITPOS
                             9020 ; 44   |#define HW_CCR_ACKEN_SETMASK 1<<HW_CCR_ACKEN_BITPOS
                             9021 ; 45   |#define HW_CCR_LOCK_SETMASK 1<<HW_CCR_LOCK_BITPOS
                             9022 ; 46   |#define HW_CCR_DACDIV_SETMASK 0x7<<HW_CCR_DACDIV_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 145

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9023 ; 47   |
                             9024 ; 48   |#define HW_CCR_CKRST_CLRMASK ~(WORD)HW_CCR_CKRST_SETMASK
                             9025 ; 49   |#define HW_CCR_LTC_CLRMASK ~(WORD)HW_CCR_LTC_SETMASK
                             9026 ; 50   |#define HW_CCR_PLLEN_CLRMASK ~(WORD)HW_CCR_PLLEN_SETMASK
                             9027 ; 51   |#define HW_CCR_XTLEN_CLRMASK ~(WORD)HW_CCR_XTLEN_SETMASK
                             9028 ; 52   |#define HW_CCR_ADCDIV_CLRMASK ~(WORD)HW_CCR_ADCDIV_SETMASK
                             9029 ; 53   |#define HW_CCR_CKSRC_CLRMASK ~(WORD)HW_CCR_CKSRC_SETMASK
                             9030 ; 54   |#define HW_CCR_DDIV_CLRMASK ~(WORD)HW_CCR_DDIV_SETMASK
                             9031 ; 55   |#define HW_CCR_PDIV_CLRMASK ~(WORD)HW_CCR_PDIV_SETMASK
                             9032 ; 56   |#define HW_CCR_PWDN_CLRMASK ~(WORD)HW_CCR_PWDN_SETMASK
                             9033 ; 57   |#define HW_CCR_ACKEN_CLRMASK ~(WORD)HW_CCR_ACKEN_SETMASK
                             9034 ; 58   |#define HW_CCR_LOCK_CLRMASK ~(WORD)HW_CCR_LOCK_SETMASK
                             9035 ; 59   |#define HW_CCR_DACDIV_CLRMASK ~(WORD)HW_CCR_DACDIV_SETMASK
                             9036 ; 60   |
                             9037 ; 61   |typedef union               
                             9038 ; 62   |{
                             9039 ; 63   |    struct
                             9040 ; 64   |    {
                             9041 ; 65   |        int CKRST       :1; // Clock Reset
                             9042 ; 66   |        int LTC         :1;
                             9043 ; 67   |        int PLLEN       :1;
                             9044 ; 68   |        int XTLEN       :1;
                             9045 ; 69   |        int FLB         :1;
                             9046 ; 70   |        unsigned ADIV   :3;
                             9047 ; 71   |        int CKSRC       :1;
                             9048 ; 72   |        unsigned DDIV   :3;
                             9049 ; 73   |        unsigned PDIV   :5;
                             9050 ; 74   |        int PWDN        :1;
                             9051 ; 75   |        int ACKEN       :1;
                             9052 ; 76   |        int LOCK        :1;
                             9053 ; 77   |        unsigned ADIV1  :3;
                             9054 ; 78   |        unsigned DDIV_MSB:1;
                             9055 ; 79   |    } B;
                             9056 ; 80   |
                             9057 ; 81   |    int I;
                             9058 ; 82   |    unsigned int U;
                             9059 ; 83   |
                             9060 ; 84   |} ccr_type;
                             9061 ; 85   |#define HW_CCR     (*(volatile ccr_type _X*) (0xFA00))
                             9062 ; 86   |
                             9063 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                             9064 ; 88   |//  Reset Control Register (HW_RCR) Bit Positions
                             9065 ; 89   |#define HW_RCR_STKLVL_BITPOS 0
                             9066 ; 90   |#define HW_RCR_SRST_BITPOS 4
                             9067 ; 91   |#define HW_RCR_IRQA_BITPOS 8
                             9068 ; 92   |#define HW_RCR_IRQB_BITPOS 9
                             9069 ; 93   |#define HW_RCR_NMI_BITPOS 10
                             9070 ; 94   |#define HW_RCR_SUNFLLVL_BITPOS 11
                             9071 ; 95   |#define HW_RCR_SUNFLEN_BITPOS 15
                             9072 ; 96   |#define HW_RCR_SOVFLLVL_BITPOS 16
                             9073 ; 97   |#define HW_RCR_SOVFLEN_BITPOS 20
                             9074 ; 98   |#define HW_RCR_IRQB2NMI_BITPOS 21
                             9075 ; 99   |#define HW_RCR_SUNFL_BITPOS 22
                             9076 ; 100  |#define HW_RCR_SOVFL_BITPOS 23
                             9077 ; 101  |
                             9078 ; 102  |#define HW_RCR_STKLVL_WIDTH (4)
                             9079 ; 103  |#define HW_RCR_SRST_WIDTH (4)
                             9080 ; 104  |#define HW_RCR_IRQA_WIDTH (1)
                             9081 ; 105  |#define HW_RCR_IRQB_WIDTH (1)
                             9082 ; 106  |#define HW_RCR_NMI_WIDTH (1)
                             9083 ; 107  |#define HW_RCR_SUNFLLVL_WIDTH (4)
                             9084 ; 108  |#define HW_RCR_SUNFLEN_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 146

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9085 ; 109  |#define HW_RCR_SOVFLLVL_WIDTH (4)
                             9086 ; 110  |#define HW_RCR_SOVFLEN_WIDTH (1)
                             9087 ; 111  |#define HW_RCR_IRQB2NMI_WIDTH (1)
                             9088 ; 112  |#define HW_RCR_SUNFL_WIDTH (1)
                             9089 ; 113  |#define HW_RCR_SOVFL_WIDTH (1)
                             9090 ; 114  |
                             9091 ; 115  |#define HW_RCR_STKLVL_SETMASK (((1<<HW_RCR_STKLVL_WIDTH)-1)<<HW_RCR_STKLVL_BITPOS)
                             9092 ; 116  |#define HW_RCR_SRST_SETMASK (((1<<HW_RCR_SRST_WIDTH)-1)<<HW_RCR_SRST_BITPOS)
                             9093 ; 117  |#define HW_RCR_IRQA_SETMASK (((1<<HW_RCR_IRQA_WIDTH)-1)<<HW_RCR_IRQA_BITPOS)
                             9094 ; 118  |#define HW_RCR_IRQB_SETMASK (((1<<HW_RCR_IRQB_WIDTH)-1)<<HW_RCR_IRQB_BITPOS)
                             9095 ; 119  |#define HW_RCR_NMI_SETMASK (((1<<HW_RCR_NMI_WIDTH)-1)<<HW_RCR_NMI_BITPOS)
                             9096 ; 120  |#define HW_RCR_SUNFLLVL_SETMASK (((1<<HW_RCR_SUNFLLVL_WIDTH)-1)<<HW_RCR_SUNFLLVL_BITPOS)
                             9097 ; 121  |#define HW_RCR_SUNFLEN_SETMASK (((1<<HW_RCR_SUNFLEN_WIDTH)-1)<<HW_RCR_SUNFLEN_BITPOS)
                             9098 ; 122  |#define HW_RCR_SOVFLLVL_SETMASK (((1<<HW_RCR_SOVFLLVL_WIDTH)-1)<<HW_RCR_SOVFLLVL_BITPOS)
                             9099 ; 123  |#define HW_RCR_SOVFLEN_SETMASK (((1<<HW_RCR_SOVFLEN_WIDTH)-1)<<HW_RCR_SOVFLEN_BITPOS)
                             9100 ; 124  |#define HW_RCR_IRQB2NMI_SETMASK (((1<<HW_RCR_IRQB2NMI_WIDTH)-1)<<HW_RCR_IRQB2NMI_BITPOS)
                             9101 ; 125  |#define HW_RCR_SUNFL_SETMASK (((1<<HW_RCR_SUNFL_WIDTH)-1)<<HW_RCR_SUNFL_BITPOS)
                             9102 ; 126  |#define HW_RCR_SOVFL_SETMASK (((1<<HW_RCR_SOVFL_WIDTH)-1)<<HW_RCR_SOVFL_BITPOS)
                             9103 ; 127  |
                             9104 ; 128  |#define HW_RCR_STKLVL_CLRMASK ~(WORD)HW_RCR_STKLVL_SETMASK
                             9105 ; 129  |#define HW_RCR_SRST_CLRMASK ~(WORD)HW_RCR_SRST_SETMASK
                             9106 ; 130  |#define HW_RCR_IRQA_CLRMASK ~(WORD)HW_RCR_IRQA_SETMASK
                             9107 ; 131  |#define HW_RCR_IRQB_CLRMASK ~(WORD)HW_RCR_IRQB_SETMASK
                             9108 ; 132  |#define HW_RCR_NMI_CLRMASK ~(WORD)HW_RCR_NMI_SETMASK
                             9109 ; 133  |#define HW_RCR_SUNFLLVL_CLRMASK ~(WORD)HW_RCR_SUNFLLVL_SETMASK
                             9110 ; 134  |#define HW_RCR_SUNFLEN_CLRMASK ~(WORD)HW_RCR_SUNFLEN_SETMASK
                             9111 ; 135  |#define HW_RCR_SOVFLLVL_CLRMASK ~(WORD)HW_RCR_SOVFLLVL_SETMASK
                             9112 ; 136  |#define HW_RCR_SOVFLEN_CLRMASK ~(WORD)HW_RCR_SOVFLEN_SETMASK
                             9113 ; 137  |#define HW_RCR_IRQB2NMI_CLRMASK ~(WORD)HW_RCR_IRQB2NMI_SETMASK
                             9114 ; 138  |#define HW_RCR_SUNFL_CLRMASK ~(WORD)HW_RCR_SUNFL_SETMASK
                             9115 ; 139  |#define HW_RCR_SOVFL_CLRMASK ~(WORD)HW_RCR_SOVFL_SETMASK
                             9116 ; 140  |
                             9117 ; 141  |typedef union               
                             9118 ; 142  |{
                             9119 ; 143  |    struct
                             9120 ; 144  |   {
                             9121 ; 145  |        int STKLVL   : HW_RCR_STKLVL_WIDTH;
                             9122 ; 146  |        int SRST     : HW_RCR_SRST_WIDTH;
                             9123 ; 147  |        int IRQA     : HW_RCR_IRQA_WIDTH;
                             9124 ; 148  |        int IRQB     : HW_RCR_IRQB_WIDTH;
                             9125 ; 149  |        int NMI      : HW_RCR_NMI_WIDTH;
                             9126 ; 150  |        int SUNFLLVL : HW_RCR_SUNFLLVL_WIDTH;
                             9127 ; 151  |        int SUNFLEN  : HW_RCR_SUNFLEN_WIDTH;
                             9128 ; 152  |        int SOVFLLVL : HW_RCR_SOVFLLVL_WIDTH;
                             9129 ; 153  |        int SOVFLEN  : HW_RCR_SOVFLEN_WIDTH;
                             9130 ; 154  |        int IRQB2NMI : HW_RCR_IRQB2NMI_WIDTH;
                             9131 ; 155  |        int SUNFL    : HW_RCR_SUNFL_WIDTH;
                             9132 ; 156  |        int SOVFL    : HW_RCR_SOVFL_WIDTH;
                             9133 ; 157  |    } B;
                             9134 ; 158  |
                             9135 ; 159  |    int I;
                             9136 ; 160  |    unsigned int U;
                             9137 ; 161  |
                             9138 ; 162  |} rcr_type;
                             9139 ; 163  |#define HW_RCR     (*(volatile rcr_type _X*) (0xFA01))
                             9140 ; 164  |
                             9141 ; 165  |
                             9142 ; 166  |/////////////////////////////////////////////////////////////////////////////////
                             9143 ; 167  |//  DCLK Count Lower register (HW_DCLKCNTL) Bit Positions
                             9144 ; 168  |#define HW_DCLKCNTL_LOW_BITPOS 0
                             9145 ; 169  |
                             9146 ; 170  |#define HW_DCLKCNTL_LOW_WIDTH (24)        
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 147

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9147 ; 171  |
                             9148 ; 172  |#define HW_DCLKCNTL_LOW_SETMASK (((1<<HW_DCLKCNTL_LOW_WIDTH)-1)<<HW_DCLKCNTL_LOW_BITPOS) 
                             9149 ; 173  |#define HW_DCLKCNTL_LOW_CLRMASK ~(WORD)HW_DCLKCNTL_LOW_SETMASK
                             9150 ; 174  |typedef union               
                             9151 ; 175  |{
                             9152 ; 176  |    struct
                             9153 ; 177  |   {
                             9154 ; 178  |        int LOW;
                             9155 ; 179  |    } B;
                             9156 ; 180  |
                             9157 ; 181  |    int I;
                             9158 ; 182  |    unsigned int U;
                             9159 ; 183  |
                             9160 ; 184  |} dclkcntl_type;
                             9161 ; 185  |#define HW_DCLKCNTL (*(volatile dclkcntl_type _X*) (0xFFEA))
                             9162 ; 186  |
                             9163 ; 187  |/////////////////////////////////////////////////////////////////////////////////
                             9164 ; 188  |//  DCLK Count UPPER register (HW_DCLKCNTU) Bit Positions
                             9165 ; 189  |#define HW_DCLKCNTU_HIGH_BITPOS 0
                             9166 ; 190  |
                             9167 ; 191  |#define HW_DCLKCNTU_HIGH_WIDTH (24)        
                             9168 ; 192  |
                             9169 ; 193  |#define HW_DCLKCNTU_HIGH_SETMASK (((1<<HW_DCLKCNTU_HIGH_WIDTH)-1)<<HW_DCLKCNTU_HIGH_BITPOS
                                  ) 
                             9170 ; 194  |#define HW_DCLKCNTU_HIGH_CLRMASK ~(WORD)HW_DCLKCNTU_HIGH_SETMASK
                             9171 ; 195  |typedef union               
                             9172 ; 196  |{
                             9173 ; 197  |    struct
                             9174 ; 198  |   {
                             9175 ; 199  |        int HIGH;
                             9176 ; 200  |    } B;
                             9177 ; 201  |
                             9178 ; 202  |    int I;
                             9179 ; 203  |    unsigned int U;
                             9180 ; 204  |
                             9181 ; 205  |} dclkcntu_type;
                             9182 ; 206  |#define HW_DCLKCNTU (*(volatile dclkcntu_type _X*) (0xFFEB))
                             9183 ; 207  |
                             9184 ; 208  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                             9185 ; 209  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                             9186 ; 210  |// to update the actual files. Only the defines needed to build SDK2.400 were added. 
                             9187 ; 211  |
                             9188 ; 212  |// Clock count register (lower)
                             9189 ; 213  |#define HW_CLK_CNT_L 0x00FFEA         
                             9190 ; 214  |// Clock count register (upper)
                             9191 ; 215  |#define HW_CLK_CNT_U 0x00FFEB         
                             9192 ; 216  |// Cycle steal count register
                             9193 ; 217  |#define HW_CYC_STEAL 0x00FFEC         
                             9194 ; 218  |
                             9195 ; 219  |#endif
                             9196 ; 220  |
                             9197 ; 221  |
                             9198 
                             9200 
                             9201 ; 18   |#include "regscore.h"
                             9202 
                             9204 
                             9205 ; 1    |#if !(defined(__REGS_STATUS_INC))
                             9206 ; 2    |#define __REGS_STATUS_INC 1
                             9207 ; 3    |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 148

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9208 ; 4    |
                             9209 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             9210 ; 6    |//  OMR Register (HW_OMR) Bit Positions
                             9211 ; 7    |#define HW_OMR_MA_BITPOS 0
                             9212 ; 8    |#define HW_OMR_MB_BITPOS 1
                             9213 ; 9    |#define HW_OMR_DE_BITPOS 2
                             9214 ; 10   |#define HW_OMR_YE_BITPOS 3
                             9215 ; 11   |#define HW_OMR_MC_BITPOS 4
                             9216 ; 12   |#define HW_OMR_SD_BITPOS 6
                             9217 ; 13   |
                             9218 ; 14   |#define HW_OMR_MA_SETMASK 1<<HW_OMR_MA_BITPOS
                             9219 ; 15   |#define HW_OMR_MB_SETMASK 1<<HW_OMR_MB_BITPOS
                             9220 ; 16   |#define HW_OMR_DE_SETMASK 1<<HW_OMR_DE_BITPOS
                             9221 ; 17   |#define HW_OMR_YE_SETMASK 1<<HW_OMR_YE_BITPOS
                             9222 ; 18   |#define HW_OMR_MC_SETMASK 1<<HW_OMR_MC_BITPOS
                             9223 ; 19   |#define HW_OMR_SD_SETMASK 1<<HW_OMR_SD_BITPOS
                             9224 ; 20   |
                             9225 ; 21   |#define HW_OMR_MA_CLRMASK ~(WORD)HW_OMR_MA_SETMASK
                             9226 ; 22   |#define HW_OMR_MB_CLRMASK ~(WORD)HW_OMR_MB_SETMASK
                             9227 ; 23   |#define HW_OMR_DE_CLRMASK ~(WORD)HW_OMR_DE_SETMASK
                             9228 ; 24   |#define HW_OMR_YE_CLRMASK ~(WORD)HW_OMR_YE_SETMASK
                             9229 ; 25   |#define HW_OMR_MC_CLRMASK ~(WORD)HW_OMR_MC_SETMASK
                             9230 ; 26   |#define HW_OMR_SD_CLRMASK ~(WORD)HW_OMR_SD_SETMASK
                             9231 ; 27   |
                             9232 ; 28   |
                             9233 ; 29   |/////////////////////////////////////////////////////////////////////////////////
                             9234 ; 30   |//  Status Register (HW_SR) Bit Positions
                             9235 ; 31   |#define HW_SR_C_BITPOS 0
                             9236 ; 32   |#define HW_SR_O_BITPOS 1
                             9237 ; 33   |#define HW_SR_Z_BITPOS 2
                             9238 ; 34   |#define HW_SR_N_BITPOS 3
                             9239 ; 35   |#define HW_SR_U_BITPOS 4
                             9240 ; 36   |#define HW_SR_E_BITPOS 5
                             9241 ; 37   |#define HW_SR_L_BITPOS 6
                             9242 ; 38   |#define HW_SR_IM_BITPOS 8
                             9243 ; 39   |#define HW_SR_IM0_BITPOS 8
                             9244 ; 40   |#define HW_SR_IM1_BITPOS 9
                             9245 ; 41   |#define HW_SR_SM_BITPOS 10
                             9246 ; 42   |#define HW_SR_SM0_BITPOS 10
                             9247 ; 43   |#define HW_SR_SM1_BITPOS 11
                             9248 ; 44   |#define HW_SR_TM_BITPOS 13
                             9249 ; 45   |#define HW_SR_DP_BITPOS 14
                             9250 ; 46   |#define HW_SR_LOOP_BITPOS 15
                             9251 ; 47   |
                             9252 ; 48   |#define HW_SR_C_SETMASK 1<<HW_SR_C_BITPOS
                             9253 ; 49   |#define HW_SR_O_SETMASK 1<<HW_SR_O_BITPOS
                             9254 ; 50   |#define HW_SR_Z_SETMASK 1<<HW_SR_Z_BITPOS
                             9255 ; 51   |#define HW_SR_N_SETMASK 1<<HW_SR_N_BITPOS
                             9256 ; 52   |#define HW_SR_U_SETMASK 1<<HW_SR_U_BITPOS
                             9257 ; 53   |#define HW_SR_E_SETMASK 1<<HW_SR_E_BITPOS
                             9258 ; 54   |#define HW_SR_L_SETMASK 1<<HW_SR_L_BITPOS
                             9259 ; 55   |#define HW_SR_IM_SETMASK 3<<HW_SR_IM_BITPOS
                             9260 ; 56   |#define HW_SR_IM0_SETMASK 1<<HW_SR_IM0_BITPOS
                             9261 ; 57   |#define HW_SR_IM1_SETMASK 1<<HW_SR_IM1_BITPOS
                             9262 ; 58   |#define HW_SR_IM_L0_SETMASK 0<<HW_SR_IM_BITPOS
                             9263 ; 59   |#define HW_SR_IM_L1_SETMASK 1<<HW_SR_IM_BITPOS
                             9264 ; 60   |#define HW_SR_IM_L2_SETMASK 2<<HW_SR_IM_BITPOS
                             9265 ; 61   |#define HW_SR_IM_L3_SETMASK 3<<HW_SR_IM_BITPOS
                             9266 ; 62   |#define HW_SR_SM_SETMASK 3<<HW_SR_SM_BITPOS
                             9267 ; 63   |#define HW_SR_SM0_SETMASK 1<<HW_SR_SM0_BITPOS
                             9268 ; 64   |#define HW_SR_SM1_SETMASK 1<<HW_SR_SM1_BITPOS
                             9269 ; 65   |#define HW_SR_TM_SETMASK 1<<HW_SR_TM_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 149

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9270 ; 66   |#define HW_SR_DP_SETMASK 1<<HW_SR_DP_BITPOS
                             9271 ; 67   |#define HW_SR_LOOP_SETMASK 1<<HW_SR_LOOP_BITPOS
                             9272 ; 68   |
                             9273 ; 69   |#define HW_SR_C_CLRMASK ~(WORD)HW_SR_C_SETMASK
                             9274 ; 70   |#define HW_SR_O_CLRMASK ~(WORD)HW_SR_O_SETMASK
                             9275 ; 71   |#define HW_SR_Z_CLRMASK ~(WORD)HW_SR_Z_SETMASK
                             9276 ; 72   |#define HW_SR_N_CLRMASK ~(WORD)HW_SR_N_SETMASK
                             9277 ; 73   |#define HW_SR_U_CLRMASK ~(WORD)HW_SR_U_SETMASK
                             9278 ; 74   |#define HW_SR_E_CLRMASK ~(WORD)HW_SR_E_SETMASK
                             9279 ; 75   |#define HW_SR_L_CLRMASK ~(WORD)HW_SR_L_SETMASK
                             9280 ; 76   |#define HW_SR_IM_CLRMASK (0x00FFFF)&(~(WORD)HW_SR_IM_SETMASK)
                             9281 ; 77   |#define HW_SR_IM0_CLRMASK ~(WORD)HW_SR_IM0_SETMASK
                             9282 ; 78   |#define HW_SR_IM1_CLRMASK ~(WORD)HW_SR_IM1_SETMASK
                             9283 ; 79   |#define HW_SR_SM_CLRMASK ~(WORD)HW_SR_SM_SETMASK
                             9284 ; 80   |#define HW_SR_SM0_CLRMASK ~(WORD)HW_SR_SM0_SETMASK
                             9285 ; 81   |#define HW_SR_SM1_CLRMASK ~(WORD)HW_SR_SM1_SETMASK
                             9286 ; 82   |#define HW_SR_TM_CLRMASK ~(WORD)HW_SR_TM_SETMASK
                             9287 ; 83   |#define HW_SR_DP_CLRMASK ~(WORD)HW_SR_DP_SETMASK
                             9288 ; 84   |#define HW_SR_LOOP_CLRMASK ~(WORD)HW_SR_LOOP_SETMASK
                             9289 ; 85   |
                             9290 ; 86   |/////////////////////////////////////////////////////////////////////////////////
                             9291 ; 87   |//  RAM/ROM Config Register Bit Positions
                             9292 ; 88   |#define HW_RAM_ROM_CFG_ROM_IMAGE_EN_BITPOS 18
                             9293 ; 89   |#define HW_RAM_ROM_CFG_ROM_CLK_EN_BITPOS 19
                             9294 ; 90   |#define HW_RAM_ROM_CFG_PXRAM_CLK_EN_BITPOS 20
                             9295 ; 91   |#define HW_RAM_ROM_CFG_PYRAM_CLK_EN_BITPOS 21
                             9296 ; 92   |#endif
                             9297 ; 93   |
                             9298 ; 94   |
                             9299 
                             9301 
                             9302 ; 19   |#include "regscodec.h"
                             9303 
                             9305 
                             9306 ; 1    |#if !(defined(regscodecinc))
                             9307 ; 2    |#define regscodecinc 1
                             9308 ; 3    |
                             9309 ; 4    |
                             9310 ; 5    |
                             9311 ; 6    |#include "types.h"
                             9312 
                             9314 
                             9315 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             9316 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             9317 ; 3    |//
                             9318 ; 4    |// Filename: types.h
                             9319 ; 5    |// Description: Standard data types
                             9320 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             9321 ; 7    |
                             9322 ; 8    |#ifndef _TYPES_H
                             9323 ; 9    |#define _TYPES_H
                             9324 ; 10   |
                             9325 ; 11   |// TODO:  move this outta here!
                             9326 ; 12   |#if !defined(NOERROR)
                             9327 ; 13   |#define NOERROR 0
                             9328 ; 14   |#define SUCCESS 0
                             9329 ; 15   |#endif 
                             9330 ; 16   |#if !defined(SUCCESS)
                             9331 ; 17   |#define SUCCESS  0
                             9332 ; 18   |#endif
                             9333 ; 19   |#if !defined(ERROR)
                             9334 ; 20   |#define ERROR   -1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 150

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9335 ; 21   |#endif
                             9336 ; 22   |#if !defined(FALSE)
                             9337 ; 23   |#define FALSE 0
                             9338 ; 24   |#endif
                             9339 ; 25   |#if !defined(TRUE)
                             9340 ; 26   |#define TRUE  1
                             9341 ; 27   |#endif
                             9342 ; 28   |
                             9343 ; 29   |#if !defined(NULL)
                             9344 ; 30   |#define NULL 0
                             9345 ; 31   |#endif
                             9346 ; 32   |
                             9347 ; 33   |#define MAX_INT     0x7FFFFF
                             9348 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             9349 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             9350 ; 36   |#define MAX_ULONG   (-1) 
                             9351 ; 37   |
                             9352 ; 38   |#define WORD_SIZE   24              // word size in bits
                             9353 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             9354 ; 40   |
                             9355 ; 41   |
                             9356 ; 42   |#define BYTE    unsigned char       // btVarName
                             9357 ; 43   |#define CHAR    signed char         // cVarName
                             9358 ; 44   |#define USHORT  unsigned short      // usVarName
                             9359 ; 45   |#define SHORT   unsigned short      // sVarName
                             9360 ; 46   |#define WORD    unsigned int        // wVarName
                             9361 ; 47   |#define INT     signed int          // iVarName
                             9362 ; 48   |#define DWORD   unsigned long       // dwVarName
                             9363 ; 49   |#define LONG    signed long         // lVarName
                             9364 ; 50   |#define BOOL    unsigned int        // bVarName
                             9365 ; 51   |#define FRACT   _fract              // frVarName
                             9366 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             9367 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             9368 ; 54   |#define FLOAT   float               // fVarName
                             9369 ; 55   |#define DBL     double              // dVarName
                             9370 ; 56   |#define ENUM    enum                // eVarName
                             9371 ; 57   |#define CMX     _complex            // cmxVarName
                             9372 ; 58   |typedef WORD UCS3;                   // 
                             9373 ; 59   |
                             9374 ; 60   |#define UINT16  unsigned short
                             9375 ; 61   |#define UINT8   unsigned char   
                             9376 ; 62   |#define UINT32  unsigned long
                             9377 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             9378 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             9379 ; 65   |#define WCHAR   UINT16
                             9380 ; 66   |
                             9381 ; 67   |//UINT128 is 16 bytes or 6 words
                             9382 ; 68   |typedef struct UINT128_3500 {   
                             9383 ; 69   |    int val[6];     
                             9384 ; 70   |} UINT128_3500;
                             9385 ; 71   |
                             9386 ; 72   |#define UINT128   UINT128_3500
                             9387 ; 73   |
                             9388 ; 74   |// Little endian word packed byte strings:   
                             9389 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9390 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9391 ; 77   |// Little endian word packed byte strings:   
                             9392 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9393 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9394 ; 80   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 151

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9395 ; 81   |// Declare Memory Spaces To Use When Coding
                             9396 ; 82   |// A. Sector Buffers
                             9397 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             9398 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             9399 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             9400 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             9401 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             9402 ; 88   |// B. Media DDI Memory
                             9403 ; 89   |#define MEDIA_DDI_MEM _Y
                             9404 ; 90   |
                             9405 ; 91   |
                             9406 ; 92   |
                             9407 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             9408 ; 94   |// Examples of circular pointers:
                             9409 ; 95   |//    INT CIRC cpiVarName
                             9410 ; 96   |//    DWORD CIRC cpdwVarName
                             9411 ; 97   |
                             9412 ; 98   |#define RETCODE INT                 // rcVarName
                             9413 ; 99   |
                             9414 ; 100  |// generic bitfield structure
                             9415 ; 101  |struct Bitfield {
                             9416 ; 102  |    unsigned int B0  :1;
                             9417 ; 103  |    unsigned int B1  :1;
                             9418 ; 104  |    unsigned int B2  :1;
                             9419 ; 105  |    unsigned int B3  :1;
                             9420 ; 106  |    unsigned int B4  :1;
                             9421 ; 107  |    unsigned int B5  :1;
                             9422 ; 108  |    unsigned int B6  :1;
                             9423 ; 109  |    unsigned int B7  :1;
                             9424 ; 110  |    unsigned int B8  :1;
                             9425 ; 111  |    unsigned int B9  :1;
                             9426 ; 112  |    unsigned int B10 :1;
                             9427 ; 113  |    unsigned int B11 :1;
                             9428 ; 114  |    unsigned int B12 :1;
                             9429 ; 115  |    unsigned int B13 :1;
                             9430 ; 116  |    unsigned int B14 :1;
                             9431 ; 117  |    unsigned int B15 :1;
                             9432 ; 118  |    unsigned int B16 :1;
                             9433 ; 119  |    unsigned int B17 :1;
                             9434 ; 120  |    unsigned int B18 :1;
                             9435 ; 121  |    unsigned int B19 :1;
                             9436 ; 122  |    unsigned int B20 :1;
                             9437 ; 123  |    unsigned int B21 :1;
                             9438 ; 124  |    unsigned int B22 :1;
                             9439 ; 125  |    unsigned int B23 :1;
                             9440 ; 126  |};
                             9441 ; 127  |
                             9442 ; 128  |union BitInt {
                             9443 ; 129  |        struct Bitfield B;
                             9444 ; 130  |        int        I;
                             9445 ; 131  |};
                             9446 ; 132  |
                             9447 ; 133  |#define MAX_MSG_LENGTH 10
                             9448 ; 134  |struct CMessage
                             9449 ; 135  |{
                             9450 ; 136  |        unsigned int m_uLength;
                             9451 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             9452 ; 138  |};
                             9453 ; 139  |
                             9454 ; 140  |typedef struct {
                             9455 ; 141  |    WORD m_wLength;
                             9456 ; 142  |    WORD m_wMessage;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 152

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9457 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             9458 ; 144  |} Message;
                             9459 ; 145  |
                             9460 ; 146  |struct MessageQueueDescriptor
                             9461 ; 147  |{
                             9462 ; 148  |        int *m_pBase;
                             9463 ; 149  |        int m_iModulo;
                             9464 ; 150  |        int m_iSize;
                             9465 ; 151  |        int *m_pHead;
                             9466 ; 152  |        int *m_pTail;
                             9467 ; 153  |};
                             9468 ; 154  |
                             9469 ; 155  |struct ModuleEntry
                             9470 ; 156  |{
                             9471 ; 157  |    int m_iSignaledEventMask;
                             9472 ; 158  |    int m_iWaitEventMask;
                             9473 ; 159  |    int m_iResourceOfCode;
                             9474 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             9475 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             9476 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             9477 ; 163  |    int m_uTimeOutHigh;
                             9478 ; 164  |    int m_uTimeOutLow;
                             9479 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             9480 ; 166  |};
                             9481 ; 167  |
                             9482 ; 168  |union WaitMask{
                             9483 ; 169  |    struct B{
                             9484 ; 170  |        unsigned int m_bNone     :1;
                             9485 ; 171  |        unsigned int m_bMessage  :1;
                             9486 ; 172  |        unsigned int m_bTimer    :1;
                             9487 ; 173  |        unsigned int m_bButton   :1;
                             9488 ; 174  |    } B;
                             9489 ; 175  |    int I;
                             9490 ; 176  |} ;
                             9491 ; 177  |
                             9492 ; 178  |
                             9493 ; 179  |struct Button {
                             9494 ; 180  |        WORD wButtonEvent;
                             9495 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             9496 ; 182  |};
                             9497 ; 183  |
                             9498 ; 184  |struct Message {
                             9499 ; 185  |        WORD wMsgLength;
                             9500 ; 186  |        WORD wMsgCommand;
                             9501 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             9502 ; 188  |};
                             9503 ; 189  |
                             9504 ; 190  |union EventTypes {
                             9505 ; 191  |        struct CMessage msg;
                             9506 ; 192  |        struct Button Button ;
                             9507 ; 193  |        struct Message Message;
                             9508 ; 194  |};
                             9509 ; 195  |
                             9510 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             9511 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             9512 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             9513 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             9514 ; 200  |
                             9515 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             9516 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             9517 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 153

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9518 ; 204  |
                             9519 ; 205  |#if DEBUG
                             9520 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             9521 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             9522 ; 208  |#else 
                             9523 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             9524 ; 210  |#define DebugBuildAssert(x)    
                             9525 ; 211  |#endif
                             9526 ; 212  |
                             9527 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             9528 ; 214  |//  #pragma asm
                             9529 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             9530 ; 216  |//  #pragma endasm
                             9531 ; 217  |
                             9532 ; 218  |
                             9533 ; 219  |#ifdef COLOR_262K
                             9534 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             9535 ; 221  |#elif defined(COLOR_65K)
                             9536 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             9537 ; 223  |#else
                             9538 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             9539 ; 225  |#endif
                             9540 ; 226  |    
                             9541 ; 227  |#endif // #ifndef _TYPES_H
                             9542 
                             9544 
                             9545 ; 7    |
                             9546 ; 8    |
                             9547 ; 9    |
                             9548 ; 10   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             9549 ; 11   |
                             9550 ; 12   |//   SYSTEM STMP Registers 
                             9551 ; 13   |//      Last Edited 7.17.2003 M. Henson
                             9552 ; 14   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             9553 ; 15   |
                             9554 ; 16   |#define HW_CODEC_BASEADDR (0xFA00)
                             9555 ; 17   |
                             9556 ; 18   |
                             9557 ; 19   |
                             9558 ; 20   |
                             9559 ; 21   |
                             9560 ; 22   |
                             9561 ; 23   |/////////////////////////////////////////////////////////////////////////////////
                             9562 ; 24   |//   Headphone Control Register (HW_HPCTRL) Bit Definitions
                             9563 ; 25   |#define HW_HPCTRL_TESTIALL_BITPOS 0
                             9564 ; 26   |#define HW_HPCTRL_TESTI1_BITPOS 2
                             9565 ; 27   |#define HW_HPCTRL_POP0_BITPOS 4
                             9566 ; 28   |#define HW_HPCTRL_POP1_BITPOS 5
                             9567 ; 29   |#define HW_HPCTRL_POP2_BITPOS 6
                             9568 ; 30   |#define HW_HPCTRL_RSVD0_BITPOS 7
                             9569 ; 31   |#define HW_HPCTRL_HPPWD_BITPOS 8
                             9570 ; 32   |#define HW_HPCTRL_HPCLASSAB_BITPOS 9
                             9571 ; 33   |#define HW_HPCTRL_CAPLESS_BITPOS 10
                             9572 ; 34   |#define HW_HPCTRL_RSRVD1_BITPOS 11
                             9573 ; 35   |#define HW_HPCTRL_SHORTMODE_LR_BITPOS 12
                             9574 ; 36   |#define HW_HPCTRL_SHORTMODE_CM_BITPOS 14
                             9575 ; 37   |#define HW_HPCTRL_SHORT_LVLADJ_BITPOS 16
                             9576 ; 38   |#define HW_HPCTRL_RSRVD2_BITPOS 19
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 154

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9577 ; 39   |#define HW_HPCTRL_CHOP_CLK_BITPOS 20
                             9578 ; 40   |#define HW_HPCTRL_SHORT_LR_BITPOS 22
                             9579 ; 41   |#define HW_HPCTRL_SHORT_CM_BITPOS 23
                             9580 ; 42   |
                             9581 ; 43   |#define HW_HPCTRL_TESTIALL_WIDTH 2
                             9582 ; 44   |#define HW_HPCTRL_TESTI1_WIDTH 2
                             9583 ; 45   |#define HW_HPCTRL_POP0_WIDTH 1
                             9584 ; 46   |#define HW_HPCTRL_POP1_WIDTH 1
                             9585 ; 47   |#define HW_HPCTRL_POP2_WIDTH 1
                             9586 ; 48   |#define HW_HPCTRL_RSVD0_WIDTH 1
                             9587 ; 49   |#define HW_HPCTRL_HPPWD_WIDTH 1
                             9588 ; 50   |#define HW_HPCTRL_HPCLASSAB_WIDTH 1
                             9589 ; 51   |#define HW_HPCTRL_CAPLESS_WIDTH 1
                             9590 ; 52   |#define HW_HPCTRL_RSRVD1_WIDTH 1
                             9591 ; 53   |#define HW_HPCTRL_SHORTMODE_LR_WIDTH 2
                             9592 ; 54   |#define HW_HPCTRL_SHORTMODE_CM_WIDTH 2
                             9593 ; 55   |#define HW_HPCTRL_SHORT_LVLADJ_WIDTH 3
                             9594 ; 56   |#define HW_HPCTRL_RSRVD2_WIDTH 1
                             9595 ; 57   |#define HW_HPCTRL_CHOP_CLK_WIDTH 2
                             9596 ; 58   |#define HW_HPCTRL_SHORT_LR_WIDTH 1
                             9597 ; 59   |#define HW_HPCTRL_SHORT_CM_WIDTH 1
                             9598 ; 60   |
                             9599 ; 61   |#define HW_HPCTRL_POP_SETMASK 0x7<<HW_HPCTRL_POP0_BITPOS
                             9600 ; 62   |#define HW_HPCTRL_POP_CLRMASK ~(WORD)HW_HPCTRL_POP_SETMASK
                             9601 ; 63   |
                             9602 ; 64   |#define HW_HPCTRL_SHORT_LVLADJ_0_25X_SETMASK 0x3<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             9603 ; 65   |#define HW_HPCTRL_SHORT_LVLADJ_0_50X_SETMASK 0x2<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             9604 ; 66   |#define HW_HPCTRL_SHORT_LVLADJ_0_75X_SETMASK 0x1<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             9605 ; 67   |#define HW_HPCTRL_SHORT_LVLADJ_1_00X_SETMASK 0x0<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             9606 ; 68   |#define HW_HPCTRL_SHORT_LVLADJ_1_25X_SETMASK 0x4<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             9607 ; 69   |#define HW_HPCTRL_SHORT_LVLADJ_1_50X_SETMASK 0x5<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             9608 ; 70   |#define HW_HPCTRL_SHORT_LVLADJ_1_75X_SETMASK 0x6<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             9609 ; 71   |#define HW_HPCTRL_SHORT_LVLADJ_2_00X_SETMASK 0x7<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             9610 ; 72   |
                             9611 ; 73   |#if defined(CAPLESS_HP)
                             9612 ; 74   |#define HP_SHORT_TRIP_POINT HW_HPCTRL_SHORT_LVLADJ_0_75X_SETMASK
                             9613 ; 75   |#else 
                             9614 ; 76   |#define HP_SHORT_TRIP_POINT HW_HPCTRL_SHORT_LVLADJ_1_00X_SETMASK
                             9615 ; 77   |#endif
                             9616 ; 78   |
                             9617 ; 79   |// Headphone control register
                             9618 ; 80   |#define HW_HPCTRL (*(volatile hpctrl_type _X*)(HW_GLUE_BASEADDR+21))
                             9619 ; 81   |/////////////////////////////////////////////////////////////////////////////////
                             9620 ; 82   |//   Headphone Conrol Volume Register (HW_HPCTRL) Bit Definitions
                             9621 ; 83   |typedef union               
                             9622 ; 84   |{
                             9623 ; 85   |    struct {
                             9624 ; 86   |        unsigned TESTIALL :HW_HPCTRL_TESTIALL_WIDTH;
                             9625 ; 87   |        unsigned TESTI1 :HW_HPCTRL_TESTI1_WIDTH;
                             9626 ; 88   |        unsigned POP0 :HW_HPCTRL_POP0_WIDTH; 
                             9627 ; 89   |        unsigned POP1 :HW_HPCTRL_POP1_WIDTH; 
                             9628 ; 90   |        unsigned POP2 :HW_HPCTRL_POP2_WIDTH; 
                             9629 ; 91   |        unsigned RSVD0 :HW_HPCTRL_RSVD0_WIDTH;
                             9630 ; 92   |        unsigned HPPWD :HW_HPCTRL_HPPWD_WIDTH;
                             9631 ; 93   |        unsigned HPCLASSAB :HW_HPCTRL_HPCLASSAB_WIDTH;
                             9632 ; 94   |        unsigned CAPLESS :HW_HPCTRL_CAPLESS_WIDTH; 
                             9633 ; 95   |        unsigned RSRVD1 :HW_HPCTRL_RSRVD1_WIDTH;
                             9634 ; 96   |        unsigned SHORTMODE_LR :HW_HPCTRL_SHORTMODE_LR_WIDTH; 
                             9635 ; 97   |        unsigned SHORTMODE_CM :HW_HPCTRL_SHORTMODE_CM_WIDTH;
                             9636 ; 98   |        unsigned SHORT_LVLADJ :HW_HPCTRL_SHORT_LVLADJ_WIDTH; 
                             9637 ; 99   |        unsigned RSRVD2 :HW_HPCTRL_RSRVD2_WIDTH;
                             9638 ; 100  |        unsigned CHOP_CLK :HW_HPCTRL_CHOP_CLK_WIDTH; 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 155

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9639 ; 101  |        unsigned SHORT_LR :HW_HPCTRL_SHORT_LR_WIDTH;
                             9640 ; 102  |        unsigned SHORT_CM :HW_HPCTRL_SHORT_CM_WIDTH;
                             9641 ; 103  |    } B;
                             9642 ; 104  |    int I;
                             9643 ; 105  |    unsigned int U;
                             9644 ; 106  |} hpctrl_type;
                             9645 ; 107  |// Headphone control short mode 2 bit values for above short bitfield.
                             9646 ; 108  |#define HW_AUTO_HEADAMP_SHUTDOWN_HOLD_RESET   0
                             9647 ; 109  |#define HW_AUTO_HEADAMP_SHUTDOWN_EN           1 
                             9648 ; 110  |#define HW_AUTO_HEADAMP_SHUTDOWN_DIS          2
                             9649 ; 111  |#define HW_AUTO_HEADAMP_SHUTDOWN_DIRECT       3
                             9650 ; 112  |
                             9651 ; 113  |
                             9652 ; 114  |/////////////////////////////////////////////////////////////////////////////////
                             9653 ; 115  |/////////////////////////////////////////////////////////////////////////////////
                             9654 ; 116  |/////////////////////////////////////////////////////////////////////////////////
                             9655 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                             9656 ; 118  |///////   MIXER REGISTERS ///////////////////////////////////////////////////////
                             9657 ; 119  |/////////////////////////////////////////////////////////////////////////////////
                             9658 ; 120  |/////////////////////////////////////////////////////////////////////////////////
                             9659 ; 121  |/////////////////////////////////////////////////////////////////////////////////
                             9660 ; 122  |
                             9661 ; 123  |
                             9662 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                             9663 ; 125  |//   Codec/Mixer Test Register (HW_MIXTBR) Bit Definitions 
                             9664 ; 126  |#define HW_MIXTBR_INV_USB_CLK_BITPOS 0
                             9665 ; 127  |#define HW_MIXTBR_USB_DFF_BYPASS_BITPOS 1
                             9666 ; 128  |#define HW_MIXTBR_HOLD_GND_BITPOS 2
                             9667 ; 129  |#define HW_MIXTBR_ACKI_BITPOS 3
                             9668 ; 130  |#define HW_MIXTBR_ASD2X_BITPOS 4
                             9669 ; 131  |#define HW_MIXTBR_PCPCU_BITPOS 5
                             9670 ; 132  |#define HW_MIXTBR_PCPCD_BITPOS 6
                             9671 ; 133  |#define HW_MIXTBR_DCKI_BITPOS 7
                             9672 ; 134  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_BITPOS 8
                             9673 ; 135  |#define HW_MIXTBR_PSRN_BITPOS 9
                             9674 ; 136  |#define HW_MIXTBR_FX2_BITPOS 10
                             9675 ; 137  |#define HW_MIXTBR_VCOS_BITPOS 11
                             9676 ; 138  |#define HW_MIXTBR_XBCO_BITPOS 12
                             9677 ; 139  |#define HW_MIXTBR_XBGC_BITPOS 13
                             9678 ; 140  |#define HW_MIXTBR_ADTHD_BITPOS 14
                             9679 ; 141  |#define HW_MIXTBR_MICBIAS_LSBITPOS 15
                             9680 ; 142  |#define HW_MIXTBR_PWDADC_BITPOS 16
                             9681 ; 143  |#define HW_MIXTBR_MICBIAS1_BITPOS 17
                             9682 ; 144  |#define HW_MIXTBR_EZD_BITPOS 18
                             9683 ; 145  |#define HW_MIXTBR_DZCDA_BITPOS 19
                             9684 ; 146  |#define HW_MIXTBR_DZCFM_BITPOS 20
                             9685 ; 147  |#define HW_MIXTBR_DZCLI_BITPOS 21
                             9686 ; 148  |#define HW_MIXTBR_DZCMI_BITPOS 22
                             9687 ; 149  |#define HW_MIXTBR_DZCMA_BITPOS 23
                             9688 ; 150  |
                             9689 ; 151  |#define HW_MIXTBR_INV_USB_CLK_WIDTH (1)
                             9690 ; 152  |#define HW_MIXTBR_USB_DFF_BYPASS_WIDTH (1)
                             9691 ; 153  |#define HW_MIXTBR_HOLD_GND_WIDTH (1)
                             9692 ; 154  |#define HW_MIXTBR_ACKI_WIDTH (1)
                             9693 ; 155  |#define HW_MIXTBR_ASD2X_WIDTH (1)
                             9694 ; 156  |#define HW_MIXTBR_PCPCU_WIDTH (1)
                             9695 ; 157  |#define HW_MIXTBR_PCPCD_WIDTH (1)
                             9696 ; 158  |#define HW_MIXTBR_DCKI_WIDTH (1)
                             9697 ; 159  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_WIDTH (1)
                             9698 ; 160  |#define HW_MIXTBR_PSRN_WIDTH (1)
                             9699 ; 161  |#define HW_MIXTBR_FX2_WIDTH (1)
                             9700 ; 162  |#define HW_MIXTBR_VCOS_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 156

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9701 ; 163  |#define HW_MIXTBR_XBCO_WIDTH (1)
                             9702 ; 164  |#define HW_MIXTBR_XBGC_WIDTH (1)
                             9703 ; 165  |#define HW_MIXTBR_ADTHD_WIDTH (1)
                             9704 ; 166  |#define HW_MIXTBR_MICBIAS_LSWIDTH (1)
                             9705 ; 167  |#define HW_MIXTBR_PWDADC_WIDTH (1)
                             9706 ; 168  |#define HW_MIXTBR_MICBIAS1_WIDTH (1)
                             9707 ; 169  |#define HW_MIXTBR_EZD_WIDTH (1)
                             9708 ; 170  |#define HW_MIXTBR_DZCDA_WIDTH (1)
                             9709 ; 171  |#define HW_MIXTBR_DZCFM_WIDTH (1)
                             9710 ; 172  |#define HW_MIXTBR_DZCLI_WIDTH (1)
                             9711 ; 173  |#define HW_MIXTBR_DZCMI_WIDTH (1)
                             9712 ; 174  |#define HW_MIXTBR_DZCMA_WIDTH (1)
                             9713 ; 175  |
                             9714 ; 176  |
                             9715 ; 177  |#define HW_MIXTBR_INV_USB_CLK_SETMASK 1<<HW_MIXTBR_INV_USB_CLK_BITPOS
                             9716 ; 178  |#define HW_MIXTBR_USB_DFF_BYPASS_SETMASK 1<<HW_MIXTBR_USB_DFF_BYPASS_BITPOS
                             9717 ; 179  |#define HW_MIXTBR_HOLD_GND_SETMASK 1<<HW_MIXTBR_HOLD_GND_BITPOS
                             9718 ; 180  |#define HW_MIXTBR_ACKI_SETMASK 1<<HW_MIXTBR_ACKI_BITPOS
                             9719 ; 181  |#define HW_MIXTBR_ASD2X_SETMASK 1<<HW_MIXTBR_ASD2X_BITPOS
                             9720 ; 182  |#define HW_MIXTBR_PCPCU_SETMASK 1<<HW_MIXTBR_PCPCU_BITPOS
                             9721 ; 183  |#define HW_MIXTBR_PCPCD_SETMASK 1<<HW_MIXTBR_PCPCD_BITPOS
                             9722 ; 184  |#define HW_MIXTBR_DCKI_SETMASK 1<<HW_MIXTBR_DCKI_BITPOS
                             9723 ; 185  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_SETMASK 1<<HW_MIXTBR_MIC_BIAS_OUT_SEL_BITPOS
                             9724 ; 186  |#define HW_MIXTBR_PSRN_SETMASK 1<<HW_MIXTBR_PSRN_BITPOS
                             9725 ; 187  |#define HW_MIXTBR_FX2_SETMASK 1<<HW_MIXTBR_FX2_BITPOS
                             9726 ; 188  |#define HW_MIXTBR_VCOS_SETMASK 1<<HW_MIXTBR_VCOS_BITPOS
                             9727 ; 189  |#define HW_MIXTBR_XBCO_SETMASK 1<<HW_MIXTBR_XBCO_BITPOS
                             9728 ; 190  |#define HW_MIXTBR_XBGC_SETMASK 1<<HW_MIXTBR_XBGC_BITPOS
                             9729 ; 191  |#define HW_MIXTBR_ADTHD_SETMASK 1<<HW_MIXTBR_ADTHD_BITPOS
                             9730 ; 192  |#define HW_MIXTBR_MICBIAS_LSSETMASK 1<<HW_MIXTBR_MICBIAS_LSBITPOS
                             9731 ; 193  |#define HW_MIXTBR_PWDADC_SETMASK 1<<HW_MIXTBR_PWDADC_BITPOS
                             9732 ; 194  |#define HW_MIXTBR_MICBIAS1_SETMASK 1<<HW_MIXTBR_MICBIAS1_BITPOS
                             9733 ; 195  |#define HW_MIXTBR_EZD_SETMASK 1<<HW_MIXTBR_EZD_BITPOS
                             9734 ; 196  |#define HW_MIXTBR_DZCDA_SETMASK 1<<HW_MIXTBR_DZCDA_BITPOS
                             9735 ; 197  |#define HW_MIXTBR_DZCFM_SETMASK 1<<HW_MIXTBR_DZCFM_BITPOS
                             9736 ; 198  |#define HW_MIXTBR_DZCLI_SETMASK 1<<HW_MIXTBR_DZCLI_BITPOS
                             9737 ; 199  |#define HW_MIXTBR_DZCMI_SETMASK 1<<HW_MIXTBR_DZCMI_BITPOS
                             9738 ; 200  |#define HW_MIXTBR_DZCMA_SETMASK 1<<HW_MIXTBR_DZCMA_BITPOS
                             9739 ; 201  |
                             9740 ; 202  |#define HW_MIXTBR_INV_USB_CLK_CLRMASK ~(WORD)HW_MIXTBR_INV_USB_CLK_SETMASK
                             9741 ; 203  |#define HW_MIXTBR_USB_DFF_BYPASS_CLRMASK ~(WORD)HW_MIXTBR_USB_DFF_BYPASS_SETMASK
                             9742 ; 204  |#define HW_MIXTBR_HOLD_GND_CLRMASK ~(WORD)HW_MIXTBR_HOLD_GND_SETMASK
                             9743 ; 205  |#define HW_MIXTBR_ACKI_CLRMASK ~(WORD)HW_MIXTBR_ACKI_SETMASK
                             9744 ; 206  |#define HW_MIXTBR_ASD2X_CLRMASK ~(WORD)HW_MIXTBR_ASD2X_SETMASK
                             9745 ; 207  |#define HW_MIXTBR_PCPCU_CLRMASK ~(WORD)HW_MIXTBR_PCPCU_SETMASK
                             9746 ; 208  |#define HW_MIXTBR_PCPCD_CLRMASK ~(WORD)HW_MIXTBR_PCPCD_SETMASK
                             9747 ; 209  |#define HW_MIXTBR_DCKI_CLRMASK ~(WORD)HW_MIXTBR_DCKI_SETMASK
                             9748 ; 210  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_CLRMASK ~(WORD)HW_MIXTBR_MIC_BIAS_OUT_SEL_SETMASK
                             9749 ; 211  |#define HW_MIXTBR_PSRN_CLRMASK ~(WORD)HW_MIXTBR_PSRN_SETMASK
                             9750 ; 212  |#define HW_MIXTBR_FX2_CLRMASK ~(WORD)HW_MIXTBR_FX2_SETMASK
                             9751 ; 213  |#define HW_MIXTBR_VCOS_CLRMASK ~(WORD)HW_MIXTBR_VCOS_SETMASK
                             9752 ; 214  |#define HW_MIXTBR_XBCO_CLRMASK ~(WORD)HW_MIXTBR_XBCO_SETMASK
                             9753 ; 215  |#define HW_MIXTBR_XBGC_CLRMASK ~(WORD)HW_MIXTBR_XBGC_SETMASK
                             9754 ; 216  |#define HW_MIXTBR_ADTHD_CLRMASK ~(WORD)HW_MIXTBR_ADTHD_SETMASK
                             9755 ; 217  |#define HW_MIXTBR_MICBIAS_LSCLRMASK ~(WORD)HW_MIXTBR_MICBIAS_LSSETMASK
                             9756 ; 218  |#define HW_MIXTBR_PWDADC_CLRMASK ~(WORD)HW_MIXTBR_PWDADC_SETMASK
                             9757 ; 219  |#define HW_MIXTBR_MICBIAS1_CLRMASK ~(WORD)HW_MIXTBR_MICBIAS1_SETMASK
                             9758 ; 220  |#define HW_MIXTBR_EZD_CLRMASK ~(WORD)HW_MIXTBR_EZD_SETMASK
                             9759 ; 221  |#define HW_MIXTBR_DZCDA_CLRMASK ~(WORD)HW_MIXTBR_DZCDA_SETMASK
                             9760 ; 222  |#define HW_MIXTBR_DZCFM_CLRMASK ~(WORD)HW_MIXTBR_DZCFM_SETMASK
                             9761 ; 223  |#define HW_MIXTBR_DZCLI_CLRMASK ~(WORD)HW_MIXTBR_DZCLI_SETMASK
                             9762 ; 224  |#define HW_MIXTBR_DZCMI_CLRMASK ~(WORD)HW_MIXTBR_DZCMI_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 157

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9763 ; 225  |#define HW_MIXTBR_DZCMA_CLRMASK ~(WORD)HW_MIXTBR_DZCMA_SETMASK
                             9764 ; 226  |
                             9765 ; 227  |typedef union               
                             9766 ; 228  |{
                             9767 ; 229  |    struct {
                             9768 ; 230  |        int INV_USB_CLK            : 1;
                             9769 ; 231  |        int USB_DFF_BYPASS         : 1;
                             9770 ; 232  |        int HOLD_GND               : 1;
                             9771 ; 233  |        int ACKI                   : 1;
                             9772 ; 234  |        int ASD2X                  : 1;
                             9773 ; 235  |        int PCPCU                  : 1;
                             9774 ; 236  |        int PCPCD                  : 1;
                             9775 ; 237  |        int DCKI                   : 1;
                             9776 ; 238  |        int MIC_BIAS_OUT_SEL       : 1;
                             9777 ; 239  |        int PSRN                   : 1;
                             9778 ; 240  |        int FX2                    : 1;
                             9779 ; 241  |        int VCOS                   : 1;
                             9780 ; 242  |        int XBCO                   : 1;
                             9781 ; 243  |        int XBGC                   : 1;
                             9782 ; 244  |        int ADTHD                  : 1;
                             9783 ; 245  |        int MICBIAS_LSBITPOS       : 1;
                             9784 ; 246  |        int PWDADC                 : 1;
                             9785 ; 247  |        int MICBIAS1               : 1;
                             9786 ; 248  |        int EZD                    : 1;
                             9787 ; 249  |        int DZCDA                  : 1;
                             9788 ; 250  |        int DZCFM                  : 1;
                             9789 ; 251  |        int DZCLI                  : 1;
                             9790 ; 252  |        int DZCMI                  : 1;
                             9791 ; 253  |        int DZCMA                  : 1;
                             9792 ; 254  |    } B;
                             9793 ; 255  |    int I;
                             9794 ; 256  |    unsigned int U;
                             9795 ; 257  |} mix_tbr_type;
                             9796 ; 258  |#define HW_MIXTBR      (*(volatile mix_tbr_type _X*) (HW_CODEC_BASEADDR+3))
                             9797 ; 259  |
                             9798 ; 260  |
                             9799 ; 261  |/////////////////////////////////////////////////////////////////////////////////
                             9800 ; 262  |//   Generic Volume Register (HW_MIXMASTERVR) Bit Definitions
                             9801 ; 263  |#define HW_MIXVOLUMER_MR_BITPOS 0
                             9802 ; 264  |#define HW_MIXVOLUMER_ML_BITPOS 8
                             9803 ; 265  |#define HW_MIXVOLUMER_MUTE_BITPOS 15
                             9804 ; 266  |
                             9805 ; 267  |#define HW_MIXVOLUMER_MR_WIDTH (5)
                             9806 ; 268  |#define HW_MIXVOLUMER_ML_WIDTH (5)
                             9807 ; 269  |#define HW_MIXVOLUMER_MUTE_WIDTH 1
                             9808 ; 270  |
                             9809 ; 271  |#define HW_MIXVOLUMER_MR_SETMASK 0x1F<<HW_MIXVOLUMER_MR_BITPOS
                             9810 ; 272  |#define HW_MIXVOLUMER_ML_SETMASK 0x1F<<HW_MIXVOLUMER_ML_BITPOS
                             9811 ; 273  |#define HW_MIXVOLUMER_MUTE_SETMASK 1<<HW_MIXVOLUMER_MUTE_BITPOS
                             9812 ; 274  |
                             9813 ; 275  |#define HW_MIXVOLUMER_MR_CLRMASK ~(WORD)HW_MIXVOLUMER_MR_SETMASK
                             9814 ; 276  |#define HW_MIXVOLUMER_ML_CLRMASK ~(WORD)HW_MIXVOLUMER_ML_SETMASK
                             9815 ; 277  |#define HW_MIXVOLUMER_MUTE_CLRMASK ~(WORD)HW_MIXVOLUMER_MUTE_SETMASK
                             9816 ; 278  |
                             9817 ; 279  |#define HW_MIXVOLUMER_ML_PLUS_12P0_SETMASK 0<<HW_MIXVOLUMER_ML_BITPOS
                             9818 ; 280  |#define HW_MIXVOLUMER_ML_PLUS_10P5_SETMASK 1<<HW_MIXVOLUMER_ML_BITPOS
                             9819 ; 281  |#define HW_MIXVOLUMER_ML_PLUS_09P0_SETMASK 2<<HW_MIXVOLUMER_ML_BITPOS
                             9820 ; 282  |#define HW_MIXVOLUMER_ML_PLUS_07P5_SETMASK 3<<HW_MIXVOLUMER_ML_BITPOS
                             9821 ; 283  |#define HW_MIXVOLUMER_ML_PLUS_06P0_SETMASK 4<<HW_MIXVOLUMER_ML_BITPOS
                             9822 ; 284  |#define HW_MIXVOLUMER_ML_PLUS_04P5_SETMASK 5<<HW_MIXVOLUMER_ML_BITPOS
                             9823 ; 285  |#define HW_MIXVOLUMER_ML_PLUS_03P0_SETMASK 6<<HW_MIXVOLUMER_ML_BITPOS
                             9824 ; 286  |#define HW_MIXVOLUMER_ML_PLUS_01P5_SETMASK 7<<HW_MIXVOLUMER_ML_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 158

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9825 ; 287  |#define HW_MIXVOLUMER_ML_ZERO_SETMASK 8<<HW_MIXVOLUMER_ML_BITPOS
                             9826 ; 288  |#define HW_MIXVOLUMER_ML_MINUS_01P5_SETMASK 9<<HW_MIXVOLUMER_ML_BITPOS
                             9827 ; 289  |#define HW_MIXVOLUMER_ML_MINUS_03P0_SETMASK 10<<HW_MIXVOLUMER_ML_BITPOS
                             9828 ; 290  |#define HW_MIXVOLUMER_ML_MINUS_04P5_SETMASK 11<<HW_MIXVOLUMER_ML_BITPOS
                             9829 ; 291  |#define HW_MIXVOLUMER_ML_MINUS_06P0_SETMASK 12<<HW_MIXVOLUMER_ML_BITPOS
                             9830 ; 292  |#define HW_MIXVOLUMER_ML_MINUS_07P5_SETMASK 13<<HW_MIXVOLUMER_ML_BITPOS
                             9831 ; 293  |#define HW_MIXVOLUMER_ML_MINUS_09P0_SETMASK 14<<HW_MIXVOLUMER_ML_BITPOS
                             9832 ; 294  |#define HW_MIXVOLUMER_ML_MINUS_10P5_SETMASK 15<<HW_MIXVOLUMER_ML_BITPOS
                             9833 ; 295  |#define HW_MIXVOLUMER_ML_MINUS_12P0_SETMASK 16<<HW_MIXVOLUMER_ML_BITPOS
                             9834 ; 296  |#define HW_MIXVOLUMER_ML_MINUS_13P5_SETMASK 17<<HW_MIXVOLUMER_ML_BITPOS
                             9835 ; 297  |#define HW_MIXVOLUMER_ML_MINUS_15P0_SETMASK 18<<HW_MIXVOLUMER_ML_BITPOS
                             9836 ; 298  |#define HW_MIXVOLUMER_ML_MINUS_16P5_SETMASK 19<<HW_MIXVOLUMER_ML_BITPOS
                             9837 ; 299  |#define HW_MIXVOLUMER_ML_MINUS_18P0_SETMASK 20<<HW_MIXVOLUMER_ML_BITPOS
                             9838 ; 300  |#define HW_MIXVOLUMER_ML_MINUS_19P5_SETMASK 21<<HW_MIXVOLUMER_ML_BITPOS
                             9839 ; 301  |#define HW_MIXVOLUMER_ML_MINUS_21P0_SETMASK 22<<HW_MIXVOLUMER_ML_BITPOS
                             9840 ; 302  |#define HW_MIXVOLUMER_ML_MINUS_22P5_SETMASK 23<<HW_MIXVOLUMER_ML_BITPOS
                             9841 ; 303  |#define HW_MIXVOLUMER_ML_MINUS_24P0_SETMASK 24<<HW_MIXVOLUMER_ML_BITPOS
                             9842 ; 304  |#define HW_MIXVOLUMER_ML_MINUS_25P5_SETMASK 25<<HW_MIXVOLUMER_ML_BITPOS
                             9843 ; 305  |#define HW_MIXVOLUMER_ML_MINUS_27P0_SETMASK 26<<HW_MIXVOLUMER_ML_BITPOS
                             9844 ; 306  |#define HW_MIXVOLUMER_ML_MINUS_28P5_SETMASK 27<<HW_MIXVOLUMER_ML_BITPOS
                             9845 ; 307  |#define HW_MIXVOLUMER_ML_MINUS_30P0_SETMASK 28<<HW_MIXVOLUMER_ML_BITPOS
                             9846 ; 308  |#define HW_MIXVOLUMER_ML_MINUS_31P5_SETMASK 29<<HW_MIXVOLUMER_ML_BITPOS
                             9847 ; 309  |#define HW_MIXVOLUMER_ML_MINUS_33P0_SETMASK 30<<HW_MIXVOLUMER_ML_BITPOS
                             9848 ; 310  |#define HW_MIXVOLUMER_ML_MINUS_34P5_SETMASK 31<<HW_MIXVOLUMER_ML_BITPOS
                             9849 ; 311  |
                             9850 ; 312  |#define HW_MIXVOLUMER_MR_PLUS_12P0_SETMASK 0
                             9851 ; 313  |#define HW_MIXVOLUMER_MR_PLUS_10P5_SETMASK 1
                             9852 ; 314  |#define HW_MIXVOLUMER_MR_PLUS_09P0_SETMASK 2
                             9853 ; 315  |#define HW_MIXVOLUMER_MR_PLUS_07P5_SETMASK 3
                             9854 ; 316  |#define HW_MIXVOLUMER_MR_PLUS_06P0_SETMASK 4
                             9855 ; 317  |#define HW_MIXVOLUMER_MR_PLUS_04P5_SETMASK 5
                             9856 ; 318  |#define HW_MIXVOLUMER_MR_PLUS_03P0_SETMASK 6
                             9857 ; 319  |#define HW_MIXVOLUMER_MR_PLUS_01P5_SETMASK 7
                             9858 ; 320  |#define HW_MIXVOLUMER_MR_ZERO_SETMASK 8
                             9859 ; 321  |#define HW_MIXVOLUMER_MR_MINUS_01P5_SETMASK 9
                             9860 ; 322  |#define HW_MIXVOLUMER_MR_MINUS_03P0_SETMASK 10
                             9861 ; 323  |#define HW_MIXVOLUMER_MR_MINUS_04P5_SETMASK 11
                             9862 ; 324  |#define HW_MIXVOLUMER_MR_MINUS_06P0_SETMASK 12
                             9863 ; 325  |#define HW_MIXVOLUMER_MR_MINUS_07P5_SETMASK 13
                             9864 ; 326  |#define HW_MIXVOLUMER_MR_MINUS_09P0_SETMASK 14
                             9865 ; 327  |#define HW_MIXVOLUMER_MR_MINUS_10P5_SETMASK 15
                             9866 ; 328  |#define HW_MIXVOLUMER_MR_MINUS_12P0_SETMASK 16
                             9867 ; 329  |#define HW_MIXVOLUMER_MR_MINUS_13P5_SETMASK 17
                             9868 ; 330  |#define HW_MIXVOLUMER_MR_MINUS_15P0_SETMASK 18
                             9869 ; 331  |#define HW_MIXVOLUMER_MR_MINUS_16P5_SETMASK 19
                             9870 ; 332  |#define HW_MIXVOLUMER_MR_MINUS_18P0_SETMASK 20
                             9871 ; 333  |#define HW_MIXVOLUMER_MR_MINUS_19P5_SETMASK 21
                             9872 ; 334  |#define HW_MIXVOLUMER_MR_MINUS_21P0_SETMASK 22
                             9873 ; 335  |#define HW_MIXVOLUMER_MR_MINUS_22P5_SETMASK 23
                             9874 ; 336  |#define HW_MIXVOLUMER_MR_MINUS_24P0_SETMASK 24
                             9875 ; 337  |#define HW_MIXVOLUMER_MR_MINUS_25P5_SETMASK 25
                             9876 ; 338  |#define HW_MIXVOLUMER_MR_MINUS_27P0_SETMASK 26
                             9877 ; 339  |#define HW_MIXVOLUMER_MR_MINUS_28P5_SETMASK 27
                             9878 ; 340  |#define HW_MIXVOLUMER_MR_MINUS_30P0_SETMASK 28
                             9879 ; 341  |#define HW_MIXVOLUMER_MR_MINUS_31P5_SETMASK 29
                             9880 ; 342  |#define HW_MIXVOLUMER_MR_MINUS_33P0_SETMASK 30
                             9881 ; 343  |#define HW_MIXVOLUMER_MR_MINUS_34P5_SETMASK 31
                             9882 ; 344  |
                             9883 ; 345  |/////////////////////////////////////////////////////////////////////////////////
                             9884 ; 346  |//   Mixer Master Volume Register (HW_MIXMASTERVR) Bit Definitions
                             9885 ; 347  |#define HW_MIXMASTERVR_MR_BITPOS 0
                             9886 ; 348  |#define HW_MIXMASTERVR_ML_BITPOS 8
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 159

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9887 ; 349  |#define HW_MIXMASTERVR_MUTE_BITPOS 15
                             9888 ; 350  |
                             9889 ; 351  |#define HW_MIXMASTERVR_MR_WIDTH (5)
                             9890 ; 352  |#define HW_MIXMASTERVR_ML_WIDTH (5)
                             9891 ; 353  |#define HW_MIXMASTERVR_MUTE_WIDTH (1)
                             9892 ; 354  |
                             9893 ; 355  |#define HW_MIXMASTERVR_MR_SETMASK 0x1F<<HW_MIXMASTERVR_MR_BITPOS
                             9894 ; 356  |#define HW_MIXMASTERVR_ML_SETMASK 0x1F<<HW_MIXMASTERVR_ML_BITPOS
                             9895 ; 357  |#define HW_MIXMASTERVR_MUTE_SETMASK 1<<HW_MIXMASTERVR_MUTE_BITPOS
                             9896 ; 358  |
                             9897 ; 359  |#define HW_MIXMASTERVR_MR_CLRMASK ~(WORD)HW_MIXMASTERVR_MR_SETMASK
                             9898 ; 360  |#define HW_MIXMASTERVR_ML_CLRMASK ~(WORD)HW_MIXMASTERVR_ML_SETMASK
                             9899 ; 361  |#define HW_MIXMASTERVR_MUTE_CLRMASK ~(WORD)HW_MIXMASTERVR_MUTE_SETMASK
                             9900 ; 362  |
                             9901 ; 363  |
                             9902 ; 364  |typedef union               
                             9903 ; 365  |{
                             9904 ; 366  |    struct
                             9905 ; 367  |    {
                             9906 ; 368  |        unsigned MR :5;
                             9907 ; 369  |        int         :3;
                             9908 ; 370  |        unsigned ML :5;
                             9909 ; 371  |        int         :2;
                             9910 ; 372  |        int MUTE    :1;
                             9911 ; 373  |    } B;
                             9912 ; 374  |    int I;
                             9913 ; 375  |    unsigned int U;
                             9914 ; 376  |} mix_mastervr_type;
                             9915 ; 377  |#define HW_MIXMASTERVR (*(volatile mix_mastervr_type _X*) (HW_CODEC_BASEADDR+4))
                             9916 ; 378  |
                             9917 ; 379  |
                             9918 ; 380  |/////////////////////////////////////////////////////////////////////////////////
                             9919 ; 381  |//   Mixer Mic In Volume Register (HW_MIXMICINVR) Bit Definitions
                             9920 ; 382  |#define HW_MIXMICINVR_GN_BITPOS 0
                             9921 ; 383  |#define HW_MIXMICINVR_P20DB_BITPOS 6
                             9922 ; 384  |#define HW_MIXMICINVR_MUTE_BITPOS 15
                             9923 ; 385  |
                             9924 ; 386  |#define HW_MIXMICINVR_GN_WIDTH 5
                             9925 ; 387  |#define HW_MIXMICINVR_RSVD1_WIDTH 1
                             9926 ; 388  |#define HW_MIXMICINVR_P20DB_WIDTH 1
                             9927 ; 389  |#define HW_MIXMICINVR_RSVD2_WIDTH 8
                             9928 ; 390  |#define HW_MIXMICINVR_MUTE_WIDTH 1
                             9929 ; 391  |#define HW_MIXMICINVR_RSVD3_WIDTH 8
                             9930 ; 392  |
                             9931 ; 393  |#define HW_MIXMICINVR_GN_SETMASK 0x1F<<HW_MIXMICINVR_GN_BITPOS
                             9932 ; 394  |#define HW_MIXMICINVR_P20DB_SETMASK 1<<HW_MIXMICINVR_P20DB_BITPOS
                             9933 ; 395  |#define HW_MIXMICINVR_MUTE_SETMASK 1<<HW_MIXMICINVR_MUTE_BITPOS
                             9934 ; 396  |
                             9935 ; 397  |#define HW_MIXMICINVR_GN_CLRMASK ~(WORD)HW_MIXMICINVR_GN_SETMASK
                             9936 ; 398  |#define HW_MIXMICINVR_P20DB_CLRMASK ~(WORD)HW_MIXMICINVR_P20DB_SETMASK
                             9937 ; 399  |#define HW_MIXMICINVR_MUTE_CLRMASK ~(WORD)HW_MIXMICINVR_MUTE_SETMASK
                             9938 ; 400  |
                             9939 ; 401  |#define HW_MIXMICINVR_GN_PLUS_12P0_SETMASK 0
                             9940 ; 402  |#define HW_MIXMICINVR_GN_PLUS_10P5_SETMASK 1
                             9941 ; 403  |#define HW_MIXMICINVR_GN_PLUS_09P0_SETMASK 2
                             9942 ; 404  |#define HW_MIXMICINVR_GN_PLUS_07P5_SETMASK 3
                             9943 ; 405  |#define HW_MIXMICINVR_GN_PLUS_06P0_SETMASK 4
                             9944 ; 406  |#define HW_MIXMICINVR_GN_PLUS_04P5_SETMASK 5
                             9945 ; 407  |#define HW_MIXMICINVR_GN_PLUS_03P0_SETMASK 6
                             9946 ; 408  |#define HW_MIXMICINVR_GN_PLUS_01P5_SETMASK 7
                             9947 ; 409  |#define HW_MIXMICINVR_GN_ZERO_SETMASK 8
                             9948 ; 410  |#define HW_MIXMICINVR_GN_MINUS_01P5_SETMASK 9
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 160

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9949 ; 411  |#define HW_MIXMICINVR_GN_MINUS_03P0_SETMASK 10
                             9950 ; 412  |#define HW_MIXMICINVR_GN_MINUS_04P5_SETMASK 11
                             9951 ; 413  |#define HW_MIXMICINVR_GN_MINUS_06P0_SETMASK 12
                             9952 ; 414  |#define HW_MIXMICINVR_GN_MINUS_07P5_SETMASK 13
                             9953 ; 415  |#define HW_MIXMICINVR_GN_MINUS_09P0_SETMASK 14
                             9954 ; 416  |#define HW_MIXMICINVR_GN_MINUS_10P5_SETMASK 15
                             9955 ; 417  |#define HW_MIXMICINVR_GN_MINUS_12P0_SETMASK 16
                             9956 ; 418  |#define HW_MIXMICINVR_GN_MINUS_13P5_SETMASK 17
                             9957 ; 419  |#define HW_MIXMICINVR_GN_MINUS_15P0_SETMASK 18
                             9958 ; 420  |#define HW_MIXMICINVR_GN_MINUS_16P5_SETMASK 19
                             9959 ; 421  |#define HW_MIXMICINVR_GN_MINUS_18P0_SETMASK 20
                             9960 ; 422  |#define HW_MIXMICINVR_GN_MINUS_19P5_SETMASK 21
                             9961 ; 423  |#define HW_MIXMICINVR_GN_MINUS_21P0_SETMASK 22
                             9962 ; 424  |#define HW_MIXMICINVR_GN_MINUS_22P5_SETMASK 23
                             9963 ; 425  |#define HW_MIXMICINVR_GN_MINUS_24P0_SETMASK 24
                             9964 ; 426  |#define HW_MIXMICINVR_GN_MINUS_25P5_SETMASK 25
                             9965 ; 427  |#define HW_MIXMICINVR_GN_MINUS_27P0_SETMASK 26
                             9966 ; 428  |#define HW_MIXMICINVR_GN_MINUS_28P5_SETMASK 27
                             9967 ; 429  |#define HW_MIXMICINVR_GN_MINUS_30P0_SETMASK 28
                             9968 ; 430  |#define HW_MIXMICINVR_GN_MINUS_31P5_SETMASK 29
                             9969 ; 431  |#define HW_MIXMICINVR_GN_MINUS_33P0_SETMASK 30
                             9970 ; 432  |#define HW_MIXMICINVR_GN_MINUS_34P5_SETMASK 31
                             9971 ; 433  |
                             9972 ; 434  |typedef union               
                             9973 ; 435  |{
                             9974 ; 436  |    struct {
                             9975 ; 437  |        int GN          : HW_MIXMICINVR_GN_WIDTH;
                             9976 ; 438  |        int RSVD1       : HW_MIXMICINVR_RSVD1_WIDTH;
                             9977 ; 439  |        int P20DB       : HW_MIXMICINVR_P20DB_WIDTH;
                             9978 ; 440  |        int RSVD2       : HW_MIXMICINVR_RSVD2_WIDTH;
                             9979 ; 441  |        int MUTE        : HW_MIXMICINVR_MUTE_WIDTH;
                             9980 ; 442  |        int RSVD3       : HW_MIXMICINVR_RSVD3_WIDTH;
                             9981 ; 443  |    } B;
                             9982 ; 444  |    int I;
                             9983 ; 445  |    unsigned int U;
                             9984 ; 446  |} mix_micinvr_type;
                             9985 ; 447  |#define HW_MIXMICINVR (*(volatile mix_micinvr_type _X*) (HW_CODEC_BASEADDR+5))
                             9986 ; 448  |
                             9987 ; 449  |
                             9988 ; 450  |
                             9989 ; 451  |
                             9990 ; 452  |/////////////////////////////////////////////////////////////////////////////////
                             9991 ; 453  |//   Mixer Line1 In Volume Register (HW_MIXLINE1INVR) Bit Definitions
                             9992 ; 454  |#define HW_MIXLINE1INVR_GR_BITPOS 0
                             9993 ; 455  |#define HW_MIXLINE1INVR_GL_BITPOS 8
                             9994 ; 456  |#define HW_MIXLINE1INVR_MUTE_BITPOS 15
                             9995 ; 457  |
                             9996 ; 458  |#define HW_MIXLINE1INVR_GR_WIDTH 5
                             9997 ; 459  |#define HW_MIXLINE1INVR_RSVD1_WIDTH 3
                             9998 ; 460  |#define HW_MIXLINE1INVR_GL_WIDTH 5
                             9999 ; 461  |#define HW_MIXLINE1INVR_RSVD2_WIDTH 2
                            10000 ; 462  |#define HW_MIXLINE1INVR_MUTE_WIDTH 1
                            10001 ; 463  |#define HW_MIXLINE1INVR_RSVD3_WIDTH 8
                            10002 ; 464  |
                            10003 ; 465  |#define HW_MIXLINE1INVR_GR_SETMASK 0x1F<<HW_MIXLINE1INVR_GR_BITPOS
                            10004 ; 466  |#define HW_MIXLINE1INVR_GL_SETMASK 0x1F<<HW_MIXLINE1INVR_GL_BITPOS
                            10005 ; 467  |#define HW_MIXLINE1INVR_MUTE_SETMASK 1<<HW_MIXLINE1INVR_MUTE_BITPOS
                            10006 ; 468  |
                            10007 ; 469  |#define HW_MIXLINE1INVR_GR_CLRMASK ~(WORD)HW_MIXLINE1INVR_GR_SETMASK
                            10008 ; 470  |#define HW_MIXLINE1INVR_GL_CLRMASK ~(WORD)HW_MIXLINE1INVR_GL_SETMASK
                            10009 ; 471  |#define HW_MIXLINE1INVR_MUTE_CLRMASK ~(WORD)HW_MIXLINE1INVR_MUTE_SETMASK
                            10010 ; 472  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 161

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10011 ; 473  |typedef union               
                            10012 ; 474  |{
                            10013 ; 475  |    struct {
                            10014 ; 476  |        int GR          : HW_MIXLINE1INVR_GR_WIDTH;
                            10015 ; 477  |        int RSVD1       : HW_MIXLINE1INVR_RSVD1_WIDTH;
                            10016 ; 478  |        int GL          : HW_MIXLINE1INVR_GL_WIDTH;
                            10017 ; 479  |        int RSVD2       : HW_MIXLINE1INVR_RSVD2_WIDTH;
                            10018 ; 480  |        int MUTE        : HW_MIXLINE1INVR_MUTE_WIDTH;
                            10019 ; 481  |        int RSVD3       : HW_MIXLINE1INVR_RSVD3_WIDTH;
                            10020 ; 482  |    } B;
                            10021 ; 483  |    int I;
                            10022 ; 484  |    unsigned int U;
                            10023 ; 485  |} mix_line1invr_type;
                            10024 ; 486  |#define HW_MIXLINE1INVR (*(volatile mix_line1invr_type _X*) (HW_CODEC_BASEADDR+6))
                            10025 ; 487  |
                            10026 ; 488  |
                            10027 ; 489  |
                            10028 ; 490  |/////////////////////////////////////////////////////////////////////////////////
                            10029 ; 491  |//   Mixer Line2 In Volume Register (HW_MIXLINE2INVR) Bit Definitions
                            10030 ; 492  |#define HW_MIXLINE2INVR_GR_BITPOS 0
                            10031 ; 493  |#define HW_MIXLINE2INVR_GL_BITPOS 8
                            10032 ; 494  |#define HW_MIXLINE2INVR_MUTE_BITPOS 15
                            10033 ; 495  |
                            10034 ; 496  |#define HW_MIXLINE2INVR_GR_WIDTH 5
                            10035 ; 497  |#define HW_MIXLINE2INVR_RSVD1_WIDTH 3
                            10036 ; 498  |#define HW_MIXLINE2INVR_GL_WIDTH 5
                            10037 ; 499  |#define HW_MIXLINE2INVR_RSVD2_WIDTH 2
                            10038 ; 500  |#define HW_MIXLINE2INVR_MUTE_WIDTH 1
                            10039 ; 501  |#define HW_MIXLINE2INVR_RSVD3_WIDTH 8
                            10040 ; 502  |
                            10041 ; 503  |
                            10042 ; 504  |#define HW_MIXLINE2INVR_GR_SETMASK 0x1F<<HW_MIXLINE2INVR_GR_BITPOS
                            10043 ; 505  |#define HW_MIXLINE2INVR_GL_SETMASK 0x1F<<HW_MIXLINE2INVR_GL_BITPOS
                            10044 ; 506  |#define HW_MIXLINE2INVR_MUTE_SETMASK 1<<HW_MIXLINE2INVR_MUTE_BITPOS
                            10045 ; 507  |
                            10046 ; 508  |#define HW_MIXLINE2INVR_GR_CLRMASK ~(WORD)HW_MIXLINE2INVR_GR_SETMASK
                            10047 ; 509  |#define HW_MIXLINE2INVR_GL_CLRMASK ~(WORD)HW_MIXLINE2INVR_GL_SETMASK
                            10048 ; 510  |#define HW_MIXLINE2INVR_MUTE_CLRMASK ~(WORD)HW_MIXLINE2INVR_MUTE_SETMASK
                            10049 ; 511  |
                            10050 ; 512  |typedef union               
                            10051 ; 513  |{
                            10052 ; 514  |    struct {
                            10053 ; 515  |        int GR          : HW_MIXLINE2INVR_GR_WIDTH;
                            10054 ; 516  |        int RSVD1       : HW_MIXLINE2INVR_RSVD1_WIDTH;
                            10055 ; 517  |        int GL          : HW_MIXLINE2INVR_GL_WIDTH;
                            10056 ; 518  |        int RSVD2       : HW_MIXLINE2INVR_RSVD2_WIDTH;
                            10057 ; 519  |        int MUTE        : HW_MIXLINE2INVR_MUTE_WIDTH;
                            10058 ; 520  |        int RSVD3       : HW_MIXLINE2INVR_RSVD3_WIDTH;
                            10059 ; 521  |    } B;
                            10060 ; 522  |    int I;
                            10061 ; 523  |    unsigned int U;
                            10062 ; 524  |} mix_line2invr_type;
                            10063 ; 525  |#define HW_MIXLINE2INVR (*(volatile mix_line2invr_type _X*) (HW_CODEC_BASEADDR+7))
                            10064 ; 526  |
                            10065 ; 527  |
                            10066 ; 528  |
                            10067 ; 529  |/////////////////////////////////////////////////////////////////////////////////
                            10068 ; 530  |//   Mixer DAC In Volume Register (HW_MIXDACINVR) Bit Definitions
                            10069 ; 531  |#define HW_MIXDACINVR_MR_BITPOS 0
                            10070 ; 532  |#define HW_MIXDACINVR_ML_BITPOS 8
                            10071 ; 533  |#define HW_MIXDACINVR_MUTE_BITPOS 15
                            10072 ; 534  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 162

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10073 ; 535  |#define HW_MIXDACINVR_MR_WIDTH (5)
                            10074 ; 536  |#define HW_MIXDACINVR_ML_WIDTH (5)
                            10075 ; 537  |#define HW_MIXDACINVR_MUTE_WIDTH (1)
                            10076 ; 538  |
                            10077 ; 539  |#define HW_MIXDACINVR_MR_SETMASK 0x1F<<HW_MIXDACINVR_MR_BITPOS
                            10078 ; 540  |#define HW_MIXDACINVR_ML_SETMASK 0x1F<<HW_MIXDACINVR_ML_BITPOS
                            10079 ; 541  |#define HW_MIXDACINVR_MUTE_SETMASK 1<<HW_MIXDACINVR_MUTE_BITPOS
                            10080 ; 542  |
                            10081 ; 543  |#define HW_MIXDACINVR_MR_CLRMASK ~(WORD)HW_MIXDACINVR_MR_SETMASK
                            10082 ; 544  |#define HW_MIXDACINVR_ML_CLRMASK ~(WORD)HW_MIXDACINVR_ML_SETMASK
                            10083 ; 545  |#define HW_MIXDACINVR_MUTE_CLRMASK ~(WORD)HW_MIXDACINVR_MUTE_SETMASK
                            10084 ; 546  |
                            10085 ; 547  |typedef union               
                            10086 ; 548  |{
                            10087 ; 549  |    struct {
                            10088 ; 550  |        int MR   : HW_MIXDACINVR_MR_WIDTH;
                            10089 ; 551  |        int ML   : HW_MIXDACINVR_ML_WIDTH;
                            10090 ; 552  |        int MUTE : HW_MIXDACINVR_MUTE_WIDTH;
                            10091 ; 553  |    } B;
                            10092 ; 554  |    int I;
                            10093 ; 555  |    unsigned int U;
                            10094 ; 556  |} mix_dacinvr_type;
                            10095 ; 557  |#define HW_MIXDACINVR (*(volatile mix_dacinvr_type _X*) (HW_CODEC_BASEADDR+8))
                            10096 ; 558  |
                            10097 ; 559  |
                            10098 ; 560  |/////////////////////////////////////////////////////////////////////////////////
                            10099 ; 561  |//   Mixer Record Select Register (HW_MIXRECSELR) Bit Definitions
                            10100 ; 562  |#define HW_MIXRECSELR_SR_BITPOS 0
                            10101 ; 563  |#define HW_MIXRECSELR_SL_BITPOS 8
                            10102 ; 564  |#define HW_MIXRECSELR_X_BITPOS 11
                            10103 ; 565  |
                            10104 ; 566  |#define HW_MIXRECSELR_SR_WIDTH 3
                            10105 ; 567  |#define HW_MIXRECSELR_RSVD1_WIDTH 5
                            10106 ; 568  |#define HW_MIXRECSELR_SL_WIDTH 3
                            10107 ; 569  |#define HW_MIXRECSELR_X_WIDTH 1
                            10108 ; 570  |#define HW_MIXRECSELR_RSVD2_WIDTH 12
                            10109 ; 571  |
                            10110 ; 572  |#define HW_MIXRECSELR_SR_SETMASK 7<<HW_MIXRECSELR_SR_BITPOS
                            10111 ; 573  |#define HW_MIXRECSELR_SL_SETMASK 7<<HW_MIXRECSELR_SL_BITPOS
                            10112 ; 574  |#define HW_MIXRECSELR_X_SETMASK 1<<HW_MIXRECSELR_X_BITPOS
                            10113 ; 575  |
                            10114 ; 576  |#define HW_MIXRECSELR_SR_MIC_SETMASK 0<<HW_MIXRECSELR_SR_BITPOS
                            10115 ; 577  |#define HW_MIXRECSELR_SR_LINEIN2_SETMASK 3<<HW_MIXRECSELR_SR_BITPOS
                            10116 ; 578  |#define HW_MIXRECSELR_SR_LINEIN1_SETMASK 4<<HW_MIXRECSELR_SR_BITPOS
                            10117 ; 579  |#define HW_MIXRECSELR_SR_MIX_SETMASK 5<<HW_MIXRECSELR_SR_BITPOS
                            10118 ; 580  |
                            10119 ; 581  |#define HW_MIXRECSELR_SL_MIC_SETMASK 0<<HW_MIXRECSELR_SL_BITPOS
                            10120 ; 582  |#define HW_MIXRECSELR_SL_LINEIN2_SETMASK 3<<HW_MIXRECSELR_SL_BITPOS
                            10121 ; 583  |#define HW_MIXRECSELR_SL_LINEIN1_SETMASK 4<<HW_MIXRECSELR_SL_BITPOS
                            10122 ; 584  |#define HW_MIXRECSELR_SL_MIX_SETMASK 5<<HW_MIXRECSELR_SL_BITPOS
                            10123 ; 585  |
                            10124 ; 586  |#define HW_MIXRECSELR_SR_CLRMASK ~(WORD)HW_MIXRECSELR_SR_SETMASK
                            10125 ; 587  |#define HW_MIXRECSELR_SL_CLRMASK ~(WORD)HW_MIXRECSELR_SL_SETMASK
                            10126 ; 588  |#define HW_MIXRECSELR_SR_SL_CLRMASK ~(WORD)(HW_MIXRECSELR_SR_SETMASK|HW_MIXRECSELR_SL_SETM
                                  ASK)
                            10127 ; 589  |#define HW_MIXRECSELR_X_CLRMASK ~(WORD)HW_MIXRECSELR_X_SETMASK
                            10128 ; 590  |
                            10129 ; 591  |typedef union               
                            10130 ; 592  |{
                            10131 ; 593  |    struct {
                            10132 ; 594  |        int SR          : HW_MIXRECSELR_SR_WIDTH;
                            10133 ; 595  |        int RSVD1       : HW_MIXRECSELR_RSVD1_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 163

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10134 ; 596  |        int SL          : HW_MIXRECSELR_SL_WIDTH;
                            10135 ; 597  |        int X           : HW_MIXRECSELR_X_WIDTH;
                            10136 ; 598  |        int RSVD2       : HW_MIXRECSELR_RSVD2_WIDTH;
                            10137 ; 599  |    } B;
                            10138 ; 600  |    int I;
                            10139 ; 601  |    unsigned int U;
                            10140 ; 602  |} mix_recselr_type;
                            10141 ; 603  |#define HW_MIXRECSELR (*(volatile mix_recselr_type _X*) (HW_CODEC_BASEADDR+9))
                            10142 ; 604  |
                            10143 ; 605  |
                            10144 ; 606  |
                            10145 ; 607  |/////////////////////////////////////////////////////////////////////////////////
                            10146 ; 608  |//   Mixer ADC In Gain Register (HW_MIXADCGAINR) Bit Definitions
                            10147 ; 609  |#define HW_MIXADCGAINR_GR_BITPOS 0
                            10148 ; 610  |#define HW_MIXADCGAINR_GL_BITPOS 8
                            10149 ; 611  |#define HW_MIXADCGAINR_MUTE_BITPOS 15
                            10150 ; 612  |
                            10151 ; 613  |#define HW_MIXADCGAINR_GR_WIDTH 4
                            10152 ; 614  |#define HW_MIXADCGAINR_RSVD1_WIDTH 4
                            10153 ; 615  |#define HW_MIXADCGAINR_GL_WIDTH 4
                            10154 ; 616  |#define HW_MIXADCGAINR_RSVD2_WIDTH 3
                            10155 ; 617  |#define HW_MIXADCGAINR_MUTE_WIDTH 1
                            10156 ; 618  |#define HW_MIXADCGAINR_RSVD3_WIDTH 8
                            10157 ; 619  |
                            10158 ; 620  |#define HW_MIXADCGAINR_GR_SETMASK 0x1F<<HW_MIXADCGAINR_GR_BITPOS
                            10159 ; 621  |#define HW_MIXADCGAINR_GL_SETMASK 0x1F<<HW_MIXADCGAINR_GL_BITPOS
                            10160 ; 622  |#define HW_MIXADCGAINR_MUTE_SETMASK 1<<HW_MIXADCGAINR_MUTE_BITPOS
                            10161 ; 623  |
                            10162 ; 624  |#define HW_MIXADCGAINR_GR_CLRMASK ~(WORD)HW_MIXADCGAINR_GR_SETMASK
                            10163 ; 625  |#define HW_MIXADCGAINR_GL_CLRMASK ~(WORD)HW_MIXADCGAINR_GL_SETMASK
                            10164 ; 626  |#define HW_MIXADCGAINR_MUTE_CLRMASK ~(WORD)HW_MIXADCGAINR_MUTE_SETMASK
                            10165 ; 627  |
                            10166 ; 628  |#define HW_MIXADCGAINR_GL_00P0_SETMASK 0<<HW_MIXADCGAINR_GL_BITPOS
                            10167 ; 629  |#define HW_MIXADCGAINR_GL_01P5_SETMASK 1<<HW_MIXADCGAINR_GL_BITPOS
                            10168 ; 630  |#define HW_MIXADCGAINR_GL_03P0_SETMASK 2<<HW_MIXADCGAINR_GL_BITPOS
                            10169 ; 631  |#define HW_MIXADCGAINR_GL_04P5_SETMASK 3<<HW_MIXADCGAINR_GL_BITPOS
                            10170 ; 632  |#define HW_MIXADCGAINR_GL_06P0_SETMASK 4<<HW_MIXADCGAINR_GL_BITPOS
                            10171 ; 633  |#define HW_MIXADCGAINR_GL_07P5_SETMASK 5<<HW_MIXADCGAINR_GL_BITPOS
                            10172 ; 634  |#define HW_MIXADCGAINR_GL_09P0_SETMASK 6<<HW_MIXADCGAINR_GL_BITPOS
                            10173 ; 635  |#define HW_MIXADCGAINR_GL_10P5_SETMASK 7<<HW_MIXADCGAINR_GL_BITPOS
                            10174 ; 636  |#define HW_MIXADCGAINR_GL_12P0_SETMASK 8<<HW_MIXADCGAINR_GL_BITPOS
                            10175 ; 637  |#define HW_MIXADCGAINR_GL_13P5_SETMASK 9<<HW_MIXADCGAINR_GL_BITPOS
                            10176 ; 638  |#define HW_MIXADCGAINR_GL_15P0_SETMASK 10<<HW_MIXADCGAINR_GL_BITPOS
                            10177 ; 639  |#define HW_MIXADCGAINR_GL_16P5_SETMASK 11<<HW_MIXADCGAINR_GL_BITPOS
                            10178 ; 640  |#define HW_MIXADCGAINR_GL_18P0_SETMASK 12<<HW_MIXADCGAINR_GL_BITPOS
                            10179 ; 641  |#define HW_MIXADCGAINR_GL_19P5_SETMASK 13<<HW_MIXADCGAINR_GL_BITPOS
                            10180 ; 642  |#define HW_MIXADCGAINR_GL_21P0_SETMASK 14<<HW_MIXADCGAINR_GL_BITPOS
                            10181 ; 643  |#define HW_MIXADCGAINR_GL_22P5_SETMASK 15<<HW_MIXADCGAINR_GL_BITPOS
                            10182 ; 644  |
                            10183 ; 645  |#define HW_MIXADCGAINR_GR_00P0_SETMASK 0
                            10184 ; 646  |#define HW_MIXADCGAINR_GR_01P5_SETMASK 1
                            10185 ; 647  |#define HW_MIXADCGAINR_GR_03P0_SETMASK 2
                            10186 ; 648  |#define HW_MIXADCGAINR_GR_04P5_SETMASK 3
                            10187 ; 649  |#define HW_MIXADCGAINR_GR_06P0_SETMASK 4
                            10188 ; 650  |#define HW_MIXADCGAINR_GR_07P5_SETMASK 5
                            10189 ; 651  |#define HW_MIXADCGAINR_GR_09P0_SETMASK 6
                            10190 ; 652  |#define HW_MIXADCGAINR_GR_10P5_SETMASK 7
                            10191 ; 653  |#define HW_MIXADCGAINR_GR_12P0_SETMASK 8
                            10192 ; 654  |#define HW_MIXADCGAINR_GR_13P5_SETMASK 9
                            10193 ; 655  |#define HW_MIXADCGAINR_GR_15P0_SETMASK 10
                            10194 ; 656  |#define HW_MIXADCGAINR_GR_16P5_SETMASK 11
                            10195 ; 657  |#define HW_MIXADCGAINR_GR_18P0_SETMASK 12
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 164

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10196 ; 658  |#define HW_MIXADCGAINR_GR_19P5_SETMASK 13
                            10197 ; 659  |#define HW_MIXADCGAINR_GR_21P0_SETMASK 14
                            10198 ; 660  |#define HW_MIXADCGAINR_GR_22P5_SETMASK 15
                            10199 ; 661  |
                            10200 ; 662  |typedef union               
                            10201 ; 663  |{
                            10202 ; 664  |    struct {
                            10203 ; 665  |        int GR          : HW_MIXADCGAINR_GR_WIDTH;
                            10204 ; 666  |        int RSVD1       : HW_MIXADCGAINR_RSVD1_WIDTH;
                            10205 ; 667  |        int GL          : HW_MIXADCGAINR_GL_WIDTH;
                            10206 ; 668  |        int RSVD2       : HW_MIXADCGAINR_RSVD2_WIDTH;
                            10207 ; 669  |        int MUTE        : HW_MIXADCGAINR_MUTE_WIDTH;
                            10208 ; 670  |        int RSVD3       : HW_MIXADCGAINR_RSVD3_WIDTH;
                            10209 ; 671  |    } B;
                            10210 ; 672  |    int I;
                            10211 ; 673  |    unsigned int U;
                            10212 ; 674  |} mix_adcgainr_type;
                            10213 ; 675  |#define HW_MIXADCGAINR (*(volatile mix_adcgainr_type _X*) (HW_CODEC_BASEADDR+10))
                            10214 ; 676  |
                            10215 ; 677  |
                            10216 ; 678  |
                            10217 ; 679  |/////////////////////////////////////////////////////////////////////////////////
                            10218 ; 680  |//   Mixer Power Down Register (HW_MIXPWRDNR) Bit Definitions
                            10219 ; 681  |#define HW_MIXPWRDNR_PR0_BITPOS 9
                            10220 ; 682  |#define HW_MIXPWRDNR_PR1_BITPOS 10
                            10221 ; 683  |#define HW_MIXPWRDNR_PR2_BITPOS 11
                            10222 ; 684  |
                            10223 ; 685  |#define HW_MIXPWRDNR_PR0_WIDTH (1)
                            10224 ; 686  |#define HW_MIXPWRDNR_PR1_WIDTH (1)
                            10225 ; 687  |#define HW_MIXPWRDNR_PR2_WIDTH (1)
                            10226 ; 688  |#define HW_MIXPWRDNR_RSVD_WIDTH (12)
                            10227 ; 689  |
                            10228 ; 690  |#define HW_MIXPWRDNR_PR_SETMASK 7<<HW_MIXPWRDNR_PR0_BITPOS
                            10229 ; 691  |
                            10230 ; 692  |#define HW_MIXPWRDNR_PR_CLRMASK ~(WORD)HW_MIXPWRDNR_PR_SETMASK
                            10231 ; 693  |
                            10232 ; 694  |typedef union               
                            10233 ; 695  |{
                            10234 ; 696  |    struct {
                            10235 ; 697  |                int                     : 9;
                            10236 ; 698  |       int PR0          : HW_MIXPWRDNR_PR0_WIDTH;
                            10237 ; 699  |       int PR1          : HW_MIXPWRDNR_PR1_WIDTH;
                            10238 ; 700  |       int PR2          : HW_MIXPWRDNR_PR2_WIDTH;
                            10239 ; 701  |       int RSVD         : HW_MIXPWRDNR_RSVD_WIDTH;
                            10240 ; 702  |    } B;
                            10241 ; 703  |    int I;
                            10242 ; 704  |    unsigned int U;
                            10243 ; 705  |} mix_pwrdnr_type;
                            10244 ; 706  |#define HW_MIXPWRDNR (*(volatile mix_pwrdnr_type _X*) (HW_CODEC_BASEADDR+11))
                            10245 ; 707  |
                            10246 ; 708  |
                            10247 ; 709  |/////////////////////////////////////////////////////////////////////////////////
                            10248 ; 710  |
                            10249 ; 711  |//  Mixer Test Register (HW_MIX_TEST) Bit Definitions
                            10250 ; 712  |
                            10251 ; 713  |#define HW_MIX_TEST_DAC_CHOP_CLK_WIDTH (2)
                            10252 ; 714  |
                            10253 ; 715  |#define HW_MIX_TEST_RSVD0_WIDTH (2)
                            10254 ; 716  |
                            10255 ; 717  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH (1)
                            10256 ; 718  |
                            10257 ; 719  |#define HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 165

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10258 ; 720  |
                            10259 ; 721  |#define HW_MIX_TEST_RSVD1_WIDTH (2)
                            10260 ; 722  |
                            10261 ; 723  |#define HW_MIX_TEST_TMP_CFG_WIDTH (4)
                            10262 ; 724  |
                            10263 ; 725  |#define HW_MIX_TEST_TMPPWD_WIDTH (1)
                            10264 ; 726  |
                            10265 ; 727  |#define HW_MIX_TEST_RSVD2_WIDTH (11)
                            10266 ; 728  |
                            10267 ; 729  |
                            10268 ; 730  |
                            10269 ; 731  |#define HW_MIX_TEST_DAC_CHOP_CLK_BITPOS (0)
                            10270 ; 732  |
                            10271 ; 733  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_BITPOS (4)
                            10272 ; 734  |
                            10273 ; 735  |#define HW_MIX_TEST_DAC_MORE_AMP_I_BITPOS (5)
                            10274 ; 736  |
                            10275 ; 737  |#define HW_MIX_TEST_TMP_CFG_BITPOS (8)
                            10276 ; 738  |
                            10277 ; 739  |#define HW_MIX_TEST_TMPPWD_BITPOS (12)
                            10278 ; 740  |
                            10279 ; 741  |
                            10280 ; 742  |
                            10281 ; 743  |#define HW_MIX_TEST_DAC_CHOP_CLK_SETMASK (((1<<HW_MIX_TEST_DAC_CHOP_CLK_WIDTH)-1)<<HW_MIX_
                                  TEST_DAC_CHOP_CLK_BITPOS)        
                            10282 ; 744  |
                            10283 ; 745  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_SETMASK (((1<<HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH)-1)<<H
                                  W_MIX_TEST_DAC_DISABLE_RTZ_BITPOS)        
                            10284 ; 746  |
                            10285 ; 747  |#define HW_MIX_TEST_DAC_MORE_AMP_I_SETMASK (((1<<HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH)-1)<<HW_
                                  MIX_TEST_DAC_MORE_AMP_I_BITPOS) 
                            10286 ; 748  |
                            10287 ; 749  |#define HW_MIX_TEST_TMP_CFG_SETMASK (((1<<HW_MIX_TEST_TMP_CFG_WIDTH)-1)<<HW_MIX_TEST_TMP_C
                                  FG_BITPOS) 
                            10288 ; 750  |
                            10289 ; 751  |#define HW_MIX_TEST_TMPPWD_SETMASK (((1<<HW_MIX_TEST_TMPPWD_WIDTH)-1)<<HW_MIX_TEST_TMPPWD_
                                  BITPOS) 
                            10290 ; 752  |
                            10291 ; 753  |
                            10292 ; 754  |#define HW_MIX_TEST_DAC_CHOP_CLK_CLRMASK (~(WORD)HW_MIX_TEST_DAC_CHOP_CLK_SETMASK)     
                            10293 ; 755  |
                            10294 ; 756  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_CLRMASK (~(WORD)HW_MIX_TEST_DAC_DISABLE_RTZ_SETMASK)  
                                     
                            10295 ; 757  |
                            10296 ; 758  |#define HW_MIX_TEST_DAC_MORE_AMP_I_CLRMASK (~(WORD)HW_MIX_TEST_DAC_MORE_AMP_I_SETMASK) 
                            10297 ; 759  |
                            10298 ; 760  |#define HW_MIX_TEST_TMP_CFG_CLRMASK (~(WORD)HW_MIX_TEST_TMP_CFG_SETMASK) 
                            10299 ; 761  |
                            10300 ; 762  |#define HW_MIX_TEST_TMPPWD_CLRMASK (~(WORD)HW_MIX_TEST_TMPPWD_SETMASK) 
                            10301 ; 763  |
                            10302 ; 764  |
                            10303 ; 765  |typedef union               
                            10304 ; 766  |{
                            10305 ; 767  |    struct {
                            10306 ; 768  |        int DAC_CHOP_CLK                   : HW_MIX_TEST_DAC_CHOP_CLK_WIDTH;
                            10307 ; 769  |        int RSVD0                          : HW_MIX_TEST_RSVD0_WIDTH;
                            10308 ; 770  |        int DAC_DISABLE_RTZ                : HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH;
                            10309 ; 771  |        int DAC_MORE_AMP_I                 : HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH;
                            10310 ; 772  |        int RSVD1                          : HW_MIX_TEST_RSVD1_WIDTH;
                            10311 ; 773  |        int TMP_CFG                        : HW_MIX_TEST_TMP_CFG_WIDTH;
                            10312 ; 774  |        int TMPPWD                         : HW_MIX_TEST_TMPPWD_WIDTH;
                            10313 ; 775  |        int RSVD2                          : HW_MIX_TEST_RSVD2_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 166

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10314 ; 776  |    } B;
                            10315 ; 777  |    int I;
                            10316 ; 778  |    unsigned int U;
                            10317 ; 779  |} mix_test_type;
                            10318 ; 780  |#define HW_MIX_TEST      (*(volatile mix_test_type _X*) (HW_CODEC_BASEADDR+28))    /* Anal
                                  og Persistent Config Register */
                            10319 ; 781  |
                            10320 ; 782  |
                            10321 ; 783  |/////////////////////////////////////////////////////////////////////////////////
                            10322 ; 784  |//   Reference Control Register (HW_REF_CTRL) Bit Definitions
                            10323 ; 785  |#define HW_REF_CTRL_DACVBGVAL_BITPOS 0
                            10324 ; 786  |#define HW_REF_CTRL_ADJDAC_BITPOS 4
                            10325 ; 787  |#define HW_REF_CTRL_VAGVAL_BITPOS 5
                            10326 ; 788  |#define HW_REF_CTRL_ADJV_BITPOS 9
                            10327 ; 789  |#define HW_REF_CTRL_ADCREFV_BITPOS 10
                            10328 ; 790  |#define HW_REF_CTRL_ADJADC_BITPOS 14
                            10329 ; 791  |#define HW_REF_CTRL_PWRDWNS_BITPOS 15
                            10330 ; 792  |#define HW_REF_CTRL_BIASC_BITPOS 16
                            10331 ; 793  |#define HW_REF_CTRL_LWREF_BITPOS 18
                            10332 ; 794  |#define HW_REF_CTRL_LOW_PWR_BITPOS 19 
                            10333 ; 795  |
                            10334 ; 796  |#define HW_REF_CTRL_DACVBGVAL_WIDTH (4)
                            10335 ; 797  |#define HW_REF_CTRL_ADJDAC_WIDTH (1)
                            10336 ; 798  |#define HW_REF_CTRL_VAGVAL_WIDTH (4)
                            10337 ; 799  |#define HW_REF_CTRL_ADJV_WIDTH (1)
                            10338 ; 800  |#define HW_REF_CTRL_ADCREFV_WIDTH (4)
                            10339 ; 801  |#define HW_REF_CTRL_ADJADC_WIDTH (1)
                            10340 ; 802  |#define HW_REF_CTRL_PWRDWNS_WIDTH (1)
                            10341 ; 803  |#define HW_REF_CTRL_BIASC_WIDTH (2)
                            10342 ; 804  |#define HW_REF_CTRL_LWREF_WIDTH (1)
                            10343 ; 805  |#define HW_REF_CTRL_LOW_PWR_WIDTH (1) 
                            10344 ; 806  |#define HW_REF_CTRL_RSVD_WIDTH (4)
                            10345 ; 807  |
                            10346 ; 808  |#define HW_REF_CTRL_DACVBGVAL_SETMASK (((1<<HW_REF_CTRL_DACVBGVAL_WIDTH)-1)<<HW_REF_CTRL_D
                                  ACVBGVAL_BITPOS)
                            10347 ; 809  |#define HW_REF_CTRL_ADJDAC_SETMASK (((1<<HW_REF_CTRL_ADJDAC_WIDTH)-1)<<HW_REF_CTRL_ADJDAC_
                                  BITPOS)
                            10348 ; 810  |#define HW_REF_CTRL_VAGVAL_SETMASK (((1<<HW_REF_CTRL_VAGVAL_WIDTH)-1)<<HW_REF_CTRL_VAGVAL_
                                  BITPOS)
                            10349 ; 811  |#define HW_REF_CTRL_ADJV_SETMASK (((1<<HW_REF_CTRL_ADJV_WIDTH)-1)<<HW_REF_CTRL_ADJV_BITPOS
                                  )
                            10350 ; 812  |#define HW_REF_CTRL_ADCREFV_SETMASK (((1<<HW_REF_CTRL_ADCREFV_WIDTH)-1)<<HW_REF_CTRL_ADCRE
                                  FV_BITPOS)
                            10351 ; 813  |#define HW_REF_CTRL_ADJADC_SETMASK (((1<<HW_REF_CTRL_ADJADC_WIDTH)-1)<<HW_REF_CTRL_ADJADC_
                                  BITPOS)
                            10352 ; 814  |#define HW_REF_CTRL_PWRDWNS_SETMASK (((1<<HW_REF_CTRL_PWRDWNS_WIDTH)-1)<<HW_REF_CTRL_PWRDW
                                  NS_BITPOS)
                            10353 ; 815  |#define HW_REF_CTRL_BIASC_SETMASK (((1<<HW_REF_CTRL_BIASC_WIDTH)-1)<<HW_REF_CTRL_BIASC_BIT
                                  POS)
                            10354 ; 816  |#define HW_REF_CTRL_LWREF_SETMASK (((1<<HW_REF_CTRL_LWREF_WIDTH)-1)<<HW_REF_CTRL_LWREF_BIT
                                  POS)
                            10355 ; 817  |#define HW_REF_CTRL_LOW_PWR_SETMASK (((1<<HW_REF_CTRL_LOW_PWR_WIDTH)-1)<<HW_REF_CTRL_LOW_P
                                  WR_BITPOS)
                            10356 ; 818  |
                            10357 ; 819  |#define HW_REF_CTRL_DACVBGVAL_CLRMASK ~(WORD)HW_REF_CTRL_DACVBGVAL_SETMASK
                            10358 ; 820  |#define HW_REF_CTRL_ADJDAC_CLRMASK ~(WORD)HW_REF_CTRL_ADJDAC_SETMASK
                            10359 ; 821  |#define HW_REF_CTRL_VAGVAL_CLRMASK ~(WORD)HW_REF_CTRL_VAGVAL_SETMASK
                            10360 ; 822  |#define HW_REF_CTRL_ADJV_CLRMASK ~(WORD)HW_REF_CTRL_ADJV_SETMASK
                            10361 ; 823  |#define HW_REF_CTRL_ADCREFV_CLRMASK ~(WORD)HW_REF_CTRL_ADCREFV_SETMASK
                            10362 ; 824  |#define HW_REF_CTRL_ADJADC_CLRMASK ~(WORD)HW_REF_CTRL_ADJADC_SETMASK
                            10363 ; 825  |#define HW_REF_CTRL_PWRDWNS_CLRMASK ~(WORD)HW_REF_CTRL_PWRDWNS_SETMASK
                            10364 ; 826  |#define HW_REF_CTRL_BIASC_CLRMASK ~(WORD)HW_REF_CTRL_BIASC_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 167

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10365 ; 827  |#define HW_REF_CTRL_LWREF_CLRMASK ~(WORD)HW_REF_CTRL_LWREF_SETMASK
                            10366 ; 828  |#define HW_REF_CTRL_LOW_PWR_CLRMASK ~(WORD)HW_REF_CTRL_LOW_PWR_SETMASK
                            10367 ; 829  |
                            10368 ; 830  |typedef union               
                            10369 ; 831  |{
                            10370 ; 832  |    struct {
                            10371 ; 833  |        int DACVBGVAL      : HW_REF_CTRL_DACVBGVAL_WIDTH;
                            10372 ; 834  |        int ADJDAC                 : HW_REF_CTRL_ADJDAC_WIDTH;
                            10373 ; 835  |        int VAGVAL                 : HW_REF_CTRL_VAGVAL_WIDTH;
                            10374 ; 836  |        int ADJV                   : HW_REF_CTRL_ADJV_WIDTH;
                            10375 ; 837  |        int ADCREFV       : HW_REF_CTRL_ADCREFV_WIDTH;
                            10376 ; 838  |        int ADJADC                 : HW_REF_CTRL_ADJADC_WIDTH;
                            10377 ; 839  |        int PWRDWNS       : HW_REF_CTRL_PWRDWNS_WIDTH;
                            10378 ; 840  |        int BIASC         : HW_REF_CTRL_BIASC_WIDTH;
                            10379 ; 841  |        int LWREF         : HW_REF_CTRL_LWREF_WIDTH;
                            10380 ; 842  |        int LOW_PWR       : HW_REF_CTRL_LOW_PWR_WIDTH;
                            10381 ; 843  |        int RSVD               : HW_REF_CTRL_RSVD_WIDTH;
                            10382 ; 844  |    } B;
                            10383 ; 845  |    int I;
                            10384 ; 846  |    unsigned int U;
                            10385 ; 847  |} ref_ctrl_type;
                            10386 ; 848  |#define HW_REF_CTRL (*(volatile ref_ctrl_type _X*) (HW_CODEC_BASEADDR+25))
                            10387 ; 849  |
                            10388 ; 850  |
                            10389 ; 851  |
                            10390 ; 852  |/////////////////////////////////////////////////////////////////////////////////
                            10391 ; 853  |/////////////////////////////////////////////////////////////////////////////////
                            10392 ; 854  |/////////////////////////////////////////////////////////////////////////////////
                            10393 ; 855  |//////  DAC Registers
                            10394 ; 856  |/////////////////////////////////////////////////////////////////////////////////
                            10395 ; 857  |/////////////////////////////////////////////////////////////////////////////////
                            10396 ; 858  |/////////////////////////////////////////////////////////////////////////////////
                            10397 ; 859  |#define HW_DAC_BASEADDR 0xF800
                            10398 ; 860  |
                            10399 ; 861  |
                            10400 ; 862  |
                            10401 ; 863  |/////////////////////////////////////////////////////////////////////////////////
                            10402 ; 864  |//  DAC Control Status Register (HW_DACCSR) Bit Definitions
                            10403 ; 865  |#define HW_DACCSR_TXEN_BITPOS 0
                            10404 ; 866  |#define HW_DACCSR_TXIEN_BITPOS 1
                            10405 ; 867  |#define HW_DACCSR_TXI_BITPOS 2
                            10406 ; 868  |#define HW_DACCSR_TXEXC_BITPOS 3
                            10407 ; 869  |#define HW_DACCSR_LPBK_BITPOS 4
                            10408 ; 870  |#define HW_DACCSR_DMASEL_BITPOS 5
                            10409 ; 871  |#define HW_DACCSR_DAC_HIPPOP_EN_BITPOS 7
                            10410 ; 872  |#define HW_DACCSR_LVUP_BITPOS 8
                            10411 ; 873  |#define HW_DACCSR_RVUP_BITPOS 9
                            10412 ; 874  |#define HW_DACCSR_VUP_BITPOS 10
                            10413 ; 875  |#define HW_DACCSR_RSRVD_BITPOS 11
                            10414 ; 876  |#define HW_DACCSR_CLKGT_BITPOS 23
                            10415 ; 877  |
                            10416 ; 878  |#define HW_DACCSR_TXEN_WIDTH (1)
                            10417 ; 879  |#define HW_DACCSR_TXIEN_WIDTH (1)
                            10418 ; 880  |#define HW_DACCSR_TXI_WIDTH (1)
                            10419 ; 881  |#define HW_DACCSR_TXEXC_WIDTH (1)
                            10420 ; 882  |#define HW_DACCSR_LPBK_WIDTH (1)
                            10421 ; 883  |#define HW_DACCSR_DMASEL_WIDTH (2)
                            10422 ; 884  |#define HW_DACCSR_DAC_HIPPOP_EN_WIDTH (1)
                            10423 ; 885  |#define HW_DACCSR_LVUP_WIDTH (1)
                            10424 ; 886  |#define HW_DACCSR_RVUP_WIDTH (1)
                            10425 ; 887  |#define HW_DACCSR_VUP_WIDTH (1)
                            10426 ; 888  |#define HW_DACCSR_RSRVD_WIDTH (12)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 168

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10427 ; 889  |#define HW_DACCSR_CLKGT_WIDTH (1)
                            10428 ; 890  |
                            10429 ; 891  |#define HW_DACCSR_TXEN_SETMASK 1<<HW_DACCSR_TXEN_BITPOS
                            10430 ; 892  |#define HW_DACCSR_TXIEN_SETMASK 1<<HW_DACCSR_TXIEN_BITPOS
                            10431 ; 893  |#define HW_DACCSR_TXI_SETMASK 1<<HW_DACCSR_TXI_BITPOS
                            10432 ; 894  |#define HW_DACCSR_TXEXC_SETMASK 1<<HW_DACCSR_TXEXC_BITPOS
                            10433 ; 895  |#define HW_DACCSR_LPBK_SETMASK 1<<HW_DACCSR_LPBK_BITPOS
                            10434 ; 896  |#define HW_DACCSR_DMASEL_P_SETMASK ((2)<<(HW_DACCSR_DMASEL_BITPOS))
                            10435 ; 897  |#define HW_DACCSR_DMASEL_Y_SETMASK (1<<(HW_DACCSR_DMASEL_BITPOS))
                            10436 ; 898  |//         DMASEL_X has no asm setmask since X config value is 00 binary.
                            10437 ; 899  |#define HW_DACCSR_DAC_HIPPOP_EN_SETMASK (1<<HW_DACCSR_DAC_HIPPOP_EN_BITPOS)
                            10438 ; 900  |#define HW_DACCSR_LVUP_SETMASK (1<<HW_DACCSR_LVUP_BITPOS)
                            10439 ; 901  |#define HW_DACCSR_RVUP_SETMASK (1<<HW_DACCSR_RVUP_BITPOS)
                            10440 ; 902  |#define HW_DACCSR_VUP_SETMASK (1<<HW_DACCSR_VUP_BITPOS)
                            10441 ; 903  |#define HW_DACCSR_CLKGT_SETMASK (1<<HW_DACCSR_CLKGT_BITPOS)
                            10442 ; 904  |
                            10443 ; 905  |#define HW_DACCSR_TXEN_CLRMASK ~(WORD)HW_DACCSR_TXEN_SETMASK
                            10444 ; 906  |#define HW_DACCSR_TXIEN_CLRMASK ~(WORD)HW_DACCSR_TXIEN_SETMASK
                            10445 ; 907  |#define HW_DACCSR_TXI_CLRMASK ~(WORD)HW_DACCSR_TXI_SETMASK
                            10446 ; 908  |#define HW_DACCSR_TXEXC_CLRMASK ~(WORD)HW_DACCSR_TXEXC_SETMASK
                            10447 ; 909  |#define HW_DACCSR_LPBK_CLRMASK ~(WORD)HW_DACCSR_LPBK_SETMASK
                            10448 ; 910  |// No asm clrmask for 2 bit bitfield DMASEL
                            10449 ; 911  |#define HW_DACCSR_DAC_HIPPOP_EN_CLRMASK ~(WORD)HW_DACCSR_DAC_HIPPOP_EN_SETMASK
                            10450 ; 912  |#define HW_DACCSR_LVUP_CLRMASK ~(WORD)HW_DACCSR_LVUP_SETMASK
                            10451 ; 913  |#define HW_DACCSR_RVUP_CLRMASK ~(WORD)HW_DACCSR_RVUP_SETMASK
                            10452 ; 914  |#define HW_DACCSR_VUP_CLRMASK ~(WORD)HW_DACCSR_VUP_SETMASK
                            10453 ; 915  |#define HW_DACCSR_CLKGT_CLRMASK ~(WORD)HW_DACCSR_CLKGT_SETMASK 
                            10454 ; 916  |
                            10455 ; 917  |
                            10456 ; 918  |typedef union               
                            10457 ; 919  |{
                            10458 ; 920  |    struct {
                            10459 ; 921  |        int TXEN                        : HW_DACCSR_TXEN_WIDTH;
                            10460 ; 922  |        int TXIEN                       : HW_DACCSR_TXIEN_WIDTH;
                            10461 ; 923  |        int TXI                         : HW_DACCSR_TXI_WIDTH;
                            10462 ; 924  |        int TXEXC                       : HW_DACCSR_TXEXC_WIDTH;
                            10463 ; 925  |        int LPBK                        : HW_DACCSR_LPBK_WIDTH;
                            10464 ; 926  |        int DMASEL                      : HW_DACCSR_DMASEL_WIDTH;
                            10465 ; 927  |             #define HW_DACCSR_DMASEL_X_BITFIELD_VAL    0
                            10466 ; 928  |             #define HW_DACCSR_DMASEL_Y_BITFIELD_VAL    1
                            10467 ; 929  |             #define HW_DACCSR_DMASEL_P_BITFIELD_VAL    2       
                            10468 ; 930  |        int DAC_HIPPOP_EN               : HW_DACCSR_DAC_HIPPOP_EN_WIDTH;
                            10469 ; 931  |        int LVUP                        : HW_DACCSR_LVUP_WIDTH;
                            10470 ; 932  |        int RVUP                        : HW_DACCSR_RVUP_WIDTH;
                            10471 ; 933  |        int VUP                         : HW_DACCSR_VUP_WIDTH;
                            10472 ; 934  |        int RSVD                        : HW_DACCSR_RSRVD_WIDTH;
                            10473 ; 935  |        int CLKGT                       : HW_DACCSR_CLKGT_WIDTH;
                            10474 ; 936  |    } B;
                            10475 ; 937  |    int I;
                            10476 ; 938  |    unsigned int U;
                            10477 ; 939  |} dac_csr_type;
                            10478 ; 940  |#define HW_DACCSR      (*(volatile dac_csr_type _X*) (HW_DAC_BASEADDR))
                            10479 ; 941  |
                            10480 ; 942  |
                            10481 ; 943  |
                            10482 ; 944  |/////////////////////////////////////////////////////////////////////////////////
                            10483 ; 945  |//  DAC Sample Rate Register (HW_DACSRR) Bit Definitions
                            10484 ; 946  |#define HW_DACSRR_SR_BITPOS 0
                            10485 ; 947  |
                            10486 ; 948  |#define HW_DACSRR_SR_WIDTH (23)
                            10487 ; 949  |#define HW_DACSRR_RSVD_WIDTH (1)
                            10488 ; 950  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 169

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10489 ; 951  |//HW_DACSRR_SR_SETMASK                    equ     $FFFFFF<<HW_DACSRR_SR_BITPOS
                            10490 ; 952  |#define HW_DACSRR_SR_SETMASK (((1<<HW_DACSRR_SR_WIDTH)-1)<<HW_DACSRR_SR_BITPOS)        
                            10491 ; 953  |
                            10492 ; 954  |#define HW_DACSRR_SR_CLRMASK ~(WORD)HW_DACSRR_SR_SETMASK
                            10493 ; 955  |
                            10494 ; 956  |typedef union               
                            10495 ; 957  |{
                            10496 ; 958  |    struct {
                            10497 ; 959  |        int SR                          : HW_DACSRR_SR_WIDTH;
                            10498 ; 960  |        int RSVD                        : HW_DACSRR_RSVD_WIDTH;
                            10499 ; 961  |    } B;
                            10500 ; 962  |    int I;
                            10501 ; 963  |    unsigned int U;
                            10502 ; 964  |} dac_srr_type;
                            10503 ; 965  |#define HW_DACSRR      (*(volatile dac_srr_type _X*) (HW_DAC_BASEADDR+1))
                            10504 ; 966  |
                            10505 ; 967  |
                            10506 ; 968  |
                            10507 ; 969  |/////////////////////////////////////////////////////////////////////////////////
                            10508 ; 970  |//  DAC Word Count Register (HW_DACWCR) Bit Definitions
                            10509 ; 971  |#define HW_DACWCR_WCR_BITPOS 0
                            10510 ; 972  |
                            10511 ; 973  |#define HW_DACWCR_WCR_WIDTH (10)
                            10512 ; 974  |#define HW_DACWCR_RSVD_WIDTH (12)
                            10513 ; 975  |
                            10514 ; 976  |//HW_DACWCR_WCR_SETMASK                   equ     $3FF<<HW_DACWCR_WCR_BITPOS
                            10515 ; 977  |#define HW_DACWCR_WCR_SETMASK (((1<<HW_DACWCR_WCR_WIDTH)-1)<<HW_DACWCR_WCR_BITPOS)        
                                  
                            10516 ; 978  |
                            10517 ; 979  |#define HW_DACWCR_WCR_CLRMASK ~(WORD)HW_DACWCR_WCR_SETMASK
                            10518 ; 980  |
                            10519 ; 981  |typedef union               
                            10520 ; 982  |{
                            10521 ; 983  |    struct {
                            10522 ; 984  |        int WCR                         : HW_DACWCR_WCR_WIDTH;
                            10523 ; 985  |        int RSVD                        : HW_DACWCR_RSVD_WIDTH;
                            10524 ; 986  |    } B;
                            10525 ; 987  |    int I;
                            10526 ; 988  |    unsigned int U;
                            10527 ; 989  |} dac_wcr_type;
                            10528 ; 990  |#define HW_DACWCR      (*(volatile dac_wcr_type _X*) (HW_DAC_BASEADDR+2))
                            10529 ; 991  |
                            10530 ; 992  |
                            10531 ; 993  |
                            10532 ; 994  |/////////////////////////////////////////////////////////////////////////////////
                            10533 ; 995  |//  DAC Current Position Register (HW_DACCPR) Bit Definitions
                            10534 ; 996  |#define HW_DACCPR_CPR_BITPOS 0
                            10535 ; 997  |
                            10536 ; 998  |#define HW_DACCPR_CPR_WIDTH (10)
                            10537 ; 999  |#define HW_DACCPR_RSVD_WIDTH (14)
                            10538 ; 1000 |
                            10539 ; 1001 |//HW_DACCPR_CPR_SETMASK                   equ     $3FF<<HW_DACCPR_CPR_BITPOS
                            10540 ; 1002 |#define HW_DACCPR_CPR_SETMASK (((1<<HW_DACCPR_CPR_WIDTH)-1)<<HW_DACCPR_CPR_BITPOS)        
                                  
                            10541 ; 1003 |
                            10542 ; 1004 |#define HW_DACCPR_CPR_CLRMASK ~(WORD)HW_DACCPR_CPR_SETMASK
                            10543 ; 1005 |
                            10544 ; 1006 |typedef union               
                            10545 ; 1007 |{
                            10546 ; 1008 |    struct {
                            10547 ; 1009 |        int CPR                         : HW_DACCPR_CPR_WIDTH;
                            10548 ; 1010 |        int RSVD                        : HW_DACCPR_RSVD_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 170

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10549 ; 1011 |    } B;
                            10550 ; 1012 |    int I;
                            10551 ; 1013 |    unsigned int U;
                            10552 ; 1014 |} dac_cpr_type;
                            10553 ; 1015 |#define HW_DACCPR      (*(volatile dac_cpr_type _X*) (HW_DAC_BASEADDR+3))
                            10554 ; 1016 |
                            10555 ; 1017 |
                            10556 ; 1018 |
                            10557 ; 1019 |/////////////////////////////////////////////////////////////////////////////////
                            10558 ; 1020 |//  DAC Modulo Register (HW_DACMR) Bit Definitions
                            10559 ; 1021 |#define HW_DACMR_MR_BITPOS 0
                            10560 ; 1022 |#define HW_DACMR_MR_WIDTH (10)
                            10561 ; 1023 |#define HW_DACMR_RSVD_WIDTH (14)
                            10562 ; 1024 |
                            10563 ; 1025 |//HW_DACMR_MR_SETMASK                     equ     $3FF<<HW_DACMR_MR_BITPOS
                            10564 ; 1026 |#define HW_DACMR_MR_SETMASK (((1<<HW_DACMR_MR_WIDTH)-1)<<HW_DACMR_MR_BITPOS)        
                            10565 ; 1027 |
                            10566 ; 1028 |#define HW_DACMR_MR_CLRMASK ~(WORD)HW_DACMR_MR_SETMASK
                            10567 ; 1029 |
                            10568 ; 1030 |typedef union               
                            10569 ; 1031 |{
                            10570 ; 1032 |    struct {
                            10571 ; 1033 |        int MR                         : HW_DACMR_MR_WIDTH;
                            10572 ; 1034 |        int RSVD                       : HW_DACMR_RSVD_WIDTH;
                            10573 ; 1035 |    } B;
                            10574 ; 1036 |    int I;
                            10575 ; 1037 |    unsigned int U;
                            10576 ; 1038 |} dac_mr_type;
                            10577 ; 1039 |#define HW_DACMR      (*(volatile dac_mr_type _X*) (HW_DAC_BASEADDR+4))
                            10578 ; 1040 |
                            10579 ; 1041 |
                            10580 ; 1042 |
                            10581 ; 1043 |/////////////////////////////////////////////////////////////////////////////////
                            10582 ; 1044 |//   DAC Base Address Register (HW_DACBAR) Bit Definitions
                            10583 ; 1045 |#define HW_DACBAR_BAR_BITPOS 0
                            10584 ; 1046 |#define HW_DACBAR_BAR_WIDTH (16)
                            10585 ; 1047 |#define HW_DACBAR_RSVD_WIDTH (8)
                            10586 ; 1048 |
                            10587 ; 1049 |//HW_DACBAR_BAR_SETMASK                   equ     $FFFF<<HW_DACBAR_BAR_BITPOS
                            10588 ; 1050 |#define HW_DACBAR_BAR_SETMASK (((1<<HW_DACBAR_BAR_WIDTH)-1)<<HW_DACBAR_BAR_BITPOS)        
                                  
                            10589 ; 1051 |
                            10590 ; 1052 |#define HW_DACBAR_BAR_CLRMASK ~(WORD)HW_DACBAR_BAR_SETMASK
                            10591 ; 1053 |
                            10592 ; 1054 |typedef union               
                            10593 ; 1055 |{
                            10594 ; 1056 |    struct {
                            10595 ; 1057 |        int BAR                        : HW_DACBAR_BAR_WIDTH;
                            10596 ; 1058 |        int RSVD                       : HW_DACBAR_RSVD_WIDTH;
                            10597 ; 1059 |    } B;
                            10598 ; 1060 |    int I;
                            10599 ; 1061 |    unsigned int U;
                            10600 ; 1062 |} dac_bar_type;
                            10601 ; 1063 |#define HW_DACBAR      (*(volatile dac_bar_type _X*) (HW_DAC_BASEADDR+5))
                            10602 ; 1064 |
                            10603 ; 1065 |
                            10604 ; 1066 |
                            10605 ; 1067 |/////////////////////////////////////////////////////////////////////////////////
                            10606 ; 1068 |//  DAC Interrupt Control Register (HW_DACICR) Bit Definitions
                            10607 ; 1069 |#define HW_DACICR_IPT_BITPOS 0
                            10608 ; 1070 |
                            10609 ; 1071 |#define HW_DACICR_IPT_WIDTH (10)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 171

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10610 ; 1072 |#define HW_DACICR_RSVD_WIDTH (12)
                            10611 ; 1073 |
                            10612 ; 1074 |#define HW_DACICR_IPT_SETMASK (((1<<HW_DACICR_IPT_WIDTH)-1)<<HW_DACICR_IPT_BITPOS)        
                                  
                            10613 ; 1075 |
                            10614 ; 1076 |#define HW_DACICR_IPT_CLRMASK ~(WORD)HW_DACICR_IPT_SETMASK
                            10615 ; 1077 |
                            10616 ; 1078 |typedef union               
                            10617 ; 1079 |{
                            10618 ; 1080 |    struct {
                            10619 ; 1081 |        int IPT                         : HW_DACICR_IPT_WIDTH;
                            10620 ; 1082 |        int RSVD                        : HW_DACICR_RSVD_WIDTH;
                            10621 ; 1083 |    } B;
                            10622 ; 1084 |    int I;
                            10623 ; 1085 |    unsigned int U;
                            10624 ; 1086 |} dac_icr_type;
                            10625 ; 1087 |#define HW_DACICR      (*(volatile dac_icr_type _X*) (HW_DAC_BASEADDR+6))
                            10626 ; 1088 |
                            10627 ; 1089 |
                            10628 ; 1090 |
                            10629 ; 1091 |
                            10630 ; 1092 |
                            10631 ; 1093 |/////////////////////////////////////////////////////////////////////////////////
                            10632 ; 1094 |/////////////////////////////////////////////////////////////////////////////////
                            10633 ; 1095 |/////////////////////////////////////////////////////////////////////////////////
                            10634 ; 1096 |//////  ADC Registers
                            10635 ; 1097 |/////////////////////////////////////////////////////////////////////////////////
                            10636 ; 1098 |/////////////////////////////////////////////////////////////////////////////////
                            10637 ; 1099 |/////////////////////////////////////////////////////////////////////////////////
                            10638 ; 1100 |#define HW_ADC_BASEADDR 0xFB00
                            10639 ; 1101 |
                            10640 ; 1102 |
                            10641 ; 1103 |
                            10642 ; 1104 |/////////////////////////////////////////////////////////////////////////////////
                            10643 ; 1105 |//  ADC Control Status Register (HW_ADCCSR) Bit Definitions
                            10644 ; 1106 |#define HW_ADCCSR_TXEN_BITPOS 0
                            10645 ; 1107 |#define HW_ADCCSR_TXIEN_BITPOS 1
                            10646 ; 1108 |#define HW_ADCCSR_TXI_BITPOS 2
                            10647 ; 1109 |#define HW_ADCCSR_TXEXC_BITPOS 3
                            10648 ; 1110 |#define HW_ADCCSR_LPBK_BITPOS 4
                            10649 ; 1111 |#define HW_ADCCSR_DMASEL_BITPOS 5
                            10650 ; 1112 |#define HW_ADCCSR_LPFMODE_BITPOS 8
                            10651 ; 1113 |#define HW_ADCCSR_CLKGT_BITPOS 23
                            10652 ; 1114 |
                            10653 ; 1115 |#define HW_ADCCSR_TXEN_WIDTH (1)
                            10654 ; 1116 |#define HW_ADCCSR_TXIEN_WIDTH (1)
                            10655 ; 1117 |#define HW_ADCCSR_TXI_WIDTH (1)
                            10656 ; 1118 |#define HW_ADCCSR_TXEXC_WIDTH (1)
                            10657 ; 1119 |#define HW_ADCCSR_LPBK_WIDTH (1)
                            10658 ; 1120 |#define HW_ADCCSR_DMASEL_WIDTH (2)
                            10659 ; 1121 |#define HW_ADCCSR_RSVD1_WIDTH (1)
                            10660 ; 1122 |#define HW_ADCCSR_LPFMODE_WIDTH (4)
                            10661 ; 1123 |#define HW_ADCCSR_RSVD2_WIDTH (11)
                            10662 ; 1124 |#define HW_ADCCSR_CLKGT_WIDTH (1)
                            10663 ; 1125 |
                            10664 ; 1126 |#define HW_ADCCSR_TXEN_SETMASK 1<<HW_ADCCSR_TXEN_BITPOS
                            10665 ; 1127 |#define HW_ADCCSR_TXIEN_SETMASK 1<<HW_ADCCSR_TXIEN_BITPOS
                            10666 ; 1128 |#define HW_ADCCSR_TXI_SETMASK 1<<HW_ADCCSR_TXI_BITPOS
                            10667 ; 1129 |#define HW_ADCCSR_TXEXC_SETMASK 1<<HW_ADCCSR_TXEXC_BITPOS
                            10668 ; 1130 |#define HW_ADCCSR_LPBK_SETMASK 1<<HW_ADCCSR_LPBK_BITPOS
                            10669 ; 1131 |#define HW_ADCCSR_DMASEL_SETMASK (((1<<HW_ADCCSR_DMASEL_WIDTH)-1)<<HW_ADCCSR_DMASEL_BITPOS
                                  )        
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 172

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10670 ; 1132 |#define HW_ADCCSR_LPFMODE_SETMASK (((1<<HW_ADCCSR_LPFMODE_WIDTH)-1)<<HW_ADCCSR_LPFMODE_BIT
                                  POS)        
                            10671 ; 1133 |#define HW_ADCCSR_CLKGT_SETMASK 1<<HW_ADCCSR_CLKGT_BITPOS
                            10672 ; 1134 |
                            10673 ; 1135 |#define HW_ADCCSR_TXEN_CLRMASK ~(WORD)HW_ADCCSR_TXEN_SETMASK
                            10674 ; 1136 |#define HW_ADCCSR_TXIEN_CLRMASK ~(WORD)HW_ADCCSR_TXIEN_SETMASK
                            10675 ; 1137 |#define HW_ADCCSR_TXI_CLRMASK ~(WORD)HW_ADCCSR_TXI_SETMASK
                            10676 ; 1138 |#define HW_ADCCSR_TXEXC_CLRMASK ~(WORD)HW_ADCCSR_TXEXC_SETMASK
                            10677 ; 1139 |#define HW_ADCCSR_LPBK_CLRMASK ~(WORD)HW_ADCCSR_LPBK_SETMASK
                            10678 ; 1140 |#define HW_ADCCSR_DMASEL_CLRMASK ~(WORD)HW_ADCCSR_DMASEL_SETMASK
                            10679 ; 1141 |#define HW_ADCCSR_LPFMODE_CLRMASK ~(WORD)HW_ADCCSR_LPFMODE_SETMASK
                            10680 ; 1142 |#define HW_ADCCSR_CLKGT_CLRMASK ~(WORD)HW_ADCCSR_CLKGT_SETMASK
                            10681 ; 1143 |
                            10682 ; 1144 |typedef union               
                            10683 ; 1145 |{
                            10684 ; 1146 |    struct {
                            10685 ; 1147 |        int TXEN                        : HW_ADCCSR_TXEN_WIDTH;
                            10686 ; 1148 |        int TXIEN                       : HW_ADCCSR_TXIEN_WIDTH;
                            10687 ; 1149 |        int TXI                         : HW_ADCCSR_TXI_WIDTH;
                            10688 ; 1150 |        int TXEXC                       : HW_ADCCSR_TXEXC_WIDTH;
                            10689 ; 1151 |        int LPBK                        : HW_ADCCSR_LPBK_WIDTH;
                            10690 ; 1152 |        int RSVD1                       : HW_ADCCSR_RSVD1_WIDTH;
                            10691 ; 1153 |        int DMASEL                      : HW_ADCCSR_DMASEL_WIDTH;
                            10692 ; 1154 |        int LPFMODE                     : HW_ADCCSR_LPFMODE_WIDTH;
                            10693 ; 1155 |        int RSVD2                       : HW_ADCCSR_RSVD2_WIDTH;
                            10694 ; 1156 |        int CLKGT                       : HW_ADCCSR_CLKGT_WIDTH;
                            10695 ; 1157 |    } B;
                            10696 ; 1158 |    int I;
                            10697 ; 1159 |    unsigned int U;
                            10698 ; 1160 |} adc_csr_type;
                            10699 ; 1161 |#define HW_ADCCSR (*(volatile adc_csr_type _X*) (HW_ADC_BASEADDR+0))
                            10700 ; 1162 |
                            10701 ; 1163 |
                            10702 ; 1164 |/////////////////////////////////////////////////////////////////////////////////
                            10703 ; 1165 |//  ADC Word Count Register (HW_ADCWCR) Bit Definitions
                            10704 ; 1166 |#define HW_ADCWCR_WCR_BITPOS 0
                            10705 ; 1167 |
                            10706 ; 1168 |#define HW_ADCWCR_WCR_WIDTH (10)
                            10707 ; 1169 |#define HW_ADCWCR_RSVD_WIDTH (14)
                            10708 ; 1170 |
                            10709 ; 1171 |#define HW_ADCWCR_WCR_SETMASK (((1<<HW_ADCWCR_WCR_WIDTH)-1)<<HW_ADCWCR_WCR_BITPOS)        
                                  
                            10710 ; 1172 |
                            10711 ; 1173 |#define HW_ADCWCR_WCR_CLRMASK ~(WORD)HW_ADCWCR_WCR_SETMASK
                            10712 ; 1174 |
                            10713 ; 1175 |typedef union               
                            10714 ; 1176 |{
                            10715 ; 1177 |    struct {
                            10716 ; 1178 |        int WCR                         : HW_ADCWCR_WCR_WIDTH;
                            10717 ; 1179 |        int RSVD                        : HW_ADCWCR_RSVD_WIDTH;
                            10718 ; 1180 |    } B;
                            10719 ; 1181 |    int I;
                            10720 ; 1182 |    unsigned int U;
                            10721 ; 1183 |} adc_wcr_type;
                            10722 ; 1184 |#define HW_ADCWCR (*(volatile adc_wcr_type _X*) (HW_ADC_BASEADDR+2))
                            10723 ; 1185 |
                            10724 ; 1186 |
                            10725 ; 1187 |
                            10726 ; 1188 |/////////////////////////////////////////////////////////////////////////////////
                            10727 ; 1189 |//   ADC Base Address Register (HW_ADCBAR) Bit Definitions
                            10728 ; 1190 |#define HW_ADCBAR_BAR_BITPOS 0
                            10729 ; 1191 |#define HW_ADCBAR_BAR_WIDTH (16)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 173

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10730 ; 1192 |#define HW_ADCBAR_RSVD_WIDTH (8)
                            10731 ; 1193 |
                            10732 ; 1194 |//HW_ADCBAR_BAR_SETMASK                   equ     $FFFF<<HW_ADCBAR_BAR_BITPOS
                            10733 ; 1195 |#define HW_ADCBAR_BAR_SETMASK (((1<<HW_ADCBAR_BAR_WIDTH)-1)<<HW_ADCBAR_BAR_BITPOS)        
                                  
                            10734 ; 1196 |
                            10735 ; 1197 |#define HW_ADCBAR_BAR_CLRMASK ~(WORD)HW_ADCBAR_BAR_SETMASK
                            10736 ; 1198 |
                            10737 ; 1199 |typedef union               
                            10738 ; 1200 |{
                            10739 ; 1201 |    struct {
                            10740 ; 1202 |        int BAR                        : HW_ADCBAR_BAR_WIDTH;
                            10741 ; 1203 |        int RSVD                       : HW_ADCBAR_RSVD_WIDTH;
                            10742 ; 1204 |    } B;
                            10743 ; 1205 |    int I;
                            10744 ; 1206 |    unsigned int U;
                            10745 ; 1207 |} adc_bar_type;
                            10746 ; 1208 |#define HW_ADCBAR (*(volatile adc_bar_type _X*) (HW_ADC_BASEADDR+5))
                            10747 ; 1209 |
                            10748 ; 1210 |
                            10749 ; 1211 |
                            10750 ; 1212 |
                            10751 ; 1213 |
                            10752 ; 1214 |/////////////////////////////////////////////////////////////////////////////////
                            10753 ; 1215 |//  DAC Current Position Register (HW_ADCCPR) Bit Definitions
                            10754 ; 1216 |#define HW_ADCCPR_CPR_BITPOS 0
                            10755 ; 1217 |
                            10756 ; 1218 |#define HW_ADCCPR_CPR_WIDTH (10)
                            10757 ; 1219 |#define HW_ADCCPR_RSVD_WIDTH (14)
                            10758 ; 1220 |
                            10759 ; 1221 |#define HW_ADCCPR_CPR_SETMASK (((1<<HW_ADCCPR_CPR_WIDTH)-1)<<HW_ADCCPR_CPR_BITPOS)        
                                  
                            10760 ; 1222 |
                            10761 ; 1223 |#define HW_ADCCPR_CPR_CLRMASK ~(WORD)HW_ADCCPR_CPR_SETMASK
                            10762 ; 1224 |
                            10763 ; 1225 |typedef union               
                            10764 ; 1226 |{
                            10765 ; 1227 |    struct {
                            10766 ; 1228 |        int CPR                         : HW_ADCCPR_CPR_WIDTH;
                            10767 ; 1229 |        int RSVD                        : HW_ADCCPR_RSVD_WIDTH;
                            10768 ; 1230 |    } B;
                            10769 ; 1231 |    int I;
                            10770 ; 1232 |    unsigned int U;
                            10771 ; 1233 |} adc_cpr_type;
                            10772 ; 1234 |#define HW_ADCCPR (*(volatile adc_cpr_type _X*) (HW_ADC_BASEADDR+3))
                            10773 ; 1235 |
                            10774 ; 1236 |
                            10775 ; 1237 |/////////////////////////////////////////////////////////////////////////////////
                            10776 ; 1238 |//  ADC Modulo Register (HW_ADCMR) Bit Definitions
                            10777 ; 1239 |#define HW_ADCMR_MR_BITPOS 0
                            10778 ; 1240 |#define HW_ADCMR_MR_WIDTH (10)
                            10779 ; 1241 |#define HW_ADCMR_RSVD_WIDTH (14)
                            10780 ; 1242 |
                            10781 ; 1243 |//HW_ADCMR_MR_SETMASK                     equ     $3FF<<HW_ADCMR_MR_BITPOS
                            10782 ; 1244 |#define HW_ADCMR_MR_SETMASK (((1<<HW_ADCMR_MR_WIDTH)-1)<<HW_ADCMR_MR_BITPOS)        
                            10783 ; 1245 |
                            10784 ; 1246 |#define HW_ADCMR_MR_CLRMASK ~(WORD)HW_ADCMR_MR_SETMASK
                            10785 ; 1247 |
                            10786 ; 1248 |typedef union               
                            10787 ; 1249 |{
                            10788 ; 1250 |    struct {
                            10789 ; 1251 |        int MR                         : HW_ADCMR_MR_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 174

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10790 ; 1252 |        int RSVD                       : HW_ADCMR_RSVD_WIDTH;
                            10791 ; 1253 |    } B;
                            10792 ; 1254 |    int I;
                            10793 ; 1255 |    unsigned int U;
                            10794 ; 1256 |} adc_mr_type;
                            10795 ; 1257 |#define HW_ADCMR (*(volatile adc_mr_type _X*) (HW_ADC_BASEADDR+4))
                            10796 ; 1258 |
                            10797 ; 1259 |/////////////////////////////////////////////////////////////////////////////////
                            10798 ; 1260 |//  ADC Sample Rate Register (HW_ADCSRR) Bit Definitions
                            10799 ; 1261 |#define HW_ADCSRR_SR_BITPOS 0
                            10800 ; 1262 |
                            10801 ; 1263 |#define HW_ADCSRR_SR_WIDTH (23)
                            10802 ; 1264 |#define HW_ADCSRR_RSVD_WIDTH (1)
                            10803 ; 1265 |
                            10804 ; 1266 |//HW_ADCSRR_SR_SETMASK                    equ     $FFFFFF<<HW_ADCSRR_SR_BITPOS
                            10805 ; 1267 |#define HW_ADCSRR_SR_SETMASK (((1<<HW_ADCSRR_SR_WIDTH)-1)<<HW_ADCSRR_SR_BITPOS)        
                            10806 ; 1268 |
                            10807 ; 1269 |#define HW_ADCSRR_SR_CLRMASK ~(WORD)HW_ADCSRR_SR_SETMASK
                            10808 ; 1270 |
                            10809 ; 1271 |typedef union               
                            10810 ; 1272 |{
                            10811 ; 1273 |    struct {
                            10812 ; 1274 |        int SR                          : HW_ADCSRR_SR_WIDTH;
                            10813 ; 1275 |        int RSVD                        : HW_ADCSRR_RSVD_WIDTH;
                            10814 ; 1276 |    } B;
                            10815 ; 1277 |    int I;
                            10816 ; 1278 |    unsigned int U;
                            10817 ; 1279 |} adc_srr_type;
                            10818 ; 1280 |#define HW_ADCSRR (*(volatile adc_srr_type _X*) (HW_ADC_BASEADDR+1))
                            10819 ; 1281 |
                            10820 ; 1282 |/////////////////////////////////////////////////////////////////////////////////
                            10821 ; 1283 |//  ADC Interrupt Control Register (HW_ADCICR) Bit Definitions
                            10822 ; 1284 |#define HW_ADCICR_IPT_BITPOS 0
                            10823 ; 1285 |
                            10824 ; 1286 |#define HW_ADCICR_IPT_WIDTH (10)
                            10825 ; 1287 |#define HW_ADCICR_RSVD_WIDTH (12)
                            10826 ; 1288 |
                            10827 ; 1289 |#define HW_ADCICR_IPT_SETMASK (((1<<HW_ADCICR_IPT_WIDTH)-1)<<HW_ADCICR_IPT_BITPOS)        
                                  
                            10828 ; 1290 |
                            10829 ; 1291 |#define HW_ADCICR_IPT_CLRMASK ~(WORD)HW_ADCICR_IPT_SETMASK
                            10830 ; 1292 |
                            10831 ; 1293 |typedef union               
                            10832 ; 1294 |{
                            10833 ; 1295 |    struct {
                            10834 ; 1296 |        int IPT                         : HW_ADCICR_IPT_WIDTH;
                            10835 ; 1297 |        int RSVD                        : HW_ADCICR_RSVD_WIDTH;
                            10836 ; 1298 |    } B;
                            10837 ; 1299 |    int I;
                            10838 ; 1300 |    unsigned int U;
                            10839 ; 1301 |} adc_icr_type;
                            10840 ; 1302 |#define HW_ADCICR (*(volatile adc_icr_type _X*) (HW_ADC_BASEADDR+6))
                            10841 ; 1303 |
                            10842 ; 1304 |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                            10843 ; 1305 |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                            10844 ; 1306 |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                            10845 ; 1307 |
                            10846 ; 1308 |#define HW_MIXTBR_PW_ADC_RIGHT_CH_BITPOS 16
                            10847 ; 1309 |
                            10848 ; 1310 |#define HW_MIXLINE1INVR_GN_ZERO_SETMASK 0x808
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 175

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10849 ; 1311 |
                            10850 ; 1312 |#endif
                            10851 ; 1313 |
                            10852 
                            10854 
                            10855 ; 20   |#include "regsdcdc.h"
                            10856 
                            10858 
                            10859 ; 1    |#if !(defined(regsdcdcinc))
                            10860 ; 2    |
                            10861 ; 3    |#define regssysteminc 1
                            10862 ; 4    |
                            10863 ; 5    |
                            10864 ; 6    |
                            10865 ; 7    |#include "types.h"
                            10866 
                            10868 
                            10869 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            10870 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            10871 ; 3    |//
                            10872 ; 4    |// Filename: types.h
                            10873 ; 5    |// Description: Standard data types
                            10874 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            10875 ; 7    |
                            10876 ; 8    |#ifndef _TYPES_H
                            10877 ; 9    |#define _TYPES_H
                            10878 ; 10   |
                            10879 ; 11   |// TODO:  move this outta here!
                            10880 ; 12   |#if !defined(NOERROR)
                            10881 ; 13   |#define NOERROR 0
                            10882 ; 14   |#define SUCCESS 0
                            10883 ; 15   |#endif 
                            10884 ; 16   |#if !defined(SUCCESS)
                            10885 ; 17   |#define SUCCESS  0
                            10886 ; 18   |#endif
                            10887 ; 19   |#if !defined(ERROR)
                            10888 ; 20   |#define ERROR   -1
                            10889 ; 21   |#endif
                            10890 ; 22   |#if !defined(FALSE)
                            10891 ; 23   |#define FALSE 0
                            10892 ; 24   |#endif
                            10893 ; 25   |#if !defined(TRUE)
                            10894 ; 26   |#define TRUE  1
                            10895 ; 27   |#endif
                            10896 ; 28   |
                            10897 ; 29   |#if !defined(NULL)
                            10898 ; 30   |#define NULL 0
                            10899 ; 31   |#endif
                            10900 ; 32   |
                            10901 ; 33   |#define MAX_INT     0x7FFFFF
                            10902 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            10903 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            10904 ; 36   |#define MAX_ULONG   (-1) 
                            10905 ; 37   |
                            10906 ; 38   |#define WORD_SIZE   24              // word size in bits
                            10907 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            10908 ; 40   |
                            10909 ; 41   |
                            10910 ; 42   |#define BYTE    unsigned char       // btVarName
                            10911 ; 43   |#define CHAR    signed char         // cVarName
                            10912 ; 44   |#define USHORT  unsigned short      // usVarName
                            10913 ; 45   |#define SHORT   unsigned short      // sVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 176

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10914 ; 46   |#define WORD    unsigned int        // wVarName
                            10915 ; 47   |#define INT     signed int          // iVarName
                            10916 ; 48   |#define DWORD   unsigned long       // dwVarName
                            10917 ; 49   |#define LONG    signed long         // lVarName
                            10918 ; 50   |#define BOOL    unsigned int        // bVarName
                            10919 ; 51   |#define FRACT   _fract              // frVarName
                            10920 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            10921 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            10922 ; 54   |#define FLOAT   float               // fVarName
                            10923 ; 55   |#define DBL     double              // dVarName
                            10924 ; 56   |#define ENUM    enum                // eVarName
                            10925 ; 57   |#define CMX     _complex            // cmxVarName
                            10926 ; 58   |typedef WORD UCS3;                   // 
                            10927 ; 59   |
                            10928 ; 60   |#define UINT16  unsigned short
                            10929 ; 61   |#define UINT8   unsigned char   
                            10930 ; 62   |#define UINT32  unsigned long
                            10931 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            10932 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            10933 ; 65   |#define WCHAR   UINT16
                            10934 ; 66   |
                            10935 ; 67   |//UINT128 is 16 bytes or 6 words
                            10936 ; 68   |typedef struct UINT128_3500 {   
                            10937 ; 69   |    int val[6];     
                            10938 ; 70   |} UINT128_3500;
                            10939 ; 71   |
                            10940 ; 72   |#define UINT128   UINT128_3500
                            10941 ; 73   |
                            10942 ; 74   |// Little endian word packed byte strings:   
                            10943 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            10944 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            10945 ; 77   |// Little endian word packed byte strings:   
                            10946 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            10947 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            10948 ; 80   |
                            10949 ; 81   |// Declare Memory Spaces To Use When Coding
                            10950 ; 82   |// A. Sector Buffers
                            10951 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            10952 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            10953 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            10954 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            10955 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            10956 ; 88   |// B. Media DDI Memory
                            10957 ; 89   |#define MEDIA_DDI_MEM _Y
                            10958 ; 90   |
                            10959 ; 91   |
                            10960 ; 92   |
                            10961 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            10962 ; 94   |// Examples of circular pointers:
                            10963 ; 95   |//    INT CIRC cpiVarName
                            10964 ; 96   |//    DWORD CIRC cpdwVarName
                            10965 ; 97   |
                            10966 ; 98   |#define RETCODE INT                 // rcVarName
                            10967 ; 99   |
                            10968 ; 100  |// generic bitfield structure
                            10969 ; 101  |struct Bitfield {
                            10970 ; 102  |    unsigned int B0  :1;
                            10971 ; 103  |    unsigned int B1  :1;
                            10972 ; 104  |    unsigned int B2  :1;
                            10973 ; 105  |    unsigned int B3  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 177

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10974 ; 106  |    unsigned int B4  :1;
                            10975 ; 107  |    unsigned int B5  :1;
                            10976 ; 108  |    unsigned int B6  :1;
                            10977 ; 109  |    unsigned int B7  :1;
                            10978 ; 110  |    unsigned int B8  :1;
                            10979 ; 111  |    unsigned int B9  :1;
                            10980 ; 112  |    unsigned int B10 :1;
                            10981 ; 113  |    unsigned int B11 :1;
                            10982 ; 114  |    unsigned int B12 :1;
                            10983 ; 115  |    unsigned int B13 :1;
                            10984 ; 116  |    unsigned int B14 :1;
                            10985 ; 117  |    unsigned int B15 :1;
                            10986 ; 118  |    unsigned int B16 :1;
                            10987 ; 119  |    unsigned int B17 :1;
                            10988 ; 120  |    unsigned int B18 :1;
                            10989 ; 121  |    unsigned int B19 :1;
                            10990 ; 122  |    unsigned int B20 :1;
                            10991 ; 123  |    unsigned int B21 :1;
                            10992 ; 124  |    unsigned int B22 :1;
                            10993 ; 125  |    unsigned int B23 :1;
                            10994 ; 126  |};
                            10995 ; 127  |
                            10996 ; 128  |union BitInt {
                            10997 ; 129  |        struct Bitfield B;
                            10998 ; 130  |        int        I;
                            10999 ; 131  |};
                            11000 ; 132  |
                            11001 ; 133  |#define MAX_MSG_LENGTH 10
                            11002 ; 134  |struct CMessage
                            11003 ; 135  |{
                            11004 ; 136  |        unsigned int m_uLength;
                            11005 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            11006 ; 138  |};
                            11007 ; 139  |
                            11008 ; 140  |typedef struct {
                            11009 ; 141  |    WORD m_wLength;
                            11010 ; 142  |    WORD m_wMessage;
                            11011 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            11012 ; 144  |} Message;
                            11013 ; 145  |
                            11014 ; 146  |struct MessageQueueDescriptor
                            11015 ; 147  |{
                            11016 ; 148  |        int *m_pBase;
                            11017 ; 149  |        int m_iModulo;
                            11018 ; 150  |        int m_iSize;
                            11019 ; 151  |        int *m_pHead;
                            11020 ; 152  |        int *m_pTail;
                            11021 ; 153  |};
                            11022 ; 154  |
                            11023 ; 155  |struct ModuleEntry
                            11024 ; 156  |{
                            11025 ; 157  |    int m_iSignaledEventMask;
                            11026 ; 158  |    int m_iWaitEventMask;
                            11027 ; 159  |    int m_iResourceOfCode;
                            11028 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            11029 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            11030 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            11031 ; 163  |    int m_uTimeOutHigh;
                            11032 ; 164  |    int m_uTimeOutLow;
                            11033 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            11034 ; 166  |};
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 178

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11035 ; 167  |
                            11036 ; 168  |union WaitMask{
                            11037 ; 169  |    struct B{
                            11038 ; 170  |        unsigned int m_bNone     :1;
                            11039 ; 171  |        unsigned int m_bMessage  :1;
                            11040 ; 172  |        unsigned int m_bTimer    :1;
                            11041 ; 173  |        unsigned int m_bButton   :1;
                            11042 ; 174  |    } B;
                            11043 ; 175  |    int I;
                            11044 ; 176  |} ;
                            11045 ; 177  |
                            11046 ; 178  |
                            11047 ; 179  |struct Button {
                            11048 ; 180  |        WORD wButtonEvent;
                            11049 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            11050 ; 182  |};
                            11051 ; 183  |
                            11052 ; 184  |struct Message {
                            11053 ; 185  |        WORD wMsgLength;
                            11054 ; 186  |        WORD wMsgCommand;
                            11055 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            11056 ; 188  |};
                            11057 ; 189  |
                            11058 ; 190  |union EventTypes {
                            11059 ; 191  |        struct CMessage msg;
                            11060 ; 192  |        struct Button Button ;
                            11061 ; 193  |        struct Message Message;
                            11062 ; 194  |};
                            11063 ; 195  |
                            11064 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            11065 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            11066 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            11067 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            11068 ; 200  |
                            11069 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            11070 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            11071 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            11072 ; 204  |
                            11073 ; 205  |#if DEBUG
                            11074 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            11075 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            11076 ; 208  |#else 
                            11077 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            11078 ; 210  |#define DebugBuildAssert(x)    
                            11079 ; 211  |#endif
                            11080 ; 212  |
                            11081 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            11082 ; 214  |//  #pragma asm
                            11083 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            11084 ; 216  |//  #pragma endasm
                            11085 ; 217  |
                            11086 ; 218  |
                            11087 ; 219  |#ifdef COLOR_262K
                            11088 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            11089 ; 221  |#elif defined(COLOR_65K)
                            11090 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            11091 ; 223  |#else
                            11092 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 179

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11093 ; 225  |#endif
                            11094 ; 226  |    
                            11095 ; 227  |#endif // #ifndef _TYPES_H
                            11096 
                            11098 
                            11099 ; 8    |
                            11100 ; 9    |
                            11101 ; 10   |
                            11102 ; 11   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11103 ; 12   |
                            11104 ; 13   |//   SYSTEM STMP Registers 
                            11105 ; 14   |//      Last Edited 2.19.2003 M. May
                            11106 ; 15   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11107 ; 16   |
                            11108 ; 17   |#define HW_DCDC_BASEADDR (0xFA0C)
                            11109 ; 18   |
                            11110 ; 19   |
                            11111 ; 20   |
                            11112 ; 21   |
                            11113 ; 22   |
                            11114 ; 23   |
                            11115 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            11116 ; 25   |
                            11117 ; 26   |//  DcDc#1 Control Register (HW_DCDC1_CTRL0) Bit Definitions
                            11118 ; 27   |
                            11119 ; 28   |#define HW_DCDC1_CTRL0_PLEVBU_WIDTH (5)
                            11120 ; 29   |#define HW_DCDC1_CTRL0_RSVD0_WIDTH (3)
                            11121 ; 30   |#define HW_DCDC1_CTRL0_PLEVBO_WIDTH (5)
                            11122 ; 31   |#define HW_DCDC1_CTRL0_RSVD1_WIDTH (3)
                            11123 ; 32   |#define HW_DCDC1_CTRL0_NLEV_WIDTH (5)
                            11124 ; 33   |
                            11125 ; 34   |#define HW_DCDC1_CTRL0_RSVD2_WIDTH (3)
                            11126 ; 35   |
                            11127 ; 36   |
                            11128 ; 37   |
                            11129 ; 38   |#define HW_DCDC1_CTRL0_PLEVBU_BITPOS (0)
                            11130 ; 39   |#define HW_DCDC1_CTRL0_PLEVBO_BITPOS (8)
                            11131 ; 40   |#define HW_DCDC1_CTRL0_NLEV_BITPOS (16)
                            11132 ; 41   |
                            11133 ; 42   |
                            11134 ; 43   |
                            11135 ; 44   |#define HW_DCDC1_CTRL0_PLEVBU_SETMASK (((1<<HW_DCDC1_CTRL0_PLEVBU_WIDTH)-1)<<HW_DCDC1_CTRL
                                  0_PLEVBU_BITPOS)        
                            11136 ; 45   |#define HW_DCDC1_CTRL0_PLEVBO_SETMASK (((1<<HW_DCDC1_CTRL0_PLEVBO_WIDTH)-1)<<HW_DCDC1_CTRL
                                  0_PLEVBO_BITPOS) 
                            11137 ; 46   |#define HW_DCDC1_CTRL0_NLEV_SETMASK (((1<<HW_DCDC1_CTRL0_NLEV_WIDTH)-1)<<HW_DCDC1_CTRL0_NL
                                  EV_BITPOS)  
                            11138 ; 47   |
                            11139 ; 48   |
                            11140 ; 49   |
                            11141 ; 50   |#define HW_DCDC1_CTRL0_PLEVBU_CLRMASK (~(WORD)HW_DCDC1_CTRL0_PLEVBU_SETMASK)     
                            11142 ; 51   |#define HW_DCDC1_CTRL0_PLEVBO_CLRMASK (~(WORD)HW_DCDC1_CTRL0_PLEVBO_SETMASK) 
                            11143 ; 52   |#define HW_DCDC1_CTRL0_NLEV_CLRMASK (~(WORD)HW_DCDC1_CTRL0_NLEV_SETMASK)  
                            11144 ; 53   |
                            11145 ; 54   |
                            11146 ; 55   |
                            11147 ; 56   |
                            11148 ; 57   |
                            11149 ; 58   |typedef union               
                            11150 ; 59   |{
                            11151 ; 60   |    struct {
                            11152 ; 61   |        unsigned int PLEVBU           : HW_DCDC1_CTRL0_PLEVBU_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 180

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11153 ; 62   |        unsigned int RSVD0            : HW_DCDC1_CTRL0_RSVD0_WIDTH;
                            11154 ; 63   |        unsigned int PLEVBO           : HW_DCDC1_CTRL0_PLEVBO_WIDTH;
                            11155 ; 64   |        unsigned int RSVD1            : HW_DCDC1_CTRL0_RSVD1_WIDTH;
                            11156 ; 65   |        unsigned int NLEV             : HW_DCDC1_CTRL0_NLEV_WIDTH;
                            11157 ; 66   |        unsigned int RSVD2            : HW_DCDC1_CTRL0_RSVD2_WIDTH;
                            11158 ; 67   |    } B;
                            11159 ; 68   |    unsigned int I;
                            11160 ; 69   |} dcdc1_ctrl0_type;
                            11161 ; 70   |#define HW_DCDC1_CTRL0      (*(volatile dcdc1_ctrl0_type _X*) (HW_DCDC_BASEADDR))    /* Dc
                                  Dc#1 Limit Level Register */
                            11162 ; 71   |
                            11163 ; 72   |
                            11164 ; 73   |
                            11165 ; 74   |
                            11166 ; 75   |/////////////////////////////////////////////////////////////////////////////////
                            11167 ; 76   |
                            11168 ; 77   |//  DCDc#1 Control Register1 (HW_DCDC1_CTRL1) Bit Definitions
                            11169 ; 78   |
                            11170 ; 79   |#define HW_DCDC1_CTRL1_C_WIDTH (4)
                            11171 ; 80   |#define HW_DCDC1_CTRL1_R_WIDTH (4)
                            11172 ; 81   |#define HW_DCDC1_CTRL1_FFOR_WIDTH (3)
                            11173 ; 82   |#define HW_DCDC1_CTRL1_RSVD0_WIDTH (1)
                            11174 ; 83   |#define HW_DCDC1_CTRL1_PFMCTRL_WIDTH (12)
                            11175 ; 84   |
                            11176 ; 85   |
                            11177 ; 86   |
                            11178 ; 87   |#define HW_DCDC1_CTRL1_C_BITPOS (0)
                            11179 ; 88   |#define HW_DCDC1_CTRL1_R_BITPOS (4)
                            11180 ; 89   |#define HW_DCDC1_CTRL1_FFOR_BITPOS (8)
                            11181 ; 90   |#define HW_DCDC1_CTRL1_PFMCTRL_BITPOS (12) 
                            11182 ; 91   |
                            11183 ; 92   |#define HW_DCDC1_CTRL1_C_SETMASK (((1<<HW_DCDC1_CTRL1_C_WIDTH)-1)<<HW_DCDC1_CTRL1_C_BITPOS
                                  )        
                            11184 ; 93   |#define HW_DCDC1_CTRL1_R_SETMASK (((1<<HW_DCDC1_CTRL1_R_WIDTH)-1)<<HW_DCDC1_CTRL1_R_BITPOS
                                  ) 
                            11185 ; 94   |#define HW_DCDC1_CTRL1_FFOR_SETMASK (((1<<HW_DCDC1_CTRL1_FFOR_WIDTH)-1)<<HW_DCDC1_CTRL1_FF
                                  OR_BITPOS)  
                            11186 ; 95   |#define HW_DCDC1_CTRL1_PFMCTRL_SETMASK (((1<<HW_DCDC1_CTRL1_PFMCTRL_WIDTH)-1)<<HW_DCDC1_CT
                                  RL1_PFMCTRL_BITPOS)   
                            11187 ; 96   |
                            11188 ; 97   |#define HW_DCDC1_CTRL1_C_CLRMASK (~(WORD)HW_DCDC1_CTRL1_C_SETMASK)     
                            11189 ; 98   |#define HW_DCDC1_CTRL1_R_CLRMASK (~(WORD)HW_DCDC1_CTRL1_R_SETMASK) 
                            11190 ; 99   |#define HW_DCDC1_CTRL1_FFOR_CLRMASK (~(WORD)HW_DCDC1_CTRL1_FFOR_SETMASK)  
                            11191 ; 100  |#define HW_DCDC1_CTRL1_PFMCTRL_CLRMASK (~(WORD)HW_DCDC1_CTRL1_PFMCTRL_SETMASK)  
                            11192 ; 101  |
                            11193 ; 102  |
                            11194 ; 103  |typedef union               
                            11195 ; 104  |{
                            11196 ; 105  |    struct {
                            11197 ; 106  |        unsigned int C       : HW_DCDC1_CTRL1_C_WIDTH;
                            11198 ; 107  |        unsigned int R                : HW_DCDC1_CTRL1_R_WIDTH;
                            11199 ; 108  |        unsigned int FFOR             : HW_DCDC1_CTRL1_FFOR_WIDTH;
                            11200 ; 109  |        unsigned int RSVD0            : HW_DCDC1_CTRL1_RSVD0_WIDTH;
                            11201 ; 110  |        unsigned int PFMCTRL          : HW_DCDC1_CTRL1_FFOR_WIDTH;
                            11202 ; 111  |    } B;
                            11203 ; 112  |    unsigned int I;
                            11204 ; 113  |} dcdc1_ctrl1_type;
                            11205 ; 114  |#define HW_DCDC1_CTRL1      (*(volatile dcdc1_ctrl1_type _X*) (HW_DCDC_BASEADDR+1))    /* 
                                  DcDc#1 Ctrl #1 Register */
                            11206 ; 115  |
                            11207 ; 116  |
                            11208 ; 117  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 181

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11209 ; 118  |
                            11210 ; 119  |/////////////////////////////////////////////////////////////////////////////////
                            11211 ; 120  |
                            11212 ; 121  |//  DcDc VDDIO Register (HW_DCDC_VDDIO) Bit Definitions
                            11213 ; 122  |
                            11214 ; 123  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH (5)
                            11215 ; 124  |#define HW_DCDC_VDDIO_RSVD0_WIDTH (3)
                            11216 ; 125  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH (5)
                            11217 ; 126  |#define HW_DCDC_VDDIO_RSVD1_WIDTH (3)
                            11218 ; 127  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH (1)
                            11219 ; 128  |#define HW_DCDC_VDDIO_RSVD2_WIDTH (3)
                            11220 ; 129  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH (1)
                            11221 ; 130  |#define HW_DCDC_VDDIO_OK_WIDTH (1)
                            11222 ; 131  |#define HW_DCDC_VDDIO_RSVD3_WIDTH (2)
                            11223 ; 132  |
                            11224 ; 133  |
                            11225 ; 134  |
                            11226 ; 135  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_BITPOS (0)
                            11227 ; 136  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_BITPOS (8)
                            11228 ; 137  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_BITPOS (16)
                            11229 ; 138  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_BITPOS (20)
                            11230 ; 139  |#define HW_DCDC_VDDIO_OK_BITPOS (21)
                            11231 ; 140  |
                            11232 ; 141  |
                            11233 ; 142  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH)-1)<<H
                                  W_DCDC_VDDIO_VOLTAGE_LEVEL_BITPOS)        
                            11234 ; 143  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH)-1)<
                                  <HW_DCDC_VDDIO_BROWNOUT_LEVEL_BITPOS) 
                            11235 ; 144  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH)-1
                                  )<<HW_DCDC_VDDIO_BROWNOUT_ENABLE_BITPOS)  
                            11236 ; 145  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH)-1
                                  )<<HW_DCDC_VDDIO_BROWNOUT_STATUS_BITPOS)  
                            11237 ; 146  |
                            11238 ; 147  |
                            11239 ; 148  |
                            11240 ; 149  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDIO_VOLTAGE_LEVEL_SETMASK)  
                                     
                            11241 ; 150  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_LEVEL_SETMASK)
                                   
                            11242 ; 151  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_ENABLE_SETMAS
                                  K)  
                            11243 ; 152  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_STATUS_SETMAS
                                  K)  
                            11244 ; 153  |
                            11245 ; 154  |
                            11246 ; 155  |typedef union               
                            11247 ; 156  |{
                            11248 ; 157  |    struct {
                            11249 ; 158  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH;
                            11250 ; 159  |        unsigned int RSVD0            : HW_DCDC_VDDIO_RSVD0_WIDTH;
                            11251 ; 160  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH;
                            11252 ; 161  |        unsigned int RSVD1            : HW_DCDC_VDDIO_RSVD1_WIDTH;
                            11253 ; 162  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH;
                            11254 ; 163  |        unsigned int RSVD2            : HW_DCDC_VDDIO_RSVD2_WIDTH;
                            11255 ; 164  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH;
                            11256 ; 165  |                 unsigned int VDDIO_OK        : HW_DCDC_VDDIO_OK_WIDTH;
                            11257 ; 166  |        unsigned int RSVD3            : HW_DCDC_VDDIO_RSVD3_WIDTH;
                            11258 ; 167  |    } B;
                            11259 ; 168  |    unsigned int I;
                            11260 ; 169  |} dcdc_vddio_type;
                            11261 ; 170  |#define HW_DCDC_VDDIO      (*(volatile dcdc_vddio_type _X*) (HW_DCDC_BASEADDR+2))    /* Dc
                                  Dc VDDIO Register */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 182

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11262 ; 171  |
                            11263 ; 172  |
                            11264 ; 173  |
                            11265 ; 174  |/////////////////////////////////////////////////////////////////////////////////
                            11266 ; 175  |//  DcDc VDDD Register (HW_DCDC_VDDD) Bit Definitions
                            11267 ; 176  |
                            11268 ; 177  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH (5)
                            11269 ; 178  |#define HW_DCDC_VDDD_RSVD0_WIDTH (3)
                            11270 ; 179  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH (5)
                            11271 ; 180  |#define HW_DCDC_VDDD_RSVD1_WIDTH (3)
                            11272 ; 181  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH (1)
                            11273 ; 182  |#define HW_DCDC_VDDD_RSVD2_WIDTH (3)
                            11274 ; 183  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH (1)
                            11275 ; 184  |#define HW_DCDC_VDDD_OK_WIDTH (1)
                            11276 ; 185  |#define HW_DCDC_VDDD_RSVD3_WIDTH (2)
                            11277 ; 186  |
                            11278 ; 187  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS (0)
                            11279 ; 188  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_BITPOS (8)
                            11280 ; 189  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_BITPOS (16)
                            11281 ; 190  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_BITPOS (20)
                            11282 ; 191  |#define HW_DCDC_VDDD_OK_BITPOS (21)
                            11283 ; 192  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH)-1)<<HW_
                                  DCDC_VDDD_VOLTAGE_LEVEL_BITPOS)        
                            11284 ; 193  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH)-1)<<H
                                  W_DCDC_VDDD_BROWNOUT_LEVEL_BITPOS) 
                            11285 ; 194  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH)-1)<
                                  <HW_DCDC_VDDD_BROWNOUT_ENABLE_BITPOS)  
                            11286 ; 195  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH)-1)<
                                  <HW_DCDC_VDDD_BROWNOUT_STATUS_BITPOS)  
                            11287 ; 196  |
                            11288 ; 197  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK)    
                                   
                            11289 ; 198  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_LEVEL_SETMASK) 
                            11290 ; 199  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_ENABLE_SETMASK)
                                    
                            11291 ; 200  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_STATUS_SETMASK)
                                    
                            11292 ; 201  |
                            11293 ; 202  |typedef union               
                            11294 ; 203  |{
                            11295 ; 204  |    struct {
                            11296 ; 205  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH;
                            11297 ; 206  |        unsigned int RSVD0            : HW_DCDC_VDDD_RSVD0_WIDTH;
                            11298 ; 207  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH;
                            11299 ; 208  |        unsigned int RSVD1            : HW_DCDC_VDDD_RSVD1_WIDTH;
                            11300 ; 209  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH;
                            11301 ; 210  |        unsigned int RSVD2            : HW_DCDC_VDDD_RSVD2_WIDTH;
                            11302 ; 211  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH;
                            11303 ; 212  |                 unsigned int VDD_OK           : HW_DCDC_VDDD_OK_WIDTH;
                            11304 ; 213  |        unsigned int RSVD3            : HW_DCDC_VDDD_RSVD3_WIDTH;
                            11305 ; 214  |    } B;
                            11306 ; 215  |   unsigned int I;
                            11307 ; 216  |        unsigned U;
                            11308 ; 217  |} dcdc_vddd_type;
                            11309 ; 218  |#define HW_DCDC_VDDD      (*(volatile dcdc_vddd_type _X*) (HW_DCDC_BASEADDR+3))    /* DcDc
                                   VDDD Register */
                            11310 ; 219  |
                            11311 ; 220  |
                            11312 ; 221  |
                            11313 ; 222  |
                            11314 ; 223  |/////////////////////////////////////////////////////////////////////////////////
                            11315 ; 224  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 183

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11316 ; 225  |//  DcDc Vdda Register (HW_DCDC_VDDA) Bit Definitions
                            11317 ; 226  |
                            11318 ; 227  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH (5)
                            11319 ; 228  |#define HW_DCDC_VDDA_RSVD0_WIDTH (3)
                            11320 ; 229  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH (5)
                            11321 ; 230  |#define HW_DCDC_VDDA_RSVD1_WIDTH (3)
                            11322 ; 231  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH (1)
                            11323 ; 232  |#define HW_DCDC_VDDA_RSVD2_WIDTH (3)
                            11324 ; 233  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH (1)
                            11325 ; 234  |#define HW_DCDC_VDDA_OK_WIDTH (1)
                            11326 ; 235  |#define HW_DCDC_VDDA_RSVD3_WIDTH (2)
                            11327 ; 236  |
                            11328 ; 237  |
                            11329 ; 238  |
                            11330 ; 239  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_BITPOS (0)
                            11331 ; 240  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_BITPOS (8)
                            11332 ; 241  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_BITPOS (16)
                            11333 ; 242  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_BITPOS (20)
                            11334 ; 243  |#define HW_DCDC_VDDA_OK_BITPOS (21)
                            11335 ; 244  |
                            11336 ; 245  |
                            11337 ; 246  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH)-1)<<HW_
                                  DCDC_VDDA_VOLTAGE_LEVEL_BITPOS)        
                            11338 ; 247  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH)-1)<<H
                                  W_DCDC_VDDA_BROWNOUT_LEVEL_BITPOS) 
                            11339 ; 248  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH)-1)<
                                  <HW_DCDC_VDDA_BROWNOUT_ENABLE_BITPOS)  
                            11340 ; 249  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH)-1)<
                                  <HW_DCDC_VDDA_BROWNOUT_STATUS_BITPOS)  
                            11341 ; 250  |
                            11342 ; 251  |
                            11343 ; 252  |
                            11344 ; 253  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDA_VOLTAGE_LEVEL_SETMASK)    
                                   
                            11345 ; 254  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_LEVEL_SETMASK) 
                            11346 ; 255  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_ENABLE_SETMASK)
                                    
                            11347 ; 256  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_STATUS_SETMASK)
                                    
                            11348 ; 257  |
                            11349 ; 258  |
                            11350 ; 259  |typedef union               
                            11351 ; 260  |{
                            11352 ; 261  |    struct {
                            11353 ; 262  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH;
                            11354 ; 263  |        unsigned int RSVD0            : HW_DCDC_VDDA_RSVD0_WIDTH;
                            11355 ; 264  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH;
                            11356 ; 265  |        unsigned int RSVD1            : HW_DCDC_VDDA_RSVD1_WIDTH;
                            11357 ; 266  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH;
                            11358 ; 267  |        unsigned int RSVD2            : HW_DCDC_VDDA_RSVD2_WIDTH;
                            11359 ; 268  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH;
                            11360 ; 269  |             unsigned int VDDA_OK          : HW_DCDC_VDDA_OK_WIDTH;
                            11361 ; 270  |        unsigned int RSVD3            : HW_DCDC_VDDA_RSVD3_WIDTH;
                            11362 ; 271  |    } B;
                            11363 ; 272  |    unsigned int I;
                            11364 ; 273  |} dcdc_vdda_type;
                            11365 ; 274  |#define HW_DCDC_VDDA      (*(volatile dcdc_vdda_type _X*) (HW_DCDC_BASEADDR+4))    /* DcDc
                                   VDDA Register */
                            11366 ; 275  |
                            11367 ; 276  |
                            11368 ; 277  |
                            11369 ; 278  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 184

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11370 ; 279  |/////////////////////////////////////////////////////////////////////////////////
                            11371 ; 280  |
                            11372 ; 281  |//  DcDc#2 Control Register 0 (HW_DCDC2_CTRL0) Bit Definitions
                            11373 ; 282  |
                            11374 ; 283  |#define HW_DCDC2_CTRL0_PLEVBU_WIDTH (5)
                            11375 ; 284  |#define HW_DCDC2_CTRL0_RSVD0_WIDTH (3)
                            11376 ; 285  |#define HW_DCDC2_CTRL0_PLEVBO_WIDTH (5)
                            11377 ; 286  |#define HW_DCDC2_CTRL0_RSVD1_WIDTH (3)
                            11378 ; 287  |#define HW_DCDC2_CTRL0_NLEV_WIDTH (5)
                            11379 ; 288  |#define HW_DCDC2_CTRL0_RSVD2_WIDTH (3)
                            11380 ; 289  |
                            11381 ; 290  |
                            11382 ; 291  |
                            11383 ; 292  |#define HW_DCDC2_CTRL0_PLEVBU_BITPOS (0)
                            11384 ; 293  |#define HW_DCDC2_CTRL0_PLEVBO_BITPOS (8)
                            11385 ; 294  |#define HW_DCDC2_CTRL0_NLEV_BITPOS (16)
                            11386 ; 295  |
                            11387 ; 296  |#define HW_DCDC2_CTRL0_PLEVBU_SETMASK (((1<<HW_DCDC2_CTRL0_PLEVBU_WIDTH)-1)<<HW_DCDC2_CTRL
                                  0_PLEVBU_BITPOS)        
                            11388 ; 297  |#define HW_DCDC2_CTRL0_PLEVBO_SETMASK (((1<<HW_DCDC2_CTRL0_PLEVBO_WIDTH)-1)<<HW_DCDC2_CTRL
                                  0_PLEVBO_BITPOS) 
                            11389 ; 298  |#define HW_DCDC2_CTRL0_NLEV_SETMASK (((1<<HW_DCDC2_CTRL0_NLEV_WIDTH)-1)<<HW_DCDC2_CTRL0_NL
                                  EV_BITPOS)  
                            11390 ; 299  |
                            11391 ; 300  |#define HW_DCDC2_CTRL0_PLEVBU_CLRMASK (~(WORD)HW_DCDC2_CTRL0_PLEVBU_SETMASK)     
                            11392 ; 301  |#define HW_DCDC2_CTRL0_PLEVBO_CLRMASK (~(WORD)HW_DCDC2_CTRL0_PLEVBO_SETMASK) 
                            11393 ; 302  |#define HW_DCDC2_CTRL0_NLEV_CLRMASK (~(WORD)HW_DCDC2_CTRL0_NLEV_SETMASK)  
                            11394 ; 303  |
                            11395 ; 304  |
                            11396 ; 305  |typedef union               
                            11397 ; 306  |{
                            11398 ; 307  |    struct {
                            11399 ; 308  |        unsigned int PLEVBU           : HW_DCDC2_CTRL0_PLEVBU_WIDTH;
                            11400 ; 309  |        unsigned int RSVD0            : HW_DCDC2_CTRL0_RSVD0_WIDTH;
                            11401 ; 310  |        unsigned int PLEVBO           : HW_DCDC2_CTRL0_PLEVBO_WIDTH;
                            11402 ; 311  |        unsigned int RSVD1            : HW_DCDC2_CTRL0_RSVD1_WIDTH;
                            11403 ; 312  |        unsigned int NLEV             : HW_DCDC2_CTRL0_NLEV_WIDTH;
                            11404 ; 313  |        unsigned int RSVD2            : HW_DCDC2_CTRL0_RSVD2_WIDTH;
                            11405 ; 314  |    } B;
                            11406 ; 315  |    unsigned int I;
                            11407 ; 316  |} dcdc2_ctrl0_type; 
                            11408 ; 317  |#define HW_DCDC2_CTRL0      (*(volatile dcdc2_ctrl0_type _X*) (HW_DCDC_BASEADDR+5))    /* 
                                  DcDc#2 Limit Level Register */
                            11409 ; 318  |
                            11410 ; 319  |
                            11411 ; 320  |
                            11412 ; 321  |
                            11413 ; 322  |/////////////////////////////////////////////////////////////////////////////////
                            11414 ; 323  |
                            11415 ; 324  |//  DcDc#2 Control Register #1 (HW_DCDC2_CTRL1) Bit Definitions
                            11416 ; 325  |
                            11417 ; 326  |#define HW_DCDC2_CTRL1_C_WIDTH (4)
                            11418 ; 327  |#define HW_DCDC2_CTRL1_R_WIDTH (4)
                            11419 ; 328  |#define HW_DCDC2_CTRL1_FFOR_WIDTH (3)
                            11420 ; 329  |#define HW_DCDC2_CTRL1_RSVD0_WIDTH (1)
                            11421 ; 330  |#define HW_DCDC2_CTRL1_PFMCTRL_WIDTH (12)
                            11422 ; 331  |
                            11423 ; 332  |
                            11424 ; 333  |#define HW_DCDC2_CTRL1_C_BITPOS (0)
                            11425 ; 334  |#define HW_DCDC2_CTRL1_R_BITPOS (4)
                            11426 ; 335  |#define HW_DCDC2_CTRL1_FFOR_BITPOS (8)
                            11427 ; 336  |#define HW_DCDC2_CTRL1_PFMCTRL_BITPOS (12)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 185

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11428 ; 337  |
                            11429 ; 338  |
                            11430 ; 339  |
                            11431 ; 340  |#define HW_DCDC2_CTRL1_C_SETMASK (((1<<HW_DCDC2_CTRL1_C_WIDTH)-1)<<HW_DCDC2_CTRL1_C_BITPOS
                                  )        
                            11432 ; 341  |#define HW_DCDC2_CTRL1_R_SETMASK (((1<<HW_DCDC2_CTRL1_R_WIDTH)-1)<<HW_DCDC2_CTRL1_R_BITPOS
                                  ) 
                            11433 ; 342  |#define HW_DCDC2_CTRL1_FFOR_SETMASK (((1<<HW_DCDC2_CTRL1_FFOR_WIDTH)-1)<<HW_DCDC2_CTRL1_FF
                                  OR_BITPOS)  
                            11434 ; 343  |#define HW_DCDC2_CTRL1_PFMCTRL_SETMASK (((1<<HW_DCDC2_CTRL1_PFMCTRL_WIDTH)-1)<<HW_DCDC2_CT
                                  RL1_PFMCTRL_BITPOS)  
                            11435 ; 344  |
                            11436 ; 345  |
                            11437 ; 346  |
                            11438 ; 347  |#define HW_DCDC2_CTRL1_C_CLRMASK (~(WORD)HW_DCDC2_CTRL1_C_SETMASK)     
                            11439 ; 348  |#define HW_DCDC2_CTRL1_R_CLRMASK (~(WORD)HW_DCDC2_CTRL1_R_SETMASK) 
                            11440 ; 349  |#define HW_DCDC2_CTRL1_FFOR_CLRMASK (~(WORD)HW_DCDC2_CTRL1_FFOR_SETMASK)  
                            11441 ; 350  |#define HW_DCDC2_CTRL1_PFMCTRL_CLRMASK (~(WORD)HW_DCDC2_CTRL1_PFMCTRL_SETMASK)  
                            11442 ; 351  |
                            11443 ; 352  |
                            11444 ; 353  |typedef union               
                            11445 ; 354  |{
                            11446 ; 355  |    struct {
                            11447 ; 356  |        unsigned int C                : HW_DCDC2_CTRL1_C_WIDTH;
                            11448 ; 357  |        unsigned int R                : HW_DCDC2_CTRL1_R_WIDTH;
                            11449 ; 358  |        unsigned int FFOR             : HW_DCDC2_CTRL1_FFOR_WIDTH;
                            11450 ; 359  |        unsigned int RSVD0            : HW_DCDC2_CTRL1_RSVD0_WIDTH;
                            11451 ; 360  |        unsigned int PFMCTRL          : HW_DCDC2_CTRL1_FFOR_WIDTH;
                            11452 ; 361  |    } B;
                            11453 ; 362  |    unsigned int I;
                            11454 ; 363  |} dcdc2_ctrl1_type;
                            11455 ; 364  |#define HW_DCDC2_CTRL1      (*(volatile dcdc2_ctrl1_type _X*) (HW_DCDC_BASEADDR+6))    /* 
                                  DcDc#2 Ctrl Register #1 */
                            11456 ; 365  |
                            11457 ; 366  |
                            11458 ; 367  |
                            11459 ; 368  |
                            11460 ; 369  |/////////////////////////////////////////////////////////////////////////////////
                            11461 ; 370  |
                            11462 ; 371  |//  Speed Monitoring Register (HW_SPEED) Bit Definitions
                            11463 ; 372  |
                            11464 ; 373  |#define HW_SPEED_OSC1_PWRUP_WIDTH (1)
                            11465 ; 374  |#define HW_SPEED_OSC1_START_COUNT_WIDTH (1)
                            11466 ; 375  |#define HW_SPEED_RSVD0_WIDTH (2)
                            11467 ; 376  |#define HW_SPEED_RINGOSC1_WIDTH (7)
                            11468 ; 377  |#define HW_SPEED_RSVD1_WIDTH (1)
                            11469 ; 378  |#define HW_SPEED_OSC2_PWRUP_WIDTH (1)
                            11470 ; 379  |#define HW_SPEED_OSC2_START_COUNT_WIDTH (1)
                            11471 ; 380  |#define HW_SPEED_RSVD2_WIDTH (2)
                            11472 ; 381  |#define HW_SPEED_RINGOSC2_WIDTH (7)
                            11473 ; 382  |#define HW_SPEED_RSVD3_WIDTH (1)
                            11474 ; 383  |
                            11475 ; 384  |
                            11476 ; 385  |
                            11477 ; 386  |#define HW_SPEED_OSC1_PWRUP_BITPOS (0)
                            11478 ; 387  |#define HW_SPEED_OSC1_START_COUNT_BITPOS (1)
                            11479 ; 388  |#define HW_SPEED_RINGOSC1_BITPOS (4)
                            11480 ; 389  |#define HW_SPEED_OSC2_PWRUP_BITPOS (12)
                            11481 ; 390  |#define HW_SPEED_OSC2_START_COUNT_BITPOS (13)
                            11482 ; 391  |#define HW_SPEED_RINGOSC2_BITPOS (16)
                            11483 ; 392  |
                            11484 ; 393  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 186

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11485 ; 394  |#define HW_SPEED_OSC1_PWRUP_SETMASK (((1<<HW_SPEED_OSC1_PWRUP_WIDTH)-1)<<HW_SPEED_OSC1_PWR
                                  UP_BITPOS)        
                            11486 ; 395  |#define HW_SPEED_OSC1_START_COUNT_SETMASK (((1<<HW_SPEED_OSC1_START_COUNT_WIDTH)-1)<<HW_SP
                                  EED_OSC1_START_COUNT_BITPOS)        
                            11487 ; 396  |#define HW_SPEED_RINGOSC1_SETMASK (((1<<HW_SPEED_RINGOSC1_WIDTH)-1)<<HW_SPEED_RINGOSC1_BIT
                                  POS) 
                            11488 ; 397  |#define HW_SPEED_OSC2_PWRUP_SETMASK (((1<<HW_SPEED_OSC2_PWRUP_WIDTH)-1)<<HW_SPEED_OSC2_PWR
                                  UP_BITPOS)        
                            11489 ; 398  |
                            11490 ; 399  |#define HW_SPEED_OSC2_START_COUNT_SETMASK (((1<<HW_SPEED_OSC2_START_COUNT_WIDTH)-1)<<HW_SP
                                  EED_OSC2_START_COUNT_BITPOS)        
                            11491 ; 400  |#define HW_SPEED_RINGOSC2_SETMASK (((1<<HW_SPEED_RINGOSC2_WIDTH)-1)<<HW_SPEED_RINGOSC2_BIT
                                  POS) 
                            11492 ; 401  |
                            11493 ; 402  |
                            11494 ; 403  |
                            11495 ; 404  |#define HW_SPEED_OSC1_PWRUP_CLRMASK (~(WORD)HW_SPEED_OSC1_PWRUP_SETMASK)     
                            11496 ; 405  |#define HW_SPEED_OSC1_START_COUNT_CLRMASK (~(WORD)HW_SPEED_OSC1_START_COUNT_SETMASK)     
                            11497 ; 406  |#define HW_SPEED_RINGOSC1_CLRMASK (~(WORD)HW_SPEED_RINGOSC1_SETMASK) 
                            11498 ; 407  |#define HW_SPEED_OSC2_PWRUP_CLRMASK (~(WORD)HW_SPEED_OSC2_PWRUP_SETMASK)   
                            11499 ; 408  |#define HW_SPEED_OSC2_START_COUNT_CLRMASK (~(WORD)HW_SPEED_OSC2_START_COUNT_SETMASK)     
                            11500 ; 409  |#define HW_SPEED_RINGOSC2_CLRMASK (~(WORD)HW_SPEED_RINGOSC2_SETMASK) 
                            11501 ; 410  |
                            11502 ; 411  |
                            11503 ; 412  |typedef union               
                            11504 ; 413  |{
                            11505 ; 414  |    struct {
                            11506 ; 415  |        unsigned int OSC1_PWRUP          : HW_SPEED_OSC1_PWRUP_WIDTH;
                            11507 ; 416  |        unsigned int OSC1_START_COUNT    : HW_SPEED_OSC1_START_COUNT_WIDTH;
                            11508 ; 417  |        unsigned int RSVD0               : HW_SPEED_RSVD0_WIDTH;
                            11509 ; 418  |        unsigned int RINGOSC1            : HW_SPEED_RINGOSC1_WIDTH;
                            11510 ; 419  |        unsigned int RSVD1               : HW_SPEED_RSVD1_WIDTH;
                            11511 ; 420  |        unsigned int OSC2_PWRUP          : HW_SPEED_OSC2_PWRUP_WIDTH;
                            11512 ; 421  |        unsigned int OSC2_START_COUNT    : HW_SPEED_OSC2_START_COUNT_WIDTH;
                            11513 ; 422  |        unsigned int RSVD2               : HW_SPEED_RSVD2_WIDTH;
                            11514 ; 423  |        unsigned int RINGOSC2            : HW_SPEED_RINGOSC2_WIDTH;
                            11515 ; 424  |        unsigned int RSVD3               : HW_SPEED_RSVD3_WIDTH;
                            11516 ; 425  |    } B;
                            11517 ; 426  |    unsigned int I;
                            11518 ; 427  |} speed_type;
                            11519 ; 428  |#define HW_SPEED      (*(volatile speed_type _X*) (HW_DCDC_BASEADDR+7))    /* Speed Measur
                                  ement Register */
                            11520 ; 429  |
                            11521 ; 430  |
                            11522 ; 431  |
                            11523 ; 432  |
                            11524 ; 433  |
                            11525 ; 434  |
                            11526 ; 435  |
                            11527 ; 436  |// DC DC Test Bit Register (HW_DCDCTBR) Definitions
                            11528 ; 437  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH 4
                            11529 ; 438  |#define HW_DCDC_TBR_DCDC1_DIS_5BIT_WIDTH 1
                            11530 ; 439  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH 1
                            11531 ; 440  |#define HW_DCDC_TBR_DCDC1_CLK4X_WIDTH 1
                            11532 ; 441  |#define HW_DCDC_TBR_DCDC1_CLK2X_WIDTH 1
                            11533 ; 442  |#define HW_DCDC_TBR_DCDC1_NOZERO_WIDTH 1
                            11534 ; 443  |#define HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_WIDTH 1
                            11535 ; 444  |#define HW_DCDC_TBR_DCDC1_PFM_WIDTH 1
                            11536 ; 445  |#define HW_DCDC_TBR_DCDC1_STOPCLK_WIDTH 1
                            11537 ; 446  |#define HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_WIDTH 1
                            11538 ; 447  |#define HW_DCDC_TBR_DCDC_ANA_LESSI_WIDTH 1
                            11539 ; 448  |#define HW_DCDC_TBR_DCDC_MORE_CAP_WIDTH 1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 187

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11540 ; 449  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH 1
                            11541 ; 450  |#define HW_DCDC_TBR_DCDC1_NEW_SCHEME_WIDTH 1
                            11542 ; 451  |#define HW_DCDC_TBR_DCDC1_HALF_FETS_WIDTH 1
                            11543 ; 452  |#define HW_DCDC_TBR_DCDC2_DIS_5BIT_WIDTH 1
                            11544 ; 453  |#define HW_DCDC_TBR_DCDC2_CLK4X_WIDTH 1
                            11545 ; 454  |#define HW_DCDC_TBR_DCDC2_CLK2X_WIDTH 1
                            11546 ; 455  |#define HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_WIDTH 1
                            11547 ; 456  |#define HW_DCDC_TBR_DCDC2_PFM_WIDTH 1
                            11548 ; 457  |#define HW_DCDC_TBR_DCDC2_STOPCLK_WIDTH 1
                            11549 ; 458  |
                            11550 ; 459  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS (0)
                            11551 ; 460  |#define HW_DCDC_TBR_DCDC1_DIS_5BIT_BITPOS (4)
                            11552 ; 461  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_BITPOS (5)
                            11553 ; 462  |#define HW_DCDC_TBR_DCDC1_CLK4X_BITPOS (6)
                            11554 ; 463  |#define HW_DCDC_TBR_DCDC1_CLK2X_BITPOS (7)
                            11555 ; 464  |#define HW_DCDC_TBR_DCDC1_NOZERO_BITPOS (8)
                            11556 ; 465  |#define HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_BITPOS (9)
                            11557 ; 466  |#define HW_DCDC_TBR_DCDC1_PFM_BITPOS (10)
                            11558 ; 467  |#define HW_DCDC_TBR_DCDC1_STOPCLK_BITPOS (11)
                            11559 ; 468  |#define HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_BITPOS (12)
                            11560 ; 469  |#define HW_DCDC_TBR_DCDC_ANA_LESSI_BITPOS (13)
                            11561 ; 470  |#define HW_DCDC_TBR_DCDC_MORE_CAP_BITPOS (14)
                            11562 ; 471  |#define HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS (15)
                            11563 ; 472  |#define HW_DCDC_TBR_DCDC1_NEW_SCHEME_BITPOS (16)
                            11564 ; 473  |#define HW_DCDC_TBR_DCDC1_HALF_FETS_BITPOS (17)
                            11565 ; 474  |#define HW_DCDC_TBR_DCDC2_DIS_5BIT_BITPOS (18)
                            11566 ; 475  |#define HW_DCDC_TBR_DCDC2_CLK4X_BITPOS (19)
                            11567 ; 476  |#define HW_DCDC_TBR_DCDC2_CLK2X_BITPOS (20)
                            11568 ; 477  |#define HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_BITPOS (21)
                            11569 ; 478  |#define HW_DCDC_TBR_DCDC2_PFM_BITPOS (22)
                            11570 ; 479  |#define HW_DCDC_TBR_DCDC2_STOPCLK_BITPOS (23)
                            11571 ; 480  |
                            11572 ; 481  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK (((1<<HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH)-1)<<HW_DCDC
                                  _TBR_DCDC1_ADJ_TN_BITPOS)
                            11573 ; 482  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK (((1<<HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH)-1)<<HW_DC
                                  DC_TBR_DCDC1_BAT_ADJ_BITPOS)
                            11574 ; 483  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK (((1<<HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH)-1
                                  )<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)
                            11575 ; 484  |
                            11576 ; 485  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK)
                            11577 ; 486  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK)
                            11578 ; 487  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMAS
                                  K)
                            11579 ; 488  |
                            11580 ; 489  |// Defines for What needs to change to be able to use a higher Core voltage and when the c
                                  hange should happen
                            11581 ; 490  |#define HW_DCDC_VDDD_CHANGE_TBR_CUTOFF_VALUE ((18<<HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS)&HW_D
                                  CDC_VDDD_VOLTAGE_LEVEL_SETMASK)
                            11582 ; 491  |#define HW_DCDC_TBR_VDDD_HI_VALUE ((1<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)&HW_DCDC_
                                  TBR_DCDC_ANA_BGR_BIAS_SETMASK)
                            11583 ; 492  |#define HW_DCDC_TBR_VDDD_LO_VALUE (((1<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)&HW_DCDC
                                  _TBR_DCDC_ANA_BGR_BIAS_SETMASK)+((2<<HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS)&HW_DCDC_TBR_DCDC1_ADJ_TN_SET
                                  MASK)+((1<<HW_DCDC_TBR_DCDC1_BAT_ADJ_BITPOS)&HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK))
                            11584 ; 493  |
                            11585 ; 494  |typedef union               
                            11586 ; 495  |{
                            11587 ; 496  |    struct {
                            11588 ; 497  |        unsigned int DCDC1_ADJ_TN               : HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH;
                            11589 ; 498  |        unsigned int DCDC1_DIS_5BIT             : HW_DCDC_TBR_DCDC1_DIS_5BIT_WIDTH;
                            11590 ; 499  |        unsigned int DCDC1_BAT_ADJ              : HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH;
                            11591 ; 500  |        unsigned int DCDC1_CLK4X                : HW_DCDC_TBR_DCDC1_CLK4X_WIDTH;
                            11592 ; 501  |        unsigned int DCDC1_CLK2X                : HW_DCDC_TBR_DCDC1_CLK2X_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 188

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11593 ; 502  |        unsigned int DCDC1_NOZERO               : HW_DCDC_TBR_DCDC1_NOZERO_WIDTH;
                            11594 ; 503  |        unsigned int DCDC1_VDD5V_ACTIVE         : HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_WIDTH;
                            11595 ; 504  |        unsigned int DCDC1_PFM                  : HW_DCDC_TBR_DCDC1_PFM_WIDTH;
                            11596 ; 505  |        unsigned int DCDC1_STOPCLK              : HW_DCDC_TBR_DCDC1_STOPCLK_WIDTH;
                            11597 ; 506  |        unsigned int PWRUP_VDDIO_BRNOUT         : HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_WIDTH;
                            11598 ; 507  |        unsigned int DCDC_ANA_LESSI             : HW_DCDC_TBR_DCDC_ANA_LESSI_WIDTH;
                            11599 ; 508  |        unsigned int DCDC_MORE_CAP              : HW_DCDC_TBR_DCDC_MORE_CAP_WIDTH;
                            11600 ; 509  |        unsigned int DCDC_ANA_BGR_BIAS          : HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH;
                            11601 ; 510  |        unsigned int DCDC1_NEW_SCHEME           : HW_DCDC_TBR_DCDC1_NEW_SCHEME_WIDTH;
                            11602 ; 511  |        unsigned int DCDC1_HALF_FETS            : HW_DCDC_TBR_DCDC1_HALF_FETS_WIDTH;
                            11603 ; 512  |        unsigned int DCDC2_DIS_5BIT             : HW_DCDC_TBR_DCDC2_DIS_5BIT_WIDTH;
                            11604 ; 513  |        unsigned int DCDC2_CLK4X                : HW_DCDC_TBR_DCDC2_CLK4X_WIDTH;
                            11605 ; 514  |        unsigned int DCDC2_CLK2X                : HW_DCDC_TBR_DCDC2_CLK2X_WIDTH;
                            11606 ; 515  |        unsigned int DCDC2_VDD5V_ACTIVE         : HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_WIDTH;
                            11607 ; 516  |        unsigned int DCDC2_PFM                  : HW_DCDC_TBR_DCDC2_PFM_WIDTH;
                            11608 ; 517  |        unsigned int DCDC2_STOPCLK              : HW_DCDC_TBR_DCDC2_STOPCLK_WIDTH;
                            11609 ; 518  |    } B;
                            11610 ; 519  |    unsigned int I;
                            11611 ; 520  |} usb_dcdctbr_type;
                            11612 ; 521  |#define HW_DCDC_TBR                     (*(volatile usb_dcdctbr_type _X*) (HW_DCDC_BASEADD
                                  R+8))    /* Analog test bit register*/
                            11613 ; 522  |
                            11614 ; 523  |
                            11615 ; 524  |/////////////////////////////////////////////////////////////////////////////////
                            11616 ; 525  |
                            11617 ; 526  |//  Analog Persistent Config (HW_VDD5V_PWR_CHARGE) Bit Definitions
                            11618 ; 527  |
                            11619 ; 528  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH (6)
                            11620 ; 529  |#define HW_VDD5V_PWR_CHARGE_RSVD0_WIDTH (2)
                            11621 ; 530  |#define HW_VDD5V_PWR_CHARGE_PWD_WIDTH (1)
                            11622 ; 531  |#define HW_VDD5V_PWR_CHARGE_RES_WIDTH (1)
                            11623 ; 532  |#define HW_VDD5V_PWR_CHARGE_NIMH_WIDTH (1)
                            11624 ; 533  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH (1)
                            11625 ; 534  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH (1)
                            11626 ; 535  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WIDTH (1)
                            11627 ; 536  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH (1)
                            11628 ; 537  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH (1)
                            11629 ; 538  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH (1)
                            11630 ; 539  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH (1)
                            11631 ; 540  |#define HW_VDD5V_PWR_CHARGE_RSVD1_WIDTH (2)
                            11632 ; 541  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH (1)
                            11633 ; 542  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_WIDTH (2)
                            11634 ; 543  |#define HW_VDD5V_PWR_CHARGE_RSVD2_WIDTH (3)
                            11635 ; 544  |
                            11636 ; 545  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_BITPOS (0)
                            11637 ; 546  |#define HW_VDD5V_PWR_CHARGE_PWD_BITPOS (8)
                            11638 ; 547  |#define HW_VDD5V_PWR_CHARGE_RES_BITPOS (9)
                            11639 ; 548  |#define HW_VDD5V_PWR_CHARGE_NIMH_BITPOS (10)
                            11640 ; 549  |
                            11641 ; 550  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_BITPOS (11)
                            11642 ; 551  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_BITPOS (12)
                            11643 ; 552  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_BITPOS (13)
                            11644 ; 553  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_BITPOS (14)
                            11645 ; 554  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_BITPOS (15)
                            11646 ; 555  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_BITPOS (16)
                            11647 ; 556  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_BITPOS (17)
                            11648 ; 557  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_BITPOS (20)
                            11649 ; 558  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_BITPOS (21)
                            11650 ; 559  |
                            11651 ; 560  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WI
                                  DTH)-1)<<HW_VDD5V_PWR_CHARGE_BATT_CURRENT_BITPOS)        
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 189

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11652 ; 561  |#define HW_VDD5V_PWR_CHARGE_PWD_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_PWD_WIDTH)-1)<<HW_VDD5V_
                                  PWR_CHARGE_PWD_BITPOS)        
                            11653 ; 562  |#define HW_VDD5V_PWR_CHARGE_RES_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_RES_WIDTH)-1)<<HW_VDD5V_
                                  PWR_CHARGE_RES_BITPOS) 
                            11654 ; 563  |#define HW_VDD5V_PWR_CHARGE_NIMH_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_NIMH_WIDTH)-1)<<HW_VDD5
                                  V_PWR_CHARGE_NIMH_BITPOS) 
                            11655 ; 564  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH)-1)<<H
                                  W_VDD5V_PWR_CHARGE_LI_TYPE_BITPOS) 
                            11656 ; 565  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DISABLE_ILIMI
                                  T_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_BITPOS)        
                            11657 ; 566  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_PWDN_ON_IOB
                                  RNOUT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_BITPOS)        
                            11658 ; 567  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH)-1)<
                                  <HW_VDD5V_PWR_CHARGE_DCANA_LP_BITPOS) 
                            11659 ; 568  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WI
                                  DTH)-1)<<HW_VDD5V_PWR_CHARGE_TEST_USBREGS_BITPOS) 
                            11660 ; 569  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH)-1)<
                                  <HW_VDD5V_PWR_CHARGE_DRV_BATT_BITPOS) 
                            11661 ; 570  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH)
                                  -1)<<HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_BITPOS) 
                            11662 ; 571  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_
                                  WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_BITPOS) 
                            11663 ; 572  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_BATT_INFO_WIDTH)-1
                                  )<<HW_VDD5V_PWR_CHARGE_BATT_INFO_BITPOS) 
                            11664 ; 573  |
                            11665 ; 574  |
                            11666 ; 575  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_BATT_CURRENT_
                                  SETMASK)     
                            11667 ; 576  |#define HW_VDD5V_PWR_CHARGE_PWD_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_PWD_SETMASK)     
                            11668 ; 577  |#define HW_VDD5V_PWR_CHARGE_RES_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_RES_SETMASK) 
                            11669 ; 578  |#define HW_VDD5V_PWR_CHARGE_NIMH_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_NIMH_SETMASK) 
                            11670 ; 579  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_LI_TYPE_SETMASK) 
                            11671 ; 580  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DISABLE_ILI
                                  MIT_SETMASK)     
                            11672 ; 581  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_PWDN_ON_I
                                  OBRNOUT_SETMASK)     
                            11673 ; 582  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DCANA_LP_SETMASK)
                                   
                            11674 ; 583  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_TEST_USBREGS_
                                  SETMASK) 
                            11675 ; 584  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DRV_BATT_SETMASK)
                                   
                            11676 ; 585  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_SETM
                                  ASK) 
                            11677 ; 586  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_VDD5V_PRESEN
                                  T_SETMASK) 
                            11678 ; 587  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_BATT_INFO_SETMAS
                                  K) 
                            11679 ; 588  |
                            11680 ; 589  |typedef union               
                            11681 ; 590  |{
                            11682 ; 591  |    struct {
                            11683 ; 592  |        unsigned int BATT_CURRENT               : HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH;
                            11684 ; 593  |        unsigned int RSVD0                      : HW_VDD5V_PWR_CHARGE_RSVD0_WIDTH;
                            11685 ; 594  |        unsigned int PWD                        : HW_VDD5V_PWR_CHARGE_PWD_WIDTH;
                            11686 ; 595  |        unsigned int RES                        : HW_VDD5V_PWR_CHARGE_RES_WIDTH;
                            11687 ; 596  |        unsigned int NIMH                       : HW_VDD5V_PWR_CHARGE_NIMH_WIDTH;
                            11688 ; 597  |        unsigned int LI_TYPE                    : HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH;
                            11689 ; 598  |        unsigned int DISABLE_ILIMIT             : HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH
                                  ;
                            11690 ; 599  |        unsigned int PWDN_ON_IOBRNOUT           : HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WID
                                  TH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 190

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11691 ; 600  |        unsigned int DCANA_LP                   : HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH;
                            11692 ; 601  |        unsigned int TEST_USBREGS               : HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH;
                            11693 ; 602  |        unsigned int DRV_BATT                   : HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH;
                            11694 ; 603  |        unsigned int SWCHRG_BAT                 : HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH;
                            11695 ; 604  |        unsigned int RSVD1                      : HW_VDD5V_PWR_CHARGE_RSVD1_WIDTH;
                            11696 ; 605  |        unsigned int VDD5V_PRESENT              : HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH;
                                  
                            11697 ; 606  |        unsigned int RSVD2                      : HW_VDD5V_PWR_CHARGE_RSVD2_WIDTH;
                            11698 ; 607  |    } B;
                            11699 ; 608  |    unsigned int I;
                            11700 ; 609  |} usb_pwr_charge_type;
                            11701 ; 610  |#define HW_VDD5V_PWR_CHARGE      (*(volatile usb_pwr_charge_type _X*) (HW_DCDC_BASEADDR+17
                                  ))    /* Analog Persistent Config Register */
                            11702 ; 611  |
                            11703 ; 612  |#define HW_DCDC_PERSIST_AUTO_RESTART_STAT_WIDTH 1
                            11704 ; 613  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_WIDTH 1
                            11705 ; 614  |#define HW_DCDC_PERSIST_UPDATE_WIDTH 1
                            11706 ; 615  |#define HW_DCDC_PERSIST_AUTO_RESTART_WIDTH 1
                            11707 ; 616  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_WIDTH 1
                            11708 ; 617  |#define HW_DCDC_PERSIST_LOW_BATT_TYPE_WIDTH 1
                            11709 ; 618  |#define HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_WIDTH 1
                            11710 ; 619  |#define HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_WIDTH 1
                            11711 ; 620  |#define HW_DCDC_PERSIST_XTAL_TRIM1_WIDTH 1
                            11712 ; 621  |#define HW_DCDC_PERSIST_XTAL_TRIM0_WIDTH 1
                            11713 ; 622  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_WIDTH 1
                            11714 ; 623  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_WIDTH 1
                            11715 ; 624  |#define HW_DCDC_PERSIST_XTAL_TRM_ENABLE_WIDTH 1
                            11716 ; 625  |#define HW_DCDC_PERSIST_RSRVD_WIDTH 2
                            11717 ; 626  |
                            11718 ; 627  |#define HW_DCDC_PERSIST_AUTO_RESTART_STAT_BITPOS 12
                            11719 ; 628  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_BITPOS 11
                            11720 ; 629  |#define HW_DCDC_PERSIST_UPDATE_BITPOS 10
                            11721 ; 630  |#define HW_DCDC_PERSIST_AUTO_RESTART_BITPOS 9
                            11722 ; 631  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_BITPOS 8 
                            11723 ; 632  |#define HW_DCDC_PERSIST_LOW_BATT_TYPE_BITPOS 7
                            11724 ; 633  |#define HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_BITPOS 6
                            11725 ; 634  |#define HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_BITPOS 5
                            11726 ; 635  |#define HW_DCDC_PERSIST_XTAL_TRIM1_BITPOS 4
                            11727 ; 636  |#define HW_DCDC_PERSIST_XTAL_TRIM0_BITPOS 3
                            11728 ; 637  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_BITPOS 2
                            11729 ; 638  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_BITPOS 1
                            11730 ; 639  |#define HW_DCDC_PERSIST_XTAL_TRM_ENABLE_BITPOS 0
                            11731 ; 640  |
                            11732 ; 641  |typedef union               
                            11733 ; 642  |{
                            11734 ; 643  |    struct {       
                            11735 ; 644  |       int XTAL_TRM_ENABLE             : HW_DCDC_PERSIST_XTAL_TRM_ENABLE_WIDTH;
                            11736 ; 645  |       int XTAL_BIAS_DOWN0             : HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_WIDTH;
                            11737 ; 646  |       int XTAL_BIAS_DOWN1             : HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_WIDTH;
                            11738 ; 647  |       int XTAL_TRIM0                  : HW_DCDC_PERSIST_XTAL_TRIM0_WIDTH;
                            11739 ; 648  |       int XTAL_TRIM1                  : HW_DCDC_PERSIST_XTAL_TRIM1_WIDTH;
                            11740 ; 649  |       int SLEEP_XTAL_ENABLE           : HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_WIDTH;
                            11741 ; 650  |       int LOW_BATTERY_ENABLE          : HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_WIDTH;
                            11742 ; 651  |       int LOW_BATT_TYPE               : HW_DCDC_PERSIST_LOW_BATT_TYPE_WIDTH;
                            11743 ; 652  |       int DELAY_5V_AUTO_RESTART       : HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_WIDTH;
                            11744 ; 653  |       int AUTO_RESTART                : HW_DCDC_PERSIST_AUTO_RESTART_WIDTH;
                            11745 ; 654  |       int UPDATE                      : HW_DCDC_PERSIST_UPDATE_WIDTH;
                            11746 ; 655  |       int DELAY_5V_AUTO_RESTART_STAT  : HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_WIDTH;
                                  
                            11747 ; 656  |       int AUTO_RESTART_STAT           : HW_DCDC_PERSIST_AUTO_RESTART_STAT_WIDTH;
                            11748 ; 657  |       int RSRVD                       : HW_DCDC_PERSIST_RSRVD_WIDTH;
                            11749 ; 658  |    } B;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 191

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11750 ; 659  |    int I;
                            11751 ; 660  |} usb_dcdcpersist_type;
                            11752 ; 661  |#define HW_DCDC_PERSIST                (*(volatile usb_dcdcpersist_type _X*) (HW_DCDC_BASE
                                  ADDR+15))    /* Analog test bit register*/
                            11753 ; 662  |
                            11754 ; 663  |
                            11755 ; 664  |
                            11756 ; 665  |#endif
                            11757 ; 666  |
                            11758 ; 667  |
                            11759 ; 668  |
                            11760 
                            11762 
                            11763 ; 21   |#include "regsemc.h"
                            11764 
                            11766 
                            11767 ; 1    |#if !(defined(__REGS_EMC_INC))
                            11768 ; 2    |#define __REGS_EMC_INC 1
                            11769 ; 3    |
                            11770 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            11771 ; 5    |//   Module base addresses
                            11772 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                            11773 ; 7    |#define HW_EMC_BASEADDR 0xF000
                            11774 ; 8    |
                            11775 ; 9    |/////////////////////////////////////////////////////////////////////////////////
                            11776 ; 10   |//  EMC Registers
                            11777 ; 11   |/////////////////////////////////////////////////////////////////////////////////
                            11778 ; 12   |
                            11779 ; 13   |
                            11780 ; 14   |/////////////////////////////////////////////////////////////////////////////////
                            11781 ; 15   |//  Flash Control Register (HW_FLCR) Bit Definitions
                            11782 ; 16   |
                            11783 ; 17   |typedef union               /*Flash Control Register*/
                            11784 ; 18   |{
                            11785 ; 19   |    struct
                            11786 ; 20   |    {
                            11787 ; 21   |    int KICK        :1;
                            11788 ; 22   |    int RW          :1;
                            11789 ; 23   |    int TCIE        :1;
                            11790 ; 24   |    int IRQP        :1;
                            11791 ; 25   |    unsigned MMD    :2;
                            11792 ; 26   |    unsigned NB     :11;
                            11793 ; 27   |    unsigned RSVD   :4;
                            11794 ; 28   |    int SRST        :1;
                            11795 ; 29   |    } B;
                            11796 ; 30   |    int I;
                            11797 ; 31   |} flcr_type;
                            11798 ; 32   |
                            11799 ; 33   |#define HW_FLCR_KICK_BITPOS 0
                            11800 ; 34   |#define HW_FLCR_RW_BITPOS 1
                            11801 ; 35   |#define HW_FLCR_TCIE_BITPOS 2
                            11802 ; 36   |#define HW_FLCR_IRQP_BITPOS 3
                            11803 ; 37   |#define HW_FLCR_MMD_BITPOS 4
                            11804 ; 38   |#define HW_FLCR_NB_BITPOS 6
                            11805 ; 39   |#define HW_FLCR_SRST_BITPOS 21
                            11806 ; 40   |
                            11807 ; 41   |#define HW_FLCR_KICK_SETMASK 1<<HW_FLCR_KICK_BITPOS
                            11808 ; 42   |#define HW_FLCR_RW_SETMASK 1<<HW_FLCR_RW_BITPOS
                            11809 ; 43   |#define HW_FLCR_READ_KICK_SETMASK HW_FLCR_KICK_SETMASK|HW_FLCR_RW_SETMASK
                            11810 ; 44   |#define HW_FLCR_WRITE_KICK_SETMASK HW_FLCR_KICK_SETMASK
                            11811 ; 45   |#define HW_FLCR_TCIE_SETMASK 1<<HW_FLCR_TCIE_BITPOS
                            11812 ; 46   |#define HW_FLCR_IRQP_SETMASK 1<<HW_FLCR_IRQP_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 192

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11813 ; 47   |#define HW_FLCR_MMD_SETMASK 3<<HW_FLCR_MMD_BITPOS
                            11814 ; 48   |#define HW_FLCR_NB_SETMASK 0x7FF<<HW_FLCR_NB_BITPOS
                            11815 ; 49   |#define HW_FLCR_SRST_SETMASK 1<<HW_FLCR_SRST_BITPOS
                            11816 ; 50   |
                            11817 ; 51   |#define HW_FLCR_KICK_CLRMASK ~(WORD)HW_FLCR_KICK_SETMASK
                            11818 ; 52   |#define HW_FLCR_RW_CLRMASK ~(WORD)HW_FLCR_RW_SETMASK
                            11819 ; 53   |#define HW_FLCR_TCIE_CLRMASK ~(WORD)HW_FLCR_TCIE_SETMASK
                            11820 ; 54   |#define HW_FLCR_IRQP_CLRMASK ~(WORD)HW_FLCR_IRQP_SETMASK
                            11821 ; 55   |#define HW_FLCR_MMD_CLRMASK ~(WORD)HW_FLCR_MMD_SETMASK
                            11822 ; 56   |#define HW_FLCR_NB_CLRMASK ~(WORD)HW_FLCR_NB_SETMASK
                            11823 ; 57   |#define HW_FLCR_SRST_CLRMASK ~(WORD)HW_FLCR_SRST_SETMASK
                            11824 ; 58   |
                            11825 ; 59   |
                            11826 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            11827 ; 61   |//  Flash Start Address Low Register (HW_FLSALR) Bit Definitions
                            11828 ; 62   |
                            11829 ; 63   |typedef union           /* Flash Start Address Low*/
                            11830 ; 64   |{
                            11831 ; 65   |    struct
                            11832 ; 66   |    {
                            11833 ; 67   |    unsigned XA     : 24;
                            11834 ; 68   |    } B;
                            11835 ; 69   |    int I;
                            11836 ; 70   |} flsalr_type;
                            11837 ; 71   |
                            11838 ; 72   |#define HW_FLSALR_XA_BITPOS 0
                            11839 ; 73   |
                            11840 ; 74   |#define HW_FLSALR_XA_SETMASK 0xFFFFFF<<HW_FLSALR_XA_BITPOS
                            11841 ; 75   |
                            11842 ; 76   |#define HW_FLSALR_XA_CLRMASK ~(WORD)HW_FLSALR_XA_SETMASK
                            11843 ; 77   |
                            11844 ; 78   |
                            11845 ; 79   |/////////////////////////////////////////////////////////////////////////////////
                            11846 ; 80   |//  Flash Start Address High Register (HW_FLSAHR) Bit Definitions
                            11847 ; 81   |
                            11848 ; 82   |typedef union           /* Flash Start Address High*/
                            11849 ; 83   |{
                            11850 ; 84   |    struct
                            11851 ; 85   |    {
                            11852 ; 86   |    unsigned XA     :8;
                            11853 ; 87   |    unsigned DA     :16;
                            11854 ; 88   |    } B;
                            11855 ; 89   |    int I;
                            11856 ; 90   |} flsahr_type;
                            11857 ; 91   |
                            11858 ; 92   |#define HW_FLSAHR_XA_BITPOS 0
                            11859 ; 93   |
                            11860 ; 94   |#define HW_FLSAHR_XA_SETMASK 0xFFFFFF<<HW_FLSAHR_XA_BITPOS
                            11861 ; 95   |
                            11862 ; 96   |#define HW_FLSAHR_XA_CLRMASK ~(WORD)HW_FLSAHR_XA_SETMASK
                            11863 ; 97   |
                            11864 ; 98   |
                            11865 ; 99   |/////////////////////////////////////////////////////////////////////////////////
                            11866 ; 100  |//  EMC Flash CompactFlash Control Register (HW_FLCFCR) Bit Definitions
                            11867 ; 101  |
                            11868 ; 102  |typedef union           /* Flash CompactFlash Control Register*/
                            11869 ; 103  |{
                            11870 ; 104  |    struct
                            11871 ; 105  |    {
                            11872 ; 106  |        int WP          :1;
                            11873 ; 107  |        int CDP         :1;
                            11874 ; 108  |        unsigned SM     :2;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 193

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11875 ; 109  |        int XATTR       :1;
                            11876 ; 110  |        int CRST        :1;
                            11877 ; 111  |        int XWT         :1;
                            11878 ; 112  |        int RI          :1;
                            11879 ; 113  |        int IFCE        :1;
                            11880 ; 114  |        int ISCE        :1;
                            11881 ; 115  |        int INCE        :1;
                            11882 ; 116  |        int IFCS        :1;
                            11883 ; 117  |        int ISCS        :1;
                            11884 ; 118  |        int INCS        :1;
                            11885 ; 119  |        unsigned CFAI   :2;
                            11886 ; 120  |        int XDDI        :1;
                            11887 ; 121  |        unsigned CS     :2;
                            11888 ; 122  |        int CRE         :1;
                            11889 ; 123  |        unsigned VS     :2;
                            11890 ; 124  |        int DASP        :1;
                            11891 ; 125  |        int MODE16      :1; 
                            11892 ; 126  |    } B;
                            11893 ; 127  |    int I;
                            11894 ; 128  |} flcfcr_type;
                            11895 ; 129  |
                            11896 ; 130  |#define HW_FLCFCR_WP_BITPOS 0
                            11897 ; 131  |#define HW_FLCFCR_CDP_BITPOS 1
                            11898 ; 132  |#define HW_FLCFCR_SM_BITPOS 2
                            11899 ; 133  |#define HW_FLCFCR_XATTR_BITPOS 4
                            11900 ; 134  |#define HW_FLCFCR_CRST_BITPOS 5
                            11901 ; 135  |#define HW_FLCFCR_XWT_BITPOS 6
                            11902 ; 136  |#define HW_FLCFCR_RI_BITPOS 7
                            11903 ; 137  |#define HW_FLCFCR_IFCE_BITPOS 8
                            11904 ; 138  |#define HW_FLCFCR_ISCE_BITPOS 9
                            11905 ; 139  |#define HW_FLCFCR_INCE_BITPOS 10
                            11906 ; 140  |#define HW_FLCFCR_IFCS_BITPOS 11
                            11907 ; 141  |#define HW_FLCFCR_ISCS_BITPOS 12
                            11908 ; 142  |#define HW_FLCFCR_INCS_BITPOS 13
                            11909 ; 143  |#define HW_FLCFCR_CFAI_BITPOS 14
                            11910 ; 144  |#define HW_FLCFCR_XDDI_BITPOS 16
                            11911 ; 145  |#define HW_FLCFCR_CS_BITPOS 17
                            11912 ; 146  |#define HW_FLCFCR_CRE_BITPOS 19
                            11913 ; 147  |#define HW_FLCFCR_VS_BITPOS 20
                            11914 ; 148  |#define HW_FLCFCR_DASP_BITPOS 22
                            11915 ; 149  |
                            11916 ; 150  |#define HW_FLCFCR_WP_SETMASK 1<<HW_FLCFCR_WP_BITPOS
                            11917 ; 151  |#define HW_FLCFCR_CDP_SETMASK 1<<HW_FLCFCR_CDP_BITPOS
                            11918 ; 152  |#define HW_FLCFCR_SM_SETMASK 3<<HW_FLCFCR_SM_BITPOS
                            11919 ; 153  |#define HW_FLCFCR_XATTR_SETMASK 1<<HW_FLCFCR_XATTR_BITPOS
                            11920 ; 154  |#define HW_FLCFCR_CRST_SETMASK 1<<HW_FLCFCR_CRST_BITPOS
                            11921 ; 155  |#define HW_FLCFCR_XWT_SETMASK 1<<HW_FLCFCR_XWT_BITPOS
                            11922 ; 156  |#define HW_FLCFCR_RI_SETMASK 1<<HW_FLCFCR_RI_BITPOS
                            11923 ; 157  |#define HW_FLCFCR_IFCE_SETMASK 1<<HW_FLCFCR_IFCE_BITPOS
                            11924 ; 158  |#define HW_FLCFCR_ISCE_SETMASK 1<<HW_FLCFCR_ISCE_BITPOS
                            11925 ; 159  |#define HW_FLCFCR_INCE_SETMASK 1<<HW_FLCFCR_INCE_BITPOS
                            11926 ; 160  |#define HW_FLCFCR_IFCS_SETMASK 1<<HW_FLCFCR_IFCS_BITPOS
                            11927 ; 161  |#define HW_FLCFCR_ISCS_SETMASK 1<<HW_FLCFCR_ISCS_BITPOS
                            11928 ; 162  |#define HW_FLCFCR_INCS_SETMASK 1<<HW_FLCFCR_INCS_BITPOS
                            11929 ; 163  |#define HW_FLCFCR_CFAI_SETMASK 3<<HW_FLCFCR_CFAI_BITPOS
                            11930 ; 164  |#define HW_FLCFCR_XDDI_SETMASK 1<<HW_FLCFCR_XDDI_BITPOS
                            11931 ; 165  |#define HW_FLCFCR_CS_SETMASK 3<<HW_FLCFCR_CS_BITPOS
                            11932 ; 166  |#define HW_FLCFCR_CRE_SETMASK 1<<HW_FLCFCR_CRE_BITPOS
                            11933 ; 167  |#define HW_FLCFCR_VS_SETMASK 3<<HW_FLCFCR_VS_BITPOS
                            11934 ; 168  |#define HW_FLCFCR_DASP_SETMASK 1<<HW_FLCFCR_DASP_BITPOS
                            11935 ; 169  |
                            11936 ; 170  |#define HW_FLCFCR_WP_CLRMASK ~(WORD)HW_FLCFCR_WP_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 194

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11937 ; 171  |#define HW_FLCFCR_CDP_CLRMASK ~(WORD)HW_FLCFCR_CDP_SETMASK
                            11938 ; 172  |#define HW_FLCFCR_SM_CLRMASK ~(WORD)HW_FLCFCR_SM_SETMASK
                            11939 ; 173  |#define HW_FLCFCR_XATTR_CLRMASK ~(WORD)HW_FLCFCR_XATTR_SETMASK
                            11940 ; 174  |#define HW_FLCFCR_CRST_CLRMASK ~(WORD)HW_FLCFCR_CRST_SETMASK
                            11941 ; 175  |#define HW_FLCFCR_XWT_CLRMASK ~(WORD)HW_FLCFCR_XWT_SETMASK
                            11942 ; 176  |#define HW_FLCFCR_RI_CLRMASK ~(WORD)HW_FLCFCR_RI_SETMASK
                            11943 ; 177  |#define HW_FLCFCR_IFCE_CLRMASK ~(WORD)HW_FLCFCR_IFCE_SETMASK
                            11944 ; 178  |#define HW_FLCFCR_ISCE_CLRMASK ~(WORD)HW_FLCFCR_ISCE_SETMASK
                            11945 ; 179  |#define HW_FLCFCR_INCE_CLRMASK ~(WORD)HW_FLCFCR_INCE_SETMASK
                            11946 ; 180  |#define HW_FLCFCR_IFCS_CLRMASK ~(WORD)HW_FLCFCR_IFCS_SETMASK
                            11947 ; 181  |#define HW_FLCFCR_ISCS_CLRMASK ~(WORD)HW_FLCFCR_ISCS_SETMASK
                            11948 ; 182  |#define HW_FLCFCR_INCS_CLRMASK ~(WORD)HW_FLCFCR_INCS_SETMASK
                            11949 ; 183  |#define HW_FLCFCR_CFAI_CLRMASK ~(WORD)HW_FLCFCR_CFAI_SETMASK
                            11950 ; 184  |#define HW_FLCFCR_XDDI_CLRMASK ~(WORD)HW_FLCFCR_XDDI_SETMASK
                            11951 ; 185  |#define HW_FLCFCR_CS_CLRMASK ~(WORD)HW_FLCFCR_CS_SETMASK
                            11952 ; 186  |#define HW_FLCFCR_CRE_CLRMASK ~(WORD)HW_FLCFCR_CRE_SETMASK
                            11953 ; 187  |#define HW_FLCFCR_VS_CLRMASK ~(WORD)HW_FLCFCR_VS_SETMASK
                            11954 ; 188  |#define HW_FLCFCR_DASP_CLRMASK ~(WORD)HW_FLCFCR_DASP_SETMASK
                            11955 ; 189  |
                            11956 ; 190  |
                            11957 ; 191  |/////////////////////////////////////////////////////////////////////////////////
                            11958 ; 192  |//  EMC Flash Compact Flash Timer1 Register (HW_FLCFTMR1R) Bit Definitions
                            11959 ; 193  |
                            11960 ; 194  |typedef union           /* Flash CompactFlash Timer1 Register*/
                            11961 ; 195  |{
                            11962 ; 196  |    struct
                            11963 ; 197  |    {
                            11964 ; 198  |        unsigned TRWSU  :5;
                            11965 ; 199  |        unsigned TRPW   :7;
                            11966 ; 200  |        unsigned TWPW   :7;
                            11967 ; 201  |        unsigned TRWH   :5;
                            11968 ; 202  |    } B;
                            11969 ; 203  |    int I;
                            11970 ; 204  |} flcftmr1r_type;
                            11971 ; 205  |
                            11972 ; 206  |#define HW_FLCFTMR1R_TRWSU_BITPOS 0
                            11973 ; 207  |#define HW_FLCFTMR1R_TRPW_BITPOS 5
                            11974 ; 208  |#define HW_FLCFTMR1R_TWPW_BITPOS 12
                            11975 ; 209  |#define HW_FLCFTMR1R_TRWH_BITPOS 19
                            11976 ; 210  |
                            11977 ; 211  |#define HW_FLCFTMR1R_TRWSU_SETMASK 0x1F<<HW_FLCFTMR1R_TRWSU_BITPOS
                            11978 ; 212  |#define HW_FLCFTMR1R_TRPW_SETMASK 0x7F<<HW_FLCFTMR1R_TRPW_BITPOS
                            11979 ; 213  |#define HW_FLCFTMR1R_TWPW_SETMASK 0x7F<<HW_FLCFTMR1R_TWPW_BITPOS
                            11980 ; 214  |#define HW_FLCFTMR1R_TRWH_SETMASK 0x1F<<HW_FLCFTMR1R_TRWH_BITPOS
                            11981 ; 215  |
                            11982 ; 216  |#define HW_FLCFTMR1R_TRWSU_CLRMASK ~(WORD)HW_FLCFTMR1R_TRWSU_SETMASK
                            11983 ; 217  |#define HW_FLCFTMR1R_TRPW_CLRMASK ~(WORD)HW_FLCFTMR1R_TRPW_SETMASK
                            11984 ; 218  |#define HW_FLCFTMR1R_TWPW_CLRMASK ~(WORD)HW_FLCFTMR1R_TWPW_SETMASK
                            11985 ; 219  |#define HW_FLCFTMR1R_TRWH_CLRMASK ~(WORD)HW_FLCFTMR1R_TRWH_SETMASK
                            11986 ; 220  |
                            11987 ; 221  |
                            11988 ; 222  |/////////////////////////////////////////////////////////////////////////////////
                            11989 ; 223  |//  EMC Flash Compact Flash Timer1 Register (HW_FLCFTMR2R) Bit Definitions
                            11990 ; 224  |
                            11991 ; 225  |typedef union           /* Flash CompactFlash Timer2 Register*/
                            11992 ; 226  |{
                            11993 ; 227  |    struct
                            11994 ; 228  |    {
                            11995 ; 229  |        unsigned TWW    :4;
                            11996 ; 230  |        unsigned TWTO   :10;
                            11997 ; 231  |        unsigned THW    :5; 
                            11998 ; 232  |        unsigned TRAQ   :5;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 195

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11999 ; 233  |    } B;
                            12000 ; 234  |    int I;
                            12001 ; 235  |} flcftmr2r_type;
                            12002 ; 236  |
                            12003 ; 237  |#define HW_FLCFTMR2R_TWW_BITPOS 0
                            12004 ; 238  |#define HW_FLCFTMR2R_TWTO_BITPOS 4
                            12005 ; 239  |#define HW_FLCFTMR2R_THW_BITPOS 14
                            12006 ; 240  |#define HW_FLCFTMR2R_TRAQ_BITPOS 19
                            12007 ; 241  |
                            12008 ; 242  |#define HW_FLCFTMR2R_TWW_SETMASK 0xF<<HW_FLCFTMR2R_TWW_BITPOS
                            12009 ; 243  |#define HW_FLCFTMR2R_TWTO_SETMASK 0x3FF<<HW_FLCFTMR2R_TWTO_BITPOS
                            12010 ; 244  |#define HW_FLCFTMR2R_THW_SETMASK 0x1F<<HW_FLCFTMR2R_THW_BITPOS
                            12011 ; 245  |#define HW_FLCFTMR2R_TRAQ_SETMASK 0x1F<<HW_FLCFTMR2R_TRAQ_BITPOS
                            12012 ; 246  |
                            12013 ; 247  |#define HW_FLCFTMR2R_TWW_CLRMASK ~(WORD)HW_FLCFTMR2R_TWW_SETMASK
                            12014 ; 248  |#define HW_FLCFTMR2R_TWTO_CLRMASK ~(WORD)HW_FLCFTMR2R_TWTO_SETMASK
                            12015 ; 249  |#define HW_FLCFTMR2R_THW_CLRMASK ~(WORD)HW_FLCFTMR2R_THW_SETMASK
                            12016 ; 250  |#define HW_FLCFTMR2R_TRAQ_CLRMASK ~(WORD)HW_FLCFTMR2R_TRAQ_SETMASK
                            12017 ; 251  |
                            12018 ; 252  |
                            12019 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            12020 ; 254  |//  EMC Flash SmartMedia Control Register (HW_FLSMCR) Bit Definitions
                            12021 ; 255  |
                            12022 ; 256  |typedef union           /* Flash SmartMedia Control Register*/
                            12023 ; 257  |{
                            12024 ; 258  |    struct
                            12025 ; 259  |    {
                            12026 ; 260  |        unsigned CS     :2;
                            12027 ; 261  |        int SE          :1;
                            12028 ; 262  |        int WP          :1;
                            12029 ; 263  |        int SIZE        :1;
                            12030 ; 264  |        int ICMD        :8;
                            12031 ; 265  |        int TOIE        :1;
                            12032 ; 266  |        int BPIE        :1;
                            12033 ; 267  |        int TOIRQ       :1;
                            12034 ; 268  |        int BPIRQ       :1;
                            12035 ; 269  |    } B;
                            12036 ; 270  |    int I;
                            12037 ; 271  |} flsmcr_type;
                            12038 ; 272  |
                            12039 ; 273  |#define HW_FLSMCR_CS_BITPOS 0
                            12040 ; 274  |#define HW_FLSMCR_SE_BITPOS 2
                            12041 ; 275  |#define HW_FLSMCR_WP_BITPOS 3
                            12042 ; 276  |#define HW_FLSMCR_SIZE_BITPOS 4
                            12043 ; 277  |#define HW_FLSMCR_ICMD_BITPOS 5
                            12044 ; 278  |#define HW_FLSMCR_TOIE_BITPOS 13
                            12045 ; 279  |#define HW_FLSMCR_BPIE_BITPOS 14
                            12046 ; 280  |#define HW_FLSMCR_TOIRQ_BITPOS 15
                            12047 ; 281  |#define HW_FLSMCR_BPIRQ_BITPOS 16
                            12048 ; 282  |
                            12049 ; 283  |#define HW_FLSMCR_CS_SETMASK 1<<HW_FLSMCR_CS_BITPOS
                            12050 ; 284  |#define HW_FLSMCR_SE_SETMASK 1<<HW_FLSMCR_SE_BITPOS
                            12051 ; 285  |#define HW_FLSMCR_WP_SETMASK 1<<HW_FLSMCR_WP_BITPOS
                            12052 ; 286  |#define HW_FLSMCR_SIZE_SETMASK 1<<HW_FLSMCR_SIZE_BITPOS
                            12053 ; 287  |#define HW_FLSMCR_ICMD_SETMASK (0xFF)<<HW_FLSMCR_ICMD_BITPOS
                            12054 ; 288  |#define HW_FLSMCR_TOIE_SETMASK 1<<HW_FLSMCR_TOIE_BITPOS
                            12055 ; 289  |#define HW_FLSMCR_BPIE_SETMASK 1<<HW_FLSMCR_BPIE_BITPOS
                            12056 ; 290  |#define HW_FLSMCR_TOIRQ_SETMASK 1<<HW_FLSMCR_TOIRQ_BITPOS
                            12057 ; 291  |#define HW_FLSMCR_BPIRQ_SETMASK 1<<HW_FLSMCR_BPIRQ_BITPOS
                            12058 ; 292  |
                            12059 ; 293  |#define HW_FLSMCR_SE_ASSERT_SETMASK 0x000000
                            12060 ; 294  |#define HW_FLSMCR_SE_DEASSERT_SETMASK 0x000004
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 196

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12061 ; 295  |#define HW_FLSMCR_WP_ASSERT_SETMASK 0x000000
                            12062 ; 296  |#define HW_FLSMCR_WP_DEASSERT_SETMASK 0x000008
                            12063 ; 297  |#define HW_FLSMCR_SIZE_SMALL_SETMASK 0x000000
                            12064 ; 298  |#define HW_FLSMCR_SIZE_LARGE_SETMASK 0x000010
                            12065 ; 299  |#define HW_FLSMCR_ICMD_RESET_SETMASK 0x001FE0
                            12066 ; 300  |#define HW_FLSMCR_ICMD_READ_STATUS_SETMASK 0x000E00
                            12067 ; 301  |#define HW_FLSMCR_ICMD_BLOCK_ERASE_SETMASK 0x000C00
                            12068 ; 302  |#define HW_FLSMCR_ICMD_ERASE_SETMASK 0x001A00
                            12069 ; 303  |#define HW_FLSMCR_ICMD_RP_FIRST_SETMASK 0x000000
                            12070 ; 304  |#define HW_FLSMCR_ICMD_RP_SECOND_SETMASK 0x000020
                            12071 ; 305  |#define HW_FLSMCR_ICMD_RP_SPARE_SETMASK 0x000A00
                            12072 ; 306  |#define HW_FLSMCR_ICMD_READ_ID_SETMASK 0x001200
                            12073 ; 307  |
                            12074 ; 308  |#define HW_FLSMCR_CS_CLRMASK ~(WORD)HW_FLSMCR_CS_SETMASK
                            12075 ; 309  |#define HW_FLSMCR_SE_CLRMASK ~(WORD)HW_FLSMCR_SE_SETMASK
                            12076 ; 310  |#define HW_FLSMCR_WP_CLRMASK ~(WORD)HW_FLSMCR_WP_SETMASK
                            12077 ; 311  |#define HW_FLSMCR_SIZE_CLRMASK ~(WORD)HW_FLSMCR_SIZE_SETMASK
                            12078 ; 312  |#define HW_FLSMCR_ICMD_CLRMASK ~(WORD)HW_FLSMCR_ICMD_SETMASK
                            12079 ; 313  |#define HW_FLSMCR_TOIE_CLRMASK ~(WORD)HW_FLSMCR_TOIE_SETMASK
                            12080 ; 314  |#define HW_FLSMCR_BPIE_CLRMASK ~(WORD)HW_FLSMCR_BPIE_SETMASK
                            12081 ; 315  |#define HW_FLSMCR_TOIRQ_CLRMASK ~(WORD)HW_FLSMCR_TOIRQ_SETMASK
                            12082 ; 316  |#define HW_FLSMCR_BPIRQ_CLRMASK ~(WORD)HW_FLSMCR_BPIRQ_SETMASK
                            12083 ; 317  |
                            12084 ; 318  |
                            12085 ; 319  |/////////////////////////////////////////////////////////////////////////////////
                            12086 ; 320  |//  EMC Flash SmartMedia Timer1 Register (HW_FLSMTMR1R) Bit Definitions
                            12087 ; 321  |
                            12088 ; 322  |typedef union           /* Flash SmartMedia Timer1 Register*/
                            12089 ; 323  |{
                            12090 ; 324  |    struct
                            12091 ; 325  |    {
                            12092 ; 326  |        unsigned TRWSU  :5;
                            12093 ; 327  |        unsigned TRPW   :6;
                            12094 ; 328  |        unsigned TWPW   :6;
                            12095 ; 329  |        unsigned TRWH   :5;
                            12096 ; 330  |    } B;
                            12097 ; 331  |    int I;
                            12098 ; 332  |} flsmtmr1r_type;
                            12099 ; 333  |
                            12100 ; 334  |#define HW_FLSMTMR1R_TRWSU_BITPOS 0
                            12101 ; 335  |#define HW_FLSMTMR1R_TRPW_BITPOS 5
                            12102 ; 336  |#define HW_FLSMTMR1R_TWPW_BITPOS 11
                            12103 ; 337  |#define HW_FLSMTMR1R_TRWH_BITPOS 17
                            12104 ; 338  |
                            12105 ; 339  |#define HW_FLSMTMR1R_TRWSU_SETMASK 0x1F<<HW_FLSMTMR1R_TRWSU_BITPOS
                            12106 ; 340  |#define HW_FLSMTMR1R_TRPW_SETMASK 0x3F<<HW_FLSMTMR1R_TRPW_BITPOS
                            12107 ; 341  |#define HW_FLSMTMR1R_TWPW_SETMASK 0x3F<<HW_FLSMTMR1R_TWPW_BITPOS
                            12108 ; 342  |#define HW_FLSMTMR1R_TRWH_SETMASK 0x1F<<HW_FLSMTMR1R_TRWH_BITPOS
                            12109 ; 343  |
                            12110 ; 344  |#define HW_FLSMTMR1R_TRWSU_CLRMASK ~(WORD)HW_FLSMTMR1R_TRWSU_SETMASK
                            12111 ; 345  |#define HW_FLSMTMR1R_TRPW_CLRMASK ~(WORD)HW_FLSMTMR1R_TRPW_SETMASK
                            12112 ; 346  |#define HW_FLSMTMR1R_TWPW_CLRMASK ~(WORD)HW_FLSMTMR1R_TWPW_SETMASK
                            12113 ; 347  |#define HW_FLSMTMR1R_TRWH_CLRMASK ~(WORD)HW_FLSMTMR1R_TRWH_SETMASK
                            12114 ; 348  |
                            12115 ; 349  |
                            12116 ; 350  |/////////////////////////////////////////////////////////////////////////////////
                            12117 ; 351  |//  EMC Flash SmartMedia Timer2 Register (HW_FLSMTMR2R) Bit Definitions
                            12118 ; 352  |
                            12119 ; 353  |typedef union           /* Flash SmartMedia Timer2 Register*/
                            12120 ; 354  |{
                            12121 ; 355  |    struct
                            12122 ; 356  |    {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 197

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12123 ; 357  |        unsigned TWT    :6;
                            12124 ; 358  |        unsigned TWTO   :18;
                            12125 ; 359  |    } B;
                            12126 ; 360  |    int I;
                            12127 ; 361  |} flsmtmr2r_type;
                            12128 ; 362  |
                            12129 ; 363  |#define HW_FLSMTMR2R_TWT_BITPOS 0
                            12130 ; 364  |#define HW_FLSMTMR2R_TWTO_BITPOS 6
                            12131 ; 365  |
                            12132 ; 366  |#define HW_FLSMTMR2R_TWT_SETMASK 0x3F<<HW_FLSMTMR2R_TWT_BITPOS
                            12133 ; 367  |#define HW_FLSMTMR2R_TWTO_SETMASK 0x3FF<<HW_FLSMTMR2R_TWTO_BITPOS
                            12134 ; 368  |
                            12135 ; 369  |#define HW_FLSMTMR2R_TWT_CLRMASK ~(WORD)HW_FLSMTMR2R_TWT_SETMASK
                            12136 ; 370  |#define HW_FLSMTMR2R_TWTO_CLRMASK ~(WORD)HW_FLSMTMR2R_TWTO_SETMASK
                            12137 ; 371  |
                            12138 ; 372  |/*//////////////////////////////////////////////////////////////////////////////
                            12139 ; 373  |  //  EMC Flash Control Status Register2 (HW_FLCR2) Bit Definitions     */
                            12140 ; 374  |typedef union 
                            12141 ; 375  |{
                            12142 ; 376  |  struct
                            12143 ; 377  |  {
                            12144 ; 378  |    unsigned ASEL     :2;        /* Memory Select */
                            12145 ; 379  |    unsigned RA       :1;        /* Right Align word into 24bit memory for True IDE  xfers
                                   */
                            12146 ; 380  |    unsigned LA       :1;        /* Left  Align word into 24bit memory for True IDE  xfers
                                   */
                            12147 ; 381  |    unsigned NEGDMA   :1;        /* Inverts data from Flash to memory */
                            12148 ; 382  |    unsigned NEGFL    :1;        /* Inverts data from memory to Flash */
                            12149 ; 383  |    unsigned CLKOFF   :1;        /* Power down - turns clk off */
                            12150 ; 384  |    int PAD0          :17;    
                            12151 ; 385  |  } B;
                            12152 ; 386  |  int I;
                            12153 ; 387  |} flcr2_type;
                            12154 ; 388  |
                            12155 ; 389  |/////////////////////////////////////////////////////////////////////////////////
                            12156 ; 390  |//  EMC Flash SmartMedia Status Register (HW_FLSMSR) Bit Definitions
                            12157 ; 391  |#define HW_FLSMSR_RDY_BITPOS 0
                            12158 ; 392  |#define HW_FLSMSR_BUSY_BITPOS 7
                            12159 ; 393  |
                            12160 ; 394  |#define HW_FLCR      (*(volatile flcr_type      _X*) (HW_EMC_BASEADDR))    /* EMC Flash Co
                                  ntrol Register */
                            12161 ; 395  |#define HW_FLSALR    (*(volatile flsalr_type    _X*) (HW_EMC_BASEADDR+1))  /* EMC Flash St
                                  art Address Low Register */
                            12162 ; 396  |#define HW_FLSAHR    (*(volatile flsahr_type    _X*) (HW_EMC_BASEADDR+2))  /* EMC Flash St
                                  art Address High Register */
                            12163 ; 397  |#define HW_FLSSMPR   (*(volatile flssmpr_type   _X*) (HW_EMC_BASEADDR+3))  /*  */
                            12164 ; 398  |#define HW_FLCR2     (*(volatile flcr2_type     _X*) (HW_EMC_BASEADDR+4))  /* EMC Flash Co
                                  ntrol Register2 */
                            12165 ; 399  |#define HW_FLCFCR    (*(volatile flcfcr_type    _X*) (HW_EMC_BASEADDR+8))  /* EMC Flash Co
                                  mpactFlash Control Register*/
                            12166 ; 400  |#define HW_FLCFTMR1R (*(volatile flcftmr1r_type _X*) (HW_EMC_BASEADDR+9))  /* EMC Flash Co
                                  mpact Flash Timer1 Register*/
                            12167 ; 401  |#define HW_FLCFTMR2R (*(volatile flcftmr2r_type _X*) (HW_EMC_BASEADDR+10)) /* EMC Flash Co
                                  mpact Flash Timer2 Register*/
                            12168 ; 402  |#define HW_FLSMCR    (*(volatile flsmcr_type    _X*) (HW_EMC_BASEADDR+16)) /* EMC Flash Sm
                                  artMedia Control Register*/
                            12169 ; 403  |#define HW_FLSMTMR1R (*(volatile flsmtmr1r_type _X*) (HW_EMC_BASEADDR+17)) /* EMC Flash Sm
                                  artMedia Timer1 Register*/
                            12170 ; 404  |#define HW_FLSMTMR2R (*(volatile flsmtmr2r_type _X*) (HW_EMC_BASEADDR+18)) /* EMC Flash Sm
                                  artMedia Timer2 Register*/
                            12171 ; 405  |#define HW_FLSMSR    (*(volatile flssmsr_type   _X*) (HW_EMC_BASEADDR+19)) /*  */
                            12172 ; 406  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 198

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12173 ; 407  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                            12174 ; 408  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                            12175 ; 409  |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                            12176 ; 410  |
                            12177 ; 411  |#define HW_FLC2R HW_EMC_BASEADDR+4
                            12178 ; 412  |
                            12179 ; 413  |#endif
                            12180 ; 414  |
                            12181 
                            12183 
                            12184 ; 22   |#include "regsgpio.h"
                            12185 
                            12187 
                            12188 ; 1    |#if !(defined(__REGS_GPIO_INC))
                            12189 ; 2    |#define __REGS_GPIO_INC 1
                            12190 ; 3    |
                            12191 ; 4    |#include "types.h"
                            12192 
                            12194 
                            12195 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            12196 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            12197 ; 3    |//
                            12198 ; 4    |// Filename: types.h
                            12199 ; 5    |// Description: Standard data types
                            12200 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            12201 ; 7    |
                            12202 ; 8    |#ifndef _TYPES_H
                            12203 ; 9    |#define _TYPES_H
                            12204 ; 10   |
                            12205 ; 11   |// TODO:  move this outta here!
                            12206 ; 12   |#if !defined(NOERROR)
                            12207 ; 13   |#define NOERROR 0
                            12208 ; 14   |#define SUCCESS 0
                            12209 ; 15   |#endif 
                            12210 ; 16   |#if !defined(SUCCESS)
                            12211 ; 17   |#define SUCCESS  0
                            12212 ; 18   |#endif
                            12213 ; 19   |#if !defined(ERROR)
                            12214 ; 20   |#define ERROR   -1
                            12215 ; 21   |#endif
                            12216 ; 22   |#if !defined(FALSE)
                            12217 ; 23   |#define FALSE 0
                            12218 ; 24   |#endif
                            12219 ; 25   |#if !defined(TRUE)
                            12220 ; 26   |#define TRUE  1
                            12221 ; 27   |#endif
                            12222 ; 28   |
                            12223 ; 29   |#if !defined(NULL)
                            12224 ; 30   |#define NULL 0
                            12225 ; 31   |#endif
                            12226 ; 32   |
                            12227 ; 33   |#define MAX_INT     0x7FFFFF
                            12228 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            12229 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            12230 ; 36   |#define MAX_ULONG   (-1) 
                            12231 ; 37   |
                            12232 ; 38   |#define WORD_SIZE   24              // word size in bits
                            12233 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            12234 ; 40   |
                            12235 ; 41   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 199

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12236 ; 42   |#define BYTE    unsigned char       // btVarName
                            12237 ; 43   |#define CHAR    signed char         // cVarName
                            12238 ; 44   |#define USHORT  unsigned short      // usVarName
                            12239 ; 45   |#define SHORT   unsigned short      // sVarName
                            12240 ; 46   |#define WORD    unsigned int        // wVarName
                            12241 ; 47   |#define INT     signed int          // iVarName
                            12242 ; 48   |#define DWORD   unsigned long       // dwVarName
                            12243 ; 49   |#define LONG    signed long         // lVarName
                            12244 ; 50   |#define BOOL    unsigned int        // bVarName
                            12245 ; 51   |#define FRACT   _fract              // frVarName
                            12246 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            12247 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            12248 ; 54   |#define FLOAT   float               // fVarName
                            12249 ; 55   |#define DBL     double              // dVarName
                            12250 ; 56   |#define ENUM    enum                // eVarName
                            12251 ; 57   |#define CMX     _complex            // cmxVarName
                            12252 ; 58   |typedef WORD UCS3;                   // 
                            12253 ; 59   |
                            12254 ; 60   |#define UINT16  unsigned short
                            12255 ; 61   |#define UINT8   unsigned char   
                            12256 ; 62   |#define UINT32  unsigned long
                            12257 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            12258 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            12259 ; 65   |#define WCHAR   UINT16
                            12260 ; 66   |
                            12261 ; 67   |//UINT128 is 16 bytes or 6 words
                            12262 ; 68   |typedef struct UINT128_3500 {   
                            12263 ; 69   |    int val[6];     
                            12264 ; 70   |} UINT128_3500;
                            12265 ; 71   |
                            12266 ; 72   |#define UINT128   UINT128_3500
                            12267 ; 73   |
                            12268 ; 74   |// Little endian word packed byte strings:   
                            12269 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12270 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12271 ; 77   |// Little endian word packed byte strings:   
                            12272 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12273 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12274 ; 80   |
                            12275 ; 81   |// Declare Memory Spaces To Use When Coding
                            12276 ; 82   |// A. Sector Buffers
                            12277 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            12278 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            12279 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            12280 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            12281 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            12282 ; 88   |// B. Media DDI Memory
                            12283 ; 89   |#define MEDIA_DDI_MEM _Y
                            12284 ; 90   |
                            12285 ; 91   |
                            12286 ; 92   |
                            12287 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            12288 ; 94   |// Examples of circular pointers:
                            12289 ; 95   |//    INT CIRC cpiVarName
                            12290 ; 96   |//    DWORD CIRC cpdwVarName
                            12291 ; 97   |
                            12292 ; 98   |#define RETCODE INT                 // rcVarName
                            12293 ; 99   |
                            12294 ; 100  |// generic bitfield structure
                            12295 ; 101  |struct Bitfield {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 200

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12296 ; 102  |    unsigned int B0  :1;
                            12297 ; 103  |    unsigned int B1  :1;
                            12298 ; 104  |    unsigned int B2  :1;
                            12299 ; 105  |    unsigned int B3  :1;
                            12300 ; 106  |    unsigned int B4  :1;
                            12301 ; 107  |    unsigned int B5  :1;
                            12302 ; 108  |    unsigned int B6  :1;
                            12303 ; 109  |    unsigned int B7  :1;
                            12304 ; 110  |    unsigned int B8  :1;
                            12305 ; 111  |    unsigned int B9  :1;
                            12306 ; 112  |    unsigned int B10 :1;
                            12307 ; 113  |    unsigned int B11 :1;
                            12308 ; 114  |    unsigned int B12 :1;
                            12309 ; 115  |    unsigned int B13 :1;
                            12310 ; 116  |    unsigned int B14 :1;
                            12311 ; 117  |    unsigned int B15 :1;
                            12312 ; 118  |    unsigned int B16 :1;
                            12313 ; 119  |    unsigned int B17 :1;
                            12314 ; 120  |    unsigned int B18 :1;
                            12315 ; 121  |    unsigned int B19 :1;
                            12316 ; 122  |    unsigned int B20 :1;
                            12317 ; 123  |    unsigned int B21 :1;
                            12318 ; 124  |    unsigned int B22 :1;
                            12319 ; 125  |    unsigned int B23 :1;
                            12320 ; 126  |};
                            12321 ; 127  |
                            12322 ; 128  |union BitInt {
                            12323 ; 129  |        struct Bitfield B;
                            12324 ; 130  |        int        I;
                            12325 ; 131  |};
                            12326 ; 132  |
                            12327 ; 133  |#define MAX_MSG_LENGTH 10
                            12328 ; 134  |struct CMessage
                            12329 ; 135  |{
                            12330 ; 136  |        unsigned int m_uLength;
                            12331 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            12332 ; 138  |};
                            12333 ; 139  |
                            12334 ; 140  |typedef struct {
                            12335 ; 141  |    WORD m_wLength;
                            12336 ; 142  |    WORD m_wMessage;
                            12337 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            12338 ; 144  |} Message;
                            12339 ; 145  |
                            12340 ; 146  |struct MessageQueueDescriptor
                            12341 ; 147  |{
                            12342 ; 148  |        int *m_pBase;
                            12343 ; 149  |        int m_iModulo;
                            12344 ; 150  |        int m_iSize;
                            12345 ; 151  |        int *m_pHead;
                            12346 ; 152  |        int *m_pTail;
                            12347 ; 153  |};
                            12348 ; 154  |
                            12349 ; 155  |struct ModuleEntry
                            12350 ; 156  |{
                            12351 ; 157  |    int m_iSignaledEventMask;
                            12352 ; 158  |    int m_iWaitEventMask;
                            12353 ; 159  |    int m_iResourceOfCode;
                            12354 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            12355 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            12356 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 201

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12357 ; 163  |    int m_uTimeOutHigh;
                            12358 ; 164  |    int m_uTimeOutLow;
                            12359 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            12360 ; 166  |};
                            12361 ; 167  |
                            12362 ; 168  |union WaitMask{
                            12363 ; 169  |    struct B{
                            12364 ; 170  |        unsigned int m_bNone     :1;
                            12365 ; 171  |        unsigned int m_bMessage  :1;
                            12366 ; 172  |        unsigned int m_bTimer    :1;
                            12367 ; 173  |        unsigned int m_bButton   :1;
                            12368 ; 174  |    } B;
                            12369 ; 175  |    int I;
                            12370 ; 176  |} ;
                            12371 ; 177  |
                            12372 ; 178  |
                            12373 ; 179  |struct Button {
                            12374 ; 180  |        WORD wButtonEvent;
                            12375 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            12376 ; 182  |};
                            12377 ; 183  |
                            12378 ; 184  |struct Message {
                            12379 ; 185  |        WORD wMsgLength;
                            12380 ; 186  |        WORD wMsgCommand;
                            12381 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            12382 ; 188  |};
                            12383 ; 189  |
                            12384 ; 190  |union EventTypes {
                            12385 ; 191  |        struct CMessage msg;
                            12386 ; 192  |        struct Button Button ;
                            12387 ; 193  |        struct Message Message;
                            12388 ; 194  |};
                            12389 ; 195  |
                            12390 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            12391 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            12392 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            12393 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            12394 ; 200  |
                            12395 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            12396 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            12397 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            12398 ; 204  |
                            12399 ; 205  |#if DEBUG
                            12400 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            12401 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            12402 ; 208  |#else 
                            12403 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            12404 ; 210  |#define DebugBuildAssert(x)    
                            12405 ; 211  |#endif
                            12406 ; 212  |
                            12407 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            12408 ; 214  |//  #pragma asm
                            12409 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            12410 ; 216  |//  #pragma endasm
                            12411 ; 217  |
                            12412 ; 218  |
                            12413 ; 219  |#ifdef COLOR_262K
                            12414 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            12415 ; 221  |#elif defined(COLOR_65K)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 202

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12416 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            12417 ; 223  |#else
                            12418 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            12419 ; 225  |#endif
                            12420 ; 226  |    
                            12421 ; 227  |#endif // #ifndef _TYPES_H
                            12422 
                            12424 
                            12425 ; 5    |
                            12426 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                            12427 ; 7    |//  Interrupt Collector Registers
                            12428 ; 8    |/////////////////////////////////////////////////////////////////////////////////
                            12429 ; 9    |
                            12430 ; 10   |#define HW_GPIO_BASEADDR 0xF400
                            12431 ; 11   |
                            12432 ; 12   |#define HW_GPB0_BASEADDR HW_GPIO_BASEADDR
                            12433 ; 13   |#define HW_GPB1_BASEADDR HW_GPIO_BASEADDR+0x10
                            12434 ; 14   |#define HW_GPB2_BASEADDR HW_GPIO_BASEADDR+0x20
                            12435 ; 15   |#define HW_GPB3_BASEADDR HW_GPIO_BASEADDR+0x30
                            12436 ; 16   |
                            12437 ; 17   |#define HW_GPB0_BLOCKNUM 0
                            12438 ; 18   |#define HW_GPB1_BLOCKNUM 1
                            12439 ; 19   |#define HW_GPB2_BLOCKNUM 2
                            12440 ; 20   |#define HW_GPB3_BLOCKNUM 3
                            12441 ; 21   |
                            12442 ; 22   |#define HW_GPB_GPENR 0
                            12443 ; 23   |#define HW_GPB_GPDOR 1
                            12444 ; 24   |#define HW_GPB_GPDIR 2
                            12445 ; 25   |#define HW_GPB_GPDOER 3
                            12446 ; 26   |#define HW_GPB_GPIPENR 4
                            12447 ; 27   |#define HW_GPB_GPIENR 5
                            12448 ; 28   |#define HW_GPB_GPILVLR 6
                            12449 ; 29   |#define HW_GPB_GPIPOLR 7
                            12450 ; 30   |#define HW_GPB_GPISTATR 8
                            12451 ; 31   |#define HW_GPB_GPPWR 9
                            12452 ; 32   |#define HW_GPB_GP8MA 10
                            12453 ; 33   |
                            12454 ; 34   |
                            12455 ; 35   |
                            12456 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            12457 ; 37   |//  GPIO Register Bit Positions
                            12458 ; 38   |typedef union               /* GPIO Pin Register Bank 0 */
                            12459 ; 39   |{
                            12460 ; 40   |    struct Bitfield B;      // Bitfield is generic structure B0 - B23 in types.h
                            12461 ; 41   |    unsigned int I;
                            12462 ; 42   |    unsigned int U;
                            12463 ; 43   |} gpr_type;
                            12464 ; 44   |
                            12465 ; 45   |#define HW_GP_B0_BITPOS 0
                            12466 ; 46   |#define HW_GP_B1_BITPOS 1
                            12467 ; 47   |#define HW_GP_B2_BITPOS 2
                            12468 ; 48   |#define HW_GP_B3_BITPOS 3
                            12469 ; 49   |#define HW_GP_B4_BITPOS 4
                            12470 ; 50   |#define HW_GP_B5_BITPOS 5
                            12471 ; 51   |#define HW_GP_B6_BITPOS 6
                            12472 ; 52   |#define HW_GP_B7_BITPOS 7
                            12473 ; 53   |#define HW_GP_B8_BITPOS 8
                            12474 ; 54   |#define HW_GP_B9_BITPOS 9
                            12475 ; 55   |#define HW_GP_B10_BITPOS 10
                            12476 ; 56   |#define HW_GP_B11_BITPOS 11
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 203

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12477 ; 57   |#define HW_GP_B12_BITPOS 12
                            12478 ; 58   |#define HW_GP_B13_BITPOS 13
                            12479 ; 59   |#define HW_GP_B14_BITPOS 14
                            12480 ; 60   |#define HW_GP_B15_BITPOS 15
                            12481 ; 61   |#define HW_GP_B16_BITPOS 16
                            12482 ; 62   |#define HW_GP_B17_BITPOS 17
                            12483 ; 63   |#define HW_GP_B18_BITPOS 18
                            12484 ; 64   |#define HW_GP_B19_BITPOS 19
                            12485 ; 65   |#define HW_GP_B20_BITPOS 20
                            12486 ; 66   |#define HW_GP_B21_BITPOS 21
                            12487 ; 67   |#define HW_GP_B22_BITPOS 22
                            12488 ; 68   |#define HW_GP_B23_BITPOS 23
                            12489 ; 69   |
                            12490 ; 70   |#define HW_GP_B0_SETMASK (1<<HW_GP_B0_BITPOS)
                            12491 ; 71   |#define HW_GP_B1_SETMASK (1<<HW_GP_B1_BITPOS)
                            12492 ; 72   |#define HW_GP_B2_SETMASK (1<<HW_GP_B2_BITPOS)
                            12493 ; 73   |#define HW_GP_B3_SETMASK (1<<HW_GP_B3_BITPOS)
                            12494 ; 74   |#define HW_GP_B4_SETMASK (1<<HW_GP_B4_BITPOS)
                            12495 ; 75   |#define HW_GP_B5_SETMASK (1<<HW_GP_B5_BITPOS)
                            12496 ; 76   |#define HW_GP_B6_SETMASK (1<<HW_GP_B6_BITPOS)
                            12497 ; 77   |#define HW_GP_B7_SETMASK (1<<HW_GP_B7_BITPOS)
                            12498 ; 78   |#define HW_GP_B8_SETMASK (1<<HW_GP_B8_BITPOS)
                            12499 ; 79   |#define HW_GP_B9_SETMASK (1<<HW_GP_B9_BITPOS)
                            12500 ; 80   |#define HW_GP_B10_SETMASK (1<<HW_GP_B10_BITPOS)
                            12501 ; 81   |#define HW_GP_B11_SETMASK (1<<HW_GP_B11_BITPOS)
                            12502 ; 82   |#define HW_GP_B12_SETMASK (1<<HW_GP_B12_BITPOS)
                            12503 ; 83   |#define HW_GP_B13_SETMASK (1<<HW_GP_B13_BITPOS)
                            12504 ; 84   |#define HW_GP_B14_SETMASK (1<<HW_GP_B14_BITPOS)
                            12505 ; 85   |#define HW_GP_B15_SETMASK (1<<HW_GP_B15_BITPOS)
                            12506 ; 86   |#define HW_GP_B16_SETMASK (1<<HW_GP_B16_BITPOS)
                            12507 ; 87   |#define HW_GP_B17_SETMASK (1<<HW_GP_B17_BITPOS)
                            12508 ; 88   |#define HW_GP_B18_SETMASK (1<<HW_GP_B18_BITPOS)
                            12509 ; 89   |#define HW_GP_B19_SETMASK (1<<HW_GP_B19_BITPOS)
                            12510 ; 90   |#define HW_GP_B20_SETMASK (1<<HW_GP_B20_BITPOS)
                            12511 ; 91   |#define HW_GP_B21_SETMASK (1<<HW_GP_B21_BITPOS)
                            12512 ; 92   |#define HW_GP_B22_SETMASK (1<<HW_GP_B22_BITPOS)
                            12513 ; 93   |#define HW_GP_B23_SETMASK (1<<HW_GP_B23_BITPOS)
                            12514 ; 94   |
                            12515 ; 95   |#define HW_GP_B0_CLRMASK (~(WORD)HW_GP_B0_SETMASK)
                            12516 ; 96   |#define HW_GP_B1_CLRMASK (~(WORD)HW_GP_B1_SETMASK)
                            12517 ; 97   |#define HW_GP_B2_CLRMASK (~(WORD)HW_GP_B2_SETMASK)
                            12518 ; 98   |#define HW_GP_B3_CLRMASK (~(WORD)HW_GP_B3_SETMASK)
                            12519 ; 99   |#define HW_GP_B4_CLRMASK (~(WORD)HW_GP_B4_SETMASK)
                            12520 ; 100  |#define HW_GP_B5_CLRMASK (~(WORD)HW_GP_B5_SETMASK)
                            12521 ; 101  |#define HW_GP_B6_CLRMASK (~(WORD)HW_GP_B6_SETMASK)
                            12522 ; 102  |#define HW_GP_B7_CLRMASK (~(WORD)HW_GP_B7_SETMASK)
                            12523 ; 103  |#define HW_GP_B8_CLRMASK (~(WORD)HW_GP_B8_SETMASK)
                            12524 ; 104  |#define HW_GP_B9_CLRMASK (~(WORD)HW_GP_B9_SETMASK)
                            12525 ; 105  |#define HW_GP_B10_CLRMASK (~(WORD)HW_GP_B10_SETMASK)
                            12526 ; 106  |#define HW_GP_B11_CLRMASK (~(WORD)HW_GP_B11_SETMASK)
                            12527 ; 107  |#define HW_GP_B12_CLRMASK (~(WORD)HW_GP_B12_SETMASK)
                            12528 ; 108  |#define HW_GP_B13_CLRMASK (~(WORD)HW_GP_B13_SETMASK)
                            12529 ; 109  |#define HW_GP_B14_CLRMASK (~(WORD)HW_GP_B14_SETMASK)
                            12530 ; 110  |#define HW_GP_B15_CLRMASK (~(WORD)HW_GP_B15_SETMASK)
                            12531 ; 111  |#define HW_GP_B16_CLRMASK (~(WORD)HW_GP_B16_SETMASK)
                            12532 ; 112  |#define HW_GP_B17_CLRMASK (~(WORD)HW_GP_B17_SETMASK)
                            12533 ; 113  |#define HW_GP_B18_CLRMASK (~(WORD)HW_GP_B18_SETMASK)
                            12534 ; 114  |#define HW_GP_B19_CLRMASK (~(WORD)HW_GP_B19_SETMASK)
                            12535 ; 115  |#define HW_GP_B20_CLRMASK (~(WORD)HW_GP_B20_SETMASK)
                            12536 ; 116  |#define HW_GP_B21_CLRMASK (~(WORD)HW_GP_B21_SETMASK)
                            12537 ; 117  |#define HW_GP_B22_CLRMASK (~(WORD)HW_GP_B22_SETMASK)
                            12538 ; 118  |#define HW_GP_B23_CLRMASK (~(WORD)HW_GP_B23_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 204

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12539 ; 119  |
                            12540 ; 120  |/////////////////////////////////////////////////////////////////////////////////
                            12541 ; 121  |//  GPIO 8mA Register Bit Positions
                            12542 ; 122  |#define HW_GP8MA_B7_B0_BITPOS 0
                            12543 ; 123  |#define HW_GP8MA_B15_B8_BITPOS 1
                            12544 ; 124  |#define HW_GP8MA_B23_B16_BITPOS 2
                            12545 ; 125  |#define HW_GP8MA_CLK_GATE_BITPOS 23
                            12546 ; 126  |
                            12547 ; 127  |
                            12548 ; 128  |/////////////////////////////////////////////////////////////////////////////////
                            12549 ; 129  |//  Logical GPIO numbers
                            12550 ; 130  |#define HW_GPIO_000 0
                            12551 ; 131  |#define HW_GPIO_001 1
                            12552 ; 132  |#define HW_GPIO_002 2
                            12553 ; 133  |#define HW_GPIO_003 3
                            12554 ; 134  |#define HW_GPIO_004 4
                            12555 ; 135  |#define HW_GPIO_005 5
                            12556 ; 136  |#define HW_GPIO_006 6
                            12557 ; 137  |#define HW_GPIO_007 7
                            12558 ; 138  |#define HW_GPIO_008 8
                            12559 ; 139  |#define HW_GPIO_009 9
                            12560 ; 140  |#define HW_GPIO_010 10
                            12561 ; 141  |#define HW_GPIO_011 11
                            12562 ; 142  |#define HW_GPIO_012 12
                            12563 ; 143  |#define HW_GPIO_013 13
                            12564 ; 144  |#define HW_GPIO_014 14
                            12565 ; 145  |#define HW_GPIO_015 15
                            12566 ; 146  |#define HW_GPIO_016 16
                            12567 ; 147  |#define HW_GPIO_017 17
                            12568 ; 148  |#define HW_GPIO_018 18
                            12569 ; 149  |#define HW_GPIO_019 19
                            12570 ; 150  |#define HW_GPIO_020 20
                            12571 ; 151  |#define HW_GPIO_021 21
                            12572 ; 152  |#define HW_GPIO_022 22
                            12573 ; 153  |#define HW_GPIO_023 23
                            12574 ; 154  |#define HW_GPIO_024 24
                            12575 ; 155  |#define HW_GPIO_025 25
                            12576 ; 156  |#define HW_GPIO_026 26
                            12577 ; 157  |#define HW_GPIO_027 27
                            12578 ; 158  |#define HW_GPIO_028 28
                            12579 ; 159  |#define HW_GPIO_029 29
                            12580 ; 160  |#define HW_GPIO_030 30
                            12581 ; 161  |#define HW_GPIO_031 31
                            12582 ; 162  |#define HW_GPIO_032 32
                            12583 ; 163  |#define HW_GPIO_033 33
                            12584 ; 164  |#define HW_GPIO_034 34
                            12585 ; 165  |#define HW_GPIO_035 35
                            12586 ; 166  |#define HW_GPIO_036 36
                            12587 ; 167  |#define HW_GPIO_037 37
                            12588 ; 168  |#define HW_GPIO_038 38
                            12589 ; 169  |#define HW_GPIO_039 39
                            12590 ; 170  |#define HW_GPIO_040 40
                            12591 ; 171  |#define HW_GPIO_041 41
                            12592 ; 172  |#define HW_GPIO_042 42
                            12593 ; 173  |#define HW_GPIO_043 43
                            12594 ; 174  |#define HW_GPIO_044 44
                            12595 ; 175  |#define HW_GPIO_045 45
                            12596 ; 176  |#define HW_GPIO_046 46
                            12597 ; 177  |#define HW_GPIO_047 47
                            12598 ; 178  |#define HW_GPIO_048 48
                            12599 ; 179  |#define HW_GPIO_049 49
                            12600 ; 180  |#define HW_GPIO_050 50
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 205

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12601 ; 181  |#define HW_GPIO_051 51
                            12602 ; 182  |#define HW_GPIO_052 52
                            12603 ; 183  |#define HW_GPIO_053 53
                            12604 ; 184  |#define HW_GPIO_054 54
                            12605 ; 185  |#define HW_GPIO_055 55
                            12606 ; 186  |#define HW_GPIO_056 56
                            12607 ; 187  |#define HW_GPIO_057 57
                            12608 ; 188  |#define HW_GPIO_058 58
                            12609 ; 189  |#define HW_GPIO_059 59
                            12610 ; 190  |#define HW_GPIO_060 60
                            12611 ; 191  |#define HW_GPIO_061 61
                            12612 ; 192  |#define HW_GPIO_062 62
                            12613 ; 193  |#define HW_GPIO_063 63
                            12614 ; 194  |#define HW_GPIO_064 64
                            12615 ; 195  |#define HW_GPIO_065 65
                            12616 ; 196  |#define HW_GPIO_066 66
                            12617 ; 197  |#define HW_GPIO_067 67
                            12618 ; 198  |#define HW_GPIO_068 68
                            12619 ; 199  |#define HW_GPIO_069 69
                            12620 ; 200  |#define HW_GPIO_070 70
                            12621 ; 201  |#define HW_GPIO_071 71
                            12622 ; 202  |#define HW_GPIO_072 72
                            12623 ; 203  |#define HW_GPIO_073 73
                            12624 ; 204  |#define HW_GPIO_074 74
                            12625 ; 205  |#define HW_GPIO_075 75
                            12626 ; 206  |#define HW_GPIO_076 76
                            12627 ; 207  |#define HW_GPIO_077 77
                            12628 ; 208  |#define HW_GPIO_078 78
                            12629 ; 209  |#define HW_GPIO_079 79
                            12630 ; 210  |#define HW_GPIO_080 80
                            12631 ; 211  |#define HW_GPIO_081 81
                            12632 ; 212  |#define HW_GPIO_082 82
                            12633 ; 213  |#define HW_GPIO_083 83
                            12634 ; 214  |#define HW_GPIO_084 84
                            12635 ; 215  |#define HW_GPIO_085 85
                            12636 ; 216  |#define HW_GPIO_086 86
                            12637 ; 217  |#define HW_GPIO_087 87
                            12638 ; 218  |#define HW_GPIO_088 88
                            12639 ; 219  |#define HW_GPIO_089 89
                            12640 ; 220  |#define HW_GPIO_090 90
                            12641 ; 221  |#define HW_GPIO_091 91
                            12642 ; 222  |#define HW_GPIO_092 92
                            12643 ; 223  |#define HW_GPIO_093 93
                            12644 ; 224  |#define HW_GPIO_094 94
                            12645 ; 225  |#define HW_GPIO_095 95
                            12646 ; 226  |#define HW_GPIO_LAST HW_GPIO_095
                            12647 ; 227  |
                            12648 ; 228  |#define HW_GP0ENR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPENR))  /* GPIO
                                   0 Enable Register   */
                            12649 ; 229  |#define HW_GP0DOR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  0 Data Out Register */
                            12650 ; 230  |#define HW_GP0DIR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  0 Dait In Register  */
                            12651 ; 231  |#define HW_GP0DOER     (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   0 Dait Out Enable Register  */
                            12652 ; 232  |#define HW_GP0IPENR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 0 Interrupt Pin Enable Register */
                            12653 ; 233  |#define HW_GP0IENR     (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   0 Interrupt Enable Register */
                            12654 ; 234  |#define HW_GP0ILVLR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 0 Interrupt Level Register  */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 206

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12655 ; 235  |#define HW_GP0IPOLR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 0 Interrupt Polarity Register   */
                            12656 ; 236  |#define HW_GP0ISTATR   (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 0 Interrupt Status Register */
                            12657 ; 237  |#define HW_GP0PWR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
                            12658 ; 238  |#define HW_GP08MA      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GP8MA)) 
                            12659 ; 239  |#define HW_GP1ENR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPENR))     /* G
                                  PIO 1 Enable Register   */
                            12660 ; 240  |#define HW_GP1DOR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  1 Data Out Register */
                            12661 ; 241  |#define HW_GP1DIR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  1 Dait In Register  */
                            12662 ; 242  |#define HW_GP1DOER     (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   1 Dait Out Enable Register  */
                            12663 ; 243  |#define HW_GP1IPENR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 1 Interrupt Pin Enable Register */
                            12664 ; 244  |#define HW_GP1IENR     (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   1 Interrupt Enable Register */
                            12665 ; 245  |#define HW_GP1ILVLR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 1 Interrupt Level Register  */
                            12666 ; 246  |#define HW_GP1IPOLR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 1 Interrupt Polarity Register   */
                            12667 ; 247  |#define HW_GP1ISTATR   (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 1 Interrupt Status Register */
                            12668 ; 248  |#define HW_GP1PWR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
                            12669 ; 249  |#define HW_GP18MA      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GP8MA)) 
                            12670 ; 250  |#define HW_GP2ENR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPENR))     /* G
                                  PIO 2 Enable Register   */
                            12671 ; 251  |#define HW_GP2DOR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  2 Data Out Register */
                            12672 ; 252  |#define HW_GP2DIR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  2 Dait In Register  */
                            12673 ; 253  |#define HW_GP2DOER     (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   2 Dait Out Enable Register  */
                            12674 ; 254  |#define HW_GP2IPENR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 2 Interrupt Pin Enable Register */
                            12675 ; 255  |#define HW_GP2IENR     (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   2 Interrupt Enable Register */
                            12676 ; 256  |#define HW_GP2ILVLR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 2 Interrupt Level Register  */
                            12677 ; 257  |#define HW_GP2IPOLR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 2 Interrupt Polarity Register   */
                            12678 ; 258  |#define HW_GP2ISTATR   (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 2 Interrupt Status Register */
                            12679 ; 259  |#define HW_GP2PWR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
                            12680 ; 260  |#define HW_GP28MA      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GP8MA)) 
                            12681 ; 261  |#define HW_GP3ENR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPENR))     /* G
                                  PIO 2 Enable Register   */
                            12682 ; 262  |#define HW_GP3DOR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  2 Data Out Register */
                            12683 ; 263  |#define HW_GP3DIR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  2 Dait In Register  */
                            12684 ; 264  |#define HW_GP3DOER     (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   2 Dait Out Enable Register  */
                            12685 ; 265  |#define HW_GP3IPENR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 2 Interrupt Pin Enable Register */
                            12686 ; 266  |#define HW_GP3IENR     (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   2 Interrupt Enable Register */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 207

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12687 ; 267  |#define HW_GP3ILVLR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 2 Interrupt Level Register  */
                            12688 ; 268  |#define HW_GP3IPOLR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 2 Interrupt Polarity Register   */
                            12689 ; 269  |#define HW_GP3ISTATR   (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 2 Interrupt Status Register */
                            12690 ; 270  |#define HW_GP3PWR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
                            12691 ; 271  |#define HW_GP38MA      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GP8MA)) 
                            12692 ; 272  |
                            12693 ; 273  |#endif
                            12694 ; 274  |
                            12695 
                            12697 
                            12698 ; 23   |#include "regsi2c.h"
                            12699 
                            12701 
                            12702 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            12703 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                            12704 ; 3    |// Filename: regsI2C.inc
                            12705 ; 4    |// Description: Register definitions for GPFLASH interface
                            12706 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            12707 ; 6    |// The following naming conventions are followed in this file.
                            12708 ; 7    |// All registers are named using the format...
                            12709 ; 8    |//     HW_<module>_<regname>
                            12710 ; 9    |// where <module> is the module name which can be any of the following...
                            12711 ; 10   |//     USB20
                            12712 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            12713 ; 12   |// module name includes a number starting from 0 for the first instance of
                            12714 ; 13   |// that module)
                            12715 ; 14   |// <regname> is the specific register within that module
                            12716 ; 15   |// We also define the following...
                            12717 ; 16   |//     HW_<module>_<regname>_BITPOS
                            12718 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            12719 ; 18   |//     HW_<module>_<regname>_SETMASK
                            12720 ; 19   |// which does something else, and
                            12721 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            12722 ; 21   |// which does something else.
                            12723 ; 22   |// Other rules
                            12724 ; 23   |//     All caps
                            12725 ; 24   |//     Numeric identifiers start at 0
                            12726 ; 25   |#if !(defined(regsi2cinc))
                            12727 ; 26   |#define regsi2cinc 1
                            12728 ; 27   |
                            12729 ; 28   |#include "types.h"
                            12730 
                            12732 
                            12733 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            12734 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            12735 ; 3    |//
                            12736 ; 4    |// Filename: types.h
                            12737 ; 5    |// Description: Standard data types
                            12738 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            12739 ; 7    |
                            12740 ; 8    |#ifndef _TYPES_H
                            12741 ; 9    |#define _TYPES_H
                            12742 ; 10   |
                            12743 ; 11   |// TODO:  move this outta here!
                            12744 ; 12   |#if !defined(NOERROR)
                            12745 ; 13   |#define NOERROR 0
                            12746 ; 14   |#define SUCCESS 0
                            12747 ; 15   |#endif 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 208

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12748 ; 16   |#if !defined(SUCCESS)
                            12749 ; 17   |#define SUCCESS  0
                            12750 ; 18   |#endif
                            12751 ; 19   |#if !defined(ERROR)
                            12752 ; 20   |#define ERROR   -1
                            12753 ; 21   |#endif
                            12754 ; 22   |#if !defined(FALSE)
                            12755 ; 23   |#define FALSE 0
                            12756 ; 24   |#endif
                            12757 ; 25   |#if !defined(TRUE)
                            12758 ; 26   |#define TRUE  1
                            12759 ; 27   |#endif
                            12760 ; 28   |
                            12761 ; 29   |#if !defined(NULL)
                            12762 ; 30   |#define NULL 0
                            12763 ; 31   |#endif
                            12764 ; 32   |
                            12765 ; 33   |#define MAX_INT     0x7FFFFF
                            12766 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            12767 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            12768 ; 36   |#define MAX_ULONG   (-1) 
                            12769 ; 37   |
                            12770 ; 38   |#define WORD_SIZE   24              // word size in bits
                            12771 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            12772 ; 40   |
                            12773 ; 41   |
                            12774 ; 42   |#define BYTE    unsigned char       // btVarName
                            12775 ; 43   |#define CHAR    signed char         // cVarName
                            12776 ; 44   |#define USHORT  unsigned short      // usVarName
                            12777 ; 45   |#define SHORT   unsigned short      // sVarName
                            12778 ; 46   |#define WORD    unsigned int        // wVarName
                            12779 ; 47   |#define INT     signed int          // iVarName
                            12780 ; 48   |#define DWORD   unsigned long       // dwVarName
                            12781 ; 49   |#define LONG    signed long         // lVarName
                            12782 ; 50   |#define BOOL    unsigned int        // bVarName
                            12783 ; 51   |#define FRACT   _fract              // frVarName
                            12784 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            12785 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            12786 ; 54   |#define FLOAT   float               // fVarName
                            12787 ; 55   |#define DBL     double              // dVarName
                            12788 ; 56   |#define ENUM    enum                // eVarName
                            12789 ; 57   |#define CMX     _complex            // cmxVarName
                            12790 ; 58   |typedef WORD UCS3;                   // 
                            12791 ; 59   |
                            12792 ; 60   |#define UINT16  unsigned short
                            12793 ; 61   |#define UINT8   unsigned char   
                            12794 ; 62   |#define UINT32  unsigned long
                            12795 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            12796 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            12797 ; 65   |#define WCHAR   UINT16
                            12798 ; 66   |
                            12799 ; 67   |//UINT128 is 16 bytes or 6 words
                            12800 ; 68   |typedef struct UINT128_3500 {   
                            12801 ; 69   |    int val[6];     
                            12802 ; 70   |} UINT128_3500;
                            12803 ; 71   |
                            12804 ; 72   |#define UINT128   UINT128_3500
                            12805 ; 73   |
                            12806 ; 74   |// Little endian word packed byte strings:   
                            12807 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 209

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12808 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12809 ; 77   |// Little endian word packed byte strings:   
                            12810 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12811 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12812 ; 80   |
                            12813 ; 81   |// Declare Memory Spaces To Use When Coding
                            12814 ; 82   |// A. Sector Buffers
                            12815 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            12816 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            12817 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            12818 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            12819 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            12820 ; 88   |// B. Media DDI Memory
                            12821 ; 89   |#define MEDIA_DDI_MEM _Y
                            12822 ; 90   |
                            12823 ; 91   |
                            12824 ; 92   |
                            12825 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            12826 ; 94   |// Examples of circular pointers:
                            12827 ; 95   |//    INT CIRC cpiVarName
                            12828 ; 96   |//    DWORD CIRC cpdwVarName
                            12829 ; 97   |
                            12830 ; 98   |#define RETCODE INT                 // rcVarName
                            12831 ; 99   |
                            12832 ; 100  |// generic bitfield structure
                            12833 ; 101  |struct Bitfield {
                            12834 ; 102  |    unsigned int B0  :1;
                            12835 ; 103  |    unsigned int B1  :1;
                            12836 ; 104  |    unsigned int B2  :1;
                            12837 ; 105  |    unsigned int B3  :1;
                            12838 ; 106  |    unsigned int B4  :1;
                            12839 ; 107  |    unsigned int B5  :1;
                            12840 ; 108  |    unsigned int B6  :1;
                            12841 ; 109  |    unsigned int B7  :1;
                            12842 ; 110  |    unsigned int B8  :1;
                            12843 ; 111  |    unsigned int B9  :1;
                            12844 ; 112  |    unsigned int B10 :1;
                            12845 ; 113  |    unsigned int B11 :1;
                            12846 ; 114  |    unsigned int B12 :1;
                            12847 ; 115  |    unsigned int B13 :1;
                            12848 ; 116  |    unsigned int B14 :1;
                            12849 ; 117  |    unsigned int B15 :1;
                            12850 ; 118  |    unsigned int B16 :1;
                            12851 ; 119  |    unsigned int B17 :1;
                            12852 ; 120  |    unsigned int B18 :1;
                            12853 ; 121  |    unsigned int B19 :1;
                            12854 ; 122  |    unsigned int B20 :1;
                            12855 ; 123  |    unsigned int B21 :1;
                            12856 ; 124  |    unsigned int B22 :1;
                            12857 ; 125  |    unsigned int B23 :1;
                            12858 ; 126  |};
                            12859 ; 127  |
                            12860 ; 128  |union BitInt {
                            12861 ; 129  |        struct Bitfield B;
                            12862 ; 130  |        int        I;
                            12863 ; 131  |};
                            12864 ; 132  |
                            12865 ; 133  |#define MAX_MSG_LENGTH 10
                            12866 ; 134  |struct CMessage
                            12867 ; 135  |{
                            12868 ; 136  |        unsigned int m_uLength;
                            12869 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 210

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12870 ; 138  |};
                            12871 ; 139  |
                            12872 ; 140  |typedef struct {
                            12873 ; 141  |    WORD m_wLength;
                            12874 ; 142  |    WORD m_wMessage;
                            12875 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            12876 ; 144  |} Message;
                            12877 ; 145  |
                            12878 ; 146  |struct MessageQueueDescriptor
                            12879 ; 147  |{
                            12880 ; 148  |        int *m_pBase;
                            12881 ; 149  |        int m_iModulo;
                            12882 ; 150  |        int m_iSize;
                            12883 ; 151  |        int *m_pHead;
                            12884 ; 152  |        int *m_pTail;
                            12885 ; 153  |};
                            12886 ; 154  |
                            12887 ; 155  |struct ModuleEntry
                            12888 ; 156  |{
                            12889 ; 157  |    int m_iSignaledEventMask;
                            12890 ; 158  |    int m_iWaitEventMask;
                            12891 ; 159  |    int m_iResourceOfCode;
                            12892 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            12893 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            12894 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            12895 ; 163  |    int m_uTimeOutHigh;
                            12896 ; 164  |    int m_uTimeOutLow;
                            12897 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            12898 ; 166  |};
                            12899 ; 167  |
                            12900 ; 168  |union WaitMask{
                            12901 ; 169  |    struct B{
                            12902 ; 170  |        unsigned int m_bNone     :1;
                            12903 ; 171  |        unsigned int m_bMessage  :1;
                            12904 ; 172  |        unsigned int m_bTimer    :1;
                            12905 ; 173  |        unsigned int m_bButton   :1;
                            12906 ; 174  |    } B;
                            12907 ; 175  |    int I;
                            12908 ; 176  |} ;
                            12909 ; 177  |
                            12910 ; 178  |
                            12911 ; 179  |struct Button {
                            12912 ; 180  |        WORD wButtonEvent;
                            12913 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            12914 ; 182  |};
                            12915 ; 183  |
                            12916 ; 184  |struct Message {
                            12917 ; 185  |        WORD wMsgLength;
                            12918 ; 186  |        WORD wMsgCommand;
                            12919 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            12920 ; 188  |};
                            12921 ; 189  |
                            12922 ; 190  |union EventTypes {
                            12923 ; 191  |        struct CMessage msg;
                            12924 ; 192  |        struct Button Button ;
                            12925 ; 193  |        struct Message Message;
                            12926 ; 194  |};
                            12927 ; 195  |
                            12928 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            12929 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            12930 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 211

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12931 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            12932 ; 200  |
                            12933 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            12934 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            12935 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            12936 ; 204  |
                            12937 ; 205  |#if DEBUG
                            12938 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            12939 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            12940 ; 208  |#else 
                            12941 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            12942 ; 210  |#define DebugBuildAssert(x)    
                            12943 ; 211  |#endif
                            12944 ; 212  |
                            12945 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            12946 ; 214  |//  #pragma asm
                            12947 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            12948 ; 216  |//  #pragma endasm
                            12949 ; 217  |
                            12950 ; 218  |
                            12951 ; 219  |#ifdef COLOR_262K
                            12952 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            12953 ; 221  |#elif defined(COLOR_65K)
                            12954 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            12955 ; 223  |#else
                            12956 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            12957 ; 225  |#endif
                            12958 ; 226  |    
                            12959 ; 227  |#endif // #ifndef _TYPES_H
                            12960 
                            12962 
                            12963 ; 29   |
                            12964 ; 30   |/////////////////////////////////////////////////////////////////////////////////
                            12965 ; 31   |////   I2C STMP Registers
                            12966 ; 32   |/////////////////////////////////////////////////////////////////////////////////
                            12967 ; 33   |
                            12968 ; 34   |#define HW_I2C_BASEADDR (0xFFE5)
                            12969 ; 35   |
                            12970 ; 36   |
                            12971 ; 37   |/////////////////////////////////////////////////////////////////////////////////
                            12972 ; 38   |////  I2C Clock Divider Register (HW_I2CDIV) Bit Definitions
                            12973 ; 39   |
                            12974 ; 40   |#define HW_I2CDIV_FACT_BITPOS (1)
                            12975 ; 41   |
                            12976 ; 42   |#define HW_I2CDIV_FACT_SETMASK (0xFF<<HW_I2CDIV_FACT_BITPOS)
                            12977 ; 43   |
                            12978 ; 44   |#define HW_I2CDIV_FACT_CLRMASK (~(WORD)HW_I2CDIV_FACT_SETMASK)
                            12979 ; 45   |
                            12980 ; 46   |typedef union               /* I2C Clock Divider Register */
                            12981 ; 47   |{
                            12982 ; 48   |    struct {
                            12983 ; 49   |        int                :1; 
                            12984 ; 50   |        unsigned FACT      :8;
                            12985 ; 51   |    } B;
                            12986 ; 52   |    int I;
                            12987 ; 53   |    unsigned U;
                            12988 ; 54   |} i2cdivr_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 212

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12989 ; 55   |#define HW_I2CDIV (*(volatile i2cdivr_type _X*) (HW_I2C_BASEADDR))       /* I2C Divfact Re
                                  gisters        */
                            12990 ; 56   |
                            12991 ; 57   |
                            12992 ; 58   |/////////////////////////////////////////////////////////////////////////////////
                            12993 ; 59   |////  I2C Data Register (HW_I2CDAT) Bit Definitions
                            12994 ; 60   |
                            12995 ; 61   |#define HW_I2CDAT_DATA_BITPOS (0)
                            12996 ; 62   |
                            12997 ; 63   |#define HW_I2CDAT_DATA_SETMASK (0xFFFFFF)
                            12998 ; 64   |
                            12999 ; 65   |#define HW_I2CDAT_DATA_CLRMASK (~(WORD)HW_I2CDAT_DATA_SETMASK)
                            13000 ; 66   |
                            13001 ; 67   |typedef union               /* I2C Data Register */
                            13002 ; 68   |{
                            13003 ; 69   |    struct {
                            13004 ; 70   |         unsigned DATA :24; 
                            13005 ; 71   |    } B;
                            13006 ; 72   |    int I;
                            13007 ; 73   |    unsigned U;
                            13008 ; 74   |} i2cdatr_type;
                            13009 ; 75   |#define HW_I2CDAT (*(volatile i2cdatr_type _X*) (HW_I2C_BASEADDR+1)) /* I2C Data Registers
                                   (I2CDAT)      */
                            13010 ; 76   |
                            13011 ; 77   |
                            13012 ; 78   |/////////////////////////////////////////////////////////////////////////////////
                            13013 ; 79   |////  I2C Control Status Register (HW_I2CCSR) Bit Definitions
                            13014 ; 80   |#define HW_I2CCSR_I2C_EN_BITPOS (0)
                            13015 ; 81   |#define HW_I2CCSR_RIE_BITPOS (1)
                            13016 ; 82   |#define HW_I2CCSR_BUSY_BITPOS (2)
                            13017 ; 83   |#define HW_I2CCSR_ARB_LOST_BITPOS (3)
                            13018 ; 84   |#define HW_I2CCSR_TIE_BITPOS (4)
                            13019 ; 85   |#define HW_I2CCSR_MODE_BITPOS (5)
                            13020 ; 86   |#define HW_I2CCSR_RDR_BITPOS (6)
                            13021 ; 87   |#define HW_I2CCSR_TDE_BITPOS (7)
                            13022 ; 88   |#define HW_I2CCSR_RWN_BITPOS (8)
                            13023 ; 89   |#define HW_I2CCSR_WL_BITPOS (9)
                            13024 ; 90   |#define HW_I2CCSR_WL0_BITPOS (9)
                            13025 ; 91   |#define HW_I2CCSR_WL1_BITPOS (10)
                            13026 ; 92   |#define HW_I2CCSR_TREQ_BITPOS (11)
                            13027 ; 93   |#define HW_I2CCSR_ROFL_BITPOS (12)
                            13028 ; 94   |#define HW_I2CCSR_TUFL_BITPOS (13)
                            13029 ; 95   |#define HW_I2CCSR_ACKF_BITPOS (14)
                            13030 ; 96   |#define HW_I2CCSR_B_CNT_BITPOS (15)
                            13031 ; 97   |#define HW_I2CCSR_B_CNT0_BITPOS (15)
                            13032 ; 98   |#define HW_I2CCSR_B_CNT1_BITPOS (16)
                            13033 ; 99   |#define HW_I2CCSR_L_WORD_BITPOS (17)
                            13034 ; 100  |#define HW_I2CCSR_SUBA_BITPOS (18)
                            13035 ; 101  |#define HW_I2CCSR_ROFLCL_BITPOS (19)
                            13036 ; 102  |#define HW_I2CCSR_TUFLCL_BITPOS (20)
                            13037 ; 103  |#define HW_I2CCSR_ONEBYTE_BITPOS (21)
                            13038 ; 104  |
                            13039 ; 105  |#define HW_I2CCSR_I2C_EN_SETMASK (1<<HW_I2CCSR_I2C_EN_BITPOS)
                            13040 ; 106  |#define HW_I2CCSR_RIE_SETMASK (1<<HW_I2CCSR_RIE_BITPOS)
                            13041 ; 107  |#define HW_I2CCSR_BUSY_SETMASK (1<<HW_I2CCSR_BUSY_BITPOS)
                            13042 ; 108  |#define HW_I2CCSR_ARB_LOST_SETMASK (1<<HW_I2CCSR_ARB_LOST_BITPOS)
                            13043 ; 109  |#define HW_I2CCSR_TIE_SETMASK (1<<HW_I2CCSR_TIE_BITPOS)
                            13044 ; 110  |#define HW_I2CCSR_MODE_SETMASK (1<<HW_I2CCSR_MODE_BITPOS)
                            13045 ; 111  |#define HW_I2CCSR_RDR_SETMASK (1<<HW_I2CCSR_RDR_BITPOS)
                            13046 ; 112  |#define HW_I2CCSR_TDE_SETMASK (1<<HW_I2CCSR_TDE_BITPOS)
                            13047 ; 113  |#define HW_I2CCSR_RWN_SETMASK (1<<HW_I2CCSR_RWN_BITPOS)
                            13048 ; 114  |#define HW_I2CCSR_WL_SETMASK (3<<HW_I2CCSR_WL_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 213

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13049 ; 115  |#define HW_I2CCSR_WL0_SETMASK (1<<HW_I2CCSR_WL0_BITPOS)
                            13050 ; 116  |#define HW_I2CCSR_WL1_SETMASK (1<<HW_I2CCSR_WL1_BITPOS)
                            13051 ; 117  |#define HW_I2CCSR_TREQ_SETMASK (1<<HW_I2CCSR_TREQ_BITPOS)
                            13052 ; 118  |#define HW_I2CCSR_ROFL_SETMASK (1<<HW_I2CCSR_ROFL_BITPOS)
                            13053 ; 119  |#define HW_I2CCSR_TUFL_SETMASK (1<<HW_I2CCSR_TUFL_BITPOS)
                            13054 ; 120  |#define HW_I2CCSR_ACKF_SETMASK (1<<HW_I2CCSR_ACKF_BITPOS)
                            13055 ; 121  |#define HW_I2CCSR_B_CNT_SETMASK (3<<HW_I2CCSR_B_CNT_BITPOS)
                            13056 ; 122  |#define HW_I2CCSR_B_CNT0_SETMASK (1<<HW_I2CCSR_B_CNT0_BITPOS)
                            13057 ; 123  |#define HW_I2CCSR_B_CNT1_SETMASK (1<<HW_I2CCSR_B_CNT1_BITPOS)
                            13058 ; 124  |#define HW_I2CCSR_L_WORD_SETMASK (1<<HW_I2CCSR_L_WORD_BITPOS)
                            13059 ; 125  |#define HW_I2CCSR_SUBA_SETMASK (1<<HW_I2CCSR_SUBA_BITPOS)
                            13060 ; 126  |#define HW_I2CCSR_ROFLCL_SETMASK (1<<HW_I2CCSR_ROFLCL_BITPOS)
                            13061 ; 127  |#define HW_I2CCSR_TUFLCL_SETMASK (1<<HW_I2CCSR_TUFLCL_BITPOS)
                            13062 ; 128  |#define HW_I2CCSR_ONEBYTE_SETMASK (1<<HW_I2CCSR_ONEBYTE_BITPOS)
                            13063 ; 129  |
                            13064 ; 130  |#define HW_I2CCSR_I2C_EN_CLRMASK (~(WORD)HW_I2CCSR_I2C_EN_SETMASK)
                            13065 ; 131  |#define HW_I2CCSR_RIE_CLRMASK (~(WORD)HW_I2CCSR_RIE_SETMASK)
                            13066 ; 132  |#define HW_I2CCSR_BUSY_CLRMASK (~(WORD)HW_I2CCSR_BUSY_SETMASK)
                            13067 ; 133  |#define HW_I2CCSR_ARB_LOST_CLRMASK (~(WORD)HW_I2CCSR_ARB_LOST_SETMASK)
                            13068 ; 134  |#define HW_I2CCSR_TIE_CLRMASK (~(WORD)HW_I2CCSR_TIE_SETMASK)
                            13069 ; 135  |#define HW_I2CCSR_MODE_CLRMASK (~(WORD)HW_I2CCSR_MODE_SETMASK)
                            13070 ; 136  |#define HW_I2CCSR_RDR_CLRMASK (~(WORD)HW_I2CCSR_RDR_SETMASK)
                            13071 ; 137  |#define HW_I2CCSR_TDE_CLRMASK (~(WORD)HW_I2CCSR_TDE_SETMASK)
                            13072 ; 138  |#define HW_I2CCSR_RWN_CLRMASK (~(WORD)HW_I2CCSR_RWN_SETMASK)
                            13073 ; 139  |#define HW_I2CCSR_WL_CLRMASK (~(WORD)HW_I2CCSR_WL_SETMASK)
                            13074 ; 140  |#define HW_I2CCSR_WL0_CLRMASK (~(WORD)HW_I2CCSR_WL0_SETMASK)
                            13075 ; 141  |#define HW_I2CCSR_WL1_CLRMASK (~(WORD)HW_I2CCSR_WL1_SETMASK)
                            13076 ; 142  |#define HW_I2CCSR_TREQ_CLRMASK (~(WORD)HW_I2CCSR_TREQ_SETMASK)
                            13077 ; 143  |#define HW_I2CCSR_ROFL_CLRMASK (~(WORD)HW_I2CCSR_ROFL_SETMASK)
                            13078 ; 144  |#define HW_I2CCSR_TUFL_CLRMASK (~(WORD)HW_I2CCSR_TUFL_SETMASK)
                            13079 ; 145  |#define HW_I2CCSR_ACKF_CLRMASK (~(WORD)HW_I2CCSR_ACKF_SETMASK)
                            13080 ; 146  |#define HW_I2CCSR_B_CNT_CLRMASK (~(WORD)HW_I2CCSR_B_CNT_SETMASK)
                            13081 ; 147  |#define HW_I2CCSR_B_CNT0_CLRMASK (~(WORD)HW_I2CCSR_B_CNT0_SETMASK)
                            13082 ; 148  |#define HW_I2CCSR_B_CNT1_CLRMASK (~(WORD)HW_I2CCSR_B_CNT1_SETMASK)
                            13083 ; 149  |#define HW_I2CCSR_L_WORD_CLRMASK (~(WORD)HW_I2CCSR_L_WORD_SETMASK)
                            13084 ; 150  |#define HW_I2CCSR_SUBA_CLRMASK (~(WORD)HW_I2CCSR_SUBA_SETMASK)
                            13085 ; 151  |#define HW_I2CCSR_ROFLCL_CLRMASK (~(WORD)HW_I2CCSR_ROFLCL_SETMASK)
                            13086 ; 152  |#define HW_I2CCSR_TUFLCL_CLRMASK (~(WORD)HW_I2CCSR_TUFLCL_SETMASK)
                            13087 ; 153  |#define HW_I2CCSR_ONEBYTE_CLRMASK (~(WORD)HW_I2CCSR_ONEBYTE_SETMASK)
                            13088 ; 154  |
                            13089 ; 155  |typedef union               /* I2C Control Register         */
                            13090 ; 156  |{
                            13091 ; 157  |    struct {
                            13092 ; 158  |        int I2C_EN      :1; /* Peripheral Enable            */
                            13093 ; 159  |        int RIE         :1; /* Receiver Interrupt Enable        */
                            13094 ; 160  |        int BUSY        :1; /* I2C Bus Busy             */
                            13095 ; 161  |        int ARBLOST     :1; /* Aritration lost          */
                            13096 ; 162  |        int TIE         :1; /* Transmitter Interrupt Enable     */
                            13097 ; 163  |        int MODE        :1; /* Operating Mode Bit           */
                            13098 ; 164  |        int RDR         :1; /* Receiver Data Ready          */
                            13099 ; 165  |       int TDE         :1; /* Transmitter Data Empty       */
                            13100 ; 166  |       int RWN         :1; /* Read/Not Write           */
                            13101 ; 167  |       unsigned WL     :2; /* Word Length              */
                            13102 ; 168  |        int TREQ        :1; /* DSP Transmit Request         */
                            13103 ; 169  |        int ROFL        :1; /* Receiver Overflow            */
                            13104 ; 170  |        int TUFL        :1; /* Transmitter Underflow        */
                            13105 ; 171  |        int ACKF        :1; /* Acknowledge Failure          */
                            13106 ; 172  |        unsigned BCNT   :2; /* Byte Count               */
                            13107 ; 173  |        int LWORD       :1; /* Last Word                */
                            13108 ; 174  |        int SUBA        :1; /* Sub Address              */
                            13109 ; 175  |        int ROFLCL      :1; /* Receiver Overflow Clear      */
                            13110 ; 176  |        int TUFLCL      :1; /* Transmitter Underflow Clear      */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 214

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13111 ; 177  |        int ONEBYTE     :1; /* Special One Data Byte Transmission Mode */
                            13112 ; 178  |    } B;
                            13113 ; 179  |    int I;
                            13114 ; 180  |    unsigned U;
                            13115 ; 181  |} i2ccsr_type;
                            13116 ; 182  |#define HW_I2CCSR (*(volatile i2ccsr_type _X*) (HW_I2C_BASEADDR+2)) /* I2C Control/Status 
                                  Register (I2CCSR) */
                            13117 ; 183  |
                            13118 ; 184  |#endif
                            13119 
                            13121 
                            13122 ; 24   |#include "regsi2s.h"
                            13123 
                            13125 
                            13126 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            13127 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                            13128 ; 3    |// Filename: regsi2s.inc
                            13129 ; 4    |// Description: Register definitions for I2S interface
                            13130 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            13131 ; 6    |// The following naming conventions are followed in this file.
                            13132 ; 7    |// All registers are named using the format...
                            13133 ; 8    |//     HW_<module>_<regname>
                            13134 ; 9    |// where <module> is the module name which can be any of the following...
                            13135 ; 10   |//     USB20
                            13136 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            13137 ; 12   |// module name includes a number starting from 0 for the first instance of
                            13138 ; 13   |// that module)
                            13139 ; 14   |// <regname> is the specific register within that module
                            13140 ; 15   |// We also define the following...
                            13141 ; 16   |//     HW_<module>_<regname>_BITPOS
                            13142 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            13143 ; 18   |//     HW_<module>_<regname>_SETMASK
                            13144 ; 19   |// which does something else, and
                            13145 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            13146 ; 21   |// which does something else.
                            13147 ; 22   |// Other rules
                            13148 ; 23   |//     All caps
                            13149 ; 24   |//     Numeric identifiers start at 0
                            13150 ; 25   |#if !(defined(regsi2sinc))
                            13151 ; 26   |#define regsi2sinc 1
                            13152 ; 27   |
                            13153 ; 28   |#include "types.h"
                            13154 
                            13156 
                            13157 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            13158 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            13159 ; 3    |//
                            13160 ; 4    |// Filename: types.h
                            13161 ; 5    |// Description: Standard data types
                            13162 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            13163 ; 7    |
                            13164 ; 8    |#ifndef _TYPES_H
                            13165 ; 9    |#define _TYPES_H
                            13166 ; 10   |
                            13167 ; 11   |// TODO:  move this outta here!
                            13168 ; 12   |#if !defined(NOERROR)
                            13169 ; 13   |#define NOERROR 0
                            13170 ; 14   |#define SUCCESS 0
                            13171 ; 15   |#endif 
                            13172 ; 16   |#if !defined(SUCCESS)
                            13173 ; 17   |#define SUCCESS  0
                            13174 ; 18   |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 215

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13175 ; 19   |#if !defined(ERROR)
                            13176 ; 20   |#define ERROR   -1
                            13177 ; 21   |#endif
                            13178 ; 22   |#if !defined(FALSE)
                            13179 ; 23   |#define FALSE 0
                            13180 ; 24   |#endif
                            13181 ; 25   |#if !defined(TRUE)
                            13182 ; 26   |#define TRUE  1
                            13183 ; 27   |#endif
                            13184 ; 28   |
                            13185 ; 29   |#if !defined(NULL)
                            13186 ; 30   |#define NULL 0
                            13187 ; 31   |#endif
                            13188 ; 32   |
                            13189 ; 33   |#define MAX_INT     0x7FFFFF
                            13190 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            13191 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            13192 ; 36   |#define MAX_ULONG   (-1) 
                            13193 ; 37   |
                            13194 ; 38   |#define WORD_SIZE   24              // word size in bits
                            13195 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            13196 ; 40   |
                            13197 ; 41   |
                            13198 ; 42   |#define BYTE    unsigned char       // btVarName
                            13199 ; 43   |#define CHAR    signed char         // cVarName
                            13200 ; 44   |#define USHORT  unsigned short      // usVarName
                            13201 ; 45   |#define SHORT   unsigned short      // sVarName
                            13202 ; 46   |#define WORD    unsigned int        // wVarName
                            13203 ; 47   |#define INT     signed int          // iVarName
                            13204 ; 48   |#define DWORD   unsigned long       // dwVarName
                            13205 ; 49   |#define LONG    signed long         // lVarName
                            13206 ; 50   |#define BOOL    unsigned int        // bVarName
                            13207 ; 51   |#define FRACT   _fract              // frVarName
                            13208 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            13209 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            13210 ; 54   |#define FLOAT   float               // fVarName
                            13211 ; 55   |#define DBL     double              // dVarName
                            13212 ; 56   |#define ENUM    enum                // eVarName
                            13213 ; 57   |#define CMX     _complex            // cmxVarName
                            13214 ; 58   |typedef WORD UCS3;                   // 
                            13215 ; 59   |
                            13216 ; 60   |#define UINT16  unsigned short
                            13217 ; 61   |#define UINT8   unsigned char   
                            13218 ; 62   |#define UINT32  unsigned long
                            13219 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            13220 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            13221 ; 65   |#define WCHAR   UINT16
                            13222 ; 66   |
                            13223 ; 67   |//UINT128 is 16 bytes or 6 words
                            13224 ; 68   |typedef struct UINT128_3500 {   
                            13225 ; 69   |    int val[6];     
                            13226 ; 70   |} UINT128_3500;
                            13227 ; 71   |
                            13228 ; 72   |#define UINT128   UINT128_3500
                            13229 ; 73   |
                            13230 ; 74   |// Little endian word packed byte strings:   
                            13231 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            13232 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            13233 ; 77   |// Little endian word packed byte strings:   
                            13234 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 216

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13235 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            13236 ; 80   |
                            13237 ; 81   |// Declare Memory Spaces To Use When Coding
                            13238 ; 82   |// A. Sector Buffers
                            13239 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            13240 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            13241 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            13242 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            13243 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            13244 ; 88   |// B. Media DDI Memory
                            13245 ; 89   |#define MEDIA_DDI_MEM _Y
                            13246 ; 90   |
                            13247 ; 91   |
                            13248 ; 92   |
                            13249 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            13250 ; 94   |// Examples of circular pointers:
                            13251 ; 95   |//    INT CIRC cpiVarName
                            13252 ; 96   |//    DWORD CIRC cpdwVarName
                            13253 ; 97   |
                            13254 ; 98   |#define RETCODE INT                 // rcVarName
                            13255 ; 99   |
                            13256 ; 100  |// generic bitfield structure
                            13257 ; 101  |struct Bitfield {
                            13258 ; 102  |    unsigned int B0  :1;
                            13259 ; 103  |    unsigned int B1  :1;
                            13260 ; 104  |    unsigned int B2  :1;
                            13261 ; 105  |    unsigned int B3  :1;
                            13262 ; 106  |    unsigned int B4  :1;
                            13263 ; 107  |    unsigned int B5  :1;
                            13264 ; 108  |    unsigned int B6  :1;
                            13265 ; 109  |    unsigned int B7  :1;
                            13266 ; 110  |    unsigned int B8  :1;
                            13267 ; 111  |    unsigned int B9  :1;
                            13268 ; 112  |    unsigned int B10 :1;
                            13269 ; 113  |    unsigned int B11 :1;
                            13270 ; 114  |    unsigned int B12 :1;
                            13271 ; 115  |    unsigned int B13 :1;
                            13272 ; 116  |    unsigned int B14 :1;
                            13273 ; 117  |    unsigned int B15 :1;
                            13274 ; 118  |    unsigned int B16 :1;
                            13275 ; 119  |    unsigned int B17 :1;
                            13276 ; 120  |    unsigned int B18 :1;
                            13277 ; 121  |    unsigned int B19 :1;
                            13278 ; 122  |    unsigned int B20 :1;
                            13279 ; 123  |    unsigned int B21 :1;
                            13280 ; 124  |    unsigned int B22 :1;
                            13281 ; 125  |    unsigned int B23 :1;
                            13282 ; 126  |};
                            13283 ; 127  |
                            13284 ; 128  |union BitInt {
                            13285 ; 129  |        struct Bitfield B;
                            13286 ; 130  |        int        I;
                            13287 ; 131  |};
                            13288 ; 132  |
                            13289 ; 133  |#define MAX_MSG_LENGTH 10
                            13290 ; 134  |struct CMessage
                            13291 ; 135  |{
                            13292 ; 136  |        unsigned int m_uLength;
                            13293 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            13294 ; 138  |};
                            13295 ; 139  |
                            13296 ; 140  |typedef struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 217

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13297 ; 141  |    WORD m_wLength;
                            13298 ; 142  |    WORD m_wMessage;
                            13299 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            13300 ; 144  |} Message;
                            13301 ; 145  |
                            13302 ; 146  |struct MessageQueueDescriptor
                            13303 ; 147  |{
                            13304 ; 148  |        int *m_pBase;
                            13305 ; 149  |        int m_iModulo;
                            13306 ; 150  |        int m_iSize;
                            13307 ; 151  |        int *m_pHead;
                            13308 ; 152  |        int *m_pTail;
                            13309 ; 153  |};
                            13310 ; 154  |
                            13311 ; 155  |struct ModuleEntry
                            13312 ; 156  |{
                            13313 ; 157  |    int m_iSignaledEventMask;
                            13314 ; 158  |    int m_iWaitEventMask;
                            13315 ; 159  |    int m_iResourceOfCode;
                            13316 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            13317 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            13318 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            13319 ; 163  |    int m_uTimeOutHigh;
                            13320 ; 164  |    int m_uTimeOutLow;
                            13321 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            13322 ; 166  |};
                            13323 ; 167  |
                            13324 ; 168  |union WaitMask{
                            13325 ; 169  |    struct B{
                            13326 ; 170  |        unsigned int m_bNone     :1;
                            13327 ; 171  |        unsigned int m_bMessage  :1;
                            13328 ; 172  |        unsigned int m_bTimer    :1;
                            13329 ; 173  |        unsigned int m_bButton   :1;
                            13330 ; 174  |    } B;
                            13331 ; 175  |    int I;
                            13332 ; 176  |} ;
                            13333 ; 177  |
                            13334 ; 178  |
                            13335 ; 179  |struct Button {
                            13336 ; 180  |        WORD wButtonEvent;
                            13337 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            13338 ; 182  |};
                            13339 ; 183  |
                            13340 ; 184  |struct Message {
                            13341 ; 185  |        WORD wMsgLength;
                            13342 ; 186  |        WORD wMsgCommand;
                            13343 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            13344 ; 188  |};
                            13345 ; 189  |
                            13346 ; 190  |union EventTypes {
                            13347 ; 191  |        struct CMessage msg;
                            13348 ; 192  |        struct Button Button ;
                            13349 ; 193  |        struct Message Message;
                            13350 ; 194  |};
                            13351 ; 195  |
                            13352 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            13353 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            13354 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            13355 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            13356 ; 200  |
                            13357 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 218

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13358 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            13359 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            13360 ; 204  |
                            13361 ; 205  |#if DEBUG
                            13362 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            13363 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            13364 ; 208  |#else 
                            13365 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            13366 ; 210  |#define DebugBuildAssert(x)    
                            13367 ; 211  |#endif
                            13368 ; 212  |
                            13369 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            13370 ; 214  |//  #pragma asm
                            13371 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            13372 ; 216  |//  #pragma endasm
                            13373 ; 217  |
                            13374 ; 218  |
                            13375 ; 219  |#ifdef COLOR_262K
                            13376 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            13377 ; 221  |#elif defined(COLOR_65K)
                            13378 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            13379 ; 223  |#else
                            13380 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            13381 ; 225  |#endif
                            13382 ; 226  |    
                            13383 ; 227  |#endif // #ifndef _TYPES_H
                            13384 
                            13386 
                            13387 ; 29   |
                            13388 ; 30   |///////////////////////////////////////////////////////////////////////////////////
                            13389 ; 31   |////  I2S Registers (SAI)
                            13390 ; 32   |///////////////////////////////////////////////////////////////////////////////////
                            13391 ; 33   |
                            13392 ; 34   |
                            13393 ; 35   |#define HW_SAI_BASEADDR (0xFFF0)
                            13394 ; 36   |
                            13395 ; 37   |
                            13396 ; 38   |
                            13397 ; 39   |
                            13398 ; 40   |#define HW_SAIRCSR_REN0_BITPOS (0)
                            13399 ; 41   |#define HW_SAIRCSR_REN1_BITPOS (1)
                            13400 ; 42   |#define HW_SAIRCSR_REN2_BITPOS (2)
                            13401 ; 43   |#define HW_SAIRCSR_RMME_BITPOS (3)
                            13402 ; 44   |#define HW_SAIRCSR_RSVD0_BITPOS (4)
                            13403 ; 45   |#define HW_SAIRCSR_RWL_BITPOS (5)
                            13404 ; 46   |#define HW_SAIRCSR_RDIR_BITPOS (7)
                            13405 ; 47   |#define HW_SAIRCSR_RLRS_BITPOS (8)
                            13406 ; 48   |#define HW_SAIRCSR_RCKP_BITPOS (9)
                            13407 ; 49   |#define HW_SAIRCSR_RREL_BITPOS (10)
                            13408 ; 50   |#define HW_SAIRCSR_RDWJ_BITPOS (11)
                            13409 ; 51   |#define HW_SAIRCSR_RXIE_BITPOS (12)
                            13410 ; 52   |#define HW_SAIRCSR_RSVD1_BITPOS (13)
                            13411 ; 53   |#define HW_SAIRCSR_ROFL_BITPOS (14)
                            13412 ; 54   |#define HW_SAIRCSR_RDR_BITPOS (15)
                            13413 ; 55   |#define HW_SAIRCSR_ROFCL_BITPOS (16)
                            13414 ; 56   |#define HW_SAIRCSR_RSVD2_BITPOS (17)
                            13415 ; 57   |
                            13416 ; 58   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 219

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13417 ; 59   |#define HW_SAIRCSR_REN0_WIDTH (1)
                            13418 ; 60   |#define HW_SAIRCSR_REN1_WIDTH (1)
                            13419 ; 61   |#define HW_SAIRCSR_REN2_WIDTH (1)
                            13420 ; 62   |#define HW_SAIRCSR_RMME_WIDTH (1)
                            13421 ; 63   |#define HW_SAIRCSR_RSVD0_WIDTH (1)
                            13422 ; 64   |#define HW_SAIRCSR_RWL_WIDTH (2)
                            13423 ; 65   |#define HW_SAIRCSR_RDIR_WIDTH (1)
                            13424 ; 66   |#define HW_SAIRCSR_RLRS_WIDTH (1)
                            13425 ; 67   |#define HW_SAIRCSR_RCKP_WIDTH (1)
                            13426 ; 68   |#define HW_SAIRCSR_RREL_WIDTH (1)
                            13427 ; 69   |#define HW_SAIRCSR_RDWJ_WIDTH (1)
                            13428 ; 70   |#define HW_SAIRCSR_RXIE_WIDTH (1)
                            13429 ; 71   |#define HW_SAIRCSR_RSVD1_WIDTH (1)
                            13430 ; 72   |#define HW_SAIRCSR_ROFL_WIDTH (1)
                            13431 ; 73   |#define HW_SAIRCSR_RDR_WIDTH (1)
                            13432 ; 74   |#define HW_SAIRCSR_ROFCL_WIDTH (1)
                            13433 ; 75   |#define HW_SAIRCSR_RSVD2_WIDTH (7)
                            13434 ; 76   |
                            13435 ; 77   |
                            13436 ; 78   |#define HW_SAIRCSR_REN0_SETMASK (((1<HW_SAIRCSR_REN0_WIDTH)-1)<<HW_SAIRCSR_REN0_BITPOS)
                            13437 ; 79   |#define HW_SAIRCSR_REN1_SETMASK (((1<HW_SAIRCSR_REN1_WIDTH)-1)<<HW_SAIRCSR_REN1_BITPOS)
                            13438 ; 80   |#define HW_SAIRCSR_REN2_SETMASK (((1<HW_SAIRCSR_REN2_WIDTH)-1)<<HW_SAIRCSR_REN2_BITPOS)
                            13439 ; 81   |#define HW_SAIRCSR_RMME_SETMASK (((1<HW_SAIRCSR_RMME_WIDTH)-1)<<HW_SAIRCSR_RMME_BITPOS)
                            13440 ; 82   |#define HW_SAIRCSR_RSVD0_SETMASK (((1<HW_SAIRCSR_RSVD0_WIDTH)-1)<<HW_SAIRCSR_RSVD0_BITPOS)
                                  
                            13441 ; 83   |#define HW_SAIRCSR_RWL_SETMASK (((1<HW_SAIRCSR_RWL_WIDTH)-1)<<HW_SAIRCSR_RWL_BITPOS)
                            13442 ; 84   |#define HW_SAIRCSR_RDIR_SETMASK (((1<HW_SAIRCSR_RDIR_WIDTH)-1)<<HW_SAIRCSR_RDIR_BITPOS)
                            13443 ; 85   |#define HW_SAIRCSR_RLRS_SETMASK (((1<HW_SAIRCSR_RLRS_WIDTH)-1)<<HW_SAIRCSR_RLRS_BITPOS)
                            13444 ; 86   |#define HW_SAIRCSR_RCKP_SETMASK (((1<HW_SAIRCSR_RCKP_WIDTH)-1)<<HW_SAIRCSR_RCKP_BITPOS)
                            13445 ; 87   |#define HW_SAIRCSR_RREL_SETMASK (((1<HW_SAIRCSR_RREL_WIDTH)-1)<<HW_SAIRCSR_RREL_BITPOS)
                            13446 ; 88   |#define HW_SAIRCSR_RDWJ_SETMASK (((1<HW_SAIRCSR_RDWJ_WIDTH)-1)<<HW_SAIRCSR_RDWJ_BITPOS)
                            13447 ; 89   |#define HW_SAIRCSR_RXIE_SETMASK (((1<HW_SAIRCSR_RXIE_WIDTH)-1)<<HW_SAIRCSR_RXIE_BITPOS)
                            13448 ; 90   |#define HW_SAIRCSR_RSVD1_SETMASK (((1<HW_SAIRCSR_RSVD1_WIDTH)-1)<<HW_SAIRCSR_RSVD1_BITPOS)
                                  
                            13449 ; 91   |#define HW_SAIRCSR_ROFL_SETMASK (((1<HW_SAIRCSR_ROFL_WIDTH)-1)<<HW_SAIRCSR_ROFL_BITPOS)
                            13450 ; 92   |#define HW_SAIRCSR_RDR_SETMASK (((1<HW_SAIRCSR_RDR_WIDTH)-1)<<HW_SAIRCSR_RDR_BITPOS)
                            13451 ; 93   |#define HW_SAIRCSR_ROFCL_SETMASK (((1<HW_SAIRCSR_ROFCL_WIDTH)-1)<<HW_SAIRCSR_ROFCL_BITPOS)
                                  
                            13452 ; 94   |#define HW_SAIRCSR_RSVD2_SETMASK (((1<HW_SAIRCSR_RSVD2_WIDTH)-1)<<HW_SAIRCSR_RSVD2_BITPOS)
                                  
                            13453 ; 95   |
                            13454 ; 96   |
                            13455 ; 97   |#define HW_SAIRCSR_REN0_CLRMASK (~(WORD)HW_SAIRCSR_REN0_SETMASK)
                            13456 ; 98   |#define HW_SAIRCSR_REN1_CLRMASK (~(WORD)HW_SAIRCSR_REN1_SETMASK)
                            13457 ; 99   |#define HW_SAIRCSR_REN2_CLRMASK (~(WORD)HW_SAIRCSR_REN2_SETMASK)
                            13458 ; 100  |#define HW_SAIRCSR_RMME_CLRMASK (~(WORD)HW_SAIRCSR_RMME_SETMASK)
                            13459 ; 101  |#define HW_SAIRCSR_RSVD0_CLRMASK (~(WORD)HW_SAIRCSR_RSVD0_SETMASK)
                            13460 ; 102  |#define HW_SAIRCSR_RWL_CLRMASK (~(WORD)HW_SAIRCSR_RWL_SETMASK)
                            13461 ; 103  |#define HW_SAIRCSR_RDIR_CLRMASK (~(WORD)HW_SAIRCSR_RDIR_SETMASK)
                            13462 ; 104  |#define HW_SAIRCSR_RLRS_CLRMASK (~(WORD)HW_SAIRCSR_RLRS_SETMASK)
                            13463 ; 105  |#define HW_SAIRCSR_RCKP_CLRMASK (~(WORD)HW_SAIRCSR_RCKP_SETMASK)
                            13464 ; 106  |#define HW_SAIRCSR_RREL_CLRMASK (~(WORD)HW_SAIRCSR_RREL_SETMASK)
                            13465 ; 107  |#define HW_SAIRCSR_RDWJ_CLRMASK (~(WORD)HW_SAIRCSR_RDWJ_SETMASK)
                            13466 ; 108  |#define HW_SAIRCSR_RXIE_CLRMASK (~(WORD)HW_SAIRCSR_RXIE_SETMASK)
                            13467 ; 109  |#define HW_SAIRCSR_RSVD1_CLRMASK (~(WORD)HW_SAIRCSR_RSVD1_SETMASK)
                            13468 ; 110  |#define HW_SAIRCSR_ROFL_CLRMASK (~(WORD)HW_SAIRCSR_ROFL_SETMASK)
                            13469 ; 111  |#define HW_SAIRCSR_RDR_CLRMASK (~(WORD)HW_SAIRCSR_RDR_SETMASK)
                            13470 ; 112  |#define HW_SAIRCSR_ROFCL_CLRMASK (~(WORD)HW_SAIRCSR_ROFCL_SETMASK)
                            13471 ; 113  |#define HW_SAIRCSR_RSVD2_CLRMASK (~(WORD)HW_SAIRCSR_RSVD2_SETMASK)
                            13472 ; 114  |
                            13473 ; 115  |typedef union
                            13474 ; 116  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 220

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13475 ; 117  |    struct {
                            13476 ; 118  |        int REN0        :HW_SAIRCSR_REN0_WIDTH;        // Receiver 0 enable
                            13477 ; 119  |        int REN1        :HW_SAIRCSR_REN1_WIDTH;        // Receiver 1 enable
                            13478 ; 120  |        int REN2        :HW_SAIRCSR_REN2_WIDTH;        // Receiver 2 enable
                            13479 ; 121  |        int RMME        :HW_SAIRCSR_RMME_WIDTH;        // Receiver master mode enable
                            13480 ; 122  |        int RSVD0       :HW_SAIRCSR_RSVD0_WIDTH;       // Reserved
                            13481 ; 123  |        unsigned RWL    :HW_SAIRCSR_RWL_WIDTH;         // Receiver word length control
                            13482 ; 124  |        int RDIR        :HW_SAIRCSR_RDIR_WIDTH;        // Receiver data shift direction 
                            13483 ; 125  |        int RLRS        :HW_SAIRCSR_RLRS_WIDTH;        // Receiver left right select
                            13484 ; 126  |        int RCKP        :HW_SAIRCSR_RCKP_WIDTH;        // Receiver clock polarity
                            13485 ; 127  |        int RREL        :HW_SAIRCSR_RREL_WIDTH;        // Receiver relative timing
                            13486 ; 128  |        int RDWJ        :HW_SAIRCSR_RDWJ_WIDTH;        // Receiver data word justification
                                  
                            13487 ; 129  |        int RXIE        :HW_SAIRCSR_RXIE_WIDTH;        // Receiver interrupt enable
                            13488 ; 130  |        int RSVD1       :HW_SAIRCSR_RSVD1_WIDTH;       // Reserved
                            13489 ; 131  |        int ROFL        :HW_SAIRCSR_ROFL_WIDTH;        // Receiver data overflow
                            13490 ; 132  |        int RDR         :HW_SAIRCSR_RDR_WIDTH;         // Receiver data ready flag
                            13491 ; 133  |        int ROFCL       :HW_SAIRCSR_ROFCL_WIDTH;       // Receiver data overflow clear
                            13492 ; 134  |        unsigned RSVD2  :HW_SAIRCSR_RSVD2_WIDTH;       // Reserved
                            13493 ; 135  |    } B;
                            13494 ; 136  |    int I;
                            13495 ; 137  |    unsigned U;
                            13496 ; 138  |} saircsr_type;
                            13497 ; 139  |
                            13498 ; 140  |#define HW_SAIRCSR (*(volatile saircsr_type _X*) (HW_SAI_BASEADDR))       /* I2S Receive C
                                  SR         */
                            13499 ; 141  |
                            13500 ; 142  |typedef union
                            13501 ; 143  |{
                            13502 ; 144  |    struct {
                            13503 ; 145  |        unsigned SAI :24;
                            13504 ; 146  |    } B;
                            13505 ; 147  |    int I;
                            13506 ; 148  |    unsigned U;
                            13507 ; 149  |} saixr_type;
                            13508 ; 150  |
                            13509 ; 151  |#define HW_SAIRX0R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+1))       /* I2S Received
                                   data reg 0 */
                            13510 ; 152  |#define HW_SAIRX1R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+2))       /* I2S Received
                                   data reg 1 */
                            13511 ; 153  |#define HW_SAIRX2R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+3))       /* I2S Received
                                   data reg 2 */
                            13512 ; 154  |
                            13513 ; 155  |
                            13514 ; 156  |#define HW_SAITCSR_TEN0_BITPOS (0)
                            13515 ; 157  |#define HW_SAITCSR_TEN1_BITPOS (1)
                            13516 ; 158  |#define HW_SAITCSR_TEN2_BITPOS (2)
                            13517 ; 159  |#define HW_SAITCSR_TMME_BITPOS (3)
                            13518 ; 160  |#define HW_SAITCSR_RSVD0_BITPOS (4)
                            13519 ; 161  |#define HW_SAITCSR_TWL_BITPOS (5)
                            13520 ; 162  |#define HW_SAITCSR_TDIR_BITPOS (7)
                            13521 ; 163  |#define HW_SAITCSR_TLRS_BITPOS (8)
                            13522 ; 164  |#define HW_SAITCSR_TCKP_BITPOS (9)
                            13523 ; 165  |#define HW_SAITCSR_TREL_BITPOS (10)
                            13524 ; 166  |#define HW_SAITCSR_TDWE_BITPOS (11)
                            13525 ; 167  |#define HW_SAITCSR_TXIE_BITPOS (12)
                            13526 ; 168  |#define HW_SAITCSR_RSVD1_BITPOS (13)
                            13527 ; 169  |#define HW_SAITCSR_TUFL_BITPOS (14)
                            13528 ; 170  |#define HW_SAITCSR_TDE_BITPOS (15)
                            13529 ; 171  |#define HW_SAITCSR_TUFCL_BITPOS (16)
                            13530 ; 172  |#define HW_SAITCSR_RSVD2_BITPOS (17)
                            13531 ; 173  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 221

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13532 ; 174  |
                            13533 ; 175  |#define HW_SAITCSR_TEN0_WIDTH (1)
                            13534 ; 176  |#define HW_SAITCSR_TEN1_WIDTH (1)
                            13535 ; 177  |#define HW_SAITCSR_TEN2_WIDTH (1)
                            13536 ; 178  |#define HW_SAITCSR_TMME_WIDTH (1)
                            13537 ; 179  |#define HW_SAITCSR_RSVD0_WIDTH (1)
                            13538 ; 180  |#define HW_SAITCSR_TWL_WIDTH (2)
                            13539 ; 181  |#define HW_SAITCSR_TDIR_WIDTH (1)
                            13540 ; 182  |#define HW_SAITCSR_TLRS_WIDTH (1)
                            13541 ; 183  |#define HW_SAITCSR_TCKP_WIDTH (1)
                            13542 ; 184  |#define HW_SAITCSR_TREL_WIDTH (1)
                            13543 ; 185  |#define HW_SAITCSR_TDWE_WIDTH (1)
                            13544 ; 186  |#define HW_SAITCSR_TXIE_WIDTH (1)
                            13545 ; 187  |#define HW_SAITCSR_RSVD1_WIDTH (1)
                            13546 ; 188  |#define HW_SAITCSR_TUFL_WIDTH (1)
                            13547 ; 189  |#define HW_SAITCSR_TDE_WIDTH (1)
                            13548 ; 190  |#define HW_SAITCSR_TUFCL_WIDTH (1)
                            13549 ; 191  |#define HW_SAITCSR_RSVD2_WIDTH (7)
                            13550 ; 192  |
                            13551 ; 193  |
                            13552 ; 194  |#define HW_SAITCSR_TEN0_SETMASK (((1<HW_SAITCSR_TEN0_WIDTH)-1)<<HW_SAITCSR_TEN0_BITPOS)
                            13553 ; 195  |#define HW_SAITCSR_TEN1_SETMASK (((1<HW_SAITCSR_TEN1_WIDTH)-1)<<HW_SAITCSR_TEN1_BITPOS)
                            13554 ; 196  |#define HW_SAITCSR_TEN2_SETMASK (((1<HW_SAITCSR_TEN2_WIDTH)-1)<<HW_SAITCSR_TEN2_BITPOS)
                            13555 ; 197  |#define HW_SAITCSR_TMME_SETMASK (((1<HW_SAITCSR_TMME_WIDTH)-1)<<HW_SAITCSR_TMME_BITPOS)
                            13556 ; 198  |#define HW_SAITCSR_RSVD0_SETMASK (((1<HW_SAITCSR_RSVD0_WIDTH)-1)<<HW_SAITCSR_RSVD0_BITPOS)
                                  
                            13557 ; 199  |#define HW_SAITCSR_TWL_SETMASK (((1<HW_SAITCSR_TWL_WIDTH)-1)<<HW_SAITCSR_TWL_BITPOS)
                            13558 ; 200  |#define HW_SAITCSR_TDIR_SETMASK (((1<HW_SAITCSR_TDIR_WIDTH)-1)<<HW_SAITCSR_TDIR_BITPOS)
                            13559 ; 201  |#define HW_SAITCSR_TLRS_SETMASK (((1<HW_SAITCSR_TLRS_WIDTH)-1)<<HW_SAITCSR_TLRS_BITPOS)
                            13560 ; 202  |#define HW_SAITCSR_TCKP_SETMASK (((1<HW_SAITCSR_TCKP_WIDTH)-1)<<HW_SAITCSR_TCKP_BITPOS)
                            13561 ; 203  |#define HW_SAITCSR_TREL_SETMASK (((1<HW_SAITCSR_TREL_WIDTH)-1)<<HW_SAITCSR_TREL_BITPOS)
                            13562 ; 204  |#define HW_SAITCSR_TDWE_SETMASK (((1<HW_SAITCSR_TDWE_WIDTH)-1)<<HW_SAITCSR_TDWE_BITPOS)
                            13563 ; 205  |#define HW_SAITCSR_TXIE_SETMASK (((1<HW_SAITCSR_TXIE_WIDTH)-1)<<HW_SAITCSR_TXIE_BITPOS)
                            13564 ; 206  |#define HW_SAITCSR_RSVD1_SETMASK (((1<HW_SAITCSR_RSVD1_WIDTH)-1)<<HW_SAITCSR_RSVD1_BITPOS)
                                  
                            13565 ; 207  |#define HW_SAITCSR_TUFL_SETMASK (((1<HW_SAITCSR_TUFL_WIDTH)-1)<<HW_SAITCSR_TUFL_BITPOS)
                            13566 ; 208  |#define HW_SAITCSR_TDE_SETMASK (((1<HW_SAITCSR_TDE_WIDTH)-1)<<HW_SAITCSR_TDE_BITPOS)
                            13567 ; 209  |#define HW_SAITCSR_TUFCL_SETMASK (((1<HW_SAITCSR_TUFCL_WIDTH)-1)<<HW_SAITCSR_TUFCL_BITPOS)
                                  
                            13568 ; 210  |#define HW_SAITCSR_RSVD2_SETMASK (((1<HW_SAITCSR_RSVD2_WIDTH)-1)<<HW_SAITCSR_RSVD2_BITPOS)
                                  
                            13569 ; 211  |
                            13570 ; 212  |
                            13571 ; 213  |#define HW_SAITCSR_TEN0_CLRMASK (~(WORD)HW_SAITCSR_TEN0_SETMASK)
                            13572 ; 214  |#define HW_SAITCSR_TEN1_CLRMASK (~(WORD)HW_SAITCSR_TEN1_SETMASK)
                            13573 ; 215  |#define HW_SAITCSR_TEN2_CLRMASK (~(WORD)HW_SAITCSR_TEN2_SETMASK)
                            13574 ; 216  |#define HW_SAITCSR_TMME_CLRMASK (~(WORD)HW_SAITCSR_TMME_SETMASK)
                            13575 ; 217  |#define HW_SAITCSR_RSVD0_CLRMASK (~(WORD)HW_SAITCSR_RSVD0_SETMASK)
                            13576 ; 218  |#define HW_SAITCSR_TWL_CLRMASK (~(WORD)HW_SAITCSR_TWL_SETMASK)
                            13577 ; 219  |#define HW_SAITCSR_TDIR_CLRMASK (~(WORD)HW_SAITCSR_TDIR_SETMASK)
                            13578 ; 220  |#define HW_SAITCSR_TLRS_CLRMASK (~(WORD)HW_SAITCSR_TLRS_SETMASK)
                            13579 ; 221  |#define HW_SAITCSR_TCKP_CLRMASK (~(WORD)HW_SAITCSR_TCKP_SETMASK)
                            13580 ; 222  |#define HW_SAITCSR_TREL_CLRMASK (~(WORD)HW_SAITCSR_TREL_SETMASK)
                            13581 ; 223  |#define HW_SAITCSR_TDWE_CLRMASK (~(WORD)HW_SAITCSR_TDWE_SETMASK)
                            13582 ; 224  |#define HW_SAITCSR_TXIE_CLRMASK (~(WORD)HW_SAITCSR_TXIE_SETMASK)
                            13583 ; 225  |#define HW_SAITCSR_RSVD1_CLRMASK (~(WORD)HW_SAITCSR_RSVD1_SETMASK)
                            13584 ; 226  |#define HW_SAITCSR_TUFL_CLRMASK (~(WORD)HW_SAITCSR_TUFL_SETMASK)
                            13585 ; 227  |#define HW_SAITCSR_TDE_CLRMASK (~(WORD)HW_SAITCSR_TDE_SETMASK)
                            13586 ; 228  |#define HW_SAITCSR_TUFCL_CLRMASK (~(WORD)HW_SAITCSR_TUFCL_SETMASK)
                            13587 ; 229  |#define HW_SAITCSR_RSVD2_CLRMASK (~(WORD)HW_SAITCSR_RSVD2_SETMASK)
                            13588 ; 230  |
                            13589 ; 231  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 222

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13590 ; 232  |typedef union
                            13591 ; 233  |{
                            13592 ; 234  |    struct {
                            13593 ; 235  |        int TEN0       :HW_SAITCSR_TEN0_WIDTH;         // Transmitter 0 enable
                            13594 ; 236  |        int TEN1       :HW_SAITCSR_TEN1_WIDTH;         // Transmitter 1 enable
                            13595 ; 237  |        int TEN2       :HW_SAITCSR_TEN2_WIDTH;         // Transmitter 2 enable
                            13596 ; 238  |        int TMME       :HW_SAITCSR_TMME_WIDTH;         // Transmitter master mode enable
                            13597 ; 239  |        int RSVD0      :HW_SAITCSR_RSVD0_WIDTH;        // Reserved
                            13598 ; 240  |        unsigned TWL   :HW_SAITCSR_TWL_WIDTH;          // Transmitter word length control
                            13599 ; 241  |        int TDIR       :HW_SAITCSR_TDIR_WIDTH;         // Transmitter data shift direction
                                   
                            13600 ; 242  |        int TLRS       :HW_SAITCSR_TLRS_WIDTH;         // Transmitter left right select
                            13601 ; 243  |        int TCKP       :HW_SAITCSR_TCKP_WIDTH;         // Transmitter clock polarity
                            13602 ; 244  |        int TREL       :HW_SAITCSR_TREL_WIDTH;         // Transmitter relative timing
                            13603 ; 245  |        int TDWE       :HW_SAITCSR_TDWE_WIDTH;         // Transmitter data word justificat
                                  ion
                            13604 ; 246  |        int TXIE       :HW_SAITCSR_TXIE_WIDTH;         // Transmitter interrupt enable
                            13605 ; 247  |        int RSVD1      :HW_SAITCSR_RSVD1_WIDTH;        // Reserved
                            13606 ; 248  |        int TUFL       :HW_SAITCSR_TUFL_WIDTH;         // Transmitter data overflow
                            13607 ; 249  |        int TDE        :HW_SAITCSR_TDE_WIDTH;          // Transmitter data ready flag
                            13608 ; 250  |        int TUFCL      :HW_SAITCSR_TUFCL_WIDTH;        // Transmitter data overflow clear
                            13609 ; 251  |        unsigned RSVD2 :HW_SAITCSR_RSVD2_WIDTH;        // Reserved
                            13610 ; 252  |    } B;
                            13611 ; 253  |    int I;
                            13612 ; 254  |    unsigned U;
                            13613 ; 255  |} saitcsr_type;
                            13614 ; 256  |
                            13615 ; 257  |#define HW_SAITCSR (*(volatile saitcsr_type _X*) (HW_SAI_BASEADDR+5)) /* I2S Transmit CSR 
                                       */
                            13616 ; 258  |
                            13617 ; 259  |#define HW_SAITX0R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+6))       /* I2S Transmit
                                   data reg 0 */
                            13618 ; 260  |#define HW_SAITX1R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+7))       /* I2S Transmit
                                   data reg 1 */
                            13619 ; 261  |#define HW_SAITX2R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+8))       /* I2S Transmit
                                   data reg 2 */
                            13620 ; 262  |
                            13621 ; 263  |#endif
                            13622 
                            13624 
                            13625 ; 25   |#include "regsicoll.h"
                            13626 
                            13628 
                            13629 ; 1    |#if !defined(__REGS_ICOLL_INC)
                            13630 ; 2    |#define __REGS_ICOLL_INC 1
                            13631 ; 3    |
                            13632 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            13633 ; 5    |//  Interrupt Collector Registers
                            13634 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                            13635 ; 7    |
                            13636 ; 8    |#define HW_ICOLL_BASEADDR 0xF300
                            13637 ; 9    |
                            13638 ; 10   |
                            13639 ; 11   |
                            13640 ; 12   |/////////////////////////////////////////////////////////////////////////////////
                            13641 ; 13   |//  Interrupt Collector 0 Enable Register (HW_ICLENABLE0R) Bit Positions
                            13642 ; 14   |
                            13643 ; 15   |typedef union
                            13644 ; 16   |{
                            13645 ; 17   |    struct {
                            13646 ; 18   |        int SEN0        :1;
                            13647 ; 19   |        int SEN1        :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 223

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13648 ; 20   |        int SEN2        :1;
                            13649 ; 21   |        int SEN3        :1;
                            13650 ; 22   |        int SEN4        :1;
                            13651 ; 23   |        int SEN5        :1;
                            13652 ; 24   |        int SEN6        :1;
                            13653 ; 25   |        int SEN7        :1;
                            13654 ; 26   |        int SEN8        :1;
                            13655 ; 27   |        int SEN9        :1;
                            13656 ; 28   |        int SEN10       :1;
                            13657 ; 29   |        int SEN11       :1;
                            13658 ; 30   |        int SEN12       :1;
                            13659 ; 31   |        int SEN13       :1;
                            13660 ; 32   |        int SEN14       :1;
                            13661 ; 33   |        int SEN15       :1;
                            13662 ; 34   |        int SEN16       :1;
                            13663 ; 35   |        int SEN17       :1;
                            13664 ; 36   |        int SEN18       :1;
                            13665 ; 37   |        int SEN19       :1;
                            13666 ; 38   |        int SEN20       :1;
                            13667 ; 39   |        int SEN21       :1;
                            13668 ; 40   |        int SEN22       :1;
                            13669 ; 41   |        int SEN23       :1;
                            13670 ; 42   |    } B;
                            13671 ; 43   |    int I;
                            13672 ; 44   |} iclenable0_type;
                            13673 ; 45   |#define HW_ICLENABLE0R  (*(volatile iclenable0_type _X*) (HW_ICOLL_BASEADDR)) /* Interrupt
                                   Priority Register Core   */
                            13674 ; 46   |
                            13675 ; 47   |
                            13676 ; 48   |#define HW_ICLENABLE0R_SEN0_BITPOS 0
                            13677 ; 49   |#define HW_ICLENABLE0R_SEN1_BITPOS 1
                            13678 ; 50   |#define HW_ICLENABLE0R_SEN2_BITPOS 2
                            13679 ; 51   |#define HW_ICLENABLE0R_SEN3_BITPOS 3
                            13680 ; 52   |#define HW_ICLENABLE0R_SEN4_BITPOS 4
                            13681 ; 53   |#define HW_ICLENABLE0R_SEN5_BITPOS 5
                            13682 ; 54   |#define HW_ICLENABLE0R_SEN6_BITPOS 6
                            13683 ; 55   |#define HW_ICLENABLE0R_SEN7_BITPOS 7
                            13684 ; 56   |#define HW_ICLENABLE0R_SEN8_BITPOS 8
                            13685 ; 57   |#define HW_ICLENABLE0R_SEN9_BITPOS 9
                            13686 ; 58   |#define HW_ICLENABLE0R_SEN10_BITPOS 10
                            13687 ; 59   |#define HW_ICLENABLE0R_SEN11_BITPOS 11
                            13688 ; 60   |#define HW_ICLENABLE0R_SEN12_BITPOS 12
                            13689 ; 61   |#define HW_ICLENABLE0R_SEN13_BITPOS 13
                            13690 ; 62   |#define HW_ICLENABLE0R_SEN14_BITPOS 14
                            13691 ; 63   |#define HW_ICLENABLE0R_SEN15_BITPOS 15
                            13692 ; 64   |#define HW_ICLENABLE0R_SEN16_BITPOS 16
                            13693 ; 65   |#define HW_ICLENABLE0R_SEN17_BITPOS 17
                            13694 ; 66   |#define HW_ICLENABLE0R_SEN18_BITPOS 18
                            13695 ; 67   |#define HW_ICLENABLE0R_SEN19_BITPOS 19
                            13696 ; 68   |#define HW_ICLENABLE0R_SEN20_BITPOS 20
                            13697 ; 69   |#define HW_ICLENABLE0R_SEN21_BITPOS 21
                            13698 ; 70   |#define HW_ICLENABLE0R_SEN22_BITPOS 22
                            13699 ; 71   |#define HW_ICLENABLE0R_SEN23_BITPOS 23
                            13700 ; 72   |
                            13701 ; 73   |#define HW_ICLENABLE0R_SEN0_SETMASK 1<<HW_ICLENABLE0R_SEN0_BITPOS
                            13702 ; 74   |#define HW_ICLENABLE0R_SEN1_SETMASK 1<<HW_ICLENABLE0R_SEN1_BITPOS
                            13703 ; 75   |#define HW_ICLENABLE0R_SEN2_SETMASK 1<<HW_ICLENABLE0R_SEN2_BITPOS
                            13704 ; 76   |#define HW_ICLENABLE0R_SEN3_SETMASK 1<<HW_ICLENABLE0R_SEN3_BITPOS
                            13705 ; 77   |#define HW_ICLENABLE0R_SEN4_SETMASK 1<<HW_ICLENABLE0R_SEN4_BITPOS
                            13706 ; 78   |#define HW_ICLENABLE0R_SEN5_SETMASK 1<<HW_ICLENABLE0R_SEN5_BITPOS
                            13707 ; 79   |#define HW_ICLENABLE0R_SEN6_SETMASK 1<<HW_ICLENABLE0R_SEN6_BITPOS
                            13708 ; 80   |#define HW_ICLENABLE0R_SEN7_SETMASK 1<<HW_ICLENABLE0R_SEN7_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 224

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13709 ; 81   |#define HW_ICLENABLE0R_SEN8_SETMASK 1<<HW_ICLENABLE0R_SEN8_BITPOS
                            13710 ; 82   |#define HW_ICLENABLE0R_SEN9_SETMASK 1<<HW_ICLENABLE0R_SEN9_BITPOS
                            13711 ; 83   |#define HW_ICLENABLE0R_SEN10_SETMASK 1<<HW_ICLENABLE0R_SEN10_BITPOS
                            13712 ; 84   |#define HW_ICLENABLE0R_SEN11_SETMASK 1<<HW_ICLENABLE0R_SEN11_BITPOS
                            13713 ; 85   |#define HW_ICLENABLE0R_SEN12_SETMASK 1<<HW_ICLENABLE0R_SEN12_BITPOS
                            13714 ; 86   |#define HW_ICLENABLE0R_SEN13_SETMASK 1<<HW_ICLENABLE0R_SEN13_BITPOS
                            13715 ; 87   |#define HW_ICLENABLE0R_SEN14_SETMASK 1<<HW_ICLENABLE0R_SEN14_BITPOS
                            13716 ; 88   |#define HW_ICLENABLE0R_SEN15_SETMASK 1<<HW_ICLENABLE0R_SEN15_BITPOS
                            13717 ; 89   |#define HW_ICLENABLE0R_SEN16_SETMASK 1<<HW_ICLENABLE0R_SEN16_BITPOS
                            13718 ; 90   |#define HW_ICLENABLE0R_SEN17_SETMASK 1<<HW_ICLENABLE0R_SEN17_BITPOS
                            13719 ; 91   |#define HW_ICLENABLE0R_SEN18_SETMASK 1<<HW_ICLENABLE0R_SEN18_BITPOS
                            13720 ; 92   |#define HW_ICLENABLE0R_SEN19_SETMASK 1<<HW_ICLENABLE0R_SEN19_BITPOS
                            13721 ; 93   |#define HW_ICLENABLE0R_SEN20_SETMASK 1<<HW_ICLENABLE0R_SEN20_BITPOS
                            13722 ; 94   |#define HW_ICLENABLE0R_SEN21_SETMASK 1<<HW_ICLENABLE0R_SEN21_BITPOS
                            13723 ; 95   |#define HW_ICLENABLE0R_SEN22_SETMASK 1<<HW_ICLENABLE0R_SEN22_BITPOS
                            13724 ; 96   |#define HW_ICLENABLE0R_SEN23_SETMASK 1<<HW_ICLENABLE0R_SEN23_BITPOS
                            13725 ; 97   |
                            13726 ; 98   |#define HW_ICLENABLE0R_SEN0_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN0_SETMASK
                            13727 ; 99   |#define HW_ICLENABLE0R_SEN1_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN1_SETMASK
                            13728 ; 100  |#define HW_ICLENABLE0R_SEN2_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN2_SETMASK
                            13729 ; 101  |#define HW_ICLENABLE0R_SEN3_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN3_SETMASK
                            13730 ; 102  |#define HW_ICLENABLE0R_SEN4_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN4_SETMASK
                            13731 ; 103  |#define HW_ICLENABLE0R_SEN5_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN5_SETMASK
                            13732 ; 104  |#define HW_ICLENABLE0R_SEN6_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN6_SETMASK
                            13733 ; 105  |#define HW_ICLENABLE0R_SEN7_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN7_SETMASK
                            13734 ; 106  |#define HW_ICLENABLE0R_SEN8_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN8_SETMASK
                            13735 ; 107  |#define HW_ICLENABLE0R_SEN9_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN9_SETMASK
                            13736 ; 108  |#define HW_ICLENABLE0R_SEN10_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN10_SETMASK
                            13737 ; 109  |#define HW_ICLENABLE0R_SEN11_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN11_SETMASK
                            13738 ; 110  |#define HW_ICLENABLE0R_SEN12_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN12_SETMASK
                            13739 ; 111  |#define HW_ICLENABLE0R_SEN13_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN13_SETMASK
                            13740 ; 112  |#define HW_ICLENABLE0R_SEN14_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN14_SETMASK
                            13741 ; 113  |#define HW_ICLENABLE0R_SEN15_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN15_SETMASK
                            13742 ; 114  |#define HW_ICLENABLE0R_SEN16_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN16_SETMASK
                            13743 ; 115  |#define HW_ICLENABLE0R_SEN17_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN17_SETMASK
                            13744 ; 116  |#define HW_ICLENABLE0R_SEN18_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN18_SETMASK
                            13745 ; 117  |#define HW_ICLENABLE0R_SEN19_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN19_SETMASK
                            13746 ; 118  |#define HW_ICLENABLE0R_SEN20_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN20_SETMASK
                            13747 ; 119  |#define HW_ICLENABLE0R_SEN21_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN21_SETMASK
                            13748 ; 120  |#define HW_ICLENABLE0R_SEN22_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN22_SETMASK
                            13749 ; 121  |#define HW_ICLENABLE0R_SEN23_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN23_SETMASK
                            13750 ; 122  |
                            13751 ; 123  |
                            13752 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                            13753 ; 125  |//  Interrupt Collector 1 Enable Register (HW_ICLENABLE1R) Bit Positions
                            13754 ; 126  |typedef union
                            13755 ; 127  |{
                            13756 ; 128  |    struct {
                            13757 ; 129  |        
                            13758 ; 130  |        int SEN24       :1;
                            13759 ; 131  |        int SEN25       :1;
                            13760 ; 132  |        int SEN26       :1;
                            13761 ; 133  |        int SEN27       :1;
                            13762 ; 134  |        int SEN28       :1;
                            13763 ; 135  |        int SEN29       :1;
                            13764 ; 136  |        int SEN30       :1;
                            13765 ; 137  |        int SEN31       :1;
                            13766 ; 138  |        int SEN32       :1;
                            13767 ; 139  |        int SEN33       :1;
                            13768 ; 140  |    } B;
                            13769 ; 141  |    int I;
                            13770 ; 142  |} iclenable1_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 225

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13771 ; 143  |
                            13772 ; 144  |#define HW_ICLENABLE1R  (*(volatile iclenable1_type _X*) (HW_ICOLL_BASEADDR+1)) /* Interru
                                  pt Priority Register Core    */
                            13773 ; 145  |
                            13774 ; 146  |#define HW_ICLENABLE1R_SEN24_BITPOS 0
                            13775 ; 147  |#define HW_ICLENABLE1R_SEN25_BITPOS 1
                            13776 ; 148  |#define HW_ICLENABLE1R_SEN26_BITPOS 2
                            13777 ; 149  |#define HW_ICLENABLE1R_SEN27_BITPOS 3
                            13778 ; 150  |#define HW_ICLENABLE1R_SEN28_BITPOS 4
                            13779 ; 151  |#define HW_ICLENABLE1R_SEN29_BITPOS 5
                            13780 ; 152  |#define HW_ICLENABLE1R_SEN30_BITPOS 6
                            13781 ; 153  |#define HW_ICLENABLE1R_SEN31_BITPOS 7
                            13782 ; 154  |#define HW_ICLENABLE1R_SEN32_BITPOS 8
                            13783 ; 155  |#define HW_ICLENABLE1R_SEN33_BITPOS 9
                            13784 ; 156  |
                            13785 ; 157  |#define HW_ICLENABLE1R_SEN24_SETMASK 1<<HW_ICLENABLE1R_SEN24_BITPOS
                            13786 ; 158  |#define HW_ICLENABLE1R_SEN25_SETMASK 1<<HW_ICLENABLE1R_SEN25_BITPOS
                            13787 ; 159  |#define HW_ICLENABLE1R_SEN26_SETMASK 1<<HW_ICLENABLE1R_SEN26_BITPOS
                            13788 ; 160  |#define HW_ICLENABLE1R_SEN27_SETMASK 1<<HW_ICLENABLE1R_SEN27_BITPOS
                            13789 ; 161  |#define HW_ICLENABLE1R_SEN28_SETMASK 1<<HW_ICLENABLE1R_SEN28_BITPOS
                            13790 ; 162  |#define HW_ICLENABLE1R_SEN29_SETMASK 1<<HW_ICLENABLE1R_SEN29_BITPOS
                            13791 ; 163  |#define HW_ICLENABLE1R_SEN30_SETMASK 1<<HW_ICLENABLE1R_SEN30_BITPOS
                            13792 ; 164  |#define HW_ICLENABLE1R_SEN31_SETMASK 1<<HW_ICLENABLE1R_SEN31_BITPOS
                            13793 ; 165  |#define HW_ICLENABLE1R_SEN32_SETMASK 1<<HW_ICLENABLE1R_SEN32_BITPOS
                            13794 ; 166  |#define HW_ICLENABLE1R_SEN33_SETMASK 1<<HW_ICLENABLE1R_SEN33_BITPOS
                            13795 ; 167  |
                            13796 ; 168  |#define HW_ICLENABLE1R_SEN24_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN24_SETMASK
                            13797 ; 169  |#define HW_ICLENABLE1R_SEN25_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN25_SETMASK
                            13798 ; 170  |#define HW_ICLENABLE1R_SEN26_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN26_SETMASK
                            13799 ; 171  |#define HW_ICLENABLE1R_SEN27_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN27_SETMASK
                            13800 ; 172  |#define HW_ICLENABLE1R_SEN28_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN28_SETMASK
                            13801 ; 173  |#define HW_ICLENABLE1R_SEN29_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN29_SETMASK
                            13802 ; 174  |#define HW_ICLENABLE1R_SEN30_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN30_SETMASK
                            13803 ; 175  |#define HW_ICLENABLE1R_SEN31_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN31_SETMASK
                            13804 ; 176  |#define HW_ICLENABLE1R_SEN32_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN32_SETMASK
                            13805 ; 177  |#define HW_ICLENABLE1R_SEN33_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN33_SETMASK
                            13806 ; 178  |
                            13807 ; 179  |
                            13808 ; 180  |/////////////////////////////////////////////////////////////////////////////////
                            13809 ; 181  |//  Interrupt Collector Status 0 Register (HW_ICLSTATUS0R) Bit Positions
                            13810 ; 182  |typedef union
                            13811 ; 183  |{
                            13812 ; 184  |    struct {
                            13813 ; 185  |        int SST0        :1;
                            13814 ; 186  |        int SST1        :1;
                            13815 ; 187  |        int SST2        :1;
                            13816 ; 188  |        int SST3        :1;
                            13817 ; 189  |        int SST4        :1;
                            13818 ; 190  |        int SST5        :1;
                            13819 ; 191  |        int SST6        :1;
                            13820 ; 192  |        int SST7        :1;
                            13821 ; 193  |        int SST8        :1;
                            13822 ; 194  |        int SST9        :1;
                            13823 ; 195  |        int SST10       :1;
                            13824 ; 196  |        int SST11       :1;
                            13825 ; 197  |        int SST12       :1;
                            13826 ; 198  |        int SST13       :1;
                            13827 ; 199  |        int SST14       :1;
                            13828 ; 200  |        int SST15       :1;
                            13829 ; 201  |        int SST16       :1;
                            13830 ; 202  |        int SST17       :1;
                            13831 ; 203  |        int SST18       :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 226

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13832 ; 204  |        int SST19       :1;
                            13833 ; 205  |        int SST20       :1;
                            13834 ; 206  |        int SST21       :1;
                            13835 ; 207  |        int SST22       :1;
                            13836 ; 208  |        int SST23       :1;
                            13837 ; 209  |    } B;
                            13838 ; 210  |    int I;
                            13839 ; 211  |} iclstatus0_type;
                            13840 ; 212  |#define HW_ICLSTATUS0R  (*(volatile iclstatus0_type _X*) (HW_ICOLL_BASEADDR+2)) /* Interru
                                  pt Priority Register Core */
                            13841 ; 213  |#define HW_ICLSTATUS0R_SST0_BITPOS 0
                            13842 ; 214  |#define HW_ICLSTATUS0R_SST1_BITPOS 1
                            13843 ; 215  |#define HW_ICLSTATUS0R_SST2_BITPOS 2
                            13844 ; 216  |#define HW_ICLSTATUS0R_SST3_BITPOS 3
                            13845 ; 217  |#define HW_ICLSTATUS0R_SST4_BITPOS 4
                            13846 ; 218  |#define HW_ICLSTATUS0R_SST5_BITPOS 5
                            13847 ; 219  |#define HW_ICLSTATUS0R_SST6_BITPOS 6
                            13848 ; 220  |#define HW_ICLSTATUS0R_SST7_BITPOS 7
                            13849 ; 221  |#define HW_ICLSTATUS0R_SST8_BITPOS 8
                            13850 ; 222  |#define HW_ICLSTATUS0R_SST9_BITPOS 9
                            13851 ; 223  |#define HW_ICLSTATUS0R_SST10_BITPOS 10
                            13852 ; 224  |#define HW_ICLSTATUS0R_SST11_BITPOS 11
                            13853 ; 225  |#define HW_ICLSTATUS0R_SST12_BITPOS 12
                            13854 ; 226  |#define HW_ICLSTATUS0R_SST13_BITPOS 13
                            13855 ; 227  |#define HW_ICLSTATUS0R_SST14_BITPOS 14
                            13856 ; 228  |#define HW_ICLSTATUS0R_SST15_BITPOS 15
                            13857 ; 229  |#define HW_ICLSTATUS0R_SST16_BITPOS 16
                            13858 ; 230  |#define HW_ICLSTATUS0R_SST17_BITPOS 17
                            13859 ; 231  |#define HW_ICLSTATUS0R_SST18_BITPOS 18
                            13860 ; 232  |#define HW_ICLSTATUS0R_SST19_BITPOS 19
                            13861 ; 233  |#define HW_ICLSTATUS0R_SST20_BITPOS 20
                            13862 ; 234  |#define HW_ICLSTATUS0R_SST21_BITPOS 21
                            13863 ; 235  |#define HW_ICLSTATUS0R_SST22_BITPOS 22
                            13864 ; 236  |#define HW_ICLSTATUS0R_SST23_BITPOS 23
                            13865 ; 237  |
                            13866 ; 238  |#define HW_ICLSTATUS0R_SST0_SETMASK 1<<HW_ICLSTATUS0R_SST0_BITPOS
                            13867 ; 239  |#define HW_ICLSTATUS0R_SST1_SETMASK 1<<HW_ICLSTATUS0R_SST1_BITPOS
                            13868 ; 240  |#define HW_ICLSTATUS0R_SST2_SETMASK 1<<HW_ICLSTATUS0R_SST2_BITPOS
                            13869 ; 241  |#define HW_ICLSTATUS0R_SST3_SETMASK 1<<HW_ICLSTATUS0R_SST3_BITPOS
                            13870 ; 242  |#define HW_ICLSTATUS0R_SST4_SETMASK 1<<HW_ICLSTATUS0R_SST4_BITPOS
                            13871 ; 243  |#define HW_ICLSTATUS0R_SST5_SETMASK 1<<HW_ICLSTATUS0R_SST5_BITPOS
                            13872 ; 244  |#define HW_ICLSTATUS0R_SST6_SETMASK 1<<HW_ICLSTATUS0R_SST6_BITPOS
                            13873 ; 245  |#define HW_ICLSTATUS0R_SST7_SETMASK 1<<HW_ICLSTATUS0R_SST7_BITPOS
                            13874 ; 246  |#define HW_ICLSTATUS0R_SST8_SETMASK 1<<HW_ICLSTATUS0R_SST8_BITPOS
                            13875 ; 247  |#define HW_ICLSTATUS0R_SST9_SETMASK 1<<HW_ICLSTATUS0R_SST9_BITPOS
                            13876 ; 248  |#define HW_ICLSTATUS0R_SST10_SETMASK 1<<HW_ICLSTATUS0R_SST10_BITPOS
                            13877 ; 249  |#define HW_ICLSTATUS0R_SST11_SETMASK 1<<HW_ICLSTATUS0R_SST11_BITPOS
                            13878 ; 250  |#define HW_ICLSTATUS0R_SST12_SETMASK 1<<HW_ICLSTATUS0R_SST12_BITPOS
                            13879 ; 251  |#define HW_ICLSTATUS0R_SST13_SETMASK 1<<HW_ICLSTATUS0R_SST13_BITPOS
                            13880 ; 252  |#define HW_ICLSTATUS0R_SST14_SETMASK 1<<HW_ICLSTATUS0R_SST14_BITPOS
                            13881 ; 253  |#define HW_ICLSTATUS0R_SST15_SETMASK 1<<HW_ICLSTATUS0R_SST15_BITPOS
                            13882 ; 254  |#define HW_ICLSTATUS0R_SST16_SETMASK 1<<HW_ICLSTATUS0R_SST16_BITPOS
                            13883 ; 255  |#define HW_ICLSTATUS0R_SST17_SETMASK 1<<HW_ICLSTATUS0R_SST17_BITPOS
                            13884 ; 256  |#define HW_ICLSTATUS0R_SST18_SETMASK 1<<HW_ICLSTATUS0R_SST18_BITPOS
                            13885 ; 257  |#define HW_ICLSTATUS0R_SST19_SETMASK 1<<HW_ICLSTATUS0R_SST19_BITPOS
                            13886 ; 258  |#define HW_ICLSTATUS0R_SST20_SETMASK 1<<HW_ICLSTATUS0R_SST20_BITPOS
                            13887 ; 259  |#define HW_ICLSTATUS0R_SST21_SETMASK 1<<HW_ICLSTATUS0R_SST21_BITPOS
                            13888 ; 260  |#define HW_ICLSTATUS0R_SST22_SETMASK 1<<HW_ICLSTATUS0R_SST22_BITPOS
                            13889 ; 261  |#define HW_ICLSTATUS0R_SST23_SETMASK 1<<HW_ICLSTATUS0R_SST23_BITPOS
                            13890 ; 262  |
                            13891 ; 263  |#define HW_ICLSTATUS0R_SST0_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST0_SETMASK
                            13892 ; 264  |#define HW_ICLSTATUS0R_SST1_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST1_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 227

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13893 ; 265  |#define HW_ICLSTATUS0R_SST2_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST2_SETMASK
                            13894 ; 266  |#define HW_ICLSTATUS0R_SST3_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST3_SETMASK
                            13895 ; 267  |#define HW_ICLSTATUS0R_SST4_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST4_SETMASK
                            13896 ; 268  |#define HW_ICLSTATUS0R_SST5_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST5_SETMASK
                            13897 ; 269  |#define HW_ICLSTATUS0R_SST6_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST6_SETMASK
                            13898 ; 270  |#define HW_ICLSTATUS0R_SST7_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST7_SETMASK
                            13899 ; 271  |#define HW_ICLSTATUS0R_SST8_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST8_SETMASK
                            13900 ; 272  |#define HW_ICLSTATUS0R_SST9_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST9_SETMASK
                            13901 ; 273  |#define HW_ICLSTATUS0R_SST10_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST10_SETMASK
                            13902 ; 274  |#define HW_ICLSTATUS0R_SST11_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST11_SETMASK
                            13903 ; 275  |#define HW_ICLSTATUS0R_SST12_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST12_SETMASK
                            13904 ; 276  |#define HW_ICLSTATUS0R_SST13_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST13_SETMASK
                            13905 ; 277  |#define HW_ICLSTATUS0R_SST14_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST14_SETMASK
                            13906 ; 278  |#define HW_ICLSTATUS0R_SST15_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST15_SETMASK
                            13907 ; 279  |#define HW_ICLSTATUS0R_SST16_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST16_SETMASK
                            13908 ; 280  |#define HW_ICLSTATUS0R_SST17_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST17_SETMASK
                            13909 ; 281  |#define HW_ICLSTATUS0R_SST18_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST18_SETMASK
                            13910 ; 282  |#define HW_ICLSTATUS0R_SST19_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST19_SETMASK
                            13911 ; 283  |#define HW_ICLSTATUS0R_SST20_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST20_SETMASK
                            13912 ; 284  |#define HW_ICLSTATUS0R_SST21_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST21_SETMASK
                            13913 ; 285  |#define HW_ICLSTATUS0R_SST22_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST22_SETMASK
                            13914 ; 286  |#define HW_ICLSTATUS0R_SST23_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST23_SETMASK
                            13915 ; 287  |
                            13916 ; 288  |
                            13917 ; 289  |/////////////////////////////////////////////////////////////////////////////////
                            13918 ; 290  |//  Interrupt Collector Status 1 Register (HW_ICLSTATUS1R) Bit Positions
                            13919 ; 291  |typedef union
                            13920 ; 292  |{
                            13921 ; 293  |    struct {
                            13922 ; 294  |        int SST24       :1;
                            13923 ; 295  |        int SST25       :1;
                            13924 ; 296  |        int SST26       :1;
                            13925 ; 297  |        int SST27       :1;
                            13926 ; 298  |        int SST28       :1;
                            13927 ; 299  |        int SST29       :1;
                            13928 ; 300  |        int SST30       :1;
                            13929 ; 301  |        int SST31       :1;
                            13930 ; 302  |        int SST32       :1;
                            13931 ; 303  |        int SST33       :1;
                            13932 ; 304  |    } B;
                            13933 ; 305  |    int I;
                            13934 ; 306  |} iclstatus1_type;
                            13935 ; 307  |#define HW_ICLSTATUS1R  (*(volatile iclstatus1_type _X*) (HW_ICOLL_BASEADDR+3)) /* Interru
                                  pt Priority Register Core */
                            13936 ; 308  |#define HW_ICLSTATUS1R_SST24_BITPOS 0
                            13937 ; 309  |#define HW_ICLSTATUS1R_SST25_BITPOS 1
                            13938 ; 310  |#define HW_ICLSTATUS1R_SST26_BITPOS 2
                            13939 ; 311  |#define HW_ICLSTATUS1R_SST27_BITPOS 3
                            13940 ; 312  |#define HW_ICLSTATUS1R_SST28_BITPOS 4
                            13941 ; 313  |#define HW_ICLSTATUS1R_SST29_BITPOS 5
                            13942 ; 314  |#define HW_ICLSTATUS1R_SST30_BITPOS 6
                            13943 ; 315  |#define HW_ICLSTATUS1R_SST31_BITPOS 7
                            13944 ; 316  |#define HW_ICLSTATUS1R_SST32_BITPOS 8
                            13945 ; 317  |#define HW_ICLSTATUS1R_SST33_BITPOS 9
                            13946 ; 318  |
                            13947 ; 319  |#define HW_ICLSTATUS1R_SST24_SETMASK 1<<HW_ICLSTATUS1R_SST24_BITPOS
                            13948 ; 320  |#define HW_ICLSTATUS1R_SST25_SETMASK 1<<HW_ICLSTATUS1R_SST25_BITPOS
                            13949 ; 321  |#define HW_ICLSTATUS1R_SST26_SETMASK 1<<HW_ICLSTATUS1R_SST26_BITPOS
                            13950 ; 322  |#define HW_ICLSTATUS1R_SST27_SETMASK 1<<HW_ICLSTATUS1R_SST27_BITPOS
                            13951 ; 323  |#define HW_ICLSTATUS1R_SST28_SETMASK 1<<HW_ICLSTATUS1R_SST28_BITPOS
                            13952 ; 324  |#define HW_ICLSTATUS1R_SST29_SETMASK 1<<HW_ICLSTATUS1R_SST29_BITPOS
                            13953 ; 325  |#define HW_ICLSTATUS1R_SST30_SETMASK 1<<HW_ICLSTATUS1R_SST30_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 228

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13954 ; 326  |#define HW_ICLSTATUS1R_SST31_SETMASK 1<<HW_ICLSTATUS1R_SST31_BITPOS
                            13955 ; 327  |#define HW_ICLSTATUS1R_SST32_SETMASK 1<<HW_ICLSTATUS1R_SST32_BITPOS
                            13956 ; 328  |#define HW_ICLSTATUS1R_SST33_SETMASK 1<<HW_ICLSTATUS1R_SST33_BITPOS
                            13957 ; 329  |
                            13958 ; 330  |#define HW_ICLSTATUS1R_SST24_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST24_SETMASK
                            13959 ; 331  |#define HW_ICLSTATUS1R_SST25_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST25_SETMASK
                            13960 ; 332  |#define HW_ICLSTATUS1R_SST26_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST26_SETMASK
                            13961 ; 333  |#define HW_ICLSTATUS1R_SST27_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST27_SETMASK
                            13962 ; 334  |#define HW_ICLSTATUS1R_SST28_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST28_SETMASK
                            13963 ; 335  |#define HW_ICLSTATUS1R_SST29_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST29_SETMASK
                            13964 ; 336  |#define HW_ICLSTATUS1R_SST30_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST30_SETMASK
                            13965 ; 337  |#define HW_ICLSTATUS1R_SST31_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST31_SETMASK
                            13966 ; 338  |#define HW_ICLSTATUS1R_SST32_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST32_SETMASK
                            13967 ; 339  |#define HW_ICLSTATUS1R_SST33_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST33_SETMASK
                            13968 ; 340  |
                            13969 ; 341  |
                            13970 ; 342  |/////////////////////////////////////////////////////////////////////////////////
                            13971 ; 343  |//  Interrupt Collector Priority Defs
                            13972 ; 344  |typedef union
                            13973 ; 345  |{
                            13974 ; 346  |    struct {
                            13975 ; 347  |        unsigned S0P    :3;
                            13976 ; 348  |        unsigned S1P    :3;
                            13977 ; 349  |        unsigned S2P    :3;
                            13978 ; 350  |        unsigned S3P    :3;
                            13979 ; 351  |        unsigned S4P    :3;
                            13980 ; 352  |        unsigned S5P    :3;
                            13981 ; 353  |        unsigned S6P    :3;
                            13982 ; 354  |        unsigned S7P    :3;
                            13983 ; 355  |    } B;
                            13984 ; 356  |    int I;
                            13985 ; 357  |
                            13986 ; 358  |} iclprior0_type;
                            13987 ; 359  |
                            13988 ; 360  |#define HW_ICLPRIOR0R   (*(volatile iclprior0_type _X*) (HW_ICOLL_BASEADDR+4)) /* Interrup
                                  t Collector Register 0 Priority   */
                            13989 ; 361  |
                            13990 ; 362  |#define HW_ICLPRIORR_SP_0 0
                            13991 ; 363  |#define HW_ICLPRIORR_SP_1 1
                            13992 ; 364  |#define HW_ICLPRIORR_SP_2 2
                            13993 ; 365  |#define HW_ICLPRIORR_SP_3 3
                            13994 ; 366  |#define HW_ICLPRIORR_SP_4 4
                            13995 ; 367  |#define HW_ICLPRIORR_SP_5 5
                            13996 ; 368  |#define HW_ICLPRIORR_SP_6 6
                            13997 ; 369  |#define HW_ICLPRIORR_SP_7 7
                            13998 ; 370  |
                            13999 ; 371  |
                            14000 ; 372  |/////////////////////////////////////////////////////////////////////////////////
                            14001 ; 373  |//  Interrupt Collector Priority 0 Register (HW_ICLPRIOR0R) Bit Positions
                            14002 ; 374  |#define HW_ICLPRIOR0R_S0P_BITPOS 0
                            14003 ; 375  |#define HW_ICLPRIOR0R_S1P_BITPOS 3
                            14004 ; 376  |#define HW_ICLPRIOR0R_S2P_BITPOS 6
                            14005 ; 377  |#define HW_ICLPRIOR0R_S3P_BITPOS 9
                            14006 ; 378  |#define HW_ICLPRIOR0R_S4P_BITPOS 12
                            14007 ; 379  |#define HW_ICLPRIOR0R_S5P_BITPOS 15
                            14008 ; 380  |#define HW_ICLPRIOR0R_S6P_BITPOS 18
                            14009 ; 381  |#define HW_ICLPRIOR0R_S7P_BITPOS 21
                            14010 ; 382  |
                            14011 ; 383  |#define HW_ICLPRIOR0R_S0P_SETMASK 7<<HW_ICLPRIOR0R_S0P_BITPOS
                            14012 ; 384  |#define HW_ICLPRIOR0R_S1P_SETMASK 7<<HW_ICLPRIOR0R_S1P_BITPOS
                            14013 ; 385  |#define HW_ICLPRIOR0R_S2P_SETMASK 7<<HW_ICLPRIOR0R_S2P_BITPOS
                            14014 ; 386  |#define HW_ICLPRIOR0R_S3P_SETMASK 7<<HW_ICLPRIOR0R_S3P_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 229

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14015 ; 387  |#define HW_ICLPRIOR0R_S4P_SETMASK 7<<HW_ICLPRIOR0R_S4P_BITPOS
                            14016 ; 388  |#define HW_ICLPRIOR0R_S5P_SETMASK 7<<HW_ICLPRIOR0R_S5P_BITPOS
                            14017 ; 389  |#define HW_ICLPRIOR0R_S6P_SETMASK 7<<HW_ICLPRIOR0R_S6P_BITPOS
                            14018 ; 390  |#define HW_ICLPRIOR0R_S7P_SETMASK 7<<HW_ICLPRIOR0R_S7P_BITPOS
                            14019 ; 391  |
                            14020 ; 392  |#define HW_ICLPRIOR0R_S0P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S0P_SETMASK
                            14021 ; 393  |#define HW_ICLPRIOR0R_S1P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S1P_SETMASK
                            14022 ; 394  |#define HW_ICLPRIOR0R_S2P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S2P_SETMASK
                            14023 ; 395  |#define HW_ICLPRIOR0R_S3P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S3P_SETMASK
                            14024 ; 396  |#define HW_ICLPRIOR0R_S4P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S4P_SETMASK
                            14025 ; 397  |#define HW_ICLPRIOR0R_S5P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S5P_SETMASK
                            14026 ; 398  |#define HW_ICLPRIOR0R_S6P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S6P_SETMASK
                            14027 ; 399  |#define HW_ICLPRIOR0R_S7P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S7P_SETMASK
                            14028 ; 400  |
                            14029 ; 401  |
                            14030 ; 402  |/////////////////////////////////////////////////////////////////////////////////
                            14031 ; 403  |//  Interrupt Collector Priority 1 Register (HW_ICLPRIOR1R) Bit Positions
                            14032 ; 404  |typedef union
                            14033 ; 405  |{
                            14034 ; 406  |    struct {
                            14035 ; 407  |        unsigned S8P    :3;
                            14036 ; 408  |        unsigned S9P    :3;
                            14037 ; 409  |        unsigned S10P   :3;
                            14038 ; 410  |        unsigned S11P   :3;
                            14039 ; 411  |        unsigned S12P   :3;
                            14040 ; 412  |        unsigned S13P   :3;
                            14041 ; 413  |        unsigned S14P   :3;
                            14042 ; 414  |        unsigned S15P   :3;
                            14043 ; 415  |    } B;
                            14044 ; 416  |    int I;
                            14045 ; 417  |} iclprior1_type;
                            14046 ; 418  |
                            14047 ; 419  |#define HW_ICLPRIOR1R   (*(volatile iclprior1_type _X*) (HW_ICOLL_BASEADDR+5)) /* Interrup
                                  t Collector Register 1 Priority   */
                            14048 ; 420  |
                            14049 ; 421  |#define HW_ICLPRIOR1R_S8P_BITPOS 0
                            14050 ; 422  |#define HW_ICLPRIOR1R_S9P_BITPOS 3
                            14051 ; 423  |#define HW_ICLPRIOR1R_S10P_BITPOS 6
                            14052 ; 424  |#define HW_ICLPRIOR1R_S11P_BITPOS 9
                            14053 ; 425  |#define HW_ICLPRIOR1R_S12P_BITPOS 12
                            14054 ; 426  |#define HW_ICLPRIOR1R_S13P_BITPOS 15
                            14055 ; 427  |#define HW_ICLPRIOR1R_S14P_BITPOS 18
                            14056 ; 428  |#define HW_ICLPRIOR1R_S15P_BITPOS 21
                            14057 ; 429  |
                            14058 ; 430  |#define HW_ICLPRIOR1R_S8P_SETMASK 7<<HW_ICLPRIOR1R_S8P_BITPOS
                            14059 ; 431  |#define HW_ICLPRIOR1R_S9P_SETMASK 7<<HW_ICLPRIOR1R_S9P_BITPOS
                            14060 ; 432  |#define HW_ICLPRIOR1R_S10P_SETMASK 7<<HW_ICLPRIOR1R_S10P_BITPOS
                            14061 ; 433  |#define HW_ICLPRIOR1R_S11P_SETMASK 7<<HW_ICLPRIOR1R_S11P_BITPOS
                            14062 ; 434  |#define HW_ICLPRIOR1R_S12P_SETMASK 7<<HW_ICLPRIOR1R_S12P_BITPOS
                            14063 ; 435  |#define HW_ICLPRIOR1R_S13P_SETMASK 7<<HW_ICLPRIOR1R_S13P_BITPOS
                            14064 ; 436  |#define HW_ICLPRIOR1R_S14P_SETMASK 7<<HW_ICLPRIOR1R_S14P_BITPOS
                            14065 ; 437  |#define HW_ICLPRIOR1R_S15P_SETMASK 7<<HW_ICLPRIOR1R_S15P_BITPOS
                            14066 ; 438  |
                            14067 ; 439  |#define HW_ICLPRIOR1R_S8P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S8P_SETMASK
                            14068 ; 440  |#define HW_ICLPRIOR1R_S9P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S9P_SETMASK
                            14069 ; 441  |#define HW_ICLPRIOR1R_S10P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S10P_SETMASK
                            14070 ; 442  |#define HW_ICLPRIOR1R_S11P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S11P_SETMASK
                            14071 ; 443  |#define HW_ICLPRIOR1R_S12P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S12P_SETMASK
                            14072 ; 444  |#define HW_ICLPRIOR1R_S13P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S13P_SETMASK
                            14073 ; 445  |#define HW_ICLPRIOR1R_S14P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S14P_SETMASK
                            14074 ; 446  |#define HW_ICLPRIOR1R_S15P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S15P_SETMASK
                            14075 ; 447  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 230

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14076 ; 448  |
                            14077 ; 449  |/////////////////////////////////////////////////////////////////////////////////
                            14078 ; 450  |//  Interrupt Collector Priority 2 Register (HW_ICLPRI2R) Bit Positions
                            14079 ; 451  |typedef union               /* Interrupt Collector Priority 2 Register      */
                            14080 ; 452  |{
                            14081 ; 453  |    struct {
                            14082 ; 454  |        unsigned S16P   :3;
                            14083 ; 455  |        unsigned S17P   :3;
                            14084 ; 456  |        unsigned S18P   :3;
                            14085 ; 457  |        unsigned S19P   :3;
                            14086 ; 458  |        unsigned S20P   :3;
                            14087 ; 459  |        unsigned S21P   :3;
                            14088 ; 460  |        unsigned S22P   :3;
                            14089 ; 461  |        unsigned S23P   :3;
                            14090 ; 462  |    } B;
                            14091 ; 463  |    int I;
                            14092 ; 464  |} iclprior2_type;
                            14093 ; 465  |#define HW_ICLPRIOR2R   (*(volatile iclprior2_type _X*) (HW_ICOLL_BASEADDR+6)) /* Interrup
                                  t Collector Register 2 Priority   */
                            14094 ; 466  |#define HW_ICLPRIOR2R_S16P_BITPOS 0
                            14095 ; 467  |#define HW_ICLPRIOR2R_S17P_BITPOS 3
                            14096 ; 468  |#define HW_ICLPRIOR2R_S18P_BITPOS 6
                            14097 ; 469  |#define HW_ICLPRIOR2R_S19P_BITPOS 9
                            14098 ; 470  |#define HW_ICLPRIOR2R_S20P_BITPOS 12
                            14099 ; 471  |#define HW_ICLPRIOR2R_S21P_BITPOS 15
                            14100 ; 472  |#define HW_ICLPRIOR2R_S22P_BITPOS 18
                            14101 ; 473  |#define HW_ICLPRIOR2R_S23P_BITPOS 21
                            14102 ; 474  |
                            14103 ; 475  |#define HW_ICLPRIOR2R_S16P_SETMASK 7<<HW_ICLPRIOR2R_S16P_BITPOS
                            14104 ; 476  |#define HW_ICLPRIOR2R_S17P_SETMASK 7<<HW_ICLPRIOR2R_S17P_BITPOS
                            14105 ; 477  |#define HW_ICLPRIOR2R_S18P_SETMASK 7<<HW_ICLPRIOR2R_S18P_BITPOS
                            14106 ; 478  |#define HW_ICLPRIOR2R_S19P_SETMASK 7<<HW_ICLPRIOR2R_S19P_BITPOS
                            14107 ; 479  |#define HW_ICLPRIOR2R_S20P_SETMASK 7<<HW_ICLPRIOR2R_S20P_BITPOS
                            14108 ; 480  |#define HW_ICLPRIOR2R_S21P_SETMASK 7<<HW_ICLPRIOR2R_S21P_BITPOS
                            14109 ; 481  |#define HW_ICLPRIOR2R_S22P_SETMASK 7<<HW_ICLPRIOR2R_S22P_BITPOS
                            14110 ; 482  |#define HW_ICLPRIOR2R_S23P_SETMASK 7<<HW_ICLPRIOR2R_S23P_BITPOS
                            14111 ; 483  |
                            14112 ; 484  |#define HW_ICLPRIOR2R_S16P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S16P_SETMASK
                            14113 ; 485  |#define HW_ICLPRIOR2R_S17P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S17P_SETMASK
                            14114 ; 486  |#define HW_ICLPRIOR2R_S18P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S18P_SETMASK
                            14115 ; 487  |#define HW_ICLPRIOR2R_S19P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S19P_SETMASK
                            14116 ; 488  |#define HW_ICLPRIOR2R_S20P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S20P_SETMASK
                            14117 ; 489  |#define HW_ICLPRIOR2R_S21P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S21P_SETMASK
                            14118 ; 490  |#define HW_ICLPRIOR2R_S22P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S22P_SETMASK
                            14119 ; 491  |#define HW_ICLPRIOR2R_S23P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S23P_SETMASK
                            14120 ; 492  |
                            14121 ; 493  |
                            14122 ; 494  |/////////////////////////////////////////////////////////////////////////////////
                            14123 ; 495  |//  Interrupt Collector Priority 3 Register (HW_ICLPRI3R) Bit Positions
                            14124 ; 496  |typedef union               /* Interrupt Collector Priority 3 Register      */
                            14125 ; 497  |{
                            14126 ; 498  |    struct {
                            14127 ; 499  |        unsigned S24P   :3;
                            14128 ; 500  |        unsigned S25P   :3;
                            14129 ; 501  |        unsigned S26P   :3;
                            14130 ; 502  |        unsigned S27P   :3;
                            14131 ; 503  |        unsigned S28P   :3;
                            14132 ; 504  |        unsigned S29P   :3;
                            14133 ; 505  |        unsigned S30P   :3;
                            14134 ; 506  |        unsigned S31P   :3;
                            14135 ; 507  |    } B;
                            14136 ; 508  |    int I;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 231

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14137 ; 509  |} iclprior3_type;
                            14138 ; 510  |#define HW_ICLPRIOR3R   (*(volatile iclprior3_type _X*) (HW_ICOLL_BASEADDR+7)) /* Interrup
                                  t Collector Register 3 Priority   */
                            14139 ; 511  |
                            14140 ; 512  |#define HW_ICLPRIOR3R_S24P_BITPOS 0
                            14141 ; 513  |#define HW_ICLPRIOR3R_S25P_BITPOS 3
                            14142 ; 514  |#define HW_ICLPRIOR3R_S26P_BITPOS 6
                            14143 ; 515  |#define HW_ICLPRIOR3R_S27P_BITPOS 9
                            14144 ; 516  |#define HW_ICLPRIOR3R_S28P_BITPOS 12
                            14145 ; 517  |#define HW_ICLPRIOR3R_S29P_BITPOS 15
                            14146 ; 518  |#define HW_ICLPRIOR3R_S30P_BITPOS 18
                            14147 ; 519  |#define HW_ICLPRIOR3R_S31P_BITPOS 21
                            14148 ; 520  |
                            14149 ; 521  |#define HW_ICLPRIOR3R_S24P_SETMASK 7<<HW_ICLPRIOR3R_S24P_BITPOS
                            14150 ; 522  |#define HW_ICLPRIOR3R_S25P_SETMASK 7<<HW_ICLPRIOR3R_S25P_BITPOS
                            14151 ; 523  |#define HW_ICLPRIOR3R_S26P_SETMASK 7<<HW_ICLPRIOR3R_S26P_BITPOS
                            14152 ; 524  |#define HW_ICLPRIOR3R_S27P_SETMASK 7<<HW_ICLPRIOR3R_S27P_BITPOS
                            14153 ; 525  |#define HW_ICLPRIOR3R_S28P_SETMASK 7<<HW_ICLPRIOR3R_S28P_BITPOS
                            14154 ; 526  |#define HW_ICLPRIOR3R_S29P_SETMASK 7<<HW_ICLPRIOR3R_S29P_BITPOS
                            14155 ; 527  |#define HW_ICLPRIOR3R_S30P_SETMASK 7<<HW_ICLPRIOR3R_S30P_BITPOS
                            14156 ; 528  |#define HW_ICLPRIOR3R_S31P_SETMASK 7<<HW_ICLPRIOR3R_S31P_BITPOS
                            14157 ; 529  |
                            14158 ; 530  |#define HW_ICLPRIOR3R_S24P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S24P_SETMASK
                            14159 ; 531  |#define HW_ICLPRIOR3R_S25P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S25P_SETMASK
                            14160 ; 532  |#define HW_ICLPRIOR3R_S26P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S26P_SETMASK
                            14161 ; 533  |#define HW_ICLPRIOR3R_S27P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S27P_SETMASK
                            14162 ; 534  |#define HW_ICLPRIOR3R_S28P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S28P_SETMASK
                            14163 ; 535  |#define HW_ICLPRIOR3R_S29P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S29P_SETMASK
                            14164 ; 536  |#define HW_ICLPRIOR3R_S30P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S30P_SETMASK
                            14165 ; 537  |#define HW_ICLPRIOR3R_S31P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S31P_SETMASK
                            14166 ; 538  |
                            14167 ; 539  |
                            14168 ; 540  |/////////////////////////////////////////////////////////////////////////////////
                            14169 ; 541  |//  Interrupt Collector Priority 4 Register (HW_ICLPRI4R) Bit Positions
                            14170 ; 542  |typedef union               /* Interrupt Collector Priority 3 Register      */
                            14171 ; 543  |{
                            14172 ; 544  |    struct {
                            14173 ; 545  |        unsigned S32P   :3;
                            14174 ; 546  |        unsigned S33P   :3;
                            14175 ; 547  |    } B;
                            14176 ; 548  |    int I;
                            14177 ; 549  |} iclprior4_type;
                            14178 ; 550  |#define HW_ICLPRIOR4R (*(volatile iclprior4_type _X*) (HW_ICOLL_BASEADDR+17)) /* Interrupt
                                   Collector Register 4 Priority   */
                            14179 ; 551  |
                            14180 ; 552  |#define HW_ICLPRIOR4R_S32P_BITPOS 0
                            14181 ; 553  |#define HW_ICLPRIOR4R_S33P_BITPOS 3
                            14182 ; 554  |
                            14183 ; 555  |#define HW_ICLPRIOR4R_S32P_SETMASK 7<<HW_ICLPRIOR4R_S32P_BITPOS
                            14184 ; 556  |#define HW_ICLPRIOR4R_S33P_SETMASK 7<<HW_ICLPRIOR4R_S33P_BITPOS
                            14185 ; 557  |
                            14186 ; 558  |#define HW_ICLPRIOR4R_S32P_CLRMASK ~(WORD)HW_ICLPRIOR4R_S32P_SETMASK
                            14187 ; 559  |#define HW_ICLPRIOR4R_S33P_CLRMASK ~(WORD)HW_ICLPRIOR4R_S33P_SETMASK
                            14188 ; 560  |
                            14189 ; 561  |
                            14190 ; 562  |/////////////////////////////////////////////////////////////////////////////////
                            14191 ; 563  |//  Interrupt Collector Steering 0 Register (HW_ICLSTEER0R) Bit Positions
                            14192 ; 564  |typedef union               /* Interrupt Collector Steering 0 Register      */
                            14193 ; 565  |{
                            14194 ; 566  |    struct {
                            14195 ; 567  |        unsigned S0S    :2;
                            14196 ; 568  |        unsigned S1S    :2;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 232

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14197 ; 569  |        unsigned S2S    :2;
                            14198 ; 570  |        unsigned S3S    :2;
                            14199 ; 571  |        unsigned S4S    :2;
                            14200 ; 572  |        unsigned S5S    :2;
                            14201 ; 573  |        unsigned S6S    :2;
                            14202 ; 574  |        unsigned S7S    :2;
                            14203 ; 575  |        unsigned S8S    :2;
                            14204 ; 576  |        unsigned S9S    :2;
                            14205 ; 577  |        unsigned S10S   :2;
                            14206 ; 578  |        unsigned S11S   :2;
                            14207 ; 579  |    } B;
                            14208 ; 580  |    int I;
                            14209 ; 581  |} iclsteer0_type;
                            14210 ; 582  |#define HW_ICLSTEER0R   (*(volatile iclsteer0_type _X*) (HW_ICOLL_BASEADDR+8)) /* Interrup
                                  t Collector Steering Register 0   */
                            14211 ; 583  |
                            14212 ; 584  |#define HW_ICLSTEER0R_S0P_BITPOS 0
                            14213 ; 585  |#define HW_ICLSTEER0R_S1P_BITPOS 2
                            14214 ; 586  |#define HW_ICLSTEER0R_S2P_BITPOS 4
                            14215 ; 587  |#define HW_ICLSTEER0R_S3P_BITPOS 6
                            14216 ; 588  |#define HW_ICLSTEER0R_S4P_BITPOS 8
                            14217 ; 589  |#define HW_ICLSTEER0R_S5P_BITPOS 10
                            14218 ; 590  |#define HW_ICLSTEER0R_S6P_BITPOS 12
                            14219 ; 591  |#define HW_ICLSTEER0R_S7P_BITPOS 14
                            14220 ; 592  |#define HW_ICLSTEER0R_S8P_BITPOS 16
                            14221 ; 593  |#define HW_ICLSTEER0R_S9P_BITPOS 18
                            14222 ; 594  |#define HW_ICLSTEER0R_S10P_BITPOS 20
                            14223 ; 595  |#define HW_ICLSTEER0R_S11P_BITPOS 22
                            14224 ; 596  |
                            14225 ; 597  |#define HW_ICLSTEER0R_S0P_SETMASK 3<<HW_ICLSTEER0R_S0P_BITPOS
                            14226 ; 598  |#define HW_ICLSTEER0R_S1P_SETMASK 3<<HW_ICLSTEER0R_S1P_BITPOS
                            14227 ; 599  |#define HW_ICLSTEER0R_S2P_SETMASK 3<<HW_ICLSTEER0R_S2P_BITPOS
                            14228 ; 600  |#define HW_ICLSTEER0R_S3P_SETMASK 3<<HW_ICLSTEER0R_S3P_BITPOS
                            14229 ; 601  |#define HW_ICLSTEER0R_S4P_SETMASK 3<<HW_ICLSTEER0R_S4P_BITPOS
                            14230 ; 602  |#define HW_ICLSTEER0R_S5P_SETMASK 3<<HW_ICLSTEER0R_S5P_BITPOS
                            14231 ; 603  |#define HW_ICLSTEER0R_S6P_SETMASK 3<<HW_ICLSTEER0R_S6P_BITPOS
                            14232 ; 604  |#define HW_ICLSTEER0R_S7P_SETMASK 3<<HW_ICLSTEER0R_S7P_BITPOS
                            14233 ; 605  |#define HW_ICLSTEER0R_S8P_SETMASK 3<<HW_ICLSTEER0R_S8P_BITPOS
                            14234 ; 606  |#define HW_ICLSTEER0R_S9P_SETMASK 3<<HW_ICLSTEER0R_S9P_BITPOS
                            14235 ; 607  |#define HW_ICLSTEER0R_S10P_SETMASK 3<<HW_ICLSTEER0R_S10P_BITPOS
                            14236 ; 608  |#define HW_ICLSTEER0R_S11P_SETMASK 3<<HW_ICLSTEER0R_S11P_BITPOS
                            14237 ; 609  |
                            14238 ; 610  |#define HW_ICLSTEER0R_S0P_CLRMASK ~(WORD)HW_ICLSTEER0R_S0P_SETMASK
                            14239 ; 611  |#define HW_ICLSTEER0R_S1P_CLRMASK ~(WORD)HW_ICLSTEER0R_S1P_SETMASK
                            14240 ; 612  |#define HW_ICLSTEER0R_S2P_CLRMASK ~(WORD)HW_ICLSTEER0R_S2P_SETMASK
                            14241 ; 613  |#define HW_ICLSTEER0R_S3P_CLRMASK ~(WORD)HW_ICLSTEER0R_S3P_SETMASK
                            14242 ; 614  |#define HW_ICLSTEER0R_S4P_CLRMASK ~(WORD)HW_ICLSTEER0R_S4P_SETMASK
                            14243 ; 615  |#define HW_ICLSTEER0R_S5P_CLRMASK ~(WORD)HW_ICLSTEER0R_S5P_SETMASK
                            14244 ; 616  |#define HW_ICLSTEER0R_S6P_CLRMASK ~(WORD)HW_ICLSTEER0R_S6P_SETMASK
                            14245 ; 617  |#define HW_ICLSTEER0R_S7P_CLRMASK ~(WORD)HW_ICLSTEER0R_S7P_SETMASK
                            14246 ; 618  |#define HW_ICLSTEER0R_S8P_CLRMASK ~(WORD)HW_ICLSTEER0R_S8P_SETMASK
                            14247 ; 619  |#define HW_ICLSTEER0R_S9P_CLRMASK ~(WORD)HW_ICLSTEER0R_S9P_SETMASK
                            14248 ; 620  |#define HW_ICLSTEER0R_S10P_CLRMASK ~(WORD)HW_ICLSTEER0R_S10P_SETMASK
                            14249 ; 621  |#define HW_ICLSTEER0R_S11P_CLRMASK ~(WORD)HW_ICLSTEER0R_S11P_SETMASK
                            14250 ; 622  |
                            14251 ; 623  |
                            14252 ; 624  |/////////////////////////////////////////////////////////////////////////////////
                            14253 ; 625  |//  Interrupt Collector Steering 1 Register (HW_ICLSTEER1R) Bit Positions
                            14254 ; 626  |typedef union               /* Interrupt Collector Steering 1 Register      */
                            14255 ; 627  |{
                            14256 ; 628  |    struct {
                            14257 ; 629  |        unsigned S12S   :2;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 233

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14258 ; 630  |        unsigned S13S   :2;
                            14259 ; 631  |        unsigned S14S   :2;
                            14260 ; 632  |        unsigned S15S   :2;
                            14261 ; 633  |        unsigned S16S   :2;
                            14262 ; 634  |        unsigned S17S   :2;
                            14263 ; 635  |        unsigned S18S   :2;
                            14264 ; 636  |        unsigned S19S   :2;
                            14265 ; 637  |        unsigned S20S   :2;
                            14266 ; 638  |        unsigned S21S   :2;
                            14267 ; 639  |        unsigned S22S   :2;
                            14268 ; 640  |        unsigned S23S   :2;
                            14269 ; 641  |    } B;
                            14270 ; 642  |    int I;
                            14271 ; 643  |} iclsteer1_type;
                            14272 ; 644  |#define HW_ICLSTEER1R   (*(volatile iclsteer1_type _X*) (HW_ICOLL_BASEADDR+9)) /* Interrup
                                  t Collector Steering Register 1   */
                            14273 ; 645  |#define HW_ICLSTEER1R_S12P_BITPOS 0
                            14274 ; 646  |#define HW_ICLSTEER1R_S13P_BITPOS 2
                            14275 ; 647  |#define HW_ICLSTEER1R_S14P_BITPOS 4
                            14276 ; 648  |#define HW_ICLSTEER1R_S15P_BITPOS 6
                            14277 ; 649  |#define HW_ICLSTEER1R_S16P_BITPOS 8
                            14278 ; 650  |#define HW_ICLSTEER1R_S17P_BITPOS 10
                            14279 ; 651  |#define HW_ICLSTEER1R_S18P_BITPOS 12
                            14280 ; 652  |#define HW_ICLSTEER1R_S19P_BITPOS 14
                            14281 ; 653  |#define HW_ICLSTEER1R_S20P_BITPOS 16
                            14282 ; 654  |#define HW_ICLSTEER1R_S21P_BITPOS 18
                            14283 ; 655  |#define HW_ICLSTEER1R_S22P_BITPOS 20
                            14284 ; 656  |#define HW_ICLSTEER1R_S23P_BITPOS 22
                            14285 ; 657  |
                            14286 ; 658  |#define HW_ICLSTEER1R_S12P_SETMASK 3<<HW_ICLSTEER1R_S12P_BITPOS
                            14287 ; 659  |#define HW_ICLSTEER1R_S13P_SETMASK 3<<HW_ICLSTEER1R_S13P_BITPOS
                            14288 ; 660  |#define HW_ICLSTEER1R_S14P_SETMASK 3<<HW_ICLSTEER1R_S14P_BITPOS
                            14289 ; 661  |#define HW_ICLSTEER1R_S15P_SETMASK 3<<HW_ICLSTEER1R_S15P_BITPOS
                            14290 ; 662  |#define HW_ICLSTEER1R_S16P_SETMASK 3<<HW_ICLSTEER1R_S16P_BITPOS
                            14291 ; 663  |#define HW_ICLSTEER1R_S17P_SETMASK 3<<HW_ICLSTEER1R_S17P_BITPOS
                            14292 ; 664  |#define HW_ICLSTEER1R_S18P_SETMASK 3<<HW_ICLSTEER1R_S18P_BITPOS
                            14293 ; 665  |#define HW_ICLSTEER1R_S19P_SETMASK 3<<HW_ICLSTEER1R_S19P_BITPOS
                            14294 ; 666  |#define HW_ICLSTEER1R_S20P_SETMASK 3<<HW_ICLSTEER1R_S20P_BITPOS
                            14295 ; 667  |#define HW_ICLSTEER1R_S21P_SETMASK 3<<HW_ICLSTEER1R_S21P_BITPOS
                            14296 ; 668  |#define HW_ICLSTEER1R_S22P_SETMASK 3<<HW_ICLSTEER1R_S22P_BITPOS
                            14297 ; 669  |#define HW_ICLSTEER1R_S23P_SETMASK 3<<HW_ICLSTEER1R_S23P_BITPOS
                            14298 ; 670  |
                            14299 ; 671  |#define HW_ICLSTEER1R_S12P_CLRMASK ~(WORD)HW_ICLSTEER1R_S12P_SETMASK
                            14300 ; 672  |#define HW_ICLSTEER1R_S13P_CLRMASK ~(WORD)HW_ICLSTEER1R_S13P_SETMASK
                            14301 ; 673  |#define HW_ICLSTEER1R_S14P_CLRMASK ~(WORD)HW_ICLSTEER1R_S14P_SETMASK
                            14302 ; 674  |#define HW_ICLSTEER1R_S15P_CLRMASK ~(WORD)HW_ICLSTEER1R_S15P_SETMASK
                            14303 ; 675  |#define HW_ICLSTEER1R_S16P_CLRMASK ~(WORD)HW_ICLSTEER1R_S16P_SETMASK
                            14304 ; 676  |#define HW_ICLSTEER1R_S17P_CLRMASK ~(WORD)HW_ICLSTEER1R_S17P_SETMASK
                            14305 ; 677  |#define HW_ICLSTEER1R_S18P_CLRMASK ~(WORD)HW_ICLSTEER1R_S18P_SETMASK
                            14306 ; 678  |#define HW_ICLSTEER1R_S19P_CLRMASK ~(WORD)HW_ICLSTEER1R_S19P_SETMASK
                            14307 ; 679  |#define HW_ICLSTEER1R_S20P_CLRMASK ~(WORD)HW_ICLSTEER1R_S20P_SETMASK
                            14308 ; 680  |#define HW_ICLSTEER1R_S21P_CLRMASK ~(WORD)HW_ICLSTEER1R_S21P_SETMASK
                            14309 ; 681  |#define HW_ICLSTEER1R_S22P_CLRMASK ~(WORD)HW_ICLSTEER1R_S22P_SETMASK
                            14310 ; 682  |#define HW_ICLSTEER1R_S23P_CLRMASK ~(WORD)HW_ICLSTEER1R_S23P_SETMASK
                            14311 ; 683  |
                            14312 ; 684  |
                            14313 ; 685  |/////////////////////////////////////////////////////////////////////////////////
                            14314 ; 686  |//  Interrupt Collector Steering 2 Register (HW_ICLSTEER2R) Bit Positions
                            14315 ; 687  |typedef union               /* Interrupt Collector Steering 2 Register      */
                            14316 ; 688  |{
                            14317 ; 689  |    struct {
                            14318 ; 690  |        unsigned S24S   :2;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 234

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14319 ; 691  |        unsigned S25S   :2;
                            14320 ; 692  |        unsigned S26S   :2;
                            14321 ; 693  |        unsigned S27S   :2;
                            14322 ; 694  |        unsigned S28S   :2;
                            14323 ; 695  |        unsigned S29S   :2;
                            14324 ; 696  |        unsigned S30S   :2;
                            14325 ; 697  |        unsigned S31S   :2;
                            14326 ; 698  |        unsigned S32S   :2;
                            14327 ; 699  |        unsigned S33S   :2;
                            14328 ; 700  |    } B;
                            14329 ; 701  |    int I;
                            14330 ; 702  |} iclsteer2_type;
                            14331 ; 703  |#define HW_ICLSTEER2R   (*(volatile iclsteer2_type _X*) (HW_ICOLL_BASEADDR+10)) /* Interru
                                  pt Collector Steering Register 2  */
                            14332 ; 704  |
                            14333 ; 705  |#define HW_ICLSTEER2R_S24P_BITPOS 0
                            14334 ; 706  |#define HW_ICLSTEER2R_S25P_BITPOS 2
                            14335 ; 707  |#define HW_ICLSTEER2R_S26P_BITPOS 4
                            14336 ; 708  |#define HW_ICLSTEER2R_S27P_BITPOS 6
                            14337 ; 709  |#define HW_ICLSTEER2R_S28P_BITPOS 8
                            14338 ; 710  |#define HW_ICLSTEER2R_S29P_BITPOS 10
                            14339 ; 711  |#define HW_ICLSTEER2R_S30P_BITPOS 12
                            14340 ; 712  |#define HW_ICLSTEER2R_S31P_BITPOS 14
                            14341 ; 713  |#define HW_ICLSTEER2R_S32P_BITPOS 16
                            14342 ; 714  |#define HW_ICLSTEER2R_S33P_BITPOS 18
                            14343 ; 715  |
                            14344 ; 716  |#define HW_ICLSTEER2R_S24P_SETMASK 3<<HW_ICLSTEER2R_S24P_BITPOS
                            14345 ; 717  |#define HW_ICLSTEER2R_S25P_SETMASK 3<<HW_ICLSTEER2R_S25P_BITPOS
                            14346 ; 718  |#define HW_ICLSTEER2R_S26P_SETMASK 3<<HW_ICLSTEER2R_S26P_BITPOS
                            14347 ; 719  |#define HW_ICLSTEER2R_S27P_SETMASK 3<<HW_ICLSTEER2R_S27P_BITPOS
                            14348 ; 720  |#define HW_ICLSTEER2R_S28P_SETMASK 3<<HW_ICLSTEER2R_S28P_BITPOS
                            14349 ; 721  |#define HW_ICLSTEER2R_S29P_SETMASK 3<<HW_ICLSTEER2R_S29P_BITPOS
                            14350 ; 722  |#define HW_ICLSTEER2R_S30P_SETMASK 3<<HW_ICLSTEER2R_S30P_BITPOS
                            14351 ; 723  |#define HW_ICLSTEER2R_S31P_SETMASK 3<<HW_ICLSTEER2R_S31P_BITPOS
                            14352 ; 724  |#define HW_ICLSTEER2R_S32P_SETMASK 3<<HW_ICLSTEER2R_S32P_BITPOS
                            14353 ; 725  |#define HW_ICLSTEER2R_S33P_SETMASK 3<<HW_ICLSTEER2R_S33P_BITPOS
                            14354 ; 726  |
                            14355 ; 727  |#define HW_ICLSTEER2R_S24P_CLRMASK ~(WORD)HW_ICLSTEER2R_S24P_SETMASK
                            14356 ; 728  |#define HW_ICLSTEER2R_S25P_CLRMASK ~(WORD)HW_ICLSTEER2R_S25P_SETMASK
                            14357 ; 729  |#define HW_ICLSTEER2R_S26P_CLRMASK ~(WORD)HW_ICLSTEER2R_S26P_SETMASK
                            14358 ; 730  |#define HW_ICLSTEER2R_S27P_CLRMASK ~(WORD)HW_ICLSTEER2R_S27P_SETMASK
                            14359 ; 731  |#define HW_ICLSTEER2R_S28P_CLRMASK ~(WORD)HW_ICLSTEER2R_S28P_SETMASK
                            14360 ; 732  |#define HW_ICLSTEER2R_S29P_CLRMASK ~(WORD)HW_ICLSTEER2R_S29P_SETMASK
                            14361 ; 733  |#define HW_ICLSTEER2R_S30P_CLRMASK ~(WORD)HW_ICLSTEER2R_S30P_SETMASK
                            14362 ; 734  |#define HW_ICLSTEER2R_S31P_CLRMASK ~(WORD)HW_ICLSTEER2R_S31P_SETMASK
                            14363 ; 735  |#define HW_ICLSTEER2R_S32P_CLRMASK ~(WORD)HW_ICLSTEER2R_S32P_SETMASK
                            14364 ; 736  |#define HW_ICLSTEER2R_S33P_CLRMASK ~(WORD)HW_ICLSTEER2R_S33P_SETMASK
                            14365 ; 737  |
                            14366 ; 738  |
                            14367 ; 739  |/////////////////////////////////////////////////////////////////////////////////
                            14368 ; 740  |//  Interrupt Collector Debug Force 0 Register (HW_ICLFORCE0R) Bit Positions
                            14369 ; 741  |typedef union               /* Interrupt Collector Debug Force 0 Register       */
                            14370 ; 742  |{
                            14371 ; 743  |    struct {
                            14372 ; 744  |        int S0FV        :1;
                            14373 ; 745  |        int S1FV        :1;
                            14374 ; 746  |        int S2FV        :1;
                            14375 ; 747  |        int S3FV        :1;
                            14376 ; 748  |        int S4FV        :1;
                            14377 ; 749  |        int S5FV        :1;
                            14378 ; 750  |        int S6FV        :1;
                            14379 ; 751  |        int S7FV        :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 235

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14380 ; 752  |        int S8FV        :1;
                            14381 ; 753  |        int S9FV        :1;
                            14382 ; 754  |        int S10FV       :1;
                            14383 ; 755  |        int S11FV       :1;
                            14384 ; 756  |        int S12FV       :1;
                            14385 ; 757  |        int S13FV       :1;
                            14386 ; 758  |        int S14FV       :1;
                            14387 ; 759  |        int S15FV       :1;
                            14388 ; 760  |        int S16FV       :1;
                            14389 ; 761  |        int S17FV       :1;
                            14390 ; 762  |        int S18FV       :1;
                            14391 ; 763  |        int S19FV       :1;
                            14392 ; 764  |        int S20FV       :1;
                            14393 ; 765  |        int S21FV       :1;
                            14394 ; 766  |        int S22FV       :1;
                            14395 ; 767  |        int S23FV       :1;
                            14396 ; 768  |    } B;
                            14397 ; 769  |    int I;
                            14398 ; 770  |} iclforce0_type;
                            14399 ; 771  |#define HW_ICLFORCE0R   (*(volatile iclforce0_type _X*) (HW_ICOLL_BASEADDR+11)) /* Interru
                                  pt Collector Debug Force Register 0   */
                            14400 ; 772  |#define HW_ICLFORCE0R_S0FV_BITPOS 0
                            14401 ; 773  |#define HW_ICLFORCE0R_S1FV_BITPOS 1
                            14402 ; 774  |#define HW_ICLFORCE0R_S2FV_BITPOS 2
                            14403 ; 775  |#define HW_ICLFORCE0R_S3FV_BITPOS 3
                            14404 ; 776  |#define HW_ICLFORCE0R_S4FV_BITPOS 4
                            14405 ; 777  |#define HW_ICLFORCE0R_S5FV_BITPOS 5
                            14406 ; 778  |#define HW_ICLFORCE0R_S6FV_BITPOS 6
                            14407 ; 779  |#define HW_ICLFORCE0R_S7FV_BITPOS 7
                            14408 ; 780  |#define HW_ICLFORCE0R_S8FV_BITPOS 8
                            14409 ; 781  |#define HW_ICLFORCE0R_S9FV_BITPOS 9
                            14410 ; 782  |#define HW_ICLFORCE0R_S10FV_BITPOS 10
                            14411 ; 783  |#define HW_ICLFORCE0R_S11FV_BITPOS 11
                            14412 ; 784  |#define HW_ICLFORCE0R_S12FV_BITPOS 12
                            14413 ; 785  |#define HW_ICLFORCE0R_S13FV_BITPOS 13
                            14414 ; 786  |#define HW_ICLFORCE0R_S14FV_BITPOS 14
                            14415 ; 787  |#define HW_ICLFORCE0R_S15FV_BITPOS 15
                            14416 ; 788  |#define HW_ICLFORCE0R_S16FV_BITPOS 16
                            14417 ; 789  |#define HW_ICLFORCE0R_S17FV_BITPOS 17
                            14418 ; 790  |#define HW_ICLFORCE0R_S18FV_BITPOS 18
                            14419 ; 791  |#define HW_ICLFORCE0R_S19FV_BITPOS 19
                            14420 ; 792  |#define HW_ICLFORCE0R_S20FV_BITPOS 20
                            14421 ; 793  |#define HW_ICLFORCE0R_S21FV_BITPOS 21
                            14422 ; 794  |#define HW_ICLFORCE0R_S22FV_BITPOS 22
                            14423 ; 795  |#define HW_ICLFORCE0R_S23FV_BITPOS 23
                            14424 ; 796  |
                            14425 ; 797  |#define HW_ICLFORCE0R_S0FV_SETMASK 1<<HW_ICLFORCE0R_S0FV_BITPOS
                            14426 ; 798  |#define HW_ICLFORCE0R_S1FV_SETMASK 1<<HW_ICLFORCE0R_S1FV_BITPOS
                            14427 ; 799  |#define HW_ICLFORCE0R_S2FV_SETMASK 1<<HW_ICLFORCE0R_S2FV_BITPOS
                            14428 ; 800  |#define HW_ICLFORCE0R_S3FV_SETMASK 1<<HW_ICLFORCE0R_S3FV_BITPOS
                            14429 ; 801  |#define HW_ICLFORCE0R_S4FV_SETMASK 1<<HW_ICLFORCE0R_S4FV_BITPOS
                            14430 ; 802  |#define HW_ICLFORCE0R_S5FV_SETMASK 1<<HW_ICLFORCE0R_S5FV_BITPOS
                            14431 ; 803  |#define HW_ICLFORCE0R_S6FV_SETMASK 1<<HW_ICLFORCE0R_S6FV_BITPOS
                            14432 ; 804  |#define HW_ICLFORCE0R_S7FV_SETMASK 1<<HW_ICLFORCE0R_S7FV_BITPOS
                            14433 ; 805  |#define HW_ICLFORCE0R_S8FV_SETMASK 1<<HW_ICLFORCE0R_S8FV_BITPOS
                            14434 ; 806  |#define HW_ICLFORCE0R_S9FV_SETMASK 1<<HW_ICLFORCE0R_S9FV_BITPOS
                            14435 ; 807  |#define HW_ICLFORCE0R_S10FV_SETMASK 1<<HW_ICLFORCE0R_S10FV_BITPOS
                            14436 ; 808  |#define HW_ICLFORCE0R_S11FV_SETMASK 1<<HW_ICLFORCE0R_S11FV_BITPOS
                            14437 ; 809  |#define HW_ICLFORCE0R_S12FV_SETMASK 1<<HW_ICLFORCE0R_S12FV_BITPOS
                            14438 ; 810  |#define HW_ICLFORCE0R_S13FV_SETMASK 1<<HW_ICLFORCE0R_S13FV_BITPOS
                            14439 ; 811  |#define HW_ICLFORCE0R_S14FV_SETMASK 1<<HW_ICLFORCE0R_S14FV_BITPOS
                            14440 ; 812  |#define HW_ICLFORCE0R_S15FV_SETMASK 1<<HW_ICLFORCE0R_S15FV_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 236

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14441 ; 813  |#define HW_ICLFORCE0R_S16FV_SETMASK 1<<HW_ICLFORCE0R_S16FV_BITPOS
                            14442 ; 814  |#define HW_ICLFORCE0R_S17FV_SETMASK 1<<HW_ICLFORCE0R_S17FV_BITPOS
                            14443 ; 815  |#define HW_ICLFORCE0R_S18FV_SETMASK 1<<HW_ICLFORCE0R_S18FV_BITPOS
                            14444 ; 816  |#define HW_ICLFORCE0R_S19FV_SETMASK 1<<HW_ICLFORCE0R_S19FV_BITPOS
                            14445 ; 817  |#define HW_ICLFORCE0R_S20FV_SETMASK 1<<HW_ICLFORCE0R_S20FV_BITPOS
                            14446 ; 818  |#define HW_ICLFORCE0R_S21FV_SETMASK 1<<HW_ICLFORCE0R_S21FV_BITPOS
                            14447 ; 819  |#define HW_ICLFORCE0R_S22FV_SETMASK 1<<HW_ICLFORCE0R_S22FV_BITPOS
                            14448 ; 820  |#define HW_ICLFORCE0R_S23FV_SETMASK 1<<HW_ICLFORCE0R_S23FV_BITPOS
                            14449 ; 821  |
                            14450 ; 822  |#define HW_ICLFORCE0R_S0FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S0FV_SETMASK
                            14451 ; 823  |#define HW_ICLFORCE0R_S1FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S1FV_SETMASK
                            14452 ; 824  |#define HW_ICLFORCE0R_S2FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S2FV_SETMASK
                            14453 ; 825  |#define HW_ICLFORCE0R_S3FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S3FV_SETMASK
                            14454 ; 826  |#define HW_ICLFORCE0R_S4FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S4FV_SETMASK
                            14455 ; 827  |#define HW_ICLFORCE0R_S5FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S5FV_SETMASK
                            14456 ; 828  |#define HW_ICLFORCE0R_S6FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S6FV_SETMASK
                            14457 ; 829  |#define HW_ICLFORCE0R_S7FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S7FV_SETMASK
                            14458 ; 830  |#define HW_ICLFORCE0R_S8FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S8FV_SETMASK
                            14459 ; 831  |#define HW_ICLFORCE0R_S9FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S9FV_SETMASK
                            14460 ; 832  |#define HW_ICLFORCE0R_S10FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S10FV_SETMASK
                            14461 ; 833  |#define HW_ICLFORCE0R_S11FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S11FV_SETMASK
                            14462 ; 834  |#define HW_ICLFORCE0R_S12FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S12FV_SETMASK
                            14463 ; 835  |#define HW_ICLFORCE0R_S13FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S13FV_SETMASK
                            14464 ; 836  |#define HW_ICLFORCE0R_S14FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S14FV_SETMASK
                            14465 ; 837  |#define HW_ICLFORCE0R_S15FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S15FV_SETMASK
                            14466 ; 838  |#define HW_ICLFORCE0R_S16FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S16FV_SETMASK
                            14467 ; 839  |#define HW_ICLFORCE0R_S17FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S17FV_SETMASK
                            14468 ; 840  |#define HW_ICLFORCE0R_S18FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S18FV_SETMASK
                            14469 ; 841  |#define HW_ICLFORCE0R_S19FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S19FV_SETMASK
                            14470 ; 842  |#define HW_ICLFORCE0R_S20FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S20FV_SETMASK
                            14471 ; 843  |#define HW_ICLFORCE0R_S21FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S21FV_SETMASK
                            14472 ; 844  |#define HW_ICLFORCE0R_S22FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S22FV_SETMASK
                            14473 ; 845  |#define HW_ICLFORCE0R_S23FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S23FV_SETMASK
                            14474 ; 846  |
                            14475 ; 847  |
                            14476 ; 848  |/////////////////////////////////////////////////////////////////////////////////
                            14477 ; 849  |//  Interrupt Collector Debug Force 1 Register (HW_ICLFORCE1R) Bit Positions
                            14478 ; 850  |typedef union               /* Interrupt Debug Force 1 Register     */
                            14479 ; 851  |{
                            14480 ; 852  |    struct {
                            14481 ; 853  |        int S24FV       :1;
                            14482 ; 854  |        int S25FV       :1;
                            14483 ; 855  |        int S26FV       :1;
                            14484 ; 856  |        int S27FV       :1;
                            14485 ; 857  |        int S28FV       :1;
                            14486 ; 858  |        int S29FV       :1;
                            14487 ; 859  |        int S30FV       :1;
                            14488 ; 860  |        int S31FV       :1;
                            14489 ; 861  |        int S32FV       :1;
                            14490 ; 862  |        int S33FV       :1;
                            14491 ; 863  |    } B;
                            14492 ; 864  |    int I;
                            14493 ; 865  |} iclforce1_type;
                            14494 ; 866  |#define HW_ICLFORCE1R   (*(volatile iclforce1_type _X*) (HW_ICOLL_BASEADDR+12)) /* Interru
                                  pt Collector Debug Force Register 1   */
                            14495 ; 867  |
                            14496 ; 868  |#define HW_ICLFORCE1R_S24FV_BITPOS 0
                            14497 ; 869  |#define HW_ICLFORCE1R_S25FV_BITPOS 1
                            14498 ; 870  |#define HW_ICLFORCE1R_S26FV_BITPOS 2
                            14499 ; 871  |#define HW_ICLFORCE1R_S27FV_BITPOS 3
                            14500 ; 872  |#define HW_ICLFORCE1R_S28FV_BITPOS 4
                            14501 ; 873  |#define HW_ICLFORCE1R_S29FV_BITPOS 5
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 237

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14502 ; 874  |#define HW_ICLFORCE1R_S30FV_BITPOS 6
                            14503 ; 875  |#define HW_ICLFORCE1R_S31FV_BITPOS 7
                            14504 ; 876  |#define HW_ICLFORCE1R_S32FV_BITPOS 8
                            14505 ; 877  |#define HW_ICLFORCE1R_S33FV_BITPOS 9
                            14506 ; 878  |
                            14507 ; 879  |#define HW_ICLFORCE1R_S24FV_SETMASK 1<<HW_ICLFORCE1R_S24FV_BITPOS
                            14508 ; 880  |#define HW_ICLFORCE1R_S25FV_SETMASK 1<<HW_ICLFORCE1R_S25FV_BITPOS
                            14509 ; 881  |#define HW_ICLFORCE1R_S26FV_SETMASK 1<<HW_ICLFORCE1R_S26FV_BITPOS
                            14510 ; 882  |#define HW_ICLFORCE1R_S27FV_SETMASK 1<<HW_ICLFORCE1R_S27FV_BITPOS
                            14511 ; 883  |#define HW_ICLFORCE1R_S28FV_SETMASK 1<<HW_ICLFORCE1R_S28FV_BITPOS
                            14512 ; 884  |#define HW_ICLFORCE1R_S29FV_SETMASK 1<<HW_ICLFORCE1R_S29FV_BITPOS
                            14513 ; 885  |#define HW_ICLFORCE1R_S30FV_SETMASK 1<<HW_ICLFORCE1R_S30FV_BITPOS
                            14514 ; 886  |#define HW_ICLFORCE1R_S31FV_SETMASK 1<<HW_ICLFORCE1R_S31FV_BITPOS
                            14515 ; 887  |#define HW_ICLFORCE1R_S32FV_SETMASK 1<<HW_ICLFORCE1R_S32FV_BITPOS
                            14516 ; 888  |#define HW_ICLFORCE1R_S33FV_SETMASK 1<<HW_ICLFORCE1R_S33FV_BITPOS
                            14517 ; 889  |
                            14518 ; 890  |#define HW_ICLFORCE1R_S24FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S24FV_SETMASK
                            14519 ; 891  |#define HW_ICLFORCE1R_S25FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S25FV_SETMASK
                            14520 ; 892  |#define HW_ICLFORCE1R_S26FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S26FV_SETMASK
                            14521 ; 893  |#define HW_ICLFORCE1R_S27FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S27FV_SETMASK
                            14522 ; 894  |#define HW_ICLFORCE1R_S28FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S28FV_SETMASK
                            14523 ; 895  |#define HW_ICLFORCE1R_S29FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S29FV_SETMASK
                            14524 ; 896  |#define HW_ICLFORCE1R_S30FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S30FV_SETMASK
                            14525 ; 897  |#define HW_ICLFORCE1R_S31FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S31FV_SETMASK
                            14526 ; 898  |#define HW_ICLFORCE1R_S32FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S32FV_SETMASK
                            14527 ; 899  |#define HW_ICLFORCE1R_S33FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S33FV_SETMASK
                            14528 ; 900  |
                            14529 ; 901  |
                            14530 ; 902  |/////////////////////////////////////////////////////////////////////////////////
                            14531 ; 903  |//  Interrupt Collector Force Enable 0 Register (HW_ICLFENABLE0R) Bit Positions
                            14532 ; 904  |typedef union               /* Interrupt Collector Force Enable 0 Register      */
                            14533 ; 905  |{
                            14534 ; 906  |    struct {
                            14535 ; 907  |        int S0FE        :1;
                            14536 ; 908  |        int S1FE        :1;
                            14537 ; 909  |        int S2FE        :1;
                            14538 ; 910  |        int S3FE        :1;
                            14539 ; 911  |        int S4FE        :1;
                            14540 ; 912  |        int S5FE        :1;
                            14541 ; 913  |        int S6FE        :1;
                            14542 ; 914  |        int S7FE        :1;
                            14543 ; 915  |        int S8FE        :1;
                            14544 ; 916  |        int S9FE        :1;
                            14545 ; 917  |        int S10FE       :1;
                            14546 ; 918  |        int S11FE       :1;
                            14547 ; 919  |        int S12FE       :1;
                            14548 ; 920  |        int S13FE       :1;
                            14549 ; 921  |        int S14FE       :1;
                            14550 ; 922  |        int S15FE       :1;
                            14551 ; 923  |        int S16FE       :1;
                            14552 ; 924  |        int S17FE       :1;
                            14553 ; 925  |        int S18FE       :1;
                            14554 ; 926  |        int S19FE       :1;
                            14555 ; 927  |        int S20FE       :1;
                            14556 ; 928  |        int S21FE       :1;
                            14557 ; 929  |        int S22FE       :1;
                            14558 ; 930  |        int S23FE       :1;
                            14559 ; 931  |    } B;
                            14560 ; 932  |    int I;
                            14561 ; 933  |} iclfenable0_type;
                            14562 ; 934  |#define HW_ICLFENABLE0R (*(volatile iclfenable0_type _X*) (HW_ICOLL_BASEADDR+13)) /* Inter
                                  rupt Collector Force Enable Register 0    */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 238

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14563 ; 935  |
                            14564 ; 936  |#define HW_ICLFENABLE0R_S0FE_BITPOS 0
                            14565 ; 937  |#define HW_ICLFENABLE0R_S1FE_BITPOS 1
                            14566 ; 938  |#define HW_ICLFENABLE0R_S2FE_BITPOS 2
                            14567 ; 939  |#define HW_ICLFENABLE0R_S3FE_BITPOS 3
                            14568 ; 940  |#define HW_ICLFENABLE0R_S4FE_BITPOS 4
                            14569 ; 941  |#define HW_ICLFENABLE0R_S5FE_BITPOS 5
                            14570 ; 942  |#define HW_ICLFENABLE0R_S6FE_BITPOS 6
                            14571 ; 943  |#define HW_ICLFENABLE0R_S7FE_BITPOS 7
                            14572 ; 944  |#define HW_ICLFENABLE0R_S8FE_BITPOS 8
                            14573 ; 945  |#define HW_ICLFENABLE0R_S9FE_BITPOS 9
                            14574 ; 946  |#define HW_ICLFENABLE0R_S10FE_BITPOS 10
                            14575 ; 947  |#define HW_ICLFENABLE0R_S11FE_BITPOS 11
                            14576 ; 948  |#define HW_ICLFENABLE0R_S12FE_BITPOS 12
                            14577 ; 949  |#define HW_ICLFENABLE0R_S13FE_BITPOS 13
                            14578 ; 950  |#define HW_ICLFENABLE0R_S14FE_BITPOS 14
                            14579 ; 951  |#define HW_ICLFENABLE0R_S15FE_BITPOS 15
                            14580 ; 952  |#define HW_ICLFENABLE0R_S16FE_BITPOS 16
                            14581 ; 953  |#define HW_ICLFENABLE0R_S17FE_BITPOS 17
                            14582 ; 954  |#define HW_ICLFENABLE0R_S18FE_BITPOS 18
                            14583 ; 955  |#define HW_ICLFENABLE0R_S19FE_BITPOS 19
                            14584 ; 956  |#define HW_ICLFENABLE0R_S20FE_BITPOS 20
                            14585 ; 957  |#define HW_ICLFENABLE0R_S21FE_BITPOS 21
                            14586 ; 958  |#define HW_ICLFENABLE0R_S22FE_BITPOS 22
                            14587 ; 959  |#define HW_ICLFENABLE0R_S23FE_BITPOS 23
                            14588 ; 960  |
                            14589 ; 961  |#define HW_ICLFENABLE0R_S0FE_SETMASK 1<<HW_ICLFENABLE0R_S0FE_BITPOS
                            14590 ; 962  |#define HW_ICLFENABLE0R_S1FE_SETMASK 1<<HW_ICLFENABLE0R_S1FE_BITPOS
                            14591 ; 963  |#define HW_ICLFENABLE0R_S2FE_SETMASK 1<<HW_ICLFENABLE0R_S2FE_BITPOS
                            14592 ; 964  |#define HW_ICLFENABLE0R_S3FE_SETMASK 1<<HW_ICLFENABLE0R_S3FE_BITPOS
                            14593 ; 965  |#define HW_ICLFENABLE0R_S4FE_SETMASK 1<<HW_ICLFENABLE0R_S4FE_BITPOS
                            14594 ; 966  |#define HW_ICLFENABLE0R_S5FE_SETMASK 1<<HW_ICLFENABLE0R_S5FE_BITPOS
                            14595 ; 967  |#define HW_ICLFENABLE0R_S6FE_SETMASK 1<<HW_ICLFENABLE0R_S6FE_BITPOS
                            14596 ; 968  |#define HW_ICLFENABLE0R_S7FE_SETMASK 1<<HW_ICLFENABLE0R_S7FE_BITPOS
                            14597 ; 969  |#define HW_ICLFENABLE0R_S8FE_SETMASK 1<<HW_ICLFENABLE0R_S8FE_BITPOS
                            14598 ; 970  |#define HW_ICLFENABLE0R_S9FE_SETMASK 1<<HW_ICLFENABLE0R_S9FE_BITPOS
                            14599 ; 971  |#define HW_ICLFENABLE0R_S10FE_SETMASK 1<<HW_ICLFENABLE0R_S10FE_BITPOS
                            14600 ; 972  |#define HW_ICLFENABLE0R_S11FE_SETMASK 1<<HW_ICLFENABLE0R_S11FE_BITPOS
                            14601 ; 973  |#define HW_ICLFENABLE0R_S12FE_SETMASK 1<<HW_ICLFENABLE0R_S12FE_BITPOS
                            14602 ; 974  |#define HW_ICLFENABLE0R_S13FE_SETMASK 1<<HW_ICLFENABLE0R_S13FE_BITPOS
                            14603 ; 975  |#define HW_ICLFENABLE0R_S14FE_SETMASK 1<<HW_ICLFENABLE0R_S14FE_BITPOS
                            14604 ; 976  |#define HW_ICLFENABLE0R_S15FE_SETMASK 1<<HW_ICLFENABLE0R_S15FE_BITPOS
                            14605 ; 977  |#define HW_ICLFENABLE0R_S16FE_SETMASK 1<<HW_ICLFENABLE0R_S16FE_BITPOS
                            14606 ; 978  |#define HW_ICLFENABLE0R_S17FE_SETMASK 1<<HW_ICLFENABLE0R_S17FE_BITPOS
                            14607 ; 979  |#define HW_ICLFENABLE0R_S18FE_SETMASK 1<<HW_ICLFENABLE0R_S18FE_BITPOS
                            14608 ; 980  |#define HW_ICLFENABLE0R_S19FE_SETMASK 1<<HW_ICLFENABLE0R_S19FE_BITPOS
                            14609 ; 981  |#define HW_ICLFENABLE0R_S20FE_SETMASK 1<<HW_ICLFENABLE0R_S20FE_BITPOS
                            14610 ; 982  |#define HW_ICLFENABLE0R_S21FE_SETMASK 1<<HW_ICLFENABLE0R_S21FE_BITPOS
                            14611 ; 983  |#define HW_ICLFENABLE0R_S22FE_SETMASK 1<<HW_ICLFENABLE0R_S22FE_BITPOS
                            14612 ; 984  |#define HW_ICLFENABLE0R_S23FE_SETMASK 1<<HW_ICLFENABLE0R_S23FE_BITPOS
                            14613 ; 985  |
                            14614 ; 986  |#define HW_ICLFENABLE0R_S0FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S0FE_SETMASK
                            14615 ; 987  |#define HW_ICLFENABLE0R_S1FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S1FE_SETMASK
                            14616 ; 988  |#define HW_ICLFENABLE0R_S2FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S2FE_SETMASK
                            14617 ; 989  |#define HW_ICLFENABLE0R_S3FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S3FE_SETMASK
                            14618 ; 990  |#define HW_ICLFENABLE0R_S4FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S4FE_SETMASK
                            14619 ; 991  |#define HW_ICLFENABLE0R_S5FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S5FE_SETMASK
                            14620 ; 992  |#define HW_ICLFENABLE0R_S6FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S6FE_SETMASK
                            14621 ; 993  |#define HW_ICLFENABLE0R_S7FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S7FE_SETMASK
                            14622 ; 994  |#define HW_ICLFENABLE0R_S8FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S8FE_SETMASK
                            14623 ; 995  |#define HW_ICLFENABLE0R_S9FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S9FE_SETMASK
                            14624 ; 996  |#define HW_ICLFENABLE0R_S10FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S10FE_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 239

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14625 ; 997  |#define HW_ICLFENABLE0R_S11FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S11FE_SETMASK
                            14626 ; 998  |#define HW_ICLFENABLE0R_S12FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S12FE_SETMASK
                            14627 ; 999  |#define HW_ICLFENABLE0R_S13FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S13FE_SETMASK
                            14628 ; 1000 |#define HW_ICLFENABLE0R_S14FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S14FE_SETMASK
                            14629 ; 1001 |#define HW_ICLFENABLE0R_S15FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S15FE_SETMASK
                            14630 ; 1002 |#define HW_ICLFENABLE0R_S16FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S16FE_SETMASK
                            14631 ; 1003 |#define HW_ICLFENABLE0R_S17FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S17FE_SETMASK
                            14632 ; 1004 |#define HW_ICLFENABLE0R_S18FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S18FE_SETMASK
                            14633 ; 1005 |#define HW_ICLFENABLE0R_S19FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S19FE_SETMASK
                            14634 ; 1006 |#define HW_ICLFENABLE0R_S20FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S20FE_SETMASK
                            14635 ; 1007 |#define HW_ICLFENABLE0R_S21FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S21FE_SETMASK
                            14636 ; 1008 |#define HW_ICLFENABLE0R_S22FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S22FE_SETMASK
                            14637 ; 1009 |#define HW_ICLFENABLE0R_S23FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S23FE_SETMASK
                            14638 ; 1010 |
                            14639 ; 1011 |
                            14640 ; 1012 |/////////////////////////////////////////////////////////////////////////////////
                            14641 ; 1013 |//  Interrupt Collector Force Enable 1 Register (HW_ICLFENABLE1R) Bit Positions
                            14642 ; 1014 |typedef union               /* Interrupt Collector Force Enable 1 Register      */
                            14643 ; 1015 |{
                            14644 ; 1016 |    struct {
                            14645 ; 1017 |        int S24FE       :1;
                            14646 ; 1018 |        int S25FE       :1;
                            14647 ; 1019 |        int S26FE       :1;
                            14648 ; 1020 |        int S27FE       :1;
                            14649 ; 1021 |        int S28FE       :1;
                            14650 ; 1022 |        int S29FE       :1;
                            14651 ; 1023 |        int S30FE       :1;
                            14652 ; 1024 |        int S31FE       :1;
                            14653 ; 1025 |        int S32FE       :1;
                            14654 ; 1026 |        int S33FE       :1;
                            14655 ; 1027 |    } B;
                            14656 ; 1028 |    int I;
                            14657 ; 1029 |} iclfenable1_type;
                            14658 ; 1030 |#define HW_ICLFENABLE1R (*(volatile iclfenable1_type _X*) (HW_ICOLL_BASEADDR+14)) /* Inter
                                  rupt Collector Force Enable Register 1    */
                            14659 ; 1031 |#define HW_ICLFENABLE1R_S24FE_BITPOS 0
                            14660 ; 1032 |#define HW_ICLFENABLE1R_S25FE_BITPOS 1
                            14661 ; 1033 |#define HW_ICLFENABLE1R_S26FE_BITPOS 2
                            14662 ; 1034 |#define HW_ICLFENABLE1R_S27FE_BITPOS 3
                            14663 ; 1035 |#define HW_ICLFENABLE1R_S28FE_BITPOS 4
                            14664 ; 1036 |#define HW_ICLFENABLE1R_S29FE_BITPOS 5
                            14665 ; 1037 |#define HW_ICLFENABLE1R_S30FE_BITPOS 6
                            14666 ; 1038 |#define HW_ICLFENABLE1R_S31FE_BITPOS 7
                            14667 ; 1039 |#define HW_ICLFENABLE1R_S32FE_BITPOS 8
                            14668 ; 1040 |#define HW_ICLFENABLE1R_S33FE_BITPOS 9
                            14669 ; 1041 |
                            14670 ; 1042 |#define HW_ICLFENABLE1R_S24FE_SETMASK 1<<HW_ICLFENABLE1R_S24FE_BITPOS
                            14671 ; 1043 |#define HW_ICLFENABLE1R_S25FE_SETMASK 1<<HW_ICLFENABLE1R_S25FE_BITPOS
                            14672 ; 1044 |#define HW_ICLFENABLE1R_S26FE_SETMASK 1<<HW_ICLFENABLE1R_S26FE_BITPOS
                            14673 ; 1045 |#define HW_ICLFENABLE1R_S27FE_SETMASK 1<<HW_ICLFENABLE1R_S27FE_BITPOS
                            14674 ; 1046 |#define HW_ICLFENABLE1R_S28FE_SETMASK 1<<HW_ICLFENABLE1R_S28FE_BITPOS
                            14675 ; 1047 |#define HW_ICLFENABLE1R_S29FE_SETMASK 1<<HW_ICLFENABLE1R_S29FE_BITPOS
                            14676 ; 1048 |#define HW_ICLFENABLE1R_S30FE_SETMASK 1<<HW_ICLFENABLE1R_S30FE_BITPOS
                            14677 ; 1049 |#define HW_ICLFENABLE1R_S31FE_SETMASK 1<<HW_ICLFENABLE1R_S31FE_BITPOS
                            14678 ; 1050 |#define HW_ICLFENABLE1R_S32FE_SETMASK 1<<HW_ICLFENABLE1R_S32FE_BITPOS
                            14679 ; 1051 |#define HW_ICLFENABLE1R_S33FE_SETMASK 1<<HW_ICLFENABLE1R_S33FE_BITPOS
                            14680 ; 1052 |
                            14681 ; 1053 |#define HW_ICLFENABLE1R_S24FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S24FE_SETMASK
                            14682 ; 1054 |#define HW_ICLFENABLE1R_S25FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S25FE_SETMASK
                            14683 ; 1055 |#define HW_ICLFENABLE1R_S26FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S26FE_SETMASK
                            14684 ; 1056 |#define HW_ICLFENABLE1R_S27FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S27FE_SETMASK
                            14685 ; 1057 |#define HW_ICLFENABLE1R_S28FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S28FE_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 240

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14686 ; 1058 |#define HW_ICLFENABLE1R_S29FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S29FE_SETMASK
                            14687 ; 1059 |#define HW_ICLFENABLE1R_S30FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S30FE_SETMASK
                            14688 ; 1060 |#define HW_ICLFENABLE1R_S31FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S31FE_SETMASK
                            14689 ; 1061 |#define HW_ICLFENABLE1R_S32FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S32FE_SETMASK
                            14690 ; 1062 |#define HW_ICLFENABLE1R_S33FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S33FE_SETMASK
                            14691 ; 1063 |
                            14692 ; 1064 |
                            14693 ; 1065 |/////////////////////////////////////////////////////////////////////////////////
                            14694 ; 1066 |//  Interrupt Collector Observation Register 0 Register (HW_ICLOBSVZ0R) Bit Positions
                            14695 ; 1067 |typedef union               /* Interrupt Collector Observation Register 0       */
                            14696 ; 1068 |{
                            14697 ; 1069 |    struct {
                            14698 ; 1070 |        unsigned RQ     :7;
                            14699 ; 1071 |        unsigned IVA    :7;
                            14700 ; 1072 |        unsigned IVB    :7;
                            14701 ; 1073 |    } B;
                            14702 ; 1074 |    int I;
                            14703 ; 1075 |} iclobsvz0_type;
                            14704 ; 1076 |#define HW_ICLOBSVZ0R   (*(volatile iclobsvz0_type _X*) (HW_ICOLL_BASEADDR+15)) /* Interru
                                  pt Collector Observation Register 0   */
                            14705 ; 1077 |
                            14706 ; 1078 |#define HW_ICLOBSVZ0R_RQ_BITPOS 0
                            14707 ; 1079 |#define HW_ICLOBSVZ0R_IVA_BITPOS 7
                            14708 ; 1080 |#define HW_ICLOBSVZ0R_IVB_BITPOS 14
                            14709 ; 1081 |
                            14710 ; 1082 |#define HW_ICLOBSVZ0R_RQ_SETMASK 0x3F<<HW_ICLOBSVZ0R_RQ_BITPOS
                            14711 ; 1083 |#define HW_ICLOBSVZ0R_IVA_SETMASK 0x3F<<HW_ICLOBSVZ0R_IVA_BITPOS
                            14712 ; 1084 |#define HW_ICLOBSVZ0R_IVB_SETMASK 0x3F<<HW_ICLOBSVZ0R_IVB_BITPOS
                            14713 ; 1085 |
                            14714 ; 1086 |#define HW_ICLOBSVZ0R_RQ_CLRMASK ~(WORD)HW_ICLOBSVZ0R_RQ_SETMASK
                            14715 ; 1087 |#define HW_ICLOBSVZ0R_IVA_CLRMASK ~(WORD)HW_ICLOBSVZ0R_IVA_SETMASK
                            14716 ; 1088 |#define HW_ICLOBSVZ0R_IVB_CLRMASK ~(WORD)HW_ICLOBSVZ0R_IVB_SETMASK
                            14717 ; 1089 |
                            14718 ; 1090 |
                            14719 ; 1091 |/////////////////////////////////////////////////////////////////////////////////
                            14720 ; 1092 |//  Interrupt Collector Observation Register 1 Register (HW_ICL1BSVZ0R) Bit Positions
                            14721 ; 1093 |#define HW_ICL1BSVZ0R_IVC_BITPOS 0
                            14722 ; 1094 |#define HW_ICL1BSVZ0R_IVD_BITPOS 7
                            14723 ; 1095 |
                            14724 ; 1096 |#define HW_ICL1BSVZ0R_IVC_SETMASK 0x3F<<HW_ICL1BSVZ0R_IVC_BITPOS
                            14725 ; 1097 |#define HW_ICL1BSVZ0R_IVD_SETMASK 0x3F<<HW_ICL1BSVZ0R_IVD_BITPOS
                            14726 ; 1098 |
                            14727 ; 1099 |#define HW_ICL1BSVZ0R_IVC_CLRMASK ~(WORD)HW_ICL1BSVZ0R_IVC_SETMASK
                            14728 ; 1100 |#define HW_ICL1BSVZ0R_IVD_CLRMASK ~(WORD)HW_ICL1BSVZ0R_IVD_SETMASK
                            14729 ; 1101 |
                            14730 ; 1102 |
                            14731 ; 1103 |
                            14732 ; 1104 |
                            14733 ; 1105 |/////////////////////////////////////////////////////////////////////////////////
                            14734 ; 1106 |//  Interrupt Vectors
                            14735 ; 1107 |/////////////////////////////////////////////////////////////////////////////////
                            14736 ; 1108 |// Reset Vector
                            14737 ; 1109 |#define HW_IVECRESET 0x0000           
                            14738 ; 1110 |// Stack Error
                            14739 ; 1111 |#define HW_IVECSTERR 0x0002           
                            14740 ; 1112 |// Trace
                            14741 ; 1113 |#define HW_IVECTRAC 0x0004           
                            14742 ; 1114 |// SWI
                            14743 ; 1115 |#define HW_IVECSWI 0x0006           
                            14744 ; 1116 |// ~IRQA
                            14745 ; 1117 |#define HW_IVECIRQA 0x0008           
                            14746 ; 1118 |// ~IRQB - BROWNOUT
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 241

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14747 ; 1119 |#define HW_IVECIRQB 0x000A           
                            14748 ; 1120 |// Fatal Error
                            14749 ; 1121 |#define HW_IVECERROR 0x000C           
                            14750 ; 1122 |// SPI
                            14751 ; 1123 |#define HW_IVECSPI 0x000E           
                            14752 ; 1124 |// I2S TX Data Empty
                            14753 ; 1125 |#define HW_IVECI2STXDE 0x0010           
                            14754 ; 1126 |// I2S TX Underflow
                            14755 ; 1127 |#define HW_IVECI2STXUF 0x0012           
                            14756 ; 1128 |// I2S RX Data Full
                            14757 ; 1129 |#define HW_IVECI2SRXDF 0x0014           
                            14758 ; 1130 |// I2S RX Overflow
                            14759 ; 1131 |#define HW_IVECI2SRXOF 0x0016           
                            14760 ; 1132 |//                                       equ     $0018           ; Error, nothing vectors 
                                  here
                            14761 ; 1133 |//                                       equ     $001A           ; Error, nothing vectors 
                                  here
                            14762 ; 1134 |//                                       equ     $001C           ; Error, nothing vectors 
                                  here
                            14763 ; 1135 |//                                       equ     $001E           ; Non-Maskable Interrupt
                            14764 ; 1136 |// GPIO1
                            14765 ; 1137 |#define HW_IVECGPIO1 0x0020           
                            14766 ; 1138 |// GPIO2
                            14767 ; 1139 |#define HW_IVECGPIO2 0x0022           
                            14768 ; 1140 |// GPIO0
                            14769 ; 1141 |#define HW_IVECGPIO0 0x0024           
                            14770 ; 1142 |// TIMER0
                            14771 ; 1143 |#define HW_IVECTIMER0 0x0026           
                            14772 ; 1144 |// TIMER1
                            14773 ; 1145 |#define HW_IVECTIMER1 0x0028           
                            14774 ; 1146 |// TIMER2
                            14775 ; 1147 |#define HW_IVECTIMER2 0x002A           
                            14776 ; 1148 |//                                       equ     $002C           ; Error, nothing vectors 
                                  here
                            14777 ; 1149 |//                                       equ     $002E           ; Error, nothing vectors 
                                  here
                            14778 ; 1150 |// I2C RX Data Ready
                            14779 ; 1151 |#define HW_IVECI2CRXDR 0x0030           
                            14780 ; 1152 |// I2C RX Overflow
                            14781 ; 1153 |#define HW_IVECI2CRXOF 0x0032           
                            14782 ; 1154 |// I2C TX Data Empty
                            14783 ; 1155 |#define HW_IVECI2CTXDE 0x0034           
                            14784 ; 1156 |// I2C TX Underflow
                            14785 ; 1157 |#define HW_IVECI2CTXUF 0x0036           
                            14786 ; 1158 |// Illegal Instruction
                            14787 ; 1159 |#define HW_IVECILI 0x0038           
                            14788 ; 1160 |//                                       equ     $003A           ; Error, nothing vectors 
                                  here
                            14789 ; 1161 |// DAC Empty ISR (DAC Request to Fill Buffer)
                            14790 ; 1162 |#define HW_IVECDACE 0x003C           
                            14791 ; 1163 |// DAC Underflow ISR
                            14792 ; 1164 |#define HW_IVECDACUF 0x003E           
                            14793 ; 1165 |//                                       equ     $0040           ; Error, nothing vectors 
                                  here
                            14794 ; 1166 |// ADC Full ISR
                            14795 ; 1167 |#define HW_IVECADCF 0x0042           
                            14796 ; 1168 |// ADC Overflow ISR
                            14797 ; 1169 |#define HW_IVECADCOF 0x0044           
                            14798 ; 1170 |//                                       equ     $0046           ; Error, nothing vectors 
                                  here
                            14799 ; 1171 |// TIMER3
                            14800 ; 1172 |#define HW_IVECTIMER3 0x0048           
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 242

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14801 ; 1173 |// GPIO3
                            14802 ; 1174 |#define HW_IVECGPIO3 0x004A           
                            14803 ; 1175 |// SDRAM
                            14804 ; 1176 |#define HW_IVECSDRAM 0x004C           
                            14805 ; 1177 |//                                       equ     $004E           ; Error, nothing vectors 
                                  here
                            14806 ; 1178 |// 5 volt power connected
                            14807 ; 1179 |#define HW_IVECVDD5VCONN 0x0050           
                            14808 ; 1180 |// USB Controller
                            14809 ; 1181 |#define HW_IVECUSBCTLR 0x0052           
                            14810 ; 1182 |// USB Wakeup 
                            14811 ; 1183 |#define HW_IVECUSBWAKEUP 0x0054           
                            14812 ; 1184 |// 5 volt power disconnected
                            14813 ; 1185 |#define HW_IVECVDD5VDISC 0x0056           
                            14814 ; 1186 |// enhanced SPI
                            14815 ; 1187 |#define HW_IVECESPI 0x0058           
                            14816 ; 1188 |// filter coprocessor
                            14817 ; 1189 |#define HW_IVECFILCO 0x005A           
                            14818 ; 1190 |// low res ADC #1
                            14819 ; 1191 |#define HW_IVECLRADC1 0x005C           
                            14820 ; 1192 |// real time clock alarm
                            14821 ; 1193 |#define HW_IVECRTCALARM 0x005E           
                            14822 ; 1194 |// low res ADC #2
                            14823 ; 1195 |#define HW_IVECLRADC2 0x0060           
                            14824 ; 1196 |// flash hardware ECC
                            14825 ; 1197 |#define HW_IVECHWECC 0x0062           
                            14826 ; 1198 |//                                       equ     $0064           ; Error, nothing vectors 
                                  here
                            14827 ; 1199 |// CDSYNC Interrupt
                            14828 ; 1200 |#define HW_IVECCDSYNC 0x0066           
                            14829 ; 1201 |// CDSYNC Exception
                            14830 ; 1202 |#define HW_IVECCDSYNCEX 0x0068           
                            14831 ; 1203 |// RS
                            14832 ; 1204 |#define HW_IVECRS 0x006A           
                            14833 ; 1205 |//                                       equ     $006C           ; Error, nothing vectors 
                                  here
                            14834 ; 1206 |// Flash Done ISR
                            14835 ; 1207 |#define HW_IVECFD 0x006E           
                            14836 ; 1208 |// CompactFlash ISR
                            14837 ; 1209 |#define HW_IVECCF 0x0070           
                            14838 ; 1210 |// SmartMedia Timeout ISR
                            14839 ; 1211 |#define HW_IVECSMTO 0x0072           
                            14840 ; 1212 |// SmartMedia Invalid Programming
                            14841 ; 1213 |#define HW_IVECSMIP 0x0074           
                            14842 ; 1214 |// CompactFlash No Card ISR
                            14843 ; 1215 |#define HW_IVECCFNC 0x0076           
                            14844 ; 1216 |// CompactFlash Status Change ISR
                            14845 ; 1217 |#define HW_IVECCFSC 0x0078           
                            14846 ; 1218 |//                                       equ     $007A           ; Error, nothing vectors 
                                  here
                            14847 ; 1219 |//                                       equ     $007C           ; Error, nothing vectors 
                                  here
                            14848 ; 1220 |// CDI
                            14849 ; 1221 |#define HW_IVECCDI 0x007E           
                            14850 ; 1222 |
                            14851 ; 1223 |/////////////////////////////////////////////////////////////////////////////////
                            14852 ; 1224 |//  Interrupt Vectors
                            14853 ; 1225 |/////////////////////////////////////////////////////////////////////////////////
                            14854 ; 1226 |// macro to allow setting vectors from C. Hex const below is jsr opcode.
                            14855 ; 1227 |#define VECTOR(address,isr) \ 
                            14856 ; 1228 |    (*(volatile int _P *)(address))=0x0BF080; \ 
                            14857 ; 1229 |    (*(volatile int _P *)(address+1))=(isr)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 243

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14858 ; 1230 |
                            14859 ; 1231 |
                            14860 ; 1232 |/////////////////////////////////////////////////////////////////////////////////
                            14861 ; 1233 |//  Interrupt Priority Register (HW_IPR) Bit Positions
                            14862 ; 1234 |#define HW_IPR_IRQA_BITPOS 0
                            14863 ; 1235 |#define HW_IPR_IRQA_ET_BITPOS 2
                            14864 ; 1236 |#define HW_IPR_IRQB_BITPOS 3
                            14865 ; 1237 |#define HW_IPR_IRQB_ET_BITPOS 5
                            14866 ; 1238 |#define HW_IPR_L0P_BITPOS 10
                            14867 ; 1239 |#define HW_IPR_L1P_BITPOS 12
                            14868 ; 1240 |#define HW_IPR_L2P_BITPOS 14
                            14869 ; 1241 |#define HW_IPR_L3P_BITPOS 16
                            14870 ; 1242 |#define HW_IPR_L4P_BITPOS 18
                            14871 ; 1243 |#define HW_IPR_L5P_BITPOS 20
                            14872 ; 1244 |#define HW_IPR_L6P_BITPOS 22
                            14873 ; 1245 |
                            14874 ; 1246 |// Interrupt Disabled
                            14875 ; 1247 |#define HW_IPR_LP_0_SETMASK 0   
                            14876 ; 1248 |// Interrupt Priority Level 0
                            14877 ; 1249 |#define HW_IPR_LP_1_SETMASK 1   
                            14878 ; 1250 |// Interrupt Priority Level 1
                            14879 ; 1251 |#define HW_IPR_LP_2_SETMASK 2   
                            14880 ; 1252 |// Interrupt Priority Level 2
                            14881 ; 1253 |#define HW_IPR_LP_3_SETMASK 3   
                            14882 ; 1254 |
                            14883 ; 1255 |#define HW_IPR_IRQA_SETMASK 3<<HW_IPR_IRQA_BITPOS
                            14884 ; 1256 |#define HW_IPR_IRQA_ET_SETMASK 1<<HW_IPR_IRQA_ET_BITPOS
                            14885 ; 1257 |#define HW_IPR_IRQB_SETMASK 3<<HW_IPR_IRQB_BITPOS
                            14886 ; 1258 |#define HW_IPR_IRQB_ET_SETMASK 1<<HW_IPR_IRQB_ET_BITPOS
                            14887 ; 1259 |#define HW_IPR_L0P_SETMASK 3<<HW_IPR_L0P_BITPOS
                            14888 ; 1260 |#define HW_IPR_L1P_SETMASK 3<<HW_IPR_L1P_BITPOS
                            14889 ; 1261 |#define HW_IPR_L2P_SETMASK 3<<HW_IPR_L2P_BITPOS
                            14890 ; 1262 |#define HW_IPR_L3P_SETMASK 3<<HW_IPR_L3P_BITPOS
                            14891 ; 1263 |#define HW_IPR_L4P_SETMASK 3<<HW_IPR_L4P_BITPOS
                            14892 ; 1264 |#define HW_IPR_L5P_SETMASK 3<<HW_IPR_L5P_BITPOS
                            14893 ; 1265 |#define HW_IPR_L6P_SETMASK 3<<HW_IPR_L6P_BITPOS
                            14894 ; 1266 |
                            14895 ; 1267 |#define HW_IPR_IRQA_CLRMASK ~(WORD)HW_IPR_IRQA_SETMASK
                            14896 ; 1268 |#define HW_IPR_IRQA_ET_CLRMASK ~(WORD)HW_IPR_IRQA_ET_SETMASK
                            14897 ; 1269 |#define HW_IPR_IRQB_CLRMASK ~(WORD)HW_IPR_IRQB_SETMASK
                            14898 ; 1270 |#define HW_IPR_IRQB_ET_CLRMASK ~(WORD)HW_IPR_IRQB_ET_SETMASK
                            14899 ; 1271 |#define HW_IPR_L0P_CLRMASK ~(WORD)HW_IPR_L0P_SETMASK
                            14900 ; 1272 |#define HW_IPR_L1P_CLRMASK ~(WORD)HW_IPR_L1P_SETMASK
                            14901 ; 1273 |#define HW_IPR_L2P_CLRMASK ~(WORD)HW_IPR_L2P_SETMASK
                            14902 ; 1274 |#define HW_IPR_L3P_CLRMASK ~(WORD)HW_IPR_L3P_SETMASK
                            14903 ; 1275 |#define HW_IPR_L4P_CLRMASK ~(WORD)HW_IPR_L4P_SETMASK
                            14904 ; 1276 |#define HW_IPR_L5P_CLRMASK ~(WORD)HW_IPR_L5P_SETMASK
                            14905 ; 1277 |#define HW_IPR_L6P_CLRMASK ~(WORD)HW_IPR_L6P_SETMASK
                            14906 ; 1278 |
                            14907 ; 1279 |// Interrupt Priority register
                            14908 ; 1280 |typedef union               
                            14909 ; 1281 |{
                            14910 ; 1282 |    struct {
                            14911 ; 1283 |        unsigned int IRQAP  :2; /* IRQ A Priority: 00 disable, 01 10 11 enable  */
                            14912 ; 1284 |        unsigned int IRQAT  :1; /* IRQ A Type: 0 level, 1 negative edge         */
                            14913 ; 1285 |        unsigned int IRQBP  :2; /* IRQ B Priority: 00 disable, 01 10 11 enable  */
                            14914 ; 1286 |        unsigned int IRQBT  :1; /* IRQ B Type: 0 level, 1 negative edge.        */
                            14915 ; 1287 |        int                 :4; /* Reserved */
                            14916 ; 1288 |        unsigned int L0P    :2; /* Interrupt Priority for priority 0 (SAI)      */
                            14917 ; 1289 |        unsigned int L1P    :2; /* Interrupt Priority for priority 1 (IColl)    */
                            14918 ; 1290 |        unsigned int L2P    :2; /* Interrupt Priority for priority 2 (IColl)    */
                            14919 ; 1291 |        unsigned int L3P    :2; /* Interrupt Priority for priority 3 (IColl)    */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 244

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14920 ; 1292 |        unsigned int L4P    :2; /* Interrupt Priority for priority 4 (I2C)      */
                            14921 ; 1293 |        unsigned int L5P    :2; /* Interrupt Priority for priority 5 (SPI)      */
                            14922 ; 1294 |        unsigned int L6P    :2; /* Interrupt Priority for priority 6 (IColl)    */
                            14923 ; 1295 |    } B;
                            14924 ; 1296 |
                            14925 ; 1297 |    int I;
                            14926 ; 1298 |
                            14927 ; 1299 |} ipr_type;
                            14928 ; 1300 |#define HW_IPR         (*(volatile ipr_type _X*) 0x00FFFF)
                            14929 ; 1301 |
                            14930 ; 1302 |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                            14931 ; 1303 |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                            14932 ; 1304 |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                            14933 ; 1305 |
                            14934 ; 1306 |#define HW_IPR_L1P0_BITPOS 12
                            14935 ; 1307 |#define HW_IPR_L2P0_BITPOS 14
                            14936 ; 1308 |#define HW_IPR_L3P0_BITPOS 16
                            14937 ; 1309 |#define HW_IPR_L6P0_BITPOS 22
                            14938 ; 1310 |
                            14939 ; 1311 |/////////////////////////////////////////////////////////////////////////////////
                            14940 ; 1312 |//  Interrupt Collector Steering 0 Register (HW_ICLSTEER0R) Bit Positions
                            14941 ; 1313 |#define HW_ICLSTEERR_SS_1 0
                            14942 ; 1314 |#define HW_ICLSTEERR_SS_2 1
                            14943 ; 1315 |#define HW_ICLSTEERR_SS_3 2
                            14944 ; 1316 |#define HW_ICLSTEERR_SS_6 3
                            14945 ; 1317 |
                            14946 ; 1318 |#endif
                            14947 ; 1319 |
                            14948 
                            14950 
                            14951 ; 26   |#include "regslradc.h"
                            14952 
                            14954 
                            14955 ; 1    |#if !(defined(regslradcinc))
                            14956 ; 2    |
                            14957 ; 3    |#define regslradcinc 1
                            14958 ; 4    |
                            14959 ; 5    |#include "types.h"
                            14960 
                            14962 
                            14963 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            14964 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            14965 ; 3    |//
                            14966 ; 4    |// Filename: types.h
                            14967 ; 5    |// Description: Standard data types
                            14968 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            14969 ; 7    |
                            14970 ; 8    |#ifndef _TYPES_H
                            14971 ; 9    |#define _TYPES_H
                            14972 ; 10   |
                            14973 ; 11   |// TODO:  move this outta here!
                            14974 ; 12   |#if !defined(NOERROR)
                            14975 ; 13   |#define NOERROR 0
                            14976 ; 14   |#define SUCCESS 0
                            14977 ; 15   |#endif 
                            14978 ; 16   |#if !defined(SUCCESS)
                            14979 ; 17   |#define SUCCESS  0
                            14980 ; 18   |#endif
                            14981 ; 19   |#if !defined(ERROR)
                            14982 ; 20   |#define ERROR   -1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 245

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14983 ; 21   |#endif
                            14984 ; 22   |#if !defined(FALSE)
                            14985 ; 23   |#define FALSE 0
                            14986 ; 24   |#endif
                            14987 ; 25   |#if !defined(TRUE)
                            14988 ; 26   |#define TRUE  1
                            14989 ; 27   |#endif
                            14990 ; 28   |
                            14991 ; 29   |#if !defined(NULL)
                            14992 ; 30   |#define NULL 0
                            14993 ; 31   |#endif
                            14994 ; 32   |
                            14995 ; 33   |#define MAX_INT     0x7FFFFF
                            14996 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            14997 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            14998 ; 36   |#define MAX_ULONG   (-1) 
                            14999 ; 37   |
                            15000 ; 38   |#define WORD_SIZE   24              // word size in bits
                            15001 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            15002 ; 40   |
                            15003 ; 41   |
                            15004 ; 42   |#define BYTE    unsigned char       // btVarName
                            15005 ; 43   |#define CHAR    signed char         // cVarName
                            15006 ; 44   |#define USHORT  unsigned short      // usVarName
                            15007 ; 45   |#define SHORT   unsigned short      // sVarName
                            15008 ; 46   |#define WORD    unsigned int        // wVarName
                            15009 ; 47   |#define INT     signed int          // iVarName
                            15010 ; 48   |#define DWORD   unsigned long       // dwVarName
                            15011 ; 49   |#define LONG    signed long         // lVarName
                            15012 ; 50   |#define BOOL    unsigned int        // bVarName
                            15013 ; 51   |#define FRACT   _fract              // frVarName
                            15014 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            15015 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            15016 ; 54   |#define FLOAT   float               // fVarName
                            15017 ; 55   |#define DBL     double              // dVarName
                            15018 ; 56   |#define ENUM    enum                // eVarName
                            15019 ; 57   |#define CMX     _complex            // cmxVarName
                            15020 ; 58   |typedef WORD UCS3;                   // 
                            15021 ; 59   |
                            15022 ; 60   |#define UINT16  unsigned short
                            15023 ; 61   |#define UINT8   unsigned char   
                            15024 ; 62   |#define UINT32  unsigned long
                            15025 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            15026 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            15027 ; 65   |#define WCHAR   UINT16
                            15028 ; 66   |
                            15029 ; 67   |//UINT128 is 16 bytes or 6 words
                            15030 ; 68   |typedef struct UINT128_3500 {   
                            15031 ; 69   |    int val[6];     
                            15032 ; 70   |} UINT128_3500;
                            15033 ; 71   |
                            15034 ; 72   |#define UINT128   UINT128_3500
                            15035 ; 73   |
                            15036 ; 74   |// Little endian word packed byte strings:   
                            15037 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            15038 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            15039 ; 77   |// Little endian word packed byte strings:   
                            15040 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            15041 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            15042 ; 80   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 246

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15043 ; 81   |// Declare Memory Spaces To Use When Coding
                            15044 ; 82   |// A. Sector Buffers
                            15045 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            15046 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            15047 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            15048 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            15049 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            15050 ; 88   |// B. Media DDI Memory
                            15051 ; 89   |#define MEDIA_DDI_MEM _Y
                            15052 ; 90   |
                            15053 ; 91   |
                            15054 ; 92   |
                            15055 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            15056 ; 94   |// Examples of circular pointers:
                            15057 ; 95   |//    INT CIRC cpiVarName
                            15058 ; 96   |//    DWORD CIRC cpdwVarName
                            15059 ; 97   |
                            15060 ; 98   |#define RETCODE INT                 // rcVarName
                            15061 ; 99   |
                            15062 ; 100  |// generic bitfield structure
                            15063 ; 101  |struct Bitfield {
                            15064 ; 102  |    unsigned int B0  :1;
                            15065 ; 103  |    unsigned int B1  :1;
                            15066 ; 104  |    unsigned int B2  :1;
                            15067 ; 105  |    unsigned int B3  :1;
                            15068 ; 106  |    unsigned int B4  :1;
                            15069 ; 107  |    unsigned int B5  :1;
                            15070 ; 108  |    unsigned int B6  :1;
                            15071 ; 109  |    unsigned int B7  :1;
                            15072 ; 110  |    unsigned int B8  :1;
                            15073 ; 111  |    unsigned int B9  :1;
                            15074 ; 112  |    unsigned int B10 :1;
                            15075 ; 113  |    unsigned int B11 :1;
                            15076 ; 114  |    unsigned int B12 :1;
                            15077 ; 115  |    unsigned int B13 :1;
                            15078 ; 116  |    unsigned int B14 :1;
                            15079 ; 117  |    unsigned int B15 :1;
                            15080 ; 118  |    unsigned int B16 :1;
                            15081 ; 119  |    unsigned int B17 :1;
                            15082 ; 120  |    unsigned int B18 :1;
                            15083 ; 121  |    unsigned int B19 :1;
                            15084 ; 122  |    unsigned int B20 :1;
                            15085 ; 123  |    unsigned int B21 :1;
                            15086 ; 124  |    unsigned int B22 :1;
                            15087 ; 125  |    unsigned int B23 :1;
                            15088 ; 126  |};
                            15089 ; 127  |
                            15090 ; 128  |union BitInt {
                            15091 ; 129  |        struct Bitfield B;
                            15092 ; 130  |        int        I;
                            15093 ; 131  |};
                            15094 ; 132  |
                            15095 ; 133  |#define MAX_MSG_LENGTH 10
                            15096 ; 134  |struct CMessage
                            15097 ; 135  |{
                            15098 ; 136  |        unsigned int m_uLength;
                            15099 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            15100 ; 138  |};
                            15101 ; 139  |
                            15102 ; 140  |typedef struct {
                            15103 ; 141  |    WORD m_wLength;
                            15104 ; 142  |    WORD m_wMessage;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 247

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15105 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            15106 ; 144  |} Message;
                            15107 ; 145  |
                            15108 ; 146  |struct MessageQueueDescriptor
                            15109 ; 147  |{
                            15110 ; 148  |        int *m_pBase;
                            15111 ; 149  |        int m_iModulo;
                            15112 ; 150  |        int m_iSize;
                            15113 ; 151  |        int *m_pHead;
                            15114 ; 152  |        int *m_pTail;
                            15115 ; 153  |};
                            15116 ; 154  |
                            15117 ; 155  |struct ModuleEntry
                            15118 ; 156  |{
                            15119 ; 157  |    int m_iSignaledEventMask;
                            15120 ; 158  |    int m_iWaitEventMask;
                            15121 ; 159  |    int m_iResourceOfCode;
                            15122 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            15123 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            15124 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            15125 ; 163  |    int m_uTimeOutHigh;
                            15126 ; 164  |    int m_uTimeOutLow;
                            15127 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            15128 ; 166  |};
                            15129 ; 167  |
                            15130 ; 168  |union WaitMask{
                            15131 ; 169  |    struct B{
                            15132 ; 170  |        unsigned int m_bNone     :1;
                            15133 ; 171  |        unsigned int m_bMessage  :1;
                            15134 ; 172  |        unsigned int m_bTimer    :1;
                            15135 ; 173  |        unsigned int m_bButton   :1;
                            15136 ; 174  |    } B;
                            15137 ; 175  |    int I;
                            15138 ; 176  |} ;
                            15139 ; 177  |
                            15140 ; 178  |
                            15141 ; 179  |struct Button {
                            15142 ; 180  |        WORD wButtonEvent;
                            15143 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            15144 ; 182  |};
                            15145 ; 183  |
                            15146 ; 184  |struct Message {
                            15147 ; 185  |        WORD wMsgLength;
                            15148 ; 186  |        WORD wMsgCommand;
                            15149 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            15150 ; 188  |};
                            15151 ; 189  |
                            15152 ; 190  |union EventTypes {
                            15153 ; 191  |        struct CMessage msg;
                            15154 ; 192  |        struct Button Button ;
                            15155 ; 193  |        struct Message Message;
                            15156 ; 194  |};
                            15157 ; 195  |
                            15158 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            15159 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            15160 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            15161 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            15162 ; 200  |
                            15163 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            15164 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            15165 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 248

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15166 ; 204  |
                            15167 ; 205  |#if DEBUG
                            15168 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            15169 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            15170 ; 208  |#else 
                            15171 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            15172 ; 210  |#define DebugBuildAssert(x)    
                            15173 ; 211  |#endif
                            15174 ; 212  |
                            15175 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            15176 ; 214  |//  #pragma asm
                            15177 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            15178 ; 216  |//  #pragma endasm
                            15179 ; 217  |
                            15180 ; 218  |
                            15181 ; 219  |#ifdef COLOR_262K
                            15182 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            15183 ; 221  |#elif defined(COLOR_65K)
                            15184 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            15185 ; 223  |#else
                            15186 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            15187 ; 225  |#endif
                            15188 ; 226  |    
                            15189 ; 227  |#endif // #ifndef _TYPES_H
                            15190 
                            15192 
                            15193 ; 6    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15194 ; 7    |
                            15195 ; 8    |//   SYSTEM STMP Registers 
                            15196 ; 9    |//  Last Edited 6.26.2003 M. Henson
                            15197 ; 10   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15198 ; 11   |
                            15199 ; 12   |#define HW_LRADC_BASEADDR (0xFA20)
                            15200 ; 13   |
                            15201 ; 14   |
                            15202 ; 15   |
                            15203 ; 16   |/////////////////////////////////////////////////////////////////////////////////
                            15204 ; 17   |//  Battery LRADC Control Register (HW_BATT_CTRL) Bit Definitions
                            15205 ; 18   |#define HW_BATT_CTRL_INPUT_OFFSET_WIDTH (7)
                            15206 ; 19   |#define HW_BATT_CTRL_RSVD0_WIDTH (1)
                            15207 ; 20   |#define HW_BATT_CTRL_HALF_CMP_PWR_WIDTH (1)
                            15208 ; 21   |#define HW_BATT_CTRL_INPUT_DIV2_WIDTH (1)
                            15209 ; 22   |#define HW_BATT_CTRL_CLEAR_WIDTH (1)
                            15210 ; 23   |#define HW_BATT_CTRL_PWD_WIDTH (1)
                            15211 ; 24   |#define HW_BATT_CTRL_CLK_DIV_WIDTH (2)
                            15212 ; 25   |#define HW_BATT_CTRL_RSVD1_WIDTH (2)
                            15213 ; 26   |#define HW_BATT_CTRL_REF_VAL_WIDTH (2)
                            15214 ; 27   |#define HW_BATT_CTRL_RSVD2_WIDTH (2)
                            15215 ; 28   |#define HW_BATT_CTRL_IRQ_EN_EVENT0_WIDTH (1)
                            15216 ; 29   |#define HW_BATT_CTRL_IRQ_EN_EVENT1_WIDTH (1)
                            15217 ; 30   |#define HW_BATT_CTRL_POLARITY_EVENT0_WIDTH (1)
                            15218 ; 31   |#define HW_BATT_CTRL_POLARITY_EVENT1_WIDTH (1)
                            15219 ; 32   |
                            15220 ; 33   |#define HW_BATT_CTRL_INPUT_OFFSET_BITPOS (0)
                            15221 ; 34   |#define HW_BATT_CTRL_HALF_CMP_PWR_BITPOS (8)
                            15222 ; 35   |#define HW_BATT_CTRL_INPUT_DIV2_BITPOS (9)
                            15223 ; 36   |#define HW_BATT_CTRL_CLEAR_BITPOS (10)
                            15224 ; 37   |#define HW_BATT_CTRL_PWD_BITPOS (11)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 249

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15225 ; 38   |#define HW_BATT_CTRL_CLK_DIV_BITPOS (12)
                            15226 ; 39   |#define HW_BATT_CTRL_REF_VAL_BITPOS (16)
                            15227 ; 40   |
                            15228 ; 41   |#define HW_BATT_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_BATT_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_BA
                                  TT_CTRL_INPUT_OFFSET_BITPOS)        
                            15229 ; 42   |#define HW_BATT_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_BATT_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_BA
                                  TT_CTRL_HALF_CMP_PWR_BITPOS)        
                            15230 ; 43   |#define HW_BATT_CTRL_INPUT_DIV2_SETMASK (((1<<HW_BATT_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_BATT_C
                                  TRL_INPUT_DIV2_BITPOS) 
                            15231 ; 44   |#define HW_BATT_CTRL_CLEAR_SETMASK (((1<<HW_BATT_CTRL_CLEAR_WIDTH)-1)<<HW_BATT_CTRL_CLEAR_
                                  BITPOS) 
                            15232 ; 45   |#define HW_BATT_CTRL_PWD_SETMASK (((1<<HW_BATT_CTRL_PWD_WIDTH)-1)<<HW_BATT_CTRL_PWD_BITPOS
                                  ) 
                            15233 ; 46   |#define HW_BATT_CTRL_CLK_DIV_SETMASK (((1<<HW_BATT_CTRL_CLK_DIV_WIDTH)-1)<<HW_BATT_CTRL_CL
                                  K_DIV_BITPOS)        
                            15234 ; 47   |#define HW_BATT_CTRL_REF_VAL_SETMASK (((1<<HW_BATT_CTRL_REF_VAL_WIDTH)-1)<<HW_BATT_CTRL_RE
                                  F_VAL_BITPOS)        
                            15235 ; 48   |
                            15236 ; 49   |#define HW_BATT_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_OFFSET_SETMASK)     
                            15237 ; 50   |#define HW_BATT_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_BATT_CTRL_HALF_CMP_PWR_SETMASK)     
                            15238 ; 51   |#define HW_BATT_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_DIV2_SETMASK) 
                            15239 ; 52   |#define HW_BATT_CTRL_CLEAR_CLRMASK (~(WORD)HW_BATT_CTRL_CLEAR_SETMASK) 
                            15240 ; 53   |#define HW_BATT_CTRL_PWD_CLRMASK (~(WORD)HW_BATT_CTRL_PWD_SETMASK) 
                            15241 ; 54   |#define HW_BATT_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_BATT_CTRL_CLK_DIV_SETMASK)     
                            15242 ; 55   |#define HW_BATT_CTRL_REF_VAL_CLRMASK (~(WORD)HW_BATT_CTRL_REF_VAL_SETMASK)
                            15243 ; 56   |
                            15244 ; 57   |typedef union               
                            15245 ; 58   |{
                            15246 ; 59   |    struct {
                            15247 ; 60   |        unsigned int INPUT_OFFSET                 : HW_BATT_CTRL_INPUT_OFFSET_WIDTH;
                            15248 ; 61   |        unsigned int RSVD0                        : HW_BATT_CTRL_RSVD0_WIDTH;
                            15249 ; 62   |        unsigned int HALF_CMP_PWR                 : HW_BATT_CTRL_HALF_CMP_PWR_WIDTH;
                            15250 ; 63   |        unsigned int INPUT_DIV2                   : HW_BATT_CTRL_INPUT_DIV2_WIDTH;
                            15251 ; 64   |        unsigned int CLEAR                        : HW_BATT_CTRL_CLEAR_WIDTH;
                            15252 ; 65   |        unsigned int PWD                          : HW_BATT_CTRL_PWD_WIDTH;
                            15253 ; 66   |        unsigned int CLK_DIV                      : HW_BATT_CTRL_CLK_DIV_WIDTH;
                            15254 ; 67   |        unsigned int RSVD1                        : HW_BATT_CTRL_RSVD1_WIDTH;
                            15255 ; 68   |        unsigned int REF_VAL                      : HW_BATT_CTRL_REF_VAL_WIDTH;
                            15256 ; 69   |        unsigned int RSVD2                        : HW_BATT_CTRL_RSVD2_WIDTH;
                            15257 ; 70   |                 unsigned int IRQ_EN_EVENT0                               : HW_BATT_CTRL_I
                                  RQ_EN_EVENT0_WIDTH;
                            15258 ; 71   |                 unsigned int IRQ_EN_EVENT1                               : HW_BATT_CTRL_I
                                  RQ_EN_EVENT1_WIDTH;
                            15259 ; 72   |             unsigned int POLARITY_EVENT0              : HW_BATT_CTRL_POLARITY_EVENT0_WIDT
                                  H;
                            15260 ; 73   |                 unsigned int POLARITY_EVENT1              : HW_BATT_CTRL_POLARITY_EVENT1_
                                  WIDTH;
                            15261 ; 74   |    } B;
                            15262 ; 75   |   unsigned int I;
                            15263 ; 76   |        unsigned int U;
                            15264 ; 77   |} lradc_ctrl_type;
                            15265 ; 78   |#define HW_BATT_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR))    /* Batt
                                  ery LRADC Control Register */
                            15266 ; 79   |
                            15267 ; 80   |
                            15268 ; 81   |/////////////////////////////////////////////////////////////////////////////////
                            15269 ; 82   |//  Battery LRADC Threshold Register (HW_BATT_THRSH) Bit Definitions
                            15270 ; 83   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH (9)
                            15271 ; 84   |#define HW_BATT_THRSH_RSVD0_WIDTH (3)
                            15272 ; 85   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH (9)
                            15273 ; 86   |#define HW_BATT_THRSH_RSVD1_WIDTH (3)
                            15274 ; 87   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 250

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15275 ; 88   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS (0)
                            15276 ; 89   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS (12)
                            15277 ; 90   |
                            15278 ; 91   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH)
                                  -1)<<HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS)        
                            15279 ; 92   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH)
                                  -1)<<HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS)        
                            15280 ; 93   |
                            15281 ; 94   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT0_SETM
                                  ASK)     
                            15282 ; 95   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT1_SETM
                                  ASK)     
                            15283 ; 96   |
                            15284 ; 97   |
                            15285 ; 98   |typedef union               
                            15286 ; 99   |{
                            15287 ; 100  |    struct {
                            15288 ; 101  |        unsigned int THRESHOLD_EVENT0   : HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH;
                            15289 ; 102  |        unsigned int RSVD0                  : HW_BATT_THRSH_RSVD0_WIDTH;
                            15290 ; 103  |        unsigned int THRESHOLD_EVENT1   : HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH;
                            15291 ; 104  |        unsigned int RSVD1              : HW_BATT_THRSH_RSVD1_WIDTH;
                            15292 ; 105  |    } B;
                            15293 ; 106  |    unsigned int I;
                            15294 ; 107  |} lradc_thrsh_type;
                            15295 ; 108  |#define HW_BATT_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+1))    /* 
                                  Battery LRADC Threshold Register */
                            15296 ; 109  |
                            15297 ; 110  |
                            15298 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            15299 ; 112  |//  Battery LRADC Result Register (HW_BATT_RESULT) Bit Definitions
                            15300 ; 113  |#define HW_BATT_RESULT_EQ_EVENT1_WIDTH (1)
                            15301 ; 114  |#define HW_BATT_RESULT_EQ_EVENT0_WIDTH (1)
                            15302 ; 115  |#define HW_BATT_RESULT_GT_EVENT1_WIDTH (1)
                            15303 ; 116  |#define HW_BATT_RESULT_GT_EVENT0_WIDTH (1)
                            15304 ; 117  |#define HW_BATT_RESULT_LT_EVENT1_WIDTH (1)
                            15305 ; 118  |#define HW_BATT_RESULT_LT_EVENT0_WIDTH (1)
                            15306 ; 119  |#define HW_BATT_RESULT_RSVD0_WIDTH (2)
                            15307 ; 120  |#define HW_BATT_RESULT_DATA_OUT_WIDTH (9)
                            15308 ; 121  |#define HW_BATT_RESULT_RSVD1_WIDTH (3)
                            15309 ; 122  |#define HW_BATT_RESULT_IRQ_EVENT0_WIDTH (1)
                            15310 ; 123  |#define HW_BATT_RESULT_IRQ_EVENT1_WIDTH (1)
                            15311 ; 124  |#define HW_BATT_RESULT_RSVD2_WIDTH (2)
                            15312 ; 125  |
                            15313 ; 126  |#define HW_BATT_RESULT_EQ_EVENT1_BITPOS (0)
                            15314 ; 127  |#define HW_BATT_RESULT_EQ_EVENT0_BITPOS (1)
                            15315 ; 128  |#define HW_BATT_RESULT_GT_EVENT1_BITPOS (2)
                            15316 ; 129  |#define HW_BATT_RESULT_GT_EVENT0_BITPOS (3)
                            15317 ; 130  |#define HW_BATT_RESULT_LT_EVENT1_BITPOS (4)
                            15318 ; 131  |#define HW_BATT_RESULT_LT_EVENT0_BITPOS (5)
                            15319 ; 132  |#define HW_BATT_RESULT_RSVD0_BITPOS (6)
                            15320 ; 133  |#define HW_BATT_RESULT_DATA_OUT_BITPOS (8)
                            15321 ; 134  |#define HW_BATT_RESULT_RSVD1_BITPOS (17)
                            15322 ; 135  |#define HW_BATT_RESULT_IRQ_EVENT0_BITPOS (20)
                            15323 ; 136  |#define HW_BATT_RESULT_IRQ_EVENT1_BITPOS (21)
                            15324 ; 137  |#define HW_BATT_RESULT_RSVD2_BITPOS (22)
                            15325 ; 138  |
                            15326 ; 139  |
                            15327 ; 140  |
                            15328 ; 141  |#define HW_BATT_RESULT_EQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_BATT
                                  _RESULT_EQ_EVENT1_BITPOS)
                            15329 ; 142  |#define HW_BATT_RESULT_EQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_BATT
                                  _RESULT_EQ_EVENT0_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 251

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15330 ; 143  |#define HW_BATT_RESULT_GT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT1_WIDTH)-1)<<HW_BATT
                                  _RESULT_GT_EVENT1_BITPOS)
                            15331 ; 144  |#define HW_BATT_RESULT_GT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT0_WIDTH)-1)<<HW_BATT
                                  _RESULT_GT_EVENT0_BITPOS)
                            15332 ; 145  |#define HW_BATT_RESULT_LT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT1_WIDTH)-1)<<HW_BATT
                                  _RESULT_LT_EVENT1_BITPOS)
                            15333 ; 146  |#define HW_BATT_RESULT_LT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT0_WIDTH)-1)<<HW_BATT
                                  _RESULT_LT_EVENT0_BITPOS)
                            15334 ; 147  |#define HW_BATT_RESULT_RSVD0_SETMASK (((1<<HW_BATT_RESULT_RSVD0_WIDTH)-1)<<HW_BATT_RESULT_
                                  RSVD0_BITPOS)
                            15335 ; 148  |#define HW_BATT_RESULT_DATA_OUT_SETMASK (((1<<HW_BATT_RESULT_DATA_OUT_WIDTH)-1)<<HW_BATT_R
                                  ESULT_DATA_OUT_BITPOS)
                            15336 ; 149  |#define HW_BATT_RESULT_RSVD1_SETMASK (((1<<HW_BATT_RESULT_RSVD1_WIDTH)-1)<<HW_BATT_RESULT_
                                  RSVD1_BITPOS)
                            15337 ; 150  |#define HW_BATT_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_BA
                                  TT_RESULT_IRQ_EVENT0_BITPOS)
                            15338 ; 151  |#define HW_BATT_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_BA
                                  TT_RESULT_IRQ_EVENT1_BITPOS)
                            15339 ; 152  |#define HW_BATT_RESULT_RSVD2_SETMASK (((1<<HW_BATT_RESULT_RSVD2_WIDTH)-1)<<HW_BATT_RESULT_
                                  RSVD2_BITPOS)
                            15340 ; 153  |
                            15341 ; 154  |
                            15342 ; 155  |#define HW_BATT_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT1_SETMASK)
                            15343 ; 156  |#define HW_BATT_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT0_SETMASK)
                            15344 ; 157  |#define HW_BATT_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT1_SETMASK)
                            15345 ; 158  |#define HW_BATT_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT0_SETMASK)
                            15346 ; 159  |#define HW_BATT_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT1_SETMASK)
                            15347 ; 160  |#define HW_BATT_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT0_SETMASK)
                            15348 ; 161  |#define HW_BATT_RESULT_RSVD0_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD0_SETMASK)
                            15349 ; 162  |#define HW_BATT_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_BATT_RESULT_DATA_OUT_SETMASK)
                            15350 ; 163  |#define HW_BATT_RESULT_RSVD1_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD1_SETMASK)
                            15351 ; 164  |#define HW_BATT_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT0_SETMASK)
                            15352 ; 165  |#define HW_BATT_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT1_SETMASK)
                            15353 ; 166  |#define HW_BATT_RESULT_RSVD2_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD2_SETMASK)
                            15354 ; 167  |
                            15355 ; 168  |typedef union               
                            15356 ; 169  |{
                            15357 ; 170  |    struct {
                            15358 ; 171  |        unsigned int EQ_EVENT1                  : HW_BATT_RESULT_EQ_EVENT1_WIDTH;
                            15359 ; 172  |        unsigned int EQ_EVENT0                  : HW_BATT_RESULT_EQ_EVENT0_WIDTH;
                            15360 ; 173  |        unsigned int GT_EVENT1                  : HW_BATT_RESULT_GT_EVENT1_WIDTH;
                            15361 ; 174  |        unsigned int GT_EVENT0                  : HW_BATT_RESULT_GT_EVENT0_WIDTH;
                            15362 ; 175  |        unsigned int LT_EVENT1                  : HW_BATT_RESULT_LT_EVENT1_WIDTH;
                            15363 ; 176  |        unsigned int LT_EVENT0                  : HW_BATT_RESULT_LT_EVENT0_WIDTH;
                            15364 ; 177  |        unsigned int RSVD0                     : HW_BATT_RESULT_RSVD0_WIDTH;
                            15365 ; 178  |        unsigned int DATA_OUT                  : HW_BATT_RESULT_DATA_OUT_WIDTH;
                            15366 ; 179  |        unsigned int RSVD1                     : HW_BATT_RESULT_RSVD1_WIDTH;
                            15367 ; 180  |                 unsigned int IRQ_EVENT0                                : HW_BATT_RESULT_I
                                  RQ_EVENT0_WIDTH;
                            15368 ; 181  |                 unsigned int IRQ_EVENT1                                : HW_BATT_RESULT_I
                                  RQ_EVENT1_WIDTH;                        
                            15369 ; 182  |                 unsigned int RSVD2                                         : HW_BATT_RESU
                                  LT_RSVD2_WIDTH;
                            15370 ; 183  |    } B;
                            15371 ; 184  |    unsigned int I;
                            15372 ; 185  |} lradc_result_type;
                            15373 ; 186  |#define HW_BATT_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+2))    /
                                  * Battery LRADC Result Register */
                            15374 ; 187  |
                            15375 ; 188  |
                            15376 ; 189  |
                            15377 ; 190  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 252

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15378 ; 191  |//  LRADC1 Control Register (HW_LRADC1_CTRL) Bit Definitions
                            15379 ; 192  |#define HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH (7)
                            15380 ; 193  |#define HW_LRADC1_CTRL_RSVD0_WIDTH (1)
                            15381 ; 194  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH (1)
                            15382 ; 195  |#define HW_LRADC1_CTRL_INPUT_DIV2_WIDTH (1)
                            15383 ; 196  |#define HW_LRADC1_CTRL_CLEAR_WIDTH (1)
                            15384 ; 197  |#define HW_LRADC1_CTRL_PWD_WIDTH (1)
                            15385 ; 198  |#define HW_LRADC1_CTRL_CLK_DIV_WIDTH (2)
                            15386 ; 199  |#define HW_LRADC1_CTRL_RSVD1_WIDTH (2)
                            15387 ; 200  |#define HW_LRADC1_CTRL_REF_VAL_WIDTH (2)
                            15388 ; 201  |#define HW_LRADC1_CTRL_RSVD2_WIDTH (6)
                            15389 ; 202  |
                            15390 ; 203  |#define HW_LRADC1_CTRL_INPUT_OFFSET_BITPOS (0)
                            15391 ; 204  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_BITPOS (8)
                            15392 ; 205  |#define HW_LRADC1_CTRL_INPUT_DIV2_BITPOS (9)
                            15393 ; 206  |#define HW_LRADC1_CTRL_CLEAR_BITPOS (10)
                            15394 ; 207  |#define HW_LRADC1_CTRL_PWD_BITPOS (11)
                            15395 ; 208  |#define HW_LRADC1_CTRL_CLK_DIV_BITPOS (12)
                            15396 ; 209  |#define HW_LRADC1_CTRL_REF_VAL_BITPOS (16)
                            15397 ; 210  |
                            15398 ; 211  |#define HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH)-1)<<H
                                  W_LRADC1_CTRL_INPUT_OFFSET_BITPOS)        
                            15399 ; 212  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH)-1)<<H
                                  W_LRADC1_CTRL_HALF_CMP_PWR_BITPOS)        
                            15400 ; 213  |#define HW_LRADC1_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_LR
                                  ADC1_CTRL_INPUT_DIV2_BITPOS) 
                            15401 ; 214  |#define HW_LRADC1_CTRL_CLEAR_SETMASK (((1<<HW_LRADC1_CTRL_CLEAR_WIDTH)-1)<<HW_LRADC1_CTRL_
                                  CLEAR_BITPOS) 
                            15402 ; 215  |#define HW_LRADC1_CTRL_PWD_SETMASK (((1<<HW_LRADC1_CTRL_PWD_WIDTH)-1)<<HW_LRADC1_CTRL_PWD_
                                  BITPOS) 
                            15403 ; 216  |#define HW_LRADC1_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC1_CTRL_CLK_DIV_WIDTH)-1)<<HW_LRADC1_C
                                  TRL_CLK_DIV_BITPOS)        
                            15404 ; 217  |#define HW_LRADC1_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC1_CTRL_REF_VAL_WIDTH)-1)<<HW_LRADC1_C
                                  TRL_REF_VAL_BITPOS)        
                            15405 ; 218  |
                            15406 ; 219  |#define HW_LRADC1_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK)  
                                     
                            15407 ; 220  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK)  
                                     
                            15408 ; 221  |#define HW_LRADC1_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_DIV2_SETMASK) 
                            15409 ; 222  |#define HW_LRADC1_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLEAR_SETMASK) 
                            15410 ; 223  |#define HW_LRADC1_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC1_CTRL_PWD_SETMASK) 
                            15411 ; 224  |#define HW_LRADC1_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLK_DIV_SETMASK)     
                            15412 ; 225  |#define HW_LRADC1_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC1_CTRL_REF_VAL_SETMASK)     
                            15413 ; 226  |
                            15414 ; 227  |#define HW_LRADC1_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+3))    /* 
                                  LRADC1 Control Register */
                            15415 ; 228  |
                            15416 ; 229  |
                            15417 ; 230  |
                            15418 ; 231  |/////////////////////////////////////////////////////////////////////////////////
                            15419 ; 232  |//  LRADC1 Threshold Register (HW_LRADC1_THRSH) Bit Definitions
                            15420 ; 233  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH (9)
                            15421 ; 234  |#define HW_LRADC1_THRSH_RSVD0_WIDTH (3)
                            15422 ; 235  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH (9)
                            15423 ; 236  |#define HW_LRADC1_THRSH_RSVD1_WIDTH (3)
                            15424 ; 237  |
                            15425 ; 238  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS (0)
                            15426 ; 239  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS (12)
                            15427 ; 240  |
                            15428 ; 241  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS)        
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 253

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15429 ; 242  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS)        
                            15430 ; 243  |
                            15431 ; 244  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MIN_THRESHOLD_SETMAS
                                  K)     
                            15432 ; 245  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MAX_THRESHOLD_SETMAS
                                  K)     
                            15433 ; 246  |
                            15434 ; 247  |#define HW_LRADC1_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+4))    /
                                  * LRADC1 Threshold Register */
                            15435 ; 248  |
                            15436 ; 249  |/////////////////////////////////////////////////////////////////////////////////
                            15437 ; 250  |//  LRADC1 Result Register (HW_LRADC1_RESULT) Bit Definitions
                            15438 ; 251  |#define HW_LRADC1_RESULT_EQ_EVENT1_WIDTH (1)
                            15439 ; 252  |#define HW_LRADC1_RESULT_EQ_EVENT0_WIDTH (1)
                            15440 ; 253  |#define HW_LRADC1_RESULT_GT_EVENT1_WIDTH (1)
                            15441 ; 254  |#define HW_LRADC1_RESULT_GT_EVENT0_WIDTH (1)
                            15442 ; 255  |#define HW_LRADC1_RESULT_LT_EVENT1_WIDTH (1)
                            15443 ; 256  |#define HW_LRADC1_RESULT_LT_EVENT0_WIDTH (1)
                            15444 ; 257  |#define HW_LRADC1_RESULT_RSVD0_WIDTH (2)
                            15445 ; 258  |#define HW_LRADC1_RESULT_DATA_OUT_WIDTH (9)
                            15446 ; 259  |#define HW_LRADC1_RESULT_RSVD1_WIDTH (3)
                            15447 ; 260  |#define HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH (1)
                            15448 ; 261  |#define HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH (1)
                            15449 ; 262  |#define HW_LRADC1_RESULT_RSVD2_WIDTH (2)
                            15450 ; 263  |
                            15451 ; 264  |#define HW_LRADC1_RESULT_EQ_EVENT1_BITPOS (0)
                            15452 ; 265  |#define HW_LRADC1_RESULT_EQ_EVENT0_BITPOS (1)
                            15453 ; 266  |#define HW_LRADC1_RESULT_GT_EVENT1_BITPOS (2)
                            15454 ; 267  |#define HW_LRADC1_RESULT_GT_EVENT0_BITPOS (3)
                            15455 ; 268  |#define HW_LRADC1_RESULT_LT_EVENT1_BITPOS (4)
                            15456 ; 269  |#define HW_LRADC1_RESULT_LT_EVENT0_BITPOS (5)
                            15457 ; 270  |#define HW_LRADC1_RESULT_RSVD0_BITPOS (6)
                            15458 ; 271  |#define HW_LRADC1_RESULT_DATA_OUT_BITPOS (8)
                            15459 ; 272  |#define HW_LRADC1_RESULT_RSVD1_BITPOS (17)
                            15460 ; 273  |#define HW_LRADC1_RESULT_IRQ_EVENT0_BITPOS (20)
                            15461 ; 274  |#define HW_LRADC1_RESULT_IRQ_EVENT1_BITPOS (21)
                            15462 ; 275  |#define HW_LRADC1_RESULT_RSVD2_BITPOS (22)
                            15463 ; 276  |
                            15464 ; 277  |#define HW_LRADC1_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_EQ_EVENT1_BITPOS)
                            15465 ; 278  |#define HW_LRADC1_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_EQ_EVENT0_BITPOS)
                            15466 ; 279  |#define HW_LRADC1_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_GT_EVENT1_BITPOS)
                            15467 ; 280  |#define HW_LRADC1_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_GT_EVENT0_BITPOS)
                            15468 ; 281  |#define HW_LRADC1_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_LT_EVENT1_BITPOS)
                            15469 ; 282  |#define HW_LRADC1_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_LT_EVENT0_BITPOS)
                            15470 ; 283  |#define HW_LRADC1_RESULT_RSVD0_SETMASK (((1<<HW_LRADC1_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC1_R
                                  ESULT_RSVD0_BITPOS)
                            15471 ; 284  |#define HW_LRADC1_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC1_RESULT_DATA_OUT_WIDTH)-1)<<HW_LR
                                  ADC1_RESULT_DATA_OUT_BITPOS)
                            15472 ; 285  |#define HW_LRADC1_RESULT_RSVD1_SETMASK (((1<<HW_LRADC1_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC1_R
                                  ESULT_RSVD1_BITPOS)
                            15473 ; 286  |#define HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH)-1)<<H
                                  W_LRADC1_RESULT_IRQ_EVENT0_BITPOS)
                            15474 ; 287  |#define HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH)-1)<<H
                                  W_LRADC1_RESULT_IRQ_EVENT1_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 254

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15475 ; 288  |#define HW_LRADC1_RESULT_RSVD2_SETMASK (((1<<HW_LRADC1_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC1_R
                                  ESULT_RSVD2_BITPOS)
                            15476 ; 289  |
                            15477 ; 290  |
                            15478 ; 291  |#define HW_LRADC1_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT1_SETMASK)
                            15479 ; 292  |#define HW_LRADC1_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT0_SETMASK)
                            15480 ; 293  |#define HW_LRADC1_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT1_SETMASK)
                            15481 ; 294  |#define HW_LRADC1_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT0_SETMASK)
                            15482 ; 295  |#define HW_LRADC1_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT1_SETMASK)
                            15483 ; 296  |#define HW_LRADC1_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT0_SETMASK)
                            15484 ; 297  |#define HW_LRADC1_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD0_SETMASK)
                            15485 ; 298  |#define HW_LRADC1_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC1_RESULT_DATA_OUT_SETMASK)
                            15486 ; 299  |#define HW_LRADC1_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD1_SETMASK)
                            15487 ; 300  |#define HW_LRADC1_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK)
                            15488 ; 301  |#define HW_LRADC1_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK)
                            15489 ; 302  |#define HW_LRADC1_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD2_SETMASK)
                            15490 ; 303  |
                            15491 ; 304  |#define HW_LRADC1_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+5))   
                                   /* LRADC1 Result Register */
                            15492 ; 305  |
                            15493 ; 306  |/////////////////////////////////////////////////////////////////////////////////
                            15494 ; 307  |//  LRADC2_CTRL Control Register (HW_LRADC2_CTRL_CTRL) Bit Definitions
                            15495 ; 308  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WIDTH (7)
                            15496 ; 309  |#define HW_LRADC2_CTRL_CTRL_RSVD0_WIDTH (1)
                            15497 ; 310  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WIDTH (1)
                            15498 ; 311  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH (1)
                            15499 ; 312  |#define HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH (1)
                            15500 ; 313  |#define HW_LRADC2_CTRL_CTRL_PWD_WIDTH (1)
                            15501 ; 314  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH (2)
                            15502 ; 315  |#define HW_LRADC2_CTRL_CTRL_RSVD1_WIDTH (2)
                            15503 ; 316  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH (2)
                            15504 ; 317  |#define HW_LRADC2_CTRL_CTRL_RSVD2_WIDTH (6)
                            15505 ; 318  |
                            15506 ; 319  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS (0)
                            15507 ; 320  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS (8)
                            15508 ; 321  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS (9)
                            15509 ; 322  |#define HW_LRADC2_CTRL_CTRL_CLEAR_BITPOS (10)
                            15510 ; 323  |#define HW_LRADC2_CTRL_CTRL_PWD_BITPOS (11)
                            15511 ; 324  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS (12)
                            15512 ; 325  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_BITPOS (16)
                            15513 ; 326  |
                            15514 ; 327  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WI
                                  DTH)-1)<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS)        
                            15515 ; 328  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WI
                                  DTH)-1)<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS)        
                            15516 ; 329  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH)
                                  -1)<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS) 
                            15517 ; 330  |#define HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH)-1)<<HW_LR
                                  ADC2_CTRL_CTRL_CLEAR_BITPOS) 
                            15518 ; 331  |#define HW_LRADC2_CTRL_CTRL_PWD_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_PWD_WIDTH)-1)<<HW_LRADC2
                                  _CTRL_CTRL_PWD_BITPOS) 
                            15519 ; 332  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH)-1)<<H
                                  W_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS)        
                            15520 ; 333  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH)-1)<<H
                                  W_LRADC2_CTRL_CTRL_REF_VAL_BITPOS)        
                            15521 ; 334  |
                            15522 ; 335  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_
                                  SETMASK)     
                            15523 ; 336  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_
                                  SETMASK)     
                            15524 ; 337  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETM
                                  ASK) 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 255

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15525 ; 338  |#define HW_LRADC2_CTRL_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK) 
                            15526 ; 339  |#define HW_LRADC2_CTRL_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_PWD_SETMASK) 
                            15527 ; 340  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK)  
                                     
                            15528 ; 341  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK)  
                                     
                            15529 ; 342  |
                            15530 ; 343  |
                            15531 ; 344  |#define HW_LRADC2_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+6))    /* 
                                  LRADC2_CTRL Control Register */
                            15532 ; 345  |
                            15533 ; 346  |
                            15534 ; 347  |
                            15535 ; 348  |/////////////////////////////////////////////////////////////////////////////////
                            15536 ; 349  |//  LRADC2 Threshold Register (HW_LRADC2_THRSH) Bit Definitions
                            15537 ; 350  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH (9)
                            15538 ; 351  |#define HW_LRADC2_THRSH_RSVD0_WIDTH (3)
                            15539 ; 352  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH (9)
                            15540 ; 353  |#define HW_LRADC2_THRSH_RSVD1_WIDTH (3)
                            15541 ; 354  |
                            15542 ; 355  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS (0)
                            15543 ; 356  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS (12)
                            15544 ; 357  |
                            15545 ; 358  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS)        
                            15546 ; 359  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS)        
                            15547 ; 360  |
                            15548 ; 361  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MIN_THRESHOLD_SETMAS
                                  K)     
                            15549 ; 362  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MAX_THRESHOLD_SETMAS
                                  K)     
                            15550 ; 363  |
                            15551 ; 364  |#define HW_LRADC2_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+7))    /
                                  * LRADC2 Threshold Register */
                            15552 ; 365  |
                            15553 ; 366  |
                            15554 ; 367  |
                            15555 ; 368  |/////////////////////////////////////////////////////////////////////////////////
                            15556 ; 369  |//  LRADC2 Result Register (HW_LRADC2_RESULT) Bit Definitions
                            15557 ; 370  |#define HW_LRADC2_RESULT_EQ_EVENT1_WIDTH (1)
                            15558 ; 371  |#define HW_LRADC2_RESULT_EQ_EVENT0_WIDTH (1)
                            15559 ; 372  |#define HW_LRADC2_RESULT_GT_EVENT1_WIDTH (1)
                            15560 ; 373  |#define HW_LRADC2_RESULT_GT_EVENT0_WIDTH (1)
                            15561 ; 374  |#define HW_LRADC2_RESULT_LT_EVENT1_WIDTH (1)
                            15562 ; 375  |#define HW_LRADC2_RESULT_LT_EVENT0_WIDTH (1)
                            15563 ; 376  |#define HW_LRADC2_RESULT_RSVD0_WIDTH (2)
                            15564 ; 377  |#define HW_LRADC2_RESULT_DATA_OUT_WIDTH (9)
                            15565 ; 378  |#define HW_LRADC2_RESULT_RSVD1_WIDTH (3)
                            15566 ; 379  |#define HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH (1)
                            15567 ; 380  |#define HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH (1)
                            15568 ; 381  |#define HW_LRADC2_RESULT_RSVD2_WIDTH (2)
                            15569 ; 382  |
                            15570 ; 383  |#define HW_LRADC2_RESULT_EQ_EVENT1_BITPOS (0)
                            15571 ; 384  |#define HW_LRADC2_RESULT_EQ_EVENT0_BITPOS (1)
                            15572 ; 385  |#define HW_LRADC2_RESULT_GT_EVENT1_BITPOS (2)
                            15573 ; 386  |#define HW_LRADC2_RESULT_GT_EVENT0_BITPOS (3)
                            15574 ; 387  |#define HW_LRADC2_RESULT_LT_EVENT1_BITPOS (4)
                            15575 ; 388  |#define HW_LRADC2_RESULT_LT_EVENT0_BITPOS (5)
                            15576 ; 389  |#define HW_LRADC2_RESULT_RSVD0_BITPOS (6)
                            15577 ; 390  |#define HW_LRADC2_RESULT_DATA_OUT_BITPOS (8)
                            15578 ; 391  |#define HW_LRADC2_RESULT_RSVD1_BITPOS (17)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 256

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15579 ; 392  |#define HW_LRADC2_RESULT_IRQ_EVENT0_BITPOS (20)
                            15580 ; 393  |#define HW_LRADC2_RESULT_IRQ_EVENT1_BITPOS (21)
                            15581 ; 394  |#define HW_LRADC2_RESULT_RSVD2_BITPOS (22)
                            15582 ; 395  |
                            15583 ; 396  |#define HW_LRADC2_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_EQ_EVENT1_BITPOS)
                            15584 ; 397  |#define HW_LRADC2_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_EQ_EVENT0_BITPOS)
                            15585 ; 398  |#define HW_LRADC2_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_GT_EVENT1_BITPOS)
                            15586 ; 399  |#define HW_LRADC2_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_GT_EVENT0_BITPOS)
                            15587 ; 400  |#define HW_LRADC2_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_LT_EVENT1_BITPOS)
                            15588 ; 401  |#define HW_LRADC2_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_LT_EVENT0_BITPOS)
                            15589 ; 402  |#define HW_LRADC2_RESULT_RSVD0_SETMASK (((1<<HW_LRADC2_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC2_R
                                  ESULT_RSVD0_BITPOS)
                            15590 ; 403  |#define HW_LRADC2_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC2_RESULT_DATA_OUT_WIDTH)-1)<<HW_LR
                                  ADC2_RESULT_DATA_OUT_BITPOS)
                            15591 ; 404  |#define HW_LRADC2_RESULT_RSVD1_SETMASK (((1<<HW_LRADC2_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC2_R
                                  ESULT_RSVD1_BITPOS)
                            15592 ; 405  |#define HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH)-1)<<H
                                  W_LRADC2_RESULT_IRQ_EVENT0_BITPOS)
                            15593 ; 406  |#define HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH)-1)<<H
                                  W_LRADC2_RESULT_IRQ_EVENT1_BITPOS)
                            15594 ; 407  |#define HW_LRADC2_RESULT_RSVD2_SETMASK (((1<<HW_LRADC2_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC2_R
                                  ESULT_RSVD2_BITPOS)
                            15595 ; 408  |
                            15596 ; 409  |#define HW_LRADC2_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT1_SETMASK)
                            15597 ; 410  |#define HW_LRADC2_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT0_SETMASK)
                            15598 ; 411  |#define HW_LRADC2_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT1_SETMASK)
                            15599 ; 412  |#define HW_LRADC2_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT0_SETMASK)
                            15600 ; 413  |#define HW_LRADC2_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT1_SETMASK)
                            15601 ; 414  |#define HW_LRADC2_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT0_SETMASK)
                            15602 ; 415  |#define HW_LRADC2_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD0_SETMASK)
                            15603 ; 416  |#define HW_LRADC2_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC2_RESULT_DATA_OUT_SETMASK)
                            15604 ; 417  |#define HW_LRADC2_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD1_SETMASK)
                            15605 ; 418  |#define HW_LRADC2_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK)
                            15606 ; 419  |#define HW_LRADC2_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK)
                            15607 ; 420  |#define HW_LRADC2_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD2_SETMASK)
                            15608 ; 421  |
                            15609 ; 422  |#define HW_LRADC2_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+8))   
                                   /* LRADC2 Result Register */
                            15610 ; 423  |#define HW_LRADC_REF_0_SETMASK                  0x0<<HW_BATT_CTRL_REF_VAL_BITPOS
                            15611 ; 424  |#define HW_LRADC_REF_1_SETMASK                  0x1<<HW_BATT_CTRL_REF_VAL_BITPOS
                            15612 ; 425  |#define HW_LRADC_REF_2_SETMASK                  0x2<<HW_BATT_CTRL_REF_VAL_BITPOS
                            15613 ; 426  |#define HW_LRADC_REF_3_SETMASK                  0x3<<HW_BATT_CTRL_REF_VAL_BITPOS
                            15614 ; 427  |#define HW_LRADC_REF_4_SETMASK                  HW_LRADC_REF_0_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                            15615 ; 428  |#define HW_LRADC_REF_5_SETMASK                  HW_LRADC_REF_1_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                            15616 ; 429  |#define HW_LRADC_REF_6_SETMASK                  HW_LRADC_REF_2_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                            15617 ; 430  |#define HW_LRADC_REF_7_SETMASK                  HW_LRADC_REF_3_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                            15618 ; 431  |#define HW_LRADC_RES_REF_0                              80
                            15619 ; 432  |#define HW_LRADC_RES_REF_1                              77
                            15620 ; 433  |#define HW_LRADC_RES_REF_2                              100
                            15621 ; 434  |#define HW_LRADC_RES_REF_3                              129
                            15622 ; 435  |#define HW_LRADC_RES_REF_4                              160
                            15623 ; 436  |#define HW_LRADC_RES_REF_5                              154
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 257

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15624 ; 437  |#define HW_LRADC_RES_REF_6                              200
                            15625 ; 438  |#define HW_LRADC_RES_REF_7                              258
                            15626 ; 439  |#define LRADC_HALF_POWER_SETMASK                HW_BATT_CTRL_HALF_CMP_PWR_SETMASK         
                                   
                            15627 ; 440  |// Translate the generic API enumerations into more meaningful labels for the implementati
                                  on
                            15628 ; 441  |#define REF_2700MV                      HW_LRADC_REF_0_SETMASK
                            15629 ; 442  |#define REF_2600MV              HW_LRADC_REF_1_SETMASK
                            15630 ; 443  |#define REF_2560MV              HW_LRADC_REF_2_SETMASK
                            15631 ; 444  |#define REF_VDDIO               HW_LRADC_REF_3_SETMASK
                            15632 ; 445  |#define REF_5400MV              HW_LRADC_REF_4_SETMASK
                            15633 ; 446  |#define REF_5200MV              HW_LRADC_REF_5_SETMASK
                            15634 ; 447  |#define REF_5120MV              HW_LRADC_REF_6_SETMASK
                            15635 ; 448  |#define REF_VDDIOx2             HW_LRADC_REF_7_SETMASK
                            15636 ; 449  |#define RES_REF_2700MV  HW_LRADC_RES_REF_0
                            15637 ; 450  |#define RES_REF_2600MV  HW_LRADC_RES_REF_1
                            15638 ; 451  |#define RES_REF_2560MV  HW_LRADC_RES_REF_2
                            15639 ; 452  |#define RES_REF_VDDIO   HW_LRADC_RES_REF_3
                            15640 ; 453  |#define RES_REF_5400MV  HW_LRADC_RES_REF_4
                            15641 ; 454  |#define RES_REF_5200MV  HW_LRADC_RES_REF_5
                            15642 ; 455  |#define RES_REF_5120MV  HW_LRADC_RES_REF_6
                            15643 ; 456  |#define RES_REF_VDDIOx2         HW_LRADC_RES_REF_7
                            15644 ; 457  |
                            15645 ; 458  |//Needed by button.asm
                            15646 ; 459  |#define LOW_RES_ADC_BATT_READ_MASK 0x01FF00
                            15647 ; 460  |#define LOW_RES_ADC_AUX_READ_MASK 0x01FF00
                            15648 ; 461  |#define LOW_RES_ADC_AUX2_READ_MASK 0x01FF00
                            15649 ; 462  |
                            15650 ; 463  |#define HW_LRADC_CTRL_AUXADC_SETMASK 3<<HW_BATT_CTRL_REF_VAL_BITPOS
                            15651 ; 464  |
                            15652 ; 465  |#endif
                            15653 ; 466  |
                            15654 ; 467  |
                            15655 
                            15657 
                            15658 ; 27   |#include "regspwm.h"
                            15659 
                            15661 
                            15662 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            15663 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2001
                            15664 ; 3    |// Filename: regspwm.inc
                            15665 ; 4    |// Description: Register definitions for PWM interface
                            15666 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            15667 ; 6    |// The following naming conventions are followed in this file.
                            15668 ; 7    |// All registers are named using the format...
                            15669 ; 8    |//     HW_<module>_<regname>
                            15670 ; 9    |// where <module> is the module name which can be any of the following...
                            15671 ; 10   |//     USB20
                            15672 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            15673 ; 12   |// module name includes a number starting from 0 for the first instance of
                            15674 ; 13   |// that module)
                            15675 ; 14   |// <regname> is the specific register within that module
                            15676 ; 15   |// We also define the following...
                            15677 ; 16   |//     HW_<module>_<regname>_BITPOS
                            15678 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            15679 ; 18   |//     HW_<module>_<regname>_SETMASK
                            15680 ; 19   |// which does something else, and
                            15681 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            15682 ; 21   |// which does something else.
                            15683 ; 22   |// Other rules
                            15684 ; 23   |//     All caps
                            15685 ; 24   |//     Numeric identifiers start at 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 258

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15686 ; 25   |#if !(defined(regspwminc))
                            15687 ; 26   |#define regspwminc 1
                            15688 ; 27   |
                            15689 ; 28   |#include "types.h"
                            15690 
                            15692 
                            15693 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            15694 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            15695 ; 3    |//
                            15696 ; 4    |// Filename: types.h
                            15697 ; 5    |// Description: Standard data types
                            15698 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            15699 ; 7    |
                            15700 ; 8    |#ifndef _TYPES_H
                            15701 ; 9    |#define _TYPES_H
                            15702 ; 10   |
                            15703 ; 11   |// TODO:  move this outta here!
                            15704 ; 12   |#if !defined(NOERROR)
                            15705 ; 13   |#define NOERROR 0
                            15706 ; 14   |#define SUCCESS 0
                            15707 ; 15   |#endif 
                            15708 ; 16   |#if !defined(SUCCESS)
                            15709 ; 17   |#define SUCCESS  0
                            15710 ; 18   |#endif
                            15711 ; 19   |#if !defined(ERROR)
                            15712 ; 20   |#define ERROR   -1
                            15713 ; 21   |#endif
                            15714 ; 22   |#if !defined(FALSE)
                            15715 ; 23   |#define FALSE 0
                            15716 ; 24   |#endif
                            15717 ; 25   |#if !defined(TRUE)
                            15718 ; 26   |#define TRUE  1
                            15719 ; 27   |#endif
                            15720 ; 28   |
                            15721 ; 29   |#if !defined(NULL)
                            15722 ; 30   |#define NULL 0
                            15723 ; 31   |#endif
                            15724 ; 32   |
                            15725 ; 33   |#define MAX_INT     0x7FFFFF
                            15726 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            15727 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            15728 ; 36   |#define MAX_ULONG   (-1) 
                            15729 ; 37   |
                            15730 ; 38   |#define WORD_SIZE   24              // word size in bits
                            15731 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            15732 ; 40   |
                            15733 ; 41   |
                            15734 ; 42   |#define BYTE    unsigned char       // btVarName
                            15735 ; 43   |#define CHAR    signed char         // cVarName
                            15736 ; 44   |#define USHORT  unsigned short      // usVarName
                            15737 ; 45   |#define SHORT   unsigned short      // sVarName
                            15738 ; 46   |#define WORD    unsigned int        // wVarName
                            15739 ; 47   |#define INT     signed int          // iVarName
                            15740 ; 48   |#define DWORD   unsigned long       // dwVarName
                            15741 ; 49   |#define LONG    signed long         // lVarName
                            15742 ; 50   |#define BOOL    unsigned int        // bVarName
                            15743 ; 51   |#define FRACT   _fract              // frVarName
                            15744 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            15745 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            15746 ; 54   |#define FLOAT   float               // fVarName
                            15747 ; 55   |#define DBL     double              // dVarName
                            15748 ; 56   |#define ENUM    enum                // eVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 259

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15749 ; 57   |#define CMX     _complex            // cmxVarName
                            15750 ; 58   |typedef WORD UCS3;                   // 
                            15751 ; 59   |
                            15752 ; 60   |#define UINT16  unsigned short
                            15753 ; 61   |#define UINT8   unsigned char   
                            15754 ; 62   |#define UINT32  unsigned long
                            15755 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            15756 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            15757 ; 65   |#define WCHAR   UINT16
                            15758 ; 66   |
                            15759 ; 67   |//UINT128 is 16 bytes or 6 words
                            15760 ; 68   |typedef struct UINT128_3500 {   
                            15761 ; 69   |    int val[6];     
                            15762 ; 70   |} UINT128_3500;
                            15763 ; 71   |
                            15764 ; 72   |#define UINT128   UINT128_3500
                            15765 ; 73   |
                            15766 ; 74   |// Little endian word packed byte strings:   
                            15767 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            15768 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            15769 ; 77   |// Little endian word packed byte strings:   
                            15770 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            15771 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            15772 ; 80   |
                            15773 ; 81   |// Declare Memory Spaces To Use When Coding
                            15774 ; 82   |// A. Sector Buffers
                            15775 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            15776 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            15777 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            15778 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            15779 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            15780 ; 88   |// B. Media DDI Memory
                            15781 ; 89   |#define MEDIA_DDI_MEM _Y
                            15782 ; 90   |
                            15783 ; 91   |
                            15784 ; 92   |
                            15785 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            15786 ; 94   |// Examples of circular pointers:
                            15787 ; 95   |//    INT CIRC cpiVarName
                            15788 ; 96   |//    DWORD CIRC cpdwVarName
                            15789 ; 97   |
                            15790 ; 98   |#define RETCODE INT                 // rcVarName
                            15791 ; 99   |
                            15792 ; 100  |// generic bitfield structure
                            15793 ; 101  |struct Bitfield {
                            15794 ; 102  |    unsigned int B0  :1;
                            15795 ; 103  |    unsigned int B1  :1;
                            15796 ; 104  |    unsigned int B2  :1;
                            15797 ; 105  |    unsigned int B3  :1;
                            15798 ; 106  |    unsigned int B4  :1;
                            15799 ; 107  |    unsigned int B5  :1;
                            15800 ; 108  |    unsigned int B6  :1;
                            15801 ; 109  |    unsigned int B7  :1;
                            15802 ; 110  |    unsigned int B8  :1;
                            15803 ; 111  |    unsigned int B9  :1;
                            15804 ; 112  |    unsigned int B10 :1;
                            15805 ; 113  |    unsigned int B11 :1;
                            15806 ; 114  |    unsigned int B12 :1;
                            15807 ; 115  |    unsigned int B13 :1;
                            15808 ; 116  |    unsigned int B14 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 260

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15809 ; 117  |    unsigned int B15 :1;
                            15810 ; 118  |    unsigned int B16 :1;
                            15811 ; 119  |    unsigned int B17 :1;
                            15812 ; 120  |    unsigned int B18 :1;
                            15813 ; 121  |    unsigned int B19 :1;
                            15814 ; 122  |    unsigned int B20 :1;
                            15815 ; 123  |    unsigned int B21 :1;
                            15816 ; 124  |    unsigned int B22 :1;
                            15817 ; 125  |    unsigned int B23 :1;
                            15818 ; 126  |};
                            15819 ; 127  |
                            15820 ; 128  |union BitInt {
                            15821 ; 129  |        struct Bitfield B;
                            15822 ; 130  |        int        I;
                            15823 ; 131  |};
                            15824 ; 132  |
                            15825 ; 133  |#define MAX_MSG_LENGTH 10
                            15826 ; 134  |struct CMessage
                            15827 ; 135  |{
                            15828 ; 136  |        unsigned int m_uLength;
                            15829 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            15830 ; 138  |};
                            15831 ; 139  |
                            15832 ; 140  |typedef struct {
                            15833 ; 141  |    WORD m_wLength;
                            15834 ; 142  |    WORD m_wMessage;
                            15835 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            15836 ; 144  |} Message;
                            15837 ; 145  |
                            15838 ; 146  |struct MessageQueueDescriptor
                            15839 ; 147  |{
                            15840 ; 148  |        int *m_pBase;
                            15841 ; 149  |        int m_iModulo;
                            15842 ; 150  |        int m_iSize;
                            15843 ; 151  |        int *m_pHead;
                            15844 ; 152  |        int *m_pTail;
                            15845 ; 153  |};
                            15846 ; 154  |
                            15847 ; 155  |struct ModuleEntry
                            15848 ; 156  |{
                            15849 ; 157  |    int m_iSignaledEventMask;
                            15850 ; 158  |    int m_iWaitEventMask;
                            15851 ; 159  |    int m_iResourceOfCode;
                            15852 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            15853 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            15854 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            15855 ; 163  |    int m_uTimeOutHigh;
                            15856 ; 164  |    int m_uTimeOutLow;
                            15857 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            15858 ; 166  |};
                            15859 ; 167  |
                            15860 ; 168  |union WaitMask{
                            15861 ; 169  |    struct B{
                            15862 ; 170  |        unsigned int m_bNone     :1;
                            15863 ; 171  |        unsigned int m_bMessage  :1;
                            15864 ; 172  |        unsigned int m_bTimer    :1;
                            15865 ; 173  |        unsigned int m_bButton   :1;
                            15866 ; 174  |    } B;
                            15867 ; 175  |    int I;
                            15868 ; 176  |} ;
                            15869 ; 177  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 261

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15870 ; 178  |
                            15871 ; 179  |struct Button {
                            15872 ; 180  |        WORD wButtonEvent;
                            15873 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            15874 ; 182  |};
                            15875 ; 183  |
                            15876 ; 184  |struct Message {
                            15877 ; 185  |        WORD wMsgLength;
                            15878 ; 186  |        WORD wMsgCommand;
                            15879 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            15880 ; 188  |};
                            15881 ; 189  |
                            15882 ; 190  |union EventTypes {
                            15883 ; 191  |        struct CMessage msg;
                            15884 ; 192  |        struct Button Button ;
                            15885 ; 193  |        struct Message Message;
                            15886 ; 194  |};
                            15887 ; 195  |
                            15888 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            15889 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            15890 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            15891 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            15892 ; 200  |
                            15893 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            15894 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            15895 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            15896 ; 204  |
                            15897 ; 205  |#if DEBUG
                            15898 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            15899 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            15900 ; 208  |#else 
                            15901 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            15902 ; 210  |#define DebugBuildAssert(x)    
                            15903 ; 211  |#endif
                            15904 ; 212  |
                            15905 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            15906 ; 214  |//  #pragma asm
                            15907 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            15908 ; 216  |//  #pragma endasm
                            15909 ; 217  |
                            15910 ; 218  |
                            15911 ; 219  |#ifdef COLOR_262K
                            15912 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            15913 ; 221  |#elif defined(COLOR_65K)
                            15914 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            15915 ; 223  |#else
                            15916 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            15917 ; 225  |#endif
                            15918 ; 226  |    
                            15919 ; 227  |#endif // #ifndef _TYPES_H
                            15920 
                            15922 
                            15923 ; 29   |
                            15924 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15925 ; 31   |//   Pulse Width Modulator STMP Registers 
                            15926 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15927 ; 33   |#define HW_PWM_BASEADDR (0xFA31)
                            15928 ; 34   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 262

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15929 ; 35   |
                            15930 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            15931 ; 37   |//  PWM CSR register (HW_PWM_CSR) Bit Definitions
                            15932 ; 38   |#define HW_PWM_CSR_PWM0_EN_BITPOS (0)
                            15933 ; 39   |#define HW_PWM_CSR_PWM1_EN_BITPOS (1) 
                            15934 ; 40   |#define HW_PWM_CSR_PWM2_EN_BITPOS (2)
                            15935 ; 41   |#define HW_PWM_CSR_PWM3_EN_BITPOS (3)
                            15936 ; 42   |#define HW_PWM_CSR_CDIV_BITPOS (8)
                            15937 ; 43   |#define HW_PWM_CSR_MSTR_EN_BITPOS (23)
                            15938 ; 44   |
                            15939 ; 45   |#define HW_PWM_CSR_PWM0_EN_WIDTH (1)
                            15940 ; 46   |#define HW_PWM_CSR_PWM1_EN_WIDTH (1) 
                            15941 ; 47   |#define HW_PWM_CSR_PWM2_EN_WIDTH (1)
                            15942 ; 48   |#define HW_PWM_CSR_PWM3_EN_WIDTH (1)
                            15943 ; 49   |#define HW_PWM_CSR_CDIV_WIDTH (2)
                            15944 ; 50   |#define HW_PWM_CSR_MSTR_EN_WIDTH (1)
                            15945 ; 51   |
                            15946 ; 52   |#define HW_PWM_CSR_PWM0_EN_SETMASK (((1<<HW_PWM_CSR_PWM0_EN_WIDTH)-1)<<HW_PWM_CSR_PWM0_EN_
                                  BITPOS)
                            15947 ; 53   |#define HW_PWM_CSR_PWM1_EN_SETMASK (((1<<HW_PWM_CSR_PWM1_EN_WIDTH)-1)<<HW_PWM_CSR_PWM1_EN_
                                  BITPOS)
                            15948 ; 54   |#define HW_PWM_CSR_PWM2_EN_SETMASK (((1<<HW_PWM_CSR_PWM2_EN_WIDTH)-1)<<HW_PWM_CSR_PWM2_EN_
                                  BITPOS)
                            15949 ; 55   |#define HW_PWM_CSR_PWM3_EN_SETMASK (((1<<HW_PWM_CSR_PWM3_EN_WIDTH)-1)<<HW_PWM_CSR_PWM3_EN_
                                  BITPOS)
                            15950 ; 56   |#define HW_PWM_CSR_CDIV_SETMASK (((1<<HW_PWM_CSR_CDIV_WIDTH)-1)<<HW_PWM_CSR_CDIV_BITPOS)
                            15951 ; 57   |#define HW_PWM_CSR_MSTR_EN_SETMASK (((1<<HW_PWM_CSR_MSTR_EN_WIDTH)-1)<<HW_PWM_CSR_MSTR_EN_
                                  BITPOS)
                            15952 ; 58   |
                            15953 ; 59   |#define HW_PWM_CSR_PWM0_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM0_EN_SETMASK)
                            15954 ; 60   |#define HW_PWM_CSR_PWM1_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM1_EN_SETMASK)
                            15955 ; 61   |#define HW_PWM_CSR_PWM2_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM2_EN_SETMASK)
                            15956 ; 62   |#define HW_PWM_CSR_PWM3_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM3_EN_SETMASK)
                            15957 ; 63   |#define HW_PWM_CSR_CDIV_CLRMASK (~(WORD)HW_PWM_CSR_CDIV_SETMASK)   
                            15958 ; 64   |#define HW_PWM_CSR_MSTR_EN_CLRMASK (~(WORD)HW_PWM_CSR_MSTR_EN_SETMASK)
                            15959 ; 65   |
                            15960 ; 66   |typedef union               
                            15961 ; 67   |{
                            15962 ; 68   |    struct {
                            15963 ; 69   |        int PWM0_EN                    :1;
                            15964 ; 70   |        int PWM1_EN                    :1;
                            15965 ; 71   |        int PWM2_EN                    :1;
                            15966 ; 72   |        int PWM3_EN                    :1;
                            15967 ; 73   |        int RSVD0                      :4;
                            15968 ; 74   |        int CDIV                       :2;
                            15969 ; 75   |        int RSVD1                      :13;
                            15970 ; 76   |        int MSTR_EN                    :1;
                            15971 ; 77   |    } B;
                            15972 ; 78   |    int I;
                            15973 ; 79   |} pwmcsr_type;
                            15974 ; 80   |#define HW_PWM_CSR        (*(volatile pwmcsr_type _X*) (HW_PWM_BASEADDR))  /* PWM Control 
                                  Status Register */
                            15975 ; 81   |
                            15976 ; 82   |/////////////////////////////////////////////////////////////////////////////////
                            15977 ; 83   |//  PWM CHANNEL 0 A  (HW_PWM_CH0AR) Bit Definitions
                            15978 ; 84   |#define HW_PWM_CH0AR_ACTIVE_BITPOS (0)
                            15979 ; 85   |#define HW_PWM_CH0AR_INACTIVE_BITPOS (12)
                            15980 ; 86   |
                            15981 ; 87   |#define HW_PWM_CH0AR_ACTIVE_WIDTH (12)
                            15982 ; 88   |#define HW_PWM_CH0AR_INACTIVE_WIDTH (12)
                            15983 ; 89   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 263

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15984 ; 90   |#define HW_PWM_CH0AR_ACTIVE_SETMASK (((1<<HW_PWM_CH0AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH0AR_ACTI
                                  VE_BITPOS)
                            15985 ; 91   |#define HW_PWM_CH0AR_INACTIVE_SETMASK (((1<<HW_PWM_CH0AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH0AR_
                                  INACTIVE_BITPOS)
                            15986 ; 92   |
                            15987 ; 93   |#define HW_PWM_CH0AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH0AR_ACTIVE_SETMASK)
                            15988 ; 94   |#define HW_PWM_CH0AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH0AR_INACTIVE_SETMASK)
                            15989 ; 95   |
                            15990 ; 96   |/////////////////////////////////////////////////////////////////////////////////
                            15991 ; 97   |//  PWM CHANNEL 0 B  (HW_PWM_CH0BR) Bit Definitions
                            15992 ; 98   |#define HW_PWM_CH0BR_ACTIVE_BITPOS (0)
                            15993 ; 99   |#define HW_PWM_CH0BR_INACTIVE_BITPOS (12)
                            15994 ; 100  |
                            15995 ; 101  |#define HW_PWM_CH0BR_ACTIVE_WIDTH (12)
                            15996 ; 102  |#define HW_PWM_CH0BR_INACTIVE_WIDTH (12)
                            15997 ; 103  |
                            15998 ; 104  |#define HW_PWM_CH0BR_ACTIVE_SETMASK (((1<<HW_PWM_CH0BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH0BR_ACTI
                                  VE_BITPOS)
                            15999 ; 105  |#define HW_PWM_CH0BR_INACTIVE_SETMASK (((1<<HW_PWM_CH0BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH0BR_
                                  INACTIVE_BITPOS)
                            16000 ; 106  |
                            16001 ; 107  |#define HW_PWM_CH0BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH0BR_ACTIVE_SETMASK)
                            16002 ; 108  |#define HW_PWM_CH0BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH0BR_INACTIVE_SETMASK)
                            16003 ; 109  |
                            16004 ; 110  |/////////////////////////////////////////////////////////////////////////////////
                            16005 ; 111  |//  PWM CHANNEL 1 A  (HW_PWM_CH1AR) Bit Definitions
                            16006 ; 112  |#define HW_PWM_CH1AR_ACTIVE_BITPOS (0)
                            16007 ; 113  |#define HW_PWM_CH1AR_INACTIVE_BITPOS (12)
                            16008 ; 114  |
                            16009 ; 115  |#define HW_PWM_CH1AR_ACTIVE_WIDTH (12)
                            16010 ; 116  |#define HW_PWM_CH1AR_INACTIVE_WIDTH (12)
                            16011 ; 117  |
                            16012 ; 118  |#define HW_PWM_CH1AR_ACTIVE_SETMASK (((1<<HW_PWM_CH1AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH1AR_ACTI
                                  VE_BITPOS)
                            16013 ; 119  |#define HW_PWM_CH1AR_INACTIVE_SETMASK (((1<<HW_PWM_CH1AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH1AR_
                                  INACTIVE_BITPOS)
                            16014 ; 120  |
                            16015 ; 121  |#define HW_PWM_CH1AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH1AR_ACTIVE_SETMASK)
                            16016 ; 122  |#define HW_PWM_CH1AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH1AR_INACTIVE_SETMASK)
                            16017 ; 123  |
                            16018 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                            16019 ; 125  |//  PWM CHANNEL 1 B  (HW_PWM_CH1BR) Bit Definitions
                            16020 ; 126  |#define HW_PWM_CH1BR_ACTIVE_BITPOS (0)
                            16021 ; 127  |#define HW_PWM_CH1BR_INACTIVE_BITPOS (12)
                            16022 ; 128  |
                            16023 ; 129  |#define HW_PWM_CH1BR_ACTIVE_WIDTH (12)
                            16024 ; 130  |#define HW_PWM_CH1BR_INACTIVE_WIDTH (12)
                            16025 ; 131  |
                            16026 ; 132  |#define HW_PWM_CH1BR_ACTIVE_SETMASK (((1<<HW_PWM_CH1BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH1BR_ACTI
                                  VE_BITPOS)
                            16027 ; 133  |#define HW_PWM_CH1BR_INACTIVE_SETMASK (((1<<HW_PWM_CH1BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH1BR_
                                  INACTIVE_BITPOS)
                            16028 ; 134  |
                            16029 ; 135  |#define HW_PWM_CH1BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH1BR_ACTIVE_SETMASK)
                            16030 ; 136  |#define HW_PWM_CH1BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH1BR_INACTIVE_SETMASK)
                            16031 ; 137  |
                            16032 ; 138  |/////////////////////////////////////////////////////////////////////////////////
                            16033 ; 139  |//  PWM CHANNEL 2 A  (HW_PWM_CH2AR) Bit Definitions
                            16034 ; 140  |#define HW_PWM_CH2AR_ACTIVE_BITPOS (0)
                            16035 ; 141  |#define HW_PWM_CH2AR_INACTIVE_BITPOS (12)
                            16036 ; 142  |
                            16037 ; 143  |#define HW_PWM_CH2AR_ACTIVE_WIDTH (12)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 264

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16038 ; 144  |#define HW_PWM_CH2AR_INACTIVE_WIDTH (12)
                            16039 ; 145  |
                            16040 ; 146  |#define HW_PWM_CH2AR_ACTIVE_SETMASK (((1<<HW_PWM_CH2AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH2AR_ACTI
                                  VE_BITPOS)
                            16041 ; 147  |#define HW_PWM_CH2AR_INACTIVE_SETMASK (((1<<HW_PWM_CH2AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH2AR_
                                  INACTIVE_BITPOS)
                            16042 ; 148  |
                            16043 ; 149  |#define HW_PWM_CH2AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH2AR_ACTIVE_SETMASK)
                            16044 ; 150  |#define HW_PWM_CH2AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH2AR_INACTIVE_SETMASK)
                            16045 ; 151  |
                            16046 ; 152  |/////////////////////////////////////////////////////////////////////////////////
                            16047 ; 153  |//  PWM CHANNEL 2 B  (HW_PWM_CH2BR) Bit Definitions
                            16048 ; 154  |#define HW_PWM_CH2BR_ACTIVE_BITPOS (0)
                            16049 ; 155  |#define HW_PWM_CH2BR_INACTIVE_BITPOS (12)
                            16050 ; 156  |
                            16051 ; 157  |#define HW_PWM_CH2BR_ACTIVE_WIDTH (12)
                            16052 ; 158  |#define HW_PWM_CH2BR_INACTIVE_WIDTH (12)
                            16053 ; 159  |
                            16054 ; 160  |#define HW_PWM_CH2BR_ACTIVE_SETMASK (((1<<HW_PWM_CH2BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH2BR_ACTI
                                  VE_BITPOS)
                            16055 ; 161  |#define HW_PWM_CH2BR_INACTIVE_SETMASK (((1<<HW_PWM_CH2BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH2BR_
                                  INACTIVE_BITPOS)
                            16056 ; 162  |
                            16057 ; 163  |#define HW_PWM_CH2BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH2BR_ACTIVE_SETMASK)
                            16058 ; 164  |#define HW_PWM_CH2BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH2BR_INACTIVE_SETMASK)
                            16059 ; 165  |
                            16060 ; 166  |/////////////////////////////////////////////////////////////////////////////////
                            16061 ; 167  |//  PWM CHANNEL 3 A  (HW_PWM_CH3AR) Bit Definitions
                            16062 ; 168  |#define HW_PWM_CH3AR_ACTIVE_BITPOS (0)
                            16063 ; 169  |#define HW_PWM_CH3AR_INACTIVE_BITPOS (12)
                            16064 ; 170  |
                            16065 ; 171  |#define HW_PWM_CH3AR_ACTIVE_WIDTH (12)
                            16066 ; 172  |#define HW_PWM_CH3AR_INACTIVE_WIDTH (12)
                            16067 ; 173  |
                            16068 ; 174  |#define HW_PWM_CH3AR_ACTIVE_SETMASK (((1<<HW_PWM_CH3AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH3AR_ACTI
                                  VE_BITPOS)
                            16069 ; 175  |#define HW_PWM_CH3AR_INACTIVE_SETMASK (((1<<HW_PWM_CH3AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH3AR_
                                  INACTIVE_BITPOS)
                            16070 ; 176  |
                            16071 ; 177  |#define HW_PWM_CH3AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH3AR_ACTIVE_SETMASK)
                            16072 ; 178  |#define HW_PWM_CH3AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH3AR_INACTIVE_SETMASK)
                            16073 ; 179  |
                            16074 ; 180  |/////////////////////////////////////////////////////////////////////////////////
                            16075 ; 181  |//  PWM CHANNEL 3 B  (HW_PWM_CH3BR) Bit Definitions
                            16076 ; 182  |#define HW_PWM_CH3BR_ACTIVE_BITPOS (0)
                            16077 ; 183  |#define HW_PWM_CH3BR_INACTIVE_BITPOS (12)
                            16078 ; 184  |
                            16079 ; 185  |#define HW_PWM_CH3BR_ACTIVE_WIDTH (12)
                            16080 ; 186  |#define HW_PWM_CH3BR_INACTIVE_WIDTH (12)
                            16081 ; 187  |
                            16082 ; 188  |#define HW_PWM_CH3BR_ACTIVE_SETMASK (((1<<HW_PWM_CH3BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH3BR_ACTI
                                  VE_BITPOS)
                            16083 ; 189  |#define HW_PWM_CH3BR_INACTIVE_SETMASK (((1<<HW_PWM_CH3BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH3BR_
                                  INACTIVE_BITPOS)
                            16084 ; 190  |
                            16085 ; 191  |#define HW_PWM_CH3BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH3BR_ACTIVE_SETMASK)
                            16086 ; 192  |#define HW_PWM_CH3BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH3BR_INACTIVE_SETMASK)
                            16087 ; 193  |
                            16088 ; 194  |typedef union               
                            16089 ; 195  |{
                            16090 ; 196  |    struct {
                            16091 ; 197  |       int ACTIVE                    :12;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 265

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16092 ; 198  |       int INACTIVE                  :12;
                            16093 ; 199  |    } B;
                            16094 ; 200  |    int I;
                            16095 ; 201  |} pwmchan_type;
                            16096 ; 202  |#define HW_PWM_CH0AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+1))  /* PWM Cha
                                  nnel 0 A Register */
                            16097 ; 203  |#define HW_PWM_CH0BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+2))  /* PWM Cha
                                  nnel 0 B Register */
                            16098 ; 204  |#define HW_PWM_CH1AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+3))  /* PWM Cha
                                  nnel 1 A Register */
                            16099 ; 205  |#define HW_PWM_CH1BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+4))  /* PWM Cha
                                  nnel 1 B Register */
                            16100 ; 206  |#define HW_PWM_CH2AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+5))  /* PWM Cha
                                  nnel 2 A Register */
                            16101 ; 207  |#define HW_PWM_CH2BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+6))  /* PWM Cha
                                  nnel 2 B Register */
                            16102 ; 208  |#define HW_PWM_CH3AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+7))  /* PWM Cha
                                  nnel 3 A Register */
                            16103 ; 209  |#define HW_PWM_CH3BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+8))  /* PWM Cha
                                  nnel 3 B Register */
                            16104 ; 210  |
                            16105 ; 211  |#endif
                            16106 ; 212  |
                            16107 ; 213  |
                            16108 ; 214  |
                            16109 ; 215  |
                            16110 
                            16112 
                            16113 ; 28   |#include "regsrevision.h"
                            16114 
                            16116 
                            16117 ; 1    |#if !(defined(__HW_REVR))
                            16118 ; 2    |#define __HW_REVR 1
                            16119 ; 3    |
                            16120 ; 4    |
                            16121 ; 5    |#define HW_GLUE_BASEADDR 0xFA00
                            16122 ; 6    |
                            16123 ; 7    |#define HW_REVR_RMN_BITPOS (0)
                            16124 ; 8    |#define HW_REVR_DCDCMODE_BITPOS (5)
                            16125 ; 9    |#define HW_REVR_RMJ_BITPOS (8)
                            16126 ; 10   |
                            16127 ; 11   |#define HW_REVR_RMN_WIDTH (5)
                            16128 ; 12   |#define HW_REVR_DCDCMODE_WIDTH (3)
                            16129 ; 13   |
                            16130 ; 14   |#define HW_REVR_DCDCMODE_SETMASK (((1<<HW_REVR_DCDCMODE_WIDTH)-1)<<HW_REVR_DCDCMODE_BITPOS
                                  )
                            16131 ; 15   |
                            16132 ; 16   |#define HW_REVR_DCDCMODE_CLRMASK (~(WORD)HW_REVR_DCDCMODE_SETMASK)
                            16133 ; 17   |
                            16134 ; 18   |
                            16135 ; 19   |/////////////////////////////////////////////////////////////////////////////////
                            16136 ; 20   |//  Revision Register (HW_REVR) bitfields and values. (read only)
                            16137 ; 21   |//  June15 2004: C struct updated to be correct: 
                            16138 ; 22   |//   Added DCDCMODE bitfield. Removed RMP bitfield. Reduced size of RMN bitfield to 5 bits
                                  .
                            16139 ; 23   |typedef union               
                            16140 ; 24   |{
                            16141 ; 25   |    struct {
                            16142 ; 26   |        unsigned RMN    :5;     //Minor Revision
                            16143 ; 27   |        unsigned DCDCMODE : 3;  //DCDC mode field function depends on DCDC mode pin strapp
                                  ing
                            16144 ; 28   |           #define DCDCMODE_7_CONVERTER1_2CH_BOOST_CONVERTER2_OFF      7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 266

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16145 ; 29   |           #define DCDCMODE_6_RESERVED                                 6
                            16146 ; 30   |           #define DCDCMODE_5_CONVERTER1_3CH_BOOST_CONVERTER2_OFF      5
                            16147 ; 31   |           #define DCDCMODE_4_RESERVED                                 4
                            16148 ; 32   |           #define DCDCMODE_3_CONVERTER1_1CH_BUCK_CONVERTER2_OFF       3
                            16149 ; 33   |           #define DCDCMODE_2_CONVERTER1_OFF_CONVERTER2_OFF            2
                            16150 ; 34   |           #define DCDCMODE_1_CONVERTER1_1CH_BUCK_CONVERTER2_1CH_BOOST 1
                            16151 ; 35   |           #define DCDCMODE_0_CONVERTER1_1CH_BUCK_CONVERTER2_1CH_BUCK  0
                            16152 ; 36   |           #define DCDCMODE_X_BUCK_MASKED_SETMASK 0x4
                            16153 ; 37   |        unsigned RMJ    :16;    //Major Revision
                            16154 ; 38   |    } B;
                            16155 ; 39   |
                            16156 ; 40   |    int I;
                            16157 ; 41   |
                            16158 ; 42   |} revr_type;
                            16159 ; 43   |#define HW_REVR (*(volatile revr_type _X*) (HW_GLUE_BASEADDR+2))
                            16160 ; 44   |
                            16161 ; 45   |#define HW_REVR_DCDCMODE_B0_BITPOS 5
                            16162 ; 46   |#define HW_REVR_DCDCMODE_B1_BITPOS 6
                            16163 ; 47   |#define HW_REVR_DCDCMODE_B2_BITPOS 7
                            16164 ; 48   |
                            16165 ; 49   |#define HW_REVR_DCDCMODE_BUCK_MASK_POS HW_REVR_DCDCMODE_B2_BITPOS
                            16166 ; 50   |// 3 bit bitfield: (HW_REVR_DCDCMODE_B2_BITPOS|HW_REVR_DCDCMODE_B1_BITPOS|HW_REVR_DCDCMODE
                                  _B0_BITPOS)
                            16167 ; 51   |#define HW_REVR_DCDC_MODE_SETMASK 0x0000E0
                            16168 ; 52   |#define HW_REVR_RMN_SETMASK 0xFF<<HW_REVR_RMN_BITPOS
                            16169 ; 53   |#define HW_REVR_RMJ_SETMASK 0xFFFF<<HW_REVR_RMJ_BITPOS
                            16170 ; 54   |
                            16171 ; 55   |#define HW_REVR_RMN_CLRMASK ~(WORD)HW_REVR_RMN_SETMASK
                            16172 ; 56   |#define HW_REVR_RMJ_CLRMASK ~(WORD)HW_REVR_RMJ_SETMASK
                            16173 ; 57   |
                            16174 ; 58   |#endif //!@def(__HW_REVR)
                            16175 ; 59   |
                            16176 
                            16178 
                            16179 ; 29   |#include "regsrtc.h"
                            16180 
                            16182 
                            16183 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            16184 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            16185 ; 3    |// Filename: regsrtc.inc
                            16186 ; 4    |// Description: Register definitions for RTC interface
                            16187 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            16188 ; 6    |// The following naming conventions are followed in this file.
                            16189 ; 7    |// All registers are named using the format...
                            16190 ; 8    |//     HW_<module>_<regname>
                            16191 ; 9    |// where <module> is the module name which can be any of the following...
                            16192 ; 10   |//     USB20
                            16193 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            16194 ; 12   |// module name includes a number starting from 0 for the first instance of
                            16195 ; 13   |// that module)
                            16196 ; 14   |// <regname> is the specific register within that module
                            16197 ; 15   |// We also define the following...
                            16198 ; 16   |//     HW_<module>_<regname>_BITPOS
                            16199 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            16200 ; 18   |//     HW_<module>_<regname>_SETMASK
                            16201 ; 19   |// which does something else, and
                            16202 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            16203 ; 21   |// which does something else.
                            16204 ; 22   |// Other rules
                            16205 ; 23   |//     All caps
                            16206 ; 24   |//     Numeric identifiers start at 0
                            16207 ; 25   |#if !(defined(regsrtcinc))
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 267

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16208 ; 26   |#define regsrtcinc 1
                            16209 ; 27   |
                            16210 ; 28   |#include "types.h"
                            16211 
                            16213 
                            16214 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            16215 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            16216 ; 3    |//
                            16217 ; 4    |// Filename: types.h
                            16218 ; 5    |// Description: Standard data types
                            16219 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            16220 ; 7    |
                            16221 ; 8    |#ifndef _TYPES_H
                            16222 ; 9    |#define _TYPES_H
                            16223 ; 10   |
                            16224 ; 11   |// TODO:  move this outta here!
                            16225 ; 12   |#if !defined(NOERROR)
                            16226 ; 13   |#define NOERROR 0
                            16227 ; 14   |#define SUCCESS 0
                            16228 ; 15   |#endif 
                            16229 ; 16   |#if !defined(SUCCESS)
                            16230 ; 17   |#define SUCCESS  0
                            16231 ; 18   |#endif
                            16232 ; 19   |#if !defined(ERROR)
                            16233 ; 20   |#define ERROR   -1
                            16234 ; 21   |#endif
                            16235 ; 22   |#if !defined(FALSE)
                            16236 ; 23   |#define FALSE 0
                            16237 ; 24   |#endif
                            16238 ; 25   |#if !defined(TRUE)
                            16239 ; 26   |#define TRUE  1
                            16240 ; 27   |#endif
                            16241 ; 28   |
                            16242 ; 29   |#if !defined(NULL)
                            16243 ; 30   |#define NULL 0
                            16244 ; 31   |#endif
                            16245 ; 32   |
                            16246 ; 33   |#define MAX_INT     0x7FFFFF
                            16247 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            16248 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            16249 ; 36   |#define MAX_ULONG   (-1) 
                            16250 ; 37   |
                            16251 ; 38   |#define WORD_SIZE   24              // word size in bits
                            16252 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            16253 ; 40   |
                            16254 ; 41   |
                            16255 ; 42   |#define BYTE    unsigned char       // btVarName
                            16256 ; 43   |#define CHAR    signed char         // cVarName
                            16257 ; 44   |#define USHORT  unsigned short      // usVarName
                            16258 ; 45   |#define SHORT   unsigned short      // sVarName
                            16259 ; 46   |#define WORD    unsigned int        // wVarName
                            16260 ; 47   |#define INT     signed int          // iVarName
                            16261 ; 48   |#define DWORD   unsigned long       // dwVarName
                            16262 ; 49   |#define LONG    signed long         // lVarName
                            16263 ; 50   |#define BOOL    unsigned int        // bVarName
                            16264 ; 51   |#define FRACT   _fract              // frVarName
                            16265 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            16266 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            16267 ; 54   |#define FLOAT   float               // fVarName
                            16268 ; 55   |#define DBL     double              // dVarName
                            16269 ; 56   |#define ENUM    enum                // eVarName
                            16270 ; 57   |#define CMX     _complex            // cmxVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 268

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16271 ; 58   |typedef WORD UCS3;                   // 
                            16272 ; 59   |
                            16273 ; 60   |#define UINT16  unsigned short
                            16274 ; 61   |#define UINT8   unsigned char   
                            16275 ; 62   |#define UINT32  unsigned long
                            16276 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            16277 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            16278 ; 65   |#define WCHAR   UINT16
                            16279 ; 66   |
                            16280 ; 67   |//UINT128 is 16 bytes or 6 words
                            16281 ; 68   |typedef struct UINT128_3500 {   
                            16282 ; 69   |    int val[6];     
                            16283 ; 70   |} UINT128_3500;
                            16284 ; 71   |
                            16285 ; 72   |#define UINT128   UINT128_3500
                            16286 ; 73   |
                            16287 ; 74   |// Little endian word packed byte strings:   
                            16288 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            16289 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            16290 ; 77   |// Little endian word packed byte strings:   
                            16291 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            16292 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            16293 ; 80   |
                            16294 ; 81   |// Declare Memory Spaces To Use When Coding
                            16295 ; 82   |// A. Sector Buffers
                            16296 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            16297 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            16298 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            16299 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            16300 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            16301 ; 88   |// B. Media DDI Memory
                            16302 ; 89   |#define MEDIA_DDI_MEM _Y
                            16303 ; 90   |
                            16304 ; 91   |
                            16305 ; 92   |
                            16306 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            16307 ; 94   |// Examples of circular pointers:
                            16308 ; 95   |//    INT CIRC cpiVarName
                            16309 ; 96   |//    DWORD CIRC cpdwVarName
                            16310 ; 97   |
                            16311 ; 98   |#define RETCODE INT                 // rcVarName
                            16312 ; 99   |
                            16313 ; 100  |// generic bitfield structure
                            16314 ; 101  |struct Bitfield {
                            16315 ; 102  |    unsigned int B0  :1;
                            16316 ; 103  |    unsigned int B1  :1;
                            16317 ; 104  |    unsigned int B2  :1;
                            16318 ; 105  |    unsigned int B3  :1;
                            16319 ; 106  |    unsigned int B4  :1;
                            16320 ; 107  |    unsigned int B5  :1;
                            16321 ; 108  |    unsigned int B6  :1;
                            16322 ; 109  |    unsigned int B7  :1;
                            16323 ; 110  |    unsigned int B8  :1;
                            16324 ; 111  |    unsigned int B9  :1;
                            16325 ; 112  |    unsigned int B10 :1;
                            16326 ; 113  |    unsigned int B11 :1;
                            16327 ; 114  |    unsigned int B12 :1;
                            16328 ; 115  |    unsigned int B13 :1;
                            16329 ; 116  |    unsigned int B14 :1;
                            16330 ; 117  |    unsigned int B15 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 269

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16331 ; 118  |    unsigned int B16 :1;
                            16332 ; 119  |    unsigned int B17 :1;
                            16333 ; 120  |    unsigned int B18 :1;
                            16334 ; 121  |    unsigned int B19 :1;
                            16335 ; 122  |    unsigned int B20 :1;
                            16336 ; 123  |    unsigned int B21 :1;
                            16337 ; 124  |    unsigned int B22 :1;
                            16338 ; 125  |    unsigned int B23 :1;
                            16339 ; 126  |};
                            16340 ; 127  |
                            16341 ; 128  |union BitInt {
                            16342 ; 129  |        struct Bitfield B;
                            16343 ; 130  |        int        I;
                            16344 ; 131  |};
                            16345 ; 132  |
                            16346 ; 133  |#define MAX_MSG_LENGTH 10
                            16347 ; 134  |struct CMessage
                            16348 ; 135  |{
                            16349 ; 136  |        unsigned int m_uLength;
                            16350 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            16351 ; 138  |};
                            16352 ; 139  |
                            16353 ; 140  |typedef struct {
                            16354 ; 141  |    WORD m_wLength;
                            16355 ; 142  |    WORD m_wMessage;
                            16356 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            16357 ; 144  |} Message;
                            16358 ; 145  |
                            16359 ; 146  |struct MessageQueueDescriptor
                            16360 ; 147  |{
                            16361 ; 148  |        int *m_pBase;
                            16362 ; 149  |        int m_iModulo;
                            16363 ; 150  |        int m_iSize;
                            16364 ; 151  |        int *m_pHead;
                            16365 ; 152  |        int *m_pTail;
                            16366 ; 153  |};
                            16367 ; 154  |
                            16368 ; 155  |struct ModuleEntry
                            16369 ; 156  |{
                            16370 ; 157  |    int m_iSignaledEventMask;
                            16371 ; 158  |    int m_iWaitEventMask;
                            16372 ; 159  |    int m_iResourceOfCode;
                            16373 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            16374 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            16375 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            16376 ; 163  |    int m_uTimeOutHigh;
                            16377 ; 164  |    int m_uTimeOutLow;
                            16378 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            16379 ; 166  |};
                            16380 ; 167  |
                            16381 ; 168  |union WaitMask{
                            16382 ; 169  |    struct B{
                            16383 ; 170  |        unsigned int m_bNone     :1;
                            16384 ; 171  |        unsigned int m_bMessage  :1;
                            16385 ; 172  |        unsigned int m_bTimer    :1;
                            16386 ; 173  |        unsigned int m_bButton   :1;
                            16387 ; 174  |    } B;
                            16388 ; 175  |    int I;
                            16389 ; 176  |} ;
                            16390 ; 177  |
                            16391 ; 178  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 270

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16392 ; 179  |struct Button {
                            16393 ; 180  |        WORD wButtonEvent;
                            16394 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            16395 ; 182  |};
                            16396 ; 183  |
                            16397 ; 184  |struct Message {
                            16398 ; 185  |        WORD wMsgLength;
                            16399 ; 186  |        WORD wMsgCommand;
                            16400 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            16401 ; 188  |};
                            16402 ; 189  |
                            16403 ; 190  |union EventTypes {
                            16404 ; 191  |        struct CMessage msg;
                            16405 ; 192  |        struct Button Button ;
                            16406 ; 193  |        struct Message Message;
                            16407 ; 194  |};
                            16408 ; 195  |
                            16409 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            16410 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            16411 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            16412 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            16413 ; 200  |
                            16414 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            16415 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            16416 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            16417 ; 204  |
                            16418 ; 205  |#if DEBUG
                            16419 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            16420 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            16421 ; 208  |#else 
                            16422 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            16423 ; 210  |#define DebugBuildAssert(x)    
                            16424 ; 211  |#endif
                            16425 ; 212  |
                            16426 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            16427 ; 214  |//  #pragma asm
                            16428 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            16429 ; 216  |//  #pragma endasm
                            16430 ; 217  |
                            16431 ; 218  |
                            16432 ; 219  |#ifdef COLOR_262K
                            16433 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            16434 ; 221  |#elif defined(COLOR_65K)
                            16435 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            16436 ; 223  |#else
                            16437 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            16438 ; 225  |#endif
                            16439 ; 226  |    
                            16440 ; 227  |#endif // #ifndef _TYPES_H
                            16441 
                            16443 
                            16444 ; 29   |
                            16445 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16446 ; 31   |
                            16447 ; 32   |//   RTC STMP Registers 
                            16448 ; 33   |//   Edited 2/26/2002 J. Ferrara
                            16449 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16450 ; 35   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 271

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16451 ; 36   |#define HW_RTC_BASEADDR (0xF500)
                            16452 ; 37   |
                            16453 ; 38   |
                            16454 ; 39   |
                            16455 ; 40   |
                            16456 ; 41   |
                            16457 ; 42   |/////////////////////////////////////////////////////////////////////////////////
                            16458 ; 43   |
                            16459 ; 44   |////  RTC Control Status Register (HW_RTC_CSR) Bit Definitions
                            16460 ; 45   |
                            16461 ; 46   |#define HW_RTC_CSR_ALARMINTEN_BITPOS (0)
                            16462 ; 47   |#define HW_RTC_CSR_ALARMINT_BITPOS (1)
                            16463 ; 48   |#define HW_RTC_CSR_WATCHDOGEN_BITPOS (2)
                            16464 ; 49   |#define HW_RTC_CSR_RSVD0_BITPOS (3)
                            16465 ; 50   |#define HW_RTC_CSR_STALEREGS_BITPOS (4)
                            16466 ; 51   |#define HW_RTC_CSR_RSVD1_BITPOS (9)
                            16467 ; 52   |#define HW_RTC_CSR_NEWREGS_BITPOS (12)
                            16468 ; 53   |#define HW_RTC_CSR_NEWREGS_XTALDIV_BITPOS (12)
                            16469 ; 54   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_BITPOS (13)
                            16470 ; 55   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS (14)
                            16471 ; 56   |#define HW_RTC_CSR_NEWREGS_PERSIST0_BITPOS (15)
                            16472 ; 57   |#define HW_RTC_CSR_NEWREGS_PERSIST1_BITPOS (16)
                            16473 ; 58   |#define HW_RTC_CSR_RSVD2_BITPOS (17)
                            16474 ; 59   |#define HW_RTC_CSR_FORCE_BITPOS (20)
                            16475 ; 60   |#define HW_RTC_CSR_RSVD3_BITPOS (21)
                            16476 ; 61   |#define HW_RTC_CSR_SFTRST_BITPOS (23)                                                     
                                                          
                            16477 ; 62   |#define HW_RTC_CSR_ALARMINTEN_WIDTH (1)
                            16478 ; 63   |#define HW_RTC_CSR_ALARMINT_WIDTH (1)
                            16479 ; 64   |#define HW_RTC_CSR_WATCHDOGEN_WIDTH (1)
                            16480 ; 65   |#define HW_RTC_CSR_RSVD0_WIDTH (1)
                            16481 ; 66   |#define HW_RTC_CSR_STALEREGS_WIDTH (5)
                            16482 ; 67   |#define HW_RTC_CSR_RSVD1_WIDTH (3)
                            16483 ; 68   |#define HW_RTC_CSR_NEWREGS_WIDTH (5)
                            16484 ; 69   |#define HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH (1)
                            16485 ; 70   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH (1)
                            16486 ; 71   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH (1)
                            16487 ; 72   |#define HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH (1)
                            16488 ; 73   |#define HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH (1)
                            16489 ; 74   |#define HW_RTC_CSR_RSVD2_WIDTH (3)
                            16490 ; 75   |#define HW_RTC_CSR_FORCE_WIDTH (1)
                            16491 ; 76   |#define HW_RTC_CSR_RSVD3_WIDTH (2)
                            16492 ; 77   |#define HW_RTC_CSR_SFTRST_WIDTH (1)
                            16493 ; 78   |
                            16494 ; 79   |#define HW_RTC_CSR_ALARMINT_SETMASK (((1<<HW_RTC_CSR_ALARMINT_WIDTH)-1)<<HW_RTC_CSR_ALARMI
                                  NT_BITPOS) 
                            16495 ; 80   |#define HW_RTC_CSR_ALARMINTEN_SETMASK (((1<<HW_RTC_CSR_ALARMINTEN_WIDTH)-1)<<HW_RTC_CSR_AL
                                  ARMINTEN_BITPOS) 
                            16496 ; 81   |#define HW_RTC_CSR_WATCHDOGEN_SETMASK (((1<<HW_RTC_CSR_WATCHDOGEN_WIDTH)-1)<<HW_RTC_CSR_WA
                                  TCHDOGEN_BITPOS) 
                            16497 ; 82   |#define HW_RTC_CSR_RSVD0_SETMASK (((1<<HW_RTC_CSR_RSVD0_WIDTH)-1)<<HW_RTC_CSR_RSVD0_BITPOS
                                  ) 
                            16498 ; 83   |#define HW_RTC_CSR_STALEREGS_SETMASK (((1<<HW_RTC_CSR_STALEREGS_WIDTH)-1)<<HW_RTC_CSR_STAL
                                  EREGS_BITPOS) 
                            16499 ; 84   |#define HW_RTC_CSR_RSVD1_SETMASK (((1<<HW_RTC_CSR_RSVD1_WIDTH)-1)<<HW_RTC_CSR_RSVD1_BITPOS
                                  ) 
                            16500 ; 85   |#define HW_RTC_CSR_NEWREGS_SETMASK (((1<<HW_RTC_CSR_NEWREGS_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_
                                  BITPOS) 
                            16501 ; 86   |#define HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK (((1<<HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH)-1)<<HW_
                                  RTC_CSR_NEWREGS_XTALDIV_BITPOS)   
                            16502 ; 87   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH)-1)<<HW_
                                  RTC_CSR_NEWREGS_MSCOUNT_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 272

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16503 ; 88   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH)-1)<
                                  <HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS)
                            16504 ; 89   |#define HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH)-1)<<H
                                  W_RTC_CSR_NEWREGS_PERSIST0_BITPOS)
                            16505 ; 90   |#define HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH)-1)<<H
                                  W_RTC_CSR_NEWREGS_PERSIST1_BITPOS)
                            16506 ; 91   |#define HW_RTC_CSR_RSVD2_SETMASK (((1<<HW_RTC_CSR_RSVD2_WIDTH)-1)<<HW_RTC_CSR_RSVD2_BITPOS
                                  ) 
                            16507 ; 92   |#define HW_RTC_CSR_FORCE_SETMASK (((1<<HW_RTC_CSR_FORCE_WIDTH)-1)<<HW_RTC_CSR_FORCE_BITPOS
                                  ) 
                            16508 ; 93   |#define HW_RTC_CSR_RSVD3_SETMASK (((1<<HW_RTC_CSR_RSVD3_WIDTH)-1)<<HW_RTC_CSR_RSVD3_BITPOS
                                  ) 
                            16509 ; 94   |#define HW_RTC_CSR_SFTRST_SETMASK (((1<<HW_RTC_CSR_SFTRST_WIDTH)-1)<<HW_RTC_CSR_SFTRST_BIT
                                  POS) 
                            16510 ; 95   |
                            16511 ; 96   |#define HW_RTC_CSR_ALARMINTEN_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINTEN_SETMASK)
                            16512 ; 97   |#define HW_RTC_CSR_ALARMINT_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINT_SETMASK)
                            16513 ; 98   |#define HW_RTC_CSR_WATCHDOGEN_CLRMASK (~(WORD)HW_RTC_CSR_WATCHDOGEN_SETMASK)
                            16514 ; 99   |#define HW_RTC_CSR_RSVD0_CLRMASK (~(WORD)HW_RTC_CSR_RSVD0_SETMASK)
                            16515 ; 100  |#define HW_RTC_CSR_STALEREGS_CLRMASK (~(WORD)HW_RTC_CSR_STALEREGS_SETMASK)
                            16516 ; 101  |#define HW_RTC_CSR_RSVD1_CLRMASK (~(WORD)HW_RTC_CSR_RSVD1_SETMASK)
                            16517 ; 102  |#define HW_RTC_CSR_NEWREGS_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_SETMASK)
                            16518 ; 103  |#define HW_RTC_CSR_NEWREGS_XTALDIV_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK)   
                            16519 ; 104  |#define HW_RTC_CSR_NEWREGS_MSCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK)
                            16520 ; 105  |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK)
                                  
                            16521 ; 106  |#define HW_RTC_CSR_NEWREGS_PERSIST0_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK)
                            16522 ; 107  |#define HW_RTC_CSR_NEWREGS_PERSIST1_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK)
                            16523 ; 108  |
                            16524 ; 109  |#define HW_RTC_CSR_RSVD2_CLRMASK (~(WORD)HW_RTC_CSR_RSVD2_SETMASK)
                            16525 ; 110  |#define HW_RTC_CSR_FORCE_CLRMASK (~(WORD)HW_RTC_CSR_FORCE_SETMASK)
                            16526 ; 111  |#define HW_RTC_CSR_RSVD3_CLRMASK (~(WORD)HW_RTC_CSR_RSVD3_SETMASK)
                            16527 ; 112  |#define HW_RTC_CSR_SFTRST_CLRMASK (~(WORD)HW_RTC_CSR_SFTRST_SETMASK)
                            16528 ; 113  |
                            16529 ; 114  |
                            16530 ; 115  |typedef union               
                            16531 ; 116  |{
                            16532 ; 117  |    struct {
                            16533 ; 118  |         int ALARMINTEN         : HW_RTC_CSR_ALARMINTEN_WIDTH;
                            16534 ; 119  |         int ALARMINT           : HW_RTC_CSR_ALARMINT_WIDTH;
                            16535 ; 120  |         int WATCHDOGEN         : HW_RTC_CSR_WATCHDOGEN_WIDTH;
                            16536 ; 121  |         int RSVD0              : HW_RTC_CSR_RSVD0_WIDTH;
                            16537 ; 122  |         unsigned int STALEREGS : HW_RTC_CSR_STALEREGS_WIDTH;
                            16538 ; 123  |         int RSVD1              : HW_RTC_CSR_RSVD1_WIDTH;
                            16539 ; 124  |         unsigned int NEWREGS   : HW_RTC_CSR_NEWREGS_WIDTH;
                            16540 ; 125  |         int RSVD2              : HW_RTC_CSR_RSVD2_WIDTH;
                            16541 ; 126  |         int FORCE             : HW_RTC_CSR_FORCE_WIDTH;
                            16542 ; 127  |         int RSVD3              : HW_RTC_CSR_RSVD3_WIDTH;
                            16543 ; 128  |         unsigned int SFTRST    : HW_RTC_CSR_SFTRST_WIDTH;
                            16544 ; 129  |    } B;
                            16545 ; 130  |    int I;
                            16546 ; 131  |    unsigned int U;
                            16547 ; 132  |} rtc_csr_type;
                            16548 ; 133  |#define HW_RTC_CSR      (*(volatile rtc_csr_type _X*) (HW_RTC_BASEADDR+0))    /* RTC Contr
                                  ol / Status Register */
                            16549 ; 134  |
                            16550 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                            16551 ; 136  |
                            16552 ; 137  |//  RTC Milliseconds Register0 (HW_RTC_MSECONDS0) Bit Definitions
                            16553 ; 138  |
                            16554 ; 139  |#define HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS (0)
                            16555 ; 140  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 273

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16556 ; 141  |#define HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH (24)
                            16557 ; 142  |
                            16558 ; 143  |#define HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK (((1<<HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH)-1)<
                                  <HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS) 
                            16559 ; 144  |
                            16560 ; 145  |#define HW_RTC_MSECONDS0_MSECONDSLOW_CLRMASK (~(WORD)HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK)
                                  
                            16561 ; 146  |
                            16562 ; 147  |typedef union               
                            16563 ; 148  |{
                            16564 ; 149  |    struct {
                            16565 ; 150  |         int MSECONDSLOW        : HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH;
                            16566 ; 151  |    } B;
                            16567 ; 152  |    int I;
                            16568 ; 153  |    unsigned int U;
                            16569 ; 154  |} rtc_mseconds0_type;
                            16570 ; 155  |#define HW_RTC_MSECONDS0      (*(volatile rtc_mseconds0_type _X*) (HW_RTC_BASEADDR+1))    
                                  /* RTC MSECONDS Lower Word Register */
                            16571 ; 156  |#define HW_RTCLOWR            HW_RTC_MSECONDS0
                            16572 ; 157  |/////////////////////////////////////////////////////////////////////////////////
                            16573 ; 158  |
                            16574 ; 159  |//  RTC Milliseconds Register1 (HW_RTC_MSECONDS1) Bit Definitions
                            16575 ; 160  |
                            16576 ; 161  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS (0)
                            16577 ; 162  |
                            16578 ; 163  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH (24)
                            16579 ; 164  |
                            16580 ; 165  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_SETMASK (((1<<HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH)-1
                                  )<<HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS) 
                            16581 ; 166  |
                            16582 ; 167  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_CLRMASK (~(WORD)HW_RTC_MSECONDS1_MSECONDSHIGH_SETMAS
                                  K)
                            16583 ; 168  |
                            16584 ; 169  |typedef union               
                            16585 ; 170  |{
                            16586 ; 171  |    struct {
                            16587 ; 172  |         int MSECONDSHIGH       : HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH;
                            16588 ; 173  |    } B;
                            16589 ; 174  |    int I;
                            16590 ; 175  |    unsigned int U;
                            16591 ; 176  |} rtc_mseconds1_type;
                            16592 ; 177  |#define HW_RTC_MSECONDS1      (*(volatile rtc_mseconds1_type _X*) (HW_RTC_BASEADDR+2))    
                                  /* RTC MSECONDS Upper Word Register */
                            16593 ; 178  |#define HW_RTCUPR             HW_RTC_MSECONDS1
                            16594 ; 179  |
                            16595 ; 180  |#define HW_RTC_LOWER_OFFSET 1
                            16596 ; 181  |#define HW_RTC_UP_OFFSET 2
                            16597 ; 182  |
                            16598 ; 183  |
                            16599 ; 184  |/////////////////////////////////////////////////////////////////////////////////
                            16600 ; 185  |
                            16601 ; 186  |//  RTC Watchdog Count (HW_RTC_WATCHDOG) Bit Definitions
                            16602 ; 187  |
                            16603 ; 188  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_BITPOS (0)
                            16604 ; 189  |
                            16605 ; 190  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH (24)
                            16606 ; 191  |
                            16607 ; 192  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK (((1<<HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH)-1)<<HW_
                                  RTC_WATCHDOG_TIMEOUTCNT_BITPOS) 
                            16608 ; 193  |
                            16609 ; 194  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_CLRMASK (~(WORD)HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK)
                            16610 ; 195  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 274

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16611 ; 196  |typedef union               
                            16612 ; 197  |{
                            16613 ; 198  |    struct {
                            16614 ; 199  |         int TIMEOUTCNT         : HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH;
                            16615 ; 200  |    } B;
                            16616 ; 201  |    int I;
                            16617 ; 202  |    unsigned int U;
                            16618 ; 203  |} rtc_watchdog_type;
                            16619 ; 204  |#define HW_RTC_WATCHDOG     (*(volatile rtc_watchdog_type _X*) (HW_RTC_BASEADDR+3))    /* 
                                  RTC Watchdog Timeout Register */
                            16620 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                            16621 ; 206  |
                            16622 ; 207  |//  RTC Alarm Register0 (HW_RTC_ALARM0) Bit Definitions
                            16623 ; 208  |
                            16624 ; 209  |#define HW_RTC_ALARM0_ALARMLOW_BITPOS (0)
                            16625 ; 210  |
                            16626 ; 211  |#define HW_RTC_ALARM0_ALARMLOW_WIDTH (24)
                            16627 ; 212  |
                            16628 ; 213  |#define HW_RTC_ALARM0_ALARMLOW_SETMASK (((1<<HW_RTC_ALARM0_ALARMLOW_WIDTH)-1)<<HW_RTC_ALAR
                                  M0_ALARMLOW_BITPOS) 
                            16629 ; 214  |
                            16630 ; 215  |#define HW_RTC_ALARM0_ALARMLOW_CLRMASK (~(WORD)HW_RTC_ALARM0_ALARMLOW_SETMASK)
                            16631 ; 216  |
                            16632 ; 217  |typedef union               
                            16633 ; 218  |{
                            16634 ; 219  |    struct {
                            16635 ; 220  |         int ALARMLOW   : HW_RTC_ALARM0_ALARMLOW_WIDTH;
                            16636 ; 221  |    } B;
                            16637 ; 222  |    int I;
                            16638 ; 223  |    unsigned int U;
                            16639 ; 224  |} rtc_alarm0_type;
                            16640 ; 225  |#define HW_RTC_ALARM0      (*(volatile rtc_alarm0_type _X*) (HW_RTC_BASEADDR+4))    /* RTC
                                   ALARM Lower Word Register */
                            16641 ; 226  |/////////////////////////////////////////////////////////////////////////////////
                            16642 ; 227  |
                            16643 ; 228  |//  RTC Alarm Register1 (HW_RTC_ALARM1) Bit Definitions
                            16644 ; 229  |
                            16645 ; 230  |#define HW_RTC_ALARM1_ALARMHIGH_BITPOS (0)
                            16646 ; 231  |
                            16647 ; 232  |#define HW_RTC_ALARM1_ALARMHIGH_WIDTH (24)
                            16648 ; 233  |
                            16649 ; 234  |#define HW_RTC_ALARM1_ALARMHIGH_SETMASK (((1<<HW_RTC_ALARM1_ALARMHIGH_WIDTH)-1)<<HW_RTC_AL
                                  ARM1_ALARMHIGH_BITPOS) 
                            16650 ; 235  |
                            16651 ; 236  |#define HW_RTC_ALARM1_ALARMHIGH_CLRMASK (~(WORD)HW_RTC_ALARM1_ALARMHIGH_SETMASK)
                            16652 ; 237  |
                            16653 ; 238  |typedef union               
                            16654 ; 239  |{
                            16655 ; 240  |    struct {
                            16656 ; 241  |         int ALARMHIGH  : HW_RTC_ALARM1_ALARMHIGH_WIDTH;
                            16657 ; 242  |    } B;
                            16658 ; 243  |    int I;
                            16659 ; 244  |    unsigned int U;
                            16660 ; 245  |} rtc_alarm1_type;
                            16661 ; 246  |#define HW_RTC_ALARM1      (*(volatile rtc_alarm1_type _X*) (HW_RTC_BASEADDR+5))    /* RTC
                                   ALARM Upper Word Register */
                            16662 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                            16663 ; 248  |
                            16664 ; 249  |//  RTC Xtal-Clock Divide Register (HW_RTC_XTALDIVIDE) Bit Definitions
                            16665 ; 250  |
                            16666 ; 251  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_BITPOS (0)
                            16667 ; 252  |#define HW_RTC_XTALDIVIDE_RSVD0_BITPOS (16)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 275

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16668 ; 253  |
                            16669 ; 254  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH (16)
                            16670 ; 255  |#define HW_RTC_XTALDIVIDE_RSVD0_WIDTH (8)
                            16671 ; 256  |
                            16672 ; 257  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK (((1<<HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH)-1)<<HW_
                                  RTC_XTALDIVIDE_DIVCOUNT_BITPOS) 
                            16673 ; 258  |#define HW_RTC_XTALDIVIDE_RSVD0_SETMASK (((1<<HW_RTC_XTALDIVIDE_RSVD0_BITPOS)-1)<<HW_RTC_X
                                  TALDIVIDE_RSVD0_BITPOS) 
                            16674 ; 259  |
                            16675 ; 260  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK)
                            16676 ; 261  |#define HW_RTC_XTALDIVIDE_RSVD0_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_RSVD0_SETMASK)
                            16677 ; 262  |
                            16678 ; 263  |typedef union               
                            16679 ; 264  |{
                            16680 ; 265  |    struct {
                            16681 ; 266  |         int DIVCOUNT   : HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH;
                            16682 ; 267  |         int RSVD0      : HW_RTC_XTALDIVIDE_RSVD0_WIDTH;
                            16683 ; 268  |    } B;
                            16684 ; 269  |    int I;
                            16685 ; 270  |    unsigned int U;
                            16686 ; 271  |} rtc_xtaldivide_type;
                            16687 ; 272  |#define HW_RTC_XTALDIVIDE   (*(volatile rtc_xtaldivide_type _X*) (HW_RTC_BASEADDR+6))  /* 
                                  RTC Xtal-clock Pre-Divider Word Register */
                            16688 ; 273  |/////////////////////////////////////////////////////////////////////////////////
                            16689 ; 274  |
                            16690 ; 275  |//  RTC PERSISTENT Register0 (HW_RTC_PERSISTENT0) Bit Definitions
                            16691 ; 276  |
                            16692 ; 277  |#define HW_RTC_PERSISTENT0_ALARMEN_BITPOS (0)
                            16693 ; 278  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS (1)
                            16694 ; 279  |#define HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS (2)
                            16695 ; 280  |#define HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS (3)
                            16696 ; 281  |#define HW_RTC_PERSISTENT0_RSVD0_BITPOS (4)
                            16697 ; 282  |
                            16698 ; 283  |#define HW_RTC_PERSISTENT0_ALARMEN_WIDTH (1)
                            16699 ; 284  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH (1)
                            16700 ; 285  |#define HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH (1)
                            16701 ; 286  |#define HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH (1)
                            16702 ; 287  |#define HW_RTC_PERSISTENT0_RSVD0_WIDTH (21)
                            16703 ; 288  |
                            16704 ; 289  |#define HW_RTC_PERSISTENT0_ALARMEN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMEN_WIDTH)-1)<<HW_
                                  RTC_PERSISTENT0_ALARMEN_BITPOS) 
                            16705 ; 290  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDT
                                  H)-1)<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS)
                            16706 ; 291  |#define HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH)-1)<
                                  <HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS) 
                            16707 ; 292  |#define HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK (((1<<HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH)-1)<
                                  <HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS) 
                            16708 ; 293  |#define HW_RTC_PERSISTENT0_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT0_RSVD0_WIDTH)-1)<<HW_RTC_
                                  PERSISTENT0_RSVD0_BITPOS) 
                            16709 ; 294  |
                            16710 ; 295  |#define HW_RTC_PERSISTENT0_ALARMEN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMEN_SETMASK)
                            16711 ; 296  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_EN_SE
                                  TMASK)
                            16712 ; 297  |#define HW_RTC_PERSISTENT0_ALARMWAKE_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK)
                                  
                            16713 ; 298  |#define HW_RTC_PERSISTENT0_XTALPDOWN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK)
                                  
                            16714 ; 299  |#define HW_RTC_PERSISTENT0_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_RSVD0_SETMASK)
                            16715 ; 300  |
                            16716 ; 301  |typedef union               
                            16717 ; 302  |{
                            16718 ; 303  |   struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 276

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16719 ; 304  |      int ALARMEN   : HW_RTC_PERSISTENT0_ALARMEN_WIDTH;
                            16720 ; 305  |           int ALARMWAKE_EN  :  HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH;
                            16721 ; 306  |      int ALARMWAKE : HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH;
                            16722 ; 307  |      int XTALPDOWN : HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH;
                            16723 ; 308  |      int RSVD0     : HW_RTC_PERSISTENT0_RSVD0_WIDTH;
                            16724 ; 309  |   } B;
                            16725 ; 310  |    int I;
                            16726 ; 311  |    unsigned int U;
                            16727 ; 312  |} rtc_PERSISTENT0_type;
                            16728 ; 313  |#define HW_RTC_PERSISTENT0   (*(volatile rtc_PERSISTENT0_type _X*) (HW_RTC_BASEADDR+7))  /
                                  * RTC PERSISTENT Register0 */
                            16729 ; 314  |
                            16730 ; 315  |/////////////////////////////////////////////////////////////////////////////////
                            16731 ; 316  |
                            16732 ; 317  |//  RTC PERSISTENT Register1 (HW_RTC_PERSISTENT1) Bit Definitions
                            16733 ; 318  |
                            16734 ; 319  |#define HW_RTC_PERSISTENT1_RSVD0_BITPOS (0)
                            16735 ; 320  |
                            16736 ; 321  |#define HW_RTC_PERSISTENT1_RSVD0_WIDTH (24)
                            16737 ; 322  |
                            16738 ; 323  |#define HW_RTC_PERSISTENT1_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT1_RSVD0_WIDTH)-1)<<HW_RTC_
                                  PERSISTENT1_RSVD0_BITPOS) 
                            16739 ; 324  |
                            16740 ; 325  |#define HW_RTC_PERSISTENT1_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT1_RSVD0_SETMASK)
                            16741 ; 326  |
                            16742 ; 327  |
                            16743 ; 328  |typedef union               
                            16744 ; 329  |{
                            16745 ; 330  |    struct {
                            16746 ; 331  |         int RSVD0      : HW_RTC_PERSISTENT1_RSVD0_WIDTH;
                            16747 ; 332  |    } B;
                            16748 ; 333  |    int I;
                            16749 ; 334  |    unsigned int U;
                            16750 ; 335  |} rtc_PERSISTENT1_type;
                            16751 ; 336  |#define HW_RTC_PERSISTENT1   (*(volatile rtc_PERSISTENT1_type _X*) (HW_RTC_BASEADDR+8))  /
                                  * RTC PERSISTENT Register1 */
                            16752 ; 337  |
                            16753 ; 338  |
                            16754 ; 339  |#endif
                            16755 ; 340  |
                            16756 ; 341  |
                            16757 ; 342  |
                            16758 ; 343  |
                            16759 ; 344  |
                            16760 ; 345  |
                            16761 ; 346  |
                            16762 ; 347  |
                            16763 ; 348  |
                            16764 ; 349  |
                            16765 ; 350  |
                            16766 ; 351  |
                            16767 ; 352  |
                            16768 ; 353  |
                            16769 
                            16771 
                            16772 ; 30   |#include "regsspare.h"
                            16773 
                            16775 
                            16776 ; 1    |#if !(defined(RESGSSPARE_INC))
                            16777 ; 2    |#define RESGSSPARE_INC 1
                            16778 ; 3    |
                            16779 ; 4    |#define HW_SPARER_BASEADDR (0xFA16)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 277

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16780 ; 5    |
                            16781 ; 6    |
                            16782 ; 7    |#define HW_SPARER_I2SS_BITPOS 0
                            16783 ; 8    |#define HW_SPARER_USB_SELECT_BITPOS 1
                            16784 ; 9    |#define HW_SPARER_USB_PLUGIN_BITPOS 8
                            16785 ; 10   |#define HW_SPARER_PSWITCH_BITPOS 9
                            16786 ; 11   |
                            16787 ; 12   |#define HW_SPARER_I2SS_SETMASK 1<<HW_SPARER_I2SS_BITPOS
                            16788 ; 13   |#define HW_SPARER_USB_SELECT_SETMASK 1<<HW_SPARER_USB_SELECT_BITPOS
                            16789 ; 14   |
                            16790 ; 15   |#define HW_SPARER_I2SS_CLRMASK ~(WORD)HW_SPARER_I2SS_SETMASK
                            16791 ; 16   |#define HW_SPARER_USB_SELECT_CLRMASK ~(WORD)HW_SPARER_USB_SELECT_SETMASK
                            16792 ; 17   |
                            16793 ; 18   |
                            16794 ; 19   |
                            16795 ; 20   |typedef union               
                            16796 ; 21   |{
                            16797 ; 22   |    struct {
                            16798 ; 23   |        int      I2SS       :1;     
                            16799 ; 24   |        int      USBSELECT  :1;     
                            16800 ; 25   |        unsigned            :6;
                            16801 ; 26   |        int      USBPLUGIN  :1;     
                            16802 ; 27   |        int      PSWITCH    :1;     
                            16803 ; 28   |    } B;
                            16804 ; 29   |
                            16805 ; 30   |    int I;
                            16806 ; 31   |
                            16807 ; 32   |} spare_type;
                            16808 ; 33   |#define HW_SPARER      (*(volatile spare_type _X*) (HW_SPARER_BASEADDR))
                            16809 ; 34   |
                            16810 ; 35   |
                            16811 ; 36   |
                            16812 ; 37   |#endif
                            16813 
                            16815 
                            16816 ; 31   |#include "regsspi.h"
                            16817 
                            16819 
                            16820 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16821 ; 2    |//;; Copyright(C) SigmaTel, Inc. 2002-2003
                            16822 ; 3    |//;; Filename    : regsspi.inc
                            16823 ; 4    |//;; Description : Register definitions for SPI interface
                            16824 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16825 ; 6    |
                            16826 ; 7    |/////////////////////////////////////////////////////////////////////////////////
                            16827 ; 8    |// The following naming conventions are followed in this file.
                            16828 ; 9    |// All registers are named using the format...
                            16829 ; 10   |//     HW_<module>_<regname>
                            16830 ; 11   |// where <module> is the module name which can be any of the following...
                            16831 ; 12   |//     USB20
                            16832 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            16833 ; 14   |// module name includes a number starting from 0 for the first instance of
                            16834 ; 15   |// that module)
                            16835 ; 16   |// <regname> is the specific register within that module
                            16836 ; 17   |// We also define the following...
                            16837 ; 18   |//     HW_<module>_<regname>_BITPOS
                            16838 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            16839 ; 20   |//     HW_<module>_<regname>_SETMASK
                            16840 ; 21   |// which does something else, and
                            16841 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            16842 ; 23   |// which does something else.
                            16843 ; 24   |// Other rules
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 278

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16844 ; 25   |//     All caps
                            16845 ; 26   |//     Numeric identifiers start at 0
                            16846 ; 27   |#if !(defined(regsspiinc))
                            16847 ; 28   |#define regsspiinc 1
                            16848 ; 29   |
                            16849 ; 30   |#include "types.h"
                            16850 
                            16852 
                            16853 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            16854 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            16855 ; 3    |//
                            16856 ; 4    |// Filename: types.h
                            16857 ; 5    |// Description: Standard data types
                            16858 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            16859 ; 7    |
                            16860 ; 8    |#ifndef _TYPES_H
                            16861 ; 9    |#define _TYPES_H
                            16862 ; 10   |
                            16863 ; 11   |// TODO:  move this outta here!
                            16864 ; 12   |#if !defined(NOERROR)
                            16865 ; 13   |#define NOERROR 0
                            16866 ; 14   |#define SUCCESS 0
                            16867 ; 15   |#endif 
                            16868 ; 16   |#if !defined(SUCCESS)
                            16869 ; 17   |#define SUCCESS  0
                            16870 ; 18   |#endif
                            16871 ; 19   |#if !defined(ERROR)
                            16872 ; 20   |#define ERROR   -1
                            16873 ; 21   |#endif
                            16874 ; 22   |#if !defined(FALSE)
                            16875 ; 23   |#define FALSE 0
                            16876 ; 24   |#endif
                            16877 ; 25   |#if !defined(TRUE)
                            16878 ; 26   |#define TRUE  1
                            16879 ; 27   |#endif
                            16880 ; 28   |
                            16881 ; 29   |#if !defined(NULL)
                            16882 ; 30   |#define NULL 0
                            16883 ; 31   |#endif
                            16884 ; 32   |
                            16885 ; 33   |#define MAX_INT     0x7FFFFF
                            16886 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            16887 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            16888 ; 36   |#define MAX_ULONG   (-1) 
                            16889 ; 37   |
                            16890 ; 38   |#define WORD_SIZE   24              // word size in bits
                            16891 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            16892 ; 40   |
                            16893 ; 41   |
                            16894 ; 42   |#define BYTE    unsigned char       // btVarName
                            16895 ; 43   |#define CHAR    signed char         // cVarName
                            16896 ; 44   |#define USHORT  unsigned short      // usVarName
                            16897 ; 45   |#define SHORT   unsigned short      // sVarName
                            16898 ; 46   |#define WORD    unsigned int        // wVarName
                            16899 ; 47   |#define INT     signed int          // iVarName
                            16900 ; 48   |#define DWORD   unsigned long       // dwVarName
                            16901 ; 49   |#define LONG    signed long         // lVarName
                            16902 ; 50   |#define BOOL    unsigned int        // bVarName
                            16903 ; 51   |#define FRACT   _fract              // frVarName
                            16904 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            16905 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            16906 ; 54   |#define FLOAT   float               // fVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 279

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16907 ; 55   |#define DBL     double              // dVarName
                            16908 ; 56   |#define ENUM    enum                // eVarName
                            16909 ; 57   |#define CMX     _complex            // cmxVarName
                            16910 ; 58   |typedef WORD UCS3;                   // 
                            16911 ; 59   |
                            16912 ; 60   |#define UINT16  unsigned short
                            16913 ; 61   |#define UINT8   unsigned char   
                            16914 ; 62   |#define UINT32  unsigned long
                            16915 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            16916 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            16917 ; 65   |#define WCHAR   UINT16
                            16918 ; 66   |
                            16919 ; 67   |//UINT128 is 16 bytes or 6 words
                            16920 ; 68   |typedef struct UINT128_3500 {   
                            16921 ; 69   |    int val[6];     
                            16922 ; 70   |} UINT128_3500;
                            16923 ; 71   |
                            16924 ; 72   |#define UINT128   UINT128_3500
                            16925 ; 73   |
                            16926 ; 74   |// Little endian word packed byte strings:   
                            16927 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            16928 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            16929 ; 77   |// Little endian word packed byte strings:   
                            16930 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            16931 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            16932 ; 80   |
                            16933 ; 81   |// Declare Memory Spaces To Use When Coding
                            16934 ; 82   |// A. Sector Buffers
                            16935 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            16936 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            16937 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            16938 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            16939 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            16940 ; 88   |// B. Media DDI Memory
                            16941 ; 89   |#define MEDIA_DDI_MEM _Y
                            16942 ; 90   |
                            16943 ; 91   |
                            16944 ; 92   |
                            16945 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            16946 ; 94   |// Examples of circular pointers:
                            16947 ; 95   |//    INT CIRC cpiVarName
                            16948 ; 96   |//    DWORD CIRC cpdwVarName
                            16949 ; 97   |
                            16950 ; 98   |#define RETCODE INT                 // rcVarName
                            16951 ; 99   |
                            16952 ; 100  |// generic bitfield structure
                            16953 ; 101  |struct Bitfield {
                            16954 ; 102  |    unsigned int B0  :1;
                            16955 ; 103  |    unsigned int B1  :1;
                            16956 ; 104  |    unsigned int B2  :1;
                            16957 ; 105  |    unsigned int B3  :1;
                            16958 ; 106  |    unsigned int B4  :1;
                            16959 ; 107  |    unsigned int B5  :1;
                            16960 ; 108  |    unsigned int B6  :1;
                            16961 ; 109  |    unsigned int B7  :1;
                            16962 ; 110  |    unsigned int B8  :1;
                            16963 ; 111  |    unsigned int B9  :1;
                            16964 ; 112  |    unsigned int B10 :1;
                            16965 ; 113  |    unsigned int B11 :1;
                            16966 ; 114  |    unsigned int B12 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 280

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16967 ; 115  |    unsigned int B13 :1;
                            16968 ; 116  |    unsigned int B14 :1;
                            16969 ; 117  |    unsigned int B15 :1;
                            16970 ; 118  |    unsigned int B16 :1;
                            16971 ; 119  |    unsigned int B17 :1;
                            16972 ; 120  |    unsigned int B18 :1;
                            16973 ; 121  |    unsigned int B19 :1;
                            16974 ; 122  |    unsigned int B20 :1;
                            16975 ; 123  |    unsigned int B21 :1;
                            16976 ; 124  |    unsigned int B22 :1;
                            16977 ; 125  |    unsigned int B23 :1;
                            16978 ; 126  |};
                            16979 ; 127  |
                            16980 ; 128  |union BitInt {
                            16981 ; 129  |        struct Bitfield B;
                            16982 ; 130  |        int        I;
                            16983 ; 131  |};
                            16984 ; 132  |
                            16985 ; 133  |#define MAX_MSG_LENGTH 10
                            16986 ; 134  |struct CMessage
                            16987 ; 135  |{
                            16988 ; 136  |        unsigned int m_uLength;
                            16989 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            16990 ; 138  |};
                            16991 ; 139  |
                            16992 ; 140  |typedef struct {
                            16993 ; 141  |    WORD m_wLength;
                            16994 ; 142  |    WORD m_wMessage;
                            16995 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            16996 ; 144  |} Message;
                            16997 ; 145  |
                            16998 ; 146  |struct MessageQueueDescriptor
                            16999 ; 147  |{
                            17000 ; 148  |        int *m_pBase;
                            17001 ; 149  |        int m_iModulo;
                            17002 ; 150  |        int m_iSize;
                            17003 ; 151  |        int *m_pHead;
                            17004 ; 152  |        int *m_pTail;
                            17005 ; 153  |};
                            17006 ; 154  |
                            17007 ; 155  |struct ModuleEntry
                            17008 ; 156  |{
                            17009 ; 157  |    int m_iSignaledEventMask;
                            17010 ; 158  |    int m_iWaitEventMask;
                            17011 ; 159  |    int m_iResourceOfCode;
                            17012 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            17013 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            17014 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            17015 ; 163  |    int m_uTimeOutHigh;
                            17016 ; 164  |    int m_uTimeOutLow;
                            17017 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            17018 ; 166  |};
                            17019 ; 167  |
                            17020 ; 168  |union WaitMask{
                            17021 ; 169  |    struct B{
                            17022 ; 170  |        unsigned int m_bNone     :1;
                            17023 ; 171  |        unsigned int m_bMessage  :1;
                            17024 ; 172  |        unsigned int m_bTimer    :1;
                            17025 ; 173  |        unsigned int m_bButton   :1;
                            17026 ; 174  |    } B;
                            17027 ; 175  |    int I;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 281

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17028 ; 176  |} ;
                            17029 ; 177  |
                            17030 ; 178  |
                            17031 ; 179  |struct Button {
                            17032 ; 180  |        WORD wButtonEvent;
                            17033 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            17034 ; 182  |};
                            17035 ; 183  |
                            17036 ; 184  |struct Message {
                            17037 ; 185  |        WORD wMsgLength;
                            17038 ; 186  |        WORD wMsgCommand;
                            17039 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            17040 ; 188  |};
                            17041 ; 189  |
                            17042 ; 190  |union EventTypes {
                            17043 ; 191  |        struct CMessage msg;
                            17044 ; 192  |        struct Button Button ;
                            17045 ; 193  |        struct Message Message;
                            17046 ; 194  |};
                            17047 ; 195  |
                            17048 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            17049 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            17050 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            17051 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            17052 ; 200  |
                            17053 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            17054 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            17055 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            17056 ; 204  |
                            17057 ; 205  |#if DEBUG
                            17058 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            17059 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            17060 ; 208  |#else 
                            17061 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            17062 ; 210  |#define DebugBuildAssert(x)    
                            17063 ; 211  |#endif
                            17064 ; 212  |
                            17065 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            17066 ; 214  |//  #pragma asm
                            17067 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            17068 ; 216  |//  #pragma endasm
                            17069 ; 217  |
                            17070 ; 218  |
                            17071 ; 219  |#ifdef COLOR_262K
                            17072 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            17073 ; 221  |#elif defined(COLOR_65K)
                            17074 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            17075 ; 223  |#else
                            17076 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            17077 ; 225  |#endif
                            17078 ; 226  |    
                            17079 ; 227  |#endif // #ifndef _TYPES_H
                            17080 
                            17082 
                            17083 ; 31   |
                            17084 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17085 ; 33   |
                            17086 ; 34   |//   SPI STMP3500 Registers 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 282

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17087 ; 35   |//   Last Updated 7.7.2003 Dave Dyches
                            17088 ; 36   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17089 ; 37   |
                            17090 ; 38   |#define HW_SPI_BASEADDR (0xFFF9)
                            17091 ; 39   |
                            17092 ; 40   |
                            17093 ; 41   |
                            17094 ; 42   |// /////////////////////////////////////////////
                            17095 ; 43   |// //  SPI Control/Status Register Bit Definitions
                            17096 ; 44   |#define HW_SPCSR_SPE_BITPOS (0)
                            17097 ; 45   |#define HW_SPCSR_MSTR_BITPOS (1)
                            17098 ; 46   |#define HW_SPCSR_SPIE_BITPOS (2)
                            17099 ; 47   |#define HW_SPCSR_CPOL_BITPOS (3)
                            17100 ; 48   |#define HW_SPCSR_CPHA_BITPOS (4)
                            17101 ; 49   |#define HW_SPCSR_SPIF_BITPOS (5)
                            17102 ; 50   |#define HW_SPCSR_WCOL_BITPOS (6)
                            17103 ; 51   |#define HW_SPCSR_MODF_BITPOS (7)
                            17104 ; 52   |#define HW_SPCSR_DIV_BITPOS (8)
                            17105 ; 53   |#define HW_SPCSR_RSVD_BITPOS (16)
                            17106 ; 54   |
                            17107 ; 55   |#define HW_SPCSR_SPE_WIDTH (1)
                            17108 ; 56   |#define HW_SPCSR_MSTR_WIDTH (1)
                            17109 ; 57   |#define HW_SPCSR_SPIE_WIDTH (1)
                            17110 ; 58   |#define HW_SPCSR_CPOL_WIDTH (1)
                            17111 ; 59   |#define HW_SPCSR_CPHA_WIDTH (1)
                            17112 ; 60   |#define HW_SPCSR_SPIF_WIDTH (1)
                            17113 ; 61   |#define HW_SPCSR_WCOL_WIDTH (1)
                            17114 ; 62   |#define HW_SPCSR_MODF_WIDTH (1)
                            17115 ; 63   |#define HW_SPCSR_DIV_WIDTH (8)
                            17116 ; 64   |#define HW_SPCSR_RSVD_WIDTH (8)
                            17117 ; 65   |
                            17118 ; 66   |#define HW_SPCSR_SPE_SETMASK (((1<<HW_SPCSR_SPE_WIDTH)-1)<<HW_SPCSR_SPE_BITPOS)
                            17119 ; 67   |#define HW_SPCSR_MSTR_SETMASK (((1<<HW_SPCSR_MSTR_WIDTH)-1)<<HW_SPCSR_MSTR_BITPOS)
                            17120 ; 68   |#define HW_SPCSR_SPIE_SETMASK (((1<<HW_SPCSR_SPIE_WIDTH)-1)<<HW_SPCSR_SPIE_BITPOS)
                            17121 ; 69   |#define HW_SPCSR_CPOL_SETMASK (((1<<HW_SPCSR_CPOL_WIDTH)-1)<<HW_SPCSR_CPOL_BITPOS)
                            17122 ; 70   |#define HW_SPCSR_CPHA_SETMASK (((1<<HW_SPCSR_CPHA_WIDTH)-1)<<HW_SPCSR_CPHA_BITPOS)
                            17123 ; 71   |#define HW_SPCSR_SPIF_SETMASK (((1<<HW_SPCSR_SPIF_WIDTH)-1)<<HW_SPCSR_SPIF_BITPOS)
                            17124 ; 72   |#define HW_SPCSR_WCOL_SETMASK (((1<<HW_SPCSR_WCOL_WIDTH)-1)<<HW_SPCSR_WCOL_BITPOS)
                            17125 ; 73   |#define HW_SPCSR_MODF_SETMASK (((1<<HW_SPCSR_MODF_WIDTH)-1)<<HW_SPCSR_MODF_BITPOS)
                            17126 ; 74   |#define HW_SPCSR_DIV_SETMASK (((1<<HW_SPCSR_DIV_WIDTH)-1)<<HW_SPCSR_DIV_BITPOS)
                            17127 ; 75   |#define HW_SPCSR_RSVD_SETMASK (((1<<HW_SPCSR_RSVD_WIDTH)-1)<<HW_SPCSR_RSVD_BITPOS)
                            17128 ; 76   |
                            17129 ; 77   |#define HW_SPCSR_SPE_CLRMASK (~(WORD)HW_SPCSR_SPE_SETMASK)
                            17130 ; 78   |#define HW_SPCSR_MSTR_CLRMASK (~(WORD)HW_SPCSR_MSTR_SETMASK)
                            17131 ; 79   |#define HW_SPCSR_SPIE_CLRMASK (~(WORD)HW_SPCSR_SPIE_SETMASK)
                            17132 ; 80   |#define HW_SPCSR_CPOL_CLRMASK (~(WORD)HW_SPCSR_CPOL_SETMASK)
                            17133 ; 81   |#define HW_SPCSR_CPHA_CLRMASK (~(WORD)HW_SPCSR_CPHA_SETMASK)
                            17134 ; 82   |#define HW_SPCSR_SPIF_CLRMASK (~(WORD)HW_SPCSR_SPIF_SETMASK)
                            17135 ; 83   |#define HW_SPCSR_WCOL_CLRMASK (~(WORD)HW_SPCSR_WCOL_SETMASK)
                            17136 ; 84   |#define HW_SPCSR_MODF_CLRMASK (~(WORD)HW_SPCSR_MODF_SETMASK)
                            17137 ; 85   |#define HW_SPCSR_DIV_CLRMASK (~(WORD)HW_SPCSR_DIV_SETMASK)
                            17138 ; 86   |#define HW_SPCSR_RSVD_CLRMASK (~(WORD)HW_SPCSR_RSVD_SETMASK)
                            17139 ; 87   |
                            17140 ; 88   |typedef union               
                            17141 ; 89   |{
                            17142 ; 90   |    struct {
                            17143 ; 91   |        int SPE                 : HW_SPCSR_SPE_WIDTH;    
                            17144 ; 92   |        int MSTR                : HW_SPCSR_MSTR_WIDTH;
                            17145 ; 93   |        int SPIE                    : HW_SPCSR_SPIE_WIDTH;
                            17146 ; 94   |        int CPOL                : HW_SPCSR_CPOL_WIDTH;
                            17147 ; 95   |        int CPHA                : HW_SPCSR_CPHA_WIDTH;
                            17148 ; 96   |        int SPIF                : HW_SPCSR_SPIF_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 283

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17149 ; 97   |        int WCOL                    : HW_SPCSR_WCOL_WIDTH;
                            17150 ; 98   |        int MODF                : HW_SPCSR_MODF_WIDTH;
                            17151 ; 99   |        int DIV                 : HW_SPCSR_DIV_WIDTH;
                            17152 ; 100  |    } B;
                            17153 ; 101  |
                            17154 ; 102  |    int I;
                            17155 ; 103  |    unsigned int U;
                            17156 ; 104  |} spcsr_type;
                            17157 ; 105  |#define HW_SPCSR      (*(volatile spcsr_type _X*) (HW_SPI_BASEADDR))    /* SPI Control / S
                                  tatus Register */
                            17158 ; 106  |
                            17159 ; 107  |// /////////////////////////////////////////////
                            17160 ; 108  |// //  SPI Data Register Bit Definitions
                            17161 ; 109  |#define HW_SPDR_SPIDATA_BITPOS (0)
                            17162 ; 110  |#define HW_SPDR_RSVD_BITPOS (8)
                            17163 ; 111  |
                            17164 ; 112  |#define HW_SPDR_SPIDATA_WIDTH (8)
                            17165 ; 113  |#define HW_SPDR_RSVD_WIDTH (16)
                            17166 ; 114  |
                            17167 ; 115  |#define HW_SPDR_SPIDATA_SETMASK (((1<<HW_SPDR_SPIDATA_WIDTH)-1)<<HW_SPDR_SPIDATA_BITPOS)
                            17168 ; 116  |#define HW_SPDR_RSVD_SETMASK (((1<<HW_SPDR_RSVD_WIDTH)-1)<<HW_SPDR_RSVD_BITPOS)
                            17169 ; 117  |
                            17170 ; 118  |#define HW_SPDR_SPIDATA_CLRMASK (~(WORD)HW_SPDR_SPIDATA_SETMASK) 
                            17171 ; 119  |#define HW_SPDR_RSVD_CLRMASK (~(WORD)HW_SPDR_RSVD_SETMASK)
                            17172 ; 120  |
                            17173 ; 121  |typedef union               
                            17174 ; 122  |{
                            17175 ; 123  |    struct {
                            17176 ; 124  |        int SPIDATA                     : HW_SPDR_SPIDATA_WIDTH;
                            17177 ; 125  |    } B;
                            17178 ; 126  |
                            17179 ; 127  |    int I;
                            17180 ; 128  |    unsigned int U;
                            17181 ; 129  |} spdr_type;
                            17182 ; 130  |#define HW_SPDR      (*(volatile spdr_type _X*) (HW_SPI_BASEADDR+1))    /* SPI Data Regist
                                  er */
                            17183 ; 131  |
                            17184 ; 132  |
                            17185 ; 133  |#endif
                            17186 ; 134  |
                            17187 ; 135  |
                            17188 
                            17190 
                            17191 ; 32   |#include "regsswizzle.h"
                            17192 
                            17194 
                            17195 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17196 ; 2    |//;; Copyright(C) SigmaTel, Inc. 2002-2003
                            17197 ; 3    |//;; Filename    : regsswizzle.inc
                            17198 ; 4    |//;; Description : Register definitions for Swizzle interface
                            17199 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17200 ; 6    |
                            17201 ; 7    |/////////////////////////////////////////////////////////////////////////////////
                            17202 ; 8    |// The following naming conventions are followed in this file.
                            17203 ; 9    |// All registers are named using the format...
                            17204 ; 10   |//     HW_<module>_<regname>
                            17205 ; 11   |// where <module> is the module name which can be any of the following...
                            17206 ; 12   |//     USB20
                            17207 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            17208 ; 14   |// module name includes a number starting from 0 for the first instance of
                            17209 ; 15   |// that module)
                            17210 ; 16   |// <regname> is the specific register within that module
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 284

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17211 ; 17   |// We also define the following...
                            17212 ; 18   |//     HW_<module>_<regname>_BITPOS
                            17213 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            17214 ; 20   |//     HW_<module>_<regname>_SETMASK
                            17215 ; 21   |// which does something else, and
                            17216 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            17217 ; 23   |// which does something else.
                            17218 ; 24   |// Other rules
                            17219 ; 25   |//     All caps
                            17220 ; 26   |//     Numeric identifiers start at 0
                            17221 ; 27   |#if !(defined(regsswizzleinc))
                            17222 ; 28   |#define regsswizzleinc 1
                            17223 ; 29   |
                            17224 ; 30   |#include "types.h"
                            17225 
                            17227 
                            17228 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            17229 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            17230 ; 3    |//
                            17231 ; 4    |// Filename: types.h
                            17232 ; 5    |// Description: Standard data types
                            17233 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            17234 ; 7    |
                            17235 ; 8    |#ifndef _TYPES_H
                            17236 ; 9    |#define _TYPES_H
                            17237 ; 10   |
                            17238 ; 11   |// TODO:  move this outta here!
                            17239 ; 12   |#if !defined(NOERROR)
                            17240 ; 13   |#define NOERROR 0
                            17241 ; 14   |#define SUCCESS 0
                            17242 ; 15   |#endif 
                            17243 ; 16   |#if !defined(SUCCESS)
                            17244 ; 17   |#define SUCCESS  0
                            17245 ; 18   |#endif
                            17246 ; 19   |#if !defined(ERROR)
                            17247 ; 20   |#define ERROR   -1
                            17248 ; 21   |#endif
                            17249 ; 22   |#if !defined(FALSE)
                            17250 ; 23   |#define FALSE 0
                            17251 ; 24   |#endif
                            17252 ; 25   |#if !defined(TRUE)
                            17253 ; 26   |#define TRUE  1
                            17254 ; 27   |#endif
                            17255 ; 28   |
                            17256 ; 29   |#if !defined(NULL)
                            17257 ; 30   |#define NULL 0
                            17258 ; 31   |#endif
                            17259 ; 32   |
                            17260 ; 33   |#define MAX_INT     0x7FFFFF
                            17261 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            17262 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            17263 ; 36   |#define MAX_ULONG   (-1) 
                            17264 ; 37   |
                            17265 ; 38   |#define WORD_SIZE   24              // word size in bits
                            17266 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            17267 ; 40   |
                            17268 ; 41   |
                            17269 ; 42   |#define BYTE    unsigned char       // btVarName
                            17270 ; 43   |#define CHAR    signed char         // cVarName
                            17271 ; 44   |#define USHORT  unsigned short      // usVarName
                            17272 ; 45   |#define SHORT   unsigned short      // sVarName
                            17273 ; 46   |#define WORD    unsigned int        // wVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 285

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17274 ; 47   |#define INT     signed int          // iVarName
                            17275 ; 48   |#define DWORD   unsigned long       // dwVarName
                            17276 ; 49   |#define LONG    signed long         // lVarName
                            17277 ; 50   |#define BOOL    unsigned int        // bVarName
                            17278 ; 51   |#define FRACT   _fract              // frVarName
                            17279 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            17280 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            17281 ; 54   |#define FLOAT   float               // fVarName
                            17282 ; 55   |#define DBL     double              // dVarName
                            17283 ; 56   |#define ENUM    enum                // eVarName
                            17284 ; 57   |#define CMX     _complex            // cmxVarName
                            17285 ; 58   |typedef WORD UCS3;                   // 
                            17286 ; 59   |
                            17287 ; 60   |#define UINT16  unsigned short
                            17288 ; 61   |#define UINT8   unsigned char   
                            17289 ; 62   |#define UINT32  unsigned long
                            17290 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            17291 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            17292 ; 65   |#define WCHAR   UINT16
                            17293 ; 66   |
                            17294 ; 67   |//UINT128 is 16 bytes or 6 words
                            17295 ; 68   |typedef struct UINT128_3500 {   
                            17296 ; 69   |    int val[6];     
                            17297 ; 70   |} UINT128_3500;
                            17298 ; 71   |
                            17299 ; 72   |#define UINT128   UINT128_3500
                            17300 ; 73   |
                            17301 ; 74   |// Little endian word packed byte strings:   
                            17302 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            17303 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            17304 ; 77   |// Little endian word packed byte strings:   
                            17305 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            17306 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            17307 ; 80   |
                            17308 ; 81   |// Declare Memory Spaces To Use When Coding
                            17309 ; 82   |// A. Sector Buffers
                            17310 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            17311 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            17312 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            17313 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            17314 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            17315 ; 88   |// B. Media DDI Memory
                            17316 ; 89   |#define MEDIA_DDI_MEM _Y
                            17317 ; 90   |
                            17318 ; 91   |
                            17319 ; 92   |
                            17320 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            17321 ; 94   |// Examples of circular pointers:
                            17322 ; 95   |//    INT CIRC cpiVarName
                            17323 ; 96   |//    DWORD CIRC cpdwVarName
                            17324 ; 97   |
                            17325 ; 98   |#define RETCODE INT                 // rcVarName
                            17326 ; 99   |
                            17327 ; 100  |// generic bitfield structure
                            17328 ; 101  |struct Bitfield {
                            17329 ; 102  |    unsigned int B0  :1;
                            17330 ; 103  |    unsigned int B1  :1;
                            17331 ; 104  |    unsigned int B2  :1;
                            17332 ; 105  |    unsigned int B3  :1;
                            17333 ; 106  |    unsigned int B4  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 286

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17334 ; 107  |    unsigned int B5  :1;
                            17335 ; 108  |    unsigned int B6  :1;
                            17336 ; 109  |    unsigned int B7  :1;
                            17337 ; 110  |    unsigned int B8  :1;
                            17338 ; 111  |    unsigned int B9  :1;
                            17339 ; 112  |    unsigned int B10 :1;
                            17340 ; 113  |    unsigned int B11 :1;
                            17341 ; 114  |    unsigned int B12 :1;
                            17342 ; 115  |    unsigned int B13 :1;
                            17343 ; 116  |    unsigned int B14 :1;
                            17344 ; 117  |    unsigned int B15 :1;
                            17345 ; 118  |    unsigned int B16 :1;
                            17346 ; 119  |    unsigned int B17 :1;
                            17347 ; 120  |    unsigned int B18 :1;
                            17348 ; 121  |    unsigned int B19 :1;
                            17349 ; 122  |    unsigned int B20 :1;
                            17350 ; 123  |    unsigned int B21 :1;
                            17351 ; 124  |    unsigned int B22 :1;
                            17352 ; 125  |    unsigned int B23 :1;
                            17353 ; 126  |};
                            17354 ; 127  |
                            17355 ; 128  |union BitInt {
                            17356 ; 129  |        struct Bitfield B;
                            17357 ; 130  |        int        I;
                            17358 ; 131  |};
                            17359 ; 132  |
                            17360 ; 133  |#define MAX_MSG_LENGTH 10
                            17361 ; 134  |struct CMessage
                            17362 ; 135  |{
                            17363 ; 136  |        unsigned int m_uLength;
                            17364 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            17365 ; 138  |};
                            17366 ; 139  |
                            17367 ; 140  |typedef struct {
                            17368 ; 141  |    WORD m_wLength;
                            17369 ; 142  |    WORD m_wMessage;
                            17370 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            17371 ; 144  |} Message;
                            17372 ; 145  |
                            17373 ; 146  |struct MessageQueueDescriptor
                            17374 ; 147  |{
                            17375 ; 148  |        int *m_pBase;
                            17376 ; 149  |        int m_iModulo;
                            17377 ; 150  |        int m_iSize;
                            17378 ; 151  |        int *m_pHead;
                            17379 ; 152  |        int *m_pTail;
                            17380 ; 153  |};
                            17381 ; 154  |
                            17382 ; 155  |struct ModuleEntry
                            17383 ; 156  |{
                            17384 ; 157  |    int m_iSignaledEventMask;
                            17385 ; 158  |    int m_iWaitEventMask;
                            17386 ; 159  |    int m_iResourceOfCode;
                            17387 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            17388 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            17389 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            17390 ; 163  |    int m_uTimeOutHigh;
                            17391 ; 164  |    int m_uTimeOutLow;
                            17392 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            17393 ; 166  |};
                            17394 ; 167  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 287

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17395 ; 168  |union WaitMask{
                            17396 ; 169  |    struct B{
                            17397 ; 170  |        unsigned int m_bNone     :1;
                            17398 ; 171  |        unsigned int m_bMessage  :1;
                            17399 ; 172  |        unsigned int m_bTimer    :1;
                            17400 ; 173  |        unsigned int m_bButton   :1;
                            17401 ; 174  |    } B;
                            17402 ; 175  |    int I;
                            17403 ; 176  |} ;
                            17404 ; 177  |
                            17405 ; 178  |
                            17406 ; 179  |struct Button {
                            17407 ; 180  |        WORD wButtonEvent;
                            17408 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            17409 ; 182  |};
                            17410 ; 183  |
                            17411 ; 184  |struct Message {
                            17412 ; 185  |        WORD wMsgLength;
                            17413 ; 186  |        WORD wMsgCommand;
                            17414 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            17415 ; 188  |};
                            17416 ; 189  |
                            17417 ; 190  |union EventTypes {
                            17418 ; 191  |        struct CMessage msg;
                            17419 ; 192  |        struct Button Button ;
                            17420 ; 193  |        struct Message Message;
                            17421 ; 194  |};
                            17422 ; 195  |
                            17423 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            17424 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            17425 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            17426 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            17427 ; 200  |
                            17428 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            17429 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            17430 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            17431 ; 204  |
                            17432 ; 205  |#if DEBUG
                            17433 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            17434 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            17435 ; 208  |#else 
                            17436 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            17437 ; 210  |#define DebugBuildAssert(x)    
                            17438 ; 211  |#endif
                            17439 ; 212  |
                            17440 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            17441 ; 214  |//  #pragma asm
                            17442 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            17443 ; 216  |//  #pragma endasm
                            17444 ; 217  |
                            17445 ; 218  |
                            17446 ; 219  |#ifdef COLOR_262K
                            17447 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            17448 ; 221  |#elif defined(COLOR_65K)
                            17449 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            17450 ; 223  |#else
                            17451 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            17452 ; 225  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 288

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17453 ; 226  |    
                            17454 ; 227  |#endif // #ifndef _TYPES_H
                            17455 
                            17457 
                            17458 ; 31   |
                            17459 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17460 ; 33   |
                            17461 ; 34   |//   SWIZZLE STMP3500 Registers 
                            17462 ; 35   |//   Last Updated 7.11.2003 Dave Dyches
                            17463 ; 36   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17464 ; 37   |
                            17465 ; 38   |
                            17466 ; 39   |
                            17467 ; 40   |
                            17468 ; 41   |
                            17469 ; 42   |#define HW_SWIZZLE_BASEADDR 0xF380
                            17470 ; 43   |
                            17471 ; 44   |
                            17472 ; 45   |
                            17473 ; 46   |////  Swizzle CSR1 (HW_SWIZZLECSR1) Bit Definitions
                            17474 ; 47   |#define HW_SWIZZLECSR1_EN_BITPOS (0)
                            17475 ; 48   |#define HW_SWIZZLECSR1_LA_BITPOS (1)
                            17476 ; 49   |#define HW_SWIZZLECSR1_LNR_BITPOS (2)
                            17477 ; 50   |#define HW_SWIZZLECSR1_SIGN_BITPOS (3)
                            17478 ; 51   |#define HW_SWIZZLECSR1_SHIFT_BITPOS (4)
                            17479 ; 52   |#define HW_SWIZZLECSR1_MEM_BITPOS (8)
                            17480 ; 53   |#define HW_SWIZZLECSR1_CLK_OFF_BITPOS (9)
                            17481 ; 54   |#define HW_SWIZZLECSR1_NEWADD_BITPOS (10)
                            17482 ; 55   |#define HW_SWIZZLECSR1_RSVD_BITPOS (11)
                            17483 ; 56   |
                            17484 ; 57   |#define HW_SWIZZLECSR1_EN_WIDTH (1)
                            17485 ; 58   |#define HW_SWIZZLECSR1_LA_WIDTH (1)
                            17486 ; 59   |#define HW_SWIZZLECSR1_LNR_WIDTH (1)
                            17487 ; 60   |#define HW_SWIZZLECSR1_SIGN_WIDTH (1)
                            17488 ; 61   |#define HW_SWIZZLECSR1_SHIFT_WIDTH (4)
                            17489 ; 62   |#define HW_SWIZZLECSR1_MEM_WIDTH (1)
                            17490 ; 63   |#define HW_SWIZZLECSR1_CLK_OFF_WIDTH (1)
                            17491 ; 64   |#define HW_SWIZZLECSR1_NEWADD_WIDTH (1)
                            17492 ; 65   |#define HW_SWIZZLECSR1_RSVD_WIDTH (13)
                            17493 ; 66   |
                            17494 ; 67   |#define HW_SWIZZLECSR1_EN_SETMASK (((1<HW_SWIZZLECSR1_EN_WIDTH)-1)<<HW_SWIZZLECSR1_EN_BITP
                                  OS)
                            17495 ; 68   |#define HW_SWIZZLECSR1_LA_SETMASK (((1<HW_SWIZZLECSR1_LA_WIDTH)-1)<<HW_SWIZZLECSR1_LA_BITP
                                  OS)
                            17496 ; 69   |#define HW_SWIZZLECSR1_LNR_SETMASK (((1<HW_SWIZZLECSR1_LNR_WIDTH)-1)<<HW_SWIZZLECSR1_LNR_B
                                  ITPOS)
                            17497 ; 70   |#define HW_SWIZZLECSR1_SIGN_SETMASK (((1<HW_SWIZZLECSR1_SIGN_WIDTH)-1)<<HW_SWIZZLECSR1_SIG
                                  N_BITPOS)
                            17498 ; 71   |#define HW_SWIZZLECSR1_SHIFT_SETMASK (((1<HW_SWIZZLECSR1_SHIFT_WIDTH)-1)<<HW_SWIZZLECSR1_S
                                  HIFT_BITPOS)
                            17499 ; 72   |#define HW_SWIZZLECSR1_MEM_SETMASK (((1<HW_SWIZZLECSR1_MEM_WIDTH)-1)<<HW_SWIZZLECSR1_MEM_B
                                  ITPOS)
                            17500 ; 73   |#define HW_SWIZZLECSR1_CLK_OFF_SETMASK (((1<HW_SWIZZLECSR1_CLK_OFF_WIDTH)-1)<<HW_SWIZZLECS
                                  R1_CLK_OFF_BITPOS)
                            17501 ; 74   |#define HW_SWIZZLECSR1_NEWADD_SETMASK (((1<HW_SWIZZLECSR1_NEWADD_WIDTH)-1)<<HW_SWIZZLECSR1
                                  _NEWADD_BITPOS)
                            17502 ; 75   |#define HW_SWIZZLECSR1_RSVD_SETMASK (((1<HW_SWIZZLECSR1_RSVD_WIDTH)-1)<<HW_SWIZZLECSR1_RSV
                                  D_BITPOS)
                            17503 ; 76   |
                            17504 ; 77   |#define HW_SWIZZLECSR1_EN_CLRMASK (~(WORD)HW_SWIZZLECSR1_EN_SETMASK)
                            17505 ; 78   |#define HW_SWIZZLECSR1_LA_CLRMASK (~(WORD)HW_SWIZZLECSR1_LA_SETMASK)
                            17506 ; 79   |#define HW_SWIZZLECSR1_LNR_CLRMASK (~(WORD)HW_SWIZZLECSR1_LNR_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 289

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17507 ; 80   |#define HW_SWIZZLECSR1_SIGN_CLRMASK (~(WORD)HW_SWIZZLECSR1_SIGN_SETMASK)
                            17508 ; 81   |#define HW_SWIZZLECSR1_SHIFT_CLRMASK (~(WORD)HW_SWIZZLECSR1_SHIFT_SETMASK)
                            17509 ; 82   |#define HW_SWIZZLECSR1_MEM_CLRMASK (~(WORD)HW_SWIZZLECSR1_MEM_SETMASK)
                            17510 ; 83   |#define HW_SWIZZLECSR1_CLK_OFF_CLRMASK (~(WORD)HW_SWIZZLECSR1_CLK_OFF_SETMASK)
                            17511 ; 84   |#define HW_SWIZZLECSR1_NEWADD_CLRMASK (~(WORD)HW_SWIZZLECSR1_NEWADD_SETMASK)
                            17512 ; 85   |#define HW_SWIZZLECSR1_RSVD_CLRMASK (~(WORD)HW_SWIZZLECSR1_RSVD_SETMASK)
                            17513 ; 86   |
                            17514 ; 87   |////////////////////////////////////////////////////////////////////////////////
                            17515 ; 88   |//  Bit Manipulation Unit Registers
                            17516 ; 89   |////////////////////////////////////////////////////////////////////////////////
                            17517 ; 90   |typedef union
                            17518 ; 91   |{
                            17519 ; 92   |    struct
                            17520 ; 93   |    {
                            17521 ; 94   |    int EN      :1;     /* Swizzle Enable                           */
                            17522 ; 95   |    int LA      :1;     /* Left Align Data                          */
                            17523 ; 96   |    int LNR     :1;     /* Left Barrel Shift                        */
                            17524 ; 97   |    int SIGN    :1;     /* Sign Extend Data                         */
                            17525 ; 98   |    unsigned SHIFT :4;          /* Number of positions to shift (0 to 23)   */
                            17526 ; 99   |    int MEM     :1;     /* Manipulate in Memory (not in registers)  */
                            17527 ; 100  |    int CLK_OFF :1;     /* Gate the Clock, Power Off                */
                            17528 ; 101  |    int NEWADD  :1;     /* Place the data into a new location       */     
                            17529 ; 102  |    } B;
                            17530 ; 103  |    int I;
                            17531 ; 104  |    unsigned U;
                            17532 ; 105  |} swizzlecsr1_type;
                            17533 ; 106  |////////////////////////////////////////////////////////////////////////////////
                            17534 ; 107  |#define HW_SWIZZLECS1R (*(volatile swizzlecsr1_type _X*) (HW_SWIZZLE_BASEADDR))       /* S
                                  wizzle Control & Status Register 1 */
                            17535 ; 108  |
                            17536 ; 109  |////  Swizzle CSR2 (HW_SWIZZLECSR2) Bit Definitions
                            17537 ; 110  |#define HW_SWIZZLECSR2_KICK_BITPOS (0)
                            17538 ; 111  |#define HW_SWIZZLECSR2_SASEL_BITPOS (1)
                            17539 ; 112  |#define HW_SWIZZLECSR2_DESASEL_BITPOS (3)
                            17540 ; 113  |#define HW_SWIZZLECSR2_BIGE_BITPOS (5)
                            17541 ; 114  |#define HW_SWIZZLECSR2_BITREV_BITPOS (6)
                            17542 ; 115  |#define HW_SWIZZLECSR2_PLSB_BITPOS (7)
                            17543 ; 116  |#define HW_SWIZZLECSR2_PISB_OFF_BITPOS (8)
                            17544 ; 117  |#define HW_SWIZZLECSR2_PMSB_BITPOS (9)
                            17545 ; 118  |#define HW_SWIZZLECSR2_P16L_BITPOS (10)
                            17546 ; 119  |#define HW_SWIZZLECSR2_P16I_BITPOS (11)
                            17547 ; 120  |#define HW_SWIZZLECSR2_BS_EN_BITPOS (12)
                            17548 ; 121  |#define HW_SWIZZLECSR2_SBYTEDEST_BITPOS (13)
                            17549 ; 122  |#define HW_SWIZZLECSR2_UNKICK_BITPOS (15)
                            17550 ; 123  |#define HW_SWIZZLECSR2_RSVD_BITPOS (16)
                            17551 ; 124  |
                            17552 ; 125  |#define HW_SWIZZLECSR2_KICK_WIDTH (1)
                            17553 ; 126  |#define HW_SWIZZLECSR2_SASEL_WIDTH (2)
                            17554 ; 127  |#define HW_SWIZZLECSR2_DESASEL_WIDTH (2)
                            17555 ; 128  |#define HW_SWIZZLECSR2_BIGE_WIDTH (1)
                            17556 ; 129  |#define HW_SWIZZLECSR2_BITREV_WIDTH (1)
                            17557 ; 130  |#define HW_SWIZZLECSR2_PLSB_WIDTH (1)
                            17558 ; 131  |#define HW_SWIZZLECSR2_PMSB_WIDTH (1)
                            17559 ; 132  |#define HW_SWIZZLECSR2_P16L_WIDTH (1)
                            17560 ; 133  |#define HW_SWIZZLECSR2_P16I_WIDTH (1)
                            17561 ; 134  |#define HW_SWIZZLECSR2_BS_EN_WIDTH (1)
                            17562 ; 135  |#define HW_SWIZZLECSR2_SBYTEDEST_WIDTH (2)
                            17563 ; 136  |#define HW_SWIZZLECSR2_UNKICK_WIDTH (1)
                            17564 ; 137  |#define HW_SWIZZLECSR2_RSVD_WIDTH (8)
                            17565 ; 138  |
                            17566 ; 139  |#define HW_SWIZZLECSR2_KICK_SETMASK (((1<HW_SWIZZLECSR2_KICK_WIDTH)-1)<<HW_SWIZZLECSR2_KIC
                                  K_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 290

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17567 ; 140  |#define HW_SWIZZLECSR2_SASEL_SETMASK (((1<HW_SWIZZLECSR2_SASEL_WIDTH)-1)<<HW_SWIZZLECSR2_S
                                  ASEL_BITPOS)
                            17568 ; 141  |#define HW_SWIZZLECSR2_DESASEL_SETMASK (((1<HW_SWIZZLECSR2_DESASEL_WIDTH)-1)<<HW_SWIZZLECS
                                  R2_DESASEL_BITPOS)
                            17569 ; 142  |#define HW_SWIZZLECSR2_BIGE_SETMASK (((1<HW_SWIZZLECSR2_BIGE_WIDTH)-1)<<HW_SWIZZLECSR2_BIG
                                  E_BITPOS)
                            17570 ; 143  |#define HW_SWIZZLECSR2_BITREV_SETMASK (((1<HW_SWIZZLECSR2_BITREV_WIDTH)-1)<<HW_SWIZZLECSR2
                                  _BITREV_BITPOS)
                            17571 ; 144  |#define HW_SWIZZLECSR2_PLSB_SETMASK (((1<HW_SWIZZLECSR2_PLSB_WIDTH)-1)<<HW_SWIZZLECSR2_PLS
                                  B_BITPOS)
                            17572 ; 145  |#define HW_SWIZZLECSR2_PMSB_SETMASK (((1<HW_SWIZZLECSR2_PMSB_WIDTH)-1)<<HW_SWIZZLECSR2_PMS
                                  B_BITPOS)
                            17573 ; 146  |#define HW_SWIZZLECSR2_P16L_SETMASK (((1<HW_SWIZZLECSR2_P16L_WIDTH)-1)<<HW_SWIZZLECSR2_P16
                                  L_BITPOS)
                            17574 ; 147  |#define HW_SWIZZLECSR2_P16I_SETMASK (((1<HW_SWIZZLECSR2_P16I_WIDTH)-1)<<HW_SWIZZLECSR2_P16
                                  I_BITPOS)
                            17575 ; 148  |#define HW_SWIZZLECSR2_BS_EN_SETMASK (((1<HW_SWIZZLECSR2_BS_EN_WIDTH)-1)<<HW_SWIZZLECSR2_B
                                  S_EN_BITPOS)
                            17576 ; 149  |#define HW_SWIZZLECSR2_SBYTEDEST_SETMASK (((1<HW_SWIZZLECSR2_SBYTEDEST_WIDTH)-1)<<HW_SWIZZ
                                  LECSR2_SBYTEDEST_BITPOS)
                            17577 ; 150  |#define HW_SWIZZLECSR2_UNKICK_SETMASK (((1<HW_SWIZZLECSR2_UNKICK_WIDTH)-1)<<HW_SWIZZLECSR2
                                  _UNKICK_BITPOS)
                            17578 ; 151  |#define HW_SWIZZLECSR2_RSVD_SETMASK (((1<HW_SWIZZLECSR2_RSVD_WIDTH)-1)<<HW_SWIZZLECSR2_RSV
                                  D_BITPOS)
                            17579 ; 152  |
                            17580 ; 153  |#define HW_SWIZZLECSR2_KICK_CLRMASK (~(WORD)HW_SWIZZLECSR2_KICK_SETMASK)
                            17581 ; 154  |#define HW_SWIZZLECSR2_SASEL_CLRMASK (~(WORD)HW_SWIZZLECSR2_SASEL_SETMASK)
                            17582 ; 155  |#define HW_SWIZZLECSR2_DESASEL_CLRMASK (~(WORD)HW_SWIZZLECSR2_DESASEL_SETMASK)
                            17583 ; 156  |#define HW_SWIZZLECSR2_BIGE_CLRMASK (~(WORD)HW_SWIZZLECSR2_BIGE_SETMASK)
                            17584 ; 157  |#define HW_SWIZZLECSR2_BITREV_CLRMASK (~(WORD)HW_SWIZZLECSR2_BITREV_SETMASK)
                            17585 ; 158  |#define HW_SWIZZLECSR2_PLSB_CLRMASK (~(WORD)HW_SWIZZLECSR2_PLSB_SETMASK)
                            17586 ; 159  |#define HW_SWIZZLECSR2_PMSB_CLRMASK (~(WORD)HW_SWIZZLECSR2_PMSB_SETMASK)
                            17587 ; 160  |#define HW_SWIZZLECSR2_P16L_CLRMASK (~(WORD)HW_SWIZZLECSR2_P16L_SETMASK)
                            17588 ; 161  |#define HW_SWIZZLECSR2_P16I_CLRMASK (~(WORD)HW_SWIZZLECSR2_P16I_SETMASK)
                            17589 ; 162  |#define HW_SWIZZLECSR2_BS_EN_CLRMASK (~(WORD)HW_SWIZZLECSR2_BS_EN_SETMASK)
                            17590 ; 163  |#define HW_SWIZZLECSR2_SBYTEDEST_CLRMASK (~(WORD)HW_SWIZZLECSR2_SBYTEDEST_SETMASK)
                            17591 ; 164  |#define HW_SWIZZLECSR2_UNKICK_CLRMASK (~(WORD)HW_SWIZZLECSR2_UNKICK_SETMASK)
                            17592 ; 165  |#define HW_SWIZZLECSR2_RSVD_CLRMASK (~(WORD)HW_SWIZZLECSR2_RSVD_SETMASK)
                            17593 ; 166  |
                            17594 ; 167  |///////////////////////////////////////////////////////////////////////////////
                            17595 ; 168  |typedef union
                            17596 ; 169  |{
                            17597 ; 170  |    struct
                            17598 ; 171  |    {
                            17599 ; 172  |    int KICK    :1;         /* Start transfer                      */
                            17600 ; 173  |    unsigned SASEL :2;              /* Source memory Select                */
                            17601 ; 174  |    unsigned DESASEL :2;                    /* Destination memory Select           */
                            17602 ; 175  |    int BIGE        :1;             /* Big Endian Enable                   */
                            17603 ; 176  |    int BITREV      :1;     /* Bit reverse the data                */
                            17604 ; 177  |    int PLSB        :1;             /* Pass Least Significant Byte         */
                            17605 ; 178  |    int PISB        :1;     /* Pass Intermediate Byte              */
                            17606 ; 179  |    int PMSB        :1;     /* Pass Most Significant Byte          */
                            17607 ; 180  |    int P16L        :1;     /* Pass Least Significant word         */
                            17608 ; 181  |    int P16I        :1;     /* Pass Intermediate significant word  */
                            17609 ; 182  |    int BS_EN       :1;     /* Barrel Shift Enable                 */
                            17610 ; 183  |    unsigned SBYTE  :2;                     /* Start byte                          */
                            17611 ; 184  |    int UNKICK      :1;     /* Halt transfer                       */  
                            17612 ; 185  |    } B;
                            17613 ; 186  |    unsigned int I;
                            17614 ; 187  |    unsigned int U;
                            17615 ; 188  |} swizzlecsr2_type;
                            17616 ; 189  |///////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 291

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17617 ; 190  |#define HW_SWIZZLECS2R (*(volatile swizzlecsr2_type _X*) (HW_SWIZZLE_BASEADDR+1))     /* S
                                  wizzle Control & Status Register 2 */
                            17618 ; 191  |
                            17619 ; 192  |////  Swizzle SIZER (HW_SWIZZLESIZER) Bit Definitions
                            17620 ; 193  |#define HW_SWIZZLESIZER_SIZE_BITPOS (0)
                            17621 ; 194  |#define HW_SWIZZLESIZER_NEW_SHIFT_BITPOS (16)
                            17622 ; 195  |#define HW_SWIZZLESIZER_RSVD_BITPOS (21)
                            17623 ; 196  |
                            17624 ; 197  |#define HW_SWIZZLESIZER_SIZE_WIDTH (16)
                            17625 ; 198  |#define HW_SWIZZLESIZER_NEW_SHIFT_WIDTH (5)
                            17626 ; 199  |#define HW_SWIZZLESIZER_RSVD_WIDTH (3)
                            17627 ; 200  |
                            17628 ; 201  |#define HW_SWIZZLESIZER_SIZE_SETMASK (((1<HW_SWIZZLESIZER_SIZE_WIDTH)-1)<<HW_SWIZZLESIZER_
                                  SIZE_BITPOS)
                            17629 ; 202  |#define HW_SWIZZLESIZER_NEW_SHIFT_SETMASK (((1<HW_SWIZZLESIZER_NEW_SHIFT_WIDTH)-1)<<HW_SWI
                                  ZZLESIZER_NEW_SHIFT_BITPOS)
                            17630 ; 203  |#define HW_SWIZZLESIZER_RSVD_SETMASK (((1<HW_SWIZZLESIZER_RSVD_WIDTH)-1)<<HW_SWIZZLESIZER_
                                  RSVD_BITPOS)
                            17631 ; 204  |
                            17632 ; 205  |#define HW_SWIZZLESIZER_SIZE_CLRMASK (~(WORD)HW_SWIZZLESIZER_SIZE_SETMASK)
                            17633 ; 206  |#define HW_SWIZZLESIZER_NEW_SHIFT_CLRMASK (~(WORD)HW_SWIZZLESIZER_NEW_SHIFT_SETMASK)
                            17634 ; 207  |#define HW_SWIZZLESIZER_RSVD_CLRMASK (~(WORD)HW_SWIZZLESIZER_RSVD_SETMASK)
                            17635 ; 208  |
                            17636 ; 209  |///////////////////////////////////////////////////////////////////////////////
                            17637 ; 210  |typedef union
                            17638 ; 211  |{
                            17639 ; 212  |    struct
                            17640 ; 213  |    {
                            17641 ; 214  |    unsigned SIZE      :16;        /* Number of memory words to manipulate */
                            17642 ; 215  |    unsigned NEW_SHIFT :5;         /* Source memory Select                 */
                            17643 ; 216  |    } B;
                            17644 ; 217  |    int I;
                            17645 ; 218  |    unsigned U;
                            17646 ; 219  |} swizzlesizer_type;
                            17647 ; 220  |///////////////////////////////////////////////////////////////////////////////
                            17648 ; 221  |#define HW_SWIZZLESIZER (*(volatile swizzlesizer_type _X*) (HW_SWIZZLE_BASEADDR+2))       
                                   /* Swizzle Transfer Size Register */
                            17649 ; 222  |#define HW_SWIZZLESOURCER (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+3))      /* S
                                  wizzle Source Address Register */
                            17650 ; 223  |#define HW_SWIZZLEDATA1R (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+4))       /* S
                                  wizzle Data1 Register */
                            17651 ; 224  |#define HW_SWIZZLEDATA2R (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+5))       /* S
                                  wizzle Data2 Register */
                            17652 ; 225  |#define HW_SWIZZLEDESTADDRR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+6))    /* S
                                  wizzle Destination Address Register */
                            17653 ; 226  |#define HW_SWIZZLEBIGENDIANR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+7))   /* S
                                  wizzle Big Endian Register */
                            17654 ; 227  |#define HW_SWIZZLEBITREVR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+8))      /* S
                                  wizzle BITREV Register */
                            17655 ; 228  |#define HW_SWIZZLEPASSLSBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+9))     /* S
                                  wizzle Pass Least Significant Byte Register */
                            17656 ; 229  |#define HW_SWIZZLEPASSISBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+10))    /* S
                                  wizzle Pass Intermediate Byte Register */
                            17657 ; 230  |#define HW_SWIZZLEPASSMSBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+11))    /* S
                                  wizzle Pass Most Significant Byte Register */
                            17658 ; 231  |#define HW_SWIZZLEPASSLSWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+12))    /* S
                                  wizzle Pass Least Significant Word Register */
                            17659 ; 232  |#define HW_SWIZZLEPASSISWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+13))    /* S
                                  wizzle Pass Intermediate Significant Word Register */
                            17660 ; 233  |#define HW_SWIZZLEPASSMSWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+14))    /* S
                                  wizzle Pass Most Significant Word Register */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 292

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17661 ; 234  |#define HW_SWIZZLEBARRELR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+15))    /* Sw
                                  izzle Barrel Shift Register */
                            17662 ; 235  |#define HW_SWIZZLEDIV3LR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+16))    /* Swi
                                  zzle Divide By 3 Lower Register */
                            17663 ; 236  |
                            17664 ; 237  |
                            17665 ; 238  |////  Swizzle DIV3UR (HW_SWIZZLEDIV3UR) Bit Definitions
                            17666 ; 239  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_BITPOS (0)
                            17667 ; 240  |#define HW_SWIZZLEDIV3UR_RSVD0_BITPOS (8)
                            17668 ; 241  |#define HW_SWIZZLEDIV3UR_REMAINDER_BITPOS (20)
                            17669 ; 242  |#define HW_SWIZZLEDIV3UR_RSVD1_BITPOS (22)
                            17670 ; 243  |
                            17671 ; 244  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_WIDTH (8)
                            17672 ; 245  |#define HW_SWIZZLEDIV3UR_RSVD0_WIDTH (12)
                            17673 ; 246  |#define HW_SWIZZLEDIV3UR_REMAINDER_WIDTH (2)
                            17674 ; 247  |#define HW_SWIZZLEDIV3UR_RSVD1_WIDTH (2)
                            17675 ; 248  |
                            17676 ; 249  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_SETMASK (((1<HW_SWIZZLEDIV3UR_DIV3_UPPER_WIDTH)-1)<<HW
                                  _SWIZZLEDIV3UR_DIV3_UPPER_BITPOS)
                            17677 ; 250  |#define HW_SWIZZLEDIV3UR_RSVD0_SETMASK (((1<HW_SWIZZLEDIV3UR_RSVD0_WIDTH)-1)<<HW_SWIZZLEDI
                                  V3UR_RSVD0_BITPOS)
                            17678 ; 251  |#define HW_SWIZZLEDIV3UR_REMAINDER_SETMASK (((1<HW_SWIZZLEDIV3UR_REMAINDER_WIDTH)-1)<<HW_S
                                  WIZZLEDIV3UR_REMAINDER_BITPOS)
                            17679 ; 252  |#define HW_SWIZZLEDIV3UR_RSVD1_SETMASK (((1<HW_SWIZZLEDIV3UR_RSVD1_WIDTH)-1)<<HW_SWIZZLEDI
                                  V3UR_RSVD1_BITPOS)
                            17680 ; 253  |
                            17681 ; 254  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_DIV3_UPPER_SETMASK)
                            17682 ; 255  |#define HW_SWIZZLEDIV3UR_RSVD0_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_RSVD0_SETMASK)
                            17683 ; 256  |#define HW_SWIZZLEDIV3UR_REMAINDER_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_REMAINDER_SETMASK)
                            17684 ; 257  |#define HW_SWIZZLEDIV3UR_RSVD1_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_RSVD1_SETMASK)
                            17685 ; 258  |
                            17686 ; 259  |///////////////////////////////////////////////////////////////////////////////
                            17687 ; 260  |typedef union
                            17688 ; 261  |{
                            17689 ; 262  |    struct
                            17690 ; 263  |    {
                            17691 ; 264  |    unsigned DIV3_UPPER    :8;     /* Number of memory words to manipulate */
                            17692 ; 265  |    unsigned RSVD0         :12;         /* Source memory Select                 */
                            17693 ; 266  |    unsigned REMAINDER     :2;         /* Source memory Select                 */
                            17694 ; 267  |    } B;
                            17695 ; 268  |    int I;
                            17696 ; 269  |    unsigned U;
                            17697 ; 270  |} swizzlediv3ur_type;
                            17698 ; 271  |///////////////////////////////////////////////////////////////////////////////
                            17699 ; 272  |#define HW_SWIZZLEDIV3UR (*(volatile swizzlediv3ur_type _X*) (HW_SWIZZLE_BASEADDR+17))    
                                  /* Swizzle Divide By 3 Upper Register */
                            17700 ; 273  |
                            17701 ; 274  |#endif
                            17702 ; 275  |
                            17703 
                            17705 
                            17706 ; 33   |#include "regssdram.h"
                            17707 
                            17709 
                            17710 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17711 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2003
                            17712 ; 3    |//;  File        : regssdram.inc
                            17713 ; 4    |//;  Description : Mixed Signal IP Register definition
                            17714 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17715 ; 6    |
                            17716 ; 7    |// The following naming conventions are followed in this file.
                            17717 ; 8    |// All registers are named using the format...
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 293

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17718 ; 9    |//     HW_<module>_<regname>
                            17719 ; 10   |// where <module> is the module name which can be any of the following...
                            17720 ; 11   |//     SYSTEM
                            17721 ; 12   |// (Note that when there is more than one copy of a particular module, the
                            17722 ; 13   |// module name includes a number starting from 0 for the first instance of
                            17723 ; 14   |// that module)
                            17724 ; 15   |// <regname> is the specific register within that module
                            17725 ; 16   |// We also define the following...
                            17726 ; 17   |//     HW_<module>_<regname>_BITPOS
                            17727 ; 18   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            17728 ; 19   |//     HW_<module>_<regname>_SETMASK
                            17729 ; 20   |// which does something else, and
                            17730 ; 21   |//     HW_<module>_<regname>_CLRMASK
                            17731 ; 22   |// which does something else.
                            17732 ; 23   |// Other rules
                            17733 ; 24   |//     All caps
                            17734 ; 25   |//     Numeric identifiers start at 0
                            17735 ; 26   |
                            17736 ; 27   |#if !(defined(regssdraminc))
                            17737 ; 28   |#define regssdraminc 1
                            17738 ; 29   |
                            17739 ; 30   |#include "types.h"
                            17740 
                            17742 
                            17743 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            17744 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            17745 ; 3    |//
                            17746 ; 4    |// Filename: types.h
                            17747 ; 5    |// Description: Standard data types
                            17748 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            17749 ; 7    |
                            17750 ; 8    |#ifndef _TYPES_H
                            17751 ; 9    |#define _TYPES_H
                            17752 ; 10   |
                            17753 ; 11   |// TODO:  move this outta here!
                            17754 ; 12   |#if !defined(NOERROR)
                            17755 ; 13   |#define NOERROR 0
                            17756 ; 14   |#define SUCCESS 0
                            17757 ; 15   |#endif 
                            17758 ; 16   |#if !defined(SUCCESS)
                            17759 ; 17   |#define SUCCESS  0
                            17760 ; 18   |#endif
                            17761 ; 19   |#if !defined(ERROR)
                            17762 ; 20   |#define ERROR   -1
                            17763 ; 21   |#endif
                            17764 ; 22   |#if !defined(FALSE)
                            17765 ; 23   |#define FALSE 0
                            17766 ; 24   |#endif
                            17767 ; 25   |#if !defined(TRUE)
                            17768 ; 26   |#define TRUE  1
                            17769 ; 27   |#endif
                            17770 ; 28   |
                            17771 ; 29   |#if !defined(NULL)
                            17772 ; 30   |#define NULL 0
                            17773 ; 31   |#endif
                            17774 ; 32   |
                            17775 ; 33   |#define MAX_INT     0x7FFFFF
                            17776 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            17777 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            17778 ; 36   |#define MAX_ULONG   (-1) 
                            17779 ; 37   |
                            17780 ; 38   |#define WORD_SIZE   24              // word size in bits
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 294

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17781 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            17782 ; 40   |
                            17783 ; 41   |
                            17784 ; 42   |#define BYTE    unsigned char       // btVarName
                            17785 ; 43   |#define CHAR    signed char         // cVarName
                            17786 ; 44   |#define USHORT  unsigned short      // usVarName
                            17787 ; 45   |#define SHORT   unsigned short      // sVarName
                            17788 ; 46   |#define WORD    unsigned int        // wVarName
                            17789 ; 47   |#define INT     signed int          // iVarName
                            17790 ; 48   |#define DWORD   unsigned long       // dwVarName
                            17791 ; 49   |#define LONG    signed long         // lVarName
                            17792 ; 50   |#define BOOL    unsigned int        // bVarName
                            17793 ; 51   |#define FRACT   _fract              // frVarName
                            17794 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            17795 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            17796 ; 54   |#define FLOAT   float               // fVarName
                            17797 ; 55   |#define DBL     double              // dVarName
                            17798 ; 56   |#define ENUM    enum                // eVarName
                            17799 ; 57   |#define CMX     _complex            // cmxVarName
                            17800 ; 58   |typedef WORD UCS3;                   // 
                            17801 ; 59   |
                            17802 ; 60   |#define UINT16  unsigned short
                            17803 ; 61   |#define UINT8   unsigned char   
                            17804 ; 62   |#define UINT32  unsigned long
                            17805 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            17806 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            17807 ; 65   |#define WCHAR   UINT16
                            17808 ; 66   |
                            17809 ; 67   |//UINT128 is 16 bytes or 6 words
                            17810 ; 68   |typedef struct UINT128_3500 {   
                            17811 ; 69   |    int val[6];     
                            17812 ; 70   |} UINT128_3500;
                            17813 ; 71   |
                            17814 ; 72   |#define UINT128   UINT128_3500
                            17815 ; 73   |
                            17816 ; 74   |// Little endian word packed byte strings:   
                            17817 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            17818 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            17819 ; 77   |// Little endian word packed byte strings:   
                            17820 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            17821 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            17822 ; 80   |
                            17823 ; 81   |// Declare Memory Spaces To Use When Coding
                            17824 ; 82   |// A. Sector Buffers
                            17825 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            17826 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            17827 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            17828 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            17829 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            17830 ; 88   |// B. Media DDI Memory
                            17831 ; 89   |#define MEDIA_DDI_MEM _Y
                            17832 ; 90   |
                            17833 ; 91   |
                            17834 ; 92   |
                            17835 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            17836 ; 94   |// Examples of circular pointers:
                            17837 ; 95   |//    INT CIRC cpiVarName
                            17838 ; 96   |//    DWORD CIRC cpdwVarName
                            17839 ; 97   |
                            17840 ; 98   |#define RETCODE INT                 // rcVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 295

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17841 ; 99   |
                            17842 ; 100  |// generic bitfield structure
                            17843 ; 101  |struct Bitfield {
                            17844 ; 102  |    unsigned int B0  :1;
                            17845 ; 103  |    unsigned int B1  :1;
                            17846 ; 104  |    unsigned int B2  :1;
                            17847 ; 105  |    unsigned int B3  :1;
                            17848 ; 106  |    unsigned int B4  :1;
                            17849 ; 107  |    unsigned int B5  :1;
                            17850 ; 108  |    unsigned int B6  :1;
                            17851 ; 109  |    unsigned int B7  :1;
                            17852 ; 110  |    unsigned int B8  :1;
                            17853 ; 111  |    unsigned int B9  :1;
                            17854 ; 112  |    unsigned int B10 :1;
                            17855 ; 113  |    unsigned int B11 :1;
                            17856 ; 114  |    unsigned int B12 :1;
                            17857 ; 115  |    unsigned int B13 :1;
                            17858 ; 116  |    unsigned int B14 :1;
                            17859 ; 117  |    unsigned int B15 :1;
                            17860 ; 118  |    unsigned int B16 :1;
                            17861 ; 119  |    unsigned int B17 :1;
                            17862 ; 120  |    unsigned int B18 :1;
                            17863 ; 121  |    unsigned int B19 :1;
                            17864 ; 122  |    unsigned int B20 :1;
                            17865 ; 123  |    unsigned int B21 :1;
                            17866 ; 124  |    unsigned int B22 :1;
                            17867 ; 125  |    unsigned int B23 :1;
                            17868 ; 126  |};
                            17869 ; 127  |
                            17870 ; 128  |union BitInt {
                            17871 ; 129  |        struct Bitfield B;
                            17872 ; 130  |        int        I;
                            17873 ; 131  |};
                            17874 ; 132  |
                            17875 ; 133  |#define MAX_MSG_LENGTH 10
                            17876 ; 134  |struct CMessage
                            17877 ; 135  |{
                            17878 ; 136  |        unsigned int m_uLength;
                            17879 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            17880 ; 138  |};
                            17881 ; 139  |
                            17882 ; 140  |typedef struct {
                            17883 ; 141  |    WORD m_wLength;
                            17884 ; 142  |    WORD m_wMessage;
                            17885 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            17886 ; 144  |} Message;
                            17887 ; 145  |
                            17888 ; 146  |struct MessageQueueDescriptor
                            17889 ; 147  |{
                            17890 ; 148  |        int *m_pBase;
                            17891 ; 149  |        int m_iModulo;
                            17892 ; 150  |        int m_iSize;
                            17893 ; 151  |        int *m_pHead;
                            17894 ; 152  |        int *m_pTail;
                            17895 ; 153  |};
                            17896 ; 154  |
                            17897 ; 155  |struct ModuleEntry
                            17898 ; 156  |{
                            17899 ; 157  |    int m_iSignaledEventMask;
                            17900 ; 158  |    int m_iWaitEventMask;
                            17901 ; 159  |    int m_iResourceOfCode;
                            17902 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 296

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17903 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            17904 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            17905 ; 163  |    int m_uTimeOutHigh;
                            17906 ; 164  |    int m_uTimeOutLow;
                            17907 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            17908 ; 166  |};
                            17909 ; 167  |
                            17910 ; 168  |union WaitMask{
                            17911 ; 169  |    struct B{
                            17912 ; 170  |        unsigned int m_bNone     :1;
                            17913 ; 171  |        unsigned int m_bMessage  :1;
                            17914 ; 172  |        unsigned int m_bTimer    :1;
                            17915 ; 173  |        unsigned int m_bButton   :1;
                            17916 ; 174  |    } B;
                            17917 ; 175  |    int I;
                            17918 ; 176  |} ;
                            17919 ; 177  |
                            17920 ; 178  |
                            17921 ; 179  |struct Button {
                            17922 ; 180  |        WORD wButtonEvent;
                            17923 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            17924 ; 182  |};
                            17925 ; 183  |
                            17926 ; 184  |struct Message {
                            17927 ; 185  |        WORD wMsgLength;
                            17928 ; 186  |        WORD wMsgCommand;
                            17929 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            17930 ; 188  |};
                            17931 ; 189  |
                            17932 ; 190  |union EventTypes {
                            17933 ; 191  |        struct CMessage msg;
                            17934 ; 192  |        struct Button Button ;
                            17935 ; 193  |        struct Message Message;
                            17936 ; 194  |};
                            17937 ; 195  |
                            17938 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            17939 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            17940 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            17941 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            17942 ; 200  |
                            17943 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            17944 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            17945 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            17946 ; 204  |
                            17947 ; 205  |#if DEBUG
                            17948 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            17949 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            17950 ; 208  |#else 
                            17951 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            17952 ; 210  |#define DebugBuildAssert(x)    
                            17953 ; 211  |#endif
                            17954 ; 212  |
                            17955 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            17956 ; 214  |//  #pragma asm
                            17957 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            17958 ; 216  |//  #pragma endasm
                            17959 ; 217  |
                            17960 ; 218  |
                            17961 ; 219  |#ifdef COLOR_262K
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 297

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17962 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            17963 ; 221  |#elif defined(COLOR_65K)
                            17964 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            17965 ; 223  |#else
                            17966 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            17967 ; 225  |#endif
                            17968 ; 226  |    
                            17969 ; 227  |#endif // #ifndef _TYPES_H
                            17970 
                            17972 
                            17973 ; 31   |
                            17974 ; 32   |#define HW_SDRAM_BASEADDR 0xF900
                            17975 ; 33   |
                            17976 ; 34   |
                            17977 ; 35   |/////////////////////////////////////////////////////////////////////////////////
                            17978 ; 36   |//  SDRAM CSR (HW_SDRAM_CSR) Bit Definitions
                            17979 ; 37   |#define HW_SDRAM_CSR_SDRAMEN_BITPOS 0
                            17980 ; 38   |#define HW_SDRAM_CSR_IE_BITPOS 1
                            17981 ; 39   |#define HW_SDRAM_CSR_RNW_BITPOS 2
                            17982 ; 40   |#define HW_SDRAM_CSR_KICK_BITPOS 3
                            17983 ; 41   |#define HW_SDRAM_CSR_LM_BITPOS 4
                            17984 ; 42   |#define HW_SDRAM_CSR_ISTAT_BITPOS 5
                            17985 ; 43   |#define HW_SDRAM_CSR_PWDN_BITPOS 6
                            17986 ; 44   |#define HW_SDRAM_CSR_SBYTE_BITPOS 8
                            17987 ; 45   |#define HW_SDRAM_CSR_MEM_BITPOS 10
                            17988 ; 46   |#define HW_SDRAM_CSR_BIGE_BITPOS 12
                            17989 ; 47   |#define HW_SDRAM_CSR_ASIZE_BITPOS 13
                            17990 ; 48   |#define HW_SDRAM_CSR_UKICK_BITPOS 16
                            17991 ; 49   |#define HW_SDRAM_CSR_DIV_BITPOS 17
                            17992 ; 50   |#define HW_SDRAM_CSR_MULTI_BITPOS 21
                            17993 ; 51   |#define HW_SDRAM_CSR_SDRAM_BITPOS 22
                            17994 ; 52   |#define HW_SDRAM_CSR_SIGN_BITPOS 23
                            17995 ; 53   |
                            17996 ; 54   |#define HW_SDRAM_CSR_SDRAMEN_WIDTH 1
                            17997 ; 55   |#define HW_SDRAM_CSR_IE_WIDTH 1
                            17998 ; 56   |#define HW_SDRAM_CSR_RNW_WIDTH 1
                            17999 ; 57   |#define HW_SDRAM_CSR_KICK_WIDTH 1
                            18000 ; 58   |#define HW_SDRAM_CSR_LM_WIDTH 1
                            18001 ; 59   |#define HW_SDRAM_CSR_ISTAT_WIDTH 1
                            18002 ; 60   |#define HW_SDRAM_CSR_PWDN_WIDTH 1
                            18003 ; 61   |#define HW_SDRAM_CSR_SBYTE_WIDTH 2
                            18004 ; 62   |#define HW_SDRAM_CSR_MEM_WIDTH 2
                            18005 ; 63   |#define HW_SDRAM_CSR_BIGE_WIDTH 1
                            18006 ; 64   |#define HW_SDRAM_CSR_ASIZE_WIDTH 3
                            18007 ; 65   |#define HW_SDRAM_CSR_UKICK_WIDTH 1
                            18008 ; 66   |#define HW_SDRAM_CSR_DIV_WIDTH 4
                            18009 ; 67   |#define HW_SDRAM_CSR_MULTI_WIDTH 1
                            18010 ; 68   |#define HW_SDRAM_CSR_SDRAM_WIDTH 1
                            18011 ; 69   |#define HW_SDRAM_CSR_SIGN_WIDTH 1
                            18012 ; 70   |
                            18013 ; 71   |#define HW_SDRAM_CSR_SDRAMEN_SETMASK (((1<<HW_SDRAM_CSR_SDRAMEN_WIDTH)-1)<<HW_SDRAM_CSR_SD
                                  RAMEN_BITPOS)
                            18014 ; 72   |#define HW_SDRAM_CSR_IE_SETMASK (((1<<HW_SDRAM_CSR_IE_WIDTH)-1)<<HW_SDRAM_CSR_IE_BITPOS)
                            18015 ; 73   |#define HW_SDRAM_CSR_RNW_SETMASK (((1<<HW_SDRAM_CSR_RNW_WIDTH)-1)<<HW_SDRAM_CSR_RNW_BITPOS
                                  )
                            18016 ; 74   |#define HW_SDRAM_CSR_KICK_SETMASK (((1<<HW_SDRAM_CSR_KICK_WIDTH)-1)<<HW_SDRAM_CSR_KICK_BIT
                                  POS)
                            18017 ; 75   |#define HW_SDRAM_CSR_LM_SETMASK (((1<<HW_SDRAM_CSR_LM_WIDTH)-1)<<HW_SDRAM_CSR_LM_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 298

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18018 ; 76   |#define HW_SDRAM_CSR_ISTAT_SETMASK (((1<<HW_SDRAM_CSR_ISTAT_WIDTH)-1)<<HW_SDRAM_CSR_ISTAT_
                                  BITPOS)
                            18019 ; 77   |#define HW_SDRAM_CSR_PWDN_SETMASK (((1<<HW_SDRAM_CSR_PWDN_WIDTH)-1)<<HW_SDRAM_CSR_PWDN_BIT
                                  POS)
                            18020 ; 78   |#define HW_SDRAM_CSR_SBYTE_SETMASK (((1<<HW_SDRAM_CSR_SBYTE_WIDTH)-1)<<HW_SDRAM_CSR_SBYTE_
                                  BITPOS)
                            18021 ; 79   |#define HW_SDRAM_CSR_MEM_SETMASK (((1<<HW_SDRAM_CSR_MEM_WIDTH)-1)<<HW_SDRAM_CSR_MEM_BITPOS
                                  )
                            18022 ; 80   |#define HW_SDRAM_CSR_BIGE_SETMASK (((1<<HW_SDRAM_CSR_BIGE_WIDTH)-1)<<HW_SDRAM_CSR_BIGE_BIT
                                  POS)
                            18023 ; 81   |#define HW_SDRAM_CSR_ASIZE_SETMASK (((1<<HW_SDRAM_CSR_ASIZE_WIDTH)-1)<<HW_SDRAM_CSR_ASIZE_
                                  BITPOS)
                            18024 ; 82   |#define HW_SDRAM_CSR_UKICK_SETMASK (((1<<HW_SDRAM_CSR_UKICK_WIDTH)-1)<<HW_SDRAM_CSR_UKICK_
                                  BITPOS)
                            18025 ; 83   |#define HW_SDRAM_CSR_DIV_SETMASK (((1<<HW_SDRAM_CSR_DIV_WIDTH)-1)<<HW_SDRAM_CSR_DIV_BITPOS
                                  )
                            18026 ; 84   |#define HW_SDRAM_CSR_MULTI_SETMASK (((1<<HW_SDRAM_CSR_MULTI_WIDTH)-1)<<HW_SDRAM_CSR_MULTI_
                                  BITPOS)
                            18027 ; 85   |#define HW_SDRAM_CSR_SDRAM_SETMASK (((1<<HW_SDRAM_CSR_SDRAM_WIDTH)-1)<<HW_SDRAM_CSR_SDRAM_
                                  BITPOS)
                            18028 ; 86   |#define HW_SDRAM_CSR_SIGN_SETMASK (((1<<HW_SDRAM_CSR_SIGN_WIDTH)-1)<<HW_SDRAM_CSR_SIGN_BIT
                                  POS)
                            18029 ; 87   |
                            18030 ; 88   |#define HW_SDRAM_CSR_SDRAMEN_CLRMASK ~(WORD)HW_SDRAM_CSR_SDRAMEN_SETMASK
                            18031 ; 89   |#define HW_SDRAM_CSR_IE_CLRMASK ~(WORD)HW_SDRAM_CSR_IE_SETMASK
                            18032 ; 90   |#define HW_SDRAM_CSR_RNW_CLRMASK ~(WORD)HW_SDRAM_CSR_RNW_SETMASK
                            18033 ; 91   |#define HW_SDRAM_CSR_KICK_CLRMASK ~(WORD)HW_SDRAM_CSR_KICK_SETMASK
                            18034 ; 92   |#define HW_SDRAM_CSR_LM_CLRMASK ~(WORD)HW_SDRAM_CSR_LM_SETMASK
                            18035 ; 93   |#define HW_SDRAM_CSR_ISTAT_CLRMASK ~(WORD)HW_SDRAM_CSR_ISTAT_SETMASK
                            18036 ; 94   |#define HW_SDRAM_CSR_PWDN_CLRMASK ~(WORD)HW_SDRAM_CSR_PWDN_SETMASK
                            18037 ; 95   |#define HW_SDRAM_CSR_SBYTE_CLRMASK ~(WORD)HW_SDRAM_CSR_SBYTE_SETMASK
                            18038 ; 96   |#define HW_SDRAM_CSR_MEM_CLRMASK ~(WORD)HW_SDRAM_CSR_MEM_SETMASK
                            18039 ; 97   |#define HW_SDRAM_CSR_BIGE_CLRMASK ~(WORD)HW_SDRAM_CSR_BIGE_SETMASK
                            18040 ; 98   |#define HW_SDRAM_CSR_ASIZE_CLRMASK ~(WORD)HW_SDRAM_CSR_ASIZE_SETMASK
                            18041 ; 99   |#define HW_SDRAM_CSR_UKICK_CLRMASK ~(WORD)HW_SDRAM_CSR_UKICK_SETMASK
                            18042 ; 100  |#define HW_SDRAM_CSR_DIV_CLRMASK ~(WORD)HW_SDRAM_CSR_DIV_SETMASK
                            18043 ; 101  |#define HW_SDRAM_CSR_MULTI_CLRMASK ~(WORD)HW_SDRAM_CSR_MULTI_SETMASK
                            18044 ; 102  |#define HW_SDRAM_CSR_SDRAM_CLRMASK ~(WORD)HW_SDRAM_CSR_SDRAM_SETMASK
                            18045 ; 103  |#define HW_SDRAM_CSR_SIGN_CLRMASK ~(WORD)HW_SDRAM_CSR_SIGN_SETMASK
                            18046 ; 104  |
                            18047 ; 105  |typedef union               
                            18048 ; 106  |{
                            18049 ; 107  |    struct {
                            18050 ; 108  |        int SDRAMEN                     :1;
                            18051 ; 109  |        int IE                          :1;
                            18052 ; 110  |        int RNW                         :1;
                            18053 ; 111  |        int KICK                        :1;
                            18054 ; 112  |        int LM                          :1;
                            18055 ; 113  |        int ISTAT                       :1;
                            18056 ; 114  |        int PWDN                        :1;
                            18057 ; 115  |        int RSVD                        :1;
                            18058 ; 116  |        int SBYTE                       :2;
                            18059 ; 117  |        int MEM                         :2;
                            18060 ; 118  |        int BIGE                        :1;
                            18061 ; 119  |        int ASIZE                       :3;
                            18062 ; 120  |        int UKICK                       :1;
                            18063 ; 121  |        int DIV                         :4;
                            18064 ; 122  |        int MULTI                       :1;
                            18065 ; 123  |        int SDRAM                       :1;
                            18066 ; 124  |        int SIGN                        :1;
                            18067 ; 125  |    } B;
                            18068 ; 126  |    int I;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 299

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18069 ; 127  |} sdramcsr_type;
                            18070 ; 128  |#define HW_SDRAM_CSR (*(volatile sdramcsr_type _X*) (HW_SDRAM_BASEADDR))        
                            18071 ; 129  |#define HW_SDRAM_ADDR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+1))
                            18072 ; 130  |#define HW_SDRAM_ADDR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+2))
                            18073 ; 131  |#define HW_SDRAM_SYSADDR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+3))
                            18074 ; 132  |#define HW_SDRAM_SIZE (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+4))
                            18075 ; 133  |#define HW_SDRAM_BAR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+7))
                            18076 ; 134  |#define HW_SDRAM_MR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+8))
                            18077 ; 135  |#define HW_SDRAM_DBAR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+9))
                            18078 ; 136  |#define HW_SDRAM_DBAR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+10))
                            18079 ; 137  |#define HW_SDRAM_DMR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+11))
                            18080 ; 138  |#define HW_SDRAM_DMR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+12))
                            18081 ; 139  |
                            18082 ; 140  |/////////////////////////////////////////////////////////////////////////////////
                            18083 ; 141  |//  SDRAM Start Address Low Register (HW_SDRAM_ADDR1) Bit Definitions
                            18084 ; 142  |#define HW_SDRAM_ADDR1_XA_BITPOS 0
                            18085 ; 143  |
                            18086 ; 144  |#define HW_SDRAM_ADDR1_XA_SETMASK 0xFFFFFF<<HW_SDRAM_ADDR1_XA_BITPOS
                            18087 ; 145  |
                            18088 ; 146  |#define HW_SDRAM_ADDR1_XA_CLRMASK ~(WORD)HW_SDRAM_ADDR1_XA_SETMASK
                            18089 ; 147  |
                            18090 ; 148  |/////////////////////////////////////////////////////////////////////////////////
                            18091 ; 149  |//  SDRAM Start Address High Register (HW_SDRAM_ADDR2) Bit Definitions
                            18092 ; 150  |#define HW_SDRAM_ADDR2_XA_BITPOS 0
                            18093 ; 151  |
                            18094 ; 152  |#define HW_SDRAM_ADDR2_XA_SETMASK 0x1F<<HW_SDRAM_ADDR2_XA_BITPOS
                            18095 ; 153  |
                            18096 ; 154  |#define HW_SDRAM_ADDR2_XA_CLRMASK ~(WORD)HW_SDRAM_ADDR2_XA_SETMASK
                            18097 ; 155  |
                            18098 ; 156  |/////////////////////////////////////////////////////////////////////////////////
                            18099 ; 157  |//  System Start Address Register (HW_SDRAM_SYSADDR) Bit Definitions
                            18100 ; 158  |#define HW_SDRAM_SYSADDR_XA_BITPOS 0
                            18101 ; 159  |
                            18102 ; 160  |#define HW_SDRAM_SYSADDR_XA_SETMASK 0xFFFF<<HW_SDRAM_SYSADDR_XA_BITPOS
                            18103 ; 161  |
                            18104 ; 162  |#define HW_SDRAM_SYSADDR_XA_CLRMASK ~(WORD)HW_SDRAM_SYSADDR_XA_SETMASK
                            18105 ; 163  |
                            18106 ; 164  |/////////////////////////////////////////////////////////////////////////////////
                            18107 ; 165  |//  Number of Bytes to be transfered Register (HW_SDRAM_SIZE) Bit Definitions
                            18108 ; 166  |#define HW_SDRAM_SIZE_XA_BITPOS 0
                            18109 ; 167  |
                            18110 ; 168  |#define HW_SDRAM_SIZE_XA_SETMASK 0x3FFFF<<HW_SDRAM_SIZE_XA_BITPOS
                            18111 ; 169  |
                            18112 ; 170  |#define HW_SDRAM_SIZE_XA_CLRMASK ~(WORD)HW_SDRAM_SIZE_XA_SETMASK
                            18113 ; 171  |
                            18114 ; 172  |/////////////////////////////////////////////////////////////////////////////////
                            18115 ; 173  |//  SDRAM Timer1 Register (HW_SDRAM_TIMER1) Bit Definitions
                            18116 ; 174  |#define HW_SDRAM_TIMER1_INIT_BITPOS 0
                            18117 ; 175  |#define HW_SDRAM_TIMER1_TRP_BITPOS 16
                            18118 ; 176  |#define HW_SDRAM_TIMER1_TRFC_BITPOS 20
                            18119 ; 177  |
                            18120 ; 178  |#define HW_SDRAM_TIMER1_INIT_WIDTH 16
                            18121 ; 179  |#define HW_SDRAM_TIMER1_TRP_WIDTH 4
                            18122 ; 180  |#define HW_SDRAM_TIMER1_TRFC_WIDTH 4
                            18123 ; 181  |
                            18124 ; 182  |#define HW_SDRAM_TIMER1_INIT_SETMASK (((1<<HW_SDRAM_TIMER1_INIT_WIDTH)-1)<<HW_SDRAM_TIMER1
                                  _INIT_BITPOS)
                            18125 ; 183  |#define HW_SDRAM_TIMER1_TRP_SETMASK (((1<<HW_SDRAM_TIMER1_TRP_WIDTH)-1)<<HW_SDRAM_TIMER1_T
                                  RP_BITPOS)
                            18126 ; 184  |#define HW_SDRAM_TIMER1_TRFC_SETMASK (((1<<HW_SDRAM_TIMER1_TRFC_WIDTH)-1)<<HW_SDRAM_TIMER1
                                  _TRFC_BITPOS)
                            18127 ; 185  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 300

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18128 ; 186  |#define HW_SDRAM_TIMER1_INIT_CLRMASK ~(WORD)HW_SDRAM_TIMER1_INIT_SETMASK
                            18129 ; 187  |#define HW_SDRAM_TIMER1_TRP_CLRMASK ~(WORD)HW_SDRAM_TIMER1_TRP_SETMASK
                            18130 ; 188  |#define HW_SDRAM_TIMER1_TRFC_CLRMASK ~(WORD)HW_SDRAM_TIMER1_TRFC_SETMASK
                            18131 ; 189  |
                            18132 ; 190  |typedef union               
                            18133 ; 191  |{
                            18134 ; 192  |    struct {
                            18135 ; 193  |        int INIT                :16;
                            18136 ; 194  |        int TRP                 :4;
                            18137 ; 195  |        int TRFC                :4;
                            18138 ; 196  |    } B;
                            18139 ; 197  |    int I;
                            18140 ; 198  |} sdramtimer1_type;
                            18141 ; 199  |#define HW_SDRAM_TIMER1 (*(volatile sdramtimer1_type _X*) (HW_SDRAM_BASEADDR+5))
                            18142 ; 200  |
                            18143 ; 201  |/////////////////////////////////////////////////////////////////////////////////
                            18144 ; 202  |//  SDRAM Timer2 Register (HW_SDRAM_TIMER2) Bit Definitions
                            18145 ; 203  |#define HW_SDRAM_TIMER2_TXSR_BITPOS 0
                            18146 ; 204  |#define HW_SDRAM_TIMER2_TREF_BITPOS 4
                            18147 ; 205  |#define HW_SDRAM_TIMER2_TRCD_BITPOS 16
                            18148 ; 206  |
                            18149 ; 207  |#define HW_SDRAM_TIMER2_TXSR_WIDTH 4
                            18150 ; 208  |#define HW_SDRAM_TIMER2_TREF_WIDTH 12
                            18151 ; 209  |#define HW_SDRAM_TIMER2_TRCD_WIDTH 4
                            18152 ; 210  |
                            18153 ; 211  |#define HW_SDRAM_TIMER2_TXSR_SETMASK (((1<<HW_SDRAM_TIMER2_TXSR_WIDTH)-1)<<HW_SDRAM_TIMER2
                                  _TXSR_BITPOS)
                            18154 ; 212  |#define HW_SDRAM_TIMER2_TREF_SETMASK (((1<<HW_SDRAM_TIMER2_TREF_WIDTH)-1)<<HW_SDRAM_TIMER2
                                  _TREF_BITPOS)
                            18155 ; 213  |#define HW_SDRAM_TIMER2_TRCD_SETMASK (((1<<HW_SDRAM_TIMER2_TRCD_WIDTH)-1)<<HW_SDRAM_TIMER2
                                  _TRCD_BITPOS)
                            18156 ; 214  |
                            18157 ; 215  |#define HW_SDRAM_TIMER2_TXSR_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TXSR_SETMASK
                            18158 ; 216  |#define HW_SDRAM_TIMER2_TREF_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TREF_SETMASK
                            18159 ; 217  |#define HW_SDRAM_TIMER2_TRCD_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TRCD_SETMASK
                            18160 ; 218  |
                            18161 ; 219  |typedef union               
                            18162 ; 220  |{
                            18163 ; 221  |    struct {
                            18164 ; 222  |        int TXSR                :4;
                            18165 ; 223  |        int TREF                :12;
                            18166 ; 224  |        int TRCD                :4;
                            18167 ; 225  |        int RSVD                :4; 
                            18168 ; 226  |    } B;
                            18169 ; 227  |    int I;
                            18170 ; 228  |} sdramtimer2_type;
                            18171 ; 229  |#define HW_SDRAM_TIMER2 (*(volatile sdramtimer2_type _X*) (HW_SDRAM_BASEADDR+6))
                            18172 ; 230  |
                            18173 ; 231  |/////////////////////////////////////////////////////////////////////////////////
                            18174 ; 232  |//  System Modulo Base Address Register (HW_SDRAM_BAR) Bit Definitions
                            18175 ; 233  |#define HW_SDRAM_BAR_XA_BITPOS 0
                            18176 ; 234  |
                            18177 ; 235  |#define HW_SDRAM_BAR_XA_SETMASK 0xFFFF<<HW_SDRAM_BAR_XA_BITPOS
                            18178 ; 236  |
                            18179 ; 237  |#define HW_SDRAM_BAR_XA_CLRMASK ~(WORD)HW_SDRAM_BAR_XA_SETMASK
                            18180 ; 238  |
                            18181 ; 239  |/////////////////////////////////////////////////////////////////////////////////
                            18182 ; 240  |//  System Modulo Register (HW_SDRAM_MR) Bit Definitions
                            18183 ; 241  |#define HW_SDRAM_MR_XA_BITPOS 0
                            18184 ; 242  |
                            18185 ; 243  |#define HW_SDRAM_MR_XA_SETMASK 0xFFFF<<HW_SDRAM_MR_XA_BITPOS
                            18186 ; 244  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 301

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18187 ; 245  |#define HW_SDRAM_MR_XA_CLRMASK ~(WORD)HW_SDRAM_MR_XA_SETMASK
                            18188 ; 246  |
                            18189 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                            18190 ; 248  |//  SDRAM Mode Register (HW_SDRAM_MODE) Bit Definitions
                            18191 ; 249  |#define HW_SDRAM_MODE_XA_BITPOS 0
                            18192 ; 250  |
                            18193 ; 251  |#define HW_SDRAM_MODE_XA_WIDTH 14
                            18194 ; 252  |
                            18195 ; 253  |#define HW_SDRAM_MODE_XA_SETMASK (((1<<HW_SDRAM_MODE_XA_WIDTH)-1)<<HW_SDRAM_MODE_XA_BITPOS
                                  )
                            18196 ; 254  |
                            18197 ; 255  |#define HW_SDRAM_MODE_XA_CLRMASK ~(WORD)HW_SDRAM_MODE_XA_SETMASK
                            18198 ; 256  |
                            18199 ; 257  |typedef union               
                            18200 ; 258  |{
                            18201 ; 259  |    struct {
                            18202 ; 260  |        int VALUE               :14;
                            18203 ; 261  |        int RSVD                :10; 
                            18204 ; 262  |    } B;
                            18205 ; 263  |    int I;
                            18206 ; 264  |} sdrammode_type;
                            18207 ; 265  |#define HW_SDRAM_MODE (*(volatile sdrammode_type _X*) (HW_SDRAM_BASEADDR+14))
                            18208 ; 266  |
                            18209 ; 267  |/////////////////////////////////////////////////////////////////////////////////
                            18210 ; 268  |//  SDRAM Type Register (HW_SDRAM_TYPE) Bit Definitions
                            18211 ; 269  |#define HW_SDRAM_TYPE_COLWIDTH_BITPOS 0
                            18212 ; 270  |#define HW_SDRAM_TYPE_ROWWIDTH_BITPOS 4
                            18213 ; 271  |
                            18214 ; 272  |#define HW_SDRAM_TYPE_COLWIDTH_WIDTH 4
                            18215 ; 273  |#define HW_SDRAM_TYPE_ROWWIDTH_WIDTH 4
                            18216 ; 274  |
                            18217 ; 275  |#define HW_SDRAM_TYPE_COLWIDTH_SETMASK (((1<<HW_SDRAM_TYPE_COLWIDTH_WIDTH)-1)<<HW_SDRAM_TY
                                  PE_COLWIDTH_BITPOS)
                            18218 ; 276  |#define HW_SDRAM_TYPE_ROWWIDTH_SETMASK (((1<<HW_SDRAM_TYPE_ROWWIDTH_WIDTH)-1)<<HW_SDRAM_TY
                                  PE_ROWWIDTH_BITPOS)
                            18219 ; 277  |
                            18220 ; 278  |#define HW_SDRAM_TYPE_COLWIDTH_CLRMASK (~(WORD)HW_SDRAM_TYPE_COLWIDTH_SETMASK)
                            18221 ; 279  |#define HW_SDRAM_TYPE_ROWWIDTH_CLRMASK (~(WORD)HW_SDRAM_TYPE_ROWWIDTH_SETMASK)
                            18222 ; 280  |
                            18223 ; 281  |typedef union               
                            18224 ; 282  |{
                            18225 ; 283  |    struct {
                            18226 ; 284  |        int COLWIDTH               :4;
                            18227 ; 285  |        int ROWWIDTH               :4; 
                            18228 ; 286  |    } B;
                            18229 ; 287  |    int I;
                            18230 ; 288  |} sdramtype_type;
                            18231 ; 289  |#define HW_SDRAM_TYPE (*(volatile sdramtype_type _X*) (HW_SDRAM_BASEADDR+14))
                            18232 ; 290  |
                            18233 ; 291  |#endif
                            18234 ; 292  |
                            18235 ; 293  |
                            18236 ; 294  |
                            18237 ; 295  |
                            18238 ; 296  |
                            18239 ; 297  |
                            18240 
                            18242 
                            18243 ; 34   |#include "regstb.h"
                            18244 
                            18246 
                            18247 ; 1    |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 302

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18248 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                            18249 ; 3    |// Filename: regstb.inc
                            18250 ; 4    |// Description: Register definitions for Trace Buffer
                            18251 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            18252 ; 6    |// The following naming conventions are followed in this file.
                            18253 ; 7    |// All registers are named using the format...
                            18254 ; 8    |//     HW_<module>_<regname>
                            18255 ; 9    |// where <module> is the module name which can be any of the following...
                            18256 ; 10   |//     USB20
                            18257 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            18258 ; 12   |// module name includes a number starting from 0 for the first instance of
                            18259 ; 13   |// that module)
                            18260 ; 14   |// <regname> is the specific register within that module
                            18261 ; 15   |// We also define the following...
                            18262 ; 16   |//     HW_<module>_<regname>_BITPOS
                            18263 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            18264 ; 18   |//     HW_<module>_<regname>_SETMASK
                            18265 ; 19   |// which does something else, and
                            18266 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            18267 ; 21   |// which does something else.
                            18268 ; 22   |// Other rules
                            18269 ; 23   |//     All caps
                            18270 ; 24   |//     Numeric identifiers start at 0
                            18271 ; 25   |#if !(defined(regstbinc))
                            18272 ; 26   |#define regstbinc 1
                            18273 ; 27   |
                            18274 ; 28   |#include "types.h"
                            18275 
                            18277 
                            18278 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            18279 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            18280 ; 3    |//
                            18281 ; 4    |// Filename: types.h
                            18282 ; 5    |// Description: Standard data types
                            18283 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            18284 ; 7    |
                            18285 ; 8    |#ifndef _TYPES_H
                            18286 ; 9    |#define _TYPES_H
                            18287 ; 10   |
                            18288 ; 11   |// TODO:  move this outta here!
                            18289 ; 12   |#if !defined(NOERROR)
                            18290 ; 13   |#define NOERROR 0
                            18291 ; 14   |#define SUCCESS 0
                            18292 ; 15   |#endif 
                            18293 ; 16   |#if !defined(SUCCESS)
                            18294 ; 17   |#define SUCCESS  0
                            18295 ; 18   |#endif
                            18296 ; 19   |#if !defined(ERROR)
                            18297 ; 20   |#define ERROR   -1
                            18298 ; 21   |#endif
                            18299 ; 22   |#if !defined(FALSE)
                            18300 ; 23   |#define FALSE 0
                            18301 ; 24   |#endif
                            18302 ; 25   |#if !defined(TRUE)
                            18303 ; 26   |#define TRUE  1
                            18304 ; 27   |#endif
                            18305 ; 28   |
                            18306 ; 29   |#if !defined(NULL)
                            18307 ; 30   |#define NULL 0
                            18308 ; 31   |#endif
                            18309 ; 32   |
                            18310 ; 33   |#define MAX_INT     0x7FFFFF
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 303

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18311 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            18312 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            18313 ; 36   |#define MAX_ULONG   (-1) 
                            18314 ; 37   |
                            18315 ; 38   |#define WORD_SIZE   24              // word size in bits
                            18316 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            18317 ; 40   |
                            18318 ; 41   |
                            18319 ; 42   |#define BYTE    unsigned char       // btVarName
                            18320 ; 43   |#define CHAR    signed char         // cVarName
                            18321 ; 44   |#define USHORT  unsigned short      // usVarName
                            18322 ; 45   |#define SHORT   unsigned short      // sVarName
                            18323 ; 46   |#define WORD    unsigned int        // wVarName
                            18324 ; 47   |#define INT     signed int          // iVarName
                            18325 ; 48   |#define DWORD   unsigned long       // dwVarName
                            18326 ; 49   |#define LONG    signed long         // lVarName
                            18327 ; 50   |#define BOOL    unsigned int        // bVarName
                            18328 ; 51   |#define FRACT   _fract              // frVarName
                            18329 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            18330 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            18331 ; 54   |#define FLOAT   float               // fVarName
                            18332 ; 55   |#define DBL     double              // dVarName
                            18333 ; 56   |#define ENUM    enum                // eVarName
                            18334 ; 57   |#define CMX     _complex            // cmxVarName
                            18335 ; 58   |typedef WORD UCS3;                   // 
                            18336 ; 59   |
                            18337 ; 60   |#define UINT16  unsigned short
                            18338 ; 61   |#define UINT8   unsigned char   
                            18339 ; 62   |#define UINT32  unsigned long
                            18340 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            18341 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            18342 ; 65   |#define WCHAR   UINT16
                            18343 ; 66   |
                            18344 ; 67   |//UINT128 is 16 bytes or 6 words
                            18345 ; 68   |typedef struct UINT128_3500 {   
                            18346 ; 69   |    int val[6];     
                            18347 ; 70   |} UINT128_3500;
                            18348 ; 71   |
                            18349 ; 72   |#define UINT128   UINT128_3500
                            18350 ; 73   |
                            18351 ; 74   |// Little endian word packed byte strings:   
                            18352 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            18353 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            18354 ; 77   |// Little endian word packed byte strings:   
                            18355 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            18356 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            18357 ; 80   |
                            18358 ; 81   |// Declare Memory Spaces To Use When Coding
                            18359 ; 82   |// A. Sector Buffers
                            18360 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            18361 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            18362 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            18363 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            18364 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            18365 ; 88   |// B. Media DDI Memory
                            18366 ; 89   |#define MEDIA_DDI_MEM _Y
                            18367 ; 90   |
                            18368 ; 91   |
                            18369 ; 92   |
                            18370 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 304

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18371 ; 94   |// Examples of circular pointers:
                            18372 ; 95   |//    INT CIRC cpiVarName
                            18373 ; 96   |//    DWORD CIRC cpdwVarName
                            18374 ; 97   |
                            18375 ; 98   |#define RETCODE INT                 // rcVarName
                            18376 ; 99   |
                            18377 ; 100  |// generic bitfield structure
                            18378 ; 101  |struct Bitfield {
                            18379 ; 102  |    unsigned int B0  :1;
                            18380 ; 103  |    unsigned int B1  :1;
                            18381 ; 104  |    unsigned int B2  :1;
                            18382 ; 105  |    unsigned int B3  :1;
                            18383 ; 106  |    unsigned int B4  :1;
                            18384 ; 107  |    unsigned int B5  :1;
                            18385 ; 108  |    unsigned int B6  :1;
                            18386 ; 109  |    unsigned int B7  :1;
                            18387 ; 110  |    unsigned int B8  :1;
                            18388 ; 111  |    unsigned int B9  :1;
                            18389 ; 112  |    unsigned int B10 :1;
                            18390 ; 113  |    unsigned int B11 :1;
                            18391 ; 114  |    unsigned int B12 :1;
                            18392 ; 115  |    unsigned int B13 :1;
                            18393 ; 116  |    unsigned int B14 :1;
                            18394 ; 117  |    unsigned int B15 :1;
                            18395 ; 118  |    unsigned int B16 :1;
                            18396 ; 119  |    unsigned int B17 :1;
                            18397 ; 120  |    unsigned int B18 :1;
                            18398 ; 121  |    unsigned int B19 :1;
                            18399 ; 122  |    unsigned int B20 :1;
                            18400 ; 123  |    unsigned int B21 :1;
                            18401 ; 124  |    unsigned int B22 :1;
                            18402 ; 125  |    unsigned int B23 :1;
                            18403 ; 126  |};
                            18404 ; 127  |
                            18405 ; 128  |union BitInt {
                            18406 ; 129  |        struct Bitfield B;
                            18407 ; 130  |        int        I;
                            18408 ; 131  |};
                            18409 ; 132  |
                            18410 ; 133  |#define MAX_MSG_LENGTH 10
                            18411 ; 134  |struct CMessage
                            18412 ; 135  |{
                            18413 ; 136  |        unsigned int m_uLength;
                            18414 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            18415 ; 138  |};
                            18416 ; 139  |
                            18417 ; 140  |typedef struct {
                            18418 ; 141  |    WORD m_wLength;
                            18419 ; 142  |    WORD m_wMessage;
                            18420 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            18421 ; 144  |} Message;
                            18422 ; 145  |
                            18423 ; 146  |struct MessageQueueDescriptor
                            18424 ; 147  |{
                            18425 ; 148  |        int *m_pBase;
                            18426 ; 149  |        int m_iModulo;
                            18427 ; 150  |        int m_iSize;
                            18428 ; 151  |        int *m_pHead;
                            18429 ; 152  |        int *m_pTail;
                            18430 ; 153  |};
                            18431 ; 154  |
                            18432 ; 155  |struct ModuleEntry
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 305

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18433 ; 156  |{
                            18434 ; 157  |    int m_iSignaledEventMask;
                            18435 ; 158  |    int m_iWaitEventMask;
                            18436 ; 159  |    int m_iResourceOfCode;
                            18437 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            18438 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            18439 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            18440 ; 163  |    int m_uTimeOutHigh;
                            18441 ; 164  |    int m_uTimeOutLow;
                            18442 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            18443 ; 166  |};
                            18444 ; 167  |
                            18445 ; 168  |union WaitMask{
                            18446 ; 169  |    struct B{
                            18447 ; 170  |        unsigned int m_bNone     :1;
                            18448 ; 171  |        unsigned int m_bMessage  :1;
                            18449 ; 172  |        unsigned int m_bTimer    :1;
                            18450 ; 173  |        unsigned int m_bButton   :1;
                            18451 ; 174  |    } B;
                            18452 ; 175  |    int I;
                            18453 ; 176  |} ;
                            18454 ; 177  |
                            18455 ; 178  |
                            18456 ; 179  |struct Button {
                            18457 ; 180  |        WORD wButtonEvent;
                            18458 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            18459 ; 182  |};
                            18460 ; 183  |
                            18461 ; 184  |struct Message {
                            18462 ; 185  |        WORD wMsgLength;
                            18463 ; 186  |        WORD wMsgCommand;
                            18464 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            18465 ; 188  |};
                            18466 ; 189  |
                            18467 ; 190  |union EventTypes {
                            18468 ; 191  |        struct CMessage msg;
                            18469 ; 192  |        struct Button Button ;
                            18470 ; 193  |        struct Message Message;
                            18471 ; 194  |};
                            18472 ; 195  |
                            18473 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            18474 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            18475 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            18476 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            18477 ; 200  |
                            18478 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            18479 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            18480 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            18481 ; 204  |
                            18482 ; 205  |#if DEBUG
                            18483 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            18484 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            18485 ; 208  |#else 
                            18486 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            18487 ; 210  |#define DebugBuildAssert(x)    
                            18488 ; 211  |#endif
                            18489 ; 212  |
                            18490 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            18491 ; 214  |//  #pragma asm
                            18492 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 306

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18493 ; 216  |//  #pragma endasm
                            18494 ; 217  |
                            18495 ; 218  |
                            18496 ; 219  |#ifdef COLOR_262K
                            18497 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            18498 ; 221  |#elif defined(COLOR_65K)
                            18499 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            18500 ; 223  |#else
                            18501 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            18502 ; 225  |#endif
                            18503 ; 226  |    
                            18504 ; 227  |#endif // #ifndef _TYPES_H
                            18505 
                            18507 
                            18508 ; 29   |
                            18509 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            18510 ; 31   |
                            18511 ; 32   |//   Trace Buffer STMP Registers 
                            18512 ; 33   |//   Last Updated 6.30.2003 D. Baker
                            18513 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            18514 ; 35   |
                            18515 ; 36   |#define HW_TB_BASEADDR (0xF080)
                            18516 ; 37   |
                            18517 ; 38   |
                            18518 ; 39   |
                            18519 ; 40   |
                            18520 ; 41   |/////////////////////////////////////////////////////////////////////////////////
                            18521 ; 42   |
                            18522 ; 43   |//  Trace Buffer Configuration Register (HW_TB_CFG) Bit Definitions
                            18523 ; 44   |
                            18524 ; 45   |#define HW_TB_CFG_CLK_ENABLE_BITPOS (0)
                            18525 ; 46   |#define HW_TB_CFG_ENABLE_BITPOS (1)
                            18526 ; 47   |#define HW_TB_CFG_DONE_BITPOS (3)
                            18527 ; 48   |#define HW_TB_CFG_DMA_ASEL_BITPOS (4)
                            18528 ; 49   |#define HW_TB_CFG_TRIG_EVENT_BITPOS (6)
                            18529 ; 50   |
                            18530 ; 51   |#define HW_TB_CFG_CLK_ENABLE_WIDTH (1)
                            18531 ; 52   |#define HW_TB_CFG_ENABLE_WIDTH (1)
                            18532 ; 53   |#define HW_TB_CFG_RSVD1_WIDTH (1)
                            18533 ; 54   |#define HW_TB_CFG_DONE_WIDTH (1)
                            18534 ; 55   |#define HW_TB_CFG_DMA_ASEL_WIDTH (2)
                            18535 ; 56   |#define HW_TB_CFG_TRIG_EVENT_WIDTH (1)
                            18536 ; 57   |#define HW_TB_CFG_RSVD2_WIDTH (17)
                            18537 ; 58   |
                            18538 ; 59   |#define HW_TB_CFG_CLK_ENABLE_SETMASK (((1<<HW_TB_CFG_CLK_ENABLE_WIDTH)-1)<<HW_TB_CFG_CLK_E
                                  NABLE_BITPOS) 
                            18539 ; 60   |#define HW_TB_CFG_ENABLE_SETMASK (((1<<HW_TB_CFG_ENABLE_WIDTH)-1)<<HW_TB_CFG_ENABLE_BITPOS
                                  ) 
                            18540 ; 61   |#define HW_TB_CFG_DONE_SETMASK (((1<<HW_TB_CFG_DONE_WIDTH)-1)<<HW_TB_CFG_DONE_BITPOS) 
                            18541 ; 62   |#define HW_TB_CFG_DMA_ASEL_SETMASK (((1<<HW_TB_CFG_DMA_ASEL_WIDTH)-1)<<HW_TB_CFG_DMA_ASEL_
                                  BITPOS) 
                            18542 ; 63   |#define HW_TB_CFG_TRIG_EVENT_SETMASK (((1<<HW_TB_CFG_TRIG_EVENT_WIDTH)-1)<<HW_TB_CFG_TRIG_
                                  EVENT_BITPOS) 
                            18543 ; 64   |
                            18544 ; 65   |#define HW_TB_CFG_CLK_ENABLE_CLRMASK (~(WORD)HW_TB_CFG_CLK_ENABLE_SETMASK)
                            18545 ; 66   |#define HW_TB_CFG_ENABLE_CLRMASK (~(WORD)HW_TB_CFG_ENABLE_SETMASK)
                            18546 ; 67   |#define HW_TB_CFG_DONE_CLRMASK (~(WORD)HW_TB_CFG_DONE_SETMASK)
                            18547 ; 68   |#define HW_TB_CFG_DMA_ASEL_CLRMASK (~(WORD)HW_TB_CFG_DMA_ASEL_SETMASK)
                            18548 ; 69   |#define HW_TB_CFG_TRIG_EVENT_CLRMASK (~(WORD)HW_TB_CFG_TRIG_EVENT_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 307

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18549 ; 70   |
                            18550 ; 71   |typedef union               
                            18551 ; 72   |{
                            18552 ; 73   |    struct {
                            18553 ; 74   |         int CLK_ENABLE      : HW_TB_CFG_CLK_ENABLE_WIDTH;
                            18554 ; 75   |         int ENABLE          : HW_TB_CFG_ENABLE_WIDTH;
                            18555 ; 76   |        int rsvd1           : HW_TB_CFG_RSVD1_WIDTH;
                            18556 ; 77   |         int DONE            : HW_TB_CFG_DONE_WIDTH;
                            18557 ; 78   |         int DMA_ASEL        : HW_TB_CFG_DMA_ASEL_WIDTH;
                            18558 ; 79   |         int TRIG_EVENT      : HW_TB_CFG_TRIG_EVENT_WIDTH;
                            18559 ; 80   |        int rsvd2           : HW_TB_CFG_RSVD2_WIDTH;
                            18560 ; 81   |    } B;
                            18561 ; 82   |    int I;
                            18562 ; 83   |    unsigned int U;
                            18563 ; 84   |} tb_cfg_type;
                            18564 ; 85   |#define HW_TB_CFG      (*(volatile tb_cfg_type _X*) (HW_TB_BASEADDR+0))    /* Trace Buffer
                                   Configuration Register */
                            18565 ; 86   |
                            18566 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            18567 ; 88   |
                            18568 ; 89   |//  Trace Buffer Base Address Register (HW_TB_BAR) Bit Definitions
                            18569 ; 90   |
                            18570 ; 91   |#define HW_TB_BAR_ADDRESS_BITPOS (0)
                            18571 ; 92   |
                            18572 ; 93   |#define HW_TB_BAR_ADDRESS_WIDTH (16)        
                            18573 ; 94   |#define HW_TB_BAR_RSVD_WIDTH (8)
                            18574 ; 95   |
                            18575 ; 96   |#define HW_TB_BAR_ADDRESS_SETMASK (((1<<HW_TB_BAR_ADDRESS_WIDTH)-1)<<HW_TB_BAR_ADDRESS_BIT
                                  POS) 
                            18576 ; 97   |
                            18577 ; 98   |#define HW_TB_BAR_ADDRESS_CLRMASK (~(WORD)HW_TB_BAR_ADDRESS_SETMASK)
                            18578 ; 99   |
                            18579 ; 100  |typedef union               
                            18580 ; 101  |{
                            18581 ; 102  |    struct {
                            18582 ; 103  |         int ADDRESS      : HW_TB_BAR_ADDRESS_WIDTH;
                            18583 ; 104  |        int reserved     : HW_TB_BAR_RSVD_WIDTH;
                            18584 ; 105  |    } B;
                            18585 ; 106  |    int I;
                            18586 ; 107  |    unsigned int U;
                            18587 ; 108  |} tb_bar_type;
                            18588 ; 109  |#define HW_TB_BAR      (*(volatile tb_bar_type _X*) (HW_TB_BASEADDR+1))    /* Trace Buffer
                                   Base Address Register */
                            18589 ; 110  |
                            18590 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            18591 ; 112  |
                            18592 ; 113  |//  Trace Buffer Modulo Register (HW_TB_MOD) Bit Definitions
                            18593 ; 114  |
                            18594 ; 115  |#define HW_TB_MOD_MODULUS_BITPOS (0)
                            18595 ; 116  |
                            18596 ; 117  |#define HW_TB_MOD_MODULUS_WIDTH (14)        
                            18597 ; 118  |#define HW_TB_MOD_RSVD_WIDTH (10)
                            18598 ; 119  |
                            18599 ; 120  |#define HW_TB_MOD_MODULUS_SETMASK (((1<<HW_TB_MOD_MODULUS_WIDTH)-1)<<HW_TB_MOD_MODULUS_BIT
                                  POS) 
                            18600 ; 121  |
                            18601 ; 122  |#define HW_TB_MOD_MODULUS_CLRMASK (~(WORD)HW_TB_MOD_MODULUS_SETMASK)
                            18602 ; 123  |
                            18603 ; 124  |typedef union               
                            18604 ; 125  |{
                            18605 ; 126  |    struct {
                            18606 ; 127  |         int MODULUS      : HW_TB_MOD_MODULUS_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 308

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18607 ; 128  |        int reserved        : HW_TB_MOD_RSVD_WIDTH;
                            18608 ; 129  |    } B;
                            18609 ; 130  |    int I;
                            18610 ; 131  |    unsigned int U;
                            18611 ; 132  |} tb_mod_type;
                            18612 ; 133  |#define HW_TB_MOD      (*(volatile tb_mod_type _X*) (HW_TB_BASEADDR+2))    /* Trace Buffer
                                   Modulus Register */
                            18613 ; 134  |
                            18614 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                            18615 ; 136  |
                            18616 ; 137  |//  Trace Buffer Current Index Register (HW_TB_CIR) Bit Definitions
                            18617 ; 138  |
                            18618 ; 139  |#define HW_TB_CIR_INDEX_BITPOS (0)
                            18619 ; 140  |
                            18620 ; 141  |#define HW_TB_CIR_INDEX_WIDTH (14)        
                            18621 ; 142  |#define HW_TB_CIR_RSVD_WIDTH (10)
                            18622 ; 143  |
                            18623 ; 144  |#define HW_TB_CIR_INDEX_SETMASK (((1<<HW_TB_CIR_INDEX_WIDTH)-1)<<HW_TB_CIR_INDEX_BITPOS) 
                            18624 ; 145  |
                            18625 ; 146  |#define HW_TB_CIR_INDEX_CLRMASK (~(WORD)HW_TB_CIR_INDEX_SETMASK)
                            18626 ; 147  |
                            18627 ; 148  |typedef union               
                            18628 ; 149  |{
                            18629 ; 150  |    struct {
                            18630 ; 151  |         int INDEX        : HW_TB_CIR_INDEX_WIDTH;
                            18631 ; 152  |        int reserved     : HW_TB_CIR_RSVD_WIDTH;
                            18632 ; 153  |    } B;
                            18633 ; 154  |    int I;
                            18634 ; 155  |    unsigned int U;
                            18635 ; 156  |} tb_cir_type;
                            18636 ; 157  |#define HW_TB_CIR      (*(volatile tb_cir_type _X*) (HW_TB_BASEADDR+3))    /* Trace Buffer
                                   Current Index Register */
                            18637 ; 158  |
                            18638 ; 159  |/////////////////////////////////////////////////////////////////////////////////
                            18639 ; 160  |
                            18640 ; 161  |//  Trace Buffer One Byte Code Register (HW_TB_OBC) Bit Definitions
                            18641 ; 162  |
                            18642 ; 163  |#define HW_TB_OBC_CODE_BITPOS (0)
                            18643 ; 164  |
                            18644 ; 165  |#define HW_TB_OBC_CODE_WIDTH (8)        
                            18645 ; 166  |#define HW_TB_OBC_RSVD_WIDTH (16)
                            18646 ; 167  |
                            18647 ; 168  |#define HW_TB_OBC_CODE_SETMASK (((1<<HW_TB_OBC_CODE_WIDTH)-1)<<HW_TB_OBC_CODE_BITPOS) 
                            18648 ; 169  |
                            18649 ; 170  |#define HW_TB_OBC_CODE_CLRMASK (~(WORD)HW_TB_OBC_CODE_SETMASK)
                            18650 ; 171  |
                            18651 ; 172  |typedef union               
                            18652 ; 173  |{
                            18653 ; 174  |    struct {
                            18654 ; 175  |         int CODE        : HW_TB_OBC_CODE_WIDTH;
                            18655 ; 176  |        int reserved    : HW_TB_OBC_RSVD_WIDTH;
                            18656 ; 177  |    } B;
                            18657 ; 178  |    int I;
                            18658 ; 179  |    unsigned int U;
                            18659 ; 180  |} tb_obc_type;
                            18660 ; 181  |#define HW_TB_OBC      (*(volatile tb_obc_type _X*) (HW_TB_BASEADDR+4))    /* Trace Buffer
                                   one byte code Register */
                            18661 ; 182  |
                            18662 ; 183  |/////////////////////////////////////////////////////////////////////////////////
                            18663 ; 184  |
                            18664 ; 185  |//  Trace Buffer Trigger Command Register (HW_TB_TCS) Bit Definitions
                            18665 ; 186  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 309

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18666 ; 187  |#define HW_TB_TCS_TRG_STYLE_BITPOS (0)
                            18667 ; 188  |#define HW_TB_TCS_CAP_CLASS_BITPOS (1)
                            18668 ; 189  |#define HW_TB_TCS_TRG_CLASS_BITPOS (3)
                            18669 ; 190  |#define HW_TB_TCS_FREEZE_BITPOS (5)
                            18670 ; 191  |
                            18671 ; 192  |#define HW_TB_TCS_TRG_STYLE_WIDTH (1)        
                            18672 ; 193  |#define HW_TB_TCS_CAP_CLASS_WIDTH (2)        
                            18673 ; 194  |#define HW_TB_TCS_TRG_CLASS_WIDTH (2)        
                            18674 ; 195  |#define HW_TB_TCS_FREEZE_WIDTH (1)        
                            18675 ; 196  |#define HW_TB_TCS_RSVD_WIDTH (18)
                            18676 ; 197  |
                            18677 ; 198  |#define HW_TB_TCS_TRG_STYLE_SETMASK (((1<<HW_TB_TCS_TRG_STYLE_WIDTH)-1)<<HW_TB_TCS_TRG_STY
                                  LE_BITPOS) 
                            18678 ; 199  |#define HW_TB_TCS_CAP_CLASS_SETMASK (((1<<HW_TB_TCS_CAP_CLASS_WIDTH)-1)<<HW_TB_TCS_CAP_CLA
                                  SS_BITPOS) 
                            18679 ; 200  |#define HW_TB_TCS_TRG_CLASS_SETMASK (((1<<HW_TB_TCS_TRG_CLASS_WIDTH)-1)<<HW_TB_TCS_TRG_CLA
                                  SS_BITPOS) 
                            18680 ; 201  |#define HW_TB_TCS_FREEZE_SETMASK (((1<<HW_TB_TCS_FREEZE_WIDTH)-1)<<HW_TB_TCS_FREEZE_BITPOS
                                  ) 
                            18681 ; 202  |
                            18682 ; 203  |#define HW_TB_TCS_TRG_STYLE_CLRMASK (~(WORD)HW_TB_TCS_TRG_STYLE_SETMASK)
                            18683 ; 204  |#define HW_TB_TCS_CAP_CLASS_CLRMASK (~(WORD)HW_TB_TCS_CAP_CLASS_SETMASK)
                            18684 ; 205  |#define HW_TB_TCS_TRG_CLASS_CLRMASK (~(WORD)HW_TB_TCS_TRG_CLASS_SETMASK)
                            18685 ; 206  |#define HW_TB_TCS_FREEZE_CLRMASK (~(WORD)HW_TB_TCS_FREEZE_SETMASK)
                            18686 ; 207  |
                            18687 ; 208  |typedef union               
                            18688 ; 209  |{
                            18689 ; 210  |    struct {
                            18690 ; 211  |         int TRG_STYLE       : HW_TB_TCS_TRG_STYLE_WIDTH;
                            18691 ; 212  |         int CAP_CLASS       : HW_TB_TCS_CAP_CLASS_WIDTH;
                            18692 ; 213  |         int TRG_CLASS       : HW_TB_TCS_TRG_CLASS_WIDTH;
                            18693 ; 214  |         int FREEZE          : HW_TB_TCS_FREEZE_WIDTH;
                            18694 ; 215  |        int reserved        : HW_TB_TCS_RSVD_WIDTH;
                            18695 ; 216  |    } B;
                            18696 ; 217  |    int I;
                            18697 ; 218  |    unsigned int U;
                            18698 ; 219  |} tb_tcs_type;
                            18699 ; 220  |#define HW_TB_TCS      (*(volatile tb_tcs_type _X*) (HW_TB_BASEADDR+16))    /* Trace Buffe
                                  r Trigger Command Register */
                            18700 ; 221  |
                            18701 ; 222  |/////////////////////////////////////////////////////////////////////////////////
                            18702 ; 223  |
                            18703 ; 224  |//  Trace Buffer Trigger Value Register (HW_TB_TVR) Bit Definitions
                            18704 ; 225  |
                            18705 ; 226  |#define HW_TB_TVR_MATCH_ADDR_BITPOS (0)
                            18706 ; 227  |
                            18707 ; 228  |#define HW_TB_TVR_MATCH_ADDR_WIDTH (16)        
                            18708 ; 229  |#define HW_TB_TVR_RSVD_WIDTH (8)
                            18709 ; 230  |
                            18710 ; 231  |#define HW_TB_TVR_MATCH_ADDR_SETMASK (((1<<HW_TB_TVR_MATCH_ADDR_WIDTH)-1)<<HW_TB_TVR_MATCH
                                  _ADDR_BITPOS) 
                            18711 ; 232  |
                            18712 ; 233  |#define HW_TB_TVR_MATCH_ADDR_CLRMASK (~(WORD)HW_TB_TVR_MATCH_ADDR_SETMASK)
                            18713 ; 234  |
                            18714 ; 235  |typedef union               
                            18715 ; 236  |{
                            18716 ; 237  |    struct {
                            18717 ; 238  |         int MATCH_ADDR      : HW_TB_TVR_MATCH_ADDR_WIDTH;
                            18718 ; 239  |        int reserved        : HW_TB_TVR_RSVD_WIDTH;
                            18719 ; 240  |    } B;
                            18720 ; 241  |    int I;
                            18721 ; 242  |    unsigned int U;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 310

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18722 ; 243  |} tb_tvr_type;
                            18723 ; 244  |#define HW_TB_TVR      (*(volatile tb_tvr_type _X*) (HW_TB_BASEADDR+24))    /* Trace Buffe
                                  r Trigger Value Register */
                            18724 ; 245  |
                            18725 ; 246  |
                            18726 ; 247  |
                            18727 ; 248  |#endif
                            18728 ; 249  |
                            18729 ; 250  |
                            18730 ; 251  |
                            18731 ; 252  |
                            18732 ; 253  |
                            18733 ; 254  |
                            18734 ; 255  |
                            18735 ; 256  |
                            18736 ; 257  |
                            18737 ; 258  |
                            18738 ; 259  |
                            18739 ; 260  |
                            18740 ; 261  |
                            18741 ; 262  |
                            18742 ; 263  |
                            18743 ; 264  |
                            18744 ; 265  |
                            18745 
                            18747 
                            18748 ; 35   |#include "regstimer.h"
                            18749 
                            18751 
                            18752 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            18753 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2001
                            18754 ; 3    |// Filename: regstimer.inc
                            18755 ; 4    |// Description: Register definitions for  Timers interface
                            18756 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            18757 ; 6    |// The following naming conventions are followed in this file.
                            18758 ; 7    |// All registers are named using the format...
                            18759 ; 8    |//     HW_<module>_<regname>
                            18760 ; 9    |// where <module> is the module name which can be any of the following...
                            18761 ; 10   |//     USB20
                            18762 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            18763 ; 12   |// module name includes a number starting from 0 for the first instance of
                            18764 ; 13   |// that module)
                            18765 ; 14   |// <regname> is the specific register within that module
                            18766 ; 15   |// We also define the following...
                            18767 ; 16   |//     HW_<module>_<regname>_BITPOS
                            18768 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            18769 ; 18   |//     HW_<module>_<regname>_SETMASK
                            18770 ; 19   |// which does something else, and
                            18771 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            18772 ; 21   |// which does something else.
                            18773 ; 22   |// Other rules
                            18774 ; 23   |//     All caps
                            18775 ; 24   |//     Numeric identifiers start at 0
                            18776 ; 25   |#if !(defined(regstimerinc))
                            18777 ; 26   |#define regstimerinc 1
                            18778 ; 27   |
                            18779 ; 28   |#include "types.h"
                            18780 
                            18782 
                            18783 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            18784 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            18785 ; 3    |//
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 311

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18786 ; 4    |// Filename: types.h
                            18787 ; 5    |// Description: Standard data types
                            18788 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            18789 ; 7    |
                            18790 ; 8    |#ifndef _TYPES_H
                            18791 ; 9    |#define _TYPES_H
                            18792 ; 10   |
                            18793 ; 11   |// TODO:  move this outta here!
                            18794 ; 12   |#if !defined(NOERROR)
                            18795 ; 13   |#define NOERROR 0
                            18796 ; 14   |#define SUCCESS 0
                            18797 ; 15   |#endif 
                            18798 ; 16   |#if !defined(SUCCESS)
                            18799 ; 17   |#define SUCCESS  0
                            18800 ; 18   |#endif
                            18801 ; 19   |#if !defined(ERROR)
                            18802 ; 20   |#define ERROR   -1
                            18803 ; 21   |#endif
                            18804 ; 22   |#if !defined(FALSE)
                            18805 ; 23   |#define FALSE 0
                            18806 ; 24   |#endif
                            18807 ; 25   |#if !defined(TRUE)
                            18808 ; 26   |#define TRUE  1
                            18809 ; 27   |#endif
                            18810 ; 28   |
                            18811 ; 29   |#if !defined(NULL)
                            18812 ; 30   |#define NULL 0
                            18813 ; 31   |#endif
                            18814 ; 32   |
                            18815 ; 33   |#define MAX_INT     0x7FFFFF
                            18816 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            18817 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            18818 ; 36   |#define MAX_ULONG   (-1) 
                            18819 ; 37   |
                            18820 ; 38   |#define WORD_SIZE   24              // word size in bits
                            18821 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            18822 ; 40   |
                            18823 ; 41   |
                            18824 ; 42   |#define BYTE    unsigned char       // btVarName
                            18825 ; 43   |#define CHAR    signed char         // cVarName
                            18826 ; 44   |#define USHORT  unsigned short      // usVarName
                            18827 ; 45   |#define SHORT   unsigned short      // sVarName
                            18828 ; 46   |#define WORD    unsigned int        // wVarName
                            18829 ; 47   |#define INT     signed int          // iVarName
                            18830 ; 48   |#define DWORD   unsigned long       // dwVarName
                            18831 ; 49   |#define LONG    signed long         // lVarName
                            18832 ; 50   |#define BOOL    unsigned int        // bVarName
                            18833 ; 51   |#define FRACT   _fract              // frVarName
                            18834 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            18835 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            18836 ; 54   |#define FLOAT   float               // fVarName
                            18837 ; 55   |#define DBL     double              // dVarName
                            18838 ; 56   |#define ENUM    enum                // eVarName
                            18839 ; 57   |#define CMX     _complex            // cmxVarName
                            18840 ; 58   |typedef WORD UCS3;                   // 
                            18841 ; 59   |
                            18842 ; 60   |#define UINT16  unsigned short
                            18843 ; 61   |#define UINT8   unsigned char   
                            18844 ; 62   |#define UINT32  unsigned long
                            18845 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 312

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18846 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            18847 ; 65   |#define WCHAR   UINT16
                            18848 ; 66   |
                            18849 ; 67   |//UINT128 is 16 bytes or 6 words
                            18850 ; 68   |typedef struct UINT128_3500 {   
                            18851 ; 69   |    int val[6];     
                            18852 ; 70   |} UINT128_3500;
                            18853 ; 71   |
                            18854 ; 72   |#define UINT128   UINT128_3500
                            18855 ; 73   |
                            18856 ; 74   |// Little endian word packed byte strings:   
                            18857 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            18858 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            18859 ; 77   |// Little endian word packed byte strings:   
                            18860 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            18861 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            18862 ; 80   |
                            18863 ; 81   |// Declare Memory Spaces To Use When Coding
                            18864 ; 82   |// A. Sector Buffers
                            18865 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            18866 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            18867 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            18868 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            18869 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            18870 ; 88   |// B. Media DDI Memory
                            18871 ; 89   |#define MEDIA_DDI_MEM _Y
                            18872 ; 90   |
                            18873 ; 91   |
                            18874 ; 92   |
                            18875 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            18876 ; 94   |// Examples of circular pointers:
                            18877 ; 95   |//    INT CIRC cpiVarName
                            18878 ; 96   |//    DWORD CIRC cpdwVarName
                            18879 ; 97   |
                            18880 ; 98   |#define RETCODE INT                 // rcVarName
                            18881 ; 99   |
                            18882 ; 100  |// generic bitfield structure
                            18883 ; 101  |struct Bitfield {
                            18884 ; 102  |    unsigned int B0  :1;
                            18885 ; 103  |    unsigned int B1  :1;
                            18886 ; 104  |    unsigned int B2  :1;
                            18887 ; 105  |    unsigned int B3  :1;
                            18888 ; 106  |    unsigned int B4  :1;
                            18889 ; 107  |    unsigned int B5  :1;
                            18890 ; 108  |    unsigned int B6  :1;
                            18891 ; 109  |    unsigned int B7  :1;
                            18892 ; 110  |    unsigned int B8  :1;
                            18893 ; 111  |    unsigned int B9  :1;
                            18894 ; 112  |    unsigned int B10 :1;
                            18895 ; 113  |    unsigned int B11 :1;
                            18896 ; 114  |    unsigned int B12 :1;
                            18897 ; 115  |    unsigned int B13 :1;
                            18898 ; 116  |    unsigned int B14 :1;
                            18899 ; 117  |    unsigned int B15 :1;
                            18900 ; 118  |    unsigned int B16 :1;
                            18901 ; 119  |    unsigned int B17 :1;
                            18902 ; 120  |    unsigned int B18 :1;
                            18903 ; 121  |    unsigned int B19 :1;
                            18904 ; 122  |    unsigned int B20 :1;
                            18905 ; 123  |    unsigned int B21 :1;
                            18906 ; 124  |    unsigned int B22 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 313

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18907 ; 125  |    unsigned int B23 :1;
                            18908 ; 126  |};
                            18909 ; 127  |
                            18910 ; 128  |union BitInt {
                            18911 ; 129  |        struct Bitfield B;
                            18912 ; 130  |        int        I;
                            18913 ; 131  |};
                            18914 ; 132  |
                            18915 ; 133  |#define MAX_MSG_LENGTH 10
                            18916 ; 134  |struct CMessage
                            18917 ; 135  |{
                            18918 ; 136  |        unsigned int m_uLength;
                            18919 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            18920 ; 138  |};
                            18921 ; 139  |
                            18922 ; 140  |typedef struct {
                            18923 ; 141  |    WORD m_wLength;
                            18924 ; 142  |    WORD m_wMessage;
                            18925 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            18926 ; 144  |} Message;
                            18927 ; 145  |
                            18928 ; 146  |struct MessageQueueDescriptor
                            18929 ; 147  |{
                            18930 ; 148  |        int *m_pBase;
                            18931 ; 149  |        int m_iModulo;
                            18932 ; 150  |        int m_iSize;
                            18933 ; 151  |        int *m_pHead;
                            18934 ; 152  |        int *m_pTail;
                            18935 ; 153  |};
                            18936 ; 154  |
                            18937 ; 155  |struct ModuleEntry
                            18938 ; 156  |{
                            18939 ; 157  |    int m_iSignaledEventMask;
                            18940 ; 158  |    int m_iWaitEventMask;
                            18941 ; 159  |    int m_iResourceOfCode;
                            18942 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            18943 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            18944 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            18945 ; 163  |    int m_uTimeOutHigh;
                            18946 ; 164  |    int m_uTimeOutLow;
                            18947 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            18948 ; 166  |};
                            18949 ; 167  |
                            18950 ; 168  |union WaitMask{
                            18951 ; 169  |    struct B{
                            18952 ; 170  |        unsigned int m_bNone     :1;
                            18953 ; 171  |        unsigned int m_bMessage  :1;
                            18954 ; 172  |        unsigned int m_bTimer    :1;
                            18955 ; 173  |        unsigned int m_bButton   :1;
                            18956 ; 174  |    } B;
                            18957 ; 175  |    int I;
                            18958 ; 176  |} ;
                            18959 ; 177  |
                            18960 ; 178  |
                            18961 ; 179  |struct Button {
                            18962 ; 180  |        WORD wButtonEvent;
                            18963 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            18964 ; 182  |};
                            18965 ; 183  |
                            18966 ; 184  |struct Message {
                            18967 ; 185  |        WORD wMsgLength;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 314

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18968 ; 186  |        WORD wMsgCommand;
                            18969 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            18970 ; 188  |};
                            18971 ; 189  |
                            18972 ; 190  |union EventTypes {
                            18973 ; 191  |        struct CMessage msg;
                            18974 ; 192  |        struct Button Button ;
                            18975 ; 193  |        struct Message Message;
                            18976 ; 194  |};
                            18977 ; 195  |
                            18978 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            18979 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            18980 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            18981 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            18982 ; 200  |
                            18983 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            18984 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            18985 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            18986 ; 204  |
                            18987 ; 205  |#if DEBUG
                            18988 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            18989 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            18990 ; 208  |#else 
                            18991 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            18992 ; 210  |#define DebugBuildAssert(x)    
                            18993 ; 211  |#endif
                            18994 ; 212  |
                            18995 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            18996 ; 214  |//  #pragma asm
                            18997 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            18998 ; 216  |//  #pragma endasm
                            18999 ; 217  |
                            19000 ; 218  |
                            19001 ; 219  |#ifdef COLOR_262K
                            19002 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            19003 ; 221  |#elif defined(COLOR_65K)
                            19004 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            19005 ; 223  |#else
                            19006 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            19007 ; 225  |#endif
                            19008 ; 226  |    
                            19009 ; 227  |#endif // #ifndef _TYPES_H
                            19010 
                            19012 
                            19013 ; 29   |
                            19014 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19015 ; 31   |//   TIMER STMP Registers 
                            19016 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19017 ; 33   |#define HW_TMR_BASEADDR (0xF100)
                            19018 ; 34   |
                            19019 ; 35   |#define HW_TMR0_BASEADDR HW_TMR_BASEADDR
                            19020 ; 36   |#define HW_TMR1_BASEADDR HW_TMR_BASEADDR+0x40
                            19021 ; 37   |#define HW_TMR2_BASEADDR HW_TMR_BASEADDR+0x80
                            19022 ; 38   |#define HW_TMR3_BASEADDR HW_TMR_BASEADDR+0xC0
                            19023 ; 39   |
                            19024 ; 40   |#define HW_TIMER_NUMBER_0 0
                            19025 ; 41   |#define HW_TIMER_NUMBER_1 1
                            19026 ; 42   |#define HW_TIMER_NUMBER_2 2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 315

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19027 ; 43   |#define HW_TIMER_NUMBER_3 3
                            19028 ; 44   |
                            19029 ; 45   |#define HW_TMRCSR 0
                            19030 ; 46   |#define HW_TMRCNTR 1
                            19031 ; 47   |
                            19032 ; 48   |
                            19033 ; 49   |/////////////////////////////////////////////////////////////////////////////////
                            19034 ; 50   |//  TIMER CSR (HW_TMR0CSR) Bit Definitions
                            19035 ; 51   |#define HW_TMR0CSR_TIMER_ENABLE_BITPOS (0)
                            19036 ; 52   |#define HW_TMR0CSR_TIMER_INT_EN_BITPOS (1)
                            19037 ; 53   |#define HW_TMR0CSR_INVERT_BITPOS (2)
                            19038 ; 54   |#define HW_TMR0CSR_TIMER_CONTROL_BITPOS (3)
                            19039 ; 55   |#define HW_TMR0CSR_TIMER_STATUS_BITPOS (7)
                            19040 ; 56   |#define HW_TMR0CSR_TIMER_MODE_BITPOS (8)
                            19041 ; 57   |#define HW_TMR0CSR_CLKGT_BITPOS (23)
                            19042 ; 58   |
                            19043 ; 59   |#define HW_TMR0CSR_TIMER_ENABLE_WIDTH (1)
                            19044 ; 60   |#define HW_TMR0CSR_TIMER_INT_EN_WIDTH (1)
                            19045 ; 61   |#define HW_TMR0CSR_INVERT_WIDTH (1)
                            19046 ; 62   |#define HW_TMR0CSR_TIMER_CONTROL_WIDTH (3)
                            19047 ; 63   |#define HW_TMR0CSR_TIMER_STATUS_WIDTH (1)
                            19048 ; 64   |#define HW_TMR0CSR_TIMER_MODE_WIDTH (2)
                            19049 ; 65   |#define HW_TMR0CSR_CLKGT_WIDTH (1)
                            19050 ; 66   |
                            19051 ; 67   |#define HW_TMR0CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR0CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR0CS
                                  R_TIMER_ENABLE_BITPOS)
                            19052 ; 68   |#define HW_TMR0CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR0CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR0CS
                                  R_TIMER_INT_EN_BITPOS)
                            19053 ; 69   |#define HW_TMR0CSR_INVERT_SETMASK (((1<<HW_TMR0CSR_INVERT_WIDTH)-1)<<HW_TMR0CSR_INVERT_BIT
                                  POS)
                            19054 ; 70   |#define HW_TMR0CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR0CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR0
                                  CSR_TIMER_CONTROL_BITPOS)
                            19055 ; 71   |#define HW_TMR0CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR0CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR0CS
                                  R_TIMER_STATUS_BITPOS)
                            19056 ; 72   |#define HW_TMR0CSR_TIMER_MODE_SETMASK (((1<<HW_TMR0CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR0CSR_TI
                                  MER_MODE_BITPOS)
                            19057 ; 73   |#define HW_TMR0CSR_CLKGT_SETMASK (((1<<HW_TMR0CSR_CLKGT_WIDTH)-1)<<HW_TMR0CSR_CLKGT_BITPOS
                                  )
                            19058 ; 74   |
                            19059 ; 75   |#define HW_TMR0CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_ENABLE_SETMASK)
                            19060 ; 76   |#define HW_TMR0CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_INT_EN_SETMASK)
                            19061 ; 77   |#define HW_TMR0CSR_INVERT_CLRMASK (~(WORD)HW_TMR0CSR_INVERT_SETMASK)
                            19062 ; 78   |#define HW_TMR0CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_CONTROL_SETMASK)
                            19063 ; 79   |#define HW_TMR0CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_STATUS_SETMASK)
                            19064 ; 80   |#define HW_TMR0CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_MODE_SETMASK)
                            19065 ; 81   |#define HW_TMR0CSR_CLKGT_CLRMASK (~(WORD)HW_TMR0CSR_CLKGT_SETMASK)
                            19066 ; 82   |
                            19067 ; 83   |/////////////////////////////////////////////////////////////////////////////////
                            19068 ; 84   |//  TIMER CSR (HW_TMR1CSR) Bit Definitions
                            19069 ; 85   |#define HW_TMR1CSR_TIMER_ENABLE_BITPOS (0)
                            19070 ; 86   |#define HW_TMR1CSR_TIMER_INT_EN_BITPOS (1)
                            19071 ; 87   |#define HW_TMR1CSR_INVERT_BITPOS (2)
                            19072 ; 88   |#define HW_TMR1CSR_TIMER_CONTROL_BITPOS (3)
                            19073 ; 89   |#define HW_TMR1CSR_TIMER_STATUS_BITPOS (7)
                            19074 ; 90   |#define HW_TMR1CSR_TIMER_MODE_BITPOS (8)
                            19075 ; 91   |#define HW_TMR1CSR_CLKGT_BITPOS (23)
                            19076 ; 92   |
                            19077 ; 93   |#define HW_TMR1CSR_TIMER_ENABLE_WIDTH (1)
                            19078 ; 94   |#define HW_TMR1CSR_TIMER_INT_EN_WIDTH (1)
                            19079 ; 95   |#define HW_TMR1CSR_INVERT_WIDTH (1)
                            19080 ; 96   |#define HW_TMR1CSR_TIMER_CONTROL_WIDTH (3)
                            19081 ; 97   |#define HW_TMR1CSR_TIMER_STATUS_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 316

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19082 ; 98   |#define HW_TMR1CSR_TIMER_MODE_WIDTH (2)
                            19083 ; 99   |#define HW_TMR1CSR_CLKGT_WIDTH (1)
                            19084 ; 100  |
                            19085 ; 101  |#define HW_TMR1CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR1CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR1CS
                                  R_TIMER_ENABLE_BITPOS)
                            19086 ; 102  |#define HW_TMR1CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR1CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR1CS
                                  R_TIMER_INT_EN_BITPOS)
                            19087 ; 103  |#define HW_TMR1CSR_INVERT_SETMASK (((1<<HW_TMR1CSR_INVERT_WIDTH)-1)<<HW_TMR1CSR_INVERT_BIT
                                  POS)
                            19088 ; 104  |#define HW_TMR1CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR1CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR1
                                  CSR_TIMER_CONTROL_BITPOS)
                            19089 ; 105  |#define HW_TMR1CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR1CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR1CS
                                  R_TIMER_STATUS_BITPOS)
                            19090 ; 106  |#define HW_TMR1CSR_TIMER_MODE_SETMASK (((1<<HW_TMR1CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR1CSR_TI
                                  MER_MODE_BITPOS)
                            19091 ; 107  |#define HW_TMR1CSR_CLKGT_SETMASK (((1<<HW_TMR1CSR_CLKGT_WIDTH)-1)<<HW_TMR1CSR_CLKGT_BITPOS
                                  )
                            19092 ; 108  |
                            19093 ; 109  |#define HW_TMR1CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_ENABLE_SETMASK)
                            19094 ; 110  |#define HW_TMR1CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_INT_EN_SETMASK)
                            19095 ; 111  |#define HW_TMR1CSR_INVERT_CLRMASK (~(WORD)HW_TMR1CSR_INVERT_SETMASK)
                            19096 ; 112  |#define HW_TMR1CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_CONTROL_SETMASK)
                            19097 ; 113  |#define HW_TMR1CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_STATUS_SETMASK)
                            19098 ; 114  |#define HW_TMR1CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_MODE_SETMASK)
                            19099 ; 115  |#define HW_TMR1CSR_CLKGT_CLRMASK (~(WORD)HW_TMR1CSR_CLKGT_SETMASK)
                            19100 ; 116  |
                            19101 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                            19102 ; 118  |//  TIMER CSR (HW_TMR2CSR) Bit Definitions
                            19103 ; 119  |#define HW_TMR2CSR_TIMER_ENABLE_BITPOS (0)
                            19104 ; 120  |#define HW_TMR2CSR_TIMER_INT_EN_BITPOS (1)
                            19105 ; 121  |#define HW_TMR2CSR_INVERT_BITPOS (2)
                            19106 ; 122  |#define HW_TMR2CSR_TIMER_CONTROL_BITPOS (3)
                            19107 ; 123  |#define HW_TMR2CSR_TIMER_STATUS_BITPOS (7)
                            19108 ; 124  |#define HW_TMR2CSR_TIMER_MODE_BITPOS (8)
                            19109 ; 125  |#define HW_TMR2CSR_CLKGT_BITPOS (23)
                            19110 ; 126  |
                            19111 ; 127  |#define HW_TMR2CSR_TIMER_ENABLE_WIDTH (1)
                            19112 ; 128  |#define HW_TMR2CSR_TIMER_INT_EN_WIDTH (1)
                            19113 ; 129  |#define HW_TMR2CSR_INVERT_WIDTH (1)
                            19114 ; 130  |#define HW_TMR2CSR_TIMER_CONTROL_WIDTH (3)
                            19115 ; 131  |#define HW_TMR2CSR_TIMER_STATUS_WIDTH (1)
                            19116 ; 132  |#define HW_TMR2CSR_TIMER_MODE_WIDTH (2)
                            19117 ; 133  |#define HW_TMR2CSR_CLKGT_WIDTH (1)
                            19118 ; 134  |
                            19119 ; 135  |#define HW_TMR2CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR2CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR2CS
                                  R_TIMER_ENABLE_BITPOS)
                            19120 ; 136  |#define HW_TMR2CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR2CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR2CS
                                  R_TIMER_INT_EN_BITPOS)
                            19121 ; 137  |#define HW_TMR2CSR_INVERT_SETMASK (((1<<HW_TMR2CSR_INVERT_WIDTH)-1)<<HW_TMR2CSR_INVERT_BIT
                                  POS)
                            19122 ; 138  |#define HW_TMR2CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR2CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR2
                                  CSR_TIMER_CONTROL_BITPOS)
                            19123 ; 139  |#define HW_TMR2CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR2CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR2CS
                                  R_TIMER_STATUS_BITPOS)
                            19124 ; 140  |#define HW_TMR2CSR_TIMER_MODE_SETMASK (((1<<HW_TMR2CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR2CSR_TI
                                  MER_MODE_BITPOS)
                            19125 ; 141  |#define HW_TMR2CSR_CLKGT_SETMASK (((1<<HW_TMR2CSR_CLKGT_WIDTH)-1)<<HW_TMR2CSR_CLKGT_BITPOS
                                  )
                            19126 ; 142  |
                            19127 ; 143  |#define HW_TMR2CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_ENABLE_SETMASK)
                            19128 ; 144  |#define HW_TMR2CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_INT_EN_SETMASK)
                            19129 ; 145  |#define HW_TMR2CSR_INVERT_CLRMASK (~(WORD)HW_TMR2CSR_INVERT_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 317

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19130 ; 146  |#define HW_TMR2CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_CONTROL_SETMASK)
                            19131 ; 147  |#define HW_TMR2CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_STATUS_SETMASK)
                            19132 ; 148  |#define HW_TMR2CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_MODE_SETMASK)
                            19133 ; 149  |#define HW_TMR2CSR_CLKGT_CLRMASK (~(WORD)HW_TMR2CSR_CLKGT_SETMASK)
                            19134 ; 150  |
                            19135 ; 151  |/////////////////////////////////////////////////////////////////////////////////
                            19136 ; 152  |//  TIMER CSR (HW_TMR3CSR) Bit Definitions
                            19137 ; 153  |#define HW_TMR3CSR_TIMER_ENABLE_BITPOS (0)
                            19138 ; 154  |#define HW_TMR3CSR_TIMER_INT_EN_BITPOS (1)
                            19139 ; 155  |#define HW_TMR3CSR_INVERT_BITPOS (2)
                            19140 ; 156  |#define HW_TMR3CSR_TIMER_CONTROL_BITPOS (3)
                            19141 ; 157  |#define HW_TMR3CSR_TIMER_STATUS_BITPOS (7)
                            19142 ; 158  |#define HW_TMR3CSR_TIMER_MODE_BITPOS (8)
                            19143 ; 159  |#define HW_TMR3CSR_CLKGT_BITPOS (23)
                            19144 ; 160  |
                            19145 ; 161  |#define HW_TMR3CSR_TIMER_ENABLE_WIDTH (1)
                            19146 ; 162  |#define HW_TMR3CSR_TIMER_INT_EN_WIDTH (1)
                            19147 ; 163  |#define HW_TMR3CSR_INVERT_WIDTH (1)
                            19148 ; 164  |#define HW_TMR3CSR_TIMER_CONTROL_WIDTH (3)
                            19149 ; 165  |#define HW_TMR3CSR_TIMER_STATUS_WIDTH (1)
                            19150 ; 166  |#define HW_TMR3CSR_TIMER_MODE_WIDTH (2)
                            19151 ; 167  |#define HW_TMR3CSR_CLKGT_WIDTH (1)
                            19152 ; 168  |
                            19153 ; 169  |#define HW_TMR3CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR3CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR3CS
                                  R_TIMER_ENABLE_BITPOS)
                            19154 ; 170  |#define HW_TMR3CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR3CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR3CS
                                  R_TIMER_INT_EN_BITPOS)
                            19155 ; 171  |#define HW_TMR3CSR_INVERT_SETMASK (((1<<HW_TMR3CSR_INVERT_WIDTH)-1)<<HW_TMR3CSR_INVERT_BIT
                                  POS)
                            19156 ; 172  |#define HW_TMR3CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR3CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR3
                                  CSR_TIMER_CONTROL_BITPOS)
                            19157 ; 173  |#define HW_TMR3CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR3CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR3CS
                                  R_TIMER_STATUS_BITPOS)
                            19158 ; 174  |#define HW_TMR3CSR_TIMER_MODE_SETMASK (((1<<HW_TMR3CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR3CSR_TI
                                  MER_MODE_BITPOS)
                            19159 ; 175  |#define HW_TMR3CSR_CLKGT_SETMASK (((1<<HW_TMR3CSR_CLKGT_WIDTH)-1)<<HW_TMR3CSR_CLKGT_BITPOS
                                  )
                            19160 ; 176  |
                            19161 ; 177  |#define HW_TMR3CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_ENABLE_SETMASK)
                            19162 ; 178  |#define HW_TMR3CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_INT_EN_SETMASK)
                            19163 ; 179  |#define HW_TMR3CSR_INVERT_CLRMASK (~(WORD)HW_TMR3CSR_INVERT_SETMASK)
                            19164 ; 180  |#define HW_TMR3CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_CONTROL_SETMASK)
                            19165 ; 181  |#define HW_TMR3CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_STATUS_SETMASK)
                            19166 ; 182  |#define HW_TMR3CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_MODE_SETMASK)
                            19167 ; 183  |#define HW_TMR3CSR_CLKGT_CLRMASK (~(WORD)HW_TMR3CSR_CLKGT_SETMASK)
                            19168 ; 184  |
                            19169 ; 185  |typedef union               
                            19170 ; 186  |{
                            19171 ; 187  |    struct {
                            19172 ; 188  |       int TIMER_ENABLE              :1;
                            19173 ; 189  |       int TIMER_INT_EN              :1;
                            19174 ; 190  |       int INVERT                    :1;
                            19175 ; 191  |       int TIMER_CONTROL             :3;
                            19176 ; 192  |       int RSVD0                     :1;
                            19177 ; 193  |       int TIMER_STATUS              :1;
                            19178 ; 194  |       int TIMER_MODE                :2;
                            19179 ; 195  |       int RSVD1                     :13;
                            19180 ; 196  |       int CLKGT                     :1;
                            19181 ; 197  |    } B;
                            19182 ; 198  |    int I;
                            19183 ; 199  |} timercsr_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 318

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19184 ; 200  |#define HW_TMR0CSR        (*(volatile timercsr_type _X*) (HW_TMR0_BASEADDR+HW_TMRCSR))  /*
                                   Timer0 Control Status Register */
                            19185 ; 201  |#define HW_TMR1CSR        (*(volatile timercsr_type _X*) (HW_TMR1_BASEADDR+HW_TMRCSR))  /*
                                   Timer1 Control Status Register */
                            19186 ; 202  |#define HW_TMR2CSR        (*(volatile timercsr_type _X*) (HW_TMR2_BASEADDR+HW_TMRCSR))  /*
                                   Timer2 Control Status Register */
                            19187 ; 203  |#define HW_TMR3CSR        (*(volatile timercsr_type _X*) (HW_TMR3_BASEADDR+HW_TMRCSR))  /*
                                   Timer3 Control Status Register */
                            19188 ; 204  |
                            19189 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                            19190 ; 206  |//  TIMER CNTR register (HW_TMR0CNTR) Bit Definitions
                            19191 ; 207  |#define HW_TMR0CNTR_COUNT_BITPOS 0
                            19192 ; 208  |#define HW_TMR0CNTR_COUNT_WIDTH 24
                            19193 ; 209  |#define HW_TMR0CNTR_COUNT_SETMASK (((1<<HW_TMR0CNTR_COUNT_WIDTH)-1)<<HW_TMR0CNTR_COUNT_BIT
                                  POS)
                            19194 ; 210  |#define HW_TMR0CNTR_COUNT_CLRMASK (~(WORD)HW_TMR0CNTR_COUNT_SETMASK)
                            19195 ; 211  |
                            19196 ; 212  |/////////////////////////////////////////////////////////////////////////////////
                            19197 ; 213  |//  TIMER CNTR register (HW_TMR1CNTR) Bit Definitions
                            19198 ; 214  |#define HW_TMR1CNTR_COUNT_BITPOS 0
                            19199 ; 215  |#define HW_TMR1CNTR_COUNT_WIDTH 24
                            19200 ; 216  |#define HW_TMR1CNTR_COUNT_SETMASK (((1<<HW_TMR1CNTR_COUNT_WIDTH)-1)<<HW_TMR1CNTR_COUNT_BIT
                                  POS)
                            19201 ; 217  |#define HW_TMR1CNTR_COUNT_CLRMASK (~(WORD)HW_TMR1CNTR_COUNT_SETMASK)
                            19202 ; 218  |
                            19203 ; 219  |/////////////////////////////////////////////////////////////////////////////////
                            19204 ; 220  |//  TIMER CNTR register (HW_TMR2CNTR) Bit Definitions
                            19205 ; 221  |#define HW_TMR2CNTR_COUNT_BITPOS 0
                            19206 ; 222  |#define HW_TMR2CNTR_COUNT_WIDTH 24
                            19207 ; 223  |#define HW_TMR2CNTR_COUNT_SETMASK (((1<<HW_TMR2CNTR_COUNT_WIDTH)-1)<<HW_TMR2CNTR_COUNT_BIT
                                  POS)
                            19208 ; 224  |#define HW_TMR2CNTR_COUNT_CLRMASK (~(WORD)HW_TMR2CNTR_COUNT_SETMASK)
                            19209 ; 225  |
                            19210 ; 226  |typedef union               
                            19211 ; 227  |{
                            19212 ; 228  |    struct {
                            19213 ; 229  |       int COUNT                    :24;
                            19214 ; 230  |    } B;
                            19215 ; 231  |    int I;
                            19216 ; 232  |} tmrcntr_type;
                            19217 ; 233  |#define HW_TMR0CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR0_BASEADDR+HW_TMRCNTR))  /
                                  * Timer0 Count Register */
                            19218 ; 234  |#define HW_TMR1CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR1_BASEADDR+HW_TMRCNTR))  /
                                  * Timer1 Count Register */
                            19219 ; 235  |#define HW_TMR2CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR2_BASEADDR+HW_TMRCNTR))  /
                                  * Timer2 Count Register */
                            19220 ; 236  |#define HW_TMR3CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR3_BASEADDR+HW_TMRCNTR))  /
                                  * Timer3 Count Register */
                            19221 ; 237  |
                            19222 ; 238  |
                            19223 ; 239  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                            19224 ; 240  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                            19225 ; 241  |// to update the actual files. Only the defines needed to build SDK2.400 were added.   
                            19226 ; 242  |#define HW_TIMER_BASEADDR 0xF100
                            19227 ; 243  |
                            19228 ; 244  |#define HW_TIMER0_BASEADDR HW_TIMER_BASEADDR
                            19229 ; 245  |#define HW_TIMER1_BASEADDR HW_TIMER0_BASEADDR+0x40
                            19230 ; 246  |#define HW_TIMER2_BASEADDR HW_TIMER1_BASEADDR+0x40
                            19231 ; 247  |#define HW_TIMER3_BASEADDR HW_TIMER2_BASEADDR+0x40
                            19232 ; 248  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 319

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19233 ; 249  |#define HW_TMR0CR HW_TMR0_BASEADDR
                            19234 ; 250  |#define HW_TMR1CR HW_TMR1_BASEADDR
                            19235 ; 251  |#define HW_TMR2CR HW_TMR2_BASEADDR
                            19236 ; 252  |#define HW_TMR3CR HW_TIMER3_BASEADDR
                            19237 ; 253  |
                            19238 ; 254  |// Timer enable
                            19239 ; 255  |#define HW_TMRCR_TE_BITPOS 0   
                            19240 ; 256  |// Timer clock gating control
                            19241 ; 257  |#define HW_TMR3CR_CG_BITPOS 23  
                            19242 ; 258  |#define HW_TMR3CR_CG_SETMASK 1<<HW_TMR3CR_CG_BITPOS
                            19243 ; 259  |#define HW_TMR3CR_CG_CLRMASK ~(WORD)HW_TMR3CR_CG_SETMASK
                            19244 ; 260  |#endif
                            19245 ; 261  |
                            19246 ; 262  |
                            19247 ; 263  |
                            19248 ; 264  |
                            19249 
                            19251 
                            19252 ; 36   |#include "regsusb20.h"
                            19253 
                            19255 
                            19256 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19257 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2003
                            19258 ; 3    |//;  File        : regsusb20ip.inc
                            19259 ; 4    |//;  Description : USB20 IP Register definition
                            19260 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19261 ; 6    |
                            19262 ; 7    |// The following naming conventions are followed in this file.
                            19263 ; 8    |// All registers are named using the format...
                            19264 ; 9    |//     HW_<module>_<regname>
                            19265 ; 10   |// where <module> is the module name which can be any of the following...
                            19266 ; 11   |//     USB20
                            19267 ; 12   |// (Note that when there is more than one copy of a particular module, the
                            19268 ; 13   |// module name includes a number starting from 0 for the first instance of
                            19269 ; 14   |// that module)
                            19270 ; 15   |// <regname> is the specific register within that module
                            19271 ; 16   |// We also define the following...
                            19272 ; 17   |//     HW_<module>_<regname>_BITPOS
                            19273 ; 18   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            19274 ; 19   |//     HW_<module>_<regname>_SETMASK
                            19275 ; 20   |// which does something else, and
                            19276 ; 21   |//     HW_<module>_<regname>_CLRMASK
                            19277 ; 22   |// which does something else.
                            19278 ; 23   |// Other rules
                            19279 ; 24   |//     All caps
                            19280 ; 25   |//     Numeric identifiers start at 0
                            19281 ; 26   |
                            19282 ; 27   |#if !(defined(regsusb20inc))
                            19283 ; 28   |#define regsusb20inc 1
                            19284 ; 29   |
                            19285 ; 30   |#include "types.h"
                            19286 
                            19288 
                            19289 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            19290 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            19291 ; 3    |//
                            19292 ; 4    |// Filename: types.h
                            19293 ; 5    |// Description: Standard data types
                            19294 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            19295 ; 7    |
                            19296 ; 8    |#ifndef _TYPES_H
                            19297 ; 9    |#define _TYPES_H
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 320

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19298 ; 10   |
                            19299 ; 11   |// TODO:  move this outta here!
                            19300 ; 12   |#if !defined(NOERROR)
                            19301 ; 13   |#define NOERROR 0
                            19302 ; 14   |#define SUCCESS 0
                            19303 ; 15   |#endif 
                            19304 ; 16   |#if !defined(SUCCESS)
                            19305 ; 17   |#define SUCCESS  0
                            19306 ; 18   |#endif
                            19307 ; 19   |#if !defined(ERROR)
                            19308 ; 20   |#define ERROR   -1
                            19309 ; 21   |#endif
                            19310 ; 22   |#if !defined(FALSE)
                            19311 ; 23   |#define FALSE 0
                            19312 ; 24   |#endif
                            19313 ; 25   |#if !defined(TRUE)
                            19314 ; 26   |#define TRUE  1
                            19315 ; 27   |#endif
                            19316 ; 28   |
                            19317 ; 29   |#if !defined(NULL)
                            19318 ; 30   |#define NULL 0
                            19319 ; 31   |#endif
                            19320 ; 32   |
                            19321 ; 33   |#define MAX_INT     0x7FFFFF
                            19322 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            19323 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            19324 ; 36   |#define MAX_ULONG   (-1) 
                            19325 ; 37   |
                            19326 ; 38   |#define WORD_SIZE   24              // word size in bits
                            19327 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            19328 ; 40   |
                            19329 ; 41   |
                            19330 ; 42   |#define BYTE    unsigned char       // btVarName
                            19331 ; 43   |#define CHAR    signed char         // cVarName
                            19332 ; 44   |#define USHORT  unsigned short      // usVarName
                            19333 ; 45   |#define SHORT   unsigned short      // sVarName
                            19334 ; 46   |#define WORD    unsigned int        // wVarName
                            19335 ; 47   |#define INT     signed int          // iVarName
                            19336 ; 48   |#define DWORD   unsigned long       // dwVarName
                            19337 ; 49   |#define LONG    signed long         // lVarName
                            19338 ; 50   |#define BOOL    unsigned int        // bVarName
                            19339 ; 51   |#define FRACT   _fract              // frVarName
                            19340 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            19341 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            19342 ; 54   |#define FLOAT   float               // fVarName
                            19343 ; 55   |#define DBL     double              // dVarName
                            19344 ; 56   |#define ENUM    enum                // eVarName
                            19345 ; 57   |#define CMX     _complex            // cmxVarName
                            19346 ; 58   |typedef WORD UCS3;                   // 
                            19347 ; 59   |
                            19348 ; 60   |#define UINT16  unsigned short
                            19349 ; 61   |#define UINT8   unsigned char   
                            19350 ; 62   |#define UINT32  unsigned long
                            19351 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            19352 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            19353 ; 65   |#define WCHAR   UINT16
                            19354 ; 66   |
                            19355 ; 67   |//UINT128 is 16 bytes or 6 words
                            19356 ; 68   |typedef struct UINT128_3500 {   
                            19357 ; 69   |    int val[6];     
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 321

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19358 ; 70   |} UINT128_3500;
                            19359 ; 71   |
                            19360 ; 72   |#define UINT128   UINT128_3500
                            19361 ; 73   |
                            19362 ; 74   |// Little endian word packed byte strings:   
                            19363 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            19364 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            19365 ; 77   |// Little endian word packed byte strings:   
                            19366 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            19367 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            19368 ; 80   |
                            19369 ; 81   |// Declare Memory Spaces To Use When Coding
                            19370 ; 82   |// A. Sector Buffers
                            19371 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            19372 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            19373 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            19374 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            19375 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            19376 ; 88   |// B. Media DDI Memory
                            19377 ; 89   |#define MEDIA_DDI_MEM _Y
                            19378 ; 90   |
                            19379 ; 91   |
                            19380 ; 92   |
                            19381 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            19382 ; 94   |// Examples of circular pointers:
                            19383 ; 95   |//    INT CIRC cpiVarName
                            19384 ; 96   |//    DWORD CIRC cpdwVarName
                            19385 ; 97   |
                            19386 ; 98   |#define RETCODE INT                 // rcVarName
                            19387 ; 99   |
                            19388 ; 100  |// generic bitfield structure
                            19389 ; 101  |struct Bitfield {
                            19390 ; 102  |    unsigned int B0  :1;
                            19391 ; 103  |    unsigned int B1  :1;
                            19392 ; 104  |    unsigned int B2  :1;
                            19393 ; 105  |    unsigned int B3  :1;
                            19394 ; 106  |    unsigned int B4  :1;
                            19395 ; 107  |    unsigned int B5  :1;
                            19396 ; 108  |    unsigned int B6  :1;
                            19397 ; 109  |    unsigned int B7  :1;
                            19398 ; 110  |    unsigned int B8  :1;
                            19399 ; 111  |    unsigned int B9  :1;
                            19400 ; 112  |    unsigned int B10 :1;
                            19401 ; 113  |    unsigned int B11 :1;
                            19402 ; 114  |    unsigned int B12 :1;
                            19403 ; 115  |    unsigned int B13 :1;
                            19404 ; 116  |    unsigned int B14 :1;
                            19405 ; 117  |    unsigned int B15 :1;
                            19406 ; 118  |    unsigned int B16 :1;
                            19407 ; 119  |    unsigned int B17 :1;
                            19408 ; 120  |    unsigned int B18 :1;
                            19409 ; 121  |    unsigned int B19 :1;
                            19410 ; 122  |    unsigned int B20 :1;
                            19411 ; 123  |    unsigned int B21 :1;
                            19412 ; 124  |    unsigned int B22 :1;
                            19413 ; 125  |    unsigned int B23 :1;
                            19414 ; 126  |};
                            19415 ; 127  |
                            19416 ; 128  |union BitInt {
                            19417 ; 129  |        struct Bitfield B;
                            19418 ; 130  |        int        I;
                            19419 ; 131  |};
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 322

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19420 ; 132  |
                            19421 ; 133  |#define MAX_MSG_LENGTH 10
                            19422 ; 134  |struct CMessage
                            19423 ; 135  |{
                            19424 ; 136  |        unsigned int m_uLength;
                            19425 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            19426 ; 138  |};
                            19427 ; 139  |
                            19428 ; 140  |typedef struct {
                            19429 ; 141  |    WORD m_wLength;
                            19430 ; 142  |    WORD m_wMessage;
                            19431 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            19432 ; 144  |} Message;
                            19433 ; 145  |
                            19434 ; 146  |struct MessageQueueDescriptor
                            19435 ; 147  |{
                            19436 ; 148  |        int *m_pBase;
                            19437 ; 149  |        int m_iModulo;
                            19438 ; 150  |        int m_iSize;
                            19439 ; 151  |        int *m_pHead;
                            19440 ; 152  |        int *m_pTail;
                            19441 ; 153  |};
                            19442 ; 154  |
                            19443 ; 155  |struct ModuleEntry
                            19444 ; 156  |{
                            19445 ; 157  |    int m_iSignaledEventMask;
                            19446 ; 158  |    int m_iWaitEventMask;
                            19447 ; 159  |    int m_iResourceOfCode;
                            19448 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            19449 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            19450 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            19451 ; 163  |    int m_uTimeOutHigh;
                            19452 ; 164  |    int m_uTimeOutLow;
                            19453 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            19454 ; 166  |};
                            19455 ; 167  |
                            19456 ; 168  |union WaitMask{
                            19457 ; 169  |    struct B{
                            19458 ; 170  |        unsigned int m_bNone     :1;
                            19459 ; 171  |        unsigned int m_bMessage  :1;
                            19460 ; 172  |        unsigned int m_bTimer    :1;
                            19461 ; 173  |        unsigned int m_bButton   :1;
                            19462 ; 174  |    } B;
                            19463 ; 175  |    int I;
                            19464 ; 176  |} ;
                            19465 ; 177  |
                            19466 ; 178  |
                            19467 ; 179  |struct Button {
                            19468 ; 180  |        WORD wButtonEvent;
                            19469 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            19470 ; 182  |};
                            19471 ; 183  |
                            19472 ; 184  |struct Message {
                            19473 ; 185  |        WORD wMsgLength;
                            19474 ; 186  |        WORD wMsgCommand;
                            19475 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            19476 ; 188  |};
                            19477 ; 189  |
                            19478 ; 190  |union EventTypes {
                            19479 ; 191  |        struct CMessage msg;
                            19480 ; 192  |        struct Button Button ;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 323

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19481 ; 193  |        struct Message Message;
                            19482 ; 194  |};
                            19483 ; 195  |
                            19484 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            19485 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            19486 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            19487 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            19488 ; 200  |
                            19489 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            19490 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            19491 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            19492 ; 204  |
                            19493 ; 205  |#if DEBUG
                            19494 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            19495 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            19496 ; 208  |#else 
                            19497 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            19498 ; 210  |#define DebugBuildAssert(x)    
                            19499 ; 211  |#endif
                            19500 ; 212  |
                            19501 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            19502 ; 214  |//  #pragma asm
                            19503 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            19504 ; 216  |//  #pragma endasm
                            19505 ; 217  |
                            19506 ; 218  |
                            19507 ; 219  |#ifdef COLOR_262K
                            19508 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            19509 ; 221  |#elif defined(COLOR_65K)
                            19510 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            19511 ; 223  |#else
                            19512 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            19513 ; 225  |#endif
                            19514 ; 226  |    
                            19515 ; 227  |#endif // #ifndef _TYPES_H
                            19516 
                            19518 
                            19519 ; 31   |
                            19520 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19521 ; 33   |//   USB2.0 STMP Registers 
                            19522 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19523 ; 35   |#define HW_USB_BASEADDR (0xF200)
                            19524 ; 36   |
                            19525 ; 37   |
                            19526 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            19527 ; 39   |//  USB Control Status Register (HW_USBCSR) Bit Definitions
                            19528 ; 40   |#define HW_USBCSR_USBEN_BITPOS (0)
                            19529 ; 41   |#define HW_USBCSR_WAKEUPIRQ_BITPOS (1)
                            19530 ; 42   |#define HW_USBCSR_WAKEUPIE_BITPOS (2)
                            19531 ; 43   |#define HW_USBCSR_VBUSCXIRQ_BITPOS (3)
                            19532 ; 44   |#define HW_USBCSR_VBUSCXIE_BITPOS (4)
                            19533 ; 45   |#define HW_USBCSR_VBUSDISCXIRQ_BITPOS (5)
                            19534 ; 46   |#define HW_USBCSR_VBUSDISCXIE_BITPOS (6)
                            19535 ; 47   |#define HW_USBCSR_CLKOFF_BITPOS (7)
                            19536 ; 48   |#define HW_USBCSR_SUSP_BITPOS (8)
                            19537 ; 49   |#define HW_USBCSR_SUSPF_BITPOS (9)
                            19538 ; 50   |#define HW_USBCSR_UTMITST_BITPOS (10)
                            19539 ; 51   |#define HW_USBCSR_UTMI_EXT_BITPOS (11)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 324

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19540 ; 52   |#define HW_USBCSR_PLUGGEDIN_EN_BITPOS (12)
                            19541 ; 53   |#define HW_USBCSR_PLUGGEDIN_BITPOS (13)
                            19542 ; 54   |#define HW_USBCSR_HOSTDISCONNECT_BITPOS (22)
                            19543 ; 55   |#define HW_USBCSR_VBUSSENSE_BITPOS (23)
                            19544 ; 56   |
                            19545 ; 57   |#define HW_USBCSR_USBEN_SETMASK (1<<HW_USBCSR_USBEN_BITPOS)        
                            19546 ; 58   |#define HW_USBCSR_WAKEUPIRQ_SETMASK (1<<HW_USBCSR_WAKEUPIRQ_BITPOS) 
                            19547 ; 59   |#define HW_USBCSR_WAKEUPIE_SETMASK (1<<HW_USBCSR_WAKEUPIE_BITPOS)  
                            19548 ; 60   |#define HW_USBCSR_VBUSCXIRQ_SETMASK (1<<HW_USBCSR_VBUSCXIRQ_BITPOS)
                            19549 ; 61   |#define HW_USBCSR_VBUSCXIE_SETMASK (1<<HW_USBCSR_VBUSCXIE_BITPOS)
                            19550 ; 62   |#define HW_USBCSR_VBUSDISCXIRQ_SETMASK (1<<HW_USBCSR_VBUSDISCXIRQ_BITPOS)
                            19551 ; 63   |#define HW_USBCSR_VBUSDISCXIE_SETMASK (1<<HW_USBCSR_VBUSDISCXIE_BITPOS)
                            19552 ; 64   |#define HW_USBCSR_CLKOFF_SETMASK (1<<HW_USBCSR_CLKOFF_BITPOS)    
                            19553 ; 65   |#define HW_USBCSR_SUSP_SETMASK (1<<HW_USBCSR_SUSP_BITPOS)      
                            19554 ; 66   |#define HW_USBCSR_SUSPF_SETMASK (1<<HW_USBCSR_SUSPF_BITPOS)     
                            19555 ; 67   |#define HW_USBCSR_UTMITST_SETMASK (1<<HW_USBCSR_UTMITST_BITPOS)   
                            19556 ; 68   |#define HW_USBCSR_UTMI_EXT_SETMASK (1<<HW_USBCSR_UTMI_EXT_BITPOS)
                            19557 ; 69   |#define HW_USBCSR_VBUSSENSE_SETMASK (1<<HW_USBCSR_VBUSSENSE_BITPOS)
                            19558 ; 70   |
                            19559 ; 71   |
                            19560 ; 72   |#define HW_USBCSR_USBEN_CLRMASK (~(WORD)HW_USBCSR_USBEN_SETMASK)     
                            19561 ; 73   |#define HW_USBCSR_WAKEUPIRQ_CLRMASK (~(WORD)HW_USBCSR_WAKEUPIRQ_SETMASK) 
                            19562 ; 74   |#define HW_USBCSR_WAKEUPIE_CLRMASK (~(WORD)HW_USBCSR_WAKEUPIE_SETMASK)  
                            19563 ; 75   |#define HW_USBCSR_VBUSCXIRQ_CLRMASK (~(WORD)HW_USBCSR_VBUSCXIRQ_SETMASK)
                            19564 ; 76   |#define HW_USBCSR_VBUSCXIE_CLRMASK (~(WORD)HW_USBCSR_VBUSCXIE_SETMASK)
                            19565 ; 77   |#define HW_USBCSR_VBUSDISCXIRQ_CLRMASK (~(WORD)HW_USBCSR_VBUSDISCXIRQ_SETMASK)
                            19566 ; 78   |#define HW_USBCSR_VBUSDISCXIE_CLRMASK (~(WORD)HW_USBCSR_VBUSDISCXIE_SETMASK) 
                            19567 ; 79   |#define HW_USBCSR_CLKOFF_CLRMASK (~(WORD)HW_USBCSR_CLKOFF_SETMASK)    
                            19568 ; 80   |#define HW_USBCSR_SUSP_CLRMASK (~(WORD)HW_USBCSR_SUSP_SETMASK)      
                            19569 ; 81   |#define HW_USBCSR_SUSPF_CLRMASK (~(WORD)HW_USBCSR_SUSPF_SETMASK)     
                            19570 ; 82   |#define HW_USBCSR_UTMITST_CLRMASK (~(WORD)HW_USBCSR_UTMITST_SETMASK)   
                            19571 ; 83   |#define HW_USBCSR_UTMI_EXT_CLRMASK (~(WORD)HW_USBCSR_UTMI_EXT_SETMASK) 
                            19572 ; 84   |#define HW_USBCSR_VBUSSENSE_CLRMASK (~(WORD)HW_USBCSR_VBUSSENSE_SETMASK) 
                            19573 ; 85   |
                            19574 ; 86   |typedef union               
                            19575 ; 87   |{
                            19576 ; 88   |    struct {
                            19577 ; 89   |        int USBEN          :1;
                            19578 ; 90   |        int WAKEUPIRQ      :1;
                            19579 ; 91   |        int WAKEUPIE       :1;
                            19580 ; 92   |        int VBUSCXIRQ      :1;
                            19581 ; 93   |        int VBUSCXIE       :1;
                            19582 ; 94   |        int VBUSDISCXIRQ   :1;
                            19583 ; 95   |        int VBUSDISCXIE    :1;
                            19584 ; 96   |        int CLKOFF         :1;
                            19585 ; 97   |        int SUSP           :1;
                            19586 ; 98   |        int SUSPF          :1;
                            19587 ; 99   |        int UTMITST        :1;
                            19588 ; 100  |        int ARCCONNECT     :1;
                            19589 ; 101  |        int PLUGGEDIN_EN   :1;
                            19590 ; 102  |        int PLUGGEDIN      :1;
                            19591 ; 103  |        int                :8;
                            19592 ; 104  |        int HOSTDISCONNECT :1;
                            19593 ; 105  |        int VBUSSENSE      :1;
                            19594 ; 106  |    } B;
                            19595 ; 107  |    int I;
                            19596 ; 108  |} usbcsr_type;
                            19597 ; 109  |#define HW_USBCSR      (*(volatile usbcsr_type _X*) (HW_USB_BASEADDR))    /* USB Control /
                                   Status Register */
                            19598 ; 110  |
                            19599 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            19600 ; 112  |//  USB DMA OFFSET register (HW_USBDMAOFF) Bit Definitions
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 325

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19601 ; 113  |#define HW_USBDMAOFF_MEM_BITPOS (16)
                            19602 ; 114  |
                            19603 ; 115  |#define HW_USBDMAOFF_ADD_SETMASK (0x00FFFF)
                            19604 ; 116  |#define HW_USBDMAOFF_MEM_SETMASK (3<<HW_USBDMAOFF_MEM_BITPOS)
                            19605 ; 117  |
                            19606 ; 118  |#define HW_USBDMAOFF_ADD_CLRMASK (~(WORD)HW_USBDMAOFF_ADD_SETMASK)
                            19607 ; 119  |#define HW_USBDMAOFF_MEM_CLRMASK (~(WORD)HW_USBDMAOFF_MEM_SETMASK)
                            19608 ; 120  |
                            19609 ; 121  |typedef union               
                            19610 ; 122  |{
                            19611 ; 123  |    struct {
                            19612 ; 124  |        int ADD            :16;
                            19613 ; 125  |        int MEM            :2;
                            19614 ; 126  |        int                :6;
                            19615 ; 127  |    } B;
                            19616 ; 128  |    int I;
                            19617 ; 129  |} usbdmaoff_type;
                            19618 ; 130  |#define HW_USBDMAOFF      (*(volatile usbdmaoff_type _X*) (HW_USB_BASEADDR+1))    
                            19619 ; 131  |
                            19620 ; 132  |/////////////////////////////////////////////////////////////////////////////////
                            19621 ; 133  |//  USB ARC ACCESS register (HW_USBARCACCESS) Bit Definitions
                            19622 ; 134  |#define HW_USBARCACCESS_RWB_BITPOS (16)
                            19623 ; 135  |#define HW_USBARCACCESS_KICK_BITPOS (23)
                            19624 ; 136  |
                            19625 ; 137  |#define HW_USBARCACCESS_ADD_SETMASK (0x0001FF)
                            19626 ; 138  |#define HW_USBARCACCESS_RWB_SETMASK (1<<HW_USBARCACCESS_RWB_BITPOS)
                            19627 ; 139  |#define HW_USBARCACCESS_KICK_SETMASK (23<<HW_USBDMAOFF_MEM_BITPOS)
                            19628 ; 140  |
                            19629 ; 141  |#define HW_USBARCACCESS_ADD_CLRMASK (~(WORD)HW_USBARCACCESS_ADD_SETMASK)
                            19630 ; 142  |#define HW_USBARCACCESS_RWB_CLRMASK (~(WORD)HW_USBARCACCESS_RWB_SETMASK) 
                            19631 ; 143  |#define HW_USBARCACCESS_KICK_CLRMASK (~(WORD)HW_USBARCACCESS_KICK_SETMASK)
                            19632 ; 144  |
                            19633 ; 145  |typedef union               
                            19634 ; 146  |{
                            19635 ; 147  |    struct {
                            19636 ; 148  |        int ADD            :9;
                            19637 ; 149  |        int                :7;
                            19638 ; 150  |        int RWB            :1;
                            19639 ; 151  |        int                :14;
                            19640 ; 152  |        int KICK           :1;
                            19641 ; 153  |    } B;
                            19642 ; 154  |    int I;
                            19643 ; 155  |} usbarcaccess_type;
                            19644 ; 156  |#define HW_USBARCACCESS      (*(volatile usbarcaccess_type _X*) (HW_USB_BASEADDR+2))    
                            19645 ; 157  |
                            19646 ; 158  |/////////////////////////////////////////////////////////////////////////////////
                            19647 ; 159  |//  USB ARC DATA LOW register (HW_USBARCDATALOW) Bit Definitions
                            19648 ; 160  |#define HW_USBARCDATALOW_DATA_SETMASK (0x00FFFF)
                            19649 ; 161  |
                            19650 ; 162  |#define HW_USBARCDATALOW_ADD_CLRMASK (~(WORD)HW_USBARCDATALOW_DATA_SETMASK)
                            19651 ; 163  |
                            19652 ; 164  |typedef union               
                            19653 ; 165  |{
                            19654 ; 166  |    struct {
                            19655 ; 167  |        int DATA           :16;
                            19656 ; 168  |        int                :8;
                            19657 ; 169  |    } B;
                            19658 ; 170  |    int I;
                            19659 ; 171  |} usbarcdatalow_type;
                            19660 ; 172  |#define HW_USBARCDATALOW      (*(volatile usbarcdatalow_type _X*) (HW_USB_BASEADDR+3))    
                                  
                            19661 ; 173  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 326

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19662 ; 174  |/////////////////////////////////////////////////////////////////////////////////
                            19663 ; 175  |//  USB ARC DATA HIGH register (HW_USBARCDATAHIGH) Bit Definitions
                            19664 ; 176  |#define HW_USBARCDATAHIGH_DATA_SETMASK (0x00FFFF)
                            19665 ; 177  |
                            19666 ; 178  |#define HW_USBARCDATAHIGH_ADD_CLRMASK (~(WORD)HW_USBARCDATAHIGH_DATA_SETMASK)
                            19667 ; 179  |
                            19668 ; 180  |typedef union               
                            19669 ; 181  |{
                            19670 ; 182  |    struct {
                            19671 ; 183  |        int DATA           :16;
                            19672 ; 184  |        int                :8;
                            19673 ; 185  |    } B;
                            19674 ; 186  |    int I;
                            19675 ; 187  |} usbarcdatahigh_type;
                            19676 ; 188  |#define HW_USBARCDATAHIGH     (*(volatile usbarcdatahigh_type _X*) (HW_USB_BASEADDR+4))   
                                   
                            19677 ; 189  |
                            19678 ; 190  |
                            19679 ; 191  |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19680 ; 192  |//   USB2.0 ARC Registers 
                            19681 ; 193  |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19682 ; 194  |#define HW_ARC_BASE_ADDR (0x0000)
                            19683 ; 195  |
                            19684 ; 196  |#define HW_ARC_HCSPARAMS (HW_ARC_BASE_ADDR+0x104)
                            19685 ; 197  |#define HW_ARC_USBCMD (HW_ARC_BASE_ADDR+0x140)
                            19686 ; 198  |#define HW_ARC_USBSTS (HW_ARC_BASE_ADDR+0x144)
                            19687 ; 199  |#define HW_ARC_USBINTR (HW_ARC_BASE_ADDR+0x148)
                            19688 ; 200  |#define HW_ARC_DEVADDR (HW_ARC_BASE_ADDR+0x154)
                            19689 ; 201  |#define HW_ARC_ENDPTLISTADDR (HW_ARC_BASE_ADDR+0x158)
                            19690 ; 202  |#define HW_ARC_PORTSC1 (HW_ARC_BASE_ADDR+0x184)
                            19691 ; 203  |#define HW_ARC_USBMODE (HW_ARC_BASE_ADDR+0x1a8)
                            19692 ; 204  |#define HW_ARC_ENDPTSETUPSTAT (HW_ARC_BASE_ADDR+0x1ac)
                            19693 ; 205  |#define HW_ARC_ENDPTPRIME (HW_ARC_BASE_ADDR+0x1b0)
                            19694 ; 206  |#define HW_ARC_ENDPTFLUSH (HW_ARC_BASE_ADDR+0x1b4)
                            19695 ; 207  |#define HW_ARC_ENDPTSTATUS (HW_ARC_BASE_ADDR+0x1b8)
                            19696 ; 208  |#define HW_ARC_ENDPTCOMPLETE (HW_ARC_BASE_ADDR+0x1bc)
                            19697 ; 209  |#define HW_ARC_ENDPTCTRL0 (HW_ARC_BASE_ADDR+0x1c0)
                            19698 ; 210  |#define HW_ARC_ENDPTCTRL1 (HW_ARC_BASE_ADDR+0x1c4)
                            19699 ; 211  |#define HW_ARC_ENDPTCTRL2 (HW_ARC_BASE_ADDR+0x1c8)
                            19700 ; 212  |#define HW_ARC_ENDPTCTRL3 (HW_ARC_BASE_ADDR+0x1cc)
                            19701 ; 213  |#define HW_ARC_ENDPTCTRL4 (HW_ARC_BASE_ADDR+0x1d0)
                            19702 ; 214  |#define HW_ARC_ENDPTCTRL5 (HW_ARC_BASE_ADDR+0x1d4)
                            19703 ; 215  |#define HW_ARC_ENDPTCTRL6 (HW_ARC_BASE_ADDR+0x1d8)
                            19704 ; 216  |#define HW_ARC_ENDPTCTRL7 (HW_ARC_BASE_ADDR+0x1dc)
                            19705 ; 217  |#define HW_ARC_ENDPTCTRL8 (HW_ARC_BASE_ADDR+0x1e0)
                            19706 ; 218  |#define HW_ARC_ENDPTCTRL9 (HW_ARC_BASE_ADDR+0x1e4)
                            19707 ; 219  |#define HW_ARC_ENDPTCTRL10 (HW_ARC_BASE_ADDR+0x1e8)
                            19708 ; 220  |#define HW_ARC_ENDPTCTRL11 (HW_ARC_BASE_ADDR+0x1ec)
                            19709 ; 221  |#define HW_ARC_ENDPTCTRL12 (HW_ARC_BASE_ADDR+0x1f0)
                            19710 ; 222  |#define HW_ARC_ENDPTCTRL13 (HW_ARC_BASE_ADDR+0x1f4)
                            19711 ; 223  |#define HW_ARC_ENDPTCTRL14 (HW_ARC_BASE_ADDR+0x1f8)
                            19712 ; 224  |#define HW_ARC_ENDPTCTRL15 (HW_ARC_BASE_ADDR+0x1fc)
                            19713 ; 225  |
                            19714 ; 226  |#define HW_ARC_ENDPTCTRL(n) (HW_ARC_ENDPTCTRL0+((n)*4))    
                            19715 ; 227  |/////////////////////////////////////////////////////////////////////////////////
                            19716 ; 228  |//  USB ARC Register Host Control Structural Parameters (HW_ARC_HCSPARAMS)
                            19717 ; 229  |
                            19718 ; 230  |#define HW_ARC_HCSPARAMS_NPORTS_BITPOS (0)
                            19719 ; 231  |#define HW_ARC_HCSPARAMS_PPC_BITPOS (4)
                            19720 ; 232  |#define HW_ARC_HCSPARAMS_NPCC_BITPOS (8)
                            19721 ; 233  |#define HW_ARC_HCSPARAMS_NCC_BITPOS (12)
                            19722 ; 234  |#define HW_ARC_HCSPARAMS_PI_BITPOS (16)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 327

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19723 ; 235  |#define HW_ARC_HCSPARAMS_NPTT_BITPOS (20)
                            19724 ; 236  |#define HW_ARC_HCSPARAMS_NTT_BITPOS (24)
                            19725 ; 237  |
                            19726 ; 238  |#define HW_ARC_HCSPARAMS_NPORTS_SETMASK (15<<HW_ARC_HCSPARAMS_NPORTS_BITPOS)
                            19727 ; 239  |#define HW_ARC_HCSPARAMS_PPC_SETMASK (1<<HW_ARC_HCSPARAMS_PPC_BITPOS)        
                            19728 ; 240  |#define HW_ARC_HCSPARAMS_NPCC_SETMASK (15<<HW_ARC_HCSPARAMS_NPCC_BITPOS)  
                            19729 ; 241  |#define HW_ARC_HCSPARAMS_NCC_SETMASK (15<<HW_ARC_HCSPARAMS_NCC_BITPOS)       
                            19730 ; 242  |#define HW_ARC_HCSPARAMS_PI_SETMASK (1<<HW_ARC_HCSPARAMS_PI_BITPOS)     
                            19731 ; 243  |#define HW_ARC_HCSPARAMS_NPTT_SETMASK (15<<HW_ARC_HCSPARAMS_NPTT_BITPOS)  
                            19732 ; 244  |#define HW_ARC_HCSPARAMS_NTT_SETMASK (15<<HW_ARC_HCSPARAMS_NTT_BITPOS)       
                            19733 ; 245  |
                            19734 ; 246  |#define HW_ARC_HCSPARAMS_NPORTS_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPORTS_SETMASK)
                            19735 ; 247  |#define HW_ARC_HCSPARAMS_PPC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_PPC_SETMASK)
                            19736 ; 248  |#define HW_ARC_HCSPARAMS_NPCC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPCC_SETMASK)
                            19737 ; 249  |#define HW_ARC_HCSPARAMS_NCC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NCC_SETMASK)
                            19738 ; 250  |#define HW_ARC_HCSPARAMS_PI_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_PI_SETMASK)  
                            19739 ; 251  |#define HW_ARC_HCSPARAMS_NPTT_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPTT_SETMASK)
                            19740 ; 252  |#define HW_ARC_HCSPARAMS_NTT_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NTT_SETMASK)
                            19741 ; 253  |
                            19742 ; 254  |typedef union               
                            19743 ; 255  |{
                            19744 ; 256  |    struct {
                            19745 ; 257  |        int N_PORTS         :4;
                            19746 ; 258  |        int PPC             :1;
                            19747 ; 259  |        int                 :3;
                            19748 ; 260  |        int N_PCC           :4;
                            19749 ; 261  |        int N_CC            :4;
                            19750 ; 262  |        int PI              :1;
                            19751 ; 263  |        int                 :3;
                            19752 ; 264  |        int N_PTT           :4;
                            19753 ; 265  |        int N_TT            :4;
                            19754 ; 266  |        int                 :20;
                            19755 ; 267  |    } B;
                            19756 ; 268  |    DWORD I;
                            19757 ; 269  |} hcsparams_type;
                            19758 ; 270  |// #define HW_ARC_HCSPARAMS (*(volatile hcsparams_type _X*) (HW_ARC_BASEADDR))    
                            19759 ; 271  |
                            19760 ; 272  |/////////////////////////////////////////////////////////////////////////////////
                            19761 ; 273  |//  USB ARC Register USB Command (HW_ARC_USBCMD)
                            19762 ; 274  |
                            19763 ; 275  |#define HW_ARC_USBCMD_RS_BITPOS (0)
                            19764 ; 276  |#define HW_ARC_USBCMD_RST_BITPOS (1)
                            19765 ; 277  |#define HW_ARC_USBCMD_FS0_BITPOS (2)
                            19766 ; 278  |#define HW_ARC_USBCMD_FS1_BITPOS (3)
                            19767 ; 279  |#define HW_ARC_USBCMD_PSE_BITPOS (4)
                            19768 ; 280  |#define HW_ARC_USBCMD_ASE_BITPOS (5)
                            19769 ; 281  |#define HW_ARC_USBCMD_IAA_BITPOS (6)
                            19770 ; 282  |#define HW_ARC_USBCMD_LR_BITPOS (7)
                            19771 ; 283  |#define HW_ARC_USBCMD_ASP0_BITPOS (8)
                            19772 ; 284  |#define HW_ARC_USBCMD_ASP1_BITPOS (9)
                            19773 ; 285  |#define HW_ARC_USBCMD_ASPE_BITPOS (11)
                            19774 ; 286  |#define HW_ARC_USBCMD_FS2_BITPOS (15)
                            19775 ; 287  |#define HW_ARC_USBCMD_ITC_BITPOS (16)
                            19776 ; 288  |
                            19777 ; 289  |#define HW_ARC_USBCMD_RS_SETMASK (1<<HW_ARC_USBCMD_RS_BITPOS)                
                            19778 ; 290  |#define HW_ARC_USBCMD_RST_SETMASK (1<<HW_ARC_USBCMD_RST_BITPOS)   
                            19779 ; 291  |#define HW_ARC_USBCMD_FS0_SETMASK (1<<HW_ARC_USBCMD_FS0_BITPOS)   
                            19780 ; 292  |#define HW_ARC_USBCMD_FS1_SETMASK (1<<HW_ARC_USBCMD_FS1_BITPOS)   
                            19781 ; 293  |#define HW_ARC_USBCMD_PSE_SETMASK (1<<HW_ARC_USBCMD_PSE_BITPOS)   
                            19782 ; 294  |#define HW_ARC_USBCMD_ASE_SETMASK (1<<HW_ARC_USBCMD_ASE_BITPOS)   
                            19783 ; 295  |#define HW_ARC_USBCMD_IAA_SETMASK (1<<HW_ARC_USBCMD_IAA_BITPOS)   
                            19784 ; 296  |#define HW_ARC_USBCMD_LR_SETMASK (1<<HW_ARC_USBCMD_LR_BITPOS)        
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 328

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19785 ; 297  |#define HW_ARC_USBCMD_ASP0_SETMASK (1<<HW_ARC_USBCMD_ASP0_BITPOS)
                            19786 ; 298  |#define HW_ARC_USBCMD_ASP1_SETMASK (1<<HW_ARC_USBCMD_ASP1_BITPOS)
                            19787 ; 299  |#define HW_ARC_USBCMD_ASPE_SETMASK (1<<HW_ARC_USBCMD_ASPE_BITPOS)
                            19788 ; 300  |#define HW_ARC_USBCMD_FS2_SETMASK (1<<HW_ARC_USBCMD_FS2_BITPOS)    
                            19789 ; 301  |#define HW_ARC_USBCMD_ITC_SETMASK (255<<HW_ARC_USBCMD_ITC_BITPOS)
                            19790 ; 302  |
                            19791 ; 303  |#define HW_ARC_USBCMD_RS_CLRMASK (~(WORD)HW_ARC_USBCMD_RS_SETMASK)     
                            19792 ; 304  |#define HW_ARC_USBCMD_RST_CLRMASK (~(WORD)HW_ARC_USBCMD_RST_SETMASK)    
                            19793 ; 305  |#define HW_ARC_USBCMD_FS0_CLRMASK (~(WORD)HW_ARC_USBCMD_FS0_SETMASK)    
                            19794 ; 306  |#define HW_ARC_USBCMD_FS1_CLRMASK (~(WORD)HW_ARC_USBCMD_FS1_SETMASK)    
                            19795 ; 307  |#define HW_ARC_USBCMD_PSE_CLRMASK (~(WORD)HW_ARC_USBCMD_PSE_SETMASK)    
                            19796 ; 308  |#define HW_ARC_USBCMD_ASE_CLRMASK (~(WORD)HW_ARC_USBCMD_ASE_SETMASK)    
                            19797 ; 309  |#define HW_ARC_USBCMD_IAA_CLRMASK (~(WORD)HW_ARC_USBCMD_IAA_SETMASK)    
                            19798 ; 310  |#define HW_ARC_USBCMD_LR_CLRMASK (~(WORD)HW_ARC_USBCMD_LR_SETMASK) 
                            19799 ; 311  |#define HW_ARC_USBCMD_ASP0_CLRMASK (~(WORD)HW_ARC_USBCMD_ASP0_SETMASK)
                            19800 ; 312  |#define HW_ARC_USBCMD_ASP1_CLRMASK (~(WORD)HW_ARC_USBCMD_ASP1_SETMASK)
                            19801 ; 313  |#define HW_ARC_USBCMD_ASPE_CLRMASK (~(WORD)HW_ARC_USBCMD_ASPE_SETMASK)
                            19802 ; 314  |#define HW_ARC_USBCMD_FS2_CLRMASK (~(WORD)HW_ARC_USBCMD_FS2_SETMASK)    
                            19803 ; 315  |#define HW_ARC_USBCMD_ITC_CLRMASK (~(WORD)HW_ARC_USBCMD_ITC_SETMASK)    
                            19804 ; 316  |
                            19805 ; 317  |typedef union               
                            19806 ; 318  |{
                            19807 ; 319  |    struct {
                            19808 ; 320  |        int RS              :1;
                            19809 ; 321  |        int RST             :1;
                            19810 ; 322  |        int FS0             :1;
                            19811 ; 323  |        int FS1             :1;
                            19812 ; 324  |        int PSE             :1;
                            19813 ; 325  |        int ASE             :1;
                            19814 ; 326  |        int IAA             :1;
                            19815 ; 327  |        int LR              :1;
                            19816 ; 328  |        int ASP0            :1;
                            19817 ; 329  |        int ASP1            :1;
                            19818 ; 330  |        int                 :1;
                            19819 ; 331  |        int ASPE            :1;
                            19820 ; 332  |        int                 :3;
                            19821 ; 333  |        int FS2             :1;
                            19822 ; 334  |        int ITC             :8;
                            19823 ; 335  |        int                 :24;
                            19824 ; 336  |    } B;
                            19825 ; 337  |    DWORD I;
                            19826 ; 338  |} usbcmd_type;
                            19827 ; 339  |//#define HW_ARC_USBCMD ((volatile usbcmd_type _X*) (HW_ARC_BASEADDR+0x140))    
                            19828 ; 340  |
                            19829 ; 341  |/////////////////////////////////////////////////////////////////////////////////
                            19830 ; 342  |//  USB ARC Register USB Status (HW_ARC_USBSTS)
                            19831 ; 343  |
                            19832 ; 344  |#define HW_ARC_USBSTS_UI_BITPOS (0)
                            19833 ; 345  |#define HW_ARC_USBSTS_UEI_BITPOS (1)
                            19834 ; 346  |#define HW_ARC_USBSTS_PCI_BITPOS (2)
                            19835 ; 347  |#define HW_ARC_USBSTS_FRI_BITPOS (3)
                            19836 ; 348  |#define HW_ARC_USBSTS_SEI_BITPOS (4)
                            19837 ; 349  |#define HW_ARC_USBSTS_AAI_BITPOS (5)
                            19838 ; 350  |#define HW_ARC_USBSTS_URI_BITPOS (6)
                            19839 ; 351  |#define HW_ARC_USBSTS_SRI_BITPOS (7)
                            19840 ; 352  |#define HW_ARC_USBSTS_SLI_BITPOS (8)
                            19841 ; 353  |#define HW_ARC_USBSTS_HCH_BITPOS (12)
                            19842 ; 354  |#define HW_ARC_USBSTS_RCL_BITPOS (13)
                            19843 ; 355  |#define HW_ARC_USBSTS_PS_BITPOS (14)
                            19844 ; 356  |#define HW_ARC_USBSTS_AS_BITPOS (15)
                            19845 ; 357  |
                            19846 ; 358  |#define HW_ARC_USBSTS_UI_SETMASK (1<<HW_ARC_USBSTS_UI_BITPOS)    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 329

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19847 ; 359  |#define HW_ARC_USBSTS_UEI_SETMASK (1<<HW_ARC_USBSTS_UEI_BITPOS)
                            19848 ; 360  |#define HW_ARC_USBSTS_PCI_SETMASK (1<<HW_ARC_USBSTS_PCI_BITPOS)
                            19849 ; 361  |#define HW_ARC_USBSTS_FRI_SETMASK (1<<HW_ARC_USBSTS_FRI_BITPOS)
                            19850 ; 362  |#define HW_ARC_USBSTS_SEI_SETMASK (1<<HW_ARC_USBSTS_SEI_BITPOS)
                            19851 ; 363  |#define HW_ARC_USBSTS_AAI_SETMASK (1<<HW_ARC_USBSTS_AAI_BITPOS)
                            19852 ; 364  |#define HW_ARC_USBSTS_URI_SETMASK (1<<HW_ARC_USBSTS_URI_BITPOS)
                            19853 ; 365  |#define HW_ARC_USBSTS_SRI_SETMASK (1<<HW_ARC_USBSTS_SRI_BITPOS)
                            19854 ; 366  |#define HW_ARC_USBSTS_SLI_SETMASK (1<<HW_ARC_USBSTS_SLI_BITPOS)
                            19855 ; 367  |#define HW_ARC_USBSTS_HCH_SETMASK (1<<HW_ARC_USBSTS_HCH_BITPOS)
                            19856 ; 368  |#define HW_ARC_USBSTS_RCL_SETMASK (1<<HW_ARC_USBSTS_RCL_BITPOS)
                            19857 ; 369  |#define HW_ARC_USBSTS_PS_SETMASK (1<<HW_ARC_USBSTS_PS_BITPOS)    
                            19858 ; 370  |#define HW_ARC_USBSTS_AS_SETMASK (1<<HW_ARC_USBSTS_AS_BITPOS)    
                            19859 ; 371  |
                            19860 ; 372  |#define HW_ARC_USBSTS_UI_CLRMASK (~(WORD)HW_ARC_USBSTS_UI_SETMASK)
                            19861 ; 373  |#define HW_ARC_USBSTS_UEI_CLRMASK (~(WORD)HW_ARC_USBSTS_UEI_SETMASK)
                            19862 ; 374  |#define HW_ARC_USBSTS_PCI_CLRMASK (~(WORD)HW_ARC_USBSTS_PCI_SETMASK)
                            19863 ; 375  |#define HW_ARC_USBSTS_FRI_CLRMASK (~(WORD)HW_ARC_USBSTS_FRI_SETMASK)
                            19864 ; 376  |#define HW_ARC_USBSTS_SEI_CLRMASK (~(WORD)HW_ARC_USBSTS_SEI_SETMASK)
                            19865 ; 377  |#define HW_ARC_USBSTS_AAI_CLRMASK (~(WORD)HW_ARC_USBSTS_AAI_SETMASK)
                            19866 ; 378  |#define HW_ARC_USBSTS_URI_CLRMASK (~(WORD)HW_ARC_USBSTS_URI_SETMASK)
                            19867 ; 379  |#define HW_ARC_USBSTS_SRI_CLRMASK (~(WORD)HW_ARC_USBSTS_SRI_SETMASK)
                            19868 ; 380  |#define HW_ARC_USBSTS_SLI_CLRMASK (~(WORD)HW_ARC_USBSTS_SLI_SETMASK)
                            19869 ; 381  |#define HW_ARC_USBSTS_HCH_CLRMASK (~(WORD)HW_ARC_USBSTS_HCH_SETMASK)
                            19870 ; 382  |#define HW_ARC_USBSTS_RCL_CLRMASK (~(WORD)HW_ARC_USBSTS_RCL_SETMASK)
                            19871 ; 383  |#define HW_ARC_USBSTS_PS_CLRMASK (~(WORD)HW_ARC_USBSTS_PS_SETMASK)
                            19872 ; 384  |#define HW_ARC_USBSTS_AS_CLRMASK (~(WORD)HW_ARC_USBSTS_AS_SETMASK)
                            19873 ; 385  |
                            19874 ; 386  |
                            19875 ; 387  |typedef union               
                            19876 ; 388  |{
                            19877 ; 389  |    struct {
                            19878 ; 390  |        int UI              :1;
                            19879 ; 391  |        int UEI             :1;
                            19880 ; 392  |        int PCI             :1;
                            19881 ; 393  |        int FRI             :1;
                            19882 ; 394  |        int SEI             :1;
                            19883 ; 395  |        int AAI             :1;
                            19884 ; 396  |        int URI             :1;
                            19885 ; 397  |        int STI             :1;
                            19886 ; 398  |        int SLI             :1;
                            19887 ; 399  |        int                 :3;
                            19888 ; 400  |        int HCH             :1;
                            19889 ; 401  |        int RCL             :1;
                            19890 ; 402  |        int PS              :1;
                            19891 ; 403  |        int AS              :1;
                            19892 ; 404  |        int                 :24;
                            19893 ; 405  |    } B;
                            19894 ; 406  |    DWORD I;
                            19895 ; 407  |} usbsts_type;
                            19896 ; 408  |//#define HW_ARC_USBSTS (*(volatile usbsts_type _X*) (HW_ARC_BASEADDR+0x144))    
                            19897 ; 409  |
                            19898 ; 410  |/////////////////////////////////////////////////////////////////////////////////
                            19899 ; 411  |//  USB ARC Register USB Interrupt Enable (HW_ARC_USBINTR)
                            19900 ; 412  |
                            19901 ; 413  |#define HW_ARC_USBINTR_UE_BITPOS (0)
                            19902 ; 414  |#define HW_ARC_USBINTR_UEE_BITPOS (1)
                            19903 ; 415  |#define HW_ARC_USBINTR_PCE_BITPOS (2)
                            19904 ; 416  |#define HW_ARC_USBINTR_FRE_BITPOS (3)
                            19905 ; 417  |#define HW_ARC_USBINTR_SEE_BITPOS (4)
                            19906 ; 418  |#define HW_ARC_USBINTR_AAE_BITPOS (5)
                            19907 ; 419  |#define HW_ARC_USBINTR_URE_BITPOS (6)
                            19908 ; 420  |#define HW_ARC_USBINTR_SRE_BITPOS (7)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 330

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19909 ; 421  |#define HW_ARC_USBINTR_SLE_BITPOS (8)
                            19910 ; 422  |
                            19911 ; 423  |#define HW_ARC_USBINTR_UE_SETMASK (1<<HW_ARC_USBINTR_UE_BITPOS)   
                            19912 ; 424  |#define HW_ARC_USBINTR_UEE_SETMASK (1<<HW_ARC_USBINTR_UEE_BITPOS)
                            19913 ; 425  |#define HW_ARC_USBINTR_PCE_SETMASK (1<<HW_ARC_USBINTR_PCE_BITPOS)
                            19914 ; 426  |#define HW_ARC_USBINTR_FRE_SETMASK (1<<HW_ARC_USBINTR_FRE_BITPOS)
                            19915 ; 427  |#define HW_ARC_USBINTR_SEE_SETMASK (1<<HW_ARC_USBINTR_SEE_BITPOS)
                            19916 ; 428  |#define HW_ARC_USBINTR_AAE_SETMASK (1<<HW_ARC_USBINTR_AAE_BITPOS)
                            19917 ; 429  |#define HW_ARC_USBINTR_URE_SETMASK (1<<HW_ARC_USBINTR_URE_BITPOS)
                            19918 ; 430  |#define HW_ARC_USBINTR_SRE_SETMASK (1<<HW_ARC_USBINTR_SRE_BITPOS)
                            19919 ; 431  |#define HW_ARC_USBINTR_SLE_SETMASK (1<<HW_ARC_USBINTR_SLE_BITPOS)
                            19920 ; 432  |
                            19921 ; 433  |#define HW_ARC_USBINTR_UE_CLRMASK (~(WORD)HW_ARC_USBINTR_UE_SETMASK)
                            19922 ; 434  |#define HW_ARC_USBINTR_UEE_CLRMASK (~(WORD)HW_ARC_USBINTR_UEE_SETMASK)
                            19923 ; 435  |#define HW_ARC_USBINTR_PCE_CLRMASK (~(WORD)HW_ARC_USBINTR_PCE_SETMASK)
                            19924 ; 436  |#define HW_ARC_USBINTR_FRE_CLRMASK (~(WORD)HW_ARC_USBINTR_FRE_SETMASK)
                            19925 ; 437  |#define HW_ARC_USBINTR_SEE_CLRMASK (~(WORD)HW_ARC_USBINTR_SEE_SETMASK)
                            19926 ; 438  |#define HW_ARC_USBINTR_AAE_CLRMASK (~(WORD)HW_ARC_USBINTR_AAE_SETMASK)
                            19927 ; 439  |#define HW_ARC_USBINTR_URE_CLRMASK (~(WORD)HW_ARC_USBINTR_URE_SETMASK)
                            19928 ; 440  |#define HW_ARC_USBINTR_SRE_CLRMASK (~(WORD)HW_ARC_USBINTR_SRE_SETMASK)
                            19929 ; 441  |#define HW_ARC_USBINTR_SLE_CLRMASK (~(WORD)HW_ARC_USBINTR_SLE_SETMASK)
                            19930 ; 442  |
                            19931 ; 443  |
                            19932 ; 444  |typedef union               
                            19933 ; 445  |{
                            19934 ; 446  |    struct {
                            19935 ; 447  |        int UE              :1;
                            19936 ; 448  |        int UEE             :1;
                            19937 ; 449  |        int PCE             :1;
                            19938 ; 450  |        int FRE             :1;
                            19939 ; 451  |        int SEE             :1;
                            19940 ; 452  |        int AAE             :1;
                            19941 ; 453  |        int URE             :1;
                            19942 ; 454  |        int STE             :1;
                            19943 ; 455  |        int SLE             :1;
                            19944 ; 456  |        int                 :39;
                            19945 ; 457  |    } B;
                            19946 ; 458  |    DWORD I;
                            19947 ; 459  |} usbintr_type;
                            19948 ; 460  |//#define HW_ARC_USBINTR (*(volatile usbintr_type _X*) (HW_ARC_BASEADDR+0x148))    
                            19949 ; 461  |
                            19950 ; 462  |
                            19951 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            19952 ; 464  |//  USB ARC Register USB Device Controller Device Address (HW_ARC_DEVADDR)
                            19953 ; 465  |
                            19954 ; 466  |#define HW_ARC_DEVADDR_ADD_BITPOS (25)
                            19955 ; 467  |
                            19956 ; 468  |#define HW_ARC_DEVADDR_ADD_SETMASK (127<<HW_ARC_DEVADDR_ADD_BITPOS)    
                            19957 ; 469  |
                            19958 ; 470  |#define HW_ARC_DEVEADDR_ADD_CLRMASK (~(WORD)HW_ARC_DEVADDR_ADD_SETMASK)   
                            19959 ; 471  |
                            19960 ; 472  |typedef union               
                            19961 ; 473  |{
                            19962 ; 474  |    struct {
                            19963 ; 475  |        int                 :25;
                            19964 ; 476  |        int ADD             :7;
                            19965 ; 477  |        int                 :16;
                            19966 ; 478  |    } B;
                            19967 ; 479  |    DWORD I;
                            19968 ; 480  |} devaddr_type;
                            19969 ; 481  |//#define HW_ARC_DEVADDR (*(volatile devaddr_type _X*) (HW_ARC_BASEADDR+0x154))    
                            19970 ; 482  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 331

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19971 ; 483  |
                            19972 ; 484  |/////////////////////////////////////////////////////////////////////////////////
                            19973 ; 485  |//  USB ARC Register USB Device Controller Endpoint List Address (HW_ARC_ENDPTLISTADDR)
                            19974 ; 486  |
                            19975 ; 487  |#define HW_ARC_ENDPTLISTADDR_ADD_BITPOS (11)
                            19976 ; 488  |
                            19977 ; 489  |#define HW_ARC_ENDPTLISTADDR_ADD_SETMASK (0x400000<<HW_ARC_ENDPTLISTADDR_ADD_BITPOS) 
                            19978 ; 490  |
                            19979 ; 491  |#define HW_ARC_ENDPTLISTADDR_ADD_CLRMASK (~(WORD)HW_ARC_ENDPTLISTADDR_ADD_SETMASK) 
                            19980 ; 492  |
                            19981 ; 493  |typedef union               
                            19982 ; 494  |{
                            19983 ; 495  |    struct {
                            19984 ; 496  |        int                 :10;
                            19985 ; 497  |        int ADD             :22;
                            19986 ; 498  |        int                 :16;
                            19987 ; 499  |    } B;
                            19988 ; 500  |    DWORD I;
                            19989 ; 501  |} endptlistaddr_type;
                            19990 ; 502  |//#define HW_ARC_ENDPTLISTADDR (*(volatile endptlistaddr_type _X*) (HW_ARC_BASEADDR+0x158)
                                  )    
                            19991 ; 503  |
                            19992 ; 504  |
                            19993 ; 505  |/////////////////////////////////////////////////////////////////////////////////
                            19994 ; 506  |//  USB ARC Register USB Port Status Control 1 (HW_ARC_PORTSC1)
                            19995 ; 507  |
                            19996 ; 508  |#define HW_ARC_PORTSC1_CCS_BITPOS (0)
                            19997 ; 509  |#define HW_ARC_PORTSC1_CSC_BITPOS (1)
                            19998 ; 510  |#define HW_ARC_PORTSC1_PE_BITPOS (2)
                            19999 ; 511  |#define HW_ARC_PORTSC1_PEC_BITPOS (3)
                            20000 ; 512  |#define HW_ARC_PORTSC1_OCA_BITPOS (4)
                            20001 ; 513  |#define HW_ARC_PORTSC1_OCC_BITPOS (5)
                            20002 ; 514  |#define HW_ARC_PORTSC1_FPR_BITPOS (6)
                            20003 ; 515  |#define HW_ARC_PORTSC1_SUSP_BITPOS (7)
                            20004 ; 516  |#define HW_ARC_PORTSC1_PR_BITPOS (8)
                            20005 ; 517  |#define HW_ARC_PORTSC1_HSP_BITPOS (9)
                            20006 ; 518  |#define HW_ARC_PORTSC1_LS_BITPOS (10)
                            20007 ; 519  |#define HW_ARC_PORTSC1_PP_BITPOS (12)
                            20008 ; 520  |#define HW_ARC_PORTSC1_PO_BITPOS (13)
                            20009 ; 521  |#define HW_ARC_PORTSC1_PIC_BITPOS (14)
                            20010 ; 522  |#define HW_ARC_PORTSC1_PTC_BITPOS (16)
                            20011 ; 523  |#define HW_ARC_PORTSC1_WKCN_BITPOS (20)
                            20012 ; 524  |#define HW_ARC_PORTSC1_WKDS_BITPOS (21)
                            20013 ; 525  |#define HW_ARC_PORTSC1_WKOC_BITPOS (22)
                            20014 ; 526  |#define HW_ARC_PORTSC1_PHCD_BITPOS (23)
                            20015 ; 527  |#define HW_ARC_PORTSC1_PFSC_BITPOS (24)
                            20016 ; 528  |#define HW_ARC_PORTSC1_PSPD_BITPOS (26)
                            20017 ; 529  |#define HW_ARC_PORTSC1_PTW_BITPOS (29)
                            20018 ; 530  |#define HW_ARC_PORTSC1_STS_BITPOS (30)
                            20019 ; 531  |#define HW_ARC_PORTSC1_PTS_BITPOS (31)
                            20020 ; 532  |
                            20021 ; 533  |#define HW_ARC_PORTSC1_CCS_SETMASK (1<<HW_ARC_PORTSC1_CCS_BITPOS)  
                            20022 ; 534  |#define HW_ARC_PORTSC1_CSC_SETMASK (1<<HW_ARC_PORTSC1_CSC_BITPOS)  
                            20023 ; 535  |#define HW_ARC_PORTSC1_PE_SETMASK (1<<HW_ARC_PORTSC1_PE_BITPOS)   
                            20024 ; 536  |#define HW_ARC_PORTSC1_PEC_SETMASK (1<<HW_ARC_PORTSC1_PEC_BITPOS)  
                            20025 ; 537  |#define HW_ARC_PORTSC1_OCA_SETMASK (1<<HW_ARC_PORTSC1_OCA_BITPOS)  
                            20026 ; 538  |#define HW_ARC_PORTSC1_OCC_SETMASK (1<<HW_ARC_PORTSC1_OCC_BITPOS)  
                            20027 ; 539  |#define HW_ARC_PORTSC1_FPR_SETMASK (1<<HW_ARC_PORTSC1_FPR_BITPOS)  
                            20028 ; 540  |#define HW_ARC_PORTSC1_SUSP_SETMASK (1<<HW_ARC_PORTSC1_SUSP_BITPOS)
                            20029 ; 541  |#define HW_ARC_PORTSC1_PR_SETMASK (1<<HW_ARC_PORTSC1_PR_BITPOS)   
                            20030 ; 542  |#define HW_ARC_PORTSC1_HSP_SETMASK (1<<HW_ARC_PORTSC1_HSP_BITPOS)  
                            20031 ; 543  |#define HW_ARC_PORTSC1_LS_SETMASK (3<<HW_ARC_PORTSC1_LS_BITPOS)   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 332

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20032 ; 544  |#define HW_ARC_PORTSC1_PP_SETMASK (1<<HW_ARC_PORTSC1_PP_BITPOS)   
                            20033 ; 545  |#define HW_ARC_PORTSC1_PO_SETMASK (1<<HW_ARC_PORTSC1_PO_BITPOS)   
                            20034 ; 546  |#define HW_ARC_PORTSC1_PIC_SETMASK (3<<HW_ARC_PORTSC1_PIC_BITPOS)  
                            20035 ; 547  |#define HW_ARC_PORTSC1_PTC_SETMASK (15<<HW_ARC_PORTSC1_PTC_BITPOS) 
                            20036 ; 548  |#define HW_ARC_PORTSC1_WKCN_SETMASK (1<<HW_ARC_PORTSC1_WKCN_BITPOS)
                            20037 ; 549  |#define HW_ARC_PORTSC1_WKDS_SETMASK (1<<HW_ARC_PORTSC1_WKDS_BITPOS)
                            20038 ; 550  |#define HW_ARC_PORTSC1_WKOC_SETMASK (1<<HW_ARC_PORTSC1_WKOC_BITPOS)
                            20039 ; 551  |#define HW_ARC_PORTSC1_PHCD_SETMASK (1<<HW_ARC_PORTSC1_PHCD_BITPOS)
                            20040 ; 552  |
                            20041 ; 553  |// We need to equate the following label like this due to a sign extension problem
                            20042 ; 554  |// if equated like so (1<<HW_ARC_PORTSC1_PFSC_SETMASK)
                            20043 ; 555  |#define HW_ARC_PORTSC1_PFSC_SETMASK (0x01000000)
                            20044 ; 556  |
                            20045 ; 557  |#define HW_ARC_PORTSC1_PSPD_SETMASK (3<<HW_ARC_PORTSC1_PSPD_BITPOS)
                            20046 ; 558  |#define HW_ARC_PORTSC1_PTW_SETMASK (1<<HW_ARC_PORTSC1_PTW_BITPOS)  
                            20047 ; 559  |#define HW_ARC_PORTSC1_STS_SETMASK (1<<HW_ARC_PORTSC1_STS_BITPOS)  
                            20048 ; 560  |#define HW_ARC_PORTSC1_PTS_SETMASK (1<<HW_ARC_PORTSC1_PTS_BITPOS)  
                            20049 ; 561  |
                            20050 ; 562  |#define HW_ARC_PORTSC1_CCS_CLRMASK (~(WORD)HW_ARC_PORTSC1_CCS_SETMASK)   
                            20051 ; 563  |#define HW_ARC_PORTSC1_CSC_CLRMASK (~(WORD)HW_ARC_PORTSC1_CSC_SETMASK)   
                            20052 ; 564  |#define HW_ARC_PORTSC1_PE_CLRMASK (~(WORD)HW_ARC_PORTSC1_PE_SETMASK)    
                            20053 ; 565  |#define HW_ARC_PORTSC1_PEC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PEC_SETMASK)   
                            20054 ; 566  |#define HW_ARC_PORTSC1_OCA_CLRMASK (~(WORD)HW_ARC_PORTSC1_OCA_SETMASK)   
                            20055 ; 567  |#define HW_ARC_PORTSC1_OCC_CLRMASK (~(WORD)HW_ARC_PORTSC1_OCC_SETMASK)   
                            20056 ; 568  |#define HW_ARC_PORTSC1_FPR_CLRMASK (~(WORD)HW_ARC_PORTSC1_FPR_SETMASK)   
                            20057 ; 569  |#define HW_ARC_PORTSC1_SUSP_CLRMASK (~(WORD)HW_ARC_PORTSC1_SUSP_SETMASK)
                            20058 ; 570  |#define HW_ARC_PORTSC1_PR_CLRMASK (~(WORD)HW_ARC_PORTSC1_PR_SETMASK)    
                            20059 ; 571  |#define HW_ARC_PORTSC1_HSP_CLRMASK (~(WORD)HW_ARC_PORTSC1_HSP_SETMASK)   
                            20060 ; 572  |#define HW_ARC_PORTSC1_LS_CLRMASK (~(WORD)HW_ARC_PORTSC1_LS_SETMASK)    
                            20061 ; 573  |#define HW_ARC_PORTSC1_PP_CLRMASK (~(WORD)HW_ARC_PORTSC1_PP_SETMASK)    
                            20062 ; 574  |#define HW_ARC_PORTSC1_PO_CLRMASK (~(WORD)HW_ARC_PORTSC1_PO_SETMASK)    
                            20063 ; 575  |#define HW_ARC_PORTSC1_PIC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PIC_SETMASK)   
                            20064 ; 576  |#define HW_ARC_PORTSC1_PTC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTC_SETMASK)   
                            20065 ; 577  |#define HW_ARC_PORTSC1_WKCN_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKCN_SETMASK)
                            20066 ; 578  |#define HW_ARC_PORTSC1_WKDS_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKDS_SETMASK)
                            20067 ; 579  |#define HW_ARC_PORTSC1_WKOC_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKOC_SETMASK)
                            20068 ; 580  |#define HW_ARC_PORTSC1_PHCD_CLRMASK (~(WORD)HW_ARC_PORTSC1_PHCD_SETMASK)
                            20069 ; 581  |#define HW_ARC_PORTSC1_PFSC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PFSC_SETMASK)
                            20070 ; 582  |#define HW_ARC_PORTSC1_PSPD_CLRMASK (~(WORD)HW_ARC_PORTSC1_PSPD_SETMASK)
                            20071 ; 583  |#define HW_ARC_PORTSC1_PTW_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTW_SETMASK)   
                            20072 ; 584  |#define HW_ARC_PORTSC1_STS_CLRMASK (~(WORD)HW_ARC_PORTSC1_STS_SETMASK)   
                            20073 ; 585  |#define HW_ARC_PORTSC1_PTS_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTS_SETMASK)   
                            20074 ; 586  |
                            20075 ; 587  |typedef union               
                            20076 ; 588  |{
                            20077 ; 589  |    struct {
                            20078 ; 590  |        int CCS             :1;
                            20079 ; 591  |        int CSC             :1;
                            20080 ; 592  |        int PE              :1;
                            20081 ; 593  |        int PEC             :1;
                            20082 ; 594  |        int OCA             :1;
                            20083 ; 595  |        int OCC             :1;
                            20084 ; 596  |        int FPR             :1;
                            20085 ; 597  |        int SUSP            :1;
                            20086 ; 598  |        int PR              :1;
                            20087 ; 599  |        int HSP             :1;
                            20088 ; 600  |        int LS              :2;
                            20089 ; 601  |        int PP              :1;
                            20090 ; 602  |        int PO              :1;
                            20091 ; 603  |        int PIC             :2;
                            20092 ; 604  |        int PTC             :4;
                            20093 ; 605  |        int WKCN            :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 333

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20094 ; 606  |        int WKDS            :1;
                            20095 ; 607  |        int WKOC            :1;
                            20096 ; 608  |        int PHCD            :1;
                            20097 ; 609  |        int PFSC            :1;
                            20098 ; 610  |        int                 :1;
                            20099 ; 611  |        int PSPD            :2;
                            20100 ; 612  |        int                 :1;
                            20101 ; 613  |        int PTW             :1;
                            20102 ; 614  |        int STS             :1;
                            20103 ; 615  |        int PTS             :1;
                            20104 ; 616  |        int                 :16;
                            20105 ; 617  |    } B;
                            20106 ; 618  |    DWORD I;
                            20107 ; 619  |} portsc1_type;
                            20108 ; 620  |//#define HW_ARC_PORTSC1 (*(volatile portsc1_type _X*) (HW_ARC_BASEADDR+0x184))    
                            20109 ; 621  |
                            20110 ; 622  |
                            20111 ; 623  |/////////////////////////////////////////////////////////////////////////////////
                            20112 ; 624  |//  USB ARC Register USB Device Mode (HW_ARC_USBMODE)
                            20113 ; 625  |
                            20114 ; 626  |#define HW_ARC_USBMODE_CM_BITPOS (0)
                            20115 ; 627  |#define HW_ARC_USBMODE_ES_BITPOS (2)
                            20116 ; 628  |
                            20117 ; 629  |#define HW_ARC_USBMODE_CM_SETMASK (3<<HW_ARC_USBMODE_CM_BITPOS)   
                            20118 ; 630  |#define HW_ARC_USBMODE_ES_SETMASK (1<<HW_ARC_USBMODE_ES_BITPOS)   
                            20119 ; 631  |
                            20120 ; 632  |#define HW_ARC_USBMODE_CM_CLRMASK (~(WORD)HW_ARC_USBMODE_CM_SETMASK) 
                            20121 ; 633  |#define HW_ARC_USBMODE_ES_CLRMASK (~(WORD)HW_ARC_USBMODE_ES_SETMASK)    
                            20122 ; 634  |
                            20123 ; 635  |typedef union               
                            20124 ; 636  |{
                            20125 ; 637  |    struct {
                            20126 ; 638  |        int CM              :2;
                            20127 ; 639  |        int ES              :1;
                            20128 ; 640  |        int                 :46;
                            20129 ; 641  |    } B;
                            20130 ; 642  |    DWORD I;
                            20131 ; 643  |} usbmode_type;
                            20132 ; 644  |//#define HW_ARC_USBMODE (*(volatile usbmode_type _X*) (HW_ARC_BASEADDR+0x1a8))    
                            20133 ; 645  |
                            20134 ; 646  |
                            20135 ; 647  |/////////////////////////////////////////////////////////////////////////////////
                            20136 ; 648  |//  The following endpoint equates are common for the following registers
                            20137 ; 649  |
                            20138 ; 650  |#define ENDPOINT0_BITPOS (0)
                            20139 ; 651  |#define ENDPOINT1_BITPOS (1)
                            20140 ; 652  |#define ENDPOINT2_BITPOS (2)
                            20141 ; 653  |#define ENDPOINT3_BITPOS (3)
                            20142 ; 654  |#define ENDPOINT4_BITPOS (4)
                            20143 ; 655  |#define ENDPOINT5_BITPOS (5)
                            20144 ; 656  |#define ENDPOINT6_BITPOS (6)
                            20145 ; 657  |#define ENDPOINT7_BITPOS (7)
                            20146 ; 658  |#define ENDPOINT8_BITPOS (8)
                            20147 ; 659  |#define ENDPOINT9_BITPOS (9)
                            20148 ; 660  |#define ENDPOINT10_BITPOS (10)
                            20149 ; 661  |#define ENDPOINT11_BITPOS (11)
                            20150 ; 662  |#define ENDPOINT12_BITPOS (12)
                            20151 ; 663  |#define ENDPOINT13_BITPOS (13)
                            20152 ; 664  |#define ENDPOINT14_BITPOS (14)
                            20153 ; 665  |#define ENDPOINT15_BITPOS (15)
                            20154 ; 666  |
                            20155 ; 667  |#define ENDPOINT0_SETMASK (1<<ENDPOINT0_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 334

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20156 ; 668  |#define ENDPOINT1_SETMASK (1<<ENDPOINT1_BITPOS)
                            20157 ; 669  |#define ENDPOINT2_SETMASK (1<<ENDPOINT2_BITPOS)
                            20158 ; 670  |#define ENDPOINT3_SETMASK (1<<ENDPOINT3_BITPOS)
                            20159 ; 671  |#define ENDPOINT4_SETMASK (1<<ENDPOINT4_BITPOS)
                            20160 ; 672  |#define ENDPOINT5_SETMASK (1<<ENDPOINT5_BITPOS)
                            20161 ; 673  |#define ENDPOINT6_SETMASK (1<<ENDPOINT6_BITPOS)
                            20162 ; 674  |#define ENDPOINT7_SETMASK (1<<ENDPOINT7_BITPOS)
                            20163 ; 675  |#define ENDPOINT8_SETMASK (1<<ENDPOINT8_BITPOS)
                            20164 ; 676  |#define ENDPOINT9_SETMASK (1<<ENDPOINT9_BITPOS)
                            20165 ; 677  |#define ENDPOINT10_SETMASK (1<<ENDPOINT10_BITPOS)
                            20166 ; 678  |#define ENDPOINT11_SETMASK (1<<ENDPOINT11_BITPOS)
                            20167 ; 679  |#define ENDPOINT12_SETMASK (1<<ENDPOINT12_BITPOS)
                            20168 ; 680  |#define ENDPOINT13_SETMASK (1<<ENDPOINT13_BITPOS)
                            20169 ; 681  |#define ENDPOINT14_SETMASK (1<<ENDPOINT14_BITPOS)
                            20170 ; 682  |#define ENDPOINT15_SETMASK (1<<ENDPOINT15_BITPOS)
                            20171 ; 683  |
                            20172 ; 684  |#define ENDPOINT0_CLRMASK (~(WORD)ENDPOINT0_SETMASK)    
                            20173 ; 685  |#define ENDPOINT1_CLRMASK (~(WORD)ENDPOINT1_SETMASK)    
                            20174 ; 686  |#define ENDPOINT2_CLRMASK (~(WORD)ENDPOINT2_SETMASK)    
                            20175 ; 687  |#define ENDPOINT3_CLRMASK (~(WORD)ENDPOINT3_SETMASK)    
                            20176 ; 688  |#define ENDPOINT4_CLRMASK (~(WORD)ENDPOINT4_SETMASK)    
                            20177 ; 689  |#define ENDPOINT5_CLRMASK (~(WORD)ENDPOINT5_SETMASK)    
                            20178 ; 690  |#define ENDPOINT6_CLRMASK (~(WORD)ENDPOINT6_SETMASK)    
                            20179 ; 691  |#define ENDPOINT7_CLRMASK (~(WORD)ENDPOINT7_SETMASK)    
                            20180 ; 692  |#define ENDPOINT8_CLRMASK (~(WORD)ENDPOINT8_SETMASK)    
                            20181 ; 693  |#define ENDPOINT9_CLRMASK (~(WORD)ENDPOINT9_SETMASK)    
                            20182 ; 694  |#define ENDPOINT10_CLRMASK (~(WORD)ENDPOINT10_SETMASK)
                            20183 ; 695  |#define ENDPOINT11_CLRMASK (~(WORD)ENDPOINT11_SETMASK)
                            20184 ; 696  |#define ENDPOINT12_CLRMASK (~(WORD)ENDPOINT12_SETMASK)
                            20185 ; 697  |#define ENDPOINT13_CLRMASK (~(WORD)ENDPOINT13_SETMASK)
                            20186 ; 698  |#define ENDPOINT14_CLRMASK (~(WORD)ENDPOINT14_SETMASK)
                            20187 ; 699  |#define ENDPOINT15_CLRMASK (~(WORD)ENDPOINT15_SETMASK)
                            20188 ; 700  |
                            20189 ; 701  |typedef union               
                            20190 ; 702  |{
                            20191 ; 703  |    struct {
                            20192 ; 704  |        int EP0              :1;
                            20193 ; 705  |        int EP1              :1;
                            20194 ; 706  |        int EP2              :1;
                            20195 ; 707  |        int EP3              :1;
                            20196 ; 708  |        int EP4              :1;
                            20197 ; 709  |        int EP5              :1;
                            20198 ; 710  |        int EP6              :1;
                            20199 ; 711  |        int EP7              :1;
                            20200 ; 712  |        int EP8              :1;
                            20201 ; 713  |        int EP9              :1;
                            20202 ; 714  |        int EP10             :1;
                            20203 ; 715  |        int EP11             :1;
                            20204 ; 716  |        int EP12             :1;
                            20205 ; 717  |        int EP13             :1;
                            20206 ; 718  |        int EP14             :1;
                            20207 ; 719  |        int EP15             :1;
                            20208 ; 720  |        int                  :32;
                            20209 ; 721  |    } B;
                            20210 ; 722  |    DWORD I;
                            20211 ; 723  |} endpsetupstat_type;
                            20212 ; 724  |
                            20213 ; 725  |//#define HW_ARC_ENDPTSETUPSTAT (*(volatile endpsetupstat_type _X*) (HW_ARC_BASEADDR+0x1ac
                                  ))    
                            20214 ; 726  |
                            20215 ; 727  |typedef union               
                            20216 ; 728  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 335

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20217 ; 729  |    struct {
                            20218 ; 730  |        int EP0              :1;
                            20219 ; 731  |        int EP1              :1;
                            20220 ; 732  |        int EP2              :1;
                            20221 ; 733  |        int EP3              :1;
                            20222 ; 734  |        int EP4              :1;
                            20223 ; 735  |        int EP5              :1;
                            20224 ; 736  |        int EP6              :1;
                            20225 ; 737  |        int EP7              :1;
                            20226 ; 738  |        int EP8              :1;
                            20227 ; 739  |        int EP9              :1;
                            20228 ; 740  |        int EP10             :1;
                            20229 ; 741  |        int EP11             :1;
                            20230 ; 742  |        int EP12             :1;
                            20231 ; 743  |        int EP13             :1;
                            20232 ; 744  |        int EP14             :1;
                            20233 ; 745  |        int EP15             :1;
                            20234 ; 746  |        int                  :8;
                            20235 ; 747  |    } B;
                            20236 ; 748  |    WORD I;
                            20237 ; 749  |} endpt_type;
                            20238 
                            20276 
                            20277 ; 750  |
                            20278 ; 751  |typedef union
                            20279 ; 752  |{
                            20280 ; 753  |   struct {
                            20281 ; 754  |       endpt_type  RX;
                            20282 ; 755  |       endpt_type  TX;
                            20283 ; 756  |   } W;
                            20284 ; 757  |   DWORD DW;
                            20285 ; 758  |} endptrxtx_type;
                            20286 ; 759  |
                            20287 ; 760  |//#define HW_ARC_ENDPTPRIME    (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b0))   
                                   
                            20288 ; 761  |//#define HW_ARC_ENDPTFLUSH    (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b4))   
                                   
                            20289 ; 762  |//#define HW_ARC_ENDPTSTAT     (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b8))   
                                   
                            20290 ; 763  |//#define HW_ARC_ENDPTCOMPLETE (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1bc))   
                                   
                            20291 ; 764  |
                            20292 ; 765  |
                            20293 ; 766  |
                            20294 ; 767  |/////////////////////////////////////////////////////////////////////////////////
                            20295 ; 768  |//  USB ARC Register Endpoint control (HW_ARC_ENDPTCTRL)
                            20296 ; 769  |
                            20297 ; 770  |#define HW_ARC_ENDPTCTRL_RXS_BITPOS (0)
                            20298 ; 771  |#define HW_ARC_ENDPTCTRL_RXD_BITPOS (1)
                            20299 ; 772  |#define HW_ARC_ENDPTCTRL_RXT_BITPOS (2)
                            20300 ; 773  |#define HW_ARC_ENDPTCTRL_RXI_BITPOS (5)
                            20301 ; 774  |#define HW_ARC_ENDPTCTRL_RXR_BITPOS (6)
                            20302 ; 775  |#define HW_ARC_ENDPTCTRL_RXE_BITPOS (7)
                            20303 ; 776  |#define HW_ARC_ENDPTCTRL_TXS_BITPOS (16)
                            20304 ; 777  |#define HW_ARC_ENDPTCTRL_TXD_BITPOS (17)
                            20305 ; 778  |#define HW_ARC_ENDPTCTRL_TXT_BITPOS (18)
                            20306 ; 779  |#define HW_ARC_ENDPTCTRL_TXI_BITPOS (21)
                            20307 ; 780  |#define HW_ARC_ENDPTCTRL_TXR_BITPOS (22)
                            20308 ; 781  |#define HW_ARC_ENDPTCTRL_TXE_BITPOS (23)
                            20309 ; 782  |
                            20310 ; 783  |#define HW_ARC_ENDPTCTRL_RXS_SETMASK (1<<HW_ARC_ENDPTCTRL_RXS_BITPOS)
                            20311 ; 784  |#define HW_ARC_ENDPTCTRL_RXD_SETMASK (1<<HW_ARC_ENDPTCTRL_RXD_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 336

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20312 ; 785  |#define HW_ARC_ENDPTCTRL_RXT_SETMASK (3<<HW_ARC_ENDPTCTRL_RXT_BITPOS)
                            20313 ; 786  |#define HW_ARC_ENDPTCTRL_RXI_SETMASK (1<<HW_ARC_ENDPTCTRL_RXI_BITPOS)
                            20314 ; 787  |#define HW_ARC_ENDPTCTRL_RXR_SETMASK (1<<HW_ARC_ENDPTCTRL_RXR_BITPOS)
                            20315 ; 788  |#define HW_ARC_ENDPTCTRL_RXE_SETMASK (1<<HW_ARC_ENDPTCTRL_RXE_BITPOS)
                            20316 ; 789  |#define HW_ARC_ENDPTCTRL_TXS_SETMASK (1<<HW_ARC_ENDPTCTRL_TXS_BITPOS)
                            20317 ; 790  |#define HW_ARC_ENDPTCTRL_TXD_SETMASK (1<<HW_ARC_ENDPTCTRL_TXD_BITPOS)
                            20318 ; 791  |#define HW_ARC_ENDPTCTRL_TXT_SETMASK (3<<HW_ARC_ENDPTCTRL_TXT_BITPOS)
                            20319 ; 792  |#define HW_ARC_ENDPTCTRL_TXI_SETMASK (1<<HW_ARC_ENDPTCTRL_TXI_BITPOS)
                            20320 ; 793  |#define HW_ARC_ENDPTCTRL_TXR_SETMASK (1<<HW_ARC_ENDPTCTRL_TXR_BITPOS)
                            20321 ; 794  |
                            20322 ; 795  |// We need to equate the following label like this due to a sign extension problem
                            20323 ; 796  |// if equated like so (1<<HW_ARC_ENDPTCTRL_TXE_BITPOS)
                            20324 ; 797  |#define HW_ARC_ENDPTCTRL_TXE_SETMASK (0x00800000)
                            20325 ; 798  |//HW_ARC_ENDPTCTRL_TXE_SETMASK    equ     (1<<HW_ARC_ENDPTCTRL_TXE_BITPOS)
                            20326 ; 799  |
                            20327 ; 800  |#define HW_ARC_ENDPTCTRL_RXS_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXS_SETMASK)
                            20328 ; 801  |#define HW_ARC_ENDPTCTRL_RXD_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXD_SETMASK)
                            20329 ; 802  |#define HW_ARC_ENDPTCTRL_RXT_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXT_SETMASK)
                            20330 ; 803  |#define HW_ARC_ENDPTCTRL_RXI_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXI_SETMASK)
                            20331 ; 804  |#define HW_ARC_ENDPTCTRL_RXR_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXR_SETMASK)
                            20332 ; 805  |#define HW_ARC_ENDPTCTRL_RXE_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXE_SETMASK)
                            20333 ; 806  |#define HW_ARC_ENDPTCTRL_TXS_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXS_SETMASK)
                            20334 ; 807  |#define HW_ARC_ENDPTCTRL_TXD_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXD_SETMASK)
                            20335 ; 808  |#define HW_ARC_ENDPTCTRL_TXT_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXT_SETMASK)
                            20336 ; 809  |#define HW_ARC_ENDPTCTRL_TXI_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXI_SETMASK)
                            20337 ; 810  |#define HW_ARC_ENDPTCTRL_TXR_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXR_SETMASK)
                            20338 ; 811  |#define HW_ARC_ENDPTCTRL_TXE_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXE_SETMASK)
                            20339 ; 812  |
                            20340 ; 813  |
                            20341 ; 814  |typedef union               
                            20342 ; 815  |{
                            20343 ; 816  |    struct {
                            20344 ; 817  |        int RXS             :1;
                            20345 ; 818  |        int RXD             :1;
                            20346 ; 819  |        int RXT             :2;
                            20347 ; 820  |        int                 :1;
                            20348 ; 821  |        int RXI             :1;
                            20349 ; 822  |        int RXR             :1;
                            20350 ; 823  |        int RXE             :1;
                            20351 ; 824  |        int                 :8;
                            20352 ; 825  |        int TXS             :1;
                            20353 ; 826  |        int TXD             :1;
                            20354 ; 827  |        int TXT             :2;
                            20355 ; 828  |        int                 :1;
                            20356 ; 829  |        int TXI             :1;
                            20357 ; 830  |        int TXR             :1;
                            20358 ; 831  |        int TXE             :1;
                            20359 ; 832  |        int                 :24;
                            20360 ; 833  |    } B;
                            20361 ; 834  |    DWORD I;
                            20362 ; 835  |} endptctrl_type;
                            20363 ; 836  |//#define HW_ARC_ENDPTCTRL[n] (*(volatile usbintr_type _X*) (HW_ARC_BASEADDR+0x1c0+((n)*4)
                                  ))    
                            20364 ; 837  |
                            20365 ; 838  |#endif
                            20366 ; 839  |
                            20367 ; 840  |
                            20368 
                            20370 
                            20371 ; 37   |#include "regsusb20phy.h"
                            20372 
                            20374 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 337

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20375 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            20376 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2005
                            20377 ; 3    |//;  File        : regsusbphy.inc
                            20378 ; 4    |//;  Description : USB20 PHY Register definition
                            20379 ; 5    |//;  Updated 2.23.2003 By M. Henson
                            20380 ; 6    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            20381 ; 7    |
                            20382 ; 8    |// The following naming conventions are followed in this file.
                            20383 ; 9    |// All registers are named using the format...
                            20384 ; 10   |//     HW_<module>_<regname>
                            20385 ; 11   |// where <module> is the module name which can be any of the following...
                            20386 ; 12   |//     USB20
                            20387 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            20388 ; 14   |// module name includes a number starting from 0 for the first instance of
                            20389 ; 15   |// that module)
                            20390 ; 16   |// <regname> is the specific register within that module
                            20391 ; 17   |// We also define the following...
                            20392 ; 18   |//     HW_<module>_<regname>_BITPOS
                            20393 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            20394 ; 20   |//     HW_<module>_<regname>_SETMASK
                            20395 ; 21   |// which does something else, and
                            20396 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            20397 ; 23   |// which does something else.
                            20398 ; 24   |// Other rules
                            20399 ; 25   |//     All caps
                            20400 ; 26   |//     Numeric identifiers start at 0
                            20401 ; 27   |
                            20402 ; 28   |#if !(defined(regsusbphyinc))
                            20403 ; 29   |#define regsusbphyinc 1
                            20404 ; 30   |
                            20405 ; 31   |#include "types.h"
                            20406 
                            20408 
                            20409 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            20410 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            20411 ; 3    |//
                            20412 ; 4    |// Filename: types.h
                            20413 ; 5    |// Description: Standard data types
                            20414 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            20415 ; 7    |
                            20416 ; 8    |#ifndef _TYPES_H
                            20417 ; 9    |#define _TYPES_H
                            20418 ; 10   |
                            20419 ; 11   |// TODO:  move this outta here!
                            20420 ; 12   |#if !defined(NOERROR)
                            20421 ; 13   |#define NOERROR 0
                            20422 ; 14   |#define SUCCESS 0
                            20423 ; 15   |#endif 
                            20424 ; 16   |#if !defined(SUCCESS)
                            20425 ; 17   |#define SUCCESS  0
                            20426 ; 18   |#endif
                            20427 ; 19   |#if !defined(ERROR)
                            20428 ; 20   |#define ERROR   -1
                            20429 ; 21   |#endif
                            20430 ; 22   |#if !defined(FALSE)
                            20431 ; 23   |#define FALSE 0
                            20432 ; 24   |#endif
                            20433 ; 25   |#if !defined(TRUE)
                            20434 ; 26   |#define TRUE  1
                            20435 ; 27   |#endif
                            20436 ; 28   |
                            20437 ; 29   |#if !defined(NULL)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 338

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20438 ; 30   |#define NULL 0
                            20439 ; 31   |#endif
                            20440 ; 32   |
                            20441 ; 33   |#define MAX_INT     0x7FFFFF
                            20442 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            20443 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            20444 ; 36   |#define MAX_ULONG   (-1) 
                            20445 ; 37   |
                            20446 ; 38   |#define WORD_SIZE   24              // word size in bits
                            20447 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            20448 ; 40   |
                            20449 ; 41   |
                            20450 ; 42   |#define BYTE    unsigned char       // btVarName
                            20451 ; 43   |#define CHAR    signed char         // cVarName
                            20452 ; 44   |#define USHORT  unsigned short      // usVarName
                            20453 ; 45   |#define SHORT   unsigned short      // sVarName
                            20454 ; 46   |#define WORD    unsigned int        // wVarName
                            20455 ; 47   |#define INT     signed int          // iVarName
                            20456 ; 48   |#define DWORD   unsigned long       // dwVarName
                            20457 ; 49   |#define LONG    signed long         // lVarName
                            20458 ; 50   |#define BOOL    unsigned int        // bVarName
                            20459 ; 51   |#define FRACT   _fract              // frVarName
                            20460 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            20461 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            20462 ; 54   |#define FLOAT   float               // fVarName
                            20463 ; 55   |#define DBL     double              // dVarName
                            20464 ; 56   |#define ENUM    enum                // eVarName
                            20465 ; 57   |#define CMX     _complex            // cmxVarName
                            20466 ; 58   |typedef WORD UCS3;                   // 
                            20467 ; 59   |
                            20468 ; 60   |#define UINT16  unsigned short
                            20469 ; 61   |#define UINT8   unsigned char   
                            20470 ; 62   |#define UINT32  unsigned long
                            20471 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            20472 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            20473 ; 65   |#define WCHAR   UINT16
                            20474 ; 66   |
                            20475 ; 67   |//UINT128 is 16 bytes or 6 words
                            20476 ; 68   |typedef struct UINT128_3500 {   
                            20477 ; 69   |    int val[6];     
                            20478 ; 70   |} UINT128_3500;
                            20479 ; 71   |
                            20480 ; 72   |#define UINT128   UINT128_3500
                            20481 ; 73   |
                            20482 ; 74   |// Little endian word packed byte strings:   
                            20483 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20484 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20485 ; 77   |// Little endian word packed byte strings:   
                            20486 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20487 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20488 ; 80   |
                            20489 ; 81   |// Declare Memory Spaces To Use When Coding
                            20490 ; 82   |// A. Sector Buffers
                            20491 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            20492 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            20493 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            20494 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            20495 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            20496 ; 88   |// B. Media DDI Memory
                            20497 ; 89   |#define MEDIA_DDI_MEM _Y
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 339

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20498 ; 90   |
                            20499 ; 91   |
                            20500 ; 92   |
                            20501 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            20502 ; 94   |// Examples of circular pointers:
                            20503 ; 95   |//    INT CIRC cpiVarName
                            20504 ; 96   |//    DWORD CIRC cpdwVarName
                            20505 ; 97   |
                            20506 ; 98   |#define RETCODE INT                 // rcVarName
                            20507 ; 99   |
                            20508 ; 100  |// generic bitfield structure
                            20509 ; 101  |struct Bitfield {
                            20510 ; 102  |    unsigned int B0  :1;
                            20511 ; 103  |    unsigned int B1  :1;
                            20512 ; 104  |    unsigned int B2  :1;
                            20513 ; 105  |    unsigned int B3  :1;
                            20514 ; 106  |    unsigned int B4  :1;
                            20515 ; 107  |    unsigned int B5  :1;
                            20516 ; 108  |    unsigned int B6  :1;
                            20517 ; 109  |    unsigned int B7  :1;
                            20518 ; 110  |    unsigned int B8  :1;
                            20519 ; 111  |    unsigned int B9  :1;
                            20520 ; 112  |    unsigned int B10 :1;
                            20521 ; 113  |    unsigned int B11 :1;
                            20522 ; 114  |    unsigned int B12 :1;
                            20523 ; 115  |    unsigned int B13 :1;
                            20524 ; 116  |    unsigned int B14 :1;
                            20525 ; 117  |    unsigned int B15 :1;
                            20526 ; 118  |    unsigned int B16 :1;
                            20527 ; 119  |    unsigned int B17 :1;
                            20528 ; 120  |    unsigned int B18 :1;
                            20529 ; 121  |    unsigned int B19 :1;
                            20530 ; 122  |    unsigned int B20 :1;
                            20531 ; 123  |    unsigned int B21 :1;
                            20532 ; 124  |    unsigned int B22 :1;
                            20533 ; 125  |    unsigned int B23 :1;
                            20534 ; 126  |};
                            20535 ; 127  |
                            20536 ; 128  |union BitInt {
                            20537 ; 129  |        struct Bitfield B;
                            20538 ; 130  |        int        I;
                            20539 ; 131  |};
                            20540 ; 132  |
                            20541 ; 133  |#define MAX_MSG_LENGTH 10
                            20542 ; 134  |struct CMessage
                            20543 ; 135  |{
                            20544 ; 136  |        unsigned int m_uLength;
                            20545 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            20546 ; 138  |};
                            20547 ; 139  |
                            20548 ; 140  |typedef struct {
                            20549 ; 141  |    WORD m_wLength;
                            20550 ; 142  |    WORD m_wMessage;
                            20551 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            20552 ; 144  |} Message;
                            20553 ; 145  |
                            20554 ; 146  |struct MessageQueueDescriptor
                            20555 ; 147  |{
                            20556 ; 148  |        int *m_pBase;
                            20557 ; 149  |        int m_iModulo;
                            20558 ; 150  |        int m_iSize;
                            20559 ; 151  |        int *m_pHead;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 340

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20560 ; 152  |        int *m_pTail;
                            20561 ; 153  |};
                            20562 ; 154  |
                            20563 ; 155  |struct ModuleEntry
                            20564 ; 156  |{
                            20565 ; 157  |    int m_iSignaledEventMask;
                            20566 ; 158  |    int m_iWaitEventMask;
                            20567 ; 159  |    int m_iResourceOfCode;
                            20568 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            20569 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            20570 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            20571 ; 163  |    int m_uTimeOutHigh;
                            20572 ; 164  |    int m_uTimeOutLow;
                            20573 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            20574 ; 166  |};
                            20575 ; 167  |
                            20576 ; 168  |union WaitMask{
                            20577 ; 169  |    struct B{
                            20578 ; 170  |        unsigned int m_bNone     :1;
                            20579 ; 171  |        unsigned int m_bMessage  :1;
                            20580 ; 172  |        unsigned int m_bTimer    :1;
                            20581 ; 173  |        unsigned int m_bButton   :1;
                            20582 ; 174  |    } B;
                            20583 ; 175  |    int I;
                            20584 ; 176  |} ;
                            20585 ; 177  |
                            20586 ; 178  |
                            20587 ; 179  |struct Button {
                            20588 ; 180  |        WORD wButtonEvent;
                            20589 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            20590 ; 182  |};
                            20591 ; 183  |
                            20592 ; 184  |struct Message {
                            20593 ; 185  |        WORD wMsgLength;
                            20594 ; 186  |        WORD wMsgCommand;
                            20595 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            20596 ; 188  |};
                            20597 ; 189  |
                            20598 ; 190  |union EventTypes {
                            20599 ; 191  |        struct CMessage msg;
                            20600 ; 192  |        struct Button Button ;
                            20601 ; 193  |        struct Message Message;
                            20602 ; 194  |};
                            20603 ; 195  |
                            20604 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            20605 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            20606 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            20607 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            20608 ; 200  |
                            20609 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            20610 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            20611 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            20612 ; 204  |
                            20613 ; 205  |#if DEBUG
                            20614 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            20615 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            20616 ; 208  |#else 
                            20617 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            20618 ; 210  |#define DebugBuildAssert(x)    
                            20619 ; 211  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 341

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20620 ; 212  |
                            20621 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            20622 ; 214  |//  #pragma asm
                            20623 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            20624 ; 216  |//  #pragma endasm
                            20625 ; 217  |
                            20626 ; 218  |
                            20627 ; 219  |#ifdef COLOR_262K
                            20628 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            20629 ; 221  |#elif defined(COLOR_65K)
                            20630 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            20631 ; 223  |#else
                            20632 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            20633 ; 225  |#endif
                            20634 ; 226  |    
                            20635 ; 227  |#endif // #ifndef _TYPES_H
                            20636 
                            20638 
                            20639 ; 32   |
                            20640 ; 33   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            20641 ; 34   |//   USB2.0 PHY STMP Registers 
                            20642 ; 35   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            20643 ; 36   |#define HW_USBPHY_BASEADDR (0xF210)
                            20644 ; 37   |
                            20645 ; 38   |
                            20646 ; 39   |/////////////////////////////////////////////////////////////////////////////////
                            20647 ; 40   |//  USB PHY Powerdown Register (HW_USBPHYPWD) Bit Definitions
                            20648 ; 41   |
                            20649 ; 42   |#define HW_USBPHYPWD_TXDISCON1500_BITPOS (5)
                            20650 ; 43   |#define HW_USBPHYPWD_PLLVCOPWD_BITPOS (6)
                            20651 ; 44   |#define HW_USBPHYPWD_PLLVCPPWD_BITPOS (7)
                            20652 ; 45   |#define HW_USBPHYPWD_TXPWDFS_BITPOS (10)
                            20653 ; 46   |#define HW_USBPHYPWD_TXPWDIBIAS_BITPOS (11)
                            20654 ; 47   |#define HW_USBPHYPWD_TXPWDV2I_BITPOS (12)
                            20655 ; 48   |#define HW_USBPHYPWD_TXPWDVBG_BITPOS (13)
                            20656 ; 49   |#define HW_USBPHYPWD_TXPWDCOMP_BITPOS (14)
                            20657 ; 50   |#define HW_USBPHYPWD_RXPWDDISCONDET_BITPOS (16)
                            20658 ; 51   |#define HW_USBPHYPWD_RXPWDENV_BITPOS (17)
                            20659 ; 52   |#define HW_USBPHYPWD_RXPWD1PT1_BITPOS (18)
                            20660 ; 53   |#define HW_USBPHYPWD_RXPWDDIFF_BITPOS (19)
                            20661 ; 54   |#define HW_USBPHYPWD_RXPWDRX_BITPOS (20)
                            20662 ; 55   |#define HW_USBPHYPWD_PWDIBIAS_BITPOS (22)
                            20663 ; 56   |#define HW_USBPHYPWD_REGRESET_BITPOS (23)
                            20664 ; 57   |
                            20665 ; 58   |#define HW_USBPHYPWD_TXDISCON1500_SETMASK (1<<HW_USBPHYPWD_TXDISCON1500_BITPOS)
                            20666 ; 59   |#define HW_USBPHYPWD_PLLVCOPWD_SETMASK (1<<HW_USBPHYPWD_PLLVCOPWD_BITPOS)
                            20667 ; 60   |#define HW_USBPHYPWD_PLLVCPPWD_SETMASK (1<<HW_USBPHYPWD_PLLVCPPWD_BITPOS)
                            20668 ; 61   |#define HW_USBPHYPWD_TXPWDFS_SETMASK (1<<HW_USBPHYPWD_TXPWDFS_BITPOS)
                            20669 ; 62   |#define HW_USBPHYPWD_TXPWDIBIAS_SETMASK (1<<HW_USBPHYPWD_TXPWDIBIAS_BITPOS)
                            20670 ; 63   |#define HW_USBPHYPWD_TXPWDV2I_SETMASK (1<<HW_USBPHYPWD_TXPWDV2I_BITPOS)
                            20671 ; 64   |#define HW_USBPHYPWD_TXPWDVBG_SETMASK (1<<HW_USBPHYPWD_TXPWDVBG_BITPOS)
                            20672 ; 65   |#define HW_USBPHYPWD_TXPWDCOMP_SETMASK (1<<HW_USBPHYPWD_TXPWDCOMP_BITPOS)
                            20673 ; 66   |#define HW_USBPHYPWD_RXPWDDISCONDET_SETMASK (1<<HW_USBPHYPWD_RXPWDDISCONDET_BITPOS)
                            20674 ; 67   |#define HW_USBPHYPWD_RXPWDENV_SETMASK (1<<HW_USBPHYPWD_RXPWDENV_BITPOS)
                            20675 ; 68   |#define HW_USBPHYPWD_RXPWD1PT1_SETMASK (1<<HW_USBPHYPWD_RXPWD1PT1_BITPOS)
                            20676 ; 69   |#define HW_USBPHYPWD_RXPWDDIFF_SETMASK (1<<HW_USBPHYPWD_RXPWDDIFF_BITPOS)
                            20677 ; 70   |#define HW_USBPHYPWD_RXPWDRX_SETMASK (1<<HW_USBPHYPWD_RXPWDRX_BITPOS)
                            20678 ; 71   |#define HW_USBPHYPWD_PWDIBIAS_SETMASK (1<<HW_USBPHYPWD_PWDIBIAS_BITPOS)
                            20679 ; 72   |#define HW_USBPHYPWD_REGRESET_SETMASK (1<<HW_USBPHYPWD_REGRESET_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 342

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20680 ; 73   |
                            20681 ; 74   |#define HW_USBPHYPWD_TXDISCON1500_CLRMASK (~(WORD)HW_USBPHYPWD_TXDISCON1500_SETMASK)
                            20682 ; 75   |#define HW_USBPHYPWD_PLLVCOPWD_CLRMASK (~(WORD)HW_USBPHYPWD_PLLVCOPWD_SETMASK)
                            20683 ; 76   |#define HW_USBPHYPWD_PLLVCPPWD_CLRMASK (~(WORD)HW_USBPHYPWD_PLLVCPPWD_SETMASK)
                            20684 ; 77   |#define HW_USBPHYPWD_TXPWDFS_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDFS_SETMASK)
                            20685 ; 78   |#define HW_USBPHYPWD_TXPWDIBIAS_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDIBIAS_SETMASK)
                            20686 ; 79   |#define HW_USBPHYPWD_TXPWDV2I_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDV2I_SETMASK)
                            20687 ; 80   |#define HW_USBPHYPWD_TXPWDVBG_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDVBG_SETMASK)
                            20688 ; 81   |#define HW_USBPHYPWD_TXPWDCOMP_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDCOMP_SETMASK)
                            20689 ; 82   |#define HW_USBPHYPWD_RXPWDDISCONDET_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDDISCONDET_SETMASK)
                            20690 ; 83   |#define HW_USBPHYPWD_RXPWDENV_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDENV_SETMASK)
                            20691 ; 84   |#define HW_USBPHYPWD_RXPWD1PT1_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWD1PT1_SETMASK)
                            20692 ; 85   |#define HW_USBPHYPWD_RXPWDDIFF_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDDIFF_SETMASK)
                            20693 ; 86   |#define HW_USBPHYPWD_RXPWDRX_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDRX_SETMASK)
                            20694 ; 87   |#define HW_USBPHYPWD_PWDIBIAS_CLRMASK (~(WORD)HW_USBPHYPWD_PWDIBIAS_SETMASK)
                            20695 ; 88   |#define HW_USBPHYPWD_REGRESET_CLRMASK (~(WORD)HW_USBPHYPWD_REGRESET_SETMASK)
                            20696 ; 89   |
                            20697 ; 90   |typedef union               
                            20698 ; 91   |{
                            20699 ; 92   |    struct {
                            20700 ; 93   |        int RSVD0          :5;
                            20701 ; 94   |        int TXDISCON1500   :1;
                            20702 ; 95   |        int PLLVCOPWD      :1;
                            20703 ; 96   |        int PLLVCPPWD      :1;
                            20704 ; 97   |        int RSVD1          :2;
                            20705 ; 98   |        int TXPWDFS        :1;
                            20706 ; 99   |        int TXPWDIBIAS     :1;
                            20707 ; 100  |        int TXPWDV2I       :1;
                            20708 ; 101  |        int TXPWDVBG       :1;
                            20709 ; 102  |        int TXPWDCOMP      :1;
                            20710 ; 103  |        int RSVD2          :1;
                            20711 ; 104  |        int RXPWDDISCONDET :1;
                            20712 ; 105  |        int RXPWDENV       :1;
                            20713 ; 106  |        int RXPWD1PT1      :1;
                            20714 ; 107  |        int RXPWDDIFF      :1;
                            20715 ; 108  |        int RXPWDRX        :1;
                            20716 ; 109  |        int RSVD3          :1;
                            20717 ; 110  |        int PWDIBIAS       :1;
                            20718 ; 111  |        int REGRESET       :1;
                            20719 ; 112  |    } B;
                            20720 ; 113  |    int I;
                            20721 ; 114  |} usbphypwd_type;
                            20722 ; 115  |#define HW_USBPHYPWD      (*(volatile usbphypwd_type _X*) (HW_USBPHY_BASEADDR))    /* USB 
                                  PHY Powerdown Register */
                            20723 ; 116  |
                            20724 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                            20725 ; 118  |//  USB PHY Transmit register (HW_USBPHYTX) Bit Definitions
                            20726 ; 119  |#define HW_USBPHYTX_TXCAL1500_BITPOS (0)
                            20727 ; 120  |#define HW_USBPHYTX_TXENCAL1500_BITPOS (5)
                            20728 ; 121  |#define HW_USBPHYTX_TXHSXCVR_BITPOS (6)
                            20729 ; 122  |#define HW_USBPHYTX_TXCALIBRATE_BITPOS (7)
                            20730 ; 123  |#define HW_USBPHYTX_TXCAL45DN_BITPOS (8)
                            20731 ; 124  |#define HW_USBPHYTX_TXENCAL45DN_BITPOS (13)
                            20732 ; 125  |#define HW_USBPHYTX_TXHSTERM_BITPOS (14)
                            20733 ; 126  |#define HW_USBPHYTX_TXSKEW_BITPOS (15)
                            20734 ; 127  |#define HW_USBPHYTX_TXCAL45DP_BITPOS (16)
                            20735 ; 128  |#define HW_USBPHYTX_TXENCAL45DP_BITPOS (21)
                            20736 ; 129  |#define HW_USBPHYTX_TXFSHIZ_BITPOS (22)
                            20737 ; 130  |#define HW_USBPHYTX_TXCOMPOUT_BITPOS (23)
                            20738 ; 131  |
                            20739 ; 132  |#define HW_USBPHYTX_TXCAL1500_WIDTH (4)
                            20740 ; 133  |#define HW_USBPHYTX_TXENCAL1500_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 343

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20741 ; 134  |#define HW_USBPHYTX_TXHSXCVR_WIDTH (1)
                            20742 ; 135  |#define HW_USBPHYTX_TXCALIBRATE_WIDTH (1)
                            20743 ; 136  |#define HW_USBPHYTX_TXCAL45DN_WIDTH (4)
                            20744 ; 137  |#define HW_USBPHYTX_TXENCAL45DN_WIDTH (1)
                            20745 ; 138  |#define HW_USBPHYTX_TXHSTERM_WIDTH (1)
                            20746 ; 139  |#define HW_USBPHYTX_TXSKEW_WIDTH (1)
                            20747 ; 140  |#define HW_USBPHYTX_TXCAL45DP_WIDTH (4)
                            20748 ; 141  |#define HW_USBPHYTX_TXENCAL45DP_WIDTH (1)
                            20749 ; 142  |#define HW_USBPHYTX_TXFSHIZ_WIDTH (1)
                            20750 ; 143  |#define HW_USBPHYTX_TXCOMPOUT_WIDTH (1)
                            20751 ; 144  |
                            20752 ; 145  |#define HW_USBPHYTX_TXCAL1500_SETMASK (((1<<HW_USBPHYTX_TXCAL1500_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCAL1500_BITPOS)
                            20753 ; 146  |#define HW_USBPHYTX_TXENCAL1500_SETMASK (((1<<HW_USBPHYTX_TXENCAL1500_WIDTH)-1)<<HW_USBPHY
                                  TX_TXENCAL1500_BITPOS)
                            20754 ; 147  |#define HW_USBPHYTX_TXHSXCVR_SETMASK (((1<<HW_USBPHYTX_TXHSXCVR_WIDTH)-1)<<HW_USBPHYTX_TXH
                                  SXCVR_BITPOS)
                            20755 ; 148  |#define HW_USBPHYTX_TXCALIBRATE_SETMASK (((1<<HW_USBPHYTX_TXCALIBRATE_WIDTH)-1)<<HW_USBPHY
                                  TX_TXCALIBRATE_BITPOS)
                            20756 ; 149  |#define HW_USBPHYTX_TXCAL45DN_SETMASK (((1<<HW_USBPHYTX_TXCAL45DN_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCAL45DN_BITPOS)
                            20757 ; 150  |#define HW_USBPHYTX_TXENCAL45DN_SETMASK (((1<<HW_USBPHYTX_TXENCAL45DN_WIDTH)-1)<<HW_USBPHY
                                  TX_TXENCAL45DN_BITPOS)
                            20758 ; 151  |#define HW_USBPHYTX_TXHSTERM_SETMASK (((1<<HW_USBPHYTX_TXHSTERM_WIDTH)-1)<<HW_USBPHYTX_TXH
                                  STERM_BITPOS)
                            20759 ; 152  |#define HW_USBPHYTX_TXSKEW_SETMASK (((1<<HW_USBPHYTX_TXSKEW_WIDTH)-1)<<HW_USBPHYTX_TXSKEW_
                                  BITPOS)
                            20760 ; 153  |#define HW_USBPHYTX_TXCAL45DP_SETMASK (((1<<HW_USBPHYTX_TXCAL45DP_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCAL45DP_BITPOS)
                            20761 ; 154  |#define HW_USBPHYTX_TXENCAL45DP_SETMASK (((1<<HW_USBPHYTX_TXENCAL45DP_WIDTH)-1)<<HW_USBPHY
                                  TX_TXENCAL45DP_BITPOS)
                            20762 ; 155  |#define HW_USBPHYTX_TXFSHIZ_SETMASK (((1<<HW_USBPHYTX_TXFSHIZ_WIDTH)-1)<<HW_USBPHYTX_TXFSH
                                  IZ_BITPOS)
                            20763 ; 156  |#define HW_USBPHYTX_TXCOMPOUT_SETMASK (((1<<HW_USBPHYTX_TXCOMPOUT_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCOMPOUT_BITPOS)
                            20764 ; 157  |
                            20765 ; 158  |#define HW_USBPHYTX_TXCAL1500_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL1500_SETMASK)
                            20766 ; 159  |#define HW_USBPHYTX_TXENCAL1500_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL1500_SETMASK)
                            20767 ; 160  |#define HW_USBPHYTX_TXHSXCVR_CLRMASK (~(WORD)HW_USBPHYTX_TXHSXCVR_SETMASK)
                            20768 ; 161  |#define HW_USBPHYTX_TXCALIBRATE_CLRMASK (~(WORD)HW_USBPHYTX_TXCALIBRATE_SETMASK)
                            20769 ; 162  |#define HW_USBPHYTX_TXCAL45DN_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL45DN_SETMASK)
                            20770 ; 163  |#define HW_USBPHYTX_TXENCAL45DN_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL45DN_SETMASK)
                            20771 ; 164  |#define HW_USBPHYTX_TXHSTERM_CLRMASK (~(WORD)HW_USBPHYTX_TXHSTERM_SETMASK)
                            20772 ; 165  |#define HW_USBPHYTX_TXSKEW_CLRMASK (~(WORD)HW_USBPHYTX_TXSKEW_SETMASK)
                            20773 ; 166  |#define HW_USBPHYTX_TXCAL45DP_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL45DP_SETMASK)
                            20774 ; 167  |#define HW_USBPHYTX_TXENCAL45DP_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL45DP_SETMASK)
                            20775 ; 168  |#define HW_USBPHYTX_TXFSHIZ_CLRMASK (~(WORD)HW_USBPHYTX_TXFSHIZ_SETMASK)
                            20776 ; 169  |#define HW_USBPHYTX_TXCOMPOUT_CLRMASK (~(WORD)HW_USBPHYTX_TXCOMPOUT_SETMASK)
                            20777 ; 170  |
                            20778 ; 171  |typedef union               
                            20779 ; 172  |{
                            20780 ; 173  |    struct {
                            20781 ; 174  |        int TXCAL1500          :4;
                            20782 ; 175  |        int RSVD0              :1;
                            20783 ; 176  |        int TXENCAL1500        :1;
                            20784 ; 177  |        int TXHSXCVR           :1;
                            20785 ; 178  |        int TXCALIBRATE        :1;
                            20786 ; 179  |        int TXCAL45DN          :4;
                            20787 ; 180  |        int RSVD1              :1;
                            20788 ; 181  |        int TXENCAL45DN        :1;
                            20789 ; 182  |        int TXHSTERM           :1;
                            20790 ; 183  |        int TXSKEW             :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 344

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20791 ; 184  |        int TXCAL45DP          :4;
                            20792 ; 185  |        int RSVD2              :1;
                            20793 ; 186  |        int TXENCAL45DP        :1;
                            20794 ; 187  |        int TXFSHIZ            :1;
                            20795 ; 188  |        int TXCOMPOUT          :1;
                            20796 ; 189  |    } B;
                            20797 ; 190  |    int I;
                            20798 ; 191  |} usbphytx_type;
                            20799 ; 192  |#define HW_USBPHYTX      (*(volatile usbphytx_type _X*) (HW_USBPHY_BASEADDR+1))    
                            20800 ; 193  |
                            20801 ; 194  |/////////////////////////////////////////////////////////////////////////////////
                            20802 ; 195  |//  USB PHY PLL register (HW_USBPHYPLL) Bit Definitions
                            20803 ; 196  |#define HW_USBPHYPLL_PLLV2ISEL_BITPOS (0)
                            20804 ; 197  |#define HW_USBPHYPLL_PLLCPDBLIP_BITPOS (5)
                            20805 ; 198  |#define HW_USBPHYPLL_PLLVCOCLK2_BITPOS (6)
                            20806 ; 199  |#define HW_USBPHYPLL_PLLVCOCLK24_BITPOS (7)
                            20807 ; 200  |#define HW_USBPHYPLL_PLLCPNSEL_BITPOS (8)
                            20808 ; 201  |#define HW_USBPHYPLL_PLLCLKDIVSEL_BITPOS (12)
                            20809 ; 202  |#define HW_USBPHYPLL_PLLPFDRST_BITPOS (20)
                            20810 ; 203  |#define HW_USBPHYPLL_PLLCPSHORTLFR_BITPOS (21)
                            20811 ; 204  |#define HW_USBPHYPLL_PLLVCOKSTART_BITPOS (22)
                            20812 ; 205  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_BITPOS (23)
                            20813 ; 206  |
                            20814 ; 207  |#define HW_USBPHYPLL_PLLV2ISEL_WIDTH (4)
                            20815 ; 208  |#define HW_USBPHYPLL_PLLCPDBLIP_WIDTH (1)
                            20816 ; 209  |#define HW_USBPHYPLL_PLLVCOCLK2_WIDTH (1)
                            20817 ; 210  |#define HW_USBPHYPLL_PLLVCOCLK24_WIDTH (1)
                            20818 ; 211  |#define HW_USBPHYPLL_PLLCPNSEL_WIDTH (4)
                            20819 ; 212  |#define HW_USBPHYPLL_PLLCLKDIVSEL_WIDTH (4)
                            20820 ; 213  |#define HW_USBPHYPLL_PLLPFDRST_WIDTH (1)
                            20821 ; 214  |#define HW_USBPHYPLL_PLLCPSHORTLFR_WIDTH (1)
                            20822 ; 215  |#define HW_USBPHYPLL_PLLVCOKSTART_WIDTH (1)
                            20823 ; 216  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_WIDTH (1)
                            20824 ; 217  |
                            20825 ; 218  |#define HW_USBPHYPLL_PLLV2ISEL_SETMASK (((1<<HW_USBPHYPLL_PLLV2ISEL_WIDTH)-1)<<HW_USBPHYPL
                                  L_PLLV2ISEL_BITPOS)
                            20826 ; 219  |#define HW_USBPHYPLL_PLLCPDBLIP_SETMASK (((1<<HW_USBPHYPLL_PLLCPDBLIP_WIDTH)-1)<<HW_USBPHY
                                  PLL_PLLCPDBLIP_BITPOS)
                            20827 ; 220  |#define HW_USBPHYPLL_PLLVCOCLK2_SETMASK (((1<<HW_USBPHYPLL_PLLVCOCLK2_WIDTH)-1)<<HW_USBPHY
                                  PLL_PLLVCOCLK2_BITPOS)
                            20828 ; 221  |#define HW_USBPHYPLL_PLLVCOCLK24_SETMASK (((1<<HW_USBPHYPLL_PLLVCOCLK24_WIDTH)-1)<<HW_USBP
                                  HYPLL_PLLVCOCLK24_BITPOS)
                            20829 ; 222  |#define HW_USBPHYPLL_PLLCPNSEL_SETMASK (((1<<HW_USBPHYPLL_PLLCPNSEL_WIDTH)-1)<<HW_USBPHYPL
                                  L_PLLCPNSEL_BITPOS)
                            20830 ; 223  |#define HW_USBPHYPLL_PLLCLKDIVSEL_SETMASK (((1<<HW_USBPHYPLL_PLLCLKDIVSEL_WIDTH)-1)<<HW_US
                                  BPHYPLL_PLLCLKDIVSEL_BITPOS)
                            20831 ; 224  |#define HW_USBPHYPLL_PLLPFDRST_SETMASK (((1<<HW_USBPHYPLL_PLLPFDRST_WIDTH)-1)<<HW_USBPHYPL
                                  L_PLLPFDRST_BITPOS)
                            20832 ; 225  |#define HW_USBPHYPLL_PLLCPSHORTLFR_SETMASK (((1<<HW_USBPHYPLL_PLLCPSHORTLFR_WIDTH)-1)<<HW_
                                  USBPHYPLL_PLLCPSHORTLFR_BITPOS)
                            20833 ; 226  |#define HW_USBPHYPLL_PLLVCOKSTART_SETMASK (((1<<HW_USBPHYPLL_PLLVCOKSTART_WIDTH)-1)<<HW_US
                                  BPHYPLL_PLLVCOKSTART_BITPOS)
                            20834 ; 227  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_SETMASK (((1<<HW_USBPHYPLL_PLLCLKDIVRSTZ_WIDTH)-1)<<HW_
                                  USBPHYPLL_PLLCLKDIVRSTZ_BITPOS)
                            20835 ; 228  |
                            20836 ; 229  |#define HW_USBPHYPLL_PLLV2ISEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLV2ISEL_SETMASK)
                            20837 ; 230  |#define HW_USBPHYPLL_PLLCPDBLIP_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPDBLIP_SETMASK)
                            20838 ; 231  |#define HW_USBPHYPLL_PLLVCOCLK2_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOCLK2_SETMASK)
                            20839 ; 232  |#define HW_USBPHYPLL_PLLVCOCLK24_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOCLK24_SETMASK)
                            20840 ; 233  |#define HW_USBPHYPLL_PLLCPNSEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPNSEL_SETMASK)
                            20841 ; 234  |#define HW_USBPHYPLL_PLLCLKDIVSEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCLKDIVSEL_SETMASK)
                            20842 ; 235  |#define HW_USBPHYPLL_PLLPFDRST_CLRMASK (~(WORD)HW_USBPHYPLL_PLLPFDRST_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 345

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20843 ; 236  |#define HW_USBPHYPLL_PLLCPSHORTLFR_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPSHORTLFR_SETMASK)
                            20844 ; 237  |#define HW_USBPHYPLL_PLLVCOKSTART_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOKSTART_SETMASK)
                            20845 ; 238  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCLKDIVRSTZ_SETMASK)
                            20846 ; 239  |
                            20847 ; 240  |typedef union               
                            20848 ; 241  |{
                            20849 ; 242  |    struct {
                            20850 ; 243  |        int PLLV2ISEL        :4;
                            20851 ; 244  |        int RSVD0            :1;
                            20852 ; 245  |        int PLLCPDBLIP       :1;
                            20853 ; 246  |        int PLLVCOCLK2       :1;
                            20854 ; 247  |        int PLLVCOCLK24      :1;
                            20855 ; 248  |        int PLLCPNSEL        :4;
                            20856 ; 249  |        int PLLCLKDIVSEL     :4;
                            20857 ; 250  |        int RSVD1            :4;
                            20858 ; 251  |        int PLLPFDRST        :1;
                            20859 ; 252  |        int PLLCPSHORTLFR    :1;
                            20860 ; 253  |        int PLLVCOKSTART     :1;
                            20861 ; 254  |        int PLLCLKDIVRSTZ    :1;
                            20862 ; 255  |    } B;
                            20863 ; 256  |    int I;
                            20864 ; 257  |} usbphypll_type;
                            20865 ; 258  |#define HW_USBPHYPLL      (*(volatile usbphypll_type _X*) (HW_USBPHY_BASEADDR+2))    
                            20866 ; 259  |
                            20867 ; 260  |/////////////////////////////////////////////////////////////////////////////////
                            20868 ; 261  |//  USB PHY PLL register (HW_USBPHYRX) Bit Definitions
                            20869 ; 262  |#define HW_USBRX_ENVADJ_BITPOS (0)
                            20870 ; 263  |#define HW_USBRX_DISCONADJ_BITPOS (4)
                            20871 ; 264  |#define HW_USBRX_DEBUGMODE_BITPOS (8)
                            20872 ; 265  |#define HW_USBRX_PLLLKTIMECTL_BITPOS (12)
                            20873 ; 266  |#define HW_USBRX_PLLCKDIVCTL_BITPOS (16)
                            20874 ; 267  |#define HW_USBRX_HOSTMODETEST_BITPOS (20)
                            20875 ; 268  |#define HW_USBRX_FSCKSOURCESEL_BITPOS (21)
                            20876 ; 269  |#define HW_USBRX_REGRXDBYPASS_BITPOS (22)
                            20877 ; 270  |#define HW_USBRX_PLLLOCKED_BITPOS (23)
                            20878 ; 271  |
                            20879 ; 272  |#define HW_USBRX_ENVADJ_WIDTH (4)
                            20880 ; 273  |#define HW_USBRX_DISCONADJ_WIDTH (4)
                            20881 ; 274  |#define HW_USBRX_DEBUGMODE_WIDTH (4)
                            20882 ; 275  |#define HW_USBRX_PLLLKTIMECTL_WIDTH (4)
                            20883 ; 276  |#define HW_USBRX_PLLCKDIVCTL_WIDTH (4)
                            20884 ; 277  |#define HW_USBRX_HOSTMODETEST_WIDTH (1)
                            20885 ; 278  |#define HW_USBRX_FSCKSOURCESEL_WIDTH (1)
                            20886 ; 279  |#define HW_USBRX_REGRXDBYPASS_WIDTH (1)
                            20887 ; 280  |#define HW_USBRX_PLLLOCKED_WIDTH (1)
                            20888 ; 281  |
                            20889 ; 282  |#define HW_USBRX_ENVADJ_SETMASK (((1<<HW_USBRX_ENVADJ_WIDTH)-1)<<HW_USBRX_ENVADJ_BITPOS)
                            20890 ; 283  |#define HW_USBRX_DISCONADJ_SETMASK (((1<<HW_USBRX_DISCONADJ_WIDTH)-1)<<HW_USBRX_DISCONADJ_
                                  BITPOS)
                            20891 ; 284  |#define HW_USBRX_DEBUGMODE_SETMASK (((1<<HW_USBRX_DEBUGMODE_WIDTH)-1)<<HW_USBRX_DEBUGMODE_
                                  BITPOS)
                            20892 ; 285  |#define HW_USBRX_PLLLKTIMECTL_SETMASK (((1<<HW_USBRX_PLLLKTIMECTL_WIDTH)-1)<<HW_USBRX_PLLL
                                  KTIMECTL_BITPOS)
                            20893 ; 286  |#define HW_USBRX_PLLCKDIVCTL_SETMASK (((1<<HW_USBRX_PLLCKDIVCTL_WIDTH)-1)<<HW_USBRX_PLLCKD
                                  IVCTL_BITPOS)
                            20894 ; 287  |// 480 MHz PLL is divided by named number here. Setmask divider field nibble of 7 gives ac
                                  tual divider of 8 and so on. (8 gives 9, 9 gives 10)
                            20895 ; 288  |//              480Mhz/7 =68.57Mhz
                            20896 ; 289  |#define HW_USBPHYRX_PLLDIV_BY_7 0x060000
                            20897 ; 290  |
                            20898 ; 291  |//              480Mhz/8 ~60Mhz
                            20899 ; 292  |#define HW_USBPHYRX_PLLDIV_BY_8 0x070000
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 346

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20900 ; 293  |
                            20901 ; 294  |//              480Mhz/9 =53.3Mhz
                            20902 ; 295  |#define HW_USBPHYRX_PLLDIV_BY_9 0x080000
                            20903 ; 296  |
                            20904 ; 297  |//              480Mhz/10 =48Mhz
                            20905 ; 298  |#define HW_USBPHYRX_PLLDIV_BY_10 0x090000
                            20906 ; 299  |
                            20907 ; 300  |
                            20908 ; 301  |#define HW_USBRX_HOSTMODETEST_SETMASK (((1<<HW_USBRX_HOSTMODETEST_WIDTH)-1)<<HW_USBRX_HOST
                                  MODETEST_BITPOS)
                            20909 ; 302  |#define HW_USBRX_FSCKSOURCESEL_SETMASK (((1<<HW_USBRX_FSCKSOURCESEL_WIDTH)-1)<<HW_USBRX_FS
                                  CKSOURCESEL_BITPOS)
                            20910 ; 303  |#define HW_USBRX_REGRXDBYPASS_SETMASK (((1<<HW_USBRX_REGRXDBYPASS_WIDTH)-1)<<HW_USBRX_REGR
                                  XDBYPASS_BITPOS)
                            20911 ; 304  |#define HW_USBRX_PLLLOCKED_SETMASK (((1<<HW_USBRX_PLLLOCKED_WIDTH)-1)<<HW_USBRX_PLLLOCKED_
                                  BITPOS)
                            20912 ; 305  |
                            20913 ; 306  |#define HW_USBRX_ENVADJ_CLRMASK (~(WORD)HW_USBRX_ENVADJ_SETMASK)
                            20914 ; 307  |#define HW_USBRX_DISCONADJ_CLRMASK (~(WORD)HW_USBRX_DISCONADJ_SETMASK)
                            20915 ; 308  |#define HW_USBRX_DEBUGMODE_CLRMASK (~(WORD)HW_USBRX_DEBUGMODE_SETMASK)
                            20916 ; 309  |#define HW_USBRX_PLLLKTIMECTL_CLRMASK (~(WORD)HW_USBRX_PLLLKTIMECTL_SETMASK)
                            20917 ; 310  |#define HW_USBRX_PLLCKDIVCTL_CLRMASK (~(WORD)HW_USBRX_PLLCKDIVCTL_SETMASK)
                            20918 ; 311  |#define HW_USBRX_HOSTMODETEST_CLRMASK (~(WORD)HW_USBRX_HOSTMODETEST_SETMASK)
                            20919 ; 312  |#define HW_USBRX_FSCKSOURCESEL_CLRMASK (~(WORD)HW_USBRX_FSCKSOURCESEL_SETMASK)
                            20920 ; 313  |#define HW_USBRX_REGRXDBYPASS_CLRMASK (~(WORD)HW_USBRX_REGRXDBYPASS_SETMASK)
                            20921 ; 314  |#define HW_USBRX_PLLLOCKED_CLRMASK (~(WORD)HW_USBRX_PLLLOCKED_SETMASK)
                            20922 ; 315  |
                            20923 ; 316  |typedef union               
                            20924 ; 317  |{
                            20925 ; 318  |    struct {
                            20926 ; 319  |     int ENVADJ               :4;
                            20927 ; 320  |     int DISCONADJ            :4;
                            20928 ; 321  |     int DEBUGMODE            :4;
                            20929 ; 322  |     int PLLLKTIMECTL         :4;
                            20930 ; 323  |     int PLLCKDIVCTL          :4;
                            20931 ; 324  |     int HOSTMODETEST         :1;
                            20932 ; 325  |     int FSCKSOURCESEL        :1;
                            20933 ; 326  |     int REGRXDBYPASS         :1;
                            20934 ; 327  |     int PLLLOCKED            :1;
                            20935 ; 328  |    } B;
                            20936 ; 329  |    int I;
                            20937 ; 330  |} usbphyrx_type;
                            20938 ; 331  |#define HW_USBPHYRX      (*(volatile usbphyrx_type _X*) (HW_USBPHY_BASEADDR+3))    
                            20939 ; 332  |
                            20940 ; 333  |#endif
                            20941 ; 334  |
                            20942 
                            20944 
                            20945 ; 38   |
                            20946 ; 39   |
                            20947 ; 40   |#endif // if (!@def(hwequ))
                            20948 ; 41   |
                            20949 
                            20951 
                            20952 ; 12   |#else 
                            20953 ; 13   |//include "regscodec.inc"
                            20954 ; 14   |#endif
                            20955 ; 15   |
                            20956 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            20957 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults
                                   ON) & 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 347

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20958 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm
                                  . STMP00012148
                            20959 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal
                                  ). 
                            20960 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's spe
                                  cs can 
                            20961 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player m
                                  ode.  
                            20962 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            20963 ; 23   |
                            20964 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            20965 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            20966 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            20967 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define bel
                                  ow by defining
                            20968 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            20969 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            20970 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            20971 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot 
                                  config above- 
                            20972 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down thresh
                                  holds by maybe 50mV.
                            20973 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed
                                  .
                            20974 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            20975 ; 35   |
                            20976 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            20977 ; 37   |// MEDIA DEFINITIONS
                            20978 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            20979 ; 39   |
                            20980 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            20981 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            20982 ; 42   |#if defined(NAND1)
                            20983 ; 43   |#define SM_INTERNAL_CHIPS 1
                            20984 ; 44   |#else 
                            20985 ; 45   |#if defined(NAND2)
                            20986 ; 46   |#define SM_INTERNAL_CHIPS 2
                            20987 ; 47   |#else 
                            20988 ; 48   |#if defined(NAND3)
                            20989 ; 49   |#define SM_INTERNAL_CHIPS 3
                            20990 ; 50   |#else 
                            20991 ; 51   |#if defined(NAND4)
                            20992 ; 52   |#define SM_INTERNAL_CHIPS 4
                            20993 ; 53   |#else 
                            20994 ; 54   |#define SM_INTERNAL_CHIPS 1
                            20995 ; 55   |#endif
                            20996 ; 56   |#endif
                            20997 ; 57   |#endif
                            20998 ; 58   |#endif
                            20999 ; 59   |
                            21000 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            21001 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            21002 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it rea
                                  ds 0.  
                            21003 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            21004 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it rea
                                  ds 1.
                            21005 ; 65   |//*** comment out if active high ****
                            21006 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            21007 ; 67   |
                            21008 ; 68   |#if defined(SMEDIA)
                            21009 ; 69   |#define NUM_REMOVABLE_MEDIA 1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 348

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21010 ; 70   |#define NUM_SM_EXTERNAL 1
                            21011 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            21012 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            21013 ; 73   |#else 
                            21014 ; 74   |#if defined(MMC)
                            21015 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            21016 ; 76   |#define NUM_SM_EXTERNAL 0
                            21017 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            21018 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            21019 ; 79   |#else 
                            21020 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            21021 ; 81   |#define NUM_SM_EXTERNAL 0
                            21022 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            21023 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            21024 ; 84   |#endif
                            21025 ; 85   |#endif
                            21026 ; 86   |
                            21027 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            21028 ; 88   |// Mass Storage Class definitions
                            21029 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            21030 ; 90   |// Set to 0 if Composite Device build is desired.    
                            21031 ; 91   |#define MULTI_LUN_BUILD 1   
                            21032 ; 92   |
                            21033 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            21034 ; 94   |//  SCSI
                            21035 ; 95   |#if (MULTI_LUN_BUILD==0)
                            21036 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            21037 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            21038 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            21039 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            21040 ; 100  |  #else
                            21041 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            21042 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            21043 ; 103  |  #endif
                            21044 ; 104  |#else
                            21045 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            21046 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            21047 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            21048 ; 108  |  #else
                            21049 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            21050 ; 110  |  #endif
                            21051 ; 111  |#endif
                            21052 ; 112  |
                            21053 ; 113  |
                            21054 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            21055 ; 115  |
                            21056 ; 116  |
                            21057 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            21058 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            21059 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            21060 ; 120  |#ifdef MMC
                            21061 ; 121  |#ifdef MTP_BUILD
                            21062 ; 122  |// --------------------
                            21063 ; 123  |// MTP and MMC
                            21064 ; 124  |// --------------------
                            21065 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            21066 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            21067 ; 127  |#else  // ifndef MTP_BUILD
                            21068 ; 128  |#ifdef STMP_BUILD_PLAYER
                            21069 ; 129  |// --------------------
                            21070 ; 130  |// Player and MMC
                            21071 ; 131  |// --------------------
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 349

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21072 ; 132  |#else
                            21073 ; 133  |// --------------------
                            21074 ; 134  |// USBMSC and MMC
                            21075 ; 135  |// --------------------
                            21076 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            21077 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            21078 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            21079 ; 139  |#endif // ifdef MTP_BUILD
                            21080 ; 140  |#else  // ifndef MMC
                            21081 ; 141  |#ifdef MTP_BUILD
                            21082 ; 142  |// --------------------
                            21083 ; 143  |// MTP and NAND only
                            21084 ; 144  |// --------------------
                            21085 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            21086 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            21087 ; 147  |#else  // ifndef MTP_BUILD
                            21088 ; 148  |#ifdef STMP_BUILD_PLAYER
                            21089 ; 149  |// --------------------
                            21090 ; 150  |// Player and NAND only
                            21091 ; 151  |// --------------------
                            21092 ; 152  |#else
                            21093 ; 153  |// --------------------
                            21094 ; 154  |// USBMSC and NAND only
                            21095 ; 155  |// --------------------
                            21096 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            21097 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            21098 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            21099 ; 159  |#endif // ifdef MTP_BUILD
                            21100 ; 160  |#endif // ifdef MMC 
                            21101 ; 161  |
                            21102 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            21103 ; 163  |#if (defined(MTP_BUILD))
                            21104 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            21105 ; 165  |
                            21106 ; 166  |////!
                            21107 ; 167  |////! This varible holds the watchdog count for the store flush.
                            21108 ; 168  |////!
                            21109 ; 169  |///
                            21110 ; 170  |#include <types.h>
                            21111 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            21112 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            21113 ; 173  |#endif
                            21114 ; 174  |
                            21115 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            21116 ; 176  |// These are needed here for Mass Storage Class
                            21117 ; 177  |// Needs to be cleaned up
                            21118 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            21119 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            21120 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            21121 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            21122 ; 182  |
                            21123 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            21124 ; 184  |
                            21125 ; 185  |#endif
                            21126 ; 186  |
                            21127 ; 187  |
                            21128 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            21129 ; 189  |// SmartMedia/NAND defs
                            21130 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            21131 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            21132 ; 192  |
                            21133 ; 193  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 350

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21134 ; 194  |// Sysloadresources defs
                            21135 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            21136 ; 196  |
                            21137 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            21138 ; 198  |// MMC defs
                            21139 ; 199  |#define MMC_MAX_PARTITIONS 1
                            21140 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            21141 ; 201  |
                            21142 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            21143 ; 203  |// SPI defs
                            21144 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            21145 ; 205  |
                            21146 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            21147 ; 207  |// Global media defs
                            21148 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            21149 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            21150 ; 210  |
                            21151 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            21152 ; 212  |// DO NOT CHANGE THESE!!!
                            21153 ; 213  |#define SM_MAX_PARTITIONS 4
                            21154 ; 214  |#define MAX_HANDLES 2
                            21155 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            21156 ; 216  |
                            21157 ; 217  |
                            21158 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            21159 ; 219  |// Battery LRADC Values 
                            21160 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            21161 ; 221  |// brownout trip point in mV (moved by RS)
                            21162 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            21163 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            21164 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            21165 ; 225  |//     audio recording to media.
                            21166 ; 226  |#define BATT_SAFETY_MARGIN 10
                            21167 ; 227  |
                            21168 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                                  
                            21169 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline vol
                                  tage to do a refresh.
                            21170 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            21171 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            21172 ; 232  |
                            21173 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc 
                                  presence.
                            21174 ; 234  |
                            21175 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            21176 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat che
                                  ck.
                            21177 ; 237  |#if (!defined(CLCD))
                            21178 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            21179 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            21180 ; 240  |#else 
                            21181 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            21182 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            21183 ; 243  |#endif
                            21184 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            21185 ; 245  |
                            21186 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            21187 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIo
                                  n.
                            21188 ; 248  |// See mp3 encoder overlay.
                            21189 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            21190 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 351

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21191 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            21192 ; 252  |
                            21193 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            21194 ; 254  |// Voice recording filenames
                            21195 ; 255  |// number of digits in filename Vxxx.wav
                            21196 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            21197 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            21198 ; 258  |
                            21199 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            21200 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            21201 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            21202 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            21203 ; 263  |#if defined(DEVICE_3500)
                            21204 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            21205 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            21206 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            21207 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, 
                                  & demo player)
                            21208 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            21209 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            21210 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            21211 ; 271  |
                            21212 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn whe
                                  n bias not yet ready.
                            21213 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            21214 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevent
                                  ion if you use rec button from outside voice menu.
                            21215 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latenc
                                  y in the record-from-music-menu use-case.
                            21216 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            21217 ; 277  |
                            21218 ; 278  |#else 
                            21219 ; 279  |// STMP3410
                            21220 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            21221 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            21222 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            21223 ; 283  |#endif
                            21224 ; 284  |
                            21225 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            21226 ; 286  |// Number of available soft timers
                            21227 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            21228 ; 288  |#if defined(SYNC_LYRICS)
                            21229 ; 289  |#define SOFT_TIMERS 10
                            21230 ; 290  |#else 
                            21231 ; 291  |#if defined(JPEG_DECODER)
                            21232 ; 292  |#define SOFT_TIMERS 10
                            21233 ; 293  |#else 
                            21234 ; 294  |#define SOFT_TIMERS 9
                            21235 ; 295  |#endif
                            21236 ; 296  |#endif
                            21237 ; 297  |
                            21238 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            21239 ; 299  |//  sizes
                            21240 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            21241 ; 301  |#if defined(MMC)
                            21242 ; 302  |#if defined(USE_PLAYLIST5)
                            21243 ; 303  |#define MENU_STACK_SIZE 1500
                            21244 ; 304  |#else 
                            21245 ; 305  |#define MENU_STACK_SIZE 1250
                            21246 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            21247 ; 307  |#else 
                            21248 ; 308  |#if defined(USE_PLAYLIST5)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 352

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21249 ; 309  |#define MENU_STACK_SIZE 1500
                            21250 ; 310  |#else 
                            21251 ; 311  |#define MENU_STACK_SIZE 1250
                            21252 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            21253 ; 313  |#endif //if @def('MMC')
                            21254 ; 314  |
                            21255 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 75
                                  0 else 550 for other builds? TOVERIFY. MYALLOC
                            21256 ; 316  |// 
                            21257 ; 317  |#define STACK_L1_SIZE 750
                            21258 ; 318  |#define STACK_L2_SIZE 100
                            21259 ; 319  |#define STACK_L3_SIZE 160
                            21260 ; 320  |
                            21261 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            21262 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            21263 ; 323  |// is ok with switching code.
                            21264 ; 324  |#if defined(MTP_BUILD)
                            21265 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            21266 ; 326  |#endif
                            21267 ; 327  |
                            21268 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            21269 ; 329  |// maximum number of nested funclets 
                            21270 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            21271 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            21272 ; 332  |
                            21273 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            21274 ; 334  |//    LCD DEFINITIONS
                            21275 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            21276 ; 336  |
                            21277 ; 337  |#define SPACE_CHAR 0x000020          
                            21278 ; 338  |#define ZERO_CHAR 0x000030
                            21279 ; 339  |#define COLON_CHAR 0x00003A
                            21280 ; 340  |#define PERIOD_CHAR 0x00002E
                            21281 ; 341  |
                            21282 ; 342  |#if (defined(S6B33B0A_LCD))
                            21283 ; 343  |#define LCD_X_SIZE 128
                            21284 ; 344  |#define LCD_Y_SIZE 159
                            21285 ; 345  |#endif
                            21286 ; 346  |
                            21287 ; 347  |#if (defined(SED15XX_LCD))
                            21288 ; 348  |#define LCD_X_SIZE 128
                            21289 ; 349  |#define LCD_Y_SIZE 64
                            21290 ; 350  |#endif
                            21291 ; 351  |
                            21292 ; 352  |
                            21293 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            21294 ; 354  |//   Details on Customizing Contrast
                            21295 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            21296 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            21297 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            21298 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            21299 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            21300 ; 360  |//   unless the ezact sequence is remembered.
                            21301 ; 361  |//   To find out what range your player supports: 
                            21302 ; 362  |//   change these equs to full range or comment out (full range is default)
                            21303 ; 363  |//;;;;;;
                            21304 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            21305 ; 365  |// recommended calibration using player -- uncomment 
                            21306 ; 366  |//;;;;;;
                            21307 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            21308 ; 368  |////////////////////////////
                            21309 ; 369  |#if (defined(DEMO_HW))
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 353

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21310 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi 
                                  LCD (June6'05)
                            21311 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            21312 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            21313 ; 373  |#else 
                            21314 ; 374  |
                            21315 ; 375  |#if (defined(S6B33B0A_LCD))
                            21316 ; 376  |#define LCD_MAX_CONTRAST 210
                            21317 ; 377  |#define LCD_MIN_CONTRAST 160    
                            21318 ; 378  |#endif
                            21319 ; 379  |
                            21320 ; 380  |#if (defined(SED15XX_LCD))
                            21321 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            21322 ; 382  |// Engineering board regs support range [17-37].
                            21323 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            21324 ; 384  |//   One default contrast range [24-42] works for both.
                            21325 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            21326 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            21327 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            21328 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            21329 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            21330 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            21331 ; 391  |
                            21332 ; 392  |#if (defined(NEWSHINGYIH))
                            21333 ; 393  |#define LCD_MAX_CONTRAST 250
                            21334 ; 394  |#define LCD_MIN_CONTRAST 0
                            21335 ; 395  |#else 
                            21336 ; 396  |//-----
                            21337 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            21338 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for bo
                                  th LCDs.
                            21339 ; 399  |#define LCD_MAX_CONTRAST 250
                            21340 ; 400  |#define LCD_MIN_CONTRAST 0
                            21341 ; 401  |
                            21342 ; 402  |//=====
                            21343 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            21344 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this hi
                                  storic ver.
                            21345 ; 405  |//LCD_MAX_CONTRAST equ 42
                            21346 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            21347 ; 407  |
                            21348 ; 408  |#endif
                            21349 ; 409  |#endif
                            21350 ; 410  |
                            21351 ; 411  |#endif
                            21352 ; 412  |
                            21353 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            21354 ; 414  |// The default value of the lcd contrast in % of range
                            21355 ; 415  |//   the default value is used when no settings.dat is available
                            21356 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            21357 ; 417  |
                            21358 ; 418  |#if (defined(S6B33B0A_LCD))
                            21359 ; 419  |// 60% of range is default value
                            21360 ; 420  |#define DEFAULT_CONTRAST 50 
                            21361 ; 421  |#endif
                            21362 ; 422  |
                            21363 ; 423  |#if (defined(SED15XX_LCD))
                            21364 ; 424  |// % of range is default value (was 60%)
                            21365 ; 425  |#define DEFAULT_CONTRAST 50 
                            21366 ; 426  |#endif
                            21367 ; 427  |
                            21368 ; 428  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 354

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21369 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            21370 ; 430  |// make lower when doing calibration
                            21371 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            21372 ; 432  |
                            21373 ; 433  |
                            21374 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            21375 ; 435  |// For FFWD and RWND
                            21376 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            21377 ; 437  |#define SECONDS_TO_SKIP 1
                            21378 ; 438  |#define SECONDS_TO_SKIP1 3
                            21379 ; 439  |#define SECONDS_TO_SKIP2 6
                            21380 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            21381 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            21382 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21383 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            21384 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21385 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            21386 ; 446  |
                            21387 ; 447  |// For audible FFW/RWD
                            21388 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            21389 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            21390 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            21391 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            21392 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21393 ; 453  |#define LEVEL1_BOUNDARY 17 
                            21394 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21395 ; 455  |#define LEVEL2_BOUNDARY 33 
                            21396 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21397 ; 457  |#define LEVEL3_BOUNDARY 50 
                            21398 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            21399 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            21400 ; 460  |// Short Song Time, songs too short to play.
                            21401 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            21402 ; 462  |
                            21403 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            21404 ; 464  |// MP3 Sync Values
                            21405 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            21406 ; 466  |// # bytes to look for sync before marking it bad
                            21407 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            21408 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            21409 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            21410 ; 470  |// once we have sync'd, the isr should be called this frequently
                            21411 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            21412 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            21413 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            21414 ; 474  |
                            21415 ; 475  |
                            21416 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            21417 ; 477  |//// Multi-Stage Volume Control Definitions
                            21418 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            21419 ; 479  |//// Use Multi-Stage Volume
                            21420 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            21421 ; 481  |
                            21422 ; 482  |//// Master Volume definitions
                            21423 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            21424 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            21425 ; 485  |
                            21426 ; 486  |//// DAC-Mode definitions
                            21427 ; 487  |//// Adjusts 0dB point
                            21428 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            21429 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 355

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21430 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines 
                                  above.
                            21431 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            21432 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provid
                                  es 1.5 dB gain on Stmp34x0; 
                            21433 ; 493  |//                                               Max gain possible: 8 step diff would prov
                                  ide +12dB gain.   
                            21434 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            21435 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            21436 ; 496  |
                            21437 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            21438 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            21439 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                                  
                            21440 ; 500  |
                            21441 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not t
                                  he default
                            21442 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoin
                                  t.
                            21443 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            21444 ; 504  |
                            21445 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the def
                                  ault
                            21446 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            21447 ; 507  |
                            21448 ; 508  |
                            21449 ; 509  |//// Line In definitions (used for Line-In 1)
                            21450 ; 510  |//// 0dB point of the Line In
                            21451 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            21452 ; 512  |//// Minimum volume of Line In
                            21453 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            21454 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            21455 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            21456 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            21457 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            21458 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS
                                  +1)
                            21459 ; 519  |
                            21460 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            21461 ; 521  |//// 0dB point of the Line In
                            21462 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            21463 ; 523  |//// Minimum volume of Line In
                            21464 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            21465 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            21466 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            21467 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            21468 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            21469 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            21470 ; 530  |
                            21471 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            21472 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid dea
                                  dlock states & recovers. 
                            21473 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            21474 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            21475 ; 535  |
                            21476 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            21477 ; 537  |////
                            21478 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            21479 ; 539  |////
                            21480 ; 540  |///
                            21481 ; 541  |#include <types.h>
                            21482 ; 542  |extern volatile WORD g_wActivityState;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 356

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21483 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            21484 ; 544  |
                            21485 ; 545  |void _reentrant Init5VSense(void);
                            21486 ; 546  |void _reentrant ServiceDCDC(void);
                            21487 ; 547  |
                            21488 ; 548  |////////////////////////////////////////////////////////////////////////////
                            21489 ; 549  |//// JPEG Thumbnail Mode Setting
                            21490 ; 550  |//// number of column in thumbnail mode
                            21491 ; 551  |#define THUMBNAIL_X 2           
                            21492 ; 552  |//// number of row in  thumbnail mode
                            21493 ; 553  |#define THUMBNAIL_Y 2           
                            21494 ; 554  |//// thumbnail boundary offset x
                            21495 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            21496 ; 556  |//// thumbnail boundary offset y
                            21497 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            21498 ; 558  |
                            21499 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            21500 ; 560  |
                            21501 
                            21503 
                            21504 ; 101  |
                            21505 ; 102  |/*========================================================================================
                                  ==========
                            21506 ; 103  |                                             CONSTANTS
                            21507 ; 104  |==========================================================================================
                                  ========*/
                            21508 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            21509 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            21510 ; 107  |Artistname                              1:0
                            21511 ; 108  |Albumname                               3:2
                            21512 ; 109  |Genrename                               5:4
                            21513 ; 110  |Songname                                7:6
                            21514 ; 111  |----------------------------------------------------------
                            21515 ; 112  |    Value (2 bits)                      Meanings
                            21516 ; 113  |    0                                   RAW and All ASCII
                            21517 ; 114  |    1                                   Uni-code
                            21518 ; 115  |    2                                   Mixed, non-unicode
                            21519 ; 116  |
                            21520 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            21521 ; 118  |*/
                            21522 ; 119  |#define BITMASK_ARTIST  (0x03)
                            21523 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            21524 ; 121  |#define BITMASK_GENRE   (0x30)
                            21525 ; 122  |#define BITMASK_SONG    (0xC0)
                            21526 ; 123  |
                            21527 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            21528 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            21529 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            21530 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            21531 ; 128  |
                            21532 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            21533 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            21534 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            21535 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            21536 ; 133  |
                            21537 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            21538 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            21539 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            21540 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            21541 ; 138  |
                            21542 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            21543 ; 140  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 357

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21544 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            21545 ; 142  |
                            21546 ; 143  |#define INDEX_EOF       0xFFF
                            21547 ; 144  |#ifdef _FOLDER_BROWSE_
                            21548 ; 145  |#define INDEX_ROOT  0xffe
                            21549 ; 146  |#define UNKNOWN_RECORD  0xfff
                            21550 ; 147  |#endif  // _FOLDER_BROWSE_
                            21551 ; 148  |
                            21552 ; 149  |/* Constant for item_type */
                            21553 ; 150  |#define         ITEM_ARTIST                     0
                            21554 ; 151  |#define         ITEM_ALBUM                      1
                            21555 ; 152  |#define         ITEM_GENRE                      2
                            21556 ; 153  |#define         ITEM_TRACK                      3
                            21557 ; 154  |#define         ITEM_YEAR                       4
                            21558 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            21559 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            21560 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            21561 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            21562 ; 159  |#ifdef _NEWMUSIC_
                            21563 ; 160  |#define         ITEM_1DAY                       10
                            21564 ; 161  |#define         ITEM_1WEEK                      11
                            21565 ; 162  |#define         ITEM_1MONTH                     12
                            21566 ; 163  |#endif
                            21567 ; 164  |#ifdef _AUDIBLE_
                            21568 ; 165  |#define         ITEM_AUDIBLE            13
                            21569 ; 166  |#endif
                            21570 ; 167  |#define         ITEM_ON_THE_GO          14
                            21571 ; 168  |
                            21572 ; 169  |#define         ITEM_VOICE                      15
                            21573 ; 170  |#define         ITEM_FMREC                      16
                            21574 ; 171  |#define         ITEM_PHOTO                      17
                            21575 ; 172  |#ifdef _FOLDER_BROWSE_
                            21576 ; 173  |#define         ITEM_INTERNAL           18
                            21577 ; 174  |#define         ITEM_EXTERNAL       19
                            21578 ; 175  |#endif  // _FOLDER_BROWSE_
                            21579 ; 176  |#define     ITEM_UNKNOWN        0xff
                            21580 ; 177  |
                            21581 ; 178  |/*
                            21582 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_inf
                                  o, int16 option);
                            21583 ; 180  |option input.
                            21584 ; 181  |*/
                            21585 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            21586 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            21587 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            21588 ; 185  |#ifdef _FOLDER_BROWSE_
                            21589 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            21590 ; 187  |#endif  // _FOLDER_BROWSE_
                            21591 ; 188  |
                            21592 ; 189  |/* Constant for key action */
                            21593 ; 190  |#define         ACTION_OK                               0               /* Press OK button
                                   */
                            21594 ; 191  |#define         ACTION_BACK                             1               /* Press BACK butt
                                  on */
                            21595 ; 192  |#define         ACTION_UP                               2               /* Press UP button
                                   */
                            21596 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN butt
                                  on */
                            21597 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            21598 ; 195  |#define         ACTION_MENU                             5               /* Back the browsi
                                  ng tree to root */
                            21599 ; 196  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 358

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21600 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            21601 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            21602 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            21603 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            21604 ; 201  |
                            21605 ; 202  |#define         NO_SD                                   0
                            21606 ; 203  |#define         HAS_SD                                  1
                            21607 ; 204  |
                            21608 ; 205  |#define         PLAY_NORMAL                             0
                            21609 ; 206  |#define         PLAY_SHUFFLE                    1
                            21610 ; 207  |
                            21611 ; 208  |#define     PLAY_REPEAT_OFF         0
                            21612 ; 209  |#define     PLAY_REPEAT_ON          1
                            21613 ; 210  |
                            21614 ; 211  |#define     PLAY_SELECT_FLASH       0
                            21615 ; 212  |#define     PLAY_SELECT_SD          1
                            21616 ; 213  |
                            21617 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            21618 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            21619 ; 216  |
                            21620 ; 217  |#define         ON_THE_GO_EXIST                 0
                            21621 ; 218  |#define         ON_THE_GO_FULL                  1
                            21622 ; 219  |#define         ON_THE_GO_FREE                  2
                            21623 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            21624 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            21625 ; 222  |
                            21626 ; 223  |#define         REC_VOICE_TYPE                  0
                            21627 ; 224  |#define         REC_FMREC_TYPE                  1
                            21628 ; 225  |#define         REC_PHOTO_TYPE                  2
                            21629 ; 226  |#define         VOICE_FILE_ADD                  0
                            21630 ; 227  |#define         VOICE_FILE_DEL                  1
                            21631 ; 228  |
                            21632 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            21633 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            21634 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            21635 ; 232  |flash or external SD card */
                            21636 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            21637 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            21638 ; 235  |#else
                            21639 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            21640 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            21641 ; 238  |
                            21642 ; 239  |/* number of byte in one DSP word */
                            21643 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            21644 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            21645 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            21646 ; 243  |are 10 level directory structure */
                            21647 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            21648 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            21649 ; 246  |
                            21650 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            21651 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            21652 ; 249  |/* number of songs in each new music list */
                            21653 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            21654 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            21655 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            21656 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            21657 ; 254  |/* number of songs in the on-the-fly list */
                            21658 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            21659 ; 256  |/* number of files audible list */
                            21660 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            21661 ; 258  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 359

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21662 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            21663 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            21664 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            21665 ; 262  |
                            21666 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            21667 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            21668 ; 265  |#ifdef _FOLDER_BROWSE_
                            21669 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            21670 ; 267  |#else
                            21671 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            21672 ; 269  |#endif  // _FOLDER_BROWSE_
                            21673 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            21674 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            21675 ; 272  |
                            21676 ; 273  |#ifndef _MAX_DIR_DEPTH
                            21677 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            21678 ; 275  |#endif  // _MAX_DIR_DEPTH
                            21679 ; 276  |
                            21680 ; 277  |/*========================================================================================
                                  ==========*/
                            21681 ; 278  |
                            21682 ; 279  |
                            21683 ; 280  |/*========================================================================================
                                  ==========
                            21684 ; 281  |                                               MACROS
                            21685 ; 282  |==========================================================================================
                                  ========*/
                            21686 ; 283  |
                            21687 ; 284  |/*========================================================================================
                                  ==========
                            21688 ; 285  |                                               ENUMS
                            21689 ; 286  |==========================================================================================
                                  ========*/
                            21690 ; 287  |#define NUM_OF_MEDIA                            (2)
                            21691 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            21692 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            21693 ; 290  |/*========================================================================================
                                  ==========
                            21694 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            21695 ; 292  |==========================================================================================
                                  ========*/
                            21696 ; 293  |
                            21697 ; 294  |typedef char    int8;
                            21698 ; 295  |typedef short   int16;
                            21699 ; 296  |typedef int     int24;
                            21700 ; 297  |typedef long    int32;
                            21701 ; 298  |
                            21702 ; 299  |typedef int     intx;
                            21703 ; 300  |
                            21704 ; 301  |typedef unsigned char   uint8;
                            21705 ; 302  |typedef unsigned short  uint16;
                            21706 ; 303  |typedef unsigned int    uint24;
                            21707 ; 304  |typedef unsigned long   uint32;
                            21708 
                            21712 
                            21713 ; 305  |
                            21714 ; 306  |/*
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 360

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21715 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode form
                                  at.
                            21716 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            21717 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            21718 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            21719 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            21720 ; 312  |*/
                            21721 ; 313  |/*
                            21722 ; 314  |path_name[] _must_have_data_:
                            21723 ; 315  |path_name[] = (Max. 120 Characters);
                            21724 ; 316  |year range:
                            21725 ; 317  |year = 0x000000-0xFFFFFF;
                            21726 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            21727 ; 319  |Unknown track number:
                            21728 ; 320  |track_number = 0x7FFFFF;
                            21729 ; 321  |unicode refer to above #define BITMASK_*
                            21730 ; 322  |*/
                            21731 ; 323  |/*
                            21732 ; 324  |Interface of UI and Music Library
                            21733 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            21734 ; 326  |
                            21735 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            21736 ; 328  |
                            21737 ; 329  |3) UI to Music Library variable passing length definition:
                            21738 ; 330  |        All ASCII Characters:
                            21739 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            21740 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            21741 ; 333  |        Unicode Characters:
                            21742 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            21743 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            21744 ; 336  |
                            21745 ; 337  |4) UI input data to Music Library in two formats.
                            21746 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            21747 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            21748 ; 340  |
                            21749 ; 341  |5) UI calling function:
                            21750 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            21751 ; 343  |        int16 option definition:
                            21752 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            21753 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            21754 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            21755 ; 347  |
                            21756 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            21757 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_l
                                  ist separately.
                            21758 ; 350  |
                            21759 ; 351  |6) Modification Date:
                            21760 ; 352  |        uint24 g_file_time:
                            21761 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            21762 ; 354  |*/
                            21763 ; 355  |
                            21764 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            21765 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            21766 ; 358  |typedef struct _ram_song_info {
                            21767 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21768 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21769 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21770 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21771 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21772 ; 364  |    uint32 g_songFastKey;
                            21773 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21774 ; 366  |        uint24 year;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 361

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21775 ; 367  |        uint24 track_number;
                            21776 ; 368  |        uint8 unicode;
                            21777 ; 369  |} RAM_SONG_INFO_T;
                            21778 ; 370  |
                            21779 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            21780 ; 372  |typedef struct _flash_group_name {
                            21781 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21782 ; 374  |        uint8 unicode;
                            21783 ; 375  |} FLASH_GROUP_NAME_T;
                            21784 ; 376  |
                            21785 ; 377  |// struct to store directories information passed from UI
                            21786 ; 378  |#ifdef _FOLDER_BROWSE_
                            21787 ; 379  |typedef struct _ml_DirInfo {
                            21788 ; 380  |        uint24  u8Unicode : 8;
                            21789 ; 381  |        uint24  u12DirDepth : 12;
                            21790 ; 382  |        uint24  u4Added : 4;            
                            21791 ; 383  |        INT     iDirRecord;
                            21792 ; 384  |        DWORD   dwFastKey;
                            21793 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21794 ; 386  |} ML_DIRINFO_T;
                            21795 ; 387  |#endif  // _FOLDER_BROWSE_
                            21796 ; 388  |
                            21797 ; 389  |/*========================================================================================
                                  ==========
                            21798 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            21799 ; 391  |==========================================================================================
                                  ========*/
                            21800 ; 392  |extern uint24   IsPlayOnTheGo;
                            21801 
                            21807 
                            21808 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            21809 ; 394  |extern uint24   merge_id_list_flash[];
                            21810 ; 395  |extern uint24   merge_id_list_sd[];
                            21811 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            21812 ; 397  |#ifdef _FOLDER_BROWSE_
                            21813 
                            21826 
                            21827 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            21828 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21829 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            21830 ; 401  |#endif  // _FOLDER_BROWSE_
                            21831 ; 402  |extern INT _X    *sec_temp_buf_X;
                            21832 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 =
                                   repeat on/off(0=off/1=on) */
                            21833 ; 404  |
                            21834 ; 405  |/*========================================================================================
                                  ==========
                            21835 ; 406  |                                        FUNCTION PROTOTYPES
                            21836 ; 407  |==========================================================================================
                                  ========*/
                            21837 ; 408  |
                            21838 ; 409  |///////////////////////////////////////////////////////////////////////
                            21839 ; 410  |//! \brief
                            21840 ; 411  |//!
                            21841 ; 412  |//! \fntype Function
                            21842 ; 413  |//!
                            21843 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            21844 ; 415  |//! Call only once before inserting items. Call once for each media.
                            21845 ; 416  |//!
                            21846 ; 417  |//! \param[in]  none
                            21847 ; 418  |//!
                            21848 ; 419  |//! \return
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 362

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21849 ; 420  |//!
                            21850 ; 421  |///////////////////////////////////////////////////////////////////////
                            21851 ; 422  |void ML_InitLibraryParameter(void);
                            21852 ; 423  |
                            21853 ; 424  |///////////////////////////////////////////////////////////////////////
                            21854 ; 425  |//! \brief
                            21855 ; 426  |//!
                            21856 ; 427  |//! \fntype Function
                            21857 ; 428  |//!
                            21858 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            21859 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            21860 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each son
                                  g,
                            21861 ; 432  |//! the song information is recorded in music library.
                            21862 ; 433  |//!
                            21863 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            21864 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passe
                                  d from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            21865 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav f
                                  ormat file.
                            21866 ; 437  |//!
                            21867 ; 438  |//! \return
                            21868 ; 439  |//!
                            21869 ; 440  |///////////////////////////////////////////////////////////////////////
                            21870 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            21871 
                            21885 
                            21886 ; 442  |
                            21887 ; 443  |///////////////////////////////////////////////////////////////////////
                            21888 ; 444  |//! \brief
                            21889 ; 445  |//!
                            21890 ; 446  |//! \fntype Function
                            21891 ; 447  |//!
                            21892 ; 448  |//! \param[in]
                            21893 ; 449  |//!
                            21894 ; 450  |//! \return
                            21895 ; 451  |//!
                            21896 ; 452  |///////////////////////////////////////////////////////////////////////
                            21897 ; 453  |#ifdef _FOLDER_BROWSE_
                            21898 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int1
                                  6 i16Option);
                            21899 ; 455  |#endif  // _FOLDER_BROWSE_
                            21900 ; 456  |
                            21901 ; 457  |///////////////////////////////////////////////////////////////////////
                            21902 ; 458  |//! \brief
                            21903 ; 459  |//!
                            21904 ; 460  |//! \fntype Function
                            21905 ; 461  |//!
                            21906 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            21907 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            21908 ; 464  |//! music library for that particular media.
                            21909 ; 465  |//!
                            21910 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            21911 ; 467  |//!
                            21912 ; 468  |//! \return
                            21913 ; 469  |//!
                            21914 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            21915 ; 471  |//!         function.
                            21916 ; 472  |///////////////////////////////////////////////////////////////////////
                            21917 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 363

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21918 ; 474  |
                            21919 ; 475  |///////////////////////////////////////////////////////////////////////
                            21920 ; 476  |//! \brief
                            21921 ; 477  |//!
                            21922 ; 478  |//! \fntype Function
                            21923 ; 479  |//!
                            21924 ; 480  |//! \param[in]
                            21925 ; 481  |//!
                            21926 ; 482  |//! \return
                            21927 ; 483  |//!
                            21928 ; 484  |///////////////////////////////////////////////////////////////////////
                            21929 ; 485  |#ifdef _NEWMUSIC_
                            21930 ; 486  |void ML_UpdateNewMusic(void);
                            21931 ; 487  |#endif
                            21932 ; 488  |
                            21933 ; 489  |///////////////////////////////////////////////////////////////////////
                            21934 ; 490  |//! \brief
                            21935 ; 491  |//!
                            21936 ; 492  |//! \fntype Function
                            21937 ; 493  |//!
                            21938 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            21939 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            21940 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            21941 ; 497  |//!
                            21942 ; 498  |//! \param[in]  none
                            21943 ; 499  |//!
                            21944 ; 500  |//! \return
                            21945 ; 501  |//!
                            21946 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            21947 ; 503  |//!         must be called before calling any other music library functions.
                            21948 ; 504  |///////////////////////////////////////////////////////////////////////
                            21949 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            21950 ; 506  |
                            21951 ; 507  |///////////////////////////////////////////////////////////////////////
                            21952 ; 508  |//! \brief
                            21953 ; 509  |//!
                            21954 ; 510  |//! \fntype Function
                            21955 ; 511  |//!
                            21956 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            21957 ; 513  |//! library operation.
                            21958 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            21959 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file
                                   and the
                            21960 ; 516  |//! music.sec file do not exist.
                            21961 ; 517  |//!
                            21962 ; 518  |//! \param[in]  none
                            21963 ; 519  |//!
                            21964 ; 520  |//! \return
                            21965 ; 521  |//!
                            21966 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            21967 ; 523  |//!         must be called before calling any other music library functions.
                            21968 ; 524  |///////////////////////////////////////////////////////////////////////
                            21969 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            21970 ; 526  |
                            21971 ; 527  |///////////////////////////////////////////////////////////////////////
                            21972 ; 528  |//! \brief
                            21973 ; 529  |//!
                            21974 ; 530  |//! \fntype Function
                            21975 ; 531  |//!
                            21976 ; 532  |//! Preload the list, prepare for renew.
                            21977 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            21978 ; 534  |//! structure in RAM.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 364

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21979 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            21980 ; 536  |//! in RAM.
                            21981 ; 537  |//!
                            21982 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            21983 ; 539  |//!
                            21984 ; 540  |//! \return
                            21985 ; 541  |//!
                            21986 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            21987 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            21988 ; 544  |///////////////////////////////////////////////////////////////////////
                            21989 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            21990 ; 546  |
                            21991 ; 547  |///////////////////////////////////////////////////////////////////////
                            21992 ; 548  |//! \brief
                            21993 ; 549  |//!
                            21994 ; 550  |//! \fntype Function
                            21995 ; 551  |//!
                            21996 ; 552  |//! Save the list to flash memory.
                            21997 ; 553  |//!
                            21998 ; 554  |//! \param[in]
                            21999 ; 555  |//!
                            22000 ; 556  |//! \return
                            22001 ; 557  |//!
                            22002 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            22003 ; 559  |//!         changed by the user.
                            22004 ; 560  |///////////////////////////////////////////////////////////////////////
                            22005 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            22006 ; 562  |
                            22007 ; 563  |///////////////////////////////////////////////////////////////////////
                            22008 ; 564  |//! \brief
                            22009 ; 565  |//!
                            22010 ; 566  |//! \fntype Function
                            22011 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            22012 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in
                                   the
                            22013 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the l
                                  ist.
                            22014 ; 570  |//! Otherwise the song is deleted.
                            22015 ; 571  |//!
                            22016 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            22017 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            22018 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            22019 ; 575  |//!
                            22020 ; 576  |//! \return
                            22021 ; 577  |//!
                            22022 ; 578  |///////////////////////////////////////////////////////////////////////
                            22023 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            22024 ; 580  |
                            22025 ; 581  |///////////////////////////////////////////////////////////////////////
                            22026 ; 582  |//! \brief
                            22027 ; 583  |//!
                            22028 ; 584  |//! \fntype Function
                            22029 ; 585  |//!
                            22030 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            22031 ; 587  |//! in the ML_UpdateOnTheGo().
                            22032 ; 588  |//!
                            22033 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            22034 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDE
                                  X_EOF (song will be deleted)
                            22035 ; 591  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 365

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22036 ; 592  |//! \return
                            22037 ; 593  |//!
                            22038 ; 594  |///////////////////////////////////////////////////////////////////////
                            22039 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            22040 ; 596  |
                            22041 ; 597  |///////////////////////////////////////////////////////////////////////
                            22042 ; 598  |//! \brief
                            22043 ; 599  |//!
                            22044 ; 600  |//! \fntype Function
                            22045 ; 601  |//!
                            22046 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            22047 ; 603  |//!
                            22048 ; 604  |//! \param[in]  none
                            22049 ; 605  |//!
                            22050 ; 606  |//! \return
                            22051 ; 607  |//!
                            22052 ; 608  |///////////////////////////////////////////////////////////////////////
                            22053 ; 609  |void ML_UpdateOnTheGo(void);
                            22054 ; 610  |
                            22055 ; 611  |///////////////////////////////////////////////////////////////////////
                            22056 ; 612  |//! \brief
                            22057 ; 613  |//!
                            22058 ; 614  |//! \fntype Function
                            22059 ; 615  |//!
                            22060 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            22061 ; 617  |//! Call only once before inserting items. Call once for each media.
                            22062 ; 618  |//!
                            22063 ; 619  |//! \param[in]  none
                            22064 ; 620  |//!
                            22065 ; 621  |//! \return
                            22066 ; 622  |//!
                            22067 ; 623  |///////////////////////////////////////////////////////////////////////
                            22068 ; 624  |void ML_InitVoiceParameter(void);
                            22069 ; 625  |
                            22070 ; 626  |///////////////////////////////////////////////////////////////////////
                            22071 ; 627  |//! \brief
                            22072 ; 628  |//!
                            22073 ; 629  |//! \fntype Function
                            22074 ; 630  |//!
                            22075 ; 631  |//! \param[in]
                            22076 ; 632  |//!
                            22077 ; 633  |//! \return
                            22078 ; 634  |//!
                            22079 ; 635  |///////////////////////////////////////////////////////////////////////
                            22080 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            22081 ; 637  |
                            22082 ; 638  |///////////////////////////////////////////////////////////////////////
                            22083 ; 639  |//! \brief
                            22084 ; 640  |//!
                            22085 ; 641  |//! \fntype Function
                            22086 ; 642  |//!
                            22087 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            22088 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names
                                  .
                            22089 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            22090 ; 646  |//!
                            22091 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            22092 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed f
                                  rom UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            22093 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            22094 ; 650  |//!
                            22095 ; 651  |//! \return
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 366

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22096 ; 652  |//!
                            22097 ; 653  |///////////////////////////////////////////////////////////////////////
                            22098 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            22099 ; 655  |
                            22100 ; 656  |///////////////////////////////////////////////////////////////////////
                            22101 ; 657  |//! \brief
                            22102 ; 658  |//!
                            22103 ; 659  |//! \fntype Function
                            22104 ; 660  |//!
                            22105 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            22106 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice buildi
                                  ng
                            22107 ; 663  |//! of music library for that particular media.
                            22108 ; 664  |//!
                            22109 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            22110 ; 666  |//!
                            22111 ; 667  |//! \return
                            22112 ; 668  |//!
                            22113 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            22114 ; 670  |//!         function.
                            22115 ; 671  |///////////////////////////////////////////////////////////////////////
                            22116 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            22117 ; 673  |
                            22118 ; 674  |///////////////////////////////////////////////////////////////////////
                            22119 ; 675  |//! \brief
                            22120 ; 676  |//!
                            22121 ; 677  |//! \fntype Function
                            22122 ; 678  |//!
                            22123 ; 679  |//! Called by UI, the merge the music library tables album,
                            22124 ; 680  |//! artist, genre, song and year.
                            22125 ; 681  |//!
                            22126 ; 682  |//! \param[in]  none
                            22127 ; 683  |//!
                            22128 ; 684  |//! \return
                            22129 ; 685  |//!
                            22130 ; 686  |///////////////////////////////////////////////////////////////////////
                            22131 ; 687  |void ML_MergeLibraryTables(void);
                            22132 ; 688  |
                            22133 ; 689  |///////////////////////////////////////////////////////////////////////
                            22134 ; 690  |//! \brief
                            22135 ; 691  |//!
                            22136 ; 692  |//! \fntype Function
                            22137 ; 693  |//!
                            22138 ; 694  |//! Called by UI, the merge the music library tables album,
                            22139 ; 695  |//! artist, genre, song and year.
                            22140 ; 696  |//!
                            22141 ; 697  |//! \param[in]  none
                            22142 ; 698  |//!
                            22143 ; 699  |//! \return
                            22144 ; 700  |//!
                            22145 ; 701  |///////////////////////////////////////////////////////////////////////
                            22146 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            22147 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            22148 
                            22150 
                            22151 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            22152 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            22153 ; 706  |
                            22154 ; 707  |///////////////////////////////////////////////////////////////////////
                            22155 ; 708  |//! \brief
                            22156 ; 709  |//!
                            22157 ; 710  |//! \fntype Function
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 367

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22158 ; 711  |//!
                            22159 ; 712  |//! \param[in]
                            22160 ; 713  |//!
                            22161 ; 714  |//! \return
                            22162 ; 715  |//!
                            22163 ; 716  |///////////////////////////////////////////////////////////////////////
                            22164 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            22165 ; 718  |
                            22166 ; 719  |/*========================================================================================
                                  ========*/
                            22167 ; 720  |
                            22168 ; 721  |// Siukoon 2005-02-28
                            22169 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            22170 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            22171 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            22172 ; 725  |#else
                            22173 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            22174 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            22175 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            22176 ; 729  |#define WORD_PER_SECTOR             (171)
                            22177 ; 730  |#define BYTE_PER_SECTOR             (512)
                            22178 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            22179 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PE
                                  R_SECTOR)
                            22180 ; 733  |
                            22181 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            22182 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            22183 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_B
                                  YTE_PER_SECTOR)
                            22184 ; 737  |
                            22185 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            22186 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            22187 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            22188 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            22189 ; 742  |
                            22190 ; 743  |/////////////////////
                            22191 ; 744  |
                            22192 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            22193 ; 746  |
                            22194 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            22195 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            22196 ; 749  |#else
                            22197 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            22198 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            22199 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                                  
                            22200 ; 753  |
                            22201 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            22202 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            22203 ; 756  |
                            22204 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            22205 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            22206 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            22207 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            22208 ; 761  |#else
                            22209 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            22210 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            22211 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            22212 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            22213 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 368

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22214 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            22215 ; 768  |
                            22216 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            22217 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            22218 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            22219 ; 772  |#else
                            22220 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG
                                  _PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            22221 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            22222 ; 775  |
                            22223 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            22224 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SI
                                  ZE_IN_BYTE)
                            22225 ; 778  |
                            22226 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            22227 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            22228 ; 781  |
                            22229 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            22230 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            22231 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            22232 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            22233 ; 786  |#else
                            22234 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            22235 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            22236 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            22237 ; 790  |
                            22238 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            22239 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6
                                  )
                            22240 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            22241 ; 794  |#else
                            22242 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            22243 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            22244 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            22245 ; 798  |
                            22246 ; 799  |#ifdef __cplusplus
                            22247 ; 800  |}
                            22248 ; 801  |#endif
                            22249 ; 802  |
                            22250 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            22251 
                            22253 
                            22254 ; 6    |#endif  // USE_PLAYLIST3
                            22255 ; 7    |
                            22256 ; 8    |#ifndef QUICK_SWITCH_TIMEOUT_TIME
                            22257 ; 9    |// change from 500ms t0 400ms  to reduce inter-song delay by 0.1 sec (8-11-2005)
                            22258 ; 10   |#define QUICK_SWITCH_TIMEOUT_TIME 400   
                            22259 ; 11   |#endif
                            22260 ; 12   |
                            22261 ; 13   |//These are in the DecoderSR/DecoderCSR
                            22262 ; 14   |#define DECODER_VBRFlag         1<<1
                            22263 ; 15   |#define DECODER_PAUSED          1<<5
                            22264 ; 16   |#define DECODER_STOPPED         1<<6
                            22265 ; 17   |#define DECODER_SYNCED          1<<10
                            22266 ; 18   |#define DECODER_PLAYING         1<<12
                            22267 ; 19   |#define DECODER_END_OF_SONG     1<<13           // in DecoderCSR
                            22268 ; 20   |#define DECODER_SONG_INFO       1<<15
                            22269 ; 21   |#define DECODER_FILE_IS_OPEN    1<<16
                            22270 ; 22   |#define DECODER_A_SET           1<<18
                            22271 ; 23   |#define DECODER_B_SET           1<<19
                            22272 ; 24   |#define DECODER_BAD_FILE        1<<21
                            22273 ; 25   |#define DECODER_LOOKING_FOR_SYNC 1<<22
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 369

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22274 ; 26   |
                            22275 ; 27   |#define SEEK_NONE 0
                            22276 ; 28   |#define SEEK_FFWD 1
                            22277 ; 29   |#define SEEK_RWND -1
                            22278 ; 30   |
                            22279 ; 31   |extern _X int g_iSeeking;
                            22280 ; 32   |extern _X INT g_iPlayerState;
                            22281 ; 33   |
                            22282 ; 34   |#ifdef USE_PLAYLIST3
                            22283 ; 35   |extern BOOL bSystemInit;
                            22284 ; 36   |extern uint24   g_is_SD_inserted;
                            22285 ; 37   |extern BOOL bResume;
                            22286 ; 38   |#endif  // USE_PLAYLIST3
                            22287 ; 39   |
                            22288 ; 40   |#ifdef USE_PLAYLIST3
                            22289 ; 41   |void _reentrant ML_browsing_app_init(void);
                            22290 ; 42   |#endif  // USE_PLAYLIST3
                            22291 ; 43   |
                            22292 ; 44   |#endif
                            22293 
                            22295 
                            22296 ; 21   |#include "sysmem.h"
                            22297 
                            22299 
                            22300 ; 1    |//;******************************************************************************
                            22301 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2003
                            22302 ; 3    |//; File: sysmem.h
                            22303 ; 4    |//; ST System Memory Externs
                            22304 ; 5    |//;******************************************************************************
                            22305 ; 6    |
                            22306 ; 7    |#ifndef SYSMEM_XREF_C
                            22307 ; 8    |#define SYSMEM_XREF_C
                            22308 ; 9    |
                            22309 ; 10   |// Variables in X
                            22310 ; 11   |extern unsigned int _X g_wDecoderCSR;
                            22311 ; 12   |extern unsigned int _X g_wDecoderSR;
                            22312 ; 13   |extern unsigned int _X g_wDecoderCSR2;  // DECODE2EOF
                            22313 ; 14   |extern unsigned int _X g_wEncoderSR;
                            22314 ; 15   |extern unsigned int _X g_wEncoderCSR;
                            22315 ; 16   |extern unsigned int _X g_wRecStartTimeHigh;
                            22316 ; 17   |extern unsigned int _X g_wRecStartTimeLow;
                            22317 ; 18   |extern unsigned int _X g_wSysError;
                            22318 ; 19   |#ifdef TRACEBUF_EN
                            22319 ; 20   |extern unsigned int _X g_wTraceBuffer; //Disabled by default.   
                            22320 ; 21   |extern unsigned int _X g_wTracePointer;
                            22321 ; 22   |#endif
                            22322 ; 23   |extern unsigned int _X g_wUserScratchX[];
                            22323 ; 24   |extern unsigned int _X g_wNextVoiceNumValue;
                            22324 ; 25   |extern unsigned int _X g_wEncAdpcmSave_r7;
                            22325 ; 26   |extern unsigned int _X g_wEncAdpcmSave_m7;
                            22326 ; 27   |extern unsigned int _X g_wEncModuleState;
                            22327 ; 28   |extern unsigned int _X g_wEncoderIsrSR;
                            22328 ; 29   |extern unsigned int _X g_bAudibleNeedFileSize;          // 10/12/04 mmiu - Added for AA fi
                                  le navigation
                            22329 ; 30   |extern unsigned int _X g_bAudiblePlayThrough;           // 11/1/04 mmiu - Added for file p
                                  osition play-through indicator
                            22330 ; 31   |extern unsigned int _X g_wSongStartOffsetHigh;          // 11/1/04 mmiu - Added until conf
                                  irmed we can use g_wSongByteTotalConsumedHigh/Low
                            22331 ; 32   |extern unsigned int _X g_wSongStartOffsetLow;
                            22332 ; 33   |
                            22333 ; 34   |// Variables in Y
                            22334 ; 35   |extern int          _Y g_VolumeBias;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 370

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22335 ; 36   |extern unsigned int _Y g_wCurrentRoutinePtr;
                            22336 ; 37   |extern unsigned int _Y g_wSystemFileHandle;
                            22337 ; 38   |extern unsigned int _Y g_wSongByteTotalHigh;
                            22338 ; 39   |extern unsigned int _Y g_wSongByteTotalLow; 
                            22339 ; 40   |extern unsigned int _Y g_wSongByteLengthHigh;
                            22340 ; 41   |extern unsigned int _Y g_wSongByteLengthLow;
                            22341 ; 42   |extern unsigned int _Y g_wInvSampleRate;
                            22342 ; 43   |extern unsigned int _Y g_wCurrentSongBad;
                            22343 ; 44   |extern unsigned int _Y g_iSongType;
                            22344 ; 45   |extern _packed BYTE _Y g_CurrentSongName[];
                            22345 ; 46   |extern unsigned int _Y g_wCurrentDirDevId;
                            22346 ; 47   |extern unsigned int _Y g_wSongInvBitRatePtr;
                            22347 ; 48   |extern unsigned int _Y g_wUserScratchXDescriptor;
                            22348 ; 49   |extern unsigned int _Y g_wUserScratchYDescriptor;
                            22349 ; 50   |extern _packed BYTE _Y g_EncFileNameString[];
                            22350 ; 51   |extern unsigned int _Y g_wEncFileHandle;
                            22351 ; 52   |extern unsigned int _Y g_wEncAdpcmOvlSave_sp;
                            22352 ; 53   |extern unsigned int _Y g_wRootDirectory;
                            22353 ; 54   |extern unsigned int _Y g_wUserScratchY[];
                            22354 ; 55   |extern unsigned int _Y g_wPrevInvBitRatePtr;
                            22355 ; 56   |
                            22356 ; 57   |#endif  // SYSMEM_XREF_C
                            22357 
                            22359 
                            22360 ; 22   |#include "fsapi.h"
                            22361 
                            22363 
                            22364 ; 1    |#ifndef _FSAPI_H_
                            22365 ; 2    |#define _FSAPI_H_
                            22366 ; 3    |#include "filespec.h"
                            22367 
                            22369 
                            22370 ; 1    |#ifndef _FILESPEC_H_
                            22371 ; 2    |#define _FILESPEC_H_
                            22372 ; 3    |#include  "fstypes.h"
                            22373 
                            22375 
                            22376 ; 1    |#ifndef _FS_TYPE_H_
                            22377 ; 2    |#define _FS_TYPE_H_
                            22378 ; 3    |
                            22379 ; 4    |#include   "types.h"
                            22380 
                            22382 
                            22383 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            22384 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            22385 ; 3    |//
                            22386 ; 4    |// Filename: types.h
                            22387 ; 5    |// Description: Standard data types
                            22388 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            22389 ; 7    |
                            22390 ; 8    |#ifndef _TYPES_H
                            22391 ; 9    |#define _TYPES_H
                            22392 ; 10   |
                            22393 ; 11   |// TODO:  move this outta here!
                            22394 ; 12   |#if !defined(NOERROR)
                            22395 ; 13   |#define NOERROR 0
                            22396 ; 14   |#define SUCCESS 0
                            22397 ; 15   |#endif 
                            22398 ; 16   |#if !defined(SUCCESS)
                            22399 ; 17   |#define SUCCESS  0
                            22400 ; 18   |#endif
                            22401 ; 19   |#if !defined(ERROR)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 371

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22402 ; 20   |#define ERROR   -1
                            22403 ; 21   |#endif
                            22404 ; 22   |#if !defined(FALSE)
                            22405 ; 23   |#define FALSE 0
                            22406 ; 24   |#endif
                            22407 ; 25   |#if !defined(TRUE)
                            22408 ; 26   |#define TRUE  1
                            22409 ; 27   |#endif
                            22410 ; 28   |
                            22411 ; 29   |#if !defined(NULL)
                            22412 ; 30   |#define NULL 0
                            22413 ; 31   |#endif
                            22414 ; 32   |
                            22415 ; 33   |#define MAX_INT     0x7FFFFF
                            22416 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            22417 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            22418 ; 36   |#define MAX_ULONG   (-1) 
                            22419 ; 37   |
                            22420 ; 38   |#define WORD_SIZE   24              // word size in bits
                            22421 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            22422 ; 40   |
                            22423 ; 41   |
                            22424 ; 42   |#define BYTE    unsigned char       // btVarName
                            22425 ; 43   |#define CHAR    signed char         // cVarName
                            22426 ; 44   |#define USHORT  unsigned short      // usVarName
                            22427 ; 45   |#define SHORT   unsigned short      // sVarName
                            22428 ; 46   |#define WORD    unsigned int        // wVarName
                            22429 ; 47   |#define INT     signed int          // iVarName
                            22430 ; 48   |#define DWORD   unsigned long       // dwVarName
                            22431 ; 49   |#define LONG    signed long         // lVarName
                            22432 ; 50   |#define BOOL    unsigned int        // bVarName
                            22433 ; 51   |#define FRACT   _fract              // frVarName
                            22434 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            22435 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            22436 ; 54   |#define FLOAT   float               // fVarName
                            22437 ; 55   |#define DBL     double              // dVarName
                            22438 ; 56   |#define ENUM    enum                // eVarName
                            22439 ; 57   |#define CMX     _complex            // cmxVarName
                            22440 ; 58   |typedef WORD UCS3;                   // 
                            22441 ; 59   |
                            22442 ; 60   |#define UINT16  unsigned short
                            22443 ; 61   |#define UINT8   unsigned char   
                            22444 ; 62   |#define UINT32  unsigned long
                            22445 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            22446 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            22447 ; 65   |#define WCHAR   UINT16
                            22448 ; 66   |
                            22449 ; 67   |//UINT128 is 16 bytes or 6 words
                            22450 ; 68   |typedef struct UINT128_3500 {   
                            22451 ; 69   |    int val[6];     
                            22452 ; 70   |} UINT128_3500;
                            22453 ; 71   |
                            22454 ; 72   |#define UINT128   UINT128_3500
                            22455 ; 73   |
                            22456 ; 74   |// Little endian word packed byte strings:   
                            22457 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            22458 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            22459 ; 77   |// Little endian word packed byte strings:   
                            22460 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            22461 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 372

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22462 ; 80   |
                            22463 ; 81   |// Declare Memory Spaces To Use When Coding
                            22464 ; 82   |// A. Sector Buffers
                            22465 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            22466 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            22467 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            22468 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            22469 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            22470 ; 88   |// B. Media DDI Memory
                            22471 ; 89   |#define MEDIA_DDI_MEM _Y
                            22472 ; 90   |
                            22473 ; 91   |
                            22474 ; 92   |
                            22475 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            22476 ; 94   |// Examples of circular pointers:
                            22477 ; 95   |//    INT CIRC cpiVarName
                            22478 ; 96   |//    DWORD CIRC cpdwVarName
                            22479 ; 97   |
                            22480 ; 98   |#define RETCODE INT                 // rcVarName
                            22481 ; 99   |
                            22482 ; 100  |// generic bitfield structure
                            22483 ; 101  |struct Bitfield {
                            22484 ; 102  |    unsigned int B0  :1;
                            22485 ; 103  |    unsigned int B1  :1;
                            22486 ; 104  |    unsigned int B2  :1;
                            22487 ; 105  |    unsigned int B3  :1;
                            22488 ; 106  |    unsigned int B4  :1;
                            22489 ; 107  |    unsigned int B5  :1;
                            22490 ; 108  |    unsigned int B6  :1;
                            22491 ; 109  |    unsigned int B7  :1;
                            22492 ; 110  |    unsigned int B8  :1;
                            22493 ; 111  |    unsigned int B9  :1;
                            22494 ; 112  |    unsigned int B10 :1;
                            22495 ; 113  |    unsigned int B11 :1;
                            22496 ; 114  |    unsigned int B12 :1;
                            22497 ; 115  |    unsigned int B13 :1;
                            22498 ; 116  |    unsigned int B14 :1;
                            22499 ; 117  |    unsigned int B15 :1;
                            22500 ; 118  |    unsigned int B16 :1;
                            22501 ; 119  |    unsigned int B17 :1;
                            22502 ; 120  |    unsigned int B18 :1;
                            22503 ; 121  |    unsigned int B19 :1;
                            22504 ; 122  |    unsigned int B20 :1;
                            22505 ; 123  |    unsigned int B21 :1;
                            22506 ; 124  |    unsigned int B22 :1;
                            22507 ; 125  |    unsigned int B23 :1;
                            22508 ; 126  |};
                            22509 ; 127  |
                            22510 ; 128  |union BitInt {
                            22511 ; 129  |        struct Bitfield B;
                            22512 ; 130  |        int        I;
                            22513 ; 131  |};
                            22514 ; 132  |
                            22515 ; 133  |#define MAX_MSG_LENGTH 10
                            22516 ; 134  |struct CMessage
                            22517 ; 135  |{
                            22518 ; 136  |        unsigned int m_uLength;
                            22519 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            22520 ; 138  |};
                            22521 ; 139  |
                            22522 ; 140  |typedef struct {
                            22523 ; 141  |    WORD m_wLength;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 373

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22524 ; 142  |    WORD m_wMessage;
                            22525 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            22526 ; 144  |} Message;
                            22527 ; 145  |
                            22528 ; 146  |struct MessageQueueDescriptor
                            22529 ; 147  |{
                            22530 ; 148  |        int *m_pBase;
                            22531 ; 149  |        int m_iModulo;
                            22532 ; 150  |        int m_iSize;
                            22533 ; 151  |        int *m_pHead;
                            22534 ; 152  |        int *m_pTail;
                            22535 ; 153  |};
                            22536 ; 154  |
                            22537 ; 155  |struct ModuleEntry
                            22538 ; 156  |{
                            22539 ; 157  |    int m_iSignaledEventMask;
                            22540 ; 158  |    int m_iWaitEventMask;
                            22541 ; 159  |    int m_iResourceOfCode;
                            22542 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            22543 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            22544 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            22545 ; 163  |    int m_uTimeOutHigh;
                            22546 ; 164  |    int m_uTimeOutLow;
                            22547 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            22548 ; 166  |};
                            22549 ; 167  |
                            22550 ; 168  |union WaitMask{
                            22551 ; 169  |    struct B{
                            22552 ; 170  |        unsigned int m_bNone     :1;
                            22553 ; 171  |        unsigned int m_bMessage  :1;
                            22554 ; 172  |        unsigned int m_bTimer    :1;
                            22555 ; 173  |        unsigned int m_bButton   :1;
                            22556 ; 174  |    } B;
                            22557 ; 175  |    int I;
                            22558 ; 176  |} ;
                            22559 ; 177  |
                            22560 ; 178  |
                            22561 ; 179  |struct Button {
                            22562 ; 180  |        WORD wButtonEvent;
                            22563 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            22564 ; 182  |};
                            22565 ; 183  |
                            22566 ; 184  |struct Message {
                            22567 ; 185  |        WORD wMsgLength;
                            22568 ; 186  |        WORD wMsgCommand;
                            22569 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            22570 ; 188  |};
                            22571 ; 189  |
                            22572 ; 190  |union EventTypes {
                            22573 ; 191  |        struct CMessage msg;
                            22574 ; 192  |        struct Button Button ;
                            22575 ; 193  |        struct Message Message;
                            22576 ; 194  |};
                            22577 ; 195  |
                            22578 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            22579 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            22580 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            22581 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            22582 ; 200  |
                            22583 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            22584 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 374

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22585 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            22586 ; 204  |
                            22587 ; 205  |#if DEBUG
                            22588 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            22589 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            22590 ; 208  |#else 
                            22591 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            22592 ; 210  |#define DebugBuildAssert(x)    
                            22593 ; 211  |#endif
                            22594 ; 212  |
                            22595 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            22596 ; 214  |//  #pragma asm
                            22597 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            22598 ; 216  |//  #pragma endasm
                            22599 ; 217  |
                            22600 ; 218  |
                            22601 ; 219  |#ifdef COLOR_262K
                            22602 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            22603 ; 221  |#elif defined(COLOR_65K)
                            22604 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            22605 ; 223  |#else
                            22606 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            22607 ; 225  |#endif
                            22608 ; 226  |    
                            22609 ; 227  |#endif // #ifndef _TYPES_H
                            22610 
                            22612 
                            22613 ; 5    |
                            22614 ; 6    |// move FSMEDIA_TABLE from devicetable.h  15Apr2005   First moved in SDK2.6.
                            22615 ; 7    |typedef struct
                            22616 ; 8    |{
                            22617 ; 9    |
                            22618 ; 10   |INT     _Y BytesPerSector;
                            22619 ; 11   |INT     _Y SectorsPerCluster;
                            22620 ; 12   |INT     _Y RsvdSectors;
                            22621 ; 13   |INT     _Y NoOfFATs;
                            22622 ; 14   |INT     _Y MaxRootDirEntries;
                            22623 ; 15   |LONG    _Y TotalSectors;
                            22624 ; 16   |LONG    _Y FATSize;
                            22625 ; 17   |LONG    _Y RootdirCluster;
                            22626 ; 18   |//INT   _Y FSInfoSector;
                            22627 ; 19   |//INT   _Y BkBootSector;
                            22628 ; 20   |LONG    _Y NextFreeCluster;
                            22629 ; 21   |LONG    _Y TotalFreeClusters;
                            22630 ; 22   |INT     _Y RootDirSectors;
                            22631 ; 23   |INT     _Y FIRSTDataSector;
                            22632 ; 24   |INT    _Y FATType;
                            22633 ; 25   |LONG   _Y TotalNoofclusters;
                            22634 ; 26   |INT    _Y ClusterMask;
                            22635 ; 27   |INT    _Y ClusterShift;
                            22636 ; 28   |INT    _Y SectorShift;
                            22637 ; 29   |INT    _Y SectorMask;
                            22638 ; 30   |INT    _Y DevicePresent;
                            22639 ; 31   |LONG   _Y FirRootdirsec;
                            22640 ; 32   |INT             _Y FSInfoSector;
                            22641 ; 33   |}FSMEDIA_TABLE;
                            22642 ; 34   |
                            22643 ; 35   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 375

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22644 ; 36   |#define         MAXDEVICES              2
                            22645 ; 37   |//#define       NUMCACHES               8  // this is already in fsproj.h (2 for player 2 
                                  for mtp as of 28jun2005) TOVERIFY 2 ok for player and mtp. 
                            22646 ; 38   |
                            22647 ; 39   |// NOTE:  This offset is the same no matter what the sector actual size!  
                            22648 ; 40   |//        TOVERIFY 3.0 doesn't have this defined but uses it in filesystempresent.c. lbmlc
                                   def'd it here so I insert it here.
                            22649 ; 41   |#define         FATFS_SIGNATURE_OFFSET  510
                            22650 ; 42   |#define         BOOTSECTOR              0
                            22651 ; 43   |#define     FSINFOSECTOR        1
                            22652 ; 44   |
                            22653 ; 45   |#define     READ_MODE           1
                            22654 ; 46   |#define     WRITE_MODE          2
                            22655 ; 47   |#define     APPEND_MODE         4
                            22656 ; 48   |#define     SEQ_WRITE_MODE      8
                            22657 ; 49   |#define     DIRECTORY_MODE         16
                            22658 ; 50   |#define     CREATE_MODE        32
                            22659 ; 51   |
                            22660 ; 52   |#define     RPLUS               5
                            22661 ; 53   |#define     WPLUS                   6
                            22662 ; 54   |#define     APLUS               7
                            22663 ; 55   |
                            22664 ; 56   |
                            22665 ; 57   |
                            22666 ; 58   |#define     X_MEMORY            0
                            22667 ; 59   |#define     Y_MEMORY            2
                            22668 ; 60   |#define     P_MEMORY            4
                            22669 ; 61   |
                            22670 ; 62   |#define     FAT12               0 
                            22671 ; 63   |#define     FAT16               1   
                            22672 ; 64   |#define     FAT32               2 
                            22673 ; 65   |
                            22674 ; 66   |
                            22675 ; 67   |#define FAT12EOF            0x0FFF
                            22676 ; 68   |#define FAT16EOF            0xFFFF
                            22677 ; 69   |#define FAT32EOF            0x0FFFFFFF
                            22678 ; 70   |
                            22679 ; 71   |
                            22680 ; 72   |
                            22681 ; 73   |#define FAT12FREECX         0x000
                            22682 ; 74   |#define FAT16FREECX         0x0000
                            22683 ; 75   |#define FAT32FREECX         0x00000000
                            22684 ; 76   |
                            22685 ; 77   |
                            22686 ; 78   |#define  DBCS               1
                            22687 ; 79   |#define  UNICODE            2
                            22688 ; 80   |
                            22689 ; 81   |
                            22690 ; 82   |#define     CREATION_DATE       1
                            22691 ; 83   |#define     CREATION_TIME       2
                            22692 ; 84   |#define     MODIFICATION_DATE   3
                            22693 ; 85   |#define     MODIFICATION_TIME   4
                            22694 ; 86   |
                            22695 ; 87   |
                            22696 ; 88   |#define     READ_ONLY      0X01
                            22697 ; 89   |#define     HIDDEN         0X02
                            22698 ; 90   |#define     SYSTEM         0X04
                            22699 ; 91   |#define     VOLUME_ID      0X08
                            22700 ; 92   |#define     DIRECTORY      0X10
                            22701 ; 93   |#define     ARCHIVE        0X20
                            22702 ; 94   |
                            22703 ; 95   |#define READCOUNTER         105
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 376

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22704 ; 96   |#define WRITECOUNTER        100
                            22705 ; 97   |#define FLUSHCOUNTER        200
                            22706 ; 98   |
                            22707 ; 99   |
                            22708 ; 100  |#define DEFAULT_MEMORY      Y_MEMORY
                            22709 ; 101  |
                            22710 ; 102  |#define  CWD_HANDLE           0
                            22711 ; 103  |#define  DIRECTORY_HANDLE     1
                            22712 ; 104  |#define  FIRST_VALID_HANDLE   2
                            22713 ; 105  |#define  END_OF_DIR_PATH      3
                            22714 ; 106  |
                            22715 ; 107  |//Constants for Sector read and write (Normal and FAT 
                            22716 ; 108  |#define         NORMALTYPE              0
                            22717 ; 109  |#define         FATTYPE                 1
                            22718 ; 110  |#define     RAWTYPE         2
                            22719 ; 111  |
                            22720 ; 112  |#define  SHORTNAMERES_CH      6
                            22721 ; 113  |#define  LONGNAMERES_CH       9
                            22722 ; 114  |#define  MAXFILENAME_CH       260
                            22723 ; 115  |
                            22724 ; 116  |#define VOLUME_TYPE          0
                            22725 ; 117  |#define DIR_TYPE             1
                            22726 ; 118  |#define FILE_TYPE            2
                            22727 ; 119  |                                           
                            22728 ; 120  |#define WRITE_TYPE_RANDOM               0
                            22729 ; 121  |#define WRITE_TYPE_SEQ_FIRST    1
                            22730 ; 122  |#define WRITE_TYPE_SEQ_NEXT             2
                            22731 ; 123  |#define WRITE_TYPE_NOREADBACK   3
                            22732 ; 124  |                  
                            22733 ; 125  |
                            22734 ; 126  |#define     HANDLEENTRYSIZE         19
                            22735 ; 127  |
                            22736 ; 128  |// DEVICERECORDSIZE is now only defined in cachedef.h so deleted from here in first 3.1 pr
                                  elim 
                            22737 ; 129  |
                            22738 ; 130  |#define     CACHEDESCRSIZE          8
                            22739 ; 131  |#define     CACHEBUFSIZE            705
                            22740 ; 132  |
                            22741 ; 133  |#define     UCS2s                     0
                            22742 ; 134  |#define     UCS3s                     1
                            22743 ; 135  |
                            22744 ; 136  |#define     FAT32FSIFREECOUNTSIZE       4
                            22745 ; 137  |
                            22746 ; 138  |#endif // _FS_TYPE_H_
                            22747 ; 139  |
                            22748 
                            22750 
                            22751 ; 4    |#define MAX_FILESNAME   13
                            22752 ; 5    |
                            22753 ; 6    |typedef struct {
                            22754 ; 7    |    INT     gCurrentRecord;
                            22755 ; 8    |    INT     DirAttribute;
                            22756 ; 9    |    _packed char    FileName[9];
                            22757 ; 10   |    _packed char    FileExtension[4];
                            22758 ; 11   |}FILESPEC;
                            22759 ; 12   |
                            22760 ; 13   |typedef struct {
                            22761 ; 14   |    INT attrib;
                            22762 ; 15   |        LONG FileSize;
                            22763 ; 16   |    int  device;
                            22764 ; 17   |    INT startrecord;
                            22765 ; 18   |    _packed char name[MAX_FILESNAME];
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 377

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22766 ; 19   |        LONG Key;
                            22767 ; 20   |}Finddata;
                            22768 ; 21   |#endif
                            22769 ; 22   |
                            22770 
                            22772 
                            22773 ; 4    |extern _reentrant LONG Ftell(INT HandleNumber);
                            22774 ; 5    |extern _reentrant LONG Feof(INT HandleNumber);
                            22775 ; 6    |extern _reentrant INT *Fputs(INT HandleNumber,INT *Buffer);
                            22776 ; 7    |extern _reentrant LONG Fread(INT HandleNumber,INT *Buffer,LONG NumBytesToRead,INT Source_M
                                  emory,INT MOdulo);
                            22777 ; 8    |extern _reentrant INT Fgetc(INT HandleNumber);
                            22778 ; 9    |extern _reentrant INT Fputc(INT HandleNumber,INT ByteToWrite);
                            22779 ; 10   |extern _reentrant LONG ReadDirectoryRecord(INT HandleNumber,INT RecordNumber,INT *Buffer);
                                  
                            22780 ; 11   |extern _reentrant INT Fseek(INT HandleNumber,LONG NumBytesToSeek,INT SeekPosition);
                            22781 ; 12   |extern _reentrant INT Fopen(_packed char *filepath,_packed char *mode);
                            22782 ; 13   |extern _reentrant LONG Fwrite(INT HandleNumber,INT  *Buffer,LONG NumBytesToWrite,INT Sourc
                                  e_Memory,INT MOdulo);
                            22783 ; 14   |extern _reentrant LONG Totalfreecluster(INT DeviceNum);
                            22784 ; 15   |extern _reentrant INT Rmdir(_packed char *filepath);
                            22785 ; 16   |extern _reentrant INT Rmdirw(_packed char *filepath);
                            22786 ; 17   |extern _reentrant INT Mkdir(_packed char *filepath);
                            22787 ; 18   |
                            22788 ; 19   |        //      SGTL-HK 27-05-2005
                            22789 ; 20   |extern _reentrant INT Mkdirw(UCS3 *filepath);
                            22790 ; 21   |
                            22791 ; 22   |extern _reentrant INT Chdir(_packed char *filepath);
                            22792 ; 23   |extern _reentrant INT FastOpen(LONG Key,_packed char *mode);
                            22793 ; 24   |
                            22794 ; 25   |extern _reentrant INT Setcwd(_packed char *filepath, _packed char *gCworkingDir,INT index,
                                  INT length);
                            22795 ; 26   |extern _reentrant _packed char *Getcwd(void);
                            22796 ; 27   |extern  _reentrant _packed char *Fgets(INT HandleNumber,INT NumBytesToRead, _packed char *
                                  Buffer);
                            22797 ; 28   |extern INT  FSInit(INT _X *bufx, INT _Y *bufy, INT maxdevices, INT maxhandles, INT maxcach
                                  es);
                            22798 ; 29   |extern INT  FlushCache(void);
                            22799 ; 30   |extern _reentrant INT FsShutDown(void);
                            22800 ; 31   |extern _reentrant LONG GetFileSize(INT HandleNumber);
                            22801 ; 32   |
                            22802 ; 33   |extern _reentrant INT filegetattrib(_packed char *FilePath);
                            22803 ; 34   |extern _reentrant INT Fopenw(INT *filepath,_packed char *mode);
                            22804 ; 35   |extern _reentrant INT Fremove(_packed char *filepath);
                            22805 ; 36   |extern _reentrant INT Fremovew(_packed char *filepath);
                            22806 ; 37   |extern _reentrant void DBCSToUnicode(_packed unsigned char *pDBCS, WORD *pUnicode,INT iLen
                                  gth);
                            22807 ; 38   |extern INT FlushCache(void);
                            22808 ; 39   |extern _reentrant INT DeleteTree(_packed char *Path);
                            22809 ; 40   |extern _reentrant INT Fclose(INT HandleNumber);
                            22810 ; 41   |extern INT FSMediaPresent(INT DeviceNum);
                            22811 ; 42   |extern INT FSFATType (INT DeviceNum);
                            22812 ; 43   |extern  INT _reentrant  GetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            22813 ; 44   |extern _reentrant INT SetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            22814 ; 45   |extern _reentrant LONG FgetFastHandle(INT HandleNumber);
                            22815 ; 46   |
                            22816 ; 47   |extern _reentrant INT ConstructLongFileName(INT HandleNumber, INT RecordNumber, INT *LFNBu
                                  ffer);
                            22817 ; 48   |extern _reentrant void Uppercase(_packed char *file); 
                            22818 ; 49   |extern _reentrant INT FindNext(INT HandleNumber,Finddata *_finddata);
                            22819 
                            22829 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 378

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22830 ; 50   |extern _reentrant INT FindFirst(Finddata *_finddata,_packed char *FileName);
                            22831 ; 51   |extern _reentrant void ClearData(Finddata *_finddata);
                            22832 ; 52   |extern _reentrant INT GetShortfilename(LONG Key,INT *Buffer);
                            22833 ; 53   |
                            22834 ; 54   |
                            22835 ; 55   |
                            22836 ; 56   |
                            22837 ; 57   |typedef struct
                            22838 ; 58   |{
                            22839 ; 59   |
                            22840 ; 60   |INT             Day;
                            22841 ; 61   |INT             Month;
                            22842 ; 62   |INT             Year;
                            22843 ; 63   |}DIR_DATE;
                            22844 ; 64   |
                            22845 ; 65   |
                            22846 ; 66   |typedef struct
                            22847 ; 67   |{
                            22848 ; 68   |
                            22849 ; 69   |INT             Second;
                            22850 ; 70   |INT             Minute;
                            22851 ; 71   |INT             Hour;
                            22852 ; 72   |}DIR_TIME;
                            22853 ; 73   |
                            22854 ; 74   |
                            22855 ; 75   |typedef struct
                            22856 ; 76   |{
                            22857 ; 77   |LONG CurrentOffset;     
                            22858 ; 78   |LONG CurrentCluster;
                            22859 ; 79   |}HANDLECONTEXT;
                            22860 ; 80   |
                            22861 ; 81   |extern _reentrant INT filesetattrib(INT HandleNumber,INT dirattribute);
                            22862 ; 82   |extern _reentrant INT filesetdate(_packed char *FilePath,INT crt_mod_date_time_para,DIR_DA
                                  TE *dirdate,DIR_TIME *dirtime);
                            22863 
                            22874 
                            22875 ; 83   |extern _reentrant INT filegetdate(INT HandleNumber,INT crt_mod_date_time_para,DIR_DATE *di
                                  rdate,DIR_TIME *dirtime);
                            22876 ; 84   |#endif
                            22877 
                            22879 
                            22880 ; 23   |#include "persist_bits.h"
                            22881 
                            22883 
                            22884 ; 1    |//;///////////////////////////////////////////////////////////////////////////////
                            22885 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2005
                            22886 ; 3    |//;
                            22887 ; 4    |//; Filename:    persist_bits.h
                            22888 ; 5    |//; Description: General purpose interface to Persistent Bits
                            22889 ; 6    |//;              Persistent bits are mapped to more generic bits in regsrtc.inc.
                            22890 ; 7    |//;///////////////////////////////////////////////////////////////////////////////
                            22891 ; 8    |
                            22892 ; 9    |#ifndef _PERSIST_BITS_H
                            22893 ; 10   |#define _PERSIST_BITS_H
                            22894 ; 11   |
                            22895 ; 12   |#include "regsrtc.h"
                            22896 
                            22898 
                            22899 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            22900 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            22901 ; 3    |// Filename: regsrtc.inc
                            22902 ; 4    |// Description: Register definitions for RTC interface
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 379

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22903 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            22904 ; 6    |// The following naming conventions are followed in this file.
                            22905 ; 7    |// All registers are named using the format...
                            22906 ; 8    |//     HW_<module>_<regname>
                            22907 ; 9    |// where <module> is the module name which can be any of the following...
                            22908 ; 10   |//     USB20
                            22909 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            22910 ; 12   |// module name includes a number starting from 0 for the first instance of
                            22911 ; 13   |// that module)
                            22912 ; 14   |// <regname> is the specific register within that module
                            22913 ; 15   |// We also define the following...
                            22914 ; 16   |//     HW_<module>_<regname>_BITPOS
                            22915 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            22916 ; 18   |//     HW_<module>_<regname>_SETMASK
                            22917 ; 19   |// which does something else, and
                            22918 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            22919 ; 21   |// which does something else.
                            22920 ; 22   |// Other rules
                            22921 ; 23   |//     All caps
                            22922 ; 24   |//     Numeric identifiers start at 0
                            22923 ; 25   |#if !(defined(regsrtcinc))
                            22924 ; 26   |#define regsrtcinc 1
                            22925 ; 27   |
                            22926 ; 28   |#include "types.h"
                            22927 ; 29   |
                            22928 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            22929 ; 31   |
                            22930 ; 32   |//   RTC STMP Registers 
                            22931 ; 33   |//   Edited 2/26/2002 J. Ferrara
                            22932 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            22933 ; 35   |
                            22934 ; 36   |#define HW_RTC_BASEADDR (0xF500)
                            22935 ; 37   |
                            22936 ; 38   |
                            22937 ; 39   |
                            22938 ; 40   |
                            22939 ; 41   |
                            22940 ; 42   |/////////////////////////////////////////////////////////////////////////////////
                            22941 ; 43   |
                            22942 ; 44   |////  RTC Control Status Register (HW_RTC_CSR) Bit Definitions
                            22943 ; 45   |
                            22944 ; 46   |#define HW_RTC_CSR_ALARMINTEN_BITPOS (0)
                            22945 ; 47   |#define HW_RTC_CSR_ALARMINT_BITPOS (1)
                            22946 ; 48   |#define HW_RTC_CSR_WATCHDOGEN_BITPOS (2)
                            22947 ; 49   |#define HW_RTC_CSR_RSVD0_BITPOS (3)
                            22948 ; 50   |#define HW_RTC_CSR_STALEREGS_BITPOS (4)
                            22949 ; 51   |#define HW_RTC_CSR_RSVD1_BITPOS (9)
                            22950 ; 52   |#define HW_RTC_CSR_NEWREGS_BITPOS (12)
                            22951 ; 53   |#define HW_RTC_CSR_NEWREGS_XTALDIV_BITPOS (12)
                            22952 ; 54   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_BITPOS (13)
                            22953 ; 55   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS (14)
                            22954 ; 56   |#define HW_RTC_CSR_NEWREGS_PERSIST0_BITPOS (15)
                            22955 ; 57   |#define HW_RTC_CSR_NEWREGS_PERSIST1_BITPOS (16)
                            22956 ; 58   |#define HW_RTC_CSR_RSVD2_BITPOS (17)
                            22957 ; 59   |#define HW_RTC_CSR_FORCE_BITPOS (20)
                            22958 ; 60   |#define HW_RTC_CSR_RSVD3_BITPOS (21)
                            22959 ; 61   |#define HW_RTC_CSR_SFTRST_BITPOS (23)                                                     
                                                          
                            22960 ; 62   |#define HW_RTC_CSR_ALARMINTEN_WIDTH (1)
                            22961 ; 63   |#define HW_RTC_CSR_ALARMINT_WIDTH (1)
                            22962 ; 64   |#define HW_RTC_CSR_WATCHDOGEN_WIDTH (1)
                            22963 ; 65   |#define HW_RTC_CSR_RSVD0_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 380

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22964 ; 66   |#define HW_RTC_CSR_STALEREGS_WIDTH (5)
                            22965 ; 67   |#define HW_RTC_CSR_RSVD1_WIDTH (3)
                            22966 ; 68   |#define HW_RTC_CSR_NEWREGS_WIDTH (5)
                            22967 ; 69   |#define HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH (1)
                            22968 ; 70   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH (1)
                            22969 ; 71   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH (1)
                            22970 ; 72   |#define HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH (1)
                            22971 ; 73   |#define HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH (1)
                            22972 ; 74   |#define HW_RTC_CSR_RSVD2_WIDTH (3)
                            22973 ; 75   |#define HW_RTC_CSR_FORCE_WIDTH (1)
                            22974 ; 76   |#define HW_RTC_CSR_RSVD3_WIDTH (2)
                            22975 ; 77   |#define HW_RTC_CSR_SFTRST_WIDTH (1)
                            22976 ; 78   |
                            22977 ; 79   |#define HW_RTC_CSR_ALARMINT_SETMASK (((1<<HW_RTC_CSR_ALARMINT_WIDTH)-1)<<HW_RTC_CSR_ALARMI
                                  NT_BITPOS) 
                            22978 ; 80   |#define HW_RTC_CSR_ALARMINTEN_SETMASK (((1<<HW_RTC_CSR_ALARMINTEN_WIDTH)-1)<<HW_RTC_CSR_AL
                                  ARMINTEN_BITPOS) 
                            22979 ; 81   |#define HW_RTC_CSR_WATCHDOGEN_SETMASK (((1<<HW_RTC_CSR_WATCHDOGEN_WIDTH)-1)<<HW_RTC_CSR_WA
                                  TCHDOGEN_BITPOS) 
                            22980 ; 82   |#define HW_RTC_CSR_RSVD0_SETMASK (((1<<HW_RTC_CSR_RSVD0_WIDTH)-1)<<HW_RTC_CSR_RSVD0_BITPOS
                                  ) 
                            22981 ; 83   |#define HW_RTC_CSR_STALEREGS_SETMASK (((1<<HW_RTC_CSR_STALEREGS_WIDTH)-1)<<HW_RTC_CSR_STAL
                                  EREGS_BITPOS) 
                            22982 ; 84   |#define HW_RTC_CSR_RSVD1_SETMASK (((1<<HW_RTC_CSR_RSVD1_WIDTH)-1)<<HW_RTC_CSR_RSVD1_BITPOS
                                  ) 
                            22983 ; 85   |#define HW_RTC_CSR_NEWREGS_SETMASK (((1<<HW_RTC_CSR_NEWREGS_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_
                                  BITPOS) 
                            22984 ; 86   |#define HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK (((1<<HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH)-1)<<HW_
                                  RTC_CSR_NEWREGS_XTALDIV_BITPOS)   
                            22985 ; 87   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH)-1)<<HW_
                                  RTC_CSR_NEWREGS_MSCOUNT_BITPOS)
                            22986 ; 88   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH)-1)<
                                  <HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS)
                            22987 ; 89   |#define HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH)-1)<<H
                                  W_RTC_CSR_NEWREGS_PERSIST0_BITPOS)
                            22988 ; 90   |#define HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH)-1)<<H
                                  W_RTC_CSR_NEWREGS_PERSIST1_BITPOS)
                            22989 ; 91   |#define HW_RTC_CSR_RSVD2_SETMASK (((1<<HW_RTC_CSR_RSVD2_WIDTH)-1)<<HW_RTC_CSR_RSVD2_BITPOS
                                  ) 
                            22990 ; 92   |#define HW_RTC_CSR_FORCE_SETMASK (((1<<HW_RTC_CSR_FORCE_WIDTH)-1)<<HW_RTC_CSR_FORCE_BITPOS
                                  ) 
                            22991 ; 93   |#define HW_RTC_CSR_RSVD3_SETMASK (((1<<HW_RTC_CSR_RSVD3_WIDTH)-1)<<HW_RTC_CSR_RSVD3_BITPOS
                                  ) 
                            22992 ; 94   |#define HW_RTC_CSR_SFTRST_SETMASK (((1<<HW_RTC_CSR_SFTRST_WIDTH)-1)<<HW_RTC_CSR_SFTRST_BIT
                                  POS) 
                            22993 ; 95   |
                            22994 ; 96   |#define HW_RTC_CSR_ALARMINTEN_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINTEN_SETMASK)
                            22995 ; 97   |#define HW_RTC_CSR_ALARMINT_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINT_SETMASK)
                            22996 ; 98   |#define HW_RTC_CSR_WATCHDOGEN_CLRMASK (~(WORD)HW_RTC_CSR_WATCHDOGEN_SETMASK)
                            22997 ; 99   |#define HW_RTC_CSR_RSVD0_CLRMASK (~(WORD)HW_RTC_CSR_RSVD0_SETMASK)
                            22998 ; 100  |#define HW_RTC_CSR_STALEREGS_CLRMASK (~(WORD)HW_RTC_CSR_STALEREGS_SETMASK)
                            22999 ; 101  |#define HW_RTC_CSR_RSVD1_CLRMASK (~(WORD)HW_RTC_CSR_RSVD1_SETMASK)
                            23000 ; 102  |#define HW_RTC_CSR_NEWREGS_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_SETMASK)
                            23001 ; 103  |#define HW_RTC_CSR_NEWREGS_XTALDIV_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK)   
                            23002 ; 104  |#define HW_RTC_CSR_NEWREGS_MSCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK)
                            23003 ; 105  |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK)
                                  
                            23004 ; 106  |#define HW_RTC_CSR_NEWREGS_PERSIST0_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK)
                            23005 ; 107  |#define HW_RTC_CSR_NEWREGS_PERSIST1_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK)
                            23006 ; 108  |
                            23007 ; 109  |#define HW_RTC_CSR_RSVD2_CLRMASK (~(WORD)HW_RTC_CSR_RSVD2_SETMASK)
                            23008 ; 110  |#define HW_RTC_CSR_FORCE_CLRMASK (~(WORD)HW_RTC_CSR_FORCE_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 381

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23009 ; 111  |#define HW_RTC_CSR_RSVD3_CLRMASK (~(WORD)HW_RTC_CSR_RSVD3_SETMASK)
                            23010 ; 112  |#define HW_RTC_CSR_SFTRST_CLRMASK (~(WORD)HW_RTC_CSR_SFTRST_SETMASK)
                            23011 ; 113  |
                            23012 ; 114  |
                            23013 ; 115  |typedef union               
                            23014 ; 116  |{
                            23015 ; 117  |    struct {
                            23016 ; 118  |         int ALARMINTEN         : HW_RTC_CSR_ALARMINTEN_WIDTH;
                            23017 ; 119  |         int ALARMINT           : HW_RTC_CSR_ALARMINT_WIDTH;
                            23018 ; 120  |         int WATCHDOGEN         : HW_RTC_CSR_WATCHDOGEN_WIDTH;
                            23019 ; 121  |         int RSVD0              : HW_RTC_CSR_RSVD0_WIDTH;
                            23020 ; 122  |         unsigned int STALEREGS : HW_RTC_CSR_STALEREGS_WIDTH;
                            23021 ; 123  |         int RSVD1              : HW_RTC_CSR_RSVD1_WIDTH;
                            23022 ; 124  |         unsigned int NEWREGS   : HW_RTC_CSR_NEWREGS_WIDTH;
                            23023 ; 125  |         int RSVD2              : HW_RTC_CSR_RSVD2_WIDTH;
                            23024 ; 126  |         int FORCE             : HW_RTC_CSR_FORCE_WIDTH;
                            23025 ; 127  |         int RSVD3              : HW_RTC_CSR_RSVD3_WIDTH;
                            23026 ; 128  |         unsigned int SFTRST    : HW_RTC_CSR_SFTRST_WIDTH;
                            23027 ; 129  |    } B;
                            23028 ; 130  |    int I;
                            23029 ; 131  |    unsigned int U;
                            23030 ; 132  |} rtc_csr_type;
                            23031 ; 133  |#define HW_RTC_CSR      (*(volatile rtc_csr_type _X*) (HW_RTC_BASEADDR+0))    /* RTC Contr
                                  ol / Status Register */
                            23032 ; 134  |
                            23033 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                            23034 ; 136  |
                            23035 ; 137  |//  RTC Milliseconds Register0 (HW_RTC_MSECONDS0) Bit Definitions
                            23036 ; 138  |
                            23037 ; 139  |#define HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS (0)
                            23038 ; 140  |
                            23039 ; 141  |#define HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH (24)
                            23040 ; 142  |
                            23041 ; 143  |#define HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK (((1<<HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH)-1)<
                                  <HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS) 
                            23042 ; 144  |
                            23043 ; 145  |#define HW_RTC_MSECONDS0_MSECONDSLOW_CLRMASK (~(WORD)HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK)
                                  
                            23044 ; 146  |
                            23045 ; 147  |typedef union               
                            23046 ; 148  |{
                            23047 ; 149  |    struct {
                            23048 ; 150  |         int MSECONDSLOW        : HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH;
                            23049 ; 151  |    } B;
                            23050 ; 152  |    int I;
                            23051 ; 153  |    unsigned int U;
                            23052 ; 154  |} rtc_mseconds0_type;
                            23053 ; 155  |#define HW_RTC_MSECONDS0      (*(volatile rtc_mseconds0_type _X*) (HW_RTC_BASEADDR+1))    
                                  /* RTC MSECONDS Lower Word Register */
                            23054 ; 156  |#define HW_RTCLOWR            HW_RTC_MSECONDS0
                            23055 ; 157  |/////////////////////////////////////////////////////////////////////////////////
                            23056 ; 158  |
                            23057 ; 159  |//  RTC Milliseconds Register1 (HW_RTC_MSECONDS1) Bit Definitions
                            23058 ; 160  |
                            23059 ; 161  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS (0)
                            23060 ; 162  |
                            23061 ; 163  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH (24)
                            23062 ; 164  |
                            23063 ; 165  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_SETMASK (((1<<HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH)-1
                                  )<<HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS) 
                            23064 ; 166  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 382

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23065 ; 167  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_CLRMASK (~(WORD)HW_RTC_MSECONDS1_MSECONDSHIGH_SETMAS
                                  K)
                            23066 ; 168  |
                            23067 ; 169  |typedef union               
                            23068 ; 170  |{
                            23069 ; 171  |    struct {
                            23070 ; 172  |         int MSECONDSHIGH       : HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH;
                            23071 ; 173  |    } B;
                            23072 ; 174  |    int I;
                            23073 ; 175  |    unsigned int U;
                            23074 ; 176  |} rtc_mseconds1_type;
                            23075 ; 177  |#define HW_RTC_MSECONDS1      (*(volatile rtc_mseconds1_type _X*) (HW_RTC_BASEADDR+2))    
                                  /* RTC MSECONDS Upper Word Register */
                            23076 ; 178  |#define HW_RTCUPR             HW_RTC_MSECONDS1
                            23077 ; 179  |
                            23078 ; 180  |#define HW_RTC_LOWER_OFFSET 1
                            23079 ; 181  |#define HW_RTC_UP_OFFSET 2
                            23080 ; 182  |
                            23081 ; 183  |
                            23082 ; 184  |/////////////////////////////////////////////////////////////////////////////////
                            23083 ; 185  |
                            23084 ; 186  |//  RTC Watchdog Count (HW_RTC_WATCHDOG) Bit Definitions
                            23085 ; 187  |
                            23086 ; 188  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_BITPOS (0)
                            23087 ; 189  |
                            23088 ; 190  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH (24)
                            23089 ; 191  |
                            23090 ; 192  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK (((1<<HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH)-1)<<HW_
                                  RTC_WATCHDOG_TIMEOUTCNT_BITPOS) 
                            23091 ; 193  |
                            23092 ; 194  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_CLRMASK (~(WORD)HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK)
                            23093 ; 195  |
                            23094 ; 196  |typedef union               
                            23095 ; 197  |{
                            23096 ; 198  |    struct {
                            23097 ; 199  |         int TIMEOUTCNT         : HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH;
                            23098 ; 200  |    } B;
                            23099 ; 201  |    int I;
                            23100 ; 202  |    unsigned int U;
                            23101 ; 203  |} rtc_watchdog_type;
                            23102 ; 204  |#define HW_RTC_WATCHDOG     (*(volatile rtc_watchdog_type _X*) (HW_RTC_BASEADDR+3))    /* 
                                  RTC Watchdog Timeout Register */
                            23103 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                            23104 ; 206  |
                            23105 ; 207  |//  RTC Alarm Register0 (HW_RTC_ALARM0) Bit Definitions
                            23106 ; 208  |
                            23107 ; 209  |#define HW_RTC_ALARM0_ALARMLOW_BITPOS (0)
                            23108 ; 210  |
                            23109 ; 211  |#define HW_RTC_ALARM0_ALARMLOW_WIDTH (24)
                            23110 ; 212  |
                            23111 ; 213  |#define HW_RTC_ALARM0_ALARMLOW_SETMASK (((1<<HW_RTC_ALARM0_ALARMLOW_WIDTH)-1)<<HW_RTC_ALAR
                                  M0_ALARMLOW_BITPOS) 
                            23112 ; 214  |
                            23113 ; 215  |#define HW_RTC_ALARM0_ALARMLOW_CLRMASK (~(WORD)HW_RTC_ALARM0_ALARMLOW_SETMASK)
                            23114 ; 216  |
                            23115 ; 217  |typedef union               
                            23116 ; 218  |{
                            23117 ; 219  |    struct {
                            23118 ; 220  |         int ALARMLOW   : HW_RTC_ALARM0_ALARMLOW_WIDTH;
                            23119 ; 221  |    } B;
                            23120 ; 222  |    int I;
                            23121 ; 223  |    unsigned int U;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 383

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23122 ; 224  |} rtc_alarm0_type;
                            23123 ; 225  |#define HW_RTC_ALARM0      (*(volatile rtc_alarm0_type _X*) (HW_RTC_BASEADDR+4))    /* RTC
                                   ALARM Lower Word Register */
                            23124 ; 226  |/////////////////////////////////////////////////////////////////////////////////
                            23125 ; 227  |
                            23126 ; 228  |//  RTC Alarm Register1 (HW_RTC_ALARM1) Bit Definitions
                            23127 ; 229  |
                            23128 ; 230  |#define HW_RTC_ALARM1_ALARMHIGH_BITPOS (0)
                            23129 ; 231  |
                            23130 ; 232  |#define HW_RTC_ALARM1_ALARMHIGH_WIDTH (24)
                            23131 ; 233  |
                            23132 ; 234  |#define HW_RTC_ALARM1_ALARMHIGH_SETMASK (((1<<HW_RTC_ALARM1_ALARMHIGH_WIDTH)-1)<<HW_RTC_AL
                                  ARM1_ALARMHIGH_BITPOS) 
                            23133 ; 235  |
                            23134 ; 236  |#define HW_RTC_ALARM1_ALARMHIGH_CLRMASK (~(WORD)HW_RTC_ALARM1_ALARMHIGH_SETMASK)
                            23135 ; 237  |
                            23136 ; 238  |typedef union               
                            23137 ; 239  |{
                            23138 ; 240  |    struct {
                            23139 ; 241  |         int ALARMHIGH  : HW_RTC_ALARM1_ALARMHIGH_WIDTH;
                            23140 ; 242  |    } B;
                            23141 ; 243  |    int I;
                            23142 ; 244  |    unsigned int U;
                            23143 ; 245  |} rtc_alarm1_type;
                            23144 ; 246  |#define HW_RTC_ALARM1      (*(volatile rtc_alarm1_type _X*) (HW_RTC_BASEADDR+5))    /* RTC
                                   ALARM Upper Word Register */
                            23145 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                            23146 ; 248  |
                            23147 ; 249  |//  RTC Xtal-Clock Divide Register (HW_RTC_XTALDIVIDE) Bit Definitions
                            23148 ; 250  |
                            23149 ; 251  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_BITPOS (0)
                            23150 ; 252  |#define HW_RTC_XTALDIVIDE_RSVD0_BITPOS (16)
                            23151 ; 253  |
                            23152 ; 254  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH (16)
                            23153 ; 255  |#define HW_RTC_XTALDIVIDE_RSVD0_WIDTH (8)
                            23154 ; 256  |
                            23155 ; 257  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK (((1<<HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH)-1)<<HW_
                                  RTC_XTALDIVIDE_DIVCOUNT_BITPOS) 
                            23156 ; 258  |#define HW_RTC_XTALDIVIDE_RSVD0_SETMASK (((1<<HW_RTC_XTALDIVIDE_RSVD0_BITPOS)-1)<<HW_RTC_X
                                  TALDIVIDE_RSVD0_BITPOS) 
                            23157 ; 259  |
                            23158 ; 260  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK)
                            23159 ; 261  |#define HW_RTC_XTALDIVIDE_RSVD0_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_RSVD0_SETMASK)
                            23160 ; 262  |
                            23161 ; 263  |typedef union               
                            23162 ; 264  |{
                            23163 ; 265  |    struct {
                            23164 ; 266  |         int DIVCOUNT   : HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH;
                            23165 ; 267  |         int RSVD0      : HW_RTC_XTALDIVIDE_RSVD0_WIDTH;
                            23166 ; 268  |    } B;
                            23167 ; 269  |    int I;
                            23168 ; 270  |    unsigned int U;
                            23169 ; 271  |} rtc_xtaldivide_type;
                            23170 ; 272  |#define HW_RTC_XTALDIVIDE   (*(volatile rtc_xtaldivide_type _X*) (HW_RTC_BASEADDR+6))  /* 
                                  RTC Xtal-clock Pre-Divider Word Register */
                            23171 ; 273  |/////////////////////////////////////////////////////////////////////////////////
                            23172 ; 274  |
                            23173 ; 275  |//  RTC PERSISTENT Register0 (HW_RTC_PERSISTENT0) Bit Definitions
                            23174 ; 276  |
                            23175 ; 277  |#define HW_RTC_PERSISTENT0_ALARMEN_BITPOS (0)
                            23176 ; 278  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS (1)
                            23177 ; 279  |#define HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS (2)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 384

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23178 ; 280  |#define HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS (3)
                            23179 ; 281  |#define HW_RTC_PERSISTENT0_RSVD0_BITPOS (4)
                            23180 ; 282  |
                            23181 ; 283  |#define HW_RTC_PERSISTENT0_ALARMEN_WIDTH (1)
                            23182 ; 284  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH (1)
                            23183 ; 285  |#define HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH (1)
                            23184 ; 286  |#define HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH (1)
                            23185 ; 287  |#define HW_RTC_PERSISTENT0_RSVD0_WIDTH (21)
                            23186 ; 288  |
                            23187 ; 289  |#define HW_RTC_PERSISTENT0_ALARMEN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMEN_WIDTH)-1)<<HW_
                                  RTC_PERSISTENT0_ALARMEN_BITPOS) 
                            23188 ; 290  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDT
                                  H)-1)<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS)
                            23189 ; 291  |#define HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH)-1)<
                                  <HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS) 
                            23190 ; 292  |#define HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK (((1<<HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH)-1)<
                                  <HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS) 
                            23191 ; 293  |#define HW_RTC_PERSISTENT0_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT0_RSVD0_WIDTH)-1)<<HW_RTC_
                                  PERSISTENT0_RSVD0_BITPOS) 
                            23192 ; 294  |
                            23193 ; 295  |#define HW_RTC_PERSISTENT0_ALARMEN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMEN_SETMASK)
                            23194 ; 296  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_EN_SE
                                  TMASK)
                            23195 ; 297  |#define HW_RTC_PERSISTENT0_ALARMWAKE_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK)
                                  
                            23196 ; 298  |#define HW_RTC_PERSISTENT0_XTALPDOWN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK)
                                  
                            23197 ; 299  |#define HW_RTC_PERSISTENT0_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_RSVD0_SETMASK)
                            23198 ; 300  |
                            23199 ; 301  |typedef union               
                            23200 ; 302  |{
                            23201 ; 303  |   struct {
                            23202 ; 304  |      int ALARMEN   : HW_RTC_PERSISTENT0_ALARMEN_WIDTH;
                            23203 ; 305  |           int ALARMWAKE_EN  :  HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH;
                            23204 ; 306  |      int ALARMWAKE : HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH;
                            23205 ; 307  |      int XTALPDOWN : HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH;
                            23206 ; 308  |      int RSVD0     : HW_RTC_PERSISTENT0_RSVD0_WIDTH;
                            23207 ; 309  |   } B;
                            23208 ; 310  |    int I;
                            23209 ; 311  |    unsigned int U;
                            23210 ; 312  |} rtc_PERSISTENT0_type;
                            23211 ; 313  |#define HW_RTC_PERSISTENT0   (*(volatile rtc_PERSISTENT0_type _X*) (HW_RTC_BASEADDR+7))  /
                                  * RTC PERSISTENT Register0 */
                            23212 ; 314  |
                            23213 ; 315  |/////////////////////////////////////////////////////////////////////////////////
                            23214 ; 316  |
                            23215 ; 317  |//  RTC PERSISTENT Register1 (HW_RTC_PERSISTENT1) Bit Definitions
                            23216 ; 318  |
                            23217 ; 319  |#define HW_RTC_PERSISTENT1_RSVD0_BITPOS (0)
                            23218 ; 320  |
                            23219 ; 321  |#define HW_RTC_PERSISTENT1_RSVD0_WIDTH (24)
                            23220 ; 322  |
                            23221 ; 323  |#define HW_RTC_PERSISTENT1_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT1_RSVD0_WIDTH)-1)<<HW_RTC_
                                  PERSISTENT1_RSVD0_BITPOS) 
                            23222 ; 324  |
                            23223 ; 325  |#define HW_RTC_PERSISTENT1_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT1_RSVD0_SETMASK)
                            23224 ; 326  |
                            23225 ; 327  |
                            23226 ; 328  |typedef union               
                            23227 ; 329  |{
                            23228 ; 330  |    struct {
                            23229 ; 331  |         int RSVD0      : HW_RTC_PERSISTENT1_RSVD0_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 385

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23230 ; 332  |    } B;
                            23231 ; 333  |    int I;
                            23232 ; 334  |    unsigned int U;
                            23233 ; 335  |} rtc_PERSISTENT1_type;
                            23234 ; 336  |#define HW_RTC_PERSISTENT1   (*(volatile rtc_PERSISTENT1_type _X*) (HW_RTC_BASEADDR+8))  /
                                  * RTC PERSISTENT Register1 */
                            23235 ; 337  |
                            23236 ; 338  |
                            23237 ; 339  |#endif
                            23238 ; 340  |
                            23239 ; 341  |
                            23240 ; 342  |
                            23241 ; 343  |
                            23242 ; 344  |
                            23243 ; 345  |
                            23244 ; 346  |
                            23245 ; 347  |
                            23246 ; 348  |
                            23247 ; 349  |
                            23248 ; 350  |
                            23249 ; 351  |
                            23250 ; 352  |
                            23251 ; 353  |
                            23252 
                            23254 
                            23255 ; 13   |
                            23256 ; 14   |// Reserve bit 0 for Low Power USB, if hub can't supply 500mA, need to reboot with 100mA
                            23257 ; 15   |#define HW_RTC_LOW_POWER_USB_REG                     (HW_RTC_PERSISTENT1)
                            23258 ; 16   |#define HW_RTC_PERSISTANT1_LOW_POWER_USB_BITPOS      (0)
                            23259 ; 17   |#define HW_RTC_PERSISTANT1_LOW_POWER_USB_WIDTH       (1)
                            23260 ; 18   |#define HW_RTC_PERSISTANT1_LOW_POWER_USB_SETMASK     (((1<<HW_RTC_PERSISTANT1_LOW_POWER_US
                                  B_WIDTH)-1)<<HW_RTC_PERSISTANT1_LOW_POWER_USB_BITPOS) 
                            23261 ; 19   |#define HW_RTC_PERSISTANT1_LOW_POWER_USB_CLRMASK     (~(WORD)HW_RTC_PERSISTANT1_LOW_POWER_
                                  USB_SETMASK)
                            23262 ; 20   |
                            23263 ; 21   |// Reserve bit 1 for Skip Checkdisk.  If disk hasn't changed, don't run checkdisk.
                            23264 ; 22   |#define HW_RTC_SKIP_CHECKDISK_REG                    (HW_RTC_PERSISTENT1)
                            23265 ; 23   |#define HW_RTC_PERSISTENT1_SKIP_CHECKDISK_BITPOS     (1)
                            23266 ; 24   |#define HW_RTC_PERSISTENT1_SKIP_CHECKDISK_WIDTH      (1)
                            23267 ; 25   |#define HW_RTC_PERSISTENT1_SKIP_CHECKDISK_SETMASK    (((1<<HW_RTC_PERSISTANT1_SKIP_CHECKDI
                                  SK_WIDTH)-1)<<HW_RTC_PERSISTANT1_SKIP_CHECKDISK_BITPOS) 
                            23268 ; 26   |#define HW_RTC_PERSISTANT1_SKIP_CHECKDISK_CLRMASK    (~(WORD)HW_RTC_PERSISTANT1_SKIP_CHECK
                                  DISK_SETMASK)
                            23269 ; 27   |
                            23270 ; 28   |// Reserve bit 2 for Skip building music library internal flash.  If disk hasn't changed, 
                                  don't run building.
                            23271 ; 29   |#define HW_RTC_SKIP_REBUILD_REG                  (HW_RTC_PERSISTENT1)
                            23272 ; 30   |#define HW_RTC_PERSISTENT1_SKIP_REBUILD_BITPOS   (2)
                            23273 ; 31   |#define HW_RTC_PERSISTENT1_SKIP_REBUILD_WIDTH    (1)
                            23274 ; 32   |#define HW_RTC_PERSISTENT1_SKIP_REBUILD_SETMASK  (((1<<HW_RTC_PERSISTENT1_SKIP_REBUILD_WID
                                  TH)-1)<<HW_RTC_PERSISTENT1_SKIP_REBUILD_BITPOS) 
                            23275 ; 33   |#define HW_RTC_PERSISTENT1_SKIP_REBUILD_CLRMASK  (~(WORD)HW_RTC_PERSISTENT1_SKIP_REBUILD_S
                                  ETMASK)
                            23276 ; 34   |
                            23277 ; 35   |// Reserve bit 3 for 2nd try Low Power USB, if hub can't supply 500mA (try 2 times)
                            23278 ; 36   |// need to reboot with 100mA
                            23279 ; 37   |#define HW_RTC_PERSISTANT1_LOW_POWER2_USB_BITPOS     (3)
                            23280 ; 38   |#define HW_RTC_PERSISTANT1_LOW_POWER2_USB_WIDTH      (1)
                            23281 ; 39   |#define HW_RTC_PERSISTANT1_LOW_POWER2_USB_SETMASK    (((1<<HW_RTC_PERSISTANT1_LOW_POWER2_U
                                  SB_WIDTH)-1)<<HW_RTC_PERSISTANT1_LOW_POWER2_USB_BITPOS) 
                            23282 ; 40   |#define HW_RTC_PERSISTANT1_LOW_POWER2_USB_CLRMASK    (~(WORD)HW_RTC_PERSISTANT1_LOW_POWER2
                                  _USB_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 386

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23283 ; 41   |
                            23284 ; 42   |// Reserve bit 5 for MTP database clean flag. 1 => database "clean", 0 => database "dirty"
                                  
                            23285 ; 43   |#define HW_RTC_MTP_DB_CLEAN_FLAG_REG                 (HW_RTC_PERSISTENT1)
                            23286 ; 44   |#define HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_BITPOS  (5)
                            23287 ; 45   |#define HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_WIDTH   (1)
                            23288 ; 46   |#define HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_SETMASK (((1<<HW_RTC_PERSISTANT1_MTP_DB_CLEAN
                                  _FLAG_WIDTH)-1)<<HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_BITPOS) 
                            23289 ; 47   |#define HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_CLRMASK (~(WORD)HW_RTC_PERSISTANT1_MTP_DB_CLE
                                  AN_FLAG_SETMASK)
                            23290 ; 48   |
                            23291 ; 49   |// Reserve bit 6 for when to use backup resource.bin.  1 => require resource.bat refresh, 
                                  0 => no refresh reqd.
                            23292 ; 50   |#define HW_RTC_RESOURCE_BIN_REFRESH_FLAG_REG              (HW_RTC_PERSISTENT1)
                            23293 ; 51   |#define HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_BITPOS  (6)
                            23294 ; 52   |#define HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_WIDTH   (1)
                            23295 ; 53   |#define HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_SETMASK (((1<<HW_RTC_PERSISTANT1_RESO
                                  URCE_BIN_REFRESH_FLAG_WIDTH)-1)<<HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_BITPOS) 
                            23296 ; 54   |#define HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_CLRMASK (~(WORD)HW_RTC_PERSISTANT1_RESOURC
                                  E_BIN_REFRESH_FLAG_SETMASK)
                            23297 ; 55   |
                            23298 ; 56   |// Reserve bit 7 for when to use backup resource.bin.  1 => require resource.bat refresh, 
                                  0 => no refresh reqd.
                            23299 ; 57   |#define HW_RTC_HOST_RESOURCE_BIN_REFRESH_FLAG_REG              (HW_RTC_PERSISTENT1)
                            23300 ; 58   |#define HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_BITPOS  (7)
                            23301 ; 59   |#define HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_WIDTH   (1)
                            23302 ; 60   |#define HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_SETMASK (((1<<HW_RTC_PERSISTANT1
                                  _HOST_RESOURCE_BIN_REFRESH_FLAG_WIDTH)-1)<<HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_BITPO
                                  S) 
                            23303 ; 61   |#define HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_CLRMASK (~(WORD)HW_RTC_PERSISTANT1_HO
                                  ST_RESOURCE_BIN_REFRESH_FLAG_SETMASK)
                            23304 ; 62   |
                            23305 ; 63   |// Want to wait 2000 clocks before failing.
                            23306 ; 64   |#define PERSIST_WAIT_TIME                            2000
                            23307 ; 65   |
                            23308 ; 66   |void _reentrant StickyBitInit(void);
                            23309 ; 67   |RETCODE _reentrant ReadStickyBit(volatile _X WORD * pSBPointer, WORD BitPosition, BOOL * b
                                  Result);
                            23310 ; 68   |RETCODE _reentrant SetStickyBit(volatile _X WORD * pSBPointer, WORD BitPosition);
                            23311 ; 69   |RETCODE _reentrant ClearStickyBit(volatile _X WORD * pSBPointer, WORD BitPosition);
                            23312 ; 70   |void _reentrant SetBitResourceRefresh(INT bBitValue); // should this line be commented out
                                  ? I think the func def was commented out since unused.
                            23313 ; 71   |INT _reentrant GetBitResourceRefresh(void);           // "
                            23314 ; 72   |void _reentrant StickyBitForceUpdate(void);
                            23315 ; 73   |
                            23316 ; 74   |#endif // _PERSIST_BITS_H
                            23317 
                            23319 
                            23320 ; 24   |
                            23321 ; 25   |#ifdef   USE_PLAYLIST1
                            23322 ; 26   |#include "playlist1.h"
                            23323 ; 27   |#include "playlist1internal.h"
                            23324 ; 28   |#else
                            23325 ; 29   |#ifdef USE_PLAYLIST2
                            23326 ; 30   |#include "playlist2.h"
                            23327 ; 31   |#include "playlist2internal.h"
                            23328 ; 32   |#else
                            23329 ; 33   |#ifdef USE_PLAYLIST3
                            23330 ; 34   |#include "playlist3.h"
                            23331 
                            23333 
                            23334 ; 1    |#ifndef _PLAYLIST3_H
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 387

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23335 ; 2    |#define _PLAYLIST3_H
                            23336 ; 3    |#include "playlist.h"
                            23337 
                            23339 
                            23340 ; 1    |#ifndef PLAYLIST_H
                            23341 ; 2    |#define PLAYLIST_H
                            23342 ; 3    |
                            23343 ; 4    |#include "types.h"
                            23344 
                            23346 
                            23347 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            23348 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            23349 ; 3    |//
                            23350 ; 4    |// Filename: types.h
                            23351 ; 5    |// Description: Standard data types
                            23352 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            23353 ; 7    |
                            23354 ; 8    |#ifndef _TYPES_H
                            23355 ; 9    |#define _TYPES_H
                            23356 ; 10   |
                            23357 ; 11   |// TODO:  move this outta here!
                            23358 ; 12   |#if !defined(NOERROR)
                            23359 ; 13   |#define NOERROR 0
                            23360 ; 14   |#define SUCCESS 0
                            23361 ; 15   |#endif 
                            23362 ; 16   |#if !defined(SUCCESS)
                            23363 ; 17   |#define SUCCESS  0
                            23364 ; 18   |#endif
                            23365 ; 19   |#if !defined(ERROR)
                            23366 ; 20   |#define ERROR   -1
                            23367 ; 21   |#endif
                            23368 ; 22   |#if !defined(FALSE)
                            23369 ; 23   |#define FALSE 0
                            23370 ; 24   |#endif
                            23371 ; 25   |#if !defined(TRUE)
                            23372 ; 26   |#define TRUE  1
                            23373 ; 27   |#endif
                            23374 ; 28   |
                            23375 ; 29   |#if !defined(NULL)
                            23376 ; 30   |#define NULL 0
                            23377 ; 31   |#endif
                            23378 ; 32   |
                            23379 ; 33   |#define MAX_INT     0x7FFFFF
                            23380 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            23381 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            23382 ; 36   |#define MAX_ULONG   (-1) 
                            23383 ; 37   |
                            23384 ; 38   |#define WORD_SIZE   24              // word size in bits
                            23385 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            23386 ; 40   |
                            23387 ; 41   |
                            23388 ; 42   |#define BYTE    unsigned char       // btVarName
                            23389 ; 43   |#define CHAR    signed char         // cVarName
                            23390 ; 44   |#define USHORT  unsigned short      // usVarName
                            23391 ; 45   |#define SHORT   unsigned short      // sVarName
                            23392 ; 46   |#define WORD    unsigned int        // wVarName
                            23393 ; 47   |#define INT     signed int          // iVarName
                            23394 ; 48   |#define DWORD   unsigned long       // dwVarName
                            23395 ; 49   |#define LONG    signed long         // lVarName
                            23396 ; 50   |#define BOOL    unsigned int        // bVarName
                            23397 ; 51   |#define FRACT   _fract              // frVarName
                            23398 ; 52   |#define LFRACT  long _fract         // lfrVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 388

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23399 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            23400 ; 54   |#define FLOAT   float               // fVarName
                            23401 ; 55   |#define DBL     double              // dVarName
                            23402 ; 56   |#define ENUM    enum                // eVarName
                            23403 ; 57   |#define CMX     _complex            // cmxVarName
                            23404 ; 58   |typedef WORD UCS3;                   // 
                            23405 ; 59   |
                            23406 ; 60   |#define UINT16  unsigned short
                            23407 ; 61   |#define UINT8   unsigned char   
                            23408 ; 62   |#define UINT32  unsigned long
                            23409 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            23410 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            23411 ; 65   |#define WCHAR   UINT16
                            23412 ; 66   |
                            23413 ; 67   |//UINT128 is 16 bytes or 6 words
                            23414 ; 68   |typedef struct UINT128_3500 {   
                            23415 ; 69   |    int val[6];     
                            23416 ; 70   |} UINT128_3500;
                            23417 ; 71   |
                            23418 ; 72   |#define UINT128   UINT128_3500
                            23419 ; 73   |
                            23420 ; 74   |// Little endian word packed byte strings:   
                            23421 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            23422 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            23423 ; 77   |// Little endian word packed byte strings:   
                            23424 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            23425 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            23426 ; 80   |
                            23427 ; 81   |// Declare Memory Spaces To Use When Coding
                            23428 ; 82   |// A. Sector Buffers
                            23429 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            23430 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            23431 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            23432 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            23433 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            23434 ; 88   |// B. Media DDI Memory
                            23435 ; 89   |#define MEDIA_DDI_MEM _Y
                            23436 ; 90   |
                            23437 ; 91   |
                            23438 ; 92   |
                            23439 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            23440 ; 94   |// Examples of circular pointers:
                            23441 ; 95   |//    INT CIRC cpiVarName
                            23442 ; 96   |//    DWORD CIRC cpdwVarName
                            23443 ; 97   |
                            23444 ; 98   |#define RETCODE INT                 // rcVarName
                            23445 ; 99   |
                            23446 ; 100  |// generic bitfield structure
                            23447 ; 101  |struct Bitfield {
                            23448 ; 102  |    unsigned int B0  :1;
                            23449 ; 103  |    unsigned int B1  :1;
                            23450 ; 104  |    unsigned int B2  :1;
                            23451 ; 105  |    unsigned int B3  :1;
                            23452 ; 106  |    unsigned int B4  :1;
                            23453 ; 107  |    unsigned int B5  :1;
                            23454 ; 108  |    unsigned int B6  :1;
                            23455 ; 109  |    unsigned int B7  :1;
                            23456 ; 110  |    unsigned int B8  :1;
                            23457 ; 111  |    unsigned int B9  :1;
                            23458 ; 112  |    unsigned int B10 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 389

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23459 ; 113  |    unsigned int B11 :1;
                            23460 ; 114  |    unsigned int B12 :1;
                            23461 ; 115  |    unsigned int B13 :1;
                            23462 ; 116  |    unsigned int B14 :1;
                            23463 ; 117  |    unsigned int B15 :1;
                            23464 ; 118  |    unsigned int B16 :1;
                            23465 ; 119  |    unsigned int B17 :1;
                            23466 ; 120  |    unsigned int B18 :1;
                            23467 ; 121  |    unsigned int B19 :1;
                            23468 ; 122  |    unsigned int B20 :1;
                            23469 ; 123  |    unsigned int B21 :1;
                            23470 ; 124  |    unsigned int B22 :1;
                            23471 ; 125  |    unsigned int B23 :1;
                            23472 ; 126  |};
                            23473 ; 127  |
                            23474 ; 128  |union BitInt {
                            23475 ; 129  |        struct Bitfield B;
                            23476 ; 130  |        int        I;
                            23477 ; 131  |};
                            23478 ; 132  |
                            23479 ; 133  |#define MAX_MSG_LENGTH 10
                            23480 ; 134  |struct CMessage
                            23481 ; 135  |{
                            23482 ; 136  |        unsigned int m_uLength;
                            23483 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            23484 ; 138  |};
                            23485 ; 139  |
                            23486 ; 140  |typedef struct {
                            23487 ; 141  |    WORD m_wLength;
                            23488 ; 142  |    WORD m_wMessage;
                            23489 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            23490 ; 144  |} Message;
                            23491 ; 145  |
                            23492 ; 146  |struct MessageQueueDescriptor
                            23493 ; 147  |{
                            23494 ; 148  |        int *m_pBase;
                            23495 ; 149  |        int m_iModulo;
                            23496 ; 150  |        int m_iSize;
                            23497 ; 151  |        int *m_pHead;
                            23498 ; 152  |        int *m_pTail;
                            23499 ; 153  |};
                            23500 ; 154  |
                            23501 ; 155  |struct ModuleEntry
                            23502 ; 156  |{
                            23503 ; 157  |    int m_iSignaledEventMask;
                            23504 ; 158  |    int m_iWaitEventMask;
                            23505 ; 159  |    int m_iResourceOfCode;
                            23506 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            23507 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            23508 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            23509 ; 163  |    int m_uTimeOutHigh;
                            23510 ; 164  |    int m_uTimeOutLow;
                            23511 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            23512 ; 166  |};
                            23513 ; 167  |
                            23514 ; 168  |union WaitMask{
                            23515 ; 169  |    struct B{
                            23516 ; 170  |        unsigned int m_bNone     :1;
                            23517 ; 171  |        unsigned int m_bMessage  :1;
                            23518 ; 172  |        unsigned int m_bTimer    :1;
                            23519 ; 173  |        unsigned int m_bButton   :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 390

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23520 ; 174  |    } B;
                            23521 ; 175  |    int I;
                            23522 ; 176  |} ;
                            23523 ; 177  |
                            23524 ; 178  |
                            23525 ; 179  |struct Button {
                            23526 ; 180  |        WORD wButtonEvent;
                            23527 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            23528 ; 182  |};
                            23529 ; 183  |
                            23530 ; 184  |struct Message {
                            23531 ; 185  |        WORD wMsgLength;
                            23532 ; 186  |        WORD wMsgCommand;
                            23533 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            23534 ; 188  |};
                            23535 ; 189  |
                            23536 ; 190  |union EventTypes {
                            23537 ; 191  |        struct CMessage msg;
                            23538 ; 192  |        struct Button Button ;
                            23539 ; 193  |        struct Message Message;
                            23540 ; 194  |};
                            23541 ; 195  |
                            23542 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            23543 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            23544 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            23545 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            23546 ; 200  |
                            23547 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            23548 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            23549 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            23550 ; 204  |
                            23551 ; 205  |#if DEBUG
                            23552 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            23553 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            23554 ; 208  |#else 
                            23555 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            23556 ; 210  |#define DebugBuildAssert(x)    
                            23557 ; 211  |#endif
                            23558 ; 212  |
                            23559 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            23560 ; 214  |//  #pragma asm
                            23561 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            23562 ; 216  |//  #pragma endasm
                            23563 ; 217  |
                            23564 ; 218  |
                            23565 ; 219  |#ifdef COLOR_262K
                            23566 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            23567 ; 221  |#elif defined(COLOR_65K)
                            23568 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            23569 ; 223  |#else
                            23570 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            23571 ; 225  |#endif
                            23572 ; 226  |    
                            23573 ; 227  |#endif // #ifndef _TYPES_H
                            23574 
                            23576 
                            23577 ; 5    |
                            23578 ; 6    |typedef struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 391

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23579 ; 7    |    WORD    m_wTrack;                       
                            23580 ; 8    |    WORD    m_wDeviceID;
                            23581 ; 9    |    WORD    m_wBufferLength;            //this is in BYTES, not WORDS!
                            23582 ; 10   |    _packed BYTE *m_pFilename;
                            23583 ; 11   |} SONGFILEINFO;
                            23584 ; 12   |
                            23585 ; 13   |#define PLAYLIST_SUCCESS                                0
                            23586 ; 14   |#define PLAYLIST_FILE_ERROR                             1
                            23587 ; 15   |#define PLAYLIST_END_OF_LIST                    2
                            23588 ; 16   |#define PLAYLIST_TRACK_NOT_FOUND                3
                            23589 ; 17   |#define PLAYLIST_DIR_NOT_EMPTY          4 
                            23590 ; 18   |#define PLAYLIST_REBUILD                5
                            23591 ; 19   |#define PLAYLIST_LAST_RETCODE                   5               //The value should always 
                                  be the same as the last RETCODE
                            23592 ; 20   |
                            23593 ; 21   |
                            23594 ; 22   |#ifdef  USE_PLAYLIST1
                            23595 ; 23   |RETCODE ChangeDIRtoFileEntryDir(struct FileEntry *pCurrentEntry, _packed BYTE * buffer);
                            23596 ; 24   |#endif
                            23597 ; 25   |RETCODE _reentrant Playlist_LFNGetFileName(int,int,UCS3*);                      //UCS3 is 
                                  actually typdef WORD
                            23598 ; 26   |RETCODE _reentrant Playlist_MarkCurrentSongPlayed(int,int,int*);
                            23599 ; 27   |RETCODE _reentrant Playlist_GetCurrentSongFileInfo(int, int, int*);
                            23600 ; 28   |RETCODE _reentrant Playlist_GetNextSongFileInfo(int, int , int*);
                            23601 ; 29   |RETCODE _reentrant Playlist_GetPreviousSongFileInfo(int,int,int*);
                            23602 ; 30   |#ifdef USE_PLAYLIST1
                            23603 ; 31   |_reentrant INT Playlist_LocateEntryFromName(INT,INT,INT*);
                            23604 ; 32   |#endif
                            23605 ; 33   |
                            23606 ; 34   |#endif 
                            23607 
                            23609 
                            23610 ; 4    |#include "playlist3internal.h"
                            23611 
                            23613 
                            23614 ; 1    |#ifndef __PLAYLIST3INTERNAL_H
                            23615 ; 2    |#define __PLAYLIST3INTERNAL_H
                            23616 ; 3    |
                            23617 ; 4    |#include "project.h"
                            23618 
                            23620 
                            23621 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            23622 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            23623 ; 3    |//  Filename: project.inc
                            23624 ; 4    |//  Description: 
                            23625 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            23626 ; 6    |
                            23627 ; 7    |#if (!defined(_PROJECT_INC))
                            23628 ; 8    |#define _PROJECT_INC 1
                            23629 ; 9    |
                            23630 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            23631 ; 11   |#include "hwequ.h"
                            23632 ; 12   |#else 
                            23633 ; 13   |//include "regscodec.inc"
                            23634 ; 14   |#endif
                            23635 ; 15   |
                            23636 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            23637 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults
                                   ON) & 
                            23638 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm
                                  . STMP00012148
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 392

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23639 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal
                                  ). 
                            23640 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's spe
                                  cs can 
                            23641 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player m
                                  ode.  
                            23642 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            23643 ; 23   |
                            23644 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            23645 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            23646 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            23647 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define bel
                                  ow by defining
                            23648 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            23649 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            23650 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            23651 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot 
                                  config above- 
                            23652 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down thresh
                                  holds by maybe 50mV.
                            23653 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed
                                  .
                            23654 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            23655 ; 35   |
                            23656 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            23657 ; 37   |// MEDIA DEFINITIONS
                            23658 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            23659 ; 39   |
                            23660 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            23661 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            23662 ; 42   |#if defined(NAND1)
                            23663 ; 43   |#define SM_INTERNAL_CHIPS 1
                            23664 ; 44   |#else 
                            23665 ; 45   |#if defined(NAND2)
                            23666 ; 46   |#define SM_INTERNAL_CHIPS 2
                            23667 ; 47   |#else 
                            23668 ; 48   |#if defined(NAND3)
                            23669 ; 49   |#define SM_INTERNAL_CHIPS 3
                            23670 ; 50   |#else 
                            23671 ; 51   |#if defined(NAND4)
                            23672 ; 52   |#define SM_INTERNAL_CHIPS 4
                            23673 ; 53   |#else 
                            23674 ; 54   |#define SM_INTERNAL_CHIPS 1
                            23675 ; 55   |#endif
                            23676 ; 56   |#endif
                            23677 ; 57   |#endif
                            23678 ; 58   |#endif
                            23679 ; 59   |
                            23680 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            23681 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            23682 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it rea
                                  ds 0.  
                            23683 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            23684 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it rea
                                  ds 1.
                            23685 ; 65   |//*** comment out if active high ****
                            23686 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            23687 ; 67   |
                            23688 ; 68   |#if defined(SMEDIA)
                            23689 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            23690 ; 70   |#define NUM_SM_EXTERNAL 1
                            23691 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 393

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23692 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            23693 ; 73   |#else 
                            23694 ; 74   |#if defined(MMC)
                            23695 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            23696 ; 76   |#define NUM_SM_EXTERNAL 0
                            23697 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            23698 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            23699 ; 79   |#else 
                            23700 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            23701 ; 81   |#define NUM_SM_EXTERNAL 0
                            23702 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            23703 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            23704 ; 84   |#endif
                            23705 ; 85   |#endif
                            23706 ; 86   |
                            23707 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            23708 ; 88   |// Mass Storage Class definitions
                            23709 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            23710 ; 90   |// Set to 0 if Composite Device build is desired.    
                            23711 ; 91   |#define MULTI_LUN_BUILD 1   
                            23712 ; 92   |
                            23713 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            23714 ; 94   |//  SCSI
                            23715 ; 95   |#if (MULTI_LUN_BUILD==0)
                            23716 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            23717 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            23718 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            23719 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            23720 ; 100  |  #else
                            23721 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            23722 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            23723 ; 103  |  #endif
                            23724 ; 104  |#else
                            23725 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            23726 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            23727 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            23728 ; 108  |  #else
                            23729 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            23730 ; 110  |  #endif
                            23731 ; 111  |#endif
                            23732 ; 112  |
                            23733 ; 113  |
                            23734 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            23735 ; 115  |
                            23736 ; 116  |
                            23737 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            23738 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            23739 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            23740 ; 120  |#ifdef MMC
                            23741 ; 121  |#ifdef MTP_BUILD
                            23742 ; 122  |// --------------------
                            23743 ; 123  |// MTP and MMC
                            23744 ; 124  |// --------------------
                            23745 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            23746 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            23747 ; 127  |#else  // ifndef MTP_BUILD
                            23748 ; 128  |#ifdef STMP_BUILD_PLAYER
                            23749 ; 129  |// --------------------
                            23750 ; 130  |// Player and MMC
                            23751 ; 131  |// --------------------
                            23752 ; 132  |#else
                            23753 ; 133  |// --------------------
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 394

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23754 ; 134  |// USBMSC and MMC
                            23755 ; 135  |// --------------------
                            23756 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            23757 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            23758 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            23759 ; 139  |#endif // ifdef MTP_BUILD
                            23760 ; 140  |#else  // ifndef MMC
                            23761 ; 141  |#ifdef MTP_BUILD
                            23762 ; 142  |// --------------------
                            23763 ; 143  |// MTP and NAND only
                            23764 ; 144  |// --------------------
                            23765 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            23766 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            23767 ; 147  |#else  // ifndef MTP_BUILD
                            23768 ; 148  |#ifdef STMP_BUILD_PLAYER
                            23769 ; 149  |// --------------------
                            23770 ; 150  |// Player and NAND only
                            23771 ; 151  |// --------------------
                            23772 ; 152  |#else
                            23773 ; 153  |// --------------------
                            23774 ; 154  |// USBMSC and NAND only
                            23775 ; 155  |// --------------------
                            23776 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            23777 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            23778 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            23779 ; 159  |#endif // ifdef MTP_BUILD
                            23780 ; 160  |#endif // ifdef MMC 
                            23781 ; 161  |
                            23782 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            23783 ; 163  |#if (defined(MTP_BUILD))
                            23784 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            23785 ; 165  |
                            23786 ; 166  |////!
                            23787 ; 167  |////! This varible holds the watchdog count for the store flush.
                            23788 ; 168  |////!
                            23789 ; 169  |///
                            23790 ; 170  |#include <types.h>
                            23791 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            23792 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            23793 ; 173  |#endif
                            23794 ; 174  |
                            23795 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            23796 ; 176  |// These are needed here for Mass Storage Class
                            23797 ; 177  |// Needs to be cleaned up
                            23798 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            23799 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            23800 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            23801 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            23802 ; 182  |
                            23803 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            23804 ; 184  |
                            23805 ; 185  |#endif
                            23806 ; 186  |
                            23807 ; 187  |
                            23808 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            23809 ; 189  |// SmartMedia/NAND defs
                            23810 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            23811 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            23812 ; 192  |
                            23813 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            23814 ; 194  |// Sysloadresources defs
                            23815 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 395

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23816 ; 196  |
                            23817 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            23818 ; 198  |// MMC defs
                            23819 ; 199  |#define MMC_MAX_PARTITIONS 1
                            23820 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            23821 ; 201  |
                            23822 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            23823 ; 203  |// SPI defs
                            23824 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            23825 ; 205  |
                            23826 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            23827 ; 207  |// Global media defs
                            23828 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            23829 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            23830 ; 210  |
                            23831 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            23832 ; 212  |// DO NOT CHANGE THESE!!!
                            23833 ; 213  |#define SM_MAX_PARTITIONS 4
                            23834 ; 214  |#define MAX_HANDLES 2
                            23835 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            23836 ; 216  |
                            23837 ; 217  |
                            23838 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            23839 ; 219  |// Battery LRADC Values 
                            23840 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            23841 ; 221  |// brownout trip point in mV (moved by RS)
                            23842 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            23843 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            23844 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            23845 ; 225  |//     audio recording to media.
                            23846 ; 226  |#define BATT_SAFETY_MARGIN 10
                            23847 ; 227  |
                            23848 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                                  
                            23849 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline vol
                                  tage to do a refresh.
                            23850 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            23851 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            23852 ; 232  |
                            23853 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc 
                                  presence.
                            23854 ; 234  |
                            23855 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            23856 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat che
                                  ck.
                            23857 ; 237  |#if (!defined(CLCD))
                            23858 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            23859 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            23860 ; 240  |#else 
                            23861 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            23862 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            23863 ; 243  |#endif
                            23864 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            23865 ; 245  |
                            23866 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            23867 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIo
                                  n.
                            23868 ; 248  |// See mp3 encoder overlay.
                            23869 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            23870 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            23871 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            23872 ; 252  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 396

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23873 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            23874 ; 254  |// Voice recording filenames
                            23875 ; 255  |// number of digits in filename Vxxx.wav
                            23876 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            23877 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            23878 ; 258  |
                            23879 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            23880 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            23881 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            23882 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            23883 ; 263  |#if defined(DEVICE_3500)
                            23884 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            23885 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            23886 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            23887 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, 
                                  & demo player)
                            23888 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            23889 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            23890 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            23891 ; 271  |
                            23892 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn whe
                                  n bias not yet ready.
                            23893 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            23894 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevent
                                  ion if you use rec button from outside voice menu.
                            23895 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latenc
                                  y in the record-from-music-menu use-case.
                            23896 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            23897 ; 277  |
                            23898 ; 278  |#else 
                            23899 ; 279  |// STMP3410
                            23900 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            23901 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            23902 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            23903 ; 283  |#endif
                            23904 ; 284  |
                            23905 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            23906 ; 286  |// Number of available soft timers
                            23907 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            23908 ; 288  |#if defined(SYNC_LYRICS)
                            23909 ; 289  |#define SOFT_TIMERS 10
                            23910 ; 290  |#else 
                            23911 ; 291  |#if defined(JPEG_DECODER)
                            23912 ; 292  |#define SOFT_TIMERS 10
                            23913 ; 293  |#else 
                            23914 ; 294  |#define SOFT_TIMERS 9
                            23915 ; 295  |#endif
                            23916 ; 296  |#endif
                            23917 ; 297  |
                            23918 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            23919 ; 299  |//  sizes
                            23920 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            23921 ; 301  |#if defined(MMC)
                            23922 ; 302  |#if defined(USE_PLAYLIST5)
                            23923 ; 303  |#define MENU_STACK_SIZE 1500
                            23924 ; 304  |#else 
                            23925 ; 305  |#define MENU_STACK_SIZE 1250
                            23926 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            23927 ; 307  |#else 
                            23928 ; 308  |#if defined(USE_PLAYLIST5)
                            23929 ; 309  |#define MENU_STACK_SIZE 1500
                            23930 ; 310  |#else 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 397

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23931 ; 311  |#define MENU_STACK_SIZE 1250
                            23932 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            23933 ; 313  |#endif //if @def('MMC')
                            23934 ; 314  |
                            23935 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 75
                                  0 else 550 for other builds? TOVERIFY. MYALLOC
                            23936 ; 316  |// 
                            23937 ; 317  |#define STACK_L1_SIZE 750
                            23938 ; 318  |#define STACK_L2_SIZE 100
                            23939 ; 319  |#define STACK_L3_SIZE 160
                            23940 ; 320  |
                            23941 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            23942 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            23943 ; 323  |// is ok with switching code.
                            23944 ; 324  |#if defined(MTP_BUILD)
                            23945 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            23946 ; 326  |#endif
                            23947 ; 327  |
                            23948 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            23949 ; 329  |// maximum number of nested funclets 
                            23950 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            23951 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            23952 ; 332  |
                            23953 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            23954 ; 334  |//    LCD DEFINITIONS
                            23955 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            23956 ; 336  |
                            23957 ; 337  |#define SPACE_CHAR 0x000020          
                            23958 ; 338  |#define ZERO_CHAR 0x000030
                            23959 ; 339  |#define COLON_CHAR 0x00003A
                            23960 ; 340  |#define PERIOD_CHAR 0x00002E
                            23961 ; 341  |
                            23962 ; 342  |#if (defined(S6B33B0A_LCD))
                            23963 ; 343  |#define LCD_X_SIZE 128
                            23964 ; 344  |#define LCD_Y_SIZE 159
                            23965 ; 345  |#endif
                            23966 ; 346  |
                            23967 ; 347  |#if (defined(SED15XX_LCD))
                            23968 ; 348  |#define LCD_X_SIZE 128
                            23969 ; 349  |#define LCD_Y_SIZE 64
                            23970 ; 350  |#endif
                            23971 ; 351  |
                            23972 ; 352  |
                            23973 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            23974 ; 354  |//   Details on Customizing Contrast
                            23975 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            23976 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            23977 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            23978 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            23979 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            23980 ; 360  |//   unless the ezact sequence is remembered.
                            23981 ; 361  |//   To find out what range your player supports: 
                            23982 ; 362  |//   change these equs to full range or comment out (full range is default)
                            23983 ; 363  |//;;;;;;
                            23984 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            23985 ; 365  |// recommended calibration using player -- uncomment 
                            23986 ; 366  |//;;;;;;
                            23987 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            23988 ; 368  |////////////////////////////
                            23989 ; 369  |#if (defined(DEMO_HW))
                            23990 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi 
                                  LCD (June6'05)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 398

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23991 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            23992 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            23993 ; 373  |#else 
                            23994 ; 374  |
                            23995 ; 375  |#if (defined(S6B33B0A_LCD))
                            23996 ; 376  |#define LCD_MAX_CONTRAST 210
                            23997 ; 377  |#define LCD_MIN_CONTRAST 160    
                            23998 ; 378  |#endif
                            23999 ; 379  |
                            24000 ; 380  |#if (defined(SED15XX_LCD))
                            24001 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            24002 ; 382  |// Engineering board regs support range [17-37].
                            24003 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            24004 ; 384  |//   One default contrast range [24-42] works for both.
                            24005 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            24006 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            24007 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            24008 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            24009 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            24010 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            24011 ; 391  |
                            24012 ; 392  |#if (defined(NEWSHINGYIH))
                            24013 ; 393  |#define LCD_MAX_CONTRAST 250
                            24014 ; 394  |#define LCD_MIN_CONTRAST 0
                            24015 ; 395  |#else 
                            24016 ; 396  |//-----
                            24017 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            24018 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for bo
                                  th LCDs.
                            24019 ; 399  |#define LCD_MAX_CONTRAST 250
                            24020 ; 400  |#define LCD_MIN_CONTRAST 0
                            24021 ; 401  |
                            24022 ; 402  |//=====
                            24023 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            24024 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this hi
                                  storic ver.
                            24025 ; 405  |//LCD_MAX_CONTRAST equ 42
                            24026 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            24027 ; 407  |
                            24028 ; 408  |#endif
                            24029 ; 409  |#endif
                            24030 ; 410  |
                            24031 ; 411  |#endif
                            24032 ; 412  |
                            24033 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            24034 ; 414  |// The default value of the lcd contrast in % of range
                            24035 ; 415  |//   the default value is used when no settings.dat is available
                            24036 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            24037 ; 417  |
                            24038 ; 418  |#if (defined(S6B33B0A_LCD))
                            24039 ; 419  |// 60% of range is default value
                            24040 ; 420  |#define DEFAULT_CONTRAST 50 
                            24041 ; 421  |#endif
                            24042 ; 422  |
                            24043 ; 423  |#if (defined(SED15XX_LCD))
                            24044 ; 424  |// % of range is default value (was 60%)
                            24045 ; 425  |#define DEFAULT_CONTRAST 50 
                            24046 ; 426  |#endif
                            24047 ; 427  |
                            24048 ; 428  |
                            24049 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            24050 ; 430  |// make lower when doing calibration
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 399

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24051 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            24052 ; 432  |
                            24053 ; 433  |
                            24054 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            24055 ; 435  |// For FFWD and RWND
                            24056 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            24057 ; 437  |#define SECONDS_TO_SKIP 1
                            24058 ; 438  |#define SECONDS_TO_SKIP1 3
                            24059 ; 439  |#define SECONDS_TO_SKIP2 6
                            24060 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            24061 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            24062 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            24063 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            24064 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            24065 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            24066 ; 446  |
                            24067 ; 447  |// For audible FFW/RWD
                            24068 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            24069 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            24070 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            24071 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            24072 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            24073 ; 453  |#define LEVEL1_BOUNDARY 17 
                            24074 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            24075 ; 455  |#define LEVEL2_BOUNDARY 33 
                            24076 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            24077 ; 457  |#define LEVEL3_BOUNDARY 50 
                            24078 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            24079 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            24080 ; 460  |// Short Song Time, songs too short to play.
                            24081 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            24082 ; 462  |
                            24083 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            24084 ; 464  |// MP3 Sync Values
                            24085 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            24086 ; 466  |// # bytes to look for sync before marking it bad
                            24087 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            24088 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            24089 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            24090 ; 470  |// once we have sync'd, the isr should be called this frequently
                            24091 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            24092 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            24093 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            24094 ; 474  |
                            24095 ; 475  |
                            24096 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            24097 ; 477  |//// Multi-Stage Volume Control Definitions
                            24098 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            24099 ; 479  |//// Use Multi-Stage Volume
                            24100 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            24101 ; 481  |
                            24102 ; 482  |//// Master Volume definitions
                            24103 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            24104 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            24105 ; 485  |
                            24106 ; 486  |//// DAC-Mode definitions
                            24107 ; 487  |//// Adjusts 0dB point
                            24108 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            24109 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            24110 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines 
                                  above.
                            24111 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 400

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24112 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provid
                                  es 1.5 dB gain on Stmp34x0; 
                            24113 ; 493  |//                                               Max gain possible: 8 step diff would prov
                                  ide +12dB gain.   
                            24114 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            24115 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            24116 ; 496  |
                            24117 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            24118 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            24119 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                                  
                            24120 ; 500  |
                            24121 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not t
                                  he default
                            24122 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoin
                                  t.
                            24123 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            24124 ; 504  |
                            24125 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the def
                                  ault
                            24126 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            24127 ; 507  |
                            24128 ; 508  |
                            24129 ; 509  |//// Line In definitions (used for Line-In 1)
                            24130 ; 510  |//// 0dB point of the Line In
                            24131 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            24132 ; 512  |//// Minimum volume of Line In
                            24133 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            24134 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            24135 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            24136 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            24137 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            24138 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS
                                  +1)
                            24139 ; 519  |
                            24140 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            24141 ; 521  |//// 0dB point of the Line In
                            24142 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            24143 ; 523  |//// Minimum volume of Line In
                            24144 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            24145 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            24146 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            24147 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            24148 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            24149 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            24150 ; 530  |
                            24151 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            24152 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid dea
                                  dlock states & recovers. 
                            24153 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            24154 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            24155 ; 535  |
                            24156 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            24157 ; 537  |////
                            24158 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            24159 ; 539  |////
                            24160 ; 540  |///
                            24161 ; 541  |#include <types.h>
                            24162 ; 542  |extern volatile WORD g_wActivityState;
                            24163 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            24164 ; 544  |
                            24165 ; 545  |void _reentrant Init5VSense(void);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 401

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24166 ; 546  |void _reentrant ServiceDCDC(void);
                            24167 ; 547  |
                            24168 ; 548  |////////////////////////////////////////////////////////////////////////////
                            24169 ; 549  |//// JPEG Thumbnail Mode Setting
                            24170 ; 550  |//// number of column in thumbnail mode
                            24171 ; 551  |#define THUMBNAIL_X 2           
                            24172 ; 552  |//// number of row in  thumbnail mode
                            24173 ; 553  |#define THUMBNAIL_Y 2           
                            24174 ; 554  |//// thumbnail boundary offset x
                            24175 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            24176 ; 556  |//// thumbnail boundary offset y
                            24177 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            24178 ; 558  |
                            24179 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            24180 ; 560  |
                            24181 
                            24183 
                            24184 ; 5    |
                            24185 ; 6    |#include "filesystem.h"
                            24186 
                            24188 
                            24189 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            24190 ; 2    |//  Copyright(C) SigmaTel, Inc. 2001
                            24191 ; 3    |//
                            24192 ; 4    |//  File        : FileSystem.h
                            24193 ; 5    |//  Description : Header File for File System
                            24194 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            24195 ; 7    |
                            24196 ; 8    |#ifndef _FILESYSTEM_H
                            24197 ; 9    |#define _FILESYSTEM_H
                            24198 ; 10   |
                            24199 ; 11   |#include "types.h"
                            24200 ; 12   |
                            24201 ; 13   |
                            24202 ; 14   |// File attributes
                            24203 ; 15   |#ifndef _FS_ATTRIBUTES
                            24204 ; 16   |#define _FS_ATTRIBUTES
                            24205 ; 17   |#define READ        1
                            24206 ; 18   |#define WRITE       2
                            24207 ; 19   |#define WRITE_PLUS  3
                            24208 ; 20   |#define APPEND      4
                            24209 ; 21   |#define TRUNCATE    8
                            24210 ; 22   |#define CREATE      16
                            24211 ; 23   |#endif
                            24212 ; 24   |
                            24213 ; 25   |//#ifndef FAT12
                            24214 ; 26   |//#define FAT12   1
                            24215 ; 27   |//#endif
                            24216 ; 28   |//
                            24217 ; 29   |#ifndef FAT16
                            24218 ; 30   |#define FAT16   2
                            24219 ; 31   |#endif
                            24220 ; 32   |
                            24221 ; 33   |#define MEM_SPACE_P 0x100000
                            24222 ; 34   |#define MEM_SPACE_Y 0x400000
                            24223 ; 35   |#define MEM_SPACE_X 0x800000
                            24224 ; 36   |
                            24225 ; 37   |#define FILE_SYS_MODE_READ  0
                            24226 ; 38   |#define FILE_SYS_MODE_WRITE 1
                            24227 ; 39   | 
                            24228 ; 40   |#define ATTR_READ_ONLY      0x01
                            24229 ; 41   |#define ATTR_HIDDEN         0x02
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 402

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24230 ; 42   |#define ATTR_SYSTEM         0x04
                            24231 ; 43   |#define ATTR_VOLUME_ID      0x08
                            24232 ; 44   |#define ATTR_DIRECTORY      0x10
                            24233 ; 45   |#define ATTR_ARCHIVE        0x20
                            24234 ; 46   |#define ATTR_LONG_NAME      ATTR_READ_ONLY|ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID
                            24235 ; 47   |
                            24236 ; 48   |#define SEEK_SET           -1
                            24237 ; 49   |#define SEEK_CUR            0
                            24238 ; 50   |#define SEEK_END            1
                            24239 ; 51   |
                            24240 ; 52   |#define DEVICE_INSTALLED              (WORD)(0)
                            24241 ; 53   |#define DEVICE_NOT_FOUND              (WORD)(2)
                            24242 ; 54   |#define INVALID_FILESYSTEM                        (WORD)(3)
                            24243 ; 55   |#define DEVICE_INVALID                (WORD)(-1)
                            24244 ; 56   |#define DEVICE_ERROR_WRITE_PROTECTED  (WORD)(-2)
                            24245 ; 57   |
                            24246 ; 58   |#define MEDIA_SIZE_TOTAL_SECTORS    0
                            24247 ; 59   |#define MEDIA_SIZE_TOTAL_BYTES      1
                            24248 ; 60   |#define MEDIA_SIZE_BYTES_PER_SECTOR 2
                            24249 ; 61   |#define MEDIA_SIZE_IN_MEGABYTES     3     
                            24250 ; 62   |
                            24251 ; 63   |#define READ_TYPE_NORMAL            0
                            24252 ; 64   |#define READ_TYPE_FAT               1
                            24253 ; 65   |#define READ_TYPE_RAW               2
                            24254 ; 66   |
                            24255 ; 67   |
                            24256 ; 68   |#ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            24257 ; 69   |    #define WRITE_TYPE_RANDOM                   0
                            24258 ; 70   |    #define WRITE_TYPE_SEQ_FIRST                1
                            24259 ; 71   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            24260 ; 72   |    #define WRITE_TYPE_RESET_CLEAN_UP           3
                            24261 ; 73   |    #define WRITE_TYPE_PARTIAL_SEQ_FIRST        4
                            24262 ; 74   |    #define WRITE_TYPE_PARTIAL_SEQ_NEXT         5
                            24263 ; 75   |    #define WRITE_TYPE_PARTIAL_SEQ_LAST         6
                            24264 ; 76   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            24265 ; 77   |        #define WRITE_TYPE_RANDOM_RAW               7
                            24266 ; 78   |        #define WRITE_TYPE_SEQ_FIRST_RAW            8
                            24267 ; 79   |        #define WRITE_TYPE_SEQ_NEXT_RAW             9
                            24268 ; 80   |        #define WRITE_TYPE_PARTIAL_SEQ_FIRST_RAW    10
                            24269 ; 81   |        #define WRITE_TYPE_PARTIAL_SEQ_NEXT_RAW     11
                            24270 ; 82   |        #define WRITE_TYPE_PARTIAL_SEQ_LAST_RAW     12
                            24271 ; 83   |    #endif
                            24272 ; 84   |#else
                            24273 ; 85   |    #define WRITE_TYPE_RANDOM                   0
                            24274 ; 86   |    #define WRITE_TYPE_SEQ_FIRST                1
                            24275 ; 87   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            24276 ; 88   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            24277 ; 89   |        #define WRITE_TYPE_RANDOM_RAW               3
                            24278 ; 90   |        #define WRITE_TYPE_SEQ_FIRST_RAW            4
                            24279 ; 91   |        #define WRITE_TYPE_SEQ_NEXT_RAW             5
                            24280 ; 92   |    #endif
                            24281 ; 93   |#endif
                            24282 ; 94   |    #define WRITE_TYPE_UNDEFINED 0xFFFFFF
                            24283 ; 95   |
                            24284 ; 96   |
                            24285 ; 97   |#ifndef MAX_FILENAME_LENGTH
                            24286 ; 98   |#define MAX_FILENAME_LENGTH 256
                            24287 ; 99   |#endif
                            24288 ; 100  |
                            24289 ; 101  |typedef struct {
                            24290 ; 102  |    WORD wNumberOfZones;
                            24291 ; 103  |    WORD wSizeInMegaBytes;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 403

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24292 ; 104  |} SMARTMEDIA_CHIP_INFO;
                            24293 ; 105  |
                            24294 ; 106  |typedef struct {
                            24295 ; 107  |    WORD wBootIdentification;
                            24296 ; 108  |    WORD wStartHeadNumber;
                            24297 ; 109  |    WORD wStartSectorNumber;
                            24298 ; 110  |    WORD wStartCylinderNumber;
                            24299 ; 111  |    WORD wSystemIdentification;
                            24300 ; 112  |    WORD wEndHeadNumber;
                            24301 ; 113  |    WORD wEndSectorNumber;
                            24302 ; 114  |    WORD wEndCylinderNumber;
                            24303 ; 115  |    WORD wStartLogicalSectorNumberHigh;
                            24304 ; 116  |    WORD wStartLogicalSectorNumberLow;
                            24305 ; 117  |    WORD wPartitionSizeHigh;
                            24306 ; 118  |    WORD wPartitionSizeLow;
                            24307 ; 119  |} SMARTMEDIA_PARTITION_TABLE;
                            24308 ; 120  |
                            24309 ; 121  |typedef struct {
                            24310 ; 122  |    WORD wWord0;
                            24311 ; 123  |    WORD wWord1;
                            24312 ; 124  |    WORD wWord2;
                            24313 ; 125  |} SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME;
                            24314 ; 126  |
                            24315 ; 127  |typedef struct {
                            24316 ; 128  |    WORD wWord0;
                            24317 ; 129  |    WORD wWord1;
                            24318 ; 130  |} SMARTMEDIA_CIS_IDI_PRODUCT_NAME;
                            24319 ; 131  |
                            24320 ; 132  |typedef struct {
                            24321 ; 133  |    WORD wWord0;
                            24322 ; 134  |    WORD wWord1;
                            24323 ; 135  |} SMARTMEDIA_CIS_IDI_PRODUCT_VERSION;
                            24324 ; 136  |
                            24325 ; 137  |typedef struct {
                            24326 ; 138  |    WORD wWord0;
                            24327 ; 139  |    WORD wWord1;
                            24328 ; 140  |    WORD wWord2;
                            24329 ; 141  |    WORD wWord3;
                            24330 ; 142  |} SMARTMEDIA_CIS_IDI_SERIAL_NUMBER;
                            24331 ; 143  |
                            24332 ; 144  |typedef struct {
                            24333 ; 145  |    WORD wWord0;
                            24334 ; 146  |} SMARTMEDIA_CIS_IDI_MODEL_NUMBER;
                            24335 ; 147  |
                            24336 ; 148  |typedef struct {
                            24337 ; 149  |    SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME ManufacturerName;
                            24338 ; 150  |    SMARTMEDIA_CIS_IDI_PRODUCT_NAME ProductName;
                            24339 ; 151  |    SMARTMEDIA_CIS_IDI_PRODUCT_VERSION ProductVersion;
                            24340 ; 152  |    SMARTMEDIA_CIS_IDI_SERIAL_NUMBER SerialNumber;
                            24341 ; 153  |    SMARTMEDIA_CIS_IDI_MODEL_NUMBER ModelNumber;
                            24342 ; 154  |} SMARTMEDIA_CIS_IDI_TABLE;
                            24343 ; 155  |   
                            24344 ; 156  |typedef struct {
                            24345 ; 157  |    WORD wPageSizeInBytes;
                            24346 ; 158  |    WORD wRedundantAreaSizeInBytes;
                            24347 ; 159  |    WORD wNumberOfPagesPerBlock;
                            24348 ; 160  |    WORD wNumberOfBlocksPerZone;
                            24349 ; 161  |    WORD wNumberOfZonesInMedia;
                            24350 ; 162  |    WORD wMediaSizeInMBytes;
                            24351 ; 163  |    SMARTMEDIA_PARTITION_TABLE * pPartitionTable;
                            24352 ; 164  |    SMARTMEDIA_CIS_IDI_TABLE * pCisIdiTable;
                            24353 ; 165  |    WORD wMediaFlagStatus;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 404

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24354 ; 166  |    WORD wNumberOfBlocksToTheCisIdiBlock;
                            24355 ; 167  |    WORD wTotalNumberOfPhysicalBlocks;
                            24356 ; 168  |    WORD wNumberOfSystemBlocks;
                            24357 ; 169  |} SMARTMEDIA_ENTRY_TABLE;
                            24358 ; 170  |
                            24359 ; 171  |typedef struct {
                            24360 ; 172  |    WORD wDevice;        
                            24361 ; 173  |    WORD wDirtyBlockFlag;
                            24362 ; 174  |    WORD wCleanTailFlag; 
                            24363 ; 175  |    WORD wLogDOSPage;    
                            24364 ; 176  |    WORD wSrcLogBlock;   
                            24365 ; 177  |    WORD wSrcPhyBlock;   
                            24366 ; 178  |    WORD wDestPhyBlock;  
                            24367 ; 179  |    WORD wStartSrcPage;  
                            24368 ; 180  |    WORD wStartDestPage; 
                            24369 ; 181  |    WORD wPagesToCopy;   
                            24370 ; 182  |    WORD wReplaceBuff;   
                            24371 ; 183  |    WORD wReplaceRdnt;
                            24372 ; 184  |    #ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            24373 ; 185  |        WORD wFirstCount;
                            24374 ; 186  |        WORD wNextCount;
                            24375 ; 187  |        WORD wLastCount;
                            24376 ; 188  |    #endif
                            24377 ; 189  |} SMARTMEDIA_FWPPS_TABLE;
                            24378 ; 190  |
                            24379 ; 191  |typedef struct {
                            24380 ; 192  |    WORD wWord0;
                            24381 ; 193  |    WORD wWord1;
                            24382 ; 194  |    WORD wWord2;
                            24383 ; 195  |    WORD wWord3;
                            24384 ; 196  |} DIRECTORY_NAME;
                            24385 ; 197  |
                            24386 ; 198  |typedef struct {
                            24387 ; 199  |    WORD wWord0;
                            24388 ; 200  |    WORD wWord1;
                            24389 ; 201  |} DIRECTORY_EXTENSION;
                            24390 ; 202  |
                            24391 ; 203  |typedef struct {
                            24392 ; 204  |    WORD wWord0;
                            24393 ; 205  |    WORD wWord1;
                            24394 ; 206  |} DIRECTORY_SIZE;
                            24395 ; 207  |
                            24396 ; 208  |typedef struct {
                            24397 ; 209  |    DIRECTORY_NAME Name;
                            24398 ; 210  |    DIRECTORY_EXTENSION Extension;
                            24399 ; 211  |    WORD wAttribute;
                            24400 ; 212  |    WORD wReserved[4];
                            24401 ; 213  |    WORD wCreationTime;
                            24402 ; 214  |    WORD wCreationData;
                            24403 ; 215  |    WORD wFirstCluster;
                            24404 ; 216  |    DIRECTORY_SIZE Size;
                            24405 ; 217  |    WORD wCurrentCluster;
                            24406 ; 218  |    WORD wPointer;
                            24407 ; 219  |    WORD wRecord;
                            24408 ; 220  |    WORD wRd;
                            24409 ; 221  |} DIRECTORY_FILE_CONTROL_BLOCK;
                            24410 ; 222  |
                            24411 ; 223  |// TODO:  clean this up.  There are two versions.
                            24412 ; 224  |struct FCB
                            24413 ; 225  |{
                            24414 ; 226  |    _packed BYTE m_szFileName[9];       //0-2
                            24415 ; 227  |    int     m_wReserved;                //3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 405

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24416 ; 228  |    _packed BYTE m_szExt[4];            //4-5
                            24417 ; 229  |    int     m_wAttributes;              //6
                            24418 ; 230  |    int     m_wReserved2[4];            //7,8,9,a
                            24419 ; 231  |    int     m_wTimeofCreation;          //b
                            24420 ; 232  |    int     m_wDateofCreation;          //c
                            24421 ; 233  |    int     m_wFirstCluster;            //d
                            24422 ; 234  |    int     m_wFileSizeHigh;            //e
                            24423 ; 235  |    int     m_wFileSizeLow;             //f
                            24424 ; 236  |};
                            24425 ; 237  |
                            24426 ; 238  |
                            24427 ; 239  |typedef struct {
                            24428 ; 240  |    WORD wFirstClusterCurrentDirectory;
                            24429 ; 241  |    WORD wFirstClusterParentDirectory;
                            24430 ; 242  |    WORD wAbsSectorCurrentlyCached;
                            24431 ; 243  |    WORD wCurrentRelativeSector;
                            24432 ; 244  |    WORD wNumberOfSectors;
                            24433 ; 245  |    WORD wCurrentRecordLoadedInDcb;
                            24434 ; 246  |    WORD wBufferedRecord;
                            24435 ; 247  |    WORD wMaxNumberRecordsCurrentDirectory;
                            24436 ; 248  |    WORD * pwPointerToBuffer;
                            24437 ; 249  |    WORD * pwPointerToPath;
                            24438 ; 250  |    DIRECTORY_FILE_CONTROL_BLOCK * pDirFcb;
                            24439 ; 251  |} DIRECTORY_CONTROL_BLOCK;
                            24440 ; 252  |
                            24441 ; 253  |typedef struct {
                            24442 ; 254  |    WORD wWord0;
                            24443 ; 255  |    WORD wWord1;
                            24444 ; 256  |    WORD wWord2;
                            24445 ; 257  |    WORD wWord3;
                            24446 ; 258  |} FILE_NAME;
                            24447 ; 259  |
                            24448 ; 260  |typedef struct {
                            24449 ; 261  |    WORD wWord0;
                            24450 ; 262  |    WORD wWord1;
                            24451 ; 263  |} FILE_EXTENSION;
                            24452 ; 264  |
                            24453 ; 265  |typedef struct {
                            24454 ; 266  |    WORD wWord0;
                            24455 ; 267  |    WORD wWord1;
                            24456 ; 268  |} FILE_SIZE;
                            24457 ; 269  |
                            24458 ; 270  |typedef union {
                            24459 ; 271  |    struct {
                            24460 ; 272  |        int Read        :1;
                            24461 ; 273  |        int Write       :1;
                            24462 ; 274  |        int Append      :1;
                            24463 ; 275  |        int Truncate    :1;
                            24464 ; 276  |        int Create      :1;
                            24465 ; 277  |        int Rsrv        :3;
                            24466 ; 278  |        int Mode        :8;
                            24467 ; 279  |        int Device      :8;
                            24468 ; 280  |    } B;
                            24469 ; 281  |    int I;
                            24470 ; 282  |} FILE_FLAGS;
                            24471 ; 283  |
                            24472 ; 284  |typedef struct {
                            24473 ; 285  |    WORD wWord0;
                            24474 ; 286  |    WORD wWord1;
                            24475 ; 287  |} FILE_BYTE_CURRENT;
                            24476 ; 288  |
                            24477 ; 289  |typedef struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 406

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24478 ; 290  |    FILE_NAME Name;
                            24479 ; 291  |    FILE_EXTENSION Extension;
                            24480 ; 292  |    WORD wAttributes;
                            24481 ; 293  |    WORD wReserved[4];
                            24482 ; 294  |    WORD wCreationTime;
                            24483 ; 295  |    WORD wCreationData;
                            24484 ; 296  |    WORD wFirstCluster;
                            24485 ; 297  |    FILE_SIZE Size;
                            24486 ; 298  |    WORD wCurrentCluster;
                            24487 ; 299  |    WORD wPointer;
                            24488 ; 300  |    WORD wRecord;
                            24489 ; 301  |    WORD wRd;
                            24490 ; 302  |    FILE_FLAGS Flags;
                            24491 ; 303  |    FILE_BYTE_CURRENT FcbByteCurrent;
                            24492 ; 304  |    WORD wFcbFlagEndOfCx;
                            24493 ; 305  |} FILE_CONTROL_BLOCK;    
                            24494 ; 306  |
                            24495 ; 307  |typedef struct {
                            24496 ; 308  |    WORD wWord0;
                            24497 ; 309  |    WORD wWord1;
                            24498 ; 310  |    WORD wWord2;
                            24499 ; 311  |    WORD wWord3;
                            24500 ; 312  |} VOLUME_LABEL;
                            24501 ; 313  |
                            24502 ; 314  |typedef struct {
                            24503 ; 315  |    WORD wFATPhysicalBlock1;
                            24504 ; 316  |    WORD wFATPhysicalBlock2;
                            24505 ; 317  |    WORD wFATPhysicalBlock3;
                            24506 ; 318  |    WORD wFATPhysicalBlock4;
                            24507 ; 319  |} FAT_PHYSICAL_BLOCK_LIST;
                            24508 ; 320  |
                            24509 ; 321  |typedef struct {
                            24510 ; 322  |    WORD wFATSectorInCache;
                            24511 ; 323  |    WORD wLastClusterFree;
                            24512 ; 324  |    WORD wNumberOfUsedClusters;
                            24513 ; 325  |    WORD wNumberOfFreeClusters;
                            24514 ; 326  |    WORD wNumberOfBadClusters;
                            24515 ; 327  |    WORD wNumberOfReservedClusters;
                            24516 ; 328  |    WORD wControl;
                            24517 ; 329  |    WORD * pwSectorCache;
                            24518 ; 330  |    FAT_PHYSICAL_BLOCK_LIST FATPhysicalLocationList;
                            24519 ; 331  |} FAT_TABLE;
                            24520 ; 332  |
                            24521 ; 333  |typedef struct {
                            24522 ; 334  |    WORD wStateMediaTable;
                            24523 ; 335  |    WORD wTypeFs;
                            24524 ; 336  |    WORD wBytesPerSector;
                            24525 ; 337  |    WORD wSectorsPerCluster;
                            24526 ; 338  |    WORD wNumberOfReservedSectors;
                            24527 ; 339  |    WORD wMaximumNumberOfFATs;
                            24528 ; 340  |    WORD wMaxRootDirectoryEntries;
                            24529 ; 341  |    WORD wTotalSectors;
                            24530 ; 342  |    WORD wNumberOfFATSectors;
                            24531 ; 343  |    WORD wNumberOfSectorsPerTrack;
                            24532 ; 344  |    WORD wNumberOfHeads;
                            24533 ; 345  |    WORD wNumberOfHiddenSectorsMSB;
                            24534 ; 346  |    WORD wNumberOfHiddenSectorsLSB;
                            24535 ; 347  |    WORD wTotalSectors32MSB;
                            24536 ; 348  |    WORD wTotalSectors32LSB;
                            24537 ; 349  |    WORD wDriverNumber;
                            24538 ; 350  |    WORD wExtendedBootSignature;
                            24539 ; 351  |    WORD wVolumeIDMSB;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 407

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24540 ; 352  |    WORD wVolumeIDLSB;
                            24541 ; 353  |    VOLUME_LABEL VolumeLabel;
                            24542 ; 354  |    WORD * pwWriteBuffer;
                            24543 ; 355  |    WORD wPrimaryFATRelativeSector;
                            24544 ; 356  |    WORD wSecondaryFATRelativeSector;
                            24545 ; 357  |    WORD wRootDirectoryRelativeSector;
                            24546 ; 358  |    WORD wFirstSectorNumberDataZone;
                            24547 ; 359  |    WORD wMaxNumberOfFATEntries;
                            24548 ; 360  |    WORD wRootDirectorySizeInSectors;
                            24549 ; 361  |    WORD wDataAreaSizeInSectors;
                            24550 ; 362  |} MEDIA_TABLE;
                            24551 ; 363  |
                            24552 ; 364  |typedef struct {
                            24553 ; 365  |    MEDIA_TABLE * pMediaTable;
                            24554 ; 366  |    DIRECTORY_CONTROL_BLOCK * pDirectoryControlBlock;
                            24555 ; 367  |    FAT_TABLE * pFATTable;
                            24556 ; 368  |} DEVICE_CONTROL_TABLE;
                            24557 ; 369  |    
                            24558 ; 370  |typedef struct {
                            24559 ; 371  |    WORD dwTotalSizeInMegaBytes;        // dwTotalSizeInMegaBytes is limited
                            24560 ; 372  |                                        //  to 2-bytes for compatibility with
                            24561 ; 373  |                                        //  older host drivers.
                            24562 ; 374  |    DWORD dwTotalNumberOfSectors;
                            24563 ; 375  |    DWORD dwTotalNumberOfBytes;
                            24564 ; 376  |    WORD wSectorSizeInBytes;
                            24565 ; 377  |} MEDIA_SIZE;
                            24566 ; 378  |
                            24567 ; 379  |typedef struct {
                            24568 ; 380  |    BOOL    bInstalled;
                            24569 ; 381  |    INT     iPbsSectorOffset;   // from the beginning of the data drive 
                            24570 ; 382  |    DWORD   dwSize;
                            24571 ; 383  |} DATA_DRIVE_PBS_LOC;
                            24572 ; 384  |extern  INT _reentrant FSFileOpen(_packed BYTE *fname,INT attribute, INT DeviceNumber);
                            24573 ; 385  |extern  INT _reentrant FSFastOpen(DWORD Key, INT attribute);
                            24574 ; 386  |extern  INT FSFileDelete(_packed BYTE *fname,INT DeviceNumber);
                            24575 ; 387  |extern  INT FSFileCreate(_packed BYTE *fname,INT DeviceNumber);
                            24576 ; 388  |extern  INT _reentrant FSChangeDir(_packed BYTE *dirname,INT DeviceNumber);
                            24577 ; 389  |extern  INT _reentrant FSCreateDir(_packed BYTE *dirname,INT DeviceNumber);
                            24578 ; 390  |extern  INT _reentrant FSDeleteDir(_packed BYTE *dirname,INT DeviceNumber);
                            24579 ; 391  |extern  INT _reentrant FSFileAppend(_packed BYTE *fname,INT DeviceNumber);
                            24580 ; 392  |extern  INT _reentrant FSFileRead(INT BytestoRead, INT Handle, INT memory_type, INT modulo
                                  , WORD *buffer);
                            24581 ; 393  |extern  INT _reentrant FSFileWrite(INT wNumberBytes, INT Handle, INT memory_type, INT iMod
                                  ulo, WORD *buffer);
                            24582 ; 394  |extern  INT _reentrant FSFileClose(INT Handle);
                            24583 ; 395  |extern  LONG _reentrant FSFileSize(INT HandleNumber);
                            24584 ; 396  |extern  LONG  FSSize(INT DeviceNum, INT TYPE);   
                            24585 ; 397  |extern  INT FSFreeClusters(INT Device);
                            24586 ; 398  |extern  INT BytesPerCluster(INT Device);
                            24587 ; 399  |
                            24588 ; 400  |
                            24589 ; 401  |
                            24590 ; 402  |//extern  INT FSFileCreate(_packed BYTE *pbFileName, BYTE bDevice);
                            24591 ; 403  |//extern  INT FSFileDelete(_packed BYTE *pbFileName, BYTE bDevice);
                            24592 ; 404  |extern  INT FSFileRename(_packed BYTE *pbCurFilename, _packed BYTE *pbNewFilename, BYTE bD
                                  evice);
                            24593 ; 405  |//extern  INT _reentrant FSFileAttribute(_packed BYTE *pbFilename, WORD wAttributes, BYTE 
                                  bDevice);
                            24594 ; 406  |//extern  INT FSFileAppend(_packed BYTE *pbFileName, BYTE bDevice);
                            24595 ; 407  |//extern  INT FSFileOpen(_packed BYTE *pbFileName, WORD wAttributes, BYTE bDevice);
                            24596 ; 408  |//extern  INT FSFileClose(INT bHandle);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 408

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24597 ; 409  |//extern  INT FSFileRead(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WOR
                                  D *pwBuffer);
                            24598 ; 410  |//extern  INT FSFileWrite(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WO
                                  RD *pwBuffer);
                            24599 ; 411  |extern  INT _reentrant fseek( INT handle , LONG offset, INT iOrigin );
                            24600 ; 412  |extern  INT _reentrant FSFileEof(INT Handle);
                            24601 ; 413  |extern INT _reentrant FSFileAttribute(INT Attributes, _packed BYTE *fname, INT DeviceNumbe
                                  r);
                            24602 ; 414  |extern INT _reentrant FSFileAttributeClear(INT Attributes, _packed BYTE *fname, INT Device
                                  Number);
                            24603 ; 415  |//extern  LONG FSFileSize(INT bHandle);
                            24604 ; 416  |extern _asmfunc INT FSPresent(BYTE bDevice);
                            24605 ; 417  |extern _asmfunc INT FSType(BYTE bDevice);
                            24606 ; 418  |//extern LONG FSSize(WORD wDevice, WORD wReturnType);
                            24607 ; 419  |//extern INT FSChangeDir(_packed BYTE *pbDirName, BYTE bDevice);
                            24608 ; 420  |//extern INT FSCreateDir(_packed BYTE *pbDirName, BYTE bDevice);
                            24609 ; 421  |//extern INT FSDeleteDir(_packed BYTE *pbDirName, BYTE bDevice);
                            24610 ; 422  |extern _asmfunc void SysLoadFATWrite(void);
                            24611 ; 423  |extern _asmfunc INT SysUnLoadFATWrite(void);
                            24612 ; 424  |extern LONG _reentrant ftell(INT iHandle);
                            24613 ; 425  |extern _asmfunc struct FCB * ReadDirectory(int iDevice, int iEntry);
                            24614 ; 426  |
                            24615 ; 427  |#endif
                            24616 
                            24618 
                            24619 ; 7    |#include "metadata.h"
                            24620 
                            24622 
                            24623 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            24624 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            24625 ; 3    |//
                            24626 ; 4    |// Filename: metadata.h
                            24627 ; 5    |// Description:
                            24628 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            24629 ; 7    |
                            24630 ; 8    |#ifndef _METADATA_H
                            24631 ; 9    |#define _METADATA_H
                            24632 ; 10   |
                            24633 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            24634 ; 12   |// MetaData definitions
                            24635 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            24636 ; 14   |
                            24637 ; 15   |//#define MMC_CMD59       0x40|59
                            24638 ; 16   |
                            24639 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            24640 ; 18   |// Meta Data structure definitions
                            24641 ; 19   |///////////////////////////////////////////////////////////////////////////////
                            24642 ; 20   |
                            24643 ; 21   |///////////////////////////////////////////////////////////////////////////////
                            24644 ; 22   |// MetaData definitions
                            24645 ; 23   |
                            24646 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                            24647 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                            24648 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            24649 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                            24650 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                            24651 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                            24652 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                            24653 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                            24654 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
                            24655 ; 33   |
                            24656 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 409

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24657 ; 35   |
                            24658 ; 36   |// VBR
                            24659 ; 37   |#define VBR_NOT_DETERMINED 0
                            24660 ; 38   |#define VBR_TRUE 1
                            24661 ; 39   |
                            24662 ; 40   |#ifndef TITLE_SIZE
                            24663 ; 41   |//#define TITLE_SIZE 30
                            24664 ; 42   |#ifndef USE_PLAYLIST3
                            24665 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                            24666 ; 44   |#else
                            24667 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                            24668 ; 46   |#endif
                            24669 ; 47   |#endif
                            24670 ; 48   |
                            24671 ; 49   |#ifndef ARTIST_SIZE
                            24672 ; 50   |#ifndef USE_PLAYLIST3
                            24673 ; 51   |//#define ARTIST_SIZE 30
                            24674 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            24675 ; 53   |#else
                            24676 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            24677 ; 55   |#endif
                            24678 ; 56   |#endif
                            24679 ; 57   |
                            24680 ; 58   |#ifndef ALBUM_SIZE
                            24681 ; 59   |#ifndef USE_PLAYLIST3
                            24682 ; 60   |//#define ALBUM_SIZE 30
                            24683 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            24684 ; 62   |#else
                            24685 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            24686 ; 64   |#endif
                            24687 ; 65   |#endif
                            24688 ; 66   |
                            24689 ; 67   |#ifdef USE_PLAYLIST3
                            24690 ; 68   |#ifndef GENRE_SIZE
                            24691 ; 69   |#define GENRE_SIZE 20
                            24692 ; 70   |#endif
                            24693 ; 71   |
                            24694 ; 72   |#ifndef YEAR_SIZE
                            24695 ; 73   |#define YEAR_SIZE 8
                            24696 ; 74   |#endif
                            24697 ; 75   |
                            24698 ; 76   |#ifndef TRACKNUM_SIZE
                            24699 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                            24700 ; 78   |#endif
                            24701 ; 79   |
                            24702 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                            24703 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                            24704 ; 82   |#endif
                            24705 ; 83   |
                            24706 ; 84   |#define XING_TOC_SIZE   100
                            24707 ; 85   |#if MTP_BUILD
                            24708 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                            24709 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                            24710 ; 88   |#define VBR_TOC_SIZE    2
                            24711 ; 89   |#else
                            24712 ; 90   |#define VBR_TOC_SIZE    200
                            24713 ; 91   |#endif
                            24714 ; 92   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 410

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24715 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                            24716 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                            24717 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            24718 ; 96   |#ifdef USE_PLAYLIST3
                            24719 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                            24720 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                            24721 ; 99   |extern WORD g_wSongTrackNum;
                            24722 ; 100  |#endif
                            24723 ; 101  |
                            24724 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                            24725 ; 103  |
                            24726 ; 104  |typedef struct {
                            24727 ; 105  |    WORD        iTitleBufferLength;
                            24728 ; 106  |        UCS3       *wTitle;        // Title of Song
                            24729 ; 107  |    WORD        iArtistBufferLength;
                            24730 ; 108  |    UCS3       *wArtist;
                            24731 ; 109  |    WORD        iAlbumBufferLength;
                            24732 ; 110  |    UCS3       *wAlbum;
                            24733 ; 111  |#ifdef USE_PLAYLIST3
                            24734 ; 112  |    WORD        iGenreBufferLength;
                            24735 ; 113  |    UCS3       *wGenre;
                            24736 ; 114  |    WORD        iYearBufferLength;
                            24737 ; 115  |    UCS3       *wYear;
                            24738 ; 116  |    WORD        wTrackNum;
                            24739 ; 117  |#endif
                            24740 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
                            24741 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
                            24742 ; 120  |        WORD       wNumChannels;
                            24743 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitr
                                  ate found)
                            24744 ; 122  |        LONG       iTime;                 // Length of song in seconds
                            24745 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the deco
                                  der)
                            24746 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                            24747 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                            24748 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
                            24749 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see qu
                                  estion below**)
                            24750 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = I
                                  MA ADPCM, etc (use defines below)
                            24751 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed fo
                                  r this file
                            24752 ; 130  |} FILE_META_DATA;
                            24753 ; 131  |
                            24754 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                            24755 ; 133  |#define UNKNOWN_TYPE   0
                            24756 ; 134  |#define MP3_TYPE       1
                            24757 ; 135  |#define WMA_TYPE       2
                            24758 ; 136  |#define AAC_TYPE       4
                            24759 ; 137  |#define IMA_ADPCM_TYPE 8
                            24760 ; 138  |#define MS_ADPCM_TYPE  16
                            24761 ; 139  |#define PCM_WAV_TYPE   32
                            24762 ; 140  |#define ASF_TYPE       64
                            24763 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                            24764 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                            24765 ; 143  |
                            24766 ; 144  |#define SMV_ADPCM_TYPE 512
                            24767 ; 145  |
                            24768 ; 146  |
                            24769 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                            24770 ; 148  |// Sample rates
                            24771 ; 149  |#ifdef WOW
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 411

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24772 ; 150  |#define SR_48KHZ        48000
                            24773 ; 151  |#define SR_44KHZ        44100
                            24774 ; 152  |#define SR_32KHZ        32000
                            24775 ; 153  |#define SR_24KHZ        24000
                            24776 ; 154  |#define SR_22KHZ        22050
                            24777 ; 155  |#define SR_16KHZ        16000
                            24778 ; 156  |#define SR_12KHZ        12000
                            24779 ; 157  |#define SR_11KHZ        11025
                            24780 ; 158  |#define SR_8KHZ          8000
                            24781 ; 159  |#endif
                            24782 ; 160  |
                            24783 ; 161  |
                            24784 ; 162  |///////////////////////////////////////////////////////////////////////////////
                            24785 ; 163  |// MetaData prototypes
                            24786 ; 164  |///////////////////////////////////////////////////////////////////////////////
                            24787 ; 165  |
                            24788 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_ME
                                  TA_DATA *MetaData);
                            24789 
                            24817 
                            24818 ; 167  |#ifdef USE_PLAYLIST3
                            24819 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAd
                                  dress);
                            24820 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                            24821 ; 170  |#endif
                            24822 ; 171  |
                            24823 ; 172  |#endif // #ifndef _METADATA_H
                            24824 
                            24826 
                            24827 ; 8    |
                            24828 ; 9    |#define MAX_NUM_DIR 1           //max supported directories including all subdirectories
                            24829 ; 10   |#define MAX_NUM_FILES   1       //max supported files
                            24830 ; 11   |#define MAX_SORT_ENTRIES_PER_DIRECTORY  15
                            24831 ; 12   |
                            24832 ; 13   |#define MAX_RECORDS_PER_DIRECTORY   4096        //calculated from the bits in the m_iRecor
                                  dNum field in the following data structures.
                            24833 ; 14   |                                                                                        //
                                  An entry can have multiple records in the FAT for LFNs.
                            24834 ; 15   |                                                                                        //
                                  Records more than this number will not be included in the playlist content
                            24835 ; 16   |
                            24836 ; 17   |#define SFN_LENGTH      13      //8.3\ + NULL
                            24837 ; 18   |
                            24838 ; 19   |#define  _MAX_DIR_DEPTH 8
                            24839 ; 20   |#define  MAX_DIRNAME_LENGTH ((SFN_LENGTH*_MAX_DIR_DEPTH)+1)
                            24840 ; 21   |
                            24841 ; 22   |struct Bookmark{
                            24842 ; 23   |        INT       m_iTracknum;
                            24843 ; 24   |        DWORD m_dwTrackPosBytes;
                            24844 ; 25   |}; //this will save the num and position of the song selected for bookmark
                            24845 ; 26   |
                            24846 ; 27   |
                            24847 ; 28   |typedef struct{
                            24848 ; 29   |    unsigned int    m_pNext:16;                 //points to the next inline DirEntry. 
                            24849 ; 30   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            24850 ; 31   |    unsigned int    m_iDevice:1;
                            24851 ; 32   |        unsigned int    m_bIsRoot:1;    //1=ROOT directory, 0= Any directory except ROOT.
                            24852 ; 33   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //
                            24853 ; 34   |    unsigned int    m_pDirContents:16;  //points to the first content which is a dir.
                            24854 ; 35   |//////////////////////////////////////////////////////////////////////////////////////////
                                  /
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 412

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24855 ; 36   |        unsigned int    m_pFileContents:16; //pointer in FileEntryPool where the file cont
                                  ents for this directory begin.
                            24856 ; 37   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //
                            24857 ; 38   |        unsigned int    m_iDirSector1:21;
                            24858 ; 39   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //
                            24859 ; 40   |        unsigned int    m_iDirOffset:12;
                            24860 ; 41   |        unsigned int    m_iRecordNum:12;        //record number of the directory record (L
                                  FN use).
                            24861 ; 42   |
                            24862 ; 43   |        unsigned int    m_iDirSector2:11;
                            24863 ; 44   |        //!! The above are implicitly used as a struct*. Using INT bitfields to save memor
                                  y !!!
                            24864 ; 45   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //      
                            24865 ; 46   |#ifdef DEBUG_SFN
                            24866 ; 47   |        _packed BYTE name[SFN_LENGTH];
                            24867 ; 48   |#endif
                            24868 ; 49   |}DirEntry;
                            24869 ; 50   |
                            24870 ; 51   |typedef struct{
                            24871 ; 52   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            24872 ; 53   |        unsigned int    m_bCurrentPlayset:1;    //1=Belongs to the current playset.
                            24873 ; 54   |        unsigned int    m_bTrackPlayed:1;               //Indicates if the track was playe
                                  d atleast once. Currently not used.
                            24874 ; 55   |        unsigned int    m_iDirSector1:21;
                            24875 ; 56   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            24876 ; 57   |        unsigned int    m_iTrackOrder:10;               //Order of this track in the curre
                                  nt playset.
                            24877 ; 58   |        unsigned int    m_iDirOffset:12;
                            24878 ; 59   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            24879 ; 60   |        unsigned int    m_iDevice:1;
                            24880 ; 61   |        unsigned int    m_iRecordNum:12;        //Record number of the file record (LFN us
                                  e).
                            24881 ; 62   |        unsigned int    m_iDirSector2:11;
                            24882 ; 63   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            24883 ; 64   |        unsigned int    m_pNext:16;             // //points to the next inline file.
                            24884 ; 65   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            24885 ; 66   |#ifdef DEBUG_SFN
                            24886 ; 67   |        _packed BYTE name[SFN_LENGTH];
                            24887 ; 68   |#endif
                            24888 ; 69   |}FileEntry;
                            24889 
                            24934 
                            24935 ; 70   |
                            24936 ; 71   |typedef struct{
                            24937 ; 72   |        DirEntry _X* pDirEntry; //Start traversing from this directory entry
                            24938 ; 73   |        unsigned int    iReason;
                            24939 ; 74   |        unsigned int iDevice;
                            24940 ; 75   |        unsigned int iPlayset;
                            24941 ; 76   |        unsigned int iDepth;
                            24942 ; 77   |        unsigned int iTrackOrder;
                            24943 ; 78   |        unsigned int iTrackNum;
                            24944 ; 79   |        FileEntry* pFileEntry;
                            24945 ; 80   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];  //maintains a dynamic list of directory li
                                  nks within the recursion
                            24946 ; 81   |        unsigned int    iTotalLinks;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 413

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24947 ; 82   |}TraverseTreeParams;
                            24948 ; 83   |
                            24949 ; 84   |typedef struct{
                            24950 ; 85   |        unsigned int EntryType;                         //TYPE_DIR or TYPE_FILE
                            24951 ; 86   |        FileEntry* pFileEntry;          //used if TYPE_FILE
                            24952 ; 87   |        DirEntry _X* pDirEntry;                 //used if TYPE_DIR
                            24953 ; 88   |        unsigned int iTrackNum;
                            24954 ; 89   |        unsigned int iTrackOrder;
                            24955 ; 90   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];
                            24956 ; 91   |        unsigned int iTotalLinks;
                            24957 ; 92   |}EntryAccessInfo;
                            24958 ; 93   |
                            24959 ; 94   |typedef struct{
                            24960 ; 95   |        void* pEntry;
                            24961 ; 96   |        _packed BYTE name[SFN_LENGTH];
                            24962 ; 97   |}SFNStorage;
                            24963 ; 98   |
                            24964 ; 99   |extern DirEntry _X g_DirEntryPerDevice[];               //ROOT(s)
                            24965 ; 100  |extern DirEntry _X g_DirEntryPool[];            //Pool of directory entries, Does not cont
                                  ain files.
                            24966 ; 101  |extern FileEntry g_FileEntryPool[];
                            24967 
                            24982 
                            24983 ; 102  |extern EntryAccessInfo g_CurrentTrack;
                            24984 ; 103  |extern int g_iPlaylistRepeat;
                            24985 ; 104  |extern int g_bPlaylistShuffle;
                            24986 
                            24994 
                            24995 ; 105  |extern SFNStorage g_TempSFNSpace[];
                            24996 ; 106  |extern int g_iTotalTracks;
                            24997 ; 107  |
                            24998 ; 108  |extern int g_iPlaySet;
                            24999 ; 109  |
                            25000 ; 110  |extern struct Bookmark g_MarkerMusic, g_MarkerVoice;
                            25001 ; 111  |extern int g_iTotalDir;
                            25002 ; 112  |extern int g_iTotalFiles;
                            25003 ; 113  |
                            25004 ; 114  |void _reentrant ML_building_engine_init_playlist3(void);
                            25005 ; 115  |void _reentrant ML_voice_build_engine_init_playlist3(void);
                            25006 ; 116  |void _reentrant ML_merging_engine_init_playlist3(void);
                            25007 ; 117  |_reentrant void Rebuild_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                            25008 ; 118  |_reentrant void Rebuild_GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FI
                                  LE_META_DATA *MetaData);
                            25009 ; 119  |_reentrant RETCODE AddDirToLibrary(INT iDrive, INT iDirDepth);
                            25010 ; 120  |RETCODE _reentrant ML_GetLFN(DWORD dwFastKey, INT iRecordNum, UCS3 *pBuf);
                            25011 ; 121  |
                            25012 ; 122  |#endif
                            25013 
                            25015 
                            25016 ; 5    |#include "musiclib_ghdr.h"
                            25017 
                            25019 
                            25020 ; 1    |#ifndef MUSICLIB_GHDR_H
                            25021 ; 2    |#define MUSICLIB_GHDR_H
                            25022 ; 3    |
                            25023 ; 4    |#ifdef __cplusplus
                            25024 ; 5    |extern "C" {
                            25025 ; 6    |#endif
                            25026 ; 7    |
                            25027 ; 8    |/*========================================================================================
                                  ==========
                            25028 ; 9    |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 414

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25029 ; 10   |                                        General Description
                            25030 ; 11   |
                            25031 ; 12   |==========================================================================================
                                  ==========
                            25032 ; 13   |
                            25033 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            25034 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            25035 ; 16   |
                            25036 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            25037 ; 18   |
                            25038 ; 19   |PRODUCT NAMES: All
                            25039 ; 20   |
                            25040 ; 21   |GENERAL DESCRIPTION:
                            25041 ; 22   |
                            25042 ; 23   |    General description of this grouping of functions.
                            25043 ; 24   |
                            25044 ; 25   |Portability: All
                            25045 ; 26   |
                            25046 ; 27   |
                            25047 ; 28   |Revision History:
                            25048 ; 29   |
                            25049 ; 30   |                         Modification        Tracking
                            25050 ; 31   |Author                       Date             Number           Description of Changes
                            25051 ; 32   |---------------------    ------------        ----------        ---------------------------
                                  ----------
                            25052 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of change
                                  s made
                            25053 ; 34   |
                            25054 ; 35   |
                            25055 ; 36   |==========================================================================================
                                  ==========
                            25056 ; 37   |                                            DESCRIPTION
                            25057 ; 38   |==========================================================================================
                                  ==========
                            25058 ; 39   |
                            25059 ; 40   |GLOBAL FUNCTIONS:
                            25060 ; 41   |    MF_global_func_name()
                            25061 ; 42   |
                            25062 ; 43   |TRACEABILITY MATRIX:
                            25063 ; 44   |    None
                            25064 ; 45   |
                            25065 ; 46   |==========================================================================================
                                  ========*/
                            25066 ; 47   |
                            25067 ; 48   |/*========================================================================================
                                  ==========
                            25068 ; 49   |                                                                Conditional Compilation Di
                                  rectives
                            25069 ; 50   |==========================================================================================
                                  ========*/
                            25070 ; 51   |#ifdef WIN32
                            25071 ; 52   |#define _PC_SIMULATION_
                            25072 ; 53   |#else
                            25073 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            25074 ; 55   |#endif  // WIN32
                            25075 ; 56   |
                            25076 ; 57   |#if 1
                            25077 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            25078 ; 59   |#endif
                            25079 ; 60   |
                            25080 ; 61   |#if 1
                            25081 ; 62   |#define _AUDIBLE_       /* install audible list */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 415

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25082 ; 63   |#endif
                            25083 ; 64   |
                            25084 ; 65   |#if 1
                            25085 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            25086 ; 67   |#endif
                            25087 ; 68   |
                            25088 ; 69   |#ifdef PL3_FB
                            25089 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            25090 ; 71   |#endif
                            25091 ; 72   |
                            25092 ; 73   |#if 1
                            25093 ; 74   |#define _SUPPORT_2000_SONGS_
                            25094 ; 75   |#endif
                            25095 ; 76   |
                            25096 ; 77   |/*========================================================================================
                                  ==========
                            25097 ; 78   |                                           INCLUDE FILES
                            25098 ; 79   |==========================================================================================
                                  ========*/
                            25099 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            25100 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            25101 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            25102 ; 83   |#define OEM_SEEK_END    SEEK_END
                            25103 ; 84   |#else
                            25104 ; 85   |#define _X
                            25105 ; 86   |#define _Y
                            25106 ; 87   |#define _packed
                            25107 ; 88   |
                            25108 ; 89   |#define _asmfunc
                            25109 ; 90   |#define _reentrant
                            25110 ; 91   |
                            25111 ; 92   |#define OEM_SEEK_CUR    1
                            25112 ; 93   |#define OEM_SEEK_SET    0
                            25113 ; 94   |#define OEM_SEEK_END    2
                            25114 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            25115 ; 96   |
                            25116 ; 97   |#include "types.h"
                            25117 ; 98   |#include "exec.h"
                            25118 ; 99   |#include "messages.h"
                            25119 ; 100  |#include "project.h"
                            25120 ; 101  |
                            25121 ; 102  |/*========================================================================================
                                  ==========
                            25122 ; 103  |                                             CONSTANTS
                            25123 ; 104  |==========================================================================================
                                  ========*/
                            25124 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            25125 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            25126 ; 107  |Artistname                              1:0
                            25127 ; 108  |Albumname                               3:2
                            25128 ; 109  |Genrename                               5:4
                            25129 ; 110  |Songname                                7:6
                            25130 ; 111  |----------------------------------------------------------
                            25131 ; 112  |    Value (2 bits)                      Meanings
                            25132 ; 113  |    0                                   RAW and All ASCII
                            25133 ; 114  |    1                                   Uni-code
                            25134 ; 115  |    2                                   Mixed, non-unicode
                            25135 ; 116  |
                            25136 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            25137 ; 118  |*/
                            25138 ; 119  |#define BITMASK_ARTIST  (0x03)
                            25139 ; 120  |#define BITMASK_ALBUM   (0x0C)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 416

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25140 ; 121  |#define BITMASK_GENRE   (0x30)
                            25141 ; 122  |#define BITMASK_SONG    (0xC0)
                            25142 ; 123  |
                            25143 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            25144 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            25145 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            25146 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            25147 ; 128  |
                            25148 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            25149 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            25150 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            25151 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            25152 ; 133  |
                            25153 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            25154 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            25155 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            25156 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            25157 ; 138  |
                            25158 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            25159 ; 140  |
                            25160 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            25161 ; 142  |
                            25162 ; 143  |#define INDEX_EOF       0xFFF
                            25163 ; 144  |#ifdef _FOLDER_BROWSE_
                            25164 ; 145  |#define INDEX_ROOT  0xffe
                            25165 ; 146  |#define UNKNOWN_RECORD  0xfff
                            25166 ; 147  |#endif  // _FOLDER_BROWSE_
                            25167 ; 148  |
                            25168 ; 149  |/* Constant for item_type */
                            25169 ; 150  |#define         ITEM_ARTIST                     0
                            25170 ; 151  |#define         ITEM_ALBUM                      1
                            25171 ; 152  |#define         ITEM_GENRE                      2
                            25172 ; 153  |#define         ITEM_TRACK                      3
                            25173 ; 154  |#define         ITEM_YEAR                       4
                            25174 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            25175 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            25176 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            25177 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            25178 ; 159  |#ifdef _NEWMUSIC_
                            25179 ; 160  |#define         ITEM_1DAY                       10
                            25180 ; 161  |#define         ITEM_1WEEK                      11
                            25181 ; 162  |#define         ITEM_1MONTH                     12
                            25182 ; 163  |#endif
                            25183 ; 164  |#ifdef _AUDIBLE_
                            25184 ; 165  |#define         ITEM_AUDIBLE            13
                            25185 ; 166  |#endif
                            25186 ; 167  |#define         ITEM_ON_THE_GO          14
                            25187 ; 168  |
                            25188 ; 169  |#define         ITEM_VOICE                      15
                            25189 ; 170  |#define         ITEM_FMREC                      16
                            25190 ; 171  |#define         ITEM_PHOTO                      17
                            25191 ; 172  |#ifdef _FOLDER_BROWSE_
                            25192 ; 173  |#define         ITEM_INTERNAL           18
                            25193 ; 174  |#define         ITEM_EXTERNAL       19
                            25194 ; 175  |#endif  // _FOLDER_BROWSE_
                            25195 ; 176  |#define     ITEM_UNKNOWN        0xff
                            25196 ; 177  |
                            25197 ; 178  |/*
                            25198 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_inf
                                  o, int16 option);
                            25199 ; 180  |option input.
                            25200 ; 181  |*/
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 417

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25201 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            25202 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            25203 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            25204 ; 185  |#ifdef _FOLDER_BROWSE_
                            25205 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            25206 ; 187  |#endif  // _FOLDER_BROWSE_
                            25207 ; 188  |
                            25208 ; 189  |/* Constant for key action */
                            25209 ; 190  |#define         ACTION_OK                               0               /* Press OK button
                                   */
                            25210 ; 191  |#define         ACTION_BACK                             1               /* Press BACK butt
                                  on */
                            25211 ; 192  |#define         ACTION_UP                               2               /* Press UP button
                                   */
                            25212 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN butt
                                  on */
                            25213 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            25214 ; 195  |#define         ACTION_MENU                             5               /* Back the browsi
                                  ng tree to root */
                            25215 ; 196  |
                            25216 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            25217 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            25218 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            25219 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            25220 ; 201  |
                            25221 ; 202  |#define         NO_SD                                   0
                            25222 ; 203  |#define         HAS_SD                                  1
                            25223 ; 204  |
                            25224 ; 205  |#define         PLAY_NORMAL                             0
                            25225 ; 206  |#define         PLAY_SHUFFLE                    1
                            25226 ; 207  |
                            25227 ; 208  |#define     PLAY_REPEAT_OFF         0
                            25228 ; 209  |#define     PLAY_REPEAT_ON          1
                            25229 ; 210  |
                            25230 ; 211  |#define     PLAY_SELECT_FLASH       0
                            25231 ; 212  |#define     PLAY_SELECT_SD          1
                            25232 ; 213  |
                            25233 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            25234 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            25235 ; 216  |
                            25236 ; 217  |#define         ON_THE_GO_EXIST                 0
                            25237 ; 218  |#define         ON_THE_GO_FULL                  1
                            25238 ; 219  |#define         ON_THE_GO_FREE                  2
                            25239 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            25240 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            25241 ; 222  |
                            25242 ; 223  |#define         REC_VOICE_TYPE                  0
                            25243 ; 224  |#define         REC_FMREC_TYPE                  1
                            25244 ; 225  |#define         REC_PHOTO_TYPE                  2
                            25245 ; 226  |#define         VOICE_FILE_ADD                  0
                            25246 ; 227  |#define         VOICE_FILE_DEL                  1
                            25247 ; 228  |
                            25248 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            25249 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            25250 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            25251 ; 232  |flash or external SD card */
                            25252 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            25253 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            25254 ; 235  |#else
                            25255 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            25256 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            25257 ; 238  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 418

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25258 ; 239  |/* number of byte in one DSP word */
                            25259 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            25260 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            25261 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            25262 ; 243  |are 10 level directory structure */
                            25263 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            25264 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            25265 ; 246  |
                            25266 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            25267 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            25268 ; 249  |/* number of songs in each new music list */
                            25269 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            25270 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            25271 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            25272 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            25273 ; 254  |/* number of songs in the on-the-fly list */
                            25274 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            25275 ; 256  |/* number of files audible list */
                            25276 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            25277 ; 258  |
                            25278 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            25279 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            25280 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            25281 ; 262  |
                            25282 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            25283 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            25284 ; 265  |#ifdef _FOLDER_BROWSE_
                            25285 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            25286 ; 267  |#else
                            25287 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            25288 ; 269  |#endif  // _FOLDER_BROWSE_
                            25289 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            25290 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            25291 ; 272  |
                            25292 ; 273  |#ifndef _MAX_DIR_DEPTH
                            25293 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            25294 ; 275  |#endif  // _MAX_DIR_DEPTH
                            25295 ; 276  |
                            25296 ; 277  |/*========================================================================================
                                  ==========*/
                            25297 ; 278  |
                            25298 ; 279  |
                            25299 ; 280  |/*========================================================================================
                                  ==========
                            25300 ; 281  |                                               MACROS
                            25301 ; 282  |==========================================================================================
                                  ========*/
                            25302 ; 283  |
                            25303 ; 284  |/*========================================================================================
                                  ==========
                            25304 ; 285  |                                               ENUMS
                            25305 ; 286  |==========================================================================================
                                  ========*/
                            25306 ; 287  |#define NUM_OF_MEDIA                            (2)
                            25307 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            25308 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            25309 ; 290  |/*========================================================================================
                                  ==========
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 419

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25310 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            25311 ; 292  |==========================================================================================
                                  ========*/
                            25312 ; 293  |
                            25313 ; 294  |typedef char    int8;
                            25314 ; 295  |typedef short   int16;
                            25315 ; 296  |typedef int     int24;
                            25316 ; 297  |typedef long    int32;
                            25317 ; 298  |
                            25318 ; 299  |typedef int     intx;
                            25319 ; 300  |
                            25320 ; 301  |typedef unsigned char   uint8;
                            25321 ; 302  |typedef unsigned short  uint16;
                            25322 ; 303  |typedef unsigned int    uint24;
                            25323 ; 304  |typedef unsigned long   uint32;
                            25324 ; 305  |
                            25325 ; 306  |/*
                            25326 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode form
                                  at.
                            25327 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            25328 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            25329 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            25330 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            25331 ; 312  |*/
                            25332 ; 313  |/*
                            25333 ; 314  |path_name[] _must_have_data_:
                            25334 ; 315  |path_name[] = (Max. 120 Characters);
                            25335 ; 316  |year range:
                            25336 ; 317  |year = 0x000000-0xFFFFFF;
                            25337 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            25338 ; 319  |Unknown track number:
                            25339 ; 320  |track_number = 0x7FFFFF;
                            25340 ; 321  |unicode refer to above #define BITMASK_*
                            25341 ; 322  |*/
                            25342 ; 323  |/*
                            25343 ; 324  |Interface of UI and Music Library
                            25344 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            25345 ; 326  |
                            25346 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            25347 ; 328  |
                            25348 ; 329  |3) UI to Music Library variable passing length definition:
                            25349 ; 330  |        All ASCII Characters:
                            25350 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            25351 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            25352 ; 333  |        Unicode Characters:
                            25353 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            25354 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            25355 ; 336  |
                            25356 ; 337  |4) UI input data to Music Library in two formats.
                            25357 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            25358 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            25359 ; 340  |
                            25360 ; 341  |5) UI calling function:
                            25361 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            25362 ; 343  |        int16 option definition:
                            25363 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            25364 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            25365 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            25366 ; 347  |
                            25367 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            25368 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_l
                                  ist separately.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 420

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25369 ; 350  |
                            25370 ; 351  |6) Modification Date:
                            25371 ; 352  |        uint24 g_file_time:
                            25372 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            25373 ; 354  |*/
                            25374 ; 355  |
                            25375 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            25376 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            25377 ; 358  |typedef struct _ram_song_info {
                            25378 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25379 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25380 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25381 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25382 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25383 ; 364  |    uint32 g_songFastKey;
                            25384 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25385 ; 366  |        uint24 year;
                            25386 ; 367  |        uint24 track_number;
                            25387 ; 368  |        uint8 unicode;
                            25388 ; 369  |} RAM_SONG_INFO_T;
                            25389 ; 370  |
                            25390 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            25391 ; 372  |typedef struct _flash_group_name {
                            25392 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25393 ; 374  |        uint8 unicode;
                            25394 ; 375  |} FLASH_GROUP_NAME_T;
                            25395 ; 376  |
                            25396 ; 377  |// struct to store directories information passed from UI
                            25397 ; 378  |#ifdef _FOLDER_BROWSE_
                            25398 ; 379  |typedef struct _ml_DirInfo {
                            25399 ; 380  |        uint24  u8Unicode : 8;
                            25400 ; 381  |        uint24  u12DirDepth : 12;
                            25401 ; 382  |        uint24  u4Added : 4;            
                            25402 ; 383  |        INT     iDirRecord;
                            25403 ; 384  |        DWORD   dwFastKey;
                            25404 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25405 ; 386  |} ML_DIRINFO_T;
                            25406 ; 387  |#endif  // _FOLDER_BROWSE_
                            25407 ; 388  |
                            25408 ; 389  |/*========================================================================================
                                  ==========
                            25409 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            25410 ; 391  |==========================================================================================
                                  ========*/
                            25411 ; 392  |extern uint24   IsPlayOnTheGo;
                            25412 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            25413 ; 394  |extern uint24   merge_id_list_flash[];
                            25414 ; 395  |extern uint24   merge_id_list_sd[];
                            25415 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            25416 ; 397  |#ifdef _FOLDER_BROWSE_
                            25417 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            25418 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25419 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            25420 ; 401  |#endif  // _FOLDER_BROWSE_
                            25421 ; 402  |extern INT _X    *sec_temp_buf_X;
                            25422 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 =
                                   repeat on/off(0=off/1=on) */
                            25423 ; 404  |
                            25424 ; 405  |/*========================================================================================
                                  ==========
                            25425 ; 406  |                                        FUNCTION PROTOTYPES
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 421

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25426 ; 407  |==========================================================================================
                                  ========*/
                            25427 ; 408  |
                            25428 ; 409  |///////////////////////////////////////////////////////////////////////
                            25429 ; 410  |//! \brief
                            25430 ; 411  |//!
                            25431 ; 412  |//! \fntype Function
                            25432 ; 413  |//!
                            25433 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            25434 ; 415  |//! Call only once before inserting items. Call once for each media.
                            25435 ; 416  |//!
                            25436 ; 417  |//! \param[in]  none
                            25437 ; 418  |//!
                            25438 ; 419  |//! \return
                            25439 ; 420  |//!
                            25440 ; 421  |///////////////////////////////////////////////////////////////////////
                            25441 ; 422  |void ML_InitLibraryParameter(void);
                            25442 ; 423  |
                            25443 ; 424  |///////////////////////////////////////////////////////////////////////
                            25444 ; 425  |//! \brief
                            25445 ; 426  |//!
                            25446 ; 427  |//! \fntype Function
                            25447 ; 428  |//!
                            25448 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            25449 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            25450 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each son
                                  g,
                            25451 ; 432  |//! the song information is recorded in music library.
                            25452 ; 433  |//!
                            25453 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            25454 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passe
                                  d from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            25455 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav f
                                  ormat file.
                            25456 ; 437  |//!
                            25457 ; 438  |//! \return
                            25458 ; 439  |//!
                            25459 ; 440  |///////////////////////////////////////////////////////////////////////
                            25460 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            25461 ; 442  |
                            25462 ; 443  |///////////////////////////////////////////////////////////////////////
                            25463 ; 444  |//! \brief
                            25464 ; 445  |//!
                            25465 ; 446  |//! \fntype Function
                            25466 ; 447  |//!
                            25467 ; 448  |//! \param[in]
                            25468 ; 449  |//!
                            25469 ; 450  |//! \return
                            25470 ; 451  |//!
                            25471 ; 452  |///////////////////////////////////////////////////////////////////////
                            25472 ; 453  |#ifdef _FOLDER_BROWSE_
                            25473 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int1
                                  6 i16Option);
                            25474 ; 455  |#endif  // _FOLDER_BROWSE_
                            25475 ; 456  |
                            25476 ; 457  |///////////////////////////////////////////////////////////////////////
                            25477 ; 458  |//! \brief
                            25478 ; 459  |//!
                            25479 ; 460  |//! \fntype Function
                            25480 ; 461  |//!
                            25481 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 422

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25482 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            25483 ; 464  |//! music library for that particular media.
                            25484 ; 465  |//!
                            25485 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            25486 ; 467  |//!
                            25487 ; 468  |//! \return
                            25488 ; 469  |//!
                            25489 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            25490 ; 471  |//!         function.
                            25491 ; 472  |///////////////////////////////////////////////////////////////////////
                            25492 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            25493 ; 474  |
                            25494 ; 475  |///////////////////////////////////////////////////////////////////////
                            25495 ; 476  |//! \brief
                            25496 ; 477  |//!
                            25497 ; 478  |//! \fntype Function
                            25498 ; 479  |//!
                            25499 ; 480  |//! \param[in]
                            25500 ; 481  |//!
                            25501 ; 482  |//! \return
                            25502 ; 483  |//!
                            25503 ; 484  |///////////////////////////////////////////////////////////////////////
                            25504 ; 485  |#ifdef _NEWMUSIC_
                            25505 ; 486  |void ML_UpdateNewMusic(void);
                            25506 ; 487  |#endif
                            25507 ; 488  |
                            25508 ; 489  |///////////////////////////////////////////////////////////////////////
                            25509 ; 490  |//! \brief
                            25510 ; 491  |//!
                            25511 ; 492  |//! \fntype Function
                            25512 ; 493  |//!
                            25513 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            25514 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            25515 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            25516 ; 497  |//!
                            25517 ; 498  |//! \param[in]  none
                            25518 ; 499  |//!
                            25519 ; 500  |//! \return
                            25520 ; 501  |//!
                            25521 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            25522 ; 503  |//!         must be called before calling any other music library functions.
                            25523 ; 504  |///////////////////////////////////////////////////////////////////////
                            25524 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            25525 ; 506  |
                            25526 ; 507  |///////////////////////////////////////////////////////////////////////
                            25527 ; 508  |//! \brief
                            25528 ; 509  |//!
                            25529 ; 510  |//! \fntype Function
                            25530 ; 511  |//!
                            25531 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            25532 ; 513  |//! library operation.
                            25533 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            25534 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file
                                   and the
                            25535 ; 516  |//! music.sec file do not exist.
                            25536 ; 517  |//!
                            25537 ; 518  |//! \param[in]  none
                            25538 ; 519  |//!
                            25539 ; 520  |//! \return
                            25540 ; 521  |//!
                            25541 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 423

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25542 ; 523  |//!         must be called before calling any other music library functions.
                            25543 ; 524  |///////////////////////////////////////////////////////////////////////
                            25544 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            25545 ; 526  |
                            25546 ; 527  |///////////////////////////////////////////////////////////////////////
                            25547 ; 528  |//! \brief
                            25548 ; 529  |//!
                            25549 ; 530  |//! \fntype Function
                            25550 ; 531  |//!
                            25551 ; 532  |//! Preload the list, prepare for renew.
                            25552 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            25553 ; 534  |//! structure in RAM.
                            25554 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            25555 ; 536  |//! in RAM.
                            25556 ; 537  |//!
                            25557 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            25558 ; 539  |//!
                            25559 ; 540  |//! \return
                            25560 ; 541  |//!
                            25561 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            25562 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            25563 ; 544  |///////////////////////////////////////////////////////////////////////
                            25564 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            25565 ; 546  |
                            25566 ; 547  |///////////////////////////////////////////////////////////////////////
                            25567 ; 548  |//! \brief
                            25568 ; 549  |//!
                            25569 ; 550  |//! \fntype Function
                            25570 ; 551  |//!
                            25571 ; 552  |//! Save the list to flash memory.
                            25572 ; 553  |//!
                            25573 ; 554  |//! \param[in]
                            25574 ; 555  |//!
                            25575 ; 556  |//! \return
                            25576 ; 557  |//!
                            25577 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            25578 ; 559  |//!         changed by the user.
                            25579 ; 560  |///////////////////////////////////////////////////////////////////////
                            25580 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            25581 ; 562  |
                            25582 ; 563  |///////////////////////////////////////////////////////////////////////
                            25583 ; 564  |//! \brief
                            25584 ; 565  |//!
                            25585 ; 566  |//! \fntype Function
                            25586 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            25587 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in
                                   the
                            25588 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the l
                                  ist.
                            25589 ; 570  |//! Otherwise the song is deleted.
                            25590 ; 571  |//!
                            25591 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            25592 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            25593 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            25594 ; 575  |//!
                            25595 ; 576  |//! \return
                            25596 ; 577  |//!
                            25597 ; 578  |///////////////////////////////////////////////////////////////////////
                            25598 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            25599 ; 580  |
                            25600 ; 581  |///////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 424

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25601 ; 582  |//! \brief
                            25602 ; 583  |//!
                            25603 ; 584  |//! \fntype Function
                            25604 ; 585  |//!
                            25605 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            25606 ; 587  |//! in the ML_UpdateOnTheGo().
                            25607 ; 588  |//!
                            25608 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            25609 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDE
                                  X_EOF (song will be deleted)
                            25610 ; 591  |//!
                            25611 ; 592  |//! \return
                            25612 ; 593  |//!
                            25613 ; 594  |///////////////////////////////////////////////////////////////////////
                            25614 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            25615 ; 596  |
                            25616 ; 597  |///////////////////////////////////////////////////////////////////////
                            25617 ; 598  |//! \brief
                            25618 ; 599  |//!
                            25619 ; 600  |//! \fntype Function
                            25620 ; 601  |//!
                            25621 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            25622 ; 603  |//!
                            25623 ; 604  |//! \param[in]  none
                            25624 ; 605  |//!
                            25625 ; 606  |//! \return
                            25626 ; 607  |//!
                            25627 ; 608  |///////////////////////////////////////////////////////////////////////
                            25628 ; 609  |void ML_UpdateOnTheGo(void);
                            25629 ; 610  |
                            25630 ; 611  |///////////////////////////////////////////////////////////////////////
                            25631 ; 612  |//! \brief
                            25632 ; 613  |//!
                            25633 ; 614  |//! \fntype Function
                            25634 ; 615  |//!
                            25635 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            25636 ; 617  |//! Call only once before inserting items. Call once for each media.
                            25637 ; 618  |//!
                            25638 ; 619  |//! \param[in]  none
                            25639 ; 620  |//!
                            25640 ; 621  |//! \return
                            25641 ; 622  |//!
                            25642 ; 623  |///////////////////////////////////////////////////////////////////////
                            25643 ; 624  |void ML_InitVoiceParameter(void);
                            25644 ; 625  |
                            25645 ; 626  |///////////////////////////////////////////////////////////////////////
                            25646 ; 627  |//! \brief
                            25647 ; 628  |//!
                            25648 ; 629  |//! \fntype Function
                            25649 ; 630  |//!
                            25650 ; 631  |//! \param[in]
                            25651 ; 632  |//!
                            25652 ; 633  |//! \return
                            25653 ; 634  |//!
                            25654 ; 635  |///////////////////////////////////////////////////////////////////////
                            25655 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            25656 ; 637  |
                            25657 ; 638  |///////////////////////////////////////////////////////////////////////
                            25658 ; 639  |//! \brief
                            25659 ; 640  |//!
                            25660 ; 641  |//! \fntype Function
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 425

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25661 ; 642  |//!
                            25662 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            25663 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names
                                  .
                            25664 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            25665 ; 646  |//!
                            25666 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            25667 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed f
                                  rom UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            25668 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            25669 ; 650  |//!
                            25670 ; 651  |//! \return
                            25671 ; 652  |//!
                            25672 ; 653  |///////////////////////////////////////////////////////////////////////
                            25673 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            25674 ; 655  |
                            25675 ; 656  |///////////////////////////////////////////////////////////////////////
                            25676 ; 657  |//! \brief
                            25677 ; 658  |//!
                            25678 ; 659  |//! \fntype Function
                            25679 ; 660  |//!
                            25680 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            25681 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice buildi
                                  ng
                            25682 ; 663  |//! of music library for that particular media.
                            25683 ; 664  |//!
                            25684 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            25685 ; 666  |//!
                            25686 ; 667  |//! \return
                            25687 ; 668  |//!
                            25688 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            25689 ; 670  |//!         function.
                            25690 ; 671  |///////////////////////////////////////////////////////////////////////
                            25691 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            25692 ; 673  |
                            25693 ; 674  |///////////////////////////////////////////////////////////////////////
                            25694 ; 675  |//! \brief
                            25695 ; 676  |//!
                            25696 ; 677  |//! \fntype Function
                            25697 ; 678  |//!
                            25698 ; 679  |//! Called by UI, the merge the music library tables album,
                            25699 ; 680  |//! artist, genre, song and year.
                            25700 ; 681  |//!
                            25701 ; 682  |//! \param[in]  none
                            25702 ; 683  |//!
                            25703 ; 684  |//! \return
                            25704 ; 685  |//!
                            25705 ; 686  |///////////////////////////////////////////////////////////////////////
                            25706 ; 687  |void ML_MergeLibraryTables(void);
                            25707 ; 688  |
                            25708 ; 689  |///////////////////////////////////////////////////////////////////////
                            25709 ; 690  |//! \brief
                            25710 ; 691  |//!
                            25711 ; 692  |//! \fntype Function
                            25712 ; 693  |//!
                            25713 ; 694  |//! Called by UI, the merge the music library tables album,
                            25714 ; 695  |//! artist, genre, song and year.
                            25715 ; 696  |//!
                            25716 ; 697  |//! \param[in]  none
                            25717 ; 698  |//!
                            25718 ; 699  |//! \return
                            25719 ; 700  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 426

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25720 ; 701  |///////////////////////////////////////////////////////////////////////
                            25721 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            25722 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            25723 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            25724 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            25725 ; 706  |
                            25726 ; 707  |///////////////////////////////////////////////////////////////////////
                            25727 ; 708  |//! \brief
                            25728 ; 709  |//!
                            25729 ; 710  |//! \fntype Function
                            25730 ; 711  |//!
                            25731 ; 712  |//! \param[in]
                            25732 ; 713  |//!
                            25733 ; 714  |//! \return
                            25734 ; 715  |//!
                            25735 ; 716  |///////////////////////////////////////////////////////////////////////
                            25736 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            25737 ; 718  |
                            25738 ; 719  |/*========================================================================================
                                  ========*/
                            25739 ; 720  |
                            25740 ; 721  |// Siukoon 2005-02-28
                            25741 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            25742 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            25743 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            25744 ; 725  |#else
                            25745 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            25746 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            25747 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            25748 ; 729  |#define WORD_PER_SECTOR             (171)
                            25749 ; 730  |#define BYTE_PER_SECTOR             (512)
                            25750 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            25751 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PE
                                  R_SECTOR)
                            25752 ; 733  |
                            25753 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            25754 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            25755 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_B
                                  YTE_PER_SECTOR)
                            25756 ; 737  |
                            25757 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            25758 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            25759 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            25760 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            25761 ; 742  |
                            25762 ; 743  |/////////////////////
                            25763 ; 744  |
                            25764 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            25765 ; 746  |
                            25766 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            25767 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            25768 ; 749  |#else
                            25769 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            25770 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            25771 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                                  
                            25772 ; 753  |
                            25773 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            25774 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            25775 ; 756  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 427

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25776 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            25777 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            25778 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            25779 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            25780 ; 761  |#else
                            25781 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            25782 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            25783 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            25784 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            25785 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            25786 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            25787 ; 768  |
                            25788 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            25789 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            25790 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            25791 ; 772  |#else
                            25792 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG
                                  _PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            25793 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            25794 ; 775  |
                            25795 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            25796 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SI
                                  ZE_IN_BYTE)
                            25797 ; 778  |
                            25798 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            25799 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            25800 ; 781  |
                            25801 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            25802 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            25803 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            25804 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            25805 ; 786  |#else
                            25806 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            25807 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            25808 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            25809 ; 790  |
                            25810 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            25811 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6
                                  )
                            25812 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            25813 ; 794  |#else
                            25814 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            25815 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            25816 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            25817 ; 798  |
                            25818 ; 799  |#ifdef __cplusplus
                            25819 ; 800  |}
                            25820 ; 801  |#endif
                            25821 ; 802  |
                            25822 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            25823 
                            25825 
                            25826 ; 6    |#include "fsapi.h"
                            25827 
                            25829 
                            25830 ; 1    |#ifndef _FSAPI_H_
                            25831 ; 2    |#define _FSAPI_H_
                            25832 ; 3    |#include "filespec.h"
                            25833 ; 4    |extern _reentrant LONG Ftell(INT HandleNumber);
                            25834 ; 5    |extern _reentrant LONG Feof(INT HandleNumber);
                            25835 ; 6    |extern _reentrant INT *Fputs(INT HandleNumber,INT *Buffer);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 428

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25836 ; 7    |extern _reentrant LONG Fread(INT HandleNumber,INT *Buffer,LONG NumBytesToRead,INT Source_M
                                  emory,INT MOdulo);
                            25837 ; 8    |extern _reentrant INT Fgetc(INT HandleNumber);
                            25838 ; 9    |extern _reentrant INT Fputc(INT HandleNumber,INT ByteToWrite);
                            25839 ; 10   |extern _reentrant LONG ReadDirectoryRecord(INT HandleNumber,INT RecordNumber,INT *Buffer);
                                  
                            25840 ; 11   |extern _reentrant INT Fseek(INT HandleNumber,LONG NumBytesToSeek,INT SeekPosition);
                            25841 ; 12   |extern _reentrant INT Fopen(_packed char *filepath,_packed char *mode);
                            25842 ; 13   |extern _reentrant LONG Fwrite(INT HandleNumber,INT  *Buffer,LONG NumBytesToWrite,INT Sourc
                                  e_Memory,INT MOdulo);
                            25843 ; 14   |extern _reentrant LONG Totalfreecluster(INT DeviceNum);
                            25844 ; 15   |extern _reentrant INT Rmdir(_packed char *filepath);
                            25845 ; 16   |extern _reentrant INT Rmdirw(_packed char *filepath);
                            25846 ; 17   |extern _reentrant INT Mkdir(_packed char *filepath);
                            25847 ; 18   |
                            25848 ; 19   |        //      SGTL-HK 27-05-2005
                            25849 ; 20   |extern _reentrant INT Mkdirw(UCS3 *filepath);
                            25850 ; 21   |
                            25851 ; 22   |extern _reentrant INT Chdir(_packed char *filepath);
                            25852 ; 23   |extern _reentrant INT FastOpen(LONG Key,_packed char *mode);
                            25853 ; 24   |
                            25854 ; 25   |extern _reentrant INT Setcwd(_packed char *filepath, _packed char *gCworkingDir,INT index,
                                  INT length);
                            25855 ; 26   |extern _reentrant _packed char *Getcwd(void);
                            25856 ; 27   |extern  _reentrant _packed char *Fgets(INT HandleNumber,INT NumBytesToRead, _packed char *
                                  Buffer);
                            25857 ; 28   |extern INT  FSInit(INT _X *bufx, INT _Y *bufy, INT maxdevices, INT maxhandles, INT maxcach
                                  es);
                            25858 ; 29   |extern INT  FlushCache(void);
                            25859 ; 30   |extern _reentrant INT FsShutDown(void);
                            25860 ; 31   |extern _reentrant LONG GetFileSize(INT HandleNumber);
                            25861 ; 32   |
                            25862 ; 33   |extern _reentrant INT filegetattrib(_packed char *FilePath);
                            25863 ; 34   |extern _reentrant INT Fopenw(INT *filepath,_packed char *mode);
                            25864 ; 35   |extern _reentrant INT Fremove(_packed char *filepath);
                            25865 ; 36   |extern _reentrant INT Fremovew(_packed char *filepath);
                            25866 ; 37   |extern _reentrant void DBCSToUnicode(_packed unsigned char *pDBCS, WORD *pUnicode,INT iLen
                                  gth);
                            25867 ; 38   |extern INT FlushCache(void);
                            25868 ; 39   |extern _reentrant INT DeleteTree(_packed char *Path);
                            25869 ; 40   |extern _reentrant INT Fclose(INT HandleNumber);
                            25870 ; 41   |extern INT FSMediaPresent(INT DeviceNum);
                            25871 ; 42   |extern INT FSFATType (INT DeviceNum);
                            25872 ; 43   |extern  INT _reentrant  GetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            25873 ; 44   |extern _reentrant INT SetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            25874 ; 45   |extern _reentrant LONG FgetFastHandle(INT HandleNumber);
                            25875 ; 46   |
                            25876 ; 47   |extern _reentrant INT ConstructLongFileName(INT HandleNumber, INT RecordNumber, INT *LFNBu
                                  ffer);
                            25877 ; 48   |extern _reentrant void Uppercase(_packed char *file); 
                            25878 ; 49   |extern _reentrant INT FindNext(INT HandleNumber,Finddata *_finddata);
                            25879 ; 50   |extern _reentrant INT FindFirst(Finddata *_finddata,_packed char *FileName);
                            25880 ; 51   |extern _reentrant void ClearData(Finddata *_finddata);
                            25881 ; 52   |extern _reentrant INT GetShortfilename(LONG Key,INT *Buffer);
                            25882 ; 53   |
                            25883 ; 54   |
                            25884 ; 55   |
                            25885 ; 56   |
                            25886 ; 57   |typedef struct
                            25887 ; 58   |{
                            25888 ; 59   |
                            25889 ; 60   |INT             Day;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 429

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25890 ; 61   |INT             Month;
                            25891 ; 62   |INT             Year;
                            25892 ; 63   |}DIR_DATE;
                            25893 ; 64   |
                            25894 ; 65   |
                            25895 ; 66   |typedef struct
                            25896 ; 67   |{
                            25897 ; 68   |
                            25898 ; 69   |INT             Second;
                            25899 ; 70   |INT             Minute;
                            25900 ; 71   |INT             Hour;
                            25901 ; 72   |}DIR_TIME;
                            25902 ; 73   |
                            25903 ; 74   |
                            25904 ; 75   |typedef struct
                            25905 ; 76   |{
                            25906 ; 77   |LONG CurrentOffset;     
                            25907 ; 78   |LONG CurrentCluster;
                            25908 ; 79   |}HANDLECONTEXT;
                            25909 ; 80   |
                            25910 ; 81   |extern _reentrant INT filesetattrib(INT HandleNumber,INT dirattribute);
                            25911 ; 82   |extern _reentrant INT filesetdate(_packed char *FilePath,INT crt_mod_date_time_para,DIR_DA
                                  TE *dirdate,DIR_TIME *dirtime);
                            25912 ; 83   |extern _reentrant INT filegetdate(INT HandleNumber,INT crt_mod_date_time_para,DIR_DATE *di
                                  rdate,DIR_TIME *dirtime);
                            25913 ; 84   |#endif
                            25914 
                            25916 
                            25917 ; 7    |////////////////////////////////////////////////////////////////////////////////
                            25918 ; 8    |//  Equates
                            25919 ; 9    |////////////////////////////////////////////////////////////////////////////////
                            25920 ; 10   |//Traversal return types
                            25921 ; 11   |#define PLAYLIST_END_TRAVERSAL_SUCCESS  (PLAYLIST_LAST_RETCODE + 1)
                            25922 ; 12   |#define PLAYLIST_END_TRAVERSAL_FAILURE  (PLAYLIST_LAST_RETCODE + 2)
                            25923 ; 13   |#define PLAYLIST_FILE_LOCATE_SUCCESS    (PLAYLIST_LAST_RETCODE + 3)
                            25924 ; 14   |
                            25925 ; 15   |#define PLAYSET_MUSIC 0
                            25926 ; 16   |#define PLAYSET_VOICE 1
                            25927 ; 17   |#define PLAYSET_FOLDER_PLAY 2
                            25928 ; 18   |#define PLAYSET_FAVORITES 3
                            25929 ; 19   |
                            25930 ; 20   |#define PLAYLIST_REPEAT_OFF     0
                            25931 ; 21   |#define PLAYLIST_REPEAT_ALL     1
                            25932 ; 22   |#define PLAYLIST_REPEAT_ONE     2
                            25933 ; 23   |
                            25934 ; 24   |#define SELECT_TRACKS   0
                            25935 ; 25   |#define ORDER_TRACKS    1
                            25936 ; 26   |#define BUILD_FILE_LINKS        2
                            25937 ; 27   |#define RESTORE_BOOKMARK 3
                            25938 ; 28   |        //      SGTL-HK 28-10-2004
                            25939 ; 29   |#define BUILD_DIR_LINKS         4
                            25940 ; 30   |
                            25941 ; 31   |
                            25942 ; 32   |#define ATTR_UNACCEPTABLE  (ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID)
                            25943 ; 33   |
                            25944 ; 34   |#define DIR_SEPARATOR   0x00002f        // "\"
                            25945 ; 35   |#define ROOT_SEPARATOR  0x002f3A        // ":\" swizzled
                            25946 ; 36   |
                            25947 ; 37   |#define DEPTH_VOICE_DIR 1       //depth of voice directory
                            25948 ; 38   |
                            25949 ; 39   |#define TYPE_DIR 0
                            25950 ; 40   |#define TYPE_FILE 1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 430

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25951 ; 41   |
                            25952 ; 42   |#define IS_TRASH        0
                            25953 ; 43   |#define IS_VOICE_DIR 1
                            25954 ; 44   |#define IS_VALID_AUDIO 2
                            25955 ; 45   |#define IS_VOICE_FILE  3
                            25956 ; 46   |
                            25957 ; 47   |//List containing audio file extensions
                            25958 ; 48   |#define WMA_FILE_EXT     0x414D57
                            25959 ; 49   |#define MP3_FILE_EXT     0x33504d
                            25960 ; 50   |#define WAV_FILE_EXT     0x564157
                            25961 ; 51   |#define MP4_FILE_EXT     0x34504d
                            25962 ; 52   |#define M4A_FILE_EXT     0x41344d
                            25963 ; 53   |#define ASF_FILE_EXT     0x465341
                            25964 ; 54   |#define AUDIBLE_FILE_EXT         0x004141
                            25965 ; 55   |#define JPG_FILE_EXT     0x47504a
                            25966 ; 56   |#define BMP_FILE_EXT     0x504d42
                            25967 ; 57   |#define SMV_FILE_EXT     0x564d53
                            25968 ; 58   |
                            25969 ; 59   |#define VOICE_PATH_0    0x2f3a61        // a:/ in dyslexical order
                            25970 ; 60   |#define VOICE_PATH_1    0x494f56        // VOI in dyslexical order
                            25971 ; 61   |#define VOICE_PATH_2    0x2f4543        // CE/ in dyslexical order
                            25972 ; 62   |#define VOICE_PATH_3    0x000000        // terminating 0
                            25973 ; 63   |
                            25974 ; 64   |#define FM_PATH_0               0x2f3a61        // a:/ in dyslexical order
                            25975 ; 65   |#define FM_PATH_1               0x2f4d46        // FM/ in dyslexical order
                            25976 ; 66   |#define FM_PATH_2               0x000000        // terminating 0
                            25977 ; 67   |
                            25978 ; 68   |#define LINEIN_PATH_0   0x2f3a61        // a:/ in dyslexical order
                            25979 ; 69   |#define LINEIN_PATH_1   0x4e494c        // LIN in dyslexical order
                            25980 ; 70   |#define LINEIN_PATH_2   0x492d45        // E-I in dyslexical order
                            25981 ; 71   |#define LINEIN_PATH_3   0x002f4e        // N/  in dyslexical order
                            25982 ; 72   |
                            25983 ; 73   |#define NAME_SFN        0
                            25984 ; 74   |#define NAME_LFN        1
                            25985 ; 75   |//Error code for unsupported file Names or Extensions
                            25986 ; 76   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            25987 ; 77   |
                            25988 ; 78   |#define FINDDATA_CACHE_SIZE   20
                            25989 ; 79   |
                            25990 ; 80   |// this number is used to skip mac resource fork files when loading the playlist
                            25991 ; 81   |// the resource SFN start with _ end with the same extension (i.e. mp3)
                            25992 ; 82   |// a SMALL sample of test files shows that the resource file is typically 82 bytes.
                            25993 ; 83   |#define MAC_RESOURCE_NUM_BYTES   512
                            25994 ; 84   |
                            25995 ; 85   |extern int g_iPlaylistRepeat;
                            25996 ; 86   |extern int g_bPlaylistShuffle;
                            25997 ; 87   |extern DWORD dStart, dEnd, dDiff;       //for timing measurements
                            25998 ; 88   |extern _packed BYTE DirPath[MAX_DIRNAME_LENGTH];
                            25999 ; 89   |extern BOOL g_Rebuild;
                            26000 ; 90   |extern RAM_SONG_INFO_T  song_info;
                            26001 ; 91   |extern INT  g_file_time;
                            26002 ; 92   |extern INT  g_unicode;
                            26003 ; 93   |extern DWORD    g_dwFastKey;
                            26004 ; 94   |extern INT  g_iRecordNum;
                            26005 ; 95   |extern DWORD    g_FileKey;
                            26006 ; 96   |extern DIR_DATE g_dirdate;
                            26007 ; 97   |extern DIR_TIME g_dirtime;
                            26008 ; 98   |extern INT  *pHighestNumber;
                            26009 ; 99   |extern INT  g_iHighestVoiceNumber;
                            26010 ; 100  |extern INT  g_iHighestFMNumber;
                            26011 ; 101  |extern INT  g_iHighestLineNumber;
                            26012 ; 102  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 431

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26013 ; 103  |INT _reentrant Playlist_GetPlaySet(void);
                            26014 ; 104  |INT _reentrant Playlist_SetPlaySet(INT, INT, INT*);
                            26015 ; 105  |INT _reentrant Playlist_Initialize(INT, INT, INT*);
                            26016 ; 106  |INT _reentrant Playlist_BuildMusicLib(INT iIgnored1, INT iIgnored2, INT* pIgnored);
                            26017 ; 107  |_reentrant RETCODE Playlist_PopulateMusicLib(int iDevice, int iDepth, DWORD dwDirKey,INT R
                                  ecordNumber);
                            26018 ; 108  |_reentrant INT Playlist_SetPlaySet(INT , INT, INT*);
                            26019 ; 109  |void _reentrant Playlist_ResetPlayset(void);
                            26020 ; 110  |BOOL _reentrant Playlist_ValidateEntry(INT iEntryType,INT iReason, INT* pPtr);
                            26021 ; 111  |
                            26022 ; 112  |//////////////////////////////////////////////////////////////////////////////////////////
                                  /////////////////
                            26023 ; 113  |/////playlist3 helper functions
                            26024 ; 114  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////////
                            26025 ; 115  |BOOL _reentrant Playlist_IsValidAudioFile(LONG lFileSize, _packed BYTE* pFileName);
                            26026 ; 116  |_reentrant INT Playlist_GetFileExtention(INT iIgnored1, INT iIgnored2, INT* pPtr);
                            26027 ; 117  |_reentrant BOOL IsTrashDir(_packed BYTE* pszName);
                            26028 ; 118  |_reentrant DWORD Playlist_GenerateFastKey(INT iDevice,LONG DirSector,INT iDirOffset);
                            26029 ; 119  |_reentrant INT ExtractDirSector1(DWORD Key);
                            26030 ; 120  |_reentrant INT ExtractDirSector2(DWORD Key);
                            26031 ; 121  |_reentrant INT ExtractDirOffset(DWORD Key);
                            26032 ; 122  |_reentrant RETCODE Playlist_GetRootString(_packed BYTE* pBuffer, INT iDevice);
                            26033 ; 123  |_reentrant RETCODE Playlist_LocateFileEntryFromName(INT iUnused1, INT iUnused2, INT* pPtr)
                                  ;
                            26034 ; 124  |_reentrant INT Playlist_LocateDirEntryFromName(INT iUnused1, INT iUnused2, INT* pPtr);
                            26035 ; 125  |_reentrant BOOL IsVoiceDir(DirEntry _X* pDirEntry);
                            26036 ; 126  |_reentrant RETCODE Playlist_GetSFN(INT iEntryType , INT pEntry, INT* pName);
                            26037 ; 127  |_reentrant RETCODE Playlist_GetLFN(INT iEntryType , INT pEntry, INT* pName);
                            26038 ; 128  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            26039 ; 129  |
                            26040 ; 130  |DWORD GetDclkCount(void);
                            26041 ; 131  |
                            26042 ; 132  |_reentrant INT CopyFindFirst(int mDirEntry, int mfinddata, int *mFileSpec);
                            26043 ; 133  |_reentrant INT CopyFindNext(INT HandleNumber,int mfinddata, int* ptr);
                            26044 ; 134  |
                            26045 ; 135  |_reentrant void BuildVoiceFilePath(void);
                            26046 ; 136  |_reentrant void BuildFMFilePath(void);
                            26047 ; 137  |_reentrant void BuildLINEINFilePath(void);
                            26048 ; 138  |_reentrant void GetVoiceFastKey(WORD wFastKeyBitField);
                            26049 ; 139  |_reentrant INT AddSongToLibrary(int a, int drive, void* b);
                            26050 ; 140  |#endif
                            26051 
                            26053 
                            26054 ; 35   |#include "playlist3internal.h"
                            26055 
                            26057 
                            26058 ; 1    |#ifndef __PLAYLIST3INTERNAL_H
                            26059 ; 2    |#define __PLAYLIST3INTERNAL_H
                            26060 ; 3    |
                            26061 ; 4    |#include "project.h"
                            26062 ; 5    |
                            26063 ; 6    |#include "filesystem.h"
                            26064 ; 7    |#include "metadata.h"
                            26065 ; 8    |
                            26066 ; 9    |#define MAX_NUM_DIR 1           //max supported directories including all subdirectories
                            26067 ; 10   |#define MAX_NUM_FILES   1       //max supported files
                            26068 ; 11   |#define MAX_SORT_ENTRIES_PER_DIRECTORY  15
                            26069 ; 12   |
                            26070 ; 13   |#define MAX_RECORDS_PER_DIRECTORY   4096        //calculated from the bits in the m_iRecor
                                  dNum field in the following data structures.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 432

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26071 ; 14   |                                                                                        //
                                  An entry can have multiple records in the FAT for LFNs.
                            26072 ; 15   |                                                                                        //
                                  Records more than this number will not be included in the playlist content
                            26073 ; 16   |
                            26074 ; 17   |#define SFN_LENGTH      13      //8.3\ + NULL
                            26075 ; 18   |
                            26076 ; 19   |#define  _MAX_DIR_DEPTH 8
                            26077 ; 20   |#define  MAX_DIRNAME_LENGTH ((SFN_LENGTH*_MAX_DIR_DEPTH)+1)
                            26078 ; 21   |
                            26079 ; 22   |struct Bookmark{
                            26080 ; 23   |        INT       m_iTracknum;
                            26081 ; 24   |        DWORD m_dwTrackPosBytes;
                            26082 ; 25   |}; //this will save the num and position of the song selected for bookmark
                            26083 ; 26   |
                            26084 ; 27   |
                            26085 ; 28   |typedef struct{
                            26086 ; 29   |    unsigned int    m_pNext:16;                 //points to the next inline DirEntry. 
                            26087 ; 30   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            26088 ; 31   |    unsigned int    m_iDevice:1;
                            26089 ; 32   |        unsigned int    m_bIsRoot:1;    //1=ROOT directory, 0= Any directory except ROOT.
                            26090 ; 33   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //
                            26091 ; 34   |    unsigned int    m_pDirContents:16;  //points to the first content which is a dir.
                            26092 ; 35   |//////////////////////////////////////////////////////////////////////////////////////////
                                  /
                            26093 ; 36   |        unsigned int    m_pFileContents:16; //pointer in FileEntryPool where the file cont
                                  ents for this directory begin.
                            26094 ; 37   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //
                            26095 ; 38   |        unsigned int    m_iDirSector1:21;
                            26096 ; 39   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //
                            26097 ; 40   |        unsigned int    m_iDirOffset:12;
                            26098 ; 41   |        unsigned int    m_iRecordNum:12;        //record number of the directory record (L
                                  FN use).
                            26099 ; 42   |
                            26100 ; 43   |        unsigned int    m_iDirSector2:11;
                            26101 ; 44   |        //!! The above are implicitly used as a struct*. Using INT bitfields to save memor
                                  y !!!
                            26102 ; 45   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //      
                            26103 ; 46   |#ifdef DEBUG_SFN
                            26104 ; 47   |        _packed BYTE name[SFN_LENGTH];
                            26105 ; 48   |#endif
                            26106 ; 49   |}DirEntry;
                            26107 ; 50   |
                            26108 ; 51   |typedef struct{
                            26109 ; 52   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            26110 ; 53   |        unsigned int    m_bCurrentPlayset:1;    //1=Belongs to the current playset.
                            26111 ; 54   |        unsigned int    m_bTrackPlayed:1;               //Indicates if the track was playe
                                  d atleast once. Currently not used.
                            26112 ; 55   |        unsigned int    m_iDirSector1:21;
                            26113 ; 56   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            26114 ; 57   |        unsigned int    m_iTrackOrder:10;               //Order of this track in the curre
                                  nt playset.
                            26115 ; 58   |        unsigned int    m_iDirOffset:12;
                            26116 ; 59   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            26117 ; 60   |        unsigned int    m_iDevice:1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 433

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26118 ; 61   |        unsigned int    m_iRecordNum:12;        //Record number of the file record (LFN us
                                  e).
                            26119 ; 62   |        unsigned int    m_iDirSector2:11;
                            26120 ; 63   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            26121 ; 64   |        unsigned int    m_pNext:16;             // //points to the next inline file.
                            26122 ; 65   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            26123 ; 66   |#ifdef DEBUG_SFN
                            26124 ; 67   |        _packed BYTE name[SFN_LENGTH];
                            26125 ; 68   |#endif
                            26126 ; 69   |}FileEntry;
                            26127 ; 70   |
                            26128 ; 71   |typedef struct{
                            26129 ; 72   |        DirEntry _X* pDirEntry; //Start traversing from this directory entry
                            26130 ; 73   |        unsigned int    iReason;
                            26131 ; 74   |        unsigned int iDevice;
                            26132 ; 75   |        unsigned int iPlayset;
                            26133 ; 76   |        unsigned int iDepth;
                            26134 ; 77   |        unsigned int iTrackOrder;
                            26135 ; 78   |        unsigned int iTrackNum;
                            26136 ; 79   |        FileEntry* pFileEntry;
                            26137 ; 80   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];  //maintains a dynamic list of directory li
                                  nks within the recursion
                            26138 ; 81   |        unsigned int    iTotalLinks;
                            26139 ; 82   |}TraverseTreeParams;
                            26140 ; 83   |
                            26141 ; 84   |typedef struct{
                            26142 ; 85   |        unsigned int EntryType;                         //TYPE_DIR or TYPE_FILE
                            26143 ; 86   |        FileEntry* pFileEntry;          //used if TYPE_FILE
                            26144 ; 87   |        DirEntry _X* pDirEntry;                 //used if TYPE_DIR
                            26145 ; 88   |        unsigned int iTrackNum;
                            26146 ; 89   |        unsigned int iTrackOrder;
                            26147 ; 90   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];
                            26148 ; 91   |        unsigned int iTotalLinks;
                            26149 ; 92   |}EntryAccessInfo;
                            26150 ; 93   |
                            26151 ; 94   |typedef struct{
                            26152 ; 95   |        void* pEntry;
                            26153 ; 96   |        _packed BYTE name[SFN_LENGTH];
                            26154 ; 97   |}SFNStorage;
                            26155 ; 98   |
                            26156 ; 99   |extern DirEntry _X g_DirEntryPerDevice[];               //ROOT(s)
                            26157 ; 100  |extern DirEntry _X g_DirEntryPool[];            //Pool of directory entries, Does not cont
                                  ain files.
                            26158 ; 101  |extern FileEntry g_FileEntryPool[];
                            26159 ; 102  |extern EntryAccessInfo g_CurrentTrack;
                            26160 ; 103  |extern int g_iPlaylistRepeat;
                            26161 ; 104  |extern int g_bPlaylistShuffle;
                            26162 ; 105  |extern SFNStorage g_TempSFNSpace[];
                            26163 ; 106  |extern int g_iTotalTracks;
                            26164 ; 107  |
                            26165 ; 108  |extern int g_iPlaySet;
                            26166 ; 109  |
                            26167 ; 110  |extern struct Bookmark g_MarkerMusic, g_MarkerVoice;
                            26168 ; 111  |extern int g_iTotalDir;
                            26169 ; 112  |extern int g_iTotalFiles;
                            26170 ; 113  |
                            26171 ; 114  |void _reentrant ML_building_engine_init_playlist3(void);
                            26172 ; 115  |void _reentrant ML_voice_build_engine_init_playlist3(void);
                            26173 ; 116  |void _reentrant ML_merging_engine_init_playlist3(void);
                            26174 ; 117  |_reentrant void Rebuild_GetMetaData(WORD wMode,int ignored1,int*ignored2);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 434

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26175 ; 118  |_reentrant void Rebuild_GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FI
                                  LE_META_DATA *MetaData);
                            26176 ; 119  |_reentrant RETCODE AddDirToLibrary(INT iDrive, INT iDirDepth);
                            26177 ; 120  |RETCODE _reentrant ML_GetLFN(DWORD dwFastKey, INT iRecordNum, UCS3 *pBuf);
                            26178 ; 121  |
                            26179 ; 122  |#endif
                            26180 
                            26182 
                            26183 ; 36   |#include "browsemenu.h"
                            26184 
                            26186 
                            26187 ; 1    |#ifndef BROWSEMENU_H
                            26188 ; 2    |#define BROWSEMENU_H
                            26189 ; 3    |
                            26190 ; 4    |#include "musiclib_ghdr.h"
                            26191 
                            26193 
                            26194 ; 1    |#ifndef MUSICLIB_GHDR_H
                            26195 ; 2    |#define MUSICLIB_GHDR_H
                            26196 ; 3    |
                            26197 ; 4    |#ifdef __cplusplus
                            26198 ; 5    |extern "C" {
                            26199 ; 6    |#endif
                            26200 ; 7    |
                            26201 ; 8    |/*========================================================================================
                                  ==========
                            26202 ; 9    |
                            26203 ; 10   |                                        General Description
                            26204 ; 11   |
                            26205 ; 12   |==========================================================================================
                                  ==========
                            26206 ; 13   |
                            26207 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            26208 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            26209 ; 16   |
                            26210 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            26211 ; 18   |
                            26212 ; 19   |PRODUCT NAMES: All
                            26213 ; 20   |
                            26214 ; 21   |GENERAL DESCRIPTION:
                            26215 ; 22   |
                            26216 ; 23   |    General description of this grouping of functions.
                            26217 ; 24   |
                            26218 ; 25   |Portability: All
                            26219 ; 26   |
                            26220 ; 27   |
                            26221 ; 28   |Revision History:
                            26222 ; 29   |
                            26223 ; 30   |                         Modification        Tracking
                            26224 ; 31   |Author                       Date             Number           Description of Changes
                            26225 ; 32   |---------------------    ------------        ----------        ---------------------------
                                  ----------
                            26226 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of change
                                  s made
                            26227 ; 34   |
                            26228 ; 35   |
                            26229 ; 36   |==========================================================================================
                                  ==========
                            26230 ; 37   |                                            DESCRIPTION
                            26231 ; 38   |==========================================================================================
                                  ==========
                            26232 ; 39   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 435

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26233 ; 40   |GLOBAL FUNCTIONS:
                            26234 ; 41   |    MF_global_func_name()
                            26235 ; 42   |
                            26236 ; 43   |TRACEABILITY MATRIX:
                            26237 ; 44   |    None
                            26238 ; 45   |
                            26239 ; 46   |==========================================================================================
                                  ========*/
                            26240 ; 47   |
                            26241 ; 48   |/*========================================================================================
                                  ==========
                            26242 ; 49   |                                                                Conditional Compilation Di
                                  rectives
                            26243 ; 50   |==========================================================================================
                                  ========*/
                            26244 ; 51   |#ifdef WIN32
                            26245 ; 52   |#define _PC_SIMULATION_
                            26246 ; 53   |#else
                            26247 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            26248 ; 55   |#endif  // WIN32
                            26249 ; 56   |
                            26250 ; 57   |#if 1
                            26251 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            26252 ; 59   |#endif
                            26253 ; 60   |
                            26254 ; 61   |#if 1
                            26255 ; 62   |#define _AUDIBLE_       /* install audible list */
                            26256 ; 63   |#endif
                            26257 ; 64   |
                            26258 ; 65   |#if 1
                            26259 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            26260 ; 67   |#endif
                            26261 ; 68   |
                            26262 ; 69   |#ifdef PL3_FB
                            26263 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            26264 ; 71   |#endif
                            26265 ; 72   |
                            26266 ; 73   |#if 1
                            26267 ; 74   |#define _SUPPORT_2000_SONGS_
                            26268 ; 75   |#endif
                            26269 ; 76   |
                            26270 ; 77   |/*========================================================================================
                                  ==========
                            26271 ; 78   |                                           INCLUDE FILES
                            26272 ; 79   |==========================================================================================
                                  ========*/
                            26273 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            26274 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            26275 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            26276 ; 83   |#define OEM_SEEK_END    SEEK_END
                            26277 ; 84   |#else
                            26278 ; 85   |#define _X
                            26279 ; 86   |#define _Y
                            26280 ; 87   |#define _packed
                            26281 ; 88   |
                            26282 ; 89   |#define _asmfunc
                            26283 ; 90   |#define _reentrant
                            26284 ; 91   |
                            26285 ; 92   |#define OEM_SEEK_CUR    1
                            26286 ; 93   |#define OEM_SEEK_SET    0
                            26287 ; 94   |#define OEM_SEEK_END    2
                            26288 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 436

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26289 ; 96   |
                            26290 ; 97   |#include "types.h"
                            26291 ; 98   |#include "exec.h"
                            26292 ; 99   |#include "messages.h"
                            26293 ; 100  |#include "project.h"
                            26294 ; 101  |
                            26295 ; 102  |/*========================================================================================
                                  ==========
                            26296 ; 103  |                                             CONSTANTS
                            26297 ; 104  |==========================================================================================
                                  ========*/
                            26298 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            26299 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            26300 ; 107  |Artistname                              1:0
                            26301 ; 108  |Albumname                               3:2
                            26302 ; 109  |Genrename                               5:4
                            26303 ; 110  |Songname                                7:6
                            26304 ; 111  |----------------------------------------------------------
                            26305 ; 112  |    Value (2 bits)                      Meanings
                            26306 ; 113  |    0                                   RAW and All ASCII
                            26307 ; 114  |    1                                   Uni-code
                            26308 ; 115  |    2                                   Mixed, non-unicode
                            26309 ; 116  |
                            26310 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            26311 ; 118  |*/
                            26312 ; 119  |#define BITMASK_ARTIST  (0x03)
                            26313 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            26314 ; 121  |#define BITMASK_GENRE   (0x30)
                            26315 ; 122  |#define BITMASK_SONG    (0xC0)
                            26316 ; 123  |
                            26317 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            26318 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            26319 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            26320 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            26321 ; 128  |
                            26322 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            26323 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            26324 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            26325 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            26326 ; 133  |
                            26327 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            26328 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            26329 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            26330 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            26331 ; 138  |
                            26332 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            26333 ; 140  |
                            26334 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            26335 ; 142  |
                            26336 ; 143  |#define INDEX_EOF       0xFFF
                            26337 ; 144  |#ifdef _FOLDER_BROWSE_
                            26338 ; 145  |#define INDEX_ROOT  0xffe
                            26339 ; 146  |#define UNKNOWN_RECORD  0xfff
                            26340 ; 147  |#endif  // _FOLDER_BROWSE_
                            26341 ; 148  |
                            26342 ; 149  |/* Constant for item_type */
                            26343 ; 150  |#define         ITEM_ARTIST                     0
                            26344 ; 151  |#define         ITEM_ALBUM                      1
                            26345 ; 152  |#define         ITEM_GENRE                      2
                            26346 ; 153  |#define         ITEM_TRACK                      3
                            26347 ; 154  |#define         ITEM_YEAR                       4
                            26348 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 437

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26349 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            26350 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            26351 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            26352 ; 159  |#ifdef _NEWMUSIC_
                            26353 ; 160  |#define         ITEM_1DAY                       10
                            26354 ; 161  |#define         ITEM_1WEEK                      11
                            26355 ; 162  |#define         ITEM_1MONTH                     12
                            26356 ; 163  |#endif
                            26357 ; 164  |#ifdef _AUDIBLE_
                            26358 ; 165  |#define         ITEM_AUDIBLE            13
                            26359 ; 166  |#endif
                            26360 ; 167  |#define         ITEM_ON_THE_GO          14
                            26361 ; 168  |
                            26362 ; 169  |#define         ITEM_VOICE                      15
                            26363 ; 170  |#define         ITEM_FMREC                      16
                            26364 ; 171  |#define         ITEM_PHOTO                      17
                            26365 ; 172  |#ifdef _FOLDER_BROWSE_
                            26366 ; 173  |#define         ITEM_INTERNAL           18
                            26367 ; 174  |#define         ITEM_EXTERNAL       19
                            26368 ; 175  |#endif  // _FOLDER_BROWSE_
                            26369 ; 176  |#define     ITEM_UNKNOWN        0xff
                            26370 ; 177  |
                            26371 ; 178  |/*
                            26372 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_inf
                                  o, int16 option);
                            26373 ; 180  |option input.
                            26374 ; 181  |*/
                            26375 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            26376 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            26377 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            26378 ; 185  |#ifdef _FOLDER_BROWSE_
                            26379 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            26380 ; 187  |#endif  // _FOLDER_BROWSE_
                            26381 ; 188  |
                            26382 ; 189  |/* Constant for key action */
                            26383 ; 190  |#define         ACTION_OK                               0               /* Press OK button
                                   */
                            26384 ; 191  |#define         ACTION_BACK                             1               /* Press BACK butt
                                  on */
                            26385 ; 192  |#define         ACTION_UP                               2               /* Press UP button
                                   */
                            26386 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN butt
                                  on */
                            26387 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            26388 ; 195  |#define         ACTION_MENU                             5               /* Back the browsi
                                  ng tree to root */
                            26389 ; 196  |
                            26390 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            26391 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            26392 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            26393 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            26394 ; 201  |
                            26395 ; 202  |#define         NO_SD                                   0
                            26396 ; 203  |#define         HAS_SD                                  1
                            26397 ; 204  |
                            26398 ; 205  |#define         PLAY_NORMAL                             0
                            26399 ; 206  |#define         PLAY_SHUFFLE                    1
                            26400 ; 207  |
                            26401 ; 208  |#define     PLAY_REPEAT_OFF         0
                            26402 ; 209  |#define     PLAY_REPEAT_ON          1
                            26403 ; 210  |
                            26404 ; 211  |#define     PLAY_SELECT_FLASH       0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 438

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26405 ; 212  |#define     PLAY_SELECT_SD          1
                            26406 ; 213  |
                            26407 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            26408 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            26409 ; 216  |
                            26410 ; 217  |#define         ON_THE_GO_EXIST                 0
                            26411 ; 218  |#define         ON_THE_GO_FULL                  1
                            26412 ; 219  |#define         ON_THE_GO_FREE                  2
                            26413 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            26414 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            26415 ; 222  |
                            26416 ; 223  |#define         REC_VOICE_TYPE                  0
                            26417 ; 224  |#define         REC_FMREC_TYPE                  1
                            26418 ; 225  |#define         REC_PHOTO_TYPE                  2
                            26419 ; 226  |#define         VOICE_FILE_ADD                  0
                            26420 ; 227  |#define         VOICE_FILE_DEL                  1
                            26421 ; 228  |
                            26422 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            26423 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            26424 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            26425 ; 232  |flash or external SD card */
                            26426 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            26427 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            26428 ; 235  |#else
                            26429 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            26430 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            26431 ; 238  |
                            26432 ; 239  |/* number of byte in one DSP word */
                            26433 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            26434 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            26435 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            26436 ; 243  |are 10 level directory structure */
                            26437 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            26438 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            26439 ; 246  |
                            26440 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            26441 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            26442 ; 249  |/* number of songs in each new music list */
                            26443 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            26444 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            26445 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            26446 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            26447 ; 254  |/* number of songs in the on-the-fly list */
                            26448 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            26449 ; 256  |/* number of files audible list */
                            26450 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            26451 ; 258  |
                            26452 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            26453 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            26454 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            26455 ; 262  |
                            26456 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            26457 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            26458 ; 265  |#ifdef _FOLDER_BROWSE_
                            26459 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            26460 ; 267  |#else
                            26461 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            26462 ; 269  |#endif  // _FOLDER_BROWSE_
                            26463 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 439

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26464 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            26465 ; 272  |
                            26466 ; 273  |#ifndef _MAX_DIR_DEPTH
                            26467 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            26468 ; 275  |#endif  // _MAX_DIR_DEPTH
                            26469 ; 276  |
                            26470 ; 277  |/*========================================================================================
                                  ==========*/
                            26471 ; 278  |
                            26472 ; 279  |
                            26473 ; 280  |/*========================================================================================
                                  ==========
                            26474 ; 281  |                                               MACROS
                            26475 ; 282  |==========================================================================================
                                  ========*/
                            26476 ; 283  |
                            26477 ; 284  |/*========================================================================================
                                  ==========
                            26478 ; 285  |                                               ENUMS
                            26479 ; 286  |==========================================================================================
                                  ========*/
                            26480 ; 287  |#define NUM_OF_MEDIA                            (2)
                            26481 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            26482 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            26483 ; 290  |/*========================================================================================
                                  ==========
                            26484 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            26485 ; 292  |==========================================================================================
                                  ========*/
                            26486 ; 293  |
                            26487 ; 294  |typedef char    int8;
                            26488 ; 295  |typedef short   int16;
                            26489 ; 296  |typedef int     int24;
                            26490 ; 297  |typedef long    int32;
                            26491 ; 298  |
                            26492 ; 299  |typedef int     intx;
                            26493 ; 300  |
                            26494 ; 301  |typedef unsigned char   uint8;
                            26495 ; 302  |typedef unsigned short  uint16;
                            26496 ; 303  |typedef unsigned int    uint24;
                            26497 ; 304  |typedef unsigned long   uint32;
                            26498 ; 305  |
                            26499 ; 306  |/*
                            26500 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode form
                                  at.
                            26501 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            26502 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            26503 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            26504 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            26505 ; 312  |*/
                            26506 ; 313  |/*
                            26507 ; 314  |path_name[] _must_have_data_:
                            26508 ; 315  |path_name[] = (Max. 120 Characters);
                            26509 ; 316  |year range:
                            26510 ; 317  |year = 0x000000-0xFFFFFF;
                            26511 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            26512 ; 319  |Unknown track number:
                            26513 ; 320  |track_number = 0x7FFFFF;
                            26514 ; 321  |unicode refer to above #define BITMASK_*
                            26515 ; 322  |*/
                            26516 ; 323  |/*
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 440

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26517 ; 324  |Interface of UI and Music Library
                            26518 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            26519 ; 326  |
                            26520 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            26521 ; 328  |
                            26522 ; 329  |3) UI to Music Library variable passing length definition:
                            26523 ; 330  |        All ASCII Characters:
                            26524 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            26525 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            26526 ; 333  |        Unicode Characters:
                            26527 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            26528 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            26529 ; 336  |
                            26530 ; 337  |4) UI input data to Music Library in two formats.
                            26531 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            26532 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            26533 ; 340  |
                            26534 ; 341  |5) UI calling function:
                            26535 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            26536 ; 343  |        int16 option definition:
                            26537 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            26538 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            26539 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            26540 ; 347  |
                            26541 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            26542 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_l
                                  ist separately.
                            26543 ; 350  |
                            26544 ; 351  |6) Modification Date:
                            26545 ; 352  |        uint24 g_file_time:
                            26546 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            26547 ; 354  |*/
                            26548 ; 355  |
                            26549 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            26550 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            26551 ; 358  |typedef struct _ram_song_info {
                            26552 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            26553 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            26554 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            26555 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            26556 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            26557 ; 364  |    uint32 g_songFastKey;
                            26558 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            26559 ; 366  |        uint24 year;
                            26560 ; 367  |        uint24 track_number;
                            26561 ; 368  |        uint8 unicode;
                            26562 ; 369  |} RAM_SONG_INFO_T;
                            26563 ; 370  |
                            26564 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            26565 ; 372  |typedef struct _flash_group_name {
                            26566 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            26567 ; 374  |        uint8 unicode;
                            26568 ; 375  |} FLASH_GROUP_NAME_T;
                            26569 ; 376  |
                            26570 ; 377  |// struct to store directories information passed from UI
                            26571 ; 378  |#ifdef _FOLDER_BROWSE_
                            26572 ; 379  |typedef struct _ml_DirInfo {
                            26573 ; 380  |        uint24  u8Unicode : 8;
                            26574 ; 381  |        uint24  u12DirDepth : 12;
                            26575 ; 382  |        uint24  u4Added : 4;            
                            26576 ; 383  |        INT     iDirRecord;
                            26577 ; 384  |        DWORD   dwFastKey;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 441

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26578 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            26579 ; 386  |} ML_DIRINFO_T;
                            26580 ; 387  |#endif  // _FOLDER_BROWSE_
                            26581 ; 388  |
                            26582 ; 389  |/*========================================================================================
                                  ==========
                            26583 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            26584 ; 391  |==========================================================================================
                                  ========*/
                            26585 ; 392  |extern uint24   IsPlayOnTheGo;
                            26586 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            26587 ; 394  |extern uint24   merge_id_list_flash[];
                            26588 ; 395  |extern uint24   merge_id_list_sd[];
                            26589 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            26590 ; 397  |#ifdef _FOLDER_BROWSE_
                            26591 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            26592 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            26593 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            26594 ; 401  |#endif  // _FOLDER_BROWSE_
                            26595 ; 402  |extern INT _X    *sec_temp_buf_X;
                            26596 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 =
                                   repeat on/off(0=off/1=on) */
                            26597 ; 404  |
                            26598 ; 405  |/*========================================================================================
                                  ==========
                            26599 ; 406  |                                        FUNCTION PROTOTYPES
                            26600 ; 407  |==========================================================================================
                                  ========*/
                            26601 ; 408  |
                            26602 ; 409  |///////////////////////////////////////////////////////////////////////
                            26603 ; 410  |//! \brief
                            26604 ; 411  |//!
                            26605 ; 412  |//! \fntype Function
                            26606 ; 413  |//!
                            26607 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            26608 ; 415  |//! Call only once before inserting items. Call once for each media.
                            26609 ; 416  |//!
                            26610 ; 417  |//! \param[in]  none
                            26611 ; 418  |//!
                            26612 ; 419  |//! \return
                            26613 ; 420  |//!
                            26614 ; 421  |///////////////////////////////////////////////////////////////////////
                            26615 ; 422  |void ML_InitLibraryParameter(void);
                            26616 ; 423  |
                            26617 ; 424  |///////////////////////////////////////////////////////////////////////
                            26618 ; 425  |//! \brief
                            26619 ; 426  |//!
                            26620 ; 427  |//! \fntype Function
                            26621 ; 428  |//!
                            26622 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            26623 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            26624 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each son
                                  g,
                            26625 ; 432  |//! the song information is recorded in music library.
                            26626 ; 433  |//!
                            26627 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            26628 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passe
                                  d from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            26629 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav f
                                  ormat file.
                            26630 ; 437  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 442

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26631 ; 438  |//! \return
                            26632 ; 439  |//!
                            26633 ; 440  |///////////////////////////////////////////////////////////////////////
                            26634 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            26635 ; 442  |
                            26636 ; 443  |///////////////////////////////////////////////////////////////////////
                            26637 ; 444  |//! \brief
                            26638 ; 445  |//!
                            26639 ; 446  |//! \fntype Function
                            26640 ; 447  |//!
                            26641 ; 448  |//! \param[in]
                            26642 ; 449  |//!
                            26643 ; 450  |//! \return
                            26644 ; 451  |//!
                            26645 ; 452  |///////////////////////////////////////////////////////////////////////
                            26646 ; 453  |#ifdef _FOLDER_BROWSE_
                            26647 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int1
                                  6 i16Option);
                            26648 ; 455  |#endif  // _FOLDER_BROWSE_
                            26649 ; 456  |
                            26650 ; 457  |///////////////////////////////////////////////////////////////////////
                            26651 ; 458  |//! \brief
                            26652 ; 459  |//!
                            26653 ; 460  |//! \fntype Function
                            26654 ; 461  |//!
                            26655 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            26656 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            26657 ; 464  |//! music library for that particular media.
                            26658 ; 465  |//!
                            26659 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            26660 ; 467  |//!
                            26661 ; 468  |//! \return
                            26662 ; 469  |//!
                            26663 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            26664 ; 471  |//!         function.
                            26665 ; 472  |///////////////////////////////////////////////////////////////////////
                            26666 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            26667 ; 474  |
                            26668 ; 475  |///////////////////////////////////////////////////////////////////////
                            26669 ; 476  |//! \brief
                            26670 ; 477  |//!
                            26671 ; 478  |//! \fntype Function
                            26672 ; 479  |//!
                            26673 ; 480  |//! \param[in]
                            26674 ; 481  |//!
                            26675 ; 482  |//! \return
                            26676 ; 483  |//!
                            26677 ; 484  |///////////////////////////////////////////////////////////////////////
                            26678 ; 485  |#ifdef _NEWMUSIC_
                            26679 ; 486  |void ML_UpdateNewMusic(void);
                            26680 ; 487  |#endif
                            26681 ; 488  |
                            26682 ; 489  |///////////////////////////////////////////////////////////////////////
                            26683 ; 490  |//! \brief
                            26684 ; 491  |//!
                            26685 ; 492  |//! \fntype Function
                            26686 ; 493  |//!
                            26687 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            26688 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            26689 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            26690 ; 497  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 443

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26691 ; 498  |//! \param[in]  none
                            26692 ; 499  |//!
                            26693 ; 500  |//! \return
                            26694 ; 501  |//!
                            26695 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            26696 ; 503  |//!         must be called before calling any other music library functions.
                            26697 ; 504  |///////////////////////////////////////////////////////////////////////
                            26698 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            26699 ; 506  |
                            26700 ; 507  |///////////////////////////////////////////////////////////////////////
                            26701 ; 508  |//! \brief
                            26702 ; 509  |//!
                            26703 ; 510  |//! \fntype Function
                            26704 ; 511  |//!
                            26705 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            26706 ; 513  |//! library operation.
                            26707 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            26708 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file
                                   and the
                            26709 ; 516  |//! music.sec file do not exist.
                            26710 ; 517  |//!
                            26711 ; 518  |//! \param[in]  none
                            26712 ; 519  |//!
                            26713 ; 520  |//! \return
                            26714 ; 521  |//!
                            26715 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            26716 ; 523  |//!         must be called before calling any other music library functions.
                            26717 ; 524  |///////////////////////////////////////////////////////////////////////
                            26718 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            26719 ; 526  |
                            26720 ; 527  |///////////////////////////////////////////////////////////////////////
                            26721 ; 528  |//! \brief
                            26722 ; 529  |//!
                            26723 ; 530  |//! \fntype Function
                            26724 ; 531  |//!
                            26725 ; 532  |//! Preload the list, prepare for renew.
                            26726 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            26727 ; 534  |//! structure in RAM.
                            26728 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            26729 ; 536  |//! in RAM.
                            26730 ; 537  |//!
                            26731 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            26732 ; 539  |//!
                            26733 ; 540  |//! \return
                            26734 ; 541  |//!
                            26735 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            26736 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            26737 ; 544  |///////////////////////////////////////////////////////////////////////
                            26738 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            26739 ; 546  |
                            26740 ; 547  |///////////////////////////////////////////////////////////////////////
                            26741 ; 548  |//! \brief
                            26742 ; 549  |//!
                            26743 ; 550  |//! \fntype Function
                            26744 ; 551  |//!
                            26745 ; 552  |//! Save the list to flash memory.
                            26746 ; 553  |//!
                            26747 ; 554  |//! \param[in]
                            26748 ; 555  |//!
                            26749 ; 556  |//! \return
                            26750 ; 557  |//!
                            26751 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 444

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26752 ; 559  |//!         changed by the user.
                            26753 ; 560  |///////////////////////////////////////////////////////////////////////
                            26754 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            26755 ; 562  |
                            26756 ; 563  |///////////////////////////////////////////////////////////////////////
                            26757 ; 564  |//! \brief
                            26758 ; 565  |//!
                            26759 ; 566  |//! \fntype Function
                            26760 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            26761 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in
                                   the
                            26762 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the l
                                  ist.
                            26763 ; 570  |//! Otherwise the song is deleted.
                            26764 ; 571  |//!
                            26765 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            26766 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            26767 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            26768 ; 575  |//!
                            26769 ; 576  |//! \return
                            26770 ; 577  |//!
                            26771 ; 578  |///////////////////////////////////////////////////////////////////////
                            26772 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            26773 ; 580  |
                            26774 ; 581  |///////////////////////////////////////////////////////////////////////
                            26775 ; 582  |//! \brief
                            26776 ; 583  |//!
                            26777 ; 584  |//! \fntype Function
                            26778 ; 585  |//!
                            26779 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            26780 ; 587  |//! in the ML_UpdateOnTheGo().
                            26781 ; 588  |//!
                            26782 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            26783 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDE
                                  X_EOF (song will be deleted)
                            26784 ; 591  |//!
                            26785 ; 592  |//! \return
                            26786 ; 593  |//!
                            26787 ; 594  |///////////////////////////////////////////////////////////////////////
                            26788 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            26789 ; 596  |
                            26790 ; 597  |///////////////////////////////////////////////////////////////////////
                            26791 ; 598  |//! \brief
                            26792 ; 599  |//!
                            26793 ; 600  |//! \fntype Function
                            26794 ; 601  |//!
                            26795 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            26796 ; 603  |//!
                            26797 ; 604  |//! \param[in]  none
                            26798 ; 605  |//!
                            26799 ; 606  |//! \return
                            26800 ; 607  |//!
                            26801 ; 608  |///////////////////////////////////////////////////////////////////////
                            26802 ; 609  |void ML_UpdateOnTheGo(void);
                            26803 ; 610  |
                            26804 ; 611  |///////////////////////////////////////////////////////////////////////
                            26805 ; 612  |//! \brief
                            26806 ; 613  |//!
                            26807 ; 614  |//! \fntype Function
                            26808 ; 615  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 445

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26809 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            26810 ; 617  |//! Call only once before inserting items. Call once for each media.
                            26811 ; 618  |//!
                            26812 ; 619  |//! \param[in]  none
                            26813 ; 620  |//!
                            26814 ; 621  |//! \return
                            26815 ; 622  |//!
                            26816 ; 623  |///////////////////////////////////////////////////////////////////////
                            26817 ; 624  |void ML_InitVoiceParameter(void);
                            26818 ; 625  |
                            26819 ; 626  |///////////////////////////////////////////////////////////////////////
                            26820 ; 627  |//! \brief
                            26821 ; 628  |//!
                            26822 ; 629  |//! \fntype Function
                            26823 ; 630  |//!
                            26824 ; 631  |//! \param[in]
                            26825 ; 632  |//!
                            26826 ; 633  |//! \return
                            26827 ; 634  |//!
                            26828 ; 635  |///////////////////////////////////////////////////////////////////////
                            26829 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            26830 ; 637  |
                            26831 ; 638  |///////////////////////////////////////////////////////////////////////
                            26832 ; 639  |//! \brief
                            26833 ; 640  |//!
                            26834 ; 641  |//! \fntype Function
                            26835 ; 642  |//!
                            26836 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            26837 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names
                                  .
                            26838 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            26839 ; 646  |//!
                            26840 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            26841 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed f
                                  rom UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            26842 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            26843 ; 650  |//!
                            26844 ; 651  |//! \return
                            26845 ; 652  |//!
                            26846 ; 653  |///////////////////////////////////////////////////////////////////////
                            26847 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            26848 ; 655  |
                            26849 ; 656  |///////////////////////////////////////////////////////////////////////
                            26850 ; 657  |//! \brief
                            26851 ; 658  |//!
                            26852 ; 659  |//! \fntype Function
                            26853 ; 660  |//!
                            26854 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            26855 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice buildi
                                  ng
                            26856 ; 663  |//! of music library for that particular media.
                            26857 ; 664  |//!
                            26858 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            26859 ; 666  |//!
                            26860 ; 667  |//! \return
                            26861 ; 668  |//!
                            26862 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            26863 ; 670  |//!         function.
                            26864 ; 671  |///////////////////////////////////////////////////////////////////////
                            26865 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            26866 ; 673  |
                            26867 ; 674  |///////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 446

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26868 ; 675  |//! \brief
                            26869 ; 676  |//!
                            26870 ; 677  |//! \fntype Function
                            26871 ; 678  |//!
                            26872 ; 679  |//! Called by UI, the merge the music library tables album,
                            26873 ; 680  |//! artist, genre, song and year.
                            26874 ; 681  |//!
                            26875 ; 682  |//! \param[in]  none
                            26876 ; 683  |//!
                            26877 ; 684  |//! \return
                            26878 ; 685  |//!
                            26879 ; 686  |///////////////////////////////////////////////////////////////////////
                            26880 ; 687  |void ML_MergeLibraryTables(void);
                            26881 ; 688  |
                            26882 ; 689  |///////////////////////////////////////////////////////////////////////
                            26883 ; 690  |//! \brief
                            26884 ; 691  |//!
                            26885 ; 692  |//! \fntype Function
                            26886 ; 693  |//!
                            26887 ; 694  |//! Called by UI, the merge the music library tables album,
                            26888 ; 695  |//! artist, genre, song and year.
                            26889 ; 696  |//!
                            26890 ; 697  |//! \param[in]  none
                            26891 ; 698  |//!
                            26892 ; 699  |//! \return
                            26893 ; 700  |//!
                            26894 ; 701  |///////////////////////////////////////////////////////////////////////
                            26895 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            26896 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            26897 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            26898 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            26899 ; 706  |
                            26900 ; 707  |///////////////////////////////////////////////////////////////////////
                            26901 ; 708  |//! \brief
                            26902 ; 709  |//!
                            26903 ; 710  |//! \fntype Function
                            26904 ; 711  |//!
                            26905 ; 712  |//! \param[in]
                            26906 ; 713  |//!
                            26907 ; 714  |//! \return
                            26908 ; 715  |//!
                            26909 ; 716  |///////////////////////////////////////////////////////////////////////
                            26910 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            26911 ; 718  |
                            26912 ; 719  |/*========================================================================================
                                  ========*/
                            26913 ; 720  |
                            26914 ; 721  |// Siukoon 2005-02-28
                            26915 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            26916 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            26917 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            26918 ; 725  |#else
                            26919 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            26920 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            26921 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            26922 ; 729  |#define WORD_PER_SECTOR             (171)
                            26923 ; 730  |#define BYTE_PER_SECTOR             (512)
                            26924 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            26925 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PE
                                  R_SECTOR)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 447

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26926 ; 733  |
                            26927 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            26928 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            26929 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_B
                                  YTE_PER_SECTOR)
                            26930 ; 737  |
                            26931 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            26932 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            26933 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            26934 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            26935 ; 742  |
                            26936 ; 743  |/////////////////////
                            26937 ; 744  |
                            26938 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            26939 ; 746  |
                            26940 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            26941 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            26942 ; 749  |#else
                            26943 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            26944 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            26945 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                                  
                            26946 ; 753  |
                            26947 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            26948 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            26949 ; 756  |
                            26950 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            26951 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            26952 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            26953 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            26954 ; 761  |#else
                            26955 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            26956 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            26957 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            26958 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            26959 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            26960 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            26961 ; 768  |
                            26962 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            26963 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            26964 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            26965 ; 772  |#else
                            26966 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG
                                  _PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            26967 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            26968 ; 775  |
                            26969 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            26970 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SI
                                  ZE_IN_BYTE)
                            26971 ; 778  |
                            26972 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            26973 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            26974 ; 781  |
                            26975 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            26976 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            26977 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            26978 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            26979 ; 786  |#else
                            26980 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            26981 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            26982 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            26983 ; 790  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 448

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26984 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            26985 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6
                                  )
                            26986 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            26987 ; 794  |#else
                            26988 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            26989 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            26990 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            26991 ; 798  |
                            26992 ; 799  |#ifdef __cplusplus
                            26993 ; 800  |}
                            26994 ; 801  |#endif
                            26995 ; 802  |
                            26996 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            26997 
                            26999 
                            27000 ; 5    |#ifdef _FOLDER_BROWSE_
                            27001 ; 6    |#define BROWSE_MAX_LEVEL    8
                            27002 ; 7    |#else
                            27003 ; 8    |#define BROWSE_MAX_LEVEL    3
                            27004 ; 9    |#endif  // _FOLDER_BROWSE_
                            27005 ; 10   |
                            27006 ; 11   |typedef struct _disp_year_list_arg
                            27007 ; 12   |{
                            27008 ; 13   |    int                 iHighLightedItem;
                            27009 ; 14   |    FLASH_GROUP_NAME_T* browse_item_name;
                            27010 ; 15   |    int                 num_of_item;
                            27011 ; 16   |    int                 window_offset;
                            27012 ; 17   |    BOOL                bHavePlayAll;
                            27013 ; 18   |} DISP_YEAR_LIST_ARG_T;
                            27014 ; 19   |
                            27015 ; 20   |typedef struct _browsemenu_init_arg
                            27016 ; 21   |{
                            27017 ; 22   |    INT     browse_type;
                            27018 ; 23   |    INT     browse_lv;
                            27019 ; 24   |    INT*    pbrowse_max_lv;
                            27020 ; 25   |    INT*    num_of_item;
                            27021 ; 26   |    BOOL*   bHaveNext;
                            27022 ; 27   |} BROWSEMENU_INIT_ARG_T;
                            27023 ; 28   |
                            27024 ; 29   |extern BOOL g_bDeleteBrowse;
                            27025 ; 30   |extern BOOL bPlayVoice;
                            27026 ; 31   |extern BOOL bFavoritesUpdate;
                            27027 ; 32   |
                            27028 ; 33   |
                            27029 ; 34   |#endif  /* BROWSEMENU_H */
                            27030 
                            27032 
                            27033 ; 37   |#else
                            27034 ; 38   |#ifdef  USE_PLAYLIST5
                            27035 ; 39   |#include "playlist5.h"
                            27036 ; 40   |#endif
                            27037 ; 41   |#endif
                            27038 ; 42   |#endif
                            27039 ; 43   |#endif
                            27040 ; 44   |
                            27041 ; 45   |#include "playerlib.h"
                            27042 
                            27044 
                            27045 ; 1    |#ifndef _PLAYERLIB_H
                            27046 ; 2    |#define _PLAYERLIB_H
                            27047 ; 3    |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 449

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27048 ; 4    |#include "types.h"
                            27049 
                            27051 
                            27052 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            27053 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            27054 ; 3    |//
                            27055 ; 4    |// Filename: types.h
                            27056 ; 5    |// Description: Standard data types
                            27057 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            27058 ; 7    |
                            27059 ; 8    |#ifndef _TYPES_H
                            27060 ; 9    |#define _TYPES_H
                            27061 ; 10   |
                            27062 ; 11   |// TODO:  move this outta here!
                            27063 ; 12   |#if !defined(NOERROR)
                            27064 ; 13   |#define NOERROR 0
                            27065 ; 14   |#define SUCCESS 0
                            27066 ; 15   |#endif 
                            27067 ; 16   |#if !defined(SUCCESS)
                            27068 ; 17   |#define SUCCESS  0
                            27069 ; 18   |#endif
                            27070 ; 19   |#if !defined(ERROR)
                            27071 ; 20   |#define ERROR   -1
                            27072 ; 21   |#endif
                            27073 ; 22   |#if !defined(FALSE)
                            27074 ; 23   |#define FALSE 0
                            27075 ; 24   |#endif
                            27076 ; 25   |#if !defined(TRUE)
                            27077 ; 26   |#define TRUE  1
                            27078 ; 27   |#endif
                            27079 ; 28   |
                            27080 ; 29   |#if !defined(NULL)
                            27081 ; 30   |#define NULL 0
                            27082 ; 31   |#endif
                            27083 ; 32   |
                            27084 ; 33   |#define MAX_INT     0x7FFFFF
                            27085 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            27086 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            27087 ; 36   |#define MAX_ULONG   (-1) 
                            27088 ; 37   |
                            27089 ; 38   |#define WORD_SIZE   24              // word size in bits
                            27090 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            27091 ; 40   |
                            27092 ; 41   |
                            27093 ; 42   |#define BYTE    unsigned char       // btVarName
                            27094 ; 43   |#define CHAR    signed char         // cVarName
                            27095 ; 44   |#define USHORT  unsigned short      // usVarName
                            27096 ; 45   |#define SHORT   unsigned short      // sVarName
                            27097 ; 46   |#define WORD    unsigned int        // wVarName
                            27098 ; 47   |#define INT     signed int          // iVarName
                            27099 ; 48   |#define DWORD   unsigned long       // dwVarName
                            27100 ; 49   |#define LONG    signed long         // lVarName
                            27101 ; 50   |#define BOOL    unsigned int        // bVarName
                            27102 ; 51   |#define FRACT   _fract              // frVarName
                            27103 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            27104 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            27105 ; 54   |#define FLOAT   float               // fVarName
                            27106 ; 55   |#define DBL     double              // dVarName
                            27107 ; 56   |#define ENUM    enum                // eVarName
                            27108 ; 57   |#define CMX     _complex            // cmxVarName
                            27109 ; 58   |typedef WORD UCS3;                   // 
                            27110 ; 59   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 450

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27111 ; 60   |#define UINT16  unsigned short
                            27112 ; 61   |#define UINT8   unsigned char   
                            27113 ; 62   |#define UINT32  unsigned long
                            27114 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            27115 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            27116 ; 65   |#define WCHAR   UINT16
                            27117 ; 66   |
                            27118 ; 67   |//UINT128 is 16 bytes or 6 words
                            27119 ; 68   |typedef struct UINT128_3500 {   
                            27120 ; 69   |    int val[6];     
                            27121 ; 70   |} UINT128_3500;
                            27122 ; 71   |
                            27123 ; 72   |#define UINT128   UINT128_3500
                            27124 ; 73   |
                            27125 ; 74   |// Little endian word packed byte strings:   
                            27126 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            27127 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            27128 ; 77   |// Little endian word packed byte strings:   
                            27129 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            27130 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            27131 ; 80   |
                            27132 ; 81   |// Declare Memory Spaces To Use When Coding
                            27133 ; 82   |// A. Sector Buffers
                            27134 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            27135 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            27136 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            27137 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            27138 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            27139 ; 88   |// B. Media DDI Memory
                            27140 ; 89   |#define MEDIA_DDI_MEM _Y
                            27141 ; 90   |
                            27142 ; 91   |
                            27143 ; 92   |
                            27144 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            27145 ; 94   |// Examples of circular pointers:
                            27146 ; 95   |//    INT CIRC cpiVarName
                            27147 ; 96   |//    DWORD CIRC cpdwVarName
                            27148 ; 97   |
                            27149 ; 98   |#define RETCODE INT                 // rcVarName
                            27150 ; 99   |
                            27151 ; 100  |// generic bitfield structure
                            27152 ; 101  |struct Bitfield {
                            27153 ; 102  |    unsigned int B0  :1;
                            27154 ; 103  |    unsigned int B1  :1;
                            27155 ; 104  |    unsigned int B2  :1;
                            27156 ; 105  |    unsigned int B3  :1;
                            27157 ; 106  |    unsigned int B4  :1;
                            27158 ; 107  |    unsigned int B5  :1;
                            27159 ; 108  |    unsigned int B6  :1;
                            27160 ; 109  |    unsigned int B7  :1;
                            27161 ; 110  |    unsigned int B8  :1;
                            27162 ; 111  |    unsigned int B9  :1;
                            27163 ; 112  |    unsigned int B10 :1;
                            27164 ; 113  |    unsigned int B11 :1;
                            27165 ; 114  |    unsigned int B12 :1;
                            27166 ; 115  |    unsigned int B13 :1;
                            27167 ; 116  |    unsigned int B14 :1;
                            27168 ; 117  |    unsigned int B15 :1;
                            27169 ; 118  |    unsigned int B16 :1;
                            27170 ; 119  |    unsigned int B17 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 451

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27171 ; 120  |    unsigned int B18 :1;
                            27172 ; 121  |    unsigned int B19 :1;
                            27173 ; 122  |    unsigned int B20 :1;
                            27174 ; 123  |    unsigned int B21 :1;
                            27175 ; 124  |    unsigned int B22 :1;
                            27176 ; 125  |    unsigned int B23 :1;
                            27177 ; 126  |};
                            27178 ; 127  |
                            27179 ; 128  |union BitInt {
                            27180 ; 129  |        struct Bitfield B;
                            27181 ; 130  |        int        I;
                            27182 ; 131  |};
                            27183 ; 132  |
                            27184 ; 133  |#define MAX_MSG_LENGTH 10
                            27185 ; 134  |struct CMessage
                            27186 ; 135  |{
                            27187 ; 136  |        unsigned int m_uLength;
                            27188 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            27189 ; 138  |};
                            27190 ; 139  |
                            27191 ; 140  |typedef struct {
                            27192 ; 141  |    WORD m_wLength;
                            27193 ; 142  |    WORD m_wMessage;
                            27194 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            27195 ; 144  |} Message;
                            27196 ; 145  |
                            27197 ; 146  |struct MessageQueueDescriptor
                            27198 ; 147  |{
                            27199 ; 148  |        int *m_pBase;
                            27200 ; 149  |        int m_iModulo;
                            27201 ; 150  |        int m_iSize;
                            27202 ; 151  |        int *m_pHead;
                            27203 ; 152  |        int *m_pTail;
                            27204 ; 153  |};
                            27205 ; 154  |
                            27206 ; 155  |struct ModuleEntry
                            27207 ; 156  |{
                            27208 ; 157  |    int m_iSignaledEventMask;
                            27209 ; 158  |    int m_iWaitEventMask;
                            27210 ; 159  |    int m_iResourceOfCode;
                            27211 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            27212 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            27213 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            27214 ; 163  |    int m_uTimeOutHigh;
                            27215 ; 164  |    int m_uTimeOutLow;
                            27216 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            27217 ; 166  |};
                            27218 ; 167  |
                            27219 ; 168  |union WaitMask{
                            27220 ; 169  |    struct B{
                            27221 ; 170  |        unsigned int m_bNone     :1;
                            27222 ; 171  |        unsigned int m_bMessage  :1;
                            27223 ; 172  |        unsigned int m_bTimer    :1;
                            27224 ; 173  |        unsigned int m_bButton   :1;
                            27225 ; 174  |    } B;
                            27226 ; 175  |    int I;
                            27227 ; 176  |} ;
                            27228 ; 177  |
                            27229 ; 178  |
                            27230 ; 179  |struct Button {
                            27231 ; 180  |        WORD wButtonEvent;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 452

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27232 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            27233 ; 182  |};
                            27234 ; 183  |
                            27235 ; 184  |struct Message {
                            27236 ; 185  |        WORD wMsgLength;
                            27237 ; 186  |        WORD wMsgCommand;
                            27238 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            27239 ; 188  |};
                            27240 ; 189  |
                            27241 ; 190  |union EventTypes {
                            27242 ; 191  |        struct CMessage msg;
                            27243 ; 192  |        struct Button Button ;
                            27244 ; 193  |        struct Message Message;
                            27245 ; 194  |};
                            27246 ; 195  |
                            27247 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            27248 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            27249 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            27250 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            27251 ; 200  |
                            27252 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            27253 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            27254 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            27255 ; 204  |
                            27256 ; 205  |#if DEBUG
                            27257 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            27258 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            27259 ; 208  |#else 
                            27260 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            27261 ; 210  |#define DebugBuildAssert(x)    
                            27262 ; 211  |#endif
                            27263 ; 212  |
                            27264 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            27265 ; 214  |//  #pragma asm
                            27266 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            27267 ; 216  |//  #pragma endasm
                            27268 ; 217  |
                            27269 ; 218  |
                            27270 ; 219  |#ifdef COLOR_262K
                            27271 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            27272 ; 221  |#elif defined(COLOR_65K)
                            27273 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            27274 ; 223  |#else
                            27275 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            27276 ; 225  |#endif
                            27277 ; 226  |    
                            27278 ; 227  |#endif // #ifndef _TYPES_H
                            27279 
                            27281 
                            27282 ; 5    |#include "playlist.h"
                            27283 
                            27285 
                            27286 ; 1    |#ifndef PLAYLIST_H
                            27287 ; 2    |#define PLAYLIST_H
                            27288 ; 3    |
                            27289 ; 4    |#include "types.h"
                            27290 ; 5    |
                            27291 ; 6    |typedef struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 453

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27292 ; 7    |    WORD    m_wTrack;                       
                            27293 ; 8    |    WORD    m_wDeviceID;
                            27294 ; 9    |    WORD    m_wBufferLength;            //this is in BYTES, not WORDS!
                            27295 ; 10   |    _packed BYTE *m_pFilename;
                            27296 ; 11   |} SONGFILEINFO;
                            27297 ; 12   |
                            27298 ; 13   |#define PLAYLIST_SUCCESS                                0
                            27299 ; 14   |#define PLAYLIST_FILE_ERROR                             1
                            27300 ; 15   |#define PLAYLIST_END_OF_LIST                    2
                            27301 ; 16   |#define PLAYLIST_TRACK_NOT_FOUND                3
                            27302 ; 17   |#define PLAYLIST_DIR_NOT_EMPTY          4 
                            27303 ; 18   |#define PLAYLIST_REBUILD                5
                            27304 ; 19   |#define PLAYLIST_LAST_RETCODE                   5               //The value should always 
                                  be the same as the last RETCODE
                            27305 ; 20   |
                            27306 ; 21   |
                            27307 ; 22   |#ifdef  USE_PLAYLIST1
                            27308 ; 23   |RETCODE ChangeDIRtoFileEntryDir(struct FileEntry *pCurrentEntry, _packed BYTE * buffer);
                            27309 ; 24   |#endif
                            27310 ; 25   |RETCODE _reentrant Playlist_LFNGetFileName(int,int,UCS3*);                      //UCS3 is 
                                  actually typdef WORD
                            27311 ; 26   |RETCODE _reentrant Playlist_MarkCurrentSongPlayed(int,int,int*);
                            27312 ; 27   |RETCODE _reentrant Playlist_GetCurrentSongFileInfo(int, int, int*);
                            27313 ; 28   |RETCODE _reentrant Playlist_GetNextSongFileInfo(int, int , int*);
                            27314 ; 29   |RETCODE _reentrant Playlist_GetPreviousSongFileInfo(int,int,int*);
                            27315 ; 30   |#ifdef USE_PLAYLIST1
                            27316 ; 31   |_reentrant INT Playlist_LocateEntryFromName(INT,INT,INT*);
                            27317 ; 32   |#endif
                            27318 ; 33   |
                            27319 ; 34   |#endif 
                            27320 
                            27322 
                            27323 ; 6    |
                            27324 ; 7    |#define DECODER_STATE_STOP          0
                            27325 ; 8    |#define DECODER_STATE_PLAY          1
                            27326 ; 9    |#define DECODER_STATE_PAUSE         2
                            27327 ; 10   |#define DECODER_STATE_TOGGLE    4
                            27328 ; 11   |
                            27329 ; 12   |#define PLAYERLIB_SUCCESS       0
                            27330 ; 13   |#define PLAYERLIB_BAD_FILE      1
                            27331 ; 14   |#define PLAYERLIB_ERROR         2
                            27332 ; 15   |#define PLAYERLIB_END_OF_LIST   3
                            27333 ; 16   |
                            27334 ; 17   |//These are in the DecoderSR/DecoderCSR
                            27335 ; 18   |#define DECODER_PAUSED          1<<5
                            27336 ; 19   |#define DECODER_STOPPED         1<<6
                            27337 ; 20   |#define DECODER_SYNCED          1<<10
                            27338 ; 21   |#define DECODER_PLAYING         1<<12
                            27339 ; 22   |#define DECODER_SONG_INFO       1<<15
                            27340 ; 23   |#define DECODER_FILE_IS_OPEN    1<<16
                            27341 ; 24   |#define DECODER_A_SET           1<<18
                            27342 ; 25   |#define DECODER_B_SET           1<<19
                            27343 ; 26   |#define DECODER_BAD_FILE        1<<21
                            27344 ; 27   |#define DECODER_LOOKING_FOR_SYNC 1<<22
                            27345 ; 28   |
                            27346 ; 29   |//PrevSong Message Parameters
                            27347 ; 30   |#define PREVSONG_STOP        0             //PrevSong + Stopped
                            27348 ; 31   |#define PREVSONG_PLAY        1<<0          //PrevSong + Play
                            27349 ; 32   |#define PREVSONG_RWND        1<<1          //PrevSong + Rwnd
                            27350 ; 33   |//NextSong Message Parameters
                            27351 ; 34   |#define NEXTSONG_STOP        0             //NextSong + Stopped
                            27352 ; 35   |#define NEXTSONG_PLAY_EOF    1             //NextSong + Play + EOF reached
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 454

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27353 ; 36   |#define NEXTSONG_PLAY_BUTTON 3             //NextSong + Play + BUTTON pressed
                            27354 ; 37   |#define NEXTSONG_FFWD        4             //NextSong + Ffwd
                            27355 ; 38   |#define NEXTSONG_DELETE_MENU 5             //NextSong via delete menu
                            27356 ; 39   |//CurrentSong Message Parameters
                            27357 ; 40   |#define CURRENTSONG_DELETE_MENU 1          //CurrentSong via delete menu
                            27358 ; 41   |
                            27359 ; 42   |#ifdef USE_PLAYLIST3
                            27360 ; 43   |extern DWORD    g_CurrentSongFastkey;
                            27361 ; 44   |#endif  // USE_PLAYLIST3
                            27362 ; 45   |
                            27363 ; 46   |#ifdef USE_PLAYLIST5
                            27364 ; 47   |extern long g_CurrentFastKey;
                            27365 ; 48   |#endif //USE_PLAYLIST5
                            27366 ; 49   |RETCODE _reentrant PlayerLib_SetState (int iState,int bWait,int*);  
                            27367 ; 50   |RETCODE _reentrant PlayerLib_FastForward (int bPlayDuring,int,int*);
                            27368 ; 51   |RETCODE _reentrant PlayerLib_Rewind(int bPlayDuring,int,int*);
                            27369 ; 52   |RETCODE _reentrant PlayerLib_SetSongName(int bStartPlaying, int, SONGFILEINFO*);
                            27370 
                            27379 
                            27380 ; 53   |RETCODE _reentrant PlayerLib_GetCurrentSong(WORD wMode,int ignored1,int*ignored2);
                            27381 ; 54   |RETCODE _reentrant PlayerLib_SkipToNextSong(WORD,WORD,int*);
                            27382 ; 55   |RETCODE _reentrant PlayerLib_SkipToPreviousSong(WORD,WORD,int*);
                            27383 ; 56   |RETCODE _reentrant PlayerLib_EnablePlaylist(int bTrueFalse,int,int*);  
                            27384 ; 57   |RETCODE _reentrant PlayerLib_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                            27385 ; 58   |DWORD _reentrant PlayerLib_GetSongPosition(void);
                            27386 ; 59   |RETCODE _reentrant PlayerLib_SetSongPosition(DWORD dwSongPos);
                            27387 ; 60   |////////////////////Bookmarking functions///////////////////////////////
                            27388 ; 61   |RETCODE _reentrant PlayerLib_ResetBookmark(int iCurrentPlayset, int ignored, int* pPtr);
                            27389 ; 62   |RETCODE _reentrant PlayerLib_SetBookmark(int iCurrentPlayset, int iTracknum,int* pPtr);
                            27390 ; 63   |RETCODE _reentrant PlayerLib_GotoTrack(int iTracknum, int ignored, int* ptr);
                            27391 ; 64   |RETCODE _reentrant PlayerLib_GetBookmarkSongInfo(int iCurrentPlayset, int ignored2, int* p
                                  Ptr);
                            27392 ; 65   |#ifdef USE_PLAYLIST3
                            27393 ; 66   |RETCODE _reentrant PlayerLib_GetCurrentSong_ML(WORD wMode,int ignored1,int*ignored2);
                            27394 ; 67   |#endif // #ifdef USE_PLAYLIST3
                            27395 ; 68   |
                            27396 ; 69   |#endif 
                            27397 
                            27399 
                            27400 ; 46   |#include "syscoder.h"   //for extern unsigned int _Y g_wCurrentSongNumber;
                            27401 
                            27403 
                            27404 ; 1    |//;///////////////////////////////////////////////////////////////////////////////
                            27405 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2001
                            27406 ; 3    |//;
                            27407 ; 4    |//; Filename: syscoder.xref
                            27408 ; 5    |//; Description: Global refs from syscoder.asm
                            27409 ; 6    |//;///////////////////////////////////////////////////////////////////////////////
                            27410 ; 7    |
                            27411 ; 8    |#ifndef SYSCODER_XREF_C
                            27412 ; 9    |#define SYSCODER_XREF_C
                            27413 ; 10   |
                            27414 ; 11   |typedef struct {
                            27415 ; 12   |    WORD wMinutes;
                            27416 ; 13   |    WORD wSeconds;
                            27417 ; 14   |}SONGTIME;
                            27418 ; 15   |
                            27419 ; 16   |// Functions  
                            27420 ; 17   |extern _fract       _Y g_frSongSecondsPerByte;
                            27421 ; 18   |extern unsigned int _Y g_wSongCurrentMinutes;
                            27422 ; 19   |extern unsigned int _Y g_wSongCurrentSeconds;
                            27423 ; 20   |extern unsigned int _Y g_wSongTotalMinutes;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 455

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27424 ; 21   |extern unsigned int _Y g_wSongTotalSeconds;
                            27425 ; 22   |extern unsigned int _Y g_wSongRemainMinutes; 
                            27426 ; 23   |extern unsigned int _Y g_wSongRemainSeconds;
                            27427 ; 24   |extern unsigned int _Y g_wCurrentSongNumber;
                            27428 ; 25   |extern unsigned int _Y g_wTotalSongCount;
                            27429 ; 26   |
                            27430 ; 27   |extern unsigned int _Y g_wAccumulatedSecs;    // Added for mp3 VBR support.
                            27431 ; 28   |extern unsigned int _Y g_wAccumulatedMSecs;
                            27432 
                            27437 
                            27438 ; 29   |
                            27439 ; 30   |extern _asmfunc SONGTIME DecGetCurrentTime(void);
                            27440 ; 31   |extern _asmfunc DWORD DecGetSongPos(void);
                            27441 ; 32   |extern _asmfunc RETCODE DecSetSongPos(DWORD);
                            27442 ; 33   |extern _asmfunc void DecSetSongPosZero(void);
                            27443 ; 34   |extern _asmfunc void DecSetSongPosEnd(void);
                            27444 ; 35   |extern _asmfunc void DecClearSongTime(void);
                            27445 ; 36   |extern _asmfunc void SysSetDecoderResource(INT);
                            27446 ; 37   |
                            27447 ; 38   |#endif // SYSCODER_XREF
                            27448 ; 39   |
                            27449 ; 40   |
                            27450 ; 41   |
                            27451 ; 42   |
                            27452 
                            27454 
                            27455 ; 47   |#include "metadata.h"
                            27456 
                            27458 
                            27459 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            27460 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            27461 ; 3    |//
                            27462 ; 4    |// Filename: metadata.h
                            27463 ; 5    |// Description:
                            27464 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            27465 ; 7    |
                            27466 ; 8    |#ifndef _METADATA_H
                            27467 ; 9    |#define _METADATA_H
                            27468 ; 10   |
                            27469 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            27470 ; 12   |// MetaData definitions
                            27471 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            27472 ; 14   |
                            27473 ; 15   |//#define MMC_CMD59       0x40|59
                            27474 ; 16   |
                            27475 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            27476 ; 18   |// Meta Data structure definitions
                            27477 ; 19   |///////////////////////////////////////////////////////////////////////////////
                            27478 ; 20   |
                            27479 ; 21   |///////////////////////////////////////////////////////////////////////////////
                            27480 ; 22   |// MetaData definitions
                            27481 ; 23   |
                            27482 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                            27483 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                            27484 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            27485 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                            27486 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                            27487 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                            27488 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                            27489 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                            27490 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
                            27491 ; 33   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 456

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27492 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
                            27493 ; 35   |
                            27494 ; 36   |// VBR
                            27495 ; 37   |#define VBR_NOT_DETERMINED 0
                            27496 ; 38   |#define VBR_TRUE 1
                            27497 ; 39   |
                            27498 ; 40   |#ifndef TITLE_SIZE
                            27499 ; 41   |//#define TITLE_SIZE 30
                            27500 ; 42   |#ifndef USE_PLAYLIST3
                            27501 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                            27502 ; 44   |#else
                            27503 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                            27504 ; 46   |#endif
                            27505 ; 47   |#endif
                            27506 ; 48   |
                            27507 ; 49   |#ifndef ARTIST_SIZE
                            27508 ; 50   |#ifndef USE_PLAYLIST3
                            27509 ; 51   |//#define ARTIST_SIZE 30
                            27510 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            27511 ; 53   |#else
                            27512 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            27513 ; 55   |#endif
                            27514 ; 56   |#endif
                            27515 ; 57   |
                            27516 ; 58   |#ifndef ALBUM_SIZE
                            27517 ; 59   |#ifndef USE_PLAYLIST3
                            27518 ; 60   |//#define ALBUM_SIZE 30
                            27519 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            27520 ; 62   |#else
                            27521 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            27522 ; 64   |#endif
                            27523 ; 65   |#endif
                            27524 ; 66   |
                            27525 ; 67   |#ifdef USE_PLAYLIST3
                            27526 ; 68   |#ifndef GENRE_SIZE
                            27527 ; 69   |#define GENRE_SIZE 20
                            27528 ; 70   |#endif
                            27529 ; 71   |
                            27530 ; 72   |#ifndef YEAR_SIZE
                            27531 ; 73   |#define YEAR_SIZE 8
                            27532 ; 74   |#endif
                            27533 ; 75   |
                            27534 ; 76   |#ifndef TRACKNUM_SIZE
                            27535 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                            27536 ; 78   |#endif
                            27537 ; 79   |
                            27538 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                            27539 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                            27540 ; 82   |#endif
                            27541 ; 83   |
                            27542 ; 84   |#define XING_TOC_SIZE   100
                            27543 ; 85   |#if MTP_BUILD
                            27544 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                            27545 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                            27546 ; 88   |#define VBR_TOC_SIZE    2
                            27547 ; 89   |#else
                            27548 ; 90   |#define VBR_TOC_SIZE    200
                            27549 ; 91   |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 457

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27550 ; 92   |
                            27551 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                            27552 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                            27553 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            27554 ; 96   |#ifdef USE_PLAYLIST3
                            27555 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                            27556 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                            27557 ; 99   |extern WORD g_wSongTrackNum;
                            27558 ; 100  |#endif
                            27559 ; 101  |
                            27560 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                            27561 ; 103  |
                            27562 ; 104  |typedef struct {
                            27563 ; 105  |    WORD        iTitleBufferLength;
                            27564 ; 106  |        UCS3       *wTitle;        // Title of Song
                            27565 ; 107  |    WORD        iArtistBufferLength;
                            27566 ; 108  |    UCS3       *wArtist;
                            27567 ; 109  |    WORD        iAlbumBufferLength;
                            27568 ; 110  |    UCS3       *wAlbum;
                            27569 ; 111  |#ifdef USE_PLAYLIST3
                            27570 ; 112  |    WORD        iGenreBufferLength;
                            27571 ; 113  |    UCS3       *wGenre;
                            27572 ; 114  |    WORD        iYearBufferLength;
                            27573 ; 115  |    UCS3       *wYear;
                            27574 ; 116  |    WORD        wTrackNum;
                            27575 ; 117  |#endif
                            27576 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
                            27577 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
                            27578 ; 120  |        WORD       wNumChannels;
                            27579 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitr
                                  ate found)
                            27580 ; 122  |        LONG       iTime;                 // Length of song in seconds
                            27581 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the deco
                                  der)
                            27582 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                            27583 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                            27584 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
                            27585 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see qu
                                  estion below**)
                            27586 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = I
                                  MA ADPCM, etc (use defines below)
                            27587 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed fo
                                  r this file
                            27588 ; 130  |} FILE_META_DATA;
                            27589 ; 131  |
                            27590 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                            27591 ; 133  |#define UNKNOWN_TYPE   0
                            27592 ; 134  |#define MP3_TYPE       1
                            27593 ; 135  |#define WMA_TYPE       2
                            27594 ; 136  |#define AAC_TYPE       4
                            27595 ; 137  |#define IMA_ADPCM_TYPE 8
                            27596 ; 138  |#define MS_ADPCM_TYPE  16
                            27597 ; 139  |#define PCM_WAV_TYPE   32
                            27598 ; 140  |#define ASF_TYPE       64
                            27599 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                            27600 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                            27601 ; 143  |
                            27602 ; 144  |#define SMV_ADPCM_TYPE 512
                            27603 ; 145  |
                            27604 ; 146  |
                            27605 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                            27606 ; 148  |// Sample rates
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 458

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27607 ; 149  |#ifdef WOW
                            27608 ; 150  |#define SR_48KHZ        48000
                            27609 ; 151  |#define SR_44KHZ        44100
                            27610 ; 152  |#define SR_32KHZ        32000
                            27611 ; 153  |#define SR_24KHZ        24000
                            27612 ; 154  |#define SR_22KHZ        22050
                            27613 ; 155  |#define SR_16KHZ        16000
                            27614 ; 156  |#define SR_12KHZ        12000
                            27615 ; 157  |#define SR_11KHZ        11025
                            27616 ; 158  |#define SR_8KHZ          8000
                            27617 ; 159  |#endif
                            27618 ; 160  |
                            27619 ; 161  |
                            27620 ; 162  |///////////////////////////////////////////////////////////////////////////////
                            27621 ; 163  |// MetaData prototypes
                            27622 ; 164  |///////////////////////////////////////////////////////////////////////////////
                            27623 ; 165  |
                            27624 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_ME
                                  TA_DATA *MetaData);
                            27625 ; 167  |#ifdef USE_PLAYLIST3
                            27626 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAd
                                  dress);
                            27627 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                            27628 ; 170  |#endif
                            27629 ; 171  |
                            27630 ; 172  |#endif // #ifndef _METADATA_H
                            27631 
                            27633 
                            27634 ; 48   |#include "hwequ.h"
                            27635 
                            27637 
                            27638 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            27639 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2001
                            27640 ; 3    |//  File        : hwequ.inc
                            27641 ; 4    |//  Description : STMP Hardware Constants
                            27642 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            27643 ; 6    |
                            27644 ; 7    |// ////////////////////////////////////////////////////////////////////////////////
                            27645 ; 8    |// hwequ is being eliminated for SDK3XXX.  For SDK2.5XX it will now reside in the   
                            27646 ; 9    |// local folder instead of ..\inc.  All register includes are converted to .h by 
                            27647 ; 10   |// registers.mk placed in the ..\lcdexample\player\output_XXXX folder.
                            27648 ; 11   |// ////////////////////////////////////////////////////////////////////////////////
                            27649 ; 12   |
                            27650 ; 13   |#if (!defined(HWEQU_INC))
                            27651 ; 14   |#define HWEQU_INC 1
                            27652 ; 15   |
                            27653 ; 16   |#include "types.h"
                            27654 ; 17   |#include "regsclkctrl.h"
                            27655 ; 18   |#include "regscore.h"
                            27656 ; 19   |#include "regscodec.h"
                            27657 ; 20   |#include "regsdcdc.h"
                            27658 ; 21   |#include "regsemc.h"
                            27659 ; 22   |#include "regsgpio.h"
                            27660 ; 23   |#include "regsi2c.h"
                            27661 ; 24   |#include "regsi2s.h"
                            27662 ; 25   |#include "regsicoll.h"
                            27663 ; 26   |#include "regslradc.h"
                            27664 ; 27   |#include "regspwm.h"
                            27665 ; 28   |#include "regsrevision.h"
                            27666 ; 29   |#include "regsrtc.h"
                            27667 ; 30   |#include "regsspare.h"
                            27668 ; 31   |#include "regsspi.h"
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 459

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27669 ; 32   |#include "regsswizzle.h"
                            27670 ; 33   |#include "regssdram.h"
                            27671 ; 34   |#include "regstb.h"
                            27672 ; 35   |#include "regstimer.h"
                            27673 ; 36   |#include "regsusb20.h"
                            27674 ; 37   |#include "regsusb20phy.h"
                            27675 ; 38   |
                            27676 ; 39   |
                            27677 ; 40   |#endif // if (!@def(hwequ))
                            27678 ; 41   |
                            27679 
                            27681 
                            27682 ; 49   |#ifdef USE_PLAYLIST3
                            27683 ; 50   |#include "musiclib_ghdr.h"
                            27684 
                            27686 
                            27687 ; 1    |#ifndef MUSICLIB_GHDR_H
                            27688 ; 2    |#define MUSICLIB_GHDR_H
                            27689 ; 3    |
                            27690 ; 4    |#ifdef __cplusplus
                            27691 ; 5    |extern "C" {
                            27692 ; 6    |#endif
                            27693 ; 7    |
                            27694 ; 8    |/*========================================================================================
                                  ==========
                            27695 ; 9    |
                            27696 ; 10   |                                        General Description
                            27697 ; 11   |
                            27698 ; 12   |==========================================================================================
                                  ==========
                            27699 ; 13   |
                            27700 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            27701 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            27702 ; 16   |
                            27703 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            27704 ; 18   |
                            27705 ; 19   |PRODUCT NAMES: All
                            27706 ; 20   |
                            27707 ; 21   |GENERAL DESCRIPTION:
                            27708 ; 22   |
                            27709 ; 23   |    General description of this grouping of functions.
                            27710 ; 24   |
                            27711 ; 25   |Portability: All
                            27712 ; 26   |
                            27713 ; 27   |
                            27714 ; 28   |Revision History:
                            27715 ; 29   |
                            27716 ; 30   |                         Modification        Tracking
                            27717 ; 31   |Author                       Date             Number           Description of Changes
                            27718 ; 32   |---------------------    ------------        ----------        ---------------------------
                                  ----------
                            27719 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of change
                                  s made
                            27720 ; 34   |
                            27721 ; 35   |
                            27722 ; 36   |==========================================================================================
                                  ==========
                            27723 ; 37   |                                            DESCRIPTION
                            27724 ; 38   |==========================================================================================
                                  ==========
                            27725 ; 39   |
                            27726 ; 40   |GLOBAL FUNCTIONS:
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 460

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27727 ; 41   |    MF_global_func_name()
                            27728 ; 42   |
                            27729 ; 43   |TRACEABILITY MATRIX:
                            27730 ; 44   |    None
                            27731 ; 45   |
                            27732 ; 46   |==========================================================================================
                                  ========*/
                            27733 ; 47   |
                            27734 ; 48   |/*========================================================================================
                                  ==========
                            27735 ; 49   |                                                                Conditional Compilation Di
                                  rectives
                            27736 ; 50   |==========================================================================================
                                  ========*/
                            27737 ; 51   |#ifdef WIN32
                            27738 ; 52   |#define _PC_SIMULATION_
                            27739 ; 53   |#else
                            27740 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            27741 ; 55   |#endif  // WIN32
                            27742 ; 56   |
                            27743 ; 57   |#if 1
                            27744 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            27745 ; 59   |#endif
                            27746 ; 60   |
                            27747 ; 61   |#if 1
                            27748 ; 62   |#define _AUDIBLE_       /* install audible list */
                            27749 ; 63   |#endif
                            27750 ; 64   |
                            27751 ; 65   |#if 1
                            27752 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            27753 ; 67   |#endif
                            27754 ; 68   |
                            27755 ; 69   |#ifdef PL3_FB
                            27756 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            27757 ; 71   |#endif
                            27758 ; 72   |
                            27759 ; 73   |#if 1
                            27760 ; 74   |#define _SUPPORT_2000_SONGS_
                            27761 ; 75   |#endif
                            27762 ; 76   |
                            27763 ; 77   |/*========================================================================================
                                  ==========
                            27764 ; 78   |                                           INCLUDE FILES
                            27765 ; 79   |==========================================================================================
                                  ========*/
                            27766 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            27767 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            27768 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            27769 ; 83   |#define OEM_SEEK_END    SEEK_END
                            27770 ; 84   |#else
                            27771 ; 85   |#define _X
                            27772 ; 86   |#define _Y
                            27773 ; 87   |#define _packed
                            27774 ; 88   |
                            27775 ; 89   |#define _asmfunc
                            27776 ; 90   |#define _reentrant
                            27777 ; 91   |
                            27778 ; 92   |#define OEM_SEEK_CUR    1
                            27779 ; 93   |#define OEM_SEEK_SET    0
                            27780 ; 94   |#define OEM_SEEK_END    2
                            27781 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            27782 ; 96   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 461

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27783 ; 97   |#include "types.h"
                            27784 ; 98   |#include "exec.h"
                            27785 ; 99   |#include "messages.h"
                            27786 ; 100  |#include "project.h"
                            27787 ; 101  |
                            27788 ; 102  |/*========================================================================================
                                  ==========
                            27789 ; 103  |                                             CONSTANTS
                            27790 ; 104  |==========================================================================================
                                  ========*/
                            27791 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            27792 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            27793 ; 107  |Artistname                              1:0
                            27794 ; 108  |Albumname                               3:2
                            27795 ; 109  |Genrename                               5:4
                            27796 ; 110  |Songname                                7:6
                            27797 ; 111  |----------------------------------------------------------
                            27798 ; 112  |    Value (2 bits)                      Meanings
                            27799 ; 113  |    0                                   RAW and All ASCII
                            27800 ; 114  |    1                                   Uni-code
                            27801 ; 115  |    2                                   Mixed, non-unicode
                            27802 ; 116  |
                            27803 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            27804 ; 118  |*/
                            27805 ; 119  |#define BITMASK_ARTIST  (0x03)
                            27806 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            27807 ; 121  |#define BITMASK_GENRE   (0x30)
                            27808 ; 122  |#define BITMASK_SONG    (0xC0)
                            27809 ; 123  |
                            27810 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            27811 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            27812 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            27813 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            27814 ; 128  |
                            27815 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            27816 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            27817 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            27818 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            27819 ; 133  |
                            27820 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            27821 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            27822 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            27823 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            27824 ; 138  |
                            27825 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            27826 ; 140  |
                            27827 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            27828 ; 142  |
                            27829 ; 143  |#define INDEX_EOF       0xFFF
                            27830 ; 144  |#ifdef _FOLDER_BROWSE_
                            27831 ; 145  |#define INDEX_ROOT  0xffe
                            27832 ; 146  |#define UNKNOWN_RECORD  0xfff
                            27833 ; 147  |#endif  // _FOLDER_BROWSE_
                            27834 ; 148  |
                            27835 ; 149  |/* Constant for item_type */
                            27836 ; 150  |#define         ITEM_ARTIST                     0
                            27837 ; 151  |#define         ITEM_ALBUM                      1
                            27838 ; 152  |#define         ITEM_GENRE                      2
                            27839 ; 153  |#define         ITEM_TRACK                      3
                            27840 ; 154  |#define         ITEM_YEAR                       4
                            27841 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            27842 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 462

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27843 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            27844 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            27845 ; 159  |#ifdef _NEWMUSIC_
                            27846 ; 160  |#define         ITEM_1DAY                       10
                            27847 ; 161  |#define         ITEM_1WEEK                      11
                            27848 ; 162  |#define         ITEM_1MONTH                     12
                            27849 ; 163  |#endif
                            27850 ; 164  |#ifdef _AUDIBLE_
                            27851 ; 165  |#define         ITEM_AUDIBLE            13
                            27852 ; 166  |#endif
                            27853 ; 167  |#define         ITEM_ON_THE_GO          14
                            27854 ; 168  |
                            27855 ; 169  |#define         ITEM_VOICE                      15
                            27856 ; 170  |#define         ITEM_FMREC                      16
                            27857 ; 171  |#define         ITEM_PHOTO                      17
                            27858 ; 172  |#ifdef _FOLDER_BROWSE_
                            27859 ; 173  |#define         ITEM_INTERNAL           18
                            27860 ; 174  |#define         ITEM_EXTERNAL       19
                            27861 ; 175  |#endif  // _FOLDER_BROWSE_
                            27862 ; 176  |#define     ITEM_UNKNOWN        0xff
                            27863 ; 177  |
                            27864 ; 178  |/*
                            27865 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_inf
                                  o, int16 option);
                            27866 ; 180  |option input.
                            27867 ; 181  |*/
                            27868 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            27869 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            27870 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            27871 ; 185  |#ifdef _FOLDER_BROWSE_
                            27872 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            27873 ; 187  |#endif  // _FOLDER_BROWSE_
                            27874 ; 188  |
                            27875 ; 189  |/* Constant for key action */
                            27876 ; 190  |#define         ACTION_OK                               0               /* Press OK button
                                   */
                            27877 ; 191  |#define         ACTION_BACK                             1               /* Press BACK butt
                                  on */
                            27878 ; 192  |#define         ACTION_UP                               2               /* Press UP button
                                   */
                            27879 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN butt
                                  on */
                            27880 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            27881 ; 195  |#define         ACTION_MENU                             5               /* Back the browsi
                                  ng tree to root */
                            27882 ; 196  |
                            27883 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            27884 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            27885 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            27886 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            27887 ; 201  |
                            27888 ; 202  |#define         NO_SD                                   0
                            27889 ; 203  |#define         HAS_SD                                  1
                            27890 ; 204  |
                            27891 ; 205  |#define         PLAY_NORMAL                             0
                            27892 ; 206  |#define         PLAY_SHUFFLE                    1
                            27893 ; 207  |
                            27894 ; 208  |#define     PLAY_REPEAT_OFF         0
                            27895 ; 209  |#define     PLAY_REPEAT_ON          1
                            27896 ; 210  |
                            27897 ; 211  |#define     PLAY_SELECT_FLASH       0
                            27898 ; 212  |#define     PLAY_SELECT_SD          1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 463

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27899 ; 213  |
                            27900 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            27901 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            27902 ; 216  |
                            27903 ; 217  |#define         ON_THE_GO_EXIST                 0
                            27904 ; 218  |#define         ON_THE_GO_FULL                  1
                            27905 ; 219  |#define         ON_THE_GO_FREE                  2
                            27906 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            27907 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            27908 ; 222  |
                            27909 ; 223  |#define         REC_VOICE_TYPE                  0
                            27910 ; 224  |#define         REC_FMREC_TYPE                  1
                            27911 ; 225  |#define         REC_PHOTO_TYPE                  2
                            27912 ; 226  |#define         VOICE_FILE_ADD                  0
                            27913 ; 227  |#define         VOICE_FILE_DEL                  1
                            27914 ; 228  |
                            27915 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            27916 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            27917 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            27918 ; 232  |flash or external SD card */
                            27919 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            27920 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            27921 ; 235  |#else
                            27922 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            27923 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            27924 ; 238  |
                            27925 ; 239  |/* number of byte in one DSP word */
                            27926 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            27927 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            27928 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            27929 ; 243  |are 10 level directory structure */
                            27930 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            27931 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            27932 ; 246  |
                            27933 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            27934 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            27935 ; 249  |/* number of songs in each new music list */
                            27936 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            27937 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            27938 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            27939 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            27940 ; 254  |/* number of songs in the on-the-fly list */
                            27941 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            27942 ; 256  |/* number of files audible list */
                            27943 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            27944 ; 258  |
                            27945 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            27946 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            27947 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            27948 ; 262  |
                            27949 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            27950 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            27951 ; 265  |#ifdef _FOLDER_BROWSE_
                            27952 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            27953 ; 267  |#else
                            27954 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            27955 ; 269  |#endif  // _FOLDER_BROWSE_
                            27956 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 464

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27957 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            27958 ; 272  |
                            27959 ; 273  |#ifndef _MAX_DIR_DEPTH
                            27960 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            27961 ; 275  |#endif  // _MAX_DIR_DEPTH
                            27962 ; 276  |
                            27963 ; 277  |/*========================================================================================
                                  ==========*/
                            27964 ; 278  |
                            27965 ; 279  |
                            27966 ; 280  |/*========================================================================================
                                  ==========
                            27967 ; 281  |                                               MACROS
                            27968 ; 282  |==========================================================================================
                                  ========*/
                            27969 ; 283  |
                            27970 ; 284  |/*========================================================================================
                                  ==========
                            27971 ; 285  |                                               ENUMS
                            27972 ; 286  |==========================================================================================
                                  ========*/
                            27973 ; 287  |#define NUM_OF_MEDIA                            (2)
                            27974 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            27975 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            27976 ; 290  |/*========================================================================================
                                  ==========
                            27977 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            27978 ; 292  |==========================================================================================
                                  ========*/
                            27979 ; 293  |
                            27980 ; 294  |typedef char    int8;
                            27981 ; 295  |typedef short   int16;
                            27982 ; 296  |typedef int     int24;
                            27983 ; 297  |typedef long    int32;
                            27984 ; 298  |
                            27985 ; 299  |typedef int     intx;
                            27986 ; 300  |
                            27987 ; 301  |typedef unsigned char   uint8;
                            27988 ; 302  |typedef unsigned short  uint16;
                            27989 ; 303  |typedef unsigned int    uint24;
                            27990 ; 304  |typedef unsigned long   uint32;
                            27991 ; 305  |
                            27992 ; 306  |/*
                            27993 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode form
                                  at.
                            27994 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            27995 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            27996 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            27997 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            27998 ; 312  |*/
                            27999 ; 313  |/*
                            28000 ; 314  |path_name[] _must_have_data_:
                            28001 ; 315  |path_name[] = (Max. 120 Characters);
                            28002 ; 316  |year range:
                            28003 ; 317  |year = 0x000000-0xFFFFFF;
                            28004 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            28005 ; 319  |Unknown track number:
                            28006 ; 320  |track_number = 0x7FFFFF;
                            28007 ; 321  |unicode refer to above #define BITMASK_*
                            28008 ; 322  |*/
                            28009 ; 323  |/*
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 465

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28010 ; 324  |Interface of UI and Music Library
                            28011 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            28012 ; 326  |
                            28013 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            28014 ; 328  |
                            28015 ; 329  |3) UI to Music Library variable passing length definition:
                            28016 ; 330  |        All ASCII Characters:
                            28017 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            28018 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            28019 ; 333  |        Unicode Characters:
                            28020 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            28021 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            28022 ; 336  |
                            28023 ; 337  |4) UI input data to Music Library in two formats.
                            28024 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            28025 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            28026 ; 340  |
                            28027 ; 341  |5) UI calling function:
                            28028 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            28029 ; 343  |        int16 option definition:
                            28030 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            28031 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            28032 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            28033 ; 347  |
                            28034 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            28035 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_l
                                  ist separately.
                            28036 ; 350  |
                            28037 ; 351  |6) Modification Date:
                            28038 ; 352  |        uint24 g_file_time:
                            28039 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            28040 ; 354  |*/
                            28041 ; 355  |
                            28042 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            28043 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            28044 ; 358  |typedef struct _ram_song_info {
                            28045 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28046 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28047 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28048 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28049 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28050 ; 364  |    uint32 g_songFastKey;
                            28051 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28052 ; 366  |        uint24 year;
                            28053 ; 367  |        uint24 track_number;
                            28054 ; 368  |        uint8 unicode;
                            28055 ; 369  |} RAM_SONG_INFO_T;
                            28056 ; 370  |
                            28057 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            28058 ; 372  |typedef struct _flash_group_name {
                            28059 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28060 ; 374  |        uint8 unicode;
                            28061 ; 375  |} FLASH_GROUP_NAME_T;
                            28062 ; 376  |
                            28063 ; 377  |// struct to store directories information passed from UI
                            28064 ; 378  |#ifdef _FOLDER_BROWSE_
                            28065 ; 379  |typedef struct _ml_DirInfo {
                            28066 ; 380  |        uint24  u8Unicode : 8;
                            28067 ; 381  |        uint24  u12DirDepth : 12;
                            28068 ; 382  |        uint24  u4Added : 4;            
                            28069 ; 383  |        INT     iDirRecord;
                            28070 ; 384  |        DWORD   dwFastKey;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 466

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28071 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28072 ; 386  |} ML_DIRINFO_T;
                            28073 ; 387  |#endif  // _FOLDER_BROWSE_
                            28074 ; 388  |
                            28075 ; 389  |/*========================================================================================
                                  ==========
                            28076 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            28077 ; 391  |==========================================================================================
                                  ========*/
                            28078 ; 392  |extern uint24   IsPlayOnTheGo;
                            28079 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            28080 ; 394  |extern uint24   merge_id_list_flash[];
                            28081 ; 395  |extern uint24   merge_id_list_sd[];
                            28082 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            28083 ; 397  |#ifdef _FOLDER_BROWSE_
                            28084 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            28085 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28086 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            28087 ; 401  |#endif  // _FOLDER_BROWSE_
                            28088 ; 402  |extern INT _X    *sec_temp_buf_X;
                            28089 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 =
                                   repeat on/off(0=off/1=on) */
                            28090 ; 404  |
                            28091 ; 405  |/*========================================================================================
                                  ==========
                            28092 ; 406  |                                        FUNCTION PROTOTYPES
                            28093 ; 407  |==========================================================================================
                                  ========*/
                            28094 ; 408  |
                            28095 ; 409  |///////////////////////////////////////////////////////////////////////
                            28096 ; 410  |//! \brief
                            28097 ; 411  |//!
                            28098 ; 412  |//! \fntype Function
                            28099 ; 413  |//!
                            28100 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            28101 ; 415  |//! Call only once before inserting items. Call once for each media.
                            28102 ; 416  |//!
                            28103 ; 417  |//! \param[in]  none
                            28104 ; 418  |//!
                            28105 ; 419  |//! \return
                            28106 ; 420  |//!
                            28107 ; 421  |///////////////////////////////////////////////////////////////////////
                            28108 ; 422  |void ML_InitLibraryParameter(void);
                            28109 ; 423  |
                            28110 ; 424  |///////////////////////////////////////////////////////////////////////
                            28111 ; 425  |//! \brief
                            28112 ; 426  |//!
                            28113 ; 427  |//! \fntype Function
                            28114 ; 428  |//!
                            28115 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            28116 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            28117 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each son
                                  g,
                            28118 ; 432  |//! the song information is recorded in music library.
                            28119 ; 433  |//!
                            28120 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            28121 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passe
                                  d from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            28122 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav f
                                  ormat file.
                            28123 ; 437  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 467

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28124 ; 438  |//! \return
                            28125 ; 439  |//!
                            28126 ; 440  |///////////////////////////////////////////////////////////////////////
                            28127 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            28128 ; 442  |
                            28129 ; 443  |///////////////////////////////////////////////////////////////////////
                            28130 ; 444  |//! \brief
                            28131 ; 445  |//!
                            28132 ; 446  |//! \fntype Function
                            28133 ; 447  |//!
                            28134 ; 448  |//! \param[in]
                            28135 ; 449  |//!
                            28136 ; 450  |//! \return
                            28137 ; 451  |//!
                            28138 ; 452  |///////////////////////////////////////////////////////////////////////
                            28139 ; 453  |#ifdef _FOLDER_BROWSE_
                            28140 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int1
                                  6 i16Option);
                            28141 ; 455  |#endif  // _FOLDER_BROWSE_
                            28142 ; 456  |
                            28143 ; 457  |///////////////////////////////////////////////////////////////////////
                            28144 ; 458  |//! \brief
                            28145 ; 459  |//!
                            28146 ; 460  |//! \fntype Function
                            28147 ; 461  |//!
                            28148 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            28149 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            28150 ; 464  |//! music library for that particular media.
                            28151 ; 465  |//!
                            28152 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            28153 ; 467  |//!
                            28154 ; 468  |//! \return
                            28155 ; 469  |//!
                            28156 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            28157 ; 471  |//!         function.
                            28158 ; 472  |///////////////////////////////////////////////////////////////////////
                            28159 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            28160 ; 474  |
                            28161 ; 475  |///////////////////////////////////////////////////////////////////////
                            28162 ; 476  |//! \brief
                            28163 ; 477  |//!
                            28164 ; 478  |//! \fntype Function
                            28165 ; 479  |//!
                            28166 ; 480  |//! \param[in]
                            28167 ; 481  |//!
                            28168 ; 482  |//! \return
                            28169 ; 483  |//!
                            28170 ; 484  |///////////////////////////////////////////////////////////////////////
                            28171 ; 485  |#ifdef _NEWMUSIC_
                            28172 ; 486  |void ML_UpdateNewMusic(void);
                            28173 ; 487  |#endif
                            28174 ; 488  |
                            28175 ; 489  |///////////////////////////////////////////////////////////////////////
                            28176 ; 490  |//! \brief
                            28177 ; 491  |//!
                            28178 ; 492  |//! \fntype Function
                            28179 ; 493  |//!
                            28180 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            28181 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            28182 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            28183 ; 497  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 468

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28184 ; 498  |//! \param[in]  none
                            28185 ; 499  |//!
                            28186 ; 500  |//! \return
                            28187 ; 501  |//!
                            28188 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            28189 ; 503  |//!         must be called before calling any other music library functions.
                            28190 ; 504  |///////////////////////////////////////////////////////////////////////
                            28191 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            28192 ; 506  |
                            28193 ; 507  |///////////////////////////////////////////////////////////////////////
                            28194 ; 508  |//! \brief
                            28195 ; 509  |//!
                            28196 ; 510  |//! \fntype Function
                            28197 ; 511  |//!
                            28198 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            28199 ; 513  |//! library operation.
                            28200 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            28201 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file
                                   and the
                            28202 ; 516  |//! music.sec file do not exist.
                            28203 ; 517  |//!
                            28204 ; 518  |//! \param[in]  none
                            28205 ; 519  |//!
                            28206 ; 520  |//! \return
                            28207 ; 521  |//!
                            28208 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            28209 ; 523  |//!         must be called before calling any other music library functions.
                            28210 ; 524  |///////////////////////////////////////////////////////////////////////
                            28211 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            28212 ; 526  |
                            28213 ; 527  |///////////////////////////////////////////////////////////////////////
                            28214 ; 528  |//! \brief
                            28215 ; 529  |//!
                            28216 ; 530  |//! \fntype Function
                            28217 ; 531  |//!
                            28218 ; 532  |//! Preload the list, prepare for renew.
                            28219 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            28220 ; 534  |//! structure in RAM.
                            28221 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            28222 ; 536  |//! in RAM.
                            28223 ; 537  |//!
                            28224 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            28225 ; 539  |//!
                            28226 ; 540  |//! \return
                            28227 ; 541  |//!
                            28228 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            28229 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            28230 ; 544  |///////////////////////////////////////////////////////////////////////
                            28231 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            28232 ; 546  |
                            28233 ; 547  |///////////////////////////////////////////////////////////////////////
                            28234 ; 548  |//! \brief
                            28235 ; 549  |//!
                            28236 ; 550  |//! \fntype Function
                            28237 ; 551  |//!
                            28238 ; 552  |//! Save the list to flash memory.
                            28239 ; 553  |//!
                            28240 ; 554  |//! \param[in]
                            28241 ; 555  |//!
                            28242 ; 556  |//! \return
                            28243 ; 557  |//!
                            28244 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 469

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28245 ; 559  |//!         changed by the user.
                            28246 ; 560  |///////////////////////////////////////////////////////////////////////
                            28247 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            28248 ; 562  |
                            28249 ; 563  |///////////////////////////////////////////////////////////////////////
                            28250 ; 564  |//! \brief
                            28251 ; 565  |//!
                            28252 ; 566  |//! \fntype Function
                            28253 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            28254 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in
                                   the
                            28255 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the l
                                  ist.
                            28256 ; 570  |//! Otherwise the song is deleted.
                            28257 ; 571  |//!
                            28258 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            28259 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            28260 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            28261 ; 575  |//!
                            28262 ; 576  |//! \return
                            28263 ; 577  |//!
                            28264 ; 578  |///////////////////////////////////////////////////////////////////////
                            28265 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            28266 ; 580  |
                            28267 ; 581  |///////////////////////////////////////////////////////////////////////
                            28268 ; 582  |//! \brief
                            28269 ; 583  |//!
                            28270 ; 584  |//! \fntype Function
                            28271 ; 585  |//!
                            28272 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            28273 ; 587  |//! in the ML_UpdateOnTheGo().
                            28274 ; 588  |//!
                            28275 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            28276 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDE
                                  X_EOF (song will be deleted)
                            28277 ; 591  |//!
                            28278 ; 592  |//! \return
                            28279 ; 593  |//!
                            28280 ; 594  |///////////////////////////////////////////////////////////////////////
                            28281 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            28282 ; 596  |
                            28283 ; 597  |///////////////////////////////////////////////////////////////////////
                            28284 ; 598  |//! \brief
                            28285 ; 599  |//!
                            28286 ; 600  |//! \fntype Function
                            28287 ; 601  |//!
                            28288 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            28289 ; 603  |//!
                            28290 ; 604  |//! \param[in]  none
                            28291 ; 605  |//!
                            28292 ; 606  |//! \return
                            28293 ; 607  |//!
                            28294 ; 608  |///////////////////////////////////////////////////////////////////////
                            28295 ; 609  |void ML_UpdateOnTheGo(void);
                            28296 ; 610  |
                            28297 ; 611  |///////////////////////////////////////////////////////////////////////
                            28298 ; 612  |//! \brief
                            28299 ; 613  |//!
                            28300 ; 614  |//! \fntype Function
                            28301 ; 615  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 470

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28302 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            28303 ; 617  |//! Call only once before inserting items. Call once for each media.
                            28304 ; 618  |//!
                            28305 ; 619  |//! \param[in]  none
                            28306 ; 620  |//!
                            28307 ; 621  |//! \return
                            28308 ; 622  |//!
                            28309 ; 623  |///////////////////////////////////////////////////////////////////////
                            28310 ; 624  |void ML_InitVoiceParameter(void);
                            28311 ; 625  |
                            28312 ; 626  |///////////////////////////////////////////////////////////////////////
                            28313 ; 627  |//! \brief
                            28314 ; 628  |//!
                            28315 ; 629  |//! \fntype Function
                            28316 ; 630  |//!
                            28317 ; 631  |//! \param[in]
                            28318 ; 632  |//!
                            28319 ; 633  |//! \return
                            28320 ; 634  |//!
                            28321 ; 635  |///////////////////////////////////////////////////////////////////////
                            28322 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            28323 ; 637  |
                            28324 ; 638  |///////////////////////////////////////////////////////////////////////
                            28325 ; 639  |//! \brief
                            28326 ; 640  |//!
                            28327 ; 641  |//! \fntype Function
                            28328 ; 642  |//!
                            28329 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            28330 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names
                                  .
                            28331 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            28332 ; 646  |//!
                            28333 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            28334 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed f
                                  rom UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            28335 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            28336 ; 650  |//!
                            28337 ; 651  |//! \return
                            28338 ; 652  |//!
                            28339 ; 653  |///////////////////////////////////////////////////////////////////////
                            28340 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            28341 ; 655  |
                            28342 ; 656  |///////////////////////////////////////////////////////////////////////
                            28343 ; 657  |//! \brief
                            28344 ; 658  |//!
                            28345 ; 659  |//! \fntype Function
                            28346 ; 660  |//!
                            28347 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            28348 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice buildi
                                  ng
                            28349 ; 663  |//! of music library for that particular media.
                            28350 ; 664  |//!
                            28351 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            28352 ; 666  |//!
                            28353 ; 667  |//! \return
                            28354 ; 668  |//!
                            28355 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            28356 ; 670  |//!         function.
                            28357 ; 671  |///////////////////////////////////////////////////////////////////////
                            28358 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            28359 ; 673  |
                            28360 ; 674  |///////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 471

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28361 ; 675  |//! \brief
                            28362 ; 676  |//!
                            28363 ; 677  |//! \fntype Function
                            28364 ; 678  |//!
                            28365 ; 679  |//! Called by UI, the merge the music library tables album,
                            28366 ; 680  |//! artist, genre, song and year.
                            28367 ; 681  |//!
                            28368 ; 682  |//! \param[in]  none
                            28369 ; 683  |//!
                            28370 ; 684  |//! \return
                            28371 ; 685  |//!
                            28372 ; 686  |///////////////////////////////////////////////////////////////////////
                            28373 ; 687  |void ML_MergeLibraryTables(void);
                            28374 ; 688  |
                            28375 ; 689  |///////////////////////////////////////////////////////////////////////
                            28376 ; 690  |//! \brief
                            28377 ; 691  |//!
                            28378 ; 692  |//! \fntype Function
                            28379 ; 693  |//!
                            28380 ; 694  |//! Called by UI, the merge the music library tables album,
                            28381 ; 695  |//! artist, genre, song and year.
                            28382 ; 696  |//!
                            28383 ; 697  |//! \param[in]  none
                            28384 ; 698  |//!
                            28385 ; 699  |//! \return
                            28386 ; 700  |//!
                            28387 ; 701  |///////////////////////////////////////////////////////////////////////
                            28388 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            28389 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            28390 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            28391 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            28392 ; 706  |
                            28393 ; 707  |///////////////////////////////////////////////////////////////////////
                            28394 ; 708  |//! \brief
                            28395 ; 709  |//!
                            28396 ; 710  |//! \fntype Function
                            28397 ; 711  |//!
                            28398 ; 712  |//! \param[in]
                            28399 ; 713  |//!
                            28400 ; 714  |//! \return
                            28401 ; 715  |//!
                            28402 ; 716  |///////////////////////////////////////////////////////////////////////
                            28403 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            28404 ; 718  |
                            28405 ; 719  |/*========================================================================================
                                  ========*/
                            28406 ; 720  |
                            28407 ; 721  |// Siukoon 2005-02-28
                            28408 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            28409 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            28410 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            28411 ; 725  |#else
                            28412 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            28413 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            28414 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            28415 ; 729  |#define WORD_PER_SECTOR             (171)
                            28416 ; 730  |#define BYTE_PER_SECTOR             (512)
                            28417 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            28418 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PE
                                  R_SECTOR)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 472

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28419 ; 733  |
                            28420 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            28421 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            28422 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_B
                                  YTE_PER_SECTOR)
                            28423 ; 737  |
                            28424 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            28425 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            28426 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            28427 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            28428 ; 742  |
                            28429 ; 743  |/////////////////////
                            28430 ; 744  |
                            28431 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            28432 ; 746  |
                            28433 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            28434 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            28435 ; 749  |#else
                            28436 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            28437 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            28438 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                                  
                            28439 ; 753  |
                            28440 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            28441 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            28442 ; 756  |
                            28443 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            28444 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            28445 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            28446 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            28447 ; 761  |#else
                            28448 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            28449 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            28450 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            28451 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            28452 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            28453 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            28454 ; 768  |
                            28455 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            28456 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            28457 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            28458 ; 772  |#else
                            28459 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG
                                  _PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            28460 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            28461 ; 775  |
                            28462 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            28463 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SI
                                  ZE_IN_BYTE)
                            28464 ; 778  |
                            28465 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            28466 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            28467 ; 781  |
                            28468 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            28469 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            28470 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            28471 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            28472 ; 786  |#else
                            28473 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            28474 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            28475 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            28476 ; 790  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 473

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28477 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            28478 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6
                                  )
                            28479 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            28480 ; 794  |#else
                            28481 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            28482 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            28483 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            28484 ; 798  |
                            28485 ; 799  |#ifdef __cplusplus
                            28486 ; 800  |}
                            28487 ; 801  |#endif
                            28488 ; 802  |
                            28489 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            28490 
                            28492 
                            28493 ; 51   |extern BOOL g_FlashWriteOccurFlag;
                            28494 
                            28496 
                            28497 ; 52   |extern int24 g_iBrowseTotalNum;
                            28498 ; 53   |static BOOL bWaitforDisplay = FALSE;
                            28499 
                            28500 
Y:0000                      28501         org     y,".ydatadeletemenu",init:
                            28502 FbWaitforDisplay:
Y:0000 000000               28503         dc      $000000
                            28505 
                            28506 ; 54   |#endif  // #ifdef USE_PLAYLIST3
                            28507 ; 55   |
                            28508 ; 56   |#pragma optimize 1
                            28510 ; 57   |
                            28511 ; 58   |int _reentrant DeleteFile(void);
                            28512 ; 59   |_reentrant void DeleteAllFiles(void);
                            28513 ; 60   |
                            28514 ; 61   |#ifdef USE_PLAYLIST3
                            28515 ; 62   |#pragma asm
                            28520 ; 67   |#pragma endasm
                            28521 ; 68   |
                            28522 ; 69   |void _reentrant ML_browsing_delete_init(void)
                            28523 ; 70   |{
                            28524 
P:0000                      28525         org     p,".ptextdeletemenu":
                            28530 FML_browsing_delete_init:
                            28531 
                            28532 ; 71   |#pragma asm
                            28533 
P:0000                      28537     org     p,".ptextdeletemenu":
                            28538         extern  F_lc_u_e_MusicLibBrowse_P
                            28539         extern  F_lc_u_b_MusicLibBrowse_P
                            28540         extern  SysLoadResource
                            28541 
                            28542         ; Load the MusicLib building engine into P memory
P:0000 54F400 100000  3    328547     move    #TARGET_MEM_P,a1                           ; Overlay area is in P memory
P:0002 44F400 0003F9  3    628543     move    #>RSRC_MUSICLIB_BROWSE_APP,x0                      ; Resource number
P:0004 45F400 000002  3    928544     move    #>RSRC_TYPE_DATA,x1                        ; Resource type is data
P:0006 47F400 rrrrrr  3   1228545     move    #>(F_lc_u_e_MusicLibBrowse_P-F_lc_u_b_MusicLibBrowse_P)*3,y1 ; overlay area sz
P:0008 46F400 rrrrrr  3   1528546     move    #>F_lc_u_b_MusicLibBrowse_P,y0                      ; Address of the overlay area
P:000A 0BF080 rrrrrr  6   2128548     jsr     SysLoadResource
                            28549 
                            28550 ; 85   |#pragma endasm
                            28551 ; 86   |}
                            28552 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 474

M:ADDR CODE           CYCLES LINE SOURCELINE
P:000C 00000C         4   2528554         rts
                            28556 
                            28557 ; 87   |
                            28558 ; 88   |int _reentrant select_delete_type_submenu(void)
                            28559 ; 89   |{
                            28560 
                            28565 Fselect_delete_type_submenu:
                            28628 
                            28629 ; 90   |        union DisplayHints DisplayHint;
                            28630 ; 91   |        BOOL bDone = FALSE;
                            28631 
                            28644 
                            28645 ; 92   |        INT iEvent;
                            28646 ; 93   |        int result = 0;
                            28647 
                            28658 
                            28659 ; 94   |        INT display_type[3];
                            28660 ; 95   |
                            28661 ; 96   |    SysPostMessage(6,LCD_CLEAR_RANGE,0,0,LCD_SIZE_X,LCD_SIZE_Y);    // To fix defect 10915
                                  
                            28662 
P:000D 055F7C         2   2728566         movec   ssh,y:(r7)+
P:000E 3F061B         2   2928633         clr     b	                #6,n7
P:000F 280000         2   3128649         move    #0,a0
P:0010 260000         2   3328664         move    #0,y0
P:0011 294000         2   3528667         move    #$40,b0
P:0012 204F00         2   3728571         move    (r7)+n7
P:0013 77F400 FFFFFE  3   4028635         move    #-2,n7
P:0015 000000         2   4228635         nop             ; (inserted)
P:0016 5D6F00         4   4628637         move    b1,y:(r7+n7)
P:0017 045FA0         2   4828651         movec   m0,n7
P:0018 2D0600         2   5028666         move    #6,b1
P:0019 586F13         4   5428665         clr     a	                a0,y:(r7+n7)
P:001A 595F00         2   5628668         move    b0,y:(r7)+
P:001B 298000         2   5828670         move    #$80,b0
P:001C 595F00         2   6028671         move    b0,y:(r7)+
P:001D 5C5F00         2   6228673         move    a1,y:(r7)+
P:001E 4E5F00         2   6428675         move    y0,y:(r7)+
P:001F 260300         2   6628677         move    #<3,y0
P:0020 4E5F00         2   6828678         move    y0,y:(r7)+
P:0021 5D5F00         2   7028680         move    b1,y:(r7)+
P:0022 0BF080 rrrrrr  6   7628682         jsr     FSysPostMessage
                            28687 
                            28688 ; 97   |        while (!bDone)
                            28689 
P:0024 3F0600         2   7828683         move    #6,n7
P:0025 000000         2   8028683         nop             ; (inserted)
P:0026 204700         2   8228685         move    (r7)-n7
P:0027 0AF080 rrrrrr  6   8828691         jmp     L23
                            28692 
                            28693 ; 98   |        {
                            28694 ; 99   |        display_type[0] = display_type[1] = display_type[2] = LCD_PRINT_STRING_RSRC;
                            28695 
                            28697 L3:
                            28707 
                            28708 ; 100  |        display_type[result] = LCD_PRINT_STRING_INV_RSRC;
                            28709 
                            28720 
                            28721 ; 101  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 475

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28722 ; 102  |                //SysPostMessage(6,LCD_CLEAR_RANGE,0,0,LCD_SIZE_X,LCD_SIZE_Y);  // To fix 
                                  defect 10915
                            28723 ; 103  |                SysPostMessage(5,display_type[0],MENU_ITEM_X_OFFSET,MENU_ITEM_Y_OFFSET,RSR
                                  C_STRING_VOICE_MENU);
                            28724 
P:0029 77F400 FFFFFC  3   9128698         move    #-4,n7
P:002B 51F400 030007  3   9428697         move    #196615,b0
P:002D 44F400 030009  3   9728718         move    #196617,x0
P:002F 47F400 000005  3  10028727         move    #>5,y1
P:0031 596F00         4  10428700         move    b0,y:(r7+n7)
P:0032 77F400 FFFFFB  3  10728701         move    #-5,n7
P:0034 000000         2  10928701         nop             ; (inserted)
P:0035 596F00         4  11328703         move    b0,y:(r7+n7)
P:0036 77F400 FFFFFA  3  11628704         move    #-6,n7
P:0038 000000         2  11828704         nop             ; (inserted)
P:0039 596F00         4  12228706         move    b0,y:(r7+n7)
P:003A 045FA0         2  12428711         movec   m0,n7
P:003B 57F400 000113  3  12728728         move    #275,b
P:003D 58EF00         4  13128713         move    y:(r7+n7),a0
P:003E 211E13         2  13328726         clr     a	                a0,n6
P:003F 77F400 FFFFFA  3  13628715         move    #-6,n7
P:0041 000000         2  13828715         nop             ; (inserted)
P:0042 044F16         4  14228717         lua     (r7)+n7,r6
P:0043 77F400 FFFFF7  3  14528736         move    #-9,n7
P:0045 4C6E00         4  14928719         move    x0,y:(r6+n6)
P:0046 5F5F00         2  15128729         move    b,y:(r7)+
P:0047 291000         2  15328731         move    #16,b0
P:0048 595F00         2  15528732         move    b0,y:(r7)+
P:0049 5C5F00         2  15728734         move    a1,y:(r7)+
P:004A 4EEF00         4  16128738         move    y:(r7+n7),y0
P:004B 4E5F00         2  16328739         move    y0,y:(r7)+
P:004C 4F5F00         2  16528741         move    y1,y:(r7)+
P:004D 0BF080 rrrrrr  6  17128743         jsr     FSysPostMessage
                            28748 
                            28749 ; 104  |                SysPostMessage(5,display_type[1],MENU_ITEM_X_OFFSET,MENU_ITEM_Y_OFFSET+MEN
                                  U_ITEM_HEIGHT,RSRC_STRING_FM_REC);
                            28750 
P:004F 3F0500         2  17328744         move    #5,n7
P:0050 291800         2  17528757         move    #24,b0
P:0051 2D0500         2  17728753         move    #5,b1
P:0052 260000         2  17928752         move    #0,y0
P:0053 54F400 000408  3  18228754         move    #1032,a1
P:0055 204700         2  18428746         move    (r7)-n7
P:0056 77F400 FFFFF8  3  18728762         move    #-8,n7
P:0058 5C5F00         2  18928755         move    a1,y:(r7)+
P:0059 595F00         2  19128758         move    b0,y:(r7)+
P:005A 4E5F00         2  19328760         move    y0,y:(r7)+
P:005B 4FEF00         4  19728764         move    y:(r7+n7),y1
P:005C 4F5F00         2  19928765         move    y1,y:(r7)+
P:005D 5D5F00         2  20128767         move    b1,y:(r7)+
P:005E 0BF080 rrrrrr  6  20728769         jsr     FSysPostMessage
                            28774 
                            28775 ; 105  |        SysPostMessage(5,display_type[2],MENU_ITEM_X_OFFSET,MENU_ITEM_Y_OFFSET+MENU_ITEM_H
                                  EIGHT*2,RSRC_STRING_LINEIN_REC);
                            28776 
P:0060 3F0513         2  20928778         clr     a	                #5,n7
P:0061 292000         2  21128783         move    #$20,b0
P:0062 2D0500         2  21328779         move    #5,b1
P:0063 46F400 000409  3  21628780         move    #1033,y0
P:0065 204700         2  21828772         move    (r7)-n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 476

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0066 77F400 FFFFF9  3  22128788         move    #-7,n7
P:0068 4E5F00         2  22328781         move    y0,y:(r7)+
P:0069 595F00         2  22528784         move    b0,y:(r7)+
P:006A 5C5F00         2  22728786         move    a1,y:(r7)+
P:006B 4DEF00         4  23128790         move    y:(r7+n7),x1
P:006C 4D5F00         2  23328791         move    x1,y:(r7)+
P:006D 5D5F00         2  23528793         move    b1,y:(r7)+
P:006E 0BF080 rrrrrr  6  24128795         jsr     FSysPostMessage
                            28800 
                            28801 ; 106  |
                            28802 ; 107  |                iEvent = SysWaitOnEvent(EVENT_MESSAGE|EVENT_BUTTON,&gEventInfo.msg,(Displa
                                  yHint.I? 1 : -1));
                            28803 
P:0070 3F0500         2  24328796         move    #5,n7
P:0071 000000         2  24528796         nop             ; (inserted)
P:0072 204700         2  24728798         move    (r7)-n7
P:0073 77F400 FFFFFD  3  25028805         move    #-3,n7
P:0075 000000         2  25228805         nop             ; (inserted)
P:0076 5FEF00         4  25628807         move    y:(r7+n7),b
P:0077 2B0000         2  25828808         move    #0,b2
P:0078 57F40B 000001  3  26128809         tst     b	                #>1,b
P:007A 0AF0A2 rrrrrr  6  26728811         jne     L25
P:007C 57F400 FFFFFF  3  27028812         move    #>-1,b
P:007E 60F400 rrrrrr  3  27328813 L25:    move    #FgEventInfo,r0
P:0080 56F400 00000A  3  27628814         move    #>10,a
P:0082 0BF080 rrrrrr  6  28228815         jsr     SysWaitOnEvent
                            28817 
                            28818 ; 108  |                DisplayHint.I = 0;
                            28819 
                            28825 
                            28826 ; 109  |                if (iEvent == EVENT_MESSAGE)
                            28827 
P:0084 64F400 rrrrrr  3  28528834         move    #FgEventInfo,r4
P:0086 240009         2  28728829         tfr     a,b	                #0,x0
P:0087 47F400 000002  3  29028830         move    #>2,y1
P:0089 77F47D FFFFFD  3  29328831         cmp     y1,b	                #-3,n7
P:008B 000000         2  29528831         nop             ; (inserted)
P:008C 4C6F00         4  29928824         move    x0,y:(r7+n7)
P:008D 0AF0A2 rrrrrr  6  30528835         jne     L5
                            28836 
                            28837 ; 110  |                {
                            28838 ; 111  |                        if (gEventInfo.Message.wMsgCommand == MENU_MSG_MEDIA_CHANGED)
                            28839 
P:008F 5EF000 rrrrrr  3  30828841         move    y:FgEventInfo+1,a
P:0091 46F400 060008  3  31128842         move    #393224,y0
P:0093 2A0000         2  31328843         move    #0,a2
P:0094 200055         2  31528844         cmp     y0,a
P:0095 0AF0A2 rrrrrr  6  32128845         jne     L4
                            28846 
                            28847 ; 112  |                                g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC = TRUE;
                            28848 
                            28851 
                            28852 ; 113  |                        SysCallFunction(RSRC_PLAY_STATE_MACHINE_CODE_BANK,HandlePlayerStat
                                  eMachine,iEvent,0,(int *) &gEventInfo);
                            28853 
P:0097 0A7061 rrrrrr  6  32728850         bset    #1,y:Fg_MenuFlags
                            28855 L4:
P:0099 60F400 rrrrrr  3  33028856         move    #FHandlePlayerStateMachine,r0
P:009B 240000         2  33228855         move    #0,x0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 477

M:ADDR CODE           CYCLES LINE SOURCELINE
P:009C 56F400 000011  3  33528857         move    #>17,a
P:009E 0BF080 rrrrrr  6  34128858         jsr     SysCallFunction
                            28860 
                            28861 ; 114  |                }
                            28862 
P:00A0 0AF080 rrrrrr  6  34728864         jmp     L21
                            28865 
                            28866 ; 115  |                else if (iEvent == EVENT_BUTTON)
                            28867 
P:00A2 47F400 000008  3  35028869 L5:     move    #>8,y1
P:00A4 20007D         2  35228870         cmp     y1,b
P:00A5 0AF0A2 rrrrrr  6  35828871         jne     L21
                            28872 
                            28873 ; 116  |                {
                            28874 ; 117  |                        UpdateAutoShutdownTimer();
                            28875 
P:00A7 0BF080 rrrrrr  6  36428877         jsr     FUpdateAutoShutdownTimer
                            28878 
                            28879 ; 118  |#ifdef BACKLIGHT
                            28880 ; 119  |                                // turn on backlight when button is pressed.
                            28881 ; 120  |                                if (g_iBackLightState==BACKLIGHT_ON)
                            28882 
P:00A9 5FF000 rrrrrr  3  36728884         move    y:Fg_iBackLightState,b
P:00AB 56F400 000001  3  37028885         move    #>1,a
P:00AD 20000D         2  37228886         cmp     a,b
P:00AE 0AF0A2 rrrrrr  6  37828887         jne     L6
                            28888 
                            28889 ; 121  |                                {
                            28890 ; 122  |                        SysPostMessage(2,LCD_BACKLIGHT_ON);
                            28891 
P:00B0 290200         2  38028893         move    #2,b0
P:00B1 44F400 030010  3  38328894         move    #196624,x0
P:00B3 4C5F00         2  38528895         move    x0,y:(r7)+
P:00B4 595F00         2  38728897         move    b0,y:(r7)+
P:00B5 0BF080 rrrrrr  6  39328899         jsr     FSysPostMessage
                            28904 
                            28905 ; 123  |                        SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_BACKLIGHT,1,BACKLIGHT_
                                  TIME,MENU_MSG_TURN_OFF_BACKLIGHT);
                            28906 
P:00B7 2D0100         2  39528908         move    #1,b1
P:00B8 280600         2  39728909         move    #6,a0
P:00B9 51F400 001388  3  40028913         move    #5000,b0
P:00BB 45F400 06001A  3  40328910         move    #393242,x1
P:00BD 205700         2  40528900         move    (r7)-
P:00BE 205700         2  40728902         move    (r7)-
P:00BF 4D5F00         2  40928911         move    x1,y:(r7)+
P:00C0 595F00         2  41128914         move    b0,y:(r7)+
P:00C1 290500         2  41328918         move    #5,b0
P:00C2 5D5F00         2  41528916         move    b1,y:(r7)+
P:00C3 55F400 090001  3  41828921         move    #589825,b1
P:00C5 595F00         2  42028919         move    b0,y:(r7)+
P:00C6 5D5F00         2  42228922         move    b1,y:(r7)+
P:00C7 585F00         2  42428924         move    a0,y:(r7)+
P:00C8 0BF080 rrrrrr  6  43028926         jsr     FSysPostMessage
                            28931 
                            28932 ; 124  |                    SysWaitOnEvent(0,0,0);
                            28933 
P:00CA 3F0613         2  43228936         clr     a	                #6,n7
P:00CB 30001B         2  43428937         clr     b	                #0,r0
P:00CC 204700         2  43628929         move    (r7)-n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 478

M:ADDR CODE           CYCLES LINE SOURCELINE
P:00CD 0BF080 rrrrrr  6  44228938         jsr     SysWaitOnEvent
                            28939 
                            28940 ; 125  |                                }
                            28941 ; 126  |#endif
                            28942 ; 127  |                        DisplayHint.bits.Misc = TRUE;
                            28943 
                            28945 L6:
                            28948 
                            28949 ; 128  |                        switch(gEventInfo.Button.wButtonEvent)
                            28950 
P:00CF 77F400 FFFFFD  3  44528945         move    #-3,n7
P:00D1 66F400 rrrrrr  3  44828953         move    #L26,r6
P:00D3 56F400 00001A  3  45128955         move    #>26,a
P:00D5 0A6F64         6  45728947         bset    #4,y:(r7+n7)
P:00D6 5FF000 rrrrrr  3  46028952         move    y:FgEventInfo,b
P:00D8 2B0000         2  46228954         move    #0,b2
P:00D9 21FE0D         2  46428956         cmp     a,b     b,n6
P:00DA 0AF0A7 rrrrrr  6  47028957         jgt     L21
P:00DC 07EE96         8  47828958         movem   p:(r6+n6),r6
P:00DD 000000         2  48028958         nop             ; (inserted)
P:00DE 0AE680         4  48428960         jmp     (r6)
                            28961 
P:00DF rrrrrr               28962 L26:    dc      L8      ; case 0:
P:00E0 rrrrrr               28963         dc      L21     ; default:
P:00E1 rrrrrr               28964         dc      L7      ; case 2:
P:00E2 rrrrrr               28965         dc      L21     ; default:
P:00E3 rrrrrr               28966         dc      L9      ; case 4:
P:00E4 rrrrrr               28967         dc      L11     ; case 5:
P:00E5 rrrrrr               28968         dc      L21     ; default:
P:00E6 rrrrrr               28969         dc      L21     ; default:
P:00E7 rrrrrr               28970         dc      L21     ; default:
P:00E8 rrrrrr               28971         dc      L21     ; default:
P:00E9 rrrrrr               28972         dc      L21     ; default:
P:00EA rrrrrr               28973         dc      L21     ; default:
P:00EB rrrrrr               28974         dc      L21     ; default:
P:00EC rrrrrr               28975         dc      L11     ; case 13:
P:00ED rrrrrr               28976         dc      L21     ; default:
P:00EE rrrrrr               28977         dc      L21     ; default:
P:00EF rrrrrr               28978         dc      L21     ; default:
P:00F0 rrrrrr               28979         dc      L21     ; default:
P:00F1 rrrrrr               28980         dc      L21     ; default:
P:00F2 rrrrrr               28981         dc      L21     ; default:
P:00F3 rrrrrr               28982         dc      L21     ; default:
P:00F4 rrrrrr               28983         dc      L21     ; default:
P:00F5 rrrrrr               28984         dc      L21     ; default:
P:00F6 rrrrrr               28985         dc      L21     ; default:
P:00F7 rrrrrr               28986         dc      L21     ; default:
P:00F8 rrrrrr               28987         dc      L21     ; default:
P:00F9 rrrrrr               28988         dc      L12     ; case 26:
                            28989 
                            28990 
                            28991 ; 129  |                        {
                            28992 ; 130  |            case PR_FF:
                            28993 ; 131  |                result++;
                            28994 
                            28996 L7:
                            29003 
                            29004 ; 132  |                if (result>=MAXSUBMENU)
                            29005 
P:00FA 045FA0         2  48628996         movec   m0,n7
P:00FB 44F400 000001  3  48928999         move    #>1,x0
P:00FD 5FEF00         4  49328998         move    y:(r7+n7),b
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 479

M:ADDR CODE           CYCLES LINE SOURCELINE
P:00FE 47F448 000003  3  49629000         add     x0,b	                #>3,y1
P:0100 5D6F7D         4  50029009         cmp     y1,b	                b1,y:(r7+n7)
P:0101 0AF0A9 rrrrrr  6  50629012         jlt     L21
                            29013 
                            29014 ; 133  |                    result = 0;
                            29015 
                            29023 
                            29024 ; 134  |                break;
                            29025 
P:0103 260000         2  50829017         move    #0,y0
P:0104 4E6F00         4  51229020         move    y0,y:(r7+n7)
P:0105 0AF080 rrrrrr  6  51829027         jmp     L21
                            29028 
                            29029 ; 135  |            case PR_RW:
                            29030 ; 136  |                result--;
                            29031 
                            29033 L8:
                            29040 
                            29041 ; 137  |                if (result<0)
                            29042 
P:0107 045FA0         2  52029033         movec   m0,n7
P:0108 46F400 000001  3  52329036         move    #>1,y0
P:010A 5EEF00         4  52729035         move    y:(r7+n7),a
P:010B 200054         2  52929037         sub     y0,a
P:010C 5C6F00         4  53329044         move    a1,y:(r7+n7)
P:010D 0AF0A1 rrrrrr  6  53929047         jge     L21
                            29048 
                            29049 ; 138  |                    result = MAXSUBMENU-1;
                            29050 
                            29058 
                            29059 ; 139  |                break;
                            29060 
P:010F 47F400 000002  3  54229052         move    #>2,y1
P:0111 4F6F00         4  54629055         move    y1,y:(r7+n7)
P:0112 0AF080 rrrrrr  6  55229062         jmp     L21
                            29063 
                            29064 ; 140  |                        case PR_MENU:
                            29065 ; 141  |                                bDone = TRUE;
                            29066 
                            29068 L9:
                            29076 
                            29077 ; 142  |                                break;
                            29078 
P:0114 77F400 FFFFFE  3  55529071         move    #-2,n7
P:0116 44F400 000001  3  55829068         move    #>1,x0
P:0118 4C6F00         4  56229073         move    x0,y:(r7+n7)
P:0119 0AF080 rrrrrr  6  56829080         jmp     L21
                            29081 
                            29082 ; 143  |                        case PR_VOL_UP:
                            29083 ; 144  |                        case PH_MENU:
                            29084 ; 145  |                                // allow user to escape to music mode
                            29085 ; 146  |                                bDone = TRUE;
                            29086 
                            29088 L11:
                            29096 
                            29097 ; 147  |                                // set flag so PR_MENU in music mode will ignore
                            29098 ; 148  |                                g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC = TRUE;
                            29099 
                            29102 
                            29103 ; 149  |                                break;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 480

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29104 
P:011B 77F400 FFFFFE  3  57129091         move    #-2,n7
P:011D 45F400 000001  3  57429088         move    #>1,x1
P:011F 4D6F00         4  57829093         move    x1,y:(r7+n7)
P:0120 0A7061 rrrrrr  6  58429101         bset    #1,y:Fg_MenuFlags
P:0122 0AF080 rrrrrr  6  59029106         jmp     L21
                            29107 
                            29108 ; 150  |                        case PH_STOP:
                            29109 ; 151  |                                //if the STOP button is held down, lets call the shutdown 
                                  menu
                            29110 ; 152  |                                SysCallFunction(RSRC_MAIN_MENU_CODE_BANK,ShutdownMenu,USER
                                  SHUTDOWN,0,0);
                            29111 
                            29113 L12:
P:0124 340000         2  59229114         move    #0,r4
P:0125 60F400 rrrrrr  3  59529117         move    #FShutdownMenu,r0
P:0127 24001B         2  59729113         clr     b	                #0,x0
P:0128 56F400 000078  3  60029116         move    #>$78,a
P:012A 0BF080 rrrrrr  6  60629118         jsr     SysCallFunction
                            29119 
                            29120 ; 153  |                                break;
                            29121 ; 154  |                        }
                            29122 ; 155  |                }
                            29123 ; 156  |                if (g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC)
                            29124 
P:012C 59F000 rrrrrr  3  60929126 L21:    move    y:Fg_MenuFlags,b0
P:012E 0AC901 rrrrrr  6  61529127         jclr    #1,b0,L23
                            29128 
                            29129 ; 157  |                {
                            29130 ; 158  |                        bDone = TRUE;
                            29131 
                            29141 
                            29142 ; 159  |                        result = -1;
                            29143 
P:0130 77F400 FFFFFE  3  61829136         move    #-2,n7
P:0132 2D0100         2  62029133         move    #1,b1
P:0133 5D6F00         4  62429138         move    b1,y:(r7+n7)
P:0134 57F400 FFFFFF  3  62729145         move    #>-1,b
P:0136 21FF00         2  62929148         move    b,n7
P:0137 000000         2  63129148         nop             ; (inserted)
P:0138 5F6F00         4  63529150         move    b,y:(r7+n7)
P:0139 77F400 FFFFFE  3  63829154 L23:    move    #-2,n7
P:013B 000000         2  64029154         nop             ; (inserted)
P:013C 5FEF00         4  64429156         move    y:(r7+n7),b
P:013D 2B0000         2  64629157         move    #0,b2
P:013E 20000B         2  64829158         tst     b
P:013F 0AF0AA rrrrrr  6  65429159         jeq     L3
                            29160 
                            29161 ; 160  |                }
                            29162 ; 161  |        }
                            29163 ; 162  |        return result;
                            29164 
                            29171 
                            29172 ; 163  |}
                            29173 
P:0141 045FA0         2  65629166         movec   m0,n7
P:0142 000000         2  65829166         nop             ; (inserted)
P:0143 5EEF00         4  66229168         move    y:(r7+n7),a
P:0144 77F400 FFFFF9  3  66529175         move    #-7,n7
P:0146 000000         2  66729175         nop             ; (inserted)
P:0147 05EF7C         4  67129177         movec   y:(r7+n7),ssh
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 481

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0148 204F00         2  67329179         move    (r7)+n7
P:0149 00000C         4  67729181         rts
                            29185 
                            29186 ; 164  |#endif  // #ifdef USE_PLAYLIST3
                            29187 ; 165  |/////////////////////////////////////////////////////////////////////////////////////////
                            29188 ; 166  |//
                            29189 ; 167  |//  Name:               void clear_display
                            29190 ; 168  |//
                            29191 ; 169  |//   Type:          Function (clear display message sent to display task)
                            29192 ; 170  |//
                            29193 ; 171  |//   Description:   This function sends the clear display message to display task.
                            29194 ; 172  |//
                            29195 ; 173  |//   Inputs:        none
                            29196 ; 174  |//
                            29197 ; 175  |//   Outputs:       none
                            29198 ; 176  |//
                            29199 ; 177  |//   Notes:         SDK3.0 used macro but SDK2.6 used func. Consider if inline is appropri
                                  ate.
                            29200 ; 178  |//
                            29201 ; 179  |//
                            29202 ; 180  |//////////////////////////////////////////////////////////////////////////////////////////
                                  
                            29203 ; 181  |
                            29204 ; 182  |// #define clear_display() SysCallFunction(RSRC_DISPLAY_CODE_BANK,DisplayClearDisplay,0,0,
                                  0)
                            29205 ; 183  |void clear_display(void)
                            29206 ; 184  |{
                            29207 
                            29212 Fclear_display:
                            29215 
                            29216 ; 185  |    SysCallFunction(RSRC_DISPLAY_CODE_BANK,DisplayClearDisplay,0,0,0);
                            29217 
P:014A 05707C rrrrrr  4  68129213         movec   ssh,y:ss_clear_display
P:014C 340000         2  68329221         move    #0,r4
P:014D 60F400 rrrrrr  3  68629223         move    #FDisplayClearDisplay,r0
P:014F 24001B         2  68829220         clr     b	                #0,x0
P:0150 56F400 000022  3  69129222         move    #>34,a
P:0152 0BF080 rrrrrr  6  69729224         jsr     SysCallFunction
                            29225 
                            29226 ; 186  |}
                            29227 
P:0154 05F07C rrrrrr  4  70129229         movec   y:ss_clear_display,ssh
P:0156 000000         2  70329229         nop             ; (inserted)
P:0157 00000C         4  70729232         rts
                            29233 
Y:0000                      29234         org     y,".yovldeletemenu@clear_display",overlay:
                            29235 ss_clear_display:
Y:0000 RESERVED             29236         ds      1
Y:0000
                            29237 
P:0158                      29238         org     p,".ptextdeletemenu":
                            29240 
                            29241 ; 187  |
                            29242 ; 188  |
                            29243 ; 189  |
                            29244 ; 190  |/////////////////////////////////////////////////////////////////////////////////////////
                            29245 ; 191  |//
                            29246 ; 192  |//  Name:          int  hndl_delete_main_menu(WORD button, int * iHighLightedItem)
                            29247 ; 193  |//
                            29248 ; 194  |//   Type:          Function (hndl buttons that are processed in delete main menu)
                            29249 ; 195  |//
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 482

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29250 ; 196  |//   Description:   This function allows selection of the delete sub-menus/functions (Musi
                                  c, Voice,
                            29251 ; 197  |//                                      All_music, All_voice, exit). It processes the butt
                                  on and returns to  DeleteMenu.
                            29252 ; 198  |//
                            29253 ; 199  |//   Inputs:        button - to process (       PR_FF, PH_FF,  PR_RW, PH_RW, PR_MENU)
                            29254 ; 200  |//                                  iHighLightedItem -- sub-menu that is currently selecte
                                  d.
                            29255 ; 201  |//
                            29256 ; 202  |//   Outputs:       iHighLightedItem - set to the current selection
                            29257 ; 203  |//                  return next_menu -- delete sub_menu or the next menu to go to.
                            29258 ; 204  |//
                            29259 ; 205  |//   Notes:
                            29260 ; 206  |//
                            29261 ; 207  |//
                            29262 ; 208  |//////////////////////////////////////////////////////////////////////////////////////////
                                  
                            29263 ; 209  |
                            29264 ; 210  |int _reentrant hndl_delete_main_menu(WORD button, int * iHighLightedItem)
                            29265 ; 211  |{
                            29266 
                            29273 Fhndl_delete_main_menu:
                            29285 
                            29286 ; 212  |        int inext_menu = MENU_DELETE_MAIN;
                            29287 
                            29296 
                            29297 ; 213  |
                            29298 ; 214  |        // check which button and process accordingly, caller assures valid buttons passed
                                  
                            29299 ; 215  |    switch(button)
                            29300 
P:0158 055F7C         2  70929274         movec   ssh,y:(r7)+
P:0159 65F400 rrrrrr  3  71229302         move    #L82,r5
P:015B 045FA0         2  71429291         movec   m0,n7
P:015C 2A0000         2  71629303         move    #0,a2
P:015D 57F400 000004  3  71929304         move    #>4,b
P:015F 21DD05         2  72129305         cmp     b,a     a,n5
P:0160 46F400 000005  3  72429289         move    #>5,y0
P:0162 205F00         2  72629277         move    (r7)+
P:0163 4E6F00         4  73029293         move    y0,y:(r7+n7)
P:0164 0AF0A7 rrrrrr  6  73629306         jgt     L81
P:0166 07ED95         8  74429307         movem   p:(r5+n5),r5
P:0167 000000         2  74629307         nop             ; (inserted)
P:0168 0AE580         4  75029309         jmp     (r5)
                            29310 
P:0169 rrrrrr               29311 L82:    dc      L58     ; case 0:
P:016A rrrrrr               29312         dc      L58     ; case 1:
P:016B rrrrrr               29313         dc      L56     ; case 2:
P:016C rrrrrr               29314         dc      L56     ; case 3:
P:016D rrrrrr               29315         dc      L59     ; case 4:
                            29316 
                            29317 
                            29318 ; 216  |        {
                            29319 ; 217  |        case PR_FF:
                            29320 ; 218  |        case PH_FF:
                            29321 ; 219  |                (*iHighLightedItem)++;
                            29322 
                            29324 L56:
                            29328 
                            29329 ; 220  |                if(*iHighLightedItem>DELETEMENU_LAST)
                            29330 
P:016E 46F400 000001  3  75329325         move    #>1,y0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 483

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0170 5FE000         2  75529324         move    y:(r0),b
P:0171 47F458 000002  3  75829326         add     y0,b	                #>2,y1
P:0173 5D607D         2  76029333         cmp     y1,b	                b1,y:(r0)
P:0174 0AF0AF rrrrrr  6  76629334         jle     L81
                            29335 
                            29336 ; 221  |                *iHighLightedItem = DELETEMENU_FIRST;
                            29337 ; 222  |                break;
                            29338 
P:0176 0AF080 rrrrrr  6  77229340         jmp     L76
                            29341 
                            29342 ; 223  |
                            29343 ; 224  |        case PR_RW:
                            29344 ; 225  |                case PH_RW:
                            29345 ; 226  |                (*iHighLightedItem)--;
                            29346 
                            29348 L58:
                            29353 
                            29354 ; 227  |                if(*iHighLightedItem<DELETEMENU_FIRST)
                            29355 
P:0178 45F400 000001  3  77529350         move    #>1,x1
P:017A 5EE000         2  77729348         move    y:(r0),a
P:017B 200064         2  77929351         sub     x1,a
P:017C 5C6000         2  78129352         move    a1,y:(r0)
P:017D 0AF0A1 rrrrrr  6  78729357         jge     L81
                            29358 
                            29359 ; 228  |                *iHighLightedItem = DELETEMENU_LAST;
                            29360 
                            29364 
                            29365 ; 229  |                break;
                            29366 
P:017F 290200         2  78929362         move    #2,b0
P:0180 596000         2  79129363         move    b0,y:(r0)
P:0181 0AF080 rrrrrr  6  79729368         jmp     L81
                            29369 
                            29370 ; 230  |
                            29371 ; 231  |        case PR_MENU:
                            29372 ; 232  |            inext_menu = *iHighLightedItem;
                            29373 
                            29375 L59:
                            29379 
                            29380 ; 233  |#ifdef USE_PLAYLIST3
                            29381 ; 234  |                g_bDeleteBrowse = TRUE;
                            29382 
                            29386 
                            29387 ; 235  |                switch (*iHighLightedItem)
                            29388 
P:0183 045FA0         2  79929376         movec   m0,n7
P:0184 2D0100         2  80129384         move    #1,b1
P:0185 4EE000         2  80329375         move    y:(r0),y0
P:0186 4E6F00         4  80729378         move    y0,y:(r7+n7)
P:0187 5D7000 rrrrrr  3  81029385         move    b1,y:Fg_bDeleteBrowse
P:0189 46F400 000001  3  81329391         move    #>1,y0
P:018B 5FE000         2  81529390         move    y:(r0),b
P:018C 20005D         2  81729392         cmp     y0,b
P:018D 0AF0AA rrrrrr  6  82329393         jeq     L64
P:018F 20000B         2  82529394         tst     b
P:0190 0AF0A2 rrrrrr  6  83129395         jne     L75
                            29396 
                            29397 ; 236  |                {
                            29398 ; 237  |                case MENU_DELETE_VOICE:
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 484

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29399 ; 238  |                        switch(select_delete_type_submenu())
                            29400 
P:0192 0BF080 rrrrrr  6  83729402         jsr     Fselect_delete_type_submenu
P:0194 46F400 000001  3  84029404         move    #>1,y0
P:0196 46F455 000002  3  84329405         cmp     y0,a    #>2,y0
P:0198 0AF0AA rrrrrr  6  84929406         jeq     L62
P:019A 200055         2  85129407         cmp     y0,a
P:019B 0AF0AA rrrrrr  6  85729408         jeq     L63
P:019D 200003         2  85929409         tst     a
P:019E 0AF0A2 rrrrrr  6  86529410         jne     L68
                            29411 
                            29412 ; 239  |                        {
                            29413 ; 240  |            case VOICE_SUBMENU:
                            29414 ; 241  |                SysCallFunction(RSRC_BROWSE_MENU_CODE_BANK,BrowseMenu,ITEM_VOICE,RSRC_STRI
                                  NG_VOICE_MENU,0);
                            29415 
P:01A0 340000         2  86729417         move    #0,r4
P:01A1 60F400 rrrrrr  3  87029419         move    #FBrowseMenu,r0
P:01A3 57F400 00000F  3  87329418         move    #>15,b
P:01A5 56F400 0003FB  3  87629420         move    #1019,a
P:01A7 44F400 000113  3  87929421         move    #275,x0
P:01A9 0BF080 rrrrrr  6  88529422         jsr     SysCallFunction
                            29423 
                            29424 ; 242  |                break;
                            29425 
P:01AB 0AF080 rrrrrr  6  89129427         jmp     L75
                            29428 
                            29429 ; 243  |            case FMREC_SUBMENU:
                            29430 ; 244  |                SysCallFunction(RSRC_BROWSE_MENU_CODE_BANK,BrowseMenu,ITEM_FMREC,RSRC_STRI
                                  NG_FM_REC,0);
                            29431 
P:01AD 340000         2  89329433 L62:    move    #0,r4
P:01AE 60F400 rrrrrr  3  89629435         move    #FBrowseMenu,r0
P:01B0 57F400 000010  3  89929434         move    #>16,b
P:01B2 56F400 0003FB  3  90229436         move    #1019,a
P:01B4 44F400 000408  3  90529437         move    #1032,x0
P:01B6 0BF080 rrrrrr  6  91129438         jsr     SysCallFunction
                            29439 
                            29440 ; 245  |                inext_menu = MENU_DELETE_FM;
                            29441 
                            29451 
                            29452 ; 246  |                break;
                            29453 
P:01B8 045FA0         2  91329446         movec   m0,n7
P:01B9 57F400 000006  3  91629443         move    #>6,b
P:01BB 5F6F00         4  92029448         move    b,y:(r7+n7)
P:01BC 0AF080 rrrrrr  6  92629455         jmp     L75
                            29456 
                            29457 ; 247  |            case LINEIN_SUBMENU:
                            29458 ; 248  |                SysCallFunction(RSRC_BROWSE_MENU_CODE_BANK,BrowseMenu,ITEM_PHOTO,RSRC_STRI
                                  NG_LINEIN_REC,0);
                            29459 
P:01BE 340000         2  92829461 L63:    move    #0,r4
P:01BF 60F400 rrrrrr  3  93129463         move    #FBrowseMenu,r0
P:01C1 57F400 000011  3  93429462         move    #>17,b
P:01C3 56F400 0003FB  3  93729464         move    #1019,a
P:01C5 44F400 000409  3  94029465         move    #1033,x0
P:01C7 0BF080 rrrrrr  6  94629466         jsr     SysCallFunction
                            29467 
                            29468 ; 249  |                inext_menu = MENU_DELETE_LINEIN;
                            29469 
                            29479 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 485

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29480 ; 250  |                break;
                            29481 
P:01C9 045FA0         2  94829474         movec   m0,n7
P:01CA 280800         2  95029471         move    #8,a0
P:01CB 586F00         4  95429476         move    a0,y:(r7+n7)
P:01CC 0AF080 rrrrrr  6  96029483         jmp     L75
                            29484 
                            29485 ; 251  |                        default:
                            29486 ; 252  |                                inext_menu = MENU_DELETE_MAIN;
                            29487 ; 253  |                                break;
                            29488 ; 254  |                        }
                            29489 ; 255  |                        break;
                            29490 ; 256  |                case MENU_DELETE_VOICE_ALL:
                            29491 ; 257  |                        switch(select_delete_type_submenu())
                            29492 
P:01CE 0BF080 rrrrrr  6  96629494 L64:    jsr     Fselect_delete_type_submenu
P:01D0 47F400 000001  3  96929495         move    #>1,y1
P:01D2 47F475 000002  3  97229496         cmp     y1,a    #>2,y1
P:01D4 0AF0AA rrrrrr  6  97829497         jeq     L65
P:01D6 200075         2  98029498         cmp     y1,a
P:01D7 0AF0AA rrrrrr  6  98629499         jeq     L66
P:01D9 200003         2  98829500         tst     a
P:01DA 0AF0AA rrrrrr  6  99429501         jeq     L75
P:01DC 0AF080 rrrrrr  6 100029502         jmp     L68
                            29503 
                            29504 ; 258  |                        {
                            29505 ; 259  |            case VOICE_SUBMENU:
                            29506 ; 260  |                break;
                            29507 ; 261  |            case FMREC_SUBMENU:
                            29508 ; 262  |                inext_menu = MENU_DELETE_FM_ALL;
                            29509 
                            29511 L65:
                            29519 
                            29520 ; 263  |                break;
                            29521 
P:01DE 045FA0         2 100229514         movec   m0,n7
P:01DF 2C0700         2 100429511         move    #7,a1
P:01E0 5C6F00         4 100829516         move    a1,y:(r7+n7)
P:01E1 0AF080 rrrrrr  6 101429523         jmp     L75
                            29524 
                            29525 ; 264  |            case LINEIN_SUBMENU:
                            29526 ; 265  |                inext_menu = MENU_DELETE_LINEIN_ALL;
                            29527 
                            29529 L66:
                            29537 
                            29538 ; 266  |                break;
                            29539 
P:01E3 045FA0         2 101629532         movec   m0,n7
P:01E4 56F400 000009  3 101929529         move    #>9,a
P:01E6 5E6F00         4 102329534         move    a,y:(r7+n7)
P:01E7 0AF080 rrrrrr  6 102929541         jmp     L75
                            29542 
                            29543 ; 267  |                        default:
                            29544 ; 268  |                                inext_menu = MENU_DELETE_MAIN;
                            29545 
                            29547 L68:
                            29555 
                            29556 ; 269  |                                break;
                            29557 ; 270  |                        }
                            29558 ; 271  |                        break;
                            29559 ; 272  |                }
                            29560 ; 273  |                g_bDeleteBrowse = FALSE;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 486

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29561 
P:01E9 045FA0         2 103129550         movec   m0,n7
P:01EA 46F400 000005  3 103429547         move    #>5,y0
P:01EC 4E6F00         4 103829552         move    y0,y:(r7+n7)
                            29563 L75:
                            29565 
                            29566 ; 274  |#else   // #ifdef USE_PLAYLIST3
                            29567 ; 275  |#if 0 // Delete all songs is very slow (like minutes), so this feature is removed
                            29568 ; 276  |            if((*iHighLightedItem == MENU_DELETE_MUSIC_ALL) || (*iHighLightedItem == MENU_
                                  DELETE_MUSIC))
                            29569 ; 277  |            {
                            29570 ; 278  |                ChangePlaySet(PLAYSET_MUSIC);
                            29571 ; 279  |                //Playlist_SetPlaySet will reset the current list to the beginning of the 
                                  list.
                            29572 ; 280  |                if (*iHighLightedItem == MENU_DELETE_MUSIC_ALL)
                            29573 ; 281  |                SysCallFunction(RSRC_PLAYERLIST_CODEBANK,Playlist_SetPlaySet,Playlist_GetP
                                  laySet(),TRUE,0);
                            29574 ; 282  |
                            29575 ; 283  |                if (SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSon
                                  g,CURRENTSONG_DELETE_MENU,0,0) != PLAYERLIB_SUCCESS)    //stmp7120 Delete even bad files.
                            29576 ; 284  |                {
                            29577 ; 285  |                                        // stay in Delete main
                            29578 ; 286  |                                        inext_menu = MENU_DELETE_MAIN;
                            29579 ; 287  |                }
                            29580 ; 288  |            }
                            29581 ; 289  |            else
                            29582 ; 290  | #endif
                            29583 ; 291  |            if((*iHighLightedItem == MENU_DELETE_VOICE_ALL) || (*iHighLightedItem == MENU_
                                  DELETE_VOICE))
                            29584 ; 292  |            {
                            29585 ; 293  |                ChangePlaySet(PLAYSET_VOICE);
                            29586 ; 294  |                //Playlist_SetPlaySet will reset the current list to the beginning of the 
                                  list.
                            29587 ; 295  |                if (*iHighLightedItem == MENU_DELETE_VOICE_ALL)
                            29588 ; 296  |                    SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_SetPlaySet,Playlist_Ge
                                  tPlaySet(),TRUE,0);
                            29589 ; 297  |
                            29590 ; 298  |                if (SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSon
                                  g,0,0,0) != PLAYERLIB_SUCCESS) //stmp7120 Delete even bad files
                            29591 ; 299  |                {
                            29592 ; 300  |                    // handle boundry cases, stay in DELETE main
                            29593 ; 301  |                    inext_menu = MENU_DELETE_MAIN;
                            29594 ; 302  |                }
                            29595 ; 303  |            }
                            29596 ; 304  |
                            29597 ; 305  |#endif // #ifndef USE_PLAYLIST3
                            29598 ; 306  |            break;
                            29599 
P:01ED 240000         2 104029563         move    #0,x0
P:01EE 4C7000 rrrrrr  3 104329564         move    x0,y:Fg_bDeleteBrowse
P:01F0 0AF080 rrrrrr  6 104929601         jmp     L81
                            29603 L76:
                            29607 
                            29608 ; 307  |
                            29609 ; 308  |        default:
                            29610 ; 309  |            // error.
                            29611 ; 310  |           break;
                            29612 ; 311  |        } // end switch
                            29613 ; 312  |
                            29614 ; 313  |        return inext_menu;
                            29615 
P:01F2 2F0000         2 105129605         move    #0,b
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 487

M:ADDR CODE           CYCLES LINE SOURCELINE
P:01F3 5F6000         2 105329606         move    b,y:(r0)
                            29617 L81:
                            29622 
                            29623 ; 314  |}
                            29624 
P:01F4 045FA0         2 105529617         movec   m0,n7
P:01F5 000000         2 105729617         nop             ; (inserted)
P:01F6 5EEF00         4 106129619         move    y:(r7+n7),a
P:01F7 204F00         2 106329626         move    (r7)+n7
P:01F8 05FF7C         4 106729628         movec   y:-(r7),ssh
P:01F9 000000         2 106929628         nop             ; (inserted)
P:01FA 00000C         4 107329632         rts
                            29636 
                            29637 ; 315  |/////////////////////////////////////////////////////////////////////////////////////////
                            29638 ; 316  |//
                            29639 ; 317  |//  Name:               void display_question_track_yes_or_no
                            29640 ; 318  |//
                            29641 ; 319  |//   Type:          Function (display question, track to delete, yes or no option)
                            29642 ; 320  |//
                            29643 ; 321  |//   Description:   This function displays the question: whether file should be deleted?
                            29644 ; 322  |//                                      displays the track/title (for the file that will b
                                  e deleted)
                            29645 ; 323  |//                                      displays yes or no (one of the options is highligh
                                  ted)
                            29646 ; 324  |//
                            29647 ; 325  |//
                            29648 ; 326  |//   Inputs:        y_or_no:  highlight either yes or no option
                            29649 ; 327  |//
                            29650 ; 328  |//   Outputs:       none
                            29651 ; 329  |//
                            29652 ; 330  |//   Notes:
                            29653 ; 331  |//
                            29654 ; 332  |//
                            29655 ; 333  |//////////////////////////////////////////////////////////////////////////////////////////
                                  
                            29656 ; 334  |
                            29657 ; 335  |void _reentrant display_question_track_yes_or_no(WORD y_or_no )
                            29658 ; 336  |{
                            29659 
                            29664 Fdisplay_question_track_yes_or_no:
                            29677 
                            29678 ; 337  |        // Question
                            29679 ; 338  |        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,WARNING_MSG_LINE1_X,WARNING_MSG_LINE1_Y,RSRC
                                  _WARNING_MSG_LINE1);
                            29680 
P:01FB 055F7C         2 107529665         movec   ssh,y:(r7)+
P:01FC 045FA0         2 107729672         movec   m0,n7
P:01FD 291000         2 107929688         move    #16,b0
P:01FE 2D0500         2 108129682         move    #5,b1
P:01FF 46F400 00013D  3 108429685         move    #317,y0
P:0201 47F400 030001  3 108729683         move    #$30001,y1
P:0203 205F00         2 108929668         move    (r7)+
P:0204 5C6F13         4 109329684         clr     a	                a1,y:(r7+n7)
P:0205 4E5F00         2 109529686         move    y0,y:(r7)+
P:0206 595F00         2 109729689         move    b0,y:(r7)+
P:0207 5E5F00         2 109929691         move    a,y:(r7)+
P:0208 4F5F00         2 110129693         move    y1,y:(r7)+
P:0209 5D5F00         2 110329695         move    b1,y:(r7)+
P:020A 0BF080 rrrrrr  6 110929697         jsr     FSysPostMessage
                            29702 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 488

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29703 ; 339  |        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,WARNING_MSG_LINE2_X,WARNING_MSG_LINE2_Y,RSRC
                                  _WARNING_MSG_LINE2);
                            29704 
P:020C 3F0513         2 111129708         clr     a	                #5,n7
P:020D 291800         2 111329712         move    #24,b0
P:020E 2D0500         2 111529706         move    #5,b1
P:020F 44F400 00013E  3 111829709         move    #318,x0
P:0211 45F400 030001  3 112129707         move    #$30001,x1
P:0213 204700         2 112329700         move    (r7)-n7
P:0214 4C5F00         2 112529710         move    x0,y:(r7)+
P:0215 595F00         2 112729713         move    b0,y:(r7)+
P:0216 5E5F00         2 112929715         move    a,y:(r7)+
P:0217 4D5F00         2 113129717         move    x1,y:(r7)+
P:0218 5D5F00         2 113329719         move    b1,y:(r7)+
P:0219 0BF080 rrrrrr  6 113929721         jsr     FSysPostMessage
                            29726 
                            29727 ; 340  |
                            29728 ; 341  |        //Track
                            29729 ; 342  |        SysPostMessage(6,LCD_CLEAR_RANGE,WARNING_MSG_FILE_X,WARNING_MSG_FILE_Y,SONG_TITLE_
                                  X_SIZE,SONG_TITLE_Y_SIZE);
                            29730 
P:021B 3F0500         2 114129722         move    #5,n7
P:021C 290A13         2 114329732         clr     a	                #10,b0
P:021D 2D2800         2 114529733         move    #40,b1
P:021E 260300         2 114729744         move    #<3,y0
P:021F 204700         2 114929724         move    (r7)-n7
P:0220 595F00         2 115129735         move    b0,y:(r7)+
P:0221 298000         2 115329737         move    #$80,b0
P:0222 595F00         2 115529738         move    b0,y:(r7)+
P:0223 290600         2 115729747         move    #6,b0
P:0224 5D5F00         2 115929740         move    b1,y:(r7)+
P:0225 5E5F00         2 116129742         move    a,y:(r7)+
P:0226 4E5F00         2 116329745         move    y0,y:(r7)+
P:0227 595F00         2 116529748         move    b0,y:(r7)+
P:0228 0BF080 rrrrrr  6 117129750         jsr     FSysPostMessage
                            29755 
                            29756 ; 343  |        SysPostMessage(5,LCD_PRINT_STRING_UNICODE_ADDR,WARNING_MSG_FILE_X,WARNING_MSG_FILE
                                  _Y,g_wSongTitle);
                            29757 
P:022A 3F0613         2 117329760         clr     a	                #6,n7
P:022B 64F400 rrrrrr  3 117629761         move    #Fg_wSongTitle,r4
P:022D 292800         2 117829764         move    #40,b0
P:022E 2D0500         2 118029759         move    #5,b1
P:022F 204700         2 118229753         move    (r7)-n7
P:0230 6C5F00         2 118429762         move    r4,y:(r7)+
P:0231 595F00         2 118629765         move    b0,y:(r7)+
P:0232 5E5F00         2 118829767         move    a,y:(r7)+
P:0233 56F400 030017  3 119129769         move    #196631,a
P:0235 5E5F00         2 119329770         move    a,y:(r7)+
P:0236 5D5F00         2 119529772         move    b1,y:(r7)+
P:0237 0BF080 rrrrrr  6 120129774         jsr     FSysPostMessage
                            29779 
                            29780 ; 344  |
                            29781 ; 345  |        // YES or NO
                            29782 ; 346  |        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,WARNING_MSG_YES_X,WARNING_MSG_YES_Y,y_or_no)
                                  ;
                            29783 
P:0239 3F0513         2 120329785         clr     a	                #5,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 489

M:ADDR CODE           CYCLES LINE SOURCELINE
P:023A 293800         2 120529794         move    #$38,b0
P:023B 47F400 030001  3 120829799         move    #$30001,y1
P:023D 204700         2 121029777         move    (r7)-n7
P:023E 045FA0         2 121229786         movec   m0,n7
P:023F 000000         2 121429786         nop             ; (inserted)
P:0240 4EEF00         4 121829788         move    y:(r7+n7),y0
P:0241 4E5F00         2 122029791         move    y0,y:(r7)+
P:0242 595F00         2 122229795         move    b0,y:(r7)+
P:0243 290500         2 122429802         move    #5,b0
P:0244 5E5F00         2 122629797         move    a,y:(r7)+
P:0245 4F5F00         2 122829800         move    y1,y:(r7)+
P:0246 595F00         2 123029803         move    b0,y:(r7)+
P:0247 0BF080 rrrrrr  6 123629805         jsr     FSysPostMessage
                            29810 
                            29811 ; 347  |
                            29812 ; 348  |         SysWaitOnEvent(0,0,0); // allow lcd to process messages
                            29813 
                            29818 
                            29819 ; 349  | }
                            29820 
P:0249 3F051B         2 123829816         clr     b	                #5,n7
P:024A 300013         2 124029817         clr     a	                #0,r0
P:024B 204700         2 124229808         move    (r7)-n7
P:024C 205700         2 124429822         move    (r7)-
P:024D 0BF080 rrrrrr  6 125029824         jsr     SysWaitOnEvent
P:024F 05FF7C         4 125429827         movec   y:-(r7),ssh
P:0250 000000         2 125629827         nop             ; (inserted)
P:0251 00000C         4 126029831         rts
                            29833 
                            29834 ; 350  |
                            29835 ; 351  |/////////////////////////////////////////////////////////////////////////////////////////
                            29836 ; 352  |//
                            29837 ; 353  |//  Name:               void display_question_del_all_yes_or_no
                            29838 ; 354  |//
                            29839 ; 355  |//   Type:          Function (display question - whether to delete all files (music or voi
                                  ce)
                            29840 ; 356  |//
                            29841 ; 357  |//   Description:   This function displays the question: whether all files should be delet
                                  ed?
                            29842 ; 358  |//                                      displays yes or no (one of the options is highligh
                                  ted)
                            29843 ; 359  |//
                            29844 ; 360  |//
                            29845 ; 361  |//   Inputs:        y_or_no:  highlight either yes or no option
                            29846 ; 362  |//
                            29847 ; 363  |//   Outputs:       none
                            29848 ; 364  |//
                            29849 ; 365  |//   Notes:
                            29850 ; 366  |//
                            29851 ; 367  |//
                            29852 ; 368  |//////////////////////////////////////////////////////////////////////////////////////////
                                  
                            29853 ; 369  |
                            29854 ; 370  |void _reentrant display_question_del_all_yes_or_no(WORD y_or_no )
                            29855 ; 371  |{
                            29856 
                            29861 Fdisplay_question_del_all_yes_or_no:
                            29874 
                            29875 ; 372  |        // Question
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 490

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29876 ; 373  |        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,WARNING_MSG_LINE1_X,WARNING_MSG_LINE1_Y,RSRC
                                  _WARNING_MSG_LINE1);
                            29877 
P:0252 055F7C         2 126229862         movec   ssh,y:(r7)+
P:0253 045FA0         2 126429869         movec   m0,n7
P:0254 291000         2 126629885         move    #16,b0
P:0255 2D0500         2 126829879         move    #5,b1
P:0256 46F400 00013D  3 127129882         move    #317,y0
P:0258 47F400 030001  3 127429880         move    #$30001,y1
P:025A 205F00         2 127629865         move    (r7)+
P:025B 5C6F13         4 128029881         clr     a	                a1,y:(r7+n7)
P:025C 4E5F00         2 128229883         move    y0,y:(r7)+
P:025D 595F00         2 128429886         move    b0,y:(r7)+
P:025E 5E5F00         2 128629888         move    a,y:(r7)+
P:025F 4F5F00         2 128829890         move    y1,y:(r7)+
P:0260 5D5F00         2 129029892         move    b1,y:(r7)+
P:0261 0BF080 rrrrrr  6 129629894         jsr     FSysPostMessage
                            29899 
                            29900 ; 374  |        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,WARNING_MSG_LINE2_X,WARNING_MSG_LINE2_Y,RSRC
                                  _WARNING_MSG_ALL_LINE2);
                            29901 
P:0263 3F0513         2 129829905         clr     a	                #5,n7
P:0264 291800         2 130029909         move    #24,b0
P:0265 2D0500         2 130229903         move    #5,b1
P:0266 44F400 000378  3 130529906         move    #888,x0
P:0268 45F400 030001  3 130829904         move    #$30001,x1
P:026A 204700         2 131029897         move    (r7)-n7
P:026B 4C5F00         2 131229907         move    x0,y:(r7)+
P:026C 595F00         2 131429910         move    b0,y:(r7)+
P:026D 5E5F00         2 131629912         move    a,y:(r7)+
P:026E 4D5F00         2 131829914         move    x1,y:(r7)+
P:026F 5D5F00         2 132029916         move    b1,y:(r7)+
P:0270 0BF080 rrrrrr  6 132629918         jsr     FSysPostMessage
                            29923 
                            29924 ; 375  |
                            29925 ; 376  |        // Yes or NO
                            29926 ; 377  |        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,WARNING_MSG_YES_X,WARNING_MSG_YES_Y,y_or_no)
                                  ;
                            29927 
P:0272 3F0513         2 132829929         clr     a	                #5,n7
P:0273 000000         2 133029929         nop             ; (inserted)
P:0274 204700         2 133229921         move    (r7)-n7
P:0275 045FA0         2 133429930         movec   m0,n7
P:0276 000000         2 133629930         nop             ; (inserted)
P:0277 59EF00         4 134029932         move    y:(r7+n7),b0
P:0278 595F00         2 134229935         move    b0,y:(r7)+
P:0279 293800         2 134429938         move    #$38,b0
P:027A 595F00         2 134629939         move    b0,y:(r7)+
P:027B 57F400 030001  3 134929943         move    #$30001,b
P:027D 5E5F00         2 135129941         move    a,y:(r7)+
P:027E 5F5F00         2 135329944         move    b,y:(r7)+
P:027F 290500         2 135529946         move    #5,b0
P:0280 595F00         2 135729947         move    b0,y:(r7)+
P:0281 0BF080 rrrrrr  6 136329949         jsr     FSysPostMessage
                            29954 
                            29955 ; 378  |
                            29956 ; 379  |         SysWaitOnEvent(0,0,0); // allow lcd to process messages
                            29957 
                            29962 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 491

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29963 ; 380  | }
                            29964 
P:0283 3F051B         2 136529960         clr     b	                #5,n7
P:0284 300013         2 136729961         clr     a	                #0,r0
P:0285 204700         2 136929952         move    (r7)-n7
P:0286 205700         2 137129966         move    (r7)-
P:0287 0BF080 rrrrrr  6 137729968         jsr     SysWaitOnEvent
P:0289 05FF7C         4 138129971         movec   y:-(r7),ssh
P:028A 000000         2 138329971         nop             ; (inserted)
P:028B 00000C         4 138729975         rts
                            29977 
                            29978 ; 381  |
                            29979 ; 382  |/////////////////////////////////////////////////////////////////////////////////////////
                            29980 ; 383  |//
                            29981 ; 384  |//  Name:          int  hndl_del_music_voice_file_menu(int inext_menu, WORD button, int * 
                                  iHighLightedItem)
                            29982 ; 385  |//
                            29983 ; 386  |//   Type:          Function (handle buttons that are processed in delete file (music or v
                                  oice) sub-menu
                            29984 ; 387  |//
                            29985 ; 388  |//   Description:   This function allows processing of the delete file sub-menus/functions
                                   (yes or no toggle
                            29986 ; 389  |//                  and selection of yes or no and associated processing).
                            29987 ; 390  |//
                            29988 ; 391  |//   Inputs:        button - to process (       PR_FF, PH_FF,  PR_RW, PH_RW, PR_MENU)
                            29989 ; 392  |//                                  iHighLightedItem -- yes or no that is currently select
                                  ed.
                            29990 ; 393  |//                                      inext_menu - current sub-menu
                            29991 ; 394  |//
                            29992 ; 395  |//   Outputs:
                            29993 ; 396  |//                  return next_menu -- delete main or the current delete file sub-menu (m
                                  usic or voice).
                            29994 ; 397  |//
                            29995 ; 398  |//   Notes:
                            29996 ; 399  |//
                            29997 ; 400  |//
                            29998 ; 401  |//////////////////////////////////////////////////////////////////////////////////////////
                                  
                            29999 ; 402  |
                            30000 ; 403  |int _reentrant hndl_del_music_voice_file_menu(int inext_menu, WORD button, int * iHighLigh
                                  tedItem)
                            30001 ; 404  |{
                            30002 
                            30015 Fhndl_del_music_voice_file_menu:
                            30029 
                            30030 ; 405  |#ifdef USE_PLAYLIST3
                            30031 ; 406  |        int iError;
                            30032 
                            30037 
                            30038 ; 407  |#endif  // #ifdef USE_PLAYLIST3
                            30039 ; 408  |        // check which button and process accordingly
                            30040 ; 409  |    switch(button)
                            30041 
P:028C 055F7C         2 138930016         movec   ssh,y:(r7)+
P:028D 63F400 rrrrrr  3 139230043         move    #L96,r3
P:028F 2B0000         2 139430044         move    #0,b2
P:0290 218600         2 139630034         move    a1,y0
P:0291 205F00         2 139830019         move    (r7)+
P:0292 56F400 000004  3 140130045         move    #>4,a
P:0294 21FB0D         2 140330046         cmp     a,b     b,n3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 492

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0295 0AF0A7 rrrrrr  6 140930047         jgt     L95
P:0297 07EB93         8 141730048         movem   p:(r3+n3),r3
P:0298 000000         2 141930048         nop             ; (inserted)
P:0299 0AE380         4 142330050         jmp     (r3)
                            30051 
P:029A rrrrrr               30052 L96:    dc      L86     ; case 0:
P:029B rrrrrr               30053         dc      L86     ; case 1:
P:029C rrrrrr               30054         dc      L86     ; case 2:
P:029D rrrrrr               30055         dc      L86     ; case 3:
P:029E rrrrrr               30056         dc      L87     ; case 4:
                            30057 
                            30058 
                            30059 ; 410  |        {
                            30060 ; 411  |        case PR_FF:
                            30061 ; 412  |                case PH_FF:
                            30062 ; 413  |                case PR_RW:
                            30063 ; 414  |        case PH_RW:
                            30064 ; 415  |                if (*iHighLightedItem == NO)
                            30065 
                            30067 L86:
P:029F 5FE000         2 142530067         move    y:(r0),b
P:02A0 20000B         2 142730069         tst     b
P:02A1 0AF0AA rrrrrr  6 143330070         jeq     L92
                            30071 
                            30072 ; 416  |                        {
                            30073 ; 417  |                                *iHighLightedItem = YES;
                            30074 ; 418  |                        }
                            30075 ; 419  |                        else
                            30076 ; 420  |                        {
                            30077 ; 421  |                *iHighLightedItem = NO;
                            30078 
                            30082 
                            30083 ; 422  |                        }
                            30084 ; 423  |                break;
                            30085 
P:02A3 2F0000         2 143530080         move    #0,b
P:02A4 5F6000         2 143730081         move    b,y:(r0)
P:02A5 0AF080 rrrrrr  6 144330087         jmp     L95
                            30088 
                            30089 ; 424  |
                            30090 ; 425  |        case PR_MENU:
                            30091 ; 426  |#ifdef USE_PLAYLIST3
                            30092 ; 427  |                if(*iHighLightedItem != NO)
                            30093 
P:02A7 5FE000         2 144530095 L87:    move    y:(r0),b
P:02A8 20000B         2 144730096         tst     b
P:02A9 0AF0AA rrrrrr  6 145330097         jeq     L91
                            30098 
                            30099 ; 428  |                {
                            30100 ; 429  |                        // clear MTP database clean flag; an object is being deleted, whic
                                  h needs to be accounted for
                            30101 ; 430  |                        ClearStickyBit((volatile _X WORD *)&HW_RTC_MTP_DB_CLEAN_FLAG_REG, 
                                  HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_BITPOS);
                            30102 
P:02AB 75F400 00F508  3 145630104         move    #62728,n5
P:02AD 23B000         2 145830105         move    n5,r0
P:02AE 56F400 000005  3 146130107         move    #>5,a
P:02B0 0BF080 rrrrrr  6 146730108         jsr     FClearStickyBit
                            30110 
                            30111 ; 431  |
                            30112 ; 432  |                        SysLoadFATWrite();
                            30113 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 493

M:ADDR CODE           CYCLES LINE SOURCELINE
P:02B2 0BF080 rrrrrr  6 147330115         jsr     SysLoadFATWrite
                            30116 
                            30117 ; 433  |                        iError = Fremove((_packed char *)g_CurrentSongName);
                            30118 
P:02B4 60F400 rrrrrr  3 147630120         move    #Fg_CurrentSongName,r0
P:02B6 0BF080 rrrrrr  6 148230121         jsr     FFremove
                            30126 
                            30127 ; 434  |                        SysUnLoadFATWrite();     // allow other apps to overwrite Fat Writ
                                  e App
                            30128 
P:02B8 045FA0         2 148430122         movec   m0,n7
P:02B9 000000         2 148630122         nop             ; (inserted)
P:02BA 5E6F00         4 149030124         move    a,y:(r7+n7)
P:02BB 0BF080 rrrrrr  6 149630130         jsr     SysUnLoadFATWrite
                            30131 
                            30132 ; 435  |
                            30133 ; 436  |                        if (iError == NOERROR)
                            30134 
P:02BD 045FA0         2 149830136         movec   m0,n7
P:02BE 000000         2 150030136         nop             ; (inserted)
P:02BF 5FEF00         4 150430138         move    y:(r7+n7),b
P:02C0 20000B         2 150630139         tst     b
P:02C1 0AF0A2 rrrrrr  6 151230142         jne     L90
                            30143 
                            30144 ; 437  |                        {
                            30145 ; 438  |                                if ((g_CurrentSongName[0] == 0x2f3a61) || (g_CurrentSongNa
                                  me[0] == 0x2f3a41))
                            30146 
P:02C3 5FF000 rrrrrr  3 151530148         move    y:Fg_CurrentSongName,b
P:02C5 46F400 2F3A61  3 151830150         move    #3095137,y0
P:02C7 20005D         2 152030151         cmp     y0,b
P:02C8 0AF0AA rrrrrr  6 152630152         jeq     L88
P:02CA 47F400 2F3A41  3 152930153         move    #3095105,y1
P:02CC 20007D         2 153130154         cmp     y1,b
P:02CD 0AF0A2 rrrrrr  6 153730155         jne     L89
                            30156 
                            30157 ; 439  |                                {
                            30158 ; 440  |                                        ClearStickyBit((volatile _X WORD *)&HW_RTC_SKIP_RE
                                  BUILD_REG,
                            30159 ; 441  |                                        HW_RTC_PERSISTENT1_SKIP_REBUILD_BITPOS);
                            30160 
                            30162 L88:
P:02CF 60F400 00F508  3 154030163         move    #$F508,r0
P:02D1 56F400 000002  3 154330162         move    #>2,a
P:02D3 0BF080 rrrrrr  6 154930164         jsr     FClearStickyBit
                            30165 
                            30166 ; 442  |                                        g_FlashWriteOccurFlag = TRUE;
                            30167 
                            30171 
                            30172 ; 443  |                                }
                            30173 ; 444  |                                bSystemInit = FALSE;
                            30174 
P:02D5 2C0100         2 155130169         move    #1,a1
P:02D6 5C7000 rrrrrr  3 155430170         move    a1,y:Fg_FlashWriteOccurFlag
                            30176 L89:
                            30178 
                            30179 ; 445  |                                g_Rebuild = TRUE;
                            30180 
                            30184 
                            30185 ; 446  |                                SysPostMessage(2,PARSER_DEVICE_ENUMERATE);
                            30186 
P:02D8 290200         2 155630191         move    #2,b0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 494

M:ADDR CODE           CYCLES LINE SOURCELINE
P:02D9 260000         2 155830176         move    #0,y0
P:02DA 44F400 000001  3 156130182         move    #>1,x0
P:02DC 4E7000 rrrrrr  3 156430177         move    y0,y:FbSystemInit
P:02DE 46F400 020005  3 156730188         move    #131077,y0
P:02E0 4C7000 rrrrrr  3 157030183         move    x0,y:Fg_Rebuild
P:02E2 4E5F00         2 157230189         move    y0,y:(r7)+
P:02E3 595F00         2 157430192         move    b0,y:(r7)+
P:02E4 0BF080 rrrrrr  6 158030194         jsr     FSysPostMessage
                            30199 
                            30200 ; 447  |                        }
                            30201 ; 448  |                        bWaitforDisplay = TRUE; // To fix defect 10915
                            30202 
P:02E6 205700         2 158230195         move    (r7)-
P:02E7 205700         2 158430197         move    (r7)-
                            30204 L90:
                            30206 
                            30207 ; 449  |                }
                            30208 ; 450  |                inext_menu = MENU_DELETE_MAIN;
                            30209 
P:02E8 2D0100         2 158630204         move    #1,b1
P:02E9 5D7000 rrrrrr  3 158930205         move    b1,y:FbWaitforDisplay
                            30211 L91:
                            30214 
                            30215 ; 451  |#else   // #ifdef USE_PLAYLIST3
                            30216 ; 452  |
                            30217 ; 453  |                        if(*iHighLightedItem == NO)
                            30218 ; 454  |                        {
                            30219 ; 455  |                                if (SysCallFunction(RSRC_PLAY_STATE_MACHINE_CODE_BANK,Play
                                  erLib_SkipToNextSong,FALSE,NEXTSONG_DELETE_MENU,0) != PLAYERLIB_SUCCESS)
                            30220 ; 456  |                                {
                            30221 ; 457  |                                        // handle boundary cases.
                            30222 ; 458  |                                        inext_menu = MENU_DELETE_MAIN;
                            30223 ; 459  |                                }
                            30224 ; 460  |                                else
                            30225 ; 461  |                                {
                            30226 ; 462  |                                        *iHighLightedItem = NO;
                            30227 ; 463  |                           }
                            30228 ; 464  |                        }
                            30229 ; 465  |                        else
                            30230 ; 466  |                        {
                            30231 ; 467  |
                            30232 ; 468  |                                if (DeleteFile() == NOERROR)
                            30233 ; 469  |                                {
                            30234 ; 470  |                                        if (SysCallFunction(RSRC_PLAY_STATE_MACHINE_CODE_B
                                  ANK,PlayerLib_SkipToNextSong,FALSE,NEXTSONG_DELETE_MENU,0) != PLAYERLIB_SUCCESS)
                            30235 ; 471  |                                        {
                            30236 ; 472  |                                                // handle boundry cases.
                            30237 ; 473  |                                                if ( g_wCurrentSongNumber == 1)
                            30238 ; 474  |                                                {
                            30239 ; 475  |
                            30240 ; 476  |                                                    if (SysCallFunction(RSRC_PLAYERLIB_EXT
                                  RA_CODE_BANK,PlayerLib_GetCurrentSong,CURRENTSONG_DELETE_MENU,0,0) == PLAYERLIB_SUCCESS) //stmp712
                                  0 Delete even bad files
                            30241 ; 477  |                                                    {
                            30242 ; 478  |                                                                // don't leave
                            30243 ; 479  |                                                                *iHighLightedItem = NO;
                            30244 ; 480  |                                                        }
                            30245 ; 481  |                                                        else
                            30246 ; 482  |                                                        {
                            30247 ; 483  |                                                        inext_menu = MENU_DELETE_MAIN;
                            30248 ; 484  |                                                        }
                            30249 ; 485  |                                                }
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 495

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30250 ; 486  |                                                else
                            30251 ; 487  |                                                {
                            30252 ; 488  |                                                        inext_menu = MENU_DELETE_MAIN;
                            30253 ; 489  |                                                }
                            30254 ; 490  |
                            30255 ; 491  |                                        }
                            30256 ; 492  |                                        else
                            30257 ; 493  |                                        {
                            30258 ; 494  |                                                *iHighLightedItem = NO;
                            30259 ; 495  |                                        }
                            30260 ; 496  |                                }
                            30261 ; 497  |                                else
                            30262 ; 498  |                                {
                            30263 ; 499  |                                           // error
                            30264 ; 500  |                                                inext_menu = MENU_DELETE_MAIN;
                            30265 ; 501  |                                }
                            30266 ; 502  |                        }
                            30267 ; 503  |
                            30268 ; 504  |#endif  // #ifdef USE_PLAYLIST3
                            30269 ; 505  |                break;
                            30270 
P:02EB 46F400 000005  3 159230211         move    #>5,y0
P:02ED 20CE00         2 159430213         move    y0,a
P:02EE 0AF080 rrrrrr  6 160030272         jmp     L95
                            30274 L92:
                            30278 
                            30279 ; 506  |
                            30280 ; 507  |                default:
                            30281 ; 508  |                        // error
                            30282 ; 509  |                        break;
                            30283 ; 510  |        } // end switch
                            30284 ; 511  |#ifndef USE_PLAYLIST3
                            30285 ; 512  |        if (inext_menu == MENU_DELETE_MAIN)
                            30286 ; 513  |                SysPostMessage(2,PARSER_DEVICE_ENUMERATE);
                            30287 ; 514  |#endif  // #ifndef USE_PLAYLIST3
                            30288 ; 515  |        return inext_menu;
                            30289 
P:02F0 290100         2 160230276         move    #1,b0
P:02F1 596000         2 160430277         move    b0,y:(r0)
                            30291 L95:
                            30294 
                            30295 ; 516  |}
                            30296 
P:02F2 205751         2 160630291         tfr     y0,a	                (r7)-
P:02F3 05FF7C         4 161030300         movec   y:-(r7),ssh
P:02F4 000000         2 161230300         nop             ; (inserted)
P:02F5 00000C         4 161630304         rts
                            30308 
                            30309 ; 517  |/////////////////////////////////////////////////////////////////////////////////////////
                            30310 ; 518  |//
                            30311 ; 519  |//  Name:          int  hndl_del_music_voice_all_menu(int inext_menu, WORD button, int * i
                                  HighLightedItem)
                            30312 ; 520  |//
                            30313 ; 521  |//   Type:          Function (handle buttons that are processed in delete all files (music
                                   or voice) sub-menu
                            30314 ; 522  |//
                            30315 ; 523  |//   Description:   This function allows processing of the delete all file sub-menus/funct
                                  ions (yes or no toggle
                            30316 ; 524  |//                  and selection of yes or no and associated processing).
                            30317 ; 525  |//
                            30318 ; 526  |//   Inputs:        button - to process (       PR_FF, PH_FF,  PR_RW, PH_RW, PR_MENU)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 496

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30319 ; 527  |//                                  iHighLightedItem -- yes or no that is currently select
                                  ed.
                            30320 ; 528  |//                                      inext_menu - current sub-menu
                            30321 ; 529  |//
                            30322 ; 530  |//   Outputs:
                            30323 ; 531  |//                  return next_menu -- delete main or the current delete all file sub-men
                                  u (music or voice).
                            30324 ; 532  |//
                            30325 ; 533  |//   Notes:
                            30326 ; 534  |//
                            30327 ; 535  |//
                            30328 ; 536  |//////////////////////////////////////////////////////////////////////////////////////////
                                  
                            30329 ; 537  |int _reentrant hndl_del_music_voice_all_menu(int inext_menu, WORD button, int * iHighLight
                                  edItem)
                            30330 ; 538  |{
                            30331 
                            30336 Fhndl_del_music_voice_all_menu:
                            30358 
                            30359 ; 539  |#ifdef USE_PLAYLIST3
                            30360 ; 540  |        INT browse_type;
                            30361 ; 541  |        INT highlight;
                            30362 ; 542  |        INT num_of_item;
                            30363 ; 543  |        BOOL bHaveNext;
                            30364 ; 544  |        int iDisplayProgress=0;
                            30365 
                            30372 
                            30373 ; 545  |#endif  // #ifdef USE_PLAYLIST3
                            30374 ; 546  |        // check which button and process accordingly
                            30375 ; 547  |    switch(button)
                            30376 
P:02F6 055F7C         2 161830337         movec   ssh,y:(r7)+
P:02F7 3F0500         2 162030340         move    #5,n7
P:02F8 63F400 rrrrrr  3 162330378         move    #L147,r3
P:02FA 2B0000         2 162530379         move    #0,b2
P:02FB 240000         2 162730370         move    #0,x0
P:02FC 218500         2 162930367         move    a1,x1
P:02FD 204F00         2 163130342         move    (r7)+n7
P:02FE 56F400 000004  3 163430380         move    #>4,a
P:0300 21FB0D         2 163630381         cmp     a,b     b,n3
P:0301 0AF0A7 rrrrrr  6 164230382         jgt     L146
P:0303 07EB93         8 165030383         movem   p:(r3+n3),r3
P:0304 000000         2 165230383         nop             ; (inserted)
P:0305 0AE380         4 165630385         jmp     (r3)
                            30386 
P:0306 rrrrrr               30387 L147:   dc      L125    ; case 0:
P:0307 rrrrrr               30388         dc      L125    ; case 1:
P:0308 rrrrrr               30389         dc      L125    ; case 2:
P:0309 rrrrrr               30390         dc      L125    ; case 3:
P:030A rrrrrr               30391         dc      L126    ; case 4:
                            30392 
                            30393 
                            30394 ; 548  |        {
                            30395 ; 549  |        case PR_FF:
                            30396 ; 550  |                case PH_FF:
                            30397 ; 551  |                case PR_RW:
                            30398 ; 552  |        case PH_RW:
                            30399 ; 553  |                if (*iHighLightedItem == NO)
                            30400 
                            30402 L125:
P:030B 5FE000         2 165830402         move    y:(r0),b
P:030C 20000B         2 166030404         tst     b
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 497

M:ADDR CODE           CYCLES LINE SOURCELINE
P:030D 0AF0AA rrrrrr  6 166630405         jeq     L143
                            30406 
                            30407 ; 554  |                        {
                            30408 ; 555  |                                *iHighLightedItem = YES;
                            30409 ; 556  |                        }
                            30410 ; 557  |                        else
                            30411 ; 558  |                        {
                            30412 ; 559  |                *iHighLightedItem = NO;
                            30413 
                            30417 
                            30418 ; 560  |                        }
                            30419 ; 561  |                break;
                            30420 
P:030F 2F0000         2 166830415         move    #0,b
P:0310 5F6000         2 167030416         move    b,y:(r0)
P:0311 0AF080 rrrrrr  6 167630422         jmp     L146
                            30423 
                            30424 ; 562  |
                            30425 ; 563  |        case PR_MENU:
                            30426 ; 564  |#ifdef USE_PLAYLIST3
                            30427 ; 565  |                if(*iHighLightedItem != NO)
                            30428 
P:0313 5FE000         2 167830430 L126:   move    y:(r0),b
P:0314 20000B         2 168030431         tst     b
P:0315 0AF0AA rrrrrr  6 168630432         jeq     L142
                            30433 
                            30434 ; 566  |                {
                            30435 ; 567  |            if (inext_menu == MENU_DELETE_VOICE_ALL)
                            30436 
P:0317 56F400 000001  3 168930438         move    #>1,a
P:0319 200065         2 169130439         cmp     x1,a
P:031A 0AF0A2 rrrrrr  6 169730440         jne     L127
                            30441 
                            30442 ; 568  |                browse_type = ITEM_VOICE;
                            30443 
P:031C 57F400 00000F  3 170030445         move    #>15,b
P:031E 0AF080 rrrrrr  6 170630447         jmp     L130
                            30448 
                            30449 ; 569  |            else if (inext_menu == MENU_DELETE_FM_ALL)
                            30450 
                            30452 L127:
P:0320 46F469 000007  3 170930452         tfr     x1,b	                #>7,y0
P:0322 20005D         2 171130454         cmp     y0,b
P:0323 0AF0A2 rrrrrr  6 171730458         jne     L128
                            30459 
                            30460 ; 570  |                browse_type = ITEM_FMREC;
                            30461 
P:0325 57F400 000010  3 172030463         move    #>16,b
P:0327 0AF080 rrrrrr  6 172630465         jmp     L130
                            30466 
                            30467 ; 571  |            else
                            30468 ; 572  |                browse_type = ITEM_PHOTO;
                            30469 
P:0329 57F400 000011  3 172930471 L128:   move    #>17,b
                            30472 L130:
                            30482 
                            30483 ; 573  |                        highlight = 0;
                            30484 
                            30493 
                            30494 ; 574  |
                            30495 ; 575  |                        SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_BATT_CHK);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 498

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30496 
P:032B 77F400 FFFFFE  3 173230472         move    #-2,n7
P:032D 290300         2 173430498         move    #3,b0
P:032E 46F400 090002  3 173730503         move    #589826,y0
P:0330 5D6F00         4 174130474         move    b1,y:(r7+n7)
P:0331 77F400 FFFFFD  3 174430477         move    #-3,n7
P:0333 2D0200         2 174630500         move    #2,b1
P:0334 4C6F00         4 175030479         move    x0,y:(r7+n7)
P:0335 045FA0         2 175230488         movec   m0,n7
P:0336 240000         2 175430486         move    #0,x0
P:0337 4C6F00         4 175830490         move    x0,y:(r7+n7)
P:0338 5D5F00         2 176030501         move    b1,y:(r7)+
P:0339 4E5F00         2 176230504         move    y0,y:(r7)+
P:033A 595F00         2 176430506         move    b0,y:(r7)+
P:033B 0BF080 rrrrrr  6 177030508         jsr     FSysPostMessage
                            30514 
                            30515 ; 576  |
                            30516 ; 577  |
                            30517 ; 578  |                        SysPostMessage(3,MUSICLIB_BROWSE_SETROOT, (INT*)(&num_of_item));
                            30518 
P:033D 3F0300         2 177230509         move    #3,n7
P:033E 290300         2 177430523         move    #3,b0
P:033F 260C00         2 177630526         move    #<$C,y0
P:0340 204700         2 177830511         move    (r7)-n7
P:0341 77F400 FFFFFC  3 178130520         move    #-4,n7
P:0343 000000         2 178330520         nop             ; (inserted)
P:0344 044F1B         4 178730522         lua     (r7)+n7,n3
P:0345 7B5F00         2 178930524         move    n3,y:(r7)+
P:0346 4E5F00         2 179130527         move    y0,y:(r7)+
P:0347 595F00         2 179330529         move    b0,y:(r7)+
P:0348 0BF080 rrrrrr  6 179930531         jsr     FSysPostMessage
                            30536 
                            30537 ; 579  |                        SysWaitOnEvent(0,0,0);
                            30538 
P:034A 3F031B         2 180130540         clr     b	                #3,n7
P:034B 21B013         2 180330541         clr     a	                b1,r0
P:034C 204700         2 180530534         move    (r7)-n7
P:034D 0BF080 rrrrrr  6 181130543         jsr     SysWaitOnEvent
                            30544 
                            30545 ; 580  |
                            30546 ; 581  |                        if (browse_type == ITEM_TRACK)
                            30547 
P:034F 77F400 FFFFFE  3 181430549         move    #-2,n7
P:0351 47F400 000003  3 181730552         move    #>3,y1
P:0353 5FEF00         4 182130551         move    y:(r7+n7),b
P:0354 20007D         2 182330553         cmp     y1,b
P:0355 0AF0A2 rrrrrr  6 182930556         jne     L131
                            30557 
                            30558 ; 582  |                SysPostMessage(7,MUSICLIB_BROWSE_BROWSEMENU, (INT*)(&num_of_item), browse_
                                  type, 0, (INT*)(&g_iBrowseTotalNum), (INT*)(&bHaveNext));
                            30559 
P:0357 77F413 FFFFFB  3 183230568         clr     a	                #-5,n7
P:0359 65F400 rrrrrr  3 183530571         move    #Fg_iBrowseTotalNum,r5
P:035B 044F1A         4 183930563         lua     (r7)+n7,n2
P:035C 77F400 FFFFF8  3 184230579         move    #-8,n7
P:035E 45F400 0C0001  3 184530584         move    #$C0001,x1
P:0360 7A5F00         2 184730569         move    n2,y:(r7)+
P:0361 6D5F00         2 184930572         move    r5,y:(r7)+
P:0362 5E5F00         2 185130574         move    a,y:(r7)+
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 499

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0363 5F5F00         2 185330576         move    b,y:(r7)+
P:0364 044F15         4 185730581         lua     (r7)+n7,r5
P:0365 6D5F00         2 185930582         move    r5,y:(r7)+
P:0366 4D5F00         2 186130585         move    x1,y:(r7)+
P:0367 0AF080 rrrrrr  6 186730587         jmp     L132
                            30588 
                            30589 ; 583  |                        else
                            30590 ; 584  |                SysPostMessage(7,MUSICLIB_VOICE_BROWSEMENU, (INT*)(&num_of_item), browse_t
                                  ype, 0, (INT*)(&g_iBrowseTotalNum), (INT*)(&bHaveNext));
                            30591 
                            30593 L131:
P:0369 77F413 FFFFFB  3 187030600         clr     a	                #-5,n7
P:036B 64F400 rrrrrr  3 187330603         move    #Fg_iBrowseTotalNum,r4
P:036D 044F11         4 187730595         lua     (r7)+n7,r1
P:036E 77F400 FFFFFE  3 188030596         move    #-2,n7
P:0370 261000         2 188230616         move    #<$10,y0
P:0371 5D6F00         4 188630598         move    b1,y:(r7+n7)
P:0372 77F400 FFFFF8  3 188930611         move    #-8,n7
P:0374 695F00         2 189130601         move    r1,y:(r7)+
P:0375 6C5F00         2 189330604         move    r4,y:(r7)+
P:0376 5E5F00         2 189530606         move    a,y:(r7)+
P:0377 5D5F00         2 189730608         move    b1,y:(r7)+
P:0378 044F1C         4 190130613         lua     (r7)+n7,n4
P:0379 7C5F00         2 190330614         move    n4,y:(r7)+
P:037A 4E5F00         2 190530617         move    y0,y:(r7)+
                            30619 L132:
P:037B 290700         2 190730619         move    #7,b0
P:037C 595F00         2 190930620         move    b0,y:(r7)+
P:037D 0BF080 rrrrrr  6 191530622         jsr     FSysPostMessage
                            30627 
                            30628 ; 585  |                        SysWaitOnEvent(0,0,0);
                            30629 
P:037F 3F0713         2 191730631         clr     a	                #7,n7
P:0380 30001B         2 191930633         clr     b	                #0,r0
P:0381 204700         2 192130625         move    (r7)-n7
P:0382 0BF080 rrrrrr  6 192730634         jsr     SysWaitOnEvent
                            30635 
                            30636 ; 586  |
                            30637 ; 587  |                        SysPostMessage(6,LCD_CLEAR_RANGE,0,0,LCD_SIZE_X,LCD_SIZE_Y);
                            30638 
P:0384 294000         2 192930645         move    #$40,b0
P:0385 2D8000         2 193130641         move    #$80,b1
P:0386 280600         2 193330642         move    #6,a0
P:0387 270000         2 193530644         move    #0,y1
P:0388 240000         2 193730640         move    #0,x0
P:0389 260300         2 193930643         move    #<3,y0
P:038A 595F00         2 194130646         move    b0,y:(r7)+
P:038B 5D5F00         2 194330648         move    b1,y:(r7)+
P:038C 4F5F00         2 194530650         move    y1,y:(r7)+
P:038D 4C5F00         2 194730652         move    x0,y:(r7)+
P:038E 4E5F00         2 194930654         move    y0,y:(r7)+
P:038F 585F00         2 195130656         move    a0,y:(r7)+
P:0390 0BF080 rrrrrr  6 195730658         jsr     FSysPostMessage
                            30663 
                            30664 ; 588  |                        if (num_of_item == 0) {
                            30665 
P:0392 3F0600         2 195930659         move    #6,n7
P:0393 000000         2 196130659         nop             ; (inserted)
P:0394 204700         2 196330661         move    (r7)-n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 500

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0395 77F400 FFFFFC  3 196630667         move    #-4,n7
P:0397 000000         2 196830667         nop             ; (inserted)
P:0398 5FEF00         4 197230669         move    y:(r7+n7),b
P:0399 20000B         2 197430670         tst     b
P:039A 0AF0A2 rrrrrr  6 198030671         jne     L133
                            30672 
                            30673 ; 589  |                                SysPostMessage(5,LCD_PRINT_STRING_RSRC,0,20,RSRC_STRING_NO
                                  _FILES);
                            30674 
P:039C 291413         2 198230676         clr     a	                #20,b0
P:039D 46F400 0001C9  3 198530677         move    #457,y0
P:039F 44F400 030007  3 198830685         move    #196615,x0
P:03A1 4E5F00         2 199030678         move    y0,y:(r7)+
P:03A2 595F00         2 199230681         move    b0,y:(r7)+
P:03A3 290500         2 199430688         move    #5,b0
P:03A4 5E5F00         2 199630683         move    a,y:(r7)+
P:03A5 4C5F00         2 199830686         move    x0,y:(r7)+
P:03A6 595F00         2 200030689         move    b0,y:(r7)+
P:03A7 0BF080 rrrrrr  6 200630691         jsr     FSysPostMessage
                            30696 
                            30697 ; 590  |                                SysWaitOnEvent(0,0,200);
                            30698 
P:03A9 3F0513         2 200830702         clr     a	                #5,n7
P:03AA 300000         2 201030700         move    #0,r0
P:03AB 57F400 0000C8  3 201330701         move    #>200,b
P:03AD 204700         2 201530694         move    (r7)-n7
P:03AE 0BF080 rrrrrr  6 202130703         jsr     SysWaitOnEvent
                            30704 
                            30705 ; 591  |                                inext_menu = MENU_DELETE_MAIN;
                            30706 
P:03B0 0AF080 rrrrrr  6 202730708         jmp     L142
                            30709 
                            30710 ; 592  |                                break;
                            30711 ; 593  |                        }
                            30712 ; 594  |
                            30713 ; 595  |                        // clear MTP database clean flag; an object is being deleted, whic
                                  h needs to be accounted for
                            30714 ; 596  |                        ClearStickyBit((volatile _X WORD *)&HW_RTC_MTP_DB_CLEAN_FLAG_REG, 
                                  HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_BITPOS);
                            30715 
                            30717 L133:
P:03B2 66F400 00F508  3 203030719         move    #$F508,r6
P:03B4 22D000         2 203230720         move    r6,r0
P:03B5 56F400 000005  3 203530721         move    #>5,a
P:03B7 0BF080 rrrrrr  6 204130722         jsr     FClearStickyBit
                            30723 
                            30724 ; 597  |
                            30725 ; 598  |                        while (highlight < num_of_item)
                            30726 
P:03B9 0AF080 rrrrrr  6 204730728         jmp     L140
                            30729 
                            30730 ; 599  |                        {
                            30731 ; 600  |                                SysCallFunction(RSRC_METADATA_CODEBANK,GetRelativePath,hig
                                  hlight,browse_type,(INT*)(g_CurrentSongName));
                            30732 
                            30734 L134:
P:03BB 77F400 FFFFFE  3 205030738         move    #-2,n7
P:03BD 64F400 rrrrrr  3 205330737         move    #Fg_CurrentSongName,r4
P:03BF 60F400 rrrrrr  3 205630750         move    #FGetRelativePath,r0
P:03C1 56F400 0001E4  3 205930751         move    #484,a
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 501

M:ADDR CODE           CYCLES LINE SOURCELINE
P:03C3 4CEF00         4 206330740         move    y:(r7+n7),x0
P:03C4 045FA0         2 206530743         movec   m0,n7
P:03C5 000000         2 206730743         nop             ; (inserted)
P:03C6 5D6F00         4 207130745         move    b1,y:(r7+n7)
P:03C7 0BF080 rrrrrr  6 207730752         jsr     SysCallFunction
                            30757 
                            30758 ; 601  |
                            30759 ; 602  |                                SysPostMessage(5,LCD_PRINT_RANGE_RSRC,WARNING_MSG_FILE_X+8
                                  *iDisplayProgress,WARNING_MSG_FILE_Y,RSRC_FILE_DELETE_STAR);
                            30760 
P:03C9 77F400 FFFFFD  3 208030762         move    #-3,n7
P:03CB 2D2800         2 208230766         move    #40,b1
P:03CC 51F400 000379  3 208530768         move    #889,b0
P:03CE 4DEF00         4 208930764         move    y:(r7+n7),x1
P:03CF 0115F0         2 209130765         mpy     x1,#21,a
P:03D0 595F00         2 209330769         move    b0,y:(r7)+
P:03D1 2C0500         2 209530767         move    #5,a1
P:03D2 5D5F00         2 209730771         move    b1,y:(r7)+
P:03D3 55F400 030001  3 210030775         move    #$30001,b1
P:03D5 585F00         2 210230773         move    a0,y:(r7)+
P:03D6 5D5F00         2 210430776         move    b1,y:(r7)+
P:03D7 5C5F00         2 210630778         move    a1,y:(r7)+
P:03D8 0BF080 rrrrrr  6 211230780         jsr     FSysPostMessage
                            30785 
                            30786 ; 603  |                                iDisplayProgress++;
                            30787 
                            30796 
                            30797 ; 604  |                                if (iDisplayProgress>5)
                            30798 
P:03DA 3F0500         2 211430781         move    #5,n7
P:03DB 46F400 000001  3 211730792         move    #>1,y0
P:03DD 204700         2 211930783         move    (r7)-n7
P:03DE 77F400 FFFFFD  3 212230789         move    #-3,n7
P:03E0 000000         2 212430789         nop             ; (inserted)
P:03E1 5FEF00         4 212830791         move    y:(r7+n7),b
P:03E2 46F458 000005  3 213130793         add     y0,b	                #>5,y0
P:03E4 5D6F5D         4 213530802         cmp     y0,b	                b1,y:(r7+n7)
P:03E5 0AF0AF rrrrrr  6 214130805         jle     L135
                            30806 
                            30807 ; 605  |                                {
                            30808 ; 606  |                                        iDisplayProgress=0;
                            30809 
                            30817 
                            30818 ; 607  |                                        SysPostMessage(6,LCD_CLEAR_RANGE,WARNING_MSG_FILE_
                                  X,WARNING_MSG_FILE_Y,SONG_TITLE_X_SIZE,SONG_TITLE_Y_SIZE);
                            30819 
P:03E7 2D0000         2 214330811         move    #0,b1
P:03E8 290A00         2 214530825         move    #10,b0
P:03E9 280600         2 214730822         move    #6,a0
P:03EA 270000         2 214930824         move    #0,y1
P:03EB 260300         2 215130823         move    #<3,y0
P:03EC 5D6F00         4 215530814         move    b1,y:(r7+n7)
P:03ED 2D8000         2 215730821         move    #$80,b1
P:03EE 595F00         2 215930826         move    b0,y:(r7)+
P:03EF 292800         2 216130830         move    #40,b0
P:03F0 5D5F00         2 216330828         move    b1,y:(r7)+
P:03F1 595F00         2 216530831         move    b0,y:(r7)+
P:03F2 4F5F00         2 216730833         move    y1,y:(r7)+
P:03F3 4E5F00         2 216930835         move    y0,y:(r7)+
P:03F4 585F00         2 217130837         move    a0,y:(r7)+
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 502

M:ADDR CODE           CYCLES LINE SOURCELINE
P:03F5 0BF080 rrrrrr  6 217730839         jsr     FSysPostMessage
                            30844 
                            30845 ; 608  |                                }
                            30846 ; 609  |                                SysWaitOnEvent(0,0,0);
                            30847 
P:03F7 3F0600         2 217930840         move    #6,n7
P:03F8 000000         2 218130840         nop             ; (inserted)
P:03F9 204700         2 218330842         move    (r7)-n7
P:03FA 300013         2 218530849 L135:   clr     a	                #0,r0
P:03FB 2F0000         2 218730851         move    #0,b
P:03FC 0BF080 rrrrrr  6 219330852         jsr     SysWaitOnEvent
                            30853 
                            30854 ; 610  |                                SysLoadFATWrite();
                            30855 
P:03FE 0BF080 rrrrrr  6 219930857         jsr     SysLoadFATWrite
                            30859 
                            30860 ; 611  |                                Fremove((_packed char *)g_CurrentSongName);
                            30861 
P:0400 60F400 rrrrrr  3 220230858         move    #Fg_CurrentSongName,r0
P:0402 0BF080 rrrrrr  6 220830863         jsr     FFremove
                            30864 
                            30865 ; 612  |                                SysUnLoadFATWrite();     // allow other apps to overwrite 
                                  Fat Write App
                            30866 
P:0404 0BF080 rrrrrr  6 221430868         jsr     SysUnLoadFATWrite
                            30869 
                            30870 ; 613  |
                            30871 ; 614  |                                if (bHaveNext)
                            30872 
P:0406 77F400 FFFFFB  3 221730874         move    #-5,n7
P:0408 47F400 000001  3 222030884         move    #>1,y1
P:040A 5FEF00         4 222430876         move    y:(r7+n7),b
P:040B 045FA0         2 222630879         movec   m0,n7
P:040C 2B0000         2 222830877         move    #0,b2
P:040D 5FEF0B         4 223230878         tst     b	                y:(r7+n7),b
P:040E 0AF0AA rrrrrr  6 223830885         jeq     L138
                            30886 
                            30887 ; 615  |                                {
                            30888 ; 616  |                                        if (browse_type == ITEM_TRACK)
                            30889 
P:0410 77F400 FFFFFE  3 224130891         move    #-2,n7
P:0412 46F400 000003  3 224430894         move    #>3,y0
P:0414 5EEF00         4 224830893         move    y:(r7+n7),a
P:0415 200055         2 225030895         cmp     y0,a
P:0416 0AF0A2 rrrrrr  6 225630898         jne     L136
                            30903 
                            30904 ; 617  |                                                SysPostMessage(4,MUSICLIB_BROWSE_DOWNLIST,
                                   1, (INT*)(&bHaveNext));
                            30905 
P:0418 77F400 FFFFFB  3 225930907         move    #-5,n7
P:041A 290100         2 226130910         move    #1,b0
P:041B 044F1E         4 226530909         lua     (r7)+n7,n6
P:041C 46F400 0C0002  3 226830915         move    #786434,y0
P:041E 7E5F00         2 227030911         move    n6,y:(r7)+
P:041F 595F00         2 227230913         move    b0,y:(r7)+
P:0420 4E5F00         2 227430916         move    y0,y:(r7)+
P:0421 0AF080 rrrrrr  6 228030918         jmp     L137
                            30919 L136:
                            30934 
                            30935 ; 618  |                                        else
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 503

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30936 ; 619  |                                                SysPostMessage(4,MUSICLIB_VOICE_DOWNLIST, 
                                  1, (INT*)(&bHaveNext));
                            30937 
P:0423 045FA0         2 228230924         movec   m0,n7
P:0424 290100         2 228430942         move    #1,b0
P:0425 44F400 100001  3 228730947         move    #$100001,x0
P:0427 5D6F00         4 229130926         move    b1,y:(r7+n7)
P:0428 77F400 FFFFFE  3 229430929         move    #-2,n7
P:042A 000000         2 229630929         nop             ; (inserted)
P:042B 5C6F00         4 230030931         move    a1,y:(r7+n7)
P:042C 77F400 FFFFFB  3 230330939         move    #-5,n7
P:042E 000000         2 230530939         nop             ; (inserted)
P:042F 044F15         4 230930941         lua     (r7)+n7,r5
P:0430 6D5F00         2 231130943         move    r5,y:(r7)+
P:0431 595F00         2 231330945         move    b0,y:(r7)+
P:0432 4C5F00         2 231530948         move    x0,y:(r7)+
                            30950 L137:
P:0433 290400         2 231730950         move    #4,b0
P:0434 595F00         2 231930951         move    b0,y:(r7)+
P:0435 0BF080 rrrrrr  6 232530953         jsr     FSysPostMessage
                            30958 
                            30959 ; 620  |                                        SysWaitOnEvent(0,0,0);
                            30960 
P:0437 3F0413         2 232730962         clr     a	                #4,n7
P:0438 30001B         2 232930964         clr     b	                #0,r0
P:0439 204700         2 233130956         move    (r7)-n7
P:043A 0BF080 rrrrrr  6 233730965         jsr     SysWaitOnEvent
                            30966 
                            30967 ; 621  |                                }
                            30968 
P:043C 0AF080 rrrrrr  6 234330970         jmp     L140
                            30971 
                            30972 ; 622  |                                else
                            30973 ; 623  |                                        highlight++;
                            30974 
                            30976 L138:
P:043E 045FA0         2 234530980         movec   m0,n7
P:043F 200078         2 234730979         add     y1,b
P:0440 5D6F00         4 235130982         move    b1,y:(r7+n7)
                            30986 L140:
P:0441 045FA0         2 235330986         movec   m0,n7
P:0442 000000         2 235530986         nop             ; (inserted)
P:0443 5FEF00         4 235930988         move    y:(r7+n7),b
P:0444 77F400 FFFFFC  3 236230989         move    #-4,n7
P:0446 000000         2 236430989         nop             ; (inserted)
P:0447 4DEF00         4 236830991         move    y:(r7+n7),x1
P:0448 20006D         2 237030992         cmp     x1,b
P:0449 0AF0A9 rrrrrr  6 237630995         jlt     L134
                            30997 
                            30998 ; 624  |                        }
                            30999 ; 625  |                        ClearStickyBit((volatile _X WORD *)&HW_RTC_SKIP_REBUILD_REG,
                            31000 ; 626  |                        HW_RTC_PERSISTENT1_SKIP_REBUILD_BITPOS);
                            31001 
P:044B 60F400 00F508  3 237931003         move    #$F508,r0
P:044D 56F400 000002  3 238230996         move    #>2,a
P:044F 0BF080 rrrrrr  6 238831004         jsr     FClearStickyBit
                            31006 
                            31007 ; 627  |                        g_FlashWriteOccurFlag = TRUE;
                            31008 
                            31012 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 504

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31013 ; 628  |                        bSystemInit = FALSE;
                            31014 
                            31018 
                            31019 ; 629  |                        g_Rebuild = TRUE;
                            31020 
                            31023 
                            31024 ; 630  |                        SysPostMessage(2,PARSER_DEVICE_ENUMERATE);
                            31025 
P:0451 28011B         2 239031016         clr     b	                #1,a0
P:0452 46F400 020005  3 239331028         move    #131077,y0
P:0454 587000 rrrrrr  3 239631011         move    a0,y:Fg_FlashWriteOccurFlag
P:0456 5F7000 rrrrrr  3 239931017         move    b,y:FbSystemInit
P:0458 290200         2 240131027         move    #2,b0
P:0459 587000 rrrrrr  3 240431022         move    a0,y:Fg_Rebuild
P:045B 4E5F00         2 240631029         move    y0,y:(r7)+
P:045C 595F00         2 240831031         move    b0,y:(r7)+
P:045D 0BF080 rrrrrr  6 241431033         jsr     FSysPostMessage
                            31038 
                            31039 ; 631  |                        SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_BATT_CHK,0,2000,MENU_B
                                  ATTERY_CHNG);
                            31040 
P:045F 51F400 0007D0  3 241731045         move    #2000,b0
P:0461 50F400 090001  3 242031054         move    #589825,a0
P:0463 47F400 060005  3 242331042         move    #393221,y1
P:0465 205700         2 242531034         move    (r7)-
P:0466 205700         2 242731036         move    (r7)-
P:0467 4F5F00         2 242931043         move    y1,y:(r7)+
P:0468 595F1B         2 243131048         clr     b	                b0,y:(r7)+
P:0469 5F5F00         2 243331049         move    b,y:(r7)+
P:046A 290200         2 243531051         move    #2,b0
P:046B 595F00         2 243731052         move    b0,y:(r7)+
P:046C 290600         2 243931057         move    #6,b0
P:046D 585F00         2 244131055         move    a0,y:(r7)+
P:046E 595F00         2 244331058         move    b0,y:(r7)+
P:046F 0BF080 rrrrrr  6 244931060         jsr     FSysPostMessage
                            31065 
                            31066 ; 632  |                        bWaitforDisplay = TRUE; // To fix defect 10915
                            31067 
                            31071 
                            31072 ; 633  |                }
                            31073 ; 634  |                inext_menu = MENU_DELETE_MAIN;
                            31074 
P:0471 3F0600         2 245131061         move    #6,n7
P:0472 46F400 000001  3 245431069         move    #>1,y0
P:0474 204700         2 245631063         move    (r7)-n7
P:0475 4E7000 rrrrrr  3 245931070         move    y0,y:FbWaitforDisplay
                            31076 L142:
                            31079 
                            31080 ; 635  |#else   // #ifdef USE_PLAYLIST3
                            31081 ; 636  |
                            31082 ; 637  |                        if(*iHighLightedItem != NO)
                            31083 ; 638  |                        {
                            31084 ; 639  |
                            31085 ; 640  |                                DeleteAllFiles();
                            31086 ; 641  |
                            31087 ; 642  |                        }
                            31088 ; 643  |                        inext_menu = MENU_DELETE_MAIN;
                            31089 ; 644  |
                            31090 ; 645  |#endif  // #ifdef USE_PLAYLIST3
                            31091 ; 646  |                break;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 505

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31092 
P:0477 45F400 000005  3 246231076         move    #>5,x1
P:0479 20AE00         2 246431078         move    x1,a
P:047A 0AF080 rrrrrr  6 247031094         jmp     L146
                            31096 L143:
                            31100 
                            31101 ; 647  |
                            31102 ; 648  |                default:
                            31103 ; 649  |                        // error
                            31104 ; 650  |                        break;
                            31105 ; 651  |        } // end switch
                            31106 ; 652  |
                            31107 ; 653  |        return inext_menu;
                            31108 
P:047C 290100         2 247231098         move    #1,b0
P:047D 596000         2 247431099         move    b0,y:(r0)
                            31110 L146:
                            31113 
                            31114 ; 654  |}
                            31115 
P:047E 77F461 FFFFFA  3 247731110         tfr     x1,a	                #-6,n7
P:0480 000000         2 247931110         nop             ; (inserted)
P:0481 05EF7C         4 248331119         movec   y:(r7+n7),ssh
P:0482 204F00         2 248531121         move    (r7)+n7
P:0483 00000C         4 248931123         rts
                            31129 
                            31130 ; 655  |/////////////////////////////////////////////////////////////////////////////////////////
                            31131 ; 656  |//
                            31132 ; 657  |//  Name:          int _reentrant DeleteMenu(int a, int b, int *pPtr)
                            31133 ; 658  |//
                            31134 ; 659  |//   Type:          Function (Delete menu entry point)
                            31135 ; 660  |//
                            31136 ; 661  |//   Description:   This function is the entry point for the Delete menu.  It presents
                            31137 ; 662  |//                  the user with the choice to delete either Voice or Music files.
                            31138 ; 663  |//
                            31139 ; 664  |//   Inputs:        a  is set by the caller to be non-zero if need to enter muisc or voice
                                   file delete sub-menu directly
                            31140 ; 665  |//                                      b is set to PLAYSET_MUSIC or PLAYSET_VOICE if a is
                                   non-zero by the caller (which files to delete).
                            31141 ; 666  |//
                            31142 ; 667  |//   Outputs:       return to main menu
                            31143 ; 668  |//                      if PH_MENU button received, set up global g_MenuFlags.MENU_FLAG_ES
                                  CAPE_TO_MUSIC
                            31144 ; 669  |//                                              so that on return from the delete menu mai
                                  n menu can initiate music menu.
                            31145 ; 670  |//
                            31146 ; 671  |//   Notes:
                            31147 ; 672  |//
                            31148 ; 673  |//<
                            31149 ; 674  |//////////////////////////////////////////////////////////////////////////////////////////
                                  
                            31150 ; 675  |int _reentrant DeleteMenu(int a, int b, int *pPtr)
                            31151 ; 676  |{
                            31152 
                            31157 FDeleteMenu:
                            31176 
                            31177 ; 677  |    BOOL bDone = FALSE;
                            31178 ; 678  |    BOOL bSendToPlayerStateMachine = FALSE;
                            31179 ; 679  |    INT iHighLightedItem=DELETEMENU_FIRST;
                            31180 
                            31197 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 506

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31198 ; 680  |        INT iDeleteQuestionHighLightedItem = NO;
                            31199 
                            31206 
                            31207 ; 681  |    INT iNextMenu = MENU_DELETE_MAIN;  // default start menu assigned
                            31208 
                            31219 
                            31220 ; 682  |        INT iCurrentMenu = -1; // check if a new menu initilaztion is required.
                            31221 
                            31252 
                            31253 ; 683  |        INT iEvent;
                            31254 ; 684  |        struct PagedListStructure MenuListInfo;
                            31255 ; 685  |    struct MenuItem aItems[DELETEMENU_COUNT];
                            31256 ; 686  |        union DisplayHints DisplayHint;
                            31257 ; 687  |        INT i;
                            31258 ; 688  |         int old_iPlaylistRepeat =        g_iPlaylistRepeat;
                            31259 
                            31268 
                            31269 ; 689  |         int old_bPlaylistShuffle =   g_bPlaylistShuffle;
                            31270 
                            31277 
                            31278 ; 690  |
                            31279 ; 691  |#ifdef USE_PLAYLIST3
                            31280 ; 692  |    bWaitforDisplay = FALSE;
                            31281 
                            31284 
                            31285 ; 693  |#endif
                            31286 ; 694  |        MenuListInfo.m_iNormalDisplayMsg = LCD_PRINT_STRING_RSRC;
                            31287 
                            31293 
                            31294 ; 695  |    MenuListInfo.m_iSelectedDisplayMsg = LCD_PRINT_STRING_INV_RSRC;
                            31295 
                            31301 
                            31302 ; 696  |    MenuListInfo.m_iItems = DELETEMENU_COUNT;
                            31303 
                            31309 
                            31310 ; 697  |
                            31311 ; 698  |    for (i = 0; i < DELETEMENU_COUNT; i++)
                            31312 
P:0484 055F7C         2 249131158         movec   ssh,y:(r7)+
P:0485 3F1C00         2 249331161         move    #28,n7
P:0486 280500         2 249531210         move    #5,a0
P:0487 290300         2 249731305         move    #3,b0
P:0488 260000         2 249931192         move    #0,y0
P:0489 44F400 030009  3 250231297         move    #196617,x0
P:048B 47F400 000001  3 250531321         move    #>1,y1
P:048D 204F00         2 250731163         move    (r7)+n7
P:048E 77F400 FFFFF8  3 251031182         move    #-8,n7
P:0490 000000         2 251231182         nop             ; (inserted)
P:0491 5D6F00         4 251631184         move    b1,y:(r7+n7)
P:0492 77F400 FFFFF7  3 251931187         move    #-9,n7
P:0494 000000         2 252131187         nop             ; (inserted)
P:0495 5C6F00         4 252531189         move    a1,y:(r7+n7)
P:0496 77F400 FFFFF6  3 252831193         move    #-10,n7
P:0498 54F400 FFFFFF  3 253131223         move    #-1,a1
P:049A 4E6F00         4 253531195         move    y0,y:(r7+n7)
P:049B 77F400 FFFFF5  3 253831201         move    #-11,n7
P:049D 000000         2 254031201         nop             ; (inserted)
P:049E 4E6F00         4 254431203         move    y0,y:(r7+n7)
P:049F 77F400 FFFFF9  3 254731212         move    #-7,n7
P:04A1 000000         2 254931212         nop             ; (inserted)
P:04A2 586F00         4 255331214         move    a0,y:(r7+n7)
P:04A3 77F400 FFFFFA  3 255631225         move    #-6,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 507

M:ADDR CODE           CYCLES LINE SOURCELINE
P:04A5 000000         2 255831225         nop             ; (inserted)
P:04A6 5C6F00         4 256231227         move    a1,y:(r7+n7)
P:04A7 77F400 FFFFFB  3 256531262         move    #-5,n7
P:04A9 58F000 rrrrrr  3 256831261         move    y:Fg_iPlaylistRepeat,a0
P:04AB 586F00         4 257231264         move    a0,y:(r7+n7)
P:04AC 77F400 FFFFFC  3 257531273         move    #-4,n7
P:04AE 5EF000 rrrrrr  3 257831272         move    y:Fg_bPlaylistShuffle,a
P:04B0 5E6F00         4 258231275         move    a,y:(r7+n7)
P:04B1 77F400 FFFFF1  3 258531290         move    #-15,n7
P:04B3 212E00         2 258731314         move    b0,a
P:04B4 4E7000 rrrrrr  3 259031283         move    y0,y:FbWaitforDisplay
P:04B6 46F400 030007  3 259331289         move    #196615,y0
P:04B8 4E6F00         4 259731292         move    y0,y:(r7+n7)
P:04B9 77F400 FFFFF2  3 260031298         move    #-14,n7
P:04BB 000000         2 260231298         nop             ; (inserted)
P:04BC 4C6F00         4 260631300         move    x0,y:(r7+n7)
P:04BD 77F400 FFFFF3  3 260931306         move    #-13,n7
P:04BF 000000         2 261131306         nop             ; (inserted)
P:04C0 596F1B         4 261531315         clr     b	                b0,y:(r7+n7)
P:04C1 77F403 FFFFE5  3 261831322         tst     a	                #-27,n7
P:04C3 4CF000 rrrrrr  3 262131320         move    y:Fconst_24,x0
P:04C5 044F11         4 262531319         lua     (r7)+n7,r1
P:04C6 0AF0AA rrrrrr  6 263131323         jeq     L346
P:04C8 06CC00 rrrrrr  6 263731324         do      a1,L346
                            31326 
                            31327 ; 699  |    {   // m_ipage is 0 for all menu labels
                            31328 ; 700  |        aItems[i].m_iPage = 0; // all on page 0
                            31329 
                            31338 
                            31339 ; 701  |        aItems[i].m_ixPos = 0;   // all @x = 0, start at same X loc
                            31340 
                            31348 
                            31349 ; 702  |                aItems[i].m_iyPos = const_24 + i*8; // each line is 8 pixels lower and sta
                                  rt at 24 pixels
                            31350 
P:04CA 77F400 FFFFE7  3 264031342         move    #-25,n7
P:04CC 21A600         2 264231331         move    b1,y0
P:04CD 21A500         2 264431352         move    b1,x1
P:04CE 0116E0         2 264631332         mpy     y0,#22,a
P:04CF 211900         2 264831333         move    a0,n1
P:04D0 211D13         2 265031336         clr     a	                a0,n5
P:04D1 044916         4 265431335         lua     (r1)+n1,r6
P:04D2 23BE00         2 265631345         move    n5,n6
P:04D3 5E6600         2 265831337         move    a,y:(r6)
P:04D4 044F16         4 266231344         lua     (r7)+n7,r6
P:04D5 000000         2 266431344         nop             ; (inserted)
P:04D6 5E6E00         4 266831347         move    a,y:(r6+n6)
P:04D7 208800         2 267031353         move    x0,a0
P:04D8 0115F2         2 267231354         mac     x1,#21,a
P:04D9 77F478 FFFFE8  3 267531361         add     y1,b	                #-24,n7
P:04DB 000000         2 267731361         nop             ; (inserted)
P:04DC 044F15         4 268131357         lua     (r7)+n7,r5
P:04DD 000000         2 268331357         nop             ; (inserted)
P:04DE 586D00         4 268731359         move    a0,y:(r5+n5)
                        (50)31362 L346:
                            31364 
                            31365 ; 703  |    }
                            31366 ; 704  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 508

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31367 ; 705  |    // load resource numbers
                            31368 ; 706  |//    aItems[MENU_DELETE_MUSIC].m_iResource             = RSRC_STRING_MUSIC_MENU;
                            31369 ; 707  |//      aItems[MENU_DELETE_MUSIC_ALL].m_iResource       = RSRC_STRING_MUSIC_MENU_DELETE_AL
                                  L;
                            31370 ; 708  |    aItems[MENU_DELETE_VOICE].m_iResource               = RSRC_STRING_VOICE_MENU;
                            31371 
                            31377 
                            31378 ; 709  |        aItems[MENU_DELETE_VOICE_ALL].m_iResource       = RSRC_STRING_VOICE_MENU_DELETE_AL
                                  L;
                            31379 
                            31385 
                            31386 ; 710  |    aItems[MENU_DELETE_EXIT].m_iResource                = RSRC_STRING_EXIT_MENU;
                            31387 
                            31393 
                            31394 ; 711  |
                            31395 ; 712  |
                            31396 ; 713  |    MenuListInfo.m_pItems = aItems;
                            31397 
                            31402 
                            31403 ; 714  |
                            31404 ; 715  |        // this is required to get the message into the playerstatemachine
                            31405 ; 716  |    // casted to avoid pointer mismatch warnings
                            31406 ; 717  |     pPtr = (int *) &gEventInfo;
                            31407 
                            31417 
                            31418 ; 718  |
                            31419 ; 719  |        // stop the decoder
                            31420 ; 720  |    SysCallFunction(RSRC_PLAY_STATE_MACHINE_CODE_BANK,PlayerLib_SetState,DECODER_STATE_STO
                                  P,TRUE,0);
                            31421 
P:04DF 77F400 FFFFE6  3 269031374         move    #-26,n7
P:04E1 66F400 rrrrrr  3 269331409         move    #FgEventInfo,r6
P:04E3 60F400 rrrrrr  3 269631428         move    #FPlayerLib_SetState,r0
P:04E5 55F400 00037A  3 269931381         move    #890,b1
P:04E7 54F400 00011E  3 270231389         move    #286,a1
P:04E9 44F400 000113  3 270531373         move    #275,x0
P:04EB 4C6F00         4 270931376         move    x0,y:(r7+n7)
P:04EC 77F400 FFFFEA  3 271231382         move    #-22,n7
P:04EE 44F400 000001  3 271531425         move    #>1,x0
P:04F0 5D6F1B         4 271931423         clr     b	                b1,y:(r7+n7)
P:04F1 77F400 FFFFEE  3 272231390         move    #-18,n7
P:04F3 21B400         2 272431426         move    b1,r4
P:04F4 5C6F00         4 272831392         move    a1,y:(r7+n7)
P:04F5 77F400 FFFFF4  3 273131399         move    #-12,n7
P:04F7 56F400 000011  3 273431427         move    #>17,a
P:04F9 696F00         4 273831401         move    r1,y:(r7+n7)
P:04FA 77F400 FFFFFD  3 274131412         move    #-3,n7
P:04FC 000000         2 274331412         nop             ; (inserted)
P:04FD 6E6F00         4 274731414         move    r6,y:(r7+n7)
P:04FE 0BF080 rrrrrr  6 275331429         jsr     SysCallFunction
                            31430 
                            31431 ; 721  |#ifdef USE_PLAYLIST3
                            31432 ; 722  |        SysWaitOnEvent(0,0,0);
                            31433 
P:0500 2F0000         2 275531435         move    #0,b
P:0501 21B013         2 275731436         clr     a	                b1,r0
P:0502 0BF080 rrrrrr  6 276331438         jsr     SysWaitOnEvent
                            31439 
                            31440 ; 723  |#endif
                            31441 ; 724  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 509

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31442 ; 725  |    g_iPlayerState = DECODER_STOPPED;
                            31443 
                            31447 
                            31448 ; 726  |
                            31449 ; 727  |        g_iPlaylistRepeat = PLAYLIST_REPEAT_OFF;  // so that cycling of files is successfu
                                  l.
                            31450 
                            31454 
                            31455 ; 728  |        g_bPlaylistShuffle = FALSE;
                            31456 
                            31459 
                            31460 ; 729  |
                            31461 ; 730  |        // check if we need to enter music or voice file delete directly
                            31462 ; 731  |        if (a)
                            31463 
P:0504 77F41B FFFFF7  3 276631452         clr     b	                #-9,n7
P:0506 5F7000 rrrrrr  3 276931453         move    b,y:Fg_iPlaylistRepeat
P:0508 5F7000 rrrrrr  3 277231458         move    b,y:Fg_bPlaylistShuffle
P:050A 5FEF00         4 277631467         move    y:(r7+n7),b
P:050B 47F40B 000040  3 277931468         tst     b	                #>$40,y1
P:050D 477000 rrrrrr  3 278231446         move    y1,x:Fg_iPlayerState
P:050F 0AF0AA rrrrrr  6 278831471         jeq     L285
                            31472 
                            31473 ; 732  |        {
                            31474 ; 733  |                // Request to enter music file or voice file delete directly
                            31475 ; 734  |/*
                            31476 ; 735  |        if (b == PLAYSET_MUSIC)
                            31477 ; 736  |                {
                            31478 ; 737  |                        iHighLightedItem =  MENU_DELETE_MUSIC ;
                            31479 ; 738  |                        iNextMenu = hndl_delete_main_menu(PR_MENU,&iHighLightedItem);
                            31480 ; 739  |                }
                            31481 ; 740  |                else
                            31482 ; 741  |*/
                            31483 ; 742  |        if (b == PLAYSET_VOICE)
                            31484 
P:0511 77F400 FFFFF8  3 279131486         move    #-8,n7
P:0513 45F400 000001  3 279431489         move    #>1,x1
P:0515 5EEF00         4 279831488         move    y:(r7+n7),a
P:0516 200065         2 280031490         cmp     x1,a
P:0517 0AF0A2 rrrrrr  6 280631493         jne     L283
                            31494 
                            31495 ; 743  |                {
                            31496 ; 744  |                        iHighLightedItem =  MENU_DELETE_VOICE;
                            31497 
                            31503 
                            31504 ; 745  |                        iNextMenu = hndl_delete_main_menu(PR_MENU,&iHighLightedItem);
                            31505 
P:0519 77F41B FFFFF6  3 280931499         clr     b	                #-10,n7
P:051B 56F400 000004  3 281231508         move    #>4,a
P:051D 044F10         4 281631507         lua     (r7)+n7,r0
P:051E 5F6F00         4 282031502         move    b,y:(r7+n7)
P:051F 0BF080 rrrrrr  6 282631509         jsr     Fhndl_delete_main_menu
                            31515 
                            31516 ; 746  |                }
                            31517 ; 747  |#ifdef USE_PLAYLIST3
                            31518 ; 748  |                if (g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC)
                            31519 
P:0521 77F400 FFFFF9  3 282931512         move    #-7,n7
P:0523 000000         2 283131512         nop             ; (inserted)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 510

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0524 5E6F00         4 283531514         move    a,y:(r7+n7)
P:0525 4CF000 rrrrrr  3 283831521 L283:   move    y:Fg_MenuFlags,x0
P:0527 0AC401 rrrrrr  6 284431522         jclr    #1,x0,L285
                            31523 
                            31524 ; 749  |                {
                            31525 ; 750  |                        iNextMenu = MENU_DELETE_MAIN;
                            31526 
                            31536 
                            31537 ; 751  |                        g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC = FALSE;
                            31538 
                            31541 
                            31542 ; 752  |                }
                            31543 ; 753  |#endif //#ifdef USE_PLAYLIST3
                            31544 ; 754  |        }
                            31545 ; 755  |
                            31546 ; 756  |    do // need to execute do-while loop at least once
                            31547 
P:0529 77F400 FFFFF9  3 284731531         move    #-7,n7
P:052B 45F400 000005  3 285031528         move    #>5,x1
P:052D 4D6F00         4 285431533         move    x1,y:(r7+n7)
P:052E 0A7041 rrrrrr  6 286031540         bclr    #1,y:Fg_MenuFlags
                            31549 L285:
                            31550 
                            31551 ; 757  |    {
                            31552 ; 758  |
                            31553 ; 759  |                // check if the new menu is different from the old menu ... perform initia
                                  lization setps.
                            31554 ; 760  |
                            31555 ; 761  |                if (iCurrentMenu != iNextMenu) {
                            31556 
                            31558 L286:
P:0530 77F400 FFFFFA  3 286331558         move    #-6,n7
P:0532 000000         2 286531558         nop             ; (inserted)
P:0533 5EEF00         4 286931560         move    y:(r7+n7),a
P:0534 77F400 FFFFF9  3 287231561         move    #-7,n7
P:0536 000000         2 287431561         nop             ; (inserted)
P:0537 5FEF00         4 287831563         move    y:(r7+n7),b
P:0538 200005         2 288031564         cmp     b,a
P:0539 0AF0AA rrrrrr  6 288631569         jeq     L295
                            31570 
                            31571 ; 762  |
                            31572 ; 763  |                        switch (iNextMenu)
                            31573 
P:053B 65F40B rrrrrr  3 288931575         tst     b       #L347,r5
P:053D 0AF0AB rrrrrr  6 289531576         jmi     L294
P:053F 47F400 000009  3 289831577         move    #>9,y1
P:0541 21FD7D         2 290031578         cmp     y1,b    b,n5
P:0542 0AF0A7 rrrrrr  6 290631579         jgt     L294
P:0544 07ED95         8 291431580         movem   p:(r5+n5),r5
P:0545 000000         2 291631580         nop             ; (inserted)
P:0546 0AE580         4 292031582         jmp     (r5)
                            31583 
P:0547 rrrrrr               31584 L347:   dc      L292    ; case 0:
P:0548 rrrrrr               31585         dc      L292    ; case 1:
P:0549 rrrrrr               31586         dc      L294    ; default:
P:054A rrrrrr               31587         dc      L294    ; default:
P:054B rrrrrr               31588         dc      L294    ; default:
P:054C rrrrrr               31589         dc      L293    ; case 5:
P:054D rrrrrr               31590         dc      L292    ; case 6:
P:054E rrrrrr               31591         dc      L292    ; case 7:
P:054F rrrrrr               31592         dc      L292    ; case 8:
P:0550 rrrrrr               31593         dc      L292    ; case 9:
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 511

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31594 
                            31597 
                            31598 ; 764  |                                {
                            31599 ; 765  |                                        case MENU_DELETE_MAIN:
                            31600 ; 766  |                                                DisplayHint.I = DELETE_MENU_DISPLAY_ALL|(1
                                  <<DISPLAY_CLEAR_DISPLAY_BITPOS);
                            31601 ; 767  |                                                break;
                            31602 ; 768  |
                            31603 ; 769  |//                                      case MENU_DELETE_MUSIC :
                            31604 ; 770  |                                        case MENU_DELETE_VOICE:
                            31605 ; 771  |//                                      case MENU_DELETE_MUSIC_ALL :
                            31606 ; 772  |                                        case MENU_DELETE_VOICE_ALL:
                            31607 ; 773  |#ifdef USE_PLAYLIST3
                            31608 ; 774  |                        case MENU_DELETE_FM:
                            31609 ; 775  |                        case MENU_DELETE_FM_ALL:
                            31610 ; 776  |            case MENU_DELETE_LINEIN:
                            31611 ; 777  |            case MENU_DELETE_LINEIN_ALL:
                            31612 ; 778  |#endif  // #ifdef USE_PLAYLIST3
                            31613 ; 779  |                                                iDeleteQuestionHighLightedItem = NO;
                            31614 
                            31616 L292:
                            31620 
                            31621 ; 780  |                                                // clear the display
                            31622 ; 781  |                                        clear_display();
                            31623 
P:0551 77F41B FFFFF5  3 292331616         clr     b	                #-11,n7
P:0553 000000         2 292531616         nop             ; (inserted)
P:0554 5F6F00         4 292931619         move    b,y:(r7+n7)
P:0555 0BF080 rrrrrr  6 293531625         jsr     Fclear_display
                            31628 L293:
                            31632 
                            31633 ; 782  |                                                DisplayHint.I = DELETE_MENU_DISPLAY_ALL|(1
                                  <<DISPLAY_CLEAR_DISPLAY_BITPOS);
                            31634 ; 783  |                                                break;
                            31635 ; 784  |
                            31636 ; 785  |                                        default :
                            31637 ; 786  |                                                break;
                            31638 ; 787  |                                } // end switch
                            31639 ; 788  |
                            31640 ; 789  |                        iCurrentMenu = iNextMenu;
                            31641 
P:0557 77F400 FFFFE4  3 293831629         move    #-28,n7
P:0559 56F400 707E11  3 294131628         move    #7372305,a
P:055B 5C6F00         4 294531631         move    a1,y:(r7+n7)
                            31643 L294:
                            31650 
                            31651 ; 790  |
                            31652 ; 791  |                } // end if
                            31653 
P:055C 77F400 FFFFF9  3 294831643         move    #-7,n7
P:055E 000000         2 295031643         nop             ; (inserted)
P:055F 5FEF00         4 295431645         move    y:(r7+n7),b
P:0560 21EE00         2 295631646         move    b,a
                            31655 L295:
                            31665 
                            31666 ; 792  |#ifdef USE_PLAYLIST3
                            31667 ; 793  |                if ((bWaitforDisplay) && (bSystemInit))
                            31668 
P:0561 77F400 FFFFFA  3 295931655         move    #-6,n7
P:0563 000000         2 296131655         nop             ; (inserted)
P:0564 5C6F00         4 296531657         move    a1,y:(r7+n7)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 512

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0565 77F400 FFFFF9  3 296831660         move    #-7,n7
P:0567 000000         2 297031660         nop             ; (inserted)
P:0568 5D6F00         4 297431662         move    b1,y:(r7+n7)
P:0569 5FF000 rrrrrr  3 297731670         move    y:FbWaitforDisplay,b
P:056B 2B0000         2 297931671         move    #0,b2
P:056C 20000B         2 298131672         tst     b
P:056D 0AF0AA rrrrrr  6 298731673         jeq     L297
P:056F 5EF000 rrrrrr  3 299031674         move    y:FbSystemInit,a
P:0571 2A0000         2 299231675         move    #0,a2
P:0572 200003         2 299431676         tst     a
P:0573 0AF0AA rrrrrr  6 300031677         jeq     L297
                            31678 
                            31679 ; 794  |                {
                            31680 ; 795  |                        bWaitforDisplay = FALSE;
                            31681 
                            31685 
                            31686 ; 796  |                        clear_display();
                            31687 
P:0575 2F0000         2 300231683         move    #0,b
P:0576 5F7000 rrrrrr  3 300531684         move    b,y:FbWaitforDisplay
P:0578 0BF080 rrrrrr  6 301131689         jsr     Fclear_display
                            31690 
                            31691 ; 797  |                        DisplayHint.I = DELETE_MENU_DISPLAY_ALL|(1<<DISPLAY_CLEAR_DISPLAY_
                                  BITPOS);
                            31692 
                            31698 
                            31699 ; 798  |                }
                            31700 ; 799  |#endif  // #ifdef USE_PLAYLIST3
                            31701 ; 800  |
                            31702 ; 801  |                if (DisplayHint.I)
                            31703 
P:057A 77F400 FFFFE4  3 301431695         move    #-28,n7
P:057C 46F400 707E11  3 301731694         move    #7372305,y0
P:057E 4E6F00         4 302131697         move    y0,y:(r7+n7)
P:057F 77F400 FFFFE4  3 302431705 L297:   move    #-28,n7
P:0581 000000         2 302631705         nop             ; (inserted)
P:0582 5FEF00         4 303031707         move    y:(r7+n7),b
P:0583 2B0000         2 303231708         move    #0,b2
P:0584 20000B         2 303431709         tst     b
P:0585 0AF0AA rrrrrr  6 304031710         jeq     L311
                            31711 
                            31712 ; 802  |                {
                            31713 ; 803  |                        SysCallFunction(RSRC_DISPLAY_CODE_BANK,RefreshDisplay, DisplayHint
                                  .I, 1, 0);
                            31714 
P:0587 340000         2 304231717         move    #0,r4
P:0588 60F400 rrrrrr  3 304531719         move    #FRefreshDisplay,r0
P:058A 21AF00         2 304731720         move    b1,b
P:058B 56F400 000022  3 305031718         move    #>34,a
P:058D 44F400 000001  3 305331716         move    #>1,x0
P:058F 0BF080 rrrrrr  6 305931721         jsr     SysCallFunction
                            31722 
                            31723 ; 804  |                if (iNextMenu == MENU_DELETE_MAIN) {
                            31724 
P:0591 77F400 FFFFF9  3 306231726         move    #-7,n7
P:0593 46F400 000005  3 306531729         move    #>5,y0
P:0595 5EEF00         4 306931728         move    y:(r7+n7),a
P:0596 45F455 000001  3 307231730         cmp     y0,a	                #>1,x1
P:0598 0AF0A2 rrrrrr  6 307831732         jne     L298
                            31733 
                            31734 ; 805  |#ifdef USE_PLAYLIST3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 513

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31735 ; 806  |                        SysPostMessage(6,LCD_CLEAR_RANGE,MENU_ITEM_X_OFFSET,MENU_ITEM_Y_OF
                                  FSET,LCD_SIZE_X,MENU_ITEM_Y_OFFSET+MENU_ITEM_HEIGHT*3);  //John_test
                            31736 
P:059A 292813         2 308031739         clr     a	                #40,b0
P:059B 2D0600         2 308231738         move    #6,b1
P:059C 260300         2 308431751         move    #<3,y0
P:059D 595F00         2 308631741         move    b0,y:(r7)+
P:059E 298000         2 308831743         move    #$80,b0
P:059F 595F00         2 309031744         move    b0,y:(r7)+
P:05A0 291000         2 309231746         move    #16,b0
P:05A1 595F00         2 309431747         move    b0,y:(r7)+
P:05A2 5E5F00         2 309631749         move    a,y:(r7)+
P:05A3 4E5F00         2 309831752         move    y0,y:(r7)+
P:05A4 5D5F00         2 310031754         move    b1,y:(r7)+
P:05A5 0BF080 rrrrrr  6 310631756         jsr     FSysPostMessage
                            31761 
                            31762 ; 807  |#endif
                            31763 ; 808  |                                SysCallFunction(RSRC_DISPLAY_LISTS_CODE_BANK,DisplayPagedL
                                  ist,iHighLightedItem,BITMAP_ERASE_TITLE_NUM,(int*)&MenuListInfo);
                            31764 
P:05A7 3F0600         2 310831757         move    #6,n7
P:05A8 60F400 rrrrrr  3 311131770         move    #FDisplayPagedList,r0
P:05AA 56F400 000079  3 311431774         move    #>$79,a
P:05AC 44F400 000002  3 311731769         move    #>2,x0
P:05AE 204700         2 311931759         move    (r7)-n7
P:05AF 77F400 FFFFF1  3 312231766         move    #-15,n7
P:05B1 000000         2 312431766         nop             ; (inserted)
P:05B2 044F14         4 312831768         lua     (r7)+n7,r4
P:05B3 77F400 FFFFF6  3 313131771         move    #-10,n7
P:05B5 000000         2 313331771         nop             ; (inserted)
P:05B6 5FEF00         4 313731773         move    y:(r7+n7),b
P:05B7 0BF080 rrrrrr  6 314331775         jsr     SysCallFunction
                            31776 
                            31777 ; 809  |                        }
                            31778 
P:05B9 0AF080 rrrrrr  6 314931780         jmp     L310
                            31781 
                            31782 ; 810  |#ifdef USE_PLAYLIST3
                            31783 ; 811  |                        else if ((iNextMenu == MENU_DELETE_VOICE)|| (iNextMenu == MENU_DEL
                                  ETE_FM)|| (iNextMenu == MENU_DELETE_LINEIN)) {
                            31784 
P:05BB 200003         2 315131786 L298:   tst     a
P:05BC 0AF0AA rrrrrr  6 315731787         jeq     L300
P:05BE 47F409 000006  3 316031788         tfr     a,b	                #>6,y1
P:05C0 20007D         2 316231790         cmp     y1,b
P:05C1 0AF0AA rrrrrr  6 316831791         jeq     L300
P:05C3 56F400 000008  3 317131792         move    #>8,a
P:05C5 20000D         2 317331793         cmp     a,b
P:05C6 0AF0A2 rrrrrr  6 317931794         jne     L302
                            31795 
                            31796 ; 812  |#else   // #ifdef USE_PLAYLIST3
                            31797 ; 813  |                        else if (iNextMenu ==   MENU_DELETE_VOICE) {
                            31798 ; 814  |//                      else if ((iNextMenu == MENU_DELETE_MUSIC)|| (iNextMenu ==       ME
                                  NU_DELETE_VOICE)) {
                            31799 ; 815  |#endif  // #ifdef USE_PLAYLIST3
                            31800 ; 816  |                                if (iDeleteQuestionHighLightedItem == NO)
                            31801 
P:05C8 77F400 FFFFF5  3 318231803 L300:   move    #-11,n7
P:05CA 000000         2 318431803         nop             ; (inserted)
P:05CB 5EEF00         4 318831805         move    y:(r7+n7),a
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 514

M:ADDR CODE           CYCLES LINE SOURCELINE
P:05CC 200003         2 319031806         tst     a
P:05CD 0AF0A2 rrrrrr  6 319631807         jne     L301
                            31808 
                            31809 ; 817  |                                        display_question_track_yes_or_no (      RSRC_DELET
                                  E_NO);
                            31810 
P:05CF 56F400 00013B  3 319931812         move    #315,a
P:05D1 0BF080 rrrrrr  6 320531813         jsr     Fdisplay_question_track_yes_or_no
P:05D3 0AF080 rrrrrr  6 321131814         jmp     L310
                            31815 
                            31816 ; 818  |                                else
                            31817 ; 819  |                                        display_question_track_yes_or_no (      RSRC_DELET
                                  E_YES);
                            31818 
P:05D5 56F400 00013C  3 321431820 L301:   move    #316,a
P:05D7 0BF080 rrrrrr  6 322031821         jsr     Fdisplay_question_track_yes_or_no
                            31822 
                            31823 ; 820  |
                            31824 ; 821  |                        }
                            31825 
P:05D9 0AF080 rrrrrr  6 322631827         jmp     L310
                            31828 
                            31829 ; 822  |#ifdef USE_PLAYLIST3
                            31830 ; 823  |                        else if ((iNextMenu == MENU_DELETE_VOICE_ALL)|| (iNextMenu == MENU
                                  _DELETE_FM_ALL)|| (iNextMenu == MENU_DELETE_LINEIN_ALL)) {
                            31831 
P:05DB 20006D         2 322831833 L302:   cmp     x1,b
P:05DC 0AF0AA rrrrrr  6 323431834         jeq     L304
P:05DE 45F400 000007  3 323731836         move    #>7,x1
P:05E0 5EEF00         4 324131835         move    y:(r7+n7),a
P:05E1 200065         2 324331837         cmp     x1,a
P:05E2 0AF0AA rrrrrr  6 324931838         jeq     L304
P:05E4 46F400 000009  3 325231839         move    #>9,y0
P:05E6 20005D         2 325431840         cmp     y0,b
P:05E7 0AF0A2 rrrrrr  6 326031841         jne     L310
                            31842 
                            31843 ; 824  |#else   // #ifdef USE_PLAYLIST3
                            31844 ; 825  |                        else if (iNextMenu ==    MENU_DELETE_VOICE_ALL) {
                            31845 ; 826  |//                      else if ((iNextMenu ==   MENU_DELETE_MUSIC_ALL)|| (iNextMenu ==   
                                   MENU_DELETE_VOICE_ALL)) {
                            31846 ; 827  |#endif  // #ifdef USE_PLAYLIST3
                            31847 ; 828  |                                if (iDeleteQuestionHighLightedItem == NO)
                            31848 
P:05E9 77F400 FFFFF5  3 326331850 L304:   move    #-11,n7
P:05EB 000000         2 326531850         nop             ; (inserted)
P:05EC 5FEF00         4 326931852         move    y:(r7+n7),b
P:05ED 20000B         2 327131853         tst     b
P:05EE 0AF0A2 rrrrrr  6 327731854         jne     L305
                            31855 
                            31856 ; 829  |                                        display_question_del_all_yes_or_no (RSRC_DELETE_NO
                                  );
                            31857 
P:05F0 56F400 00013B  3 328031859         move    #315,a
P:05F2 0BF080 rrrrrr  6 328631860         jsr     Fdisplay_question_del_all_yes_or_no
P:05F4 0AF080 rrrrrr  6 329231861         jmp     L310
                            31862 
                            31863 ; 830  |                                else
                            31864 ; 831  |                                        display_question_del_all_yes_or_no (RSRC_DELETE_YE
                                  S);
                            31865 
P:05F6 56F400 00013C  3 329531867 L305:   move    #316,a
P:05F8 0BF080 rrrrrr  6 330131868         jsr     Fdisplay_question_del_all_yes_or_no
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 515

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31869 
                            31870 ; 832  |                        }
                            31871 ; 833  |
                            31872 ; 834  |                        DisplayHint.I = 0;
                            31873 
                            31875 L310:
                            31879 
                            31880 ; 835  |                }
                            31881 ; 836  |
                            31882 ; 837  |                //wait until a message or button happens.
                            31883 ; 838  |        iEvent = SysWaitOnEvent(EVENT_MESSAGE|EVENT_BUTTON,&gEventInfo.msg, -1);
                            31884 
P:05FA 77F41B FFFFE4  3 330431875         clr     b	                #-28,n7
P:05FC 000000         2 330631875         nop             ; (inserted)
P:05FD 5F6F00         4 331031878         move    b,y:(r7+n7)
P:05FE 60F400 rrrrrr  3 331331886 L311:   move    #FgEventInfo,r0
P:0600 57F400 FFFFFF  3 331631887         move    #>-1,b
P:0602 56F400 00000A  3 331931888         move    #>10,a
P:0604 0BF080 rrrrrr  6 332531889         jsr     SysWaitOnEvent
                            31891 
                            31892 ; 839  |
                            31893 ; 840  |        bSendToPlayerStateMachine = TRUE;
                            31894 
                            31898 
                            31899 ; 841  |
                            31900 ; 842  |                switch (iEvent) {
                            31901 
P:0606 77F400 FFFFFE  3 332831904         move    #-2,n7
P:0608 46F409 000002  3 333131903         tfr     a,b	                #>2,y0
P:060A 44F400 000001  3 333431896         move    #>1,x0
P:060C 46F45D 000008  3 333731908         cmp     y0,b    #>8,y0
P:060E 5F6F00         4 334131906         move    b,y:(r7+n7)
P:060F 0AF0AA rrrrrr  6 334731909         jeq     L332
P:0611 20005D         2 334931910         cmp     y0,b
P:0612 0AF0A2 rrrrrr  6 335531911         jne     L336
                            31912 
                            31913 ; 843  |
                            31914 ; 844  |                //check for EVENT_BUTTON
                            31915 ; 845  |                case EVENT_BUTTON:
                            31916 ; 846  |                                // button pressed, so restart timer if enabled
                            31917 ; 847  |                        UpdateAutoShutdownTimer();
                            31918 
P:0614 0BF080 rrrrrr  6 336131920         jsr     FUpdateAutoShutdownTimer
                            31922 
                            31923 ; 848  |#ifdef BACKLIGHT
                            31924 ; 849  |                                // turn on backlight when button is pressed.
                            31925 ; 850  |                                if (g_iBackLightState==BACKLIGHT_ON)
                            31926 
P:0616 5EF000 rrrrrr  3 336431928         move    y:Fg_iBackLightState,a
P:0618 46F400 000001  3 336731929         move    #>1,y0
P:061A 200055         2 336931930         cmp     y0,a
P:061B 0AF0A2 rrrrrr  6 337531931         jne     L313
                            31932 
                            31933 ; 851  |                                {
                            31934 ; 852  |                        SysPostMessage(2,LCD_BACKLIGHT_ON);
                            31935 
P:061D 290200         2 337731937         move    #2,b0
P:061E 47F400 030010  3 338031938         move    #196624,y1
P:0620 4F5F00         2 338231939         move    y1,y:(r7)+
P:0621 595F00         2 338431941         move    b0,y:(r7)+
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 516

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0622 0BF080 rrrrrr  6 339031943         jsr     FSysPostMessage
                            31948 
                            31949 ; 853  |                        SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_BACKLIGHT,1,BACKLIGHT_
                                  TIME,MENU_MSG_TURN_OFF_BACKLIGHT);
                            31950 
P:0624 290100         2 339231952         move    #1,b0
P:0625 280500         2 339431954         move    #5,a0
P:0626 2D0600         2 339631953         move    #6,b1
P:0627 44F400 06001A  3 339931955         move    #393242,x0
P:0629 45F400 001388  3 340231958         move    #5000,x1
P:062B 205700         2 340431944         move    (r7)-
P:062C 205700         2 340631946         move    (r7)-
P:062D 4C5F00         2 340831956         move    x0,y:(r7)+
P:062E 4D5F00         2 341031959         move    x1,y:(r7)+
P:062F 595F00         2 341231961         move    b0,y:(r7)+
P:0630 51F400 090001  3 341531965         move    #589825,b0
P:0632 585F00         2 341731963         move    a0,y:(r7)+
P:0633 595F00         2 341931966         move    b0,y:(r7)+
P:0634 5D5F00         2 342131968         move    b1,y:(r7)+
P:0635 0BF080 rrrrrr  6 342731970         jsr     FSysPostMessage
                            31975 
                            31976 ; 854  |                    SysWaitOnEvent(0,0,0);
                            31977 
P:0637 3F0613         2 342931979         clr     a	                #6,n7
P:0638 30001B         2 343131981         clr     b	                #0,r0
P:0639 204700         2 343331973         move    (r7)-n7
P:063A 0BF080 rrrrrr  6 343931982         jsr     SysWaitOnEvent
                            31983 
                            31984 ; 855  |                                }
                            31985 ; 856  |#endif
                            31986 ; 857  |                                bSendToPlayerStateMachine = FALSE;
                            31987 
                            31989 L313:
                            31991 
                            31992 ; 858  |                                // check which button and process accordingly
                            31993 ; 859  |                         switch(gEventInfo.Button.wButtonEvent)
                            31994 
P:063C 66F400 rrrrrr  3 344231997         move    #L348,r6
P:063E 240000         2 344431989         move    #0,x0
P:063F 5EF000 rrrrrr  3 344731996         move    y:FgEventInfo,a
P:0641 57F400 00001A  3 345031999         move    #>26,b
P:0643 2A0000         2 345231998         move    #0,a2
P:0644 21DE05         2 345432000         cmp     b,a     a,n6
P:0645 0AF0A7 rrrrrr  6 346032001         jgt     L336
P:0647 07EE96         8 346832002         movem   p:(r6+n6),r6
P:0648 000000         2 347032002         nop             ; (inserted)
P:0649 0AE680         4 347432004         jmp     (r6)
                            32005 
P:064A rrrrrr               32006 L348:   dc      L322    ; case 0:
P:064B rrrrrr               32007         dc      L322    ; case 1:
P:064C rrrrrr               32008         dc      L322    ; case 2:
P:064D rrrrrr               32009         dc      L322    ; case 3:
P:064E rrrrrr               32010         dc      L322    ; case 4:
P:064F rrrrrr               32011         dc      L316    ; case 5:
P:0650 rrrrrr               32012         dc      L336    ; default:
P:0651 rrrrrr               32013         dc      L336    ; default:
P:0652 rrrrrr               32014         dc      L344    ; case 8:
P:0653 rrrrrr               32015         dc      L336    ; default:
P:0654 rrrrrr               32016         dc      L315    ; case 10:
P:0655 rrrrrr               32017         dc      L315    ; case 11:
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 517

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0656 rrrrrr               32018         dc      L336    ; default:
P:0657 rrrrrr               32019         dc      L336    ; default:
P:0658 rrrrrr               32020         dc      L336    ; default:
P:0659 rrrrrr               32021         dc      L336    ; default:
P:065A rrrrrr               32022         dc      L336    ; default:
P:065B rrrrrr               32023         dc      L336    ; default:
P:065C rrrrrr               32024         dc      L336    ; default:
P:065D rrrrrr               32025         dc      L336    ; default:
P:065E rrrrrr               32026         dc      L336    ; default:
P:065F rrrrrr               32027         dc      L336    ; default:
P:0660 rrrrrr               32028         dc      L336    ; default:
P:0661 rrrrrr               32029         dc      L336    ; default:
P:0662 rrrrrr               32030         dc      L336    ; default:
P:0663 rrrrrr               32031         dc      L336    ; default:
P:0664 rrrrrr               32032         dc      L317    ; case 26:
                            32033 
                            32034 
                            32035 ; 860  |                        {
                            32036 ; 861  |                        case PH_HOLD:
                            32037 ; 862  |                                case PR_HOLD:
                            32038 ; 863  |                                DisplayHint.bits.LockIcon = TRUE;
                            32039 
                            32041 L315:
                            32044 
                            32045 ; 864  |
                            32046 ; 865  |                        break;
                            32047 
P:0665 77F400 FFFFE4  3 347732041         move    #-28,n7
P:0667 000000         2 347932041         nop             ; (inserted)
P:0668 0A6F74         6 348532043         bset    #20,y:(r7+n7)
P:0669 0AF080 rrrrrr  6 349132049         jmp     L344
                            32050 
                            32051 ; 866  |
                            32052 ; 867  |                        case PH_MENU:
                            32053 ; 868  |                                // allow user to escape to music mode
                            32054 ; 869  |                                 iNextMenu = MENU_DELETE_EXIT;
                            32055 
                            32057 L316:
                            32065 
                            32066 ; 870  |                                // set flag so PR_MENU in music mode will ignore
                            32067 ; 871  |                                g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC = TRUE;
                            32068 
                            32071 
                            32072 ; 872  |                                break;
                            32073 
P:066B 77F400 FFFFF9  3 349432060         move    #-7,n7
P:066D 2D0200         2 349632057         move    #2,b1
P:066E 5D6F00         4 350032062         move    b1,y:(r7+n7)
P:066F 0A7061 rrrrrr  6 350632070         bset    #1,y:Fg_MenuFlags
P:0671 0AF080 rrrrrr  6 351232075         jmp     L344
                            32076 
                            32077 ; 873  |
                            32078 ; 874  |                        case PH_STOP:
                            32079 
                            32081 L317:
                            32086 
                            32087 ; 875  |                                //if the STOP button is held down, lets call the shutdown 
                                  menu
                            32088 ; 876  |                                SysCallFunction(RSRC_MAIN_MENU_CODE_BANK,ShutdownMenu,USER
                                  SHUTDOWN,0,0);
                            32089 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 518

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0673 34001B         2 351432091         clr     b	                #0,r4
P:0674 60F400 rrrrrr  3 351732095         move    #FShutdownMenu,r0
P:0676 045FA0         2 351932081         movec   m0,n7
P:0677 56F400 000078  3 352232094         move    #>$78,a
P:0679 4C6F00         4 352632083         move    x0,y:(r7+n7)
P:067A 240000         2 352832093         move    #0,x0
P:067B 0BF080 rrrrrr  6 353432096         jsr     SysCallFunction
                            32102 
                            32103 ; 877  |                                // when returns update display  -- if doesn't return, powe
                                  red down
                            32104 ; 878  |                                DisplayHint.I |= DELETE_MENU_DISPLAY_ALL|(1<<DISPLAY_CLEAR
                                  _DISPLAY_BITPOS);
                            32105 
                            32113 
                            32114 ; 879  |                                break;
                            32115 
P:067D 045FA0         2 353632097         movec   m0,n7
P:067E 46F400 707E11  3 353932107         move    #7372305,y0
P:0680 4CEF00         4 354332099         move    y:(r7+n7),x0
P:0681 77F400 FFFFE4  3 354632108         move    #-28,n7
P:0683 000000         2 354832108         nop             ; (inserted)
P:0684 5CEF00         4 355232110         move    y:(r7+n7),a1
P:0685 200052         2 355432111         or      y0,a
P:0686 5C6F00         4 355832112         move    a1,y:(r7+n7)
P:0687 0AF080 rrrrrr  6 356432117         jmp     L344
                            32118 
                            32119 ; 880  |
                            32120 ; 881  |                                        case PR_FF:
                            32121 ; 882  |                                        case PH_FF:
                            32122 ; 883  |                                        case PR_RW:
                            32123 ; 884  |                                        case PH_RW:
                            32124 ; 885  |                                        case PR_MENU:
                            32125 ; 886  |                                                bSendToPlayerStateMachine = FALSE;
                            32126 
                            32128 L322:
                            32129 
                            32130 ; 887  |#ifdef USE_PLAYLIST3
                            32131 ; 888  |                        if (iNextMenu == MENU_DELETE_MAIN) {
                            32132 
P:0689 77F400 FFFFF9  3 356732134         move    #-7,n7
P:068B 47F400 000005  3 357032137         move    #>5,y1
P:068D 5EEF00         4 357432136         move    y:(r7+n7),a
P:068E 240075         2 357632138         cmp     y1,a	                #0,x0
P:068F 0AF0A2 rrrrrr  6 358232141         jne     L323
                            32147 
                            32148 ; 889  |                                iNextMenu = hndl_delete_main_menu(gEventInfo.Button.wButto
                                  nEvent,&iHighLightedItem);
                            32149 
P:0691 045FA0         2 358432142         movec   m0,n7
P:0692 000000         2 358632142         nop             ; (inserted)
P:0693 4C6F00         4 359032144         move    x0,y:(r7+n7)
P:0694 77F400 FFFFF6  3 359332153         move    #-10,n7
P:0696 5EF000 rrrrrr  3 359632151         move    y:FgEventInfo,a
P:0698 044F10         4 360032155         lua     (r7)+n7,r0
P:0699 0BF080 rrrrrr  6 360632156         jsr     Fhndl_delete_main_menu
                            32166 
                            32167 ; 890  |                        }
                            32168 
P:069B 045FA0         2 360832157         movec   m0,n7
P:069C 000000         2 361032157         nop             ; (inserted)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 519

M:ADDR CODE           CYCLES LINE SOURCELINE
P:069D 4CEF00         4 361432159         move    y:(r7+n7),x0
P:069E 77F400 FFFFF9  3 361732162         move    #-7,n7
P:06A0 000000         2 361932162         nop             ; (inserted)
P:06A1 5E6F00         4 362332164         move    a,y:(r7+n7)
P:06A2 0AF080 rrrrrr  6 362932170         jmp     L331
                            32171 
                            32172 ; 891  |                        else if ((iNextMenu == MENU_DELETE_VOICE)|| (iNextMenu == MENU_DEL
                                  ETE_FM)|| (iNextMenu == MENU_DELETE_LINEIN)) {
                            32173 
                            32175 L323:
P:06A4 200003         2 363132178         tst     a
P:06A5 0AF0AA rrrrrr  6 363732179         jeq     L325
P:06A7 45F400 000006  3 364032180         move    #>6,x1
P:06A9 200065         2 364232181         cmp     x1,a
P:06AA 0AF0AA rrrrrr  6 364832182         jeq     L325
P:06AC 46F400 000008  3 365132183         move    #>8,y0
P:06AE 200055         2 365332184         cmp     y0,a
P:06AF 0AF0A2 rrrrrr  6 365932185         jne     L326
                            32186 L325:
                            32191 
                            32192 ; 892  |                                iNextMenu = hndl_del_music_voice_file_menu(iNextMenu, gEve
                                  ntInfo.Button.wButtonEvent, &iDeleteQuestionHighLightedItem);
                            32193 
P:06B1 045FA0         2 366132186         movec   m0,n7
P:06B2 000000         2 366332186         nop             ; (inserted)
P:06B3 4C6F00         4 366732188         move    x0,y:(r7+n7)
P:06B4 77F400 FFFFF5  3 367032196         move    #-11,n7
P:06B6 5FF000 rrrrrr  3 367332195         move    y:FgEventInfo,b
P:06B8 044F10         4 367732198         lua     (r7)+n7,r0
P:06B9 0BF080 rrrrrr  6 368332199         jsr     Fhndl_del_music_voice_file_menu
                            32210 
                            32211 ; 893  |                                //bWaitforDisplay = TRUE;   // To fix defect 10915
                            32212 ; 894  |                        }
                            32213 
P:06BB 045FA0         2 368532201         movec   m0,n7
P:06BC 000000         2 368732201         nop             ; (inserted)
P:06BD 4CEF00         4 369132203         move    y:(r7+n7),x0
P:06BE 77F400 FFFFF9  3 369432206         move    #-7,n7
P:06C0 000000         2 369632206         nop             ; (inserted)
P:06C1 5E6F00         4 370032208         move    a,y:(r7+n7)
P:06C2 0AF080 rrrrrr  6 370632215         jmp     L331
                            32216 
                            32217 ; 895  |                        else if ((iNextMenu ==    MENU_DELETE_VOICE_ALL)|| (iNextMenu == M
                                  ENU_DELETE_FM_ALL)|| (iNextMenu == MENU_DELETE_LINEIN_ALL)) {
                            32218 
                            32220 L326:
P:06C4 47F400 000001  3 370932224         move    #>1,y1
P:06C6 5C6F75         4 371332225         cmp     y1,a	                a1,y:(r7+n7)
P:06C7 0AF0AA rrrrrr  6 371932228         jeq     L328
P:06C9 218E00         2 372132229         move    a1,a
P:06CA 46F400 000007  3 372432230         move    #>7,y0
P:06CC 200055         2 372632231         cmp     y0,a
P:06CD 0AF0AA rrrrrr  6 373232232         jeq     L328
P:06CF 47F400 000009  3 373532233         move    #>9,y1
P:06D1 200075         2 373732234         cmp     y1,a
P:06D2 0AF0A2 rrrrrr  6 374332235         jne     L331
                            32236 L328:
                            32241 
                            32242 ; 896  |                                iNextMenu = hndl_del_music_voice_all_menu(iNextMenu, gEven
                                  tInfo.Button.wButtonEvent, &iDeleteQuestionHighLightedItem);
                            32243 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 520

M:ADDR CODE           CYCLES LINE SOURCELINE
P:06D4 045FA0         2 374532236         movec   m0,n7
P:06D5 000000         2 374732236         nop             ; (inserted)
P:06D6 4C6F00         4 375132238         move    x0,y:(r7+n7)
P:06D7 77F400 FFFFF5  3 375432246         move    #-11,n7
P:06D9 5FF000 rrrrrr  3 375732245         move    y:FgEventInfo,b
P:06DB 044F10         4 376132248         lua     (r7)+n7,r0
P:06DC 77F400 FFFFF9  3 376432249         move    #-7,n7
P:06DE 000000         2 376632249         nop             ; (inserted)
P:06DF 5EEF00         4 377032251         move    y:(r7+n7),a
P:06E0 0BF080 rrrrrr  6 377632252         jsr     Fhndl_del_music_voice_all_menu
                            32265 
                            32266 ; 897  |                                //bWaitforDisplay = TRUE;   // To fix defect 10915
                            32267 ; 898  |                        }
                            32268 ; 899  |                        DisplayHint.bits.Misc = TRUE;
                            32269 
P:06E2 045FA0         2 377832256         movec   m0,n7
P:06E3 000000         2 378032256         nop             ; (inserted)
P:06E4 4CEF00         4 378432258         move    y:(r7+n7),x0
P:06E5 77F400 FFFFF9  3 378732261         move    #-7,n7
P:06E7 000000         2 378932261         nop             ; (inserted)
P:06E8 5E6F00         4 379332263         move    a,y:(r7+n7)
                            32271 L331:
                            32274 
                            32275 ; 900  |
                            32276 ; 901  |                        if (g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC)
                            32277 
P:06E9 77F400 FFFFE4  3 379632271         move    #-28,n7
P:06EB 000000         2 379832271         nop             ; (inserted)
P:06EC 0A6F64         6 380432273         bset    #4,y:(r7+n7)
P:06ED 5CF000 rrrrrr  3 380732279         move    y:Fg_MenuFlags,a1
P:06EF 0ACC01 rrrrrr  6 381332280         jclr    #1,a1,L344
                            32281 
                            32282 ; 902  |                        {
                            32283 ; 903  |                                iNextMenu = MENU_DELETE_MAIN;
                            32284 
                            32294 
                            32295 ; 904  |                                g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC = FALSE;
                            32296 
                            32299 
                            32300 ; 905  |                        }
                            32301 ; 906  |#else   // #ifdef USE_PLAYLIST3
                            32302 ; 907  |
                            32303 ; 908  |                                        if (iNextMenu == MENU_DELETE_MAIN) {
                            32304 ; 909  |                                                        iNextMenu =
                            32305 ; 910  |                                                                hndl_delete_main_menu(gEve
                                  ntInfo.Button.wButtonEvent,&iHighLightedItem);
                            32306 ; 911  |                                                }
                            32307 ; 912  |                                                else if (iNextMenu == MENU_DELETE_VOICE) {
                                  
                            32308 ; 913  |//                                              else if ((iNextMenu == MENU_DELETE_MUSIC)|
                                  | (iNextMenu ==         MENU_DELETE_VOICE)) {
                            32309 ; 914  |
                            32310 ; 915  |                                                        iNextMenu =
                            32311 ; 916  |                                                                hndl_del_music_voice_file_
                                  menu(iNextMenu, gEventInfo.Button.wButtonEvent, &iDeleteQuestionHighLightedItem);
                            32312 ; 917  |                                                }
                            32313 ; 918  |                                                else if (iNextMenu == MENU_DELETE_VOICE_AL
                                  L) {
                            32314 ; 919  |//                                              else if ((iNextMenu ==   MENU_DELETE_MUSIC
                                  _ALL)|| (iNextMenu ==    MENU_DELETE_VOICE_ALL)) {
                            32315 ; 920  |                                                                iNextMenu =
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 521

M:ADDR CODE           CYCLES LINE SOURCELINE
                            32316 ; 921  |                                                                        hndl_del_music_voi
                                  ce_all_menu(iNextMenu, gEventInfo.Button.wButtonEvent, &iDeleteQuestionHighLightedItem);
                            32317 ; 922  |                                                }
                            32318 ; 923  |                                DisplayHint.bits.Misc = TRUE;
                            32319 ; 924  |
                            32320 ; 925  |#endif  // #ifdef USE_PLAYLIST3
                            32321 ; 926  |                                                break;
                            32322 ; 927  |
                            32323 ; 928  |                                        case PR_PLAY:
                            32324 ; 929  |                                                // Prevent the user from restarting the De
                                  coder,
                            32325 ; 930  |                                                // ignore/consume this button event (fix d
                                  efect #stmp7488)
                            32326 ; 931  |                                                break;
                            32327 
P:06F1 77F400 FFFFF9  3 381632289         move    #-7,n7
P:06F3 56F400 000005  3 381932286         move    #>5,a
P:06F5 5E6F00         4 382332291         move    a,y:(r7+n7)
P:06F6 0A7041 rrrrrr  6 382932298         bclr    #1,y:Fg_MenuFlags
P:06F8 0AF080 rrrrrr  6 383532329         jmp     L344
                            32330 
                            32331 ; 932  |
                            32332 ; 933  |                                        default:
                            32333 ; 934  |                                        bSendToPlayerStateMachine = TRUE; // 3.05 sets thi
                                  s to TRUE. 2.6 had it as false.
                            32334 ; 935  |                                                break;
                            32335 ; 936  |                                  }     // end switch
                            32336 ; 937  |                                  break;
                            32337 ; 938  |
                            32338 ; 939  |                case EVENT_MESSAGE:
                            32339 ; 940  |                                if(gEventInfo.Message.wMsgCommand == MENU_MSG_MEDIA_CHANGE
                                  D)
                            32340 
P:06FA 5EF000 rrrrrr  3 383832342 L332:   move    y:FgEventInfo+1,a
P:06FC 45F400 060008  3 384132343         move    #393224,x1
P:06FE 2A0000         2 384332344         move    #0,a2
P:06FF 200065         2 384532345         cmp     x1,a
P:0700 0AF0A2 rrrrrr  6 385132346         jne     L333
                            32347 
                            32348 ; 941  |                                {
                            32349 ; 942  |                                                        // In this case, we need to go bac
                                  k to the delete main menu
                            32350 ; 943  |                                                        // (the song might not be there an
                                  y more)
                            32351 ; 944  |                                                        iNextMenu = MENU_DELETE_MAIN;
                            32352 
                            32362 
                            32363 ; 945  |#ifdef USE_PLAYLIST3
                            32364 ; 946  |                        bWaitforDisplay = TRUE;
                            32365 
                            32369 
                            32370 ; 947  |#endif
                            32371 ; 948  |                                }
                            32372 
P:0702 77F400 FFFFF9  3 385432357         move    #-7,n7
P:0704 290100         2 385632367         move    #1,b0
P:0705 46F400 000005  3 385932354         move    #>5,y0
P:0707 4E6F00         4 386332359         move    y0,y:(r7+n7)
P:0708 597000 rrrrrr  3 386632368         move    b0,y:FbWaitforDisplay
P:070A 0AF080 rrrrrr  6 387232374         jmp     L344
                            32375 
                            32376 ; 949  |#ifdef MMC
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 522

M:ADDR CODE           CYCLES LINE SOURCELINE
                            32377 ; 950  |                                else if(gEventInfo.Message.wMsgCommand == MENU_MSG_MEDIA_O
                                  VER_CUR)
                            32378 
P:070C 47F400 060009  3 387532380 L333:   move    #393225,y1
P:070E 200075         2 387732381         cmp     y1,a
P:070F 0AF0A2 rrrrrr  6 388332382         jne     L336
                            32383 
                            32384 ; 951  |                                {
                            32385 ; 952  |                                                        // In this case, we need to go bac
                                  k to the delete main menu
                            32386 ; 953  |                                                        // (the song might not be there an
                                  y more)
                            32387 ; 954  |                                                        iNextMenu = MENU_DELETE_MAIN;
                            32388 
                            32398 
                            32399 ; 955  |                                }
                            32400 
P:0711 77F400 FFFFF9  3 388632393         move    #-7,n7
P:0713 46F400 000005  3 388932390         move    #>5,y0
P:0715 4E6F00         4 389332395         move    y0,y:(r7+n7)
P:0716 0AF080 rrrrrr  6 389932402         jmp     L344
                            32403 
                            32404 ; 956  |
                            32405 ; 957  |#endif
                            32406 ; 958  |                                else
                            32407 ; 959  |                                {
                            32408 ; 960  |                        //These all need to be sent to the player state machine
                            32409 ; 961  |                        bSendToPlayerStateMachine = TRUE;
                            32410 ; 962  |                                }
                            32411 ; 963  |                    break;
                            32412 ; 964  |
                            32413 ; 965  |                                default:
                            32414 ; 966  |                                        //Let PSM handle the object in this case
                            32415 ; 967  |                                        bSendToPlayerStateMachine = TRUE;
                            32416 
                            32418 L336:
                            32419 
                            32420 ; 968  |                                        break;
                            32421 ; 969  |                        }       //switch(iEvent)
                            32422 ; 970  |
                            32423 ; 971  |
                            32424 ; 972  |       if(bSendToPlayerStateMachine)
                            32425 
P:0718 44F400 000001  3 390232418         move    #>1,x0
                            32427 L344:
P:071A 208E00         2 390432427         move    x0,a
P:071B 2A0000         2 390632428         move    #0,a2
P:071C 200003         2 390832429         tst     a
P:071D 0AF0AA rrrrrr  6 391432432         jeq     L345
                            32433 
                            32434 ; 973  |               SysCallFunction(RSRC_PLAY_STATE_MACHINE_CODE_BANK,HandlePlayerStateMachine,
                                  iEvent,0,pPtr);
                            32435 
P:071F 77F400 FFFFFD  3 391732437         move    #-3,n7
P:0721 60F400 rrrrrr  3 392032448         move    #FHandlePlayerStateMachine,r0
P:0723 6CEF00         4 392432439         move    y:(r7+n7),r4
P:0724 77F400 FFFFFE  3 392732445         move    #-2,n7
P:0726 240000         2 392932444         move    #0,x0
P:0727 56F400 000011  3 393232442         move    #>17,a
P:0729 5FEF00         4 393632447         move    y:(r7+n7),b
P:072A 0BF080 rrrrrr  6 394232449         jsr     SysCallFunction
                            32455 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 523

M:ADDR CODE           CYCLES LINE SOURCELINE
                            32456 ; 974  |
                            32457 ; 975  |        }    while(      iNextMenu != MENU_DELETE_EXIT );
                            32458 
P:072C 77F400 FFFFF9  3 394532460 L345:   move    #-7,n7
P:072E 47F400 000002  3 394832463         move    #>2,y1
P:0730 5FEF00         4 395232462         move    y:(r7+n7),b
P:0731 20007D         2 395432464         cmp     y1,b
P:0732 0AF0A2 rrrrrr  6 396032465         jne     L286
                            32466 
                            32467 ; 976  |
                            32468 ; 977  |        // clear the display
                            32469 ; 978  |        clear_display();
                            32470 
P:0734 0BF080 rrrrrr  6 396632472         jsr     Fclear_display
                            32473 
                            32474 ; 979  |
                            32475 ; 980  |        g_iPlaylistRepeat = old_iPlaylistRepeat;  // restore globals
                            32476 
                            32482 
                            32483 ; 981  |        g_bPlaylistShuffle = old_bPlaylistShuffle;
                            32484 
                            32490 
                            32491 ; 982  |
                            32492 ; 983  |    return MENU_MAIN;
                            32493 
                            32496 
                            32497 ; 984  |}
                            32498 
P:0736 77F400 FFFFFB  3 396932478         move    #-5,n7
P:0738 000000         2 397132478         nop             ; (inserted)
P:0739 59EF00         4 397532480         move    y:(r7+n7),b0
P:073A 77F400 FFFFFC  3 397832486         move    #-4,n7
P:073C 597000 rrrrrr  3 398132481         move    b0,y:Fg_iPlaylistRepeat
P:073E 58EF00         4 398532488         move    y:(r7+n7),a0
P:073F 77F400 FFFFE3  3 398832500         move    #-29,n7
P:0741 587000 rrrrrr  3 399132489         move    a0,y:Fg_bPlaylistShuffle
P:0743 05EF7C         4 399532502         movec   y:(r7+n7),ssh
P:0744 56F400 000064  3 399832495         move    #>100,a
P:0746 204F00         2 400032504         move    (r7)+n7
P:0747 00000C         4 400432506         rts
                            32513 
                            32514 ; 985  |/////////////////////////////////////////////////////////////////////////////////////////
                            32515 ; 986  |//
                            32516 ; 987  |//  Name:               void DisplayDeleteResultBitmap (int iBitmapResourceNum)
                            32517 ; 988  |//
                            32518 ; 989  |//   Type:          Function
                            32519 ; 990  |//
                            32520 ; 991  |//   Description:   This function was defined to save X memory in DeleteAllFiles
                            32521 ; 992  |//
                            32522 ; 993  |//
                            32523 ; 994  |//   Inputs:        iBitmapResourceNum
                            32524 ; 995  |//
                            32525 ; 996  |//   Outputs:       none
                            32526 ; 997  |//
                            32527 ; 998  |//   Notes:
                            32528 ; 999  |//
                            32529 ; 1000 |//
                            32530 ; 1001 |//////////////////////////////////////////////////////////////////////////////////////////
                                  
                            32531 ; 1002 |
                            32532 ; 1003 |void DisplayDeleteResultBitmap(int iBitmapResourceNum)
                            32533 ; 1004 |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 524

M:ADDR CODE           CYCLES LINE SOURCELINE
                            32534 
                            32539 FDisplayDeleteResultBitmap:
                            32544 
                            32545 ; 1005 |    SysCallFunction(RSRC_MAIN_MENU_CODE_BANK,SplashScreen,iBitmapResourceNum,1000,0);
                            32546 
P:0748 05707C rrrrrr  4 400832540         movec   ssh,y:ss_DisplayDeleteResultBitmap
P:074A 340000         2 401032548         move    #0,r4
P:074B 60F400 rrrrrr  3 401332552         move    #FSplashScreen,r0
P:074D 218F00         2 401532549         move    a1,b
P:074E 44F400 0003E8  3 401832551         move    #1000,x0
P:0750 56F400 000078  3 402132550         move    #>$78,a
P:0752 0BF080 rrrrrr  6 402732553         jsr     SysCallFunction
                            32557 
                            32558 ; 1006 |}
                            32559 
P:0754 05F07C rrrrrr  4 403132561         movec   y:ss_DisplayDeleteResultBitmap,ssh
P:0756 000000         2 403332561         nop             ; (inserted)
P:0757 00000C         4 403732564         rts
                            32565 
Y:0000                      32566         org     y,".yovldeletemenu@DisplayDeleteResultBitmap",overlay:
                            32567 ss_DisplayDeleteResultBitmap:
Y:0000 RESERVED             32568         ds      1
Y:0000
                            32569 
P:0758                      32570         org     p,".ptextdeletemenu":
                            32572 
                            32573 ; 1007 |
                            32574 ; 1008 |/////////////////////////////////////////////////////////////////////////////////////////
                            32575 ; 1009 |//
                            32576 ; 1010 |//  Name:               void DeleteAllFiles (void)
                            32577 ; 1011 |//
                            32578 ; 1012 |//   Type:          Function (delete all files - music or voice)
                            32579 ; 1013 |//
                            32580 ; 1014 |//   Description:   This function deletes all files and updates display accordingly
                            32581 ; 1015 |//
                            32582 ; 1016 |//
                            32583 ; 1017 |//   Inputs:        none
                            32584 ; 1018 |//
                            32585 ; 1019 |//   Outputs:       none
                            32586 ; 1020 |//
                            32587 ; 1021 |//   Notes:
                            32588 ; 1022 |//
                            32589 ; 1023 |//
                            32590 ; 1024 |//////////////////////////////////////////////////////////////////////////////////////////
                                  
                            32591 ; 1025 |
                            32592 ; 1026 |void _reentrant DeleteAllFiles(void)
                            32593 ; 1027 |{
                            32594 
                            32605 FDeleteAllFiles:
                            32617 
                            32618 ; 1028 |    int iError = NOERROR;
                            32619 ; 1029 |        BOOL done = FALSE;
                            32620 
                            32633 
                            32634 ; 1030 |        Message msg;
                            32635 ; 1031 |        int iDisplayProgress=0;
                            32636 
                            32645 
                            32646 ; 1032 |
                            32647 ; 1033 |    // prevent msg queue overflow
                            32648 ; 1034 |#ifdef USE_PLAYLIST3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 525

M:ADDR CODE           CYCLES LINE SOURCELINE
                            32649 ; 1035 |        SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_ANIMATE);
                            32650 
P:0758 055F7C         2 403932606         movec   ssh,y:(r7)+
P:0759 3F0300         2 404132609         move    #3,n7
P:075A 280000         2 404332622         move    #0,a0
P:075B 2C0000         2 404532638         move    #0,a1
P:075C 290300         2 404732652         move    #3,b0
P:075D 46F400 090002  3 405032653         move    #589826,y0
P:075F 204F00         2 405232611         move    (r7)+n7
P:0760 77F400 FFFFFD  3 405532624         move    #-3,n7
P:0762 000000         2 405732624         nop             ; (inserted)
P:0763 586F00         4 406132626         move    a0,y:(r7+n7)
P:0764 77F400 FFFFFE  3 406432640         move    #-2,n7
P:0766 000000         2 406632640         nop             ; (inserted)
P:0767 5C6F13         4 407032654         clr     a	                a1,y:(r7+n7)
P:0768 5C5F00         2 407232655         move    a1,y:(r7)+
P:0769 4E5F00         2 407432657         move    y0,y:(r7)+
P:076A 595F00         2 407632659         move    b0,y:(r7)+
P:076B 0BF080 rrrrrr  6 408232661         jsr     FSysPostMessage
                            32666 
                            32667 ; 1036 |#else
                            32668 ; 1037 |        // SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_ANIMATE);
                            32669 ; 1038 |#endif
                            32670 ; 1039 |        SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_BATT_CHK);
                            32671 
P:076D 3F0300         2 408432662         move    #3,n7
P:076E 2D0200         2 408632674         move    #2,b1
P:076F 290300         2 408832673         move    #3,b0
P:0770 47F400 090002  3 409132677         move    #589826,y1
P:0772 204700         2 409332664         move    (r7)-n7
P:0773 5D5F00         2 409532675         move    b1,y:(r7)+
P:0774 4F5F00         2 409732678         move    y1,y:(r7)+
P:0775 595F00         2 409932680         move    b0,y:(r7)+
P:0776 0BF080 rrrrrr  6 410532682         jsr     FSysPostMessage
                            32687 
                            32688 ; 1040 |
                            32689 ; 1041 |    // Clear MTP database clean flag; an object is being deleted, which needs to be accoun
                                  ted for
                            32690 ; 1042 |    ClearStickyBit((volatile _X WORD *)&HW_RTC_MTP_DB_CLEAN_FLAG_REG, HW_RTC_PERSISTANT1_M
                                  TP_DB_CLEAN_FLAG_BITPOS);
                            32691 
P:0778 3F0300         2 410732683         move    #3,n7
P:0779 60F400 00F508  3 411032693         move    #$F508,r0
P:077B 56F400 000005  3 411332694         move    #>5,a
P:077D 204700         2 411532685         move    (r7)-n7
P:077E 0BF080 rrrrrr  6 412132695         jsr     FClearStickyBit
                            32696 
                            32697 ; 1043 |
                            32698 ; 1044 |        // clear display
                            32699 ; 1045 |        clear_display();
                            32700 
P:0780 0BF080 rrrrrr  6 412732702         jsr     Fclear_display
                            32703 
                            32704 ; 1046 |
                            32705 ; 1047 |        //Display Success (would be nice to show deleting files)
                            32706 ; 1048 |    //SysCallFunction(RSRC_MAIN_MENU_CODE_BANK,SplashScreen,RSRC_DELETE_SUCCESSFUL,1000,0)
                                  ;
                            32707 ; 1049 |    DisplayDeleteResultBitmap(RSRC_DELETE_SUCCESSFUL);
                            32708 
P:0782 56F400 0001EA  3 413032710         move    #490,a
P:0784 0BF080 rrrrrr  6 413632711         jsr     FDisplayDeleteResultBitmap
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 526

M:ADDR CODE           CYCLES LINE SOURCELINE
                            32712 
                            32713 ; 1050 |
                            32714 ; 1051 |        while (!done)
                            32715 
P:0786 0AF080 rrrrrr  6 414232717         jmp     L360
                            32718 
                            32719 ; 1052 |        {
                            32720 ; 1053 |                // Load FAT write module into application space and block other apps
                            32721 ; 1054 |                SysLoadFATWrite();
                            32722 
P:0788 0BF080 rrrrrr  6 414832724 L355:   jsr     SysLoadFATWrite
                            32725 
                            32726 ; 1055 |
                            32727 ; 1056 |                iError = Fremove((_packed char *)g_CurrentSongName);
                            32728 
P:078A 60F400 rrrrrr  3 415132730         move    #Fg_CurrentSongName,r0
P:078C 0BF080 rrrrrr  6 415732731         jsr     FFremove
                            32736 
                            32737 ; 1057 |
                            32738 ; 1058 |                SysUnLoadFATWrite();
                            32739 
P:078E 045FA0         2 415932732         movec   m0,n7
P:078F 000000         2 416132732         nop             ; (inserted)
P:0790 5E6F00         4 416532734         move    a,y:(r7+n7)
P:0791 0BF080 rrrrrr  6 417132741         jsr     SysUnLoadFATWrite
                            32747 
                            32748 ; 1059 |
                            32749 ; 1060 |
                            32750 ; 1061 |                if (iError == NOERROR)
                            32751 
P:0793 045FA0         2 417332742         movec   m0,n7
P:0794 000000         2 417532742         nop             ; (inserted)
P:0795 5FEF00         4 417932744         move    y:(r7+n7),b
P:0796 20000B         2 418132753         tst     b
P:0797 0AF0A2 rrrrrr  6 418732754         jne     L358
                            32755 
                            32756 ; 1062 |                {
                            32757 ; 1063 |
                            32758 ; 1064 |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,WARNING_MSG_FILE_X+8*iDispla
                                  yProgress,WARNING_MSG_FILE_Y,RSRC_FILE_DELETE_STAR);
                            32759 
P:0799 77F400 FFFFFE  3 419032761         move    #-2,n7
P:079B 282800         2 419232767         move    #40,a0
P:079C 46F400 000379  3 419532768         move    #889,y0
P:079E 47F400 030001  3 419832775         move    #$30001,y1
P:07A0 4DEF00         4 420232763         move    y:(r7+n7),x1
P:07A1 0115F8         2 420432764         mpy     x1,#21,b
P:07A2 4E5F00         2 420632769         move    y0,y:(r7)+
P:07A3 2D0500         2 420832766         move    #5,b1
P:07A4 585F00         2 421032771         move    a0,y:(r7)+
P:07A5 595F00         2 421232773         move    b0,y:(r7)+
P:07A6 4F5F00         2 421432776         move    y1,y:(r7)+
P:07A7 5D5F00         2 421632778         move    b1,y:(r7)+
P:07A8 0BF080 rrrrrr  6 422232780         jsr     FSysPostMessage
                            32785 
                            32786 ; 1065 |                        iDisplayProgress++;
                            32787 
                            32796 
                            32797 ; 1066 |                        if (iDisplayProgress>5)
                            32798 
P:07AA 3F0500         2 422432781         move    #5,n7
P:07AB 46F400 000001  3 422732792         move    #>1,y0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 527

M:ADDR CODE           CYCLES LINE SOURCELINE
P:07AD 204700         2 422932783         move    (r7)-n7
P:07AE 77F400 FFFFFE  3 423232789         move    #-2,n7
P:07B0 000000         2 423432789         nop             ; (inserted)
P:07B1 5EEF00         4 423832791         move    y:(r7+n7),a
P:07B2 46F450 000005  3 424132793         add     y0,a	                #>5,y0
P:07B4 5C6F55         4 424532802         cmp     y0,a	                a1,y:(r7+n7)
P:07B5 0AF0AF rrrrrr  6 425132805         jle     L356
                            32806 
                            32807 ; 1067 |                        {
                            32808 ; 1068 |                                iDisplayProgress=0;
                            32809 
                            32817 
                            32818 ; 1069 |                                SysPostMessage(6,LCD_CLEAR_RANGE,WARNING_MSG_FILE_X,WARNIN
                                  G_MSG_FILE_Y,SONG_TITLE_X_SIZE,SONG_TITLE_Y_SIZE);
                            32819 
P:07B7 290A13         2 425332811         clr     a	                #10,b0
P:07B8 260300         2 425532832         move    #<3,y0
P:07B9 5E6F00         4 425932814         move    a,y:(r7+n7)
P:07BA 595F00         2 426132822         move    b0,y:(r7)+
P:07BB 298000         2 426332824         move    #$80,b0
P:07BC 595F00         2 426532825         move    b0,y:(r7)+
P:07BD 292800         2 426732827         move    #40,b0
P:07BE 595F00         2 426932828         move    b0,y:(r7)+
P:07BF 290600         2 427132835         move    #6,b0
P:07C0 5C5F00         2 427332830         move    a1,y:(r7)+
P:07C1 4E5F00         2 427532833         move    y0,y:(r7)+
P:07C2 595F00         2 427732836         move    b0,y:(r7)+
P:07C3 0BF080 rrrrrr  6 428332838         jsr     FSysPostMessage
                            32843 
                            32844 ; 1070 |                         }
                            32845 ; 1071 |#ifdef USE_PLAYLIST3
                            32846 ; 1072 |                        if (PLAYERLIB_END_OF_LIST == SysCallFunction(RSRC_PLAY_STATE_MACHI
                                  NE_CODE_BANK,PlayerLib_SkipToNextSong,FALSE,NEXTSONG_DELETE_MENU,0))    //stmp7120 Delete even bad
                                   files
                            32847 
P:07C5 3F0600         2 428532839         move    #6,n7
P:07C6 000000         2 428732839         nop             ; (inserted)
P:07C7 204700         2 428932841         move    (r7)-n7
                            32849 L356:
P:07C8 34001B         2 429132851         clr     b	                #0,r4
P:07C9 60F400 rrrrrr  3 429432853         move    #FPlayerLib_SkipToNextSong,r0
P:07CB 56F400 000011  3 429732852         move    #>17,a
P:07CD 44F400 000005  3 430032850         move    #>5,x0
P:07CF 0BF080 rrrrrr  6 430632854         jsr     SysCallFunction
P:07D1 47F400 000003  3 430932855         move    #>3,y1
P:07D3 200075         2 431132856         cmp     y1,a
P:07D4 0AF0A2 rrrrrr  6 431732857         jne     L357
                            32858 
                            32859 ; 1073 |#else
                            32860 ; 1074 |                        if (SysCallFunction(RSRC_PLAY_STATE_MACHINE_CODE_BANK,PlayerLib_Sk
                                  ipToNextSong,FALSE,NEXTSONG_DELETE_MENU,0) != PLAYERLIB_SUCCESS) //stmp7120 Delete even bad files
                            32861 ; 1075 |#endif
                            32862 ; 1076 |                        {
                            32863 ; 1077 |                                done = TRUE;
                            32864 
                            32874 
                            32875 ; 1078 |                        }
                            32876 ; 1079 |                        SysWaitOnEvent(0,0,0);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 528

M:ADDR CODE           CYCLES LINE SOURCELINE
                            32877 
P:07D6 77F400 FFFFFD  3 432032869         move    #-3,n7
P:07D8 46F400 000001  3 432332866         move    #>1,y0
P:07DA 4E6F00         4 432732871         move    y0,y:(r7+n7)
                            32879 L357:
P:07DB 300013         2 432932880         clr     a	                #0,r0
P:07DC 2F0000         2 433132881         move    #0,b
P:07DD 0BF080 rrrrrr  6 433732882         jsr     SysWaitOnEvent
                            32883 
                            32884 ; 1080 |                }
                            32885 
P:07DF 0AF080 rrrrrr  6 434332887         jmp     L360
                            32888 
                            32889 ; 1081 |                else
                            32890 ; 1082 |                {
                            32891 ; 1083 |                        //Something has gone wrong.  Perhaps the media is bad, or the user
                                   has removed the external media
                            32892 ; 1084 |                //in the middle of the operation.
                            32893 ; 1085 |                //SysCallFunction(RSRC_MAIN_MENU_CODE_BANK,SplashScreen,RSRC_DELETE_ERROR,
                                  1000,0);
                            32894 ; 1086 |            DisplayDeleteResultBitmap(RSRC_DELETE_ERROR);
                            32895 
P:07E1 56F400 0001EB  3 434632897 L358:   move    #491,a
P:07E3 0BF080 rrrrrr  6 435232898         jsr     FDisplayDeleteResultBitmap
                            32899 
                            32900 ; 1087 |                        done = TRUE;
                            32901 
P:07E5 77F400 FFFFFD  3 435532906         move    #-3,n7
P:07E7 46F400 000001  3 435832903         move    #>1,y0
P:07E9 4E6F00         4 436232908         move    y0,y:(r7+n7)
P:07EA 77F400 FFFFFD  3 436532912 L360:   move    #-3,n7
P:07EC 000000         2 436732912         nop             ; (inserted)
P:07ED 5FEF00         4 437132914         move    y:(r7+n7),b
P:07EE 2B0000         2 437332915         move    #0,b2
P:07EF 20000B         2 437532916         tst     b
P:07F0 0AF0AA rrrrrr  6 438132917         jeq     L355
                            32918 
                            32919 ; 1088 |                }
                            32920 ; 1089 |
                            32921 ; 1090 |        } // end while
                            32922 ; 1091 |
                            32923 ; 1092 |        // re-enumerate devices
                            32924 ; 1093 |    SysPostMessage(2,PARSER_DEVICE_ENUMERATE);
                            32925 
P:07F2 280200         2 438332927         move    #2,a0
P:07F3 57F400 020005  3 438632928         move    #131077,b
P:07F5 5F5F00         2 438832929         move    b,y:(r7)+
P:07F6 585F00         2 439032931         move    a0,y:(r7)+
P:07F7 0BF080 rrrrrr  6 439632933         jsr     FSysPostMessage
                            32938 
                            32939 ; 1094 |
                            32940 ; 1095 |        // clear display
                            32941 ; 1096 |        clear_display();
                            32942 
P:07F9 205700         2 439832934         move    (r7)-
P:07FA 205700         2 440032936         move    (r7)-
P:07FB 0BF080 rrrrrr  6 440632944         jsr     Fclear_display
                            32945 
                            32946 ; 1097 |
                            32947 ; 1098 |        // re-enable soft timers
                            32948 ; 1099 |        SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_BATT_CHK,0,2000,MENU_BATTERY_CHNG);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 529

M:ADDR CODE           CYCLES LINE SOURCELINE
                            32949 
P:07FD 50F41B 060005  3 440932957         clr     b	                #393221,a0
P:07FF 46F400 0007D0  3 441232954         move    #2000,y0
P:0801 44F400 090001  3 441532963         move    #589825,x0
P:0803 290200         2 441732960         move    #2,b0
P:0804 585F00         2 441932952         move    a0,y:(r7)+
P:0805 4E5F00         2 442132955         move    y0,y:(r7)+
P:0806 5D5F00         2 442332958         move    b1,y:(r7)+
P:0807 595F00         2 442532961         move    b0,y:(r7)+
P:0808 290600         2 442732966         move    #6,b0
P:0809 4C5F00         2 442932964         move    x0,y:(r7)+
P:080A 595F00         2 443132967         move    b0,y:(r7)+
P:080B 0BF080 rrrrrr  6 443732969         jsr     FSysPostMessage
                            32974 
                            32975 ; 1100 |
                            32976 ; 1101 |}
                            32977 
P:080D 3F0600         2 443932970         move    #6,n7
P:080E 000000         2 444132970         nop             ; (inserted)
P:080F 204700         2 444332972         move    (r7)-n7
P:0810 77F400 FFFFFC  3 444632979         move    #-4,n7
P:0812 000000         2 444832979         nop             ; (inserted)
P:0813 05EF7C         4 445232981         movec   y:(r7+n7),ssh
P:0814 204F00         2 445432983         move    (r7)+n7
P:0815 00000C         4 445832985         rts
                            32989 
                            32990 ; 1102 |
                            32991 ; 1103 |/////////////////////////////////////////////////////////////////////////////////////////
                            32992 ; 1104 |//
                            32993 ; 1105 |//  Name:               int _reentrant DeleteFile (void)
                            32994 ; 1106 |//
                            32995 ; 1107 |//   Type:          Function (delete currently selected file - music or voice)
                            32996 ; 1108 |//
                            32997 ; 1109 |//   Description:   This function deletes the currently selected file and updates display 
                                  accordingly
                            32998 ; 1110 |//
                            32999 ; 1111 |//
                            33000 ; 1112 |//   Inputs:        none
                            33001 ; 1113 |//
                            33002 ; 1114 |//   Outputs:       int error code from Fremove or if that was ok, an error code
                            33003 ; 1115 |//                  from SysUnloadFatWrite or NOERROR.
                            33004 ; 1116 |//
                            33005 ; 1117 |//   Notes:
                            33006 ; 1118 |//
                            33007 ; 1119 |//
                            33008 ; 1120 |//////////////////////////////////////////////////////////////////////////////////////////
                                  
                            33009 ; 1121 |
                            33010 ; 1122 |int _reentrant DeleteFile(void)
                            33011 ; 1123 |
                            33012 ; 1124 |{
                            33013 
                            33018 FDeleteFile:
                            33027 
                            33028 ; 1125 |    int iBitmapResourceNum = RSRC_DELETE_ERROR;
                            33029 
                            33040 
                            33041 ; 1126 |    int iError;
                            33042 ; 1127 |
                            33043 ; 1128 |//      Message msg;
                            33044 ; 1129 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 530

M:ADDR CODE           CYCLES LINE SOURCELINE
                            33045 ; 1130 |    // clear MTP database clean flag; an object is being deleted, which needs to be accoun
                                  ted for
                            33046 ; 1131 |    ClearStickyBit((volatile _X WORD *)&HW_RTC_MTP_DB_CLEAN_FLAG_REG, HW_RTC_PERSISTANT1_M
                                  TP_DB_CLEAN_FLAG_BITPOS);
                            33047 
P:0816 055F7C         2 446033019         movec   ssh,y:(r7)+
P:0817 77F400 FFFFFE  3 446333033         move    #-2,n7
P:0819 60F400 00F508  3 446633049         move    #$F508,r0
P:081B 56F400 000005  3 446933050         move    #>5,a
P:081D 46F400 0001EB  3 447233031         move    #491,y0
P:081F 205F00         2 447433022         move    (r7)+
P:0820 205F00         2 447633023         move    (r7)+
P:0821 4E6F00         4 448033035         move    y0,y:(r7+n7)
P:0822 0BF080 rrrrrr  6 448633051         jsr     FClearStickyBit
                            33052 
                            33053 ; 1132 |
                            33054 ; 1133 |        // clear display
                            33055 ; 1134 |        clear_display();
                            33056 
P:0824 0BF080 rrrrrr  6 449233058         jsr     Fclear_display
                            33059 
                            33060 ; 1135 |
                            33061 ; 1136 |    // Load FAT write module into application space and block other apps
                            33062 ; 1137 |    SysLoadFATWrite();
                            33063 
P:0826 0BF080 rrrrrr  6 449833065         jsr     SysLoadFATWrite
                            33066 
                            33067 ; 1138 |    // delete file
                            33068 ; 1139 |    iError = Fremove((_packed char *)g_CurrentSongName);
                            33069 
P:0828 60F400 rrrrrr  3 450133071         move    #Fg_CurrentSongName,r0
P:082A 0BF080 rrrrrr  6 450733072         jsr     FFremove
                            33077 
                            33078 ; 1140 |
                            33079 ; 1141 |    if ( SUCCESS != iError ) // Fremove result
                            33080 
P:082C 045FA0         2 450933073         movec   m0,n7
P:082D 200003         2 451133082         tst     a
P:082E 5E6F00         4 451533075         move    a,y:(r7+n7)
P:082F 0AF0AA rrrrrr  6 452133083         jeq     L361
                            33084 
                            33085 ; 1142 |
                            33086 ; 1143 |    {   //Something has gone wrong.  Perhaps the media is bad, or the user has removed the
                                   external media
                            33087 ; 1144 |        //in the middle of the operation.
                            33088 ; 1145 |        //SysCallFunction(RSRC_MAIN_MENU_CODE_BANK,SplashScreen,RSRC_DELETE_ERROR,1000,0);
                                  
                            33089 ; 1146 |        //iBitmapResourceNum = RSRC_DELETE_ERROR;
                            33090 ; 1147 |        SysUnLoadFATWrite();     // allow other apps to overwrite Fat Write App
                            33091 
P:0831 0BF080 rrrrrr  6 452733093         jsr     SysUnLoadFATWrite
                            33094 
                            33095 ; 1148 |    }
                            33096 
P:0833 0AF080 rrrrrr  6 453333098         jmp     L363
                            33099 
                            33100 ; 1149 |    else // Fremove SUCCESS
                            33101 ; 1150 |        if( SUCCESS == (iError = SysUnLoadFATWrite()) )  //allow other apps to overwrite F
                                  at Write App
                            33102 
P:0835 0BF080 rrrrrr  6 453933104 L361:   jsr     SysUnLoadFATWrite
P:0837 045FA0         2 454133107         movec   m0,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 531

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0838 200003         2 454333110         tst     a
P:0839 5E6F00         4 454733109         move    a,y:(r7+n7)
P:083A 0AF0A2 rrrrrr  6 455333113         jne     L363
                            33114 
                            33115 ; 1151 |        {
                            33116 ; 1152 |                // re-enumerate devices after successful delete
                            33117 ; 1153 |                SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_Initialize,0,0,0);
                            33118 
P:083C 24001B         2 455533120         clr     b	                #0,x0
P:083D 60F413 rrrrrr  3 455833121         clr     a	                #FPlaylist_Initialize,r0
P:083F 219400         2 456033123         move    a1,r4
P:0840 56F400 000058  3 456333125         move    #>88,a
P:0842 0BF080 rrrrrr  6 456933126         jsr     SysCallFunction
                            33127 
                            33128 ; 1154 |
                            33129 ; 1155 |                        SysCallFunction(RSRC_PLAY_STATE_MACHINE_CODE_BANK,PlayerLib_SkipTo
                                  PreviousSong,FALSE,0,0);
                            33130 
P:0844 340000         2 457133136         move    #0,r4
P:0845 60F400 rrrrrr  3 457433135         move    #FPlayerLib_SkipToPreviousSong,r0
P:0847 24001B         2 457633133         clr     b	                #0,x0
P:0848 56F400 000011  3 457933134         move    #>17,a
P:084A 0BF080 rrrrrr  6 458533137         jsr     SysCallFunction
                            33138 
                            33139 ; 1156 |
                            33140 ; 1157 |                        //Display Success
                            33141 ; 1158 |                //SysCallFunction(RSRC_MAIN_MENU_CODE_BANK,SplashScreen,RSRC_DELETE_SUCCES
                                  SFUL,1000,0);
                            33142 ; 1159 |                iBitmapResourceNum = RSRC_DELETE_SUCCESSFUL;
                            33143 
                            33153 
                            33154 ; 1160 |         }
                            33155 ; 1161 |
                            33156 ; 1162 |   // SysCallFunction(RSRC_MAIN_MENU_CODE_BANK,SplashScreen,iBitmapResourceNum,1000,0);
                            33157 ; 1163 |     DisplayDeleteResultBitmap( iBitmapResourceNum );
                            33158 
P:084C 77F400 FFFFFE  3 458833148         move    #-2,n7
P:084E 47F400 0001EA  3 459133145         move    #490,y1
P:0850 4F6F00         4 459533150         move    y1,y:(r7+n7)
P:0851 77F400 FFFFFE  3 459833160 L363:   move    #-2,n7
P:0853 000000         2 460033160         nop             ; (inserted)
P:0854 5EEF00         4 460433162         move    y:(r7+n7),a
P:0855 0BF080 rrrrrr  6 461033163         jsr     FDisplayDeleteResultBitmap
                            33167 
                            33168 ; 1164 |        // clear display
                            33169 ; 1165 |        clear_display();
                            33170 
P:0857 0BF080 rrrrrr  6 461633172         jsr     Fclear_display
                            33173 
                            33174 ; 1166 |
                            33175 ; 1167 |        SysWaitOnEvent(0,0,0);
                            33176 
P:0859 30001B         2 461833179         clr     b	                #0,r0
P:085A 2E0000         2 462033180         move    #0,a
P:085B 0BF080 rrrrrr  6 462633181         jsr     SysWaitOnEvent
                            33182 
                            33183 ; 1168 |
                            33184 ; 1169 |    return iError;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 532

M:ADDR CODE           CYCLES LINE SOURCELINE
                            33185 
                            33192 
                            33193 ; 1170 |}
                            33194 
P:085D 045FA0         2 462833187         movec   m0,n7
P:085E 000000         2 463033187         nop             ; (inserted)
P:085F 5EEF00         4 463433189         move    y:(r7+n7),a
P:0860 205700         2 463633196         move    (r7)-
P:0861 205700         2 463833197         move    (r7)-
P:0862 05FF7C         4 464233199         movec   y:-(r7),ssh
P:0863 000000         2 464433199         nop             ; (inserted)
P:0864 00000C         4 464833203         rts
                            33323 
                            33324         extern  SysCallFunction, SysLoadFATWrite, SysUnLoadFATWrite
                            33325         extern  SysWaitOnEvent, FBrowseMenu, FClearStickyBit
                            33326         extern  FDisplayClearDisplay, FDisplayPagedList, FFremove
                            33327         extern  FGetRelativePath, FHandlePlayerStateMachine
                            33328         extern  FPlayerLib_SetState, FPlayerLib_SkipToNextSong
                            33329         extern  FPlayerLib_SkipToPreviousSong, FPlaylist_Initialize
                            33330         extern  FRefreshDisplay, FShutdownMenu, FSplashScreen
                            33331         extern  FSysPostMessage, FUpdateAutoShutdownTimer, y:FbSystemInit
                            33332         extern  y:Fconst_24, y:FgEventInfo, y:Fg_CurrentSongName
                            33333         extern  y:Fg_FlashWriteOccurFlag, y:Fg_MenuFlags, y:Fg_Rebuild
                            33334         extern  y:Fg_bDeleteBrowse, y:Fg_bPlaylistShuffle
                            33335         extern  y:Fg_iBackLightState, y:Fg_iBrowseTotalNum
                            33336         extern  x:Fg_iPlayerState, y:Fg_iPlaylistRepeat, y:Fg_wSongTitle
                            33337 
                            33338         global  FDeleteAllFiles, FDeleteFile, FDeleteMenu
                            33339         global  FDisplayDeleteResultBitmap, FML_browsing_delete_init
                            33340         global  Fclear_display, Fdisplay_question_del_all_yes_or_no
                            33341         global  Fdisplay_question_track_yes_or_no
                            33342         global  Fhndl_del_music_voice_all_menu
                            33343         global  Fhndl_del_music_voice_file_menu, Fhndl_delete_main_menu
                            33344         global  Fselect_delete_type_submenu
                            33345 
                            33346         local   FbWaitforDisplay, L3, L4, L5, L6, L7, L8, L9, L11, L12, L21
                            33347         local   L23, L25, L26, L56, L58, L59, L62, L63, L64, L65, L66, L68
                            33348         local   L75, L76, L81, L82, L86, L87, L88, L89, L90, L91, L92, L95
                            33349         local   L96, L125, L126, L127, L128, L130, L131, L132, L133, L134
                            33350         local   L135, L136, L137, L138, L140, L142, L143, L146, L147, L283
                            33351         local   L285, L286, L292, L293, L294, L295, L297, L298, L300, L301
                            33352         local   L302, L304, L305, L310, L311, L313, L315, L316, L317, L322
                            33353         local   L323, L325, L326, L328, L331, L332, L333, L336, L344, L345
                            33354         local   L346, L347, L348, L355, L356, L357, L358, L360, L361, L363
                            33355         local   ss_DisplayDeleteResultBitmap, ss_clear_display
                            33356 
                            33357         calls   "DeleteAllFiles", "ClearStickyBit"
                            33358         calls   "DeleteAllFiles", "DisplayDeleteResultBitmap", "Fremove"
                            33359         calls   "DeleteAllFiles", "SysCallFunction", "SysLoadFATWrite"
                            33360         calls   "DeleteAllFiles", "SysPostMessage", "SysUnLoadFATWrite"
                            33361         calls   "DeleteAllFiles", "SysWaitOnEvent", "clear_display"
                            33362         calls   "DeleteFile", "ClearStickyBit", "DisplayDeleteResultBitmap"
                            33363         calls   "DeleteFile", "Fremove", "SysCallFunction"
                            33364         calls   "DeleteFile", "SysLoadFATWrite", "SysUnLoadFATWrite"
                            33365         calls   "DeleteFile", "SysWaitOnEvent", "clear_display"
                            33366         calls   "DeleteMenu", "SysCallFunction", "SysPostMessage"
                            33367         calls   "DeleteMenu", "SysWaitOnEvent", "UpdateAutoShutdownTimer"
                            33368         calls   "DeleteMenu", "clear_display"
                            33369         calls   "DeleteMenu", "display_question_del_all_yes_or_no"
                            33370         calls   "DeleteMenu", "display_question_track_yes_or_no"
                            33371         calls   "DeleteMenu", "hndl_del_music_voice_all_menu"
                            33372         calls   "DeleteMenu", "hndl_del_music_voice_file_menu"
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 533

M:ADDR CODE           CYCLES LINE SOURCELINE
                            33373         calls   "DeleteMenu", "hndl_delete_main_menu"
                            33374         calls   "DisplayDeleteResultBitmap", "SysCallFunction"
                            33375         calls   "clear_display", "SysCallFunction"
                            33376         calls   "display_question_del_all_yes_or_no", "SysPostMessage"
                            33377         calls   "display_question_del_all_yes_or_no", "SysWaitOnEvent"
                            33378         calls   "display_question_track_yes_or_no", "SysPostMessage"
                            33379         calls   "display_question_track_yes_or_no", "SysWaitOnEvent"
                            33380         calls   "hndl_del_music_voice_all_menu", "ClearStickyBit"
                            33381         calls   "hndl_del_music_voice_all_menu", "Fremove"
                            33382         calls   "hndl_del_music_voice_all_menu", "SysCallFunction"
                            33383         calls   "hndl_del_music_voice_all_menu", "SysLoadFATWrite"
                            33384         calls   "hndl_del_music_voice_all_menu", "SysPostMessage"
                            33385         calls   "hndl_del_music_voice_all_menu", "SysUnLoadFATWrite"
                            33386         calls   "hndl_del_music_voice_all_menu", "SysWaitOnEvent"
                            33387         calls   "hndl_del_music_voice_file_menu", "ClearStickyBit"
                            33388         calls   "hndl_del_music_voice_file_menu", "Fremove"
                            33389         calls   "hndl_del_music_voice_file_menu", "SysLoadFATWrite"
                            33390         calls   "hndl_del_music_voice_file_menu", "SysPostMessage"
                            33391         calls   "hndl_del_music_voice_file_menu", "SysUnLoadFATWrite"
                            33392         calls   "hndl_delete_main_menu", "SysCallFunction"
                            33393         calls   "hndl_delete_main_menu", "select_delete_type_submenu"
                            33394         calls   "select_delete_type_submenu", "SysCallFunction"
                            33395         calls   "select_delete_type_submenu", "SysPostMessage"
                            33396         calls   "select_delete_type_submenu", "SysWaitOnEvent"
                            33397         calls   "select_delete_type_submenu", "UpdateAutoShutdownTimer"
                            33398 
