TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   1
C:\STMP3XXX_SDK_FIRMWARE_320_finalfix\Projects\SDK\lcdexample\player\make\ccfc421b.src
M:ADDR CODE           CYCLES LINE SOURCELINE
                                1 ; TASKING DSP2410 C compiler v1.5r1 Build 208 SN 00100122
                                2 ; options: -OG -si -DPLAYER -DALL -DD3500 -DMMC -DLIION -DPL3_FB
                                3 ;          -DSTMP_BUILD_PLAYER -DPLAYER_BUILD -DPLAYER -DSTFM1000_LCD
                                4 ;          -DFULL_PLAYER_KERNEL -DDCDC_POWER_TRANSFER -DBACKLIGHT
                                5 ;          -DWMAAPI_NO_DRM -DREVB_ENGR_BD -DSED15XX_LCD -DSYNC_LYRICS
                                6 ;          -DTUNER_STFM1000 -DFM_EUROPE_REGION -DSD_USE_100KHZ_TUNING_GRID
                                7 ;          -DNEWSHINGYIH -DREAL_I2S_DATA -DFUNCLET
                                8 ;          -DMEDIA_DDI_COUNT_HIDDEN_SYSTEM_BLOCKS -DFMTUNER -DMP3_ENCODE
                                9 ;          -DCHKDSK -DFAT16 -DDEBUG -DDEVICE_3500 -DSDK2400 -DENGR_BD
                               10 ;          -DUSE_PLAYLIST3 -DBATTERY_TYPE_LI_ION -DBATTERY_CHARGE -w68 -w66
                               11 ;          -I..\output_3500\include
                               12 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player
                               13 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player\Menus -I..\..
                               14 ;          -I..\..\..\..\..\inc -I..\..\..\..\..\System\Common
                               15 ;          -I..\..\..\..\..\System\Common\symbols
                               16 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player\Display
                               17 ;          -I..\..\..\..\..\Algorithms\DRM\janus\src\h
                               18 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               19 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               20 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               21 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               22 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand -I -I
                               23 ;          -I..\..\..\..\..\system\common\resourcemanager -I..\..\..\..\..\inc
                               24 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               25 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\DataDrive\include
                               26 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               27 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               28 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\DataDrive
                               29 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               30 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               31 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               32 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               33 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               34 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand
                               35 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               36 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common\include
                               37 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               38 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               39 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common
                               40 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               41 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\SystemDrive\include
                               42 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               43 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               44 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\SystemDrive
                               45 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               46 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Media\include
                               47 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               48 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               49 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Media
                               50 ;          -I..\..\..\..\..\devicedriver\media\include
                               51 ;          -I..\..\..\..\..\devicedriver\media\ddildl
                               52 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               53 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common\include
                               54 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               55 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL
                               56 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL\include
                               57 ;          -I..\..\..\..\..\DeviceDriver\Media\include
                               58 ;          -I..\..\..\..\..\DeviceDriver\Media\PortHIL\GPFlash\include
                               59 ;          -I..\..\..\..\..\DeviceDriver\Media\PortHIL\GPFlash
                               60 ;          -I..\..\..\..\..\devicedriver\media\ddildl
                               61 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               62 ;          -I..\..\..\..\..\libsource\sysserialnumber
                               63 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\include
                               64 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               65 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\include
                               66 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\Media
                               67 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\HAL\include
                               68 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               69 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               70 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               71 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               72 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand
                               73 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL\include
                               74 ;          -I..\..\..\..\..\System\MsgModules\Software\Effects\srswow
                               75 ;          -I..\..\..\..\..\System\Common\rtcaccess
                               76 ;          -I..\..\..\..\..\System\Common\playlist3
                               77 ;          -I..\..\..\..\..\System\Common\record
                               78 ;          -I..\..\..\..\..\System\Common\mp3filename
                               79 ;          -I..\..\..\..\..\FileSystem\chkdsk\include
                               80 ;          -I..\..\..\..\..\FileSystem\Fat32\h -DFULL_PLAYER_KERNEL
                               81 ;          -DSYNC_LYRICS -DMP3_ENCODE -DBATTERY_TYPE_LI_ION -Dk_opt_single_fat
                               82 ;          -DPL3_FB -g -O2 -R -Cs -DMS_ADPCM -DIMA_ADPCM -DWINDOWS_PCM
                               83 ;          -I..\..\..\..\..\System\MsgModules\Software\musiclib\ghdr
                               84 ;          -I..\..\..\..\..\devicedriver\display
                               85 ;          -I..\..\..\..\..\System\MsgModules\Hardware\Display -MmyL
                               86 
                               94 
                               95 ;     mainmenu.c:
                               96 ; 1    |// Filename:    MainMenu.c (LCD version)
                               97 ; 2    |// Reviews:     DanhNguyen (06-2008)
                               98 ; 3    |
                               99 ; 4    |#include "exec.h"
                              100 
                              102 
                              103 ; 1    |#ifndef EXEC_H
                              104 ; 2    |#define EXEC_H
                              105 ; 3    |
                              106 ; 4    |
                              107 ; 5    |void _reentrant SysPostMessage(int iLength,...);
                              108 ; 6    |int _asmfunc GetMessage(struct MessageQueueDescriptor*,struct CMessage * );
                              109 ; 7    |long _asmfunc SysGetCurrentTime(void);
                              110 ; 8    |
                              111 ; 9    |
                              112 ; 10   |#endif
                              113 
                              115 
                              116 ; 5    |#include "types.h"
                              117 
                              119 
                              120 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              121 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              122 ; 3    |//
                              123 ; 4    |// Filename: types.h
                              124 ; 5    |// Description: Standard data types
                              125 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              126 ; 7    |
                              127 ; 8    |#ifndef _TYPES_H
                              128 ; 9    |#define _TYPES_H
                              129 ; 10   |
                              130 ; 11   |// TODO:  move this outta here!
                              131 ; 12   |#if !defined(NOERROR)
                              132 ; 13   |#define NOERROR 0
                              133 ; 14   |#define SUCCESS 0
                              134 ; 15   |#endif 
                              135 ; 16   |#if !defined(SUCCESS)
                              136 ; 17   |#define SUCCESS  0
                              137 ; 18   |#endif
                              138 ; 19   |#if !defined(ERROR)
                              139 ; 20   |#define ERROR   -1
                              140 ; 21   |#endif
                              141 ; 22   |#if !defined(FALSE)
                              142 ; 23   |#define FALSE 0
                              143 ; 24   |#endif
                              144 ; 25   |#if !defined(TRUE)
                              145 ; 26   |#define TRUE  1
                              146 ; 27   |#endif
                              147 ; 28   |
                              148 ; 29   |#if !defined(NULL)
                              149 ; 30   |#define NULL 0
                              150 ; 31   |#endif
                              151 ; 32   |
                              152 ; 33   |#define MAX_INT     0x7FFFFF
                              153 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                              154 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                              155 ; 36   |#define MAX_ULONG   (-1) 
                              156 ; 37   |
                              157 ; 38   |#define WORD_SIZE   24              // word size in bits
                              158 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                              159 ; 40   |
                              160 ; 41   |
                              161 ; 42   |#define BYTE    unsigned char       // btVarName
                              162 ; 43   |#define CHAR    signed char         // cVarName
                              163 ; 44   |#define USHORT  unsigned short      // usVarName
                              164 ; 45   |#define SHORT   unsigned short      // sVarName
                              165 ; 46   |#define WORD    unsigned int        // wVarName
                              166 ; 47   |#define INT     signed int          // iVarName
                              167 ; 48   |#define DWORD   unsigned long       // dwVarName
                              168 ; 49   |#define LONG    signed long         // lVarName
                              169 ; 50   |#define BOOL    unsigned int        // bVarName
                              170 ; 51   |#define FRACT   _fract              // frVarName
                              171 ; 52   |#define LFRACT  long _fract         // lfrVarName
                              172 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                              173 ; 54   |#define FLOAT   float               // fVarName
                              174 ; 55   |#define DBL     double              // dVarName
                              175 ; 56   |#define ENUM    enum                // eVarName
                              176 ; 57   |#define CMX     _complex            // cmxVarName
                              177 ; 58   |typedef WORD UCS3;                   // 
                              178 ; 59   |
                              179 ; 60   |#define UINT16  unsigned short
                              180 ; 61   |#define UINT8   unsigned char   
                              181 ; 62   |#define UINT32  unsigned long
                              182 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                              183 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                              184 ; 65   |#define WCHAR   UINT16
                              185 ; 66   |
                              186 ; 67   |//UINT128 is 16 bytes or 6 words
                              187 ; 68   |typedef struct UINT128_3500 {   
                              188 ; 69   |    int val[6];     
                              189 ; 70   |} UINT128_3500;
                              190 ; 71   |
                              191 ; 72   |#define UINT128   UINT128_3500
                              192 ; 73   |
                              193 ; 74   |// Little endian word packed byte strings:   
                              194 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              195 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              196 ; 77   |// Little endian word packed byte strings:   
                              197 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              198 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              199 ; 80   |
                              200 ; 81   |// Declare Memory Spaces To Use When Coding
                              201 ; 82   |// A. Sector Buffers
                              202 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                              203 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                              204 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                              205 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                              206 
                              208 
                              209 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                              210 ; 88   |// B. Media DDI Memory
                              211 ; 89   |#define MEDIA_DDI_MEM _Y
                              212 ; 90   |
                              213 ; 91   |
                              214 ; 92   |
                              215 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                              216 ; 94   |// Examples of circular pointers:
                              217 ; 95   |//    INT CIRC cpiVarName
                              218 ; 96   |//    DWORD CIRC cpdwVarName
                              219 ; 97   |
                              220 ; 98   |#define RETCODE INT                 // rcVarName
                              221 ; 99   |
                              222 ; 100  |// generic bitfield structure
                              223 ; 101  |struct Bitfield {
                              224 ; 102  |    unsigned int B0  :1;
                              225 ; 103  |    unsigned int B1  :1;
                              226 ; 104  |    unsigned int B2  :1;
                              227 ; 105  |    unsigned int B3  :1;
                              228 ; 106  |    unsigned int B4  :1;
                              229 ; 107  |    unsigned int B5  :1;
                              230 ; 108  |    unsigned int B6  :1;
                              231 ; 109  |    unsigned int B7  :1;
                              232 ; 110  |    unsigned int B8  :1;
                              233 ; 111  |    unsigned int B9  :1;
                              234 ; 112  |    unsigned int B10 :1;
                              235 ; 113  |    unsigned int B11 :1;
                              236 ; 114  |    unsigned int B12 :1;
                              237 ; 115  |    unsigned int B13 :1;
                              238 ; 116  |    unsigned int B14 :1;
                              239 ; 117  |    unsigned int B15 :1;
                              240 ; 118  |    unsigned int B16 :1;
                              241 ; 119  |    unsigned int B17 :1;
                              242 ; 120  |    unsigned int B18 :1;
                              243 ; 121  |    unsigned int B19 :1;
                              244 ; 122  |    unsigned int B20 :1;
                              245 ; 123  |    unsigned int B21 :1;
                              246 ; 124  |    unsigned int B22 :1;
                              247 ; 125  |    unsigned int B23 :1;
                              248 ; 126  |};
                              249 ; 127  |
                              250 ; 128  |union BitInt {
                              251 ; 129  |        struct Bitfield B;
                              252 ; 130  |        int        I;
                              253 ; 131  |};
                              254 ; 132  |
                              255 ; 133  |#define MAX_MSG_LENGTH 10
                              256 ; 134  |struct CMessage
                              257 ; 135  |{
                              258 ; 136  |        unsigned int m_uLength;
                              259 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                              260 ; 138  |};
                              261 ; 139  |
                              262 ; 140  |typedef struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   2

M:ADDR CODE           CYCLES LINE SOURCELINE
                              263 ; 141  |    WORD m_wLength;
                              264 ; 142  |    WORD m_wMessage;
                              265 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                              266 ; 144  |} Message;
                              267 ; 145  |
                              268 ; 146  |struct MessageQueueDescriptor
                              269 ; 147  |{
                              270 ; 148  |        int *m_pBase;
                              271 ; 149  |        int m_iModulo;
                              272 ; 150  |        int m_iSize;
                              273 ; 151  |        int *m_pHead;
                              274 ; 152  |        int *m_pTail;
                              275 ; 153  |};
                              276 ; 154  |
                              277 ; 155  |struct ModuleEntry
                              278 ; 156  |{
                              279 ; 157  |    int m_iSignaledEventMask;
                              280 ; 158  |    int m_iWaitEventMask;
                              281 ; 159  |    int m_iResourceOfCode;
                              282 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                              283 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                              284 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                              285 ; 163  |    int m_uTimeOutHigh;
                              286 ; 164  |    int m_uTimeOutLow;
                              287 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                              288 ; 166  |};
                              289 ; 167  |
                              290 ; 168  |union WaitMask{
                              291 ; 169  |    struct B{
                              292 ; 170  |        unsigned int m_bNone     :1;
                              293 ; 171  |        unsigned int m_bMessage  :1;
                              294 ; 172  |        unsigned int m_bTimer    :1;
                              295 ; 173  |        unsigned int m_bButton   :1;
                              296 ; 174  |    } B;
                              297 ; 175  |    int I;
                              298 ; 176  |} ;
                              299 ; 177  |
                              300 ; 178  |
                              301 ; 179  |struct Button {
                              302 ; 180  |        WORD wButtonEvent;
                              303 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                              304 ; 182  |};
                              305 ; 183  |
                              306 ; 184  |struct Message {
                              307 ; 185  |        WORD wMsgLength;
                              308 ; 186  |        WORD wMsgCommand;
                              309 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                              310 ; 188  |};
                              311 ; 189  |
                              312 ; 190  |union EventTypes {
                              313 ; 191  |        struct CMessage msg;
                              314 ; 192  |        struct Button Button ;
                              315 ; 193  |        struct Message Message;
                              316 ; 194  |};
                              317 ; 195  |
                              318 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                              319 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                              320 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                              321 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                              322 ; 200  |
                              323 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                              324 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                              325 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                              326 ; 204  |
                              327 ; 205  |#if DEBUG
                              328 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                              329 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                              330 ; 208  |#else 
                              331 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                              332 ; 210  |#define DebugBuildAssert(x)    
                              333 ; 211  |#endif
                              334 ; 212  |
                              335 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                              336 ; 214  |//  #pragma asm
                              337 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                              338 ; 216  |//  #pragma endasm
                              339 ; 217  |
                              340 ; 218  |
                              341 ; 219  |#ifdef COLOR_262K
                              342 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                              343 ; 221  |#elif defined(COLOR_65K)
                              344 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                              345 ; 223  |#else
                              346 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                              347 ; 225  |#endif
                              348 ; 226  |    
                              349 ; 227  |#endif // #ifndef _TYPES_H
                              350 
                              352 
                              353 ; 6    |#include "menumanager.h"
                              354 
                              356 
                              357 ; 1    |#ifndef _EXEC_H
                              358 ; 2    |#define _EXEC_H
                              359 ; 3    |
                              360 ; 4    |#include "types.h"
                              361 
                              363 
                              364 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              365 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              366 ; 3    |//
                              367 ; 4    |// Filename: types.h
                              368 ; 5    |// Description: Standard data types
                              369 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              370 ; 7    |
                              371 ; 8    |#ifndef _TYPES_H
                              372 ; 9    |#define _TYPES_H
                              373 ; 10   |
                              374 ; 11   |// TODO:  move this outta here!
                              375 ; 12   |#if !defined(NOERROR)
                              376 ; 13   |#define NOERROR 0
                              377 ; 14   |#define SUCCESS 0
                              378 ; 15   |#endif 
                              379 ; 16   |#if !defined(SUCCESS)
                              380 ; 17   |#define SUCCESS  0
                              381 ; 18   |#endif
                              382 ; 19   |#if !defined(ERROR)
                              383 ; 20   |#define ERROR   -1
                              384 ; 21   |#endif
                              385 ; 22   |#if !defined(FALSE)
                              386 ; 23   |#define FALSE 0
                              387 ; 24   |#endif
                              388 ; 25   |#if !defined(TRUE)
                              389 ; 26   |#define TRUE  1
                              390 ; 27   |#endif
                              391 ; 28   |
                              392 ; 29   |#if !defined(NULL)
                              393 ; 30   |#define NULL 0
                              394 ; 31   |#endif
                              395 ; 32   |
                              396 ; 33   |#define MAX_INT     0x7FFFFF
                              397 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                              398 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                              399 ; 36   |#define MAX_ULONG   (-1) 
                              400 ; 37   |
                              401 ; 38   |#define WORD_SIZE   24              // word size in bits
                              402 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                              403 ; 40   |
                              404 ; 41   |
                              405 ; 42   |#define BYTE    unsigned char       // btVarName
                              406 ; 43   |#define CHAR    signed char         // cVarName
                              407 ; 44   |#define USHORT  unsigned short      // usVarName
                              408 ; 45   |#define SHORT   unsigned short      // sVarName
                              409 ; 46   |#define WORD    unsigned int        // wVarName
                              410 ; 47   |#define INT     signed int          // iVarName
                              411 ; 48   |#define DWORD   unsigned long       // dwVarName
                              412 ; 49   |#define LONG    signed long         // lVarName
                              413 ; 50   |#define BOOL    unsigned int        // bVarName
                              414 ; 51   |#define FRACT   _fract              // frVarName
                              415 ; 52   |#define LFRACT  long _fract         // lfrVarName
                              416 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                              417 ; 54   |#define FLOAT   float               // fVarName
                              418 ; 55   |#define DBL     double              // dVarName
                              419 ; 56   |#define ENUM    enum                // eVarName
                              420 ; 57   |#define CMX     _complex            // cmxVarName
                              421 ; 58   |typedef WORD UCS3;                   // 
                              422 ; 59   |
                              423 ; 60   |#define UINT16  unsigned short
                              424 ; 61   |#define UINT8   unsigned char   
                              425 ; 62   |#define UINT32  unsigned long
                              426 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                              427 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                              428 ; 65   |#define WCHAR   UINT16
                              429 ; 66   |
                              430 ; 67   |//UINT128 is 16 bytes or 6 words
                              431 ; 68   |typedef struct UINT128_3500 {   
                              432 ; 69   |    int val[6];     
                              433 ; 70   |} UINT128_3500;
                              434 ; 71   |
                              435 ; 72   |#define UINT128   UINT128_3500
                              436 ; 73   |
                              437 ; 74   |// Little endian word packed byte strings:   
                              438 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              439 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              440 ; 77   |// Little endian word packed byte strings:   
                              441 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              442 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              443 ; 80   |
                              444 ; 81   |// Declare Memory Spaces To Use When Coding
                              445 ; 82   |// A. Sector Buffers
                              446 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                              447 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                              448 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                              449 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                              450 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                              451 ; 88   |// B. Media DDI Memory
                              452 ; 89   |#define MEDIA_DDI_MEM _Y
                              453 ; 90   |
                              454 ; 91   |
                              455 ; 92   |
                              456 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                              457 ; 94   |// Examples of circular pointers:
                              458 ; 95   |//    INT CIRC cpiVarName
                              459 ; 96   |//    DWORD CIRC cpdwVarName
                              460 ; 97   |
                              461 ; 98   |#define RETCODE INT                 // rcVarName
                              462 ; 99   |
                              463 ; 100  |// generic bitfield structure
                              464 ; 101  |struct Bitfield {
                              465 ; 102  |    unsigned int B0  :1;
                              466 ; 103  |    unsigned int B1  :1;
                              467 ; 104  |    unsigned int B2  :1;
                              468 ; 105  |    unsigned int B3  :1;
                              469 ; 106  |    unsigned int B4  :1;
                              470 ; 107  |    unsigned int B5  :1;
                              471 ; 108  |    unsigned int B6  :1;
                              472 ; 109  |    unsigned int B7  :1;
                              473 ; 110  |    unsigned int B8  :1;
                              474 ; 111  |    unsigned int B9  :1;
                              475 ; 112  |    unsigned int B10 :1;
                              476 ; 113  |    unsigned int B11 :1;
                              477 ; 114  |    unsigned int B12 :1;
                              478 ; 115  |    unsigned int B13 :1;
                              479 ; 116  |    unsigned int B14 :1;
                              480 ; 117  |    unsigned int B15 :1;
                              481 ; 118  |    unsigned int B16 :1;
                              482 ; 119  |    unsigned int B17 :1;
                              483 ; 120  |    unsigned int B18 :1;
                              484 ; 121  |    unsigned int B19 :1;
                              485 ; 122  |    unsigned int B20 :1;
                              486 ; 123  |    unsigned int B21 :1;
                              487 ; 124  |    unsigned int B22 :1;
                              488 ; 125  |    unsigned int B23 :1;
                              489 ; 126  |};
                              490 ; 127  |
                              491 ; 128  |union BitInt {
                              492 ; 129  |        struct Bitfield B;
                              493 ; 130  |        int        I;
                              494 ; 131  |};
                              495 ; 132  |
                              496 ; 133  |#define MAX_MSG_LENGTH 10
                              497 ; 134  |struct CMessage
                              498 ; 135  |{
                              499 ; 136  |        unsigned int m_uLength;
                              500 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                              501 ; 138  |};
                              502 ; 139  |
                              503 ; 140  |typedef struct {
                              504 ; 141  |    WORD m_wLength;
                              505 ; 142  |    WORD m_wMessage;
                              506 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                              507 ; 144  |} Message;
                              508 ; 145  |
                              509 ; 146  |struct MessageQueueDescriptor
                              510 ; 147  |{
                              511 ; 148  |        int *m_pBase;
                              512 ; 149  |        int m_iModulo;
                              513 ; 150  |        int m_iSize;
                              514 ; 151  |        int *m_pHead;
                              515 ; 152  |        int *m_pTail;
                              516 ; 153  |};
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   3

M:ADDR CODE           CYCLES LINE SOURCELINE
                              517 ; 154  |
                              518 ; 155  |struct ModuleEntry
                              519 ; 156  |{
                              520 ; 157  |    int m_iSignaledEventMask;
                              521 ; 158  |    int m_iWaitEventMask;
                              522 ; 159  |    int m_iResourceOfCode;
                              523 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                              524 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                              525 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                              526 ; 163  |    int m_uTimeOutHigh;
                              527 ; 164  |    int m_uTimeOutLow;
                              528 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                              529 ; 166  |};
                              530 ; 167  |
                              531 ; 168  |union WaitMask{
                              532 ; 169  |    struct B{
                              533 ; 170  |        unsigned int m_bNone     :1;
                              534 ; 171  |        unsigned int m_bMessage  :1;
                              535 ; 172  |        unsigned int m_bTimer    :1;
                              536 ; 173  |        unsigned int m_bButton   :1;
                              537 ; 174  |    } B;
                              538 ; 175  |    int I;
                              539 ; 176  |} ;
                              540 ; 177  |
                              541 ; 178  |
                              542 ; 179  |struct Button {
                              543 ; 180  |        WORD wButtonEvent;
                              544 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                              545 ; 182  |};
                              546 ; 183  |
                              547 ; 184  |struct Message {
                              548 ; 185  |        WORD wMsgLength;
                              549 ; 186  |        WORD wMsgCommand;
                              550 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                              551 ; 188  |};
                              552 ; 189  |
                              553 ; 190  |union EventTypes {
                              554 ; 191  |        struct CMessage msg;
                              555 ; 192  |        struct Button Button ;
                              556 ; 193  |        struct Message Message;
                              557 ; 194  |};
                              558 ; 195  |
                              559 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                              560 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                              561 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                              562 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                              563 ; 200  |
                              564 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                              565 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                              566 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                              567 ; 204  |
                              568 ; 205  |#if DEBUG
                              569 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                              570 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                              571 ; 208  |#else 
                              572 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                              573 ; 210  |#define DebugBuildAssert(x)    
                              574 ; 211  |#endif
                              575 ; 212  |
                              576 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                              577 ; 214  |//  #pragma asm
                              578 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                              579 ; 216  |//  #pragma endasm
                              580 ; 217  |
                              581 ; 218  |
                              582 ; 219  |#ifdef COLOR_262K
                              583 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                              584 ; 221  |#elif defined(COLOR_65K)
                              585 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                              586 ; 223  |#else
                              587 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                              588 ; 225  |#endif
                              589 ; 226  |    
                              590 ; 227  |#endif // #ifndef _TYPES_H
                              591 
                              593 
                              594 ; 5    |
                              595 ; 6    |int _asmfunc SysWaitOnEvent(unsigned int uEvent,struct CMessage *,int uLength);
                              596 ; 7    |int _asmfunc SysCallFunction(unsigned int RESOURCE,int _reentrant (int,int,int*),  int, int, int *);
                              597 ; 8    |
                              598 ; 9    |#if !defined(NULL)
                              599 ; 10   |#define NULL 0
                              600 ; 11   |#endif 
                              601 ; 12   |
                              602 ; 13   |#if !defined(FALSE)
                              603 ; 14   |#define FALSE 0
                              604 ; 15   |#endif
                              605 ; 16   |#if !defined(TRUE)
                              606 ; 17   |#define TRUE  !FALSE
                              607 ; 18   |#endif
                              608 ; 19   |
                              609 ; 20   |// The same memory location contains either a menu message or button event. 
                              610 ; 21   |// The button info is stored in the first word or the entire message is stored.
                              611 ; 22   |
                              612 ; 23   |// CMessage is kept for backards compatibility.
                              613 ; 24   |// The union and 2 new structures are added to aid in readability.
                              614 ; 25   |
                              615 ; 26   |
                              616 ; 27   |#include "messages.h"
                              617 
                              619 
                              620 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                              621 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                              622 ; 3    |// Message defs
                              623 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                              624 ; 5    |
                              625 ; 6    |#if (!defined(MSGEQU_INC))
                              626 ; 7    |#define MSGEQU_INC 1
                              627 ; 8    |
                              628 ; 9    |
                              629 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                              630 ; 11   |
                              631 ; 12   |
                              632 ; 13   |#define MSG_TYPE_DECODER 0x000000
                              633 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                              634 ; 15   |#define MSG_TYPE_PARSER 0x020000
                              635 ; 16   |#define MSG_TYPE_LCD 0x030000
                              636 ; 17   |#define MSG_TYPE_MIXER 0x040000
                              637 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                              638 ; 19   |#define MSG_TYPE_MENU 0x060000
                              639 ; 20   |#define MSG_TYPE_LED 0x070000
                              640 ; 21   |#define MSG_TYPE_TUNER 0x080000
                              641 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                              642 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                              643 ; 24   |// Equalizer and other effects
                              644 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                              645 ; 26   |#if (defined(USE_PLAYLIST3))
                              646 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                              647 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                              648 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                              649 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                              650 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                              651 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                              652 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                              653 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                              654 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                              655 ; 36   |#if defined(USE_PLAYLIST5)
                              656 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                              657 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                              658 ; 39   |#endif // if @def('USE_PLAYLIST5')
                              659 ; 40   |
                              660 ; 41   |// Message Structure Offsets
                              661 ; 42   |#define MSG_Length 0
                              662 ; 43   |#define MSG_ID 1
                              663 ; 44   |#define MSG_Argument1 2
                              664 ; 45   |#define MSG_Argument2 3
                              665 ; 46   |#define MSG_Argument3 4
                              666 ; 47   |#define MSG_Argument4 5
                              667 ; 48   |#define MSG_Argument5 6
                              668 ; 49   |#define MSG_Argument6 7
                              669 ; 50   |
                              670 ; 51   |
                              671 ; 52   |
                              672 ; 53   |// LCD Message IDs
                              673 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                              674 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                              675 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                              676 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                              677 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                              678 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                              679 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                              680 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                              681 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                              682 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                              683 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                              684 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                              685 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                              686 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                              687 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                              688 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                              689 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                              690 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                              691 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                              692 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                              693 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                              694 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                              695 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                              696 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                              697 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                              698 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                              699 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                              700 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                              701 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                              702 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                              703 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                              704 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                              705 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                              706 ; 87   |//send a NULL as Param1 to return to root frame buffer
                              707 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                              708 ; 89   |//Param1 = left
                              709 ; 90   |//Param2 = top
                              710 ; 91   |//Param3 = right
                              711 ; 92   |//Param4 = bottom
                              712 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                              713 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                              714 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                              715 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                              716 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                              717 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                              718 ; 99   |
                              719 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                              720 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                              721 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                              722 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                              723 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                              724 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                              725 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                              726 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                              727 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                              728 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                              729 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                              730 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                              731 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                              732 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                              733 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                              734 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                              735 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                              736 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                              737 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                              738 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                              739 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                              740 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                              741 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                              742 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                              743 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                              744 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                              745 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                              746 ; 127  |
                              747 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                              748 ; 129  |
                              749 ; 130  |#if defined(CLCD_16BIT)
                              750 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                              751 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                              752 ; 133  |
                              753 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                              754 ; 135  |#else 
                              755 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                              756 ; 137  |#endif
                              757 ; 138  |
                              758 ; 139  |// If you change the LCD message ID's then you must
                              759 ; 140  |// also change the jump table in lcdapi.asm
                              760 ; 141  |
                              761 ; 142  |// Character LCD Message IDs
                              762 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                              763 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                              764 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                              765 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                              766 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                              767 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                              768 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                              769 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   4

M:ADDR CODE           CYCLES LINE SOURCELINE
                              770 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                              771 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                              772 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                              773 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                              774 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                              775 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                              776 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                              777 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                              778 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                              779 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                              780 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                              781 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                              782 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                              783 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                              784 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                              785 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                              786 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                              787 ; 168  |// also change the jump table in lcdapi.asm
                              788 ; 169  |
                              789 ; 170  |// Decoder Message IDs
                              790 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                              791 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                              792 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                              793 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                              794 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                              795 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                              796 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                              797 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                              798 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                              799 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                              800 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                              801 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                              802 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                              803 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                              804 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                              805 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                              806 ; 187  |// If you change the Decoder message ID's, then you must
                              807 ; 188  |// also change the jump table in decoder_overlay.asm
                              808 ; 189  |// and in dec_adpcm_overlay.asm.
                              809 ; 190  |
                              810 ; 191  |// Encoder Message IDs
                              811 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                              812 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                              813 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                              814 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                              815 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                              816 ; 197  |// If you change the Encoder message ID's, then you must
                              817 ; 198  |// also change the jump table in all encoder overlay modules.
                              818 ; 199  |
                              819 ; 200  |// Parser Message IDs
                              820 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                              821 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                              822 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                              823 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                              824 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                              825 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                              826 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                              827 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                              828 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                              829 ; 210  |// If you change the Parser message ID's, then you must
                              830 ; 211  |// also change the jump table in parser.asm
                              831 ; 212  |
                              832 ; 213  |// Button Message IDs
                              833 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                              834 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                              835 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                              836 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                              837 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                              838 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                              839 ; 220  |
                              840 ; 221  |// Mixer Message IDs
                              841 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                              842 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                              843 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                              844 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                              845 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                              846 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                              847 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                              848 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                              849 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                              850 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                              851 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                              852 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                              853 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                              854 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                              855 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                              856 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                              857 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                              858 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                              859 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                              860 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                              861 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                              862 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                              863 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                              864 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                              865 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                              866 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                              867 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                              868 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                              869 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                              870 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                              871 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                              872 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                              873 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                              874 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                              875 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                              876 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                              877 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                              878 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                              879 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                              880 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                              881 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                              882 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                              883 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                              884 ; 265  |// If you change the mixer message ID's then you must
                              885 ; 266  |// also change the jump table in mixer.asm
                              886 ; 267  |#define MIXER_ON 0
                              887 ; 268  |#define MIXER_OFF 1
                              888 ; 269  |
                              889 ; 270  |
                              890 ; 271  |// System Message IDs
                              891 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                              892 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                              893 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                              894 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                              895 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                              896 ; 277  |// If you change the system message ID's then you must
                              897 ; 278  |// also change the jump table in systemapi.asm
                              898 ; 279  |
                              899 ; 280  |// Menu IDs
                              900 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                              901 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                              902 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                              903 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                              904 ; 285  |//sub parameters for this message:
                              905 ; 286  |#define RECORDER_START 0
                              906 ; 287  |#define RECORDER_PAUSE 0x2000
                              907 ; 288  |#define RECORDER_RESUME 0x4000
                              908 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                              909 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                              910 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                              911 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                              912 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                              913 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                              914 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                              915 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                              916 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                              917 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                              918 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                              919 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                              920 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                              921 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                              922 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                              923 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                              924 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                              925 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                              926 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                              927 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                              928 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                              929 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                              930 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                              931 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                              932 ; 313  |
                              933 ; 314  |// Note that other versions of this file have different msg equates.
                              934 ; 315  |// If you change the system message ID's then you must
                              935 ; 316  |// also change the jump table in all menu *.asm
                              936 ; 317  |
                              937 ; 318  |// LED Message IDs
                              938 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                              939 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                              940 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                              941 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                              942 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                              943 ; 324  |// If you change the LeD message ID's then you must
                              944 ; 325  |// also change the jump table in ledapi.asm
                              945 ; 326  |
                              946 ; 327  |#if (!defined(REMOVE_FM))
                              947 ; 328  |// FM Tuner Message IDs
                              948 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                              949 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                              950 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                              951 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                              952 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                              953 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                              954 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                              955 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                              956 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                              957 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                              958 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                              959 ; 340  |//one parameter--the sensitivity in uV
                              960 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                              961 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                              962 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                              963 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                              964 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                              965 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                              966 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                              967 ; 348  |#endif
                              968 ; 349  |
                              969 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                              970 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                              971 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                              972 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                              973 ; 354  |
                              974 ; 355  |
                              975 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                              976 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                              977 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                              978 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                              979 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                              980 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                              981 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                              982 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                              983 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                              984 ; 365  |
                              985 ; 366  |#if (defined(USE_PLAYLIST3))
                              986 ; 367  |// Music Library
                              987 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                              988 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                              989 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                              990 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                              991 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                              992 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                              993 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                              994 ; 375  |
                              995 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                              996 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                              997 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                              998 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                              999 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                             1000 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                             1001 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                             1002 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                             1003 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                             1004 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                             1005 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                             1006 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                             1007 ; 388  |
                             1008 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             1009 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             1010 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             1011 ; 392  |
                             1012 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             1013 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             1014 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             1015 ; 396  |
                             1016 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             1017 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                             1018 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             1019 ; 400  |
                             1020 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   5

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1021 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                             1022 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                             1023 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                             1024 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                             1025 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                             1026 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                             1027 ; 408  |
                             1028 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             1029 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             1030 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             1031 ; 412  |
                             1032 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                             1033 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                             1034 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                             1035 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                             1036 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                             1037 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                             1038 ; 419  |
                             1039 ; 420  |#if defined(USE_PLAYLIST5)
                             1040 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                             1041 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                             1042 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                             1043 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                             1044 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                             1045 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                             1046 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                             1047 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                             1048 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                             1049 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                             1050 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                             1051 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                             1052 ; 433  |
                             1053 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                             1054 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                             1055 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                             1056 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                             1057 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                             1058 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                             1059 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                             1060 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                             1061 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                             1062 ; 443  |#endif // if @def('USE_PLAYLIST5')
                             1063 ; 444  |// Events
                             1064 ; 445  |// No event
                             1065 ; 446  |#define EVENT_NONE 0x000001   
                             1066 ; 447  |// A message has been posted
                             1067 ; 448  |#define EVENT_MESSAGE 0x000002   
                             1068 ; 449  |// Run if wait time elapsed
                             1069 ; 450  |#define EVENT_TIMER 0x000004   
                             1070 ; 451  |// Run if a button event occured
                             1071 ; 452  |#define EVENT_BUTTON 0x000008   
                             1072 ; 453  |// Run if a background event occured
                             1073 ; 454  |#define EVENT_BACKGROUND 0x000010   
                             1074 ; 455  |// The executive should immediately repeat this module
                             1075 ; 456  |#define EVENT_REPEAT 0x000020   
                             1076 ; 457  |// Run the module's init routine
                             1077 ; 458  |#define EVENT_INIT 0x800000   
                             1078 ; 459  |
                             1079 ; 460  |#define EVENT_NONE_BITPOS 0
                             1080 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                             1081 ; 462  |#define EVENT_TIMER_BITPOS 2
                             1082 ; 463  |#define EVENT_BUTTON_BITPOS 3
                             1083 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                             1084 ; 465  |#define EVENT_REPEAT_BITPOS 5
                             1085 ; 466  |#define EVENT_INIT_BITPOS 23
                             1086 ; 467  |
                             1087 ; 468  |// Parser Message Buffers
                             1088 ; 469  |#define ParserPlayBit 0
                             1089 ; 470  |#define ButtonPressBit 1
                             1090 ; 471  |#define ParserRwndBit 1
                             1091 ; 472  |#define ParserFfwdBit 2
                             1092 ; 473  |
                             1093 ; 474  |//NextSong Message Parameters
                             1094 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                             1095 ; 476  |#define NEXT_SONG 2             
                             1096 ; 477  |// ButtonPressBit1 cleared
                             1097 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                             1098 ; 479  |// ButtonPressBit1 set
                             1099 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                             1100 ; 481  |// NextSong + Ffwd
                             1101 ; 482  |#define NEXT_SONG_FFWD 4          
                             1102 ; 483  |
                             1103 ; 484  |//PrevSong Message Parameters
                             1104 ; 485  |// PrevSong + Stopped
                             1105 ; 486  |#define PREV_SONG 0          
                             1106 ; 487  |// PrevSong + Play
                             1107 ; 488  |#define PREV_SONG_PLAY 1          
                             1108 ; 489  |// PrevSong + Rwnd
                             1109 ; 490  |#define PREV_SONG_RWND 2          
                             1110 ; 491  |
                             1111 ; 492  |
                             1112 ; 493  |
                             1113 ; 494  |
                             1114 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                             1115 ; 496  |
                             1116 ; 497  |
                             1117 
                             1119 
                             1120 ; 28   |
                             1121 ; 29   |#endif 
                             1122 
                             1124 
                             1125 ; 7    |#include "messages.h"
                             1126 
                             1128 
                             1129 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             1130 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                             1131 ; 3    |// Message defs
                             1132 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                             1133 ; 5    |
                             1134 ; 6    |#if (!defined(MSGEQU_INC))
                             1135 ; 7    |#define MSGEQU_INC 1
                             1136 ; 8    |
                             1137 ; 9    |
                             1138 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                             1139 ; 11   |
                             1140 ; 12   |
                             1141 ; 13   |#define MSG_TYPE_DECODER 0x000000
                             1142 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                             1143 ; 15   |#define MSG_TYPE_PARSER 0x020000
                             1144 ; 16   |#define MSG_TYPE_LCD 0x030000
                             1145 ; 17   |#define MSG_TYPE_MIXER 0x040000
                             1146 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                             1147 ; 19   |#define MSG_TYPE_MENU 0x060000
                             1148 ; 20   |#define MSG_TYPE_LED 0x070000
                             1149 ; 21   |#define MSG_TYPE_TUNER 0x080000
                             1150 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                             1151 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                             1152 ; 24   |// Equalizer and other effects
                             1153 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                             1154 ; 26   |#if (defined(USE_PLAYLIST3))
                             1155 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                             1156 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                             1157 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                             1158 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                             1159 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                             1160 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                             1161 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                             1162 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                             1163 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                             1164 ; 36   |#if defined(USE_PLAYLIST5)
                             1165 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                             1166 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                             1167 ; 39   |#endif // if @def('USE_PLAYLIST5')
                             1168 ; 40   |
                             1169 ; 41   |// Message Structure Offsets
                             1170 ; 42   |#define MSG_Length 0
                             1171 ; 43   |#define MSG_ID 1
                             1172 ; 44   |#define MSG_Argument1 2
                             1173 ; 45   |#define MSG_Argument2 3
                             1174 ; 46   |#define MSG_Argument3 4
                             1175 ; 47   |#define MSG_Argument4 5
                             1176 ; 48   |#define MSG_Argument5 6
                             1177 ; 49   |#define MSG_Argument6 7
                             1178 ; 50   |
                             1179 ; 51   |
                             1180 ; 52   |
                             1181 ; 53   |// LCD Message IDs
                             1182 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                             1183 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                             1184 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                             1185 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                             1186 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                             1187 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                             1188 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                             1189 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                             1190 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                             1191 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                             1192 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                             1193 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                             1194 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                             1195 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                             1196 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                             1197 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                             1198 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                             1199 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                             1200 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                             1201 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                             1202 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                             1203 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                             1204 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                             1205 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                             1206 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                             1207 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                             1208 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                             1209 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                             1210 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                             1211 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                             1212 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                             1213 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                             1214 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                             1215 ; 87   |//send a NULL as Param1 to return to root frame buffer
                             1216 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                             1217 ; 89   |//Param1 = left
                             1218 ; 90   |//Param2 = top
                             1219 ; 91   |//Param3 = right
                             1220 ; 92   |//Param4 = bottom
                             1221 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                             1222 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                             1223 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                             1224 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                             1225 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                             1226 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                             1227 ; 99   |
                             1228 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                             1229 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                             1230 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                             1231 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                             1232 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                             1233 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                             1234 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                             1235 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                             1236 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                             1237 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                             1238 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                             1239 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                             1240 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                             1241 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                             1242 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                             1243 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                             1244 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                             1245 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                             1246 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                             1247 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                             1248 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                             1249 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                             1250 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                             1251 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                             1252 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                             1253 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                             1254 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                             1255 ; 127  |
                             1256 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                             1257 ; 129  |
                             1258 ; 130  |#if defined(CLCD_16BIT)
                             1259 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                             1260 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                             1261 ; 133  |
                             1262 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                             1263 ; 135  |#else 
                             1264 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                             1265 ; 137  |#endif
                             1266 ; 138  |
                             1267 ; 139  |// If you change the LCD message ID's then you must
                             1268 ; 140  |// also change the jump table in lcdapi.asm
                             1269 ; 141  |
                             1270 ; 142  |// Character LCD Message IDs
                             1271 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                             1272 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                             1273 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                             1274 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   6

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1275 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                             1276 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                             1277 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                             1278 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                             1279 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                             1280 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                             1281 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                             1282 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                             1283 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                             1284 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                             1285 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                             1286 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                             1287 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                             1288 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                             1289 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                             1290 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                             1291 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                             1292 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                             1293 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                             1294 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                             1295 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                             1296 ; 168  |// also change the jump table in lcdapi.asm
                             1297 ; 169  |
                             1298 ; 170  |// Decoder Message IDs
                             1299 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                             1300 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                             1301 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                             1302 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                             1303 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                             1304 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                             1305 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                             1306 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                             1307 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                             1308 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                             1309 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                             1310 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                             1311 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                             1312 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                             1313 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                             1314 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                             1315 ; 187  |// If you change the Decoder message ID's, then you must
                             1316 ; 188  |// also change the jump table in decoder_overlay.asm
                             1317 ; 189  |// and in dec_adpcm_overlay.asm.
                             1318 ; 190  |
                             1319 ; 191  |// Encoder Message IDs
                             1320 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                             1321 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                             1322 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                             1323 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                             1324 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                             1325 ; 197  |// If you change the Encoder message ID's, then you must
                             1326 ; 198  |// also change the jump table in all encoder overlay modules.
                             1327 ; 199  |
                             1328 ; 200  |// Parser Message IDs
                             1329 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                             1330 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                             1331 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                             1332 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                             1333 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                             1334 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                             1335 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                             1336 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                             1337 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                             1338 ; 210  |// If you change the Parser message ID's, then you must
                             1339 ; 211  |// also change the jump table in parser.asm
                             1340 ; 212  |
                             1341 ; 213  |// Button Message IDs
                             1342 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                             1343 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                             1344 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                             1345 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                             1346 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                             1347 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                             1348 ; 220  |
                             1349 ; 221  |// Mixer Message IDs
                             1350 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                             1351 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                             1352 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                             1353 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                             1354 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                             1355 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                             1356 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                             1357 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                             1358 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                             1359 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                             1360 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                             1361 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                             1362 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                             1363 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                             1364 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                             1365 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                             1366 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                             1367 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                             1368 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                             1369 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                             1370 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                             1371 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                             1372 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                             1373 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                             1374 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                             1375 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                             1376 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                             1377 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                             1378 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                             1379 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                             1380 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                             1381 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                             1382 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                             1383 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                             1384 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                             1385 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                             1386 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                             1387 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                             1388 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                             1389 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                             1390 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                             1391 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                             1392 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                             1393 ; 265  |// If you change the mixer message ID's then you must
                             1394 ; 266  |// also change the jump table in mixer.asm
                             1395 ; 267  |#define MIXER_ON 0
                             1396 ; 268  |#define MIXER_OFF 1
                             1397 ; 269  |
                             1398 ; 270  |
                             1399 ; 271  |// System Message IDs
                             1400 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                             1401 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                             1402 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                             1403 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                             1404 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                             1405 ; 277  |// If you change the system message ID's then you must
                             1406 ; 278  |// also change the jump table in systemapi.asm
                             1407 ; 279  |
                             1408 ; 280  |// Menu IDs
                             1409 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                             1410 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                             1411 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                             1412 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                             1413 ; 285  |//sub parameters for this message:
                             1414 ; 286  |#define RECORDER_START 0
                             1415 ; 287  |#define RECORDER_PAUSE 0x2000
                             1416 ; 288  |#define RECORDER_RESUME 0x4000
                             1417 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                             1418 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                             1419 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                             1420 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                             1421 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                             1422 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                             1423 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                             1424 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                             1425 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                             1426 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                             1427 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                             1428 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                             1429 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                             1430 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                             1431 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                             1432 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                             1433 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                             1434 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                             1435 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                             1436 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                             1437 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                             1438 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                             1439 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                             1440 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                             1441 ; 313  |
                             1442 ; 314  |// Note that other versions of this file have different msg equates.
                             1443 ; 315  |// If you change the system message ID's then you must
                             1444 ; 316  |// also change the jump table in all menu *.asm
                             1445 ; 317  |
                             1446 ; 318  |// LED Message IDs
                             1447 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                             1448 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                             1449 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                             1450 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                             1451 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                             1452 ; 324  |// If you change the LeD message ID's then you must
                             1453 ; 325  |// also change the jump table in ledapi.asm
                             1454 ; 326  |
                             1455 ; 327  |#if (!defined(REMOVE_FM))
                             1456 ; 328  |// FM Tuner Message IDs
                             1457 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                             1458 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                             1459 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                             1460 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                             1461 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                             1462 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                             1463 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                             1464 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                             1465 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                             1466 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                             1467 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                             1468 ; 340  |//one parameter--the sensitivity in uV
                             1469 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                             1470 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                             1471 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                             1472 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                             1473 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                             1474 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                             1475 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                             1476 ; 348  |#endif
                             1477 ; 349  |
                             1478 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                             1479 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                             1480 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                             1481 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                             1482 ; 354  |
                             1483 ; 355  |
                             1484 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                             1485 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                             1486 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                             1487 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                             1488 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                             1489 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                             1490 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                             1491 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                             1492 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                             1493 ; 365  |
                             1494 ; 366  |#if (defined(USE_PLAYLIST3))
                             1495 ; 367  |// Music Library
                             1496 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                             1497 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                             1498 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                             1499 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                             1500 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                             1501 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                             1502 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                             1503 ; 375  |
                             1504 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                             1505 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                             1506 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                             1507 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                             1508 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                             1509 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                             1510 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                             1511 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                             1512 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                             1513 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                             1514 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                             1515 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                             1516 ; 388  |
                             1517 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             1518 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             1519 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             1520 ; 392  |
                             1521 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             1522 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             1523 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             1524 ; 396  |
                             1525 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   7

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1526 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                             1527 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             1528 ; 400  |
                             1529 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                             1530 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                             1531 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                             1532 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                             1533 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                             1534 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                             1535 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                             1536 ; 408  |
                             1537 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             1538 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             1539 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             1540 ; 412  |
                             1541 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                             1542 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                             1543 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                             1544 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                             1545 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                             1546 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                             1547 ; 419  |
                             1548 ; 420  |#if defined(USE_PLAYLIST5)
                             1549 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                             1550 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                             1551 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                             1552 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                             1553 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                             1554 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                             1555 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                             1556 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                             1557 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                             1558 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                             1559 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                             1560 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                             1561 ; 433  |
                             1562 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                             1563 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                             1564 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                             1565 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                             1566 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                             1567 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                             1568 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                             1569 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                             1570 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                             1571 ; 443  |#endif // if @def('USE_PLAYLIST5')
                             1572 ; 444  |// Events
                             1573 ; 445  |// No event
                             1574 ; 446  |#define EVENT_NONE 0x000001   
                             1575 ; 447  |// A message has been posted
                             1576 ; 448  |#define EVENT_MESSAGE 0x000002   
                             1577 ; 449  |// Run if wait time elapsed
                             1578 ; 450  |#define EVENT_TIMER 0x000004   
                             1579 ; 451  |// Run if a button event occured
                             1580 ; 452  |#define EVENT_BUTTON 0x000008   
                             1581 ; 453  |// Run if a background event occured
                             1582 ; 454  |#define EVENT_BACKGROUND 0x000010   
                             1583 ; 455  |// The executive should immediately repeat this module
                             1584 ; 456  |#define EVENT_REPEAT 0x000020   
                             1585 ; 457  |// Run the module's init routine
                             1586 ; 458  |#define EVENT_INIT 0x800000   
                             1587 ; 459  |
                             1588 ; 460  |#define EVENT_NONE_BITPOS 0
                             1589 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                             1590 ; 462  |#define EVENT_TIMER_BITPOS 2
                             1591 ; 463  |#define EVENT_BUTTON_BITPOS 3
                             1592 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                             1593 ; 465  |#define EVENT_REPEAT_BITPOS 5
                             1594 ; 466  |#define EVENT_INIT_BITPOS 23
                             1595 ; 467  |
                             1596 ; 468  |// Parser Message Buffers
                             1597 ; 469  |#define ParserPlayBit 0
                             1598 ; 470  |#define ButtonPressBit 1
                             1599 ; 471  |#define ParserRwndBit 1
                             1600 ; 472  |#define ParserFfwdBit 2
                             1601 ; 473  |
                             1602 ; 474  |//NextSong Message Parameters
                             1603 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                             1604 ; 476  |#define NEXT_SONG 2             
                             1605 ; 477  |// ButtonPressBit1 cleared
                             1606 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                             1607 ; 479  |// ButtonPressBit1 set
                             1608 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                             1609 ; 481  |// NextSong + Ffwd
                             1610 ; 482  |#define NEXT_SONG_FFWD 4          
                             1611 ; 483  |
                             1612 ; 484  |//PrevSong Message Parameters
                             1613 ; 485  |// PrevSong + Stopped
                             1614 ; 486  |#define PREV_SONG 0          
                             1615 ; 487  |// PrevSong + Play
                             1616 ; 488  |#define PREV_SONG_PLAY 1          
                             1617 ; 489  |// PrevSong + Rwnd
                             1618 ; 490  |#define PREV_SONG_RWND 2          
                             1619 ; 491  |
                             1620 ; 492  |
                             1621 ; 493  |
                             1622 ; 494  |
                             1623 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                             1624 ; 496  |
                             1625 ; 497  |
                             1626 
                             1628 
                             1629 ; 8    |#include "metadata.h"
                             1630 
                             1632 
                             1633 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             1634 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                             1635 ; 3    |//
                             1636 ; 4    |// Filename: metadata.h
                             1637 ; 5    |// Description:
                             1638 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             1639 ; 7    |
                             1640 ; 8    |#ifndef _METADATA_H
                             1641 ; 9    |#define _METADATA_H
                             1642 ; 10   |
                             1643 ; 11   |///////////////////////////////////////////////////////////////////////////////
                             1644 ; 12   |// MetaData definitions
                             1645 ; 13   |///////////////////////////////////////////////////////////////////////////////
                             1646 ; 14   |
                             1647 ; 15   |//#define MMC_CMD59       0x40|59
                             1648 ; 16   |
                             1649 ; 17   |///////////////////////////////////////////////////////////////////////////////
                             1650 ; 18   |// Meta Data structure definitions
                             1651 ; 19   |///////////////////////////////////////////////////////////////////////////////
                             1652 ; 20   |
                             1653 ; 21   |///////////////////////////////////////////////////////////////////////////////
                             1654 ; 22   |// MetaData definitions
                             1655 ; 23   |
                             1656 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                             1657 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                             1658 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                             1659 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                             1660 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                             1661 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                             1662 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                             1663 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                             1664 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
                             1665 ; 33   |
                             1666 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
                             1667 ; 35   |
                             1668 ; 36   |// VBR
                             1669 ; 37   |#define VBR_NOT_DETERMINED 0
                             1670 ; 38   |#define VBR_TRUE 1
                             1671 ; 39   |
                             1672 ; 40   |#ifndef TITLE_SIZE
                             1673 ; 41   |//#define TITLE_SIZE 30
                             1674 ; 42   |#ifndef USE_PLAYLIST3
                             1675 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                             1676 ; 44   |#else
                             1677 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                             1678 ; 46   |#endif
                             1679 ; 47   |#endif
                             1680 ; 48   |
                             1681 ; 49   |#ifndef ARTIST_SIZE
                             1682 ; 50   |#ifndef USE_PLAYLIST3
                             1683 ; 51   |//#define ARTIST_SIZE 30
                             1684 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003110)
                             1685 ; 53   |#else
                             1686 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003110)
                             1687 ; 55   |#endif
                             1688 ; 56   |#endif
                             1689 ; 57   |
                             1690 ; 58   |#ifndef ALBUM_SIZE
                             1691 ; 59   |#ifndef USE_PLAYLIST3
                             1692 ; 60   |//#define ALBUM_SIZE 30
                             1693 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 tags (Stmp00003110)
                             1694 ; 62   |#else
                             1695 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 tags (Stmp00003110)
                             1696 ; 64   |#endif
                             1697 ; 65   |#endif
                             1698 ; 66   |
                             1699 ; 67   |#ifdef USE_PLAYLIST3
                             1700 ; 68   |#ifndef GENRE_SIZE
                             1701 ; 69   |#define GENRE_SIZE 20
                             1702 ; 70   |#endif
                             1703 ; 71   |
                             1704 ; 72   |#ifndef YEAR_SIZE
                             1705 ; 73   |#define YEAR_SIZE 8
                             1706 ; 74   |#endif
                             1707 ; 75   |
                             1708 ; 76   |#ifndef TRACKNUM_SIZE
                             1709 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                             1710 ; 78   |#endif
                             1711 ; 79   |
                             1712 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                             1713 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                             1714 ; 82   |#endif
                             1715 ; 83   |
                             1716 ; 84   |#define XING_TOC_SIZE   100
                             1717 ; 85   |#if MTP_BUILD
                             1718 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                             1719 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                             1720 ; 88   |#define VBR_TOC_SIZE    2
                             1721 ; 89   |#else
                             1722 ; 90   |#define VBR_TOC_SIZE    200
                             1723 ; 91   |#endif
                             1724 
                             1726 
                             1727 ; 92   |
                             1728 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                             1729 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                             1730 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                             1731 ; 96   |#ifdef USE_PLAYLIST3
                             1732 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                             1733 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                             1734 ; 99   |extern WORD g_wSongTrackNum;
                             1735 ; 100  |#endif
                             1736 ; 101  |
                             1737 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                             1738 ; 103  |
                             1739 ; 104  |typedef struct {
                             1740 ; 105  |    WORD        iTitleBufferLength;
                             1741 ; 106  |        UCS3       *wTitle;        // Title of Song
                             1742 ; 107  |    WORD        iArtistBufferLength;
                             1743 ; 108  |    UCS3       *wArtist;
                             1744 ; 109  |    WORD        iAlbumBufferLength;
                             1745 ; 110  |    UCS3       *wAlbum;
                             1746 ; 111  |#ifdef USE_PLAYLIST3
                             1747 ; 112  |    WORD        iGenreBufferLength;
                             1748 ; 113  |    UCS3       *wGenre;
                             1749 ; 114  |    WORD        iYearBufferLength;
                             1750 ; 115  |    UCS3       *wYear;
                             1751 ; 116  |    WORD        wTrackNum;
                             1752 ; 117  |#endif
                             1753 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
                             1754 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
                             1755 ; 120  |        WORD       wNumChannels;
                             1756 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitrate found)
                             1757 ; 122  |        LONG       iTime;                 // Length of song in seconds
                             1758 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the decoder)
                             1759 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                             1760 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                             1761 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
                             1762 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see question below**)
                             1763 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = IMA ADPCM, etc (use defines below)
                             1764 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed for this file
                             1765 ; 130  |} FILE_META_DATA;
                             1766 ; 131  |
                             1767 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                             1768 ; 133  |#define UNKNOWN_TYPE   0
                             1769 ; 134  |#define MP3_TYPE       1
                             1770 ; 135  |#define WMA_TYPE       2
                             1771 ; 136  |#define AAC_TYPE       4
                             1772 ; 137  |#define IMA_ADPCM_TYPE 8
                             1773 ; 138  |#define MS_ADPCM_TYPE  16
                             1774 ; 139  |#define PCM_WAV_TYPE   32
                             1775 ; 140  |#define ASF_TYPE       64
                             1776 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                             1777 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                             1778 ; 143  |
                             1779 ; 144  |#define SMV_ADPCM_TYPE 512
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   8

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1780 ; 145  |
                             1781 ; 146  |
                             1782 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                             1783 ; 148  |// Sample rates
                             1784 ; 149  |#ifdef WOW
                             1785 ; 150  |#define SR_48KHZ        48000
                             1786 ; 151  |#define SR_44KHZ        44100
                             1787 ; 152  |#define SR_32KHZ        32000
                             1788 ; 153  |#define SR_24KHZ        24000
                             1789 ; 154  |#define SR_22KHZ        22050
                             1790 ; 155  |#define SR_16KHZ        16000
                             1791 ; 156  |#define SR_12KHZ        12000
                             1792 ; 157  |#define SR_11KHZ        11025
                             1793 ; 158  |#define SR_8KHZ          8000
                             1794 ; 159  |#endif
                             1795 ; 160  |
                             1796 ; 161  |
                             1797 ; 162  |///////////////////////////////////////////////////////////////////////////////
                             1798 ; 163  |// MetaData prototypes
                             1799 ; 164  |///////////////////////////////////////////////////////////////////////////////
                             1800 ; 165  |
                             1801 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                             1802 
                             1830 
                             1831 ; 167  |#ifdef USE_PLAYLIST3
                             1832 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAddress);
                             1833 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                             1834 ; 170  |#endif
                             1835 ; 171  |
                             1836 ; 172  |#endif // #ifndef _METADATA_H
                             1837 
                             1839 
                             1840 ; 9    |#include "resource.h"
                             1841 
                             1843 
                             1844 ; 1    |//  NOTE: This file was generated automatically by rscrenum.pl
                             1845 ; 2    |//  Do not edit it directly.
                             1846 ; 3    |//  Created on Sat Jun 28 16:37:44 2008 using resource.inc as input.
                             1847 ; 4    |
                             1848 ; 5    |
                             1849 ; 6    |
                             1850 ; 7    |//  NOTE: This file was generated automatically by rscrenum.pl
                             1851 ; 8    |//  Do not edit it directly.
                             1852 ; 9    |//  Created on Sat Jun 28 16:13:49 2008 using resource.inc as input.
                             1853 ; 10   |
                             1854 ; 11   |
                             1855 ; 12   |
                             1856 ; 13   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1857 ; 14   |//  Do not edit it directly.
                             1858 ; 15   |//  Created on Sat Jun 28 15:55:53 2008 using resource.inc as input.
                             1859 ; 16   |
                             1860 ; 17   |
                             1861 ; 18   |
                             1862 ; 19   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1863 ; 20   |//  Do not edit it directly.
                             1864 ; 21   |//  Created on Thu Jun 26 08:58:05 2008 using resource.inc as input.
                             1865 ; 22   |
                             1866 ; 23   |
                             1867 ; 24   |
                             1868 ; 25   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1869 ; 26   |//  Do not edit it directly.
                             1870 ; 27   |//  Created on Wed Jun 25 17:00:35 2008 using resource.inc as input.
                             1871 ; 28   |
                             1872 ; 29   |
                             1873 ; 30   |
                             1874 ; 31   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1875 ; 32   |//  Do not edit it directly.
                             1876 ; 33   |//  Created on Wed Jun 25 11:42:38 2008 using resource.inc as input.
                             1877 ; 34   |
                             1878 ; 35   |
                             1879 ; 36   |
                             1880 ; 37   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1881 ; 38   |//  Do not edit it directly.
                             1882 ; 39   |//  Created on Wed Jun 25 11:17:50 2008 using resource.inc as input.
                             1883 ; 40   |
                             1884 ; 41   |
                             1885 ; 42   |
                             1886 ; 43   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1887 ; 44   |//  Do not edit it directly.
                             1888 ; 45   |//  Created on Wed Jun 25 11:17:05 2008 using resource.inc as input.
                             1889 ; 46   |
                             1890 ; 47   |
                             1891 ; 48   |
                             1892 ; 49   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1893 ; 50   |//  Do not edit it directly.
                             1894 ; 51   |//  Created on Tue Jun 24 15:21:11 2008 using resource.inc as input.
                             1895 ; 52   |
                             1896 ; 53   |
                             1897 ; 54   |
                             1898 ; 55   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1899 ; 56   |//  Do not edit it directly.
                             1900 ; 57   |//  Created on Sun Jun 22 02:54:01 2008 using resource.inc as input.
                             1901 ; 58   |
                             1902 ; 59   |
                             1903 ; 60   |
                             1904 ; 61   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1905 ; 62   |//  Do not edit it directly.
                             1906 ; 63   |//  Created on Sun Jun 22 00:47:39 2008 using resource.inc as input.
                             1907 ; 64   |
                             1908 ; 65   |
                             1909 ; 66   |
                             1910 ; 67   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1911 ; 68   |//  Do not edit it directly.
                             1912 ; 69   |//  Created on Fri Jun 20 16:15:57 2008 using resource.inc as input.
                             1913 ; 70   |
                             1914 ; 71   |
                             1915 ; 72   |
                             1916 ; 73   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1917 ; 74   |//  Do not edit it directly.
                             1918 ; 75   |//  Created on Thu Jun 19 09:47:30 2008 using resource.inc as input.
                             1919 ; 76   |
                             1920 ; 77   |
                             1921 ; 78   |
                             1922 ; 79   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1923 ; 80   |//  Do not edit it directly.
                             1924 ; 81   |//  Created on Wed Jun 18 23:11:16 2008 using resource.inc as input.
                             1925 ; 82   |
                             1926 ; 83   |
                             1927 ; 84   |
                             1928 ; 85   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1929 ; 86   |//  Do not edit it directly.
                             1930 ; 87   |//  Created on Wed Jun 18 22:57:19 2008 using resource.inc as input.
                             1931 ; 88   |
                             1932 ; 89   |
                             1933 ; 90   |
                             1934 ; 91   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1935 ; 92   |//  Do not edit it directly.
                             1936 ; 93   |//  Created on Wed Jun 18 22:49:16 2008 using resource.inc as input.
                             1937 ; 94   |
                             1938 ; 95   |
                             1939 ; 96   |
                             1940 ; 97   |//  NOTE: This file was generated automatically by rscrenum.pl
                             1941 ; 98   |//  Do not edit it directly.
                             1942 ; 99   |//  Created on Wed Jun 18 11:53:38 2008 using resource.inc as input.
                             1943 ; 100  |
                             1944 ; 101  |
                             1945 ; 102  |
                             1946 ; 103  |//  NOTE: This file was generated automatically by rscrenum.pl
                             1947 ; 104  |//  Do not edit it directly.
                             1948 ; 105  |//  Created on Wed Jun 18 10:45:13 2008 using resource.inc as input.
                             1949 ; 106  |
                             1950 ; 107  |
                             1951 ; 108  |
                             1952 ; 109  |//  NOTE: This file was generated automatically by rscrenum.pl
                             1953 ; 110  |//  Do not edit it directly.
                             1954 ; 111  |//  Created on Wed Jun 18 09:54:56 2008 using resource.inc as input.
                             1955 ; 112  |
                             1956 ; 113  |
                             1957 ; 114  |
                             1958 ; 115  |//  NOTE: This file was generated automatically by rscrenum.pl
                             1959 ; 116  |//  Do not edit it directly.
                             1960 ; 117  |//  Created on Tue Jun 17 16:47:21 2008 using resource.inc as input.
                             1961 ; 118  |
                             1962 ; 119  |
                             1963 ; 120  |
                             1964 ; 121  |//  NOTE: This file was generated automatically by rscrenum.pl
                             1965 ; 122  |//  Do not edit it directly.
                             1966 ; 123  |//  Created on Tue Jun 17 11:30:49 2008 using resource.inc as input.
                             1967 ; 124  |
                             1968 ; 125  |
                             1969 ; 126  |
                             1970 ; 127  |/////////////////////////////////////////////////////////////////////////////////
                             1971 ; 128  |// Copyright(C) SigmaTel, Inc. 2001-2007
                             1972 ; 129  |// Reviews: DanhNguyen (06-2008) for X8iTF/STFM1000
                             1973 ; 130  |// LCD example resource listing
                             1974 ; 131  |/////////////////////////////////////////////////////////////////////////////////
                             1975 ; 132  |
                             1976 ; 133  |#if (!defined(resources))
                             1977 ; 134  |#define resources 1
                             1978 ; 135  |
                             1979 ; 136  |/////////////////////////////////////////////////////////////////////////////////
                             1980 ; 137  |//  Player version number  no leading zeros in version number!!!!!
                             1981 ; 138  |/////////////////////////////////////////////////////////////////////////////////
                             1982 ; 139  |
                             1983 ; 140  |#define VERSION_MAJOR 3
                             1984 ; 141  |#define VERSION_MIDDLE 200
                             1985 ; 142  |#define VERSION_MINOR 910
                             1986 ; 143  |
                             1987 ; 144  |#define LCD_SEG_OFFSET 0x000000
                             1988 ; 145  |#define NUMBER_OF_PRESETS 10
                             1989 ; 146  |
                             1990 ; 147  |
                             1991 ; 148  |/////////////////////////////////////////////////////////////////////////////////
                             1992 ; 149  |//  High usage resource. These have been moved here to take maximum advantage of
                             1993 ; 150  |//  the resource index cache if it was added.
                             1994 ; 151  |//  This block is sorted by frequency of use while loading a new song.
                             1995 ; 152  |/////////////////////////////////////////////////////////////////////////////////
                             1996 ; 153  |
                             1997 ; 154  |//$FILENAME searchdirectory.src
                             1998 ; 155  |#define RSRC_FUNCLET_SEARCHDIRECTORY 1    
                             1999 ; 156  |//$FILENAME shortdirmatch.src
                             2000 ; 157  |#define RSRC_FUNCLET_SHORTDIRMATCH 2    
                             2001 ; 158  |//$FILENAME fopen.src
                             2002 ; 159  |#define RSRC_FUNCLET_FOPEN 3    
                             2003 ; 160  |//$FILENAME musicmenu.src
                             2004 ; 161  |#define RSRC_MUSIC_MENU_CODE_BANK 4    
                             2005 ; 162  |//$FILENAME changepath.src
                             2006 ; 163  |#define RSRC_FUNCLET_CHANGEPATH 5    
                             2007 ; 164  |//$FILENAME _openandverifyslot.src
                             2008 ; 165  |#define RSRC_FUNCLET__OPENANDVERIFYSLOT 6    
                             2009 ; 166  |//$FILENAME _loadslot.src
                             2010 ; 167  |#define RSRC_FUNCLET__LOADSLOT 7    
                             2011 ; 168  |//$FILENAME getname.src
                             2012 ; 169  |#define RSRC_FUNCLET_GETNAME 8    
                             2013 ; 170  |//$FILENAME Funclet_SteppingVoltageSet.src
                             2014 ; 171  |#define RSRC_FUNCLET_STEPPINGVOLTAGESET 9    
                             2015 ; 172  |//$FILENAME sethandleforsearch.src
                             2016 ; 173  |#define RSRC_FUNCLET_SETHANDLEFORSEARCH 10    
                             2017 ; 174  |//$FILENAME wmaWrap.src
                             2018 ; 175  |#define RSRC_WMADEC_CODE 11    
                             2019 ; 176  |//$FILENAME extractfilename.src
                             2020 ; 177  |#define RSRC_FUNCLET_EXTRACTFILENAME 12    
                             2021 ; 178  |//$FILENAME oem_getgroupcertprivatekey.src
                             2022 ; 179  |#define RSRC_FUNCLET_OEM_GETGROUPCERTPRIVATEKEY 13    
                             2023 ; 180  |//$FILENAME SoftTimerMod.src
                             2024 ; 181  |#define RSRC_SOFT_TIMER_MODULE_CODE 14    
                             2025 ; 182  |//$FILENAME GetShortfilename.src
                             2026 ; 183  |#define RSRC_FUNCLET_GETSHORTFILENAME 15    
                             2027 ; 184  |//$FILENAME drm_dcp_loadpropertiescache.src
                             2028 ; 185  |#define RSRC_FUNCLET_DRM_DCP_LOADPROPERTIESCACHE 16    
                             2029 ; 186  |//$FILENAME playerstatemachine.src
                             2030 ; 187  |#define RSRC_PLAY_STATE_MACHINE_CODE_BANK 17    
                             2031 ; 188  |//$FILENAME SysMod.src
                             2032 ; 189  |#define RSRC_SYSMOD_CODE 18    
                             2033 ; 190  |//$FILENAME drm_b64_decodew.src
                             2034 ; 191  |#define RSRC_FUNCLET_DRM_B64_DECODEW 19    
                             2035 ; 192  |//$FILENAME discardtrailigperiods.src
                             2036 ; 193  |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODS 20    
                             2037 ; 194  |//$FILENAME uppercase.src
                             2038 ; 195  |#define RSRC_FUNCLET_UPPERCASE 21    
                             2039 ; 196  |//$FILENAME strlength.src
                             2040 ; 197  |#define RSRC_FUNCLET_STRLENGTH 22    
                             2041 ; 198  |//$FILENAME ConverToShortname.src
                             2042 ; 199  |#define RSRC_FUNCLET_CONVERTOSHORTNAME 23    
                             2043 ; 200  |//$FILENAME drm_bbx_hashvalue.src
                             2044 ; 201  |#define RSRC_FUNCLET_DRM_BBX_HASHVALUE 24    
                             2045 ; 202  |//$FILENAME drm_expr_evaluateexpression.src
                             2046 ; 203  |#define RSRC_FUNCLET_DRM_EXPR_EVALUATEEXPRESSION 25    
                             2047 ; 204  |//$FILENAME drm_sst_closekey.src
                             2048 ; 205  |#define RSRC_FUNCLET_DRM_SST_CLOSEKEY 26    
                             2049 ; 206  |//$FILENAME Funclet_SysSetSpeed.src
                             2050 ; 207  |#define RSRC_FUNCLET_SYSSETSPEED 27    
                             2051 ; 208  |//$FILENAME freehandle.src
                             2052 ; 209  |#define RSRC_FUNCLET_FREEHANDLE 28    
                             2053 ; 210  |//$FILENAME searchfreehandleallocate.src
                             2054 ; 211  |#define RSRC_FUNCLET_SEARCHFREEHANDLEALLOCATE 29    
                             2055 ; 212  |//$FILENAME _parselicenseattributes.src
                             2056 ; 213  |#define RSRC_FUNCLET__PARSELICENSEATTRIBUTES 30    
                             2057 ; 214  |//$FILENAME variablesecstategetorset.src
                             2058 ; 215  |#define RSRC_FUNCLET_VARIABLESECSTATEGETORSET 31    
                             2059 ; 216  |//$FILENAME _setuplicevalobjecttoshare.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   9

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2060 ; 217  |#define RSRC_FUNCLET__SETUPLICEVALOBJECTTOSHARE 32    
                             2061 ; 218  |//$FILENAME drm_mgr_initialize.src
                             2062 ; 219  |#define RSRC_FUNCLET_DRM_MGR_INITIALIZE 33    
                             2063 ; 220  |//$FILENAME display.src
                             2064 ; 221  |#define RSRC_DISPLAY_CODE_BANK 34    
                             2065 ; 222  |//$FILENAME DisplayModule.src
                             2066 ; 223  |#define RSRC_DISPLAY_MODULE 35    
                             2067 ; 224  |//$FILENAME extractpath.src
                             2068 ; 225  |#define RSRC_FUNCLET_EXTRACTPATH 36    
                             2069 ; 226  |//$FILENAME drm_sst_createglobalstorepassword.src
                             2070 ; 227  |#define RSRC_FUNCLET_DRM_SST_CREATEGLOBALSTOREPASSWORD 37    
                             2071 ; 228  |//$FILENAME _getprivatekey.src
                             2072 ; 229  |#define RSRC_FUNCLET__GETPRIVATEKEY 38    
                             2073 ; 230  |//$FILENAME drm_hds_opennamespace.src
                             2074 ; 231  |#define RSRC_FUNCLET_DRM_HDS_OPENNAMESPACE 39    
                             2075 ; 232  |//$FILENAME drm_hds_openslot.src
                             2076 ; 233  |#define RSRC_FUNCLET_DRM_HDS_OPENSLOT 40    
                             2077 ; 234  |//$FILENAME fclose.src
                             2078 ; 235  |#define RSRC_FUNCLET_FCLOSE 41    
                             2079 ; 236  |//$FILENAME drm_cphr_init.src
                             2080 ; 237  |#define RSRC_FUNCLET_DRM_CPHR_INIT 42    
                             2081 ; 238  |//$FILENAME drm_pk_symmetriccrypt.src
                             2082 ; 239  |#define RSRC_FUNCLET_DRM_PK_SYMMETRICCRYPT 43    
                             2083 ; 240  |//$FILENAME drm_mgr_bind.src
                             2084 ; 241  |#define RSRC_FUNCLET_DRM_MGR_BIND 44    
                             2085 ; 242  |//$FILENAME _decryptcontentkey.src
                             2086 ; 243  |#define RSRC_FUNCLET__DECRYPTCONTENTKEY 45    
                             2087 ; 244  |//$FILENAME drm_mac_inv32.src
                             2088 ; 245  |#define RSRC_FUNCLET_DRM_MAC_INV32 46    
                             2089 ; 246  |//$FILENAME drm_lic_getattribute.src
                             2090 ; 247  |#define RSRC_FUNCLET_DRM_LIC_GETATTRIBUTE 47    
                             2091 ; 248  |//$FILENAME drm_utl_getversionasstring.src
                             2092 ; 249  |#define RSRC_FUNCLET_DRM_UTL_GETVERSIONASSTRING 48    
                             2093 ; 250  |//$FILENAME drm_dcp_getattribute.src
                             2094 ; 251  |#define RSRC_FUNCLET_DRM_DCP_GETATTRIBUTE 49    
                             2095 ; 252  |//$FILENAME effectsmodules.src
                             2096 ; 253  |#define RSRC_EFFECTS_MODULES_P 50    
                             2097 ; 254  |//$FILENAME janusx.src
                             2098 ; 255  |#define RSRC_JANUSX_CODE 51    
                             2099 ; 256  |//$FILENAME drm_sst_openkeytokens.src
                             2100 ; 257  |#define RSRC_FUNCLET_DRM_SST_OPENKEYTOKENS 52    
                             2101 ; 258  |//$FILENAME eval.src
                             2102 ; 259  |#define RSRC_FUNCLET_EVAL 53    
                             2103 ; 260  |//$FILENAME _verifyslothash.src
                             2104 ; 261  |#define RSRC_FUNCLET__VERIFYSLOTHASH 54    
                             2105 ; 262  |//$FILENAME januscommon.src
                             2106 ; 263  |#define RSRC_JANUS_COMMON 55    
                             2107 ; 264  |//$FILENAME changecase.src
                             2108 ; 265  |#define RSRC_FUNCLET_CHANGECASE 56    
                             2109 ; 266  |//$FILENAME drm_bbx_symmetricverify.src
                             2110 ; 267  |#define RSRC_FUNCLET_DRM_BBX_SYMMETRICVERIFY 57    
                             2111 ; 268  |//$FILENAME _loadlicenseattributes.src
                             2112 ; 269  |#define RSRC_FUNCLET__LOADLICENSEATTRIBUTES 58    
                             2113 ; 270  |//$FILENAME drm_hds_slotseek.src
                             2114 ; 271  |#define RSRC_FUNCLET_DRM_HDS_SLOTSEEK 59    
                             2115 ; 272  |//$FILENAME drm_hds_slotwrite.src
                             2116 ; 273  |#define RSRC_FUNCLET_DRM_HDS_SLOTWRITE 60    
                             2117 ; 274  |//$FILENAME drm_levl_performoperations.src
                             2118 ; 275  |#define RSRC_FUNCLET_DRM_LEVL_PERFORMOPERATIONS 61    
                             2119 ; 276  |//$FILENAME drm_lic_verifysignature.src
                             2120 ; 277  |#define RSRC_FUNCLET_DRM_LIC_VERIFYSIGNATURE 62    
                             2121 ; 278  |//$FILENAME drm_lst_getlicense.src
                             2122 ; 279  |#define RSRC_FUNCLET_DRM_LST_GETLICENSE 63    
                             2123 ; 280  |//$FILENAME drm_utl_numbertostring.src
                             2124 ; 281  |#define RSRC_FUNCLET_DRM_UTL_NUMBERTOSTRING 64    
                             2125 ; 282  |//$FILENAME oem_writefile.src
                             2126 ; 283  |#define RSRC_FUNCLET_OEM_WRITEFILE 65    
                             2127 ; 284  |//$FILENAME drm_sst_getdata.src
                             2128 ; 285  |#define RSRC_FUNCLET_DRM_SST_GETDATA 66    
                             2129 ; 286  |//$FILENAME updatehandlemode.src
                             2130 ; 287  |#define RSRC_FUNCLET_UPDATEHANDLEMODE 67    
                             2131 ; 288  |//$FILENAME _getlicenseinfoandsetup.src
                             2132 ; 289  |#define RSRC_FUNCLET__GETLICENSEINFOANDSETUP 68    
                             2133 ; 290  |//$FILENAME drm_lic_completelicensechain.src
                             2134 ; 291  |#define RSRC_FUNCLET_DRM_LIC_COMPLETELICENSECHAIN 69    
                             2135 ; 292  |//$FILENAME doplay_p.src
                             2136 ; 293  |#define RSRC_DOPLAY_P 70    
                             2137 ; 294  |//$FILENAME fatwritep.src
                             2138 ; 295  |#define RSRC_FATWRITE_P_CODE 71    
                             2139 ; 296  |//$FILENAME findfirst.src
                             2140 ; 297  |#define RSRC_FUNCLET_FINDFIRST 72    
                             2141 ; 298  |//$FILENAME Funclet_SysLoadFatWrite.src
                             2142 ; 299  |#define RSRC_FUNCLET_SYSLOADFATWRITE 73    
                             2143 ; 300  |//$FILENAME changetorootdirectory.src
                             2144 ; 301  |#define RSRC_FUNCLET_CHANGETOROOTDIRECTORY 74    
                             2145 ; 302  |//$FILENAME _findkeypair.src
                             2146 ; 303  |#define RSRC_FUNCLET__FINDKEYPAIR 75    
                             2147 ; 304  |//$FILENAME variablemachinegetorset.src
                             2148 ; 305  |#define RSRC_FUNCLET_VARIABLEMACHINEGETORSET 76    
                             2149 ; 306  |//$FILENAME _hdsslotenumnext.src
                             2150 ; 307  |#define RSRC_FUNCLET__HDSSLOTENUMNEXT 77    
                             2151 ; 308  |//$FILENAME getlspubkey.src
                             2152 ; 309  |#define RSRC_FUNCLET_GETLSPUBKEY 78    
                             2153 ; 310  |//$FILENAME drm_sst_gettokenvalue.src
                             2154 ; 311  |#define RSRC_FUNCLET_DRM_SST_GETTOKENVALUE 79    
                             2155 ; 312  |//$FILENAME drm_utl_decodekid.src
                             2156 ; 313  |#define RSRC_FUNCLET_DRM_UTL_DECODEKID 80    
                             2157 ; 314  |//$FILENAME drm_xml_getnodecdata.src
                             2158 ; 315  |#define RSRC_FUNCLET_DRM_XML_GETNODECDATA 81    
                             2159 ; 316  |//$FILENAME _freedrmmanagerinternalcontexts.src
                             2160 ; 317  |#define RSRC_FUNCLET__FREEDRMMANAGERINTERNALCONTEXTS 82    
                             2161 ; 318  |//$FILENAME drm_clk_initchecksecureclock.src
                             2162 ; 319  |#define RSRC_FUNCLET_DRM_CLK_INITCHECKSECURECLOCK 83    
                             2163 ; 320  |//$FILENAME drm_sst_openandlockslot.src
                             2164 ; 321  |#define RSRC_FUNCLET_DRM_SST_OPENANDLOCKSLOT 84    
                             2165 ; 322  |//$FILENAME aes_enc.src
                             2166 ; 323  |#define RSRC_AES_ENC 85    
                             2167 ; 324  |//$FILENAME getprivkey.src
                             2168 ; 325  |#define RSRC_FUNCLET_GETPRIVKEY 86    
                             2169 ; 326  |//$FILENAME Funclet_GetUnicodeCharacterBitmap.src
                             2170 ; 327  |#define RSRC_FUNCLET_GET_UNICODE_CHARACTER_BITMAP 87    
                             2171 ; 328  |//$FILENAME playlist_codebank.src
                             2172 ; 329  |#define RSRC_PLAYLIST_CODEBANK 88    
                             2173 ; 330  |//$FILENAME drm_lic_getenablingbits.src
                             2174 ; 331  |#define RSRC_FUNCLET_DRM_LIC_GETENABLINGBITS 89    
                             2175 ; 332  |//$FILENAME drm_mgr_uninitialize.src
                             2176 ; 333  |#define RSRC_FUNCLET_DRM_MGR_UNINITIALIZE 90    
                             2177 ; 334  |//$FILENAME _getdevicecert.src
                             2178 ; 335  |#define RSRC_FUNCLET__GETDEVICECERT 91    
                             2179 ; 336  |//$FILENAME drm_lic_reportactions.src
                             2180 ; 337  |#define RSRC_FUNCLET_DRM_LIC_REPORTACTIONS 92    
                             2181 ; 338  |//$FILENAME drmcrt_wcsntol.src
                             2182 ; 339  |#define RSRC_FUNCLET_DRMCRT_WCSNTOL 93    
                             2183 ; 340  |//$FILENAME _basicheaderchecks.src
                             2184 ; 341  |#define RSRC_FUNCLET__BASICHEADERCHECKS 94    
                             2185 ; 342  |//$FILENAME drm_hdr_getattribute.src
                             2186 ; 343  |#define RSRC_FUNCLET_DRM_HDR_GETATTRIBUTE 95    
                             2187 ; 344  |//$FILENAME drm_hds_slotenumnext.src
                             2188 ; 345  |#define RSRC_FUNCLET_DRM_HDS_SLOTENUMNEXT 96    
                             2189 ; 346  |//$FILENAME drm_levl_evaluateexpression.src
                             2190 ; 347  |#define RSRC_FUNCLET_DRM_LEVL_EVALUATEEXPRESSION 97    
                             2191 ; 348  |//$FILENAME drm_lst_open.src
                             2192 ; 349  |#define RSRC_FUNCLET_DRM_LST_OPEN 98    
                             2193 ; 350  |//$FILENAME drm_xml_getnodeattribute.src
                             2194 ; 351  |#define RSRC_FUNCLET_DRM_XML_GETNODEATTRIBUTE 99    
                             2195 ; 352  |//$FILENAME _verifysymmerticsignature.src
                             2196 ; 353  |#define RSRC_FUNCLET__VERIFYSYMMERTICSIGNATURE 100    
                             2197 ; 354  |//$FILENAME oem_openfile.src
                             2198 ; 355  |#define RSRC_FUNCLET_OEM_OPENFILE 101    
                             2199 ; 356  |//$FILENAME _getdrmfullpathname.src
                             2200 ; 357  |#define RSRC_FUNCLET__GETDRMFULLPATHNAME 102    
                             2201 ; 358  |//$FILENAME oem_getsecurestoreglobalpasswordseed.src
                             2202 ; 359  |#define RSRC_FUNCLET_OEM_GETSECURESTOREGLOBALPASSWORDSEED 103    
                             2203 ; 360  |//$FILENAME _applydiffstostore.src
                             2204 ; 361  |#define RSRC_FUNCLET__APPLYDIFFSTOSTORE 104    
                             2205 ; 362  |//$FILENAME drm_sst_setdata.src
                             2206 ; 363  |#define RSRC_FUNCLET_DRM_SST_SETDATA 105    
                             2207 ; 364  |//$FILENAME drm_sst_getlockeddata.src
                             2208 ; 365  |#define RSRC_FUNCLET_DRM_SST_GETLOCKEDDATA 106    
                             2209 ; 366  |//$FILENAME drm_sst_setlockeddata.src
                             2210 ; 367  |#define RSRC_FUNCLET_DRM_SST_SETLOCKEDDATA 107    
                             2211 ; 368  |//$FILENAME playerlib_extra.src
                             2212 ; 369  |#define RSRC_PLAYERLIB_EXTRA_CODE_BANK 108    
                             2213 ; 370  |//$FILENAME wmaCommon.src
                             2214 ; 371  |#define RSRC_WMA_COMMON 109    
                             2215 ; 372  |//$FILENAME wmainit.src
                             2216 ; 373  |#define RSRC_WMA_INIT 110    
                             2217 ; 374  |//$FILENAME playlist2traverse_codebank.src
                             2218 ; 375  |#define RSRC_PLAYLIST2TRAVERSE_CODEBANK 111    
                             2219 ; 376  |//$FILENAME drm_bbx_cipherkeysetup.src
                             2220 ; 377  |#define RSRC_FUNCLET_DRM_BBX_CIPHERKEYSETUP 112    
                             2221 ; 378  |//$FILENAME drm_lic_checkclockrollback.src
                             2222 ; 379  |#define RSRC_FUNCLET_DRM_LIC_CHECKCLOCKROLLBACK 113    
                             2223 ; 380  |//$FILENAME drm_hds_closestore.src
                             2224 ; 381  |#define RSRC_FUNCLET_DRM_HDS_CLOSESTORE 114    
                             2225 ; 382  |//$FILENAME _hdsloadsrn.src
                             2226 ; 383  |#define RSRC_FUNCLET__HDSLOADSRN 115    
                             2227 ; 384  |//$FILENAME _loadproritizedlist.src
                             2228 ; 385  |#define RSRC_FUNCLET__LOADPRORITIZEDLIST 116    
                             2229 ; 386  |//$FILENAME drm_lst_initenum.src
                             2230 ; 387  |#define RSRC_FUNCLET_DRM_LST_INITENUM 117    
                             2231 ; 388  |//$FILENAME _loadattributesintocache.src
                             2232 ; 389  |#define RSRC_FUNCLET__LOADATTRIBUTESINTOCACHE 118    
                             2233 ; 390  |//$FILENAME drm_pk_symmetricverify.src
                             2234 ; 391  |#define RSRC_FUNCLET_DRM_PK_SYMMETRICVERIFY 119    
                             2235 ; 392  |
                             2236 ; 393  |/////////////////////////////////////////////////////////////////////////////////
                             2237 ; 394  |//  Menu Modules (codebanks)
                             2238 ; 395  |/////////////////////////////////////////////////////////////////////////////////
                             2239 ; 396  |//$FILENAME mainmenu.src
                             2240 ; 397  |#define RSRC_MAIN_MENU_CODE_BANK 120    
                             2241 ; 398  |//$FILENAME displaylists.src
                             2242 ; 399  |#define RSRC_DISPLAY_LISTS_CODE_BANK 121    
                             2243 ; 400  |
                             2244 ; 401  |//$FILENAME voicemenu.src
                             2245 ; 402  |#define RSRC_VOICE_MENU_CODE_BANK 122    
                             2246 ; 403  |//$FILENAME fmtunermenu.src
                             2247 ; 404  |#define RSRC_FMTUNER_MENU_CODE_BANK 123    
                             2248 ; 405  |//$FILENAME recorderstatemachine.src
                             2249 ; 406  |#define RSRC_RECORDER_STATE_MACHINE_CODE_BANK 124    
                             2250 ; 407  |
                             2251 ; 408  |//$FILENAME eqmenu.src
                             2252 ; 409  |#define RSRC_EQ_MENU_CODE_BANK 125    
                             2253 ; 410  |//$FILENAME playmodemenu.src
                             2254 ; 411  |#define RSRC_PLAYMODE_MENU_CODE_BANK 126    
                             2255 ; 412  |//$FILENAME contrastmenu.src
                             2256 ; 413  |#define RSRC_CONTRAST_MENU_CODE_BANK 127    
                             2257 ; 414  |//$FILENAME pwrsettingsmenu.src
                             2258 ; 415  |#define RSRC_PWRSETTINGS_MENU_CODE_BANK 128    
                             2259 ; 416  |//$FILENAME timedatemenu.src
                             2260 ; 417  |#define RSRC_TIMEDATE_MENU_CODE_BANK 129    
                             2261 ; 418  |//$FILENAME settimemenu.src
                             2262 ; 419  |#define RSRC_SETTIME_MENU_CODE_BANK 130    
                             2263 ; 420  |//$FILENAME setdatemenu.src
                             2264 ; 421  |#define RSRC_SETDATE_MENU_CODE_BANK 131    
                             2265 ; 422  |//$FILENAME settingsmenu.src
                             2266 ; 423  |#define RSRC_SETTINGS_MENU_CODE_BANK 132    
                             2267 ; 424  |//$FILENAME string_system_menu.src
                             2268 ; 425  |#define RSRC_SYSTEM_MENU_CODE_BANK 133    
                             2269 ; 426  |//$FILENAME deletemenu.src
                             2270 ; 427  |#define RSRC_DELETE_MENU_CODE_BANK 134    
                             2271 ; 428  |//$FILENAME aboutmenu.src
                             2272 ; 429  |#define RSRC_ABOUT_MENU_CODE_BANK 135    
                             2273 ; 430  |
                             2274 ; 431  |//$FILENAME spectrogram.src
                             2275 ; 432  |#define RSRC_SPECTROGRAM_MENU_CODE_BANK 136    
                             2276 ; 433  |
                             2277 ; 434  |//$FILENAME motionvideomenu.src
                             2278 ; 435  |#define RSRC_MOTION_VIDEO_MENU_CODE_BANK 137    
                             2279 ; 436  |//$FILENAME motionvideomenuinitstate.src
                             2280 ; 437  |#define RSRC_MOTION_VIDEO_MENU_INITSTATE_CODE_BANK 138    
                             2281 ; 438  |//$FILENAME jpegdisplaymenu.src
                             2282 ; 439  |#define RSRC_JPEG_DISPLAY_MENU_CODE_BANK 139    
                             2283 ; 440  |//$FILENAME jpegmanualmenu.src
                             2284 ; 441  |#define RSRC_JPEG_MANUAL_MENU_CODE_BANK 140    
                             2285 ; 442  |//$FILENAME jpegthumbnailmenu.src
                             2286 ; 443  |#define RSRC_JPEG_THUMBNAIL_MENU_CODE_BANK 141    
                             2287 ; 444  |//$FILENAME jpegslideshowmenu.src
                             2288 ; 445  |#define RSRC_JPEG_SLIDESHOW_MENU_CODE_BANK 142    
                             2289 ; 446  |//$FILENAME albumartmenu.src
                             2290 ; 447  |#define RSRC_ALBUM_ART_MENU_CODE_BANK 143    
                             2291 ; 448  |//$FILENAME jpegfileutilextra.src
                             2292 ; 449  |#define RSRC_JPEG_FILEUTIL_EXTRA_MENU_CODE_BANK 144    
                             2293 ; 450  |
                             2294 ; 451  |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2295 ; 452  |// General Modules
                             2296 ; 453  |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2297 ; 454  |//$FILENAME MixMod.src
                             2298 ; 455  |#define RSRC_MIXMOD_CODE 145    
                             2299 ; 456  |//$FILENAME TunerModule.src
                             2300 ; 457  |#define RSRC_TUNER_MODULE 146    
                             2301 ; 458  |//$FILENAME geqoverlay.src
                             2302 ; 459  |#define RSRC_GEQOVERLAY_CODE 147    
                             2303 ; 460  |
                             2304 ; 461  |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2305 ; 462  |// Decoders/Encoders
                             2306 ; 463  |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2307 ; 464  |//$FILENAME DecMod.src
                             2308 ; 465  |#define RSRC_DECMOD_CODE 148    
                             2309 ; 466  |//$FILENAME mp3p.src
                             2310 ; 467  |#define RSRC_MP3P_CODE 149    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  10

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2311 ; 468  |//$FILENAME mp3x.src
                             2312 ; 469  |#define RSRC_MP3X_CODE 150    
                             2313 ; 470  |//$FILENAME mp3y.src
                             2314 ; 471  |#define RSRC_MP3Y_CODE 151    
                             2315 ; 472  |//$FILENAME janusp.src
                             2316 ; 473  |#define RSRC_JANUSP_CODE 152    
                             2317 ; 474  |//RSRC_JANUSY_CODE        equ       29    ;$FILENAME janusy.src
                             2318 ; 475  |
                             2319 ; 476  |//$FILENAME decadpcmimamod.src
                             2320 ; 477  |#define RSRC_DEC_ADPCM_MOD_CODE 153    
                             2321 ; 478  |//$FILENAME dec_adpcmp.src
                             2322 ; 479  |#define RSRC_DEC_ADPCMP_CODE 154    
                             2323 ; 480  |//$FILENAME dec_adpcmx.src
                             2324 ; 481  |#define RSRC_DEC_ADPCMX_CODE 155    
                             2325 ; 482  |//$FILENAME dec_adpcmy.src
                             2326 ; 483  |#define RSRC_DEC_ADPCMY_CODE 156    
                             2327 ; 484  |
                             2328 ; 485  |//$FILENAME decadpcmsmvmod.src
                             2329 ; 486  |#define RSRC_DEC_SMVADPCM_MOD_CODE 157    
                             2330 ; 487  |//$FILENAME dec_smvadpcmp.src
                             2331 ; 488  |#define RSRC_DEC_SMVADPCMP_CODE 158    
                             2332 ; 489  |//$FILENAME dec_smvadpcmx.src
                             2333 ; 490  |#define RSRC_DEC_SMVADPCMX_CODE 159    
                             2334 ; 491  |//$FILENAME dec_smvadpcmy.src
                             2335 ; 492  |#define RSRC_DEC_SMVADPCMY_CODE 160    
                             2336 ; 493  |
                             2337 ; 494  |//$FILENAME encadpcmimamod.src
                             2338 ; 495  |#define RSRC_ENC_ADPCM_MOD_CODE 161    
                             2339 ; 496  |//$FILENAME enc_adpcmp.src
                             2340 ; 497  |#define RSRC_ENC_ADPCMP_CODE 162    
                             2341 ; 498  |//$FILENAME enc_adpcmx.src
                             2342 ; 499  |#define RSRC_ENC_ADPCMX_CODE 163    
                             2343 ; 500  |//$FILENAME enc_adpcmy.src
                             2344 ; 501  |#define RSRC_ENC_ADPCMY_CODE 164    
                             2345 ; 502  |
                             2346 ; 503  |//$FILENAME jpeg_p.src
                             2347 ; 504  |#define RSRC_JPEG_DECODER_P 165    
                             2348 ; 505  |//$FILENAME jpeg_x.src
                             2349 ; 506  |#define RSRC_JPEG_DECODER_X 166    
                             2350 ; 507  |//$FILENAME jpeg_y.src
                             2351 ; 508  |#define RSRC_JPEG_DECODER_Y 167    
                             2352 ; 509  |//$FILENAME jpeg2_y.src
                             2353 ; 510  |#define RSRC_JPEG_DECODER_Y_2 168    
                             2354 ; 511  |//$FILENAME bmp2_y.src
                             2355 ; 512  |#define RSRC_BMP_DECODER_Y_2 169    
                             2356 ; 513  |//$FILENAME bmp_p.src
                             2357 ; 514  |#define RSRC_BMP_DECODER_P 170    
                             2358 ; 515  |
                             2359 ; 516  |//RSRC_SMVJPEG_DECODER_P    equ       57    ;$FILENAME smvjpeg_p.src
                             2360 ; 517  |//$FILENAME smvjpeg_x.src
                             2361 ; 518  |#define RSRC_SMVJPEG_DECODER_X 171    
                             2362 ; 519  |//$FILENAME smvjpeg_y.src
                             2363 ; 520  |#define RSRC_SMVJPEG_DECODER_Y 172    
                             2364 ; 521  |
                             2365 ; 522  |
                             2366 ; 523  |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2367 ; 524  |// System Settings
                             2368 ; 525  |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2369 ; 526  |//$FILENAME settings.src
                             2370 ; 527  |#define RSRC_SETTINGS_COMMANDS 173    
                             2371 ; 528  |
                             2372 ; 529  |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2373 ; 530  |// Media Device Drivers
                             2374 ; 531  |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2375 ; 532  |//This resource is filled with garbage unless it is the MMC build
                             2376 ; 533  |//$FILENAME null.src
                             2377 ; 534  |#define RSRC_MMCDD_CODE 174    
                             2378 ; 535  |//$FILENAME null.src
                             2379 ; 536  |#define RSRC_SMDD_HIGH_CODE 175    
                             2380 ; 537  |
                             2381 ; 538  |/////////////////////////////////////////////////////////////////////////////////
                             2382 ; 539  |//  PlayState resources
                             2383 ; 540  |/////////////////////////////////////////////////////////////////////////////////
                             2384 ; 541  |//$FILENAME play_icon_with_border.src
                             2385 ; 542  |#define RSRC_PLAY_ICON_WITH_BORDER 176    
                             2386 ; 543  |//$FILENAME pause_icon_with_border.src
                             2387 ; 544  |#define RSRC_PAUSE_ICON_WITH_BORDER 177    
                             2388 ; 545  |//$FILENAME stop_icon_with_border.src
                             2389 ; 546  |#define RSRC_STOP_ICON_WITH_BORDER 178    
                             2390 ; 547  |//$FILENAME record_icon_with_border.src
                             2391 ; 548  |#define RSRC_RECORD_ICON_WITH_BORDER 179    
                             2392 ; 549  |//$FILENAME paused_record_icon_with_border.src
                             2393 ; 550  |#define RSRC_PAUSED_RECORD_ICON_BORDER 180    
                             2394 ; 551  |//$FILENAME ffwd_icon_with_border.src
                             2395 ; 552  |#define RSRC_FFWD_ICON_WITH_BORDER 181    
                             2396 ; 553  |//$FILENAME rwnd_icon_with_border.src
                             2397 ; 554  |#define RSRC_RWND_ICON_WITH_BORDER 182    
                             2398 ; 555  |
                             2399 ; 556  |/////////////////////////////////////////////////////////////////////////////////
                             2400 ; 557  |//  PlayMode resources
                             2401 ; 558  |/////////////////////////////////////////////////////////////////////////////////
                             2402 ; 559  |//$FILENAME repeatall_icon.src
                             2403 ; 560  |#define RSRC_REPEAT_ALL_ICON 183    
                             2404 ; 561  |//$FILENAME repeatsong_icon.src
                             2405 ; 562  |#define RSRC_REPEAT_SONG_ICON 184    
                             2406 ; 563  |//$FILENAME shuffle_icon.src
                             2407 ; 564  |#define RSRC_SHUFFLE_ICON 185    
                             2408 ; 565  |//$FILENAME random_icon.src
                             2409 ; 566  |#define RSRC_RANDOM_ICON 186    
                             2410 ; 567  |//$FILENAME repeatallclear_icon.src
                             2411 ; 568  |#define RSRC_REPEAT_ALL_CLEAR_ICON 187    
                             2412 ; 569  |//$FILENAME repeatsongclear_icon.src
                             2413 ; 570  |#define RSRC_REPEAT_SONG_CLEAR_ICON 188    
                             2414 ; 571  |//$FILENAME shuffleclear_icon.src
                             2415 ; 572  |#define RSRC_SHUFFLE_CLEAR_ICON 189    
                             2416 ; 573  |
                             2417 ; 574  |/////////////////////////////////////////////////////////////////////////////////
                             2418 ; 575  |//  Battery Status
                             2419 ; 576  |/////////////////////////////////////////////////////////////////////////////////
                             2420 ; 577  |//$FILENAME battery_00.src
                             2421 ; 578  |#define RSRC_BATTERY_00 190    
                             2422 ; 579  |//$FILENAME battery_01.src
                             2423 ; 580  |#define RSRC_BATTERY_01 191    
                             2424 ; 581  |//$FILENAME battery_02.src
                             2425 ; 582  |#define RSRC_BATTERY_02 192    
                             2426 ; 583  |//$FILENAME battery_03.src
                             2427 ; 584  |#define RSRC_BATTERY_03 193    
                             2428 ; 585  |//$FILENAME battery_04.src
                             2429 ; 586  |#define RSRC_BATTERY_04 194    
                             2430 ; 587  |//$FILENAME battery_05.src
                             2431 ; 588  |#define RSRC_BATTERY_05 195    
                             2432 ; 589  |//$FILENAME battery_06.src
                             2433 ; 590  |#define RSRC_BATTERY_06 196    
                             2434 ; 591  |//$FILENAME battery_07.src
                             2435 ; 592  |#define RSRC_BATTERY_07 197    
                             2436 ; 593  |//$FILENAME battery_08.src
                             2437 ; 594  |#define RSRC_BATTERY_08 198    
                             2438 ; 595  |//$FILENAME battery_09.src
                             2439 ; 596  |#define RSRC_BATTERY_09 199    
                             2440 ; 597  |//$FILENAME battery_10.src
                             2441 ; 598  |#define RSRC_BATTERY_10 200    
                             2442 ; 599  |
                             2443 ; 600  |/////////////////////////////////////////////////////////////////////////////////
                             2444 ; 601  |//  System Icons
                             2445 ; 602  |/////////////////////////////////////////////////////////////////////////////////
                             2446 ; 603  |//$FILENAME disk_small.src
                             2447 ; 604  |#define RSRC_DISK_ICON 201    
                             2448 ; 605  |//$FILENAME lock_small.src
                             2449 ; 606  |#define RSRC_LOCK_ICON 202    
                             2450 ; 607  |//$FILENAME icon_music_mode.src
                             2451 ; 608  |#define RSRC_MUSIC_MODE_ICON 203    
                             2452 ; 609  |//$FILENAME icon_voice_mode.src
                             2453 ; 610  |#define RSRC_VOICE_MODE_ICON 204    
                             2454 ; 611  |
                             2455 ; 612  |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2456 ; 613  |// Volume Bitmaps
                             2457 ; 614  |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2458 ; 615  |//$FILENAME icon_vol_00.src
                             2459 ; 616  |#define RSRC_ICON_VOL_00 205    
                             2460 ; 617  |//$FILENAME icon_vol_01.src
                             2461 ; 618  |#define RSRC_ICON_VOL_01 206    
                             2462 ; 619  |//$FILENAME icon_vol_02.src
                             2463 ; 620  |#define RSRC_ICON_VOL_02 207    
                             2464 ; 621  |//$FILENAME icon_vol_03.src
                             2465 ; 622  |#define RSRC_ICON_VOL_03 208    
                             2466 ; 623  |//$FILENAME icon_vol_04.src
                             2467 ; 624  |#define RSRC_ICON_VOL_04 209    
                             2468 ; 625  |//$FILENAME icon_vol_05.src
                             2469 ; 626  |#define RSRC_ICON_VOL_05 210    
                             2470 ; 627  |//$FILENAME icon_vol_06.src
                             2471 ; 628  |#define RSRC_ICON_VOL_06 211    
                             2472 ; 629  |//$FILENAME icon_vol_07.src
                             2473 ; 630  |#define RSRC_ICON_VOL_07 212    
                             2474 ; 631  |//$FILENAME icon_vol_08.src
                             2475 ; 632  |#define RSRC_ICON_VOL_08 213    
                             2476 ; 633  |//$FILENAME icon_vol_09.src
                             2477 ; 634  |#define RSRC_ICON_VOL_09 214    
                             2478 ; 635  |//$FILENAME icon_vol_10.src
                             2479 ; 636  |#define RSRC_ICON_VOL_10 215    
                             2480 ; 637  |//$FILENAME icon_vol_11.src
                             2481 ; 638  |#define RSRC_ICON_VOL_11 216    
                             2482 ; 639  |//$FILENAME icon_vol_12.src
                             2483 ; 640  |#define RSRC_ICON_VOL_12 217    
                             2484 ; 641  |//$FILENAME icon_vol_13.src
                             2485 ; 642  |#define RSRC_ICON_VOL_13 218    
                             2486 ; 643  |//$FILENAME icon_vol_14.src
                             2487 ; 644  |#define RSRC_ICON_VOL_14 219    
                             2488 ; 645  |//$FILENAME icon_vol_15.src
                             2489 ; 646  |#define RSRC_ICON_VOL_15 220    
                             2490 ; 647  |//$FILENAME icon_vol_16.src
                             2491 ; 648  |#define RSRC_ICON_VOL_16 221    
                             2492 ; 649  |//$FILENAME icon_vol_17.src
                             2493 ; 650  |#define RSRC_ICON_VOL_17 222    
                             2494 ; 651  |//$FILENAME icon_vol_18.src
                             2495 ; 652  |#define RSRC_ICON_VOL_18 223    
                             2496 ; 653  |//$FILENAME icon_vol_19.src
                             2497 ; 654  |#define RSRC_ICON_VOL_19 224    
                             2498 ; 655  |//$FILENAME icon_vol_20.src
                             2499 ; 656  |#define RSRC_ICON_VOL_20 225    
                             2500 ; 657  |//$FILENAME icon_vol_21.src
                             2501 ; 658  |#define RSRC_ICON_VOL_21 226    
                             2502 ; 659  |//$FILENAME icon_vol_22.src
                             2503 ; 660  |#define RSRC_ICON_VOL_22 227    
                             2504 ; 661  |//$FILENAME icon_vol_23.src
                             2505 ; 662  |#define RSRC_ICON_VOL_23 228    
                             2506 ; 663  |//$FILENAME icon_vol_24.src
                             2507 ; 664  |#define RSRC_ICON_VOL_24 229    
                             2508 ; 665  |//$FILENAME icon_vol_25.src
                             2509 ; 666  |#define RSRC_ICON_VOL_25 230    
                             2510 ; 667  |//$FILENAME icon_vol_26.src
                             2511 ; 668  |#define RSRC_ICON_VOL_26 231    
                             2512 ; 669  |//$FILENAME icon_vol_27.src
                             2513 ; 670  |#define RSRC_ICON_VOL_27 232    
                             2514 ; 671  |//$FILENAME icon_vol_28.src
                             2515 ; 672  |#define RSRC_ICON_VOL_28 233    
                             2516 ; 673  |//$FILENAME icon_vol_29.src
                             2517 ; 674  |#define RSRC_ICON_VOL_29 234    
                             2518 ; 675  |//$FILENAME icon_vol_30.src
                             2519 ; 676  |#define RSRC_ICON_VOL_30 235    
                             2520 ; 677  |//$FILENAME icon_vol_31.src
                             2521 ; 678  |#define RSRC_ICON_VOL_31 236    
                             2522 ; 679  |
                             2523 ; 680  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                             2524 ; 681  |// Splash Screen Stuff
                             2525 ; 682  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                             2526 ; 683  |//$FILENAME st_bw1.src
                             2527 ; 684  |#define RSRC_SPLASH_SCREEN 237    
                             2528 ; 685  |//$FILENAME siglogo1.src
                             2529 ; 686  |#define RSRC_SPLASH_SCREEN_1 238    
                             2530 ; 687  |//$FILENAME siglogo2.src
                             2531 ; 688  |#define RSRC_SPLASH_SCREEN_2 239    
                             2532 ; 689  |//$FILENAME siglogo3.src
                             2533 ; 690  |#define RSRC_SPLASH_SCREEN_3 240    
                             2534 ; 691  |//$FILENAME siglogo4.src
                             2535 ; 692  |#define RSRC_SPLASH_SCREEN_4 241    
                             2536 ; 693  |//$FILENAME siglogo5.src
                             2537 ; 694  |#define RSRC_SPLASH_SCREEN_5 242    
                             2538 ; 695  |//$FILENAME siglogo6.src
                             2539 ; 696  |#define RSRC_SPLASH_SCREEN_6 243    
                             2540 ; 697  |//$FILENAME siglogo7.src
                             2541 ; 698  |#define RSRC_SPLASH_SCREEN_7 244    
                             2542 ; 699  |//$FILENAME siglogo8.src
                             2543 ; 700  |#define RSRC_SPLASH_SCREEN_8 245    
                             2544 ; 701  |//$FILENAME siglogo9.src
                             2545 ; 702  |#define RSRC_SPLASH_SCREEN_9 246    
                             2546 ; 703  |//$FILENAME siglogo10.src
                             2547 ; 704  |#define RSRC_SPLASH_SCREEN_10 247    
                             2548 ; 705  |//$FILENAME siglogo11.src
                             2549 ; 706  |#define RSRC_SPLASH_SCREEN_11 248    
                             2550 ; 707  |//$FILENAME siglogo12.src
                             2551 ; 708  |#define RSRC_SPLASH_SCREEN_12 249    
                             2552 ; 709  |//$FILENAME siglogo13.src
                             2553 ; 710  |#define RSRC_SPLASH_SCREEN_13 250    
                             2554 ; 711  |//$FILENAME siglogo.src
                             2555 ; 712  |#define RSRC_SPLASH_SCREEN_ALL 251    
                             2556 ; 713  |
                             2557 ; 714  |//$FILENAME locked.src
                             2558 ; 715  |#define RSRC_LOCKED_SCREEN 252    
                             2559 ; 716  |
                             2560 ; 717  |/////////////////////////////////////////////////////////////////////////////////
                             2561 ; 718  |//  Shutdown
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  11

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2562 ; 719  |/////////////////////////////////////////////////////////////////////////////////
                             2563 ; 720  |//$FILENAME string_arial_8_continue_holding_to_power_off.src
                             2564 ; 721  |#define RSRC_PDOWN_HOLD_STRING 253    
                             2565 ; 722  |//$FILENAME status_16_6_steps_0.src
                             2566 ; 723  |#define RSRC_PDOWN_STATUS_0 254    
                             2567 ; 724  |//$FILENAME status_16_6_steps_1.src
                             2568 ; 725  |#define RSRC_PDOWN_STATUS_1 255    
                             2569 ; 726  |//$FILENAME status_16_6_steps_2.src
                             2570 ; 727  |#define RSRC_PDOWN_STATUS_2 256    
                             2571 ; 728  |//$FILENAME status_16_6_steps_3.src
                             2572 ; 729  |#define RSRC_PDOWN_STATUS_3 257    
                             2573 ; 730  |//$FILENAME status_16_6_steps_4.src
                             2574 ; 731  |#define RSRC_PDOWN_STATUS_4 258    
                             2575 ; 732  |//$FILENAME status_16_6_steps_5.src
                             2576 ; 733  |#define RSRC_PDOWN_STATUS_5 259    
                             2577 ; 734  |//$FILENAME status_16_6_steps_6.src
                             2578 ; 735  |#define RSRC_PDOWN_STATUS_6 260    
                             2579 ; 736  |
                             2580 ; 737  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                             2581 ; 738  |// EQ
                             2582 ; 739  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                             2583 ; 740  |//$FILENAME eq_clear_icon.src
                             2584 ; 741  |#define RSRC_EQ_CLEAR_ICON 261    
                             2585 ; 742  |//$FILENAME rock_icon.src
                             2586 ; 743  |#define RSRC_ROCK_ICON 262    
                             2587 ; 744  |//$FILENAME jazz_icon.src
                             2588 ; 745  |#define RSRC_JAZZ_ICON 263    
                             2589 ; 746  |//$FILENAME classic_icon.src
                             2590 ; 747  |#define RSRC_CLASSIC_ICON 264    
                             2591 ; 748  |//$FILENAME pop_icon.src
                             2592 ; 749  |#define RSRC_POP_ICON 265    
                             2593 ; 750  |//$FILENAME custom_icon.src
                             2594 ; 751  |#define RSRC_CUSTOM_ICON 266    
                             2595 ; 752  |
                             2596 ; 753  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                             2597 ; 754  |// AB
                             2598 ; 755  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                             2599 ; 756  |//$FILENAME ab_mark_a.src
                             2600 ; 757  |#define RSRC_AB_MARK_A_ICON 267    
                             2601 ; 758  |//$FILENAME ab_mark_b.src
                             2602 ; 759  |#define RSRC_AB_MARK_B_ICON 268    
                             2603 ; 760  |
                             2604 ; 761  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                             2605 ; 762  |// Menu Display Resources
                             2606 ; 763  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                             2607 ; 764  |//$FILENAME string_music_menu.src
                             2608 ; 765  |#define RSRC_STRING_MUSIC_MENU 269    
                             2609 ; 766  |//$FILENAME string_mvideo_menu.src
                             2610 ; 767  |#define RSRC_STRING_MVIDEO_MENU 270    
                             2611 ; 768  |//$FILENAME string_jpeg_display_menu.src
                             2612 ; 769  |#define RSRC_STRING_JPEG_DISPLAY_MENU 271    
                             2613 ; 770  |//$FILENAME string_jpeg_manual_menu.src
                             2614 ; 771  |#define RSRC_STRING_JPEG_MANUAL_MENU 272    
                             2615 ; 772  |//$FILENAME string_jpeg_slideshow_menu.src
                             2616 ; 773  |#define RSRC_STRING_JPEG_SLIDESHOW_MENU 273    
                             2617 ; 774  |//$FILENAME string_jpeg_thumbnail_menu.src
                             2618 ; 775  |#define RSRC_STRING_JPEG_THUMBNAIL_MENU 274    
                             2619 ; 776  |//$FILENAME string_voice_menu.src
                             2620 ; 777  |#define RSRC_STRING_VOICE_MENU 275    
                             2621 ; 778  |//$FILENAME string_audible_menu.src
                             2622 ; 779  |#define RSRC_STRING_AUDIBLE_MENU 276    
                             2623 ; 780  |//$FILENAME string_fmtuner_menu.src
                             2624 ; 781  |#define RSRC_STRING_FMTUNER_MENU 277    
                             2625 ; 782  |//$FILENAME string_settings_menu.src
                             2626 ; 783  |#define RSRC_STRING_SETTINGS_MENU 278    
                             2627 ; 784  |//$FILENAME string_eq_menu.src
                             2628 ; 785  |#define RSRC_STRING_EQ_MENU 279    
                             2629 ; 786  |//$FILENAME string_playmode_menu.src
                             2630 ; 787  |#define RSRC_STRING_PLAYMODE_MENU 280    
                             2631 ; 788  |//$FILENAME string_contrast_menu.src
                             2632 ; 789  |#define RSRC_STRING_CONTRAST_MENU 281    
                             2633 ; 790  |//$FILENAME string_pwrsavings_menu.src
                             2634 ; 791  |#define RSRC_STRING_PWRSAVINGS_MENU 282    
                             2635 ; 792  |//$FILENAME string_time_date_menu.src
                             2636 ; 793  |#define RSRC_STRING_TIME_DATE_MENU 283    
                             2637 ; 794  |//$FILENAME string_set_time_menu.src
                             2638 ; 795  |#define RSRC_STRING_SET_TIME_MENU 284    
                             2639 ; 796  |//$FILENAME string_set_date_menu.src
                             2640 ; 797  |#define RSRC_STRING_SET_DATE_MENU 285    
                             2641 ; 798  |//$FILENAME string_exit_menu.src
                             2642 ; 799  |#define RSRC_STRING_EXIT_MENU 286    
                             2643 ; 800  |//$FILENAME string_rock_menu.src
                             2644 ; 801  |#define RSRC_STRING_ROCK_MENU 287    
                             2645 ; 802  |//$FILENAME string_pop_menu.src
                             2646 ; 803  |#define RSRC_STRING_POP_MENU 288    
                             2647 ; 804  |//$FILENAME string_classic_menu.src
                             2648 ; 805  |#define RSRC_STRING_CLASSIC_MENU 289    
                             2649 ; 806  |//$FILENAME string_normal_menu.src
                             2650 ; 807  |#define RSRC_STRING_NORMAL_MENU 290    
                             2651 ; 808  |//$FILENAME string_jazz_menu.src
                             2652 ; 809  |#define RSRC_STRING_JAZZ_MENU 291    
                             2653 ; 810  |//$FILENAME string_repeat1_menu.src
                             2654 ; 811  |#define RSRC_STRING_REPEAT1_MENU 292    
                             2655 ; 812  |//$FILENAME string_repeatall_menu.src
                             2656 ; 813  |#define RSRC_STRING_REPEATALL_MENU 293    
                             2657 ; 814  |//$FILENAME string_shuffle_menu.src
                             2658 ; 815  |#define RSRC_STRING_SHUFFLE_MENU 294    
                             2659 ; 816  |//$FILENAME string_repeatshuffle_menu.src
                             2660 ; 817  |#define RSRC_STRING_SHUFFLEREPEAT_MENU 295    
                             2661 ; 818  |//$FILENAME string_disable_menu.src
                             2662 ; 819  |#define RSRC_STRING_DISABLE_MENU 296    
                             2663 ; 820  |//$FILENAME string_1min_menu.src
                             2664 ; 821  |#define RSRC_STRING_1MIN_MENU 297    
                             2665 ; 822  |//$FILENAME string_2min_menu.src
                             2666 ; 823  |#define RSRC_STRING_2MIN_MENU 298    
                             2667 ; 824  |//$FILENAME string_5min_menu.src
                             2668 ; 825  |#define RSRC_STRING_5MIN_MENU 299    
                             2669 ; 826  |//$FILENAME string_10min_menu.src
                             2670 ; 827  |#define RSRC_STRING_10MIN_MENU 300    
                             2671 ; 828  |//$FILENAME string_system_menu.src
                             2672 ; 829  |#define RSRC_STRING_SYSTEM_MENU 301    
                             2673 ; 830  |//$FILENAME string_about_menu.src
                             2674 ; 831  |#define RSRC_STRING_ABOUT_MENU 302    
                             2675 ; 832  |//$FILENAME string_delete_menu.src
                             2676 ; 833  |#define RSRC_STRING_DELETE_MENU 303    
                             2677 ; 834  |//$FILENAME string_record_menu.src
                             2678 ; 835  |#define RSRC_STRING_RECORD_MENU 304    
                             2679 ; 836  |//$FILENAME string_spectrogram_menu.src
                             2680 ; 837  |#define RSRC_STRING_SPECTROGRAM_MENU 305    
                             2681 ; 838  |
                             2682 ; 839  |//$FILENAME string_end_of_slide_show.src
                             2683 ; 840  |#define RSRC_STRING_END_OF_SLIDE_SHOW 306    
                             2684 ; 841  |
                             2685 ; 842  |//$FILENAME string_mb.src
                             2686 ; 843  |#define RSRC_STRING_MB 307    
                             2687 ; 844  |
                             2688 ; 845  |//$FILENAME internal_media.src
                             2689 ; 846  |#define RSRC_INT_MEDIA 308    
                             2690 ; 847  |//$FILENAME external_media.src
                             2691 ; 848  |#define RSRC_EXT_MEDIA 309    
                             2692 ; 849  |
                             2693 ; 850  |//$FILENAME about_title.src
                             2694 ; 851  |#define RSRC_ABOUT_TITLE 310    
                             2695 ; 852  |//$FILENAME player_name.src
                             2696 ; 853  |#define RSRC_PLAYER_NAME_VER 311    
                             2697 ; 854  |
                             2698 ; 855  |//$FILENAME settings_title.src
                             2699 ; 856  |#define RSRC_SETTINGS_TITLE 312    
                             2700 ; 857  |//$FILENAME jpeg_display_title.src
                             2701 ; 858  |#define RSRC_JPEG_DISPLAY_TITLE 313    
                             2702 ; 859  |//$FILENAME erase_title.src
                             2703 ; 860  |#define RSRC_ERASE_TITLE 314    
                             2704 ; 861  |
                             2705 ; 862  |//$FILENAME del_warning_no.src
                             2706 ; 863  |#define RSRC_DELETE_NO 315    
                             2707 ; 864  |//$FILENAME del_warning_yes.src
                             2708 ; 865  |#define RSRC_DELETE_YES 316    
                             2709 ; 866  |//$FILENAME del_warning_line1.src
                             2710 ; 867  |#define RSRC_WARNING_MSG_LINE1 317    
                             2711 ; 868  |//$FILENAME del_warning_line2.src
                             2712 ; 869  |#define RSRC_WARNING_MSG_LINE2 318    
                             2713 ; 870  |//$FILENAME lowbattery.src
                             2714 ; 871  |#define RSRC_BROWNOUT_BITMAP 319    
                             2715 ; 872  |//$FILENAME vbr.src
                             2716 ; 873  |#define RSRC_VBR_BITMAP 320    
                             2717 ; 874  |
                             2718 ; 875  |//$FILENAME string_song.src
                             2719 ; 876  |#define RSRC_STRING_SONG_COLON 321    
                             2720 ; 877  |//$FILENAME string_voice.src
                             2721 ; 878  |#define RSRC_STRING_VOICE_COLON 322    
                             2722 ; 879  |
                             2723 ; 880  |//$FILENAME time_date_title.src
                             2724 ; 881  |#define RSRC_TIME_DATE_TITLE 323    
                             2725 ; 882  |//$FILENAME set_time_title.src
                             2726 ; 883  |#define RSRC_SET_TIME_TITLE 324    
                             2727 ; 884  |//$FILENAME set_date_title.src
                             2728 ; 885  |#define RSRC_SET_DATE_TITLE 325    
                             2729 ; 886  |//$FILENAME string_searching.src
                             2730 ; 887  |#define RSRC_STRING_SEARCHING 326    
                             2731 ; 888  |/////////////////////////////////////////////////////////////////////////////////
                             2732 ; 889  |//  Save Changes
                             2733 ; 890  |/////////////////////////////////////////////////////////////////////////////////
                             2734 ; 891  |//$FILENAME save_changes_yes.src
                             2735 ; 892  |#define RSRC_SAVE_CHANGES_YES 327    
                             2736 ; 893  |//$FILENAME save_changes_no.src
                             2737 ; 894  |#define RSRC_SAVE_CHANGES_NO 328    
                             2738 ; 895  |//$FILENAME save_changes_cancel.src
                             2739 ; 896  |#define RSRC_SAVE_CHANGES_CANCEL 329    
                             2740 ; 897  |//$FILENAME save_changes_clear.src
                             2741 ; 898  |#define RSRC_SAVE_CHANGES_CLEAR 330    
                             2742 ; 899  |/////////////////////////////////////////////////////////////////////////////////
                             2743 ; 900  |//  Contrast
                             2744 ; 901  |/////////////////////////////////////////////////////////////////////////////////
                             2745 ; 902  |//$FILENAME contrast_title.src
                             2746 ; 903  |#define RSRC_CONTRAST_TITLE 331    
                             2747 ; 904  |//$FILENAME contrast_frame.src
                             2748 ; 905  |#define RSRC_CONTRAST_FRAME 332    
                             2749 ; 906  |//$FILENAME contrast_level0.src
                             2750 ; 907  |#define RSRC_CONTRAST_LEVEL_0 333    
                             2751 ; 908  |//$FILENAME contrast_level1.src
                             2752 ; 909  |#define RSRC_CONTRAST_LEVEL_1 334    
                             2753 ; 910  |//$FILENAME contrast_level2.src
                             2754 ; 911  |#define RSRC_CONTRAST_LEVEL_2 335    
                             2755 ; 912  |//$FILENAME contrast_level3.src
                             2756 ; 913  |#define RSRC_CONTRAST_LEVEL_3 336    
                             2757 ; 914  |//$FILENAME contrast_level4.src
                             2758 ; 915  |#define RSRC_CONTRAST_LEVEL_4 337    
                             2759 ; 916  |//$FILENAME contrast_level5.src
                             2760 ; 917  |#define RSRC_CONTRAST_LEVEL_5 338    
                             2761 ; 918  |//$FILENAME contrast_level6.src
                             2762 ; 919  |#define RSRC_CONTRAST_LEVEL_6 339    
                             2763 ; 920  |//$FILENAME contrast_level7.src
                             2764 ; 921  |#define RSRC_CONTRAST_LEVEL_7 340    
                             2765 ; 922  |//$FILENAME contrast_level8.src
                             2766 ; 923  |#define RSRC_CONTRAST_LEVEL_8 341    
                             2767 ; 924  |//$FILENAME contrast_level9.src
                             2768 ; 925  |#define RSRC_CONTRAST_LEVEL_9 342    
                             2769 ; 926  |//$FILENAME contrast_level10.src
                             2770 ; 927  |#define RSRC_CONTRAST_LEVEL_10 343    
                             2771 ; 928  |
                             2772 ; 929  |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2773 ; 930  |// Funclets
                             2774 ; 931  |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2775 ; 932  |//$FILENAME Funclet_SetRTC.src
                             2776 ; 933  |#define RSRC_FUNCLET_SET_RTC 344    
                             2777 ; 934  |//$FILENAME Funclet_InitRTC.src
                             2778 ; 935  |#define RSRC_FUNCLET_INIT_RTC 345    
                             2779 ; 936  |//$FILENAME Funclet_ReadRTC.src
                             2780 ; 937  |#define RSRC_FUNCLET_READ_RTC 346    
                             2781 ; 938  |//$FILENAME Funclet_SysResetAllInt.src
                             2782 ; 939  |#define RSRC_FUNCLET_SYSRESETALLINT 347    
                             2783 ; 940  |//$FILENAME Funclet_SysSetupDecVec.src
                             2784 ; 941  |#define RSRC_FUNCLET_SYSSETUPDECVEC 348    
                             2785 ; 942  |//$FILENAME Funclet_SysSetupEncVec.src
                             2786 ; 943  |#define RSRC_FUNCLET_SYSSETUPENCVEC 349    
                             2787 ; 944  |//$FILENAME Funclet_SysTimeInit.src
                             2788 ; 945  |#define RSRC_FUNCLET_SYSTIMEINIT 350    
                             2789 ; 946  |//$FILENAME Funclet_AnalogInit.src
                             2790 ; 947  |#define RSRC_FUNCLET_ANALOGINIT 351    
                             2791 ; 948  |//$FILENAME Funclet_UsbConnected.src
                             2792 ; 949  |#define RSRC_FUNCLET_USBCONNECTED 352    
                             2793 ; 950  |//$FILENAME Funclet_ButtonInit.src
                             2794 ; 951  |#define RSRC_FUNCLET_BUTTONINIT 353    
                             2795 ; 952  |//$FILENAME Funclet_PowerUpHeadPhones.src
                             2796 ; 953  |#define RSRC_FUNCLET_POWERUPHEADPHONES 354    
                             2797 ; 954  |//$FILENAME Funclet_PowerDownHeadPhones.src
                             2798 ; 955  |#define RSRC_FUNCLET_POWERDOWNHEADPHONES 355    
                             2799 ; 956  |//$FILENAME Funclet_StartProject.src
                             2800 ; 957  |#define RSRC_FUNCLET_STARTPROJECT 356    
                             2801 ; 958  |//$FILENAME Funclet_ModuleSetTimer.src
                             2802 ; 959  |#define RSRC_FUNCLET_MODULESETTIMER 357    
                             2803 ; 960  |//$FILENAME null.src
                             2804 ; 961  |#define RSRC_FUNCLET_MEDIADETECTION 358    
                             2805 ; 962  |//$FILENAME Funclet_SysStopDecoder.src
                             2806 ; 963  |#define RSRC_FUNCLET_SYSSTOPDECODER 359    
                             2807 ; 964  |//$FILENAME Funclet_SysStopEncoder.src
                             2808 ; 965  |#define RSRC_FUNCLET_SYSSTOPENCODER 360    
                             2809 ; 966  |//$FILENAME Funclet_SysSetDecoder.src
                             2810 ; 967  |#define RSRC_FUNCLET_SYSSETDECODER 361    
                             2811 ; 968  |//$FILENAME Funclet_SysSetEncoder.src
                             2812 ; 969  |#define RSRC_FUNCLET_SYSSETENCODER 362    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  12

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2813 ; 970  |//$FILENAME null.src
                             2814 ; 971  |#define RSRC_FUNCLET_PROCESSPT 363    
                             2815 ; 972  |//$FILENAME Funclet_DisplaySplashScreen.src
                             2816 ; 973  |#define RSRC_FUNCLET_DISPLAYSPLASHSCREEN 364    
                             2817 ; 974  |//$FILENAME Funclet_SysGetVolume.src
                             2818 ; 975  |#define RSRC_FUNCLET_SYSGETVOLUME 365    
                             2819 ; 976  |//$FILENAME null.src
                             2820 ; 977  |#define RSRC_FUNCLET_MMCENUMERATEPHYSICALDEVICE 366    
                             2821 ; 978  |//$FILENAME null.src
                             2822 ; 979  |#define RSRC_FUNCLET_RESETDEVICE 367    
                             2823 ; 980  |//$FILENAME null.src
                             2824 ; 981  |#define RSRC_FUNCLET_PROCESSCSD 368    
                             2825 ; 982  |//$FILENAME null.src
                             2826 ; 983  |#define RSRC_FUNCLET_PROCESSPARTITION 369    
                             2827 ; 984  |//$FILENAME null.src
                             2828 ; 985  |#define RSRC_FUNCLET_PARTITIONENTRYCOPY 370    
                             2829 ; 986  |//$FILENAME Funclet_MixerMasterFadeOut.src
                             2830 ; 987  |#define RSRC_FUNCLET_MIXER_MASTER_FADE_OUT 371    
                             2831 ; 988  |//$FILENAME Funclet_MixerMasterFadeIn.src
                             2832 ; 989  |#define RSRC_FUNCLET_MIXER_MASTER_FADE_IN 372    
                             2833 ; 990  |//$FILENAME Funclet_EncSetProperties.src
                             2834 ; 991  |#define RSRC_FUNCLET_ENCSETPROPERTIES 373    
                             2835 ; 992  |//$FILENAME null.src
                             2836 ; 993  |#define RSRC_FUNCLET_DOESMBREXIST 374    
                             2837 ; 994  |//$FILENAME null.src
                             2838 ; 995  |#define RSRC_FUNCLET_EXTRACTPARTITIONPARAMETERS 375    
                             2839 ; 996  |//$FILENAME Funclet_SaveSettings.src
                             2840 ; 997  |#define RSRC_FUNCLET_SYSSAVESETTINGS 376    
                             2841 ; 998  |//$FILENAME Funclet_LoadSettings.src
                             2842 ; 999  |#define RSRC_FUNCLET_SYSLOADSETTINGS 377    
                             2843 ; 1000 |///////////////////////////////////////////////////////////////
                             2844 ; 1001 |// Sanyo FM Tuner Fuclet
                             2845 ; 1002 |///////////////////////////////////////////////////////////////
                             2846 ; 1003 |//RSRC_FUNCLET_TUNER_DRIVER_INIT    equ      334    ;$FILENAME Funclet_TunerDriverInit.src
                             2847 ; 1004 |//RSRC_FUNCLET_TUNER_SCAN_STATIONS    equ      335    ;$FILENAME Funclet_TunerScanStations.src
                             2848 ; 1005 |//RSRC_FUNCLET_TUNER_SET_TO_PRESET    equ      336    ;$FILENAME Funclet_TunerSetToPreset.src
                             2849 ; 1006 |//RSRC_FUNCLET_TUNER_SET_MONO_STEREO    equ      337    ;$FILENAME Funclet_TunerSetMonoStereo.src
                             2850 ; 1007 |//RSRC_FUNCLET_TUNER_SET_STANDBY    equ      338    ;$FILENAME Funclet_TunerSetStandby.src
                             2851 ; 1008 |//RSRC_FUNCLET_TUNER_SET_PRESET    equ      339    ;$FILENAME Funclet_TunerSetPreset.src
                             2852 ; 1009 |//RSRC_FUNCLET_TUNER_ERASE_PRESET    equ      340    ;$FILENAME Funclet_TunerErasePreset.src
                             2853 ; 1010 |//RSRC_FUNCLET_TUNER_SET_IF    equ      341    ;$FILENAME Funclet_TunerSetIf.src
                             2854 ; 1011 |//RSRC_FUNCLET_TUNER_WRITE_IF_OSC    equ      342    ;$FILENAME Funclet_TunerWriteIfOSc.src
                             2855 ; 1012 |//RSRC_FUNCLET_TUNER_GET_FIELD_STRENGTH    equ      343    ;$FILENAME Funclet_TunerGetFieldStrength.src
                             2856 ; 1013 |//RSRC_FUNCLET_TUNER_INIT_RF_CAP_OSC    equ      344    ;$FILENAME Funclet_TunerInitRfCapOsc.src
                             2857 ; 1014 |//RSRC_FUNCLET_TUNER_STORE_FM_STATION    equ      345    ;$FILENAME Funclet_TunerStoreFmStation.src
                             2858 ; 1015 |//RSRC_FUNCLET_TUNER_STORE_FM_PRESET    equ      346    ;$FILENAME Funclet_TunerStoreFmPreset.src
                             2859 ; 1016 |//RSRC_FUNCLET_TUNER_SET_REGION    equ      347    ;$FILENAME Funclet_TunerSetRegion.src
                             2860 ; 1017 |
                             2861 ; 1018 |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2862 ; 1019 |// WMA Resources
                             2863 ; 1020 |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2864 ; 1021 |//$FILENAME wmaCore.src
                             2865 ; 1022 |#define RSRC_WMA_CORE 378    
                             2866 ; 1023 |//$FILENAME wmaMidLow.src
                             2867 ; 1024 |#define RSRC_WMA_MIDLOW 379    
                             2868 ; 1025 |//$FILENAME wmaHigh.src
                             2869 ; 1026 |#define RSRC_WMA_HIGH 380    
                             2870 ; 1027 |//$FILENAME wmaHighMid.src
                             2871 ; 1028 |#define RSRC_WMA_HIGHMID 381    
                             2872 ; 1029 |//$FILENAME wmaMid.src
                             2873 ; 1030 |#define RSRC_WMA_MID 382    
                             2874 ; 1031 |//$FILENAME wmaLow.src
                             2875 ; 1032 |#define RSRC_WMA_LOW 383    
                             2876 ; 1033 |//$FILENAME wmaX1mem.src
                             2877 ; 1034 |#define RSRC_WMA_DATA_X1 384    
                             2878 ; 1035 |//$FILENAME wmaYmem.src
                             2879 ; 1036 |#define RSRC_WMA_DATA_Y 385    
                             2880 ; 1037 |//$FILENAME wmaLXmem.src
                             2881 ; 1038 |#define RSRC_WMA_DATA_L_X 386    
                             2882 ; 1039 |//$FILENAME wmaLYmem.src
                             2883 ; 1040 |#define RSRC_WMA_DATA_L_Y 387    
                             2884 ; 1041 |//$FILENAME wmaHuff44Qb.src
                             2885 ; 1042 |#define RSRC_WMA_HUFF44QB 388    
                             2886 ; 1043 |//$FILENAME wmaHuff44Ob.src
                             2887 ; 1044 |#define RSRC_WMA_HUFF44OB 389    
                             2888 ; 1045 |//$FILENAME wmaHuff16Ob.src
                             2889 ; 1046 |#define RSRC_WMA_HUFF16OB 390    
                             2890 ; 1047 |//$FILENAME drmpdcommon.src
                             2891 ; 1048 |#define RSRC_DRMPD_COMMON 391    
                             2892 ; 1049 |//$FILENAME januswmasupport.src
                             2893 ; 1050 |#define RSRC_JANUS_WMASUPPORT 392    
                             2894 ; 1051 |//$FILENAME wmalicenseinit.src
                             2895 ; 1052 |#define RSRC_WMA_LICENSEINIT 393    
                             2896 ; 1053 |//$FILENAME wma_tables.src
                             2897 ; 1054 |#define RSRC_WMA_TABLES 394    
                             2898 ; 1055 |//$FILENAME janus_tables.src
                             2899 ; 1056 |#define RSRC_JANUS_TABLES 395    
                             2900 ; 1057 |//$FILENAME wma_constants.src
                             2901 ; 1058 |#define RSRC_WMA_CONSTANTS 396    
                             2902 ; 1059 |//$FILENAME janus_constants.src
                             2903 ; 1060 |#define RSRC_JANUS_CONSTANTS 397    
                             2904 ; 1061 |//$FILENAME janus_xmem.src
                             2905 ; 1062 |#define RSRC_JANUS_X 398    
                             2906 ; 1063 |//$FILENAME janusy_data.src
                             2907 ; 1064 |#define RSRC_JANUSY_DATA 399    
                             2908 ; 1065 |
                             2909 ; 1066 |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2910 ; 1067 |// Fonts -- these are last because they are very large
                             2911 ; 1068 |////////////////////////////////////////////////////////////////////////////////////////////////////
                             2912 ; 1069 |//$FILENAME font_table.src
                             2913 ; 1070 |#define RSRC_FONT_TABLE 400    
                             2914 ; 1071 |//$FILENAME font_PGM.src
                             2915 ; 1072 |#define RSRC_PGM_8 401    
                             2916 ; 1073 |//$FILENAME font_SGMs.src
                             2917 ; 1074 |#define RSRC_SGMS_8 402    
                             2918 ; 1075 |//$FILENAME font_script_00.src
                             2919 ; 1076 |#define RSRC_SCRIPT_00_8 403    
                             2920 ; 1077 |//$FILENAME font_scripts.src
                             2921 ; 1078 |#define RSRC_SCRIPTS_8 404    
                             2922 ; 1079 |//$FILENAME font_PDM.src
                             2923 ; 1080 |#define RSRC_PDM 405    
                             2924 ; 1081 |//$FILENAME font_SDMs.src
                             2925 ; 1082 |#define RSRC_SDMS 406    
                             2926 ; 1083 |//$FILENAME bitmap_warning.src
                             2927 ; 1084 |#define RSRC_WARNING 407    
                             2928 ; 1085 |//$FILENAME bitmap_device_full.src
                             2929 ; 1086 |#define RSRC_DEVICE_FULL 408    
                             2930 ; 1087 |
                             2931 ; 1088 |
                             2932 ; 1089 |//$FILENAME lcd_controller_init.src
                             2933 ; 1090 |#define RSRC_LCD_INIT_SEQ 409    
                             2934 ; 1091 |
                             2935 ; 1092 |//$FILENAME Funclet_DBCSToUnicode.src
                             2936 ; 1093 |#define RSRC_FUNCLET_DBCS_TO_UNICODE 410    
                             2937 ; 1094 |//$FILENAME Funclet_DBCSToUnicodeDstXSrcY.src
                             2938 ; 1095 |#define RSRC_FUNCLET_DBCS_TO_UNICODE_DSTX_SRCY 411    
                             2939 ; 1096 |//$FILENAME Funclet_LCDSetFont.src
                             2940 ; 1097 |#define RSRC_FUNCLET_SET_FONT 412    
                             2941 ; 1098 |//$FILENAME Funclet_GetTextWidthAddressUnicode.src
                             2942 ; 1099 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_ADDRESS_UNICODE 413    
                             2943 ; 1100 |//$FILENAME Funclet_GetTextWidthResourceUnicode.src
                             2944 ; 1101 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_RESOURCE_UNICODE 414    
                             2945 ; 1102 |//$FILENAME Funclet_GetTextWidthAddressDBCS.src
                             2946 ; 1103 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_ADDRESS_DBCS 415    
                             2947 ; 1104 |//$FILENAME Funclet_GetTextWidthResourceDBCS.src
                             2948 ; 1105 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_RESOURCE_DBCS 416    
                             2949 ; 1106 |//$FILENAME Funclet_ChipSerialNumberInit.src
                             2950 ; 1107 |#define RSRC_FUNCLET_CHIPSERIALNUMBERINIT 417    
                             2951 ; 1108 |//$FILENAME Funclet_InternalMediaSerialNumberInit.src
                             2952 ; 1109 |#define RSRC_FUNCLET_INTERNALMEDIASERIALNUMBERINIT 418    
                             2953 ; 1110 |//$FILENAME Funclet_ChipGetSerialNumber.src
                             2954 ; 1111 |#define RSRC_FUNCLET_CHIPGETSERIALNUMBER 419    
                             2955 ; 1112 |//$FILENAME Funclet_CreateNullSerialNumber.src
                             2956 ; 1113 |#define RSRC_FUNCLET_CREATENULLSERIALNUMBER 420    
                             2957 ; 1114 |//$FILENAME Funclet_ConvertHexToASCII.src
                             2958 ; 1115 |#define RSRC_FUNCLET_CONVERTHEXTOASCII 421    
                             2959 ; 1116 |//$FILENAME Funclet_LowResolutionAdcInit.src
                             2960 ; 1117 |#define RSRC_FUNCLET_LOWRESOLUTIONADCINIT 422    
                             2961 ; 1118 |
                             2962 ; 1119 |
                             2963 ; 1120 |//$FILENAME sysrecord.src
                             2964 ; 1121 |#define RSRC_SYSRECORD_CODE 423    
                             2965 ; 1122 |
                             2966 ; 1123 |//$FILENAME string_record_settings.src
                             2967 ; 1124 |#define RSRC_STRING_RECORD_SETTINGS 424    
                             2968 ; 1125 |//$FILENAME string_sample_rate.src
                             2969 ; 1126 |#define RSRC_STRING_SAMPLE_RATE 425    
                             2970 ; 1127 |//$FILENAME string_encoder.src
                             2971 ; 1128 |#define RSRC_STRING_ENCODER 426    
                             2972 ; 1129 |//$FILENAME string_adpcm.src
                             2973 ; 1130 |#define RSRC_STRING_ADPCM 427    
                             2974 ; 1131 |//$FILENAME string_msadpcm.src
                             2975 ; 1132 |#define RSRC_STRING_MSADPCM 428    
                             2976 ; 1133 |//$FILENAME string_imadpcm.src
                             2977 ; 1134 |#define RSRC_STRING_IMADPCM 429    
                             2978 ; 1135 |//$FILENAME string_pcm.src
                             2979 ; 1136 |#define RSRC_STRING_PCM 430    
                             2980 ; 1137 |//$FILENAME string_internal.src
                             2981 ; 1138 |#define RSRC_STRING_INTERNAL 431    
                             2982 ; 1139 |//$FILENAME string_external.src
                             2983 ; 1140 |#define RSRC_STRING_EXTERNAL 432    
                             2984 ; 1141 |//$FILENAME string_device.src
                             2985 ; 1142 |#define RSRC_STRING_DEVICE 433    
                             2986 ; 1143 |//$FILENAME string_source.src
                             2987 ; 1144 |#define RSRC_STRING_SOURCE 434    
                             2988 ; 1145 |//$FILENAME string_microphone.src
                             2989 ; 1146 |#define RSRC_STRING_MICROPHONE 435    
                             2990 ; 1147 |//$FILENAME string_linein.src
                             2991 ; 1148 |#define RSRC_STRING_LINEIN 436    
                             2992 ; 1149 |//$FILENAME string_bits.src
                             2993 ; 1150 |#define RSRC_STRING_BITS 437    
                             2994 ; 1151 |//$FILENAME string_4.src
                             2995 ; 1152 |#define RSRC_STRING_4 438    
                             2996 ; 1153 |//$FILENAME string_8.src
                             2997 ; 1154 |#define RSRC_STRING_8 439    
                             2998 ; 1155 |//$FILENAME string_16.src
                             2999 ; 1156 |#define RSRC_STRING_16 440    
                             3000 ; 1157 |//$FILENAME string_24.src
                             3001 ; 1158 |#define RSRC_STRING_24 441    
                             3002 ; 1159 |//$FILENAME string_fm.src
                             3003 ; 1160 |#define RSRC_STRING_FM 442    
                             3004 ; 1161 |//$FILENAME string_mono.src
                             3005 ; 1162 |#define RSRC_STRING_MONO 443    
                             3006 ; 1163 |//$FILENAME string_stereo.src
                             3007 ; 1164 |#define RSRC_STRING_STEREO 444    
                             3008 ; 1165 |//$FILENAME string_8000hz.src
                             3009 ; 1166 |#define RSRC_STRING_8000HZ 445    
                             3010 ; 1167 |//$FILENAME string_11025hz.src
                             3011 ; 1168 |#define RSRC_STRING_11025HZ 446    
                             3012 ; 1169 |//$FILENAME string_16000hz.src
                             3013 ; 1170 |#define RSRC_STRING_16000HZ 447    
                             3014 ; 1171 |//$FILENAME string_22050hz.src
                             3015 ; 1172 |#define RSRC_STRING_22050HZ 448    
                             3016 ; 1173 |//$FILENAME string_32000hz.src
                             3017 ; 1174 |#define RSRC_STRING_32000HZ 449    
                             3018 ; 1175 |//$FILENAME string_44100hz.src
                             3019 ; 1176 |#define RSRC_STRING_44100HZ 450    
                             3020 ; 1177 |//$FILENAME string_48000hz.src
                             3021 ; 1178 |#define RSRC_STRING_48000HZ 451    
                             3022 ; 1179 |//$FILENAME string_channels.src
                             3023 ; 1180 |#define RSRC_STRING_CHANNELS 452    
                             3024 ; 1181 |//$FILENAME string_spaces.src
                             3025 ; 1182 |#define RSRC_STRING_SPACES 453    
                             3026 ; 1183 |//$FILENAME slider_bar.src
                             3027 ; 1184 |#define RSRC_SLIDER_BAR 454    
                             3028 ; 1185 |//$FILENAME slider_bar_inv.src
                             3029 ; 1186 |#define RSRC_SLIDER_BAR_INV 455    
                             3030 ; 1187 |//$FILENAME slider_track.src
                             3031 ; 1188 |#define RSRC_SLIDER_TRACK 456    
                             3032 ; 1189 |//$FILENAME string_no_files.src
                             3033 ; 1190 |#define RSRC_STRING_NO_FILES 457    
                             3034 ; 1191 |
                             3035 ; 1192 |/////////////////////////////////////////////////////////////////////
                             3036 ; 1193 |//  Time and Date Resource Strings
                             3037 ; 1194 |/////////////////////////////////////////////////////////////////////
                             3038 ; 1195 |//$FILENAME string_sunday.src
                             3039 ; 1196 |#define RSRC_STRING_SUNDAY 458    
                             3040 ; 1197 |//$FILENAME string_monday.src
                             3041 ; 1198 |#define RSRC_STRING_MONDAY 459    
                             3042 ; 1199 |//$FILENAME string_tuesday.src
                             3043 ; 1200 |#define RSRC_STRING_TUESDAY 460    
                             3044 ; 1201 |//$FILENAME string_wednesday.src
                             3045 ; 1202 |#define RSRC_STRING_WEDNESDAY 461    
                             3046 ; 1203 |//$FILENAME string_thursday.src
                             3047 ; 1204 |#define RSRC_STRING_THURSDAY 462    
                             3048 ; 1205 |//$FILENAME string_friday.src
                             3049 ; 1206 |#define RSRC_STRING_FRIDAY 463    
                             3050 ; 1207 |//$FILENAME string_saturday.src
                             3051 ; 1208 |#define RSRC_STRING_SATURDAY 464    
                             3052 ; 1209 |//$FILENAME string_am.src
                             3053 ; 1210 |#define RSRC_STRING_AM 465    
                             3054 ; 1211 |//$FILENAME string_pm.src
                             3055 ; 1212 |#define RSRC_STRING_PM 466    
                             3056 ; 1213 |//$FILENAME string_amclear.src
                             3057 ; 1214 |#define RSRC_STRING_AMCLEAR 467    
                             3058 ; 1215 |//$FILENAME string_slash.src
                             3059 ; 1216 |#define RSRC_STRING_SLASH 468    
                             3060 ; 1217 |//$FILENAME string_colon.src
                             3061 ; 1218 |#define RSRC_STRING_COLON 469    
                             3062 ; 1219 |//$FILENAME string_12hour.src
                             3063 ; 1220 |#define RSRC_STRING_12HOUR 470    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  13

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3064 ; 1221 |//$FILENAME string_24hour.src
                             3065 ; 1222 |#define RSRC_STRING_24HOUR 471    
                             3066 ; 1223 |//$FILENAME string_format.src
                             3067 ; 1224 |#define RSRC_STRING_FORMAT 472    
                             3068 ; 1225 |//$FILENAME string_mmddyyyy.src
                             3069 ; 1226 |#define RSRC_STRING_MMDDYYYY 473    
                             3070 ; 1227 |//$FILENAME string_ddmmyyyy.src
                             3071 ; 1228 |#define RSRC_STRING_DDMMYYYY 474    
                             3072 ; 1229 |//$FILENAME string_yyyymmdd.src
                             3073 ; 1230 |#define RSRC_STRING_YYYYMMDD 475    
                             3074 ; 1231 |//$FILENAME string_ok.src
                             3075 ; 1232 |#define RSRC_STRING_OK 476    
                             3076 ; 1233 |//$FILENAME string_cancel.src
                             3077 ; 1234 |#define RSRC_STRING_CANCEL 477    
                             3078 ; 1235 |//$FILENAME negative_sign.src
                             3079 ; 1236 |#define RSRC_NEGATIVE_SIGN 478    
                             3080 ; 1237 |//$FILENAME string_dec_pt5.src
                             3081 ; 1238 |#define RSRC_DEC_PT5_STRING 479    
                             3082 ; 1239 |//$FILENAME string_dec_pt0.src
                             3083 ; 1240 |#define RSRC_DEC_PT0_STRING 480    
                             3084 ; 1241 |//$FILENAME string_db.src
                             3085 ; 1242 |#define RSRC_DB_STRING 481    
                             3086 ; 1243 |//$FILENAME string_hz2.src
                             3087 ; 1244 |#define RSRC_HZ2_STRING 482    
                             3088 ; 1245 |
                             3089 ; 1246 |
                             3090 ; 1247 |//$FILENAME record_settings_menu_code_bank.src
                             3091 ; 1248 |#define RSRC_RECORD_SETTINGS_MENU_CODE_BANK 483    
                             3092 ; 1249 |//$FILENAME metadata_codebank.src
                             3093 ; 1250 |#define RSRC_METADATA_CODEBANK 484    
                             3094 ; 1251 |//$FILENAME mp3metadata_codebank.src
                             3095 ; 1252 |#define RSRC_MP3_METADATA_CODEBANK 485    
                             3096 ; 1253 |//$FILENAME wmametadata_codebank.src
                             3097 ; 1254 |#define RSRC_WMA_METADATA_CODEBANK 486    
                             3098 ; 1255 |//$FILENAME wavmetadata_codebank.src
                             3099 ; 1256 |#define RSRC_WAV_METADATA_CODEBANK 487    
                             3100 ; 1257 |//$FILENAME smvmetadata_codebank.src
                             3101 ; 1258 |#define RSRC_SMV_METADATA_CODEBANK 488    
                             3102 ; 1259 |//$FILENAME playlist2init_codebank.src
                             3103 ; 1260 |#define RSRC_PLAYLIST2INIT_CODEBANK 489    
                             3104 ; 1261 |
                             3105 ; 1262 |//$FILENAME delete_successful.src
                             3106 ; 1263 |#define RSRC_DELETE_SUCCESSFUL 490    
                             3107 ; 1264 |//$FILENAME delete_error.src
                             3108 ; 1265 |#define RSRC_DELETE_ERROR 491    
                             3109 ; 1266 |//$FILENAME lic_expired.src
                             3110 ; 1267 |#define RSRC_LIC_EXPIRED 492    
                             3111 ; 1268 |//$FILENAME id3v2_codebank.src
                             3112 ; 1269 |#define RSRC_ID3V2_CODEBANK 493    
                             3113 ; 1270 |//$FILENAME id3v2lyrics_codebank.src
                             3114 ; 1271 |#define RSRC_ID3V2_LYRICS_CODEBANK 494    
                             3115 ; 1272 |//$FILENAME lyrics3_codebank.src
                             3116 ; 1273 |#define RSRC_LYRICS3_CODEBANK 495    
                             3117 ; 1274 |//$FILENAME lrc_codebank.src
                             3118 ; 1275 |#define RSRC_LRC_CODEBANK 496    
                             3119 ; 1276 |//$FILENAME lyrics_api_codebank.src
                             3120 ; 1277 |#define RSRC_LYRICS_API_CODEBANK 497    
                             3121 ; 1278 |//$FILENAME wmalyrics_codebank.src
                             3122 ; 1279 |#define RSRC_WMA_LYRICS_CODEBANK 498    
                             3123 ; 1280 |//$FILENAME apicframe_codebank.src
                             3124 ; 1281 |#define RSRC_APIC_FRAME_CODEBANK 499    
                             3125 ; 1282 |
                             3126 ; 1283 |//$FILENAME exmediaerror1.src
                             3127 ; 1284 |#define RSRC_EXTERNAL_MEDIA_ERROR1 500    
                             3128 ; 1285 |//$FILENAME exmediaerror2.src
                             3129 ; 1286 |#define RSRC_EXTERNAL_MEDIA_ERROR2 501    
                             3130 ; 1287 |//$FILENAME inmediaerror1.src
                             3131 ; 1288 |#define RSRC_INTERNAL_MEDIA_ERROR1 502    
                             3132 ; 1289 |
                             3133 ; 1290 |//$FILENAME backlight_title.src
                             3134 ; 1291 |#define RSRC_BACKLIGHT_TITLE 503    
                             3135 ; 1292 |//$FILENAME backlight_state_on.src
                             3136 ; 1293 |#define RSRC_BACKLIGHT_STATE_ON 504    
                             3137 ; 1294 |//$FILENAME backlight_state_off.src
                             3138 ; 1295 |#define RSRC_BACKLIGHT_STATE_OFF 505    
                             3139 ; 1296 |//$FILENAME backlightmenu.src
                             3140 ; 1297 |#define RSRC_BACKLIGHT_MENU_CODE_BANK 506    
                             3141 ; 1298 |//$FILENAME string_backlight_menu.src
                             3142 ; 1299 |#define RSRC_STRING_BACKLIGHT_MENU 507    
                             3143 ; 1300 |
                             3144 ; 1301 |//$FILENAME enc_mp3mod.src
                             3145 ; 1302 |#define RSRC_ENC_MP3_MOD_CODE 508    
                             3146 ; 1303 |//$FILENAME enc_mp3p.src
                             3147 ; 1304 |#define RSRC_ENC_MP3P_CODE 509    
                             3148 ; 1305 |//$FILENAME enc_mp3x.src
                             3149 ; 1306 |#define RSRC_ENC_MP3X_CODE 510    
                             3150 ; 1307 |//$FILENAME enc_mp3y.src
                             3151 ; 1308 |#define RSRC_ENC_MP3Y_CODE 511    
                             3152 ; 1309 |//$FILENAME mp3_implementation.src
                             3153 ; 1310 |#define RSRC_MP3_IMPLEMENTATION 512    
                             3154 ; 1311 |//$FILENAME string_mp3.src
                             3155 ; 1312 |#define RSRC_STRING_MP3 513    
                             3156 ; 1313 |//$FILENAME string_all.src
                             3157 ; 1314 |#define RSRC_STRING_ALL 514    
                             3158 ; 1315 |
                             3159 ; 1316 |//$FILENAME mediastartup.src
                             3160 ; 1317 |#define RSRC_NANDMEDIAINIT 515    
                             3161 ; 1318 |#define RSRC_NANDMEDIAALLOCATE 0
                             3162 ; 1319 |#define RSRC_NANDMEDIADISCOVERALLOCATION 0
                             3163 ; 1320 |#define RSRC_NANDMEDIAGETMEDIATABLE RSRC_NANDMEDIAINIT
                             3164 ; 1321 |#define RSRC_NANDMEDIAGETINFO RSRC_NANDMEDIAINIT
                             3165 ; 1322 |#define RSRC_NANDMEDIAERASE 0
                             3166 ; 1323 |
                             3167 ; 1324 |//$FILENAME nanddatadriveinit.src
                             3168 ; 1325 |#define RSRC_NANDDATADRIVEINIT 516    
                             3169 ; 1326 |#define RSRC_NANDDATADRIVEGETINFO RSRC_NANDDATADRIVEREADSECTOR
                             3170 ; 1327 |#define RSRC_NANDDATADRIVESETINFO 0
                             3171 ; 1328 |//$FILENAME nanddatadrivereadsector.src
                             3172 ; 1329 |#define RSRC_NANDDATADRIVEREADSECTOR 517    
                             3173 ; 1330 |#define RSRC_NANDDATADRIVEWRITESECTOR RSRC_NANDDATADRIVEREADSECTOR
                             3174 ; 1331 |#define RSRC_NANDDATADRIVEDUMBMULTIWRITESETUP 0
                             3175 ; 1332 |#define RSRC_NANDDATADRIVEDUMBMULTIWRITESECTOR 0
                             3176 ; 1333 |#define RSRC_NANDDATADRIVECACHEMULTIWRITESETUP 0
                             3177 ; 1334 |#define RSRC_NANDDATADRIVECACHEMULTIWRITESECTOR 0
                             3178 ; 1335 |#define RSRC_NANDDATADRIVEERASE 0
                             3179 ; 1336 |#define RSRC_NANDDATADRIVEFLUSH RSRC_NANDDATADRIVEREADSECTOR
                             3180 ; 1337 |
                             3181 ; 1338 |#define RSRC_NANDSYSTEMDRIVEINIT RSRC_NANDMEDIAINIT
                             3182 ; 1339 |#define RSRC_NANDSYSTEMDRIVEGETINFO RSRC_NANDMEDIAINIT
                             3183 ; 1340 |#define RSRC_NANDSYSTEMDRIVESETINFO 0
                             3184 ; 1341 |#define RSRC_NANDSYSTEMDRIVEREADSECTOR 0
                             3185 ; 1342 |#define RSRC_NANDSYSTEMDRIVEWRITESECTOR 0
                             3186 ; 1343 |#define RSRC_NANDSYSTEMDRIVEMULTIWRITESETUP 0
                             3187 ; 1344 |#define RSRC_NANDSYSTEMDRIVEMULTIWRITESECTOR 0
                             3188 ; 1345 |#define RSRC_NANDSYSTEMDRIVEERASE 0
                             3189 ; 1346 |#define RSRC_NANDSYSTEMDRIVEFLUSH 0
                             3190 ; 1347 |
                             3191 ; 1348 |//$FILENAME vbr_codebank.src
                             3192 ; 1349 |#define RSRC_VBR_CODEBANK 518    
                             3193 ; 1350 |
                             3194 ; 1351 |//$FILENAME string_recordtest_menu.src
                             3195 ; 1352 |#define RSRC_STRING_RECORDTEST_MENU 519    
                             3196 ; 1353 |//$FILENAME string_recordtest_duration.src
                             3197 ; 1354 |#define RSRC_STRING_DURATION 520    
                             3198 ; 1355 |//$FILENAME string_recordtest_time5.src
                             3199 ; 1356 |#define RSRC_STRING_TIME5 521    
                             3200 ; 1357 |//$FILENAME string_recordtest_time10.src
                             3201 ; 1358 |#define RSRC_STRING_TIME10 522    
                             3202 ; 1359 |//$FILENAME string_recordtest_time30.src
                             3203 ; 1360 |#define RSRC_STRING_TIME30 523    
                             3204 ; 1361 |//$FILENAME string_recordtest_time60.src
                             3205 ; 1362 |#define RSRC_STRING_TIME60 524    
                             3206 ; 1363 |//$FILENAME string_recordtest_time300.src
                             3207 ; 1364 |#define RSRC_STRING_TIME300 525    
                             3208 ; 1365 |//$FILENAME string_recordtest_time600.src
                             3209 ; 1366 |#define RSRC_STRING_TIME600 526    
                             3210 ; 1367 |
                             3211 ; 1368 |//$FILENAME test_title.src
                             3212 ; 1369 |#define RSRC_TEST_TITLE 527    
                             3213 ; 1370 |//$FILENAME testmenu.src
                             3214 ; 1371 |#define RSRC_TEST_MENU_CODE_BANK 528    
                             3215 ; 1372 |
                             3216 ; 1373 |
                             3217 ; 1374 |//$FILENAME mmcmediastartup.src
                             3218 ; 1375 |#define RSRC_MMCDATADRIVEINIT 529    
                             3219 ; 1376 |#define RSRC_MMCMEDIAALLOCATE RSRC_MMCDATADRIVEINIT
                             3220 ; 1377 |#define RSRC_MMCMEDIADISCOVERALLOCATION RSRC_MMCDATADRIVEINIT
                             3221 ; 1378 |//$FILENAME mmcinfo.src
                             3222 ; 1379 |#define RSRC_MMCMEDIAGETINFO 530    
                             3223 ; 1380 |#define RSRC_MMCMEDIAGETMEDIATABLE RSRC_MMCMEDIAGETINFO
                             3224 ; 1381 |//$FILENAME mmcerase.src
                             3225 ; 1382 |#define RSRC_MMCMEDIAERASE 531    
                             3226 ; 1383 |
                             3227 ; 1384 |
                             3228 ; 1385 |#define RSRC_MMCDATADRIVEFLUSH RSRC_MMCDATADRIVEINIT
                             3229 ; 1386 |
                             3230 ; 1387 |//$FILENAME mmcenumerate.src
                             3231 ; 1388 |#define RSRC_MMCENUMERATE 532    
                             3232 ; 1389 |//$FILENAME mmcresetdevice.src
                             3233 ; 1390 |#define RSRC_MMC_RESETDEVICE 533    
                             3234 ; 1391 |//$FILENAME mmcprocesscsd.src
                             3235 ; 1392 |#define RSRC_MMC_PROCESSCSD 534    
                             3236 ; 1393 |//$FILENAME mmcprocesscid.src
                             3237 ; 1394 |#define RSRC_MMC_PROCESSCID 535    
                             3238 ; 1395 |//$FILENAME mmcprocesscid2.src
                             3239 ; 1396 |#define RSRC_FUNCLET_MMCPROCESSCID2 536    
                             3240 ; 1397 |//$FILENAME mmcdetectpresence.src
                             3241 ; 1398 |#define RSRC_MMC_DETECTPRESENCE 537    
                             3242 ; 1399 |//$FILENAME mmcserialnumberinit.src
                             3243 ; 1400 |#define RSRC_MMCSERIALNUMBERINIT 538    
                             3244 ; 1401 |//$FILENAME mmccheckwriteprotect.src
                             3245 ; 1402 |#define RSRC_MMC_CHECKWRITEPROTECT 539    
                             3246 ; 1403 |
                             3247 ; 1404 |//$FILENAME mmcread.src
                             3248 ; 1405 |#define RSRC_MMCDATADRIVEREADSECTOR 540    
                             3249 ; 1406 |//$FILENAME mmcmediainit.src
                             3250 ; 1407 |#define RSRC_MMCMEDIAINIT 541    
                             3251 ; 1408 |//$FILENAME mmcdatadriveinfo.src
                             3252 ; 1409 |#define RSRC_MMCDATADRIVESETINFO 542    
                             3253 ; 1410 |#define RSRC_MMCDATADRIVEGETINFO RSRC_MMCDATADRIVESETINFO
                             3254 ; 1411 |//$FILENAME mmcdatadriveerase.src
                             3255 ; 1412 |#define RSRC_MMCDATADRIVEERASE 543    
                             3256 ; 1413 |
                             3257 ; 1414 |#define RSRC_MMCDATADRIVEWRITESECTOR RSRC_MMCDATADRIVEREADSECTOR
                             3258 ; 1415 |#define RSRC_MMCDATADRIVEMULTIWRITESETUP RSRC_MMCDATADRIVEWRITESECTOR
                             3259 ; 1416 |#define RSRC_MMCDATADRIVEMULTIWRITESECTOR RSRC_MMCDATADRIVEWRITESECTOR
                             3260 ; 1417 |
                             3261 ; 1418 |
                             3262 ; 1419 |/////////////////////////////////////////////////////////////////////////////////
                             3263 ; 1420 |//  File system
                             3264 ; 1421 |/////////////////////////////////////////////////////////////////////////////////
                             3265 ; 1422 |//$FILENAME arrangefilename.src
                             3266 ; 1423 |#define RSRC_FUNCLET_ARRANGEFILENAME 544    
                             3267 ; 1424 |//$FILENAME clearcluster.src
                             3268 ; 1425 |#define RSRC_FUNCLET_CLEARCLUSTER 545    
                             3269 ; 1426 |//$FILENAME createdirectory.src
                             3270 ; 1427 |#define RSRC_FUNCLET_CREATEDIRECTORY 546    
                             3271 ; 1428 |//$FILENAME deletecontent.src
                             3272 ; 1429 |#define RSRC_FUNCLET_DELETECONTENT 547    
                             3273 ; 1430 |//$FILENAME deleterecord.src
                             3274 ; 1431 |#define RSRC_FUNCLET_DELETERECORD 548    
                             3275 ; 1432 |//$FILENAME fastopen.src
                             3276 ; 1433 |#define RSRC_FUNCLET_FASTOPEN 549    
                             3277 ; 1434 |//$FILENAME fcreate.src
                             3278 ; 1435 |#define RSRC_FUNCLET_FCREATE 550    
                             3279 ; 1436 |//$FILENAME filegetattrib.src
                             3280 ; 1437 |#define RSRC_FUNCLET_FILEGETATTRIB 551    
                             3281 ; 1438 |//$FILENAME filegetdate.src
                             3282 ; 1439 |#define RSRC_FUNCLET_FILEGETDATE 552    
                             3283 ; 1440 |//$FILENAME filesetattrib.src
                             3284 ; 1441 |#define RSRC_FUNCLET_FILESETATTRIB 553    
                             3285 ; 1442 |//$FILENAME filesetdate.src
                             3286 ; 1443 |#define RSRC_FUNCLET_FILESETDATE 554    
                             3287 ; 1444 |//$FILENAME fsinit.src
                             3288 ; 1445 |#define RSRC_FUNCLET_FSINIT 555    
                             3289 ; 1446 |//$FILENAME fsshutdown.src
                             3290 ; 1447 |#define RSRC_FUNCLET_FSSHUTDOWN 556    
                             3291 ; 1448 |//$FILENAME readdevicerecord.src
                             3292 ; 1449 |#define RSRC_FUNCLET_READDEVICERECORD 557    
                             3293 ; 1450 |//$FILENAME checkspaceinrootdir.src
                             3294 ; 1451 |#define RSRC_FUNCLET_CHECKSPACEINROOTDIR 558    
                             3295 ; 1452 |//$FILENAME setcwdhandle.src
                             3296 ; 1453 |#define RSRC_FUNCLET_SETCWDHANDLE 559    
                             3297 ; 1454 |//$FILENAME fsdriveinit.src
                             3298 ; 1455 |#define RSRC_FUNCLET_FSDRIVEINIT 560    
                             3299 ; 1456 |//$FILENAME fsclearBuf.src
                             3300 ; 1457 |#define RSRC_FUNCLET_FSCLEARDRIVEBUF 561    
                             3301 ; 1458 |//RSRC_FUNCLET_TOTALFREECLUSTER    equ      328    ;$FILENAME totalfreecluster.src
                             3302 ; 1459 |//RSRC_FUNCLET_TOTALFREECLUSTERFAT16    equ      328    ;$FILENAME totalfreeclusterfat16.src
                             3303 ; 1460 |//$FILENAME fgetfasthandle.src
                             3304 ; 1461 |#define RSRC_FUNCLET_FGETFASTHANDLE 562    
                             3305 ; 1462 |//$FILENAME ishandlewriteallocated.src
                             3306 ; 1463 |#define RSRC_FUNCLET_ISHANDLEWRITEALLOCATED 563    
                             3307 ; 1464 |//$FILENAME isfileopen.src
                             3308 ; 1465 |#define RSRC_FUNCLET_ISFILEOPEN 564    
                             3309 ; 1466 |//$FILENAME iscurrworkdir.src
                             3310 ; 1467 |#define RSRC_FUNCLET_ISCURRWORKDIR 565    
                             3311 ; 1468 |//$FILENAME chdir.src
                             3312 ; 1469 |#define RSRC_FUNCLET_CHDIR 566    
                             3313 ; 1470 |//$FILENAME chdirFromOffset.src
                             3314 ; 1471 |#define RSRC_FUNCLET_CHDIR_FROM_OFFSET 567    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  14

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3315 ; 1472 |//$FILENAME deletetree.src
                             3316 ; 1473 |#define RSRC_FUNCLET_DELETETREE 568    
                             3317 ; 1474 |//$FILENAME deleteallrecords.src
                             3318 ; 1475 |#define RSRC_FUNCLET_DELETEALLRECORDS 569    
                             3319 ; 1476 |//$FILENAME cleardata.src
                             3320 ; 1477 |#define RSRC_FUNCLET_CLEARDATA 570    
                             3321 ; 1478 |//$FILENAME changetolowleveldir.src
                             3322 ; 1479 |#define RSRC_FUNCLET_CHANGETOLOWLEVELDIR 571    
                             3323 ; 1480 |//$FILENAME getrecordnumber.src
                             3324 ; 1481 |#define RSRC_FUNCLET_GETRECORDNUMBER 572    
                             3325 ; 1482 |//$FILENAME fileremove.src
                             3326 ; 1483 |#define RSRC_FUNCLET_FILEREMOVE 573    
                             3327 ; 1484 |//$FILENAME charactersearch.src
                             3328 ; 1485 |#define RSRC_FUNCLET_CHARACTERSEARCH 574    
                             3329 ; 1486 |//$FILENAME stringcompare.src
                             3330 ; 1487 |#define RSRC_FUNCLET_STRINGCOMPARE 575    
                             3331 ; 1488 |//$FILENAME fopenw.src
                             3332 ; 1489 |#define RSRC_FUNCLET_FOPENW 576    
                             3333 ; 1490 |//$FILENAME fremove.src
                             3334 ; 1491 |#define RSRC_FUNCLET_FREMOVE 577    
                             3335 ; 1492 |//$FILENAME fremovew.src
                             3336 ; 1493 |#define RSRC_FUNCLET_FREMOVEW 578    
                             3337 ; 1494 |//$FILENAME mkdir.src
                             3338 ; 1495 |#define RSRC_FUNCLET_MKDIR 579    
                             3339 ; 1496 |//$FILENAME mkdirw.src
                             3340 ; 1497 |#define RSRC_FUNCLET_MKDIRW 580    
                             3341 ; 1498 |//$FILENAME rmdir.src
                             3342 ; 1499 |#define RSRC_FUNCLET_RMDIR 581    
                             3343 ; 1500 |//$FILENAME rmdirw.src
                             3344 ; 1501 |#define RSRC_FUNCLET_RMDIRW 582    
                             3345 ; 1502 |//$FILENAME fgetc.src
                             3346 ; 1503 |#define RSRC_FUNCLET_FGETC 583    
                             3347 ; 1504 |//$FILENAME fgets.src
                             3348 ; 1505 |#define RSRC_FUNCLET_FGETS 584    
                             3349 ; 1506 |//$FILENAME fputc.src
                             3350 ; 1507 |#define RSRC_FUNCLET_FPUTC 585    
                             3351 ; 1508 |//$FILENAME fputs.src
                             3352 ; 1509 |#define RSRC_FUNCLET_FPUTS 586    
                             3353 ; 1510 |//$FILENAME arrangelongfilename.src
                             3354 ; 1511 |#define RSRC_FUNCLET_ARRANGELONGFILENAME 587    
                             3355 ; 1512 |//$FILENAME convert_itoa.src
                             3356 ; 1513 |#define RSRC_FUNCLET_CONVERT_ITOA 588    
                             3357 ; 1514 |//$FILENAME createdirrecord.src
                             3358 ; 1515 |#define RSRC_FUNCLET_CREATEDIRRECORD 589    
                             3359 ; 1516 |//$FILENAME chksum.src
                             3360 ; 1517 |#define RSRC_FUNCLET_CHKSUM 590    
                             3361 ; 1518 |//$FILENAME createshortdirrecord.src
                             3362 ; 1519 |#define RSRC_FUNCLET_CREATESHORTDIRRECORD 591    
                             3363 ; 1520 |//$FILENAME discardtrailigperiodsucs3.src
                             3364 ; 1521 |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODSUCS3 592    
                             3365 ; 1522 |//$FILENAME discardtrailigperiodsw.src
                             3366 ; 1523 |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODSW 593    
                             3367 ; 1524 |//$FILENAME extractfilenamew.src
                             3368 ; 1525 |#define RSRC_FUNCLET_EXTRACTFILENAMEW 594    
                             3369 ; 1526 |//$FILENAME extractpathw.src
                             3370 ; 1527 |#define RSRC_FUNCLET_EXTRACTPATHW 595    
                             3371 ; 1528 |//$FILENAME findfreerecord.src
                             3372 ; 1529 |#define RSRC_FUNCLET_FINDFREERECORD 596    
                             3373 ; 1530 |//$FILENAME getnamew.src
                             3374 ; 1531 |#define RSRC_FUNCLET_GETNAMEW 597    
                             3375 ; 1532 |//$FILENAME isdirectoryempty.src
                             3376 ; 1533 |#define RSRC_FUNCLET_ISDIRECTORYEMPTY 598    
                             3377 ; 1534 |//$FILENAME isshortnamevalid.src
                             3378 ; 1535 |#define RSRC_FUNCLET_ISSHORTNAMEVALID 599    
                             3379 ; 1536 |//$FILENAME longdirmatch.src
                             3380 ; 1537 |#define RSRC_FUNCLET_LONGDIRMATCH 600    
                             3381 ; 1538 |//$FILENAME unicodetooem.src
                             3382 ; 1539 |#define RSRC_FUNCLET_UNICODETOOEM 601    
                             3383 ; 1540 |//$FILENAME matchdirrecordw.src
                             3384 ; 1541 |#define RSRC_FUNCLET_MATCHDIRRECORDW 602    
                             3385 ; 1542 |//$FILENAME setcwd.src
                             3386 ; 1543 |#define RSRC_FUNCLET_SETCWD 603    
                             3387 ; 1544 |//$FILENAME setshortfilename.src
                             3388 ; 1545 |#define RSRC_FUNCLET_SETSHORTFILENAME 604    
                             3389 ; 1546 |//$FILENAME generatefilenametail.src
                             3390 ; 1547 |#define RSRC_FUNCLET_GENERATEFILENAMETAIL 605    
                             3391 ; 1548 |//$FILENAME dbcstounicode.src
                             3392 ; 1549 |#define RSRC_FUNCLET_DBCSTOUNICODE 606    
                             3393 ; 1550 |//$FILENAME strcpy.src
                             3394 ; 1551 |#define RSRC_FUNCLET_STRCPY 607    
                             3395 ; 1552 |//$FILENAME strcpyw.src
                             3396 ; 1553 |#define RSRC_FUNCLET_STRCPYW 608    
                             3397 ; 1554 |//$FILENAME strlengthw.src
                             3398 ; 1555 |#define RSRC_FUNCLET_STRLENGTHW 609    
                             3399 ; 1556 |//$FILENAME filesystempresent.src
                             3400 ; 1557 |#define RSRC_FUNCLET_FILESYSTEMPRESENT 610    
                             3401 ; 1558 |//$FILENAME DataDriveInit.src
                             3402 ; 1559 |#define RSRC_FUNCLET_DATADRIVEINIT 611    
                             3403 ; 1560 |//$FILENAME FSGetDataDrivePbsLocation.src
                             3404 ; 1561 |#define RSRC_FUNCLET_FSGETDATADRIVEPBSLOCATION 612    
                             3405 ; 1562 |//$FILENAME FSPartitionEntryCopy.src
                             3406 ; 1563 |#define RSRC_FUNCLET_FSPARTITIONENTRYCOPYFSDD 613    
                             3407 ; 1564 |//$FILENAME DataDriveGetSize.src
                             3408 ; 1565 |#define RSRC_FUNCLET_DATADRIVEGETSIZE 614    
                             3409 ; 1566 |//$FILENAME ConstructLongFileName.src
                             3410 ; 1567 |#define RSRC_FUNCLET_CONSTRUCTLONGFILENAME 615    
                             3411 ; 1568 |//$FILENAME strcpyucs3_2.src
                             3412 ; 1569 |#define RSRC_FUNCLET_STRCPYUCS3_2 616    
                             3413 ; 1570 |//$FILENAME getvolumelabel.src
                             3414 ; 1571 |#define RSRC_FUNCLET_GETVOLUMELABEL 617    
                             3415 ; 1572 |//$FILENAME setvolumelabel.src
                             3416 ; 1573 |#define RSRC_FUNCLET_SETVOLUMELABEL 618    
                             3417 ; 1574 |//$FILENAME disk_full.src
                             3418 ; 1575 |#define RSRC_DISK_FULL 619    
                             3419 ; 1576 |//$FILENAME chkdskstartup.src
                             3420 ; 1577 |#define RSRC_CHECKDISK 620    
                             3421 ; 1578 |//$FILENAME chkdskstartupy.src
                             3422 ; 1579 |#define RSRC_CHKDSK_YMEM 621    
                             3423 ; 1580 |//$FILENAME low_level_pwr_line1.src
                             3424 ; 1581 |#define RSRC_LOW_PWR_EXT_DEV_LINE1 622    
                             3425 ; 1582 |//$FILENAME low_level_pwr_line2.src
                             3426 ; 1583 |#define RSRC_LOW_PWR_EXT_DEV_LINE2 623    
                             3427 ; 1584 |//$FILENAME string_bit_rate.src
                             3428 ; 1585 |#define RSRC_STRING_BIT_RATE 624    
                             3429 ; 1586 |//$FILENAME string_96000hz.src
                             3430 ; 1587 |#define RSRC_STRING_96KBPS 625    
                             3431 ; 1588 |//$FILENAME string_112000hz.src
                             3432 ; 1589 |#define RSRC_STRING_112KBPS 626    
                             3433 ; 1590 |//$FILENAME string_128000hz.src
                             3434 ; 1591 |#define RSRC_STRING_128KBPS 627    
                             3435 ; 1592 |//$FILENAME string_160000hz.src
                             3436 ; 1593 |#define RSRC_STRING_160KBPS 628    
                             3437 ; 1594 |//$FILENAME string_192000hz.src
                             3438 ; 1595 |#define RSRC_STRING_192KBPS 629    
                             3439 ; 1596 |//$FILENAME string_224000hz.src
                             3440 ; 1597 |#define RSRC_STRING_224KBPS 630    
                             3441 ; 1598 |//$FILENAME string_256000hz.src
                             3442 ; 1599 |#define RSRC_STRING_256KBPS 631    
                             3443 ; 1600 |//$FILENAME string_320000hz.src
                             3444 ; 1601 |#define RSRC_STRING_320KBPS 632    
                             3445 ; 1602 |//$FILENAME string_hz.src
                             3446 ; 1603 |#define RSRC_STRING_HZ 633    
                             3447 ; 1604 |//$FILENAME EncCommonp.src
                             3448 ; 1605 |#define RSRC_ENCODERCOMMON_P_CODE 634    
                             3449 ; 1606 |//$FILENAME adc_adcx.src
                             3450 ; 1607 |#define RSRC_ADC_ADCX_CODE 635    
                             3451 ; 1608 |//$FILENAME adc_adcy.src
                             3452 ; 1609 |#define RSRC_ADC_ADCY_CODE 636    
                             3453 ; 1610 |//$FILENAME Funclet_encodercommon.src
                             3454 ; 1611 |#define RSRC_FUNCLET_LOADENCODERCOMMON 637    
                             3455 ; 1612 |//$FILENAME string_album.src
                             3456 ; 1613 |#define RSRC_STRING_ALBUM 638    
                             3457 ; 1614 |//$FILENAME string_encoder_song.src
                             3458 ; 1615 |#define RSRC_STRING_SONG 639    
                             3459 ; 1616 |//$FILENAME string_mode.src
                             3460 ; 1617 |#define RSRC_STRING_MODE 640    
                             3461 ; 1618 |
                             3462 ; 1619 |//////////////////////////////////////////////////////////////////////////////////
                             3463 ; 1620 |// display related
                             3464 ; 1621 |//////////////////////////////////////////////////////////////////////////////////
                             3465 ; 1622 |//$FILENAME Funclet_HalDisplayInit.src
                             3466 ; 1623 |#define RSRC_FUNCLET_HAL_DISPLAY_INIT 641    
                             3467 ; 1624 |//$FILENAME Funclet_SalDisplayInit.src
                             3468 ; 1625 |#define RSRC_FUNCLET_SAL_DISPLAY_INIT 642    
                             3469 ; 1626 |//$FILENAME Funclet_SalHandleMessage.src
                             3470 ; 1627 |#define RSRC_FUNCLET_SAL_HANDLE_MSG 643    
                             3471 ; 1628 |//$FILENAME Funclet_FixBitmapHeader.src
                             3472 ; 1629 |#define RSRC_FUNCLET_FIXBITMAPHEADER 644    
                             3473 ; 1630 |//$FILENAME Funclet_BitmapReadHeader.src
                             3474 ; 1631 |#define RSRC_FUNCLET_BITMAPREADHEADER 645    
                             3475 ; 1632 |//$FILENAME Funclet_BitmapReadPalette.src
                             3476 ; 1633 |#define RSRC_FUNCLET_BITMAPREADPALETTE 646    
                             3477 ; 1634 |//$FILENAME Funclet_BitmapReadBitMask.src
                             3478 ; 1635 |#define RSRC_FUNCLET_BITMAPREADBITMASK 647    
                             3479 ; 1636 |//$FILENAME Funclet_BitmapPrintNonPalette.src
                             3480 ; 1637 |#define RSRC_FUNCLET_BITMAPPRINTNONPALETTE 648    
                             3481 ; 1638 |//$FILENAME Funclet_BitmapPrintPalette.src
                             3482 ; 1639 |#define RSRC_FUNCLET_BITMAPPRINTPALETTE 649    
                             3483 ; 1640 |//$FILENAME Funclet_DisplayPrintBitmapFile.src
                             3484 ; 1641 |#define RSRC_FUNCLET_DISPLAYPRINTBITMAPFILE 650    
                             3485 ; 1642 |//$FILENAME Funclet_DisplayPrintBitmapResource.src
                             3486 ; 1643 |#define RSRC_FUNCLET_DISPLAYPRINTBITMAPRESOURCE 651    
                             3487 ; 1644 |
                             3488 ; 1645 |//////////////////////////////////////////////////////////////////////////////////
                             3489 ; 1646 |//WMDRM Related
                             3490 ; 1647 |//////////////////////////////////////////////////////////////////////////////////
                             3491 ; 1648 |//$FILENAME legacy_decryptcontentkey.src
                             3492 ; 1649 |#define RSRC_FUNCLET_LEGACY_DECRYPTCONTENTKEY 652    
                             3493 ; 1650 |//$FILENAME drm_bbx_legacycipherkeysetup.src
                             3494 ; 1651 |#define RSRC_FUNCLET_DRM_BBX_LEGACYCIPHERKEYSETUP 653    
                             3495 ; 1652 |//$FILENAME drm_bbx_initialize.src
                             3496 ; 1653 |#define RSRC_FUNCLET_DRM_BBX_INITIALIZE 654    
                             3497 ; 1654 |//$FILENAME drm_bbx_canbind.src
                             3498 ; 1655 |#define RSRC_FUNCLET_DRM_BBX_CANBIND 655    
                             3499 ; 1656 |//$FILENAME verifychecksum.src
                             3500 ; 1657 |#define RSRC_FUNCLET_VERIFYCHECKSUM 656    
                             3501 ; 1658 |//$FILENAME drm_b64_encodew.src
                             3502 ; 1659 |#define RSRC_FUNCLET_DRM_B64_ENCODEW 657    
                             3503 ; 1660 |//$FILENAME _performactions.src
                             3504 ; 1661 |#define RSRC_FUNCLET__PERFORMACTIONS 658    
                             3505 ; 1662 |//$FILENAME _processendofchain.src
                             3506 ; 1663 |#define RSRC_FUNCLET__PROCESSENDOFCHAIN 659    
                             3507 ; 1664 |//$FILENAME drmcrt_iswxdigit.src
                             3508 ; 1665 |#define RSRC_FUNCLET_DRMCRT_ISWXDIGIT 660    
                             3509 ; 1666 |//$FILENAME drmcrt_towlower.src
                             3510 ; 1667 |#define RSRC_FUNCLET_DRMCRT_TOWLOWER 661    
                             3511 ; 1668 |//$FILENAME drmcrt_wcslen.src
                             3512 ; 1669 |#define RSRC_FUNCLET_DRMCRT_WCSLEN 662    
                             3513 ; 1670 |//$FILENAME drmcrt_wcsncpy.src
                             3514 ; 1671 |#define RSRC_FUNCLET_DRMCRT_WCSNCPY 663    
                             3515 ; 1672 |//$FILENAME drmcrt_memmove.src
                             3516 ; 1673 |#define RSRC_FUNCLET_DRMCRT_MEMMOVE 664    
                             3517 ; 1674 |//$FILENAME performoperation_part1.src
                             3518 ; 1675 |#define RSRC_FUNCLET_PERFORMOPERATION_PART1 665    
                             3519 ; 1676 |//$FILENAME performoperation_part2.src
                             3520 ; 1677 |#define RSRC_FUNCLET_PERFORMOPERATION_PART2 666    
                             3521 ; 1678 |//$FILENAME performoperation_part3.src
                             3522 ; 1679 |#define RSRC_FUNCLET_PERFORMOPERATION_PART3 667    
                             3523 ; 1680 |//$FILENAME performoperation_part4.src
                             3524 ; 1681 |#define RSRC_FUNCLET_PERFORMOPERATION_PART4 668    
                             3525 ; 1682 |//$FILENAME performoperation_part5.src
                             3526 ; 1683 |#define RSRC_FUNCLET_PERFORMOPERATION_PART5 669    
                             3527 ; 1684 |//$FILENAME performoperation_part6.src
                             3528 ; 1685 |#define RSRC_FUNCLET_PERFORMOPERATION_PART6 670    
                             3529 ; 1686 |//$FILENAME isvalidfunction.src
                             3530 ; 1687 |#define RSRC_FUNCLET_ISVALIDFUNCTION 671    
                             3531 ; 1688 |//$FILENAME functiongetvalue.src
                             3532 ; 1689 |#define RSRC_FUNCLET_FUNCTIONGETVALUE 672    
                             3533 ; 1690 |//$FILENAME globalsetvariable.src
                             3534 ; 1691 |#define RSRC_FUNCLET_GLOBALSETVARIABLE 673    
                             3535 ; 1692 |//$FILENAME variabledrmkgetorset.src
                             3536 ; 1693 |#define RSRC_FUNCLET_VARIABLEDRMKGETORSET 674    
                             3537 ; 1694 |//$FILENAME variabledrmgetorset.src
                             3538 ; 1695 |#define RSRC_FUNCLET_VARIABLEDRMGETORSET 675    
                             3539 ; 1696 |//$FILENAME variableappgetorset.src
                             3540 ; 1697 |#define RSRC_FUNCLET_VARIABLEAPPGETORSET 676    
                             3541 ; 1698 |//$FILENAME variablelicensegetorset.src
                             3542 ; 1699 |#define RSRC_FUNCLET_VARIABLELICENSEGETORSET 677    
                             3543 ; 1700 |//$FILENAME variablecontentgetorset.src
                             3544 ; 1701 |#define RSRC_FUNCLET_VARIABLECONTENTGETORSET 678    
                             3545 ; 1702 |//$FILENAME variabledevicegetorset.src
                             3546 ; 1703 |#define RSRC_FUNCLET_VARIABLEDEVICEGETORSET 679    
                             3547 ; 1704 |//$FILENAME variablepmlicensegetorset.src
                             3548 ; 1705 |#define RSRC_FUNCLET_VARIABLEPMLICENSEGETORSET 680    
                             3549 ; 1706 |//$FILENAME drm_hds_createstore.src
                             3550 ; 1707 |#define RSRC_FUNCLET_DRM_HDS_CREATESTORE 681    
                             3551 ; 1708 |//$FILENAME drm_hds_init.src
                             3552 ; 1709 |#define RSRC_FUNCLET_DRM_HDS_INIT 682    
                             3553 ; 1710 |//$FILENAME drm_hds_uninit.src
                             3554 ; 1711 |#define RSRC_FUNCLET_DRM_HDS_UNINIT 683    
                             3555 ; 1712 |//$FILENAME drm_hds_openstore.src
                             3556 ; 1713 |#define RSRC_FUNCLET_DRM_HDS_OPENSTORE 684    
                             3557 ; 1714 |//$FILENAME drm_hds_deleteslot.src
                             3558 ; 1715 |#define RSRC_FUNCLET_DRM_HDS_DELETESLOT 685    
                             3559 ; 1716 |//$FILENAME drm_hds_slotresize.src
                             3560 ; 1717 |#define RSRC_FUNCLET_DRM_HDS_SLOTRESIZE 686    
                             3561 ; 1718 |//$FILENAME drm_hds_initslotenum.src
                             3562 ; 1719 |#define RSRC_FUNCLET_DRM_HDS_INITSLOTENUM 687    
                             3563 ; 1720 |//$FILENAME drm_hds_cleanupstore.src
                             3564 ; 1721 |#define RSRC_FUNCLET_DRM_HDS_CLEANUPSTORE 688    
                             3565 ; 1722 |//$FILENAME _hdscopyslot_child2child.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  15

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3566 ; 1723 |#define RSRC_FUNCLET__HDSCOPYSLOT_CHILD2CHILD 689    
                             3567 ; 1724 |//$FILENAME _hdscopychildpayload.src
                             3568 ; 1725 |#define RSRC_FUNCLET__HDSCOPYCHILDPAYLOAD 690    
                             3569 ; 1726 |//$FILENAME _hdsdefragmentfile.src
                             3570 ; 1727 |#define RSRC_FUNCLET__HDSDEFRAGMENTFILE 691    
                             3571 ; 1728 |//$FILENAME _hdscleanupnamespace.src
                             3572 ; 1729 |#define RSRC_FUNCLET__HDSCLEANUPNAMESPACE 692    
                             3573 ; 1730 |//$FILENAME _hdscleanupstore.src
                             3574 ; 1731 |#define RSRC_FUNCLET__HDSCLEANUPSTORE 693    
                             3575 ; 1732 |//$FILENAME drm_lst_clean.src
                             3576 ; 1733 |#define RSRC_FUNCLET_DRM_LST_CLEAN 694    
                             3577 ; 1734 |//$FILENAME _hdslocatefreeblockforslot.src
                             3578 ; 1735 |#define RSRC_FUNCLET__HDSLOCATEFREEBLOCKFORSLOT 695    
                             3579 ; 1736 |//$FILENAME _hdslockblock2deleteslot.src
                             3580 ; 1737 |#define RSRC_FUNCLET__HDSLOCKBLOCK2DELETESLOT 696    
                             3581 ; 1738 |//$FILENAME _hdsunlockblock2deleteslot.src
                             3582 ; 1739 |#define RSRC_FUNCLET__HDSUNLOCKBLOCK2DELETESLOT 697    
                             3583 ; 1740 |//$FILENAME _hdscreatenamespace.src
                             3584 ; 1741 |#define RSRC_FUNCLET__HDSCREATENAMESPACE 698    
                             3585 ; 1742 |//$FILENAME _hdsfilepos2blocknum.src
                             3586 ; 1743 |#define RSRC_FUNCLET__HDSFILEPOS2BLOCKNUM 699    
                             3587 ; 1744 |//$FILENAME _writesrn.src
                             3588 ; 1745 |#define RSRC_FUNCLET__WRITESRN 700    
                             3589 ; 1746 |//$FILENAME _writecommonblockheader.src
                             3590 ; 1747 |#define RSRC_FUNCLET__WRITECOMMONBLOCKHEADER 701    
                             3591 ; 1748 |//$FILENAME _writechildblockheader.src
                             3592 ; 1749 |#define RSRC_FUNCLET__WRITECHILDBLOCKHEADER 702    
                             3593 ; 1750 |//$FILENAME _readdatablockheader.src
                             3594 ; 1751 |#define RSRC_FUNCLET__READDATABLOCKHEADER 703    
                             3595 ; 1752 |//$FILENAME _writedatablockheader.src
                             3596 ; 1753 |#define RSRC_FUNCLET__WRITEDATABLOCKHEADER 704    
                             3597 ; 1754 |//$FILENAME _hdsexpandstore.src
                             3598 ; 1755 |#define RSRC_FUNCLET__HDSEXPANDSTORE 705    
                             3599 ; 1756 |//$FILENAME _hdsallocblock.src
                             3600 ; 1757 |#define RSRC_FUNCLET__HDSALLOCBLOCK 706    
                             3601 ; 1758 |//$FILENAME _hdsfreeblock.src
                             3602 ; 1759 |#define RSRC_FUNCLET__HDSFREEBLOCK 707    
                             3603 ; 1760 |//$FILENAME _hdscreateoversizedslot.src
                             3604 ; 1761 |#define RSRC_FUNCLET__HDSCREATEOVERSIZEDSLOT 708    
                             3605 ; 1762 |//$FILENAME _hdsallocslotinfile.src
                             3606 ; 1763 |#define RSRC_FUNCLET__HDSALLOCSLOTINFILE 709    
                             3607 ; 1764 |//$FILENAME _hdswriteblockhdr.src
                             3608 ; 1765 |#define RSRC_FUNCLET__HDSWRITEBLOCKHDR 710    
                             3609 ; 1766 |//$FILENAME _hdsadjustchildpayload.src
                             3610 ; 1767 |#define RSRC_FUNCLET__HDSADJUSTCHILDPAYLOAD 711    
                             3611 ; 1768 |//$FILENAME _hdsfindleftmostleafblock.src
                             3612 ; 1769 |#define RSRC_FUNCLET__HDSFINDLEFTMOSTLEAFBLOCK 712    
                             3613 ; 1770 |//$FILENAME _hdscreateandopenslot.src
                             3614 ; 1771 |#define RSRC_FUNCLET__HDSCREATEANDOPENSLOT 713    
                             3615 ; 1772 |//$FILENAME _hdsremoveslot.src
                             3616 ; 1773 |#define RSRC_FUNCLET__HDSREMOVESLOT 714    
                             3617 ; 1774 |//$FILENAME _hdscopyandlocknewslot.src
                             3618 ; 1775 |#define RSRC_FUNCLET__HDSCOPYANDLOCKNEWSLOT 715    
                             3619 ; 1776 |//$FILENAME _hdsrelocateslotandkeepcurrlock.src
                             3620 ; 1777 |#define RSRC_FUNCLET__HDSRELOCATESLOTANDKEEPCURRLOCK 716    
                             3621 ; 1778 |//$FILENAME _hdstraversenextrightsiblingblock.src
                             3622 ; 1779 |#define RSRC_FUNCLET__HDSTRAVERSENEXTRIGHTSIBLINGBLOCK 717    
                             3623 ; 1780 |//$FILENAME _hdstraverseblocksinpostorder.src
                             3624 ; 1781 |#define RSRC_FUNCLET__HDSTRAVERSEBLOCKSINPOSTORDER 718    
                             3625 ; 1782 |//$FILENAME _hdsslotresize.src
                             3626 ; 1783 |#define RSRC_FUNCLET__HDSSLOTRESIZE 719    
                             3627 ; 1784 |//$FILENAME _isnull.src
                             3628 ; 1785 |#define RSRC_FUNCLET__ISNULL 720    
                             3629 ; 1786 |//$FILENAME _hdsgensrnhash.src
                             3630 ; 1787 |#define RSRC_FUNCLET__HDSGENSRNHASH 721    
                             3631 ; 1788 |//$FILENAME _hdsallocblockbuffer.src
                             3632 ; 1789 |#define RSRC_FUNCLET__HDSALLOCBLOCKBUFFER 722    
                             3633 ; 1790 |//$FILENAME _readsrn.src
                             3634 ; 1791 |#define RSRC_FUNCLET__READSRN 723    
                             3635 ; 1792 |//$FILENAME _hdsgetputchildblocknum.src
                             3636 ; 1793 |#define RSRC_FUNCLET__HDSGETPUTCHILDBLOCKNUM 724    
                             3637 ; 1794 |//$FILENAME _hdshashkeytoindex.src
                             3638 ; 1795 |#define RSRC_FUNCLET__HDSHASHKEYTOINDEX 725    
                             3639 ; 1796 |//$FILENAME _hdsslotwrite.src
                             3640 ; 1797 |#define RSRC_FUNCLET__HDSSLOTWRITE 726    
                             3641 ; 1798 |//$FILENAME _hdsinitslotenum.src
                             3642 ; 1799 |#define RSRC_FUNCLET__HDSINITSLOTENUM 727    
                             3643 ; 1800 |//$FILENAME drm_lst_close.src
                             3644 ; 1801 |#define RSRC_FUNCLET_DRM_LST_CLOSE 728    
                             3645 ; 1802 |//$FILENAME drm_lst_enumnext.src
                             3646 ; 1803 |#define RSRC_FUNCLET_DRM_LST_ENUMNEXT 729    
                             3647 ; 1804 |//$FILENAME drm_lst_enumdelete.src
                             3648 ; 1805 |#define RSRC_FUNCLET_DRM_LST_ENUMDELETE 730    
                             3649 ; 1806 |//$FILENAME _processextensions.src
                             3650 ; 1807 |#define RSRC_FUNCLET__PROCESSEXTENSIONS 731    
                             3651 ; 1808 |//$FILENAME _processidlist.src
                             3652 ; 1809 |#define RSRC_FUNCLET__PROCESSIDLIST 732    
                             3653 ; 1810 |//$FILENAME _processexclusions.src
                             3654 ; 1811 |#define RSRC_FUNCLET__PROCESSEXCLUSIONS 733    
                             3655 ; 1812 |//$FILENAME _processinclusions.src
                             3656 ; 1813 |#define RSRC_FUNCLET__PROCESSINCLUSIONS 734    
                             3657 ; 1814 |//$FILENAME drm_opl_processcopyoutputleveldata.src
                             3658 ; 1815 |#define RSRC_FUNCLET_DRM_OPL_PROCESSCOPYOUTPUTLEVELDATA 735    
                             3659 ; 1816 |//$FILENAME _getopllevel.src
                             3660 ; 1817 |#define RSRC_FUNCLET__GETOPLLEVEL 736    
                             3661 ; 1818 |//$FILENAME drm_opl_processplayoutputleveldata.src
                             3662 ; 1819 |#define RSRC_FUNCLET_DRM_OPL_PROCESSPLAYOUTPUTLEVELDATA 737    
                             3663 ; 1820 |//$FILENAME _updateattributetokeninslot.src
                             3664 ; 1821 |#define RSRC_FUNCLET__UPDATEATTRIBUTETOKENINSLOT 738    
                             3665 ; 1822 |//$FILENAME drm_sst_settokenvalue.src
                             3666 ; 1823 |#define RSRC_FUNCLET_DRM_SST_SETTOKENVALUE 739    
                             3667 ; 1824 |//$FILENAME drm_sst_createlicensestatepassword.src
                             3668 ; 1825 |#define RSRC_FUNCLET_DRM_SST_CREATELICENSESTATEPASSWORD 740    
                             3669 ; 1826 |//$FILENAME drm_utl_promoteansitounicode.src
                             3670 ; 1827 |#define RSRC_FUNCLET_DRM_UTL_PROMOTEANSITOUNICODE 741    
                             3671 ; 1828 |//$FILENAME drm_pk_symmetricsign.src
                             3672 ; 1829 |#define RSRC_FUNCLET_DRM_PK_SYMMETRICSIGN 742    
                             3673 ; 1830 |//$FILENAME drm_utl_getversionfromstring.src
                             3674 ; 1831 |#define RSRC_FUNCLET_DRM_UTL_GETVERSIONFROMSTRING 743    
                             3675 ; 1832 |//$FILENAME drm_utl_stringinsertblanksubstring.src
                             3676 ; 1833 |#define RSRC_FUNCLET_DRM_UTL_STRINGINSERTBLANKSUBSTRING 744    
                             3677 ; 1834 |//$FILENAME drm_utl_stringremovesubstring.src
                             3678 ; 1835 |#define RSRC_FUNCLET_DRM_UTL_STRINGREMOVESUBSTRING 745    
                             3679 ; 1836 |//$FILENAME drm_utl_dstrsearch.src
                             3680 ; 1837 |#define RSRC_FUNCLET_DRM_UTL_DSTRSEARCH 746    
                             3681 ; 1838 |//$FILENAME drm_utl_dstrsearchreverse.src
                             3682 ; 1839 |#define RSRC_FUNCLET_DRM_UTL_DSTRSEARCHREVERSE 747    
                             3683 ; 1840 |//$FILENAME drm_utl_stringtoguid.src
                             3684 ; 1841 |#define RSRC_FUNCLET_DRM_UTL_STRINGTOGUID 748    
                             3685 ; 1842 |//$FILENAME drm_utl_ensuredataalignment.src
                             3686 ; 1843 |#define RSRC_FUNCLET_DRM_UTL_ENSUREDATAALIGNMENT 749    
                             3687 ; 1844 |//$FILENAME overlappingdates.src
                             3688 ; 1845 |#define RSRC_FUNCLET_OVERLAPPINGDATES 750    
                             3689 ; 1846 |//$FILENAME drm_asd_parsev2license.src
                             3690 ; 1847 |#define RSRC_FUNCLET_DRM_ASD_PARSEV2LICENSE 751    
                             3691 ; 1848 |//$FILENAME neginfdate.src
                             3692 ; 1849 |#define RSRC_FUNCLET_NEGINFDATE 752    
                             3693 ; 1850 |//$FILENAME infdate.src
                             3694 ; 1851 |#define RSRC_FUNCLET_INFDATE 753    
                             3695 ; 1852 |//$FILENAME isexpired.src
                             3696 ; 1853 |#define RSRC_FUNCLET_ISEXPIRED 754    
                             3697 ; 1854 |//$FILENAME getsecstateattr.src
                             3698 ; 1855 |#define RSRC_FUNCLET_GETSECSTATEATTR 755    
                             3699 ; 1856 |//$FILENAME setexpirycategory.src
                             3700 ; 1857 |#define RSRC_FUNCLET_SETEXPIRYCATEGORY 756    
                             3701 ; 1858 |//$FILENAME getv2licenseinfo.src
                             3702 ; 1859 |#define RSRC_FUNCLET_GETV2LICENSEINFO 757    
                             3703 ; 1860 |//$FILENAME getnextlicense.src
                             3704 ; 1861 |#define RSRC_FUNCLET_GETNEXTLICENSE 758    
                             3705 ; 1862 |//$FILENAME aggregate.src
                             3706 ; 1863 |#define RSRC_FUNCLET_AGGREGATE 759    
                             3707 ; 1864 |//$FILENAME drm_asd_getlicenseaggregatedata.src
                             3708 ; 1865 |#define RSRC_FUNCLET_DRM_ASD_GETLICENSEAGGREGATEDATA 760    
                             3709 ; 1866 |//$FILENAME _scannodeforattributew.src
                             3710 ; 1867 |#define RSRC_FUNCLET__SCANNODEFORATTRIBUTEW 761    
                             3711 ; 1868 |//$FILENAME _getxmlnodecdataw.src
                             3712 ; 1869 |#define RSRC_FUNCLET__GETXMLNODECDATAW 762    
                             3713 ; 1870 |//$FILENAME drm_ddc_getdevicecertificate.src
                             3714 ; 1871 |#define RSRC_FUNCLET_DRM_DDC_GETDEVICECERTIFICATE 763    
                             3715 ; 1872 |//$FILENAME _createdevicestore.src
                             3716 ; 1873 |#define RSRC_FUNCLET__CREATEDEVICESTORE 764    
                             3717 ; 1874 |//$FILENAME _mapdrmerror.src
                             3718 ; 1875 |#define RSRC_FUNCLET__MAPDRMERROR 765    
                             3719 ; 1876 |//$FILENAME _comparemachineid.src
                             3720 ; 1877 |#define RSRC_FUNCLET__COMPAREMACHINEID 766    
                             3721 ; 1878 |//$FILENAME initmgrcontext.src
                             3722 ; 1879 |#define RSRC_FUNCLET_INITMGRCONTEXT 767    
                             3723 ; 1880 |//$FILENAME drm_mgr_setv2header.src
                             3724 ; 1881 |#define RSRC_FUNCLET_DRM_MGR_SETV2HEADER 768    
                             3725 ; 1882 |//$FILENAME drm_mgr_commit.src
                             3726 ; 1883 |#define RSRC_FUNCLET_DRM_MGR_COMMIT 769    
                             3727 ; 1884 |//$FILENAME drm_mgr_cleanuplicensestore.src
                             3728 ; 1885 |#define RSRC_FUNCLET_DRM_MGR_CLEANUPLICENSESTORE 770    
                             3729 ; 1886 |//$FILENAME januscleandatastore.src
                             3730 ; 1887 |#define RSRC_FUNCLET_JANUSCLEANDATASTORE 771    
                             3731 ; 1888 |//$FILENAME drm_mtr_openid.src
                             3732 ; 1889 |#define RSRC_FUNCLET_DRM_MTR_OPENID 772    
                             3733 ; 1890 |//$FILENAME drm_mtr_incrementcount.src
                             3734 ; 1891 |#define RSRC_FUNCLET_DRM_MTR_INCREMENTCOUNT 773    
                             3735 ; 1892 |//$FILENAME drm_mtr_closecontext.src
                             3736 ; 1893 |#define RSRC_FUNCLET_DRM_MTR_CLOSECONTEXT 774    
                             3737 ; 1894 |//$FILENAME oem_setendoffile.src
                             3738 ; 1895 |#define RSRC_FUNCLET_OEM_SETENDOFFILE 775    
                             3739 ; 1896 |//$FILENAME oem_genrandombytes.src
                             3740 ; 1897 |#define RSRC_FUNCLET_OEM_GENRANDOMBYTES 776    
                             3741 ; 1898 |//$FILENAME oem_getfallbacksigningkey.src
                             3742 ; 1899 |#define RSRC_FUNCLET_OEM_GETFALLBACKSIGNINGKEY 777    
                             3743 ; 1900 |//$FILENAME oem_getdevicecerttemplate.src
                             3744 ; 1901 |#define RSRC_FUNCLET_OEM_GETDEVICECERTTEMPLATE 778    
                             3745 ; 1902 |//$FILENAME oem_setdevicecert.src
                             3746 ; 1903 |#define RSRC_FUNCLET_OEM_SETDEVICECERT 779    
                             3747 ; 1904 |//$FILENAME oem_getclockresetstate.src
                             3748 ; 1905 |#define RSRC_FUNCLET_OEM_GETCLOCKRESETSTATE 780    
                             3749 ; 1906 |//$FILENAME oem_setclockresetstate.src
                             3750 ; 1907 |#define RSRC_FUNCLET_OEM_SETCLOCKRESETSTATE 781    
                             3751 ; 1908 |//$FILENAME oem_getuniqueid.src
                             3752 ; 1909 |#define RSRC_FUNCLET_OEM_GETUNIQUEID 782    
                             3753 ; 1910 |//$FILENAME oem_getdevicecert.src
                             3754 ; 1911 |#define RSRC_FUNCLET_OEM_GETDEVICECERT 783    
                             3755 ; 1912 |//$FILENAME drm_snc_openstore.src
                             3756 ; 1913 |#define RSRC_FUNCLET_DRM_SNC_OPENSTORE 784    
                             3757 ; 1914 |//$FILENAME drm_snc_closestore.src
                             3758 ; 1915 |#define RSRC_FUNCLET_DRM_SNC_CLOSESTORE 785    
                             3759 ; 1916 |//$FILENAME _setkidstoredata.src
                             3760 ; 1917 |#define RSRC_FUNCLET__SETKIDSTOREDATA 786    
                             3761 ; 1918 |//$FILENAME drm_snc_deletekid.src
                             3762 ; 1919 |#define RSRC_FUNCLET_DRM_SNC_DELETEKID 787    
                             3763 ; 1920 |//$FILENAME drm_snc_updatekid.src
                             3764 ; 1921 |#define RSRC_FUNCLET_DRM_SNC_UPDATEKID 788    
                             3765 ; 1922 |//$FILENAME drm_mgr_setv1header.src
                             3766 ; 1923 |#define RSRC_FUNCLET_DRM_MGR_SETV1HEADER 789    
                             3767 ; 1924 |//$FILENAME functiongetvalue_part1.src
                             3768 ; 1925 |#define RSRC_FUNCLET_FUNCTIONGETVALUE_PART1 790    
                             3769 ; 1926 |//$FILENAME functiongetvalue_fn_datediff.src
                             3770 ; 1927 |#define RSRC_FUNCLET_FUNCTIONGETVALUE_FN_DATEDIFF 791    
                             3771 ; 1928 |//$FILENAME _hdscreatenamespacestore.src
                             3772 ; 1929 |#define RSRC_FUNCLET__HDSCREATENAMESPACESTORE 792    
                             3773 ; 1930 |//$FILENAME drm_hds_createstore2.src
                             3774 ; 1931 |#define RSRC_FUNCLET_DRM_HDS_CREATESTORE2 793    
                             3775 ; 1932 |//$FILENAME drm_hds_openstore2.src
                             3776 ; 1933 |#define RSRC_FUNCLET_DRM_HDS_OPENSTORE2 794    
                             3777 ; 1934 |//$FILENAME _hdsprealloc.src
                             3778 ; 1935 |#define RSRC_FUNCLET__HDSPREALLOC 795    
                             3779 ; 1936 |//$FILENAME oem_systemtimetofiletime.src
                             3780 ; 1937 |#define RSRC_FUNCLET_OEM_SYSTEMTIMETOFILETIME 796    
                             3781 ; 1938 |//$FILENAME oem_filetimetosystemtime.src
                             3782 ; 1939 |#define RSRC_FUNCLET_OEM_FILETIMETOSYSTEMTIME 797    
                             3783 ; 1940 |//$FILENAME gendevicecertificate.src
                             3784 ; 1941 |#define RSRC_FUNCLET_GENDEVICECERTIFICATE 798    
                             3785 ; 1942 |//$FILENAME drmcrt_memmove_mem.src
                             3786 ; 1943 |#define RSRC_FUNCLET_DRMCRT_MEMMOVE_MEM 799    
                             3787 ; 1944 |//$FILENAME copyhdsdtore.src
                             3788 ; 1945 |#define RSRC_FUNCLET_COPYHDSDTORE 800    
                             3789 ; 1946 |//$FILENAME generatedevicecert.src
                             3790 ; 1947 |#define RSRC_FUNCLET_GENERATEDEVICECERT 801    
                             3791 ; 1948 |//$FILENAME oem_getdevicedatetime.src
                             3792 ; 1949 |#define RSRC_FUNCLET_OEM_GETDEVICEDATETIME 802    
                             3793 ; 1950 |//$FILENAME drm_mtr_updatedata.src
                             3794 ; 1951 |#define RSRC_FUNCLET_DRM_MTR_UPDATEDATA 803    
                             3795 ; 1952 |//$FILENAME _hdsupdatesrn.src
                             3796 ; 1953 |#define RSRC_FUNCLET__HDSUPDATESRN 804    
                             3797 ; 1954 |//$FILENAME drm_b64_decodew_inplace.src
                             3798 ; 1955 |#define RSRC_FUNCLET_DRM_B64_DECODEW_INPLACE 805    
                             3799 ; 1956 |//$FILENAME _checksecureclock.src
                             3800 ; 1957 |#define RSRC_FUNCLET__CHECKSECURECLOCK 806    
                             3801 ; 1958 |//$FILENAME _preparesecureclockdataforwriting.src
                             3802 ; 1959 |#define RSRC_FUNCLET__PREPARESECURECLOCKDATAFORWRITING 807    
                             3803 ; 1960 |//$FILENAME _preparesecureclockdataforreading.src
                             3804 ; 1961 |#define RSRC_FUNCLET__PREPARESECURECLOCKDATAFORREADING 808    
                             3805 ; 1962 |//$FILENAME drm_sst_closelockedslot.src
                             3806 ; 1963 |#define RSRC_FUNCLET_DRM_SST_CLOSELOCKEDSLOT 809    
                             3807 ; 1964 |//$FILENAME variablesecuretimegetorset.src
                             3808 ; 1965 |#define RSRC_FUNCLET_VARIABLESECURETIMEGETORSET 810    
                             3809 ; 1966 |//$FILENAME strtol.src
                             3810 ; 1967 |#define RSRC_FUNCLET_STRTOL 811    
                             3811 ; 1968 |//$FILENAME mktime.src
                             3812 ; 1969 |#define RSRC_FUNCLET_MKTIME 812    
                             3813 ; 1970 |//$FILENAME gmtime.src
                             3814 ; 1971 |#define RSRC_FUNCLET_GMTIME 813    
                             3815 ; 1972 |//$FILENAME localtime.src
                             3816 ; 1973 |#define RSRC_FUNCLET_LOCALTIME 814    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  16

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3817 ; 1974 |//$FILENAME _struct_tm_to_systemtime.src
                             3818 ; 1975 |#define RSRC_FUNCLET__STRUCT_TM_TO_SYSTEMTIME 815    
                             3819 ; 1976 |//$FILENAME _systemtime_to_struct_tm.src
                             3820 ; 1977 |#define RSRC_FUNCLET__SYSTEMTIME_TO_STRUCT_TM 816    
                             3821 ; 1978 |//$FILENAME _systemtimetotime_t.src
                             3822 ; 1979 |#define RSRC_FUNCLET__SYSTEMTIMETOTIME_T 817    
                             3823 ; 1980 |//$FILENAME oem_setsystemtime.src
                             3824 ; 1981 |#define RSRC_FUNCLET_OEM_SETSYSTEMTIME 818    
                             3825 ; 1982 |//$FILENAME const_pkcrypto.src
                             3826 ; 1983 |#define RSRC_CONST_PKCRYPTO 819    
                             3827 ; 1984 |//$FILENAME const_y.src
                             3828 ; 1985 |#define RSRC_CONST_Y 820    
                             3829 ; 1986 |//$FILENAME aes_dec_table.src
                             3830 ; 1987 |#define RSRC_AES_DEC_TABLE 821    
                             3831 ; 1988 |//$FILENAME aes_key_table.src
                             3832 ; 1989 |#define RSRC_AES_KEY_TABLE 822    
                             3833 ; 1990 |//$FILENAME aes_enc_table.src
                             3834 ; 1991 |#define RSRC_AES_ENC_TABLE 823    
                             3835 ; 1992 |//$FILENAME device_cert.src
                             3836 ; 1993 |#define RSRC_DEVCERT 824    
                             3837 ; 1994 |//$FILENAME devcert_template.src
                             3838 ; 1995 |#define RSRC_DEVCERT_TEMPLATE 825    
                             3839 ; 1996 |//$FILENAME getbase64decodedkey.src
                             3840 ; 1997 |#define RSRC_FUNCLET_GETBASE64DECODEDKEY 826    
                             3841 ; 1998 |//$FILENAME _initslot.src
                             3842 ; 1999 |#define RSRC_FUNCLET__INITSLOT 827    
                             3843 ; 2000 |//$FILENAME hdsimplcommon.src
                             3844 ; 2001 |#define RSRC_HDSIMPLCOMMON_P 828    
                             3845 ; 2002 |//$FILENAME hdsimpl_p.src
                             3846 ; 2003 |#define RSRC_HDSIMPL_P 829    
                             3847 ; 2004 |
                             3848 ; 2005 |
                             3849 ; 2006 |//////////////////////////////////////////////////////////////////////////////////
                             3850 ; 2007 |//pkcrypto Related
                             3851 ; 2008 |//////////////////////////////////////////////////////////////////////////////////
                             3852 ; 2009 |//$FILENAME two_adic_inverse.src
                             3853 ; 2010 |#define RSRC_FUNCLET_TWO_ADIC_INVERSE 830    
                             3854 ; 2011 |//$FILENAME mp_shift.src
                             3855 ; 2012 |#define RSRC_FUNCLET_MP_SHIFT 831    
                             3856 ; 2013 |//$FILENAME mp_significant_bit_count.src
                             3857 ; 2014 |#define RSRC_FUNCLET_MP_SIGNIFICANT_BIT_COUNT 832    
                             3858 ; 2015 |//$FILENAME set_immediate.src
                             3859 ; 2016 |#define RSRC_FUNCLET_SET_IMMEDIATE 833    
                             3860 ; 2017 |//$FILENAME multiply_immediate.src
                             3861 ; 2018 |#define RSRC_FUNCLET_MULTIPLY_IMMEDIATE 834    
                             3862 ; 2019 |//$FILENAME multiply.src
                             3863 ; 2020 |#define RSRC_FUNCLET_MULTIPLY 835    
                             3864 ; 2021 |//$FILENAME divide_precondition_1.src
                             3865 ; 2022 |#define RSRC_FUNCLET_DIVIDE_PRECONDITION_1 836    
                             3866 ; 2023 |//$FILENAME divide_immediate.src
                             3867 ; 2024 |#define RSRC_FUNCLET_DIVIDE_IMMEDIATE 837    
                             3868 ; 2025 |//$FILENAME ecaffine_exponentiation_tabular.src
                             3869 ; 2026 |#define RSRC_FUNCLET_ECAFFINE_EXPONENTIATION_TABULAR 838    
                             3870 ; 2027 |//$FILENAME ecaffine_table_construction.src
                             3871 ; 2028 |#define RSRC_FUNCLET_ECAFFINE_TABLE_CONSTRUCTION 839    
                             3872 ; 2029 |//$FILENAME ecproj5_to_ecaffine.src
                             3873 ; 2030 |#define RSRC_FUNCLET_ECPROJ5_TO_ECAFFINE 840    
                             3874 ; 2031 |//$FILENAME ecproj5_set_infinite.src
                             3875 ; 2032 |#define RSRC_FUNCLET_ECPROJ5_SET_INFINITE 841    
                             3876 ; 2033 |//$FILENAME ecaffine_on_curve.src
                             3877 ; 2034 |#define RSRC_FUNCLET_ECAFFINE_ON_CURVE 842    
                             3878 ; 2035 |//$FILENAME ecaffine_addition.src
                             3879 ; 2036 |#define RSRC_FUNCLET_ECAFFINE_ADDITION 843    
                             3880 ; 2037 |//$FILENAME ecaffine_addition_subtraction.src
                             3881 ; 2038 |#define RSRC_FUNCLET_ECAFFINE_ADDITION_SUBTRACTION 844    
                             3882 ; 2039 |//$FILENAME ecaffine_attributes2.src
                             3883 ; 2040 |#define RSRC_FUNCLET_ECAFFINE_ATTRIBUTES2 845    
                             3884 ; 2041 |//$FILENAME kfdesc_initialize.src
                             3885 ; 2042 |#define RSRC_FUNCLET_KFDESC_INITIALIZE 846    
                             3886 ; 2043 |//$FILENAME kimmediate.src
                             3887 ; 2044 |#define RSRC_FUNCLET_KIMMEDIATE 847    
                             3888 ; 2045 |//$FILENAME kprime_immediater.src
                             3889 ; 2046 |#define RSRC_FUNCLET_KPRIME_IMMEDIATER 848    
                             3890 ; 2047 |//$FILENAME kprime_sqrter.src
                             3891 ; 2048 |#define RSRC_FUNCLET_KPRIME_SQRTER 849    
                             3892 ; 2049 |//$FILENAME kinitialize_prime.src
                             3893 ; 2050 |#define RSRC_FUNCLET_KINITIALIZE_PRIME 850    
                             3894 ; 2051 |//$FILENAME mod_lucasuv.src
                             3895 ; 2052 |#define RSRC_FUNCLET_MOD_LUCASUV 851    
                             3896 ; 2053 |//$FILENAME mod_lucas.src
                             3897 ; 2054 |#define RSRC_FUNCLET_MOD_LUCAS 852    
                             3898 ; 2055 |//$FILENAME bucket_multiply.src
                             3899 ; 2056 |#define RSRC_FUNCLET_BUCKET_MULTIPLY 853    
                             3900 ; 2057 |//$FILENAME mod_exp2000.src
                             3901 ; 2058 |#define RSRC_FUNCLET_MOD_EXP2000 854    
                             3902 ; 2059 |//$FILENAME mod_exp.src
                             3903 ; 2060 |#define RSRC_FUNCLET_MOD_EXP 855    
                             3904 ; 2061 |//$FILENAME modmul_choices1.src
                             3905 ; 2062 |#define RSRC_FUNCLET_MODMUL_CHOICES1 856    
                             3906 ; 2063 |//$FILENAME mod_sqrt.src
                             3907 ; 2064 |#define RSRC_FUNCLET_MOD_SQRT 857    
                             3908 ; 2065 |//$FILENAME create_modulus.src
                             3909 ; 2066 |#define RSRC_FUNCLET_CREATE_MODULUS 858    
                             3910 ; 2067 |//$FILENAME from_modular.src
                             3911 ; 2068 |#define RSRC_FUNCLET_FROM_MODULAR 859    
                             3912 ; 2069 |//$FILENAME add_immediate.src
                             3913 ; 2070 |#define RSRC_FUNCLET_ADD_IMMEDIATE 860    
                             3914 ; 2071 |//$FILENAME add_diff.src
                             3915 ; 2072 |#define RSRC_FUNCLET_ADD_DIFF 861    
                             3916 ; 2073 |//$FILENAME add_full.src
                             3917 ; 2074 |#define RSRC_FUNCLET_ADD_FULL 862    
                             3918 ; 2075 |//$FILENAME compare_sum_same.src
                             3919 ; 2076 |#define RSRC_FUNCLET_COMPARE_SUM_SAME 863    
                             3920 ; 2077 |//$FILENAME sub_immediate.src
                             3921 ; 2078 |#define RSRC_FUNCLET_SUB_IMMEDIATE 864    
                             3922 ; 2079 |//$FILENAME mp_initialization.src
                             3923 ; 2080 |#define RSRC_FUNCLET_MP_INITIALIZATION 865    
                             3924 ; 2081 |//$FILENAME new_random_bytes.src
                             3925 ; 2082 |#define RSRC_FUNCLET_NEW_RANDOM_BYTES 866    
                             3926 ; 2083 |//$FILENAME new_random_dword_interval.src
                             3927 ; 2084 |#define RSRC_FUNCLET_NEW_RANDOM_DWORD_INTERVAL 867    
                             3928 ; 2085 |//$FILENAME new_random_digit_interval.src
                             3929 ; 2086 |#define RSRC_FUNCLET_NEW_RANDOM_DIGIT_INTERVAL 868    
                             3930 ; 2087 |//$FILENAME new_random_mod.src
                             3931 ; 2088 |#define RSRC_FUNCLET_NEW_RANDOM_MOD 869    
                             3932 ; 2089 |//$FILENAME new_random_mod_nonzero.src
                             3933 ; 2090 |#define RSRC_FUNCLET_NEW_RANDOM_MOD_NONZERO 870    
                             3934 ; 2091 |//$FILENAME new_random_digits.src
                             3935 ; 2092 |#define RSRC_FUNCLET_NEW_RANDOM_DIGITS 871    
                             3936 ; 2093 |//$FILENAME words_to_ecaffine.src
                             3937 ; 2094 |#define RSRC_FUNCLET_WORDS_TO_ECAFFINE 872    
                             3938 ; 2095 |//$FILENAME ecaffine_to_dwords.src
                             3939 ; 2096 |#define RSRC_FUNCLET_ECAFFINE_TO_DWORDS 873    
                             3940 ; 2097 |//$FILENAME _threadunsafepkinit.src
                             3941 ; 2098 |#define RSRC_FUNCLET__THREADUNSAFEPKINIT 874    
                             3942 ; 2099 |//$FILENAME pkinit.src
                             3943 ; 2100 |#define RSRC_FUNCLET_PKINIT 875    
                             3944 ; 2101 |//$FILENAME drm_pk_genkeypair.src
                             3945 ; 2102 |#define RSRC_FUNCLET_DRM_PK_GENKEYPAIR 876    
                             3946 ; 2103 |//$FILENAME drm_pk_encrypt.src
                             3947 ; 2104 |#define RSRC_FUNCLET_DRM_PK_ENCRYPT 877    
                             3948 ; 2105 |//$FILENAME drm_pk_decrypt.src
                             3949 ; 2106 |#define RSRC_FUNCLET_DRM_PK_DECRYPT 878    
                             3950 ; 2107 |//$FILENAME byte_array_mod_bignum.src
                             3951 ; 2108 |#define RSRC_FUNCLET_BYTE_ARRAY_MOD_BIGNUM 879    
                             3952 ; 2109 |//$FILENAME fe2ipmod.src
                             3953 ; 2110 |#define RSRC_FUNCLET_FE2IPMOD 880    
                             3954 ; 2111 |//$FILENAME drm_pk_sign.src
                             3955 ; 2112 |#define RSRC_FUNCLET_DRM_PK_SIGN 881    
                             3956 ; 2113 |//$FILENAME drm_pk_verify.src
                             3957 ; 2114 |#define RSRC_FUNCLET_DRM_PK_VERIFY 882    
                             3958 ; 2115 |//$FILENAME random_bytes.src
                             3959 ; 2116 |#define RSRC_FUNCLET_RANDOM_BYTES 883    
                             3960 ; 2117 |//$FILENAME mp_gcdex.src
                             3961 ; 2118 |#define RSRC_FUNCLET_MP_GCDEX 884    
                             3962 ; 2119 |//$FILENAME mp_gcdex_split1.src
                             3963 ; 2120 |#define RSRC_FUNCLET_MP_GCDEX_SPLIT1 885    
                             3964 ; 2121 |//$FILENAME pkcrypto_p.src
                             3965 ; 2122 |#define RSRC_PKCRYPTO_P 886    
                             3966 ; 2123 |//$FILENAME pkcrypto_ovl_p.src
                             3967 ; 2124 |#define RSRC_PKCRYPTO_OVL_P 887    
                             3968 ; 2125 |//$FILENAME del_all_warning_line2.src
                             3969 ; 2126 |#define RSRC_WARNING_MSG_ALL_LINE2 888    
                             3970 ; 2127 |//$FILENAME del_all_file_star.src
                             3971 ; 2128 |#define RSRC_FILE_DELETE_STAR 889    
                             3972 ; 2129 |//$FILENAME string_voice_menu_delete_all.src
                             3973 ; 2130 |#define RSRC_STRING_VOICE_MENU_DELETE_ALL 890    
                             3974 ; 2131 |//$FILENAME Funclet_Init5VSense.src
                             3975 ; 2132 |#define RSRC_FUNCLET_INIT5VSENSE 891    
                             3976 ; 2133 |//$FILENAME Funclet_UpdateDCDCDutyCycle.src
                             3977 ; 2134 |#define RSRC_FUNCLET_UPDATEDCDCDUTYCYCLE 892    
                             3978 ; 2135 |//$FILENAME Funclet_changeplayset.src
                             3979 ; 2136 |#define RSRC_FUNCLET_CHANGE_PLAYSET 893    
                             3980 ; 2137 |
                             3981 ; 2138 |//$FILENAME Funclet_mmctesterase.src
                             3982 ; 2139 |#define RSRC_FUNCLET_MMC_TEST_ERASE 894    
                             3983 ; 2140 |//$FILENAME Funclet_mmchalinit.src
                             3984 ; 2141 |#define RSRC_FUNCLET_MMC_HALINIT 895    
                             3985 ; 2142 |
                             3986 ; 2143 |
                             3987 ; 2144 |// Added to allow rechargeable battery configurations to build
                             3988 ; 2145 |//$FILENAME battery_charging.src
                             3989 ; 2146 |#define RSRC_BATTERY_CHARGING 896    
                             3990 ; 2147 |//$FILENAME batterychargecodebank.src
                             3991 ; 2148 |#define RSRC_BATTERY_CHARGE_CODEBANK 897    
                             3992 ; 2149 |//$FILENAME updatevolume.src
                             3993 ; 2150 |#define RSRC_FUNCLET_SYSUPDATEVOLUME 898    
                             3994 ; 2151 |//$FILENAME Funclet_TestSkipCheckDisk.src
                             3995 ; 2152 |#define RSRC_FUNCLET_TESTSKIPCHECKDISK 899    
                             3996 ; 2153 |//$FILENAME Funclet_DisableStmpGeneratedMicBias.src
                             3997 ; 2154 |#define RSRC_FUNCLET_DISABLE_STMP_GENERATED_MICBIAS 900    
                             3998 ; 2155 |//$FILENAME Funclet_EnableStmpGeneratedMicBias.src
                             3999 ; 2156 |#define RSRC_FUNCLET_ENABLE_STMP_GENERATED_MICBIAS 901    
                             4000 ; 2157 |//$FILENAME Funclet_SetSkipCheckDisk.src
                             4001 ; 2158 |#define RSRC_FUNCLET_SETSKIPCHECKDISK 902    
                             4002 ; 2159 |//$FILENAME drm_expr_evaluateexpression_no_more_tokens.src
                             4003 ; 2160 |#define RSRC_FUNCLET_DRM_EXPR_EVALUATEEXPRESSION_NO_MORE_TOKENS 903    
                             4004 ; 2161 |//$FILENAME _iscachedevent.src
                             4005 ; 2162 |#define RSRC_FUNCLET__ISCACHEDEVENT 904    
                             4006 ; 2163 |//$FILENAME setcountedexpirycategory.src
                             4007 ; 2164 |#define RSRC_FUNCLET_SETCOUNTEDEXPIRYCATEGORY 905    
                             4008 ; 2165 |//$FILENAME oem_data.src
                             4009 ; 2166 |#define RSRC_OEM_DATA 906    
                             4010 ; 2167 |//$FILENAME gpk_p.src
                             4011 ; 2168 |#define RSRC_GPK_P 907    
                             4012 ; 2169 |//$FILENAME key_data.src
                             4013 ; 2170 |#define RSRC_KEY_DATA 908    
                             4014 ; 2171 |//$FILENAME string_arial_8_defragmenting_store.src
                             4015 ; 2172 |#define RSRC_DEFRAGMENT_STORE_STRING 909    
                             4016 ; 2173 |//$FILENAME string_working.src
                             4017 ; 2174 |#define RSRC_STRING_WORKING 910    
                             4018 ; 2175 |//$FILENAME Funclet_loadusertime.src
                             4019 ; 2176 |#define RSRC_FUNCLET_LOADUSERTIME 911    
                             4020 ; 2177 |//$FILENAME Funclet_saveusertime.src
                             4021 ; 2178 |#define RSRC_FUNCLET_SAVEUSERTIME 912    
                             4022 ; 2179 |
                             4023 ; 2180 |//$FILENAME Funclet_SysLRADCBrownoutInit.src
                             4024 ; 2181 |#define RSRC_FUNCLET_SYSLRADCBROWNOUTINIT 913    
                             4025 ; 2182 |//$FILENAME Funclet_SysBatteryGetLevel.src
                             4026 ; 2183 |#define RSRC_FUNCLET_SYSBATTERYGETLEVEL 914    
                             4027 ; 2184 |
                             4028 ; 2185 |////////////////////////////////////////////////////////////////////////////////////////////////////
                             4029 ; 2186 |// Audible ACELP Resources
                             4030 ; 2187 |////////////////////////////////////////////////////////////////////////////////////////////////////
                             4031 ; 2188 |//$FILENAME AudibleAcelpDec.src
                             4032 ; 2189 |#define RSRC_AUDIBLE_ACELPDEC_CODE 915    
                             4033 ; 2190 |//$FILENAME AudibleAcelpP.src
                             4034 ; 2191 |#define RSRC_AUDIBLE_ACELP_CODE_P 916    
                             4035 ; 2192 |//$FILENAME AudibleAcelpX.src
                             4036 ; 2193 |#define RSRC_AUDIBLE_ACELP_DATA_X 917    
                             4037 ; 2194 |//$FILENAME AudibleAcelpY.src
                             4038 ; 2195 |#define RSRC_AUDIBLE_ACELP_DATA_Y 918    
                             4039 ; 2196 |
                             4040 ; 2197 |//$FILENAME AudibleDecMod.src
                             4041 ; 2198 |#define RSRC_AUDIBLE_DECMOD_CODE 919    
                             4042 ; 2199 |//$FILENAME audiblemp3p.src
                             4043 ; 2200 |#define RSRC_AUDIBLE_MP3P_CODE 920    
                             4044 ; 2201 |//$FILENAME audiblemp3x.src
                             4045 ; 2202 |#define RSRC_AUDIBLE_MP3X_CODE 921    
                             4046 ; 2203 |//$FILENAME audiblemp3y.src
                             4047 ; 2204 |#define RSRC_AUDIBLE_MP3Y_CODE 922    
                             4048 ; 2205 |
                             4049 ; 2206 |//$FILENAME audiblemetadata_p.src
                             4050 ; 2207 |#define RSRC_AUDIBLE_METADATA_P 923    
                             4051 ; 2208 |//$FILENAME audiblemetadata_y.src
                             4052 ; 2209 |#define RSRC_AUDIBLE_METADATA_Y 924    
                             4053 ; 2210 |//$FILENAME audiblesongposition_p.src
                             4054 ; 2211 |#define RSRC_AUDIBLE_SONG_POSITION_P 925    
                             4055 ; 2212 |//$FILENAME audibletargetcheck_p.src
                             4056 ; 2213 |#define RSRC_AUDIBLE_TARGET_CHECK_P 926    
                             4057 ; 2214 |//$FILENAME audiblefillfileinfo_p.src
                             4058 ; 2215 |#define RSRC_AUDIBLE_FILLFILEINFO_P 927    
                             4059 ; 2216 |//$FILENAME audibledsa_p.src
                             4060 ; 2217 |#define RSRC_AUDIBLE_DSA_P 928    
                             4061 ; 2218 |//$FILENAME audiblefillmetadata_p.src
                             4062 ; 2219 |#define RSRC_AUDIBLE_FILLMETADATA_P 929    
                             4063 ; 2220 |//$FILENAME audiblemetastrings_p.src
                             4064 ; 2221 |#define RSRC_AUDIBLE_METASTRINGS_P 930    
                             4065 ; 2222 |//$FILENAME aaactivationrecords_p.src
                             4066 ; 2223 |#define RSRC_AUDIBLE_ACTIVATION_P 931    
                             4067 ; 2224 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  17

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4068 ; 2225 |////////////////////////////////////////////////////////////////////////////////////////////////////
                             4069 ; 2226 |// Effects and SRS Resources
                             4070 ; 2227 |////////////////////////////////////////////////////////////////////////////////////////////////////
                             4071 ; 2228 |//$FILENAME srs_effectsmodules_p.src
                             4072 ; 2229 |#define RSRC_SRS_EFFECTS_MODULES_P 932    
                             4073 ; 2230 |//$FILENAME srs_effectsmodules_x.src
                             4074 ; 2231 |#define RSRC_SRS_EFFECTS_MODULES_X 933    
                             4075 ; 2232 |//$FILENAME wowctrl.src
                             4076 ; 2233 |#define RSRC_WOW_CTRL 934    
                             4077 ; 2234 |
                             4078 ; 2235 |//$FILENAME wowmenu.src
                             4079 ; 2236 |#define RSRC_WOW_MENU_CODE_BANK 935    
                             4080 ; 2237 |//$FILENAME string_wowbrightness_menu.src
                             4081 ; 2238 |#define RSRC_STRING_WOW_BRIGHTNESS 936    
                             4082 ; 2239 |//$FILENAME string_wow_menu.src
                             4083 ; 2240 |#define RSRC_STRING_WOW_MENU 937    
                             4084 ; 2241 |//$FILENAME string_wowtrubass_menu.src
                             4085 ; 2242 |#define RSRC_STRING_WOW_TRUBASS 938    
                             4086 ; 2243 |//$FILENAME string_wowvolume_menu.src
                             4087 ; 2244 |#define RSRC_STRING_WOW_VOLUME 939    
                             4088 ; 2245 |//$FILENAME string_wowbrightness_low_menu.src
                             4089 ; 2246 |#define RSRC_STRING_WOW_BRIGHT_LOW 940    
                             4090 ; 2247 |//$FILENAME string_wowbrightness_mid_menu.src
                             4091 ; 2248 |#define RSRC_STRING_WOW_BRIGHT_MID 941    
                             4092 ; 2249 |//$FILENAME string_wowbrightness_high_menu.src
                             4093 ; 2250 |#define RSRC_STRING_WOW_BRIGHT_HIGH 942    
                             4094 ; 2251 |//$FILENAME wow_icon.src
                             4095 ; 2252 |#define RSRC_WOW_ICON 943    
                             4096 ; 2253 |
                             4097 ; 2254 |//$FILENAME wow16k.src
                             4098 ; 2255 |#define RSRC_WOW16K 944    
                             4099 ; 2256 |//$FILENAME wow32k.src
                             4100 ; 2257 |#define RSRC_WOW32K 945    
                             4101 ; 2258 |//$FILENAME wow8k.src
                             4102 ; 2259 |#define RSRC_WOW8K 946    
                             4103 ; 2260 |//$FILENAME wow11k.src
                             4104 ; 2261 |#define RSRC_WOW11K 947    
                             4105 ; 2262 |//$FILENAME wow22k.src
                             4106 ; 2263 |#define RSRC_WOW22K 948    
                             4107 ; 2264 |//$FILENAME wow24k.src
                             4108 ; 2265 |#define RSRC_WOW24K 949    
                             4109 ; 2266 |//$FILENAME wow44k.src
                             4110 ; 2267 |#define RSRC_WOW44K 950    
                             4111 ; 2268 |//$FILENAME wow48k.src
                             4112 ; 2269 |#define RSRC_WOW48K 951    
                             4113 ; 2270 |
                             4114 ; 2271 |//$FILENAME wow16k_Y.src
                             4115 ; 2272 |#define RSRC_WOW16K_Y 952    
                             4116 ; 2273 |//$FILENAME wow32k_Y.src
                             4117 ; 2274 |#define RSRC_WOW32K_Y 953    
                             4118 ; 2275 |//$FILENAME wow8k_Y.src
                             4119 ; 2276 |#define RSRC_WOW8K_Y 954    
                             4120 ; 2277 |//$FILENAME wow11k_Y.src
                             4121 ; 2278 |#define RSRC_WOW11K_Y 955    
                             4122 ; 2279 |//$FILENAME wow22k_Y.src
                             4123 ; 2280 |#define RSRC_WOW22K_Y 956    
                             4124 ; 2281 |//$FILENAME wow24k_Y.src
                             4125 ; 2282 |#define RSRC_WOW24K_Y 957    
                             4126 ; 2283 |//$FILENAME wow44k_Y.src
                             4127 ; 2284 |#define RSRC_WOW44K_Y 958    
                             4128 ; 2285 |//$FILENAME wow48k_Y.src
                             4129 ; 2286 |#define RSRC_WOW48K_Y 959    
                             4130 ; 2287 |
                             4131 ; 2288 |/////////////////////////////////////////////////////////////////////////////////////////////////////
                             4132 ; 2289 |// Audible Section Navigation
                             4133 ; 2290 |/////////////////////////////////////////////////////////////////////////////////////////////////////
                             4134 ; 2291 |//$FILENAME audible_secnav.src
                             4135 ; 2292 |#define RSRC_AUDIBLE_SECNAV_ICON 960    
                             4136 ; 2293 |
                             4137 ; 2294 |////////////////////////////////////////////////////////////////////////////////////////////////////
                             4138 ; 2295 |// PLAYLIST3 and Music Library
                             4139 ; 2296 |////////////////////////////////////////////////////////////////////////////////////////////////////
                             4140 ; 2297 |
                             4141 ; 2298 |//$FILENAME build_ml.src
                             4142 ; 2299 |#define RSRC_BUILD_ML 961    
                             4143 ; 2300 |//$FILENAME build_ml_warning.src
                             4144 ; 2301 |#define RSRC_BUILD_ML_WARNING 962    
                             4145 ; 2302 |//$FILENAME build_ml_warning2.src
                             4146 ; 2303 |#define RSRC_BUILD_ML_WARNING2 963    
                             4147 ; 2304 |//$FILENAME build_flash1.src
                             4148 ; 2305 |#define RSRC_BUILD_FLASH1 964    
                             4149 ; 2306 |//$FILENAME build_flash2.src
                             4150 ; 2307 |#define RSRC_BUILD_FLASH2 965    
                             4151 ; 2308 |//$FILENAME build_flash3.src
                             4152 ; 2309 |#define RSRC_BUILD_FLASH3 966    
                             4153 ; 2310 |//$FILENAME build_sd1.src
                             4154 ; 2311 |#define RSRC_BUILD_SD1 967    
                             4155 ; 2312 |//$FILENAME build_sd2.src
                             4156 ; 2313 |#define RSRC_BUILD_SD2 968    
                             4157 ; 2314 |//$FILENAME build_sd3.src
                             4158 ; 2315 |#define RSRC_BUILD_SD3 969    
                             4159 ; 2316 |//$FILENAME build_newmusic.src
                             4160 ; 2317 |#define RSRC_BUILD_NEWMUSIC 970    
                             4161 ; 2318 |//$FILENAME sdmd.src
                             4162 ; 2319 |#define RSRC_SDMD_MENU_CODE_BANK 971    
                             4163 ; 2320 |//$FILENAME musiclib_build_function_sec.src
                             4164 ; 2321 |#define RSRC_MUSICLIB_BUILD_FUNCTION_SEC 972    
                             4165 ; 2322 |//$FILENAME musiclib_build_function_flush.src
                             4166 ; 2323 |#define RSRC_MUSICLIB_BUILD_FUNCTION_FLUSH 973    
                             4167 ; 2324 |//$FILENAME MusicLibBuildModule.src
                             4168 ; 2325 |#define RSRC_MUSICLIB_BUILD_MODULE 974    
                             4169 ; 2326 |//$FILENAME MusicLibBuildGenreTable.src
                             4170 ; 2327 |#define RSRC_MUSICLIB_BUILD_GENRE_TABLE 975    
                             4171 ; 2328 |//$FILENAME MusicLibBuildFlushMem.src
                             4172 ; 2329 |#define RSRC_MUSICLIB_BUILD_FLUSH_MEM 976    
                             4173 ; 2330 |//$FILENAME MusicLibBrowseModule.src
                             4174 ; 2331 |#define RSRC_MUSICLIB_BROWSE_MODULE 977    
                             4175 ; 2332 |//$FILENAME MusicLibPlayModule.src
                             4176 ; 2333 |#define RSRC_MUSICLIB_PLAY_MODULE 978    
                             4177 ; 2334 |//$FILENAME MusicLibPlayAllNextModule.src
                             4178 ; 2335 |#define RSRC_MUSICLIB_PLAYALLNEXT_MODULE 979    
                             4179 ; 2336 |//$FILENAME MusicLibPlayAllPrevModule.src
                             4180 ; 2337 |#define RSRC_MUSICLIB_PLAYALLPREV_MODULE 980    
                             4181 ; 2338 |//$FILENAME MusicLibShuffleModule.src
                             4182 ; 2339 |#define RSRC_MUSICLIB_SHUFFLE_MODULE 981    
                             4183 ; 2340 |//$FILENAME Funclet_write_detection_access.src
                             4184 ; 2341 |#define RSRC_FUNCLET_WRITE_DETECTION_ACCESS 982    
                             4185 ; 2342 |//$FILENAME Funclet_LOCAL_GetLvlOneItem_info.src
                             4186 ; 2343 |#define RSRC_FUNCLET_LOCAL_GET_LVL_ONE_ITEM_INFO 983    
                             4187 ; 2344 |//$FILENAME Funclet_LOCAL_GetFlashAssociatedList_info.src
                             4188 ; 2345 |#define RSRC_FUNCLET_LOCAL_GET_FLASH_ASSOCIATED_LIST_INFO 984    
                             4189 ; 2346 |//$FILENAME Funclet_ML_ResumePlayState.src
                             4190 ; 2347 |#define RSRC_FUNCLET_ML_RESUMEPLAYSTATE 985    
                             4191 ; 2348 |//$FILENAME Funclet_ML_UpdateOnTheGo.src
                             4192 ; 2349 |#define RSRC_FUNCLET_ML_UPDATE_ON_THE_GO 986    
                             4193 ; 2350 |//$FILENAME Funclet_ML_ChOnTheGo.src
                             4194 ; 2351 |#define RSRC_FUNCLET_ML_CH_ON_THE_GO 987    
                             4195 ; 2352 |//$FILENAME Funclet_ML_LoadOnTheGo.src
                             4196 ; 2353 |#define RSRC_FUNCLET_ML_LOAD_ON_THE_GO 988    
                             4197 ; 2354 |//$FILENAME Funclet_Build_InitandUseCache.src
                             4198 ; 2355 |#define RSRC_FUNCLET_BUILD_INIT_AND_USE_CACHE 989    
                             4199 ; 2356 |//$FILENAME Funclet_Build_FlushAndCloseCache.src
                             4200 ; 2357 |#define RSRC_FUNCLET_BUILD_FLUSH_AND_CLOSE_CACHE 990    
                             4201 ; 2358 |//$FILENAME Funclet_ML_movePointerBackward.src
                             4202 ; 2359 |#define RSRC_FUNCLET_ML_MOVE_POINTER_BACKWARD 991    
                             4203 ; 2360 |//$FILENAME Funclet_ML_findLastItemPointer.src
                             4204 ; 2361 |#define RSRC_FUNCLET_ML_FIND_LAST_ITEM_POINTER 992    
                             4205 ; 2362 |//$FILENAME Funclet_ML_startShuffle.src
                             4206 ; 2363 |#define RSRC_FUNCLET_ML_START_SHUFFLE 993    
                             4207 ; 2364 |//$FILENAME Funclet_ML_GetFlashDirAssocListId.src
                             4208 ; 2365 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_ID 994    
                             4209 ; 2366 |//$FILENAME Funclet_ML_GetFlashDirAssocListRootId.src
                             4210 ; 2367 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_ROOT_ID 995    
                             4211 ; 2368 |//$FILENAME Funclet_ML_GetFlashDirAssocListSize.src
                             4212 ; 2369 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_SIZE 996    
                             4213 ; 2370 |//$FILENAME Funclet_ML_GetIdByStateAndPosition.src
                             4214 ; 2371 |#define RSRC_FUNCLET_ML_GET_ID_BY_STATE_AND_POSITION 997    
                             4215 ; 2372 |//$FILENAME Funclet_ML_StartPlayDirSongInit.src
                             4216 ; 2373 |#define RSRC_FUNCLET_ML_START_PLAY_DIR_SONG_INIT 998    
                             4217 ; 2374 |//$FILENAME Funclet_ML_ShuffleNextDirSong.src
                             4218 ; 2375 |#define RSRC_FUNCLET_ML_SHUFFLE_NEXT_DIR_SONG 999    
                             4219 ; 2376 |//$FILENAME Funclet_ML_BrowseMenu.src
                             4220 ; 2377 |#define RSRC_FUNCLET_ML_BROWSE_MENU 1000    
                             4221 ; 2378 |//$FILENAME Funclet_ML_StartPlayAllSong.src
                             4222 ; 2379 |#define RSRC_FUNCLET_ML_START_PLAY_ALL_SONG 1001    
                             4223 ; 2380 |//$FILENAME Funclet_ML_PlayAllNextSong.src
                             4224 ; 2381 |#define RSRC_FUNCLET_ML_PLAY_ALL_NEXT_SONG 1002    
                             4225 ; 2382 |//$FILENAME Funclet_ML_PlayAllPreviousSong.src
                             4226 ; 2383 |#define RSRC_FUNCLET_ML_PLAY_ALL_PREVIOUS_SONG 1003    
                             4227 ; 2384 |//$FILENAME Funclet_ML_PlayPreviousDirSong.src
                             4228 ; 2385 |#define RSRC_FUNCLET_ML_PLAY_PREVIOUS_DIR_SONG 1004    
                             4229 ; 2386 |//$FILENAME Funclet_ML_ShuffleNextSong.src
                             4230 ; 2387 |#define RSRC_FUNCLET_ML_SHUFFLE_NEXT_SONG 1005    
                             4231 ; 2388 |//$FILENAME Funclet_ML_PlayNextSong.src
                             4232 ; 2389 |#define RSRC_FUNCLET_ML_PLAY_NEXT_SONG 1006    
                             4233 ; 2390 |//$FILENAME Funclet_ML_PlayPreviousSong.src
                             4234 ; 2391 |#define RSRC_FUNCLET_ML_PLAY_PREVIOUS_SONG 1007    
                             4235 ; 2392 |//$FILENAME Funclet_BuildVoiceFilePath.src
                             4236 ; 2393 |#define RSRC_FUNCLET_BUILDVOICEFILEPATH 1008    
                             4237 ; 2394 |//$FILENAME Funclet_BuildFMFilePath.src
                             4238 ; 2395 |#define RSRC_FUNCLET_BUILDFMFILEPATH 1009    
                             4239 ; 2396 |//$FILENAME Funclet_BuildLINEINFilePath.src
                             4240 ; 2397 |#define RSRC_FUNCLET_BUILDLINEINFILEPATH 1010    
                             4241 ; 2398 |//$FILENAME Funclet_GetVoiceFastKey.src
                             4242 ; 2399 |#define RSRC_FUNCLET_GETVOICEFASTKEY 1011    
                             4243 ; 2400 |//$FILENAME MusicLibVoiceApp.src
                             4244 ; 2401 |#define RSRC_MUSICLIB_VOICE_APP 1012    
                             4245 ; 2402 |//$FILENAME MusicLibVoiceModule.src
                             4246 ; 2403 |#define RSRC_MUSICLIB_VOICE_MODULE 1013    
                             4247 ; 2404 |//$FILENAME MusicLibVoicePlayModule.src
                             4248 ; 2405 |#define RSRC_MUSICLIB_VOICEPLAY_MODULE 1014    
                             4249 ; 2406 |//$FILENAME MusicLibMergeFunction.src
                             4250 ; 2407 |#define RSRC_MUSICLIB_MERGE_FUNCTION 1015    
                             4251 ; 2408 |//$FILENAME MusicLibMergeModule.src
                             4252 ; 2409 |#define RSRC_MUSICLIB_MERGE_MODULE 1016    
                             4253 ; 2410 |//$FILENAME MusicLibBrowseApp.src
                             4254 ; 2411 |#define RSRC_MUSICLIB_BROWSE_APP 1017    
                             4255 ; 2412 |//$FILENAME playmusicmenu.src
                             4256 ; 2413 |#define RSRC_PLAYMUSIC_MENU_CODE_BANK 1018    
                             4257 ; 2414 |//$FILENAME browsemenu.src
                             4258 ; 2415 |#define RSRC_BROWSE_MENU_CODE_BANK 1019    
                             4259 ; 2416 |//$FILENAME browsemenu_extra.src
                             4260 ; 2417 |#define RSRC_BROWSE_MENU_EXTRA_CODE_BANK 1020    
                             4261 ; 2418 |//$FILENAME string_play_all.src
                             4262 ; 2419 |#define RSRC_STRING_PLAY_ALL 1021    
                             4263 ; 2420 |//$FILENAME string_play.src
                             4264 ; 2421 |#define RSRC_STRING_PLAY 1022    
                             4265 ; 2422 |//$FILENAME string_unknown_year.src
                             4266 ; 2423 |#define RSRC_STRING_UNKNOWN_YEAR 1023    
                             4267 ; 2424 |//$FILENAME string_year_width.src
                             4268 ; 2425 |#define RSRC_STRING_YEAR_WIDTH 1024    
                             4269 ; 2426 |//$FILENAME string_artist.src
                             4270 ; 2427 |#define RSRC_STRING_ARTIST 1025    
                             4271 ; 2428 |//$FILENAME string_songs.src
                             4272 ; 2429 |#define RSRC_STRING_SONGS 1026    
                             4273 ; 2430 |//$FILENAME string_on_the_fly.src
                             4274 ; 2431 |#define RSRC_STRING_ON_THE_FLY 1027    
                             4275 ; 2432 |//$FILENAME string_new_music.src
                             4276 ; 2433 |#define RSRC_STRING_NEW_MUSIC_MENU 1028    
                             4277 ; 2434 |//$FILENAME string_genre.src
                             4278 ; 2435 |#define RSRC_STRING_GENRE 1029    
                             4279 ; 2436 |//$FILENAME string_year.src
                             4280 ; 2437 |#define RSRC_STRING_YEAR 1030    
                             4281 ; 2438 |//$FILENAME string_playlist.src
                             4282 ; 2439 |#define RSRC_STRING_PLAYLIST 1031    
                             4283 ; 2440 |//$FILENAME string_fm_rec.src
                             4284 ; 2441 |#define RSRC_STRING_FM_REC 1032    
                             4285 ; 2442 |//$FILENAME string_linein_rec.src
                             4286 ; 2443 |#define RSRC_STRING_LINEIN_REC 1033    
                             4287 ; 2444 |//$FILENAME string_play_music.src
                             4288 ; 2445 |#define RSRC_STRING_PLAY_MUSIC 1034    
                             4289 ; 2446 |//$FILENAME highlight_back.src
                             4290 ; 2447 |#define RSRC_HIGHLIGHT_BACK 1035    
                             4291 ; 2448 |//$FILENAME newmusicmenu.src
                             4292 ; 2449 |#define RSRC_NEW_MUSIC_MENU_CODE_BANK 1036    
                             4293 ; 2450 |//$FILENAME string_1_day.src
                             4294 ; 2451 |#define RSRC_STRING_1_DAY 1037    
                             4295 ; 2452 |//$FILENAME string_1_week.src
                             4296 ; 2453 |#define RSRC_STRING_1_WEEK 1038    
                             4297 ; 2454 |//$FILENAME string_1_month.src
                             4298 ; 2455 |#define RSRC_STRING_1_MONTH 1039    
                             4299 ; 2456 |//$FILENAME on_the_fly_full.src
                             4300 ; 2457 |#define RSRC_LIST_FULL_MESSAGE 1040    
                             4301 ; 2458 |//$FILENAME on_the_fly_free1.src
                             4302 ; 2459 |#define RSRC_LIST_FREE_MESSAGE 1041    
                             4303 ; 2460 |//$FILENAME on_the_fly_free2.src
                             4304 ; 2461 |#define RSRC_LIST_FREE_MESSAGE2 1042    
                             4305 ; 2462 |//$FILENAME on_the_fly_delete1.src
                             4306 ; 2463 |#define RSRC_LIST_DELETE_MESSAGE 1043    
                             4307 ; 2464 |//$FILENAME on_the_fly_delete2.src
                             4308 ; 2465 |#define RSRC_LIST_DELETE_MESSAGE2 1044    
                             4309 ; 2466 |//$FILENAME empty_favourite.src
                             4310 ; 2467 |#define RSRC_EMPTY_FAVOURITE 1045    
                             4311 ; 2468 |//$FILENAME sd_remove.src
                             4312 ; 2469 |#define RSRC_SD_REMOVE 1046    
                             4313 ; 2470 |//$FILENAME sd_insert.src
                             4314 ; 2471 |#define RSRC_SD_INSERT 1047    
                             4315 ; 2472 |//$FILENAME check_disk_1.src
                             4316 ; 2473 |#define RSRC_CHECK_DISK_1 1048    
                             4317 ; 2474 |//$FILENAME check_disk_2.src
                             4318 ; 2475 |#define RSRC_CHECK_DISK_2 1049    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  18

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4319 ; 2476 |//$FILENAME check_disk_3.src
                             4320 ; 2477 |#define RSRC_CHECK_DISK_3 1050    
                             4321 ; 2478 |//$FILENAME flash_error.src
                             4322 ; 2479 |#define RSRC_FLASH_ERROR 1051    
                             4323 ; 2480 |
                             4324 ; 2481 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             4325 ; 2482 |// STFM1000 Tuner funclet
                             4326 ; 2483 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             4327 ; 2484 |//$FILENAME Funclet_TunerDriverInit.src
                             4328 ; 2485 |#define RSRC_FUNCLET_TUNER_DRIVER_INIT 1052    
                             4329 ; 2486 |//$FILENAME Funclet_TunerDriverIncUp.src
                             4330 ; 2487 |#define RSRC_FUNCLET_TUNER_DRIVER_INC_UP 1053    
                             4331 ; 2488 |//$FILENAME Funclet_TunerDriverIncDown.src
                             4332 ; 2489 |#define RSRC_FUNCLET_TUNER_DRIVER_INC_DOWN 1054    
                             4333 ; 2490 |//$FILENAME Funclet_TunerDriverStandyby.src
                             4334 ; 2491 |#define RSRC_FUNCLET_TUNER_DRIVER_SET_STANDBY 1055    
                             4335 ; 2492 |//$FILENAME Funclet_TunerDriverReplacePreset.src
                             4336 ; 2493 |#define RSRC_FUNCLET_TUNER_DRIVER_REPLACE_PRESET 1056    
                             4337 ; 2494 |//$FILENAME Funclet_TunerDriverErasePreset.src
                             4338 ; 2495 |#define RSRC_FUNCLET_TUNER_DRIVER_ERASE_PRESET 1057    
                             4339 ; 2496 |//$FILENAME Funclet_TunerDriverTuneToPreset.src
                             4340 ; 2497 |#define RSRC_FUNCLET_TUNER_DRIVER_TUNE_TO_PRESET 1058    
                             4341 ; 2498 |//$FILENAME Funclet_TunerDriverSearchDown.src
                             4342 ; 2499 |#define RSRC_FUNCLET_TUNER_DRIVER_SEARCH_DOWN 1059    
                             4343 ; 2500 |//$FILENAME Funclet_TunerSTFM1000SafePowerDown.src
                             4344 ; 2501 |#define RSRC_FUNCLET_TUNER_SAFE_POWER_DOWN 1060    
                             4345 ; 2502 |//$FILENAME Funclet_TunerSTFM1000OptimizeChannel.src
                             4346 ; 2503 |#define RSRC_FUNCLET_STFM1000_TUNER_OPTIMIZE_CHANNEL 1061    
                             4347 ; 2504 |//$FILENAME decstfmmod.src
                             4348 ; 2505 |#define RSRC_DEC_STFM_MOD_CODE 1062    
                             4349 ; 2506 |//$FILENAME dec_stfmp.src
                             4350 ; 2507 |#define RSRC_DEC_STFMP_CODE 1063    
                             4351 ; 2508 |//$FILENAME dec_stfmx.src
                             4352 ; 2509 |#define RSRC_DEC_STFMX_CODE 1064    
                             4353 ; 2510 |//$FILENAME dec_stfmy.src
                             4354 ; 2511 |#define RSRC_DEC_STFMY_CODE 1065    
                             4355 ; 2512 |//$FILENAME Funclet_TunerSTFM1000I2CInit.src
                             4356 ; 2513 |#define RSRC_FUNCLET_STFM1000_I2C_INIT 1066    
                             4357 ; 2514 |//$FILENAME Funclet_TunerDriverScanStations.src
                             4358 ; 2515 |#define RSRC_FUNCLET_TUNER_DRIVER_SCAN_STATION 1067    
                             4359 ; 2516 |//$FILENAME Funclet_TunerDriverSetMonoStereoMode.src
                             4360 ; 2517 |#define RSRC_FUNCLET_TUNER_DRIVER_SET_MONO_STEREO_MODE 1068    
                             4361 ; 2518 |//$FILENAME Funclet_STFM1000TestPresence.src
                             4362 ; 2519 |#define RSRC_FUNCLET_STFM1000_TEST_PRESENCE 1069    
                             4363 ; 2520 |//$FILENAME Funclet_I2CWriteTunerRegister.src
                             4364 ; 2521 |#define RSRC_FUNCLET_I2C_WRITE_TUNER_REGISTER 1070    
                             4365 ; 2522 |//$FILENAME Funclet_I2CReset.src
                             4366 ; 2523 |#define RSRC_FUNCLET_I2C_RESET 1071    
                             4367 ; 2524 |//$FILENAME fmtunersecondrsrc.src
                             4368 ; 2525 |#define RSRC_FM_TUNER_SECOND_RSRC 1072    
                             4369 ; 2526 |//$FILENAME Funclet_TunerSTFM1000RegPowerUp1.src
                             4370 ; 2527 |#define RSRC_FUNCLET_STFM1000_REG_POWER_UP1 1073    
                             4371 ; 2528 |//$FILENAME Funclet_TunerSTFM1000RegPowerUp2.src
                             4372 ; 2529 |#define RSRC_FUNCLET_STFM1000_REG_POWER_UP2 1074    
                             4373 ; 2530 |//$FILENAME Funclet_TunerSTFM1000FindRssiThreshold.src
                             4374 ; 2531 |#define RSRC_FUNCLET_STFM1000_FIND_RSSI_THRESHOLD 1075    
                             4375 ; 2532 |//$FILENAME Funclet_TunerSTFM1000DataPathOff.src
                             4376 ; 2533 |#define RSRC_FUNCLET_STFM1000_DATA_PATH_OFF 1076    
                             4377 ; 2534 |//$FILENAME Funclet_TunerSTFM1000ContinueSearching.src
                             4378 ; 2535 |#define RSRC_FUNCLET_STFM1000_CONTINUE_SEARCHING 1077    
                             4379 ; 2536 |//RSRC_FUNCLET_STFM1000_SET_LNA_BIAS    equ      975    ;$FILENAME Funclet_STFM1000SetLnaBias.src
                             4380 ; 2537 |//RSRC_FUNCLET_STFM1000_LOOK_FOR_PILOT    equ      976    ;$FILENAME Funclet_STFM1000LookForPilot.src
                             4381 ; 2538 |//$FILENAME Funclet_STFM1000TunerSearchEnded.src
                             4382 ; 2539 |#define RSRC_FUNCLET_STFM1000_TUNER_SEARCH_ENDED 1078    
                             4383 ; 2540 |// for RestoreDriveFromBackup
                             4384 ; 2541 |//$FILENAME restoresysdrive.src
                             4385 ; 2542 |#define RSRC_RESTORESYSDRIVE_P_CODE 1079    
                             4386 ; 2543 |
                             4387 ; 2544 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             4388 ; 2545 |// Playlist5 sources
                             4389 ; 2546 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             4390 ; 2547 |//$FILENAME playlist5_browsemenu.src
                             4391 ; 2548 |#define RSRC_PL5BROWSE_MENU_CODEBANK 1080    
                             4392 ; 2549 |//$FILENAME playlist5_browsemenu_extra.src
                             4393 ; 2550 |#define RSRC_PL5_BROWSEMENU_EXTRA 1081    
                             4394 ; 2551 |//$FILENAME playlist5_browse_submenu.src
                             4395 ; 2552 |#define RSRC_PL5BROWSE_SUBMENU_CODEBANK 1082    
                             4396 ; 2553 |//$FILENAME playlist5_playback_module.src
                             4397 ; 2554 |#define RSRC_PLAYLIST5_PLAYBACK_MODULE 1083    
                             4398 ; 2555 |//$FILENAME playlist5_browse_module.src
                             4399 ; 2556 |#define RSRC_PLAYLIST5_BROWSE_MODULE 1084    
                             4400 ; 2557 |
                             4401 ; 2558 |//$FILENAME Funclet_Get_LRCDirName_PL5.src
                             4402 ; 2559 |#define RSRC_FUNCLET_GET_LRC_DIR_NAME_PL5 1085    
                             4403 ; 2560 |//$FILENAME Funclet_PL5_PL_QueuePushBack.src   
                             4404 ; 2561 |#define RSRC_FUNCLET_PL5_PL_QUEUEPUSHBACK 1086    
                             4405 ; 2562 |//$FILENAME Funclet_PL5_PL_QueuePushFront.src 
                             4406 ; 2563 |#define RSRC_FUNCLET_PL5_PL_QUEUEPUSHFRONT 1087    
                             4407 ; 2564 |
                             4408 ; 2565 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             4409 ; 2566 |// DanhNguyen added bitmaps
                             4410 ; 2567 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             4411 ; 2568 |//$FILENAME icon_folder.src
                             4412 ; 2569 |#define RSRC_ICON_FOLDER 1088    
                             4413 ; 2570 |//$FILENAME icon_song.src
                             4414 ; 2571 |#define RSRC_ICON_SONG 1089    
                             4415 ; 2572 |
                             4416 ; 2573 |//$FILENAME menu_music.src
                             4417 ; 2574 |#define RSRC_MENU_MUSIC 1090    
                             4418 ; 2575 |//$FILENAME vie_menu_music.src
                             4419 ; 2576 |#define RSRC_VIE_MENU_MUSIC 1091    
                             4420 ; 2577 |
                             4421 ; 2578 |//$FILENAME menu_voice.src
                             4422 ; 2579 |#define RSRC_MENU_VOICE 1092    
                             4423 ; 2580 |//$FILENAME vie_menu_voice.src
                             4424 ; 2581 |#define RSRC_VIE_MENU_VOICE 1093    
                             4425 ; 2582 |
                             4426 ; 2583 |//$FILENAME menu_fmtuner.src
                             4427 ; 2584 |#define RSRC_MENU_FMTUNER 1094    
                             4428 ; 2585 |//$FILENAME vie_menu_fmtuner.src
                             4429 ; 2586 |#define RSRC_VIE_MENU_FMTUNER 1095    
                             4430 ; 2587 |
                             4431 ; 2588 |//$FILENAME menu_record.src
                             4432 ; 2589 |#define RSRC_MENU_RECORD 1096    
                             4433 ; 2590 |//$FILENAME vie_menu_record.src
                             4434 ; 2591 |#define RSRC_VIE_MENU_RECORD 1097    
                             4435 ; 2592 |
                             4436 ; 2593 |//$FILENAME menu_settings.src
                             4437 ; 2594 |#define RSRC_MENU_SETTINGS 1098    
                             4438 ; 2595 |//$FILENAME vie_menu_settings.src
                             4439 ; 2596 |#define RSRC_VIE_MENU_SETTINGS 1099    
                             4440 ; 2597 |
                             4441 ; 2598 |//$FILENAME menu_shutdown.src
                             4442 ; 2599 |#define RSRC_MENU_SHUTDOWN 1100    
                             4443 ; 2600 |//$FILENAME vie_menu_shutdown.src
                             4444 ; 2601 |#define RSRC_VIE_MENU_SHUTDOWN 1101    
                             4445 ; 2602 |
                             4446 ; 2603 |//$FILENAME menu_clock.src
                             4447 ; 2604 |#define RSRC_MENU_CLOCK 1102    
                             4448 ; 2605 |//$FILENAME vie_menu_clock.src
                             4449 ; 2606 |#define RSRC_VIE_MENU_CLOCK 1103    
                             4450 ; 2607 |
                             4451 ; 2608 |//$FILENAME menu_ab.src
                             4452 ; 2609 |#define RSRC_MENU_AB 1104    
                             4453 ; 2610 |//$FILENAME vie_menu_ab.src
                             4454 ; 2611 |#define RSRC_VIE_MENU_AB 1105    
                             4455 ; 2612 |
                             4456 ; 2613 |//$FILENAME menu_delete.src
                             4457 ; 2614 |#define RSRC_MENU_DELETE 1106    
                             4458 ; 2615 |//$FILENAME vie_menu_delete.src
                             4459 ; 2616 |#define RSRC_VIE_MENU_DELETE 1107    
                             4460 ; 2617 |
                             4461 ; 2618 |//$FILENAME menu_about.src
                             4462 ; 2619 |#define RSRC_MENU_ABOUT 1108    
                             4463 ; 2620 |//$FILENAME vie_menu_about.src
                             4464 ; 2621 |#define RSRC_VIE_MENU_ABOUT 1109    
                             4465 ; 2622 |
                             4466 ; 2623 |//$FILENAME menu_exit.src
                             4467 ; 2624 |#define RSRC_MENU_EXIT 1110    
                             4468 ; 2625 |//$FILENAME vie_menu_exit.src
                             4469 ; 2626 |#define RSRC_VIE_MENU_EXIT 1111    
                             4470 ; 2627 |
                             4471 ; 2628 |//$FILENAME music_play_all.src
                             4472 ; 2629 |#define RSRC_MUSIC_PLAY_ALL 1112    
                             4473 ; 2630 |//$FILENAME vie_music_play_all.src
                             4474 ; 2631 |#define RSRC_VIE_MUSIC_PLAY_ALL 1113    
                             4475 ; 2632 |
                             4476 ; 2633 |//$FILENAME music_folder_internal.src
                             4477 ; 2634 |#define RSRC_MUSIC_FOLDER_INTERNAL 1114    
                             4478 ; 2635 |//$FILENAME vie_music_folder_internal.src
                             4479 ; 2636 |#define RSRC_VIE_MUSIC_FOLDER_INTERNAL 1115    
                             4480 ; 2637 |
                             4481 ; 2638 |//$FILENAME music_folder_external.src
                             4482 ; 2639 |#define RSRC_MUSIC_FOLDER_EXTERNAL 1116    
                             4483 ; 2640 |//$FILENAME vie_music_folder_external.src
                             4484 ; 2641 |#define RSRC_VIE_MUSIC_FOLDER_EXTERNAL 1117    
                             4485 ; 2642 |
                             4486 ; 2643 |//$FILENAME music_songs.src
                             4487 ; 2644 |#define RSRC_MUSIC_SONGS 1118    
                             4488 ; 2645 |//$FILENAME vie_music_songs.src
                             4489 ; 2646 |#define RSRC_VIE_MUSIC_SONGS 1119    
                             4490 ; 2647 |
                             4491 ; 2648 |//$FILENAME music_favorites.src
                             4492 ; 2649 |#define RSRC_MUSIC_FAVORITES 1120    
                             4493 ; 2650 |//$FILENAME vie_music_favorites.src
                             4494 ; 2651 |#define RSRC_VIE_MUSIC_FAVORITES 1121    
                             4495 ; 2652 |
                             4496 ; 2653 |//$FILENAME music_fm_record.src
                             4497 ; 2654 |#define RSRC_MUSIC_FM_RECORD 1122    
                             4498 ; 2655 |//$FILENAME vie_music_fm_record.src
                             4499 ; 2656 |#define RSRC_VIE_MUSIC_FM_RECORD 1123    
                             4500 ; 2657 |
                             4501 ; 2658 |//$FILENAME music_exit.src
                             4502 ; 2659 |#define RSRC_MUSIC_EXIT 1124    
                             4503 ; 2660 |//$FILENAME vie_music_exit.src
                             4504 ; 2661 |#define RSRC_VIE_MUSIC_EXIT 1125    
                             4505 ; 2662 |
                             4506 ; 2663 |//$FILENAME browse_music_folder_internal.src
                             4507 ; 2664 |#define RSRC_BROWSE_MUSIC_FOLDER_INTERNAL 1126    
                             4508 ; 2665 |//$FILENAME vie_browse_music_folder_internal.src
                             4509 ; 2666 |#define RSRC_VIE_BROWSE_MUSIC_FOLDER_INTERNAL 1127    
                             4510 ; 2667 |
                             4511 ; 2668 |//$FILENAME browse_music_folder_external.src
                             4512 ; 2669 |#define RSRC_BROWSE_MUSIC_FOLDER_EXTERNAL 1128    
                             4513 ; 2670 |//$FILENAME vie_browse_music_folder_external.src
                             4514 ; 2671 |#define RSRC_VIE_BROWSE_MUSIC_FOLDER_EXTERNAL 1129    
                             4515 ; 2672 |
                             4516 ; 2673 |//$FILENAME browse_music_list_songs.src
                             4517 ; 2674 |#define RSRC_BROWSE_MUSIC_LIST_SONGS 1130    
                             4518 ; 2675 |//$FILENAME vie_browse_music_list_songs.src
                             4519 ; 2676 |#define RSRC_VIE_BROWSE_MUSIC_LIST_SONGS 1131    
                             4520 ; 2677 |
                             4521 ; 2678 |//$FILENAME browse_music_favourites.src
                             4522 ; 2679 |#define RSRC_BROWSE_MUSIC_FAVOURITES 1132    
                             4523 ; 2680 |//$FILENAME vie_browse_music_favourites.src
                             4524 ; 2681 |#define RSRC_VIE_BROWSE_MUSIC_FAVOURITES 1133    
                             4525 ; 2682 |
                             4526 ; 2683 |//$FILENAME browse_music_fm_files.src
                             4527 ; 2684 |#define RSRC_BROWSE_MUSIC_FM_FILES 1134    
                             4528 ; 2685 |//$FILENAME vie_browse_music_fm_files.src
                             4529 ; 2686 |#define RSRC_VIE_BROWSE_MUSIC_FM_FILES 1135    
                             4530 ; 2687 |
                             4531 ; 2688 |//$FILENAME browse_voice.src
                             4532 ; 2689 |#define RSRC_BROWSE_VOICE 1136    
                             4533 ; 2690 |//$FILENAME vie_browse_voice.src
                             4534 ; 2691 |#define RSRC_VIE_BROWSE_VOICE 1137    
                             4535 ; 2692 |
                             4536 ; 2693 |//$FILENAME favourites_list_add.src
                             4537 ; 2694 |#define RSRC_FAVOURITES_LIST_ADD 1138    
                             4538 ; 2695 |//$FILENAME vie_favourites_list_add.src
                             4539 ; 2696 |#define RSRC_VIE_FAVOURITES_LIST_ADD 1139    
                             4540 ; 2697 |
                             4541 ; 2698 |//$FILENAME favourites_list_remove.src
                             4542 ; 2699 |#define RSRC_FAVOURITES_LIST_REMOVE 1140    
                             4543 ; 2700 |//$FILENAME vie_favourites_list_remove.src
                             4544 ; 2701 |#define RSRC_VIE_FAVOURITES_LIST_REMOVE 1141    
                             4545 ; 2702 |
                             4546 ; 2703 |//$FILENAME favourites_list_is_full.src
                             4547 ; 2704 |#define RSRC_FAVOURITES_LIST_IS_FULL 1142    
                             4548 ; 2705 |//$FILENAME vie_favourites_list_is_full.src
                             4549 ; 2706 |#define RSRC_VIE_FAVOURITES_LIST_IS_FULL 1143    
                             4550 ; 2707 |
                             4551 ; 2708 |//$FILENAME about_screen_1.src
                             4552 ; 2709 |#define RSRC_ABOUT_SCREEN_1 1144    
                             4553 ; 2710 |//$FILENAME vie_about_screen_1.src
                             4554 ; 2711 |#define RSRC_VIE_ABOUT_SCREEN_1 1145    
                             4555 ; 2712 |
                             4556 ; 2713 |//$FILENAME about_screen_2.src
                             4557 ; 2714 |#define RSRC_ABOUT_SCREEN_2 1146    
                             4558 ; 2715 |//$FILENAME vie_about_screen_2.src
                             4559 ; 2716 |#define RSRC_VIE_ABOUT_SCREEN_2 1147    
                             4560 ; 2717 |
                             4561 ; 2718 |//$FILENAME about_screen_3.src
                             4562 ; 2719 |#define RSRC_ABOUT_SCREEN_3 1148    
                             4563 ; 2720 |//$FILENAME vie_about_screen_3.src
                             4564 ; 2721 |#define RSRC_VIE_ABOUT_SCREEN_3 1149    
                             4565 ; 2722 |
                             4566 ; 2723 |//$FILENAME about_screen_4.src
                             4567 ; 2724 |#define RSRC_ABOUT_SCREEN_4 1150    
                             4568 ; 2725 |//$FILENAME vie_about_screen_4.src
                             4569 ; 2726 |#define RSRC_VIE_ABOUT_SCREEN_4 1151    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  19

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4570 ; 2727 |
                             4571 ; 2728 |//$FILENAME time_date_exit_title.src
                             4572 ; 2729 |#define RSRC_TIME_DATE_EXIT_TITLE 1152    
                             4573 ; 2730 |//$FILENAME vie_time_date_exit_title.src
                             4574 ; 2731 |#define RSRC_VIE_TIME_DATE_EXIT_TITLE 1153    
                             4575 ; 2732 |
                             4576 ; 2733 |//$FILENAME time_clean_desktop.src
                             4577 ; 2734 |#define RSRC_TIME_CLEAN_DESKTOP 1154    
                             4578 ; 2735 |//$FILENAME time_dash.src
                             4579 ; 2736 |#define RSRC_TIME_DASH 1155    
                             4580 ; 2737 |
                             4581 ; 2738 |//$FILENAME time_day_7.src
                             4582 ; 2739 |#define RSRC_TIME_DAY_SAT 1156    
                             4583 ; 2740 |//$FILENAME vie_time_day_7.src
                             4584 ; 2741 |#define RSRC_VIE_TIME_DAY_SAT 1157    
                             4585 ; 2742 |//$FILENAME time_day_cn.src
                             4586 ; 2743 |#define RSRC_TIME_DAY_SUN 1158    
                             4587 ; 2744 |//$FILENAME vie_time_day_cn.src
                             4588 ; 2745 |#define RSRC_VIE_TIME_DAY_SUN 1159    
                             4589 ; 2746 |//$FILENAME time_day_2.src
                             4590 ; 2747 |#define RSRC_TIME_DAY_MON 1160    
                             4591 ; 2748 |//$FILENAME vie_time_day_2.src
                             4592 ; 2749 |#define RSRC_VIE_TIME_DAY_MON 1161    
                             4593 ; 2750 |//$FILENAME time_day_3.src
                             4594 ; 2751 |#define RSRC_TIME_DAY_TUE 1162    
                             4595 ; 2752 |//$FILENAME vie_time_day_3.src
                             4596 ; 2753 |#define RSRC_VIE_TIME_DAY_TUE 1163    
                             4597 ; 2754 |//$FILENAME time_day_4.src
                             4598 ; 2755 |#define RSRC_TIME_DAY_WED 1164    
                             4599 ; 2756 |//$FILENAME vie_time_day_4.src
                             4600 ; 2757 |#define RSRC_VIE_TIME_DAY_WED 1165    
                             4601 ; 2758 |//$FILENAME time_day_5.src
                             4602 ; 2759 |#define RSRC_TIME_DAY_THU 1166    
                             4603 ; 2760 |//$FILENAME vie_time_day_5.src
                             4604 ; 2761 |#define RSRC_VIE_TIME_DAY_THU 1167    
                             4605 ; 2762 |//$FILENAME time_day_6.src
                             4606 ; 2763 |#define RSRC_TIME_DAY_FRI 1168    
                             4607 ; 2764 |//$FILENAME vie_time_day_6.src
                             4608 ; 2765 |#define RSRC_VIE_TIME_DAY_FRI 1169    
                             4609 ; 2766 |
                             4610 ; 2767 |//$FILENAME time_month_1.src
                             4611 ; 2768 |#define RSRC_TIME_MONTH_1 1170    
                             4612 ; 2769 |//$FILENAME vie_time_month_1.src
                             4613 ; 2770 |#define RSRC_VIE_TIME_MONTH_1 1171    
                             4614 ; 2771 |//$FILENAME time_month_2.src
                             4615 ; 2772 |#define RSRC_TIME_MONTH_2 1172    
                             4616 ; 2773 |//$FILENAME vie_time_month_2.src
                             4617 ; 2774 |#define RSRC_VIE_TIME_MONTH_2 1173    
                             4618 ; 2775 |//$FILENAME time_month_3.src
                             4619 ; 2776 |#define RSRC_TIME_MONTH_3 1174    
                             4620 ; 2777 |//$FILENAME vie_time_month_3.src
                             4621 ; 2778 |#define RSRC_VIE_TIME_MONTH_3 1175    
                             4622 ; 2779 |//$FILENAME time_month_4.src
                             4623 ; 2780 |#define RSRC_TIME_MONTH_4 1176    
                             4624 ; 2781 |//$FILENAME vie_time_month_4.src
                             4625 ; 2782 |#define RSRC_VIE_TIME_MONTH_4 1177    
                             4626 ; 2783 |//$FILENAME time_month_5.src
                             4627 ; 2784 |#define RSRC_TIME_MONTH_5 1178    
                             4628 ; 2785 |//$FILENAME vie_time_month_5.src
                             4629 ; 2786 |#define RSRC_VIE_TIME_MONTH_5 1179    
                             4630 ; 2787 |//$FILENAME time_month_6.src
                             4631 ; 2788 |#define RSRC_TIME_MONTH_6 1180    
                             4632 ; 2789 |//$FILENAME vie_time_month_6.src
                             4633 ; 2790 |#define RSRC_VIE_TIME_MONTH_6 1181    
                             4634 ; 2791 |//$FILENAME time_month_7.src
                             4635 ; 2792 |#define RSRC_TIME_MONTH_7 1182    
                             4636 ; 2793 |//$FILENAME vie_time_month_7.src
                             4637 ; 2794 |#define RSRC_VIE_TIME_MONTH_7 1183    
                             4638 ; 2795 |//$FILENAME time_month_8.src
                             4639 ; 2796 |#define RSRC_TIME_MONTH_8 1184    
                             4640 ; 2797 |//$FILENAME vie_time_month_8.src
                             4641 ; 2798 |#define RSRC_VIE_TIME_MONTH_8 1185    
                             4642 ; 2799 |//$FILENAME time_month_9.src
                             4643 ; 2800 |#define RSRC_TIME_MONTH_9 1186    
                             4644 ; 2801 |//$FILENAME vie_time_month_9.src
                             4645 ; 2802 |#define RSRC_VIE_TIME_MONTH_9 1187    
                             4646 ; 2803 |//$FILENAME time_month_10.src
                             4647 ; 2804 |#define RSRC_TIME_MONTH_10 1188    
                             4648 ; 2805 |//$FILENAME vie_time_month_10.src
                             4649 ; 2806 |#define RSRC_VIE_TIME_MONTH_10 1189    
                             4650 ; 2807 |//$FILENAME time_month_11.src
                             4651 ; 2808 |#define RSRC_TIME_MONTH_11 1190    
                             4652 ; 2809 |//$FILENAME vie_time_month_11.src
                             4653 ; 2810 |#define RSRC_VIE_TIME_MONTH_11 1191    
                             4654 ; 2811 |//$FILENAME time_month_12.src
                             4655 ; 2812 |#define RSRC_TIME_MONTH_12 1192    
                             4656 ; 2813 |//$FILENAME vie_time_month_12.src
                             4657 ; 2814 |#define RSRC_VIE_TIME_MONTH_12 1193    
                             4658 ; 2815 |
                             4659 ; 2816 |//$FILENAME time_num_am.src
                             4660 ; 2817 |#define RSRC_TIME_NUM_AM 1194    
                             4661 ; 2818 |//$FILENAME time_num_am.src
                             4662 ; 2819 |#define RSRC_TIME_NUM_PM 1195    
                             4663 ; 2820 |//$FILENAME settime_format_12h.src
                             4664 ; 2821 |#define RSRC_SETTIME_FORMAT_12H 1196    
                             4665 ; 2822 |//$FILENAME settime_format_24h.src
                             4666 ; 2823 |#define RSRC_SETTIME_FORMAT_24H 1197    
                             4667 ; 2824 |//$FILENAME setdate_format_dmy.src
                             4668 ; 2825 |#define RSRC_SETDATE_FORMAT_DMY 1198    
                             4669 ; 2826 |//$FILENAME setdate_format_mdy.src
                             4670 ; 2827 |#define RSRC_SETDATE_FORMAT_MDY 1199    
                             4671 ; 2828 |//$FILENAME setdate_format_ymd.src
                             4672 ; 2829 |#define RSRC_SETDATE_FORMAT_YMD 1200    
                             4673 ; 2830 |
                             4674 ; 2831 |//$FILENAME time_num_large_0.src
                             4675 ; 2832 |#define RSRC_TIME_NUM_LARGE_0 1201    
                             4676 ; 2833 |//$FILENAME time_num_large_1.src
                             4677 ; 2834 |#define RSRC_TIME_NUM_LARGE_1 1202    
                             4678 ; 2835 |//$FILENAME time_num_large_2.src
                             4679 ; 2836 |#define RSRC_TIME_NUM_LARGE_2 1203    
                             4680 ; 2837 |//$FILENAME time_num_large_3.src
                             4681 ; 2838 |#define RSRC_TIME_NUM_LARGE_3 1204    
                             4682 ; 2839 |//$FILENAME time_num_large_4.src
                             4683 ; 2840 |#define RSRC_TIME_NUM_LARGE_4 1205    
                             4684 ; 2841 |//$FILENAME time_num_large_5.src
                             4685 ; 2842 |#define RSRC_TIME_NUM_LARGE_5 1206    
                             4686 ; 2843 |//$FILENAME time_num_large_6.src
                             4687 ; 2844 |#define RSRC_TIME_NUM_LARGE_6 1207    
                             4688 ; 2845 |//$FILENAME time_num_large_7.src
                             4689 ; 2846 |#define RSRC_TIME_NUM_LARGE_7 1208    
                             4690 ; 2847 |//$FILENAME time_num_large_8.src
                             4691 ; 2848 |#define RSRC_TIME_NUM_LARGE_8 1209    
                             4692 ; 2849 |//$FILENAME time_num_large_9.src
                             4693 ; 2850 |#define RSRC_TIME_NUM_LARGE_9 1210    
                             4694 ; 2851 |
                             4695 ; 2852 |//$FILENAME time_num_medium_0.src
                             4696 ; 2853 |#define RSRC_TIME_NUM_MEDIUM_0 1211    
                             4697 ; 2854 |//$FILENAME time_num_medium_1.src
                             4698 ; 2855 |#define RSRC_TIME_NUM_MEDIUM_1 1212    
                             4699 ; 2856 |//$FILENAME time_num_medium_2.src
                             4700 ; 2857 |#define RSRC_TIME_NUM_MEDIUM_2 1213    
                             4701 ; 2858 |//$FILENAME time_num_medium_3.src
                             4702 ; 2859 |#define RSRC_TIME_NUM_MEDIUM_3 1214    
                             4703 ; 2860 |//$FILENAME time_num_medium_4.src
                             4704 ; 2861 |#define RSRC_TIME_NUM_MEDIUM_4 1215    
                             4705 ; 2862 |//$FILENAME time_num_medium_5.src
                             4706 ; 2863 |#define RSRC_TIME_NUM_MEDIUM_5 1216    
                             4707 ; 2864 |//$FILENAME time_num_medium_6.src
                             4708 ; 2865 |#define RSRC_TIME_NUM_MEDIUM_6 1217    
                             4709 ; 2866 |//$FILENAME time_num_medium_7.src
                             4710 ; 2867 |#define RSRC_TIME_NUM_MEDIUM_7 1218    
                             4711 ; 2868 |//$FILENAME time_num_medium_8.src
                             4712 ; 2869 |#define RSRC_TIME_NUM_MEDIUM_8 1219    
                             4713 ; 2870 |//$FILENAME time_num_medium_9.src
                             4714 ; 2871 |#define RSRC_TIME_NUM_MEDIUM_9 1220    
                             4715 ; 2872 |
                             4716 ; 2873 |//$FILENAME time_colon.src
                             4717 ; 2874 |#define RSRC_TIME_COLON 1221    
                             4718 ; 2875 |
                             4719 ; 2876 |//$FILENAME settings_backlight_title.src
                             4720 ; 2877 |#define RSRC_SETTINGS_BACKLIGHT_TITLE 1222    
                             4721 ; 2878 |//$FILENAME settings_auto_shutdown_title.src
                             4722 ; 2879 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_TITLE 1223    
                             4723 ; 2880 |//$FILENAME settings_playmode_title.src
                             4724 ; 2881 |#define RSRC_SETTINGS_PLAYMODE_TITLE 1224    
                             4725 ; 2882 |
                             4726 ; 2883 |//$FILENAME settings_contrast_title.src
                             4727 ; 2884 |#define RSRC_SETTINGS_CONTRAST_TITLE 1225    
                             4728 ; 2885 |//$FILENAME vie_settings_contrast_title.src
                             4729 ; 2886 |#define RSRC_VIE_SETTINGS_CONTRAST_TITLE 1226    
                             4730 ; 2887 |
                             4731 ; 2888 |//$FILENAME settings_eq_title.src
                             4732 ; 2889 |#define RSRC_SETTINGS_EQ_TITLE 1227    
                             4733 ; 2890 |//$FILENAME vie_settings_eq_title.src
                             4734 ; 2891 |#define RSRC_VIE_SETTINGS_EQ_TITLE 1228    
                             4735 ; 2892 |
                             4736 ; 2893 |//$FILENAME settings_exit_title.src
                             4737 ; 2894 |#define RSRC_SETTINGS_EXIT_TITLE 1229    
                             4738 ; 2895 |//$FILENAME vie_settings_exit_title.src
                             4739 ; 2896 |#define RSRC_VIE_SETTINGS_EXIT_TITLE 1230    
                             4740 ; 2897 |
                             4741 ; 2898 |//$FILENAME settings_set_date_title.src
                             4742 ; 2899 |#define RSRC_SETTINGS_SET_DATE_TITLE 1231    
                             4743 ; 2900 |//$FILENAME vie_settings_set_date_title.src
                             4744 ; 2901 |#define RSRC_VIE_SETTINGS_SET_DATE_TITLE 1232    
                             4745 ; 2902 |
                             4746 ; 2903 |//$FILENAME settings_set_time_title.src
                             4747 ; 2904 |#define RSRC_SETTINGS_SET_TIME_TITLE 1233    
                             4748 ; 2905 |//$FILENAME vie_settings_set_time_title.src
                             4749 ; 2906 |#define RSRC_VIE_SETTINGS_SET_TIME_TITLE 1234    
                             4750 ; 2907 |
                             4751 ; 2908 |//$FILENAME settings_playmode_normal.src
                             4752 ; 2909 |#define RSRC_SETTINGS_PLAYMODE_NORMAL 1235    
                             4753 ; 2910 |//$FILENAME vie_settings_playmode_normal.src
                             4754 ; 2911 |#define RSRC_VIE_SETTINGS_PLAYMODE_NORMAL 1236    
                             4755 ; 2912 |
                             4756 ; 2913 |//$FILENAME settings_playmode_repeatone.src
                             4757 ; 2914 |#define RSRC_SETTINGS_PLAYMODE_REPEATONE 1237    
                             4758 ; 2915 |//$FILENAME vie_settings_playmode_repeatone.src
                             4759 ; 2916 |#define RSRC_VIE_SETTINGS_PLAYMODE_REPEATONE 1238    
                             4760 ; 2917 |
                             4761 ; 2918 |//$FILENAME settings_playmode_repeatall.src
                             4762 ; 2919 |#define RSRC_SETTINGS_PLAYMODE_REPEATALL 1239    
                             4763 ; 2920 |//$FILENAME vie_settings_playmode_repeatall.src
                             4764 ; 2921 |#define RSRC_VIE_SETTINGS_PLAYMODE_REPEATALL 1240    
                             4765 ; 2922 |
                             4766 ; 2923 |//$FILENAME settings_playmode_shuffle.src
                             4767 ; 2924 |#define RSRC_SETTINGS_PLAYMODE_SHUFFLE 1241    
                             4768 ; 2925 |//$FILENAME vie_settings_playmode_shuffle.src
                             4769 ; 2926 |#define RSRC_VIE_SETTINGS_PLAYMODE_SHUFFLE 1242    
                             4770 ; 2927 |
                             4771 ; 2928 |//$FILENAME settings_playmode_shuffle_repeat.src
                             4772 ; 2929 |#define RSRC_SETTINGS_PLAYMODE_SHUFFLE_REPEAT 1243    
                             4773 ; 2930 |//$FILENAME vie_settings_playmode_shuffle_repeat.src
                             4774 ; 2931 |#define RSRC_VIE_SETTINGS_PLAYMODE_SHUFFLE_REPEAT 1244    
                             4775 ; 2932 |
                             4776 ; 2933 |//$FILENAME settings_backlight_on.src
                             4777 ; 2934 |#define RSRC_SETTINGS_BACKLIGHT_ON 1245    
                             4778 ; 2935 |//$FILENAME vie_settings_backlight_on.src
                             4779 ; 2936 |#define RSRC_VIE_SETTINGS_BACKLIGHT_ON 1246    
                             4780 ; 2937 |
                             4781 ; 2938 |//$FILENAME settings_backlight_10s.src
                             4782 ; 2939 |#define RSRC_SETTINGS_BACKLIGHT_10S 1247    
                             4783 ; 2940 |//$FILENAME vie_settings_backlight_10s.src
                             4784 ; 2941 |#define RSRC_VIE_SETTINGS_BACKLIGHT_10S 1248    
                             4785 ; 2942 |
                             4786 ; 2943 |//$FILENAME settings_backlight_20s.src
                             4787 ; 2944 |#define RSRC_SETTINGS_BACKLIGHT_20S 1249    
                             4788 ; 2945 |//$FILENAME vie_settings_backlight_20s.src
                             4789 ; 2946 |#define RSRC_VIE_SETTINGS_BACKLIGHT_20s 1250    
                             4790 ; 2947 |
                             4791 ; 2948 |//$FILENAME settings_backlight_30s.src
                             4792 ; 2949 |#define RSRC_SETTINGS_BACKLIGHT_30S 1251    
                             4793 ; 2950 |//$FILENAME vie_settings_backlight_30s.src
                             4794 ; 2951 |#define RSRC_VIE_SETTINGS_BACKLIGHT_30S 1252    
                             4795 ; 2952 |
                             4796 ; 2953 |//$FILENAME settings_auto_shutdown_disable.src
                             4797 ; 2954 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_DISABLE 1253    
                             4798 ; 2955 |//$FILENAME vie_settings_auto_shutdown_disable.src
                             4799 ; 2956 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_DISABLE 1254    
                             4800 ; 2957 |
                             4801 ; 2958 |//$FILENAME settings_auto_shutdown_1minute.src
                             4802 ; 2959 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_1MINUTE 1255    
                             4803 ; 2960 |//$FILENAME vie_settings_auto_shutdown_1min.src
                             4804 ; 2961 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_1MINUTE 1256    
                             4805 ; 2962 |
                             4806 ; 2963 |//$FILENAME settings_auto_shutdown_2minutes.src
                             4807 ; 2964 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_2MINUTES 1257    
                             4808 ; 2965 |//$FILENAME vie_settings_auto_shutdown_2min.src
                             4809 ; 2966 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_2MINUTES 1258    
                             4810 ; 2967 |
                             4811 ; 2968 |//$FILENAME settings_auto_shutdown_5minutes.src
                             4812 ; 2969 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_5MINUTES 1259    
                             4813 ; 2970 |//$FILENAME vie_settings_auto_shutdown_5min.src
                             4814 ; 2971 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_5MINUTES 1260    
                             4815 ; 2972 |
                             4816 ; 2973 |//$FILENAME settings_auto_shutdown_10minutes.src
                             4817 ; 2974 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_10MINUTES 1261    
                             4818 ; 2975 |//$FILENAME vie_settings_auto_shutdown_10min.src
                             4819 ; 2976 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_10MINUTES 1262    
                             4820 ; 2977 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  20

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4821 ; 2978 |//$FILENAME settings_languages_eng.src
                             4822 ; 2979 |#define RSRC_SETTINGS_LANGUAGES_ENG 1263    
                             4823 ; 2980 |//$FILENAME settings_languages_vie.src
                             4824 ; 2981 |#define RSRC_SETTINGS_LANGUAGES_VIE 1264    
                             4825 ; 2982 |
                             4826 ; 2983 |//$FILENAME fraction_dot.src
                             4827 ; 2984 |#define RSRC_FRACTION_DOT 1265    
                             4828 ; 2985 |
                             4829 ; 2986 |//$FILENAME fm_background.src
                             4830 ; 2987 |#define RSRC_FM_BACKGROUND 1266    
                             4831 ; 2988 |//$FILENAME vie_fm_background.src
                             4832 ; 2989 |#define RSRC_VIE_FM_BACKGROUND 1267    
                             4833 ; 2990 |
                             4834 ; 2991 |//$FILENAME searching_please_wait.src
                             4835 ; 2992 |#define RSRC_SEARCHING_PLEASE_WAIT 1268    
                             4836 ; 2993 |//$FILENAME vie_searching_please_wait.src
                             4837 ; 2994 |#define RSRC_VIE_SEARCHING_PLEASE_WAIT 1269    
                             4838 ; 2995 |
                             4839 ; 2996 |//$FILENAME fm_auto_search.src
                             4840 ; 2997 |#define RSRC_FM_AUTO_SEARCH 1270    
                             4841 ; 2998 |//$FILENAME vie_fm_auto_search.src
                             4842 ; 2999 |#define RSRC_VIE_FM_AUTO_SEARCH 1271    
                             4843 ; 3000 |
                             4844 ; 3001 |//$FILENAME jvj_shutdown_player.src
                             4845 ; 3002 |#define RSRC_JVJ_SHUTDOWN_PLAYER 1272    
                             4846 ; 3003 |//$FILENAME vie_jvj_shutdown_player.src
                             4847 ; 3004 |#define RSRC_VIE_JVJ_SHUTDOWN_PLAYER 1273    
                             4848 ; 3005 |
                             4849 ; 3006 |#endif //IF (!@def(resources))
                             4850 ; 3007 |
                             4851 
                             4853 
                             4854 ; 10   |#include "buttons.h"
                             4855 
                             4857 
                             4858 ; 1    |#ifndef _BUTTONS_H
                             4859 ; 2    |#define _BUTTONS_H
                             4860 ; 3    |
                             4861 ; 4    |#include "types.h"
                             4862 
                             4864 
                             4865 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             4866 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             4867 ; 3    |//
                             4868 ; 4    |// Filename: types.h
                             4869 ; 5    |// Description: Standard data types
                             4870 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             4871 ; 7    |
                             4872 ; 8    |#ifndef _TYPES_H
                             4873 ; 9    |#define _TYPES_H
                             4874 ; 10   |
                             4875 ; 11   |// TODO:  move this outta here!
                             4876 ; 12   |#if !defined(NOERROR)
                             4877 ; 13   |#define NOERROR 0
                             4878 ; 14   |#define SUCCESS 0
                             4879 ; 15   |#endif 
                             4880 ; 16   |#if !defined(SUCCESS)
                             4881 ; 17   |#define SUCCESS  0
                             4882 ; 18   |#endif
                             4883 ; 19   |#if !defined(ERROR)
                             4884 ; 20   |#define ERROR   -1
                             4885 ; 21   |#endif
                             4886 ; 22   |#if !defined(FALSE)
                             4887 ; 23   |#define FALSE 0
                             4888 ; 24   |#endif
                             4889 ; 25   |#if !defined(TRUE)
                             4890 ; 26   |#define TRUE  1
                             4891 ; 27   |#endif
                             4892 ; 28   |
                             4893 ; 29   |#if !defined(NULL)
                             4894 ; 30   |#define NULL 0
                             4895 ; 31   |#endif
                             4896 ; 32   |
                             4897 ; 33   |#define MAX_INT     0x7FFFFF
                             4898 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             4899 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             4900 ; 36   |#define MAX_ULONG   (-1) 
                             4901 ; 37   |
                             4902 ; 38   |#define WORD_SIZE   24              // word size in bits
                             4903 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             4904 ; 40   |
                             4905 ; 41   |
                             4906 ; 42   |#define BYTE    unsigned char       // btVarName
                             4907 ; 43   |#define CHAR    signed char         // cVarName
                             4908 ; 44   |#define USHORT  unsigned short      // usVarName
                             4909 ; 45   |#define SHORT   unsigned short      // sVarName
                             4910 ; 46   |#define WORD    unsigned int        // wVarName
                             4911 ; 47   |#define INT     signed int          // iVarName
                             4912 ; 48   |#define DWORD   unsigned long       // dwVarName
                             4913 ; 49   |#define LONG    signed long         // lVarName
                             4914 ; 50   |#define BOOL    unsigned int        // bVarName
                             4915 ; 51   |#define FRACT   _fract              // frVarName
                             4916 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             4917 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             4918 ; 54   |#define FLOAT   float               // fVarName
                             4919 ; 55   |#define DBL     double              // dVarName
                             4920 ; 56   |#define ENUM    enum                // eVarName
                             4921 ; 57   |#define CMX     _complex            // cmxVarName
                             4922 ; 58   |typedef WORD UCS3;                   // 
                             4923 ; 59   |
                             4924 ; 60   |#define UINT16  unsigned short
                             4925 ; 61   |#define UINT8   unsigned char   
                             4926 ; 62   |#define UINT32  unsigned long
                             4927 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             4928 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             4929 ; 65   |#define WCHAR   UINT16
                             4930 ; 66   |
                             4931 ; 67   |//UINT128 is 16 bytes or 6 words
                             4932 ; 68   |typedef struct UINT128_3500 {   
                             4933 ; 69   |    int val[6];     
                             4934 ; 70   |} UINT128_3500;
                             4935 ; 71   |
                             4936 ; 72   |#define UINT128   UINT128_3500
                             4937 ; 73   |
                             4938 ; 74   |// Little endian word packed byte strings:   
                             4939 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4940 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4941 ; 77   |// Little endian word packed byte strings:   
                             4942 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4943 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4944 ; 80   |
                             4945 ; 81   |// Declare Memory Spaces To Use When Coding
                             4946 ; 82   |// A. Sector Buffers
                             4947 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             4948 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             4949 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             4950 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             4951 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             4952 ; 88   |// B. Media DDI Memory
                             4953 ; 89   |#define MEDIA_DDI_MEM _Y
                             4954 ; 90   |
                             4955 ; 91   |
                             4956 ; 92   |
                             4957 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             4958 ; 94   |// Examples of circular pointers:
                             4959 ; 95   |//    INT CIRC cpiVarName
                             4960 ; 96   |//    DWORD CIRC cpdwVarName
                             4961 ; 97   |
                             4962 ; 98   |#define RETCODE INT                 // rcVarName
                             4963 ; 99   |
                             4964 ; 100  |// generic bitfield structure
                             4965 ; 101  |struct Bitfield {
                             4966 ; 102  |    unsigned int B0  :1;
                             4967 ; 103  |    unsigned int B1  :1;
                             4968 ; 104  |    unsigned int B2  :1;
                             4969 ; 105  |    unsigned int B3  :1;
                             4970 ; 106  |    unsigned int B4  :1;
                             4971 ; 107  |    unsigned int B5  :1;
                             4972 ; 108  |    unsigned int B6  :1;
                             4973 ; 109  |    unsigned int B7  :1;
                             4974 ; 110  |    unsigned int B8  :1;
                             4975 ; 111  |    unsigned int B9  :1;
                             4976 ; 112  |    unsigned int B10 :1;
                             4977 ; 113  |    unsigned int B11 :1;
                             4978 ; 114  |    unsigned int B12 :1;
                             4979 ; 115  |    unsigned int B13 :1;
                             4980 ; 116  |    unsigned int B14 :1;
                             4981 ; 117  |    unsigned int B15 :1;
                             4982 ; 118  |    unsigned int B16 :1;
                             4983 ; 119  |    unsigned int B17 :1;
                             4984 ; 120  |    unsigned int B18 :1;
                             4985 ; 121  |    unsigned int B19 :1;
                             4986 ; 122  |    unsigned int B20 :1;
                             4987 ; 123  |    unsigned int B21 :1;
                             4988 ; 124  |    unsigned int B22 :1;
                             4989 ; 125  |    unsigned int B23 :1;
                             4990 ; 126  |};
                             4991 ; 127  |
                             4992 ; 128  |union BitInt {
                             4993 ; 129  |        struct Bitfield B;
                             4994 ; 130  |        int        I;
                             4995 ; 131  |};
                             4996 ; 132  |
                             4997 ; 133  |#define MAX_MSG_LENGTH 10
                             4998 ; 134  |struct CMessage
                             4999 ; 135  |{
                             5000 ; 136  |        unsigned int m_uLength;
                             5001 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             5002 ; 138  |};
                             5003 ; 139  |
                             5004 ; 140  |typedef struct {
                             5005 ; 141  |    WORD m_wLength;
                             5006 ; 142  |    WORD m_wMessage;
                             5007 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             5008 ; 144  |} Message;
                             5009 ; 145  |
                             5010 ; 146  |struct MessageQueueDescriptor
                             5011 ; 147  |{
                             5012 ; 148  |        int *m_pBase;
                             5013 ; 149  |        int m_iModulo;
                             5014 ; 150  |        int m_iSize;
                             5015 ; 151  |        int *m_pHead;
                             5016 ; 152  |        int *m_pTail;
                             5017 ; 153  |};
                             5018 ; 154  |
                             5019 ; 155  |struct ModuleEntry
                             5020 ; 156  |{
                             5021 ; 157  |    int m_iSignaledEventMask;
                             5022 ; 158  |    int m_iWaitEventMask;
                             5023 ; 159  |    int m_iResourceOfCode;
                             5024 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             5025 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             5026 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             5027 ; 163  |    int m_uTimeOutHigh;
                             5028 ; 164  |    int m_uTimeOutLow;
                             5029 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             5030 ; 166  |};
                             5031 ; 167  |
                             5032 ; 168  |union WaitMask{
                             5033 ; 169  |    struct B{
                             5034 ; 170  |        unsigned int m_bNone     :1;
                             5035 ; 171  |        unsigned int m_bMessage  :1;
                             5036 ; 172  |        unsigned int m_bTimer    :1;
                             5037 ; 173  |        unsigned int m_bButton   :1;
                             5038 ; 174  |    } B;
                             5039 ; 175  |    int I;
                             5040 ; 176  |} ;
                             5041 ; 177  |
                             5042 ; 178  |
                             5043 ; 179  |struct Button {
                             5044 ; 180  |        WORD wButtonEvent;
                             5045 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             5046 ; 182  |};
                             5047 ; 183  |
                             5048 ; 184  |struct Message {
                             5049 ; 185  |        WORD wMsgLength;
                             5050 ; 186  |        WORD wMsgCommand;
                             5051 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             5052 ; 188  |};
                             5053 ; 189  |
                             5054 ; 190  |union EventTypes {
                             5055 ; 191  |        struct CMessage msg;
                             5056 ; 192  |        struct Button Button ;
                             5057 ; 193  |        struct Message Message;
                             5058 ; 194  |};
                             5059 ; 195  |
                             5060 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             5061 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             5062 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             5063 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             5064 ; 200  |
                             5065 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             5066 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             5067 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             5068 ; 204  |
                             5069 ; 205  |#if DEBUG
                             5070 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             5071 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             5072 ; 208  |#else 
                             5073 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             5074 ; 210  |#define DebugBuildAssert(x)    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  21

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5075 ; 211  |#endif
                             5076 ; 212  |
                             5077 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             5078 ; 214  |//  #pragma asm
                             5079 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             5080 ; 216  |//  #pragma endasm
                             5081 ; 217  |
                             5082 ; 218  |
                             5083 ; 219  |#ifdef COLOR_262K
                             5084 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             5085 ; 221  |#elif defined(COLOR_65K)
                             5086 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             5087 ; 223  |#else
                             5088 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             5089 ; 225  |#endif
                             5090 ; 226  |    
                             5091 ; 227  |#endif // #ifndef _TYPES_H
                             5092 
                             5094 
                             5095 ; 5    |
                             5096 ; 6    |//These must match the definintions in buttondefs.inc, otherwise the button presses will trigger
                             5097 ; 7    |//unexpected events.
                             5098 ; 8    |
                             5099 ; 9    |#define PR_RW           0
                             5100 ; 10   |#define PH_RW                   1
                             5101 ; 11   |#define PR_FF           2
                             5102 ; 12   |#define PH_FF           3
                             5103 ; 13   |#define PR_MENU         4
                             5104 ; 14   |#define PH_MENU         5
                             5105 ; 15   |#define PR_RV           6
                             5106 ; 16   |#define PH_RV           7
                             5107 ; 17   |#define PR_PLAY                 8
                             5108 ; 18   |#define PH_PLAY         9
                             5109 ; 19   |#define PR_HOLD         10
                             5110 ; 20   |#define PH_HOLD         11
                             5111 ; 21   |#define PR_VOL_DOWN     12
                             5112 ; 22   |#define PR_VOL_UP       13
                             5113 ; 23   |
                             5114 ; 24   |
                             5115 ; 25   |
                             5116 ; 26   |
                             5117 ; 27   |#define PH_VOL_DOWN     14
                             5118 ; 28   |#define PH_VOL_UP       15
                             5119 ; 29   |#define PR_MODE         24
                             5120 ; 30   |#define PR_STOP                 25
                             5121 ; 31   |#define PH_STOP         26
                             5122 ; 32   |#define PR_RECORD      27
                             5123 ; 33   |#define PH_RECORD       28
                             5124 ; 34   |#define PR_AB           33
                             5125 ; 35   |#define PR_ERASE        34
                             5126 ; 36   |#define PH_ERASE        35
                             5127 ; 37   |#define PR_EQ           36
                             5128 ; 38   |#define PH_EQ       37
                             5129 ; 39   |
                             5130 ; 40   |
                             5131 ; 41   |
                             5132 ; 42   |
                             5133 ; 43   |extern WORD g_wLastButton;
                             5134 ; 44   |
                             5135 ; 45   |#endif //_BUTTONS_H
                             5136 
                             5138 
                             5139 ; 11   |#include "menus.h"
                             5140 
                             5142 
                             5143 ; 1    |#ifndef _MENU_H
                             5144 ; 2    |#define _MENU_H
                             5145 ; 3    |
                             5146 ; 4    |#include "types.h"
                             5147 
                             5149 
                             5150 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             5151 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             5152 ; 3    |//
                             5153 ; 4    |// Filename: types.h
                             5154 ; 5    |// Description: Standard data types
                             5155 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             5156 ; 7    |
                             5157 ; 8    |#ifndef _TYPES_H
                             5158 ; 9    |#define _TYPES_H
                             5159 ; 10   |
                             5160 ; 11   |// TODO:  move this outta here!
                             5161 ; 12   |#if !defined(NOERROR)
                             5162 ; 13   |#define NOERROR 0
                             5163 ; 14   |#define SUCCESS 0
                             5164 ; 15   |#endif 
                             5165 ; 16   |#if !defined(SUCCESS)
                             5166 ; 17   |#define SUCCESS  0
                             5167 ; 18   |#endif
                             5168 ; 19   |#if !defined(ERROR)
                             5169 ; 20   |#define ERROR   -1
                             5170 ; 21   |#endif
                             5171 ; 22   |#if !defined(FALSE)
                             5172 ; 23   |#define FALSE 0
                             5173 ; 24   |#endif
                             5174 ; 25   |#if !defined(TRUE)
                             5175 ; 26   |#define TRUE  1
                             5176 ; 27   |#endif
                             5177 ; 28   |
                             5178 ; 29   |#if !defined(NULL)
                             5179 ; 30   |#define NULL 0
                             5180 ; 31   |#endif
                             5181 ; 32   |
                             5182 ; 33   |#define MAX_INT     0x7FFFFF
                             5183 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             5184 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             5185 ; 36   |#define MAX_ULONG   (-1) 
                             5186 ; 37   |
                             5187 ; 38   |#define WORD_SIZE   24              // word size in bits
                             5188 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             5189 ; 40   |
                             5190 ; 41   |
                             5191 ; 42   |#define BYTE    unsigned char       // btVarName
                             5192 ; 43   |#define CHAR    signed char         // cVarName
                             5193 ; 44   |#define USHORT  unsigned short      // usVarName
                             5194 ; 45   |#define SHORT   unsigned short      // sVarName
                             5195 ; 46   |#define WORD    unsigned int        // wVarName
                             5196 ; 47   |#define INT     signed int          // iVarName
                             5197 ; 48   |#define DWORD   unsigned long       // dwVarName
                             5198 ; 49   |#define LONG    signed long         // lVarName
                             5199 ; 50   |#define BOOL    unsigned int        // bVarName
                             5200 ; 51   |#define FRACT   _fract              // frVarName
                             5201 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             5202 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             5203 ; 54   |#define FLOAT   float               // fVarName
                             5204 ; 55   |#define DBL     double              // dVarName
                             5205 ; 56   |#define ENUM    enum                // eVarName
                             5206 ; 57   |#define CMX     _complex            // cmxVarName
                             5207 ; 58   |typedef WORD UCS3;                   // 
                             5208 ; 59   |
                             5209 ; 60   |#define UINT16  unsigned short
                             5210 ; 61   |#define UINT8   unsigned char   
                             5211 ; 62   |#define UINT32  unsigned long
                             5212 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             5213 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             5214 ; 65   |#define WCHAR   UINT16
                             5215 ; 66   |
                             5216 ; 67   |//UINT128 is 16 bytes or 6 words
                             5217 ; 68   |typedef struct UINT128_3500 {   
                             5218 ; 69   |    int val[6];     
                             5219 ; 70   |} UINT128_3500;
                             5220 ; 71   |
                             5221 ; 72   |#define UINT128   UINT128_3500
                             5222 ; 73   |
                             5223 ; 74   |// Little endian word packed byte strings:   
                             5224 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             5225 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             5226 ; 77   |// Little endian word packed byte strings:   
                             5227 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             5228 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             5229 ; 80   |
                             5230 ; 81   |// Declare Memory Spaces To Use When Coding
                             5231 ; 82   |// A. Sector Buffers
                             5232 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             5233 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             5234 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             5235 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             5236 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             5237 ; 88   |// B. Media DDI Memory
                             5238 ; 89   |#define MEDIA_DDI_MEM _Y
                             5239 ; 90   |
                             5240 ; 91   |
                             5241 ; 92   |
                             5242 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             5243 ; 94   |// Examples of circular pointers:
                             5244 ; 95   |//    INT CIRC cpiVarName
                             5245 ; 96   |//    DWORD CIRC cpdwVarName
                             5246 ; 97   |
                             5247 ; 98   |#define RETCODE INT                 // rcVarName
                             5248 ; 99   |
                             5249 ; 100  |// generic bitfield structure
                             5250 ; 101  |struct Bitfield {
                             5251 ; 102  |    unsigned int B0  :1;
                             5252 ; 103  |    unsigned int B1  :1;
                             5253 ; 104  |    unsigned int B2  :1;
                             5254 ; 105  |    unsigned int B3  :1;
                             5255 ; 106  |    unsigned int B4  :1;
                             5256 ; 107  |    unsigned int B5  :1;
                             5257 ; 108  |    unsigned int B6  :1;
                             5258 ; 109  |    unsigned int B7  :1;
                             5259 ; 110  |    unsigned int B8  :1;
                             5260 ; 111  |    unsigned int B9  :1;
                             5261 ; 112  |    unsigned int B10 :1;
                             5262 ; 113  |    unsigned int B11 :1;
                             5263 ; 114  |    unsigned int B12 :1;
                             5264 ; 115  |    unsigned int B13 :1;
                             5265 ; 116  |    unsigned int B14 :1;
                             5266 ; 117  |    unsigned int B15 :1;
                             5267 ; 118  |    unsigned int B16 :1;
                             5268 ; 119  |    unsigned int B17 :1;
                             5269 ; 120  |    unsigned int B18 :1;
                             5270 ; 121  |    unsigned int B19 :1;
                             5271 ; 122  |    unsigned int B20 :1;
                             5272 ; 123  |    unsigned int B21 :1;
                             5273 ; 124  |    unsigned int B22 :1;
                             5274 ; 125  |    unsigned int B23 :1;
                             5275 ; 126  |};
                             5276 ; 127  |
                             5277 ; 128  |union BitInt {
                             5278 ; 129  |        struct Bitfield B;
                             5279 ; 130  |        int        I;
                             5280 ; 131  |};
                             5281 ; 132  |
                             5282 ; 133  |#define MAX_MSG_LENGTH 10
                             5283 ; 134  |struct CMessage
                             5284 ; 135  |{
                             5285 ; 136  |        unsigned int m_uLength;
                             5286 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             5287 ; 138  |};
                             5288 ; 139  |
                             5289 ; 140  |typedef struct {
                             5290 ; 141  |    WORD m_wLength;
                             5291 ; 142  |    WORD m_wMessage;
                             5292 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             5293 ; 144  |} Message;
                             5294 ; 145  |
                             5295 ; 146  |struct MessageQueueDescriptor
                             5296 ; 147  |{
                             5297 ; 148  |        int *m_pBase;
                             5298 ; 149  |        int m_iModulo;
                             5299 ; 150  |        int m_iSize;
                             5300 ; 151  |        int *m_pHead;
                             5301 ; 152  |        int *m_pTail;
                             5302 ; 153  |};
                             5303 ; 154  |
                             5304 ; 155  |struct ModuleEntry
                             5305 ; 156  |{
                             5306 ; 157  |    int m_iSignaledEventMask;
                             5307 ; 158  |    int m_iWaitEventMask;
                             5308 ; 159  |    int m_iResourceOfCode;
                             5309 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             5310 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             5311 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             5312 ; 163  |    int m_uTimeOutHigh;
                             5313 ; 164  |    int m_uTimeOutLow;
                             5314 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             5315 ; 166  |};
                             5316 ; 167  |
                             5317 ; 168  |union WaitMask{
                             5318 ; 169  |    struct B{
                             5319 ; 170  |        unsigned int m_bNone     :1;
                             5320 ; 171  |        unsigned int m_bMessage  :1;
                             5321 ; 172  |        unsigned int m_bTimer    :1;
                             5322 ; 173  |        unsigned int m_bButton   :1;
                             5323 ; 174  |    } B;
                             5324 ; 175  |    int I;
                             5325 ; 176  |} ;
                             5326 ; 177  |
                             5327 ; 178  |
                             5328 ; 179  |struct Button {
                             5329 ; 180  |        WORD wButtonEvent;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  22

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5330 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             5331 ; 182  |};
                             5332 ; 183  |
                             5333 ; 184  |struct Message {
                             5334 ; 185  |        WORD wMsgLength;
                             5335 ; 186  |        WORD wMsgCommand;
                             5336 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             5337 ; 188  |};
                             5338 ; 189  |
                             5339 ; 190  |union EventTypes {
                             5340 ; 191  |        struct CMessage msg;
                             5341 ; 192  |        struct Button Button ;
                             5342 ; 193  |        struct Message Message;
                             5343 ; 194  |};
                             5344 ; 195  |
                             5345 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             5346 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             5347 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             5348 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             5349 ; 200  |
                             5350 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             5351 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             5352 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             5353 ; 204  |
                             5354 ; 205  |#if DEBUG
                             5355 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             5356 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             5357 ; 208  |#else 
                             5358 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             5359 ; 210  |#define DebugBuildAssert(x)    
                             5360 ; 211  |#endif
                             5361 ; 212  |
                             5362 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             5363 ; 214  |//  #pragma asm
                             5364 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             5365 ; 216  |//  #pragma endasm
                             5366 ; 217  |
                             5367 ; 218  |
                             5368 ; 219  |#ifdef COLOR_262K
                             5369 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             5370 ; 221  |#elif defined(COLOR_65K)
                             5371 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             5372 ; 223  |#else
                             5373 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             5374 ; 225  |#endif
                             5375 ; 226  |    
                             5376 ; 227  |#endif // #ifndef _TYPES_H
                             5377 
                             5379 
                             5380 ; 5    |
                             5381 ; 6    |#define TIMER_ANIMATE           0
                             5382 ; 7    |#define TIMER_AUTO_SHUTDOWN     1
                             5383 ; 8    |#define TIMER_BATT_CHK          2
                             5384 ; 9    |#define TIMER_SONG_CHANGE       3
                             5385 ; 10   |#define TIMER_TUNER                             4
                             5386 ; 11   |#define TIMER_BACKLIGHT                 5
                             5387 ; 12   |#define TIMER_FFRWND                6
                             5388 ; 13   |#define TIMER_BATTERY_CHARGER   7
                             5389 ; 14   |#define TIMER_TIMEDATE                  8
                             5390 ; 15   |#define TIMER_JPEG_DECODER_CALLBACK 6 //shared with TIMER_FFRWND since they won't use together
                             5391 ; 16   |#define TIMER_APIC_UPDATE               9
                             5392 ; 17   |
                             5393 ; 18   |#define MENU_MSG_ANIMATE            MENU_LAST_MSG_ID+1
                             5394 ; 19   |#define MENU_MSG_AUTOSHUTDOWN       MENU_LAST_MSG_ID+2
                             5395 ; 20   |#define MENU_SONG_CHANGE_TIMEOUT    MENU_LAST_MSG_ID+3
                             5396 ; 21   |#define MENU_TUNER_READY                        MENU_LAST_MSG_ID+4
                             5397 ; 22   |#define MENU_MSG_TURN_OFF_BACKLIGHT MENU_LAST_MSG_ID+5
                             5398 ; 23   |#define MENU_MSG_SEND_FF            MENU_LAST_MSG_ID+6
                             5399 ; 24   |#define MENU_MSG_SEND_RWND          MENU_LAST_MSG_ID+7
                             5400 ; 25   |#define MENU_BATTERY_CHARGER_TIMEOUT  MENU_LAST_MSG_ID+8
                             5401 ; 26   |#define MENU_MSG_REFRESH_TIMEDATE       MENU_LAST_MSG_ID+9
                             5402 ; 27   |#ifdef USE_PLAYLIST3
                             5403 ; 28   |#define MENU_PAGE_ITEM_COUNT    (4)
                             5404 ; 29   |#define MENU_ITEM_HEIGHT                (8)
                             5405 ; 30   |#define MENU_ITEM_X_OFFSET      (0)
                             5406 ; 31   |#define MENU_ITEM_Y_OFFSET      (16)
                             5407 ; 32   |
                             5408 ; 33   |#define PLAYLIST_ENABLE         (0)
                             5409 ; 34   |#endif
                             5410 ; 35   |#define ANIMATE_PERIOD          (100)
                             5411 ; 36   |#define MENU_MSG_JPEG_CALLBACK            MENU_LAST_MSG_ID+10
                             5412 ; 37   |#define MENU_JPEG_THUMBNAIL_CURSOR  MENU_LAST_MSG_ID+11
                             5413 ; 38   |#define MENU_JPEG_NEXT_PICTURE          MENU_LAST_MSG_ID+12
                             5414 ; 39   |#define MENU_MSG_APIC_UPDATE            MENU_LAST_MSG_ID+13
                             5415 ; 40   |#ifdef USE_PLAYLIST5
                             5416 ; 41   |#define MENU_MSG_PL5_PLAY_SONG          MENU_LAST_MSG_ID+14
                             5417 ; 42   |#endif
                             5418 ; 43   |
                             5419 ; 44   |#define MENU_BATTERY_CHARGER_TIMEOUT  MENU_LAST_MSG_ID+8
                             5420 ; 45   |#define FILE_NAME_BUFFER_SIZE  7
                             5421 ; 46   |#define TIMER_JPEG_DECODER_TIMEOUT_MS 5
                             5422 ; 47   |
                             5423 ; 48   |// used with shutdown menu
                             5424 ; 49   |// FORCESHUTDOWN does not allow abort
                             5425 ; 50   |// USERSHUTDOWN allows user abort if PH_STOP is not held long enough
                             5426 ; 51   |#define FORCESHUTDOWN                   TRUE
                             5427 ; 52   |#define USERSHUTDOWN                    FALSE
                             5428 ; 53   |
                             5429 ; 54   |// if low battery display low battery message
                             5430 ; 55   |#define LOWBATT                                 TRUE
                             5431 ; 56   |#define REGBATT                                 FALSE
                             5432 ; 57   |
                             5433 ; 58   |//Backlight Define Statements
                             5434 ; 59   |#ifdef CLCD
                             5435 ; 60   |#ifdef CLCD_16BIT
                             5436 ; 61   |#define BACKLIGHT_CONTROL_REGISTER              HW_PWM_CH0AR.I
                             5437 ; 62   |#define BACKLIGHT_CONTROL_REGISTER_ENABLE       HW_GP0ENR.B.B9  //PWM2
                             5438 ; 63   |#define BACKLIGHT_CONTROL_REGISTER_DIRECTION    HW_GP0DOER.B.B9
                             5439 ; 64   |#define BACKLIGHT_ON                            0x06C000
                             5440 ; 65   |#define BACKLIGHT_OFF                           0x024000
                             5441 ; 66   |#else
                             5442 ; 67   |#define BACKLIGHT_CONTROL_REGISTER              HW_PWM_CH2AR.I
                             5443 ; 68   |#define BACKLIGHT_CONTROL_REGISTER_ENABLE       HW_GP0ENR.B.B9  //PWM2
                             5444 ; 69   |#define BACKLIGHT_CONTROL_REGISTER_DIRECTION    HW_GP0DOER.B.B9
                             5445 ; 70   |#define BACKLIGHT_ON                            0x006000
                             5446 ; 71   |#define BACKLIGHT_OFF                           0x002000
                             5447 ; 72   |#endif
                             5448 ; 73   |#else
                             5449 ; 74   |#define BACKLIGHT_CONTROL_REGISTER              HW_GP0DOR.B.B9
                             5450 ; 75   |#define BACKLIGHT_CONTROL_REGISTER_ENABLE       HW_GP0ENR.B.B9
                             5451 ; 76   |#define BACKLIGHT_CONTROL_REGISTER_DIRECTION    HW_GP0DOER.B.B9
                             5452 ; 77   |#define BACKLIGHT_ON                            TRUE
                             5453 ; 78   |#define BACKLIGHT_OFF                           FALSE
                             5454 ; 79   |#endif
                             5455 ; 80   |#define BACKLIGHT_TIME                                          5000            //5 seconds
                             5456 ; 81   |
                             5457 ; 82   |// used with NextEQ / NextPlayMode to indicate direction
                             5458 ; 83   |#define INCREMENT 1
                             5459 ; 84   |#define DECREMENT 0
                             5460 ; 85   |
                             5461 ; 86   |//These two sit outside the boundary of MENU_FIRST and MENU_LAST simply because they're
                             5462 ; 87   |//states that aren't included in the displayed list.
                             5463 ; 88   |#define MENU_EXIT       101
                             5464 ; 89   |#define MENU_MAIN       100
                             5465 ; 90   |
                             5466 ; 91   |// menu flags
                             5467 ; 92   |#define MENU_FLAG_POWER_DOWN_ENABLED    B0      // when clear, disable tracking
                             5468 ; 93   |#define MENU_FLAG_ESCAPE_TO_MUSIC               B1      // when set, escape all menu nesting to music
                             5469 ; 94   |#define MENU_FLAG_SAVE_CHANGES          B2  // true if fast escape interrupted by save changes?
                             5470 ; 95   |#if (defined USE_PLAYLIST3) || (defined USE_PLAYLIST5)
                             5471 ; 96   |#define MENU_FLAG_ESCAPE_TO_RECORD              B2      // when set, escape all menu nesting to voice/fm menu and start recording
                             5472 ; 97   |#define MENU_FLAG_RETURN_TO_MUSIC               B3      // when set, escape all menu nesting to music
                             5473 ; 98   |#endif
                             5474 ; 99   |
                             5475 ; 100  |#define LANGUAGES_ENG   0
                             5476 ; 101  |#define LANGUAGES_VIE   1
                             5477 ; 102  |#define LANGUAGES_FIRST LANGUAGES_ENG
                             5478 ; 103  |#define LANGUAGES_LAST          LANGUAGES_VIE
                             5479 ; 104  |
                             5480 ; 105  |// 1 word menu variable -- bit flags
                             5481 ; 106  |extern struct Bitfield g_MenuFlags;
                             5482 ; 107  |
                             5483 ; 108  |// This data type is declared in mainmenu.c, but is externed here for all other menus.
                             5484 ; 109  |extern union EventTypes gEventInfo;
                             5485 ; 110  |
                             5486 ; 111  |//each menu should set g_iCurrentMenu to make sure the menu icon shows up correctly.
                             5487 ; 112  |extern INT g_iCurrentMenu;
                             5488 ; 113  |
                             5489 ; 114  |//Backlight State
                             5490 ; 115  |extern INT g_iBackLightState;
                             5491 ; 116  |
                             5492 ; 117  |//Language state
                             5493 ; 118  |extern INT g_iLanguage;
                             5494 ; 119  |
                             5495 ; 120  |//Export all Menu prototypes for calls allowed from other code banks
                             5496 ; 121  |void _reentrant UserTask(int a, int b, int *pPtr);
                             5497 ; 122  |_reentrant INT ShutdownMenu( INT iIgnored1, INT iIgnored2, INT *pPtr);
                             5498 ; 123  |_reentrant INT SplashScreen( INT iResource, INT iMilliseconds, INT *pPtr);
                             5499 ; 124  |int _reentrant MusicMenu(INT a, INT b, INT *c);
                             5500 ; 125  |#ifdef USE_PLAYLIST3
                             5501 ; 126  |int _reentrant PlayMusicMenu(INT a, INT b, INT *c);
                             5502 ; 127  |int _reentrant NewMusicMenu(INT a, INT b, INT *c);
                             5503 ; 128  |int _reentrant BrowseMenu(INT a, INT b, INT *c);
                             5504 ; 129  |#endif // #ifdef USE_PLAYLIST3
                             5505 ; 130  |#ifdef MOTION_VIDEO
                             5506 ; 131  |int _reentrant MotionVideoMenu(INT a, INT b, INT *c);
                             5507 ; 132  |#endif
                             5508 ; 133  |#ifdef JPEG_APP
                             5509 ; 134  |int _reentrant JpegDisplayMenu(int a, int b, int *pPtr);
                             5510 ; 135  |int _reentrant JpegManualMenu(int a, int b, int *pPtr);
                             5511 ; 136  |int _reentrant JpegSlideshowMenu(int a, int b, int *pPtr);
                             5512 ; 137  |int _reentrant JpegThumbnailMenu(int a, int b, int *pPtr);
                             5513 ; 138  |#endif
                             5514 ; 139  |int _reentrant SpectrogramMenu(INT a, INT b, INT *pPtr);
                             5515 ; 140  |int _reentrant VoiceMenu(int a, int b, int *c);
                             5516 ; 141  |int _reentrant SettingsMenu(int a, int b, int *pPtr);
                             5517 ; 142  |int _reentrant EqMenu(int a, int b, int *pPtr);
                             5518 ; 143  |int _reentrant SendEQ(int iCurrentEQ, int b, int *pPtr);
                             5519 ; 144  |
                             5520 ; 145  |int _reentrant PlayModeMenu(int a, int b, int *pPtr);
                             5521 ; 146  |int _reentrant NextPlayMode(int iDirection, int b, int *c);
                             5522 ; 147  |int _reentrant ContrastMenu(int a, int b, int *pPtr);
                             5523 ; 148  |int _reentrant AboutMenu(int a, int b, int *pPtr);
                             5524 ; 149  |#ifdef USE_PLAYLIST5
                             5525 ; 150  |int _reentrant BrowseMenu(INT a, INT b, INT *c);
                             5526 ; 151  |#endif
                             5527 ; 152  |int _reentrant DeleteMenu(int a, int b, int *pPtr);
                             5528 ; 153  |int _reentrant PwrSavingsMenu(int a, int b, int *pPtr);
                             5529 ; 154  |int _reentrant BackLightMenu(int a, int b, int *pPtr);
                             5530 ; 155  |int _reentrant RecordSettingsMenu(int a, int b, int *pPtr);
                             5531 ; 156  |int _reentrant TimeDateMenu(int a, int b, int *pPtr);
                             5532 ; 157  |int _reentrant SetTimeMenu(int a, int b, int *pPtr);
                             5533 ; 158  |int _reentrant SetDateMenu(int a, int b, int *pPtr);
                             5534 ; 159  |
                             5535 ; 160  |int _reentrant TestMenu(int a, int b, int *pPtr);
                             5536 ; 161  |void _reentrant RecordTestMenu(void);
                             5537 ; 162  |
                             5538 ; 163  |int _reentrant FMTunerMenu(int a, int b, int *c);
                             5539 ; 164  |int _reentrant InitPlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr);
                             5540 ; 165  |int _reentrant HandlePlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr);
                             5541 ; 166  |int _reentrant ExitPlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr);
                             5542 ; 167  |_reentrant int InitRecorderStateMachine(int EncodingType, int InputSource, int *c);
                             5543 ; 168  |_reentrant int HandleRecorderStateMachine(int a, int b, int *c);
                             5544 ; 169  |_reentrant int ExitRecorderStateMachine(int InputSource, int b, int *c);
                             5545 ; 170  |int _reentrant NextEQ(INT iDirection, INT b, INT *c);
                             5546 ; 171  |_reentrant INT RecordVoiceFile(INT a, INT b, INT *pPtr);
                             5547 ; 172  |_reentrant int RefreshDisplay           ( int iDisplayHint, int a, int *pPtr);
                             5548 ; 173  |_reentrant void DisplayClearDisplay      ( int iDisplayHint, int a, int *pPtr);
                             5549 ; 174  |_reentrant int DisplayEQIcon            ( int iDisplayHint, int a, int *pPtr);
                             5550 ; 175  |_reentrant int DisplayVolume            ( int iDisplayHint, int a, int *pPtr);
                             5551 ; 176  |_reentrant int DisplayShutdownProgress  ( int iDisplayHint, int a, int *pPtr);
                             5552 ; 177  |_reentrant int DisplayDefragmentstore  ( int iDisplayHint, int a, int *pPtr);
                             5553 ; 178  |_reentrant int DisplayKickOff           ( int iDisplayHint, int a, int *pPtr);
                             5554 ; 179  |_reentrant int DisplayKickOffLocked     ( int iDisplayHint, int a, int *pPtr);
                             5555 ; 180  |_reentrant void DisplayLockIcon          ( int iDisplayHint, int a, int *pPtr);
                             5556 ; 181  |_reentrant void ChangePlaySet(INT mode);
                             5557 ; 182  |void _reentrant UpdateAutoShutdownTimer (void);
                             5558 ; 183  |int _reentrant SetPwrSetting (int iCurrentPwrSetting, int b, int *pPtr);
                             5559 ; 184  |int  _reentrant SendPlayMode(int iCurrentPlayMode, int b, int *pPtr);
                             5560 ; 185  |_reentrant int DeleteFilePrompt(int a,int b, int *pPtr);
                             5561 ; 186  |#endif
                             5562 ; 187  |
                             5563 
                             5565 
                             5566 ; 12   |#include "display.h"
                             5567 
                             5569 
                             5570 ; 1    |#ifndef _DISPLAY_H
                             5571 ; 2    |#define _DISPLAY_H
                             5572 ; 3    |
                             5573 ; 4    |//Display bits
                             5574 ; 5    |#define DISPLAY_CLEAR_DISPLAY_BITPOS        0
                             5575 ; 6    |
                             5576 ; 7    |#define DISPLAY_ENCODER_TRACK_TIME_BITPOS   1
                             5577 ; 8    |#define DISPLAY_ENCODER_TRACK_NAME_BITPOS   2
                             5578 ; 9    |#define DISPLAY_RECORD_MODE_BITPOS          3
                             5579 ; 10   |
                             5580 ; 11   |//This bit (DISPLAY_MISC_BITPOS) is set to allow DisplayHints to be non zero, but does not map
                             5581 ; 12   |//to anything in UpdateDisplay();  (meant to be used to indicate that specific
                             5582 ; 13   |//things that are specific for that menu.
                             5583 ; 14   |#define DISPLAY_MISC_BITPOS                 4
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  23

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5584 ; 15   |
                             5585 ; 16   |#define DISPLAY_FMTUNER_FREQUENCY           5
                             5586 ; 17   |#define DISPLAY_FMTUNER_PRESET              6
                             5587 ; 18   |#define DISPLAY_FMTUNER_STRENGTH            7
                             5588 ; 19   |
                             5589 ; 20   |#define DISPLAY_PLAYSTATE_BITPOS             9
                             5590 ; 21   |#define DISPLAY_AB_ICON_BITPOS              10
                             5591 ; 22   |#define DISPLAY_PLAYMODE_BITPOS             11
                             5592 ; 23   |#define DISPLAY_PLAYSET_BITPOS              12
                             5593 ; 24   |
                             5594 ; 25   |//Playback info
                             5595 ; 26   |#define DISPLAY_EQ_BITPOS                   13
                             5596 ; 27   |#define DISPLAY_VOLUME_BITPOS               14
                             5597 ; 28   |
                             5598 ; 29   |//Track Info
                             5599 ; 30   |#define DISPLAY_SONGARTISTALBUM_BITPOS      15
                             5600 ; 31   |#define DISPLAY_SONGTITLE_BITPOS            16
                             5601 ; 32   |#define DISPLAY_CURRENTTRACK_BITPOS         17
                             5602 ; 33   |#define DISPLAY_TRACKTIME_BITPOS            18
                             5603 ; 34   |#define DISPLAY_TOTALTRACKTIME_BITPOS        8
                             5604 ; 35   |#define DISPLAY_BITRATE_BITPOS              19
                             5605 ; 36   |
                             5606 ; 37   |//Device status info
                             5607 ; 38   |#define DISPLAY_LOCK_BITPOS                 20
                             5608 ; 39   |#define DISPLAY_DISK_BITPOS                 21
                             5609 ; 40   |#define DISPLAY_BATTERY_BITPOS              22
                             5610 ; 41   |#define DISPLAY_ALBUMART_BITPOS              23
                             5611 ; 42   |
                             5612 ; 43   |#ifdef PLAYER_STRESS
                             5613 ; 44   |// this may not work since album art uses bit 23 so we may need a new word variable for this player stress test bit below.
                             5614 ; 45   |#define DISPLAY_STRESSTEST_BITPOS            23
                             5615 ; 46   |#endif
                             5616 ; 47   |
                             5617 ; 48   |
                             5618 ; 49   |union DisplayHints
                             5619 ; 50   |{
                             5620 ; 51   |    struct {
                             5621 ; 52   |        int ClearDisplay        :1;//0
                             5622 ; 53   |        int EncoderTrackTime    :1;//1
                             5623 ; 54   |        int EncoderTrackName    :1;//2
                             5624 ; 55   |        int RecordMode          :1;//3
                             5625 ; 56   |        int Misc                :1;//4
                             5626 ; 57   |        int FMTunerFrequency    :1;//5
                             5627 ; 58   |        int FMTunerPreset       :1;//6
                             5628 ; 59   |        int FMTunerStrength     :1;//7
                             5629 ; 60   |        int TotalTrackTime      :1;//8
                             5630 ; 61   |        int PlayState           :1;//9
                             5631 ; 62   |        int ABIcon              :1;//10
                             5632 ; 63   |        int PlayMode            :1;//11
                             5633 ; 64   |        int PlaySet             :1;//12
                             5634 ; 65   |        int EQ                  :1;//13
                             5635 ; 66   |        int Volume              :1;//14
                             5636 ; 67   |        int SongArtistAlbum     :1;//15
                             5637 ; 68   |        int SongTitle           :1;//16
                             5638 ; 69   |        int CurrentTrack        :1;//17
                             5639 ; 70   |        int TrackTime           :1;//18
                             5640 ; 71   |        int Bitrate             :1;//19
                             5641 ; 72   |        int LockIcon            :1;//20
                             5642 ; 73   |        int Disk                :1;//21
                             5643 ; 74   |        int Battery             :1;//22
                             5644 ; 75   |#ifdef PLAYER_STRESS
                             5645 ; 76   |        int StressTest         :1;//23  // this might not work since bit 23 is already taken by album art. 23 is last bit in word.
                             5646 ; 77   |#else
                             5647 ; 78   |        int AlbumArt            :1;//23
                             5648 ; 79   |#endif
                             5649 ; 80   |    } bits;
                             5650 ; 81   |    WORD I;
                             5651 ; 82   |};
                             5652 ; 83   |
                             5653 ; 84   |// setup default display for all menus
                             5654 ; 85   |// can be adjusted in each menus as required.
                             5655 ; 86   |#define COMMON_DISPLAY_ALL  (\ 
                             5656 ; 87   |                                (1<<DISPLAY_BATTERY_BITPOS)|\ 
                             5657 ; 88   |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                             5658 ; 89   |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             5659 ; 90   |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                             5660 ; 91   |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                             5661 ; 92   |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                             5662 ; 93   |                                (1<<DISPLAY_EQ_BITPOS)|\ 
                             5663 ; 94   |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                             5664 ; 95   |                                (1<<DISPLAY_PLAYSTATE_BITPOS)\ 
                             5665 ; 96   |                                )
                             5666 ; 97   |
                             5667 ; 98   |#define SPECTROGRAM_MENU_DISPLAY_ALL  (\ 
                             5668 ; 99   |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                             5669 ; 100  |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                             5670 ; 101  |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                             5671 ; 102  |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                             5672 ; 103  |                                (1<<DISPLAY_EQ_BITPOS)|\ 
                             5673 ; 104  |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                             5674 ; 105  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)\ 
                             5675 ; 106  |                                )
                             5676 ; 107  |
                             5677 ; 108  |//-----------------------------------------------
                             5678 ; 109  |#ifdef JPEG_ALBUM_ART
                             5679 ; 110  |#define ALBUMART_SET_MASK_IF_APPROPRIATE (1<<DISPLAY_ALBUMART_BITPOS)
                             5680 ; 111  |#else
                             5681 ; 112  |#define ALBUMART_SET_MASK_IF_APPROPRIATE (0)
                             5682 ; 113  |#endif
                             5683 ; 114  |
                             5684 ; 115  |#ifdef PLAYER_STRESS
                             5685 ; 116  |#define PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE (1<<DISPLAY_STRESSTEST_BITPOS)
                             5686 ; 117  |#else
                             5687 ; 118  |#define PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE (0)
                             5688 ; 119  |#endif
                             5689 ; 120  |
                             5690 ; 121  |
                             5691 ; 122  |#define MUSIC_MENU_DISPLAY_ALL  (\ 
                             5692 ; 123  |                                (COMMON_DISPLAY_ALL)|\ 
                             5693 ; 124  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             5694 ; 125  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             5695 ; 126  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             5696 ; 127  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                             5697 ; 128  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                             5698 ; 129  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             5699 ; 130  |                                (1<<DISPLAY_TRACKTIME_BITPOS)|\ 
                             5700 ; 131  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)\ 
                             5701 ; 132  |                                )
                             5702 ; 133  |
                             5703 ; 134  |#define MUSIC_MENU_DISPLAY_NEW_TRACK (\ 
                             5704 ; 135  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             5705 ; 136  |                                (PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE)|\ 
                             5706 ; 137  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                             5707 ; 138  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                             5708 ; 139  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             5709 ; 140  |                                (1<<DISPLAY_TRACKTIME_BITPOS)|\ 
                             5710 ; 141  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)|\ 
                             5711 ; 142  |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                             5712 ; 143  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             5713 ; 144  |                                (1<<DISPLAY_PLAYSET_BITPOS)\ 
                             5714 ; 145  |                                )
                             5715 ; 146  |//-----------------------------------------------
                             5716 ; 147  |
                             5717 ; 148  |
                             5718 ; 149  |#define MVIDEO_MENU_DISPLAY_ALL ((1<<DISPLAY_CURRENTTRACK_BITPOS)|(1<<DISPLAY_SONGTITLE_BITPOS))
                             5719 ; 150  |
                             5720 ; 151  |
                             5721 ; 152  |#define VOICE_MENU_DISPLAY_ALL  (\ 
                             5722 ; 153  |                                COMMON_DISPLAY_ALL|\ 
                             5723 ; 154  |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                             5724 ; 155  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             5725 ; 156  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             5726 ; 157  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                             5727 ; 158  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                             5728 ; 159  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             5729 ; 160  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)|\ 
                             5730 ; 161  |                                (1<<DISPLAY_TRACKTIME_BITPOS)\ 
                             5731 ; 162  |                                )
                             5732 ; 163  |
                             5733 ; 164  |
                             5734 ; 165  |#define RECORDING_DISPLAY_ALL   (\ 
                             5735 ; 166  |                                COMMON_DISPLAY_ALL|\ 
                             5736 ; 167  |                                (1<<DISPLAY_ENCODER_TRACK_TIME_BITPOS)|\ 
                             5737 ; 168  |                                (1<<DISPLAY_ENCODER_TRACK_NAME_BITPOS)|\ 
                             5738 ; 169  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             5739 ; 170  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             5740 ; 171  |                                (1<<DISPLAY_RECORD_MODE_BITPOS)\ 
                             5741 ; 172  |                                )
                             5742 ; 173  |
                             5743 ; 174  |#ifdef USE_PLAYLIST3
                             5744 ; 175  |#define BROWSE_MENU_DISPLAY_ALL  (\ 
                             5745 ; 176  |                                (1<<DISPLAY_BATTERY_BITPOS)|\ 
                             5746 ; 177  |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                             5747 ; 178  |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                             5748 ; 179  |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                             5749 ; 180  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                             5750 ; 181  |                                )
                             5751 ; 182  |#else
                             5752 ; 183  |#ifdef USE_PLAYLIST5
                             5753 ; 184  |#if 0
                             5754 ; 185  |#define BROWSE_MENU_DISPLAY_ALL (\ 
                             5755 ; 186  |                                 COMMON_DISPLAY_ALL|\ 
                             5756 ; 187  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             5757 ; 188  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             5758 ; 189  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             5759 ; 190  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             5760 ; 191  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                             5761 ; 192  |                                )
                             5762 ; 193  |#else
                             5763 ; 194  |#define BROWSE_MENU_DISPLAY_ALL (\ 
                             5764 ; 195  |                                 COMMON_DISPLAY_ALL|\ 
                             5765 ; 196  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             5766 ; 197  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             5767 ; 198  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             5768 ; 199  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                             5769 ; 200  |                                )
                             5770 ; 201  |#endif
                             5771 ; 202  |#endif  // #ifdef USE_PLAYLIST5
                             5772 ; 203  |#endif  // #ifdef USE_PLAYLIST3
                             5773 ; 204  |
                             5774 ; 205  |
                             5775 ; 206  |
                             5776 ; 207  |#define MAIN_MENU_DISPLAY_ALL           (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             5777 ; 208  |
                             5778 ; 209  |#define EQ_MENU_DISPLAY_ALL             (\ 
                             5779 ; 210  |                                        COMMON_DISPLAY_ALL|\ 
                             5780 ; 211  |                                        (1<<DISPLAY_EQ_BITPOS)|\ 
                             5781 ; 212  |                                        (1<<DISPLAY_VOLUME_BITPOS)\ 
                             5782 ; 213  |                                        )     // (SDK2.520)
                             5783 ; 214  |
                             5784 ; 215  |#define PM_MENU_DISPLAY_ALL             (COMMON_DISPLAY_ALL|(1<<DISPLAY_PLAYMODE_BITPOS)|(1<<DISPLAY_MISC_BITPOS))
                             5785 ; 216  |#define PWR_MENU_DISPLAY_ALL            (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             5786 ; 217  |#define SETTINGS_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             5787 ; 218  |#define JPEG_DISPLAY_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             5788 ; 219  |#define DELETE_MENU_DISPLAY_ALL         (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             5789 ; 220  |#define ABOUT_MENU_DISPLAY_ALL          (COMMON_DISPLAY_ALL)
                             5790 ; 221  |#define ERASE_MENU_DISPLAY_ALL          ((1<<DISPLAY_BATTERY_BITPOS)|(1<<DISPLAY_LOCK_BITPOS))
                             5791 ; 222  |
                             5792 ; 223  |#define CONTRAST_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             5793 ; 224  |
                             5794 ; 225  |#define TIME_DATE_MENU_DISPLAY_ALL      0
                             5795 ; 226  |#define RECORDTEST_DISPLAY_ALL       (\ 
                             5796 ; 227  |                                        (1<<DISPLAY_ENCODER_TRACK_TIME_BITPOS)|\ 
                             5797 ; 228  |                                                                        (1<<DISPLAY_ENCODER_TRACK_NAME_BITPOS)|\ 
                             5798 ; 229  |                                                                        (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             5799 ; 230  |                                        (1<<DISPLAY_RECORD_MODE_BITPOS)|\ 
                             5800 ; 231  |                                    (1<<DISPLAY_MISC_BITPOS)\ 
                             5801 ; 232  |                                                                        )
                             5802 ; 233  |
                             5803 ; 234  |#define SPLASH_MENU_DISPLAY_ALL         (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             5804 ; 235  |// used during track update to force total time update
                             5805 ; 236  |#define AUTOUPDATE              FALSE
                             5806 ; 237  |#define FORCEUPDATE             TRUE
                             5807 ; 238  |
                             5808 ; 239  |
                             5809 ; 240  |// based on font used for title/artist display
                             5810 ; 241  |#define DEFAULT_CHAR_WIDTH  5
                             5811 ; 242  |
                             5812 ; 243  |
                             5813 ; 244  |// LCD dimensions
                             5814 ; 245  |#ifdef LDS514_LCD
                             5815 ; 246  |#define   LCD_SIZE_X       96
                             5816 ; 247  |#define   LCD_SIZE_Y       64
                             5817 ; 248  |#endif
                             5818 ; 249  |
                             5819 ; 250  |#ifdef ILI814_LCD
                             5820 ; 251  |#define   LCD_SIZE_X       96
                             5821 ; 252  |#define   LCD_SIZE_Y       64
                             5822 ; 253  |#endif
                             5823 ; 254  |
                             5824 ; 255  |#ifdef ML9341_LCD
                             5825 ; 256  |#define   LCD_SIZE_X       96
                             5826 ; 257  |#define   LCD_SIZE_Y       96
                             5827 ; 258  |#endif
                             5828 ; 259  |
                             5829 ; 260  |#ifdef SSD1332_LCD
                             5830 ; 261  |#define   LCD_SIZE_X       96
                             5831 ; 262  |#define   LCD_SIZE_Y       64
                             5832 ; 263  |#endif
                             5833 ; 264  |
                             5834 ; 265  |#ifdef S6B33B0A_LCD
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  24

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5835 ; 266  |#define   LCD_SIZE_X       128
                             5836 ; 267  |#define   LCD_SIZE_Y       159
                             5837 ; 268  |#endif
                             5838 ; 269  |
                             5839 ; 270  |#ifdef SED15XX_LCD
                             5840 ; 271  |#define LCD_SIZE_X                      128
                             5841 ; 272  |#define LCD_SIZE_Y                      64
                             5842 ; 273  |#endif
                             5843 ; 274  |
                             5844 ; 275  |#define LCD_SIZE_ROW                     8
                             5845 ; 276  |
                             5846 ; 277  |#define TOP_OF_SCREEN           0
                             5847 ; 278  |#define LEFT_OF_SCREEN          0
                             5848 ; 279  |
                             5849 ; 280  |#ifdef LDS514_LCD
                             5850 ; 281  |#define   SCREEN_WIDTH       96
                             5851 ; 282  |#define   SCREEN_HEIGHT       64
                             5852 ; 283  |#endif
                             5853 ; 284  |
                             5854 ; 285  |#ifdef ILI814_LCD
                             5855 ; 286  |#define   SCREEN_WIDTH       96
                             5856 ; 287  |#define   SCREEN_HEIGHT       64
                             5857 ; 288  |#endif
                             5858 ; 289  |
                             5859 ; 290  |#ifdef ML9341_LCD
                             5860 ; 291  |#define   SCREEN_WIDTH       96
                             5861 ; 292  |#define   SCREEN_HEIGHT       96
                             5862 ; 293  |#endif
                             5863 ; 294  |
                             5864 ; 295  |#ifdef SSD1332_LCD
                             5865 ; 296  |#define   SCREEN_WIDTH       96
                             5866 ; 297  |#define   SCREEN_HEIGHT       64
                             5867 ; 298  |#endif
                             5868 ; 299  |
                             5869 ; 300  |#ifdef S6B33B0A_LCD
                             5870 ; 301  |#define   SCREEN_WIDTH       128
                             5871 ; 302  |#define   SCREEN_HEIGHT       159
                             5872 ; 303  |#endif
                             5873 ; 304  |
                             5874 ; 305  |#ifdef SED15XX_LCD
                             5875 ; 306  |#define SCREEN_WIDTH            128
                             5876 ; 307  |#define SCREEN_HEIGHT           64
                             5877 ; 308  |#endif
                             5878 ; 309  |
                             5879 ; 310  |#define CHAR_SIZE_X             6
                             5880 ; 311  |#define CHAR_SIZE_Y             8
                             5881 ; 312  |
                             5882 ; 313  |// Physical rows are numbered from 0 to LCD_SIZE_Y/LCD_SIZE_ROW
                             5883 ; 314  |#define LCD_FIRST_ROW_NUM                1
                             5884 ; 315  |#define LCD_FIRST_ROW_POS_Y=LCD_FIRST_ROW_NUM*LCD_SIZE_ROW  // skipping the first row
                             5885 ; 316  |
                             5886 ; 317  |// Top row in order from left to right
                             5887 ; 318  |#define PLAY_STATE_ICON_X_POS   LEFT_OF_SCREEN+0
                             5888 ; 319  |#define PLAY_STATE_ICON_Y_POS   TOP_OF_SCREEN+0
                             5889 ; 320  |#define PLAY_STATE_ICON_X_SIZE  12
                             5890 ; 321  |#define PLAY_STATE_ICON_Y_SIZE  8
                             5891 ; 322  |
                             5892 ; 323  |#define REPEAT_ICON_X_POS       LEFT_OF_SCREEN+13
                             5893 ; 324  |#define REPEAT_ICON_Y_POS       TOP_OF_SCREEN+0
                             5894 ; 325  |#define REPEAT_ICON_X_SIZE      12
                             5895 ; 326  |#define REPEAT_ICON_Y_SIZE      8
                             5896 ; 327  |
                             5897 ; 328  |#define SHUFFLE_ICON_X_POS      LEFT_OF_SCREEN+25
                             5898 ; 329  |#define SHUFFLE_ICON_Y_POS      TOP_OF_SCREEN+0
                             5899 ; 330  |#define SHUFFLE_ICON_X_SIZE     5     // includes white space on left side of .bmp
                             5900 ; 331  |#define SHUFFLE_ICON_Y_SIZE     8
                             5901 ; 332  |
                             5902 ; 333  |#define AB_ICON_X_POS           LEFT_OF_SCREEN+31
                             5903 ; 334  |#define AB_ICON_Y_POS           TOP_OF_SCREEN+0
                             5904 ; 335  |#define AB_ICON_X_SIZE          12
                             5905 ; 336  |#define AB_ICON_Y_SIZE          8
                             5906 ; 337  |
                             5907 ; 338  |#ifdef  AUDIBLE
                             5908 ; 339  |#define SECNAV_ICON_X_POS       LEFT_OF_SCREEN+31
                             5909 ; 340  |#define SECNAV_ICON_Y_POS       TOP_OF_SCREEN+0
                             5910 ; 341  |#define SECNAV_ICON_X_SIZE      12
                             5911 ; 342  |#define SECNAV_ICON_Y_SIZE      8
                             5912 ; 343  |#endif
                             5913 ; 344  |
                             5914 ; 345  |#define EQ_ICON_X_POS           LEFT_OF_SCREEN+44
                             5915 ; 346  |#define EQ_ICON_Y_POS           TOP_OF_SCREEN+0
                             5916 ; 347  |#define EQ_ICON_X_SIZE          22
                             5917 ; 348  |#define EQ_ICON_Y_SIZE          8
                             5918 ; 349  |
                             5919 ; 350  |#ifdef WOW
                             5920 ; 351  |#define WOW_X_POS               EQ_ICON_X_POS
                             5921 ; 352  |#define WOW_Y_POS               EQ_ICON_Y_POS
                             5922 ; 353  |#endif
                             5923 ; 354  |
                             5924 ; 355  |
                             5925 ; 356  |// Media icon
                             5926 ; 357  |#define DISK_X_POS              LEFT_OF_SCREEN+66
                             5927 ; 358  |#define DISK_Y_POS              TOP_OF_SCREEN
                             5928 ; 359  |#define DISK_X_SIZE             8
                             5929 ; 360  |#define DISK_Y_SIZE             8
                             5930 ; 361  |
                             5931 ; 362  |// Hold icon
                             5932 ; 363  |#define LOCK_ICON_X_POS         LEFT_OF_SCREEN+73
                             5933 ; 364  |#define LOCK_ICON_Y_POS         TOP_OF_SCREEN
                             5934 ; 365  |#define LOCK_ICON_X_SIZE        8
                             5935 ; 366  |#define LOCK_ICON_Y_SIZE        8
                             5936 ; 367  |
                             5937 ; 368  |#define BATTERY_ICON_X_POS      LEFT_OF_SCREEN+110
                             5938 ; 369  |#define BATTERY_ICON_Y_POS      TOP_OF_SCREEN+0
                             5939 ; 370  |#define BATTERY_ICON_X_SIZE     16
                             5940 ; 371  |#define BATTERY_ICON_Y_SIZE     8
                             5941 ; 372  |#define BATTERY_RESOURCE        RSRC_BATTERY_00
                             5942 ; 373  |
                             5943 ; 374  |// Second row from left to right
                             5944 ; 375  |#define VOLUME_ICON_X_POS       LEFT_OF_SCREEN+0
                             5945 ; 376  |#define VOLUME_ICON_Y_POS       TOP_OF_SCREEN+8
                             5946 ; 377  |#define VOLUME_ICON_X_SIZE      48
                             5947 ; 378  |#define VOLUME_ICON_Y_SIZE      8
                             5948 ; 379  |#define VOLUME_RESOURCE         RSRC_ICON_VOL_00
                             5949 ; 380  |#define VOLUME_NUM_ICONS        27
                             5950 ; 381  |
                             5951 ; 382  |#define PLAYSET_X_POS           SCREEN_WIDTH-8
                             5952 ; 383  |#define PLAYSET_Y_POS           TOP_OF_SCREEN+8
                             5953 ; 384  |
                             5954 ; 385  |//Lyrics Position
                             5955 ; 386  |#define LYRICS_DISPLAY_X_POS    LEFT_OF_SCREEN
                             5956 ; 387  |#define LYRICS_DISPLAY_Y_POS    TOP_OF_SCREEN+16
                             5957 ; 388  |#define LYRICS_DISPLAY_HEIGHT           10
                             5958 ; 389  |
                             5959 ; 390  |// Music menu
                             5960 ; 391  |#define SONG_TITLE_X_POS        LEFT_OF_SCREEN+0
                             5961 ; 392  |#define SONG_TITLE_Y_POS        TOP_OF_SCREEN+16
                             5962 ; 393  |#define SONG_TITLE_X_SIZE       SCREEN_WIDTH
                             5963 ; 394  |#define SONG_TITLE_Y_SIZE       10
                             5964 ; 395  |
                             5965 ; 396  |#define SONG_ARTIST_X_POS       LEFT_OF_SCREEN
                             5966 ; 397  |#define SONG_ARTIST_Y_POS       TOP_OF_SCREEN+26
                             5967 ; 398  |#define SONG_ARTIST_X_SIZE      SCREEN_WIDTH
                             5968 ; 399  |#define SONG_ARTIST_Y_SIZE      10
                             5969 ; 400  |
                             5970 ; 401  |#define SONG_ALBUM_X_POS       LEFT_OF_SCREEN
                             5971 ; 402  |#define SONG_ALBUM_Y_POS       TOP_OF_SCREEN+36
                             5972 ; 403  |#define SONG_ALBUM_X_SIZE      SCREEN_WIDTH
                             5973 ; 404  |#define SONG_ALBUM_Y_SIZE      10
                             5974 ; 405  |
                             5975 ; 406  |#ifdef USE_PLAYLIST5
                             5976 ; 407  |#define TRACK_NUMBER_X_POS      LEFT_OF_SCREEN+28
                             5977 ; 408  |#define TRACK_NUMBER_Y_POS      TOP_OF_SCREEN+56
                             5978 ; 409  |#define TRACK_NUMBER_X_SIZE     6*4
                             5979 ; 410  |#define TRACK_NUMBER_Y_SIZE     8
                             5980 ; 411  |
                             5981 ; 412  |#define TRACK_COUNT_X_POS       TRACK_NUMBER_X_POS+TRACK_NUMBER_X_SIZE+10
                             5982 ; 413  |#define TRACK_COUNT_Y_POS       TOP_OF_SCREEN+56
                             5983 ; 414  |#define TRACK_COUNT_X_SIZE      6*4
                             5984 ; 415  |#define TRACK_COUNT_Y_SIZE      8
                             5985 ; 416  |
                             5986 ; 417  |#define TRACK_DIVIDE_X TRACK_NUMBER_X_POS+TRACK_COUNT_X_SIZE + 2
                             5987 ; 418  |#else
                             5988 ; 419  |#define TRACK_NUMBER_X_POS      LEFT_OF_SCREEN+34
                             5989 ; 420  |#define TRACK_NUMBER_Y_POS      TOP_OF_SCREEN+56
                             5990 ; 421  |#define TRACK_NUMBER_X_SIZE     6*3
                             5991 ; 422  |#define TRACK_NUMBER_Y_SIZE     8
                             5992 ; 423  |
                             5993 ; 424  |#define TRACK_COUNT_X_POS       TRACK_NUMBER_X_POS+TRACK_NUMBER_X_SIZE+10
                             5994 ; 425  |#define TRACK_COUNT_Y_POS       TOP_OF_SCREEN+56
                             5995 ; 426  |#define TRACK_COUNT_X_SIZE      6*3
                             5996 ; 427  |#define TRACK_COUNT_Y_SIZE      8
                             5997 ; 428  |
                             5998 ; 429  |#define TRACK_DIVIDE_X  TRACK_NUMBER_X_POS+24
                             5999 ; 430  |#endif
                             6000 ; 431  |
                             6001 ; 432  |
                             6002 ; 433  |#define TRACK_CURR_TIME_X_POS       LEFT_OF_SCREEN+28
                             6003 ; 434  |#define TRACK_CURR_TIME_Y_POS       TOP_OF_SCREEN+48
                             6004 ; 435  |#define TRACK_CURR_TIME_X_SIZE      25
                             6005 ; 436  |#define TRACK_CURR_TIME_Y_SIZE      8
                             6006 ; 437  |
                             6007 ; 438  |#define TRACK_SLASH_X_SIZE          5
                             6008 ; 439  |#define TRACK_SLASH_X_POS           TRACK_TOTAL_TIME_X_POS-TRACK_SLASH_X_SIZE
                             6009 ; 440  |#define TRACK_SLASH_Y_POS           TRACK_CURR_TIME_Y_POS
                             6010 ; 441  |
                             6011 ; 442  |#define TRACK_TOTAL_TIME_X_POS      LEFT_OF_SCREEN+60
                             6012 ; 443  |#define TRACK_TOTAL_TIME_Y_POS      TRACK_CURR_TIME_Y_POS
                             6013 ; 444  |#define TRACK_TOTAL_TIME_X_SIZE     28
                             6014 ; 445  |#define TRACK_TOTAL_TIME_Y_SIZE     8
                             6015 ; 446  |
                             6016 ; 447  |#define VBR_FLAG_X_POS      LEFT_OF_SCREEN+80
                             6017 ; 448  |#define VBR_FLAG_Y_POS      8
                             6018 ; 449  |#define VBR_FLAG_X_SIZE     20
                             6019 ; 450  |#define VBR_FLAG_Y_SIZE     8
                             6020 ; 451  |#ifdef JPEG_ALBUM_ART
                             6021 ; 452  |// Album art display parameters:
                             6022 ; 453  |#define ALBUM_ART_X_POS         TOP_OF_SCREEN
                             6023 ; 454  |#define ALBUM_ART_Y_POS         80
                             6024 ; 455  |#define ALBUM_ART_X_SIZE        SCREEN_WIDTH
                             6025 ; 456  |#define ALBUM_ART_Y_SIZE        (SCREEN_HEIGHT-ALBUM_ART_Y_POS)
                             6026 ; 457  |#endif
                             6027 ; 458  |
                             6028 ; 459  |// Recording Display
                             6029 ; 460  |#define REC_CURR_TIME_X_POS       LEFT_OF_SCREEN
                             6030 ; 461  |#define REC_CURR_TIME_Y_POS       TOP_OF_SCREEN+48
                             6031 ; 462  |#define REC_CURR_TIME_X_SIZE      12
                             6032 ; 463  |#define REC_CURR_TIME_Y_SIZE      8
                             6033 ; 464  |
                             6034 ; 465  |#define REC_TOTAL_TIME_X_POS      LEFT_OF_SCREEN+45
                             6035 ; 466  |#define REC_TOTAL_TIME_Y_POS      TOP_OF_SCREEN+48
                             6036 ; 467  |#define REC_TOTAL_TIME_X_SIZE     28
                             6037 ; 468  |#define REC_TOTAL_TIME_Y_SIZE     8
                             6038 ; 469  |
                             6039 ; 470  |// Playback Display with hours added.
                             6040 ; 471  |#ifdef LDS514_LCD
                             6041 ; 472  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6042 ; 473  |#endif
                             6043 ; 474  |
                             6044 ; 475  |#ifdef ILI814_LCD
                             6045 ; 476  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6046 ; 477  |#endif
                             6047 ; 478  |
                             6048 ; 479  |#ifdef ML9341_LCD
                             6049 ; 480  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6050 ; 481  |#endif
                             6051 ; 482  |
                             6052 ; 483  |#ifdef SSD1332_LCD
                             6053 ; 484  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6054 ; 485  |#endif
                             6055 ; 486  |
                             6056 ; 487  |#ifdef S6B33B0A_LCD
                             6057 ; 488  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6058 ; 489  |#endif
                             6059 ; 490  |
                             6060 ; 491  |#ifdef SED15XX_LCD
                             6061 ; 492  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6062 ; 493  |#endif
                             6063 ; 494  |
                             6064 ; 495  |#define HR_TRACK_CURR_TIME_Y_POS        TOP_OF_SCREEN+48
                             6065 ; 496  |#define HR_TRACK_CURR_TIME_X_SIZE       28
                             6066 ; 497  |#define HR_TRACK_CURR_TIME_Y_SIZE       8
                             6067 ; 498  |
                             6068 ; 499  |#define HR_TRACK_TOTAL_TIME_X_POS       LEFT_OF_SCREEN+59
                             6069 ; 500  |#define HR_TRACK_TOTAL_TIME_Y_POS       TRACK_CURR_TIME_Y_POS
                             6070 ; 501  |#define HR_TRACK_TOTAL_TIME_X_SIZE      28
                             6071 ; 502  |#define HR_TRACK_TOTAL_TIME_Y_SIZE      8
                             6072 ; 503  |
                             6073 ; 504  |//Clear entire Track Time when song changes.
                             6074 ; 505  |#define CLR_TRACK_TIME_X_POS            LEFT_OF_SCREEN
                             6075 ; 506  |#define CLR_TRACK_TIME_Y_POS            TRACK_CURR_TIME_Y_POS
                             6076 ; 507  |#define CLR_TRACK_TIME_X_SIZE           SCREEN_WIDTH
                             6077 ; 508  |#define CLR_TRACK_TIME_Y_SIZE           8
                             6078 ; 509  |
                             6079 ; 510  |#define HR_TRACK_SLASH_X_SIZE           3
                             6080 ; 511  |#define HR_TRACK_SLASH_X_POS            HR_TRACK_TOTAL_TIME_X_POS-HR_TRACK_SLASH_X_SIZE
                             6081 ; 512  |#define HR_TRACK_SLASH_Y_POS            HR_TRACK_CURR_TIME_Y_POS
                             6082 ; 513  |
                             6083 ; 514  | //DVRWARN
                             6084 ; 515  |#define VOICE_SPACE_WARN_X_POS      LEFT_OF_SCREEN
                             6085 ; 516  |#define VOICE_SPACE_WARN_Y_POS      SONG_TITLE_Y_POS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  25

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6086 ; 517  |#define VOICE_SPACE_WARN_X_SIZE     93
                             6087 ; 518  |#define VOICE_SPACE_WARN_Y_SIZE     16
                             6088 ; 519  |
                             6089 ; 520  |//Shutdown
                             6090 ; 521  |#define SHUTDOWN_PROGRESS_X_POS     LEFT_OF_SCREEN+24
                             6091 ; 522  |#define SHUTDOWN_PROGRESS_Y_POS     TOP_OF_SCREEN+32
                             6092 ; 523  |#define SHUTDOWN_PROGRESS_X_SIZE    59
                             6093 ; 524  |#define SHUTDOWN_PROGRESS_Y_SIZE    16
                             6094 ; 525  |#define SHUTDOWN_PROGRESS_RESOURCE  RSRC_PDOWN_STATUS_0
                             6095 ; 526  |
                             6096 ; 527  |#define SHUTDOWN_STRING_X_POS       LEFT_OF_SCREEN+10
                             6097 ; 528  |#define SHUTDOWN_STRING_Y_POS       TOP_OF_SCREEN+16
                             6098 ; 529  |#define SHUTDOWN_STRING_X_SIZE      59
                             6099 ; 530  |#define SHUTDOWN_STRING_Y_SIZE      16
                             6100 ; 531  |#define SHUTDOWN_STRING_RESOURCE    RSRC_PDOWN_HOLD_STRING
                             6101 ; 532  |
                             6102 ; 533  |#define DEFRAGMENT_STRING_X_POS       LEFT_OF_SCREEN+0
                             6103 ; 534  |#define DEFRAGMENT_STRING_Y_POS       TOP_OF_SCREEN+16
                             6104 ; 535  |#define DEFRAGMENT_STRING_X_SIZE      59
                             6105 ; 536  |#define DEFRAGMENT_STRING_Y_SIZE      16
                             6106 ; 537  |#define DEFRAGMENT_STRING_RESOURCE    RSRC_DEFRAGMENT_STORE_STRING
                             6107 ; 538  |
                             6108 ; 539  |
                             6109 ; 540  |//Contrast Display
                             6110 ; 541  |#define CONTRAST_TITLE_X_POS        LEFT_OF_SCREEN+0
                             6111 ; 542  |#define CONTRAST_TITLE_Y_POS        TOP_OF_SCREEN+16
                             6112 ; 543  |
                             6113 ; 544  |#define CONTRAST_X_POS              LEFT_OF_SCREEN+8
                             6114 ; 545  |#define CONTRAST_Y_POS              TOP_OF_SCREEN+32
                             6115 ; 546  |#define CONTRAST_X_SIZE             96
                             6116 ; 547  |#define CONTRAST_Y_SIZE             8
                             6117 ; 548  |#define CONTRAST_RESOURCE           RSRC_CONTRAST_LEVEL_0
                             6118 ; 549  |
                             6119 ; 550  |//Backlight Display
                             6120 ; 551  |#define BACKLIGHT_TITLE_X_POS        LEFT_OF_SCREEN+0
                             6121 ; 552  |#define BACKLIGHT_TITLE_Y_POS        TOP_OF_SCREEN+24
                             6122 ; 553  |#define BACKLIGHT_STATE_X_POS        LEFT_OF_SCREEN+0
                             6123 ; 554  |#define BACKLIGHT_STATE_Y_POS        (LCD_FIRST_ROW_NUM+4)*LCD_SIZE_ROW
                             6124 ; 555  |
                             6125 ; 556  |//settings title display
                             6126 ; 557  |#define SETTINGS_TITLE_X_POS        LEFT_OF_SCREEN+0
                             6127 ; 558  |#define SETTINGS_TITLE_Y_POS        TOP_OF_SCREEN+8
                             6128 ; 559  |//jpeg display title display
                             6129 ; 560  |#define JPEG_DISPLAY_TITLE_X_POS        LEFT_OF_SCREEN+0
                             6130 ; 561  |#define JPEG_DISPLAY_TITLE_Y_POS        TOP_OF_SCREEN+8
                             6131 ; 562  |//erase files title display
                             6132 ; 563  |#define ERASE_TITLE_X_POS           LEFT_OF_SCREEN+0
                             6133 ; 564  |#define ERASE_TITLE_Y_POS           TOP_OF_SCREEN+8
                             6134 ; 565  |
                             6135 ; 566  |// Splashscreen
                             6136 ; 567  |#ifdef LDS514_LCD
                             6137 ; 568  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6138 ; 569  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                             6139 ; 570  |#define SPLASH_SCREEN_X_SIZE        96
                             6140 ; 571  |#define SPLASH_SCREEN_Y_SIZE        64
                             6141 ; 572  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6142 ; 573  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6143 ; 574  |#endif
                             6144 ; 575  |
                             6145 ; 576  |#ifdef ILI814_LCD
                             6146 ; 577  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6147 ; 578  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                             6148 ; 579  |#define SPLASH_SCREEN_X_SIZE        96
                             6149 ; 580  |#define SPLASH_SCREEN_Y_SIZE        64
                             6150 ; 581  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6151 ; 582  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6152 ; 583  |#endif
                             6153 ; 584  |
                             6154 ; 585  |#ifdef ML9341_LCD
                             6155 ; 586  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6156 ; 587  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                             6157 ; 588  |#define SPLASH_SCREEN_X_SIZE        96
                             6158 ; 589  |#define SPLASH_SCREEN_Y_SIZE        96
                             6159 ; 590  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6160 ; 591  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6161 ; 592  |#endif
                             6162 ; 593  |
                             6163 ; 594  |#ifdef SSD1332_LCD
                             6164 ; 595  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6165 ; 596  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                             6166 ; 597  |#define SPLASH_SCREEN_X_SIZE        96
                             6167 ; 598  |#define SPLASH_SCREEN_Y_SIZE        64
                             6168 ; 599  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6169 ; 600  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6170 ; 601  |#endif
                             6171 ; 602  |
                             6172 ; 603  |#ifdef S6B33B0A_LCD
                             6173 ; 604  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6174 ; 605  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN + 16
                             6175 ; 606  |#define SPLASH_SCREEN_X_SIZE        80
                             6176 ; 607  |#define SPLASH_SCREEN_Y_SIZE        48
                             6177 ; 608  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6178 ; 609  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6179 ; 610  |#endif
                             6180 ; 611  |
                             6181 ; 612  |#ifdef SED15XX_LCD
                             6182 ; 613  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6183 ; 614  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN 
                             6184 ; 615  |#define SPLASH_SCREEN_X_SIZE        128
                             6185 ; 616  |#define SPLASH_SCREEN_Y_SIZE        64    
                             6186 ; 617  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6187 ; 618  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6188 ; 619  |#endif
                             6189 ; 620  |
                             6190 ; 621  |// FM tuner
                             6191 ; 622  |#define FM_TUNER_FREQUENCY_X_POS    LEFT_OF_SCREEN+30
                             6192 ; 623  |#define FM_TUNER_FREQUENCY_Y_POS    TOP_OF_SCREEN+24
                             6193 ; 624  |#define FM_TUNER_FREQUENCY_X_SIZE   CHAR_SIZE_X*10
                             6194 ; 625  |#define FM_TUNER_FREQUENCY_Y_SIZE   CHAR_SIZE_Y
                             6195 ; 626  |#define FM_TUNER_FREQUENCY_DOT_X_POS    FM_TUNER_FREQUENCY_X_POS+CHAR_SIZE_X*3
                             6196 ; 627  |#define FM_TUNER_FRAC_FREQUENCY_X_POS    FM_TUNER_FREQUENCY_DOT_X_POS+3
                             6197 ; 628  |
                             6198 ; 629  |#define FM_TUNER_PRESET_X_POS       LEFT_OF_SCREEN+30
                             6199 ; 630  |#define FM_TUNER_PRESET_Y_POS       TOP_OF_SCREEN+34
                             6200 ; 631  |#define FM_TUNER_PRESET_X_SIZE      CHAR_SIZE_X*5
                             6201 ; 632  |#define FM_TUNER_PRESET_Y_SIZE      CHAR_SIZE_Y
                             6202 ; 633  |
                             6203 ; 634  |#define FM_TUNER_PILOT_X_POS       LEFT_OF_SCREEN+30
                             6204 ; 635  |#define FM_TUNER_PILOT_Y_POS       TOP_OF_SCREEN+44
                             6205 ; 636  |
                             6206 ; 637  |// About menu
                             6207 ; 638  |#define ABOUT_TITLE_X_POS           LEFT_OF_SCREEN+0
                             6208 ; 639  |#define ABOUT_TITLE_Y_POS           TOP_OF_SCREEN+LCD_SIZE_ROW
                             6209 ; 640  |// starting row -- use offsets for the rest
                             6210 ; 641  |#define ABOUT_LINE_LABEL_X_POS      LEFT_OF_SCREEN+0
                             6211 ; 642  |#define ABOUT_LINE_LABEL_Y_POS      ABOUT_TITLE_Y_POS+(2*LCD_SIZE_ROW)
                             6212 ; 643  |
                             6213 ; 644  |#ifdef PLAYER_STRESS
                             6214 ; 645  |#define STRESS_TEST_X_POS       LEFT_OF_SCREEN
                             6215 ; 646  |#define STRESS_TEST_Y_POS       TOP_OF_SCREEN+40
                             6216 ; 647  |#define STRESS_TEST_X_SIZE      SCREEN_WIDTH
                             6217 ; 648  |#define STRESS_TEST_Y_SIZE      8
                             6218 ; 649  |#endif
                             6219 ; 650  |
                             6220 ; 651  |
                             6221 ; 652  |// Delete Menu
                             6222 ; 653  |#define WARNING_MSG_LINE1_X         LEFT_OF_SCREEN
                             6223 ; 654  |#define WARNING_MSG_LINE1_Y         (LCD_FIRST_ROW_NUM+1)*LCD_SIZE_ROW
                             6224 ; 655  |#define WARNING_MSG_LINE2_X         LEFT_OF_SCREEN
                             6225 ; 656  |#define WARNING_MSG_LINE2_Y         (LCD_FIRST_ROW_NUM+2)*LCD_SIZE_ROW
                             6226 ; 657  |#define WARNING_MSG_FILE_X          LEFT_OF_SCREEN
                             6227 ; 658  |#define WARNING_MSG_FILE_Y          (LCD_FIRST_ROW_NUM+4)*LCD_SIZE_ROW
                             6228 ; 659  |#define WARNING_MSG_YES_X           LEFT_OF_SCREEN
                             6229 ; 660  |#define WARNING_MSG_YES_Y           (LCD_FIRST_ROW_NUM+6)*LCD_SIZE_ROW
                             6230 ; 661  |#define DELETE_FAIL_MSG_X           LEFT_OF_SCREEN
                             6231 ; 662  |#define DELETE_FAIL_MSG_Y           (LCD_FIRST_ROW_NUM+6)*LCD_SIZE_ROW
                             6232 ; 663  |
                             6233 ; 664  |_reentrant void DisplayClear (void);
                             6234 ; 665  |_reentrant void DisplayLowBattery (void);
                             6235 ; 666  |
                             6236 ; 667  |_reentrant int DisplayContrast( int bDisplay, int iIgnored1, void *pPtr);
                             6237 ; 668  |
                             6238 ; 669  |_reentrant int DisplayBacklight( int bDisplay, int iIgnored1, void *pPtr);
                             6239 ; 670  |#ifdef WOW
                             6240 ; 671  |_reentrant int DisplayBar( int bDisplay, int step, void *pPtr);
                             6241 ; 672  |#endif
                             6242 ; 673  |extern _X BOOL g_bSongStringScroll;
                             6243 ; 674  |extern _X INT  g_iSongStringOffset;
                             6244 ; 675  |extern _X INT  g_iSongStringLength;
                             6245 ; 676  |
                             6246 ; 677  |extern _X BOOL g_bArtistStringScroll;
                             6247 ; 678  |extern _X INT  g_iArtistStringOffset;
                             6248 ; 679  |extern _X INT  g_iArtistStringLength;
                             6249 ; 680  |
                             6250 ; 681  |
                             6251 ; 682  |extern _X BOOL g_bAlbumStringScroll;
                             6252 ; 683  |extern _X INT  g_iAlbumStringOffset;
                             6253 ; 684  |extern _X INT  g_iAlbumStringLength;
                             6254 ; 685  |extern int g_iVolume_Control_Mode;
                             6255 ; 686  |extern int g_iAB_Control_Mode;
                             6256 ; 687  |
                             6257 ; 688  |
                             6258 ; 689  |#endif //_DISPLAY_H
                             6259 
                             6261 
                             6262 ; 13   |#include "displaylists.h"
                             6263 
                             6265 
                             6266 ; 1    |#ifndef _DISPLAY_LISTS_H
                             6267 ; 2    |#define _DISPLAY_LISTS_H
                             6268 ; 3    |
                             6269 ; 4    |#include "display.h"
                             6270 
                             6272 
                             6273 ; 1    |#ifndef _DISPLAY_H
                             6274 ; 2    |#define _DISPLAY_H
                             6275 ; 3    |
                             6276 ; 4    |//Display bits
                             6277 ; 5    |#define DISPLAY_CLEAR_DISPLAY_BITPOS        0
                             6278 ; 6    |
                             6279 ; 7    |#define DISPLAY_ENCODER_TRACK_TIME_BITPOS   1
                             6280 ; 8    |#define DISPLAY_ENCODER_TRACK_NAME_BITPOS   2
                             6281 ; 9    |#define DISPLAY_RECORD_MODE_BITPOS          3
                             6282 ; 10   |
                             6283 ; 11   |//This bit (DISPLAY_MISC_BITPOS) is set to allow DisplayHints to be non zero, but does not map
                             6284 ; 12   |//to anything in UpdateDisplay();  (meant to be used to indicate that specific
                             6285 ; 13   |//things that are specific for that menu.
                             6286 ; 14   |#define DISPLAY_MISC_BITPOS                 4
                             6287 ; 15   |
                             6288 ; 16   |#define DISPLAY_FMTUNER_FREQUENCY           5
                             6289 ; 17   |#define DISPLAY_FMTUNER_PRESET              6
                             6290 ; 18   |#define DISPLAY_FMTUNER_STRENGTH            7
                             6291 ; 19   |
                             6292 ; 20   |#define DISPLAY_PLAYSTATE_BITPOS             9
                             6293 ; 21   |#define DISPLAY_AB_ICON_BITPOS              10
                             6294 ; 22   |#define DISPLAY_PLAYMODE_BITPOS             11
                             6295 ; 23   |#define DISPLAY_PLAYSET_BITPOS              12
                             6296 ; 24   |
                             6297 ; 25   |//Playback info
                             6298 ; 26   |#define DISPLAY_EQ_BITPOS                   13
                             6299 ; 27   |#define DISPLAY_VOLUME_BITPOS               14
                             6300 ; 28   |
                             6301 ; 29   |//Track Info
                             6302 ; 30   |#define DISPLAY_SONGARTISTALBUM_BITPOS      15
                             6303 ; 31   |#define DISPLAY_SONGTITLE_BITPOS            16
                             6304 ; 32   |#define DISPLAY_CURRENTTRACK_BITPOS         17
                             6305 ; 33   |#define DISPLAY_TRACKTIME_BITPOS            18
                             6306 ; 34   |#define DISPLAY_TOTALTRACKTIME_BITPOS        8
                             6307 ; 35   |#define DISPLAY_BITRATE_BITPOS              19
                             6308 ; 36   |
                             6309 ; 37   |//Device status info
                             6310 ; 38   |#define DISPLAY_LOCK_BITPOS                 20
                             6311 ; 39   |#define DISPLAY_DISK_BITPOS                 21
                             6312 ; 40   |#define DISPLAY_BATTERY_BITPOS              22
                             6313 ; 41   |#define DISPLAY_ALBUMART_BITPOS              23
                             6314 ; 42   |
                             6315 ; 43   |#ifdef PLAYER_STRESS
                             6316 ; 44   |// this may not work since album art uses bit 23 so we may need a new word variable for this player stress test bit below.
                             6317 ; 45   |#define DISPLAY_STRESSTEST_BITPOS            23
                             6318 ; 46   |#endif
                             6319 ; 47   |
                             6320 ; 48   |
                             6321 ; 49   |union DisplayHints
                             6322 ; 50   |{
                             6323 ; 51   |    struct {
                             6324 ; 52   |        int ClearDisplay        :1;//0
                             6325 ; 53   |        int EncoderTrackTime    :1;//1
                             6326 ; 54   |        int EncoderTrackName    :1;//2
                             6327 ; 55   |        int RecordMode          :1;//3
                             6328 ; 56   |        int Misc                :1;//4
                             6329 ; 57   |        int FMTunerFrequency    :1;//5
                             6330 ; 58   |        int FMTunerPreset       :1;//6
                             6331 ; 59   |        int FMTunerStrength     :1;//7
                             6332 ; 60   |        int TotalTrackTime      :1;//8
                             6333 ; 61   |        int PlayState           :1;//9
                             6334 ; 62   |        int ABIcon              :1;//10
                             6335 ; 63   |        int PlayMode            :1;//11
                             6336 ; 64   |        int PlaySet             :1;//12
                             6337 ; 65   |        int EQ                  :1;//13
                             6338 ; 66   |        int Volume              :1;//14
                             6339 ; 67   |        int SongArtistAlbum     :1;//15
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  26

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6340 ; 68   |        int SongTitle           :1;//16
                             6341 ; 69   |        int CurrentTrack        :1;//17
                             6342 ; 70   |        int TrackTime           :1;//18
                             6343 ; 71   |        int Bitrate             :1;//19
                             6344 ; 72   |        int LockIcon            :1;//20
                             6345 ; 73   |        int Disk                :1;//21
                             6346 ; 74   |        int Battery             :1;//22
                             6347 ; 75   |#ifdef PLAYER_STRESS
                             6348 ; 76   |        int StressTest         :1;//23  // this might not work since bit 23 is already taken by album art. 23 is last bit in word.
                             6349 ; 77   |#else
                             6350 ; 78   |        int AlbumArt            :1;//23
                             6351 ; 79   |#endif
                             6352 ; 80   |    } bits;
                             6353 ; 81   |    WORD I;
                             6354 ; 82   |};
                             6355 ; 83   |
                             6356 ; 84   |// setup default display for all menus
                             6357 ; 85   |// can be adjusted in each menus as required.
                             6358 ; 86   |#define COMMON_DISPLAY_ALL  (\ 
                             6359 ; 87   |                                (1<<DISPLAY_BATTERY_BITPOS)|\ 
                             6360 ; 88   |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                             6361 ; 89   |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             6362 ; 90   |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                             6363 ; 91   |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                             6364 ; 92   |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                             6365 ; 93   |                                (1<<DISPLAY_EQ_BITPOS)|\ 
                             6366 ; 94   |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                             6367 ; 95   |                                (1<<DISPLAY_PLAYSTATE_BITPOS)\ 
                             6368 ; 96   |                                )
                             6369 ; 97   |
                             6370 ; 98   |#define SPECTROGRAM_MENU_DISPLAY_ALL  (\ 
                             6371 ; 99   |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                             6372 ; 100  |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                             6373 ; 101  |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                             6374 ; 102  |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                             6375 ; 103  |                                (1<<DISPLAY_EQ_BITPOS)|\ 
                             6376 ; 104  |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                             6377 ; 105  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)\ 
                             6378 ; 106  |                                )
                             6379 ; 107  |
                             6380 ; 108  |//-----------------------------------------------
                             6381 ; 109  |#ifdef JPEG_ALBUM_ART
                             6382 ; 110  |#define ALBUMART_SET_MASK_IF_APPROPRIATE (1<<DISPLAY_ALBUMART_BITPOS)
                             6383 ; 111  |#else
                             6384 ; 112  |#define ALBUMART_SET_MASK_IF_APPROPRIATE (0)
                             6385 ; 113  |#endif
                             6386 ; 114  |
                             6387 ; 115  |#ifdef PLAYER_STRESS
                             6388 ; 116  |#define PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE (1<<DISPLAY_STRESSTEST_BITPOS)
                             6389 ; 117  |#else
                             6390 ; 118  |#define PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE (0)
                             6391 ; 119  |#endif
                             6392 ; 120  |
                             6393 ; 121  |
                             6394 ; 122  |#define MUSIC_MENU_DISPLAY_ALL  (\ 
                             6395 ; 123  |                                (COMMON_DISPLAY_ALL)|\ 
                             6396 ; 124  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             6397 ; 125  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             6398 ; 126  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             6399 ; 127  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                             6400 ; 128  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                             6401 ; 129  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             6402 ; 130  |                                (1<<DISPLAY_TRACKTIME_BITPOS)|\ 
                             6403 ; 131  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)\ 
                             6404 ; 132  |                                )
                             6405 ; 133  |
                             6406 ; 134  |#define MUSIC_MENU_DISPLAY_NEW_TRACK (\ 
                             6407 ; 135  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             6408 ; 136  |                                (PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE)|\ 
                             6409 ; 137  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                             6410 ; 138  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                             6411 ; 139  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             6412 ; 140  |                                (1<<DISPLAY_TRACKTIME_BITPOS)|\ 
                             6413 ; 141  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)|\ 
                             6414 ; 142  |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                             6415 ; 143  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             6416 ; 144  |                                (1<<DISPLAY_PLAYSET_BITPOS)\ 
                             6417 ; 145  |                                )
                             6418 ; 146  |//-----------------------------------------------
                             6419 ; 147  |
                             6420 ; 148  |
                             6421 ; 149  |#define MVIDEO_MENU_DISPLAY_ALL ((1<<DISPLAY_CURRENTTRACK_BITPOS)|(1<<DISPLAY_SONGTITLE_BITPOS))
                             6422 ; 150  |
                             6423 ; 151  |
                             6424 ; 152  |#define VOICE_MENU_DISPLAY_ALL  (\ 
                             6425 ; 153  |                                COMMON_DISPLAY_ALL|\ 
                             6426 ; 154  |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                             6427 ; 155  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             6428 ; 156  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             6429 ; 157  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                             6430 ; 158  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                             6431 ; 159  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             6432 ; 160  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)|\ 
                             6433 ; 161  |                                (1<<DISPLAY_TRACKTIME_BITPOS)\ 
                             6434 ; 162  |                                )
                             6435 ; 163  |
                             6436 ; 164  |
                             6437 ; 165  |#define RECORDING_DISPLAY_ALL   (\ 
                             6438 ; 166  |                                COMMON_DISPLAY_ALL|\ 
                             6439 ; 167  |                                (1<<DISPLAY_ENCODER_TRACK_TIME_BITPOS)|\ 
                             6440 ; 168  |                                (1<<DISPLAY_ENCODER_TRACK_NAME_BITPOS)|\ 
                             6441 ; 169  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             6442 ; 170  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             6443 ; 171  |                                (1<<DISPLAY_RECORD_MODE_BITPOS)\ 
                             6444 ; 172  |                                )
                             6445 ; 173  |
                             6446 ; 174  |#ifdef USE_PLAYLIST3
                             6447 ; 175  |#define BROWSE_MENU_DISPLAY_ALL  (\ 
                             6448 ; 176  |                                (1<<DISPLAY_BATTERY_BITPOS)|\ 
                             6449 ; 177  |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                             6450 ; 178  |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                             6451 ; 179  |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                             6452 ; 180  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                             6453 ; 181  |                                )
                             6454 ; 182  |#else
                             6455 ; 183  |#ifdef USE_PLAYLIST5
                             6456 ; 184  |#if 0
                             6457 ; 185  |#define BROWSE_MENU_DISPLAY_ALL (\ 
                             6458 ; 186  |                                 COMMON_DISPLAY_ALL|\ 
                             6459 ; 187  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             6460 ; 188  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             6461 ; 189  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             6462 ; 190  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                             6463 ; 191  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                             6464 ; 192  |                                )
                             6465 ; 193  |#else
                             6466 ; 194  |#define BROWSE_MENU_DISPLAY_ALL (\ 
                             6467 ; 195  |                                 COMMON_DISPLAY_ALL|\ 
                             6468 ; 196  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                             6469 ; 197  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             6470 ; 198  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                             6471 ; 199  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                             6472 ; 200  |                                )
                             6473 ; 201  |#endif
                             6474 ; 202  |#endif  // #ifdef USE_PLAYLIST5
                             6475 ; 203  |#endif  // #ifdef USE_PLAYLIST3
                             6476 ; 204  |
                             6477 ; 205  |
                             6478 ; 206  |
                             6479 ; 207  |#define MAIN_MENU_DISPLAY_ALL           (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             6480 ; 208  |
                             6481 ; 209  |#define EQ_MENU_DISPLAY_ALL             (\ 
                             6482 ; 210  |                                        COMMON_DISPLAY_ALL|\ 
                             6483 ; 211  |                                        (1<<DISPLAY_EQ_BITPOS)|\ 
                             6484 ; 212  |                                        (1<<DISPLAY_VOLUME_BITPOS)\ 
                             6485 ; 213  |                                        )     // (SDK2.520)
                             6486 ; 214  |
                             6487 ; 215  |#define PM_MENU_DISPLAY_ALL             (COMMON_DISPLAY_ALL|(1<<DISPLAY_PLAYMODE_BITPOS)|(1<<DISPLAY_MISC_BITPOS))
                             6488 ; 216  |#define PWR_MENU_DISPLAY_ALL            (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             6489 ; 217  |#define SETTINGS_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             6490 ; 218  |#define JPEG_DISPLAY_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             6491 ; 219  |#define DELETE_MENU_DISPLAY_ALL         (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             6492 ; 220  |#define ABOUT_MENU_DISPLAY_ALL          (COMMON_DISPLAY_ALL)
                             6493 ; 221  |#define ERASE_MENU_DISPLAY_ALL          ((1<<DISPLAY_BATTERY_BITPOS)|(1<<DISPLAY_LOCK_BITPOS))
                             6494 ; 222  |
                             6495 ; 223  |#define CONTRAST_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             6496 ; 224  |
                             6497 ; 225  |#define TIME_DATE_MENU_DISPLAY_ALL      0
                             6498 ; 226  |#define RECORDTEST_DISPLAY_ALL       (\ 
                             6499 ; 227  |                                        (1<<DISPLAY_ENCODER_TRACK_TIME_BITPOS)|\ 
                             6500 ; 228  |                                                                        (1<<DISPLAY_ENCODER_TRACK_NAME_BITPOS)|\ 
                             6501 ; 229  |                                                                        (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                             6502 ; 230  |                                        (1<<DISPLAY_RECORD_MODE_BITPOS)|\ 
                             6503 ; 231  |                                    (1<<DISPLAY_MISC_BITPOS)\ 
                             6504 ; 232  |                                                                        )
                             6505 ; 233  |
                             6506 ; 234  |#define SPLASH_MENU_DISPLAY_ALL         (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                             6507 ; 235  |// used during track update to force total time update
                             6508 ; 236  |#define AUTOUPDATE              FALSE
                             6509 ; 237  |#define FORCEUPDATE             TRUE
                             6510 ; 238  |
                             6511 ; 239  |
                             6512 ; 240  |// based on font used for title/artist display
                             6513 ; 241  |#define DEFAULT_CHAR_WIDTH  5
                             6514 ; 242  |
                             6515 ; 243  |
                             6516 ; 244  |// LCD dimensions
                             6517 ; 245  |#ifdef LDS514_LCD
                             6518 ; 246  |#define   LCD_SIZE_X       96
                             6519 ; 247  |#define   LCD_SIZE_Y       64
                             6520 ; 248  |#endif
                             6521 ; 249  |
                             6522 ; 250  |#ifdef ILI814_LCD
                             6523 ; 251  |#define   LCD_SIZE_X       96
                             6524 ; 252  |#define   LCD_SIZE_Y       64
                             6525 ; 253  |#endif
                             6526 ; 254  |
                             6527 ; 255  |#ifdef ML9341_LCD
                             6528 ; 256  |#define   LCD_SIZE_X       96
                             6529 ; 257  |#define   LCD_SIZE_Y       96
                             6530 ; 258  |#endif
                             6531 ; 259  |
                             6532 ; 260  |#ifdef SSD1332_LCD
                             6533 ; 261  |#define   LCD_SIZE_X       96
                             6534 ; 262  |#define   LCD_SIZE_Y       64
                             6535 ; 263  |#endif
                             6536 ; 264  |
                             6537 ; 265  |#ifdef S6B33B0A_LCD
                             6538 ; 266  |#define   LCD_SIZE_X       128
                             6539 ; 267  |#define   LCD_SIZE_Y       159
                             6540 ; 268  |#endif
                             6541 ; 269  |
                             6542 ; 270  |#ifdef SED15XX_LCD
                             6543 ; 271  |#define LCD_SIZE_X                      128
                             6544 ; 272  |#define LCD_SIZE_Y                      64
                             6545 ; 273  |#endif
                             6546 ; 274  |
                             6547 ; 275  |#define LCD_SIZE_ROW                     8
                             6548 ; 276  |
                             6549 ; 277  |#define TOP_OF_SCREEN           0
                             6550 ; 278  |#define LEFT_OF_SCREEN          0
                             6551 ; 279  |
                             6552 ; 280  |#ifdef LDS514_LCD
                             6553 ; 281  |#define   SCREEN_WIDTH       96
                             6554 ; 282  |#define   SCREEN_HEIGHT       64
                             6555 ; 283  |#endif
                             6556 ; 284  |
                             6557 ; 285  |#ifdef ILI814_LCD
                             6558 ; 286  |#define   SCREEN_WIDTH       96
                             6559 ; 287  |#define   SCREEN_HEIGHT       64
                             6560 ; 288  |#endif
                             6561 ; 289  |
                             6562 ; 290  |#ifdef ML9341_LCD
                             6563 ; 291  |#define   SCREEN_WIDTH       96
                             6564 ; 292  |#define   SCREEN_HEIGHT       96
                             6565 ; 293  |#endif
                             6566 ; 294  |
                             6567 ; 295  |#ifdef SSD1332_LCD
                             6568 ; 296  |#define   SCREEN_WIDTH       96
                             6569 ; 297  |#define   SCREEN_HEIGHT       64
                             6570 ; 298  |#endif
                             6571 ; 299  |
                             6572 ; 300  |#ifdef S6B33B0A_LCD
                             6573 ; 301  |#define   SCREEN_WIDTH       128
                             6574 ; 302  |#define   SCREEN_HEIGHT       159
                             6575 ; 303  |#endif
                             6576 ; 304  |
                             6577 ; 305  |#ifdef SED15XX_LCD
                             6578 ; 306  |#define SCREEN_WIDTH            128
                             6579 ; 307  |#define SCREEN_HEIGHT           64
                             6580 ; 308  |#endif
                             6581 ; 309  |
                             6582 ; 310  |#define CHAR_SIZE_X             6
                             6583 ; 311  |#define CHAR_SIZE_Y             8
                             6584 ; 312  |
                             6585 ; 313  |// Physical rows are numbered from 0 to LCD_SIZE_Y/LCD_SIZE_ROW
                             6586 ; 314  |#define LCD_FIRST_ROW_NUM                1
                             6587 ; 315  |#define LCD_FIRST_ROW_POS_Y=LCD_FIRST_ROW_NUM*LCD_SIZE_ROW  // skipping the first row
                             6588 ; 316  |
                             6589 ; 317  |// Top row in order from left to right
                             6590 ; 318  |#define PLAY_STATE_ICON_X_POS   LEFT_OF_SCREEN+0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  27

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6591 ; 319  |#define PLAY_STATE_ICON_Y_POS   TOP_OF_SCREEN+0
                             6592 ; 320  |#define PLAY_STATE_ICON_X_SIZE  12
                             6593 ; 321  |#define PLAY_STATE_ICON_Y_SIZE  8
                             6594 ; 322  |
                             6595 ; 323  |#define REPEAT_ICON_X_POS       LEFT_OF_SCREEN+13
                             6596 ; 324  |#define REPEAT_ICON_Y_POS       TOP_OF_SCREEN+0
                             6597 ; 325  |#define REPEAT_ICON_X_SIZE      12
                             6598 ; 326  |#define REPEAT_ICON_Y_SIZE      8
                             6599 ; 327  |
                             6600 ; 328  |#define SHUFFLE_ICON_X_POS      LEFT_OF_SCREEN+25
                             6601 ; 329  |#define SHUFFLE_ICON_Y_POS      TOP_OF_SCREEN+0
                             6602 ; 330  |#define SHUFFLE_ICON_X_SIZE     5     // includes white space on left side of .bmp
                             6603 ; 331  |#define SHUFFLE_ICON_Y_SIZE     8
                             6604 ; 332  |
                             6605 ; 333  |#define AB_ICON_X_POS           LEFT_OF_SCREEN+31
                             6606 ; 334  |#define AB_ICON_Y_POS           TOP_OF_SCREEN+0
                             6607 ; 335  |#define AB_ICON_X_SIZE          12
                             6608 ; 336  |#define AB_ICON_Y_SIZE          8
                             6609 ; 337  |
                             6610 ; 338  |#ifdef  AUDIBLE
                             6611 ; 339  |#define SECNAV_ICON_X_POS       LEFT_OF_SCREEN+31
                             6612 ; 340  |#define SECNAV_ICON_Y_POS       TOP_OF_SCREEN+0
                             6613 ; 341  |#define SECNAV_ICON_X_SIZE      12
                             6614 ; 342  |#define SECNAV_ICON_Y_SIZE      8
                             6615 ; 343  |#endif
                             6616 ; 344  |
                             6617 ; 345  |#define EQ_ICON_X_POS           LEFT_OF_SCREEN+44
                             6618 ; 346  |#define EQ_ICON_Y_POS           TOP_OF_SCREEN+0
                             6619 ; 347  |#define EQ_ICON_X_SIZE          22
                             6620 ; 348  |#define EQ_ICON_Y_SIZE          8
                             6621 ; 349  |
                             6622 ; 350  |#ifdef WOW
                             6623 ; 351  |#define WOW_X_POS               EQ_ICON_X_POS
                             6624 ; 352  |#define WOW_Y_POS               EQ_ICON_Y_POS
                             6625 ; 353  |#endif
                             6626 ; 354  |
                             6627 ; 355  |
                             6628 ; 356  |// Media icon
                             6629 ; 357  |#define DISK_X_POS              LEFT_OF_SCREEN+66
                             6630 ; 358  |#define DISK_Y_POS              TOP_OF_SCREEN
                             6631 ; 359  |#define DISK_X_SIZE             8
                             6632 ; 360  |#define DISK_Y_SIZE             8
                             6633 ; 361  |
                             6634 ; 362  |// Hold icon
                             6635 ; 363  |#define LOCK_ICON_X_POS         LEFT_OF_SCREEN+73
                             6636 ; 364  |#define LOCK_ICON_Y_POS         TOP_OF_SCREEN
                             6637 ; 365  |#define LOCK_ICON_X_SIZE        8
                             6638 ; 366  |#define LOCK_ICON_Y_SIZE        8
                             6639 ; 367  |
                             6640 ; 368  |#define BATTERY_ICON_X_POS      LEFT_OF_SCREEN+110
                             6641 ; 369  |#define BATTERY_ICON_Y_POS      TOP_OF_SCREEN+0
                             6642 ; 370  |#define BATTERY_ICON_X_SIZE     16
                             6643 ; 371  |#define BATTERY_ICON_Y_SIZE     8
                             6644 ; 372  |#define BATTERY_RESOURCE        RSRC_BATTERY_00
                             6645 ; 373  |
                             6646 ; 374  |// Second row from left to right
                             6647 ; 375  |#define VOLUME_ICON_X_POS       LEFT_OF_SCREEN+0
                             6648 ; 376  |#define VOLUME_ICON_Y_POS       TOP_OF_SCREEN+8
                             6649 ; 377  |#define VOLUME_ICON_X_SIZE      48
                             6650 ; 378  |#define VOLUME_ICON_Y_SIZE      8
                             6651 ; 379  |#define VOLUME_RESOURCE         RSRC_ICON_VOL_00
                             6652 ; 380  |#define VOLUME_NUM_ICONS        27
                             6653 ; 381  |
                             6654 ; 382  |#define PLAYSET_X_POS           SCREEN_WIDTH-8
                             6655 ; 383  |#define PLAYSET_Y_POS           TOP_OF_SCREEN+8
                             6656 ; 384  |
                             6657 ; 385  |//Lyrics Position
                             6658 ; 386  |#define LYRICS_DISPLAY_X_POS    LEFT_OF_SCREEN
                             6659 ; 387  |#define LYRICS_DISPLAY_Y_POS    TOP_OF_SCREEN+16
                             6660 ; 388  |#define LYRICS_DISPLAY_HEIGHT           10
                             6661 ; 389  |
                             6662 ; 390  |// Music menu
                             6663 ; 391  |#define SONG_TITLE_X_POS        LEFT_OF_SCREEN+0
                             6664 ; 392  |#define SONG_TITLE_Y_POS        TOP_OF_SCREEN+16
                             6665 ; 393  |#define SONG_TITLE_X_SIZE       SCREEN_WIDTH
                             6666 ; 394  |#define SONG_TITLE_Y_SIZE       10
                             6667 ; 395  |
                             6668 ; 396  |#define SONG_ARTIST_X_POS       LEFT_OF_SCREEN
                             6669 ; 397  |#define SONG_ARTIST_Y_POS       TOP_OF_SCREEN+26
                             6670 ; 398  |#define SONG_ARTIST_X_SIZE      SCREEN_WIDTH
                             6671 ; 399  |#define SONG_ARTIST_Y_SIZE      10
                             6672 ; 400  |
                             6673 ; 401  |#define SONG_ALBUM_X_POS       LEFT_OF_SCREEN
                             6674 ; 402  |#define SONG_ALBUM_Y_POS       TOP_OF_SCREEN+36
                             6675 ; 403  |#define SONG_ALBUM_X_SIZE      SCREEN_WIDTH
                             6676 ; 404  |#define SONG_ALBUM_Y_SIZE      10
                             6677 ; 405  |
                             6678 ; 406  |#ifdef USE_PLAYLIST5
                             6679 ; 407  |#define TRACK_NUMBER_X_POS      LEFT_OF_SCREEN+28
                             6680 ; 408  |#define TRACK_NUMBER_Y_POS      TOP_OF_SCREEN+56
                             6681 ; 409  |#define TRACK_NUMBER_X_SIZE     6*4
                             6682 ; 410  |#define TRACK_NUMBER_Y_SIZE     8
                             6683 ; 411  |
                             6684 ; 412  |#define TRACK_COUNT_X_POS       TRACK_NUMBER_X_POS+TRACK_NUMBER_X_SIZE+10
                             6685 ; 413  |#define TRACK_COUNT_Y_POS       TOP_OF_SCREEN+56
                             6686 ; 414  |#define TRACK_COUNT_X_SIZE      6*4
                             6687 ; 415  |#define TRACK_COUNT_Y_SIZE      8
                             6688 ; 416  |
                             6689 ; 417  |#define TRACK_DIVIDE_X TRACK_NUMBER_X_POS+TRACK_COUNT_X_SIZE + 2
                             6690 ; 418  |#else
                             6691 ; 419  |#define TRACK_NUMBER_X_POS      LEFT_OF_SCREEN+34
                             6692 ; 420  |#define TRACK_NUMBER_Y_POS      TOP_OF_SCREEN+56
                             6693 ; 421  |#define TRACK_NUMBER_X_SIZE     6*3
                             6694 ; 422  |#define TRACK_NUMBER_Y_SIZE     8
                             6695 ; 423  |
                             6696 ; 424  |#define TRACK_COUNT_X_POS       TRACK_NUMBER_X_POS+TRACK_NUMBER_X_SIZE+10
                             6697 ; 425  |#define TRACK_COUNT_Y_POS       TOP_OF_SCREEN+56
                             6698 ; 426  |#define TRACK_COUNT_X_SIZE      6*3
                             6699 ; 427  |#define TRACK_COUNT_Y_SIZE      8
                             6700 ; 428  |
                             6701 ; 429  |#define TRACK_DIVIDE_X  TRACK_NUMBER_X_POS+24
                             6702 ; 430  |#endif
                             6703 ; 431  |
                             6704 ; 432  |
                             6705 ; 433  |#define TRACK_CURR_TIME_X_POS       LEFT_OF_SCREEN+28
                             6706 ; 434  |#define TRACK_CURR_TIME_Y_POS       TOP_OF_SCREEN+48
                             6707 ; 435  |#define TRACK_CURR_TIME_X_SIZE      25
                             6708 ; 436  |#define TRACK_CURR_TIME_Y_SIZE      8
                             6709 ; 437  |
                             6710 ; 438  |#define TRACK_SLASH_X_SIZE          5
                             6711 ; 439  |#define TRACK_SLASH_X_POS           TRACK_TOTAL_TIME_X_POS-TRACK_SLASH_X_SIZE
                             6712 ; 440  |#define TRACK_SLASH_Y_POS           TRACK_CURR_TIME_Y_POS
                             6713 ; 441  |
                             6714 ; 442  |#define TRACK_TOTAL_TIME_X_POS      LEFT_OF_SCREEN+60
                             6715 ; 443  |#define TRACK_TOTAL_TIME_Y_POS      TRACK_CURR_TIME_Y_POS
                             6716 ; 444  |#define TRACK_TOTAL_TIME_X_SIZE     28
                             6717 ; 445  |#define TRACK_TOTAL_TIME_Y_SIZE     8
                             6718 ; 446  |
                             6719 ; 447  |#define VBR_FLAG_X_POS      LEFT_OF_SCREEN+80
                             6720 ; 448  |#define VBR_FLAG_Y_POS      8
                             6721 ; 449  |#define VBR_FLAG_X_SIZE     20
                             6722 ; 450  |#define VBR_FLAG_Y_SIZE     8
                             6723 ; 451  |#ifdef JPEG_ALBUM_ART
                             6724 ; 452  |// Album art display parameters:
                             6725 ; 453  |#define ALBUM_ART_X_POS         TOP_OF_SCREEN
                             6726 ; 454  |#define ALBUM_ART_Y_POS         80
                             6727 ; 455  |#define ALBUM_ART_X_SIZE        SCREEN_WIDTH
                             6728 ; 456  |#define ALBUM_ART_Y_SIZE        (SCREEN_HEIGHT-ALBUM_ART_Y_POS)
                             6729 ; 457  |#endif
                             6730 ; 458  |
                             6731 ; 459  |// Recording Display
                             6732 ; 460  |#define REC_CURR_TIME_X_POS       LEFT_OF_SCREEN
                             6733 ; 461  |#define REC_CURR_TIME_Y_POS       TOP_OF_SCREEN+48
                             6734 ; 462  |#define REC_CURR_TIME_X_SIZE      12
                             6735 ; 463  |#define REC_CURR_TIME_Y_SIZE      8
                             6736 ; 464  |
                             6737 ; 465  |#define REC_TOTAL_TIME_X_POS      LEFT_OF_SCREEN+45
                             6738 ; 466  |#define REC_TOTAL_TIME_Y_POS      TOP_OF_SCREEN+48
                             6739 ; 467  |#define REC_TOTAL_TIME_X_SIZE     28
                             6740 ; 468  |#define REC_TOTAL_TIME_Y_SIZE     8
                             6741 ; 469  |
                             6742 ; 470  |// Playback Display with hours added.
                             6743 ; 471  |#ifdef LDS514_LCD
                             6744 ; 472  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6745 ; 473  |#endif
                             6746 ; 474  |
                             6747 ; 475  |#ifdef ILI814_LCD
                             6748 ; 476  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6749 ; 477  |#endif
                             6750 ; 478  |
                             6751 ; 479  |#ifdef ML9341_LCD
                             6752 ; 480  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6753 ; 481  |#endif
                             6754 ; 482  |
                             6755 ; 483  |#ifdef SSD1332_LCD
                             6756 ; 484  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6757 ; 485  |#endif
                             6758 ; 486  |
                             6759 ; 487  |#ifdef S6B33B0A_LCD
                             6760 ; 488  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6761 ; 489  |#endif
                             6762 ; 490  |
                             6763 ; 491  |#ifdef SED15XX_LCD
                             6764 ; 492  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                             6765 ; 493  |#endif
                             6766 ; 494  |
                             6767 ; 495  |#define HR_TRACK_CURR_TIME_Y_POS        TOP_OF_SCREEN+48
                             6768 ; 496  |#define HR_TRACK_CURR_TIME_X_SIZE       28
                             6769 ; 497  |#define HR_TRACK_CURR_TIME_Y_SIZE       8
                             6770 ; 498  |
                             6771 ; 499  |#define HR_TRACK_TOTAL_TIME_X_POS       LEFT_OF_SCREEN+59
                             6772 ; 500  |#define HR_TRACK_TOTAL_TIME_Y_POS       TRACK_CURR_TIME_Y_POS
                             6773 ; 501  |#define HR_TRACK_TOTAL_TIME_X_SIZE      28
                             6774 ; 502  |#define HR_TRACK_TOTAL_TIME_Y_SIZE      8
                             6775 ; 503  |
                             6776 ; 504  |//Clear entire Track Time when song changes.
                             6777 ; 505  |#define CLR_TRACK_TIME_X_POS            LEFT_OF_SCREEN
                             6778 ; 506  |#define CLR_TRACK_TIME_Y_POS            TRACK_CURR_TIME_Y_POS
                             6779 ; 507  |#define CLR_TRACK_TIME_X_SIZE           SCREEN_WIDTH
                             6780 ; 508  |#define CLR_TRACK_TIME_Y_SIZE           8
                             6781 ; 509  |
                             6782 ; 510  |#define HR_TRACK_SLASH_X_SIZE           3
                             6783 ; 511  |#define HR_TRACK_SLASH_X_POS            HR_TRACK_TOTAL_TIME_X_POS-HR_TRACK_SLASH_X_SIZE
                             6784 ; 512  |#define HR_TRACK_SLASH_Y_POS            HR_TRACK_CURR_TIME_Y_POS
                             6785 ; 513  |
                             6786 ; 514  | //DVRWARN
                             6787 ; 515  |#define VOICE_SPACE_WARN_X_POS      LEFT_OF_SCREEN
                             6788 ; 516  |#define VOICE_SPACE_WARN_Y_POS      SONG_TITLE_Y_POS
                             6789 ; 517  |#define VOICE_SPACE_WARN_X_SIZE     93
                             6790 ; 518  |#define VOICE_SPACE_WARN_Y_SIZE     16
                             6791 ; 519  |
                             6792 ; 520  |//Shutdown
                             6793 ; 521  |#define SHUTDOWN_PROGRESS_X_POS     LEFT_OF_SCREEN+24
                             6794 ; 522  |#define SHUTDOWN_PROGRESS_Y_POS     TOP_OF_SCREEN+32
                             6795 ; 523  |#define SHUTDOWN_PROGRESS_X_SIZE    59
                             6796 ; 524  |#define SHUTDOWN_PROGRESS_Y_SIZE    16
                             6797 ; 525  |#define SHUTDOWN_PROGRESS_RESOURCE  RSRC_PDOWN_STATUS_0
                             6798 ; 526  |
                             6799 ; 527  |#define SHUTDOWN_STRING_X_POS       LEFT_OF_SCREEN+10
                             6800 ; 528  |#define SHUTDOWN_STRING_Y_POS       TOP_OF_SCREEN+16
                             6801 ; 529  |#define SHUTDOWN_STRING_X_SIZE      59
                             6802 ; 530  |#define SHUTDOWN_STRING_Y_SIZE      16
                             6803 ; 531  |#define SHUTDOWN_STRING_RESOURCE    RSRC_PDOWN_HOLD_STRING
                             6804 ; 532  |
                             6805 ; 533  |#define DEFRAGMENT_STRING_X_POS       LEFT_OF_SCREEN+0
                             6806 ; 534  |#define DEFRAGMENT_STRING_Y_POS       TOP_OF_SCREEN+16
                             6807 ; 535  |#define DEFRAGMENT_STRING_X_SIZE      59
                             6808 ; 536  |#define DEFRAGMENT_STRING_Y_SIZE      16
                             6809 ; 537  |#define DEFRAGMENT_STRING_RESOURCE    RSRC_DEFRAGMENT_STORE_STRING
                             6810 ; 538  |
                             6811 ; 539  |
                             6812 ; 540  |//Contrast Display
                             6813 ; 541  |#define CONTRAST_TITLE_X_POS        LEFT_OF_SCREEN+0
                             6814 ; 542  |#define CONTRAST_TITLE_Y_POS        TOP_OF_SCREEN+16
                             6815 ; 543  |
                             6816 ; 544  |#define CONTRAST_X_POS              LEFT_OF_SCREEN+8
                             6817 ; 545  |#define CONTRAST_Y_POS              TOP_OF_SCREEN+32
                             6818 ; 546  |#define CONTRAST_X_SIZE             96
                             6819 ; 547  |#define CONTRAST_Y_SIZE             8
                             6820 ; 548  |#define CONTRAST_RESOURCE           RSRC_CONTRAST_LEVEL_0
                             6821 ; 549  |
                             6822 ; 550  |//Backlight Display
                             6823 ; 551  |#define BACKLIGHT_TITLE_X_POS        LEFT_OF_SCREEN+0
                             6824 ; 552  |#define BACKLIGHT_TITLE_Y_POS        TOP_OF_SCREEN+24
                             6825 ; 553  |#define BACKLIGHT_STATE_X_POS        LEFT_OF_SCREEN+0
                             6826 ; 554  |#define BACKLIGHT_STATE_Y_POS        (LCD_FIRST_ROW_NUM+4)*LCD_SIZE_ROW
                             6827 ; 555  |
                             6828 ; 556  |//settings title display
                             6829 ; 557  |#define SETTINGS_TITLE_X_POS        LEFT_OF_SCREEN+0
                             6830 ; 558  |#define SETTINGS_TITLE_Y_POS        TOP_OF_SCREEN+8
                             6831 ; 559  |//jpeg display title display
                             6832 ; 560  |#define JPEG_DISPLAY_TITLE_X_POS        LEFT_OF_SCREEN+0
                             6833 ; 561  |#define JPEG_DISPLAY_TITLE_Y_POS        TOP_OF_SCREEN+8
                             6834 ; 562  |//erase files title display
                             6835 ; 563  |#define ERASE_TITLE_X_POS           LEFT_OF_SCREEN+0
                             6836 ; 564  |#define ERASE_TITLE_Y_POS           TOP_OF_SCREEN+8
                             6837 ; 565  |
                             6838 ; 566  |// Splashscreen
                             6839 ; 567  |#ifdef LDS514_LCD
                             6840 ; 568  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6841 ; 569  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  28

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6842 ; 570  |#define SPLASH_SCREEN_X_SIZE        96
                             6843 ; 571  |#define SPLASH_SCREEN_Y_SIZE        64
                             6844 ; 572  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6845 ; 573  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6846 ; 574  |#endif
                             6847 ; 575  |
                             6848 ; 576  |#ifdef ILI814_LCD
                             6849 ; 577  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6850 ; 578  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                             6851 ; 579  |#define SPLASH_SCREEN_X_SIZE        96
                             6852 ; 580  |#define SPLASH_SCREEN_Y_SIZE        64
                             6853 ; 581  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6854 ; 582  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6855 ; 583  |#endif
                             6856 ; 584  |
                             6857 ; 585  |#ifdef ML9341_LCD
                             6858 ; 586  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6859 ; 587  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                             6860 ; 588  |#define SPLASH_SCREEN_X_SIZE        96
                             6861 ; 589  |#define SPLASH_SCREEN_Y_SIZE        96
                             6862 ; 590  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6863 ; 591  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6864 ; 592  |#endif
                             6865 ; 593  |
                             6866 ; 594  |#ifdef SSD1332_LCD
                             6867 ; 595  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6868 ; 596  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                             6869 ; 597  |#define SPLASH_SCREEN_X_SIZE        96
                             6870 ; 598  |#define SPLASH_SCREEN_Y_SIZE        64
                             6871 ; 599  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6872 ; 600  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6873 ; 601  |#endif
                             6874 ; 602  |
                             6875 ; 603  |#ifdef S6B33B0A_LCD
                             6876 ; 604  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6877 ; 605  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN + 16
                             6878 ; 606  |#define SPLASH_SCREEN_X_SIZE        80
                             6879 ; 607  |#define SPLASH_SCREEN_Y_SIZE        48
                             6880 ; 608  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6881 ; 609  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6882 ; 610  |#endif
                             6883 ; 611  |
                             6884 ; 612  |#ifdef SED15XX_LCD
                             6885 ; 613  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                             6886 ; 614  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN 
                             6887 ; 615  |#define SPLASH_SCREEN_X_SIZE        128
                             6888 ; 616  |#define SPLASH_SCREEN_Y_SIZE        64    
                             6889 ; 617  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                             6890 ; 618  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                             6891 ; 619  |#endif
                             6892 ; 620  |
                             6893 ; 621  |// FM tuner
                             6894 ; 622  |#define FM_TUNER_FREQUENCY_X_POS    LEFT_OF_SCREEN+30
                             6895 ; 623  |#define FM_TUNER_FREQUENCY_Y_POS    TOP_OF_SCREEN+24
                             6896 ; 624  |#define FM_TUNER_FREQUENCY_X_SIZE   CHAR_SIZE_X*10
                             6897 ; 625  |#define FM_TUNER_FREQUENCY_Y_SIZE   CHAR_SIZE_Y
                             6898 ; 626  |#define FM_TUNER_FREQUENCY_DOT_X_POS    FM_TUNER_FREQUENCY_X_POS+CHAR_SIZE_X*3
                             6899 ; 627  |#define FM_TUNER_FRAC_FREQUENCY_X_POS    FM_TUNER_FREQUENCY_DOT_X_POS+3
                             6900 ; 628  |
                             6901 ; 629  |#define FM_TUNER_PRESET_X_POS       LEFT_OF_SCREEN+30
                             6902 ; 630  |#define FM_TUNER_PRESET_Y_POS       TOP_OF_SCREEN+34
                             6903 ; 631  |#define FM_TUNER_PRESET_X_SIZE      CHAR_SIZE_X*5
                             6904 ; 632  |#define FM_TUNER_PRESET_Y_SIZE      CHAR_SIZE_Y
                             6905 ; 633  |
                             6906 ; 634  |#define FM_TUNER_PILOT_X_POS       LEFT_OF_SCREEN+30
                             6907 ; 635  |#define FM_TUNER_PILOT_Y_POS       TOP_OF_SCREEN+44
                             6908 ; 636  |
                             6909 ; 637  |// About menu
                             6910 ; 638  |#define ABOUT_TITLE_X_POS           LEFT_OF_SCREEN+0
                             6911 ; 639  |#define ABOUT_TITLE_Y_POS           TOP_OF_SCREEN+LCD_SIZE_ROW
                             6912 ; 640  |// starting row -- use offsets for the rest
                             6913 ; 641  |#define ABOUT_LINE_LABEL_X_POS      LEFT_OF_SCREEN+0
                             6914 ; 642  |#define ABOUT_LINE_LABEL_Y_POS      ABOUT_TITLE_Y_POS+(2*LCD_SIZE_ROW)
                             6915 ; 643  |
                             6916 ; 644  |#ifdef PLAYER_STRESS
                             6917 ; 645  |#define STRESS_TEST_X_POS       LEFT_OF_SCREEN
                             6918 ; 646  |#define STRESS_TEST_Y_POS       TOP_OF_SCREEN+40
                             6919 ; 647  |#define STRESS_TEST_X_SIZE      SCREEN_WIDTH
                             6920 ; 648  |#define STRESS_TEST_Y_SIZE      8
                             6921 ; 649  |#endif
                             6922 ; 650  |
                             6923 ; 651  |
                             6924 ; 652  |// Delete Menu
                             6925 ; 653  |#define WARNING_MSG_LINE1_X         LEFT_OF_SCREEN
                             6926 ; 654  |#define WARNING_MSG_LINE1_Y         (LCD_FIRST_ROW_NUM+1)*LCD_SIZE_ROW
                             6927 ; 655  |#define WARNING_MSG_LINE2_X         LEFT_OF_SCREEN
                             6928 ; 656  |#define WARNING_MSG_LINE2_Y         (LCD_FIRST_ROW_NUM+2)*LCD_SIZE_ROW
                             6929 ; 657  |#define WARNING_MSG_FILE_X          LEFT_OF_SCREEN
                             6930 ; 658  |#define WARNING_MSG_FILE_Y          (LCD_FIRST_ROW_NUM+4)*LCD_SIZE_ROW
                             6931 ; 659  |#define WARNING_MSG_YES_X           LEFT_OF_SCREEN
                             6932 ; 660  |#define WARNING_MSG_YES_Y           (LCD_FIRST_ROW_NUM+6)*LCD_SIZE_ROW
                             6933 ; 661  |#define DELETE_FAIL_MSG_X           LEFT_OF_SCREEN
                             6934 ; 662  |#define DELETE_FAIL_MSG_Y           (LCD_FIRST_ROW_NUM+6)*LCD_SIZE_ROW
                             6935 ; 663  |
                             6936 ; 664  |_reentrant void DisplayClear (void);
                             6937 ; 665  |_reentrant void DisplayLowBattery (void);
                             6938 ; 666  |
                             6939 ; 667  |_reentrant int DisplayContrast( int bDisplay, int iIgnored1, void *pPtr);
                             6940 ; 668  |
                             6941 ; 669  |_reentrant int DisplayBacklight( int bDisplay, int iIgnored1, void *pPtr);
                             6942 ; 670  |#ifdef WOW
                             6943 ; 671  |_reentrant int DisplayBar( int bDisplay, int step, void *pPtr);
                             6944 ; 672  |#endif
                             6945 ; 673  |extern _X BOOL g_bSongStringScroll;
                             6946 ; 674  |extern _X INT  g_iSongStringOffset;
                             6947 ; 675  |extern _X INT  g_iSongStringLength;
                             6948 ; 676  |
                             6949 ; 677  |extern _X BOOL g_bArtistStringScroll;
                             6950 ; 678  |extern _X INT  g_iArtistStringOffset;
                             6951 ; 679  |extern _X INT  g_iArtistStringLength;
                             6952 ; 680  |
                             6953 ; 681  |
                             6954 ; 682  |extern _X BOOL g_bAlbumStringScroll;
                             6955 ; 683  |extern _X INT  g_iAlbumStringOffset;
                             6956 ; 684  |extern _X INT  g_iAlbumStringLength;
                             6957 ; 685  |extern int g_iVolume_Control_Mode;
                             6958 ; 686  |extern int g_iAB_Control_Mode;
                             6959 ; 687  |
                             6960 ; 688  |
                             6961 ; 689  |#endif //_DISPLAY_H
                             6962 
                             6964 
                             6965 ; 5    |
                             6966 ; 6    |//Display lists is very LCD centric
                             6967 ; 7    |
                             6968 ; 8    |
                             6969 ; 9    |//Each menu item contains which page it belongs on, the resource required to display this, and the
                             6970 ; 10   |//X and Y position.  All Items on the same page as the selected item will be displayed using the
                             6971 ; 11   |//coordinates listed below.
                             6972 ; 12   |struct MenuItem
                             6973 ; 13   |{
                             6974 ; 14   |    int m_iPage;
                             6975 ; 15   |    int m_iResource;
                             6976 ; 16   |    int m_ixPos;
                             6977 ; 17   |    int m_iyPos;
                             6978 ; 18   |};
                             6979 ; 19   |
                             6980 ; 20   |//The PagedListStructure contains the message used to display items in the list, 
                             6981 ; 21   |//the message used to display the selected item in the list, the number of items
                             6982 ; 22   |//in the list, and a pointer to an array of these items.
                             6983 ; 23   |struct PagedListStructure
                             6984 ; 24   |{
                             6985 ; 25   |    int m_iNormalDisplayMsg;
                             6986 ; 26   |    int m_iSelectedDisplayMsg;
                             6987 ; 27   |    int m_iItems;
                             6988 ; 28   |    struct MenuItem *m_pItems;
                             6989 ; 29   |};
                             6990 ; 30   |
                             6991 ; 31   |_reentrant int DisplayPagedList(int iSelectedItem, int iTitle, void*ListStructure);
                             6992 ; 32   |
                             6993 ; 33   |// iTitle values
                             6994 ; 34   |#define BITMAP_SETTINGS_TITLE_NUM 1 //sdk2.1 for displaying title bitmap SETTINGS. 
                             6995 ; 35   |#define BITMAP_ERASE_TITLE_NUM    2 //sdk2.1 for displaying title bitmap ERASE. 
                             6996 ; 36   |#define BITMAP_TEST_TITLE_NUM    3 
                             6997 ; 37   |#define BITMAP_RECORD_SETTINGS_TITLE_NUM 4
                             6998 ; 38   |
                             6999 ; 39   |#ifdef JPEG_APP
                             7000 ; 40   |#define BITMAP_JPEG_DISPLAY_TITLE_NUM 5 //sdk2.1 for displaying title bitmap JPEG DISPLAY. 
                             7001 ; 41   |#endif
                             7002 ; 42   |
                             7003 ; 43   |#endif
                             7004 
                             7006 
                             7007 ; 14   |#include "mainmenu.h"
                             7008 
                             7010 
                             7011 ; 1    |#ifndef _MAIN_MENU_H
                             7012 ; 2    |#define _MAIN_MENU_H
                             7013 ; 3    |
                             7014 ; 4    |// menus in mainmenu
                             7015 ; 5    |#define MAINMENU_FIRST  0
                             7016 ; 6    |
                             7017 ; 7    |enum _MENU_ID
                             7018 ; 8    |{
                             7019 ; 9    |        MENU_MUSIC = 0,
                             7020 ; 10   |#ifdef JPEG_APP
                             7021 ; 11   |        MENU_JPEG_DISPLAY,
                             7022 ; 12   |#endif
                             7023 ; 13   |#ifdef MOTION_VIDEO
                             7024 ; 14   |        MENU_MVIDEO,
                             7025 ; 15   |#endif
                             7026 ; 16   |        MENU_VOICE,
                             7027 ; 17   |
                             7028 ; 18   |/*This version does not use PL5
                             7029 ; 19   |#ifdef USE_PLAYLIST5
                             7030 ; 20   |#ifndef REMOVE_FM
                             7031 ; 21   |    MENU_FMREC,
                             7032 ; 22   |#endif
                             7033 ; 23   |    MENU_LINEIN,
                             7034 ; 24   |#ifdef AUDIBLE
                             7035 ; 25   |        MENU_AUDIBLE,
                             7036 ; 26   |#endif
                             7037 ; 27   |#endif  // #ifdef USE_PLAYLIST5
                             7038 ; 28   |*/
                             7039 ; 29   |
                             7040 ; 30   |#ifdef USE_PLAYLIST3
                             7041 ; 31   |#ifdef AUDIBLE
                             7042 ; 32   |        MENU_AUDIBLE,
                             7043 ; 33   |#endif
                             7044 ; 34   |#endif
                             7045 ; 35   |#ifndef REMOVE_FM
                             7046 ; 36   |        MENU_FMTUNER,
                             7047 ; 37   |#endif
                             7048 ; 38   |        MENU_RECORD,
                             7049 ; 39   |        MENU_SETTINGS,
                             7050 ; 40   |        MENU_SHUTDOWN,
                             7051 ; 41   |        MENU_TIME_DATE,
                             7052 ; 42   |        MENU_AB,
                             7053 ; 43   |        MENU_DELETE,
                             7054 ; 44   |        MENU_ABOUT,
                             7055 ; 45   |#ifdef SPECTRUM_ANAL
                             7056 ; 46   |        MENU_SPECTROGRAM,
                             7057 ; 47   |#endif
                             7058 ; 48   |        MENU_MAIN_EXIT
                             7059 ; 49   |};
                             7060 ; 50   |
                             7061 ; 51   |
                             7062 ; 52   |#define MAINMENU_LAST    MENU_MAIN_EXIT
                             7063 ; 53   |#define MAINMENU_COUNT  (MAINMENU_LAST+1)
                             7064 ; 54   |
                             7065 ; 55   |#ifdef S6B33B0A_LCD
                             7066 ; 56   |#define MAINMENU_PAGE1_COUNT    MAINMENU_COUNT
                             7067 ; 57   |#endif
                             7068 ; 58   |
                             7069 ; 59   |#ifdef SED15XX_LCD
                             7070 ; 60   |#define MAINMENU_PAGE1_COUNT    4
                             7071 ; 61   |#endif
                             7072 ; 62   |
                             7073 ; 63   |
                             7074 ; 64   |// Media error constants
                             7075 ; 65   |// Each device gets 5 bits for error codes, in the global g_FSinitErrorCode.
                             7076 ; 66   |// If there is no external device, the internal device uses bits 0-4.  If there
                             7077 ; 67   |// is an external device, the internal device is shifted up 5 bits (to bits 5-9),
                             7078 ; 68   |// and the external device uses bits 0-4.  (More than one external device is not
                             7079 ; 69   |// supported in the current code.)
                             7080 ; 70   |
                             7081 ; 71   |#define ERROR_ON_INTERNAL_MEDIA         0x0F
                             7082 ; 72   |#define INTERNAL_MEDIA_NOT_SIGMATEL_FORMAT      0x010
                             7083 ; 73   |
                             7084 ; 74   |#define ERROR_ON_EXTERNAL_MEDIA                         0x0E
                             7085 ; 75   |#define EXTERNAL_MEDIA_NOT_SIGMATEL_FORMAT      0x010
                             7086 ; 76   |
                             7087 ; 77   |#define ERROR_ON_INTERNAL_MEDIA_SHIFTED         0x01E0
                             7088 ; 78   |#define INTERNAL_MEDIA_NOT_SIGMATEL_FORMAT_SHIFTED      0x020
                             7089 ; 79   |
                             7090 ; 80   |#ifdef USE_PLAYLIST3
                             7091 ; 81   |extern INT  g_current_index;
                             7092 ; 82   |extern INT  g_current_size;
                             7093 ; 83   |extern _packed BYTE g_strMusicLib_FilePath[];
                             7094 ; 84   |extern _packed BYTE g_strMusicLib_SecTable_FilePath[];
                             7095 ; 85   |extern INT  g_iFileHandle;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  29

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7096 ; 86   |extern INT  g_ML_save_on_exit;
                             7097 ; 87   |extern WORD g_rsrc_TimeDate_CodeBank;
                             7098 ; 88   |#endif  // USE_PLAYLIST3
                             7099 ; 89   |
                             7100 ; 90   |////////////////////////////////////////////////////////////////////////////////
                             7101 ; 91   |//  Prototypes
                             7102 ; 92   |////////////////////////////////////////////////////////////////////////////////
                             7103 ; 93   |#ifdef USE_PLAYLIST3
                             7104 ; 94   |void _reentrant ML_building_engine_init(void);
                             7105 ; 95   |#endif  // USE_PLAYLIST3
                             7106 ; 96   |
                             7107 ; 97   |#endif
                             7108 
                             7110 
                             7111 ; 15   |#include "pwrsettingsmenu.h"
                             7112 
                             7114 
                             7115 ; 1    |#ifndef _PWR_H
                             7116 ; 2    |#define _PWR_H
                             7117 ; 3    |
                             7118 ; 4    |#include "types.h"
                             7119 
                             7121 
                             7122 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             7123 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             7124 ; 3    |//
                             7125 ; 4    |// Filename: types.h
                             7126 ; 5    |// Description: Standard data types
                             7127 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             7128 ; 7    |
                             7129 ; 8    |#ifndef _TYPES_H
                             7130 ; 9    |#define _TYPES_H
                             7131 ; 10   |
                             7132 ; 11   |// TODO:  move this outta here!
                             7133 ; 12   |#if !defined(NOERROR)
                             7134 ; 13   |#define NOERROR 0
                             7135 ; 14   |#define SUCCESS 0
                             7136 ; 15   |#endif 
                             7137 ; 16   |#if !defined(SUCCESS)
                             7138 ; 17   |#define SUCCESS  0
                             7139 ; 18   |#endif
                             7140 ; 19   |#if !defined(ERROR)
                             7141 ; 20   |#define ERROR   -1
                             7142 ; 21   |#endif
                             7143 ; 22   |#if !defined(FALSE)
                             7144 ; 23   |#define FALSE 0
                             7145 ; 24   |#endif
                             7146 ; 25   |#if !defined(TRUE)
                             7147 ; 26   |#define TRUE  1
                             7148 ; 27   |#endif
                             7149 ; 28   |
                             7150 ; 29   |#if !defined(NULL)
                             7151 ; 30   |#define NULL 0
                             7152 ; 31   |#endif
                             7153 ; 32   |
                             7154 ; 33   |#define MAX_INT     0x7FFFFF
                             7155 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             7156 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             7157 ; 36   |#define MAX_ULONG   (-1) 
                             7158 ; 37   |
                             7159 ; 38   |#define WORD_SIZE   24              // word size in bits
                             7160 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             7161 ; 40   |
                             7162 ; 41   |
                             7163 ; 42   |#define BYTE    unsigned char       // btVarName
                             7164 ; 43   |#define CHAR    signed char         // cVarName
                             7165 ; 44   |#define USHORT  unsigned short      // usVarName
                             7166 ; 45   |#define SHORT   unsigned short      // sVarName
                             7167 ; 46   |#define WORD    unsigned int        // wVarName
                             7168 ; 47   |#define INT     signed int          // iVarName
                             7169 ; 48   |#define DWORD   unsigned long       // dwVarName
                             7170 ; 49   |#define LONG    signed long         // lVarName
                             7171 ; 50   |#define BOOL    unsigned int        // bVarName
                             7172 ; 51   |#define FRACT   _fract              // frVarName
                             7173 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             7174 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             7175 ; 54   |#define FLOAT   float               // fVarName
                             7176 ; 55   |#define DBL     double              // dVarName
                             7177 ; 56   |#define ENUM    enum                // eVarName
                             7178 ; 57   |#define CMX     _complex            // cmxVarName
                             7179 ; 58   |typedef WORD UCS3;                   // 
                             7180 ; 59   |
                             7181 ; 60   |#define UINT16  unsigned short
                             7182 ; 61   |#define UINT8   unsigned char   
                             7183 ; 62   |#define UINT32  unsigned long
                             7184 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             7185 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             7186 ; 65   |#define WCHAR   UINT16
                             7187 ; 66   |
                             7188 ; 67   |//UINT128 is 16 bytes or 6 words
                             7189 ; 68   |typedef struct UINT128_3500 {   
                             7190 ; 69   |    int val[6];     
                             7191 ; 70   |} UINT128_3500;
                             7192 ; 71   |
                             7193 ; 72   |#define UINT128   UINT128_3500
                             7194 ; 73   |
                             7195 ; 74   |// Little endian word packed byte strings:   
                             7196 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7197 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7198 ; 77   |// Little endian word packed byte strings:   
                             7199 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7200 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7201 ; 80   |
                             7202 ; 81   |// Declare Memory Spaces To Use When Coding
                             7203 ; 82   |// A. Sector Buffers
                             7204 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             7205 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             7206 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             7207 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             7208 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             7209 ; 88   |// B. Media DDI Memory
                             7210 ; 89   |#define MEDIA_DDI_MEM _Y
                             7211 ; 90   |
                             7212 ; 91   |
                             7213 ; 92   |
                             7214 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             7215 ; 94   |// Examples of circular pointers:
                             7216 ; 95   |//    INT CIRC cpiVarName
                             7217 ; 96   |//    DWORD CIRC cpdwVarName
                             7218 ; 97   |
                             7219 ; 98   |#define RETCODE INT                 // rcVarName
                             7220 ; 99   |
                             7221 ; 100  |// generic bitfield structure
                             7222 ; 101  |struct Bitfield {
                             7223 ; 102  |    unsigned int B0  :1;
                             7224 ; 103  |    unsigned int B1  :1;
                             7225 ; 104  |    unsigned int B2  :1;
                             7226 ; 105  |    unsigned int B3  :1;
                             7227 ; 106  |    unsigned int B4  :1;
                             7228 ; 107  |    unsigned int B5  :1;
                             7229 ; 108  |    unsigned int B6  :1;
                             7230 ; 109  |    unsigned int B7  :1;
                             7231 ; 110  |    unsigned int B8  :1;
                             7232 ; 111  |    unsigned int B9  :1;
                             7233 ; 112  |    unsigned int B10 :1;
                             7234 ; 113  |    unsigned int B11 :1;
                             7235 ; 114  |    unsigned int B12 :1;
                             7236 ; 115  |    unsigned int B13 :1;
                             7237 ; 116  |    unsigned int B14 :1;
                             7238 ; 117  |    unsigned int B15 :1;
                             7239 ; 118  |    unsigned int B16 :1;
                             7240 ; 119  |    unsigned int B17 :1;
                             7241 ; 120  |    unsigned int B18 :1;
                             7242 ; 121  |    unsigned int B19 :1;
                             7243 ; 122  |    unsigned int B20 :1;
                             7244 ; 123  |    unsigned int B21 :1;
                             7245 ; 124  |    unsigned int B22 :1;
                             7246 ; 125  |    unsigned int B23 :1;
                             7247 ; 126  |};
                             7248 ; 127  |
                             7249 ; 128  |union BitInt {
                             7250 ; 129  |        struct Bitfield B;
                             7251 ; 130  |        int        I;
                             7252 ; 131  |};
                             7253 ; 132  |
                             7254 ; 133  |#define MAX_MSG_LENGTH 10
                             7255 ; 134  |struct CMessage
                             7256 ; 135  |{
                             7257 ; 136  |        unsigned int m_uLength;
                             7258 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             7259 ; 138  |};
                             7260 ; 139  |
                             7261 ; 140  |typedef struct {
                             7262 ; 141  |    WORD m_wLength;
                             7263 ; 142  |    WORD m_wMessage;
                             7264 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             7265 ; 144  |} Message;
                             7266 ; 145  |
                             7267 ; 146  |struct MessageQueueDescriptor
                             7268 ; 147  |{
                             7269 ; 148  |        int *m_pBase;
                             7270 ; 149  |        int m_iModulo;
                             7271 ; 150  |        int m_iSize;
                             7272 ; 151  |        int *m_pHead;
                             7273 ; 152  |        int *m_pTail;
                             7274 ; 153  |};
                             7275 ; 154  |
                             7276 ; 155  |struct ModuleEntry
                             7277 ; 156  |{
                             7278 ; 157  |    int m_iSignaledEventMask;
                             7279 ; 158  |    int m_iWaitEventMask;
                             7280 ; 159  |    int m_iResourceOfCode;
                             7281 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             7282 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             7283 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             7284 ; 163  |    int m_uTimeOutHigh;
                             7285 ; 164  |    int m_uTimeOutLow;
                             7286 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             7287 ; 166  |};
                             7288 ; 167  |
                             7289 ; 168  |union WaitMask{
                             7290 ; 169  |    struct B{
                             7291 ; 170  |        unsigned int m_bNone     :1;
                             7292 ; 171  |        unsigned int m_bMessage  :1;
                             7293 ; 172  |        unsigned int m_bTimer    :1;
                             7294 ; 173  |        unsigned int m_bButton   :1;
                             7295 ; 174  |    } B;
                             7296 ; 175  |    int I;
                             7297 ; 176  |} ;
                             7298 ; 177  |
                             7299 ; 178  |
                             7300 ; 179  |struct Button {
                             7301 ; 180  |        WORD wButtonEvent;
                             7302 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             7303 ; 182  |};
                             7304 ; 183  |
                             7305 ; 184  |struct Message {
                             7306 ; 185  |        WORD wMsgLength;
                             7307 ; 186  |        WORD wMsgCommand;
                             7308 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             7309 ; 188  |};
                             7310 ; 189  |
                             7311 ; 190  |union EventTypes {
                             7312 ; 191  |        struct CMessage msg;
                             7313 ; 192  |        struct Button Button ;
                             7314 ; 193  |        struct Message Message;
                             7315 ; 194  |};
                             7316 ; 195  |
                             7317 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             7318 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             7319 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             7320 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             7321 ; 200  |
                             7322 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             7323 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             7324 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             7325 ; 204  |
                             7326 ; 205  |#if DEBUG
                             7327 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             7328 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             7329 ; 208  |#else 
                             7330 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             7331 ; 210  |#define DebugBuildAssert(x)    
                             7332 ; 211  |#endif
                             7333 ; 212  |
                             7334 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             7335 ; 214  |//  #pragma asm
                             7336 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             7337 ; 216  |//  #pragma endasm
                             7338 ; 217  |
                             7339 ; 218  |
                             7340 ; 219  |#ifdef COLOR_262K
                             7341 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             7342 ; 221  |#elif defined(COLOR_65K)
                             7343 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             7344 ; 223  |#else
                             7345 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             7346 ; 225  |#endif
                             7347 ; 226  |    
                             7348 ; 227  |#endif // #ifndef _TYPES_H
                             7349 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  30

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7351 
                             7352 ; 5    |
                             7353 ; 6    |// order of Power Settings selection
                             7354 ; 7    |// must match order of struct MenuItem defined in eqmenu.c
                             7355 ; 8    |#define FIRST_PWR       0
                             7356 ; 9    |#define PWR_DISABLE     0
                             7357 ; 10   |#define PWR_1MIN                1
                             7358 ; 11   |#define PWR_2MIN            2   
                             7359 ; 12   |#define PWR_5MIN                3   
                             7360 ; 13   |#define PWR_10MIN               4 
                             7361 ; 14   |#define LAST_PWR        4
                             7362 ; 15   |#define PWRMENU_COUNT   LAST_PWR+1
                             7363 ; 16   |
                             7364 ; 17   |#define ONEMIN                  (1*60000)
                             7365 ; 18   |#define TWOMIN                  (2*60000)
                             7366 ; 19   |#define FIVEMIN                 (5*60000)
                             7367 ; 20   |#define TENMIN                  (10*60000)
                             7368 ; 21   |
                             7369 ; 22   |extern WORD g_wPowerOffTrigger;
                             7370 ; 23   |extern WORD g_wPwrSettings;
                             7371 ; 24   |
                             7372 ; 25   |#endif
                             7373 
                             7375 
                             7376 ; 16   |#include "const.h"
                             7377 
                             7379 
                             7380 ; 1    |//******************************************************************************
                             7381 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                             7382 ; 3    |//
                             7383 ; 4    |//  Use these values to reduce memory
                             7384 ; 5    |//;******************************************************************************
                             7385 ; 6    |
                             7386 ; 7    |#ifndef _CONST_H
                             7387 ; 8    |#define _CONST_H
                             7388 ; 9    |
                             7389 ; 10   |
                             7390 ; 11   |extern unsigned int _Y const_zero;    
                             7391 ; 12   |extern unsigned int _Y const_one;     
                             7392 ; 13   |extern unsigned int _Y const_two;     
                             7393 ; 14   |extern unsigned int _Y const_three;   
                             7394 ; 15   |extern unsigned int _Y const_four;    
                             7395 ; 16   |extern unsigned int _Y const_eight;   
                             7396 ; 17   |extern unsigned int _Y const_12;   
                             7397 ; 18   |extern unsigned int _Y const_16;   
                             7398 ; 19   |extern unsigned int _Y const_24;      
                             7399 ; 20   |extern unsigned int _Y const_32;     
                             7400 ; 21   |extern unsigned int _Y const_minus_1; 
                             7401 ; 22   |extern unsigned int _Y fract_one;     
                             7402 ; 23   |
                             7403 ; 24   |#endif
                             7404 
                             7406 
                             7407 ; 17   |#include "playmodemenu.h"
                             7408 
                             7410 
                             7411 ; 1    |#ifndef _PLAYMODE_H
                             7412 ; 2    |#define _PLAYMODE_H
                             7413 ; 3    |
                             7414 ; 4    |#include "types.h"
                             7415 
                             7417 
                             7418 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             7419 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             7420 ; 3    |//
                             7421 ; 4    |// Filename: types.h
                             7422 ; 5    |// Description: Standard data types
                             7423 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             7424 ; 7    |
                             7425 ; 8    |#ifndef _TYPES_H
                             7426 ; 9    |#define _TYPES_H
                             7427 ; 10   |
                             7428 ; 11   |// TODO:  move this outta here!
                             7429 ; 12   |#if !defined(NOERROR)
                             7430 ; 13   |#define NOERROR 0
                             7431 ; 14   |#define SUCCESS 0
                             7432 ; 15   |#endif 
                             7433 ; 16   |#if !defined(SUCCESS)
                             7434 ; 17   |#define SUCCESS  0
                             7435 ; 18   |#endif
                             7436 ; 19   |#if !defined(ERROR)
                             7437 ; 20   |#define ERROR   -1
                             7438 ; 21   |#endif
                             7439 ; 22   |#if !defined(FALSE)
                             7440 ; 23   |#define FALSE 0
                             7441 ; 24   |#endif
                             7442 ; 25   |#if !defined(TRUE)
                             7443 ; 26   |#define TRUE  1
                             7444 ; 27   |#endif
                             7445 ; 28   |
                             7446 ; 29   |#if !defined(NULL)
                             7447 ; 30   |#define NULL 0
                             7448 ; 31   |#endif
                             7449 ; 32   |
                             7450 ; 33   |#define MAX_INT     0x7FFFFF
                             7451 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             7452 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             7453 ; 36   |#define MAX_ULONG   (-1) 
                             7454 ; 37   |
                             7455 ; 38   |#define WORD_SIZE   24              // word size in bits
                             7456 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             7457 ; 40   |
                             7458 ; 41   |
                             7459 ; 42   |#define BYTE    unsigned char       // btVarName
                             7460 ; 43   |#define CHAR    signed char         // cVarName
                             7461 ; 44   |#define USHORT  unsigned short      // usVarName
                             7462 ; 45   |#define SHORT   unsigned short      // sVarName
                             7463 ; 46   |#define WORD    unsigned int        // wVarName
                             7464 ; 47   |#define INT     signed int          // iVarName
                             7465 ; 48   |#define DWORD   unsigned long       // dwVarName
                             7466 ; 49   |#define LONG    signed long         // lVarName
                             7467 ; 50   |#define BOOL    unsigned int        // bVarName
                             7468 ; 51   |#define FRACT   _fract              // frVarName
                             7469 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             7470 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             7471 ; 54   |#define FLOAT   float               // fVarName
                             7472 ; 55   |#define DBL     double              // dVarName
                             7473 ; 56   |#define ENUM    enum                // eVarName
                             7474 ; 57   |#define CMX     _complex            // cmxVarName
                             7475 ; 58   |typedef WORD UCS3;                   // 
                             7476 ; 59   |
                             7477 ; 60   |#define UINT16  unsigned short
                             7478 ; 61   |#define UINT8   unsigned char   
                             7479 ; 62   |#define UINT32  unsigned long
                             7480 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             7481 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             7482 ; 65   |#define WCHAR   UINT16
                             7483 ; 66   |
                             7484 ; 67   |//UINT128 is 16 bytes or 6 words
                             7485 ; 68   |typedef struct UINT128_3500 {   
                             7486 ; 69   |    int val[6];     
                             7487 ; 70   |} UINT128_3500;
                             7488 ; 71   |
                             7489 ; 72   |#define UINT128   UINT128_3500
                             7490 ; 73   |
                             7491 ; 74   |// Little endian word packed byte strings:   
                             7492 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7493 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7494 ; 77   |// Little endian word packed byte strings:   
                             7495 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7496 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7497 ; 80   |
                             7498 ; 81   |// Declare Memory Spaces To Use When Coding
                             7499 ; 82   |// A. Sector Buffers
                             7500 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             7501 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             7502 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             7503 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             7504 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             7505 ; 88   |// B. Media DDI Memory
                             7506 ; 89   |#define MEDIA_DDI_MEM _Y
                             7507 ; 90   |
                             7508 ; 91   |
                             7509 ; 92   |
                             7510 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             7511 ; 94   |// Examples of circular pointers:
                             7512 ; 95   |//    INT CIRC cpiVarName
                             7513 ; 96   |//    DWORD CIRC cpdwVarName
                             7514 ; 97   |
                             7515 ; 98   |#define RETCODE INT                 // rcVarName
                             7516 ; 99   |
                             7517 ; 100  |// generic bitfield structure
                             7518 ; 101  |struct Bitfield {
                             7519 ; 102  |    unsigned int B0  :1;
                             7520 ; 103  |    unsigned int B1  :1;
                             7521 ; 104  |    unsigned int B2  :1;
                             7522 ; 105  |    unsigned int B3  :1;
                             7523 ; 106  |    unsigned int B4  :1;
                             7524 ; 107  |    unsigned int B5  :1;
                             7525 ; 108  |    unsigned int B6  :1;
                             7526 ; 109  |    unsigned int B7  :1;
                             7527 ; 110  |    unsigned int B8  :1;
                             7528 ; 111  |    unsigned int B9  :1;
                             7529 ; 112  |    unsigned int B10 :1;
                             7530 ; 113  |    unsigned int B11 :1;
                             7531 ; 114  |    unsigned int B12 :1;
                             7532 ; 115  |    unsigned int B13 :1;
                             7533 ; 116  |    unsigned int B14 :1;
                             7534 ; 117  |    unsigned int B15 :1;
                             7535 ; 118  |    unsigned int B16 :1;
                             7536 ; 119  |    unsigned int B17 :1;
                             7537 ; 120  |    unsigned int B18 :1;
                             7538 ; 121  |    unsigned int B19 :1;
                             7539 ; 122  |    unsigned int B20 :1;
                             7540 ; 123  |    unsigned int B21 :1;
                             7541 ; 124  |    unsigned int B22 :1;
                             7542 ; 125  |    unsigned int B23 :1;
                             7543 ; 126  |};
                             7544 ; 127  |
                             7545 ; 128  |union BitInt {
                             7546 ; 129  |        struct Bitfield B;
                             7547 ; 130  |        int        I;
                             7548 ; 131  |};
                             7549 ; 132  |
                             7550 ; 133  |#define MAX_MSG_LENGTH 10
                             7551 ; 134  |struct CMessage
                             7552 ; 135  |{
                             7553 ; 136  |        unsigned int m_uLength;
                             7554 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             7555 ; 138  |};
                             7556 ; 139  |
                             7557 ; 140  |typedef struct {
                             7558 ; 141  |    WORD m_wLength;
                             7559 ; 142  |    WORD m_wMessage;
                             7560 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             7561 ; 144  |} Message;
                             7562 ; 145  |
                             7563 ; 146  |struct MessageQueueDescriptor
                             7564 ; 147  |{
                             7565 ; 148  |        int *m_pBase;
                             7566 ; 149  |        int m_iModulo;
                             7567 ; 150  |        int m_iSize;
                             7568 ; 151  |        int *m_pHead;
                             7569 ; 152  |        int *m_pTail;
                             7570 ; 153  |};
                             7571 ; 154  |
                             7572 ; 155  |struct ModuleEntry
                             7573 ; 156  |{
                             7574 ; 157  |    int m_iSignaledEventMask;
                             7575 ; 158  |    int m_iWaitEventMask;
                             7576 ; 159  |    int m_iResourceOfCode;
                             7577 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             7578 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             7579 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             7580 ; 163  |    int m_uTimeOutHigh;
                             7581 ; 164  |    int m_uTimeOutLow;
                             7582 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             7583 ; 166  |};
                             7584 ; 167  |
                             7585 ; 168  |union WaitMask{
                             7586 ; 169  |    struct B{
                             7587 ; 170  |        unsigned int m_bNone     :1;
                             7588 ; 171  |        unsigned int m_bMessage  :1;
                             7589 ; 172  |        unsigned int m_bTimer    :1;
                             7590 ; 173  |        unsigned int m_bButton   :1;
                             7591 ; 174  |    } B;
                             7592 ; 175  |    int I;
                             7593 ; 176  |} ;
                             7594 ; 177  |
                             7595 ; 178  |
                             7596 ; 179  |struct Button {
                             7597 ; 180  |        WORD wButtonEvent;
                             7598 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             7599 ; 182  |};
                             7600 ; 183  |
                             7601 ; 184  |struct Message {
                             7602 ; 185  |        WORD wMsgLength;
                             7603 ; 186  |        WORD wMsgCommand;
                             7604 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             7605 ; 188  |};
                             7606 ; 189  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  31

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7607 ; 190  |union EventTypes {
                             7608 ; 191  |        struct CMessage msg;
                             7609 ; 192  |        struct Button Button ;
                             7610 ; 193  |        struct Message Message;
                             7611 ; 194  |};
                             7612 ; 195  |
                             7613 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             7614 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             7615 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             7616 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             7617 ; 200  |
                             7618 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             7619 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             7620 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             7621 ; 204  |
                             7622 ; 205  |#if DEBUG
                             7623 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             7624 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             7625 ; 208  |#else 
                             7626 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             7627 ; 210  |#define DebugBuildAssert(x)    
                             7628 ; 211  |#endif
                             7629 ; 212  |
                             7630 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             7631 ; 214  |//  #pragma asm
                             7632 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             7633 ; 216  |//  #pragma endasm
                             7634 ; 217  |
                             7635 ; 218  |
                             7636 ; 219  |#ifdef COLOR_262K
                             7637 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             7638 ; 221  |#elif defined(COLOR_65K)
                             7639 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             7640 ; 223  |#else
                             7641 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             7642 ; 225  |#endif
                             7643 ; 226  |    
                             7644 ; 227  |#endif // #ifndef _TYPES_H
                             7645 
                             7647 
                             7648 ; 5    |
                             7649 ; 6    |// order of PLAYMODE selection
                             7650 ; 7    |// must match order of struct MenuItem defined in eqmenu.c
                             7651 ; 8    |#define FIRST_PM        0
                             7652 ; 9    |#define PM_NORMAL       0
                             7653 ; 10   |#define PM_REPEAT1      1
                             7654 ; 11   |#define PM_REPEATALL    2
                             7655 ; 12   |#define LAST_VOICE_PM   2
                             7656 ; 13   |#define PM_SHUFFLE              3   
                             7657 ; 14   |#define PM_SHUFFLE_REPEAT 4 
                             7658 ; 15   |#define LAST_PM     4
                             7659 ; 16   |#define PMMENU_COUNT   (LAST_PM+1)
                             7660 ; 17   |
                             7661 ; 18   |#ifdef S6B33B0A_LCD
                             7662 ; 19   |#define PMMENU_PAGE1_COUNT      PMMENU_COUNT
                             7663 ; 20   |#endif
                             7664 ; 21   |
                             7665 ; 22   |#ifdef SED15XX_LCD
                             7666 ; 23   |#define PMMENU_PAGE1_COUNT      4
                             7667 ; 24   |#endif
                             7668 ; 25   |
                             7669 ; 26   |//Repeat Message Parameters
                             7670 ; 27   |#define REPEAT_OFF         0
                             7671 ; 28   |#define REPEAT_ONE         1
                             7672 ; 29   |#define REPEAT_ALL         2
                             7673 ; 30   |//#define REPEAT_SONG        2
                             7674 ; 31   |
                             7675 ; 32   |//Shuffle Message Parameters
                             7676 ; 33   |#define SHUFFLE_OFF        0
                             7677 ; 34   |#define SHUFFLE_ON         1
                             7678 ; 35   |
                             7679 ; 36   |extern INT g_iPlayModeSetting;
                             7680 ; 37   |#ifdef USE_PLAYLIST3
                             7681 ; 38   |extern INT  g_shuffle_start;
                             7682 ; 39   |extern INT  g_iShuffleSetting;   // Shuffle Setting
                             7683 ; 40   |extern INT  g_iRepeatSetting;    // Repeat Setting
                             7684 ; 41   |#endif  // USE_PLAYLIST3
                             7685 ; 42   |
                             7686 ; 43   |#endif
                             7687 
                             7689 
                             7690 ; 18   |#include "hwequ.h"
                             7691 
                             7693 
                             7694 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             7695 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2001
                             7696 ; 3    |//  File        : hwequ.inc
                             7697 ; 4    |//  Description : STMP Hardware Constants
                             7698 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             7699 ; 6    |
                             7700 ; 7    |// ////////////////////////////////////////////////////////////////////////////////
                             7701 ; 8    |// hwequ is being eliminated for SDK3XXX.  For SDK2.5XX it will now reside in the   
                             7702 ; 9    |// local folder instead of ..\inc.  All register includes are converted to .h by 
                             7703 ; 10   |// registers.mk placed in the ..\lcdexample\player\output_XXXX folder.
                             7704 ; 11   |// ////////////////////////////////////////////////////////////////////////////////
                             7705 ; 12   |
                             7706 ; 13   |#if (!defined(HWEQU_INC))
                             7707 ; 14   |#define HWEQU_INC 1
                             7708 ; 15   |
                             7709 ; 16   |#include "types.h"
                             7710 
                             7712 
                             7713 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             7714 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             7715 ; 3    |//
                             7716 ; 4    |// Filename: types.h
                             7717 ; 5    |// Description: Standard data types
                             7718 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             7719 ; 7    |
                             7720 ; 8    |#ifndef _TYPES_H
                             7721 ; 9    |#define _TYPES_H
                             7722 ; 10   |
                             7723 ; 11   |// TODO:  move this outta here!
                             7724 ; 12   |#if !defined(NOERROR)
                             7725 ; 13   |#define NOERROR 0
                             7726 ; 14   |#define SUCCESS 0
                             7727 ; 15   |#endif 
                             7728 ; 16   |#if !defined(SUCCESS)
                             7729 ; 17   |#define SUCCESS  0
                             7730 ; 18   |#endif
                             7731 ; 19   |#if !defined(ERROR)
                             7732 ; 20   |#define ERROR   -1
                             7733 ; 21   |#endif
                             7734 ; 22   |#if !defined(FALSE)
                             7735 ; 23   |#define FALSE 0
                             7736 ; 24   |#endif
                             7737 ; 25   |#if !defined(TRUE)
                             7738 ; 26   |#define TRUE  1
                             7739 ; 27   |#endif
                             7740 ; 28   |
                             7741 ; 29   |#if !defined(NULL)
                             7742 ; 30   |#define NULL 0
                             7743 ; 31   |#endif
                             7744 ; 32   |
                             7745 ; 33   |#define MAX_INT     0x7FFFFF
                             7746 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             7747 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             7748 ; 36   |#define MAX_ULONG   (-1) 
                             7749 ; 37   |
                             7750 ; 38   |#define WORD_SIZE   24              // word size in bits
                             7751 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             7752 ; 40   |
                             7753 ; 41   |
                             7754 ; 42   |#define BYTE    unsigned char       // btVarName
                             7755 ; 43   |#define CHAR    signed char         // cVarName
                             7756 ; 44   |#define USHORT  unsigned short      // usVarName
                             7757 ; 45   |#define SHORT   unsigned short      // sVarName
                             7758 ; 46   |#define WORD    unsigned int        // wVarName
                             7759 ; 47   |#define INT     signed int          // iVarName
                             7760 ; 48   |#define DWORD   unsigned long       // dwVarName
                             7761 ; 49   |#define LONG    signed long         // lVarName
                             7762 ; 50   |#define BOOL    unsigned int        // bVarName
                             7763 ; 51   |#define FRACT   _fract              // frVarName
                             7764 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             7765 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             7766 ; 54   |#define FLOAT   float               // fVarName
                             7767 ; 55   |#define DBL     double              // dVarName
                             7768 ; 56   |#define ENUM    enum                // eVarName
                             7769 ; 57   |#define CMX     _complex            // cmxVarName
                             7770 ; 58   |typedef WORD UCS3;                   // 
                             7771 ; 59   |
                             7772 ; 60   |#define UINT16  unsigned short
                             7773 ; 61   |#define UINT8   unsigned char   
                             7774 ; 62   |#define UINT32  unsigned long
                             7775 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             7776 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             7777 ; 65   |#define WCHAR   UINT16
                             7778 ; 66   |
                             7779 ; 67   |//UINT128 is 16 bytes or 6 words
                             7780 ; 68   |typedef struct UINT128_3500 {   
                             7781 ; 69   |    int val[6];     
                             7782 ; 70   |} UINT128_3500;
                             7783 ; 71   |
                             7784 ; 72   |#define UINT128   UINT128_3500
                             7785 ; 73   |
                             7786 ; 74   |// Little endian word packed byte strings:   
                             7787 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7788 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7789 ; 77   |// Little endian word packed byte strings:   
                             7790 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7791 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7792 ; 80   |
                             7793 ; 81   |// Declare Memory Spaces To Use When Coding
                             7794 ; 82   |// A. Sector Buffers
                             7795 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             7796 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             7797 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             7798 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             7799 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             7800 ; 88   |// B. Media DDI Memory
                             7801 ; 89   |#define MEDIA_DDI_MEM _Y
                             7802 ; 90   |
                             7803 ; 91   |
                             7804 ; 92   |
                             7805 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             7806 ; 94   |// Examples of circular pointers:
                             7807 ; 95   |//    INT CIRC cpiVarName
                             7808 ; 96   |//    DWORD CIRC cpdwVarName
                             7809 ; 97   |
                             7810 ; 98   |#define RETCODE INT                 // rcVarName
                             7811 ; 99   |
                             7812 ; 100  |// generic bitfield structure
                             7813 ; 101  |struct Bitfield {
                             7814 ; 102  |    unsigned int B0  :1;
                             7815 ; 103  |    unsigned int B1  :1;
                             7816 ; 104  |    unsigned int B2  :1;
                             7817 ; 105  |    unsigned int B3  :1;
                             7818 ; 106  |    unsigned int B4  :1;
                             7819 ; 107  |    unsigned int B5  :1;
                             7820 ; 108  |    unsigned int B6  :1;
                             7821 ; 109  |    unsigned int B7  :1;
                             7822 ; 110  |    unsigned int B8  :1;
                             7823 ; 111  |    unsigned int B9  :1;
                             7824 ; 112  |    unsigned int B10 :1;
                             7825 ; 113  |    unsigned int B11 :1;
                             7826 ; 114  |    unsigned int B12 :1;
                             7827 ; 115  |    unsigned int B13 :1;
                             7828 ; 116  |    unsigned int B14 :1;
                             7829 ; 117  |    unsigned int B15 :1;
                             7830 ; 118  |    unsigned int B16 :1;
                             7831 ; 119  |    unsigned int B17 :1;
                             7832 ; 120  |    unsigned int B18 :1;
                             7833 ; 121  |    unsigned int B19 :1;
                             7834 ; 122  |    unsigned int B20 :1;
                             7835 ; 123  |    unsigned int B21 :1;
                             7836 ; 124  |    unsigned int B22 :1;
                             7837 ; 125  |    unsigned int B23 :1;
                             7838 ; 126  |};
                             7839 ; 127  |
                             7840 ; 128  |union BitInt {
                             7841 ; 129  |        struct Bitfield B;
                             7842 ; 130  |        int        I;
                             7843 ; 131  |};
                             7844 ; 132  |
                             7845 ; 133  |#define MAX_MSG_LENGTH 10
                             7846 ; 134  |struct CMessage
                             7847 ; 135  |{
                             7848 ; 136  |        unsigned int m_uLength;
                             7849 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             7850 ; 138  |};
                             7851 ; 139  |
                             7852 ; 140  |typedef struct {
                             7853 ; 141  |    WORD m_wLength;
                             7854 ; 142  |    WORD m_wMessage;
                             7855 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             7856 ; 144  |} Message;
                             7857 ; 145  |
                             7858 ; 146  |struct MessageQueueDescriptor
                             7859 ; 147  |{
                             7860 ; 148  |        int *m_pBase;
                             7861 ; 149  |        int m_iModulo;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  32

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7862 ; 150  |        int m_iSize;
                             7863 ; 151  |        int *m_pHead;
                             7864 ; 152  |        int *m_pTail;
                             7865 ; 153  |};
                             7866 ; 154  |
                             7867 ; 155  |struct ModuleEntry
                             7868 ; 156  |{
                             7869 ; 157  |    int m_iSignaledEventMask;
                             7870 ; 158  |    int m_iWaitEventMask;
                             7871 ; 159  |    int m_iResourceOfCode;
                             7872 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             7873 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             7874 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             7875 ; 163  |    int m_uTimeOutHigh;
                             7876 ; 164  |    int m_uTimeOutLow;
                             7877 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             7878 ; 166  |};
                             7879 ; 167  |
                             7880 ; 168  |union WaitMask{
                             7881 ; 169  |    struct B{
                             7882 ; 170  |        unsigned int m_bNone     :1;
                             7883 ; 171  |        unsigned int m_bMessage  :1;
                             7884 ; 172  |        unsigned int m_bTimer    :1;
                             7885 ; 173  |        unsigned int m_bButton   :1;
                             7886 ; 174  |    } B;
                             7887 ; 175  |    int I;
                             7888 ; 176  |} ;
                             7889 ; 177  |
                             7890 ; 178  |
                             7891 ; 179  |struct Button {
                             7892 ; 180  |        WORD wButtonEvent;
                             7893 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             7894 ; 182  |};
                             7895 ; 183  |
                             7896 ; 184  |struct Message {
                             7897 ; 185  |        WORD wMsgLength;
                             7898 ; 186  |        WORD wMsgCommand;
                             7899 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             7900 ; 188  |};
                             7901 ; 189  |
                             7902 ; 190  |union EventTypes {
                             7903 ; 191  |        struct CMessage msg;
                             7904 ; 192  |        struct Button Button ;
                             7905 ; 193  |        struct Message Message;
                             7906 ; 194  |};
                             7907 ; 195  |
                             7908 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             7909 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             7910 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             7911 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             7912 ; 200  |
                             7913 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             7914 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             7915 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             7916 ; 204  |
                             7917 ; 205  |#if DEBUG
                             7918 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             7919 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             7920 ; 208  |#else 
                             7921 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             7922 ; 210  |#define DebugBuildAssert(x)    
                             7923 ; 211  |#endif
                             7924 ; 212  |
                             7925 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             7926 ; 214  |//  #pragma asm
                             7927 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             7928 ; 216  |//  #pragma endasm
                             7929 ; 217  |
                             7930 ; 218  |
                             7931 ; 219  |#ifdef COLOR_262K
                             7932 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             7933 ; 221  |#elif defined(COLOR_65K)
                             7934 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             7935 ; 223  |#else
                             7936 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             7937 ; 225  |#endif
                             7938 ; 226  |    
                             7939 ; 227  |#endif // #ifndef _TYPES_H
                             7940 
                             7942 
                             7943 ; 17   |#include "regsclkctrl.h"
                             7944 
                             7946 
                             7947 ; 1    |#if !(defined(__REGS_CLK_CONTROL_INC))
                             7948 ; 2    |#define __REGS_CLK_CONTROL_INC 1
                             7949 ; 3    |
                             7950 ; 4    |
                             7951 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             7952 ; 6    |//  Clock Control Register (HW_CCR) Bit Positions
                             7953 ; 7    |#define HW_CCR_CKRST_BITPOS 0
                             7954 ; 8    |#define HW_CCR_LTC_BITPOS 1
                             7955 ; 9    |#define HW_CCR_PLLEN_BITPOS 2
                             7956 ; 10   |#define HW_CCR_XTLEN_BITPOS 3
                             7957 ; 11   |#define HW_CCR_PLL_SOURCE_SEL_BITPOS 4
                             7958 ; 12   |#define HW_CCR_ADIV_B0_BITPOS 5
                             7959 ; 13   |#define HW_CCR_ADIV_B1_BITPOS 6
                             7960 ; 14   |#define HW_CCR_ADIV_B2_BITPOS 7
                             7961 ; 15   |#define HW_CCR_CKSRC_BITPOS 8
                             7962 ; 16   |#define HW_CCR_DDIV_BITPOS 9
                             7963 ; 17   |#define HW_CCR_DDIV_B0_BITPOS 9
                             7964 ; 18   |#define HW_CCR_DDIV_B1_BITPOS 10
                             7965 ; 19   |#define HW_CCR_DDIV_B2_BITPOS 11
                             7966 ; 20   |#define HW_CCR_PDIV_BITPOS 12
                             7967 ; 21   |#define HW_CCR_PDIV_B0_BITPOS 12
                             7968 ; 22   |#define HW_CCR_PDIV_B1_BITPOS 13
                             7969 ; 23   |#define HW_CCR_PDIV_B2_BITPOS 14
                             7970 ; 24   |#define HW_CCR_PDIV_B3_BITPOS 15
                             7971 ; 25   |#define HW_CCR_PDIV_B4_BITPOS 16
                             7972 ; 26   |#define HW_CCR_PWDN_BITPOS 17
                             7973 ; 27   |#define HW_CCR_ACKEN_BITPOS 18
                             7974 ; 28   |#define HW_CCR_LOCK_BITPOS 19
                             7975 ; 29   |#define HW_CCR_DACDIV_BITPOS 20
                             7976 ; 30   |#define HW_CCR_ADIV1_B0_BITPOS 20
                             7977 ; 31   |#define HW_CCR_ADIV1_B1_BITPOS 21
                             7978 ; 32   |#define HW_CCR_ADIV1_B2_BITPOS 22
                             7979 ; 33   |#define HW_CCR_DDIV_MSB_BITPOS 23
                             7980 ; 34   |
                             7981 ; 35   |#define HW_CCR_CKRST_SETMASK 1<<HW_CCR_CKRST_BITPOS
                             7982 ; 36   |#define HW_CCR_LTC_SETMASK 1<<HW_CCR_LTC_BITPOS
                             7983 ; 37   |#define HW_CCR_PLLEN_SETMASK 1<<HW_CCR_PLLEN_BITPOS
                             7984 ; 38   |#define HW_CCR_XTLEN_SETMASK 1<<HW_CCR_XTLEN_BITPOS
                             7985 ; 39   |#define HW_CCR_ADCDIV_SETMASK 0x7<<HW_CCR_ADIV_B0_BITPOS
                             7986 ; 40   |#define HW_CCR_CKSRC_SETMASK 1<<HW_CCR_CKSRC_BITPOS
                             7987 ; 41   |#define HW_CCR_DDIV_SETMASK 0x7<<HW_CCR_DDIV_BITPOS
                             7988 ; 42   |#define HW_CCR_PDIV_SETMASK 0x1F<<HW_CCR_PDIV_BITPOS
                             7989 ; 43   |#define HW_CCR_PWDN_SETMASK 1<<HW_CCR_PWDN_BITPOS
                             7990 ; 44   |#define HW_CCR_ACKEN_SETMASK 1<<HW_CCR_ACKEN_BITPOS
                             7991 ; 45   |#define HW_CCR_LOCK_SETMASK 1<<HW_CCR_LOCK_BITPOS
                             7992 ; 46   |#define HW_CCR_DACDIV_SETMASK 0x7<<HW_CCR_DACDIV_BITPOS
                             7993 ; 47   |
                             7994 ; 48   |#define HW_CCR_CKRST_CLRMASK ~(WORD)HW_CCR_CKRST_SETMASK
                             7995 ; 49   |#define HW_CCR_LTC_CLRMASK ~(WORD)HW_CCR_LTC_SETMASK
                             7996 ; 50   |#define HW_CCR_PLLEN_CLRMASK ~(WORD)HW_CCR_PLLEN_SETMASK
                             7997 ; 51   |#define HW_CCR_XTLEN_CLRMASK ~(WORD)HW_CCR_XTLEN_SETMASK
                             7998 ; 52   |#define HW_CCR_ADCDIV_CLRMASK ~(WORD)HW_CCR_ADCDIV_SETMASK
                             7999 ; 53   |#define HW_CCR_CKSRC_CLRMASK ~(WORD)HW_CCR_CKSRC_SETMASK
                             8000 ; 54   |#define HW_CCR_DDIV_CLRMASK ~(WORD)HW_CCR_DDIV_SETMASK
                             8001 ; 55   |#define HW_CCR_PDIV_CLRMASK ~(WORD)HW_CCR_PDIV_SETMASK
                             8002 ; 56   |#define HW_CCR_PWDN_CLRMASK ~(WORD)HW_CCR_PWDN_SETMASK
                             8003 ; 57   |#define HW_CCR_ACKEN_CLRMASK ~(WORD)HW_CCR_ACKEN_SETMASK
                             8004 ; 58   |#define HW_CCR_LOCK_CLRMASK ~(WORD)HW_CCR_LOCK_SETMASK
                             8005 ; 59   |#define HW_CCR_DACDIV_CLRMASK ~(WORD)HW_CCR_DACDIV_SETMASK
                             8006 ; 60   |
                             8007 ; 61   |typedef union               
                             8008 ; 62   |{
                             8009 ; 63   |    struct
                             8010 ; 64   |    {
                             8011 ; 65   |        int CKRST       :1; // Clock Reset
                             8012 ; 66   |        int LTC         :1;
                             8013 ; 67   |        int PLLEN       :1;
                             8014 ; 68   |        int XTLEN       :1;
                             8015 ; 69   |        int FLB         :1;
                             8016 ; 70   |        unsigned ADIV   :3;
                             8017 ; 71   |        int CKSRC       :1;
                             8018 ; 72   |        unsigned DDIV   :3;
                             8019 ; 73   |        unsigned PDIV   :5;
                             8020 ; 74   |        int PWDN        :1;
                             8021 ; 75   |        int ACKEN       :1;
                             8022 ; 76   |        int LOCK        :1;
                             8023 ; 77   |        unsigned ADIV1  :3;
                             8024 ; 78   |        unsigned DDIV_MSB:1;
                             8025 ; 79   |    } B;
                             8026 ; 80   |
                             8027 ; 81   |    int I;
                             8028 ; 82   |    unsigned int U;
                             8029 ; 83   |
                             8030 ; 84   |} ccr_type;
                             8031 ; 85   |#define HW_CCR     (*(volatile ccr_type _X*) (0xFA00))
                             8032 ; 86   |
                             8033 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                             8034 ; 88   |//  Reset Control Register (HW_RCR) Bit Positions
                             8035 ; 89   |#define HW_RCR_STKLVL_BITPOS 0
                             8036 ; 90   |#define HW_RCR_SRST_BITPOS 4
                             8037 ; 91   |#define HW_RCR_IRQA_BITPOS 8
                             8038 ; 92   |#define HW_RCR_IRQB_BITPOS 9
                             8039 ; 93   |#define HW_RCR_NMI_BITPOS 10
                             8040 ; 94   |#define HW_RCR_SUNFLLVL_BITPOS 11
                             8041 ; 95   |#define HW_RCR_SUNFLEN_BITPOS 15
                             8042 ; 96   |#define HW_RCR_SOVFLLVL_BITPOS 16
                             8043 ; 97   |#define HW_RCR_SOVFLEN_BITPOS 20
                             8044 ; 98   |#define HW_RCR_IRQB2NMI_BITPOS 21
                             8045 ; 99   |#define HW_RCR_SUNFL_BITPOS 22
                             8046 ; 100  |#define HW_RCR_SOVFL_BITPOS 23
                             8047 ; 101  |
                             8048 ; 102  |#define HW_RCR_STKLVL_WIDTH (4)
                             8049 ; 103  |#define HW_RCR_SRST_WIDTH (4)
                             8050 ; 104  |#define HW_RCR_IRQA_WIDTH (1)
                             8051 ; 105  |#define HW_RCR_IRQB_WIDTH (1)
                             8052 ; 106  |#define HW_RCR_NMI_WIDTH (1)
                             8053 ; 107  |#define HW_RCR_SUNFLLVL_WIDTH (4)
                             8054 ; 108  |#define HW_RCR_SUNFLEN_WIDTH (1)
                             8055 ; 109  |#define HW_RCR_SOVFLLVL_WIDTH (4)
                             8056 ; 110  |#define HW_RCR_SOVFLEN_WIDTH (1)
                             8057 ; 111  |#define HW_RCR_IRQB2NMI_WIDTH (1)
                             8058 ; 112  |#define HW_RCR_SUNFL_WIDTH (1)
                             8059 ; 113  |#define HW_RCR_SOVFL_WIDTH (1)
                             8060 ; 114  |
                             8061 ; 115  |#define HW_RCR_STKLVL_SETMASK (((1<<HW_RCR_STKLVL_WIDTH)-1)<<HW_RCR_STKLVL_BITPOS)
                             8062 ; 116  |#define HW_RCR_SRST_SETMASK (((1<<HW_RCR_SRST_WIDTH)-1)<<HW_RCR_SRST_BITPOS)
                             8063 ; 117  |#define HW_RCR_IRQA_SETMASK (((1<<HW_RCR_IRQA_WIDTH)-1)<<HW_RCR_IRQA_BITPOS)
                             8064 ; 118  |#define HW_RCR_IRQB_SETMASK (((1<<HW_RCR_IRQB_WIDTH)-1)<<HW_RCR_IRQB_BITPOS)
                             8065 ; 119  |#define HW_RCR_NMI_SETMASK (((1<<HW_RCR_NMI_WIDTH)-1)<<HW_RCR_NMI_BITPOS)
                             8066 ; 120  |#define HW_RCR_SUNFLLVL_SETMASK (((1<<HW_RCR_SUNFLLVL_WIDTH)-1)<<HW_RCR_SUNFLLVL_BITPOS)
                             8067 ; 121  |#define HW_RCR_SUNFLEN_SETMASK (((1<<HW_RCR_SUNFLEN_WIDTH)-1)<<HW_RCR_SUNFLEN_BITPOS)
                             8068 ; 122  |#define HW_RCR_SOVFLLVL_SETMASK (((1<<HW_RCR_SOVFLLVL_WIDTH)-1)<<HW_RCR_SOVFLLVL_BITPOS)
                             8069 ; 123  |#define HW_RCR_SOVFLEN_SETMASK (((1<<HW_RCR_SOVFLEN_WIDTH)-1)<<HW_RCR_SOVFLEN_BITPOS)
                             8070 ; 124  |#define HW_RCR_IRQB2NMI_SETMASK (((1<<HW_RCR_IRQB2NMI_WIDTH)-1)<<HW_RCR_IRQB2NMI_BITPOS)
                             8071 ; 125  |#define HW_RCR_SUNFL_SETMASK (((1<<HW_RCR_SUNFL_WIDTH)-1)<<HW_RCR_SUNFL_BITPOS)
                             8072 ; 126  |#define HW_RCR_SOVFL_SETMASK (((1<<HW_RCR_SOVFL_WIDTH)-1)<<HW_RCR_SOVFL_BITPOS)
                             8073 ; 127  |
                             8074 ; 128  |#define HW_RCR_STKLVL_CLRMASK ~(WORD)HW_RCR_STKLVL_SETMASK
                             8075 ; 129  |#define HW_RCR_SRST_CLRMASK ~(WORD)HW_RCR_SRST_SETMASK
                             8076 ; 130  |#define HW_RCR_IRQA_CLRMASK ~(WORD)HW_RCR_IRQA_SETMASK
                             8077 ; 131  |#define HW_RCR_IRQB_CLRMASK ~(WORD)HW_RCR_IRQB_SETMASK
                             8078 ; 132  |#define HW_RCR_NMI_CLRMASK ~(WORD)HW_RCR_NMI_SETMASK
                             8079 ; 133  |#define HW_RCR_SUNFLLVL_CLRMASK ~(WORD)HW_RCR_SUNFLLVL_SETMASK
                             8080 ; 134  |#define HW_RCR_SUNFLEN_CLRMASK ~(WORD)HW_RCR_SUNFLEN_SETMASK
                             8081 ; 135  |#define HW_RCR_SOVFLLVL_CLRMASK ~(WORD)HW_RCR_SOVFLLVL_SETMASK
                             8082 ; 136  |#define HW_RCR_SOVFLEN_CLRMASK ~(WORD)HW_RCR_SOVFLEN_SETMASK
                             8083 ; 137  |#define HW_RCR_IRQB2NMI_CLRMASK ~(WORD)HW_RCR_IRQB2NMI_SETMASK
                             8084 ; 138  |#define HW_RCR_SUNFL_CLRMASK ~(WORD)HW_RCR_SUNFL_SETMASK
                             8085 ; 139  |#define HW_RCR_SOVFL_CLRMASK ~(WORD)HW_RCR_SOVFL_SETMASK
                             8086 ; 140  |
                             8087 ; 141  |typedef union               
                             8088 ; 142  |{
                             8089 ; 143  |    struct
                             8090 ; 144  |   {
                             8091 ; 145  |        int STKLVL   : HW_RCR_STKLVL_WIDTH;
                             8092 ; 146  |        int SRST     : HW_RCR_SRST_WIDTH;
                             8093 ; 147  |        int IRQA     : HW_RCR_IRQA_WIDTH;
                             8094 ; 148  |        int IRQB     : HW_RCR_IRQB_WIDTH;
                             8095 ; 149  |        int NMI      : HW_RCR_NMI_WIDTH;
                             8096 ; 150  |        int SUNFLLVL : HW_RCR_SUNFLLVL_WIDTH;
                             8097 ; 151  |        int SUNFLEN  : HW_RCR_SUNFLEN_WIDTH;
                             8098 ; 152  |        int SOVFLLVL : HW_RCR_SOVFLLVL_WIDTH;
                             8099 ; 153  |        int SOVFLEN  : HW_RCR_SOVFLEN_WIDTH;
                             8100 ; 154  |        int IRQB2NMI : HW_RCR_IRQB2NMI_WIDTH;
                             8101 ; 155  |        int SUNFL    : HW_RCR_SUNFL_WIDTH;
                             8102 ; 156  |        int SOVFL    : HW_RCR_SOVFL_WIDTH;
                             8103 ; 157  |    } B;
                             8104 ; 158  |
                             8105 ; 159  |    int I;
                             8106 ; 160  |    unsigned int U;
                             8107 ; 161  |
                             8108 ; 162  |} rcr_type;
                             8109 ; 163  |#define HW_RCR     (*(volatile rcr_type _X*) (0xFA01))
                             8110 ; 164  |
                             8111 ; 165  |
                             8112 ; 166  |/////////////////////////////////////////////////////////////////////////////////
                             8113 ; 167  |//  DCLK Count Lower register (HW_DCLKCNTL) Bit Positions
                             8114 ; 168  |#define HW_DCLKCNTL_LOW_BITPOS 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  33

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8115 ; 169  |
                             8116 ; 170  |#define HW_DCLKCNTL_LOW_WIDTH (24)        
                             8117 ; 171  |
                             8118 ; 172  |#define HW_DCLKCNTL_LOW_SETMASK (((1<<HW_DCLKCNTL_LOW_WIDTH)-1)<<HW_DCLKCNTL_LOW_BITPOS) 
                             8119 ; 173  |#define HW_DCLKCNTL_LOW_CLRMASK ~(WORD)HW_DCLKCNTL_LOW_SETMASK
                             8120 ; 174  |typedef union               
                             8121 ; 175  |{
                             8122 ; 176  |    struct
                             8123 ; 177  |   {
                             8124 ; 178  |        int LOW;
                             8125 ; 179  |    } B;
                             8126 ; 180  |
                             8127 ; 181  |    int I;
                             8128 ; 182  |    unsigned int U;
                             8129 ; 183  |
                             8130 ; 184  |} dclkcntl_type;
                             8131 ; 185  |#define HW_DCLKCNTL (*(volatile dclkcntl_type _X*) (0xFFEA))
                             8132 ; 186  |
                             8133 ; 187  |/////////////////////////////////////////////////////////////////////////////////
                             8134 ; 188  |//  DCLK Count UPPER register (HW_DCLKCNTU) Bit Positions
                             8135 ; 189  |#define HW_DCLKCNTU_HIGH_BITPOS 0
                             8136 ; 190  |
                             8137 ; 191  |#define HW_DCLKCNTU_HIGH_WIDTH (24)        
                             8138 ; 192  |
                             8139 ; 193  |#define HW_DCLKCNTU_HIGH_SETMASK (((1<<HW_DCLKCNTU_HIGH_WIDTH)-1)<<HW_DCLKCNTU_HIGH_BITPOS) 
                             8140 ; 194  |#define HW_DCLKCNTU_HIGH_CLRMASK ~(WORD)HW_DCLKCNTU_HIGH_SETMASK
                             8141 ; 195  |typedef union               
                             8142 ; 196  |{
                             8143 ; 197  |    struct
                             8144 ; 198  |   {
                             8145 ; 199  |        int HIGH;
                             8146 ; 200  |    } B;
                             8147 ; 201  |
                             8148 ; 202  |    int I;
                             8149 ; 203  |    unsigned int U;
                             8150 ; 204  |
                             8151 ; 205  |} dclkcntu_type;
                             8152 ; 206  |#define HW_DCLKCNTU (*(volatile dclkcntu_type _X*) (0xFFEB))
                             8153 ; 207  |
                             8154 ; 208  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *******************************
                             8155 ; 209  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code without needing 
                             8156 ; 210  |// to update the actual files. Only the defines needed to build SDK2.400 were added. 
                             8157 ; 211  |
                             8158 ; 212  |// Clock count register (lower)
                             8159 ; 213  |#define HW_CLK_CNT_L 0x00FFEA         
                             8160 ; 214  |// Clock count register (upper)
                             8161 ; 215  |#define HW_CLK_CNT_U 0x00FFEB         
                             8162 ; 216  |// Cycle steal count register
                             8163 ; 217  |#define HW_CYC_STEAL 0x00FFEC         
                             8164 ; 218  |
                             8165 ; 219  |#endif
                             8166 ; 220  |
                             8167 ; 221  |
                             8168 
                             8170 
                             8171 ; 18   |#include "regscore.h"
                             8172 
                             8174 
                             8175 ; 1    |#if !(defined(__REGS_STATUS_INC))
                             8176 ; 2    |#define __REGS_STATUS_INC 1
                             8177 ; 3    |
                             8178 ; 4    |
                             8179 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             8180 ; 6    |//  OMR Register (HW_OMR) Bit Positions
                             8181 ; 7    |#define HW_OMR_MA_BITPOS 0
                             8182 ; 8    |#define HW_OMR_MB_BITPOS 1
                             8183 ; 9    |#define HW_OMR_DE_BITPOS 2
                             8184 ; 10   |#define HW_OMR_YE_BITPOS 3
                             8185 ; 11   |#define HW_OMR_MC_BITPOS 4
                             8186 ; 12   |#define HW_OMR_SD_BITPOS 6
                             8187 ; 13   |
                             8188 ; 14   |#define HW_OMR_MA_SETMASK 1<<HW_OMR_MA_BITPOS
                             8189 ; 15   |#define HW_OMR_MB_SETMASK 1<<HW_OMR_MB_BITPOS
                             8190 ; 16   |#define HW_OMR_DE_SETMASK 1<<HW_OMR_DE_BITPOS
                             8191 ; 17   |#define HW_OMR_YE_SETMASK 1<<HW_OMR_YE_BITPOS
                             8192 ; 18   |#define HW_OMR_MC_SETMASK 1<<HW_OMR_MC_BITPOS
                             8193 ; 19   |#define HW_OMR_SD_SETMASK 1<<HW_OMR_SD_BITPOS
                             8194 ; 20   |
                             8195 ; 21   |#define HW_OMR_MA_CLRMASK ~(WORD)HW_OMR_MA_SETMASK
                             8196 ; 22   |#define HW_OMR_MB_CLRMASK ~(WORD)HW_OMR_MB_SETMASK
                             8197 ; 23   |#define HW_OMR_DE_CLRMASK ~(WORD)HW_OMR_DE_SETMASK
                             8198 ; 24   |#define HW_OMR_YE_CLRMASK ~(WORD)HW_OMR_YE_SETMASK
                             8199 ; 25   |#define HW_OMR_MC_CLRMASK ~(WORD)HW_OMR_MC_SETMASK
                             8200 ; 26   |#define HW_OMR_SD_CLRMASK ~(WORD)HW_OMR_SD_SETMASK
                             8201 ; 27   |
                             8202 ; 28   |
                             8203 ; 29   |/////////////////////////////////////////////////////////////////////////////////
                             8204 ; 30   |//  Status Register (HW_SR) Bit Positions
                             8205 ; 31   |#define HW_SR_C_BITPOS 0
                             8206 ; 32   |#define HW_SR_O_BITPOS 1
                             8207 ; 33   |#define HW_SR_Z_BITPOS 2
                             8208 ; 34   |#define HW_SR_N_BITPOS 3
                             8209 ; 35   |#define HW_SR_U_BITPOS 4
                             8210 ; 36   |#define HW_SR_E_BITPOS 5
                             8211 ; 37   |#define HW_SR_L_BITPOS 6
                             8212 ; 38   |#define HW_SR_IM_BITPOS 8
                             8213 ; 39   |#define HW_SR_IM0_BITPOS 8
                             8214 ; 40   |#define HW_SR_IM1_BITPOS 9
                             8215 ; 41   |#define HW_SR_SM_BITPOS 10
                             8216 ; 42   |#define HW_SR_SM0_BITPOS 10
                             8217 ; 43   |#define HW_SR_SM1_BITPOS 11
                             8218 ; 44   |#define HW_SR_TM_BITPOS 13
                             8219 ; 45   |#define HW_SR_DP_BITPOS 14
                             8220 ; 46   |#define HW_SR_LOOP_BITPOS 15
                             8221 ; 47   |
                             8222 ; 48   |#define HW_SR_C_SETMASK 1<<HW_SR_C_BITPOS
                             8223 ; 49   |#define HW_SR_O_SETMASK 1<<HW_SR_O_BITPOS
                             8224 ; 50   |#define HW_SR_Z_SETMASK 1<<HW_SR_Z_BITPOS
                             8225 ; 51   |#define HW_SR_N_SETMASK 1<<HW_SR_N_BITPOS
                             8226 ; 52   |#define HW_SR_U_SETMASK 1<<HW_SR_U_BITPOS
                             8227 ; 53   |#define HW_SR_E_SETMASK 1<<HW_SR_E_BITPOS
                             8228 ; 54   |#define HW_SR_L_SETMASK 1<<HW_SR_L_BITPOS
                             8229 ; 55   |#define HW_SR_IM_SETMASK 3<<HW_SR_IM_BITPOS
                             8230 ; 56   |#define HW_SR_IM0_SETMASK 1<<HW_SR_IM0_BITPOS
                             8231 ; 57   |#define HW_SR_IM1_SETMASK 1<<HW_SR_IM1_BITPOS
                             8232 ; 58   |#define HW_SR_IM_L0_SETMASK 0<<HW_SR_IM_BITPOS
                             8233 ; 59   |#define HW_SR_IM_L1_SETMASK 1<<HW_SR_IM_BITPOS
                             8234 ; 60   |#define HW_SR_IM_L2_SETMASK 2<<HW_SR_IM_BITPOS
                             8235 ; 61   |#define HW_SR_IM_L3_SETMASK 3<<HW_SR_IM_BITPOS
                             8236 ; 62   |#define HW_SR_SM_SETMASK 3<<HW_SR_SM_BITPOS
                             8237 ; 63   |#define HW_SR_SM0_SETMASK 1<<HW_SR_SM0_BITPOS
                             8238 ; 64   |#define HW_SR_SM1_SETMASK 1<<HW_SR_SM1_BITPOS
                             8239 ; 65   |#define HW_SR_TM_SETMASK 1<<HW_SR_TM_BITPOS
                             8240 ; 66   |#define HW_SR_DP_SETMASK 1<<HW_SR_DP_BITPOS
                             8241 ; 67   |#define HW_SR_LOOP_SETMASK 1<<HW_SR_LOOP_BITPOS
                             8242 ; 68   |
                             8243 ; 69   |#define HW_SR_C_CLRMASK ~(WORD)HW_SR_C_SETMASK
                             8244 ; 70   |#define HW_SR_O_CLRMASK ~(WORD)HW_SR_O_SETMASK
                             8245 ; 71   |#define HW_SR_Z_CLRMASK ~(WORD)HW_SR_Z_SETMASK
                             8246 ; 72   |#define HW_SR_N_CLRMASK ~(WORD)HW_SR_N_SETMASK
                             8247 ; 73   |#define HW_SR_U_CLRMASK ~(WORD)HW_SR_U_SETMASK
                             8248 ; 74   |#define HW_SR_E_CLRMASK ~(WORD)HW_SR_E_SETMASK
                             8249 ; 75   |#define HW_SR_L_CLRMASK ~(WORD)HW_SR_L_SETMASK
                             8250 ; 76   |#define HW_SR_IM_CLRMASK (0x00FFFF)&(~(WORD)HW_SR_IM_SETMASK)
                             8251 ; 77   |#define HW_SR_IM0_CLRMASK ~(WORD)HW_SR_IM0_SETMASK
                             8252 ; 78   |#define HW_SR_IM1_CLRMASK ~(WORD)HW_SR_IM1_SETMASK
                             8253 ; 79   |#define HW_SR_SM_CLRMASK ~(WORD)HW_SR_SM_SETMASK
                             8254 ; 80   |#define HW_SR_SM0_CLRMASK ~(WORD)HW_SR_SM0_SETMASK
                             8255 ; 81   |#define HW_SR_SM1_CLRMASK ~(WORD)HW_SR_SM1_SETMASK
                             8256 ; 82   |#define HW_SR_TM_CLRMASK ~(WORD)HW_SR_TM_SETMASK
                             8257 ; 83   |#define HW_SR_DP_CLRMASK ~(WORD)HW_SR_DP_SETMASK
                             8258 ; 84   |#define HW_SR_LOOP_CLRMASK ~(WORD)HW_SR_LOOP_SETMASK
                             8259 ; 85   |
                             8260 ; 86   |/////////////////////////////////////////////////////////////////////////////////
                             8261 ; 87   |//  RAM/ROM Config Register Bit Positions
                             8262 ; 88   |#define HW_RAM_ROM_CFG_ROM_IMAGE_EN_BITPOS 18
                             8263 ; 89   |#define HW_RAM_ROM_CFG_ROM_CLK_EN_BITPOS 19
                             8264 ; 90   |#define HW_RAM_ROM_CFG_PXRAM_CLK_EN_BITPOS 20
                             8265 ; 91   |#define HW_RAM_ROM_CFG_PYRAM_CLK_EN_BITPOS 21
                             8266 ; 92   |#endif
                             8267 ; 93   |
                             8268 ; 94   |
                             8269 
                             8271 
                             8272 ; 19   |#include "regscodec.h"
                             8273 
                             8275 
                             8276 ; 1    |#if !(defined(regscodecinc))
                             8277 ; 2    |#define regscodecinc 1
                             8278 ; 3    |
                             8279 ; 4    |
                             8280 ; 5    |
                             8281 ; 6    |#include "types.h"
                             8282 
                             8284 
                             8285 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             8286 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             8287 ; 3    |//
                             8288 ; 4    |// Filename: types.h
                             8289 ; 5    |// Description: Standard data types
                             8290 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             8291 ; 7    |
                             8292 ; 8    |#ifndef _TYPES_H
                             8293 ; 9    |#define _TYPES_H
                             8294 ; 10   |
                             8295 ; 11   |// TODO:  move this outta here!
                             8296 ; 12   |#if !defined(NOERROR)
                             8297 ; 13   |#define NOERROR 0
                             8298 ; 14   |#define SUCCESS 0
                             8299 ; 15   |#endif 
                             8300 ; 16   |#if !defined(SUCCESS)
                             8301 ; 17   |#define SUCCESS  0
                             8302 ; 18   |#endif
                             8303 ; 19   |#if !defined(ERROR)
                             8304 ; 20   |#define ERROR   -1
                             8305 ; 21   |#endif
                             8306 ; 22   |#if !defined(FALSE)
                             8307 ; 23   |#define FALSE 0
                             8308 ; 24   |#endif
                             8309 ; 25   |#if !defined(TRUE)
                             8310 ; 26   |#define TRUE  1
                             8311 ; 27   |#endif
                             8312 ; 28   |
                             8313 ; 29   |#if !defined(NULL)
                             8314 ; 30   |#define NULL 0
                             8315 ; 31   |#endif
                             8316 ; 32   |
                             8317 ; 33   |#define MAX_INT     0x7FFFFF
                             8318 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             8319 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             8320 ; 36   |#define MAX_ULONG   (-1) 
                             8321 ; 37   |
                             8322 ; 38   |#define WORD_SIZE   24              // word size in bits
                             8323 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             8324 ; 40   |
                             8325 ; 41   |
                             8326 ; 42   |#define BYTE    unsigned char       // btVarName
                             8327 ; 43   |#define CHAR    signed char         // cVarName
                             8328 ; 44   |#define USHORT  unsigned short      // usVarName
                             8329 ; 45   |#define SHORT   unsigned short      // sVarName
                             8330 ; 46   |#define WORD    unsigned int        // wVarName
                             8331 ; 47   |#define INT     signed int          // iVarName
                             8332 ; 48   |#define DWORD   unsigned long       // dwVarName
                             8333 ; 49   |#define LONG    signed long         // lVarName
                             8334 ; 50   |#define BOOL    unsigned int        // bVarName
                             8335 ; 51   |#define FRACT   _fract              // frVarName
                             8336 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             8337 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             8338 ; 54   |#define FLOAT   float               // fVarName
                             8339 ; 55   |#define DBL     double              // dVarName
                             8340 ; 56   |#define ENUM    enum                // eVarName
                             8341 ; 57   |#define CMX     _complex            // cmxVarName
                             8342 ; 58   |typedef WORD UCS3;                   // 
                             8343 ; 59   |
                             8344 ; 60   |#define UINT16  unsigned short
                             8345 ; 61   |#define UINT8   unsigned char   
                             8346 ; 62   |#define UINT32  unsigned long
                             8347 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             8348 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             8349 ; 65   |#define WCHAR   UINT16
                             8350 ; 66   |
                             8351 ; 67   |//UINT128 is 16 bytes or 6 words
                             8352 ; 68   |typedef struct UINT128_3500 {   
                             8353 ; 69   |    int val[6];     
                             8354 ; 70   |} UINT128_3500;
                             8355 ; 71   |
                             8356 ; 72   |#define UINT128   UINT128_3500
                             8357 ; 73   |
                             8358 ; 74   |// Little endian word packed byte strings:   
                             8359 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8360 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8361 ; 77   |// Little endian word packed byte strings:   
                             8362 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8363 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8364 ; 80   |
                             8365 ; 81   |// Declare Memory Spaces To Use When Coding
                             8366 ; 82   |// A. Sector Buffers
                             8367 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             8368 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             8369 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             8370 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  34

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8371 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             8372 ; 88   |// B. Media DDI Memory
                             8373 ; 89   |#define MEDIA_DDI_MEM _Y
                             8374 ; 90   |
                             8375 ; 91   |
                             8376 ; 92   |
                             8377 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             8378 ; 94   |// Examples of circular pointers:
                             8379 ; 95   |//    INT CIRC cpiVarName
                             8380 ; 96   |//    DWORD CIRC cpdwVarName
                             8381 ; 97   |
                             8382 ; 98   |#define RETCODE INT                 // rcVarName
                             8383 ; 99   |
                             8384 ; 100  |// generic bitfield structure
                             8385 ; 101  |struct Bitfield {
                             8386 ; 102  |    unsigned int B0  :1;
                             8387 ; 103  |    unsigned int B1  :1;
                             8388 ; 104  |    unsigned int B2  :1;
                             8389 ; 105  |    unsigned int B3  :1;
                             8390 ; 106  |    unsigned int B4  :1;
                             8391 ; 107  |    unsigned int B5  :1;
                             8392 ; 108  |    unsigned int B6  :1;
                             8393 ; 109  |    unsigned int B7  :1;
                             8394 ; 110  |    unsigned int B8  :1;
                             8395 ; 111  |    unsigned int B9  :1;
                             8396 ; 112  |    unsigned int B10 :1;
                             8397 ; 113  |    unsigned int B11 :1;
                             8398 ; 114  |    unsigned int B12 :1;
                             8399 ; 115  |    unsigned int B13 :1;
                             8400 ; 116  |    unsigned int B14 :1;
                             8401 ; 117  |    unsigned int B15 :1;
                             8402 ; 118  |    unsigned int B16 :1;
                             8403 ; 119  |    unsigned int B17 :1;
                             8404 ; 120  |    unsigned int B18 :1;
                             8405 ; 121  |    unsigned int B19 :1;
                             8406 ; 122  |    unsigned int B20 :1;
                             8407 ; 123  |    unsigned int B21 :1;
                             8408 ; 124  |    unsigned int B22 :1;
                             8409 ; 125  |    unsigned int B23 :1;
                             8410 ; 126  |};
                             8411 ; 127  |
                             8412 ; 128  |union BitInt {
                             8413 ; 129  |        struct Bitfield B;
                             8414 ; 130  |        int        I;
                             8415 ; 131  |};
                             8416 ; 132  |
                             8417 ; 133  |#define MAX_MSG_LENGTH 10
                             8418 ; 134  |struct CMessage
                             8419 ; 135  |{
                             8420 ; 136  |        unsigned int m_uLength;
                             8421 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             8422 ; 138  |};
                             8423 ; 139  |
                             8424 ; 140  |typedef struct {
                             8425 ; 141  |    WORD m_wLength;
                             8426 ; 142  |    WORD m_wMessage;
                             8427 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             8428 ; 144  |} Message;
                             8429 ; 145  |
                             8430 ; 146  |struct MessageQueueDescriptor
                             8431 ; 147  |{
                             8432 ; 148  |        int *m_pBase;
                             8433 ; 149  |        int m_iModulo;
                             8434 ; 150  |        int m_iSize;
                             8435 ; 151  |        int *m_pHead;
                             8436 ; 152  |        int *m_pTail;
                             8437 ; 153  |};
                             8438 ; 154  |
                             8439 ; 155  |struct ModuleEntry
                             8440 ; 156  |{
                             8441 ; 157  |    int m_iSignaledEventMask;
                             8442 ; 158  |    int m_iWaitEventMask;
                             8443 ; 159  |    int m_iResourceOfCode;
                             8444 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             8445 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             8446 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             8447 ; 163  |    int m_uTimeOutHigh;
                             8448 ; 164  |    int m_uTimeOutLow;
                             8449 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             8450 ; 166  |};
                             8451 ; 167  |
                             8452 ; 168  |union WaitMask{
                             8453 ; 169  |    struct B{
                             8454 ; 170  |        unsigned int m_bNone     :1;
                             8455 ; 171  |        unsigned int m_bMessage  :1;
                             8456 ; 172  |        unsigned int m_bTimer    :1;
                             8457 ; 173  |        unsigned int m_bButton   :1;
                             8458 ; 174  |    } B;
                             8459 ; 175  |    int I;
                             8460 ; 176  |} ;
                             8461 ; 177  |
                             8462 ; 178  |
                             8463 ; 179  |struct Button {
                             8464 ; 180  |        WORD wButtonEvent;
                             8465 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             8466 ; 182  |};
                             8467 ; 183  |
                             8468 ; 184  |struct Message {
                             8469 ; 185  |        WORD wMsgLength;
                             8470 ; 186  |        WORD wMsgCommand;
                             8471 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             8472 ; 188  |};
                             8473 ; 189  |
                             8474 ; 190  |union EventTypes {
                             8475 ; 191  |        struct CMessage msg;
                             8476 ; 192  |        struct Button Button ;
                             8477 ; 193  |        struct Message Message;
                             8478 ; 194  |};
                             8479 ; 195  |
                             8480 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             8481 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             8482 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             8483 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             8484 ; 200  |
                             8485 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             8486 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             8487 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             8488 ; 204  |
                             8489 ; 205  |#if DEBUG
                             8490 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             8491 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             8492 ; 208  |#else 
                             8493 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             8494 ; 210  |#define DebugBuildAssert(x)    
                             8495 ; 211  |#endif
                             8496 ; 212  |
                             8497 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             8498 ; 214  |//  #pragma asm
                             8499 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             8500 ; 216  |//  #pragma endasm
                             8501 ; 217  |
                             8502 ; 218  |
                             8503 ; 219  |#ifdef COLOR_262K
                             8504 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             8505 ; 221  |#elif defined(COLOR_65K)
                             8506 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             8507 ; 223  |#else
                             8508 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             8509 ; 225  |#endif
                             8510 ; 226  |    
                             8511 ; 227  |#endif // #ifndef _TYPES_H
                             8512 
                             8514 
                             8515 ; 7    |
                             8516 ; 8    |
                             8517 ; 9    |
                             8518 ; 10   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8519 ; 11   |
                             8520 ; 12   |//   SYSTEM STMP Registers 
                             8521 ; 13   |//      Last Edited 7.17.2003 M. Henson
                             8522 ; 14   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8523 ; 15   |
                             8524 ; 16   |#define HW_CODEC_BASEADDR (0xFA00)
                             8525 ; 17   |
                             8526 ; 18   |
                             8527 ; 19   |
                             8528 ; 20   |
                             8529 ; 21   |
                             8530 ; 22   |
                             8531 ; 23   |/////////////////////////////////////////////////////////////////////////////////
                             8532 ; 24   |//   Headphone Control Register (HW_HPCTRL) Bit Definitions
                             8533 ; 25   |#define HW_HPCTRL_TESTIALL_BITPOS 0
                             8534 ; 26   |#define HW_HPCTRL_TESTI1_BITPOS 2
                             8535 ; 27   |#define HW_HPCTRL_POP0_BITPOS 4
                             8536 ; 28   |#define HW_HPCTRL_POP1_BITPOS 5
                             8537 ; 29   |#define HW_HPCTRL_POP2_BITPOS 6
                             8538 ; 30   |#define HW_HPCTRL_RSVD0_BITPOS 7
                             8539 ; 31   |#define HW_HPCTRL_HPPWD_BITPOS 8
                             8540 ; 32   |#define HW_HPCTRL_HPCLASSAB_BITPOS 9
                             8541 ; 33   |#define HW_HPCTRL_CAPLESS_BITPOS 10
                             8542 ; 34   |#define HW_HPCTRL_RSRVD1_BITPOS 11
                             8543 ; 35   |#define HW_HPCTRL_SHORTMODE_LR_BITPOS 12
                             8544 ; 36   |#define HW_HPCTRL_SHORTMODE_CM_BITPOS 14
                             8545 ; 37   |#define HW_HPCTRL_SHORT_LVLADJ_BITPOS 16
                             8546 ; 38   |#define HW_HPCTRL_RSRVD2_BITPOS 19
                             8547 ; 39   |#define HW_HPCTRL_CHOP_CLK_BITPOS 20
                             8548 ; 40   |#define HW_HPCTRL_SHORT_LR_BITPOS 22
                             8549 ; 41   |#define HW_HPCTRL_SHORT_CM_BITPOS 23
                             8550 ; 42   |
                             8551 ; 43   |#define HW_HPCTRL_TESTIALL_WIDTH 2
                             8552 ; 44   |#define HW_HPCTRL_TESTI1_WIDTH 2
                             8553 ; 45   |#define HW_HPCTRL_POP0_WIDTH 1
                             8554 ; 46   |#define HW_HPCTRL_POP1_WIDTH 1
                             8555 ; 47   |#define HW_HPCTRL_POP2_WIDTH 1
                             8556 ; 48   |#define HW_HPCTRL_RSVD0_WIDTH 1
                             8557 ; 49   |#define HW_HPCTRL_HPPWD_WIDTH 1
                             8558 ; 50   |#define HW_HPCTRL_HPCLASSAB_WIDTH 1
                             8559 ; 51   |#define HW_HPCTRL_CAPLESS_WIDTH 1
                             8560 ; 52   |#define HW_HPCTRL_RSRVD1_WIDTH 1
                             8561 ; 53   |#define HW_HPCTRL_SHORTMODE_LR_WIDTH 2
                             8562 ; 54   |#define HW_HPCTRL_SHORTMODE_CM_WIDTH 2
                             8563 ; 55   |#define HW_HPCTRL_SHORT_LVLADJ_WIDTH 3
                             8564 ; 56   |#define HW_HPCTRL_RSRVD2_WIDTH 1
                             8565 ; 57   |#define HW_HPCTRL_CHOP_CLK_WIDTH 2
                             8566 ; 58   |#define HW_HPCTRL_SHORT_LR_WIDTH 1
                             8567 ; 59   |#define HW_HPCTRL_SHORT_CM_WIDTH 1
                             8568 ; 60   |
                             8569 ; 61   |#define HW_HPCTRL_POP_SETMASK 0x7<<HW_HPCTRL_POP0_BITPOS
                             8570 ; 62   |#define HW_HPCTRL_POP_CLRMASK ~(WORD)HW_HPCTRL_POP_SETMASK
                             8571 ; 63   |
                             8572 ; 64   |#define HW_HPCTRL_SHORT_LVLADJ_0_25X_SETMASK 0x3<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             8573 ; 65   |#define HW_HPCTRL_SHORT_LVLADJ_0_50X_SETMASK 0x2<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             8574 ; 66   |#define HW_HPCTRL_SHORT_LVLADJ_0_75X_SETMASK 0x1<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             8575 ; 67   |#define HW_HPCTRL_SHORT_LVLADJ_1_00X_SETMASK 0x0<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             8576 ; 68   |#define HW_HPCTRL_SHORT_LVLADJ_1_25X_SETMASK 0x4<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             8577 ; 69   |#define HW_HPCTRL_SHORT_LVLADJ_1_50X_SETMASK 0x5<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             8578 ; 70   |#define HW_HPCTRL_SHORT_LVLADJ_1_75X_SETMASK 0x6<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             8579 ; 71   |#define HW_HPCTRL_SHORT_LVLADJ_2_00X_SETMASK 0x7<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             8580 ; 72   |
                             8581 ; 73   |#if defined(CAPLESS_HP)
                             8582 ; 74   |#define HP_SHORT_TRIP_POINT HW_HPCTRL_SHORT_LVLADJ_0_75X_SETMASK
                             8583 ; 75   |#else 
                             8584 ; 76   |#define HP_SHORT_TRIP_POINT HW_HPCTRL_SHORT_LVLADJ_1_00X_SETMASK
                             8585 ; 77   |#endif
                             8586 ; 78   |
                             8587 ; 79   |// Headphone control register
                             8588 ; 80   |#define HW_HPCTRL (*(volatile hpctrl_type _X*)(HW_GLUE_BASEADDR+21))
                             8589 ; 81   |/////////////////////////////////////////////////////////////////////////////////
                             8590 ; 82   |//   Headphone Conrol Volume Register (HW_HPCTRL) Bit Definitions
                             8591 ; 83   |typedef union               
                             8592 ; 84   |{
                             8593 ; 85   |    struct {
                             8594 ; 86   |        unsigned TESTIALL :HW_HPCTRL_TESTIALL_WIDTH;
                             8595 ; 87   |        unsigned TESTI1 :HW_HPCTRL_TESTI1_WIDTH;
                             8596 ; 88   |        unsigned POP0 :HW_HPCTRL_POP0_WIDTH; 
                             8597 ; 89   |        unsigned POP1 :HW_HPCTRL_POP1_WIDTH; 
                             8598 ; 90   |        unsigned POP2 :HW_HPCTRL_POP2_WIDTH; 
                             8599 ; 91   |        unsigned RSVD0 :HW_HPCTRL_RSVD0_WIDTH;
                             8600 ; 92   |        unsigned HPPWD :HW_HPCTRL_HPPWD_WIDTH;
                             8601 ; 93   |        unsigned HPCLASSAB :HW_HPCTRL_HPCLASSAB_WIDTH;
                             8602 ; 94   |        unsigned CAPLESS :HW_HPCTRL_CAPLESS_WIDTH; 
                             8603 ; 95   |        unsigned RSRVD1 :HW_HPCTRL_RSRVD1_WIDTH;
                             8604 ; 96   |        unsigned SHORTMODE_LR :HW_HPCTRL_SHORTMODE_LR_WIDTH; 
                             8605 ; 97   |        unsigned SHORTMODE_CM :HW_HPCTRL_SHORTMODE_CM_WIDTH;
                             8606 ; 98   |        unsigned SHORT_LVLADJ :HW_HPCTRL_SHORT_LVLADJ_WIDTH; 
                             8607 ; 99   |        unsigned RSRVD2 :HW_HPCTRL_RSRVD2_WIDTH;
                             8608 ; 100  |        unsigned CHOP_CLK :HW_HPCTRL_CHOP_CLK_WIDTH; 
                             8609 ; 101  |        unsigned SHORT_LR :HW_HPCTRL_SHORT_LR_WIDTH;
                             8610 ; 102  |        unsigned SHORT_CM :HW_HPCTRL_SHORT_CM_WIDTH;
                             8611 ; 103  |    } B;
                             8612 ; 104  |    int I;
                             8613 ; 105  |    unsigned int U;
                             8614 ; 106  |} hpctrl_type;
                             8615 ; 107  |// Headphone control short mode 2 bit values for above short bitfield.
                             8616 ; 108  |#define HW_AUTO_HEADAMP_SHUTDOWN_HOLD_RESET   0
                             8617 ; 109  |#define HW_AUTO_HEADAMP_SHUTDOWN_EN           1 
                             8618 ; 110  |#define HW_AUTO_HEADAMP_SHUTDOWN_DIS          2
                             8619 ; 111  |#define HW_AUTO_HEADAMP_SHUTDOWN_DIRECT       3
                             8620 ; 112  |
                             8621 ; 113  |
                             8622 ; 114  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  35

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8623 ; 115  |/////////////////////////////////////////////////////////////////////////////////
                             8624 ; 116  |/////////////////////////////////////////////////////////////////////////////////
                             8625 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                             8626 ; 118  |///////   MIXER REGISTERS ///////////////////////////////////////////////////////
                             8627 ; 119  |/////////////////////////////////////////////////////////////////////////////////
                             8628 ; 120  |/////////////////////////////////////////////////////////////////////////////////
                             8629 ; 121  |/////////////////////////////////////////////////////////////////////////////////
                             8630 ; 122  |
                             8631 ; 123  |
                             8632 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                             8633 ; 125  |//   Codec/Mixer Test Register (HW_MIXTBR) Bit Definitions 
                             8634 ; 126  |#define HW_MIXTBR_INV_USB_CLK_BITPOS 0
                             8635 ; 127  |#define HW_MIXTBR_USB_DFF_BYPASS_BITPOS 1
                             8636 ; 128  |#define HW_MIXTBR_HOLD_GND_BITPOS 2
                             8637 ; 129  |#define HW_MIXTBR_ACKI_BITPOS 3
                             8638 ; 130  |#define HW_MIXTBR_ASD2X_BITPOS 4
                             8639 ; 131  |#define HW_MIXTBR_PCPCU_BITPOS 5
                             8640 ; 132  |#define HW_MIXTBR_PCPCD_BITPOS 6
                             8641 ; 133  |#define HW_MIXTBR_DCKI_BITPOS 7
                             8642 ; 134  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_BITPOS 8
                             8643 ; 135  |#define HW_MIXTBR_PSRN_BITPOS 9
                             8644 ; 136  |#define HW_MIXTBR_FX2_BITPOS 10
                             8645 ; 137  |#define HW_MIXTBR_VCOS_BITPOS 11
                             8646 ; 138  |#define HW_MIXTBR_XBCO_BITPOS 12
                             8647 ; 139  |#define HW_MIXTBR_XBGC_BITPOS 13
                             8648 ; 140  |#define HW_MIXTBR_ADTHD_BITPOS 14
                             8649 ; 141  |#define HW_MIXTBR_MICBIAS_LSBITPOS 15
                             8650 ; 142  |#define HW_MIXTBR_PWDADC_BITPOS 16
                             8651 ; 143  |#define HW_MIXTBR_MICBIAS1_BITPOS 17
                             8652 ; 144  |#define HW_MIXTBR_EZD_BITPOS 18
                             8653 ; 145  |#define HW_MIXTBR_DZCDA_BITPOS 19
                             8654 ; 146  |#define HW_MIXTBR_DZCFM_BITPOS 20
                             8655 ; 147  |#define HW_MIXTBR_DZCLI_BITPOS 21
                             8656 ; 148  |#define HW_MIXTBR_DZCMI_BITPOS 22
                             8657 ; 149  |#define HW_MIXTBR_DZCMA_BITPOS 23
                             8658 ; 150  |
                             8659 ; 151  |#define HW_MIXTBR_INV_USB_CLK_WIDTH (1)
                             8660 ; 152  |#define HW_MIXTBR_USB_DFF_BYPASS_WIDTH (1)
                             8661 ; 153  |#define HW_MIXTBR_HOLD_GND_WIDTH (1)
                             8662 ; 154  |#define HW_MIXTBR_ACKI_WIDTH (1)
                             8663 ; 155  |#define HW_MIXTBR_ASD2X_WIDTH (1)
                             8664 ; 156  |#define HW_MIXTBR_PCPCU_WIDTH (1)
                             8665 ; 157  |#define HW_MIXTBR_PCPCD_WIDTH (1)
                             8666 ; 158  |#define HW_MIXTBR_DCKI_WIDTH (1)
                             8667 ; 159  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_WIDTH (1)
                             8668 ; 160  |#define HW_MIXTBR_PSRN_WIDTH (1)
                             8669 ; 161  |#define HW_MIXTBR_FX2_WIDTH (1)
                             8670 ; 162  |#define HW_MIXTBR_VCOS_WIDTH (1)
                             8671 ; 163  |#define HW_MIXTBR_XBCO_WIDTH (1)
                             8672 ; 164  |#define HW_MIXTBR_XBGC_WIDTH (1)
                             8673 ; 165  |#define HW_MIXTBR_ADTHD_WIDTH (1)
                             8674 ; 166  |#define HW_MIXTBR_MICBIAS_LSWIDTH (1)
                             8675 ; 167  |#define HW_MIXTBR_PWDADC_WIDTH (1)
                             8676 ; 168  |#define HW_MIXTBR_MICBIAS1_WIDTH (1)
                             8677 ; 169  |#define HW_MIXTBR_EZD_WIDTH (1)
                             8678 ; 170  |#define HW_MIXTBR_DZCDA_WIDTH (1)
                             8679 ; 171  |#define HW_MIXTBR_DZCFM_WIDTH (1)
                             8680 ; 172  |#define HW_MIXTBR_DZCLI_WIDTH (1)
                             8681 ; 173  |#define HW_MIXTBR_DZCMI_WIDTH (1)
                             8682 ; 174  |#define HW_MIXTBR_DZCMA_WIDTH (1)
                             8683 ; 175  |
                             8684 ; 176  |
                             8685 ; 177  |#define HW_MIXTBR_INV_USB_CLK_SETMASK 1<<HW_MIXTBR_INV_USB_CLK_BITPOS
                             8686 ; 178  |#define HW_MIXTBR_USB_DFF_BYPASS_SETMASK 1<<HW_MIXTBR_USB_DFF_BYPASS_BITPOS
                             8687 ; 179  |#define HW_MIXTBR_HOLD_GND_SETMASK 1<<HW_MIXTBR_HOLD_GND_BITPOS
                             8688 ; 180  |#define HW_MIXTBR_ACKI_SETMASK 1<<HW_MIXTBR_ACKI_BITPOS
                             8689 ; 181  |#define HW_MIXTBR_ASD2X_SETMASK 1<<HW_MIXTBR_ASD2X_BITPOS
                             8690 ; 182  |#define HW_MIXTBR_PCPCU_SETMASK 1<<HW_MIXTBR_PCPCU_BITPOS
                             8691 ; 183  |#define HW_MIXTBR_PCPCD_SETMASK 1<<HW_MIXTBR_PCPCD_BITPOS
                             8692 ; 184  |#define HW_MIXTBR_DCKI_SETMASK 1<<HW_MIXTBR_DCKI_BITPOS
                             8693 ; 185  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_SETMASK 1<<HW_MIXTBR_MIC_BIAS_OUT_SEL_BITPOS
                             8694 ; 186  |#define HW_MIXTBR_PSRN_SETMASK 1<<HW_MIXTBR_PSRN_BITPOS
                             8695 ; 187  |#define HW_MIXTBR_FX2_SETMASK 1<<HW_MIXTBR_FX2_BITPOS
                             8696 ; 188  |#define HW_MIXTBR_VCOS_SETMASK 1<<HW_MIXTBR_VCOS_BITPOS
                             8697 ; 189  |#define HW_MIXTBR_XBCO_SETMASK 1<<HW_MIXTBR_XBCO_BITPOS
                             8698 ; 190  |#define HW_MIXTBR_XBGC_SETMASK 1<<HW_MIXTBR_XBGC_BITPOS
                             8699 ; 191  |#define HW_MIXTBR_ADTHD_SETMASK 1<<HW_MIXTBR_ADTHD_BITPOS
                             8700 ; 192  |#define HW_MIXTBR_MICBIAS_LSSETMASK 1<<HW_MIXTBR_MICBIAS_LSBITPOS
                             8701 ; 193  |#define HW_MIXTBR_PWDADC_SETMASK 1<<HW_MIXTBR_PWDADC_BITPOS
                             8702 ; 194  |#define HW_MIXTBR_MICBIAS1_SETMASK 1<<HW_MIXTBR_MICBIAS1_BITPOS
                             8703 ; 195  |#define HW_MIXTBR_EZD_SETMASK 1<<HW_MIXTBR_EZD_BITPOS
                             8704 ; 196  |#define HW_MIXTBR_DZCDA_SETMASK 1<<HW_MIXTBR_DZCDA_BITPOS
                             8705 ; 197  |#define HW_MIXTBR_DZCFM_SETMASK 1<<HW_MIXTBR_DZCFM_BITPOS
                             8706 ; 198  |#define HW_MIXTBR_DZCLI_SETMASK 1<<HW_MIXTBR_DZCLI_BITPOS
                             8707 ; 199  |#define HW_MIXTBR_DZCMI_SETMASK 1<<HW_MIXTBR_DZCMI_BITPOS
                             8708 ; 200  |#define HW_MIXTBR_DZCMA_SETMASK 1<<HW_MIXTBR_DZCMA_BITPOS
                             8709 ; 201  |
                             8710 ; 202  |#define HW_MIXTBR_INV_USB_CLK_CLRMASK ~(WORD)HW_MIXTBR_INV_USB_CLK_SETMASK
                             8711 ; 203  |#define HW_MIXTBR_USB_DFF_BYPASS_CLRMASK ~(WORD)HW_MIXTBR_USB_DFF_BYPASS_SETMASK
                             8712 ; 204  |#define HW_MIXTBR_HOLD_GND_CLRMASK ~(WORD)HW_MIXTBR_HOLD_GND_SETMASK
                             8713 ; 205  |#define HW_MIXTBR_ACKI_CLRMASK ~(WORD)HW_MIXTBR_ACKI_SETMASK
                             8714 ; 206  |#define HW_MIXTBR_ASD2X_CLRMASK ~(WORD)HW_MIXTBR_ASD2X_SETMASK
                             8715 ; 207  |#define HW_MIXTBR_PCPCU_CLRMASK ~(WORD)HW_MIXTBR_PCPCU_SETMASK
                             8716 ; 208  |#define HW_MIXTBR_PCPCD_CLRMASK ~(WORD)HW_MIXTBR_PCPCD_SETMASK
                             8717 ; 209  |#define HW_MIXTBR_DCKI_CLRMASK ~(WORD)HW_MIXTBR_DCKI_SETMASK
                             8718 ; 210  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_CLRMASK ~(WORD)HW_MIXTBR_MIC_BIAS_OUT_SEL_SETMASK
                             8719 ; 211  |#define HW_MIXTBR_PSRN_CLRMASK ~(WORD)HW_MIXTBR_PSRN_SETMASK
                             8720 ; 212  |#define HW_MIXTBR_FX2_CLRMASK ~(WORD)HW_MIXTBR_FX2_SETMASK
                             8721 ; 213  |#define HW_MIXTBR_VCOS_CLRMASK ~(WORD)HW_MIXTBR_VCOS_SETMASK
                             8722 ; 214  |#define HW_MIXTBR_XBCO_CLRMASK ~(WORD)HW_MIXTBR_XBCO_SETMASK
                             8723 ; 215  |#define HW_MIXTBR_XBGC_CLRMASK ~(WORD)HW_MIXTBR_XBGC_SETMASK
                             8724 ; 216  |#define HW_MIXTBR_ADTHD_CLRMASK ~(WORD)HW_MIXTBR_ADTHD_SETMASK
                             8725 ; 217  |#define HW_MIXTBR_MICBIAS_LSCLRMASK ~(WORD)HW_MIXTBR_MICBIAS_LSSETMASK
                             8726 ; 218  |#define HW_MIXTBR_PWDADC_CLRMASK ~(WORD)HW_MIXTBR_PWDADC_SETMASK
                             8727 ; 219  |#define HW_MIXTBR_MICBIAS1_CLRMASK ~(WORD)HW_MIXTBR_MICBIAS1_SETMASK
                             8728 ; 220  |#define HW_MIXTBR_EZD_CLRMASK ~(WORD)HW_MIXTBR_EZD_SETMASK
                             8729 ; 221  |#define HW_MIXTBR_DZCDA_CLRMASK ~(WORD)HW_MIXTBR_DZCDA_SETMASK
                             8730 ; 222  |#define HW_MIXTBR_DZCFM_CLRMASK ~(WORD)HW_MIXTBR_DZCFM_SETMASK
                             8731 ; 223  |#define HW_MIXTBR_DZCLI_CLRMASK ~(WORD)HW_MIXTBR_DZCLI_SETMASK
                             8732 ; 224  |#define HW_MIXTBR_DZCMI_CLRMASK ~(WORD)HW_MIXTBR_DZCMI_SETMASK
                             8733 ; 225  |#define HW_MIXTBR_DZCMA_CLRMASK ~(WORD)HW_MIXTBR_DZCMA_SETMASK
                             8734 ; 226  |
                             8735 ; 227  |typedef union               
                             8736 ; 228  |{
                             8737 ; 229  |    struct {
                             8738 ; 230  |        int INV_USB_CLK            : 1;
                             8739 ; 231  |        int USB_DFF_BYPASS         : 1;
                             8740 ; 232  |        int HOLD_GND               : 1;
                             8741 ; 233  |        int ACKI                   : 1;
                             8742 ; 234  |        int ASD2X                  : 1;
                             8743 ; 235  |        int PCPCU                  : 1;
                             8744 ; 236  |        int PCPCD                  : 1;
                             8745 ; 237  |        int DCKI                   : 1;
                             8746 ; 238  |        int MIC_BIAS_OUT_SEL       : 1;
                             8747 ; 239  |        int PSRN                   : 1;
                             8748 ; 240  |        int FX2                    : 1;
                             8749 ; 241  |        int VCOS                   : 1;
                             8750 ; 242  |        int XBCO                   : 1;
                             8751 ; 243  |        int XBGC                   : 1;
                             8752 ; 244  |        int ADTHD                  : 1;
                             8753 ; 245  |        int MICBIAS_LSBITPOS       : 1;
                             8754 ; 246  |        int PWDADC                 : 1;
                             8755 ; 247  |        int MICBIAS1               : 1;
                             8756 ; 248  |        int EZD                    : 1;
                             8757 ; 249  |        int DZCDA                  : 1;
                             8758 ; 250  |        int DZCFM                  : 1;
                             8759 ; 251  |        int DZCLI                  : 1;
                             8760 ; 252  |        int DZCMI                  : 1;
                             8761 ; 253  |        int DZCMA                  : 1;
                             8762 ; 254  |    } B;
                             8763 ; 255  |    int I;
                             8764 ; 256  |    unsigned int U;
                             8765 ; 257  |} mix_tbr_type;
                             8766 ; 258  |#define HW_MIXTBR      (*(volatile mix_tbr_type _X*) (HW_CODEC_BASEADDR+3))
                             8767 ; 259  |
                             8768 ; 260  |
                             8769 ; 261  |/////////////////////////////////////////////////////////////////////////////////
                             8770 ; 262  |//   Generic Volume Register (HW_MIXMASTERVR) Bit Definitions
                             8771 ; 263  |#define HW_MIXVOLUMER_MR_BITPOS 0
                             8772 ; 264  |#define HW_MIXVOLUMER_ML_BITPOS 8
                             8773 ; 265  |#define HW_MIXVOLUMER_MUTE_BITPOS 15
                             8774 ; 266  |
                             8775 ; 267  |#define HW_MIXVOLUMER_MR_WIDTH (5)
                             8776 ; 268  |#define HW_MIXVOLUMER_ML_WIDTH (5)
                             8777 ; 269  |#define HW_MIXVOLUMER_MUTE_WIDTH 1
                             8778 ; 270  |
                             8779 ; 271  |#define HW_MIXVOLUMER_MR_SETMASK 0x1F<<HW_MIXVOLUMER_MR_BITPOS
                             8780 ; 272  |#define HW_MIXVOLUMER_ML_SETMASK 0x1F<<HW_MIXVOLUMER_ML_BITPOS
                             8781 ; 273  |#define HW_MIXVOLUMER_MUTE_SETMASK 1<<HW_MIXVOLUMER_MUTE_BITPOS
                             8782 ; 274  |
                             8783 ; 275  |#define HW_MIXVOLUMER_MR_CLRMASK ~(WORD)HW_MIXVOLUMER_MR_SETMASK
                             8784 ; 276  |#define HW_MIXVOLUMER_ML_CLRMASK ~(WORD)HW_MIXVOLUMER_ML_SETMASK
                             8785 ; 277  |#define HW_MIXVOLUMER_MUTE_CLRMASK ~(WORD)HW_MIXVOLUMER_MUTE_SETMASK
                             8786 ; 278  |
                             8787 ; 279  |#define HW_MIXVOLUMER_ML_PLUS_12P0_SETMASK 0<<HW_MIXVOLUMER_ML_BITPOS
                             8788 ; 280  |#define HW_MIXVOLUMER_ML_PLUS_10P5_SETMASK 1<<HW_MIXVOLUMER_ML_BITPOS
                             8789 ; 281  |#define HW_MIXVOLUMER_ML_PLUS_09P0_SETMASK 2<<HW_MIXVOLUMER_ML_BITPOS
                             8790 ; 282  |#define HW_MIXVOLUMER_ML_PLUS_07P5_SETMASK 3<<HW_MIXVOLUMER_ML_BITPOS
                             8791 ; 283  |#define HW_MIXVOLUMER_ML_PLUS_06P0_SETMASK 4<<HW_MIXVOLUMER_ML_BITPOS
                             8792 ; 284  |#define HW_MIXVOLUMER_ML_PLUS_04P5_SETMASK 5<<HW_MIXVOLUMER_ML_BITPOS
                             8793 ; 285  |#define HW_MIXVOLUMER_ML_PLUS_03P0_SETMASK 6<<HW_MIXVOLUMER_ML_BITPOS
                             8794 ; 286  |#define HW_MIXVOLUMER_ML_PLUS_01P5_SETMASK 7<<HW_MIXVOLUMER_ML_BITPOS
                             8795 ; 287  |#define HW_MIXVOLUMER_ML_ZERO_SETMASK 8<<HW_MIXVOLUMER_ML_BITPOS
                             8796 ; 288  |#define HW_MIXVOLUMER_ML_MINUS_01P5_SETMASK 9<<HW_MIXVOLUMER_ML_BITPOS
                             8797 ; 289  |#define HW_MIXVOLUMER_ML_MINUS_03P0_SETMASK 10<<HW_MIXVOLUMER_ML_BITPOS
                             8798 ; 290  |#define HW_MIXVOLUMER_ML_MINUS_04P5_SETMASK 11<<HW_MIXVOLUMER_ML_BITPOS
                             8799 ; 291  |#define HW_MIXVOLUMER_ML_MINUS_06P0_SETMASK 12<<HW_MIXVOLUMER_ML_BITPOS
                             8800 ; 292  |#define HW_MIXVOLUMER_ML_MINUS_07P5_SETMASK 13<<HW_MIXVOLUMER_ML_BITPOS
                             8801 ; 293  |#define HW_MIXVOLUMER_ML_MINUS_09P0_SETMASK 14<<HW_MIXVOLUMER_ML_BITPOS
                             8802 ; 294  |#define HW_MIXVOLUMER_ML_MINUS_10P5_SETMASK 15<<HW_MIXVOLUMER_ML_BITPOS
                             8803 ; 295  |#define HW_MIXVOLUMER_ML_MINUS_12P0_SETMASK 16<<HW_MIXVOLUMER_ML_BITPOS
                             8804 ; 296  |#define HW_MIXVOLUMER_ML_MINUS_13P5_SETMASK 17<<HW_MIXVOLUMER_ML_BITPOS
                             8805 ; 297  |#define HW_MIXVOLUMER_ML_MINUS_15P0_SETMASK 18<<HW_MIXVOLUMER_ML_BITPOS
                             8806 ; 298  |#define HW_MIXVOLUMER_ML_MINUS_16P5_SETMASK 19<<HW_MIXVOLUMER_ML_BITPOS
                             8807 ; 299  |#define HW_MIXVOLUMER_ML_MINUS_18P0_SETMASK 20<<HW_MIXVOLUMER_ML_BITPOS
                             8808 ; 300  |#define HW_MIXVOLUMER_ML_MINUS_19P5_SETMASK 21<<HW_MIXVOLUMER_ML_BITPOS
                             8809 ; 301  |#define HW_MIXVOLUMER_ML_MINUS_21P0_SETMASK 22<<HW_MIXVOLUMER_ML_BITPOS
                             8810 ; 302  |#define HW_MIXVOLUMER_ML_MINUS_22P5_SETMASK 23<<HW_MIXVOLUMER_ML_BITPOS
                             8811 ; 303  |#define HW_MIXVOLUMER_ML_MINUS_24P0_SETMASK 24<<HW_MIXVOLUMER_ML_BITPOS
                             8812 ; 304  |#define HW_MIXVOLUMER_ML_MINUS_25P5_SETMASK 25<<HW_MIXVOLUMER_ML_BITPOS
                             8813 ; 305  |#define HW_MIXVOLUMER_ML_MINUS_27P0_SETMASK 26<<HW_MIXVOLUMER_ML_BITPOS
                             8814 ; 306  |#define HW_MIXVOLUMER_ML_MINUS_28P5_SETMASK 27<<HW_MIXVOLUMER_ML_BITPOS
                             8815 ; 307  |#define HW_MIXVOLUMER_ML_MINUS_30P0_SETMASK 28<<HW_MIXVOLUMER_ML_BITPOS
                             8816 ; 308  |#define HW_MIXVOLUMER_ML_MINUS_31P5_SETMASK 29<<HW_MIXVOLUMER_ML_BITPOS
                             8817 ; 309  |#define HW_MIXVOLUMER_ML_MINUS_33P0_SETMASK 30<<HW_MIXVOLUMER_ML_BITPOS
                             8818 ; 310  |#define HW_MIXVOLUMER_ML_MINUS_34P5_SETMASK 31<<HW_MIXVOLUMER_ML_BITPOS
                             8819 ; 311  |
                             8820 ; 312  |#define HW_MIXVOLUMER_MR_PLUS_12P0_SETMASK 0
                             8821 ; 313  |#define HW_MIXVOLUMER_MR_PLUS_10P5_SETMASK 1
                             8822 ; 314  |#define HW_MIXVOLUMER_MR_PLUS_09P0_SETMASK 2
                             8823 ; 315  |#define HW_MIXVOLUMER_MR_PLUS_07P5_SETMASK 3
                             8824 ; 316  |#define HW_MIXVOLUMER_MR_PLUS_06P0_SETMASK 4
                             8825 ; 317  |#define HW_MIXVOLUMER_MR_PLUS_04P5_SETMASK 5
                             8826 ; 318  |#define HW_MIXVOLUMER_MR_PLUS_03P0_SETMASK 6
                             8827 ; 319  |#define HW_MIXVOLUMER_MR_PLUS_01P5_SETMASK 7
                             8828 ; 320  |#define HW_MIXVOLUMER_MR_ZERO_SETMASK 8
                             8829 ; 321  |#define HW_MIXVOLUMER_MR_MINUS_01P5_SETMASK 9
                             8830 ; 322  |#define HW_MIXVOLUMER_MR_MINUS_03P0_SETMASK 10
                             8831 ; 323  |#define HW_MIXVOLUMER_MR_MINUS_04P5_SETMASK 11
                             8832 ; 324  |#define HW_MIXVOLUMER_MR_MINUS_06P0_SETMASK 12
                             8833 ; 325  |#define HW_MIXVOLUMER_MR_MINUS_07P5_SETMASK 13
                             8834 ; 326  |#define HW_MIXVOLUMER_MR_MINUS_09P0_SETMASK 14
                             8835 ; 327  |#define HW_MIXVOLUMER_MR_MINUS_10P5_SETMASK 15
                             8836 ; 328  |#define HW_MIXVOLUMER_MR_MINUS_12P0_SETMASK 16
                             8837 ; 329  |#define HW_MIXVOLUMER_MR_MINUS_13P5_SETMASK 17
                             8838 ; 330  |#define HW_MIXVOLUMER_MR_MINUS_15P0_SETMASK 18
                             8839 ; 331  |#define HW_MIXVOLUMER_MR_MINUS_16P5_SETMASK 19
                             8840 ; 332  |#define HW_MIXVOLUMER_MR_MINUS_18P0_SETMASK 20
                             8841 ; 333  |#define HW_MIXVOLUMER_MR_MINUS_19P5_SETMASK 21
                             8842 ; 334  |#define HW_MIXVOLUMER_MR_MINUS_21P0_SETMASK 22
                             8843 ; 335  |#define HW_MIXVOLUMER_MR_MINUS_22P5_SETMASK 23
                             8844 ; 336  |#define HW_MIXVOLUMER_MR_MINUS_24P0_SETMASK 24
                             8845 ; 337  |#define HW_MIXVOLUMER_MR_MINUS_25P5_SETMASK 25
                             8846 ; 338  |#define HW_MIXVOLUMER_MR_MINUS_27P0_SETMASK 26
                             8847 ; 339  |#define HW_MIXVOLUMER_MR_MINUS_28P5_SETMASK 27
                             8848 ; 340  |#define HW_MIXVOLUMER_MR_MINUS_30P0_SETMASK 28
                             8849 ; 341  |#define HW_MIXVOLUMER_MR_MINUS_31P5_SETMASK 29
                             8850 ; 342  |#define HW_MIXVOLUMER_MR_MINUS_33P0_SETMASK 30
                             8851 ; 343  |#define HW_MIXVOLUMER_MR_MINUS_34P5_SETMASK 31
                             8852 ; 344  |
                             8853 ; 345  |/////////////////////////////////////////////////////////////////////////////////
                             8854 ; 346  |//   Mixer Master Volume Register (HW_MIXMASTERVR) Bit Definitions
                             8855 ; 347  |#define HW_MIXMASTERVR_MR_BITPOS 0
                             8856 ; 348  |#define HW_MIXMASTERVR_ML_BITPOS 8
                             8857 ; 349  |#define HW_MIXMASTERVR_MUTE_BITPOS 15
                             8858 ; 350  |
                             8859 ; 351  |#define HW_MIXMASTERVR_MR_WIDTH (5)
                             8860 ; 352  |#define HW_MIXMASTERVR_ML_WIDTH (5)
                             8861 ; 353  |#define HW_MIXMASTERVR_MUTE_WIDTH (1)
                             8862 ; 354  |
                             8863 ; 355  |#define HW_MIXMASTERVR_MR_SETMASK 0x1F<<HW_MIXMASTERVR_MR_BITPOS
                             8864 ; 356  |#define HW_MIXMASTERVR_ML_SETMASK 0x1F<<HW_MIXMASTERVR_ML_BITPOS
                             8865 ; 357  |#define HW_MIXMASTERVR_MUTE_SETMASK 1<<HW_MIXMASTERVR_MUTE_BITPOS
                             8866 ; 358  |
                             8867 ; 359  |#define HW_MIXMASTERVR_MR_CLRMASK ~(WORD)HW_MIXMASTERVR_MR_SETMASK
                             8868 ; 360  |#define HW_MIXMASTERVR_ML_CLRMASK ~(WORD)HW_MIXMASTERVR_ML_SETMASK
                             8869 ; 361  |#define HW_MIXMASTERVR_MUTE_CLRMASK ~(WORD)HW_MIXMASTERVR_MUTE_SETMASK
                             8870 ; 362  |
                             8871 ; 363  |
                             8872 ; 364  |typedef union               
                             8873 ; 365  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  36

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8874 ; 366  |    struct
                             8875 ; 367  |    {
                             8876 ; 368  |        unsigned MR :5;
                             8877 ; 369  |        int         :3;
                             8878 ; 370  |        unsigned ML :5;
                             8879 ; 371  |        int         :2;
                             8880 ; 372  |        int MUTE    :1;
                             8881 ; 373  |    } B;
                             8882 ; 374  |    int I;
                             8883 ; 375  |    unsigned int U;
                             8884 ; 376  |} mix_mastervr_type;
                             8885 ; 377  |#define HW_MIXMASTERVR (*(volatile mix_mastervr_type _X*) (HW_CODEC_BASEADDR+4))
                             8886 ; 378  |
                             8887 ; 379  |
                             8888 ; 380  |/////////////////////////////////////////////////////////////////////////////////
                             8889 ; 381  |//   Mixer Mic In Volume Register (HW_MIXMICINVR) Bit Definitions
                             8890 ; 382  |#define HW_MIXMICINVR_GN_BITPOS 0
                             8891 ; 383  |#define HW_MIXMICINVR_P20DB_BITPOS 6
                             8892 ; 384  |#define HW_MIXMICINVR_MUTE_BITPOS 15
                             8893 ; 385  |
                             8894 ; 386  |#define HW_MIXMICINVR_GN_WIDTH 5
                             8895 ; 387  |#define HW_MIXMICINVR_RSVD1_WIDTH 1
                             8896 ; 388  |#define HW_MIXMICINVR_P20DB_WIDTH 1
                             8897 ; 389  |#define HW_MIXMICINVR_RSVD2_WIDTH 8
                             8898 ; 390  |#define HW_MIXMICINVR_MUTE_WIDTH 1
                             8899 ; 391  |#define HW_MIXMICINVR_RSVD3_WIDTH 8
                             8900 ; 392  |
                             8901 ; 393  |#define HW_MIXMICINVR_GN_SETMASK 0x1F<<HW_MIXMICINVR_GN_BITPOS
                             8902 ; 394  |#define HW_MIXMICINVR_P20DB_SETMASK 1<<HW_MIXMICINVR_P20DB_BITPOS
                             8903 ; 395  |#define HW_MIXMICINVR_MUTE_SETMASK 1<<HW_MIXMICINVR_MUTE_BITPOS
                             8904 ; 396  |
                             8905 ; 397  |#define HW_MIXMICINVR_GN_CLRMASK ~(WORD)HW_MIXMICINVR_GN_SETMASK
                             8906 ; 398  |#define HW_MIXMICINVR_P20DB_CLRMASK ~(WORD)HW_MIXMICINVR_P20DB_SETMASK
                             8907 ; 399  |#define HW_MIXMICINVR_MUTE_CLRMASK ~(WORD)HW_MIXMICINVR_MUTE_SETMASK
                             8908 ; 400  |
                             8909 ; 401  |#define HW_MIXMICINVR_GN_PLUS_12P0_SETMASK 0
                             8910 ; 402  |#define HW_MIXMICINVR_GN_PLUS_10P5_SETMASK 1
                             8911 ; 403  |#define HW_MIXMICINVR_GN_PLUS_09P0_SETMASK 2
                             8912 ; 404  |#define HW_MIXMICINVR_GN_PLUS_07P5_SETMASK 3
                             8913 ; 405  |#define HW_MIXMICINVR_GN_PLUS_06P0_SETMASK 4
                             8914 ; 406  |#define HW_MIXMICINVR_GN_PLUS_04P5_SETMASK 5
                             8915 ; 407  |#define HW_MIXMICINVR_GN_PLUS_03P0_SETMASK 6
                             8916 ; 408  |#define HW_MIXMICINVR_GN_PLUS_01P5_SETMASK 7
                             8917 ; 409  |#define HW_MIXMICINVR_GN_ZERO_SETMASK 8
                             8918 ; 410  |#define HW_MIXMICINVR_GN_MINUS_01P5_SETMASK 9
                             8919 ; 411  |#define HW_MIXMICINVR_GN_MINUS_03P0_SETMASK 10
                             8920 ; 412  |#define HW_MIXMICINVR_GN_MINUS_04P5_SETMASK 11
                             8921 ; 413  |#define HW_MIXMICINVR_GN_MINUS_06P0_SETMASK 12
                             8922 ; 414  |#define HW_MIXMICINVR_GN_MINUS_07P5_SETMASK 13
                             8923 ; 415  |#define HW_MIXMICINVR_GN_MINUS_09P0_SETMASK 14
                             8924 ; 416  |#define HW_MIXMICINVR_GN_MINUS_10P5_SETMASK 15
                             8925 ; 417  |#define HW_MIXMICINVR_GN_MINUS_12P0_SETMASK 16
                             8926 ; 418  |#define HW_MIXMICINVR_GN_MINUS_13P5_SETMASK 17
                             8927 ; 419  |#define HW_MIXMICINVR_GN_MINUS_15P0_SETMASK 18
                             8928 ; 420  |#define HW_MIXMICINVR_GN_MINUS_16P5_SETMASK 19
                             8929 ; 421  |#define HW_MIXMICINVR_GN_MINUS_18P0_SETMASK 20
                             8930 ; 422  |#define HW_MIXMICINVR_GN_MINUS_19P5_SETMASK 21
                             8931 ; 423  |#define HW_MIXMICINVR_GN_MINUS_21P0_SETMASK 22
                             8932 ; 424  |#define HW_MIXMICINVR_GN_MINUS_22P5_SETMASK 23
                             8933 ; 425  |#define HW_MIXMICINVR_GN_MINUS_24P0_SETMASK 24
                             8934 ; 426  |#define HW_MIXMICINVR_GN_MINUS_25P5_SETMASK 25
                             8935 ; 427  |#define HW_MIXMICINVR_GN_MINUS_27P0_SETMASK 26
                             8936 ; 428  |#define HW_MIXMICINVR_GN_MINUS_28P5_SETMASK 27
                             8937 ; 429  |#define HW_MIXMICINVR_GN_MINUS_30P0_SETMASK 28
                             8938 ; 430  |#define HW_MIXMICINVR_GN_MINUS_31P5_SETMASK 29
                             8939 ; 431  |#define HW_MIXMICINVR_GN_MINUS_33P0_SETMASK 30
                             8940 ; 432  |#define HW_MIXMICINVR_GN_MINUS_34P5_SETMASK 31
                             8941 ; 433  |
                             8942 ; 434  |typedef union               
                             8943 ; 435  |{
                             8944 ; 436  |    struct {
                             8945 ; 437  |        int GN          : HW_MIXMICINVR_GN_WIDTH;
                             8946 ; 438  |        int RSVD1       : HW_MIXMICINVR_RSVD1_WIDTH;
                             8947 ; 439  |        int P20DB       : HW_MIXMICINVR_P20DB_WIDTH;
                             8948 ; 440  |        int RSVD2       : HW_MIXMICINVR_RSVD2_WIDTH;
                             8949 ; 441  |        int MUTE        : HW_MIXMICINVR_MUTE_WIDTH;
                             8950 ; 442  |        int RSVD3       : HW_MIXMICINVR_RSVD3_WIDTH;
                             8951 ; 443  |    } B;
                             8952 ; 444  |    int I;
                             8953 ; 445  |    unsigned int U;
                             8954 ; 446  |} mix_micinvr_type;
                             8955 ; 447  |#define HW_MIXMICINVR (*(volatile mix_micinvr_type _X*) (HW_CODEC_BASEADDR+5))
                             8956 ; 448  |
                             8957 ; 449  |
                             8958 ; 450  |
                             8959 ; 451  |
                             8960 ; 452  |/////////////////////////////////////////////////////////////////////////////////
                             8961 ; 453  |//   Mixer Line1 In Volume Register (HW_MIXLINE1INVR) Bit Definitions
                             8962 ; 454  |#define HW_MIXLINE1INVR_GR_BITPOS 0
                             8963 ; 455  |#define HW_MIXLINE1INVR_GL_BITPOS 8
                             8964 ; 456  |#define HW_MIXLINE1INVR_MUTE_BITPOS 15
                             8965 ; 457  |
                             8966 ; 458  |#define HW_MIXLINE1INVR_GR_WIDTH 5
                             8967 ; 459  |#define HW_MIXLINE1INVR_RSVD1_WIDTH 3
                             8968 ; 460  |#define HW_MIXLINE1INVR_GL_WIDTH 5
                             8969 ; 461  |#define HW_MIXLINE1INVR_RSVD2_WIDTH 2
                             8970 ; 462  |#define HW_MIXLINE1INVR_MUTE_WIDTH 1
                             8971 ; 463  |#define HW_MIXLINE1INVR_RSVD3_WIDTH 8
                             8972 ; 464  |
                             8973 ; 465  |#define HW_MIXLINE1INVR_GR_SETMASK 0x1F<<HW_MIXLINE1INVR_GR_BITPOS
                             8974 ; 466  |#define HW_MIXLINE1INVR_GL_SETMASK 0x1F<<HW_MIXLINE1INVR_GL_BITPOS
                             8975 ; 467  |#define HW_MIXLINE1INVR_MUTE_SETMASK 1<<HW_MIXLINE1INVR_MUTE_BITPOS
                             8976 ; 468  |
                             8977 ; 469  |#define HW_MIXLINE1INVR_GR_CLRMASK ~(WORD)HW_MIXLINE1INVR_GR_SETMASK
                             8978 ; 470  |#define HW_MIXLINE1INVR_GL_CLRMASK ~(WORD)HW_MIXLINE1INVR_GL_SETMASK
                             8979 ; 471  |#define HW_MIXLINE1INVR_MUTE_CLRMASK ~(WORD)HW_MIXLINE1INVR_MUTE_SETMASK
                             8980 ; 472  |
                             8981 ; 473  |typedef union               
                             8982 ; 474  |{
                             8983 ; 475  |    struct {
                             8984 ; 476  |        int GR          : HW_MIXLINE1INVR_GR_WIDTH;
                             8985 ; 477  |        int RSVD1       : HW_MIXLINE1INVR_RSVD1_WIDTH;
                             8986 ; 478  |        int GL          : HW_MIXLINE1INVR_GL_WIDTH;
                             8987 ; 479  |        int RSVD2       : HW_MIXLINE1INVR_RSVD2_WIDTH;
                             8988 ; 480  |        int MUTE        : HW_MIXLINE1INVR_MUTE_WIDTH;
                             8989 ; 481  |        int RSVD3       : HW_MIXLINE1INVR_RSVD3_WIDTH;
                             8990 ; 482  |    } B;
                             8991 ; 483  |    int I;
                             8992 ; 484  |    unsigned int U;
                             8993 ; 485  |} mix_line1invr_type;
                             8994 ; 486  |#define HW_MIXLINE1INVR (*(volatile mix_line1invr_type _X*) (HW_CODEC_BASEADDR+6))
                             8995 ; 487  |
                             8996 ; 488  |
                             8997 ; 489  |
                             8998 ; 490  |/////////////////////////////////////////////////////////////////////////////////
                             8999 ; 491  |//   Mixer Line2 In Volume Register (HW_MIXLINE2INVR) Bit Definitions
                             9000 ; 492  |#define HW_MIXLINE2INVR_GR_BITPOS 0
                             9001 ; 493  |#define HW_MIXLINE2INVR_GL_BITPOS 8
                             9002 ; 494  |#define HW_MIXLINE2INVR_MUTE_BITPOS 15
                             9003 ; 495  |
                             9004 ; 496  |#define HW_MIXLINE2INVR_GR_WIDTH 5
                             9005 ; 497  |#define HW_MIXLINE2INVR_RSVD1_WIDTH 3
                             9006 ; 498  |#define HW_MIXLINE2INVR_GL_WIDTH 5
                             9007 ; 499  |#define HW_MIXLINE2INVR_RSVD2_WIDTH 2
                             9008 ; 500  |#define HW_MIXLINE2INVR_MUTE_WIDTH 1
                             9009 ; 501  |#define HW_MIXLINE2INVR_RSVD3_WIDTH 8
                             9010 ; 502  |
                             9011 ; 503  |
                             9012 ; 504  |#define HW_MIXLINE2INVR_GR_SETMASK 0x1F<<HW_MIXLINE2INVR_GR_BITPOS
                             9013 ; 505  |#define HW_MIXLINE2INVR_GL_SETMASK 0x1F<<HW_MIXLINE2INVR_GL_BITPOS
                             9014 ; 506  |#define HW_MIXLINE2INVR_MUTE_SETMASK 1<<HW_MIXLINE2INVR_MUTE_BITPOS
                             9015 ; 507  |
                             9016 ; 508  |#define HW_MIXLINE2INVR_GR_CLRMASK ~(WORD)HW_MIXLINE2INVR_GR_SETMASK
                             9017 ; 509  |#define HW_MIXLINE2INVR_GL_CLRMASK ~(WORD)HW_MIXLINE2INVR_GL_SETMASK
                             9018 ; 510  |#define HW_MIXLINE2INVR_MUTE_CLRMASK ~(WORD)HW_MIXLINE2INVR_MUTE_SETMASK
                             9019 ; 511  |
                             9020 ; 512  |typedef union               
                             9021 ; 513  |{
                             9022 ; 514  |    struct {
                             9023 ; 515  |        int GR          : HW_MIXLINE2INVR_GR_WIDTH;
                             9024 ; 516  |        int RSVD1       : HW_MIXLINE2INVR_RSVD1_WIDTH;
                             9025 ; 517  |        int GL          : HW_MIXLINE2INVR_GL_WIDTH;
                             9026 ; 518  |        int RSVD2       : HW_MIXLINE2INVR_RSVD2_WIDTH;
                             9027 ; 519  |        int MUTE        : HW_MIXLINE2INVR_MUTE_WIDTH;
                             9028 ; 520  |        int RSVD3       : HW_MIXLINE2INVR_RSVD3_WIDTH;
                             9029 ; 521  |    } B;
                             9030 ; 522  |    int I;
                             9031 ; 523  |    unsigned int U;
                             9032 ; 524  |} mix_line2invr_type;
                             9033 ; 525  |#define HW_MIXLINE2INVR (*(volatile mix_line2invr_type _X*) (HW_CODEC_BASEADDR+7))
                             9034 ; 526  |
                             9035 ; 527  |
                             9036 ; 528  |
                             9037 ; 529  |/////////////////////////////////////////////////////////////////////////////////
                             9038 ; 530  |//   Mixer DAC In Volume Register (HW_MIXDACINVR) Bit Definitions
                             9039 ; 531  |#define HW_MIXDACINVR_MR_BITPOS 0
                             9040 ; 532  |#define HW_MIXDACINVR_ML_BITPOS 8
                             9041 ; 533  |#define HW_MIXDACINVR_MUTE_BITPOS 15
                             9042 ; 534  |
                             9043 ; 535  |#define HW_MIXDACINVR_MR_WIDTH (5)
                             9044 ; 536  |#define HW_MIXDACINVR_ML_WIDTH (5)
                             9045 ; 537  |#define HW_MIXDACINVR_MUTE_WIDTH (1)
                             9046 ; 538  |
                             9047 ; 539  |#define HW_MIXDACINVR_MR_SETMASK 0x1F<<HW_MIXDACINVR_MR_BITPOS
                             9048 ; 540  |#define HW_MIXDACINVR_ML_SETMASK 0x1F<<HW_MIXDACINVR_ML_BITPOS
                             9049 ; 541  |#define HW_MIXDACINVR_MUTE_SETMASK 1<<HW_MIXDACINVR_MUTE_BITPOS
                             9050 ; 542  |
                             9051 ; 543  |#define HW_MIXDACINVR_MR_CLRMASK ~(WORD)HW_MIXDACINVR_MR_SETMASK
                             9052 ; 544  |#define HW_MIXDACINVR_ML_CLRMASK ~(WORD)HW_MIXDACINVR_ML_SETMASK
                             9053 ; 545  |#define HW_MIXDACINVR_MUTE_CLRMASK ~(WORD)HW_MIXDACINVR_MUTE_SETMASK
                             9054 ; 546  |
                             9055 ; 547  |typedef union               
                             9056 ; 548  |{
                             9057 ; 549  |    struct {
                             9058 ; 550  |        int MR   : HW_MIXDACINVR_MR_WIDTH;
                             9059 ; 551  |        int ML   : HW_MIXDACINVR_ML_WIDTH;
                             9060 ; 552  |        int MUTE : HW_MIXDACINVR_MUTE_WIDTH;
                             9061 ; 553  |    } B;
                             9062 ; 554  |    int I;
                             9063 ; 555  |    unsigned int U;
                             9064 ; 556  |} mix_dacinvr_type;
                             9065 ; 557  |#define HW_MIXDACINVR (*(volatile mix_dacinvr_type _X*) (HW_CODEC_BASEADDR+8))
                             9066 ; 558  |
                             9067 ; 559  |
                             9068 ; 560  |/////////////////////////////////////////////////////////////////////////////////
                             9069 ; 561  |//   Mixer Record Select Register (HW_MIXRECSELR) Bit Definitions
                             9070 ; 562  |#define HW_MIXRECSELR_SR_BITPOS 0
                             9071 ; 563  |#define HW_MIXRECSELR_SL_BITPOS 8
                             9072 ; 564  |#define HW_MIXRECSELR_X_BITPOS 11
                             9073 ; 565  |
                             9074 ; 566  |#define HW_MIXRECSELR_SR_WIDTH 3
                             9075 ; 567  |#define HW_MIXRECSELR_RSVD1_WIDTH 5
                             9076 ; 568  |#define HW_MIXRECSELR_SL_WIDTH 3
                             9077 ; 569  |#define HW_MIXRECSELR_X_WIDTH 1
                             9078 ; 570  |#define HW_MIXRECSELR_RSVD2_WIDTH 12
                             9079 ; 571  |
                             9080 ; 572  |#define HW_MIXRECSELR_SR_SETMASK 7<<HW_MIXRECSELR_SR_BITPOS
                             9081 ; 573  |#define HW_MIXRECSELR_SL_SETMASK 7<<HW_MIXRECSELR_SL_BITPOS
                             9082 ; 574  |#define HW_MIXRECSELR_X_SETMASK 1<<HW_MIXRECSELR_X_BITPOS
                             9083 ; 575  |
                             9084 ; 576  |#define HW_MIXRECSELR_SR_MIC_SETMASK 0<<HW_MIXRECSELR_SR_BITPOS
                             9085 ; 577  |#define HW_MIXRECSELR_SR_LINEIN2_SETMASK 3<<HW_MIXRECSELR_SR_BITPOS
                             9086 ; 578  |#define HW_MIXRECSELR_SR_LINEIN1_SETMASK 4<<HW_MIXRECSELR_SR_BITPOS
                             9087 ; 579  |#define HW_MIXRECSELR_SR_MIX_SETMASK 5<<HW_MIXRECSELR_SR_BITPOS
                             9088 ; 580  |
                             9089 ; 581  |#define HW_MIXRECSELR_SL_MIC_SETMASK 0<<HW_MIXRECSELR_SL_BITPOS
                             9090 ; 582  |#define HW_MIXRECSELR_SL_LINEIN2_SETMASK 3<<HW_MIXRECSELR_SL_BITPOS
                             9091 ; 583  |#define HW_MIXRECSELR_SL_LINEIN1_SETMASK 4<<HW_MIXRECSELR_SL_BITPOS
                             9092 ; 584  |#define HW_MIXRECSELR_SL_MIX_SETMASK 5<<HW_MIXRECSELR_SL_BITPOS
                             9093 ; 585  |
                             9094 ; 586  |#define HW_MIXRECSELR_SR_CLRMASK ~(WORD)HW_MIXRECSELR_SR_SETMASK
                             9095 ; 587  |#define HW_MIXRECSELR_SL_CLRMASK ~(WORD)HW_MIXRECSELR_SL_SETMASK
                             9096 ; 588  |#define HW_MIXRECSELR_SR_SL_CLRMASK ~(WORD)(HW_MIXRECSELR_SR_SETMASK|HW_MIXRECSELR_SL_SETMASK)
                             9097 ; 589  |#define HW_MIXRECSELR_X_CLRMASK ~(WORD)HW_MIXRECSELR_X_SETMASK
                             9098 ; 590  |
                             9099 ; 591  |typedef union               
                             9100 ; 592  |{
                             9101 ; 593  |    struct {
                             9102 ; 594  |        int SR          : HW_MIXRECSELR_SR_WIDTH;
                             9103 ; 595  |        int RSVD1       : HW_MIXRECSELR_RSVD1_WIDTH;
                             9104 ; 596  |        int SL          : HW_MIXRECSELR_SL_WIDTH;
                             9105 ; 597  |        int X           : HW_MIXRECSELR_X_WIDTH;
                             9106 ; 598  |        int RSVD2       : HW_MIXRECSELR_RSVD2_WIDTH;
                             9107 ; 599  |    } B;
                             9108 ; 600  |    int I;
                             9109 ; 601  |    unsigned int U;
                             9110 ; 602  |} mix_recselr_type;
                             9111 ; 603  |#define HW_MIXRECSELR (*(volatile mix_recselr_type _X*) (HW_CODEC_BASEADDR+9))
                             9112 ; 604  |
                             9113 ; 605  |
                             9114 ; 606  |
                             9115 ; 607  |/////////////////////////////////////////////////////////////////////////////////
                             9116 ; 608  |//   Mixer ADC In Gain Register (HW_MIXADCGAINR) Bit Definitions
                             9117 ; 609  |#define HW_MIXADCGAINR_GR_BITPOS 0
                             9118 ; 610  |#define HW_MIXADCGAINR_GL_BITPOS 8
                             9119 ; 611  |#define HW_MIXADCGAINR_MUTE_BITPOS 15
                             9120 ; 612  |
                             9121 ; 613  |#define HW_MIXADCGAINR_GR_WIDTH 4
                             9122 ; 614  |#define HW_MIXADCGAINR_RSVD1_WIDTH 4
                             9123 ; 615  |#define HW_MIXADCGAINR_GL_WIDTH 4
                             9124 ; 616  |#define HW_MIXADCGAINR_RSVD2_WIDTH 3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  37

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9125 ; 617  |#define HW_MIXADCGAINR_MUTE_WIDTH 1
                             9126 ; 618  |#define HW_MIXADCGAINR_RSVD3_WIDTH 8
                             9127 ; 619  |
                             9128 ; 620  |#define HW_MIXADCGAINR_GR_SETMASK 0x1F<<HW_MIXADCGAINR_GR_BITPOS
                             9129 ; 621  |#define HW_MIXADCGAINR_GL_SETMASK 0x1F<<HW_MIXADCGAINR_GL_BITPOS
                             9130 ; 622  |#define HW_MIXADCGAINR_MUTE_SETMASK 1<<HW_MIXADCGAINR_MUTE_BITPOS
                             9131 ; 623  |
                             9132 ; 624  |#define HW_MIXADCGAINR_GR_CLRMASK ~(WORD)HW_MIXADCGAINR_GR_SETMASK
                             9133 ; 625  |#define HW_MIXADCGAINR_GL_CLRMASK ~(WORD)HW_MIXADCGAINR_GL_SETMASK
                             9134 ; 626  |#define HW_MIXADCGAINR_MUTE_CLRMASK ~(WORD)HW_MIXADCGAINR_MUTE_SETMASK
                             9135 ; 627  |
                             9136 ; 628  |#define HW_MIXADCGAINR_GL_00P0_SETMASK 0<<HW_MIXADCGAINR_GL_BITPOS
                             9137 ; 629  |#define HW_MIXADCGAINR_GL_01P5_SETMASK 1<<HW_MIXADCGAINR_GL_BITPOS
                             9138 ; 630  |#define HW_MIXADCGAINR_GL_03P0_SETMASK 2<<HW_MIXADCGAINR_GL_BITPOS
                             9139 ; 631  |#define HW_MIXADCGAINR_GL_04P5_SETMASK 3<<HW_MIXADCGAINR_GL_BITPOS
                             9140 ; 632  |#define HW_MIXADCGAINR_GL_06P0_SETMASK 4<<HW_MIXADCGAINR_GL_BITPOS
                             9141 ; 633  |#define HW_MIXADCGAINR_GL_07P5_SETMASK 5<<HW_MIXADCGAINR_GL_BITPOS
                             9142 ; 634  |#define HW_MIXADCGAINR_GL_09P0_SETMASK 6<<HW_MIXADCGAINR_GL_BITPOS
                             9143 ; 635  |#define HW_MIXADCGAINR_GL_10P5_SETMASK 7<<HW_MIXADCGAINR_GL_BITPOS
                             9144 ; 636  |#define HW_MIXADCGAINR_GL_12P0_SETMASK 8<<HW_MIXADCGAINR_GL_BITPOS
                             9145 ; 637  |#define HW_MIXADCGAINR_GL_13P5_SETMASK 9<<HW_MIXADCGAINR_GL_BITPOS
                             9146 ; 638  |#define HW_MIXADCGAINR_GL_15P0_SETMASK 10<<HW_MIXADCGAINR_GL_BITPOS
                             9147 ; 639  |#define HW_MIXADCGAINR_GL_16P5_SETMASK 11<<HW_MIXADCGAINR_GL_BITPOS
                             9148 ; 640  |#define HW_MIXADCGAINR_GL_18P0_SETMASK 12<<HW_MIXADCGAINR_GL_BITPOS
                             9149 ; 641  |#define HW_MIXADCGAINR_GL_19P5_SETMASK 13<<HW_MIXADCGAINR_GL_BITPOS
                             9150 ; 642  |#define HW_MIXADCGAINR_GL_21P0_SETMASK 14<<HW_MIXADCGAINR_GL_BITPOS
                             9151 ; 643  |#define HW_MIXADCGAINR_GL_22P5_SETMASK 15<<HW_MIXADCGAINR_GL_BITPOS
                             9152 ; 644  |
                             9153 ; 645  |#define HW_MIXADCGAINR_GR_00P0_SETMASK 0
                             9154 ; 646  |#define HW_MIXADCGAINR_GR_01P5_SETMASK 1
                             9155 ; 647  |#define HW_MIXADCGAINR_GR_03P0_SETMASK 2
                             9156 ; 648  |#define HW_MIXADCGAINR_GR_04P5_SETMASK 3
                             9157 ; 649  |#define HW_MIXADCGAINR_GR_06P0_SETMASK 4
                             9158 ; 650  |#define HW_MIXADCGAINR_GR_07P5_SETMASK 5
                             9159 ; 651  |#define HW_MIXADCGAINR_GR_09P0_SETMASK 6
                             9160 ; 652  |#define HW_MIXADCGAINR_GR_10P5_SETMASK 7
                             9161 ; 653  |#define HW_MIXADCGAINR_GR_12P0_SETMASK 8
                             9162 ; 654  |#define HW_MIXADCGAINR_GR_13P5_SETMASK 9
                             9163 ; 655  |#define HW_MIXADCGAINR_GR_15P0_SETMASK 10
                             9164 ; 656  |#define HW_MIXADCGAINR_GR_16P5_SETMASK 11
                             9165 ; 657  |#define HW_MIXADCGAINR_GR_18P0_SETMASK 12
                             9166 ; 658  |#define HW_MIXADCGAINR_GR_19P5_SETMASK 13
                             9167 ; 659  |#define HW_MIXADCGAINR_GR_21P0_SETMASK 14
                             9168 ; 660  |#define HW_MIXADCGAINR_GR_22P5_SETMASK 15
                             9169 ; 661  |
                             9170 ; 662  |typedef union               
                             9171 ; 663  |{
                             9172 ; 664  |    struct {
                             9173 ; 665  |        int GR          : HW_MIXADCGAINR_GR_WIDTH;
                             9174 ; 666  |        int RSVD1       : HW_MIXADCGAINR_RSVD1_WIDTH;
                             9175 ; 667  |        int GL          : HW_MIXADCGAINR_GL_WIDTH;
                             9176 ; 668  |        int RSVD2       : HW_MIXADCGAINR_RSVD2_WIDTH;
                             9177 ; 669  |        int MUTE        : HW_MIXADCGAINR_MUTE_WIDTH;
                             9178 ; 670  |        int RSVD3       : HW_MIXADCGAINR_RSVD3_WIDTH;
                             9179 ; 671  |    } B;
                             9180 ; 672  |    int I;
                             9181 ; 673  |    unsigned int U;
                             9182 ; 674  |} mix_adcgainr_type;
                             9183 ; 675  |#define HW_MIXADCGAINR (*(volatile mix_adcgainr_type _X*) (HW_CODEC_BASEADDR+10))
                             9184 ; 676  |
                             9185 ; 677  |
                             9186 ; 678  |
                             9187 ; 679  |/////////////////////////////////////////////////////////////////////////////////
                             9188 ; 680  |//   Mixer Power Down Register (HW_MIXPWRDNR) Bit Definitions
                             9189 ; 681  |#define HW_MIXPWRDNR_PR0_BITPOS 9
                             9190 ; 682  |#define HW_MIXPWRDNR_PR1_BITPOS 10
                             9191 ; 683  |#define HW_MIXPWRDNR_PR2_BITPOS 11
                             9192 ; 684  |
                             9193 ; 685  |#define HW_MIXPWRDNR_PR0_WIDTH (1)
                             9194 ; 686  |#define HW_MIXPWRDNR_PR1_WIDTH (1)
                             9195 ; 687  |#define HW_MIXPWRDNR_PR2_WIDTH (1)
                             9196 ; 688  |#define HW_MIXPWRDNR_RSVD_WIDTH (12)
                             9197 ; 689  |
                             9198 ; 690  |#define HW_MIXPWRDNR_PR_SETMASK 7<<HW_MIXPWRDNR_PR0_BITPOS
                             9199 ; 691  |
                             9200 ; 692  |#define HW_MIXPWRDNR_PR_CLRMASK ~(WORD)HW_MIXPWRDNR_PR_SETMASK
                             9201 ; 693  |
                             9202 ; 694  |typedef union               
                             9203 ; 695  |{
                             9204 ; 696  |    struct {
                             9205 ; 697  |                int                     : 9;
                             9206 ; 698  |       int PR0          : HW_MIXPWRDNR_PR0_WIDTH;
                             9207 ; 699  |       int PR1          : HW_MIXPWRDNR_PR1_WIDTH;
                             9208 ; 700  |       int PR2          : HW_MIXPWRDNR_PR2_WIDTH;
                             9209 ; 701  |       int RSVD         : HW_MIXPWRDNR_RSVD_WIDTH;
                             9210 ; 702  |    } B;
                             9211 ; 703  |    int I;
                             9212 ; 704  |    unsigned int U;
                             9213 ; 705  |} mix_pwrdnr_type;
                             9214 ; 706  |#define HW_MIXPWRDNR (*(volatile mix_pwrdnr_type _X*) (HW_CODEC_BASEADDR+11))
                             9215 ; 707  |
                             9216 ; 708  |
                             9217 ; 709  |/////////////////////////////////////////////////////////////////////////////////
                             9218 ; 710  |
                             9219 ; 711  |//  Mixer Test Register (HW_MIX_TEST) Bit Definitions
                             9220 ; 712  |
                             9221 ; 713  |#define HW_MIX_TEST_DAC_CHOP_CLK_WIDTH (2)
                             9222 ; 714  |
                             9223 ; 715  |#define HW_MIX_TEST_RSVD0_WIDTH (2)
                             9224 ; 716  |
                             9225 ; 717  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH (1)
                             9226 ; 718  |
                             9227 ; 719  |#define HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH (1)
                             9228 ; 720  |
                             9229 ; 721  |#define HW_MIX_TEST_RSVD1_WIDTH (2)
                             9230 ; 722  |
                             9231 ; 723  |#define HW_MIX_TEST_TMP_CFG_WIDTH (4)
                             9232 ; 724  |
                             9233 ; 725  |#define HW_MIX_TEST_TMPPWD_WIDTH (1)
                             9234 ; 726  |
                             9235 ; 727  |#define HW_MIX_TEST_RSVD2_WIDTH (11)
                             9236 ; 728  |
                             9237 ; 729  |
                             9238 ; 730  |
                             9239 ; 731  |#define HW_MIX_TEST_DAC_CHOP_CLK_BITPOS (0)
                             9240 ; 732  |
                             9241 ; 733  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_BITPOS (4)
                             9242 ; 734  |
                             9243 ; 735  |#define HW_MIX_TEST_DAC_MORE_AMP_I_BITPOS (5)
                             9244 ; 736  |
                             9245 ; 737  |#define HW_MIX_TEST_TMP_CFG_BITPOS (8)
                             9246 ; 738  |
                             9247 ; 739  |#define HW_MIX_TEST_TMPPWD_BITPOS (12)
                             9248 ; 740  |
                             9249 ; 741  |
                             9250 ; 742  |
                             9251 ; 743  |#define HW_MIX_TEST_DAC_CHOP_CLK_SETMASK (((1<<HW_MIX_TEST_DAC_CHOP_CLK_WIDTH)-1)<<HW_MIX_TEST_DAC_CHOP_CLK_BITPOS)        
                             9252 ; 744  |
                             9253 ; 745  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_SETMASK (((1<<HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH)-1)<<HW_MIX_TEST_DAC_DISABLE_RTZ_BITPOS)        
                             9254 ; 746  |
                             9255 ; 747  |#define HW_MIX_TEST_DAC_MORE_AMP_I_SETMASK (((1<<HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH)-1)<<HW_MIX_TEST_DAC_MORE_AMP_I_BITPOS) 
                             9256 ; 748  |
                             9257 ; 749  |#define HW_MIX_TEST_TMP_CFG_SETMASK (((1<<HW_MIX_TEST_TMP_CFG_WIDTH)-1)<<HW_MIX_TEST_TMP_CFG_BITPOS) 
                             9258 ; 750  |
                             9259 ; 751  |#define HW_MIX_TEST_TMPPWD_SETMASK (((1<<HW_MIX_TEST_TMPPWD_WIDTH)-1)<<HW_MIX_TEST_TMPPWD_BITPOS) 
                             9260 ; 752  |
                             9261 ; 753  |
                             9262 ; 754  |#define HW_MIX_TEST_DAC_CHOP_CLK_CLRMASK (~(WORD)HW_MIX_TEST_DAC_CHOP_CLK_SETMASK)     
                             9263 ; 755  |
                             9264 ; 756  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_CLRMASK (~(WORD)HW_MIX_TEST_DAC_DISABLE_RTZ_SETMASK)     
                             9265 ; 757  |
                             9266 ; 758  |#define HW_MIX_TEST_DAC_MORE_AMP_I_CLRMASK (~(WORD)HW_MIX_TEST_DAC_MORE_AMP_I_SETMASK) 
                             9267 ; 759  |
                             9268 ; 760  |#define HW_MIX_TEST_TMP_CFG_CLRMASK (~(WORD)HW_MIX_TEST_TMP_CFG_SETMASK) 
                             9269 ; 761  |
                             9270 ; 762  |#define HW_MIX_TEST_TMPPWD_CLRMASK (~(WORD)HW_MIX_TEST_TMPPWD_SETMASK) 
                             9271 ; 763  |
                             9272 ; 764  |
                             9273 ; 765  |typedef union               
                             9274 ; 766  |{
                             9275 ; 767  |    struct {
                             9276 ; 768  |        int DAC_CHOP_CLK                   : HW_MIX_TEST_DAC_CHOP_CLK_WIDTH;
                             9277 ; 769  |        int RSVD0                          : HW_MIX_TEST_RSVD0_WIDTH;
                             9278 ; 770  |        int DAC_DISABLE_RTZ                : HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH;
                             9279 ; 771  |        int DAC_MORE_AMP_I                 : HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH;
                             9280 ; 772  |        int RSVD1                          : HW_MIX_TEST_RSVD1_WIDTH;
                             9281 ; 773  |        int TMP_CFG                        : HW_MIX_TEST_TMP_CFG_WIDTH;
                             9282 ; 774  |        int TMPPWD                         : HW_MIX_TEST_TMPPWD_WIDTH;
                             9283 ; 775  |        int RSVD2                          : HW_MIX_TEST_RSVD2_WIDTH;
                             9284 ; 776  |    } B;
                             9285 ; 777  |    int I;
                             9286 ; 778  |    unsigned int U;
                             9287 ; 779  |} mix_test_type;
                             9288 ; 780  |#define HW_MIX_TEST      (*(volatile mix_test_type _X*) (HW_CODEC_BASEADDR+28))    /* Analog Persistent Config Register */
                             9289 ; 781  |
                             9290 ; 782  |
                             9291 ; 783  |/////////////////////////////////////////////////////////////////////////////////
                             9292 ; 784  |//   Reference Control Register (HW_REF_CTRL) Bit Definitions
                             9293 ; 785  |#define HW_REF_CTRL_DACVBGVAL_BITPOS 0
                             9294 ; 786  |#define HW_REF_CTRL_ADJDAC_BITPOS 4
                             9295 ; 787  |#define HW_REF_CTRL_VAGVAL_BITPOS 5
                             9296 ; 788  |#define HW_REF_CTRL_ADJV_BITPOS 9
                             9297 ; 789  |#define HW_REF_CTRL_ADCREFV_BITPOS 10
                             9298 ; 790  |#define HW_REF_CTRL_ADJADC_BITPOS 14
                             9299 ; 791  |#define HW_REF_CTRL_PWRDWNS_BITPOS 15
                             9300 ; 792  |#define HW_REF_CTRL_BIASC_BITPOS 16
                             9301 ; 793  |#define HW_REF_CTRL_LWREF_BITPOS 18
                             9302 ; 794  |#define HW_REF_CTRL_LOW_PWR_BITPOS 19 
                             9303 ; 795  |
                             9304 ; 796  |#define HW_REF_CTRL_DACVBGVAL_WIDTH (4)
                             9305 ; 797  |#define HW_REF_CTRL_ADJDAC_WIDTH (1)
                             9306 ; 798  |#define HW_REF_CTRL_VAGVAL_WIDTH (4)
                             9307 ; 799  |#define HW_REF_CTRL_ADJV_WIDTH (1)
                             9308 ; 800  |#define HW_REF_CTRL_ADCREFV_WIDTH (4)
                             9309 ; 801  |#define HW_REF_CTRL_ADJADC_WIDTH (1)
                             9310 ; 802  |#define HW_REF_CTRL_PWRDWNS_WIDTH (1)
                             9311 ; 803  |#define HW_REF_CTRL_BIASC_WIDTH (2)
                             9312 ; 804  |#define HW_REF_CTRL_LWREF_WIDTH (1)
                             9313 ; 805  |#define HW_REF_CTRL_LOW_PWR_WIDTH (1) 
                             9314 ; 806  |#define HW_REF_CTRL_RSVD_WIDTH (4)
                             9315 ; 807  |
                             9316 ; 808  |#define HW_REF_CTRL_DACVBGVAL_SETMASK (((1<<HW_REF_CTRL_DACVBGVAL_WIDTH)-1)<<HW_REF_CTRL_DACVBGVAL_BITPOS)
                             9317 ; 809  |#define HW_REF_CTRL_ADJDAC_SETMASK (((1<<HW_REF_CTRL_ADJDAC_WIDTH)-1)<<HW_REF_CTRL_ADJDAC_BITPOS)
                             9318 ; 810  |#define HW_REF_CTRL_VAGVAL_SETMASK (((1<<HW_REF_CTRL_VAGVAL_WIDTH)-1)<<HW_REF_CTRL_VAGVAL_BITPOS)
                             9319 ; 811  |#define HW_REF_CTRL_ADJV_SETMASK (((1<<HW_REF_CTRL_ADJV_WIDTH)-1)<<HW_REF_CTRL_ADJV_BITPOS)
                             9320 ; 812  |#define HW_REF_CTRL_ADCREFV_SETMASK (((1<<HW_REF_CTRL_ADCREFV_WIDTH)-1)<<HW_REF_CTRL_ADCREFV_BITPOS)
                             9321 ; 813  |#define HW_REF_CTRL_ADJADC_SETMASK (((1<<HW_REF_CTRL_ADJADC_WIDTH)-1)<<HW_REF_CTRL_ADJADC_BITPOS)
                             9322 ; 814  |#define HW_REF_CTRL_PWRDWNS_SETMASK (((1<<HW_REF_CTRL_PWRDWNS_WIDTH)-1)<<HW_REF_CTRL_PWRDWNS_BITPOS)
                             9323 ; 815  |#define HW_REF_CTRL_BIASC_SETMASK (((1<<HW_REF_CTRL_BIASC_WIDTH)-1)<<HW_REF_CTRL_BIASC_BITPOS)
                             9324 ; 816  |#define HW_REF_CTRL_LWREF_SETMASK (((1<<HW_REF_CTRL_LWREF_WIDTH)-1)<<HW_REF_CTRL_LWREF_BITPOS)
                             9325 ; 817  |#define HW_REF_CTRL_LOW_PWR_SETMASK (((1<<HW_REF_CTRL_LOW_PWR_WIDTH)-1)<<HW_REF_CTRL_LOW_PWR_BITPOS)
                             9326 ; 818  |
                             9327 ; 819  |#define HW_REF_CTRL_DACVBGVAL_CLRMASK ~(WORD)HW_REF_CTRL_DACVBGVAL_SETMASK
                             9328 ; 820  |#define HW_REF_CTRL_ADJDAC_CLRMASK ~(WORD)HW_REF_CTRL_ADJDAC_SETMASK
                             9329 ; 821  |#define HW_REF_CTRL_VAGVAL_CLRMASK ~(WORD)HW_REF_CTRL_VAGVAL_SETMASK
                             9330 ; 822  |#define HW_REF_CTRL_ADJV_CLRMASK ~(WORD)HW_REF_CTRL_ADJV_SETMASK
                             9331 ; 823  |#define HW_REF_CTRL_ADCREFV_CLRMASK ~(WORD)HW_REF_CTRL_ADCREFV_SETMASK
                             9332 ; 824  |#define HW_REF_CTRL_ADJADC_CLRMASK ~(WORD)HW_REF_CTRL_ADJADC_SETMASK
                             9333 ; 825  |#define HW_REF_CTRL_PWRDWNS_CLRMASK ~(WORD)HW_REF_CTRL_PWRDWNS_SETMASK
                             9334 ; 826  |#define HW_REF_CTRL_BIASC_CLRMASK ~(WORD)HW_REF_CTRL_BIASC_SETMASK
                             9335 ; 827  |#define HW_REF_CTRL_LWREF_CLRMASK ~(WORD)HW_REF_CTRL_LWREF_SETMASK
                             9336 ; 828  |#define HW_REF_CTRL_LOW_PWR_CLRMASK ~(WORD)HW_REF_CTRL_LOW_PWR_SETMASK
                             9337 ; 829  |
                             9338 ; 830  |typedef union               
                             9339 ; 831  |{
                             9340 ; 832  |    struct {
                             9341 ; 833  |        int DACVBGVAL      : HW_REF_CTRL_DACVBGVAL_WIDTH;
                             9342 ; 834  |        int ADJDAC                 : HW_REF_CTRL_ADJDAC_WIDTH;
                             9343 ; 835  |        int VAGVAL                 : HW_REF_CTRL_VAGVAL_WIDTH;
                             9344 ; 836  |        int ADJV                   : HW_REF_CTRL_ADJV_WIDTH;
                             9345 ; 837  |        int ADCREFV       : HW_REF_CTRL_ADCREFV_WIDTH;
                             9346 ; 838  |        int ADJADC                 : HW_REF_CTRL_ADJADC_WIDTH;
                             9347 ; 839  |        int PWRDWNS       : HW_REF_CTRL_PWRDWNS_WIDTH;
                             9348 ; 840  |        int BIASC         : HW_REF_CTRL_BIASC_WIDTH;
                             9349 ; 841  |        int LWREF         : HW_REF_CTRL_LWREF_WIDTH;
                             9350 ; 842  |        int LOW_PWR       : HW_REF_CTRL_LOW_PWR_WIDTH;
                             9351 ; 843  |        int RSVD               : HW_REF_CTRL_RSVD_WIDTH;
                             9352 ; 844  |    } B;
                             9353 ; 845  |    int I;
                             9354 ; 846  |    unsigned int U;
                             9355 ; 847  |} ref_ctrl_type;
                             9356 ; 848  |#define HW_REF_CTRL (*(volatile ref_ctrl_type _X*) (HW_CODEC_BASEADDR+25))
                             9357 ; 849  |
                             9358 ; 850  |
                             9359 ; 851  |
                             9360 ; 852  |/////////////////////////////////////////////////////////////////////////////////
                             9361 ; 853  |/////////////////////////////////////////////////////////////////////////////////
                             9362 ; 854  |/////////////////////////////////////////////////////////////////////////////////
                             9363 ; 855  |//////  DAC Registers
                             9364 ; 856  |/////////////////////////////////////////////////////////////////////////////////
                             9365 ; 857  |/////////////////////////////////////////////////////////////////////////////////
                             9366 ; 858  |/////////////////////////////////////////////////////////////////////////////////
                             9367 ; 859  |#define HW_DAC_BASEADDR 0xF800
                             9368 ; 860  |
                             9369 ; 861  |
                             9370 ; 862  |
                             9371 ; 863  |/////////////////////////////////////////////////////////////////////////////////
                             9372 ; 864  |//  DAC Control Status Register (HW_DACCSR) Bit Definitions
                             9373 ; 865  |#define HW_DACCSR_TXEN_BITPOS 0
                             9374 ; 866  |#define HW_DACCSR_TXIEN_BITPOS 1
                             9375 ; 867  |#define HW_DACCSR_TXI_BITPOS 2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  38

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9376 ; 868  |#define HW_DACCSR_TXEXC_BITPOS 3
                             9377 ; 869  |#define HW_DACCSR_LPBK_BITPOS 4
                             9378 ; 870  |#define HW_DACCSR_DMASEL_BITPOS 5
                             9379 ; 871  |#define HW_DACCSR_DAC_HIPPOP_EN_BITPOS 7
                             9380 ; 872  |#define HW_DACCSR_LVUP_BITPOS 8
                             9381 ; 873  |#define HW_DACCSR_RVUP_BITPOS 9
                             9382 ; 874  |#define HW_DACCSR_VUP_BITPOS 10
                             9383 ; 875  |#define HW_DACCSR_RSRVD_BITPOS 11
                             9384 ; 876  |#define HW_DACCSR_CLKGT_BITPOS 23
                             9385 ; 877  |
                             9386 ; 878  |#define HW_DACCSR_TXEN_WIDTH (1)
                             9387 ; 879  |#define HW_DACCSR_TXIEN_WIDTH (1)
                             9388 ; 880  |#define HW_DACCSR_TXI_WIDTH (1)
                             9389 ; 881  |#define HW_DACCSR_TXEXC_WIDTH (1)
                             9390 ; 882  |#define HW_DACCSR_LPBK_WIDTH (1)
                             9391 ; 883  |#define HW_DACCSR_DMASEL_WIDTH (2)
                             9392 ; 884  |#define HW_DACCSR_DAC_HIPPOP_EN_WIDTH (1)
                             9393 ; 885  |#define HW_DACCSR_LVUP_WIDTH (1)
                             9394 ; 886  |#define HW_DACCSR_RVUP_WIDTH (1)
                             9395 ; 887  |#define HW_DACCSR_VUP_WIDTH (1)
                             9396 ; 888  |#define HW_DACCSR_RSRVD_WIDTH (12)
                             9397 ; 889  |#define HW_DACCSR_CLKGT_WIDTH (1)
                             9398 ; 890  |
                             9399 ; 891  |#define HW_DACCSR_TXEN_SETMASK 1<<HW_DACCSR_TXEN_BITPOS
                             9400 ; 892  |#define HW_DACCSR_TXIEN_SETMASK 1<<HW_DACCSR_TXIEN_BITPOS
                             9401 ; 893  |#define HW_DACCSR_TXI_SETMASK 1<<HW_DACCSR_TXI_BITPOS
                             9402 ; 894  |#define HW_DACCSR_TXEXC_SETMASK 1<<HW_DACCSR_TXEXC_BITPOS
                             9403 ; 895  |#define HW_DACCSR_LPBK_SETMASK 1<<HW_DACCSR_LPBK_BITPOS
                             9404 ; 896  |#define HW_DACCSR_DMASEL_P_SETMASK ((2)<<(HW_DACCSR_DMASEL_BITPOS))
                             9405 ; 897  |#define HW_DACCSR_DMASEL_Y_SETMASK (1<<(HW_DACCSR_DMASEL_BITPOS))
                             9406 ; 898  |//         DMASEL_X has no asm setmask since X config value is 00 binary.
                             9407 ; 899  |#define HW_DACCSR_DAC_HIPPOP_EN_SETMASK (1<<HW_DACCSR_DAC_HIPPOP_EN_BITPOS)
                             9408 ; 900  |#define HW_DACCSR_LVUP_SETMASK (1<<HW_DACCSR_LVUP_BITPOS)
                             9409 ; 901  |#define HW_DACCSR_RVUP_SETMASK (1<<HW_DACCSR_RVUP_BITPOS)
                             9410 ; 902  |#define HW_DACCSR_VUP_SETMASK (1<<HW_DACCSR_VUP_BITPOS)
                             9411 ; 903  |#define HW_DACCSR_CLKGT_SETMASK (1<<HW_DACCSR_CLKGT_BITPOS)
                             9412 ; 904  |
                             9413 ; 905  |#define HW_DACCSR_TXEN_CLRMASK ~(WORD)HW_DACCSR_TXEN_SETMASK
                             9414 ; 906  |#define HW_DACCSR_TXIEN_CLRMASK ~(WORD)HW_DACCSR_TXIEN_SETMASK
                             9415 ; 907  |#define HW_DACCSR_TXI_CLRMASK ~(WORD)HW_DACCSR_TXI_SETMASK
                             9416 ; 908  |#define HW_DACCSR_TXEXC_CLRMASK ~(WORD)HW_DACCSR_TXEXC_SETMASK
                             9417 ; 909  |#define HW_DACCSR_LPBK_CLRMASK ~(WORD)HW_DACCSR_LPBK_SETMASK
                             9418 ; 910  |// No asm clrmask for 2 bit bitfield DMASEL
                             9419 ; 911  |#define HW_DACCSR_DAC_HIPPOP_EN_CLRMASK ~(WORD)HW_DACCSR_DAC_HIPPOP_EN_SETMASK
                             9420 ; 912  |#define HW_DACCSR_LVUP_CLRMASK ~(WORD)HW_DACCSR_LVUP_SETMASK
                             9421 ; 913  |#define HW_DACCSR_RVUP_CLRMASK ~(WORD)HW_DACCSR_RVUP_SETMASK
                             9422 ; 914  |#define HW_DACCSR_VUP_CLRMASK ~(WORD)HW_DACCSR_VUP_SETMASK
                             9423 ; 915  |#define HW_DACCSR_CLKGT_CLRMASK ~(WORD)HW_DACCSR_CLKGT_SETMASK 
                             9424 ; 916  |
                             9425 ; 917  |
                             9426 ; 918  |typedef union               
                             9427 ; 919  |{
                             9428 ; 920  |    struct {
                             9429 ; 921  |        int TXEN                        : HW_DACCSR_TXEN_WIDTH;
                             9430 ; 922  |        int TXIEN                       : HW_DACCSR_TXIEN_WIDTH;
                             9431 ; 923  |        int TXI                         : HW_DACCSR_TXI_WIDTH;
                             9432 ; 924  |        int TXEXC                       : HW_DACCSR_TXEXC_WIDTH;
                             9433 ; 925  |        int LPBK                        : HW_DACCSR_LPBK_WIDTH;
                             9434 ; 926  |        int DMASEL                      : HW_DACCSR_DMASEL_WIDTH;
                             9435 ; 927  |             #define HW_DACCSR_DMASEL_X_BITFIELD_VAL    0
                             9436 ; 928  |             #define HW_DACCSR_DMASEL_Y_BITFIELD_VAL    1
                             9437 ; 929  |             #define HW_DACCSR_DMASEL_P_BITFIELD_VAL    2       
                             9438 ; 930  |        int DAC_HIPPOP_EN               : HW_DACCSR_DAC_HIPPOP_EN_WIDTH;
                             9439 ; 931  |        int LVUP                        : HW_DACCSR_LVUP_WIDTH;
                             9440 ; 932  |        int RVUP                        : HW_DACCSR_RVUP_WIDTH;
                             9441 ; 933  |        int VUP                         : HW_DACCSR_VUP_WIDTH;
                             9442 ; 934  |        int RSVD                        : HW_DACCSR_RSRVD_WIDTH;
                             9443 ; 935  |        int CLKGT                       : HW_DACCSR_CLKGT_WIDTH;
                             9444 ; 936  |    } B;
                             9445 ; 937  |    int I;
                             9446 ; 938  |    unsigned int U;
                             9447 ; 939  |} dac_csr_type;
                             9448 ; 940  |#define HW_DACCSR      (*(volatile dac_csr_type _X*) (HW_DAC_BASEADDR))
                             9449 ; 941  |
                             9450 ; 942  |
                             9451 ; 943  |
                             9452 ; 944  |/////////////////////////////////////////////////////////////////////////////////
                             9453 ; 945  |//  DAC Sample Rate Register (HW_DACSRR) Bit Definitions
                             9454 ; 946  |#define HW_DACSRR_SR_BITPOS 0
                             9455 ; 947  |
                             9456 ; 948  |#define HW_DACSRR_SR_WIDTH (23)
                             9457 ; 949  |#define HW_DACSRR_RSVD_WIDTH (1)
                             9458 ; 950  |
                             9459 ; 951  |//HW_DACSRR_SR_SETMASK                    equ     $FFFFFF<<HW_DACSRR_SR_BITPOS
                             9460 ; 952  |#define HW_DACSRR_SR_SETMASK (((1<<HW_DACSRR_SR_WIDTH)-1)<<HW_DACSRR_SR_BITPOS)        
                             9461 ; 953  |
                             9462 ; 954  |#define HW_DACSRR_SR_CLRMASK ~(WORD)HW_DACSRR_SR_SETMASK
                             9463 ; 955  |
                             9464 ; 956  |typedef union               
                             9465 ; 957  |{
                             9466 ; 958  |    struct {
                             9467 ; 959  |        int SR                          : HW_DACSRR_SR_WIDTH;
                             9468 ; 960  |        int RSVD                        : HW_DACSRR_RSVD_WIDTH;
                             9469 ; 961  |    } B;
                             9470 ; 962  |    int I;
                             9471 ; 963  |    unsigned int U;
                             9472 ; 964  |} dac_srr_type;
                             9473 ; 965  |#define HW_DACSRR      (*(volatile dac_srr_type _X*) (HW_DAC_BASEADDR+1))
                             9474 ; 966  |
                             9475 ; 967  |
                             9476 ; 968  |
                             9477 ; 969  |/////////////////////////////////////////////////////////////////////////////////
                             9478 ; 970  |//  DAC Word Count Register (HW_DACWCR) Bit Definitions
                             9479 ; 971  |#define HW_DACWCR_WCR_BITPOS 0
                             9480 ; 972  |
                             9481 ; 973  |#define HW_DACWCR_WCR_WIDTH (10)
                             9482 ; 974  |#define HW_DACWCR_RSVD_WIDTH (12)
                             9483 ; 975  |
                             9484 ; 976  |//HW_DACWCR_WCR_SETMASK                   equ     $3FF<<HW_DACWCR_WCR_BITPOS
                             9485 ; 977  |#define HW_DACWCR_WCR_SETMASK (((1<<HW_DACWCR_WCR_WIDTH)-1)<<HW_DACWCR_WCR_BITPOS)        
                             9486 ; 978  |
                             9487 ; 979  |#define HW_DACWCR_WCR_CLRMASK ~(WORD)HW_DACWCR_WCR_SETMASK
                             9488 ; 980  |
                             9489 ; 981  |typedef union               
                             9490 ; 982  |{
                             9491 ; 983  |    struct {
                             9492 ; 984  |        int WCR                         : HW_DACWCR_WCR_WIDTH;
                             9493 ; 985  |        int RSVD                        : HW_DACWCR_RSVD_WIDTH;
                             9494 ; 986  |    } B;
                             9495 ; 987  |    int I;
                             9496 ; 988  |    unsigned int U;
                             9497 ; 989  |} dac_wcr_type;
                             9498 ; 990  |#define HW_DACWCR      (*(volatile dac_wcr_type _X*) (HW_DAC_BASEADDR+2))
                             9499 ; 991  |
                             9500 ; 992  |
                             9501 ; 993  |
                             9502 ; 994  |/////////////////////////////////////////////////////////////////////////////////
                             9503 ; 995  |//  DAC Current Position Register (HW_DACCPR) Bit Definitions
                             9504 ; 996  |#define HW_DACCPR_CPR_BITPOS 0
                             9505 ; 997  |
                             9506 ; 998  |#define HW_DACCPR_CPR_WIDTH (10)
                             9507 ; 999  |#define HW_DACCPR_RSVD_WIDTH (14)
                             9508 ; 1000 |
                             9509 ; 1001 |//HW_DACCPR_CPR_SETMASK                   equ     $3FF<<HW_DACCPR_CPR_BITPOS
                             9510 ; 1002 |#define HW_DACCPR_CPR_SETMASK (((1<<HW_DACCPR_CPR_WIDTH)-1)<<HW_DACCPR_CPR_BITPOS)        
                             9511 ; 1003 |
                             9512 ; 1004 |#define HW_DACCPR_CPR_CLRMASK ~(WORD)HW_DACCPR_CPR_SETMASK
                             9513 ; 1005 |
                             9514 ; 1006 |typedef union               
                             9515 ; 1007 |{
                             9516 ; 1008 |    struct {
                             9517 ; 1009 |        int CPR                         : HW_DACCPR_CPR_WIDTH;
                             9518 ; 1010 |        int RSVD                        : HW_DACCPR_RSVD_WIDTH;
                             9519 ; 1011 |    } B;
                             9520 ; 1012 |    int I;
                             9521 ; 1013 |    unsigned int U;
                             9522 ; 1014 |} dac_cpr_type;
                             9523 ; 1015 |#define HW_DACCPR      (*(volatile dac_cpr_type _X*) (HW_DAC_BASEADDR+3))
                             9524 ; 1016 |
                             9525 ; 1017 |
                             9526 ; 1018 |
                             9527 ; 1019 |/////////////////////////////////////////////////////////////////////////////////
                             9528 ; 1020 |//  DAC Modulo Register (HW_DACMR) Bit Definitions
                             9529 ; 1021 |#define HW_DACMR_MR_BITPOS 0
                             9530 ; 1022 |#define HW_DACMR_MR_WIDTH (10)
                             9531 ; 1023 |#define HW_DACMR_RSVD_WIDTH (14)
                             9532 ; 1024 |
                             9533 ; 1025 |//HW_DACMR_MR_SETMASK                     equ     $3FF<<HW_DACMR_MR_BITPOS
                             9534 ; 1026 |#define HW_DACMR_MR_SETMASK (((1<<HW_DACMR_MR_WIDTH)-1)<<HW_DACMR_MR_BITPOS)        
                             9535 ; 1027 |
                             9536 ; 1028 |#define HW_DACMR_MR_CLRMASK ~(WORD)HW_DACMR_MR_SETMASK
                             9537 ; 1029 |
                             9538 ; 1030 |typedef union               
                             9539 ; 1031 |{
                             9540 ; 1032 |    struct {
                             9541 ; 1033 |        int MR                         : HW_DACMR_MR_WIDTH;
                             9542 ; 1034 |        int RSVD                       : HW_DACMR_RSVD_WIDTH;
                             9543 ; 1035 |    } B;
                             9544 ; 1036 |    int I;
                             9545 ; 1037 |    unsigned int U;
                             9546 ; 1038 |} dac_mr_type;
                             9547 ; 1039 |#define HW_DACMR      (*(volatile dac_mr_type _X*) (HW_DAC_BASEADDR+4))
                             9548 ; 1040 |
                             9549 ; 1041 |
                             9550 ; 1042 |
                             9551 ; 1043 |/////////////////////////////////////////////////////////////////////////////////
                             9552 ; 1044 |//   DAC Base Address Register (HW_DACBAR) Bit Definitions
                             9553 ; 1045 |#define HW_DACBAR_BAR_BITPOS 0
                             9554 ; 1046 |#define HW_DACBAR_BAR_WIDTH (16)
                             9555 ; 1047 |#define HW_DACBAR_RSVD_WIDTH (8)
                             9556 ; 1048 |
                             9557 ; 1049 |//HW_DACBAR_BAR_SETMASK                   equ     $FFFF<<HW_DACBAR_BAR_BITPOS
                             9558 ; 1050 |#define HW_DACBAR_BAR_SETMASK (((1<<HW_DACBAR_BAR_WIDTH)-1)<<HW_DACBAR_BAR_BITPOS)        
                             9559 ; 1051 |
                             9560 ; 1052 |#define HW_DACBAR_BAR_CLRMASK ~(WORD)HW_DACBAR_BAR_SETMASK
                             9561 ; 1053 |
                             9562 ; 1054 |typedef union               
                             9563 ; 1055 |{
                             9564 ; 1056 |    struct {
                             9565 ; 1057 |        int BAR                        : HW_DACBAR_BAR_WIDTH;
                             9566 ; 1058 |        int RSVD                       : HW_DACBAR_RSVD_WIDTH;
                             9567 ; 1059 |    } B;
                             9568 ; 1060 |    int I;
                             9569 ; 1061 |    unsigned int U;
                             9570 ; 1062 |} dac_bar_type;
                             9571 ; 1063 |#define HW_DACBAR      (*(volatile dac_bar_type _X*) (HW_DAC_BASEADDR+5))
                             9572 ; 1064 |
                             9573 ; 1065 |
                             9574 ; 1066 |
                             9575 ; 1067 |/////////////////////////////////////////////////////////////////////////////////
                             9576 ; 1068 |//  DAC Interrupt Control Register (HW_DACICR) Bit Definitions
                             9577 ; 1069 |#define HW_DACICR_IPT_BITPOS 0
                             9578 ; 1070 |
                             9579 ; 1071 |#define HW_DACICR_IPT_WIDTH (10)
                             9580 ; 1072 |#define HW_DACICR_RSVD_WIDTH (12)
                             9581 ; 1073 |
                             9582 ; 1074 |#define HW_DACICR_IPT_SETMASK (((1<<HW_DACICR_IPT_WIDTH)-1)<<HW_DACICR_IPT_BITPOS)        
                             9583 ; 1075 |
                             9584 ; 1076 |#define HW_DACICR_IPT_CLRMASK ~(WORD)HW_DACICR_IPT_SETMASK
                             9585 ; 1077 |
                             9586 ; 1078 |typedef union               
                             9587 ; 1079 |{
                             9588 ; 1080 |    struct {
                             9589 ; 1081 |        int IPT                         : HW_DACICR_IPT_WIDTH;
                             9590 ; 1082 |        int RSVD                        : HW_DACICR_RSVD_WIDTH;
                             9591 ; 1083 |    } B;
                             9592 ; 1084 |    int I;
                             9593 ; 1085 |    unsigned int U;
                             9594 ; 1086 |} dac_icr_type;
                             9595 ; 1087 |#define HW_DACICR      (*(volatile dac_icr_type _X*) (HW_DAC_BASEADDR+6))
                             9596 ; 1088 |
                             9597 ; 1089 |
                             9598 ; 1090 |
                             9599 ; 1091 |
                             9600 ; 1092 |
                             9601 ; 1093 |/////////////////////////////////////////////////////////////////////////////////
                             9602 ; 1094 |/////////////////////////////////////////////////////////////////////////////////
                             9603 ; 1095 |/////////////////////////////////////////////////////////////////////////////////
                             9604 ; 1096 |//////  ADC Registers
                             9605 ; 1097 |/////////////////////////////////////////////////////////////////////////////////
                             9606 ; 1098 |/////////////////////////////////////////////////////////////////////////////////
                             9607 ; 1099 |/////////////////////////////////////////////////////////////////////////////////
                             9608 ; 1100 |#define HW_ADC_BASEADDR 0xFB00
                             9609 ; 1101 |
                             9610 ; 1102 |
                             9611 ; 1103 |
                             9612 ; 1104 |/////////////////////////////////////////////////////////////////////////////////
                             9613 ; 1105 |//  ADC Control Status Register (HW_ADCCSR) Bit Definitions
                             9614 ; 1106 |#define HW_ADCCSR_TXEN_BITPOS 0
                             9615 ; 1107 |#define HW_ADCCSR_TXIEN_BITPOS 1
                             9616 ; 1108 |#define HW_ADCCSR_TXI_BITPOS 2
                             9617 ; 1109 |#define HW_ADCCSR_TXEXC_BITPOS 3
                             9618 ; 1110 |#define HW_ADCCSR_LPBK_BITPOS 4
                             9619 ; 1111 |#define HW_ADCCSR_DMASEL_BITPOS 5
                             9620 ; 1112 |#define HW_ADCCSR_LPFMODE_BITPOS 8
                             9621 ; 1113 |#define HW_ADCCSR_CLKGT_BITPOS 23
                             9622 ; 1114 |
                             9623 ; 1115 |#define HW_ADCCSR_TXEN_WIDTH (1)
                             9624 ; 1116 |#define HW_ADCCSR_TXIEN_WIDTH (1)
                             9625 ; 1117 |#define HW_ADCCSR_TXI_WIDTH (1)
                             9626 ; 1118 |#define HW_ADCCSR_TXEXC_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  39

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9627 ; 1119 |#define HW_ADCCSR_LPBK_WIDTH (1)
                             9628 ; 1120 |#define HW_ADCCSR_DMASEL_WIDTH (2)
                             9629 ; 1121 |#define HW_ADCCSR_RSVD1_WIDTH (1)
                             9630 ; 1122 |#define HW_ADCCSR_LPFMODE_WIDTH (4)
                             9631 ; 1123 |#define HW_ADCCSR_RSVD2_WIDTH (11)
                             9632 ; 1124 |#define HW_ADCCSR_CLKGT_WIDTH (1)
                             9633 ; 1125 |
                             9634 ; 1126 |#define HW_ADCCSR_TXEN_SETMASK 1<<HW_ADCCSR_TXEN_BITPOS
                             9635 ; 1127 |#define HW_ADCCSR_TXIEN_SETMASK 1<<HW_ADCCSR_TXIEN_BITPOS
                             9636 ; 1128 |#define HW_ADCCSR_TXI_SETMASK 1<<HW_ADCCSR_TXI_BITPOS
                             9637 ; 1129 |#define HW_ADCCSR_TXEXC_SETMASK 1<<HW_ADCCSR_TXEXC_BITPOS
                             9638 ; 1130 |#define HW_ADCCSR_LPBK_SETMASK 1<<HW_ADCCSR_LPBK_BITPOS
                             9639 ; 1131 |#define HW_ADCCSR_DMASEL_SETMASK (((1<<HW_ADCCSR_DMASEL_WIDTH)-1)<<HW_ADCCSR_DMASEL_BITPOS)        
                             9640 ; 1132 |#define HW_ADCCSR_LPFMODE_SETMASK (((1<<HW_ADCCSR_LPFMODE_WIDTH)-1)<<HW_ADCCSR_LPFMODE_BITPOS)        
                             9641 ; 1133 |#define HW_ADCCSR_CLKGT_SETMASK 1<<HW_ADCCSR_CLKGT_BITPOS
                             9642 ; 1134 |
                             9643 ; 1135 |#define HW_ADCCSR_TXEN_CLRMASK ~(WORD)HW_ADCCSR_TXEN_SETMASK
                             9644 ; 1136 |#define HW_ADCCSR_TXIEN_CLRMASK ~(WORD)HW_ADCCSR_TXIEN_SETMASK
                             9645 ; 1137 |#define HW_ADCCSR_TXI_CLRMASK ~(WORD)HW_ADCCSR_TXI_SETMASK
                             9646 ; 1138 |#define HW_ADCCSR_TXEXC_CLRMASK ~(WORD)HW_ADCCSR_TXEXC_SETMASK
                             9647 ; 1139 |#define HW_ADCCSR_LPBK_CLRMASK ~(WORD)HW_ADCCSR_LPBK_SETMASK
                             9648 ; 1140 |#define HW_ADCCSR_DMASEL_CLRMASK ~(WORD)HW_ADCCSR_DMASEL_SETMASK
                             9649 ; 1141 |#define HW_ADCCSR_LPFMODE_CLRMASK ~(WORD)HW_ADCCSR_LPFMODE_SETMASK
                             9650 ; 1142 |#define HW_ADCCSR_CLKGT_CLRMASK ~(WORD)HW_ADCCSR_CLKGT_SETMASK
                             9651 ; 1143 |
                             9652 ; 1144 |typedef union               
                             9653 ; 1145 |{
                             9654 ; 1146 |    struct {
                             9655 ; 1147 |        int TXEN                        : HW_ADCCSR_TXEN_WIDTH;
                             9656 ; 1148 |        int TXIEN                       : HW_ADCCSR_TXIEN_WIDTH;
                             9657 ; 1149 |        int TXI                         : HW_ADCCSR_TXI_WIDTH;
                             9658 ; 1150 |        int TXEXC                       : HW_ADCCSR_TXEXC_WIDTH;
                             9659 ; 1151 |        int LPBK                        : HW_ADCCSR_LPBK_WIDTH;
                             9660 ; 1152 |        int RSVD1                       : HW_ADCCSR_RSVD1_WIDTH;
                             9661 ; 1153 |        int DMASEL                      : HW_ADCCSR_DMASEL_WIDTH;
                             9662 ; 1154 |        int LPFMODE                     : HW_ADCCSR_LPFMODE_WIDTH;
                             9663 ; 1155 |        int RSVD2                       : HW_ADCCSR_RSVD2_WIDTH;
                             9664 ; 1156 |        int CLKGT                       : HW_ADCCSR_CLKGT_WIDTH;
                             9665 ; 1157 |    } B;
                             9666 ; 1158 |    int I;
                             9667 ; 1159 |    unsigned int U;
                             9668 ; 1160 |} adc_csr_type;
                             9669 ; 1161 |#define HW_ADCCSR (*(volatile adc_csr_type _X*) (HW_ADC_BASEADDR+0))
                             9670 ; 1162 |
                             9671 ; 1163 |
                             9672 ; 1164 |/////////////////////////////////////////////////////////////////////////////////
                             9673 ; 1165 |//  ADC Word Count Register (HW_ADCWCR) Bit Definitions
                             9674 ; 1166 |#define HW_ADCWCR_WCR_BITPOS 0
                             9675 ; 1167 |
                             9676 ; 1168 |#define HW_ADCWCR_WCR_WIDTH (10)
                             9677 ; 1169 |#define HW_ADCWCR_RSVD_WIDTH (14)
                             9678 ; 1170 |
                             9679 ; 1171 |#define HW_ADCWCR_WCR_SETMASK (((1<<HW_ADCWCR_WCR_WIDTH)-1)<<HW_ADCWCR_WCR_BITPOS)        
                             9680 ; 1172 |
                             9681 ; 1173 |#define HW_ADCWCR_WCR_CLRMASK ~(WORD)HW_ADCWCR_WCR_SETMASK
                             9682 ; 1174 |
                             9683 ; 1175 |typedef union               
                             9684 ; 1176 |{
                             9685 ; 1177 |    struct {
                             9686 ; 1178 |        int WCR                         : HW_ADCWCR_WCR_WIDTH;
                             9687 ; 1179 |        int RSVD                        : HW_ADCWCR_RSVD_WIDTH;
                             9688 ; 1180 |    } B;
                             9689 ; 1181 |    int I;
                             9690 ; 1182 |    unsigned int U;
                             9691 ; 1183 |} adc_wcr_type;
                             9692 ; 1184 |#define HW_ADCWCR (*(volatile adc_wcr_type _X*) (HW_ADC_BASEADDR+2))
                             9693 ; 1185 |
                             9694 ; 1186 |
                             9695 ; 1187 |
                             9696 ; 1188 |/////////////////////////////////////////////////////////////////////////////////
                             9697 ; 1189 |//   ADC Base Address Register (HW_ADCBAR) Bit Definitions
                             9698 ; 1190 |#define HW_ADCBAR_BAR_BITPOS 0
                             9699 ; 1191 |#define HW_ADCBAR_BAR_WIDTH (16)
                             9700 ; 1192 |#define HW_ADCBAR_RSVD_WIDTH (8)
                             9701 ; 1193 |
                             9702 ; 1194 |//HW_ADCBAR_BAR_SETMASK                   equ     $FFFF<<HW_ADCBAR_BAR_BITPOS
                             9703 ; 1195 |#define HW_ADCBAR_BAR_SETMASK (((1<<HW_ADCBAR_BAR_WIDTH)-1)<<HW_ADCBAR_BAR_BITPOS)        
                             9704 ; 1196 |
                             9705 ; 1197 |#define HW_ADCBAR_BAR_CLRMASK ~(WORD)HW_ADCBAR_BAR_SETMASK
                             9706 ; 1198 |
                             9707 ; 1199 |typedef union               
                             9708 ; 1200 |{
                             9709 ; 1201 |    struct {
                             9710 ; 1202 |        int BAR                        : HW_ADCBAR_BAR_WIDTH;
                             9711 ; 1203 |        int RSVD                       : HW_ADCBAR_RSVD_WIDTH;
                             9712 ; 1204 |    } B;
                             9713 ; 1205 |    int I;
                             9714 ; 1206 |    unsigned int U;
                             9715 ; 1207 |} adc_bar_type;
                             9716 ; 1208 |#define HW_ADCBAR (*(volatile adc_bar_type _X*) (HW_ADC_BASEADDR+5))
                             9717 ; 1209 |
                             9718 ; 1210 |
                             9719 ; 1211 |
                             9720 ; 1212 |
                             9721 ; 1213 |
                             9722 ; 1214 |/////////////////////////////////////////////////////////////////////////////////
                             9723 ; 1215 |//  DAC Current Position Register (HW_ADCCPR) Bit Definitions
                             9724 ; 1216 |#define HW_ADCCPR_CPR_BITPOS 0
                             9725 ; 1217 |
                             9726 ; 1218 |#define HW_ADCCPR_CPR_WIDTH (10)
                             9727 ; 1219 |#define HW_ADCCPR_RSVD_WIDTH (14)
                             9728 ; 1220 |
                             9729 ; 1221 |#define HW_ADCCPR_CPR_SETMASK (((1<<HW_ADCCPR_CPR_WIDTH)-1)<<HW_ADCCPR_CPR_BITPOS)        
                             9730 ; 1222 |
                             9731 ; 1223 |#define HW_ADCCPR_CPR_CLRMASK ~(WORD)HW_ADCCPR_CPR_SETMASK
                             9732 ; 1224 |
                             9733 ; 1225 |typedef union               
                             9734 ; 1226 |{
                             9735 ; 1227 |    struct {
                             9736 ; 1228 |        int CPR                         : HW_ADCCPR_CPR_WIDTH;
                             9737 ; 1229 |        int RSVD                        : HW_ADCCPR_RSVD_WIDTH;
                             9738 ; 1230 |    } B;
                             9739 ; 1231 |    int I;
                             9740 ; 1232 |    unsigned int U;
                             9741 ; 1233 |} adc_cpr_type;
                             9742 ; 1234 |#define HW_ADCCPR (*(volatile adc_cpr_type _X*) (HW_ADC_BASEADDR+3))
                             9743 ; 1235 |
                             9744 ; 1236 |
                             9745 ; 1237 |/////////////////////////////////////////////////////////////////////////////////
                             9746 ; 1238 |//  ADC Modulo Register (HW_ADCMR) Bit Definitions
                             9747 ; 1239 |#define HW_ADCMR_MR_BITPOS 0
                             9748 ; 1240 |#define HW_ADCMR_MR_WIDTH (10)
                             9749 ; 1241 |#define HW_ADCMR_RSVD_WIDTH (14)
                             9750 ; 1242 |
                             9751 ; 1243 |//HW_ADCMR_MR_SETMASK                     equ     $3FF<<HW_ADCMR_MR_BITPOS
                             9752 ; 1244 |#define HW_ADCMR_MR_SETMASK (((1<<HW_ADCMR_MR_WIDTH)-1)<<HW_ADCMR_MR_BITPOS)        
                             9753 ; 1245 |
                             9754 ; 1246 |#define HW_ADCMR_MR_CLRMASK ~(WORD)HW_ADCMR_MR_SETMASK
                             9755 ; 1247 |
                             9756 ; 1248 |typedef union               
                             9757 ; 1249 |{
                             9758 ; 1250 |    struct {
                             9759 ; 1251 |        int MR                         : HW_ADCMR_MR_WIDTH;
                             9760 ; 1252 |        int RSVD                       : HW_ADCMR_RSVD_WIDTH;
                             9761 ; 1253 |    } B;
                             9762 ; 1254 |    int I;
                             9763 ; 1255 |    unsigned int U;
                             9764 ; 1256 |} adc_mr_type;
                             9765 ; 1257 |#define HW_ADCMR (*(volatile adc_mr_type _X*) (HW_ADC_BASEADDR+4))
                             9766 ; 1258 |
                             9767 ; 1259 |/////////////////////////////////////////////////////////////////////////////////
                             9768 ; 1260 |//  ADC Sample Rate Register (HW_ADCSRR) Bit Definitions
                             9769 ; 1261 |#define HW_ADCSRR_SR_BITPOS 0
                             9770 ; 1262 |
                             9771 ; 1263 |#define HW_ADCSRR_SR_WIDTH (23)
                             9772 ; 1264 |#define HW_ADCSRR_RSVD_WIDTH (1)
                             9773 ; 1265 |
                             9774 ; 1266 |//HW_ADCSRR_SR_SETMASK                    equ     $FFFFFF<<HW_ADCSRR_SR_BITPOS
                             9775 ; 1267 |#define HW_ADCSRR_SR_SETMASK (((1<<HW_ADCSRR_SR_WIDTH)-1)<<HW_ADCSRR_SR_BITPOS)        
                             9776 ; 1268 |
                             9777 ; 1269 |#define HW_ADCSRR_SR_CLRMASK ~(WORD)HW_ADCSRR_SR_SETMASK
                             9778 ; 1270 |
                             9779 ; 1271 |typedef union               
                             9780 ; 1272 |{
                             9781 ; 1273 |    struct {
                             9782 ; 1274 |        int SR                          : HW_ADCSRR_SR_WIDTH;
                             9783 ; 1275 |        int RSVD                        : HW_ADCSRR_RSVD_WIDTH;
                             9784 ; 1276 |    } B;
                             9785 ; 1277 |    int I;
                             9786 ; 1278 |    unsigned int U;
                             9787 ; 1279 |} adc_srr_type;
                             9788 ; 1280 |#define HW_ADCSRR (*(volatile adc_srr_type _X*) (HW_ADC_BASEADDR+1))
                             9789 ; 1281 |
                             9790 ; 1282 |/////////////////////////////////////////////////////////////////////////////////
                             9791 ; 1283 |//  ADC Interrupt Control Register (HW_ADCICR) Bit Definitions
                             9792 ; 1284 |#define HW_ADCICR_IPT_BITPOS 0
                             9793 ; 1285 |
                             9794 ; 1286 |#define HW_ADCICR_IPT_WIDTH (10)
                             9795 ; 1287 |#define HW_ADCICR_RSVD_WIDTH (12)
                             9796 ; 1288 |
                             9797 ; 1289 |#define HW_ADCICR_IPT_SETMASK (((1<<HW_ADCICR_IPT_WIDTH)-1)<<HW_ADCICR_IPT_BITPOS)        
                             9798 ; 1290 |
                             9799 ; 1291 |#define HW_ADCICR_IPT_CLRMASK ~(WORD)HW_ADCICR_IPT_SETMASK
                             9800 ; 1292 |
                             9801 ; 1293 |typedef union               
                             9802 ; 1294 |{
                             9803 ; 1295 |    struct {
                             9804 ; 1296 |        int IPT                         : HW_ADCICR_IPT_WIDTH;
                             9805 ; 1297 |        int RSVD                        : HW_ADCICR_RSVD_WIDTH;
                             9806 ; 1298 |    } B;
                             9807 ; 1299 |    int I;
                             9808 ; 1300 |    unsigned int U;
                             9809 ; 1301 |} adc_icr_type;
                             9810 ; 1302 |#define HW_ADCICR (*(volatile adc_icr_type _X*) (HW_ADC_BASEADDR+6))
                             9811 ; 1303 |
                             9812 ; 1304 |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *******************************
                             9813 ; 1305 |// The following defines were added to match regs3410.inc definition to build SDK2XXX code without needing 
                             9814 ; 1306 |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                             9815 ; 1307 |
                             9816 ; 1308 |#define HW_MIXTBR_PW_ADC_RIGHT_CH_BITPOS 16
                             9817 ; 1309 |
                             9818 ; 1310 |#define HW_MIXLINE1INVR_GN_ZERO_SETMASK 0x808
                             9819 ; 1311 |
                             9820 ; 1312 |#endif
                             9821 ; 1313 |
                             9822 
                             9824 
                             9825 ; 20   |#include "regsdcdc.h"
                             9826 
                             9828 
                             9829 ; 1    |#if !(defined(regsdcdcinc))
                             9830 ; 2    |
                             9831 ; 3    |#define regssysteminc 1
                             9832 ; 4    |
                             9833 ; 5    |
                             9834 ; 6    |
                             9835 ; 7    |#include "types.h"
                             9836 
                             9838 
                             9839 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             9840 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             9841 ; 3    |//
                             9842 ; 4    |// Filename: types.h
                             9843 ; 5    |// Description: Standard data types
                             9844 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             9845 ; 7    |
                             9846 ; 8    |#ifndef _TYPES_H
                             9847 ; 9    |#define _TYPES_H
                             9848 ; 10   |
                             9849 ; 11   |// TODO:  move this outta here!
                             9850 ; 12   |#if !defined(NOERROR)
                             9851 ; 13   |#define NOERROR 0
                             9852 ; 14   |#define SUCCESS 0
                             9853 ; 15   |#endif 
                             9854 ; 16   |#if !defined(SUCCESS)
                             9855 ; 17   |#define SUCCESS  0
                             9856 ; 18   |#endif
                             9857 ; 19   |#if !defined(ERROR)
                             9858 ; 20   |#define ERROR   -1
                             9859 ; 21   |#endif
                             9860 ; 22   |#if !defined(FALSE)
                             9861 ; 23   |#define FALSE 0
                             9862 ; 24   |#endif
                             9863 ; 25   |#if !defined(TRUE)
                             9864 ; 26   |#define TRUE  1
                             9865 ; 27   |#endif
                             9866 ; 28   |
                             9867 ; 29   |#if !defined(NULL)
                             9868 ; 30   |#define NULL 0
                             9869 ; 31   |#endif
                             9870 ; 32   |
                             9871 ; 33   |#define MAX_INT     0x7FFFFF
                             9872 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             9873 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             9874 ; 36   |#define MAX_ULONG   (-1) 
                             9875 ; 37   |
                             9876 ; 38   |#define WORD_SIZE   24              // word size in bits
                             9877 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             9878 ; 40   |
                             9879 ; 41   |
                             9880 ; 42   |#define BYTE    unsigned char       // btVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  40

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9881 ; 43   |#define CHAR    signed char         // cVarName
                             9882 ; 44   |#define USHORT  unsigned short      // usVarName
                             9883 ; 45   |#define SHORT   unsigned short      // sVarName
                             9884 ; 46   |#define WORD    unsigned int        // wVarName
                             9885 ; 47   |#define INT     signed int          // iVarName
                             9886 ; 48   |#define DWORD   unsigned long       // dwVarName
                             9887 ; 49   |#define LONG    signed long         // lVarName
                             9888 ; 50   |#define BOOL    unsigned int        // bVarName
                             9889 ; 51   |#define FRACT   _fract              // frVarName
                             9890 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             9891 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             9892 ; 54   |#define FLOAT   float               // fVarName
                             9893 ; 55   |#define DBL     double              // dVarName
                             9894 ; 56   |#define ENUM    enum                // eVarName
                             9895 ; 57   |#define CMX     _complex            // cmxVarName
                             9896 ; 58   |typedef WORD UCS3;                   // 
                             9897 ; 59   |
                             9898 ; 60   |#define UINT16  unsigned short
                             9899 ; 61   |#define UINT8   unsigned char   
                             9900 ; 62   |#define UINT32  unsigned long
                             9901 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             9902 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             9903 ; 65   |#define WCHAR   UINT16
                             9904 ; 66   |
                             9905 ; 67   |//UINT128 is 16 bytes or 6 words
                             9906 ; 68   |typedef struct UINT128_3500 {   
                             9907 ; 69   |    int val[6];     
                             9908 ; 70   |} UINT128_3500;
                             9909 ; 71   |
                             9910 ; 72   |#define UINT128   UINT128_3500
                             9911 ; 73   |
                             9912 ; 74   |// Little endian word packed byte strings:   
                             9913 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9914 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9915 ; 77   |// Little endian word packed byte strings:   
                             9916 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9917 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9918 ; 80   |
                             9919 ; 81   |// Declare Memory Spaces To Use When Coding
                             9920 ; 82   |// A. Sector Buffers
                             9921 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             9922 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             9923 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             9924 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             9925 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             9926 ; 88   |// B. Media DDI Memory
                             9927 ; 89   |#define MEDIA_DDI_MEM _Y
                             9928 ; 90   |
                             9929 ; 91   |
                             9930 ; 92   |
                             9931 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             9932 ; 94   |// Examples of circular pointers:
                             9933 ; 95   |//    INT CIRC cpiVarName
                             9934 ; 96   |//    DWORD CIRC cpdwVarName
                             9935 ; 97   |
                             9936 ; 98   |#define RETCODE INT                 // rcVarName
                             9937 ; 99   |
                             9938 ; 100  |// generic bitfield structure
                             9939 ; 101  |struct Bitfield {
                             9940 ; 102  |    unsigned int B0  :1;
                             9941 ; 103  |    unsigned int B1  :1;
                             9942 ; 104  |    unsigned int B2  :1;
                             9943 ; 105  |    unsigned int B3  :1;
                             9944 ; 106  |    unsigned int B4  :1;
                             9945 ; 107  |    unsigned int B5  :1;
                             9946 ; 108  |    unsigned int B6  :1;
                             9947 ; 109  |    unsigned int B7  :1;
                             9948 ; 110  |    unsigned int B8  :1;
                             9949 ; 111  |    unsigned int B9  :1;
                             9950 ; 112  |    unsigned int B10 :1;
                             9951 ; 113  |    unsigned int B11 :1;
                             9952 ; 114  |    unsigned int B12 :1;
                             9953 ; 115  |    unsigned int B13 :1;
                             9954 ; 116  |    unsigned int B14 :1;
                             9955 ; 117  |    unsigned int B15 :1;
                             9956 ; 118  |    unsigned int B16 :1;
                             9957 ; 119  |    unsigned int B17 :1;
                             9958 ; 120  |    unsigned int B18 :1;
                             9959 ; 121  |    unsigned int B19 :1;
                             9960 ; 122  |    unsigned int B20 :1;
                             9961 ; 123  |    unsigned int B21 :1;
                             9962 ; 124  |    unsigned int B22 :1;
                             9963 ; 125  |    unsigned int B23 :1;
                             9964 ; 126  |};
                             9965 ; 127  |
                             9966 ; 128  |union BitInt {
                             9967 ; 129  |        struct Bitfield B;
                             9968 ; 130  |        int        I;
                             9969 ; 131  |};
                             9970 ; 132  |
                             9971 ; 133  |#define MAX_MSG_LENGTH 10
                             9972 ; 134  |struct CMessage
                             9973 ; 135  |{
                             9974 ; 136  |        unsigned int m_uLength;
                             9975 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             9976 ; 138  |};
                             9977 ; 139  |
                             9978 ; 140  |typedef struct {
                             9979 ; 141  |    WORD m_wLength;
                             9980 ; 142  |    WORD m_wMessage;
                             9981 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             9982 ; 144  |} Message;
                             9983 ; 145  |
                             9984 ; 146  |struct MessageQueueDescriptor
                             9985 ; 147  |{
                             9986 ; 148  |        int *m_pBase;
                             9987 ; 149  |        int m_iModulo;
                             9988 ; 150  |        int m_iSize;
                             9989 ; 151  |        int *m_pHead;
                             9990 ; 152  |        int *m_pTail;
                             9991 ; 153  |};
                             9992 ; 154  |
                             9993 ; 155  |struct ModuleEntry
                             9994 ; 156  |{
                             9995 ; 157  |    int m_iSignaledEventMask;
                             9996 ; 158  |    int m_iWaitEventMask;
                             9997 ; 159  |    int m_iResourceOfCode;
                             9998 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             9999 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            10000 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            10001 ; 163  |    int m_uTimeOutHigh;
                            10002 ; 164  |    int m_uTimeOutLow;
                            10003 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            10004 ; 166  |};
                            10005 ; 167  |
                            10006 ; 168  |union WaitMask{
                            10007 ; 169  |    struct B{
                            10008 ; 170  |        unsigned int m_bNone     :1;
                            10009 ; 171  |        unsigned int m_bMessage  :1;
                            10010 ; 172  |        unsigned int m_bTimer    :1;
                            10011 ; 173  |        unsigned int m_bButton   :1;
                            10012 ; 174  |    } B;
                            10013 ; 175  |    int I;
                            10014 ; 176  |} ;
                            10015 ; 177  |
                            10016 ; 178  |
                            10017 ; 179  |struct Button {
                            10018 ; 180  |        WORD wButtonEvent;
                            10019 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            10020 ; 182  |};
                            10021 ; 183  |
                            10022 ; 184  |struct Message {
                            10023 ; 185  |        WORD wMsgLength;
                            10024 ; 186  |        WORD wMsgCommand;
                            10025 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            10026 ; 188  |};
                            10027 ; 189  |
                            10028 ; 190  |union EventTypes {
                            10029 ; 191  |        struct CMessage msg;
                            10030 ; 192  |        struct Button Button ;
                            10031 ; 193  |        struct Message Message;
                            10032 ; 194  |};
                            10033 ; 195  |
                            10034 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            10035 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            10036 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            10037 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            10038 ; 200  |
                            10039 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            10040 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            10041 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            10042 ; 204  |
                            10043 ; 205  |#if DEBUG
                            10044 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            10045 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            10046 ; 208  |#else 
                            10047 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            10048 ; 210  |#define DebugBuildAssert(x)    
                            10049 ; 211  |#endif
                            10050 ; 212  |
                            10051 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            10052 ; 214  |//  #pragma asm
                            10053 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            10054 ; 216  |//  #pragma endasm
                            10055 ; 217  |
                            10056 ; 218  |
                            10057 ; 219  |#ifdef COLOR_262K
                            10058 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            10059 ; 221  |#elif defined(COLOR_65K)
                            10060 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            10061 ; 223  |#else
                            10062 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            10063 ; 225  |#endif
                            10064 ; 226  |    
                            10065 ; 227  |#endif // #ifndef _TYPES_H
                            10066 
                            10068 
                            10069 ; 8    |
                            10070 ; 9    |
                            10071 ; 10   |
                            10072 ; 11   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10073 ; 12   |
                            10074 ; 13   |//   SYSTEM STMP Registers 
                            10075 ; 14   |//      Last Edited 2.19.2003 M. May
                            10076 ; 15   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10077 ; 16   |
                            10078 ; 17   |#define HW_DCDC_BASEADDR (0xFA0C)
                            10079 ; 18   |
                            10080 ; 19   |
                            10081 ; 20   |
                            10082 ; 21   |
                            10083 ; 22   |
                            10084 ; 23   |
                            10085 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            10086 ; 25   |
                            10087 ; 26   |//  DcDc#1 Control Register (HW_DCDC1_CTRL0) Bit Definitions
                            10088 ; 27   |
                            10089 ; 28   |#define HW_DCDC1_CTRL0_PLEVBU_WIDTH (5)
                            10090 ; 29   |#define HW_DCDC1_CTRL0_RSVD0_WIDTH (3)
                            10091 ; 30   |#define HW_DCDC1_CTRL0_PLEVBO_WIDTH (5)
                            10092 ; 31   |#define HW_DCDC1_CTRL0_RSVD1_WIDTH (3)
                            10093 ; 32   |#define HW_DCDC1_CTRL0_NLEV_WIDTH (5)
                            10094 ; 33   |
                            10095 ; 34   |#define HW_DCDC1_CTRL0_RSVD2_WIDTH (3)
                            10096 ; 35   |
                            10097 ; 36   |
                            10098 ; 37   |
                            10099 ; 38   |#define HW_DCDC1_CTRL0_PLEVBU_BITPOS (0)
                            10100 ; 39   |#define HW_DCDC1_CTRL0_PLEVBO_BITPOS (8)
                            10101 ; 40   |#define HW_DCDC1_CTRL0_NLEV_BITPOS (16)
                            10102 ; 41   |
                            10103 ; 42   |
                            10104 ; 43   |
                            10105 ; 44   |#define HW_DCDC1_CTRL0_PLEVBU_SETMASK (((1<<HW_DCDC1_CTRL0_PLEVBU_WIDTH)-1)<<HW_DCDC1_CTRL0_PLEVBU_BITPOS)        
                            10106 ; 45   |#define HW_DCDC1_CTRL0_PLEVBO_SETMASK (((1<<HW_DCDC1_CTRL0_PLEVBO_WIDTH)-1)<<HW_DCDC1_CTRL0_PLEVBO_BITPOS) 
                            10107 ; 46   |#define HW_DCDC1_CTRL0_NLEV_SETMASK (((1<<HW_DCDC1_CTRL0_NLEV_WIDTH)-1)<<HW_DCDC1_CTRL0_NLEV_BITPOS)  
                            10108 ; 47   |
                            10109 ; 48   |
                            10110 ; 49   |
                            10111 ; 50   |#define HW_DCDC1_CTRL0_PLEVBU_CLRMASK (~(WORD)HW_DCDC1_CTRL0_PLEVBU_SETMASK)     
                            10112 ; 51   |#define HW_DCDC1_CTRL0_PLEVBO_CLRMASK (~(WORD)HW_DCDC1_CTRL0_PLEVBO_SETMASK) 
                            10113 ; 52   |#define HW_DCDC1_CTRL0_NLEV_CLRMASK (~(WORD)HW_DCDC1_CTRL0_NLEV_SETMASK)  
                            10114 ; 53   |
                            10115 ; 54   |
                            10116 ; 55   |
                            10117 ; 56   |
                            10118 ; 57   |
                            10119 ; 58   |typedef union               
                            10120 ; 59   |{
                            10121 ; 60   |    struct {
                            10122 ; 61   |        unsigned int PLEVBU           : HW_DCDC1_CTRL0_PLEVBU_WIDTH;
                            10123 ; 62   |        unsigned int RSVD0            : HW_DCDC1_CTRL0_RSVD0_WIDTH;
                            10124 ; 63   |        unsigned int PLEVBO           : HW_DCDC1_CTRL0_PLEVBO_WIDTH;
                            10125 ; 64   |        unsigned int RSVD1            : HW_DCDC1_CTRL0_RSVD1_WIDTH;
                            10126 ; 65   |        unsigned int NLEV             : HW_DCDC1_CTRL0_NLEV_WIDTH;
                            10127 ; 66   |        unsigned int RSVD2            : HW_DCDC1_CTRL0_RSVD2_WIDTH;
                            10128 ; 67   |    } B;
                            10129 ; 68   |    unsigned int I;
                            10130 ; 69   |} dcdc1_ctrl0_type;
                            10131 ; 70   |#define HW_DCDC1_CTRL0      (*(volatile dcdc1_ctrl0_type _X*) (HW_DCDC_BASEADDR))    /* DcDc#1 Limit Level Register */
                            10132 ; 71   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  41

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10133 ; 72   |
                            10134 ; 73   |
                            10135 ; 74   |
                            10136 ; 75   |/////////////////////////////////////////////////////////////////////////////////
                            10137 ; 76   |
                            10138 ; 77   |//  DCDc#1 Control Register1 (HW_DCDC1_CTRL1) Bit Definitions
                            10139 ; 78   |
                            10140 ; 79   |#define HW_DCDC1_CTRL1_C_WIDTH (4)
                            10141 ; 80   |#define HW_DCDC1_CTRL1_R_WIDTH (4)
                            10142 ; 81   |#define HW_DCDC1_CTRL1_FFOR_WIDTH (3)
                            10143 ; 82   |#define HW_DCDC1_CTRL1_RSVD0_WIDTH (1)
                            10144 ; 83   |#define HW_DCDC1_CTRL1_PFMCTRL_WIDTH (12)
                            10145 ; 84   |
                            10146 ; 85   |
                            10147 ; 86   |
                            10148 ; 87   |#define HW_DCDC1_CTRL1_C_BITPOS (0)
                            10149 ; 88   |#define HW_DCDC1_CTRL1_R_BITPOS (4)
                            10150 ; 89   |#define HW_DCDC1_CTRL1_FFOR_BITPOS (8)
                            10151 ; 90   |#define HW_DCDC1_CTRL1_PFMCTRL_BITPOS (12) 
                            10152 ; 91   |
                            10153 ; 92   |#define HW_DCDC1_CTRL1_C_SETMASK (((1<<HW_DCDC1_CTRL1_C_WIDTH)-1)<<HW_DCDC1_CTRL1_C_BITPOS)        
                            10154 ; 93   |#define HW_DCDC1_CTRL1_R_SETMASK (((1<<HW_DCDC1_CTRL1_R_WIDTH)-1)<<HW_DCDC1_CTRL1_R_BITPOS) 
                            10155 ; 94   |#define HW_DCDC1_CTRL1_FFOR_SETMASK (((1<<HW_DCDC1_CTRL1_FFOR_WIDTH)-1)<<HW_DCDC1_CTRL1_FFOR_BITPOS)  
                            10156 ; 95   |#define HW_DCDC1_CTRL1_PFMCTRL_SETMASK (((1<<HW_DCDC1_CTRL1_PFMCTRL_WIDTH)-1)<<HW_DCDC1_CTRL1_PFMCTRL_BITPOS)   
                            10157 ; 96   |
                            10158 ; 97   |#define HW_DCDC1_CTRL1_C_CLRMASK (~(WORD)HW_DCDC1_CTRL1_C_SETMASK)     
                            10159 ; 98   |#define HW_DCDC1_CTRL1_R_CLRMASK (~(WORD)HW_DCDC1_CTRL1_R_SETMASK) 
                            10160 ; 99   |#define HW_DCDC1_CTRL1_FFOR_CLRMASK (~(WORD)HW_DCDC1_CTRL1_FFOR_SETMASK)  
                            10161 ; 100  |#define HW_DCDC1_CTRL1_PFMCTRL_CLRMASK (~(WORD)HW_DCDC1_CTRL1_PFMCTRL_SETMASK)  
                            10162 ; 101  |
                            10163 ; 102  |
                            10164 ; 103  |typedef union               
                            10165 ; 104  |{
                            10166 ; 105  |    struct {
                            10167 ; 106  |        unsigned int C       : HW_DCDC1_CTRL1_C_WIDTH;
                            10168 ; 107  |        unsigned int R                : HW_DCDC1_CTRL1_R_WIDTH;
                            10169 ; 108  |        unsigned int FFOR             : HW_DCDC1_CTRL1_FFOR_WIDTH;
                            10170 ; 109  |        unsigned int RSVD0            : HW_DCDC1_CTRL1_RSVD0_WIDTH;
                            10171 ; 110  |        unsigned int PFMCTRL          : HW_DCDC1_CTRL1_FFOR_WIDTH;
                            10172 ; 111  |    } B;
                            10173 ; 112  |    unsigned int I;
                            10174 ; 113  |} dcdc1_ctrl1_type;
                            10175 ; 114  |#define HW_DCDC1_CTRL1      (*(volatile dcdc1_ctrl1_type _X*) (HW_DCDC_BASEADDR+1))    /* DcDc#1 Ctrl #1 Register */
                            10176 ; 115  |
                            10177 ; 116  |
                            10178 ; 117  |
                            10179 ; 118  |
                            10180 ; 119  |/////////////////////////////////////////////////////////////////////////////////
                            10181 ; 120  |
                            10182 ; 121  |//  DcDc VDDIO Register (HW_DCDC_VDDIO) Bit Definitions
                            10183 ; 122  |
                            10184 ; 123  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH (5)
                            10185 ; 124  |#define HW_DCDC_VDDIO_RSVD0_WIDTH (3)
                            10186 ; 125  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH (5)
                            10187 ; 126  |#define HW_DCDC_VDDIO_RSVD1_WIDTH (3)
                            10188 ; 127  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH (1)
                            10189 ; 128  |#define HW_DCDC_VDDIO_RSVD2_WIDTH (3)
                            10190 ; 129  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH (1)
                            10191 ; 130  |#define HW_DCDC_VDDIO_OK_WIDTH (1)
                            10192 ; 131  |#define HW_DCDC_VDDIO_RSVD3_WIDTH (2)
                            10193 ; 132  |
                            10194 ; 133  |
                            10195 ; 134  |
                            10196 ; 135  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_BITPOS (0)
                            10197 ; 136  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_BITPOS (8)
                            10198 ; 137  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_BITPOS (16)
                            10199 ; 138  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_BITPOS (20)
                            10200 ; 139  |#define HW_DCDC_VDDIO_OK_BITPOS (21)
                            10201 ; 140  |
                            10202 ; 141  |
                            10203 ; 142  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH)-1)<<HW_DCDC_VDDIO_VOLTAGE_LEVEL_BITPOS)        
                            10204 ; 143  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH)-1)<<HW_DCDC_VDDIO_BROWNOUT_LEVEL_BITPOS) 
                            10205 ; 144  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH)-1)<<HW_DCDC_VDDIO_BROWNOUT_ENABLE_BITPOS)  
                            10206 ; 145  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH)-1)<<HW_DCDC_VDDIO_BROWNOUT_STATUS_BITPOS)  
                            10207 ; 146  |
                            10208 ; 147  |
                            10209 ; 148  |
                            10210 ; 149  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDIO_VOLTAGE_LEVEL_SETMASK)     
                            10211 ; 150  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_LEVEL_SETMASK) 
                            10212 ; 151  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_ENABLE_SETMASK)  
                            10213 ; 152  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_STATUS_SETMASK)  
                            10214 ; 153  |
                            10215 ; 154  |
                            10216 ; 155  |typedef union               
                            10217 ; 156  |{
                            10218 ; 157  |    struct {
                            10219 ; 158  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH;
                            10220 ; 159  |        unsigned int RSVD0            : HW_DCDC_VDDIO_RSVD0_WIDTH;
                            10221 ; 160  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH;
                            10222 ; 161  |        unsigned int RSVD1            : HW_DCDC_VDDIO_RSVD1_WIDTH;
                            10223 ; 162  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH;
                            10224 ; 163  |        unsigned int RSVD2            : HW_DCDC_VDDIO_RSVD2_WIDTH;
                            10225 ; 164  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH;
                            10226 ; 165  |                 unsigned int VDDIO_OK        : HW_DCDC_VDDIO_OK_WIDTH;
                            10227 ; 166  |        unsigned int RSVD3            : HW_DCDC_VDDIO_RSVD3_WIDTH;
                            10228 ; 167  |    } B;
                            10229 ; 168  |    unsigned int I;
                            10230 ; 169  |} dcdc_vddio_type;
                            10231 ; 170  |#define HW_DCDC_VDDIO      (*(volatile dcdc_vddio_type _X*) (HW_DCDC_BASEADDR+2))    /* DcDc VDDIO Register */
                            10232 ; 171  |
                            10233 ; 172  |
                            10234 ; 173  |
                            10235 ; 174  |/////////////////////////////////////////////////////////////////////////////////
                            10236 ; 175  |//  DcDc VDDD Register (HW_DCDC_VDDD) Bit Definitions
                            10237 ; 176  |
                            10238 ; 177  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH (5)
                            10239 ; 178  |#define HW_DCDC_VDDD_RSVD0_WIDTH (3)
                            10240 ; 179  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH (5)
                            10241 ; 180  |#define HW_DCDC_VDDD_RSVD1_WIDTH (3)
                            10242 ; 181  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH (1)
                            10243 ; 182  |#define HW_DCDC_VDDD_RSVD2_WIDTH (3)
                            10244 ; 183  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH (1)
                            10245 ; 184  |#define HW_DCDC_VDDD_OK_WIDTH (1)
                            10246 ; 185  |#define HW_DCDC_VDDD_RSVD3_WIDTH (2)
                            10247 ; 186  |
                            10248 ; 187  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS (0)
                            10249 ; 188  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_BITPOS (8)
                            10250 ; 189  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_BITPOS (16)
                            10251 ; 190  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_BITPOS (20)
                            10252 ; 191  |#define HW_DCDC_VDDD_OK_BITPOS (21)
                            10253 ; 192  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH)-1)<<HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS)        
                            10254 ; 193  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH)-1)<<HW_DCDC_VDDD_BROWNOUT_LEVEL_BITPOS) 
                            10255 ; 194  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH)-1)<<HW_DCDC_VDDD_BROWNOUT_ENABLE_BITPOS)  
                            10256 ; 195  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH)-1)<<HW_DCDC_VDDD_BROWNOUT_STATUS_BITPOS)  
                            10257 ; 196  |
                            10258 ; 197  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK)     
                            10259 ; 198  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_LEVEL_SETMASK) 
                            10260 ; 199  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_ENABLE_SETMASK)  
                            10261 ; 200  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_STATUS_SETMASK)  
                            10262 ; 201  |
                            10263 ; 202  |typedef union               
                            10264 ; 203  |{
                            10265 ; 204  |    struct {
                            10266 ; 205  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH;
                            10267 ; 206  |        unsigned int RSVD0            : HW_DCDC_VDDD_RSVD0_WIDTH;
                            10268 ; 207  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH;
                            10269 ; 208  |        unsigned int RSVD1            : HW_DCDC_VDDD_RSVD1_WIDTH;
                            10270 ; 209  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH;
                            10271 ; 210  |        unsigned int RSVD2            : HW_DCDC_VDDD_RSVD2_WIDTH;
                            10272 ; 211  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH;
                            10273 ; 212  |                 unsigned int VDD_OK           : HW_DCDC_VDDD_OK_WIDTH;
                            10274 ; 213  |        unsigned int RSVD3            : HW_DCDC_VDDD_RSVD3_WIDTH;
                            10275 ; 214  |    } B;
                            10276 ; 215  |   unsigned int I;
                            10277 ; 216  |        unsigned U;
                            10278 ; 217  |} dcdc_vddd_type;
                            10279 ; 218  |#define HW_DCDC_VDDD      (*(volatile dcdc_vddd_type _X*) (HW_DCDC_BASEADDR+3))    /* DcDc VDDD Register */
                            10280 ; 219  |
                            10281 ; 220  |
                            10282 ; 221  |
                            10283 ; 222  |
                            10284 ; 223  |/////////////////////////////////////////////////////////////////////////////////
                            10285 ; 224  |
                            10286 ; 225  |//  DcDc Vdda Register (HW_DCDC_VDDA) Bit Definitions
                            10287 ; 226  |
                            10288 ; 227  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH (5)
                            10289 ; 228  |#define HW_DCDC_VDDA_RSVD0_WIDTH (3)
                            10290 ; 229  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH (5)
                            10291 ; 230  |#define HW_DCDC_VDDA_RSVD1_WIDTH (3)
                            10292 ; 231  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH (1)
                            10293 ; 232  |#define HW_DCDC_VDDA_RSVD2_WIDTH (3)
                            10294 ; 233  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH (1)
                            10295 ; 234  |#define HW_DCDC_VDDA_OK_WIDTH (1)
                            10296 ; 235  |#define HW_DCDC_VDDA_RSVD3_WIDTH (2)
                            10297 ; 236  |
                            10298 ; 237  |
                            10299 ; 238  |
                            10300 ; 239  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_BITPOS (0)
                            10301 ; 240  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_BITPOS (8)
                            10302 ; 241  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_BITPOS (16)
                            10303 ; 242  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_BITPOS (20)
                            10304 ; 243  |#define HW_DCDC_VDDA_OK_BITPOS (21)
                            10305 ; 244  |
                            10306 ; 245  |
                            10307 ; 246  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH)-1)<<HW_DCDC_VDDA_VOLTAGE_LEVEL_BITPOS)        
                            10308 ; 247  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH)-1)<<HW_DCDC_VDDA_BROWNOUT_LEVEL_BITPOS) 
                            10309 ; 248  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH)-1)<<HW_DCDC_VDDA_BROWNOUT_ENABLE_BITPOS)  
                            10310 ; 249  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH)-1)<<HW_DCDC_VDDA_BROWNOUT_STATUS_BITPOS)  
                            10311 ; 250  |
                            10312 ; 251  |
                            10313 ; 252  |
                            10314 ; 253  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDA_VOLTAGE_LEVEL_SETMASK)     
                            10315 ; 254  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_LEVEL_SETMASK) 
                            10316 ; 255  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_ENABLE_SETMASK)  
                            10317 ; 256  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_STATUS_SETMASK)  
                            10318 ; 257  |
                            10319 ; 258  |
                            10320 ; 259  |typedef union               
                            10321 ; 260  |{
                            10322 ; 261  |    struct {
                            10323 ; 262  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH;
                            10324 ; 263  |        unsigned int RSVD0            : HW_DCDC_VDDA_RSVD0_WIDTH;
                            10325 ; 264  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH;
                            10326 ; 265  |        unsigned int RSVD1            : HW_DCDC_VDDA_RSVD1_WIDTH;
                            10327 ; 266  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH;
                            10328 ; 267  |        unsigned int RSVD2            : HW_DCDC_VDDA_RSVD2_WIDTH;
                            10329 ; 268  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH;
                            10330 ; 269  |             unsigned int VDDA_OK          : HW_DCDC_VDDA_OK_WIDTH;
                            10331 ; 270  |        unsigned int RSVD3            : HW_DCDC_VDDA_RSVD3_WIDTH;
                            10332 ; 271  |    } B;
                            10333 ; 272  |    unsigned int I;
                            10334 ; 273  |} dcdc_vdda_type;
                            10335 ; 274  |#define HW_DCDC_VDDA      (*(volatile dcdc_vdda_type _X*) (HW_DCDC_BASEADDR+4))    /* DcDc VDDA Register */
                            10336 ; 275  |
                            10337 ; 276  |
                            10338 ; 277  |
                            10339 ; 278  |
                            10340 ; 279  |/////////////////////////////////////////////////////////////////////////////////
                            10341 ; 280  |
                            10342 ; 281  |//  DcDc#2 Control Register 0 (HW_DCDC2_CTRL0) Bit Definitions
                            10343 ; 282  |
                            10344 ; 283  |#define HW_DCDC2_CTRL0_PLEVBU_WIDTH (5)
                            10345 ; 284  |#define HW_DCDC2_CTRL0_RSVD0_WIDTH (3)
                            10346 ; 285  |#define HW_DCDC2_CTRL0_PLEVBO_WIDTH (5)
                            10347 ; 286  |#define HW_DCDC2_CTRL0_RSVD1_WIDTH (3)
                            10348 ; 287  |#define HW_DCDC2_CTRL0_NLEV_WIDTH (5)
                            10349 ; 288  |#define HW_DCDC2_CTRL0_RSVD2_WIDTH (3)
                            10350 ; 289  |
                            10351 ; 290  |
                            10352 ; 291  |
                            10353 ; 292  |#define HW_DCDC2_CTRL0_PLEVBU_BITPOS (0)
                            10354 ; 293  |#define HW_DCDC2_CTRL0_PLEVBO_BITPOS (8)
                            10355 ; 294  |#define HW_DCDC2_CTRL0_NLEV_BITPOS (16)
                            10356 ; 295  |
                            10357 ; 296  |#define HW_DCDC2_CTRL0_PLEVBU_SETMASK (((1<<HW_DCDC2_CTRL0_PLEVBU_WIDTH)-1)<<HW_DCDC2_CTRL0_PLEVBU_BITPOS)        
                            10358 ; 297  |#define HW_DCDC2_CTRL0_PLEVBO_SETMASK (((1<<HW_DCDC2_CTRL0_PLEVBO_WIDTH)-1)<<HW_DCDC2_CTRL0_PLEVBO_BITPOS) 
                            10359 ; 298  |#define HW_DCDC2_CTRL0_NLEV_SETMASK (((1<<HW_DCDC2_CTRL0_NLEV_WIDTH)-1)<<HW_DCDC2_CTRL0_NLEV_BITPOS)  
                            10360 ; 299  |
                            10361 ; 300  |#define HW_DCDC2_CTRL0_PLEVBU_CLRMASK (~(WORD)HW_DCDC2_CTRL0_PLEVBU_SETMASK)     
                            10362 ; 301  |#define HW_DCDC2_CTRL0_PLEVBO_CLRMASK (~(WORD)HW_DCDC2_CTRL0_PLEVBO_SETMASK) 
                            10363 ; 302  |#define HW_DCDC2_CTRL0_NLEV_CLRMASK (~(WORD)HW_DCDC2_CTRL0_NLEV_SETMASK)  
                            10364 ; 303  |
                            10365 ; 304  |
                            10366 ; 305  |typedef union               
                            10367 ; 306  |{
                            10368 ; 307  |    struct {
                            10369 ; 308  |        unsigned int PLEVBU           : HW_DCDC2_CTRL0_PLEVBU_WIDTH;
                            10370 ; 309  |        unsigned int RSVD0            : HW_DCDC2_CTRL0_RSVD0_WIDTH;
                            10371 ; 310  |        unsigned int PLEVBO           : HW_DCDC2_CTRL0_PLEVBO_WIDTH;
                            10372 ; 311  |        unsigned int RSVD1            : HW_DCDC2_CTRL0_RSVD1_WIDTH;
                            10373 ; 312  |        unsigned int NLEV             : HW_DCDC2_CTRL0_NLEV_WIDTH;
                            10374 ; 313  |        unsigned int RSVD2            : HW_DCDC2_CTRL0_RSVD2_WIDTH;
                            10375 ; 314  |    } B;
                            10376 ; 315  |    unsigned int I;
                            10377 ; 316  |} dcdc2_ctrl0_type; 
                            10378 ; 317  |#define HW_DCDC2_CTRL0      (*(volatile dcdc2_ctrl0_type _X*) (HW_DCDC_BASEADDR+5))    /* DcDc#2 Limit Level Register */
                            10379 ; 318  |
                            10380 ; 319  |
                            10381 ; 320  |
                            10382 ; 321  |
                            10383 ; 322  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  42

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10384 ; 323  |
                            10385 ; 324  |//  DcDc#2 Control Register #1 (HW_DCDC2_CTRL1) Bit Definitions
                            10386 ; 325  |
                            10387 ; 326  |#define HW_DCDC2_CTRL1_C_WIDTH (4)
                            10388 ; 327  |#define HW_DCDC2_CTRL1_R_WIDTH (4)
                            10389 ; 328  |#define HW_DCDC2_CTRL1_FFOR_WIDTH (3)
                            10390 ; 329  |#define HW_DCDC2_CTRL1_RSVD0_WIDTH (1)
                            10391 ; 330  |#define HW_DCDC2_CTRL1_PFMCTRL_WIDTH (12)
                            10392 ; 331  |
                            10393 ; 332  |
                            10394 ; 333  |#define HW_DCDC2_CTRL1_C_BITPOS (0)
                            10395 ; 334  |#define HW_DCDC2_CTRL1_R_BITPOS (4)
                            10396 ; 335  |#define HW_DCDC2_CTRL1_FFOR_BITPOS (8)
                            10397 ; 336  |#define HW_DCDC2_CTRL1_PFMCTRL_BITPOS (12)
                            10398 ; 337  |
                            10399 ; 338  |
                            10400 ; 339  |
                            10401 ; 340  |#define HW_DCDC2_CTRL1_C_SETMASK (((1<<HW_DCDC2_CTRL1_C_WIDTH)-1)<<HW_DCDC2_CTRL1_C_BITPOS)        
                            10402 ; 341  |#define HW_DCDC2_CTRL1_R_SETMASK (((1<<HW_DCDC2_CTRL1_R_WIDTH)-1)<<HW_DCDC2_CTRL1_R_BITPOS) 
                            10403 ; 342  |#define HW_DCDC2_CTRL1_FFOR_SETMASK (((1<<HW_DCDC2_CTRL1_FFOR_WIDTH)-1)<<HW_DCDC2_CTRL1_FFOR_BITPOS)  
                            10404 ; 343  |#define HW_DCDC2_CTRL1_PFMCTRL_SETMASK (((1<<HW_DCDC2_CTRL1_PFMCTRL_WIDTH)-1)<<HW_DCDC2_CTRL1_PFMCTRL_BITPOS)  
                            10405 ; 344  |
                            10406 ; 345  |
                            10407 ; 346  |
                            10408 ; 347  |#define HW_DCDC2_CTRL1_C_CLRMASK (~(WORD)HW_DCDC2_CTRL1_C_SETMASK)     
                            10409 ; 348  |#define HW_DCDC2_CTRL1_R_CLRMASK (~(WORD)HW_DCDC2_CTRL1_R_SETMASK) 
                            10410 ; 349  |#define HW_DCDC2_CTRL1_FFOR_CLRMASK (~(WORD)HW_DCDC2_CTRL1_FFOR_SETMASK)  
                            10411 ; 350  |#define HW_DCDC2_CTRL1_PFMCTRL_CLRMASK (~(WORD)HW_DCDC2_CTRL1_PFMCTRL_SETMASK)  
                            10412 ; 351  |
                            10413 ; 352  |
                            10414 ; 353  |typedef union               
                            10415 ; 354  |{
                            10416 ; 355  |    struct {
                            10417 ; 356  |        unsigned int C                : HW_DCDC2_CTRL1_C_WIDTH;
                            10418 ; 357  |        unsigned int R                : HW_DCDC2_CTRL1_R_WIDTH;
                            10419 ; 358  |        unsigned int FFOR             : HW_DCDC2_CTRL1_FFOR_WIDTH;
                            10420 ; 359  |        unsigned int RSVD0            : HW_DCDC2_CTRL1_RSVD0_WIDTH;
                            10421 ; 360  |        unsigned int PFMCTRL          : HW_DCDC2_CTRL1_FFOR_WIDTH;
                            10422 ; 361  |    } B;
                            10423 ; 362  |    unsigned int I;
                            10424 ; 363  |} dcdc2_ctrl1_type;
                            10425 ; 364  |#define HW_DCDC2_CTRL1      (*(volatile dcdc2_ctrl1_type _X*) (HW_DCDC_BASEADDR+6))    /* DcDc#2 Ctrl Register #1 */
                            10426 ; 365  |
                            10427 ; 366  |
                            10428 ; 367  |
                            10429 ; 368  |
                            10430 ; 369  |/////////////////////////////////////////////////////////////////////////////////
                            10431 ; 370  |
                            10432 ; 371  |//  Speed Monitoring Register (HW_SPEED) Bit Definitions
                            10433 ; 372  |
                            10434 ; 373  |#define HW_SPEED_OSC1_PWRUP_WIDTH (1)
                            10435 ; 374  |#define HW_SPEED_OSC1_START_COUNT_WIDTH (1)
                            10436 ; 375  |#define HW_SPEED_RSVD0_WIDTH (2)
                            10437 ; 376  |#define HW_SPEED_RINGOSC1_WIDTH (7)
                            10438 ; 377  |#define HW_SPEED_RSVD1_WIDTH (1)
                            10439 ; 378  |#define HW_SPEED_OSC2_PWRUP_WIDTH (1)
                            10440 ; 379  |#define HW_SPEED_OSC2_START_COUNT_WIDTH (1)
                            10441 ; 380  |#define HW_SPEED_RSVD2_WIDTH (2)
                            10442 ; 381  |#define HW_SPEED_RINGOSC2_WIDTH (7)
                            10443 ; 382  |#define HW_SPEED_RSVD3_WIDTH (1)
                            10444 ; 383  |
                            10445 ; 384  |
                            10446 ; 385  |
                            10447 ; 386  |#define HW_SPEED_OSC1_PWRUP_BITPOS (0)
                            10448 ; 387  |#define HW_SPEED_OSC1_START_COUNT_BITPOS (1)
                            10449 ; 388  |#define HW_SPEED_RINGOSC1_BITPOS (4)
                            10450 ; 389  |#define HW_SPEED_OSC2_PWRUP_BITPOS (12)
                            10451 ; 390  |#define HW_SPEED_OSC2_START_COUNT_BITPOS (13)
                            10452 ; 391  |#define HW_SPEED_RINGOSC2_BITPOS (16)
                            10453 ; 392  |
                            10454 ; 393  |
                            10455 ; 394  |#define HW_SPEED_OSC1_PWRUP_SETMASK (((1<<HW_SPEED_OSC1_PWRUP_WIDTH)-1)<<HW_SPEED_OSC1_PWRUP_BITPOS)        
                            10456 ; 395  |#define HW_SPEED_OSC1_START_COUNT_SETMASK (((1<<HW_SPEED_OSC1_START_COUNT_WIDTH)-1)<<HW_SPEED_OSC1_START_COUNT_BITPOS)        
                            10457 ; 396  |#define HW_SPEED_RINGOSC1_SETMASK (((1<<HW_SPEED_RINGOSC1_WIDTH)-1)<<HW_SPEED_RINGOSC1_BITPOS) 
                            10458 ; 397  |#define HW_SPEED_OSC2_PWRUP_SETMASK (((1<<HW_SPEED_OSC2_PWRUP_WIDTH)-1)<<HW_SPEED_OSC2_PWRUP_BITPOS)        
                            10459 ; 398  |
                            10460 ; 399  |#define HW_SPEED_OSC2_START_COUNT_SETMASK (((1<<HW_SPEED_OSC2_START_COUNT_WIDTH)-1)<<HW_SPEED_OSC2_START_COUNT_BITPOS)        
                            10461 ; 400  |#define HW_SPEED_RINGOSC2_SETMASK (((1<<HW_SPEED_RINGOSC2_WIDTH)-1)<<HW_SPEED_RINGOSC2_BITPOS) 
                            10462 ; 401  |
                            10463 ; 402  |
                            10464 ; 403  |
                            10465 ; 404  |#define HW_SPEED_OSC1_PWRUP_CLRMASK (~(WORD)HW_SPEED_OSC1_PWRUP_SETMASK)     
                            10466 ; 405  |#define HW_SPEED_OSC1_START_COUNT_CLRMASK (~(WORD)HW_SPEED_OSC1_START_COUNT_SETMASK)     
                            10467 ; 406  |#define HW_SPEED_RINGOSC1_CLRMASK (~(WORD)HW_SPEED_RINGOSC1_SETMASK) 
                            10468 ; 407  |#define HW_SPEED_OSC2_PWRUP_CLRMASK (~(WORD)HW_SPEED_OSC2_PWRUP_SETMASK)   
                            10469 ; 408  |#define HW_SPEED_OSC2_START_COUNT_CLRMASK (~(WORD)HW_SPEED_OSC2_START_COUNT_SETMASK)     
                            10470 ; 409  |#define HW_SPEED_RINGOSC2_CLRMASK (~(WORD)HW_SPEED_RINGOSC2_SETMASK) 
                            10471 ; 410  |
                            10472 ; 411  |
                            10473 ; 412  |typedef union               
                            10474 ; 413  |{
                            10475 ; 414  |    struct {
                            10476 ; 415  |        unsigned int OSC1_PWRUP          : HW_SPEED_OSC1_PWRUP_WIDTH;
                            10477 ; 416  |        unsigned int OSC1_START_COUNT    : HW_SPEED_OSC1_START_COUNT_WIDTH;
                            10478 ; 417  |        unsigned int RSVD0               : HW_SPEED_RSVD0_WIDTH;
                            10479 ; 418  |        unsigned int RINGOSC1            : HW_SPEED_RINGOSC1_WIDTH;
                            10480 ; 419  |        unsigned int RSVD1               : HW_SPEED_RSVD1_WIDTH;
                            10481 ; 420  |        unsigned int OSC2_PWRUP          : HW_SPEED_OSC2_PWRUP_WIDTH;
                            10482 ; 421  |        unsigned int OSC2_START_COUNT    : HW_SPEED_OSC2_START_COUNT_WIDTH;
                            10483 ; 422  |        unsigned int RSVD2               : HW_SPEED_RSVD2_WIDTH;
                            10484 ; 423  |        unsigned int RINGOSC2            : HW_SPEED_RINGOSC2_WIDTH;
                            10485 ; 424  |        unsigned int RSVD3               : HW_SPEED_RSVD3_WIDTH;
                            10486 ; 425  |    } B;
                            10487 ; 426  |    unsigned int I;
                            10488 ; 427  |} speed_type;
                            10489 ; 428  |#define HW_SPEED      (*(volatile speed_type _X*) (HW_DCDC_BASEADDR+7))    /* Speed Measurement Register */
                            10490 ; 429  |
                            10491 ; 430  |
                            10492 ; 431  |
                            10493 ; 432  |
                            10494 ; 433  |
                            10495 ; 434  |
                            10496 ; 435  |
                            10497 ; 436  |// DC DC Test Bit Register (HW_DCDCTBR) Definitions
                            10498 ; 437  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH 4
                            10499 ; 438  |#define HW_DCDC_TBR_DCDC1_DIS_5BIT_WIDTH 1
                            10500 ; 439  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH 1
                            10501 ; 440  |#define HW_DCDC_TBR_DCDC1_CLK4X_WIDTH 1
                            10502 ; 441  |#define HW_DCDC_TBR_DCDC1_CLK2X_WIDTH 1
                            10503 ; 442  |#define HW_DCDC_TBR_DCDC1_NOZERO_WIDTH 1
                            10504 ; 443  |#define HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_WIDTH 1
                            10505 ; 444  |#define HW_DCDC_TBR_DCDC1_PFM_WIDTH 1
                            10506 ; 445  |#define HW_DCDC_TBR_DCDC1_STOPCLK_WIDTH 1
                            10507 ; 446  |#define HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_WIDTH 1
                            10508 ; 447  |#define HW_DCDC_TBR_DCDC_ANA_LESSI_WIDTH 1
                            10509 ; 448  |#define HW_DCDC_TBR_DCDC_MORE_CAP_WIDTH 1
                            10510 ; 449  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH 1
                            10511 ; 450  |#define HW_DCDC_TBR_DCDC1_NEW_SCHEME_WIDTH 1
                            10512 ; 451  |#define HW_DCDC_TBR_DCDC1_HALF_FETS_WIDTH 1
                            10513 ; 452  |#define HW_DCDC_TBR_DCDC2_DIS_5BIT_WIDTH 1
                            10514 ; 453  |#define HW_DCDC_TBR_DCDC2_CLK4X_WIDTH 1
                            10515 ; 454  |#define HW_DCDC_TBR_DCDC2_CLK2X_WIDTH 1
                            10516 ; 455  |#define HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_WIDTH 1
                            10517 ; 456  |#define HW_DCDC_TBR_DCDC2_PFM_WIDTH 1
                            10518 ; 457  |#define HW_DCDC_TBR_DCDC2_STOPCLK_WIDTH 1
                            10519 ; 458  |
                            10520 ; 459  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS (0)
                            10521 ; 460  |#define HW_DCDC_TBR_DCDC1_DIS_5BIT_BITPOS (4)
                            10522 ; 461  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_BITPOS (5)
                            10523 ; 462  |#define HW_DCDC_TBR_DCDC1_CLK4X_BITPOS (6)
                            10524 ; 463  |#define HW_DCDC_TBR_DCDC1_CLK2X_BITPOS (7)
                            10525 ; 464  |#define HW_DCDC_TBR_DCDC1_NOZERO_BITPOS (8)
                            10526 ; 465  |#define HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_BITPOS (9)
                            10527 ; 466  |#define HW_DCDC_TBR_DCDC1_PFM_BITPOS (10)
                            10528 ; 467  |#define HW_DCDC_TBR_DCDC1_STOPCLK_BITPOS (11)
                            10529 ; 468  |#define HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_BITPOS (12)
                            10530 ; 469  |#define HW_DCDC_TBR_DCDC_ANA_LESSI_BITPOS (13)
                            10531 ; 470  |#define HW_DCDC_TBR_DCDC_MORE_CAP_BITPOS (14)
                            10532 ; 471  |#define HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS (15)
                            10533 ; 472  |#define HW_DCDC_TBR_DCDC1_NEW_SCHEME_BITPOS (16)
                            10534 ; 473  |#define HW_DCDC_TBR_DCDC1_HALF_FETS_BITPOS (17)
                            10535 ; 474  |#define HW_DCDC_TBR_DCDC2_DIS_5BIT_BITPOS (18)
                            10536 ; 475  |#define HW_DCDC_TBR_DCDC2_CLK4X_BITPOS (19)
                            10537 ; 476  |#define HW_DCDC_TBR_DCDC2_CLK2X_BITPOS (20)
                            10538 ; 477  |#define HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_BITPOS (21)
                            10539 ; 478  |#define HW_DCDC_TBR_DCDC2_PFM_BITPOS (22)
                            10540 ; 479  |#define HW_DCDC_TBR_DCDC2_STOPCLK_BITPOS (23)
                            10541 ; 480  |
                            10542 ; 481  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK (((1<<HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH)-1)<<HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS)
                            10543 ; 482  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK (((1<<HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH)-1)<<HW_DCDC_TBR_DCDC1_BAT_ADJ_BITPOS)
                            10544 ; 483  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK (((1<<HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH)-1)<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)
                            10545 ; 484  |
                            10546 ; 485  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK)
                            10547 ; 486  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK)
                            10548 ; 487  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK)
                            10549 ; 488  |
                            10550 ; 489  |// Defines for What needs to change to be able to use a higher Core voltage and when the change should happen
                            10551 ; 490  |#define HW_DCDC_VDDD_CHANGE_TBR_CUTOFF_VALUE ((18<<HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS)&HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK)
                            10552 ; 491  |#define HW_DCDC_TBR_VDDD_HI_VALUE ((1<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)&HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK)
                            10553 ; 492  |#define HW_DCDC_TBR_VDDD_LO_VALUE (((1<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)&HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK)+((2<<HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS)&HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK)+((1<<HW_DCDC_TBR_DC
                                  DC1_BAT_ADJ_BITPOS)&HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK))
                            10554 ; 493  |
                            10555 ; 494  |typedef union               
                            10556 ; 495  |{
                            10557 ; 496  |    struct {
                            10558 ; 497  |        unsigned int DCDC1_ADJ_TN               : HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH;
                            10559 ; 498  |        unsigned int DCDC1_DIS_5BIT             : HW_DCDC_TBR_DCDC1_DIS_5BIT_WIDTH;
                            10560 ; 499  |        unsigned int DCDC1_BAT_ADJ              : HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH;
                            10561 ; 500  |        unsigned int DCDC1_CLK4X                : HW_DCDC_TBR_DCDC1_CLK4X_WIDTH;
                            10562 ; 501  |        unsigned int DCDC1_CLK2X                : HW_DCDC_TBR_DCDC1_CLK2X_WIDTH;
                            10563 ; 502  |        unsigned int DCDC1_NOZERO               : HW_DCDC_TBR_DCDC1_NOZERO_WIDTH;
                            10564 ; 503  |        unsigned int DCDC1_VDD5V_ACTIVE         : HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_WIDTH;
                            10565 ; 504  |        unsigned int DCDC1_PFM                  : HW_DCDC_TBR_DCDC1_PFM_WIDTH;
                            10566 ; 505  |        unsigned int DCDC1_STOPCLK              : HW_DCDC_TBR_DCDC1_STOPCLK_WIDTH;
                            10567 ; 506  |        unsigned int PWRUP_VDDIO_BRNOUT         : HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_WIDTH;
                            10568 ; 507  |        unsigned int DCDC_ANA_LESSI             : HW_DCDC_TBR_DCDC_ANA_LESSI_WIDTH;
                            10569 ; 508  |        unsigned int DCDC_MORE_CAP              : HW_DCDC_TBR_DCDC_MORE_CAP_WIDTH;
                            10570 ; 509  |        unsigned int DCDC_ANA_BGR_BIAS          : HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH;
                            10571 ; 510  |        unsigned int DCDC1_NEW_SCHEME           : HW_DCDC_TBR_DCDC1_NEW_SCHEME_WIDTH;
                            10572 ; 511  |        unsigned int DCDC1_HALF_FETS            : HW_DCDC_TBR_DCDC1_HALF_FETS_WIDTH;
                            10573 ; 512  |        unsigned int DCDC2_DIS_5BIT             : HW_DCDC_TBR_DCDC2_DIS_5BIT_WIDTH;
                            10574 ; 513  |        unsigned int DCDC2_CLK4X                : HW_DCDC_TBR_DCDC2_CLK4X_WIDTH;
                            10575 ; 514  |        unsigned int DCDC2_CLK2X                : HW_DCDC_TBR_DCDC2_CLK2X_WIDTH;
                            10576 ; 515  |        unsigned int DCDC2_VDD5V_ACTIVE         : HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_WIDTH;
                            10577 ; 516  |        unsigned int DCDC2_PFM                  : HW_DCDC_TBR_DCDC2_PFM_WIDTH;
                            10578 ; 517  |        unsigned int DCDC2_STOPCLK              : HW_DCDC_TBR_DCDC2_STOPCLK_WIDTH;
                            10579 ; 518  |    } B;
                            10580 ; 519  |    unsigned int I;
                            10581 ; 520  |} usb_dcdctbr_type;
                            10582 ; 521  |#define HW_DCDC_TBR                     (*(volatile usb_dcdctbr_type _X*) (HW_DCDC_BASEADDR+8))    /* Analog test bit register*/
                            10583 ; 522  |
                            10584 ; 523  |
                            10585 ; 524  |/////////////////////////////////////////////////////////////////////////////////
                            10586 ; 525  |
                            10587 ; 526  |//  Analog Persistent Config (HW_VDD5V_PWR_CHARGE) Bit Definitions
                            10588 ; 527  |
                            10589 ; 528  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH (6)
                            10590 ; 529  |#define HW_VDD5V_PWR_CHARGE_RSVD0_WIDTH (2)
                            10591 ; 530  |#define HW_VDD5V_PWR_CHARGE_PWD_WIDTH (1)
                            10592 ; 531  |#define HW_VDD5V_PWR_CHARGE_RES_WIDTH (1)
                            10593 ; 532  |#define HW_VDD5V_PWR_CHARGE_NIMH_WIDTH (1)
                            10594 ; 533  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH (1)
                            10595 ; 534  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH (1)
                            10596 ; 535  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WIDTH (1)
                            10597 ; 536  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH (1)
                            10598 ; 537  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH (1)
                            10599 ; 538  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH (1)
                            10600 ; 539  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH (1)
                            10601 ; 540  |#define HW_VDD5V_PWR_CHARGE_RSVD1_WIDTH (2)
                            10602 ; 541  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH (1)
                            10603 ; 542  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_WIDTH (2)
                            10604 ; 543  |#define HW_VDD5V_PWR_CHARGE_RSVD2_WIDTH (3)
                            10605 ; 544  |
                            10606 ; 545  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_BITPOS (0)
                            10607 ; 546  |#define HW_VDD5V_PWR_CHARGE_PWD_BITPOS (8)
                            10608 ; 547  |#define HW_VDD5V_PWR_CHARGE_RES_BITPOS (9)
                            10609 ; 548  |#define HW_VDD5V_PWR_CHARGE_NIMH_BITPOS (10)
                            10610 ; 549  |
                            10611 ; 550  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_BITPOS (11)
                            10612 ; 551  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_BITPOS (12)
                            10613 ; 552  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_BITPOS (13)
                            10614 ; 553  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_BITPOS (14)
                            10615 ; 554  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_BITPOS (15)
                            10616 ; 555  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_BITPOS (16)
                            10617 ; 556  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_BITPOS (17)
                            10618 ; 557  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_BITPOS (20)
                            10619 ; 558  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_BITPOS (21)
                            10620 ; 559  |
                            10621 ; 560  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_BATT_CURRENT_BITPOS)        
                            10622 ; 561  |#define HW_VDD5V_PWR_CHARGE_PWD_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_PWD_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_PWD_BITPOS)        
                            10623 ; 562  |#define HW_VDD5V_PWR_CHARGE_RES_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_RES_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_RES_BITPOS) 
                            10624 ; 563  |#define HW_VDD5V_PWR_CHARGE_NIMH_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_NIMH_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_NIMH_BITPOS) 
                            10625 ; 564  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_LI_TYPE_BITPOS) 
                            10626 ; 565  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_BITPOS)        
                            10627 ; 566  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_BITPOS)        
                            10628 ; 567  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_DCANA_LP_BITPOS) 
                            10629 ; 568  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_TEST_USBREGS_BITPOS) 
                            10630 ; 569  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_DRV_BATT_BITPOS) 
                            10631 ; 570  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_BITPOS) 
                            10632 ; 571  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_BITPOS) 
                            10633 ; 572  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_BATT_INFO_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_BATT_INFO_BITPOS) 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  43

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10634 ; 573  |
                            10635 ; 574  |
                            10636 ; 575  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_BATT_CURRENT_SETMASK)     
                            10637 ; 576  |#define HW_VDD5V_PWR_CHARGE_PWD_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_PWD_SETMASK)     
                            10638 ; 577  |#define HW_VDD5V_PWR_CHARGE_RES_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_RES_SETMASK) 
                            10639 ; 578  |#define HW_VDD5V_PWR_CHARGE_NIMH_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_NIMH_SETMASK) 
                            10640 ; 579  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_LI_TYPE_SETMASK) 
                            10641 ; 580  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_SETMASK)     
                            10642 ; 581  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_SETMASK)     
                            10643 ; 582  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DCANA_LP_SETMASK) 
                            10644 ; 583  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_TEST_USBREGS_SETMASK) 
                            10645 ; 584  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DRV_BATT_SETMASK) 
                            10646 ; 585  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_SETMASK) 
                            10647 ; 586  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_SETMASK) 
                            10648 ; 587  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_BATT_INFO_SETMASK) 
                            10649 ; 588  |
                            10650 ; 589  |typedef union               
                            10651 ; 590  |{
                            10652 ; 591  |    struct {
                            10653 ; 592  |        unsigned int BATT_CURRENT               : HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH;
                            10654 ; 593  |        unsigned int RSVD0                      : HW_VDD5V_PWR_CHARGE_RSVD0_WIDTH;
                            10655 ; 594  |        unsigned int PWD                        : HW_VDD5V_PWR_CHARGE_PWD_WIDTH;
                            10656 ; 595  |        unsigned int RES                        : HW_VDD5V_PWR_CHARGE_RES_WIDTH;
                            10657 ; 596  |        unsigned int NIMH                       : HW_VDD5V_PWR_CHARGE_NIMH_WIDTH;
                            10658 ; 597  |        unsigned int LI_TYPE                    : HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH;
                            10659 ; 598  |        unsigned int DISABLE_ILIMIT             : HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH;
                            10660 ; 599  |        unsigned int PWDN_ON_IOBRNOUT           : HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WIDTH;
                            10661 ; 600  |        unsigned int DCANA_LP                   : HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH;
                            10662 ; 601  |        unsigned int TEST_USBREGS               : HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH;
                            10663 ; 602  |        unsigned int DRV_BATT                   : HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH;
                            10664 ; 603  |        unsigned int SWCHRG_BAT                 : HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH;
                            10665 ; 604  |        unsigned int RSVD1                      : HW_VDD5V_PWR_CHARGE_RSVD1_WIDTH;
                            10666 ; 605  |        unsigned int VDD5V_PRESENT              : HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH;
                            10667 ; 606  |        unsigned int RSVD2                      : HW_VDD5V_PWR_CHARGE_RSVD2_WIDTH;
                            10668 ; 607  |    } B;
                            10669 ; 608  |    unsigned int I;
                            10670 ; 609  |} usb_pwr_charge_type;
                            10671 ; 610  |#define HW_VDD5V_PWR_CHARGE      (*(volatile usb_pwr_charge_type _X*) (HW_DCDC_BASEADDR+17))    /* Analog Persistent Config Register */
                            10672 ; 611  |
                            10673 ; 612  |#define HW_DCDC_PERSIST_AUTO_RESTART_STAT_WIDTH 1
                            10674 ; 613  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_WIDTH 1
                            10675 ; 614  |#define HW_DCDC_PERSIST_UPDATE_WIDTH 1
                            10676 ; 615  |#define HW_DCDC_PERSIST_AUTO_RESTART_WIDTH 1
                            10677 ; 616  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_WIDTH 1
                            10678 ; 617  |#define HW_DCDC_PERSIST_LOW_BATT_TYPE_WIDTH 1
                            10679 ; 618  |#define HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_WIDTH 1
                            10680 ; 619  |#define HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_WIDTH 1
                            10681 ; 620  |#define HW_DCDC_PERSIST_XTAL_TRIM1_WIDTH 1
                            10682 ; 621  |#define HW_DCDC_PERSIST_XTAL_TRIM0_WIDTH 1
                            10683 ; 622  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_WIDTH 1
                            10684 ; 623  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_WIDTH 1
                            10685 ; 624  |#define HW_DCDC_PERSIST_XTAL_TRM_ENABLE_WIDTH 1
                            10686 ; 625  |#define HW_DCDC_PERSIST_RSRVD_WIDTH 2
                            10687 ; 626  |
                            10688 ; 627  |#define HW_DCDC_PERSIST_AUTO_RESTART_STAT_BITPOS 12
                            10689 ; 628  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_BITPOS 11
                            10690 ; 629  |#define HW_DCDC_PERSIST_UPDATE_BITPOS 10
                            10691 ; 630  |#define HW_DCDC_PERSIST_AUTO_RESTART_BITPOS 9
                            10692 ; 631  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_BITPOS 8 
                            10693 ; 632  |#define HW_DCDC_PERSIST_LOW_BATT_TYPE_BITPOS 7
                            10694 ; 633  |#define HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_BITPOS 6
                            10695 ; 634  |#define HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_BITPOS 5
                            10696 ; 635  |#define HW_DCDC_PERSIST_XTAL_TRIM1_BITPOS 4
                            10697 ; 636  |#define HW_DCDC_PERSIST_XTAL_TRIM0_BITPOS 3
                            10698 ; 637  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_BITPOS 2
                            10699 ; 638  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_BITPOS 1
                            10700 ; 639  |#define HW_DCDC_PERSIST_XTAL_TRM_ENABLE_BITPOS 0
                            10701 ; 640  |
                            10702 ; 641  |typedef union               
                            10703 ; 642  |{
                            10704 ; 643  |    struct {       
                            10705 ; 644  |       int XTAL_TRM_ENABLE             : HW_DCDC_PERSIST_XTAL_TRM_ENABLE_WIDTH;
                            10706 ; 645  |       int XTAL_BIAS_DOWN0             : HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_WIDTH;
                            10707 ; 646  |       int XTAL_BIAS_DOWN1             : HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_WIDTH;
                            10708 ; 647  |       int XTAL_TRIM0                  : HW_DCDC_PERSIST_XTAL_TRIM0_WIDTH;
                            10709 ; 648  |       int XTAL_TRIM1                  : HW_DCDC_PERSIST_XTAL_TRIM1_WIDTH;
                            10710 ; 649  |       int SLEEP_XTAL_ENABLE           : HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_WIDTH;
                            10711 ; 650  |       int LOW_BATTERY_ENABLE          : HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_WIDTH;
                            10712 ; 651  |       int LOW_BATT_TYPE               : HW_DCDC_PERSIST_LOW_BATT_TYPE_WIDTH;
                            10713 ; 652  |       int DELAY_5V_AUTO_RESTART       : HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_WIDTH;
                            10714 ; 653  |       int AUTO_RESTART                : HW_DCDC_PERSIST_AUTO_RESTART_WIDTH;
                            10715 ; 654  |       int UPDATE                      : HW_DCDC_PERSIST_UPDATE_WIDTH;
                            10716 ; 655  |       int DELAY_5V_AUTO_RESTART_STAT  : HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_WIDTH;
                            10717 ; 656  |       int AUTO_RESTART_STAT           : HW_DCDC_PERSIST_AUTO_RESTART_STAT_WIDTH;
                            10718 ; 657  |       int RSRVD                       : HW_DCDC_PERSIST_RSRVD_WIDTH;
                            10719 ; 658  |    } B;
                            10720 ; 659  |    int I;
                            10721 ; 660  |} usb_dcdcpersist_type;
                            10722 ; 661  |#define HW_DCDC_PERSIST                (*(volatile usb_dcdcpersist_type _X*) (HW_DCDC_BASEADDR+15))    /* Analog test bit register*/
                            10723 ; 662  |
                            10724 ; 663  |
                            10725 ; 664  |
                            10726 ; 665  |#endif
                            10727 ; 666  |
                            10728 ; 667  |
                            10729 ; 668  |
                            10730 
                            10732 
                            10733 ; 21   |#include "regsemc.h"
                            10734 
                            10736 
                            10737 ; 1    |#if !(defined(__REGS_EMC_INC))
                            10738 ; 2    |#define __REGS_EMC_INC 1
                            10739 ; 3    |
                            10740 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            10741 ; 5    |//   Module base addresses
                            10742 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                            10743 ; 7    |#define HW_EMC_BASEADDR 0xF000
                            10744 ; 8    |
                            10745 ; 9    |/////////////////////////////////////////////////////////////////////////////////
                            10746 ; 10   |//  EMC Registers
                            10747 ; 11   |/////////////////////////////////////////////////////////////////////////////////
                            10748 ; 12   |
                            10749 ; 13   |
                            10750 ; 14   |/////////////////////////////////////////////////////////////////////////////////
                            10751 ; 15   |//  Flash Control Register (HW_FLCR) Bit Definitions
                            10752 ; 16   |
                            10753 ; 17   |typedef union               /*Flash Control Register*/
                            10754 ; 18   |{
                            10755 ; 19   |    struct
                            10756 ; 20   |    {
                            10757 ; 21   |    int KICK        :1;
                            10758 ; 22   |    int RW          :1;
                            10759 ; 23   |    int TCIE        :1;
                            10760 ; 24   |    int IRQP        :1;
                            10761 ; 25   |    unsigned MMD    :2;
                            10762 ; 26   |    unsigned NB     :11;
                            10763 ; 27   |    unsigned RSVD   :4;
                            10764 ; 28   |    int SRST        :1;
                            10765 ; 29   |    } B;
                            10766 ; 30   |    int I;
                            10767 ; 31   |} flcr_type;
                            10768 ; 32   |
                            10769 ; 33   |#define HW_FLCR_KICK_BITPOS 0
                            10770 ; 34   |#define HW_FLCR_RW_BITPOS 1
                            10771 ; 35   |#define HW_FLCR_TCIE_BITPOS 2
                            10772 ; 36   |#define HW_FLCR_IRQP_BITPOS 3
                            10773 ; 37   |#define HW_FLCR_MMD_BITPOS 4
                            10774 ; 38   |#define HW_FLCR_NB_BITPOS 6
                            10775 ; 39   |#define HW_FLCR_SRST_BITPOS 21
                            10776 ; 40   |
                            10777 ; 41   |#define HW_FLCR_KICK_SETMASK 1<<HW_FLCR_KICK_BITPOS
                            10778 ; 42   |#define HW_FLCR_RW_SETMASK 1<<HW_FLCR_RW_BITPOS
                            10779 ; 43   |#define HW_FLCR_READ_KICK_SETMASK HW_FLCR_KICK_SETMASK|HW_FLCR_RW_SETMASK
                            10780 ; 44   |#define HW_FLCR_WRITE_KICK_SETMASK HW_FLCR_KICK_SETMASK
                            10781 ; 45   |#define HW_FLCR_TCIE_SETMASK 1<<HW_FLCR_TCIE_BITPOS
                            10782 ; 46   |#define HW_FLCR_IRQP_SETMASK 1<<HW_FLCR_IRQP_BITPOS
                            10783 ; 47   |#define HW_FLCR_MMD_SETMASK 3<<HW_FLCR_MMD_BITPOS
                            10784 ; 48   |#define HW_FLCR_NB_SETMASK 0x7FF<<HW_FLCR_NB_BITPOS
                            10785 ; 49   |#define HW_FLCR_SRST_SETMASK 1<<HW_FLCR_SRST_BITPOS
                            10786 ; 50   |
                            10787 ; 51   |#define HW_FLCR_KICK_CLRMASK ~(WORD)HW_FLCR_KICK_SETMASK
                            10788 ; 52   |#define HW_FLCR_RW_CLRMASK ~(WORD)HW_FLCR_RW_SETMASK
                            10789 ; 53   |#define HW_FLCR_TCIE_CLRMASK ~(WORD)HW_FLCR_TCIE_SETMASK
                            10790 ; 54   |#define HW_FLCR_IRQP_CLRMASK ~(WORD)HW_FLCR_IRQP_SETMASK
                            10791 ; 55   |#define HW_FLCR_MMD_CLRMASK ~(WORD)HW_FLCR_MMD_SETMASK
                            10792 ; 56   |#define HW_FLCR_NB_CLRMASK ~(WORD)HW_FLCR_NB_SETMASK
                            10793 ; 57   |#define HW_FLCR_SRST_CLRMASK ~(WORD)HW_FLCR_SRST_SETMASK
                            10794 ; 58   |
                            10795 ; 59   |
                            10796 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            10797 ; 61   |//  Flash Start Address Low Register (HW_FLSALR) Bit Definitions
                            10798 ; 62   |
                            10799 ; 63   |typedef union           /* Flash Start Address Low*/
                            10800 ; 64   |{
                            10801 ; 65   |    struct
                            10802 ; 66   |    {
                            10803 ; 67   |    unsigned XA     : 24;
                            10804 ; 68   |    } B;
                            10805 ; 69   |    int I;
                            10806 ; 70   |} flsalr_type;
                            10807 ; 71   |
                            10808 ; 72   |#define HW_FLSALR_XA_BITPOS 0
                            10809 ; 73   |
                            10810 ; 74   |#define HW_FLSALR_XA_SETMASK 0xFFFFFF<<HW_FLSALR_XA_BITPOS
                            10811 ; 75   |
                            10812 ; 76   |#define HW_FLSALR_XA_CLRMASK ~(WORD)HW_FLSALR_XA_SETMASK
                            10813 ; 77   |
                            10814 ; 78   |
                            10815 ; 79   |/////////////////////////////////////////////////////////////////////////////////
                            10816 ; 80   |//  Flash Start Address High Register (HW_FLSAHR) Bit Definitions
                            10817 ; 81   |
                            10818 ; 82   |typedef union           /* Flash Start Address High*/
                            10819 ; 83   |{
                            10820 ; 84   |    struct
                            10821 ; 85   |    {
                            10822 ; 86   |    unsigned XA     :8;
                            10823 ; 87   |    unsigned DA     :16;
                            10824 ; 88   |    } B;
                            10825 ; 89   |    int I;
                            10826 ; 90   |} flsahr_type;
                            10827 ; 91   |
                            10828 ; 92   |#define HW_FLSAHR_XA_BITPOS 0
                            10829 ; 93   |
                            10830 ; 94   |#define HW_FLSAHR_XA_SETMASK 0xFFFFFF<<HW_FLSAHR_XA_BITPOS
                            10831 ; 95   |
                            10832 ; 96   |#define HW_FLSAHR_XA_CLRMASK ~(WORD)HW_FLSAHR_XA_SETMASK
                            10833 ; 97   |
                            10834 ; 98   |
                            10835 ; 99   |/////////////////////////////////////////////////////////////////////////////////
                            10836 ; 100  |//  EMC Flash CompactFlash Control Register (HW_FLCFCR) Bit Definitions
                            10837 ; 101  |
                            10838 ; 102  |typedef union           /* Flash CompactFlash Control Register*/
                            10839 ; 103  |{
                            10840 ; 104  |    struct
                            10841 ; 105  |    {
                            10842 ; 106  |        int WP          :1;
                            10843 ; 107  |        int CDP         :1;
                            10844 ; 108  |        unsigned SM     :2;
                            10845 ; 109  |        int XATTR       :1;
                            10846 ; 110  |        int CRST        :1;
                            10847 ; 111  |        int XWT         :1;
                            10848 ; 112  |        int RI          :1;
                            10849 ; 113  |        int IFCE        :1;
                            10850 ; 114  |        int ISCE        :1;
                            10851 ; 115  |        int INCE        :1;
                            10852 ; 116  |        int IFCS        :1;
                            10853 ; 117  |        int ISCS        :1;
                            10854 ; 118  |        int INCS        :1;
                            10855 ; 119  |        unsigned CFAI   :2;
                            10856 ; 120  |        int XDDI        :1;
                            10857 ; 121  |        unsigned CS     :2;
                            10858 ; 122  |        int CRE         :1;
                            10859 ; 123  |        unsigned VS     :2;
                            10860 ; 124  |        int DASP        :1;
                            10861 ; 125  |        int MODE16      :1; 
                            10862 ; 126  |    } B;
                            10863 ; 127  |    int I;
                            10864 ; 128  |} flcfcr_type;
                            10865 ; 129  |
                            10866 ; 130  |#define HW_FLCFCR_WP_BITPOS 0
                            10867 ; 131  |#define HW_FLCFCR_CDP_BITPOS 1
                            10868 ; 132  |#define HW_FLCFCR_SM_BITPOS 2
                            10869 ; 133  |#define HW_FLCFCR_XATTR_BITPOS 4
                            10870 ; 134  |#define HW_FLCFCR_CRST_BITPOS 5
                            10871 ; 135  |#define HW_FLCFCR_XWT_BITPOS 6
                            10872 ; 136  |#define HW_FLCFCR_RI_BITPOS 7
                            10873 ; 137  |#define HW_FLCFCR_IFCE_BITPOS 8
                            10874 ; 138  |#define HW_FLCFCR_ISCE_BITPOS 9
                            10875 ; 139  |#define HW_FLCFCR_INCE_BITPOS 10
                            10876 ; 140  |#define HW_FLCFCR_IFCS_BITPOS 11
                            10877 ; 141  |#define HW_FLCFCR_ISCS_BITPOS 12
                            10878 ; 142  |#define HW_FLCFCR_INCS_BITPOS 13
                            10879 ; 143  |#define HW_FLCFCR_CFAI_BITPOS 14
                            10880 ; 144  |#define HW_FLCFCR_XDDI_BITPOS 16
                            10881 ; 145  |#define HW_FLCFCR_CS_BITPOS 17
                            10882 ; 146  |#define HW_FLCFCR_CRE_BITPOS 19
                            10883 ; 147  |#define HW_FLCFCR_VS_BITPOS 20
                            10884 ; 148  |#define HW_FLCFCR_DASP_BITPOS 22
                            10885 ; 149  |
                            10886 ; 150  |#define HW_FLCFCR_WP_SETMASK 1<<HW_FLCFCR_WP_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  44

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10887 ; 151  |#define HW_FLCFCR_CDP_SETMASK 1<<HW_FLCFCR_CDP_BITPOS
                            10888 ; 152  |#define HW_FLCFCR_SM_SETMASK 3<<HW_FLCFCR_SM_BITPOS
                            10889 ; 153  |#define HW_FLCFCR_XATTR_SETMASK 1<<HW_FLCFCR_XATTR_BITPOS
                            10890 ; 154  |#define HW_FLCFCR_CRST_SETMASK 1<<HW_FLCFCR_CRST_BITPOS
                            10891 ; 155  |#define HW_FLCFCR_XWT_SETMASK 1<<HW_FLCFCR_XWT_BITPOS
                            10892 ; 156  |#define HW_FLCFCR_RI_SETMASK 1<<HW_FLCFCR_RI_BITPOS
                            10893 ; 157  |#define HW_FLCFCR_IFCE_SETMASK 1<<HW_FLCFCR_IFCE_BITPOS
                            10894 ; 158  |#define HW_FLCFCR_ISCE_SETMASK 1<<HW_FLCFCR_ISCE_BITPOS
                            10895 ; 159  |#define HW_FLCFCR_INCE_SETMASK 1<<HW_FLCFCR_INCE_BITPOS
                            10896 ; 160  |#define HW_FLCFCR_IFCS_SETMASK 1<<HW_FLCFCR_IFCS_BITPOS
                            10897 ; 161  |#define HW_FLCFCR_ISCS_SETMASK 1<<HW_FLCFCR_ISCS_BITPOS
                            10898 ; 162  |#define HW_FLCFCR_INCS_SETMASK 1<<HW_FLCFCR_INCS_BITPOS
                            10899 ; 163  |#define HW_FLCFCR_CFAI_SETMASK 3<<HW_FLCFCR_CFAI_BITPOS
                            10900 ; 164  |#define HW_FLCFCR_XDDI_SETMASK 1<<HW_FLCFCR_XDDI_BITPOS
                            10901 ; 165  |#define HW_FLCFCR_CS_SETMASK 3<<HW_FLCFCR_CS_BITPOS
                            10902 ; 166  |#define HW_FLCFCR_CRE_SETMASK 1<<HW_FLCFCR_CRE_BITPOS
                            10903 ; 167  |#define HW_FLCFCR_VS_SETMASK 3<<HW_FLCFCR_VS_BITPOS
                            10904 ; 168  |#define HW_FLCFCR_DASP_SETMASK 1<<HW_FLCFCR_DASP_BITPOS
                            10905 ; 169  |
                            10906 ; 170  |#define HW_FLCFCR_WP_CLRMASK ~(WORD)HW_FLCFCR_WP_SETMASK
                            10907 ; 171  |#define HW_FLCFCR_CDP_CLRMASK ~(WORD)HW_FLCFCR_CDP_SETMASK
                            10908 ; 172  |#define HW_FLCFCR_SM_CLRMASK ~(WORD)HW_FLCFCR_SM_SETMASK
                            10909 ; 173  |#define HW_FLCFCR_XATTR_CLRMASK ~(WORD)HW_FLCFCR_XATTR_SETMASK
                            10910 ; 174  |#define HW_FLCFCR_CRST_CLRMASK ~(WORD)HW_FLCFCR_CRST_SETMASK
                            10911 ; 175  |#define HW_FLCFCR_XWT_CLRMASK ~(WORD)HW_FLCFCR_XWT_SETMASK
                            10912 ; 176  |#define HW_FLCFCR_RI_CLRMASK ~(WORD)HW_FLCFCR_RI_SETMASK
                            10913 ; 177  |#define HW_FLCFCR_IFCE_CLRMASK ~(WORD)HW_FLCFCR_IFCE_SETMASK
                            10914 ; 178  |#define HW_FLCFCR_ISCE_CLRMASK ~(WORD)HW_FLCFCR_ISCE_SETMASK
                            10915 ; 179  |#define HW_FLCFCR_INCE_CLRMASK ~(WORD)HW_FLCFCR_INCE_SETMASK
                            10916 ; 180  |#define HW_FLCFCR_IFCS_CLRMASK ~(WORD)HW_FLCFCR_IFCS_SETMASK
                            10917 ; 181  |#define HW_FLCFCR_ISCS_CLRMASK ~(WORD)HW_FLCFCR_ISCS_SETMASK
                            10918 ; 182  |#define HW_FLCFCR_INCS_CLRMASK ~(WORD)HW_FLCFCR_INCS_SETMASK
                            10919 ; 183  |#define HW_FLCFCR_CFAI_CLRMASK ~(WORD)HW_FLCFCR_CFAI_SETMASK
                            10920 ; 184  |#define HW_FLCFCR_XDDI_CLRMASK ~(WORD)HW_FLCFCR_XDDI_SETMASK
                            10921 ; 185  |#define HW_FLCFCR_CS_CLRMASK ~(WORD)HW_FLCFCR_CS_SETMASK
                            10922 ; 186  |#define HW_FLCFCR_CRE_CLRMASK ~(WORD)HW_FLCFCR_CRE_SETMASK
                            10923 ; 187  |#define HW_FLCFCR_VS_CLRMASK ~(WORD)HW_FLCFCR_VS_SETMASK
                            10924 ; 188  |#define HW_FLCFCR_DASP_CLRMASK ~(WORD)HW_FLCFCR_DASP_SETMASK
                            10925 ; 189  |
                            10926 ; 190  |
                            10927 ; 191  |/////////////////////////////////////////////////////////////////////////////////
                            10928 ; 192  |//  EMC Flash Compact Flash Timer1 Register (HW_FLCFTMR1R) Bit Definitions
                            10929 ; 193  |
                            10930 ; 194  |typedef union           /* Flash CompactFlash Timer1 Register*/
                            10931 ; 195  |{
                            10932 ; 196  |    struct
                            10933 ; 197  |    {
                            10934 ; 198  |        unsigned TRWSU  :5;
                            10935 ; 199  |        unsigned TRPW   :7;
                            10936 ; 200  |        unsigned TWPW   :7;
                            10937 ; 201  |        unsigned TRWH   :5;
                            10938 ; 202  |    } B;
                            10939 ; 203  |    int I;
                            10940 ; 204  |} flcftmr1r_type;
                            10941 ; 205  |
                            10942 ; 206  |#define HW_FLCFTMR1R_TRWSU_BITPOS 0
                            10943 ; 207  |#define HW_FLCFTMR1R_TRPW_BITPOS 5
                            10944 ; 208  |#define HW_FLCFTMR1R_TWPW_BITPOS 12
                            10945 ; 209  |#define HW_FLCFTMR1R_TRWH_BITPOS 19
                            10946 ; 210  |
                            10947 ; 211  |#define HW_FLCFTMR1R_TRWSU_SETMASK 0x1F<<HW_FLCFTMR1R_TRWSU_BITPOS
                            10948 ; 212  |#define HW_FLCFTMR1R_TRPW_SETMASK 0x7F<<HW_FLCFTMR1R_TRPW_BITPOS
                            10949 ; 213  |#define HW_FLCFTMR1R_TWPW_SETMASK 0x7F<<HW_FLCFTMR1R_TWPW_BITPOS
                            10950 ; 214  |#define HW_FLCFTMR1R_TRWH_SETMASK 0x1F<<HW_FLCFTMR1R_TRWH_BITPOS
                            10951 ; 215  |
                            10952 ; 216  |#define HW_FLCFTMR1R_TRWSU_CLRMASK ~(WORD)HW_FLCFTMR1R_TRWSU_SETMASK
                            10953 ; 217  |#define HW_FLCFTMR1R_TRPW_CLRMASK ~(WORD)HW_FLCFTMR1R_TRPW_SETMASK
                            10954 ; 218  |#define HW_FLCFTMR1R_TWPW_CLRMASK ~(WORD)HW_FLCFTMR1R_TWPW_SETMASK
                            10955 ; 219  |#define HW_FLCFTMR1R_TRWH_CLRMASK ~(WORD)HW_FLCFTMR1R_TRWH_SETMASK
                            10956 ; 220  |
                            10957 ; 221  |
                            10958 ; 222  |/////////////////////////////////////////////////////////////////////////////////
                            10959 ; 223  |//  EMC Flash Compact Flash Timer1 Register (HW_FLCFTMR2R) Bit Definitions
                            10960 ; 224  |
                            10961 ; 225  |typedef union           /* Flash CompactFlash Timer2 Register*/
                            10962 ; 226  |{
                            10963 ; 227  |    struct
                            10964 ; 228  |    {
                            10965 ; 229  |        unsigned TWW    :4;
                            10966 ; 230  |        unsigned TWTO   :10;
                            10967 ; 231  |        unsigned THW    :5; 
                            10968 ; 232  |        unsigned TRAQ   :5;
                            10969 ; 233  |    } B;
                            10970 ; 234  |    int I;
                            10971 ; 235  |} flcftmr2r_type;
                            10972 ; 236  |
                            10973 ; 237  |#define HW_FLCFTMR2R_TWW_BITPOS 0
                            10974 ; 238  |#define HW_FLCFTMR2R_TWTO_BITPOS 4
                            10975 ; 239  |#define HW_FLCFTMR2R_THW_BITPOS 14
                            10976 ; 240  |#define HW_FLCFTMR2R_TRAQ_BITPOS 19
                            10977 ; 241  |
                            10978 ; 242  |#define HW_FLCFTMR2R_TWW_SETMASK 0xF<<HW_FLCFTMR2R_TWW_BITPOS
                            10979 ; 243  |#define HW_FLCFTMR2R_TWTO_SETMASK 0x3FF<<HW_FLCFTMR2R_TWTO_BITPOS
                            10980 ; 244  |#define HW_FLCFTMR2R_THW_SETMASK 0x1F<<HW_FLCFTMR2R_THW_BITPOS
                            10981 ; 245  |#define HW_FLCFTMR2R_TRAQ_SETMASK 0x1F<<HW_FLCFTMR2R_TRAQ_BITPOS
                            10982 ; 246  |
                            10983 ; 247  |#define HW_FLCFTMR2R_TWW_CLRMASK ~(WORD)HW_FLCFTMR2R_TWW_SETMASK
                            10984 ; 248  |#define HW_FLCFTMR2R_TWTO_CLRMASK ~(WORD)HW_FLCFTMR2R_TWTO_SETMASK
                            10985 ; 249  |#define HW_FLCFTMR2R_THW_CLRMASK ~(WORD)HW_FLCFTMR2R_THW_SETMASK
                            10986 ; 250  |#define HW_FLCFTMR2R_TRAQ_CLRMASK ~(WORD)HW_FLCFTMR2R_TRAQ_SETMASK
                            10987 ; 251  |
                            10988 ; 252  |
                            10989 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            10990 ; 254  |//  EMC Flash SmartMedia Control Register (HW_FLSMCR) Bit Definitions
                            10991 ; 255  |
                            10992 ; 256  |typedef union           /* Flash SmartMedia Control Register*/
                            10993 ; 257  |{
                            10994 ; 258  |    struct
                            10995 ; 259  |    {
                            10996 ; 260  |        unsigned CS     :2;
                            10997 ; 261  |        int SE          :1;
                            10998 ; 262  |        int WP          :1;
                            10999 ; 263  |        int SIZE        :1;
                            11000 ; 264  |        int ICMD        :8;
                            11001 ; 265  |        int TOIE        :1;
                            11002 ; 266  |        int BPIE        :1;
                            11003 ; 267  |        int TOIRQ       :1;
                            11004 ; 268  |        int BPIRQ       :1;
                            11005 ; 269  |    } B;
                            11006 ; 270  |    int I;
                            11007 ; 271  |} flsmcr_type;
                            11008 ; 272  |
                            11009 ; 273  |#define HW_FLSMCR_CS_BITPOS 0
                            11010 ; 274  |#define HW_FLSMCR_SE_BITPOS 2
                            11011 ; 275  |#define HW_FLSMCR_WP_BITPOS 3
                            11012 ; 276  |#define HW_FLSMCR_SIZE_BITPOS 4
                            11013 ; 277  |#define HW_FLSMCR_ICMD_BITPOS 5
                            11014 ; 278  |#define HW_FLSMCR_TOIE_BITPOS 13
                            11015 ; 279  |#define HW_FLSMCR_BPIE_BITPOS 14
                            11016 ; 280  |#define HW_FLSMCR_TOIRQ_BITPOS 15
                            11017 ; 281  |#define HW_FLSMCR_BPIRQ_BITPOS 16
                            11018 ; 282  |
                            11019 ; 283  |#define HW_FLSMCR_CS_SETMASK 1<<HW_FLSMCR_CS_BITPOS
                            11020 ; 284  |#define HW_FLSMCR_SE_SETMASK 1<<HW_FLSMCR_SE_BITPOS
                            11021 ; 285  |#define HW_FLSMCR_WP_SETMASK 1<<HW_FLSMCR_WP_BITPOS
                            11022 ; 286  |#define HW_FLSMCR_SIZE_SETMASK 1<<HW_FLSMCR_SIZE_BITPOS
                            11023 ; 287  |#define HW_FLSMCR_ICMD_SETMASK (0xFF)<<HW_FLSMCR_ICMD_BITPOS
                            11024 ; 288  |#define HW_FLSMCR_TOIE_SETMASK 1<<HW_FLSMCR_TOIE_BITPOS
                            11025 ; 289  |#define HW_FLSMCR_BPIE_SETMASK 1<<HW_FLSMCR_BPIE_BITPOS
                            11026 ; 290  |#define HW_FLSMCR_TOIRQ_SETMASK 1<<HW_FLSMCR_TOIRQ_BITPOS
                            11027 ; 291  |#define HW_FLSMCR_BPIRQ_SETMASK 1<<HW_FLSMCR_BPIRQ_BITPOS
                            11028 ; 292  |
                            11029 ; 293  |#define HW_FLSMCR_SE_ASSERT_SETMASK 0x000000
                            11030 ; 294  |#define HW_FLSMCR_SE_DEASSERT_SETMASK 0x000004
                            11031 ; 295  |#define HW_FLSMCR_WP_ASSERT_SETMASK 0x000000
                            11032 ; 296  |#define HW_FLSMCR_WP_DEASSERT_SETMASK 0x000008
                            11033 ; 297  |#define HW_FLSMCR_SIZE_SMALL_SETMASK 0x000000
                            11034 ; 298  |#define HW_FLSMCR_SIZE_LARGE_SETMASK 0x000010
                            11035 ; 299  |#define HW_FLSMCR_ICMD_RESET_SETMASK 0x001FE0
                            11036 ; 300  |#define HW_FLSMCR_ICMD_READ_STATUS_SETMASK 0x000E00
                            11037 ; 301  |#define HW_FLSMCR_ICMD_BLOCK_ERASE_SETMASK 0x000C00
                            11038 ; 302  |#define HW_FLSMCR_ICMD_ERASE_SETMASK 0x001A00
                            11039 ; 303  |#define HW_FLSMCR_ICMD_RP_FIRST_SETMASK 0x000000
                            11040 ; 304  |#define HW_FLSMCR_ICMD_RP_SECOND_SETMASK 0x000020
                            11041 ; 305  |#define HW_FLSMCR_ICMD_RP_SPARE_SETMASK 0x000A00
                            11042 ; 306  |#define HW_FLSMCR_ICMD_READ_ID_SETMASK 0x001200
                            11043 ; 307  |
                            11044 ; 308  |#define HW_FLSMCR_CS_CLRMASK ~(WORD)HW_FLSMCR_CS_SETMASK
                            11045 ; 309  |#define HW_FLSMCR_SE_CLRMASK ~(WORD)HW_FLSMCR_SE_SETMASK
                            11046 ; 310  |#define HW_FLSMCR_WP_CLRMASK ~(WORD)HW_FLSMCR_WP_SETMASK
                            11047 ; 311  |#define HW_FLSMCR_SIZE_CLRMASK ~(WORD)HW_FLSMCR_SIZE_SETMASK
                            11048 ; 312  |#define HW_FLSMCR_ICMD_CLRMASK ~(WORD)HW_FLSMCR_ICMD_SETMASK
                            11049 ; 313  |#define HW_FLSMCR_TOIE_CLRMASK ~(WORD)HW_FLSMCR_TOIE_SETMASK
                            11050 ; 314  |#define HW_FLSMCR_BPIE_CLRMASK ~(WORD)HW_FLSMCR_BPIE_SETMASK
                            11051 ; 315  |#define HW_FLSMCR_TOIRQ_CLRMASK ~(WORD)HW_FLSMCR_TOIRQ_SETMASK
                            11052 ; 316  |#define HW_FLSMCR_BPIRQ_CLRMASK ~(WORD)HW_FLSMCR_BPIRQ_SETMASK
                            11053 ; 317  |
                            11054 ; 318  |
                            11055 ; 319  |/////////////////////////////////////////////////////////////////////////////////
                            11056 ; 320  |//  EMC Flash SmartMedia Timer1 Register (HW_FLSMTMR1R) Bit Definitions
                            11057 ; 321  |
                            11058 ; 322  |typedef union           /* Flash SmartMedia Timer1 Register*/
                            11059 ; 323  |{
                            11060 ; 324  |    struct
                            11061 ; 325  |    {
                            11062 ; 326  |        unsigned TRWSU  :5;
                            11063 ; 327  |        unsigned TRPW   :6;
                            11064 ; 328  |        unsigned TWPW   :6;
                            11065 ; 329  |        unsigned TRWH   :5;
                            11066 ; 330  |    } B;
                            11067 ; 331  |    int I;
                            11068 ; 332  |} flsmtmr1r_type;
                            11069 ; 333  |
                            11070 ; 334  |#define HW_FLSMTMR1R_TRWSU_BITPOS 0
                            11071 ; 335  |#define HW_FLSMTMR1R_TRPW_BITPOS 5
                            11072 ; 336  |#define HW_FLSMTMR1R_TWPW_BITPOS 11
                            11073 ; 337  |#define HW_FLSMTMR1R_TRWH_BITPOS 17
                            11074 ; 338  |
                            11075 ; 339  |#define HW_FLSMTMR1R_TRWSU_SETMASK 0x1F<<HW_FLSMTMR1R_TRWSU_BITPOS
                            11076 ; 340  |#define HW_FLSMTMR1R_TRPW_SETMASK 0x3F<<HW_FLSMTMR1R_TRPW_BITPOS
                            11077 ; 341  |#define HW_FLSMTMR1R_TWPW_SETMASK 0x3F<<HW_FLSMTMR1R_TWPW_BITPOS
                            11078 ; 342  |#define HW_FLSMTMR1R_TRWH_SETMASK 0x1F<<HW_FLSMTMR1R_TRWH_BITPOS
                            11079 ; 343  |
                            11080 ; 344  |#define HW_FLSMTMR1R_TRWSU_CLRMASK ~(WORD)HW_FLSMTMR1R_TRWSU_SETMASK
                            11081 ; 345  |#define HW_FLSMTMR1R_TRPW_CLRMASK ~(WORD)HW_FLSMTMR1R_TRPW_SETMASK
                            11082 ; 346  |#define HW_FLSMTMR1R_TWPW_CLRMASK ~(WORD)HW_FLSMTMR1R_TWPW_SETMASK
                            11083 ; 347  |#define HW_FLSMTMR1R_TRWH_CLRMASK ~(WORD)HW_FLSMTMR1R_TRWH_SETMASK
                            11084 ; 348  |
                            11085 ; 349  |
                            11086 ; 350  |/////////////////////////////////////////////////////////////////////////////////
                            11087 ; 351  |//  EMC Flash SmartMedia Timer2 Register (HW_FLSMTMR2R) Bit Definitions
                            11088 ; 352  |
                            11089 ; 353  |typedef union           /* Flash SmartMedia Timer2 Register*/
                            11090 ; 354  |{
                            11091 ; 355  |    struct
                            11092 ; 356  |    {
                            11093 ; 357  |        unsigned TWT    :6;
                            11094 ; 358  |        unsigned TWTO   :18;
                            11095 ; 359  |    } B;
                            11096 ; 360  |    int I;
                            11097 ; 361  |} flsmtmr2r_type;
                            11098 ; 362  |
                            11099 ; 363  |#define HW_FLSMTMR2R_TWT_BITPOS 0
                            11100 ; 364  |#define HW_FLSMTMR2R_TWTO_BITPOS 6
                            11101 ; 365  |
                            11102 ; 366  |#define HW_FLSMTMR2R_TWT_SETMASK 0x3F<<HW_FLSMTMR2R_TWT_BITPOS
                            11103 ; 367  |#define HW_FLSMTMR2R_TWTO_SETMASK 0x3FF<<HW_FLSMTMR2R_TWTO_BITPOS
                            11104 ; 368  |
                            11105 ; 369  |#define HW_FLSMTMR2R_TWT_CLRMASK ~(WORD)HW_FLSMTMR2R_TWT_SETMASK
                            11106 ; 370  |#define HW_FLSMTMR2R_TWTO_CLRMASK ~(WORD)HW_FLSMTMR2R_TWTO_SETMASK
                            11107 ; 371  |
                            11108 ; 372  |/*//////////////////////////////////////////////////////////////////////////////
                            11109 ; 373  |  //  EMC Flash Control Status Register2 (HW_FLCR2) Bit Definitions     */
                            11110 ; 374  |typedef union 
                            11111 ; 375  |{
                            11112 ; 376  |  struct
                            11113 ; 377  |  {
                            11114 ; 378  |    unsigned ASEL     :2;        /* Memory Select */
                            11115 ; 379  |    unsigned RA       :1;        /* Right Align word into 24bit memory for True IDE  xfers */
                            11116 ; 380  |    unsigned LA       :1;        /* Left  Align word into 24bit memory for True IDE  xfers */
                            11117 ; 381  |    unsigned NEGDMA   :1;        /* Inverts data from Flash to memory */
                            11118 ; 382  |    unsigned NEGFL    :1;        /* Inverts data from memory to Flash */
                            11119 ; 383  |    unsigned CLKOFF   :1;        /* Power down - turns clk off */
                            11120 ; 384  |    int PAD0          :17;    
                            11121 ; 385  |  } B;
                            11122 ; 386  |  int I;
                            11123 ; 387  |} flcr2_type;
                            11124 ; 388  |
                            11125 ; 389  |/////////////////////////////////////////////////////////////////////////////////
                            11126 ; 390  |//  EMC Flash SmartMedia Status Register (HW_FLSMSR) Bit Definitions
                            11127 ; 391  |#define HW_FLSMSR_RDY_BITPOS 0
                            11128 ; 392  |#define HW_FLSMSR_BUSY_BITPOS 7
                            11129 ; 393  |
                            11130 ; 394  |#define HW_FLCR      (*(volatile flcr_type      _X*) (HW_EMC_BASEADDR))    /* EMC Flash Control Register */
                            11131 ; 395  |#define HW_FLSALR    (*(volatile flsalr_type    _X*) (HW_EMC_BASEADDR+1))  /* EMC Flash Start Address Low Register */
                            11132 ; 396  |#define HW_FLSAHR    (*(volatile flsahr_type    _X*) (HW_EMC_BASEADDR+2))  /* EMC Flash Start Address High Register */
                            11133 ; 397  |#define HW_FLSSMPR   (*(volatile flssmpr_type   _X*) (HW_EMC_BASEADDR+3))  /*  */
                            11134 ; 398  |#define HW_FLCR2     (*(volatile flcr2_type     _X*) (HW_EMC_BASEADDR+4))  /* EMC Flash Control Register2 */
                            11135 ; 399  |#define HW_FLCFCR    (*(volatile flcfcr_type    _X*) (HW_EMC_BASEADDR+8))  /* EMC Flash CompactFlash Control Register*/
                            11136 ; 400  |#define HW_FLCFTMR1R (*(volatile flcftmr1r_type _X*) (HW_EMC_BASEADDR+9))  /* EMC Flash Compact Flash Timer1 Register*/
                            11137 ; 401  |#define HW_FLCFTMR2R (*(volatile flcftmr2r_type _X*) (HW_EMC_BASEADDR+10)) /* EMC Flash Compact Flash Timer2 Register*/
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  45

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11138 ; 402  |#define HW_FLSMCR    (*(volatile flsmcr_type    _X*) (HW_EMC_BASEADDR+16)) /* EMC Flash SmartMedia Control Register*/
                            11139 ; 403  |#define HW_FLSMTMR1R (*(volatile flsmtmr1r_type _X*) (HW_EMC_BASEADDR+17)) /* EMC Flash SmartMedia Timer1 Register*/
                            11140 ; 404  |#define HW_FLSMTMR2R (*(volatile flsmtmr2r_type _X*) (HW_EMC_BASEADDR+18)) /* EMC Flash SmartMedia Timer2 Register*/
                            11141 ; 405  |#define HW_FLSMSR    (*(volatile flssmsr_type   _X*) (HW_EMC_BASEADDR+19)) /*  */
                            11142 ; 406  |
                            11143 ; 407  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *******************************
                            11144 ; 408  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code without needing 
                            11145 ; 409  |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                            11146 ; 410  |
                            11147 ; 411  |#define HW_FLC2R HW_EMC_BASEADDR+4
                            11148 ; 412  |
                            11149 ; 413  |#endif
                            11150 ; 414  |
                            11151 
                            11153 
                            11154 ; 22   |#include "regsgpio.h"
                            11155 
                            11157 
                            11158 ; 1    |#if !(defined(__REGS_GPIO_INC))
                            11159 ; 2    |#define __REGS_GPIO_INC 1
                            11160 ; 3    |
                            11161 ; 4    |#include "types.h"
                            11162 
                            11164 
                            11165 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            11166 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            11167 ; 3    |//
                            11168 ; 4    |// Filename: types.h
                            11169 ; 5    |// Description: Standard data types
                            11170 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            11171 ; 7    |
                            11172 ; 8    |#ifndef _TYPES_H
                            11173 ; 9    |#define _TYPES_H
                            11174 ; 10   |
                            11175 ; 11   |// TODO:  move this outta here!
                            11176 ; 12   |#if !defined(NOERROR)
                            11177 ; 13   |#define NOERROR 0
                            11178 ; 14   |#define SUCCESS 0
                            11179 ; 15   |#endif 
                            11180 ; 16   |#if !defined(SUCCESS)
                            11181 ; 17   |#define SUCCESS  0
                            11182 ; 18   |#endif
                            11183 ; 19   |#if !defined(ERROR)
                            11184 ; 20   |#define ERROR   -1
                            11185 ; 21   |#endif
                            11186 ; 22   |#if !defined(FALSE)
                            11187 ; 23   |#define FALSE 0
                            11188 ; 24   |#endif
                            11189 ; 25   |#if !defined(TRUE)
                            11190 ; 26   |#define TRUE  1
                            11191 ; 27   |#endif
                            11192 ; 28   |
                            11193 ; 29   |#if !defined(NULL)
                            11194 ; 30   |#define NULL 0
                            11195 ; 31   |#endif
                            11196 ; 32   |
                            11197 ; 33   |#define MAX_INT     0x7FFFFF
                            11198 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            11199 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            11200 ; 36   |#define MAX_ULONG   (-1) 
                            11201 ; 37   |
                            11202 ; 38   |#define WORD_SIZE   24              // word size in bits
                            11203 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            11204 ; 40   |
                            11205 ; 41   |
                            11206 ; 42   |#define BYTE    unsigned char       // btVarName
                            11207 ; 43   |#define CHAR    signed char         // cVarName
                            11208 ; 44   |#define USHORT  unsigned short      // usVarName
                            11209 ; 45   |#define SHORT   unsigned short      // sVarName
                            11210 ; 46   |#define WORD    unsigned int        // wVarName
                            11211 ; 47   |#define INT     signed int          // iVarName
                            11212 ; 48   |#define DWORD   unsigned long       // dwVarName
                            11213 ; 49   |#define LONG    signed long         // lVarName
                            11214 ; 50   |#define BOOL    unsigned int        // bVarName
                            11215 ; 51   |#define FRACT   _fract              // frVarName
                            11216 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            11217 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            11218 ; 54   |#define FLOAT   float               // fVarName
                            11219 ; 55   |#define DBL     double              // dVarName
                            11220 ; 56   |#define ENUM    enum                // eVarName
                            11221 ; 57   |#define CMX     _complex            // cmxVarName
                            11222 ; 58   |typedef WORD UCS3;                   // 
                            11223 ; 59   |
                            11224 ; 60   |#define UINT16  unsigned short
                            11225 ; 61   |#define UINT8   unsigned char   
                            11226 ; 62   |#define UINT32  unsigned long
                            11227 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            11228 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            11229 ; 65   |#define WCHAR   UINT16
                            11230 ; 66   |
                            11231 ; 67   |//UINT128 is 16 bytes or 6 words
                            11232 ; 68   |typedef struct UINT128_3500 {   
                            11233 ; 69   |    int val[6];     
                            11234 ; 70   |} UINT128_3500;
                            11235 ; 71   |
                            11236 ; 72   |#define UINT128   UINT128_3500
                            11237 ; 73   |
                            11238 ; 74   |// Little endian word packed byte strings:   
                            11239 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11240 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11241 ; 77   |// Little endian word packed byte strings:   
                            11242 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11243 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11244 ; 80   |
                            11245 ; 81   |// Declare Memory Spaces To Use When Coding
                            11246 ; 82   |// A. Sector Buffers
                            11247 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            11248 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            11249 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            11250 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            11251 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            11252 ; 88   |// B. Media DDI Memory
                            11253 ; 89   |#define MEDIA_DDI_MEM _Y
                            11254 ; 90   |
                            11255 ; 91   |
                            11256 ; 92   |
                            11257 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            11258 ; 94   |// Examples of circular pointers:
                            11259 ; 95   |//    INT CIRC cpiVarName
                            11260 ; 96   |//    DWORD CIRC cpdwVarName
                            11261 ; 97   |
                            11262 ; 98   |#define RETCODE INT                 // rcVarName
                            11263 ; 99   |
                            11264 ; 100  |// generic bitfield structure
                            11265 ; 101  |struct Bitfield {
                            11266 ; 102  |    unsigned int B0  :1;
                            11267 ; 103  |    unsigned int B1  :1;
                            11268 ; 104  |    unsigned int B2  :1;
                            11269 ; 105  |    unsigned int B3  :1;
                            11270 ; 106  |    unsigned int B4  :1;
                            11271 ; 107  |    unsigned int B5  :1;
                            11272 ; 108  |    unsigned int B6  :1;
                            11273 ; 109  |    unsigned int B7  :1;
                            11274 ; 110  |    unsigned int B8  :1;
                            11275 ; 111  |    unsigned int B9  :1;
                            11276 ; 112  |    unsigned int B10 :1;
                            11277 ; 113  |    unsigned int B11 :1;
                            11278 ; 114  |    unsigned int B12 :1;
                            11279 ; 115  |    unsigned int B13 :1;
                            11280 ; 116  |    unsigned int B14 :1;
                            11281 ; 117  |    unsigned int B15 :1;
                            11282 ; 118  |    unsigned int B16 :1;
                            11283 ; 119  |    unsigned int B17 :1;
                            11284 ; 120  |    unsigned int B18 :1;
                            11285 ; 121  |    unsigned int B19 :1;
                            11286 ; 122  |    unsigned int B20 :1;
                            11287 ; 123  |    unsigned int B21 :1;
                            11288 ; 124  |    unsigned int B22 :1;
                            11289 ; 125  |    unsigned int B23 :1;
                            11290 ; 126  |};
                            11291 ; 127  |
                            11292 ; 128  |union BitInt {
                            11293 ; 129  |        struct Bitfield B;
                            11294 ; 130  |        int        I;
                            11295 ; 131  |};
                            11296 ; 132  |
                            11297 ; 133  |#define MAX_MSG_LENGTH 10
                            11298 ; 134  |struct CMessage
                            11299 ; 135  |{
                            11300 ; 136  |        unsigned int m_uLength;
                            11301 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            11302 ; 138  |};
                            11303 ; 139  |
                            11304 ; 140  |typedef struct {
                            11305 ; 141  |    WORD m_wLength;
                            11306 ; 142  |    WORD m_wMessage;
                            11307 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            11308 ; 144  |} Message;
                            11309 ; 145  |
                            11310 ; 146  |struct MessageQueueDescriptor
                            11311 ; 147  |{
                            11312 ; 148  |        int *m_pBase;
                            11313 ; 149  |        int m_iModulo;
                            11314 ; 150  |        int m_iSize;
                            11315 ; 151  |        int *m_pHead;
                            11316 ; 152  |        int *m_pTail;
                            11317 ; 153  |};
                            11318 ; 154  |
                            11319 ; 155  |struct ModuleEntry
                            11320 ; 156  |{
                            11321 ; 157  |    int m_iSignaledEventMask;
                            11322 ; 158  |    int m_iWaitEventMask;
                            11323 ; 159  |    int m_iResourceOfCode;
                            11324 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            11325 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            11326 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            11327 ; 163  |    int m_uTimeOutHigh;
                            11328 ; 164  |    int m_uTimeOutLow;
                            11329 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            11330 ; 166  |};
                            11331 ; 167  |
                            11332 ; 168  |union WaitMask{
                            11333 ; 169  |    struct B{
                            11334 ; 170  |        unsigned int m_bNone     :1;
                            11335 ; 171  |        unsigned int m_bMessage  :1;
                            11336 ; 172  |        unsigned int m_bTimer    :1;
                            11337 ; 173  |        unsigned int m_bButton   :1;
                            11338 ; 174  |    } B;
                            11339 ; 175  |    int I;
                            11340 ; 176  |} ;
                            11341 ; 177  |
                            11342 ; 178  |
                            11343 ; 179  |struct Button {
                            11344 ; 180  |        WORD wButtonEvent;
                            11345 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            11346 ; 182  |};
                            11347 ; 183  |
                            11348 ; 184  |struct Message {
                            11349 ; 185  |        WORD wMsgLength;
                            11350 ; 186  |        WORD wMsgCommand;
                            11351 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            11352 ; 188  |};
                            11353 ; 189  |
                            11354 ; 190  |union EventTypes {
                            11355 ; 191  |        struct CMessage msg;
                            11356 ; 192  |        struct Button Button ;
                            11357 ; 193  |        struct Message Message;
                            11358 ; 194  |};
                            11359 ; 195  |
                            11360 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            11361 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            11362 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            11363 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            11364 ; 200  |
                            11365 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            11366 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            11367 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            11368 ; 204  |
                            11369 ; 205  |#if DEBUG
                            11370 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            11371 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            11372 ; 208  |#else 
                            11373 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            11374 ; 210  |#define DebugBuildAssert(x)    
                            11375 ; 211  |#endif
                            11376 ; 212  |
                            11377 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            11378 ; 214  |//  #pragma asm
                            11379 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            11380 ; 216  |//  #pragma endasm
                            11381 ; 217  |
                            11382 ; 218  |
                            11383 ; 219  |#ifdef COLOR_262K
                            11384 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            11385 ; 221  |#elif defined(COLOR_65K)
                            11386 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            11387 ; 223  |#else
                            11388 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            11389 ; 225  |#endif
                            11390 ; 226  |    
                            11391 ; 227  |#endif // #ifndef _TYPES_H
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  46

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11392 
                            11394 
                            11395 ; 5    |
                            11396 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                            11397 ; 7    |//  Interrupt Collector Registers
                            11398 ; 8    |/////////////////////////////////////////////////////////////////////////////////
                            11399 ; 9    |
                            11400 ; 10   |#define HW_GPIO_BASEADDR 0xF400
                            11401 ; 11   |
                            11402 ; 12   |#define HW_GPB0_BASEADDR HW_GPIO_BASEADDR
                            11403 ; 13   |#define HW_GPB1_BASEADDR HW_GPIO_BASEADDR+0x10
                            11404 ; 14   |#define HW_GPB2_BASEADDR HW_GPIO_BASEADDR+0x20
                            11405 ; 15   |#define HW_GPB3_BASEADDR HW_GPIO_BASEADDR+0x30
                            11406 ; 16   |
                            11407 ; 17   |#define HW_GPB0_BLOCKNUM 0
                            11408 ; 18   |#define HW_GPB1_BLOCKNUM 1
                            11409 ; 19   |#define HW_GPB2_BLOCKNUM 2
                            11410 ; 20   |#define HW_GPB3_BLOCKNUM 3
                            11411 ; 21   |
                            11412 ; 22   |#define HW_GPB_GPENR 0
                            11413 ; 23   |#define HW_GPB_GPDOR 1
                            11414 ; 24   |#define HW_GPB_GPDIR 2
                            11415 ; 25   |#define HW_GPB_GPDOER 3
                            11416 ; 26   |#define HW_GPB_GPIPENR 4
                            11417 ; 27   |#define HW_GPB_GPIENR 5
                            11418 ; 28   |#define HW_GPB_GPILVLR 6
                            11419 ; 29   |#define HW_GPB_GPIPOLR 7
                            11420 ; 30   |#define HW_GPB_GPISTATR 8
                            11421 ; 31   |#define HW_GPB_GPPWR 9
                            11422 ; 32   |#define HW_GPB_GP8MA 10
                            11423 ; 33   |
                            11424 ; 34   |
                            11425 ; 35   |
                            11426 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            11427 ; 37   |//  GPIO Register Bit Positions
                            11428 ; 38   |typedef union               /* GPIO Pin Register Bank 0 */
                            11429 ; 39   |{
                            11430 ; 40   |    struct Bitfield B;      // Bitfield is generic structure B0 - B23 in types.h
                            11431 ; 41   |    unsigned int I;
                            11432 ; 42   |    unsigned int U;
                            11433 ; 43   |} gpr_type;
                            11434 ; 44   |
                            11435 ; 45   |#define HW_GP_B0_BITPOS 0
                            11436 ; 46   |#define HW_GP_B1_BITPOS 1
                            11437 ; 47   |#define HW_GP_B2_BITPOS 2
                            11438 ; 48   |#define HW_GP_B3_BITPOS 3
                            11439 ; 49   |#define HW_GP_B4_BITPOS 4
                            11440 ; 50   |#define HW_GP_B5_BITPOS 5
                            11441 ; 51   |#define HW_GP_B6_BITPOS 6
                            11442 ; 52   |#define HW_GP_B7_BITPOS 7
                            11443 ; 53   |#define HW_GP_B8_BITPOS 8
                            11444 ; 54   |#define HW_GP_B9_BITPOS 9
                            11445 ; 55   |#define HW_GP_B10_BITPOS 10
                            11446 ; 56   |#define HW_GP_B11_BITPOS 11
                            11447 ; 57   |#define HW_GP_B12_BITPOS 12
                            11448 ; 58   |#define HW_GP_B13_BITPOS 13
                            11449 ; 59   |#define HW_GP_B14_BITPOS 14
                            11450 ; 60   |#define HW_GP_B15_BITPOS 15
                            11451 ; 61   |#define HW_GP_B16_BITPOS 16
                            11452 ; 62   |#define HW_GP_B17_BITPOS 17
                            11453 ; 63   |#define HW_GP_B18_BITPOS 18
                            11454 ; 64   |#define HW_GP_B19_BITPOS 19
                            11455 ; 65   |#define HW_GP_B20_BITPOS 20
                            11456 ; 66   |#define HW_GP_B21_BITPOS 21
                            11457 ; 67   |#define HW_GP_B22_BITPOS 22
                            11458 ; 68   |#define HW_GP_B23_BITPOS 23
                            11459 ; 69   |
                            11460 ; 70   |#define HW_GP_B0_SETMASK (1<<HW_GP_B0_BITPOS)
                            11461 ; 71   |#define HW_GP_B1_SETMASK (1<<HW_GP_B1_BITPOS)
                            11462 ; 72   |#define HW_GP_B2_SETMASK (1<<HW_GP_B2_BITPOS)
                            11463 ; 73   |#define HW_GP_B3_SETMASK (1<<HW_GP_B3_BITPOS)
                            11464 ; 74   |#define HW_GP_B4_SETMASK (1<<HW_GP_B4_BITPOS)
                            11465 ; 75   |#define HW_GP_B5_SETMASK (1<<HW_GP_B5_BITPOS)
                            11466 ; 76   |#define HW_GP_B6_SETMASK (1<<HW_GP_B6_BITPOS)
                            11467 ; 77   |#define HW_GP_B7_SETMASK (1<<HW_GP_B7_BITPOS)
                            11468 ; 78   |#define HW_GP_B8_SETMASK (1<<HW_GP_B8_BITPOS)
                            11469 ; 79   |#define HW_GP_B9_SETMASK (1<<HW_GP_B9_BITPOS)
                            11470 ; 80   |#define HW_GP_B10_SETMASK (1<<HW_GP_B10_BITPOS)
                            11471 ; 81   |#define HW_GP_B11_SETMASK (1<<HW_GP_B11_BITPOS)
                            11472 ; 82   |#define HW_GP_B12_SETMASK (1<<HW_GP_B12_BITPOS)
                            11473 ; 83   |#define HW_GP_B13_SETMASK (1<<HW_GP_B13_BITPOS)
                            11474 ; 84   |#define HW_GP_B14_SETMASK (1<<HW_GP_B14_BITPOS)
                            11475 ; 85   |#define HW_GP_B15_SETMASK (1<<HW_GP_B15_BITPOS)
                            11476 ; 86   |#define HW_GP_B16_SETMASK (1<<HW_GP_B16_BITPOS)
                            11477 ; 87   |#define HW_GP_B17_SETMASK (1<<HW_GP_B17_BITPOS)
                            11478 ; 88   |#define HW_GP_B18_SETMASK (1<<HW_GP_B18_BITPOS)
                            11479 ; 89   |#define HW_GP_B19_SETMASK (1<<HW_GP_B19_BITPOS)
                            11480 ; 90   |#define HW_GP_B20_SETMASK (1<<HW_GP_B20_BITPOS)
                            11481 ; 91   |#define HW_GP_B21_SETMASK (1<<HW_GP_B21_BITPOS)
                            11482 ; 92   |#define HW_GP_B22_SETMASK (1<<HW_GP_B22_BITPOS)
                            11483 ; 93   |#define HW_GP_B23_SETMASK (1<<HW_GP_B23_BITPOS)
                            11484 ; 94   |
                            11485 ; 95   |#define HW_GP_B0_CLRMASK (~(WORD)HW_GP_B0_SETMASK)
                            11486 ; 96   |#define HW_GP_B1_CLRMASK (~(WORD)HW_GP_B1_SETMASK)
                            11487 ; 97   |#define HW_GP_B2_CLRMASK (~(WORD)HW_GP_B2_SETMASK)
                            11488 ; 98   |#define HW_GP_B3_CLRMASK (~(WORD)HW_GP_B3_SETMASK)
                            11489 ; 99   |#define HW_GP_B4_CLRMASK (~(WORD)HW_GP_B4_SETMASK)
                            11490 ; 100  |#define HW_GP_B5_CLRMASK (~(WORD)HW_GP_B5_SETMASK)
                            11491 ; 101  |#define HW_GP_B6_CLRMASK (~(WORD)HW_GP_B6_SETMASK)
                            11492 ; 102  |#define HW_GP_B7_CLRMASK (~(WORD)HW_GP_B7_SETMASK)
                            11493 ; 103  |#define HW_GP_B8_CLRMASK (~(WORD)HW_GP_B8_SETMASK)
                            11494 ; 104  |#define HW_GP_B9_CLRMASK (~(WORD)HW_GP_B9_SETMASK)
                            11495 ; 105  |#define HW_GP_B10_CLRMASK (~(WORD)HW_GP_B10_SETMASK)
                            11496 ; 106  |#define HW_GP_B11_CLRMASK (~(WORD)HW_GP_B11_SETMASK)
                            11497 ; 107  |#define HW_GP_B12_CLRMASK (~(WORD)HW_GP_B12_SETMASK)
                            11498 ; 108  |#define HW_GP_B13_CLRMASK (~(WORD)HW_GP_B13_SETMASK)
                            11499 ; 109  |#define HW_GP_B14_CLRMASK (~(WORD)HW_GP_B14_SETMASK)
                            11500 ; 110  |#define HW_GP_B15_CLRMASK (~(WORD)HW_GP_B15_SETMASK)
                            11501 ; 111  |#define HW_GP_B16_CLRMASK (~(WORD)HW_GP_B16_SETMASK)
                            11502 ; 112  |#define HW_GP_B17_CLRMASK (~(WORD)HW_GP_B17_SETMASK)
                            11503 ; 113  |#define HW_GP_B18_CLRMASK (~(WORD)HW_GP_B18_SETMASK)
                            11504 ; 114  |#define HW_GP_B19_CLRMASK (~(WORD)HW_GP_B19_SETMASK)
                            11505 ; 115  |#define HW_GP_B20_CLRMASK (~(WORD)HW_GP_B20_SETMASK)
                            11506 ; 116  |#define HW_GP_B21_CLRMASK (~(WORD)HW_GP_B21_SETMASK)
                            11507 ; 117  |#define HW_GP_B22_CLRMASK (~(WORD)HW_GP_B22_SETMASK)
                            11508 ; 118  |#define HW_GP_B23_CLRMASK (~(WORD)HW_GP_B23_SETMASK)
                            11509 ; 119  |
                            11510 ; 120  |/////////////////////////////////////////////////////////////////////////////////
                            11511 ; 121  |//  GPIO 8mA Register Bit Positions
                            11512 ; 122  |#define HW_GP8MA_B7_B0_BITPOS 0
                            11513 ; 123  |#define HW_GP8MA_B15_B8_BITPOS 1
                            11514 ; 124  |#define HW_GP8MA_B23_B16_BITPOS 2
                            11515 ; 125  |#define HW_GP8MA_CLK_GATE_BITPOS 23
                            11516 ; 126  |
                            11517 ; 127  |
                            11518 ; 128  |/////////////////////////////////////////////////////////////////////////////////
                            11519 ; 129  |//  Logical GPIO numbers
                            11520 ; 130  |#define HW_GPIO_000 0
                            11521 ; 131  |#define HW_GPIO_001 1
                            11522 ; 132  |#define HW_GPIO_002 2
                            11523 ; 133  |#define HW_GPIO_003 3
                            11524 ; 134  |#define HW_GPIO_004 4
                            11525 ; 135  |#define HW_GPIO_005 5
                            11526 ; 136  |#define HW_GPIO_006 6
                            11527 ; 137  |#define HW_GPIO_007 7
                            11528 ; 138  |#define HW_GPIO_008 8
                            11529 ; 139  |#define HW_GPIO_009 9
                            11530 ; 140  |#define HW_GPIO_010 10
                            11531 ; 141  |#define HW_GPIO_011 11
                            11532 ; 142  |#define HW_GPIO_012 12
                            11533 ; 143  |#define HW_GPIO_013 13
                            11534 ; 144  |#define HW_GPIO_014 14
                            11535 ; 145  |#define HW_GPIO_015 15
                            11536 ; 146  |#define HW_GPIO_016 16
                            11537 ; 147  |#define HW_GPIO_017 17
                            11538 ; 148  |#define HW_GPIO_018 18
                            11539 ; 149  |#define HW_GPIO_019 19
                            11540 ; 150  |#define HW_GPIO_020 20
                            11541 ; 151  |#define HW_GPIO_021 21
                            11542 ; 152  |#define HW_GPIO_022 22
                            11543 ; 153  |#define HW_GPIO_023 23
                            11544 ; 154  |#define HW_GPIO_024 24
                            11545 ; 155  |#define HW_GPIO_025 25
                            11546 ; 156  |#define HW_GPIO_026 26
                            11547 ; 157  |#define HW_GPIO_027 27
                            11548 ; 158  |#define HW_GPIO_028 28
                            11549 ; 159  |#define HW_GPIO_029 29
                            11550 ; 160  |#define HW_GPIO_030 30
                            11551 ; 161  |#define HW_GPIO_031 31
                            11552 ; 162  |#define HW_GPIO_032 32
                            11553 ; 163  |#define HW_GPIO_033 33
                            11554 ; 164  |#define HW_GPIO_034 34
                            11555 ; 165  |#define HW_GPIO_035 35
                            11556 ; 166  |#define HW_GPIO_036 36
                            11557 ; 167  |#define HW_GPIO_037 37
                            11558 ; 168  |#define HW_GPIO_038 38
                            11559 ; 169  |#define HW_GPIO_039 39
                            11560 ; 170  |#define HW_GPIO_040 40
                            11561 ; 171  |#define HW_GPIO_041 41
                            11562 ; 172  |#define HW_GPIO_042 42
                            11563 ; 173  |#define HW_GPIO_043 43
                            11564 ; 174  |#define HW_GPIO_044 44
                            11565 ; 175  |#define HW_GPIO_045 45
                            11566 ; 176  |#define HW_GPIO_046 46
                            11567 ; 177  |#define HW_GPIO_047 47
                            11568 ; 178  |#define HW_GPIO_048 48
                            11569 ; 179  |#define HW_GPIO_049 49
                            11570 ; 180  |#define HW_GPIO_050 50
                            11571 ; 181  |#define HW_GPIO_051 51
                            11572 ; 182  |#define HW_GPIO_052 52
                            11573 ; 183  |#define HW_GPIO_053 53
                            11574 ; 184  |#define HW_GPIO_054 54
                            11575 ; 185  |#define HW_GPIO_055 55
                            11576 ; 186  |#define HW_GPIO_056 56
                            11577 ; 187  |#define HW_GPIO_057 57
                            11578 ; 188  |#define HW_GPIO_058 58
                            11579 ; 189  |#define HW_GPIO_059 59
                            11580 ; 190  |#define HW_GPIO_060 60
                            11581 ; 191  |#define HW_GPIO_061 61
                            11582 ; 192  |#define HW_GPIO_062 62
                            11583 ; 193  |#define HW_GPIO_063 63
                            11584 ; 194  |#define HW_GPIO_064 64
                            11585 ; 195  |#define HW_GPIO_065 65
                            11586 ; 196  |#define HW_GPIO_066 66
                            11587 ; 197  |#define HW_GPIO_067 67
                            11588 ; 198  |#define HW_GPIO_068 68
                            11589 ; 199  |#define HW_GPIO_069 69
                            11590 ; 200  |#define HW_GPIO_070 70
                            11591 ; 201  |#define HW_GPIO_071 71
                            11592 ; 202  |#define HW_GPIO_072 72
                            11593 ; 203  |#define HW_GPIO_073 73
                            11594 ; 204  |#define HW_GPIO_074 74
                            11595 ; 205  |#define HW_GPIO_075 75
                            11596 ; 206  |#define HW_GPIO_076 76
                            11597 ; 207  |#define HW_GPIO_077 77
                            11598 ; 208  |#define HW_GPIO_078 78
                            11599 ; 209  |#define HW_GPIO_079 79
                            11600 ; 210  |#define HW_GPIO_080 80
                            11601 ; 211  |#define HW_GPIO_081 81
                            11602 ; 212  |#define HW_GPIO_082 82
                            11603 ; 213  |#define HW_GPIO_083 83
                            11604 ; 214  |#define HW_GPIO_084 84
                            11605 ; 215  |#define HW_GPIO_085 85
                            11606 ; 216  |#define HW_GPIO_086 86
                            11607 ; 217  |#define HW_GPIO_087 87
                            11608 ; 218  |#define HW_GPIO_088 88
                            11609 ; 219  |#define HW_GPIO_089 89
                            11610 ; 220  |#define HW_GPIO_090 90
                            11611 ; 221  |#define HW_GPIO_091 91
                            11612 ; 222  |#define HW_GPIO_092 92
                            11613 ; 223  |#define HW_GPIO_093 93
                            11614 ; 224  |#define HW_GPIO_094 94
                            11615 ; 225  |#define HW_GPIO_095 95
                            11616 ; 226  |#define HW_GPIO_LAST HW_GPIO_095
                            11617 ; 227  |
                            11618 ; 228  |#define HW_GP0ENR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPENR))  /* GPIO 0 Enable Register   */
                            11619 ; 229  |#define HW_GP0DOR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDOR)) /* GPIO 0 Data Out Register */
                            11620 ; 230  |#define HW_GP0DIR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDIR)) /* GPIO 0 Dait In Register  */
                            11621 ; 231  |#define HW_GP0DOER     (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDOER)) /* GPIO 0 Dait Out Enable Register  */
                            11622 ; 232  |#define HW_GP0IPENR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIPENR)) /* GPIO 0 Interrupt Pin Enable Register */
                            11623 ; 233  |#define HW_GP0IENR     (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIENR)) /* GPIO 0 Interrupt Enable Register */
                            11624 ; 234  |#define HW_GP0ILVLR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPILVLR)) /* GPIO 0 Interrupt Level Register  */
                            11625 ; 235  |#define HW_GP0IPOLR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIPOLR)) /* GPIO 0 Interrupt Polarity Register   */
                            11626 ; 236  |#define HW_GP0ISTATR   (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPISTATR)) /* GPIO 0 Interrupt Status Register */
                            11627 ; 237  |#define HW_GP0PWR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPPWR)) /* GPIO 0 Power Register */
                            11628 ; 238  |#define HW_GP08MA      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GP8MA)) 
                            11629 ; 239  |#define HW_GP1ENR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPENR))     /* GPIO 1 Enable Register   */
                            11630 ; 240  |#define HW_GP1DOR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDOR)) /* GPIO 1 Data Out Register */
                            11631 ; 241  |#define HW_GP1DIR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDIR)) /* GPIO 1 Dait In Register  */
                            11632 ; 242  |#define HW_GP1DOER     (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDOER)) /* GPIO 1 Dait Out Enable Register  */
                            11633 ; 243  |#define HW_GP1IPENR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIPENR)) /* GPIO 1 Interrupt Pin Enable Register */
                            11634 ; 244  |#define HW_GP1IENR     (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIENR)) /* GPIO 1 Interrupt Enable Register */
                            11635 ; 245  |#define HW_GP1ILVLR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPILVLR)) /* GPIO 1 Interrupt Level Register  */
                            11636 ; 246  |#define HW_GP1IPOLR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIPOLR)) /* GPIO 1 Interrupt Polarity Register   */
                            11637 ; 247  |#define HW_GP1ISTATR   (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPISTATR)) /* GPIO 1 Interrupt Status Register */
                            11638 ; 248  |#define HW_GP1PWR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPPWR)) /* GPIO 0 Power Register */
                            11639 ; 249  |#define HW_GP18MA      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GP8MA)) 
                            11640 ; 250  |#define HW_GP2ENR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPENR))     /* GPIO 2 Enable Register   */
                            11641 ; 251  |#define HW_GP2DOR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDOR)) /* GPIO 2 Data Out Register */
                            11642 ; 252  |#define HW_GP2DIR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDIR)) /* GPIO 2 Dait In Register  */
                            11643 ; 253  |#define HW_GP2DOER     (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDOER)) /* GPIO 2 Dait Out Enable Register  */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  47

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11644 ; 254  |#define HW_GP2IPENR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIPENR)) /* GPIO 2 Interrupt Pin Enable Register */
                            11645 ; 255  |#define HW_GP2IENR     (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIENR)) /* GPIO 2 Interrupt Enable Register */
                            11646 ; 256  |#define HW_GP2ILVLR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPILVLR)) /* GPIO 2 Interrupt Level Register  */
                            11647 ; 257  |#define HW_GP2IPOLR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIPOLR)) /* GPIO 2 Interrupt Polarity Register   */
                            11648 ; 258  |#define HW_GP2ISTATR   (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPISTATR)) /* GPIO 2 Interrupt Status Register */
                            11649 ; 259  |#define HW_GP2PWR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPPWR)) /* GPIO 0 Power Register */
                            11650 ; 260  |#define HW_GP28MA      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GP8MA)) 
                            11651 ; 261  |#define HW_GP3ENR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPENR))     /* GPIO 2 Enable Register   */
                            11652 ; 262  |#define HW_GP3DOR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDOR)) /* GPIO 2 Data Out Register */
                            11653 ; 263  |#define HW_GP3DIR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDIR)) /* GPIO 2 Dait In Register  */
                            11654 ; 264  |#define HW_GP3DOER     (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDOER)) /* GPIO 2 Dait Out Enable Register  */
                            11655 ; 265  |#define HW_GP3IPENR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIPENR)) /* GPIO 2 Interrupt Pin Enable Register */
                            11656 ; 266  |#define HW_GP3IENR     (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIENR)) /* GPIO 2 Interrupt Enable Register */
                            11657 ; 267  |#define HW_GP3ILVLR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPILVLR)) /* GPIO 2 Interrupt Level Register  */
                            11658 ; 268  |#define HW_GP3IPOLR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIPOLR)) /* GPIO 2 Interrupt Polarity Register   */
                            11659 ; 269  |#define HW_GP3ISTATR   (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPISTATR)) /* GPIO 2 Interrupt Status Register */
                            11660 ; 270  |#define HW_GP3PWR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPPWR)) /* GPIO 0 Power Register */
                            11661 ; 271  |#define HW_GP38MA      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GP8MA)) 
                            11662 ; 272  |
                            11663 ; 273  |#endif
                            11664 ; 274  |
                            11665 
                            11667 
                            11668 ; 23   |#include "regsi2c.h"
                            11669 
                            11671 
                            11672 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            11673 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                            11674 ; 3    |// Filename: regsI2C.inc
                            11675 ; 4    |// Description: Register definitions for GPFLASH interface
                            11676 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            11677 ; 6    |// The following naming conventions are followed in this file.
                            11678 ; 7    |// All registers are named using the format...
                            11679 ; 8    |//     HW_<module>_<regname>
                            11680 ; 9    |// where <module> is the module name which can be any of the following...
                            11681 ; 10   |//     USB20
                            11682 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            11683 ; 12   |// module name includes a number starting from 0 for the first instance of
                            11684 ; 13   |// that module)
                            11685 ; 14   |// <regname> is the specific register within that module
                            11686 ; 15   |// We also define the following...
                            11687 ; 16   |//     HW_<module>_<regname>_BITPOS
                            11688 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            11689 ; 18   |//     HW_<module>_<regname>_SETMASK
                            11690 ; 19   |// which does something else, and
                            11691 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            11692 ; 21   |// which does something else.
                            11693 ; 22   |// Other rules
                            11694 ; 23   |//     All caps
                            11695 ; 24   |//     Numeric identifiers start at 0
                            11696 ; 25   |#if !(defined(regsi2cinc))
                            11697 ; 26   |#define regsi2cinc 1
                            11698 ; 27   |
                            11699 ; 28   |#include "types.h"
                            11700 
                            11702 
                            11703 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            11704 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            11705 ; 3    |//
                            11706 ; 4    |// Filename: types.h
                            11707 ; 5    |// Description: Standard data types
                            11708 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            11709 ; 7    |
                            11710 ; 8    |#ifndef _TYPES_H
                            11711 ; 9    |#define _TYPES_H
                            11712 ; 10   |
                            11713 ; 11   |// TODO:  move this outta here!
                            11714 ; 12   |#if !defined(NOERROR)
                            11715 ; 13   |#define NOERROR 0
                            11716 ; 14   |#define SUCCESS 0
                            11717 ; 15   |#endif 
                            11718 ; 16   |#if !defined(SUCCESS)
                            11719 ; 17   |#define SUCCESS  0
                            11720 ; 18   |#endif
                            11721 ; 19   |#if !defined(ERROR)
                            11722 ; 20   |#define ERROR   -1
                            11723 ; 21   |#endif
                            11724 ; 22   |#if !defined(FALSE)
                            11725 ; 23   |#define FALSE 0
                            11726 ; 24   |#endif
                            11727 ; 25   |#if !defined(TRUE)
                            11728 ; 26   |#define TRUE  1
                            11729 ; 27   |#endif
                            11730 ; 28   |
                            11731 ; 29   |#if !defined(NULL)
                            11732 ; 30   |#define NULL 0
                            11733 ; 31   |#endif
                            11734 ; 32   |
                            11735 ; 33   |#define MAX_INT     0x7FFFFF
                            11736 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            11737 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            11738 ; 36   |#define MAX_ULONG   (-1) 
                            11739 ; 37   |
                            11740 ; 38   |#define WORD_SIZE   24              // word size in bits
                            11741 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            11742 ; 40   |
                            11743 ; 41   |
                            11744 ; 42   |#define BYTE    unsigned char       // btVarName
                            11745 ; 43   |#define CHAR    signed char         // cVarName
                            11746 ; 44   |#define USHORT  unsigned short      // usVarName
                            11747 ; 45   |#define SHORT   unsigned short      // sVarName
                            11748 ; 46   |#define WORD    unsigned int        // wVarName
                            11749 ; 47   |#define INT     signed int          // iVarName
                            11750 ; 48   |#define DWORD   unsigned long       // dwVarName
                            11751 ; 49   |#define LONG    signed long         // lVarName
                            11752 ; 50   |#define BOOL    unsigned int        // bVarName
                            11753 ; 51   |#define FRACT   _fract              // frVarName
                            11754 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            11755 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            11756 ; 54   |#define FLOAT   float               // fVarName
                            11757 ; 55   |#define DBL     double              // dVarName
                            11758 ; 56   |#define ENUM    enum                // eVarName
                            11759 ; 57   |#define CMX     _complex            // cmxVarName
                            11760 ; 58   |typedef WORD UCS3;                   // 
                            11761 ; 59   |
                            11762 ; 60   |#define UINT16  unsigned short
                            11763 ; 61   |#define UINT8   unsigned char   
                            11764 ; 62   |#define UINT32  unsigned long
                            11765 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            11766 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            11767 ; 65   |#define WCHAR   UINT16
                            11768 ; 66   |
                            11769 ; 67   |//UINT128 is 16 bytes or 6 words
                            11770 ; 68   |typedef struct UINT128_3500 {   
                            11771 ; 69   |    int val[6];     
                            11772 ; 70   |} UINT128_3500;
                            11773 ; 71   |
                            11774 ; 72   |#define UINT128   UINT128_3500
                            11775 ; 73   |
                            11776 ; 74   |// Little endian word packed byte strings:   
                            11777 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11778 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11779 ; 77   |// Little endian word packed byte strings:   
                            11780 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11781 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11782 ; 80   |
                            11783 ; 81   |// Declare Memory Spaces To Use When Coding
                            11784 ; 82   |// A. Sector Buffers
                            11785 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            11786 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            11787 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            11788 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            11789 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            11790 ; 88   |// B. Media DDI Memory
                            11791 ; 89   |#define MEDIA_DDI_MEM _Y
                            11792 ; 90   |
                            11793 ; 91   |
                            11794 ; 92   |
                            11795 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            11796 ; 94   |// Examples of circular pointers:
                            11797 ; 95   |//    INT CIRC cpiVarName
                            11798 ; 96   |//    DWORD CIRC cpdwVarName
                            11799 ; 97   |
                            11800 ; 98   |#define RETCODE INT                 // rcVarName
                            11801 ; 99   |
                            11802 ; 100  |// generic bitfield structure
                            11803 ; 101  |struct Bitfield {
                            11804 ; 102  |    unsigned int B0  :1;
                            11805 ; 103  |    unsigned int B1  :1;
                            11806 ; 104  |    unsigned int B2  :1;
                            11807 ; 105  |    unsigned int B3  :1;
                            11808 ; 106  |    unsigned int B4  :1;
                            11809 ; 107  |    unsigned int B5  :1;
                            11810 ; 108  |    unsigned int B6  :1;
                            11811 ; 109  |    unsigned int B7  :1;
                            11812 ; 110  |    unsigned int B8  :1;
                            11813 ; 111  |    unsigned int B9  :1;
                            11814 ; 112  |    unsigned int B10 :1;
                            11815 ; 113  |    unsigned int B11 :1;
                            11816 ; 114  |    unsigned int B12 :1;
                            11817 ; 115  |    unsigned int B13 :1;
                            11818 ; 116  |    unsigned int B14 :1;
                            11819 ; 117  |    unsigned int B15 :1;
                            11820 ; 118  |    unsigned int B16 :1;
                            11821 ; 119  |    unsigned int B17 :1;
                            11822 ; 120  |    unsigned int B18 :1;
                            11823 ; 121  |    unsigned int B19 :1;
                            11824 ; 122  |    unsigned int B20 :1;
                            11825 ; 123  |    unsigned int B21 :1;
                            11826 ; 124  |    unsigned int B22 :1;
                            11827 ; 125  |    unsigned int B23 :1;
                            11828 ; 126  |};
                            11829 ; 127  |
                            11830 ; 128  |union BitInt {
                            11831 ; 129  |        struct Bitfield B;
                            11832 ; 130  |        int        I;
                            11833 ; 131  |};
                            11834 ; 132  |
                            11835 ; 133  |#define MAX_MSG_LENGTH 10
                            11836 ; 134  |struct CMessage
                            11837 ; 135  |{
                            11838 ; 136  |        unsigned int m_uLength;
                            11839 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            11840 ; 138  |};
                            11841 ; 139  |
                            11842 ; 140  |typedef struct {
                            11843 ; 141  |    WORD m_wLength;
                            11844 ; 142  |    WORD m_wMessage;
                            11845 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            11846 ; 144  |} Message;
                            11847 ; 145  |
                            11848 ; 146  |struct MessageQueueDescriptor
                            11849 ; 147  |{
                            11850 ; 148  |        int *m_pBase;
                            11851 ; 149  |        int m_iModulo;
                            11852 ; 150  |        int m_iSize;
                            11853 ; 151  |        int *m_pHead;
                            11854 ; 152  |        int *m_pTail;
                            11855 ; 153  |};
                            11856 ; 154  |
                            11857 ; 155  |struct ModuleEntry
                            11858 ; 156  |{
                            11859 ; 157  |    int m_iSignaledEventMask;
                            11860 ; 158  |    int m_iWaitEventMask;
                            11861 ; 159  |    int m_iResourceOfCode;
                            11862 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            11863 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            11864 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            11865 ; 163  |    int m_uTimeOutHigh;
                            11866 ; 164  |    int m_uTimeOutLow;
                            11867 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            11868 ; 166  |};
                            11869 ; 167  |
                            11870 ; 168  |union WaitMask{
                            11871 ; 169  |    struct B{
                            11872 ; 170  |        unsigned int m_bNone     :1;
                            11873 ; 171  |        unsigned int m_bMessage  :1;
                            11874 ; 172  |        unsigned int m_bTimer    :1;
                            11875 ; 173  |        unsigned int m_bButton   :1;
                            11876 ; 174  |    } B;
                            11877 ; 175  |    int I;
                            11878 ; 176  |} ;
                            11879 ; 177  |
                            11880 ; 178  |
                            11881 ; 179  |struct Button {
                            11882 ; 180  |        WORD wButtonEvent;
                            11883 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            11884 ; 182  |};
                            11885 ; 183  |
                            11886 ; 184  |struct Message {
                            11887 ; 185  |        WORD wMsgLength;
                            11888 ; 186  |        WORD wMsgCommand;
                            11889 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            11890 ; 188  |};
                            11891 ; 189  |
                            11892 ; 190  |union EventTypes {
                            11893 ; 191  |        struct CMessage msg;
                            11894 ; 192  |        struct Button Button ;
                            11895 ; 193  |        struct Message Message;
                            11896 ; 194  |};
                            11897 ; 195  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  48

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11898 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            11899 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            11900 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            11901 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            11902 ; 200  |
                            11903 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            11904 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            11905 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            11906 ; 204  |
                            11907 ; 205  |#if DEBUG
                            11908 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            11909 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            11910 ; 208  |#else 
                            11911 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            11912 ; 210  |#define DebugBuildAssert(x)    
                            11913 ; 211  |#endif
                            11914 ; 212  |
                            11915 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            11916 ; 214  |//  #pragma asm
                            11917 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            11918 ; 216  |//  #pragma endasm
                            11919 ; 217  |
                            11920 ; 218  |
                            11921 ; 219  |#ifdef COLOR_262K
                            11922 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            11923 ; 221  |#elif defined(COLOR_65K)
                            11924 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            11925 ; 223  |#else
                            11926 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            11927 ; 225  |#endif
                            11928 ; 226  |    
                            11929 ; 227  |#endif // #ifndef _TYPES_H
                            11930 
                            11932 
                            11933 ; 29   |
                            11934 ; 30   |/////////////////////////////////////////////////////////////////////////////////
                            11935 ; 31   |////   I2C STMP Registers
                            11936 ; 32   |/////////////////////////////////////////////////////////////////////////////////
                            11937 ; 33   |
                            11938 ; 34   |#define HW_I2C_BASEADDR (0xFFE5)
                            11939 ; 35   |
                            11940 ; 36   |
                            11941 ; 37   |/////////////////////////////////////////////////////////////////////////////////
                            11942 ; 38   |////  I2C Clock Divider Register (HW_I2CDIV) Bit Definitions
                            11943 ; 39   |
                            11944 ; 40   |#define HW_I2CDIV_FACT_BITPOS (1)
                            11945 ; 41   |
                            11946 ; 42   |#define HW_I2CDIV_FACT_SETMASK (0xFF<<HW_I2CDIV_FACT_BITPOS)
                            11947 ; 43   |
                            11948 ; 44   |#define HW_I2CDIV_FACT_CLRMASK (~(WORD)HW_I2CDIV_FACT_SETMASK)
                            11949 ; 45   |
                            11950 ; 46   |typedef union               /* I2C Clock Divider Register */
                            11951 ; 47   |{
                            11952 ; 48   |    struct {
                            11953 ; 49   |        int                :1; 
                            11954 ; 50   |        unsigned FACT      :8;
                            11955 ; 51   |    } B;
                            11956 ; 52   |    int I;
                            11957 ; 53   |    unsigned U;
                            11958 ; 54   |} i2cdivr_type;
                            11959 ; 55   |#define HW_I2CDIV (*(volatile i2cdivr_type _X*) (HW_I2C_BASEADDR))       /* I2C Divfact Registers        */
                            11960 ; 56   |
                            11961 ; 57   |
                            11962 ; 58   |/////////////////////////////////////////////////////////////////////////////////
                            11963 ; 59   |////  I2C Data Register (HW_I2CDAT) Bit Definitions
                            11964 ; 60   |
                            11965 ; 61   |#define HW_I2CDAT_DATA_BITPOS (0)
                            11966 ; 62   |
                            11967 ; 63   |#define HW_I2CDAT_DATA_SETMASK (0xFFFFFF)
                            11968 ; 64   |
                            11969 ; 65   |#define HW_I2CDAT_DATA_CLRMASK (~(WORD)HW_I2CDAT_DATA_SETMASK)
                            11970 ; 66   |
                            11971 ; 67   |typedef union               /* I2C Data Register */
                            11972 ; 68   |{
                            11973 ; 69   |    struct {
                            11974 ; 70   |         unsigned DATA :24; 
                            11975 ; 71   |    } B;
                            11976 ; 72   |    int I;
                            11977 ; 73   |    unsigned U;
                            11978 ; 74   |} i2cdatr_type;
                            11979 ; 75   |#define HW_I2CDAT (*(volatile i2cdatr_type _X*) (HW_I2C_BASEADDR+1)) /* I2C Data Registers (I2CDAT)      */
                            11980 ; 76   |
                            11981 ; 77   |
                            11982 ; 78   |/////////////////////////////////////////////////////////////////////////////////
                            11983 ; 79   |////  I2C Control Status Register (HW_I2CCSR) Bit Definitions
                            11984 ; 80   |#define HW_I2CCSR_I2C_EN_BITPOS (0)
                            11985 ; 81   |#define HW_I2CCSR_RIE_BITPOS (1)
                            11986 ; 82   |#define HW_I2CCSR_BUSY_BITPOS (2)
                            11987 ; 83   |#define HW_I2CCSR_ARB_LOST_BITPOS (3)
                            11988 ; 84   |#define HW_I2CCSR_TIE_BITPOS (4)
                            11989 ; 85   |#define HW_I2CCSR_MODE_BITPOS (5)
                            11990 ; 86   |#define HW_I2CCSR_RDR_BITPOS (6)
                            11991 ; 87   |#define HW_I2CCSR_TDE_BITPOS (7)
                            11992 ; 88   |#define HW_I2CCSR_RWN_BITPOS (8)
                            11993 ; 89   |#define HW_I2CCSR_WL_BITPOS (9)
                            11994 ; 90   |#define HW_I2CCSR_WL0_BITPOS (9)
                            11995 ; 91   |#define HW_I2CCSR_WL1_BITPOS (10)
                            11996 ; 92   |#define HW_I2CCSR_TREQ_BITPOS (11)
                            11997 ; 93   |#define HW_I2CCSR_ROFL_BITPOS (12)
                            11998 ; 94   |#define HW_I2CCSR_TUFL_BITPOS (13)
                            11999 ; 95   |#define HW_I2CCSR_ACKF_BITPOS (14)
                            12000 ; 96   |#define HW_I2CCSR_B_CNT_BITPOS (15)
                            12001 ; 97   |#define HW_I2CCSR_B_CNT0_BITPOS (15)
                            12002 ; 98   |#define HW_I2CCSR_B_CNT1_BITPOS (16)
                            12003 ; 99   |#define HW_I2CCSR_L_WORD_BITPOS (17)
                            12004 ; 100  |#define HW_I2CCSR_SUBA_BITPOS (18)
                            12005 ; 101  |#define HW_I2CCSR_ROFLCL_BITPOS (19)
                            12006 ; 102  |#define HW_I2CCSR_TUFLCL_BITPOS (20)
                            12007 ; 103  |#define HW_I2CCSR_ONEBYTE_BITPOS (21)
                            12008 ; 104  |
                            12009 ; 105  |#define HW_I2CCSR_I2C_EN_SETMASK (1<<HW_I2CCSR_I2C_EN_BITPOS)
                            12010 ; 106  |#define HW_I2CCSR_RIE_SETMASK (1<<HW_I2CCSR_RIE_BITPOS)
                            12011 ; 107  |#define HW_I2CCSR_BUSY_SETMASK (1<<HW_I2CCSR_BUSY_BITPOS)
                            12012 ; 108  |#define HW_I2CCSR_ARB_LOST_SETMASK (1<<HW_I2CCSR_ARB_LOST_BITPOS)
                            12013 ; 109  |#define HW_I2CCSR_TIE_SETMASK (1<<HW_I2CCSR_TIE_BITPOS)
                            12014 ; 110  |#define HW_I2CCSR_MODE_SETMASK (1<<HW_I2CCSR_MODE_BITPOS)
                            12015 ; 111  |#define HW_I2CCSR_RDR_SETMASK (1<<HW_I2CCSR_RDR_BITPOS)
                            12016 ; 112  |#define HW_I2CCSR_TDE_SETMASK (1<<HW_I2CCSR_TDE_BITPOS)
                            12017 ; 113  |#define HW_I2CCSR_RWN_SETMASK (1<<HW_I2CCSR_RWN_BITPOS)
                            12018 ; 114  |#define HW_I2CCSR_WL_SETMASK (3<<HW_I2CCSR_WL_BITPOS)
                            12019 ; 115  |#define HW_I2CCSR_WL0_SETMASK (1<<HW_I2CCSR_WL0_BITPOS)
                            12020 ; 116  |#define HW_I2CCSR_WL1_SETMASK (1<<HW_I2CCSR_WL1_BITPOS)
                            12021 ; 117  |#define HW_I2CCSR_TREQ_SETMASK (1<<HW_I2CCSR_TREQ_BITPOS)
                            12022 ; 118  |#define HW_I2CCSR_ROFL_SETMASK (1<<HW_I2CCSR_ROFL_BITPOS)
                            12023 ; 119  |#define HW_I2CCSR_TUFL_SETMASK (1<<HW_I2CCSR_TUFL_BITPOS)
                            12024 ; 120  |#define HW_I2CCSR_ACKF_SETMASK (1<<HW_I2CCSR_ACKF_BITPOS)
                            12025 ; 121  |#define HW_I2CCSR_B_CNT_SETMASK (3<<HW_I2CCSR_B_CNT_BITPOS)
                            12026 ; 122  |#define HW_I2CCSR_B_CNT0_SETMASK (1<<HW_I2CCSR_B_CNT0_BITPOS)
                            12027 ; 123  |#define HW_I2CCSR_B_CNT1_SETMASK (1<<HW_I2CCSR_B_CNT1_BITPOS)
                            12028 ; 124  |#define HW_I2CCSR_L_WORD_SETMASK (1<<HW_I2CCSR_L_WORD_BITPOS)
                            12029 ; 125  |#define HW_I2CCSR_SUBA_SETMASK (1<<HW_I2CCSR_SUBA_BITPOS)
                            12030 ; 126  |#define HW_I2CCSR_ROFLCL_SETMASK (1<<HW_I2CCSR_ROFLCL_BITPOS)
                            12031 ; 127  |#define HW_I2CCSR_TUFLCL_SETMASK (1<<HW_I2CCSR_TUFLCL_BITPOS)
                            12032 ; 128  |#define HW_I2CCSR_ONEBYTE_SETMASK (1<<HW_I2CCSR_ONEBYTE_BITPOS)
                            12033 ; 129  |
                            12034 ; 130  |#define HW_I2CCSR_I2C_EN_CLRMASK (~(WORD)HW_I2CCSR_I2C_EN_SETMASK)
                            12035 ; 131  |#define HW_I2CCSR_RIE_CLRMASK (~(WORD)HW_I2CCSR_RIE_SETMASK)
                            12036 ; 132  |#define HW_I2CCSR_BUSY_CLRMASK (~(WORD)HW_I2CCSR_BUSY_SETMASK)
                            12037 ; 133  |#define HW_I2CCSR_ARB_LOST_CLRMASK (~(WORD)HW_I2CCSR_ARB_LOST_SETMASK)
                            12038 ; 134  |#define HW_I2CCSR_TIE_CLRMASK (~(WORD)HW_I2CCSR_TIE_SETMASK)
                            12039 ; 135  |#define HW_I2CCSR_MODE_CLRMASK (~(WORD)HW_I2CCSR_MODE_SETMASK)
                            12040 ; 136  |#define HW_I2CCSR_RDR_CLRMASK (~(WORD)HW_I2CCSR_RDR_SETMASK)
                            12041 ; 137  |#define HW_I2CCSR_TDE_CLRMASK (~(WORD)HW_I2CCSR_TDE_SETMASK)
                            12042 ; 138  |#define HW_I2CCSR_RWN_CLRMASK (~(WORD)HW_I2CCSR_RWN_SETMASK)
                            12043 ; 139  |#define HW_I2CCSR_WL_CLRMASK (~(WORD)HW_I2CCSR_WL_SETMASK)
                            12044 ; 140  |#define HW_I2CCSR_WL0_CLRMASK (~(WORD)HW_I2CCSR_WL0_SETMASK)
                            12045 ; 141  |#define HW_I2CCSR_WL1_CLRMASK (~(WORD)HW_I2CCSR_WL1_SETMASK)
                            12046 ; 142  |#define HW_I2CCSR_TREQ_CLRMASK (~(WORD)HW_I2CCSR_TREQ_SETMASK)
                            12047 ; 143  |#define HW_I2CCSR_ROFL_CLRMASK (~(WORD)HW_I2CCSR_ROFL_SETMASK)
                            12048 ; 144  |#define HW_I2CCSR_TUFL_CLRMASK (~(WORD)HW_I2CCSR_TUFL_SETMASK)
                            12049 ; 145  |#define HW_I2CCSR_ACKF_CLRMASK (~(WORD)HW_I2CCSR_ACKF_SETMASK)
                            12050 ; 146  |#define HW_I2CCSR_B_CNT_CLRMASK (~(WORD)HW_I2CCSR_B_CNT_SETMASK)
                            12051 ; 147  |#define HW_I2CCSR_B_CNT0_CLRMASK (~(WORD)HW_I2CCSR_B_CNT0_SETMASK)
                            12052 ; 148  |#define HW_I2CCSR_B_CNT1_CLRMASK (~(WORD)HW_I2CCSR_B_CNT1_SETMASK)
                            12053 ; 149  |#define HW_I2CCSR_L_WORD_CLRMASK (~(WORD)HW_I2CCSR_L_WORD_SETMASK)
                            12054 ; 150  |#define HW_I2CCSR_SUBA_CLRMASK (~(WORD)HW_I2CCSR_SUBA_SETMASK)
                            12055 ; 151  |#define HW_I2CCSR_ROFLCL_CLRMASK (~(WORD)HW_I2CCSR_ROFLCL_SETMASK)
                            12056 ; 152  |#define HW_I2CCSR_TUFLCL_CLRMASK (~(WORD)HW_I2CCSR_TUFLCL_SETMASK)
                            12057 ; 153  |#define HW_I2CCSR_ONEBYTE_CLRMASK (~(WORD)HW_I2CCSR_ONEBYTE_SETMASK)
                            12058 ; 154  |
                            12059 ; 155  |typedef union               /* I2C Control Register         */
                            12060 ; 156  |{
                            12061 ; 157  |    struct {
                            12062 ; 158  |        int I2C_EN      :1; /* Peripheral Enable            */
                            12063 ; 159  |        int RIE         :1; /* Receiver Interrupt Enable        */
                            12064 ; 160  |        int BUSY        :1; /* I2C Bus Busy             */
                            12065 ; 161  |        int ARBLOST     :1; /* Aritration lost          */
                            12066 ; 162  |        int TIE         :1; /* Transmitter Interrupt Enable     */
                            12067 ; 163  |        int MODE        :1; /* Operating Mode Bit           */
                            12068 ; 164  |        int RDR         :1; /* Receiver Data Ready          */
                            12069 ; 165  |       int TDE         :1; /* Transmitter Data Empty       */
                            12070 ; 166  |       int RWN         :1; /* Read/Not Write           */
                            12071 ; 167  |       unsigned WL     :2; /* Word Length              */
                            12072 ; 168  |        int TREQ        :1; /* DSP Transmit Request         */
                            12073 ; 169  |        int ROFL        :1; /* Receiver Overflow            */
                            12074 ; 170  |        int TUFL        :1; /* Transmitter Underflow        */
                            12075 ; 171  |        int ACKF        :1; /* Acknowledge Failure          */
                            12076 ; 172  |        unsigned BCNT   :2; /* Byte Count               */
                            12077 ; 173  |        int LWORD       :1; /* Last Word                */
                            12078 ; 174  |        int SUBA        :1; /* Sub Address              */
                            12079 ; 175  |        int ROFLCL      :1; /* Receiver Overflow Clear      */
                            12080 ; 176  |        int TUFLCL      :1; /* Transmitter Underflow Clear      */
                            12081 ; 177  |        int ONEBYTE     :1; /* Special One Data Byte Transmission Mode */
                            12082 ; 178  |    } B;
                            12083 ; 179  |    int I;
                            12084 ; 180  |    unsigned U;
                            12085 ; 181  |} i2ccsr_type;
                            12086 ; 182  |#define HW_I2CCSR (*(volatile i2ccsr_type _X*) (HW_I2C_BASEADDR+2)) /* I2C Control/Status Register (I2CCSR) */
                            12087 ; 183  |
                            12088 ; 184  |#endif
                            12089 
                            12091 
                            12092 ; 24   |#include "regsi2s.h"
                            12093 
                            12095 
                            12096 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            12097 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                            12098 ; 3    |// Filename: regsi2s.inc
                            12099 ; 4    |// Description: Register definitions for I2S interface
                            12100 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            12101 ; 6    |// The following naming conventions are followed in this file.
                            12102 ; 7    |// All registers are named using the format...
                            12103 ; 8    |//     HW_<module>_<regname>
                            12104 ; 9    |// where <module> is the module name which can be any of the following...
                            12105 ; 10   |//     USB20
                            12106 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            12107 ; 12   |// module name includes a number starting from 0 for the first instance of
                            12108 ; 13   |// that module)
                            12109 ; 14   |// <regname> is the specific register within that module
                            12110 ; 15   |// We also define the following...
                            12111 ; 16   |//     HW_<module>_<regname>_BITPOS
                            12112 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            12113 ; 18   |//     HW_<module>_<regname>_SETMASK
                            12114 ; 19   |// which does something else, and
                            12115 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            12116 ; 21   |// which does something else.
                            12117 ; 22   |// Other rules
                            12118 ; 23   |//     All caps
                            12119 ; 24   |//     Numeric identifiers start at 0
                            12120 ; 25   |#if !(defined(regsi2sinc))
                            12121 ; 26   |#define regsi2sinc 1
                            12122 ; 27   |
                            12123 ; 28   |#include "types.h"
                            12124 
                            12126 
                            12127 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            12128 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            12129 ; 3    |//
                            12130 ; 4    |// Filename: types.h
                            12131 ; 5    |// Description: Standard data types
                            12132 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            12133 ; 7    |
                            12134 ; 8    |#ifndef _TYPES_H
                            12135 ; 9    |#define _TYPES_H
                            12136 ; 10   |
                            12137 ; 11   |// TODO:  move this outta here!
                            12138 ; 12   |#if !defined(NOERROR)
                            12139 ; 13   |#define NOERROR 0
                            12140 ; 14   |#define SUCCESS 0
                            12141 ; 15   |#endif 
                            12142 ; 16   |#if !defined(SUCCESS)
                            12143 ; 17   |#define SUCCESS  0
                            12144 ; 18   |#endif
                            12145 ; 19   |#if !defined(ERROR)
                            12146 ; 20   |#define ERROR   -1
                            12147 ; 21   |#endif
                            12148 ; 22   |#if !defined(FALSE)
                            12149 ; 23   |#define FALSE 0
                            12150 ; 24   |#endif
                            12151 ; 25   |#if !defined(TRUE)
                            12152 ; 26   |#define TRUE  1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  49

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12153 ; 27   |#endif
                            12154 ; 28   |
                            12155 ; 29   |#if !defined(NULL)
                            12156 ; 30   |#define NULL 0
                            12157 ; 31   |#endif
                            12158 ; 32   |
                            12159 ; 33   |#define MAX_INT     0x7FFFFF
                            12160 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            12161 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            12162 ; 36   |#define MAX_ULONG   (-1) 
                            12163 ; 37   |
                            12164 ; 38   |#define WORD_SIZE   24              // word size in bits
                            12165 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            12166 ; 40   |
                            12167 ; 41   |
                            12168 ; 42   |#define BYTE    unsigned char       // btVarName
                            12169 ; 43   |#define CHAR    signed char         // cVarName
                            12170 ; 44   |#define USHORT  unsigned short      // usVarName
                            12171 ; 45   |#define SHORT   unsigned short      // sVarName
                            12172 ; 46   |#define WORD    unsigned int        // wVarName
                            12173 ; 47   |#define INT     signed int          // iVarName
                            12174 ; 48   |#define DWORD   unsigned long       // dwVarName
                            12175 ; 49   |#define LONG    signed long         // lVarName
                            12176 ; 50   |#define BOOL    unsigned int        // bVarName
                            12177 ; 51   |#define FRACT   _fract              // frVarName
                            12178 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            12179 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            12180 ; 54   |#define FLOAT   float               // fVarName
                            12181 ; 55   |#define DBL     double              // dVarName
                            12182 ; 56   |#define ENUM    enum                // eVarName
                            12183 ; 57   |#define CMX     _complex            // cmxVarName
                            12184 ; 58   |typedef WORD UCS3;                   // 
                            12185 ; 59   |
                            12186 ; 60   |#define UINT16  unsigned short
                            12187 ; 61   |#define UINT8   unsigned char   
                            12188 ; 62   |#define UINT32  unsigned long
                            12189 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            12190 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            12191 ; 65   |#define WCHAR   UINT16
                            12192 ; 66   |
                            12193 ; 67   |//UINT128 is 16 bytes or 6 words
                            12194 ; 68   |typedef struct UINT128_3500 {   
                            12195 ; 69   |    int val[6];     
                            12196 ; 70   |} UINT128_3500;
                            12197 ; 71   |
                            12198 ; 72   |#define UINT128   UINT128_3500
                            12199 ; 73   |
                            12200 ; 74   |// Little endian word packed byte strings:   
                            12201 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12202 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12203 ; 77   |// Little endian word packed byte strings:   
                            12204 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12205 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12206 ; 80   |
                            12207 ; 81   |// Declare Memory Spaces To Use When Coding
                            12208 ; 82   |// A. Sector Buffers
                            12209 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            12210 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            12211 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            12212 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            12213 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            12214 ; 88   |// B. Media DDI Memory
                            12215 ; 89   |#define MEDIA_DDI_MEM _Y
                            12216 ; 90   |
                            12217 ; 91   |
                            12218 ; 92   |
                            12219 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            12220 ; 94   |// Examples of circular pointers:
                            12221 ; 95   |//    INT CIRC cpiVarName
                            12222 ; 96   |//    DWORD CIRC cpdwVarName
                            12223 ; 97   |
                            12224 ; 98   |#define RETCODE INT                 // rcVarName
                            12225 ; 99   |
                            12226 ; 100  |// generic bitfield structure
                            12227 ; 101  |struct Bitfield {
                            12228 ; 102  |    unsigned int B0  :1;
                            12229 ; 103  |    unsigned int B1  :1;
                            12230 ; 104  |    unsigned int B2  :1;
                            12231 ; 105  |    unsigned int B3  :1;
                            12232 ; 106  |    unsigned int B4  :1;
                            12233 ; 107  |    unsigned int B5  :1;
                            12234 ; 108  |    unsigned int B6  :1;
                            12235 ; 109  |    unsigned int B7  :1;
                            12236 ; 110  |    unsigned int B8  :1;
                            12237 ; 111  |    unsigned int B9  :1;
                            12238 ; 112  |    unsigned int B10 :1;
                            12239 ; 113  |    unsigned int B11 :1;
                            12240 ; 114  |    unsigned int B12 :1;
                            12241 ; 115  |    unsigned int B13 :1;
                            12242 ; 116  |    unsigned int B14 :1;
                            12243 ; 117  |    unsigned int B15 :1;
                            12244 ; 118  |    unsigned int B16 :1;
                            12245 ; 119  |    unsigned int B17 :1;
                            12246 ; 120  |    unsigned int B18 :1;
                            12247 ; 121  |    unsigned int B19 :1;
                            12248 ; 122  |    unsigned int B20 :1;
                            12249 ; 123  |    unsigned int B21 :1;
                            12250 ; 124  |    unsigned int B22 :1;
                            12251 ; 125  |    unsigned int B23 :1;
                            12252 ; 126  |};
                            12253 ; 127  |
                            12254 ; 128  |union BitInt {
                            12255 ; 129  |        struct Bitfield B;
                            12256 ; 130  |        int        I;
                            12257 ; 131  |};
                            12258 ; 132  |
                            12259 ; 133  |#define MAX_MSG_LENGTH 10
                            12260 ; 134  |struct CMessage
                            12261 ; 135  |{
                            12262 ; 136  |        unsigned int m_uLength;
                            12263 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            12264 ; 138  |};
                            12265 ; 139  |
                            12266 ; 140  |typedef struct {
                            12267 ; 141  |    WORD m_wLength;
                            12268 ; 142  |    WORD m_wMessage;
                            12269 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            12270 ; 144  |} Message;
                            12271 ; 145  |
                            12272 ; 146  |struct MessageQueueDescriptor
                            12273 ; 147  |{
                            12274 ; 148  |        int *m_pBase;
                            12275 ; 149  |        int m_iModulo;
                            12276 ; 150  |        int m_iSize;
                            12277 ; 151  |        int *m_pHead;
                            12278 ; 152  |        int *m_pTail;
                            12279 ; 153  |};
                            12280 ; 154  |
                            12281 ; 155  |struct ModuleEntry
                            12282 ; 156  |{
                            12283 ; 157  |    int m_iSignaledEventMask;
                            12284 ; 158  |    int m_iWaitEventMask;
                            12285 ; 159  |    int m_iResourceOfCode;
                            12286 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            12287 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            12288 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            12289 ; 163  |    int m_uTimeOutHigh;
                            12290 ; 164  |    int m_uTimeOutLow;
                            12291 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            12292 ; 166  |};
                            12293 ; 167  |
                            12294 ; 168  |union WaitMask{
                            12295 ; 169  |    struct B{
                            12296 ; 170  |        unsigned int m_bNone     :1;
                            12297 ; 171  |        unsigned int m_bMessage  :1;
                            12298 ; 172  |        unsigned int m_bTimer    :1;
                            12299 ; 173  |        unsigned int m_bButton   :1;
                            12300 ; 174  |    } B;
                            12301 ; 175  |    int I;
                            12302 ; 176  |} ;
                            12303 ; 177  |
                            12304 ; 178  |
                            12305 ; 179  |struct Button {
                            12306 ; 180  |        WORD wButtonEvent;
                            12307 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            12308 ; 182  |};
                            12309 ; 183  |
                            12310 ; 184  |struct Message {
                            12311 ; 185  |        WORD wMsgLength;
                            12312 ; 186  |        WORD wMsgCommand;
                            12313 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            12314 ; 188  |};
                            12315 ; 189  |
                            12316 ; 190  |union EventTypes {
                            12317 ; 191  |        struct CMessage msg;
                            12318 ; 192  |        struct Button Button ;
                            12319 ; 193  |        struct Message Message;
                            12320 ; 194  |};
                            12321 ; 195  |
                            12322 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            12323 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            12324 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            12325 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            12326 ; 200  |
                            12327 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            12328 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            12329 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            12330 ; 204  |
                            12331 ; 205  |#if DEBUG
                            12332 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            12333 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            12334 ; 208  |#else 
                            12335 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            12336 ; 210  |#define DebugBuildAssert(x)    
                            12337 ; 211  |#endif
                            12338 ; 212  |
                            12339 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            12340 ; 214  |//  #pragma asm
                            12341 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            12342 ; 216  |//  #pragma endasm
                            12343 ; 217  |
                            12344 ; 218  |
                            12345 ; 219  |#ifdef COLOR_262K
                            12346 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            12347 ; 221  |#elif defined(COLOR_65K)
                            12348 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            12349 ; 223  |#else
                            12350 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            12351 ; 225  |#endif
                            12352 ; 226  |    
                            12353 ; 227  |#endif // #ifndef _TYPES_H
                            12354 
                            12356 
                            12357 ; 29   |
                            12358 ; 30   |///////////////////////////////////////////////////////////////////////////////////
                            12359 ; 31   |////  I2S Registers (SAI)
                            12360 ; 32   |///////////////////////////////////////////////////////////////////////////////////
                            12361 ; 33   |
                            12362 ; 34   |
                            12363 ; 35   |#define HW_SAI_BASEADDR (0xFFF0)
                            12364 ; 36   |
                            12365 ; 37   |
                            12366 ; 38   |
                            12367 ; 39   |
                            12368 ; 40   |#define HW_SAIRCSR_REN0_BITPOS (0)
                            12369 ; 41   |#define HW_SAIRCSR_REN1_BITPOS (1)
                            12370 ; 42   |#define HW_SAIRCSR_REN2_BITPOS (2)
                            12371 ; 43   |#define HW_SAIRCSR_RMME_BITPOS (3)
                            12372 ; 44   |#define HW_SAIRCSR_RSVD0_BITPOS (4)
                            12373 ; 45   |#define HW_SAIRCSR_RWL_BITPOS (5)
                            12374 ; 46   |#define HW_SAIRCSR_RDIR_BITPOS (7)
                            12375 ; 47   |#define HW_SAIRCSR_RLRS_BITPOS (8)
                            12376 ; 48   |#define HW_SAIRCSR_RCKP_BITPOS (9)
                            12377 ; 49   |#define HW_SAIRCSR_RREL_BITPOS (10)
                            12378 ; 50   |#define HW_SAIRCSR_RDWJ_BITPOS (11)
                            12379 ; 51   |#define HW_SAIRCSR_RXIE_BITPOS (12)
                            12380 ; 52   |#define HW_SAIRCSR_RSVD1_BITPOS (13)
                            12381 ; 53   |#define HW_SAIRCSR_ROFL_BITPOS (14)
                            12382 ; 54   |#define HW_SAIRCSR_RDR_BITPOS (15)
                            12383 ; 55   |#define HW_SAIRCSR_ROFCL_BITPOS (16)
                            12384 ; 56   |#define HW_SAIRCSR_RSVD2_BITPOS (17)
                            12385 ; 57   |
                            12386 ; 58   |
                            12387 ; 59   |#define HW_SAIRCSR_REN0_WIDTH (1)
                            12388 ; 60   |#define HW_SAIRCSR_REN1_WIDTH (1)
                            12389 ; 61   |#define HW_SAIRCSR_REN2_WIDTH (1)
                            12390 ; 62   |#define HW_SAIRCSR_RMME_WIDTH (1)
                            12391 ; 63   |#define HW_SAIRCSR_RSVD0_WIDTH (1)
                            12392 ; 64   |#define HW_SAIRCSR_RWL_WIDTH (2)
                            12393 ; 65   |#define HW_SAIRCSR_RDIR_WIDTH (1)
                            12394 ; 66   |#define HW_SAIRCSR_RLRS_WIDTH (1)
                            12395 ; 67   |#define HW_SAIRCSR_RCKP_WIDTH (1)
                            12396 ; 68   |#define HW_SAIRCSR_RREL_WIDTH (1)
                            12397 ; 69   |#define HW_SAIRCSR_RDWJ_WIDTH (1)
                            12398 ; 70   |#define HW_SAIRCSR_RXIE_WIDTH (1)
                            12399 ; 71   |#define HW_SAIRCSR_RSVD1_WIDTH (1)
                            12400 ; 72   |#define HW_SAIRCSR_ROFL_WIDTH (1)
                            12401 ; 73   |#define HW_SAIRCSR_RDR_WIDTH (1)
                            12402 ; 74   |#define HW_SAIRCSR_ROFCL_WIDTH (1)
                            12403 ; 75   |#define HW_SAIRCSR_RSVD2_WIDTH (7)
                            12404 ; 76   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  50

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12405 ; 77   |
                            12406 ; 78   |#define HW_SAIRCSR_REN0_SETMASK (((1<HW_SAIRCSR_REN0_WIDTH)-1)<<HW_SAIRCSR_REN0_BITPOS)
                            12407 ; 79   |#define HW_SAIRCSR_REN1_SETMASK (((1<HW_SAIRCSR_REN1_WIDTH)-1)<<HW_SAIRCSR_REN1_BITPOS)
                            12408 ; 80   |#define HW_SAIRCSR_REN2_SETMASK (((1<HW_SAIRCSR_REN2_WIDTH)-1)<<HW_SAIRCSR_REN2_BITPOS)
                            12409 ; 81   |#define HW_SAIRCSR_RMME_SETMASK (((1<HW_SAIRCSR_RMME_WIDTH)-1)<<HW_SAIRCSR_RMME_BITPOS)
                            12410 ; 82   |#define HW_SAIRCSR_RSVD0_SETMASK (((1<HW_SAIRCSR_RSVD0_WIDTH)-1)<<HW_SAIRCSR_RSVD0_BITPOS)
                            12411 ; 83   |#define HW_SAIRCSR_RWL_SETMASK (((1<HW_SAIRCSR_RWL_WIDTH)-1)<<HW_SAIRCSR_RWL_BITPOS)
                            12412 ; 84   |#define HW_SAIRCSR_RDIR_SETMASK (((1<HW_SAIRCSR_RDIR_WIDTH)-1)<<HW_SAIRCSR_RDIR_BITPOS)
                            12413 ; 85   |#define HW_SAIRCSR_RLRS_SETMASK (((1<HW_SAIRCSR_RLRS_WIDTH)-1)<<HW_SAIRCSR_RLRS_BITPOS)
                            12414 ; 86   |#define HW_SAIRCSR_RCKP_SETMASK (((1<HW_SAIRCSR_RCKP_WIDTH)-1)<<HW_SAIRCSR_RCKP_BITPOS)
                            12415 ; 87   |#define HW_SAIRCSR_RREL_SETMASK (((1<HW_SAIRCSR_RREL_WIDTH)-1)<<HW_SAIRCSR_RREL_BITPOS)
                            12416 ; 88   |#define HW_SAIRCSR_RDWJ_SETMASK (((1<HW_SAIRCSR_RDWJ_WIDTH)-1)<<HW_SAIRCSR_RDWJ_BITPOS)
                            12417 ; 89   |#define HW_SAIRCSR_RXIE_SETMASK (((1<HW_SAIRCSR_RXIE_WIDTH)-1)<<HW_SAIRCSR_RXIE_BITPOS)
                            12418 ; 90   |#define HW_SAIRCSR_RSVD1_SETMASK (((1<HW_SAIRCSR_RSVD1_WIDTH)-1)<<HW_SAIRCSR_RSVD1_BITPOS)
                            12419 ; 91   |#define HW_SAIRCSR_ROFL_SETMASK (((1<HW_SAIRCSR_ROFL_WIDTH)-1)<<HW_SAIRCSR_ROFL_BITPOS)
                            12420 ; 92   |#define HW_SAIRCSR_RDR_SETMASK (((1<HW_SAIRCSR_RDR_WIDTH)-1)<<HW_SAIRCSR_RDR_BITPOS)
                            12421 ; 93   |#define HW_SAIRCSR_ROFCL_SETMASK (((1<HW_SAIRCSR_ROFCL_WIDTH)-1)<<HW_SAIRCSR_ROFCL_BITPOS)
                            12422 ; 94   |#define HW_SAIRCSR_RSVD2_SETMASK (((1<HW_SAIRCSR_RSVD2_WIDTH)-1)<<HW_SAIRCSR_RSVD2_BITPOS)
                            12423 ; 95   |
                            12424 ; 96   |
                            12425 ; 97   |#define HW_SAIRCSR_REN0_CLRMASK (~(WORD)HW_SAIRCSR_REN0_SETMASK)
                            12426 ; 98   |#define HW_SAIRCSR_REN1_CLRMASK (~(WORD)HW_SAIRCSR_REN1_SETMASK)
                            12427 ; 99   |#define HW_SAIRCSR_REN2_CLRMASK (~(WORD)HW_SAIRCSR_REN2_SETMASK)
                            12428 ; 100  |#define HW_SAIRCSR_RMME_CLRMASK (~(WORD)HW_SAIRCSR_RMME_SETMASK)
                            12429 ; 101  |#define HW_SAIRCSR_RSVD0_CLRMASK (~(WORD)HW_SAIRCSR_RSVD0_SETMASK)
                            12430 ; 102  |#define HW_SAIRCSR_RWL_CLRMASK (~(WORD)HW_SAIRCSR_RWL_SETMASK)
                            12431 ; 103  |#define HW_SAIRCSR_RDIR_CLRMASK (~(WORD)HW_SAIRCSR_RDIR_SETMASK)
                            12432 ; 104  |#define HW_SAIRCSR_RLRS_CLRMASK (~(WORD)HW_SAIRCSR_RLRS_SETMASK)
                            12433 ; 105  |#define HW_SAIRCSR_RCKP_CLRMASK (~(WORD)HW_SAIRCSR_RCKP_SETMASK)
                            12434 ; 106  |#define HW_SAIRCSR_RREL_CLRMASK (~(WORD)HW_SAIRCSR_RREL_SETMASK)
                            12435 ; 107  |#define HW_SAIRCSR_RDWJ_CLRMASK (~(WORD)HW_SAIRCSR_RDWJ_SETMASK)
                            12436 ; 108  |#define HW_SAIRCSR_RXIE_CLRMASK (~(WORD)HW_SAIRCSR_RXIE_SETMASK)
                            12437 ; 109  |#define HW_SAIRCSR_RSVD1_CLRMASK (~(WORD)HW_SAIRCSR_RSVD1_SETMASK)
                            12438 ; 110  |#define HW_SAIRCSR_ROFL_CLRMASK (~(WORD)HW_SAIRCSR_ROFL_SETMASK)
                            12439 ; 111  |#define HW_SAIRCSR_RDR_CLRMASK (~(WORD)HW_SAIRCSR_RDR_SETMASK)
                            12440 ; 112  |#define HW_SAIRCSR_ROFCL_CLRMASK (~(WORD)HW_SAIRCSR_ROFCL_SETMASK)
                            12441 ; 113  |#define HW_SAIRCSR_RSVD2_CLRMASK (~(WORD)HW_SAIRCSR_RSVD2_SETMASK)
                            12442 ; 114  |
                            12443 ; 115  |typedef union
                            12444 ; 116  |{
                            12445 ; 117  |    struct {
                            12446 ; 118  |        int REN0        :HW_SAIRCSR_REN0_WIDTH;        // Receiver 0 enable
                            12447 ; 119  |        int REN1        :HW_SAIRCSR_REN1_WIDTH;        // Receiver 1 enable
                            12448 ; 120  |        int REN2        :HW_SAIRCSR_REN2_WIDTH;        // Receiver 2 enable
                            12449 ; 121  |        int RMME        :HW_SAIRCSR_RMME_WIDTH;        // Receiver master mode enable
                            12450 ; 122  |        int RSVD0       :HW_SAIRCSR_RSVD0_WIDTH;       // Reserved
                            12451 ; 123  |        unsigned RWL    :HW_SAIRCSR_RWL_WIDTH;         // Receiver word length control
                            12452 ; 124  |        int RDIR        :HW_SAIRCSR_RDIR_WIDTH;        // Receiver data shift direction 
                            12453 ; 125  |        int RLRS        :HW_SAIRCSR_RLRS_WIDTH;        // Receiver left right select
                            12454 ; 126  |        int RCKP        :HW_SAIRCSR_RCKP_WIDTH;        // Receiver clock polarity
                            12455 ; 127  |        int RREL        :HW_SAIRCSR_RREL_WIDTH;        // Receiver relative timing
                            12456 ; 128  |        int RDWJ        :HW_SAIRCSR_RDWJ_WIDTH;        // Receiver data word justification
                            12457 ; 129  |        int RXIE        :HW_SAIRCSR_RXIE_WIDTH;        // Receiver interrupt enable
                            12458 ; 130  |        int RSVD1       :HW_SAIRCSR_RSVD1_WIDTH;       // Reserved
                            12459 ; 131  |        int ROFL        :HW_SAIRCSR_ROFL_WIDTH;        // Receiver data overflow
                            12460 ; 132  |        int RDR         :HW_SAIRCSR_RDR_WIDTH;         // Receiver data ready flag
                            12461 ; 133  |        int ROFCL       :HW_SAIRCSR_ROFCL_WIDTH;       // Receiver data overflow clear
                            12462 ; 134  |        unsigned RSVD2  :HW_SAIRCSR_RSVD2_WIDTH;       // Reserved
                            12463 ; 135  |    } B;
                            12464 ; 136  |    int I;
                            12465 ; 137  |    unsigned U;
                            12466 ; 138  |} saircsr_type;
                            12467 ; 139  |
                            12468 ; 140  |#define HW_SAIRCSR (*(volatile saircsr_type _X*) (HW_SAI_BASEADDR))       /* I2S Receive CSR         */
                            12469 ; 141  |
                            12470 ; 142  |typedef union
                            12471 ; 143  |{
                            12472 ; 144  |    struct {
                            12473 ; 145  |        unsigned SAI :24;
                            12474 ; 146  |    } B;
                            12475 ; 147  |    int I;
                            12476 ; 148  |    unsigned U;
                            12477 ; 149  |} saixr_type;
                            12478 ; 150  |
                            12479 ; 151  |#define HW_SAIRX0R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+1))       /* I2S Received data reg 0 */
                            12480 ; 152  |#define HW_SAIRX1R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+2))       /* I2S Received data reg 1 */
                            12481 ; 153  |#define HW_SAIRX2R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+3))       /* I2S Received data reg 2 */
                            12482 ; 154  |
                            12483 ; 155  |
                            12484 ; 156  |#define HW_SAITCSR_TEN0_BITPOS (0)
                            12485 ; 157  |#define HW_SAITCSR_TEN1_BITPOS (1)
                            12486 ; 158  |#define HW_SAITCSR_TEN2_BITPOS (2)
                            12487 ; 159  |#define HW_SAITCSR_TMME_BITPOS (3)
                            12488 ; 160  |#define HW_SAITCSR_RSVD0_BITPOS (4)
                            12489 ; 161  |#define HW_SAITCSR_TWL_BITPOS (5)
                            12490 ; 162  |#define HW_SAITCSR_TDIR_BITPOS (7)
                            12491 ; 163  |#define HW_SAITCSR_TLRS_BITPOS (8)
                            12492 ; 164  |#define HW_SAITCSR_TCKP_BITPOS (9)
                            12493 ; 165  |#define HW_SAITCSR_TREL_BITPOS (10)
                            12494 ; 166  |#define HW_SAITCSR_TDWE_BITPOS (11)
                            12495 ; 167  |#define HW_SAITCSR_TXIE_BITPOS (12)
                            12496 ; 168  |#define HW_SAITCSR_RSVD1_BITPOS (13)
                            12497 ; 169  |#define HW_SAITCSR_TUFL_BITPOS (14)
                            12498 ; 170  |#define HW_SAITCSR_TDE_BITPOS (15)
                            12499 ; 171  |#define HW_SAITCSR_TUFCL_BITPOS (16)
                            12500 ; 172  |#define HW_SAITCSR_RSVD2_BITPOS (17)
                            12501 ; 173  |
                            12502 ; 174  |
                            12503 ; 175  |#define HW_SAITCSR_TEN0_WIDTH (1)
                            12504 ; 176  |#define HW_SAITCSR_TEN1_WIDTH (1)
                            12505 ; 177  |#define HW_SAITCSR_TEN2_WIDTH (1)
                            12506 ; 178  |#define HW_SAITCSR_TMME_WIDTH (1)
                            12507 ; 179  |#define HW_SAITCSR_RSVD0_WIDTH (1)
                            12508 ; 180  |#define HW_SAITCSR_TWL_WIDTH (2)
                            12509 ; 181  |#define HW_SAITCSR_TDIR_WIDTH (1)
                            12510 ; 182  |#define HW_SAITCSR_TLRS_WIDTH (1)
                            12511 ; 183  |#define HW_SAITCSR_TCKP_WIDTH (1)
                            12512 ; 184  |#define HW_SAITCSR_TREL_WIDTH (1)
                            12513 ; 185  |#define HW_SAITCSR_TDWE_WIDTH (1)
                            12514 ; 186  |#define HW_SAITCSR_TXIE_WIDTH (1)
                            12515 ; 187  |#define HW_SAITCSR_RSVD1_WIDTH (1)
                            12516 ; 188  |#define HW_SAITCSR_TUFL_WIDTH (1)
                            12517 ; 189  |#define HW_SAITCSR_TDE_WIDTH (1)
                            12518 ; 190  |#define HW_SAITCSR_TUFCL_WIDTH (1)
                            12519 ; 191  |#define HW_SAITCSR_RSVD2_WIDTH (7)
                            12520 ; 192  |
                            12521 ; 193  |
                            12522 ; 194  |#define HW_SAITCSR_TEN0_SETMASK (((1<HW_SAITCSR_TEN0_WIDTH)-1)<<HW_SAITCSR_TEN0_BITPOS)
                            12523 ; 195  |#define HW_SAITCSR_TEN1_SETMASK (((1<HW_SAITCSR_TEN1_WIDTH)-1)<<HW_SAITCSR_TEN1_BITPOS)
                            12524 ; 196  |#define HW_SAITCSR_TEN2_SETMASK (((1<HW_SAITCSR_TEN2_WIDTH)-1)<<HW_SAITCSR_TEN2_BITPOS)
                            12525 ; 197  |#define HW_SAITCSR_TMME_SETMASK (((1<HW_SAITCSR_TMME_WIDTH)-1)<<HW_SAITCSR_TMME_BITPOS)
                            12526 ; 198  |#define HW_SAITCSR_RSVD0_SETMASK (((1<HW_SAITCSR_RSVD0_WIDTH)-1)<<HW_SAITCSR_RSVD0_BITPOS)
                            12527 ; 199  |#define HW_SAITCSR_TWL_SETMASK (((1<HW_SAITCSR_TWL_WIDTH)-1)<<HW_SAITCSR_TWL_BITPOS)
                            12528 ; 200  |#define HW_SAITCSR_TDIR_SETMASK (((1<HW_SAITCSR_TDIR_WIDTH)-1)<<HW_SAITCSR_TDIR_BITPOS)
                            12529 ; 201  |#define HW_SAITCSR_TLRS_SETMASK (((1<HW_SAITCSR_TLRS_WIDTH)-1)<<HW_SAITCSR_TLRS_BITPOS)
                            12530 ; 202  |#define HW_SAITCSR_TCKP_SETMASK (((1<HW_SAITCSR_TCKP_WIDTH)-1)<<HW_SAITCSR_TCKP_BITPOS)
                            12531 ; 203  |#define HW_SAITCSR_TREL_SETMASK (((1<HW_SAITCSR_TREL_WIDTH)-1)<<HW_SAITCSR_TREL_BITPOS)
                            12532 ; 204  |#define HW_SAITCSR_TDWE_SETMASK (((1<HW_SAITCSR_TDWE_WIDTH)-1)<<HW_SAITCSR_TDWE_BITPOS)
                            12533 ; 205  |#define HW_SAITCSR_TXIE_SETMASK (((1<HW_SAITCSR_TXIE_WIDTH)-1)<<HW_SAITCSR_TXIE_BITPOS)
                            12534 ; 206  |#define HW_SAITCSR_RSVD1_SETMASK (((1<HW_SAITCSR_RSVD1_WIDTH)-1)<<HW_SAITCSR_RSVD1_BITPOS)
                            12535 ; 207  |#define HW_SAITCSR_TUFL_SETMASK (((1<HW_SAITCSR_TUFL_WIDTH)-1)<<HW_SAITCSR_TUFL_BITPOS)
                            12536 ; 208  |#define HW_SAITCSR_TDE_SETMASK (((1<HW_SAITCSR_TDE_WIDTH)-1)<<HW_SAITCSR_TDE_BITPOS)
                            12537 ; 209  |#define HW_SAITCSR_TUFCL_SETMASK (((1<HW_SAITCSR_TUFCL_WIDTH)-1)<<HW_SAITCSR_TUFCL_BITPOS)
                            12538 ; 210  |#define HW_SAITCSR_RSVD2_SETMASK (((1<HW_SAITCSR_RSVD2_WIDTH)-1)<<HW_SAITCSR_RSVD2_BITPOS)
                            12539 ; 211  |
                            12540 ; 212  |
                            12541 ; 213  |#define HW_SAITCSR_TEN0_CLRMASK (~(WORD)HW_SAITCSR_TEN0_SETMASK)
                            12542 ; 214  |#define HW_SAITCSR_TEN1_CLRMASK (~(WORD)HW_SAITCSR_TEN1_SETMASK)
                            12543 ; 215  |#define HW_SAITCSR_TEN2_CLRMASK (~(WORD)HW_SAITCSR_TEN2_SETMASK)
                            12544 ; 216  |#define HW_SAITCSR_TMME_CLRMASK (~(WORD)HW_SAITCSR_TMME_SETMASK)
                            12545 ; 217  |#define HW_SAITCSR_RSVD0_CLRMASK (~(WORD)HW_SAITCSR_RSVD0_SETMASK)
                            12546 ; 218  |#define HW_SAITCSR_TWL_CLRMASK (~(WORD)HW_SAITCSR_TWL_SETMASK)
                            12547 ; 219  |#define HW_SAITCSR_TDIR_CLRMASK (~(WORD)HW_SAITCSR_TDIR_SETMASK)
                            12548 ; 220  |#define HW_SAITCSR_TLRS_CLRMASK (~(WORD)HW_SAITCSR_TLRS_SETMASK)
                            12549 ; 221  |#define HW_SAITCSR_TCKP_CLRMASK (~(WORD)HW_SAITCSR_TCKP_SETMASK)
                            12550 ; 222  |#define HW_SAITCSR_TREL_CLRMASK (~(WORD)HW_SAITCSR_TREL_SETMASK)
                            12551 ; 223  |#define HW_SAITCSR_TDWE_CLRMASK (~(WORD)HW_SAITCSR_TDWE_SETMASK)
                            12552 ; 224  |#define HW_SAITCSR_TXIE_CLRMASK (~(WORD)HW_SAITCSR_TXIE_SETMASK)
                            12553 ; 225  |#define HW_SAITCSR_RSVD1_CLRMASK (~(WORD)HW_SAITCSR_RSVD1_SETMASK)
                            12554 ; 226  |#define HW_SAITCSR_TUFL_CLRMASK (~(WORD)HW_SAITCSR_TUFL_SETMASK)
                            12555 ; 227  |#define HW_SAITCSR_TDE_CLRMASK (~(WORD)HW_SAITCSR_TDE_SETMASK)
                            12556 ; 228  |#define HW_SAITCSR_TUFCL_CLRMASK (~(WORD)HW_SAITCSR_TUFCL_SETMASK)
                            12557 ; 229  |#define HW_SAITCSR_RSVD2_CLRMASK (~(WORD)HW_SAITCSR_RSVD2_SETMASK)
                            12558 ; 230  |
                            12559 ; 231  |
                            12560 ; 232  |typedef union
                            12561 ; 233  |{
                            12562 ; 234  |    struct {
                            12563 ; 235  |        int TEN0       :HW_SAITCSR_TEN0_WIDTH;         // Transmitter 0 enable
                            12564 ; 236  |        int TEN1       :HW_SAITCSR_TEN1_WIDTH;         // Transmitter 1 enable
                            12565 ; 237  |        int TEN2       :HW_SAITCSR_TEN2_WIDTH;         // Transmitter 2 enable
                            12566 ; 238  |        int TMME       :HW_SAITCSR_TMME_WIDTH;         // Transmitter master mode enable
                            12567 ; 239  |        int RSVD0      :HW_SAITCSR_RSVD0_WIDTH;        // Reserved
                            12568 ; 240  |        unsigned TWL   :HW_SAITCSR_TWL_WIDTH;          // Transmitter word length control
                            12569 ; 241  |        int TDIR       :HW_SAITCSR_TDIR_WIDTH;         // Transmitter data shift direction 
                            12570 ; 242  |        int TLRS       :HW_SAITCSR_TLRS_WIDTH;         // Transmitter left right select
                            12571 ; 243  |        int TCKP       :HW_SAITCSR_TCKP_WIDTH;         // Transmitter clock polarity
                            12572 ; 244  |        int TREL       :HW_SAITCSR_TREL_WIDTH;         // Transmitter relative timing
                            12573 ; 245  |        int TDWE       :HW_SAITCSR_TDWE_WIDTH;         // Transmitter data word justification
                            12574 ; 246  |        int TXIE       :HW_SAITCSR_TXIE_WIDTH;         // Transmitter interrupt enable
                            12575 ; 247  |        int RSVD1      :HW_SAITCSR_RSVD1_WIDTH;        // Reserved
                            12576 ; 248  |        int TUFL       :HW_SAITCSR_TUFL_WIDTH;         // Transmitter data overflow
                            12577 ; 249  |        int TDE        :HW_SAITCSR_TDE_WIDTH;          // Transmitter data ready flag
                            12578 ; 250  |        int TUFCL      :HW_SAITCSR_TUFCL_WIDTH;        // Transmitter data overflow clear
                            12579 ; 251  |        unsigned RSVD2 :HW_SAITCSR_RSVD2_WIDTH;        // Reserved
                            12580 ; 252  |    } B;
                            12581 ; 253  |    int I;
                            12582 ; 254  |    unsigned U;
                            12583 ; 255  |} saitcsr_type;
                            12584 ; 256  |
                            12585 ; 257  |#define HW_SAITCSR (*(volatile saitcsr_type _X*) (HW_SAI_BASEADDR+5)) /* I2S Transmit CSR      */
                            12586 ; 258  |
                            12587 ; 259  |#define HW_SAITX0R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+6))       /* I2S Transmit data reg 0 */
                            12588 ; 260  |#define HW_SAITX1R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+7))       /* I2S Transmit data reg 1 */
                            12589 ; 261  |#define HW_SAITX2R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+8))       /* I2S Transmit data reg 2 */
                            12590 ; 262  |
                            12591 ; 263  |#endif
                            12592 
                            12594 
                            12595 ; 25   |#include "regsicoll.h"
                            12596 
                            12598 
                            12599 ; 1    |#if !defined(__REGS_ICOLL_INC)
                            12600 ; 2    |#define __REGS_ICOLL_INC 1
                            12601 ; 3    |
                            12602 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            12603 ; 5    |//  Interrupt Collector Registers
                            12604 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                            12605 ; 7    |
                            12606 ; 8    |#define HW_ICOLL_BASEADDR 0xF300
                            12607 ; 9    |
                            12608 ; 10   |
                            12609 ; 11   |
                            12610 ; 12   |/////////////////////////////////////////////////////////////////////////////////
                            12611 ; 13   |//  Interrupt Collector 0 Enable Register (HW_ICLENABLE0R) Bit Positions
                            12612 ; 14   |
                            12613 ; 15   |typedef union
                            12614 ; 16   |{
                            12615 ; 17   |    struct {
                            12616 ; 18   |        int SEN0        :1;
                            12617 ; 19   |        int SEN1        :1;
                            12618 ; 20   |        int SEN2        :1;
                            12619 ; 21   |        int SEN3        :1;
                            12620 ; 22   |        int SEN4        :1;
                            12621 ; 23   |        int SEN5        :1;
                            12622 ; 24   |        int SEN6        :1;
                            12623 ; 25   |        int SEN7        :1;
                            12624 ; 26   |        int SEN8        :1;
                            12625 ; 27   |        int SEN9        :1;
                            12626 ; 28   |        int SEN10       :1;
                            12627 ; 29   |        int SEN11       :1;
                            12628 ; 30   |        int SEN12       :1;
                            12629 ; 31   |        int SEN13       :1;
                            12630 ; 32   |        int SEN14       :1;
                            12631 ; 33   |        int SEN15       :1;
                            12632 ; 34   |        int SEN16       :1;
                            12633 ; 35   |        int SEN17       :1;
                            12634 ; 36   |        int SEN18       :1;
                            12635 ; 37   |        int SEN19       :1;
                            12636 ; 38   |        int SEN20       :1;
                            12637 ; 39   |        int SEN21       :1;
                            12638 ; 40   |        int SEN22       :1;
                            12639 ; 41   |        int SEN23       :1;
                            12640 ; 42   |    } B;
                            12641 ; 43   |    int I;
                            12642 ; 44   |} iclenable0_type;
                            12643 ; 45   |#define HW_ICLENABLE0R  (*(volatile iclenable0_type _X*) (HW_ICOLL_BASEADDR)) /* Interrupt Priority Register Core   */
                            12644 ; 46   |
                            12645 ; 47   |
                            12646 ; 48   |#define HW_ICLENABLE0R_SEN0_BITPOS 0
                            12647 ; 49   |#define HW_ICLENABLE0R_SEN1_BITPOS 1
                            12648 ; 50   |#define HW_ICLENABLE0R_SEN2_BITPOS 2
                            12649 ; 51   |#define HW_ICLENABLE0R_SEN3_BITPOS 3
                            12650 ; 52   |#define HW_ICLENABLE0R_SEN4_BITPOS 4
                            12651 ; 53   |#define HW_ICLENABLE0R_SEN5_BITPOS 5
                            12652 ; 54   |#define HW_ICLENABLE0R_SEN6_BITPOS 6
                            12653 ; 55   |#define HW_ICLENABLE0R_SEN7_BITPOS 7
                            12654 ; 56   |#define HW_ICLENABLE0R_SEN8_BITPOS 8
                            12655 ; 57   |#define HW_ICLENABLE0R_SEN9_BITPOS 9
                            12656 ; 58   |#define HW_ICLENABLE0R_SEN10_BITPOS 10
                            12657 ; 59   |#define HW_ICLENABLE0R_SEN11_BITPOS 11
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  51

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12658 ; 60   |#define HW_ICLENABLE0R_SEN12_BITPOS 12
                            12659 ; 61   |#define HW_ICLENABLE0R_SEN13_BITPOS 13
                            12660 ; 62   |#define HW_ICLENABLE0R_SEN14_BITPOS 14
                            12661 ; 63   |#define HW_ICLENABLE0R_SEN15_BITPOS 15
                            12662 ; 64   |#define HW_ICLENABLE0R_SEN16_BITPOS 16
                            12663 ; 65   |#define HW_ICLENABLE0R_SEN17_BITPOS 17
                            12664 ; 66   |#define HW_ICLENABLE0R_SEN18_BITPOS 18
                            12665 ; 67   |#define HW_ICLENABLE0R_SEN19_BITPOS 19
                            12666 ; 68   |#define HW_ICLENABLE0R_SEN20_BITPOS 20
                            12667 ; 69   |#define HW_ICLENABLE0R_SEN21_BITPOS 21
                            12668 ; 70   |#define HW_ICLENABLE0R_SEN22_BITPOS 22
                            12669 ; 71   |#define HW_ICLENABLE0R_SEN23_BITPOS 23
                            12670 ; 72   |
                            12671 ; 73   |#define HW_ICLENABLE0R_SEN0_SETMASK 1<<HW_ICLENABLE0R_SEN0_BITPOS
                            12672 ; 74   |#define HW_ICLENABLE0R_SEN1_SETMASK 1<<HW_ICLENABLE0R_SEN1_BITPOS
                            12673 ; 75   |#define HW_ICLENABLE0R_SEN2_SETMASK 1<<HW_ICLENABLE0R_SEN2_BITPOS
                            12674 ; 76   |#define HW_ICLENABLE0R_SEN3_SETMASK 1<<HW_ICLENABLE0R_SEN3_BITPOS
                            12675 ; 77   |#define HW_ICLENABLE0R_SEN4_SETMASK 1<<HW_ICLENABLE0R_SEN4_BITPOS
                            12676 ; 78   |#define HW_ICLENABLE0R_SEN5_SETMASK 1<<HW_ICLENABLE0R_SEN5_BITPOS
                            12677 ; 79   |#define HW_ICLENABLE0R_SEN6_SETMASK 1<<HW_ICLENABLE0R_SEN6_BITPOS
                            12678 ; 80   |#define HW_ICLENABLE0R_SEN7_SETMASK 1<<HW_ICLENABLE0R_SEN7_BITPOS
                            12679 ; 81   |#define HW_ICLENABLE0R_SEN8_SETMASK 1<<HW_ICLENABLE0R_SEN8_BITPOS
                            12680 ; 82   |#define HW_ICLENABLE0R_SEN9_SETMASK 1<<HW_ICLENABLE0R_SEN9_BITPOS
                            12681 ; 83   |#define HW_ICLENABLE0R_SEN10_SETMASK 1<<HW_ICLENABLE0R_SEN10_BITPOS
                            12682 ; 84   |#define HW_ICLENABLE0R_SEN11_SETMASK 1<<HW_ICLENABLE0R_SEN11_BITPOS
                            12683 ; 85   |#define HW_ICLENABLE0R_SEN12_SETMASK 1<<HW_ICLENABLE0R_SEN12_BITPOS
                            12684 ; 86   |#define HW_ICLENABLE0R_SEN13_SETMASK 1<<HW_ICLENABLE0R_SEN13_BITPOS
                            12685 ; 87   |#define HW_ICLENABLE0R_SEN14_SETMASK 1<<HW_ICLENABLE0R_SEN14_BITPOS
                            12686 ; 88   |#define HW_ICLENABLE0R_SEN15_SETMASK 1<<HW_ICLENABLE0R_SEN15_BITPOS
                            12687 ; 89   |#define HW_ICLENABLE0R_SEN16_SETMASK 1<<HW_ICLENABLE0R_SEN16_BITPOS
                            12688 ; 90   |#define HW_ICLENABLE0R_SEN17_SETMASK 1<<HW_ICLENABLE0R_SEN17_BITPOS
                            12689 ; 91   |#define HW_ICLENABLE0R_SEN18_SETMASK 1<<HW_ICLENABLE0R_SEN18_BITPOS
                            12690 ; 92   |#define HW_ICLENABLE0R_SEN19_SETMASK 1<<HW_ICLENABLE0R_SEN19_BITPOS
                            12691 ; 93   |#define HW_ICLENABLE0R_SEN20_SETMASK 1<<HW_ICLENABLE0R_SEN20_BITPOS
                            12692 ; 94   |#define HW_ICLENABLE0R_SEN21_SETMASK 1<<HW_ICLENABLE0R_SEN21_BITPOS
                            12693 ; 95   |#define HW_ICLENABLE0R_SEN22_SETMASK 1<<HW_ICLENABLE0R_SEN22_BITPOS
                            12694 ; 96   |#define HW_ICLENABLE0R_SEN23_SETMASK 1<<HW_ICLENABLE0R_SEN23_BITPOS
                            12695 ; 97   |
                            12696 ; 98   |#define HW_ICLENABLE0R_SEN0_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN0_SETMASK
                            12697 ; 99   |#define HW_ICLENABLE0R_SEN1_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN1_SETMASK
                            12698 ; 100  |#define HW_ICLENABLE0R_SEN2_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN2_SETMASK
                            12699 ; 101  |#define HW_ICLENABLE0R_SEN3_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN3_SETMASK
                            12700 ; 102  |#define HW_ICLENABLE0R_SEN4_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN4_SETMASK
                            12701 ; 103  |#define HW_ICLENABLE0R_SEN5_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN5_SETMASK
                            12702 ; 104  |#define HW_ICLENABLE0R_SEN6_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN6_SETMASK
                            12703 ; 105  |#define HW_ICLENABLE0R_SEN7_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN7_SETMASK
                            12704 ; 106  |#define HW_ICLENABLE0R_SEN8_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN8_SETMASK
                            12705 ; 107  |#define HW_ICLENABLE0R_SEN9_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN9_SETMASK
                            12706 ; 108  |#define HW_ICLENABLE0R_SEN10_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN10_SETMASK
                            12707 ; 109  |#define HW_ICLENABLE0R_SEN11_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN11_SETMASK
                            12708 ; 110  |#define HW_ICLENABLE0R_SEN12_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN12_SETMASK
                            12709 ; 111  |#define HW_ICLENABLE0R_SEN13_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN13_SETMASK
                            12710 ; 112  |#define HW_ICLENABLE0R_SEN14_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN14_SETMASK
                            12711 ; 113  |#define HW_ICLENABLE0R_SEN15_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN15_SETMASK
                            12712 ; 114  |#define HW_ICLENABLE0R_SEN16_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN16_SETMASK
                            12713 ; 115  |#define HW_ICLENABLE0R_SEN17_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN17_SETMASK
                            12714 ; 116  |#define HW_ICLENABLE0R_SEN18_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN18_SETMASK
                            12715 ; 117  |#define HW_ICLENABLE0R_SEN19_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN19_SETMASK
                            12716 ; 118  |#define HW_ICLENABLE0R_SEN20_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN20_SETMASK
                            12717 ; 119  |#define HW_ICLENABLE0R_SEN21_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN21_SETMASK
                            12718 ; 120  |#define HW_ICLENABLE0R_SEN22_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN22_SETMASK
                            12719 ; 121  |#define HW_ICLENABLE0R_SEN23_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN23_SETMASK
                            12720 ; 122  |
                            12721 ; 123  |
                            12722 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                            12723 ; 125  |//  Interrupt Collector 1 Enable Register (HW_ICLENABLE1R) Bit Positions
                            12724 ; 126  |typedef union
                            12725 ; 127  |{
                            12726 ; 128  |    struct {
                            12727 ; 129  |        
                            12728 ; 130  |        int SEN24       :1;
                            12729 ; 131  |        int SEN25       :1;
                            12730 ; 132  |        int SEN26       :1;
                            12731 ; 133  |        int SEN27       :1;
                            12732 ; 134  |        int SEN28       :1;
                            12733 ; 135  |        int SEN29       :1;
                            12734 ; 136  |        int SEN30       :1;
                            12735 ; 137  |        int SEN31       :1;
                            12736 ; 138  |        int SEN32       :1;
                            12737 ; 139  |        int SEN33       :1;
                            12738 ; 140  |    } B;
                            12739 ; 141  |    int I;
                            12740 ; 142  |} iclenable1_type;
                            12741 ; 143  |
                            12742 ; 144  |#define HW_ICLENABLE1R  (*(volatile iclenable1_type _X*) (HW_ICOLL_BASEADDR+1)) /* Interrupt Priority Register Core    */
                            12743 ; 145  |
                            12744 ; 146  |#define HW_ICLENABLE1R_SEN24_BITPOS 0
                            12745 ; 147  |#define HW_ICLENABLE1R_SEN25_BITPOS 1
                            12746 ; 148  |#define HW_ICLENABLE1R_SEN26_BITPOS 2
                            12747 ; 149  |#define HW_ICLENABLE1R_SEN27_BITPOS 3
                            12748 ; 150  |#define HW_ICLENABLE1R_SEN28_BITPOS 4
                            12749 ; 151  |#define HW_ICLENABLE1R_SEN29_BITPOS 5
                            12750 ; 152  |#define HW_ICLENABLE1R_SEN30_BITPOS 6
                            12751 ; 153  |#define HW_ICLENABLE1R_SEN31_BITPOS 7
                            12752 ; 154  |#define HW_ICLENABLE1R_SEN32_BITPOS 8
                            12753 ; 155  |#define HW_ICLENABLE1R_SEN33_BITPOS 9
                            12754 ; 156  |
                            12755 ; 157  |#define HW_ICLENABLE1R_SEN24_SETMASK 1<<HW_ICLENABLE1R_SEN24_BITPOS
                            12756 ; 158  |#define HW_ICLENABLE1R_SEN25_SETMASK 1<<HW_ICLENABLE1R_SEN25_BITPOS
                            12757 ; 159  |#define HW_ICLENABLE1R_SEN26_SETMASK 1<<HW_ICLENABLE1R_SEN26_BITPOS
                            12758 ; 160  |#define HW_ICLENABLE1R_SEN27_SETMASK 1<<HW_ICLENABLE1R_SEN27_BITPOS
                            12759 ; 161  |#define HW_ICLENABLE1R_SEN28_SETMASK 1<<HW_ICLENABLE1R_SEN28_BITPOS
                            12760 ; 162  |#define HW_ICLENABLE1R_SEN29_SETMASK 1<<HW_ICLENABLE1R_SEN29_BITPOS
                            12761 ; 163  |#define HW_ICLENABLE1R_SEN30_SETMASK 1<<HW_ICLENABLE1R_SEN30_BITPOS
                            12762 ; 164  |#define HW_ICLENABLE1R_SEN31_SETMASK 1<<HW_ICLENABLE1R_SEN31_BITPOS
                            12763 ; 165  |#define HW_ICLENABLE1R_SEN32_SETMASK 1<<HW_ICLENABLE1R_SEN32_BITPOS
                            12764 ; 166  |#define HW_ICLENABLE1R_SEN33_SETMASK 1<<HW_ICLENABLE1R_SEN33_BITPOS
                            12765 ; 167  |
                            12766 ; 168  |#define HW_ICLENABLE1R_SEN24_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN24_SETMASK
                            12767 ; 169  |#define HW_ICLENABLE1R_SEN25_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN25_SETMASK
                            12768 ; 170  |#define HW_ICLENABLE1R_SEN26_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN26_SETMASK
                            12769 ; 171  |#define HW_ICLENABLE1R_SEN27_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN27_SETMASK
                            12770 ; 172  |#define HW_ICLENABLE1R_SEN28_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN28_SETMASK
                            12771 ; 173  |#define HW_ICLENABLE1R_SEN29_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN29_SETMASK
                            12772 ; 174  |#define HW_ICLENABLE1R_SEN30_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN30_SETMASK
                            12773 ; 175  |#define HW_ICLENABLE1R_SEN31_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN31_SETMASK
                            12774 ; 176  |#define HW_ICLENABLE1R_SEN32_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN32_SETMASK
                            12775 ; 177  |#define HW_ICLENABLE1R_SEN33_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN33_SETMASK
                            12776 ; 178  |
                            12777 ; 179  |
                            12778 ; 180  |/////////////////////////////////////////////////////////////////////////////////
                            12779 ; 181  |//  Interrupt Collector Status 0 Register (HW_ICLSTATUS0R) Bit Positions
                            12780 ; 182  |typedef union
                            12781 ; 183  |{
                            12782 ; 184  |    struct {
                            12783 ; 185  |        int SST0        :1;
                            12784 ; 186  |        int SST1        :1;
                            12785 ; 187  |        int SST2        :1;
                            12786 ; 188  |        int SST3        :1;
                            12787 ; 189  |        int SST4        :1;
                            12788 ; 190  |        int SST5        :1;
                            12789 ; 191  |        int SST6        :1;
                            12790 ; 192  |        int SST7        :1;
                            12791 ; 193  |        int SST8        :1;
                            12792 ; 194  |        int SST9        :1;
                            12793 ; 195  |        int SST10       :1;
                            12794 ; 196  |        int SST11       :1;
                            12795 ; 197  |        int SST12       :1;
                            12796 ; 198  |        int SST13       :1;
                            12797 ; 199  |        int SST14       :1;
                            12798 ; 200  |        int SST15       :1;
                            12799 ; 201  |        int SST16       :1;
                            12800 ; 202  |        int SST17       :1;
                            12801 ; 203  |        int SST18       :1;
                            12802 ; 204  |        int SST19       :1;
                            12803 ; 205  |        int SST20       :1;
                            12804 ; 206  |        int SST21       :1;
                            12805 ; 207  |        int SST22       :1;
                            12806 ; 208  |        int SST23       :1;
                            12807 ; 209  |    } B;
                            12808 ; 210  |    int I;
                            12809 ; 211  |} iclstatus0_type;
                            12810 ; 212  |#define HW_ICLSTATUS0R  (*(volatile iclstatus0_type _X*) (HW_ICOLL_BASEADDR+2)) /* Interrupt Priority Register Core */
                            12811 ; 213  |#define HW_ICLSTATUS0R_SST0_BITPOS 0
                            12812 ; 214  |#define HW_ICLSTATUS0R_SST1_BITPOS 1
                            12813 ; 215  |#define HW_ICLSTATUS0R_SST2_BITPOS 2
                            12814 ; 216  |#define HW_ICLSTATUS0R_SST3_BITPOS 3
                            12815 ; 217  |#define HW_ICLSTATUS0R_SST4_BITPOS 4
                            12816 ; 218  |#define HW_ICLSTATUS0R_SST5_BITPOS 5
                            12817 ; 219  |#define HW_ICLSTATUS0R_SST6_BITPOS 6
                            12818 ; 220  |#define HW_ICLSTATUS0R_SST7_BITPOS 7
                            12819 ; 221  |#define HW_ICLSTATUS0R_SST8_BITPOS 8
                            12820 ; 222  |#define HW_ICLSTATUS0R_SST9_BITPOS 9
                            12821 ; 223  |#define HW_ICLSTATUS0R_SST10_BITPOS 10
                            12822 ; 224  |#define HW_ICLSTATUS0R_SST11_BITPOS 11
                            12823 ; 225  |#define HW_ICLSTATUS0R_SST12_BITPOS 12
                            12824 ; 226  |#define HW_ICLSTATUS0R_SST13_BITPOS 13
                            12825 ; 227  |#define HW_ICLSTATUS0R_SST14_BITPOS 14
                            12826 ; 228  |#define HW_ICLSTATUS0R_SST15_BITPOS 15
                            12827 ; 229  |#define HW_ICLSTATUS0R_SST16_BITPOS 16
                            12828 ; 230  |#define HW_ICLSTATUS0R_SST17_BITPOS 17
                            12829 ; 231  |#define HW_ICLSTATUS0R_SST18_BITPOS 18
                            12830 ; 232  |#define HW_ICLSTATUS0R_SST19_BITPOS 19
                            12831 ; 233  |#define HW_ICLSTATUS0R_SST20_BITPOS 20
                            12832 ; 234  |#define HW_ICLSTATUS0R_SST21_BITPOS 21
                            12833 ; 235  |#define HW_ICLSTATUS0R_SST22_BITPOS 22
                            12834 ; 236  |#define HW_ICLSTATUS0R_SST23_BITPOS 23
                            12835 ; 237  |
                            12836 ; 238  |#define HW_ICLSTATUS0R_SST0_SETMASK 1<<HW_ICLSTATUS0R_SST0_BITPOS
                            12837 ; 239  |#define HW_ICLSTATUS0R_SST1_SETMASK 1<<HW_ICLSTATUS0R_SST1_BITPOS
                            12838 ; 240  |#define HW_ICLSTATUS0R_SST2_SETMASK 1<<HW_ICLSTATUS0R_SST2_BITPOS
                            12839 ; 241  |#define HW_ICLSTATUS0R_SST3_SETMASK 1<<HW_ICLSTATUS0R_SST3_BITPOS
                            12840 ; 242  |#define HW_ICLSTATUS0R_SST4_SETMASK 1<<HW_ICLSTATUS0R_SST4_BITPOS
                            12841 ; 243  |#define HW_ICLSTATUS0R_SST5_SETMASK 1<<HW_ICLSTATUS0R_SST5_BITPOS
                            12842 ; 244  |#define HW_ICLSTATUS0R_SST6_SETMASK 1<<HW_ICLSTATUS0R_SST6_BITPOS
                            12843 ; 245  |#define HW_ICLSTATUS0R_SST7_SETMASK 1<<HW_ICLSTATUS0R_SST7_BITPOS
                            12844 ; 246  |#define HW_ICLSTATUS0R_SST8_SETMASK 1<<HW_ICLSTATUS0R_SST8_BITPOS
                            12845 ; 247  |#define HW_ICLSTATUS0R_SST9_SETMASK 1<<HW_ICLSTATUS0R_SST9_BITPOS
                            12846 ; 248  |#define HW_ICLSTATUS0R_SST10_SETMASK 1<<HW_ICLSTATUS0R_SST10_BITPOS
                            12847 ; 249  |#define HW_ICLSTATUS0R_SST11_SETMASK 1<<HW_ICLSTATUS0R_SST11_BITPOS
                            12848 ; 250  |#define HW_ICLSTATUS0R_SST12_SETMASK 1<<HW_ICLSTATUS0R_SST12_BITPOS
                            12849 ; 251  |#define HW_ICLSTATUS0R_SST13_SETMASK 1<<HW_ICLSTATUS0R_SST13_BITPOS
                            12850 ; 252  |#define HW_ICLSTATUS0R_SST14_SETMASK 1<<HW_ICLSTATUS0R_SST14_BITPOS
                            12851 ; 253  |#define HW_ICLSTATUS0R_SST15_SETMASK 1<<HW_ICLSTATUS0R_SST15_BITPOS
                            12852 ; 254  |#define HW_ICLSTATUS0R_SST16_SETMASK 1<<HW_ICLSTATUS0R_SST16_BITPOS
                            12853 ; 255  |#define HW_ICLSTATUS0R_SST17_SETMASK 1<<HW_ICLSTATUS0R_SST17_BITPOS
                            12854 ; 256  |#define HW_ICLSTATUS0R_SST18_SETMASK 1<<HW_ICLSTATUS0R_SST18_BITPOS
                            12855 ; 257  |#define HW_ICLSTATUS0R_SST19_SETMASK 1<<HW_ICLSTATUS0R_SST19_BITPOS
                            12856 ; 258  |#define HW_ICLSTATUS0R_SST20_SETMASK 1<<HW_ICLSTATUS0R_SST20_BITPOS
                            12857 ; 259  |#define HW_ICLSTATUS0R_SST21_SETMASK 1<<HW_ICLSTATUS0R_SST21_BITPOS
                            12858 ; 260  |#define HW_ICLSTATUS0R_SST22_SETMASK 1<<HW_ICLSTATUS0R_SST22_BITPOS
                            12859 ; 261  |#define HW_ICLSTATUS0R_SST23_SETMASK 1<<HW_ICLSTATUS0R_SST23_BITPOS
                            12860 ; 262  |
                            12861 ; 263  |#define HW_ICLSTATUS0R_SST0_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST0_SETMASK
                            12862 ; 264  |#define HW_ICLSTATUS0R_SST1_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST1_SETMASK
                            12863 ; 265  |#define HW_ICLSTATUS0R_SST2_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST2_SETMASK
                            12864 ; 266  |#define HW_ICLSTATUS0R_SST3_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST3_SETMASK
                            12865 ; 267  |#define HW_ICLSTATUS0R_SST4_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST4_SETMASK
                            12866 ; 268  |#define HW_ICLSTATUS0R_SST5_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST5_SETMASK
                            12867 ; 269  |#define HW_ICLSTATUS0R_SST6_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST6_SETMASK
                            12868 ; 270  |#define HW_ICLSTATUS0R_SST7_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST7_SETMASK
                            12869 ; 271  |#define HW_ICLSTATUS0R_SST8_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST8_SETMASK
                            12870 ; 272  |#define HW_ICLSTATUS0R_SST9_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST9_SETMASK
                            12871 ; 273  |#define HW_ICLSTATUS0R_SST10_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST10_SETMASK
                            12872 ; 274  |#define HW_ICLSTATUS0R_SST11_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST11_SETMASK
                            12873 ; 275  |#define HW_ICLSTATUS0R_SST12_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST12_SETMASK
                            12874 ; 276  |#define HW_ICLSTATUS0R_SST13_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST13_SETMASK
                            12875 ; 277  |#define HW_ICLSTATUS0R_SST14_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST14_SETMASK
                            12876 ; 278  |#define HW_ICLSTATUS0R_SST15_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST15_SETMASK
                            12877 ; 279  |#define HW_ICLSTATUS0R_SST16_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST16_SETMASK
                            12878 ; 280  |#define HW_ICLSTATUS0R_SST17_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST17_SETMASK
                            12879 ; 281  |#define HW_ICLSTATUS0R_SST18_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST18_SETMASK
                            12880 ; 282  |#define HW_ICLSTATUS0R_SST19_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST19_SETMASK
                            12881 ; 283  |#define HW_ICLSTATUS0R_SST20_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST20_SETMASK
                            12882 ; 284  |#define HW_ICLSTATUS0R_SST21_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST21_SETMASK
                            12883 ; 285  |#define HW_ICLSTATUS0R_SST22_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST22_SETMASK
                            12884 ; 286  |#define HW_ICLSTATUS0R_SST23_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST23_SETMASK
                            12885 ; 287  |
                            12886 ; 288  |
                            12887 ; 289  |/////////////////////////////////////////////////////////////////////////////////
                            12888 ; 290  |//  Interrupt Collector Status 1 Register (HW_ICLSTATUS1R) Bit Positions
                            12889 ; 291  |typedef union
                            12890 ; 292  |{
                            12891 ; 293  |    struct {
                            12892 ; 294  |        int SST24       :1;
                            12893 ; 295  |        int SST25       :1;
                            12894 ; 296  |        int SST26       :1;
                            12895 ; 297  |        int SST27       :1;
                            12896 ; 298  |        int SST28       :1;
                            12897 ; 299  |        int SST29       :1;
                            12898 ; 300  |        int SST30       :1;
                            12899 ; 301  |        int SST31       :1;
                            12900 ; 302  |        int SST32       :1;
                            12901 ; 303  |        int SST33       :1;
                            12902 ; 304  |    } B;
                            12903 ; 305  |    int I;
                            12904 ; 306  |} iclstatus1_type;
                            12905 ; 307  |#define HW_ICLSTATUS1R  (*(volatile iclstatus1_type _X*) (HW_ICOLL_BASEADDR+3)) /* Interrupt Priority Register Core */
                            12906 ; 308  |#define HW_ICLSTATUS1R_SST24_BITPOS 0
                            12907 ; 309  |#define HW_ICLSTATUS1R_SST25_BITPOS 1
                            12908 ; 310  |#define HW_ICLSTATUS1R_SST26_BITPOS 2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  52

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12909 ; 311  |#define HW_ICLSTATUS1R_SST27_BITPOS 3
                            12910 ; 312  |#define HW_ICLSTATUS1R_SST28_BITPOS 4
                            12911 ; 313  |#define HW_ICLSTATUS1R_SST29_BITPOS 5
                            12912 ; 314  |#define HW_ICLSTATUS1R_SST30_BITPOS 6
                            12913 ; 315  |#define HW_ICLSTATUS1R_SST31_BITPOS 7
                            12914 ; 316  |#define HW_ICLSTATUS1R_SST32_BITPOS 8
                            12915 ; 317  |#define HW_ICLSTATUS1R_SST33_BITPOS 9
                            12916 ; 318  |
                            12917 ; 319  |#define HW_ICLSTATUS1R_SST24_SETMASK 1<<HW_ICLSTATUS1R_SST24_BITPOS
                            12918 ; 320  |#define HW_ICLSTATUS1R_SST25_SETMASK 1<<HW_ICLSTATUS1R_SST25_BITPOS
                            12919 ; 321  |#define HW_ICLSTATUS1R_SST26_SETMASK 1<<HW_ICLSTATUS1R_SST26_BITPOS
                            12920 ; 322  |#define HW_ICLSTATUS1R_SST27_SETMASK 1<<HW_ICLSTATUS1R_SST27_BITPOS
                            12921 ; 323  |#define HW_ICLSTATUS1R_SST28_SETMASK 1<<HW_ICLSTATUS1R_SST28_BITPOS
                            12922 ; 324  |#define HW_ICLSTATUS1R_SST29_SETMASK 1<<HW_ICLSTATUS1R_SST29_BITPOS
                            12923 ; 325  |#define HW_ICLSTATUS1R_SST30_SETMASK 1<<HW_ICLSTATUS1R_SST30_BITPOS
                            12924 ; 326  |#define HW_ICLSTATUS1R_SST31_SETMASK 1<<HW_ICLSTATUS1R_SST31_BITPOS
                            12925 ; 327  |#define HW_ICLSTATUS1R_SST32_SETMASK 1<<HW_ICLSTATUS1R_SST32_BITPOS
                            12926 ; 328  |#define HW_ICLSTATUS1R_SST33_SETMASK 1<<HW_ICLSTATUS1R_SST33_BITPOS
                            12927 ; 329  |
                            12928 ; 330  |#define HW_ICLSTATUS1R_SST24_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST24_SETMASK
                            12929 ; 331  |#define HW_ICLSTATUS1R_SST25_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST25_SETMASK
                            12930 ; 332  |#define HW_ICLSTATUS1R_SST26_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST26_SETMASK
                            12931 ; 333  |#define HW_ICLSTATUS1R_SST27_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST27_SETMASK
                            12932 ; 334  |#define HW_ICLSTATUS1R_SST28_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST28_SETMASK
                            12933 ; 335  |#define HW_ICLSTATUS1R_SST29_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST29_SETMASK
                            12934 ; 336  |#define HW_ICLSTATUS1R_SST30_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST30_SETMASK
                            12935 ; 337  |#define HW_ICLSTATUS1R_SST31_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST31_SETMASK
                            12936 ; 338  |#define HW_ICLSTATUS1R_SST32_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST32_SETMASK
                            12937 ; 339  |#define HW_ICLSTATUS1R_SST33_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST33_SETMASK
                            12938 ; 340  |
                            12939 ; 341  |
                            12940 ; 342  |/////////////////////////////////////////////////////////////////////////////////
                            12941 ; 343  |//  Interrupt Collector Priority Defs
                            12942 ; 344  |typedef union
                            12943 ; 345  |{
                            12944 ; 346  |    struct {
                            12945 ; 347  |        unsigned S0P    :3;
                            12946 ; 348  |        unsigned S1P    :3;
                            12947 ; 349  |        unsigned S2P    :3;
                            12948 ; 350  |        unsigned S3P    :3;
                            12949 ; 351  |        unsigned S4P    :3;
                            12950 ; 352  |        unsigned S5P    :3;
                            12951 ; 353  |        unsigned S6P    :3;
                            12952 ; 354  |        unsigned S7P    :3;
                            12953 ; 355  |    } B;
                            12954 ; 356  |    int I;
                            12955 ; 357  |
                            12956 ; 358  |} iclprior0_type;
                            12957 ; 359  |
                            12958 ; 360  |#define HW_ICLPRIOR0R   (*(volatile iclprior0_type _X*) (HW_ICOLL_BASEADDR+4)) /* Interrupt Collector Register 0 Priority   */
                            12959 ; 361  |
                            12960 ; 362  |#define HW_ICLPRIORR_SP_0 0
                            12961 ; 363  |#define HW_ICLPRIORR_SP_1 1
                            12962 ; 364  |#define HW_ICLPRIORR_SP_2 2
                            12963 ; 365  |#define HW_ICLPRIORR_SP_3 3
                            12964 ; 366  |#define HW_ICLPRIORR_SP_4 4
                            12965 ; 367  |#define HW_ICLPRIORR_SP_5 5
                            12966 ; 368  |#define HW_ICLPRIORR_SP_6 6
                            12967 ; 369  |#define HW_ICLPRIORR_SP_7 7
                            12968 ; 370  |
                            12969 ; 371  |
                            12970 ; 372  |/////////////////////////////////////////////////////////////////////////////////
                            12971 ; 373  |//  Interrupt Collector Priority 0 Register (HW_ICLPRIOR0R) Bit Positions
                            12972 ; 374  |#define HW_ICLPRIOR0R_S0P_BITPOS 0
                            12973 ; 375  |#define HW_ICLPRIOR0R_S1P_BITPOS 3
                            12974 ; 376  |#define HW_ICLPRIOR0R_S2P_BITPOS 6
                            12975 ; 377  |#define HW_ICLPRIOR0R_S3P_BITPOS 9
                            12976 ; 378  |#define HW_ICLPRIOR0R_S4P_BITPOS 12
                            12977 ; 379  |#define HW_ICLPRIOR0R_S5P_BITPOS 15
                            12978 ; 380  |#define HW_ICLPRIOR0R_S6P_BITPOS 18
                            12979 ; 381  |#define HW_ICLPRIOR0R_S7P_BITPOS 21
                            12980 ; 382  |
                            12981 ; 383  |#define HW_ICLPRIOR0R_S0P_SETMASK 7<<HW_ICLPRIOR0R_S0P_BITPOS
                            12982 ; 384  |#define HW_ICLPRIOR0R_S1P_SETMASK 7<<HW_ICLPRIOR0R_S1P_BITPOS
                            12983 ; 385  |#define HW_ICLPRIOR0R_S2P_SETMASK 7<<HW_ICLPRIOR0R_S2P_BITPOS
                            12984 ; 386  |#define HW_ICLPRIOR0R_S3P_SETMASK 7<<HW_ICLPRIOR0R_S3P_BITPOS
                            12985 ; 387  |#define HW_ICLPRIOR0R_S4P_SETMASK 7<<HW_ICLPRIOR0R_S4P_BITPOS
                            12986 ; 388  |#define HW_ICLPRIOR0R_S5P_SETMASK 7<<HW_ICLPRIOR0R_S5P_BITPOS
                            12987 ; 389  |#define HW_ICLPRIOR0R_S6P_SETMASK 7<<HW_ICLPRIOR0R_S6P_BITPOS
                            12988 ; 390  |#define HW_ICLPRIOR0R_S7P_SETMASK 7<<HW_ICLPRIOR0R_S7P_BITPOS
                            12989 ; 391  |
                            12990 ; 392  |#define HW_ICLPRIOR0R_S0P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S0P_SETMASK
                            12991 ; 393  |#define HW_ICLPRIOR0R_S1P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S1P_SETMASK
                            12992 ; 394  |#define HW_ICLPRIOR0R_S2P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S2P_SETMASK
                            12993 ; 395  |#define HW_ICLPRIOR0R_S3P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S3P_SETMASK
                            12994 ; 396  |#define HW_ICLPRIOR0R_S4P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S4P_SETMASK
                            12995 ; 397  |#define HW_ICLPRIOR0R_S5P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S5P_SETMASK
                            12996 ; 398  |#define HW_ICLPRIOR0R_S6P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S6P_SETMASK
                            12997 ; 399  |#define HW_ICLPRIOR0R_S7P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S7P_SETMASK
                            12998 ; 400  |
                            12999 ; 401  |
                            13000 ; 402  |/////////////////////////////////////////////////////////////////////////////////
                            13001 ; 403  |//  Interrupt Collector Priority 1 Register (HW_ICLPRIOR1R) Bit Positions
                            13002 ; 404  |typedef union
                            13003 ; 405  |{
                            13004 ; 406  |    struct {
                            13005 ; 407  |        unsigned S8P    :3;
                            13006 ; 408  |        unsigned S9P    :3;
                            13007 ; 409  |        unsigned S10P   :3;
                            13008 ; 410  |        unsigned S11P   :3;
                            13009 ; 411  |        unsigned S12P   :3;
                            13010 ; 412  |        unsigned S13P   :3;
                            13011 ; 413  |        unsigned S14P   :3;
                            13012 ; 414  |        unsigned S15P   :3;
                            13013 ; 415  |    } B;
                            13014 ; 416  |    int I;
                            13015 ; 417  |} iclprior1_type;
                            13016 ; 418  |
                            13017 ; 419  |#define HW_ICLPRIOR1R   (*(volatile iclprior1_type _X*) (HW_ICOLL_BASEADDR+5)) /* Interrupt Collector Register 1 Priority   */
                            13018 ; 420  |
                            13019 ; 421  |#define HW_ICLPRIOR1R_S8P_BITPOS 0
                            13020 ; 422  |#define HW_ICLPRIOR1R_S9P_BITPOS 3
                            13021 ; 423  |#define HW_ICLPRIOR1R_S10P_BITPOS 6
                            13022 ; 424  |#define HW_ICLPRIOR1R_S11P_BITPOS 9
                            13023 ; 425  |#define HW_ICLPRIOR1R_S12P_BITPOS 12
                            13024 ; 426  |#define HW_ICLPRIOR1R_S13P_BITPOS 15
                            13025 ; 427  |#define HW_ICLPRIOR1R_S14P_BITPOS 18
                            13026 ; 428  |#define HW_ICLPRIOR1R_S15P_BITPOS 21
                            13027 ; 429  |
                            13028 ; 430  |#define HW_ICLPRIOR1R_S8P_SETMASK 7<<HW_ICLPRIOR1R_S8P_BITPOS
                            13029 ; 431  |#define HW_ICLPRIOR1R_S9P_SETMASK 7<<HW_ICLPRIOR1R_S9P_BITPOS
                            13030 ; 432  |#define HW_ICLPRIOR1R_S10P_SETMASK 7<<HW_ICLPRIOR1R_S10P_BITPOS
                            13031 ; 433  |#define HW_ICLPRIOR1R_S11P_SETMASK 7<<HW_ICLPRIOR1R_S11P_BITPOS
                            13032 ; 434  |#define HW_ICLPRIOR1R_S12P_SETMASK 7<<HW_ICLPRIOR1R_S12P_BITPOS
                            13033 ; 435  |#define HW_ICLPRIOR1R_S13P_SETMASK 7<<HW_ICLPRIOR1R_S13P_BITPOS
                            13034 ; 436  |#define HW_ICLPRIOR1R_S14P_SETMASK 7<<HW_ICLPRIOR1R_S14P_BITPOS
                            13035 ; 437  |#define HW_ICLPRIOR1R_S15P_SETMASK 7<<HW_ICLPRIOR1R_S15P_BITPOS
                            13036 ; 438  |
                            13037 ; 439  |#define HW_ICLPRIOR1R_S8P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S8P_SETMASK
                            13038 ; 440  |#define HW_ICLPRIOR1R_S9P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S9P_SETMASK
                            13039 ; 441  |#define HW_ICLPRIOR1R_S10P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S10P_SETMASK
                            13040 ; 442  |#define HW_ICLPRIOR1R_S11P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S11P_SETMASK
                            13041 ; 443  |#define HW_ICLPRIOR1R_S12P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S12P_SETMASK
                            13042 ; 444  |#define HW_ICLPRIOR1R_S13P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S13P_SETMASK
                            13043 ; 445  |#define HW_ICLPRIOR1R_S14P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S14P_SETMASK
                            13044 ; 446  |#define HW_ICLPRIOR1R_S15P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S15P_SETMASK
                            13045 ; 447  |
                            13046 ; 448  |
                            13047 ; 449  |/////////////////////////////////////////////////////////////////////////////////
                            13048 ; 450  |//  Interrupt Collector Priority 2 Register (HW_ICLPRI2R) Bit Positions
                            13049 ; 451  |typedef union               /* Interrupt Collector Priority 2 Register      */
                            13050 ; 452  |{
                            13051 ; 453  |    struct {
                            13052 ; 454  |        unsigned S16P   :3;
                            13053 ; 455  |        unsigned S17P   :3;
                            13054 ; 456  |        unsigned S18P   :3;
                            13055 ; 457  |        unsigned S19P   :3;
                            13056 ; 458  |        unsigned S20P   :3;
                            13057 ; 459  |        unsigned S21P   :3;
                            13058 ; 460  |        unsigned S22P   :3;
                            13059 ; 461  |        unsigned S23P   :3;
                            13060 ; 462  |    } B;
                            13061 ; 463  |    int I;
                            13062 ; 464  |} iclprior2_type;
                            13063 ; 465  |#define HW_ICLPRIOR2R   (*(volatile iclprior2_type _X*) (HW_ICOLL_BASEADDR+6)) /* Interrupt Collector Register 2 Priority   */
                            13064 ; 466  |#define HW_ICLPRIOR2R_S16P_BITPOS 0
                            13065 ; 467  |#define HW_ICLPRIOR2R_S17P_BITPOS 3
                            13066 ; 468  |#define HW_ICLPRIOR2R_S18P_BITPOS 6
                            13067 ; 469  |#define HW_ICLPRIOR2R_S19P_BITPOS 9
                            13068 ; 470  |#define HW_ICLPRIOR2R_S20P_BITPOS 12
                            13069 ; 471  |#define HW_ICLPRIOR2R_S21P_BITPOS 15
                            13070 ; 472  |#define HW_ICLPRIOR2R_S22P_BITPOS 18
                            13071 ; 473  |#define HW_ICLPRIOR2R_S23P_BITPOS 21
                            13072 ; 474  |
                            13073 ; 475  |#define HW_ICLPRIOR2R_S16P_SETMASK 7<<HW_ICLPRIOR2R_S16P_BITPOS
                            13074 ; 476  |#define HW_ICLPRIOR2R_S17P_SETMASK 7<<HW_ICLPRIOR2R_S17P_BITPOS
                            13075 ; 477  |#define HW_ICLPRIOR2R_S18P_SETMASK 7<<HW_ICLPRIOR2R_S18P_BITPOS
                            13076 ; 478  |#define HW_ICLPRIOR2R_S19P_SETMASK 7<<HW_ICLPRIOR2R_S19P_BITPOS
                            13077 ; 479  |#define HW_ICLPRIOR2R_S20P_SETMASK 7<<HW_ICLPRIOR2R_S20P_BITPOS
                            13078 ; 480  |#define HW_ICLPRIOR2R_S21P_SETMASK 7<<HW_ICLPRIOR2R_S21P_BITPOS
                            13079 ; 481  |#define HW_ICLPRIOR2R_S22P_SETMASK 7<<HW_ICLPRIOR2R_S22P_BITPOS
                            13080 ; 482  |#define HW_ICLPRIOR2R_S23P_SETMASK 7<<HW_ICLPRIOR2R_S23P_BITPOS
                            13081 ; 483  |
                            13082 ; 484  |#define HW_ICLPRIOR2R_S16P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S16P_SETMASK
                            13083 ; 485  |#define HW_ICLPRIOR2R_S17P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S17P_SETMASK
                            13084 ; 486  |#define HW_ICLPRIOR2R_S18P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S18P_SETMASK
                            13085 ; 487  |#define HW_ICLPRIOR2R_S19P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S19P_SETMASK
                            13086 ; 488  |#define HW_ICLPRIOR2R_S20P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S20P_SETMASK
                            13087 ; 489  |#define HW_ICLPRIOR2R_S21P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S21P_SETMASK
                            13088 ; 490  |#define HW_ICLPRIOR2R_S22P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S22P_SETMASK
                            13089 ; 491  |#define HW_ICLPRIOR2R_S23P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S23P_SETMASK
                            13090 ; 492  |
                            13091 ; 493  |
                            13092 ; 494  |/////////////////////////////////////////////////////////////////////////////////
                            13093 ; 495  |//  Interrupt Collector Priority 3 Register (HW_ICLPRI3R) Bit Positions
                            13094 ; 496  |typedef union               /* Interrupt Collector Priority 3 Register      */
                            13095 ; 497  |{
                            13096 ; 498  |    struct {
                            13097 ; 499  |        unsigned S24P   :3;
                            13098 ; 500  |        unsigned S25P   :3;
                            13099 ; 501  |        unsigned S26P   :3;
                            13100 ; 502  |        unsigned S27P   :3;
                            13101 ; 503  |        unsigned S28P   :3;
                            13102 ; 504  |        unsigned S29P   :3;
                            13103 ; 505  |        unsigned S30P   :3;
                            13104 ; 506  |        unsigned S31P   :3;
                            13105 ; 507  |    } B;
                            13106 ; 508  |    int I;
                            13107 ; 509  |} iclprior3_type;
                            13108 ; 510  |#define HW_ICLPRIOR3R   (*(volatile iclprior3_type _X*) (HW_ICOLL_BASEADDR+7)) /* Interrupt Collector Register 3 Priority   */
                            13109 ; 511  |
                            13110 ; 512  |#define HW_ICLPRIOR3R_S24P_BITPOS 0
                            13111 ; 513  |#define HW_ICLPRIOR3R_S25P_BITPOS 3
                            13112 ; 514  |#define HW_ICLPRIOR3R_S26P_BITPOS 6
                            13113 ; 515  |#define HW_ICLPRIOR3R_S27P_BITPOS 9
                            13114 ; 516  |#define HW_ICLPRIOR3R_S28P_BITPOS 12
                            13115 ; 517  |#define HW_ICLPRIOR3R_S29P_BITPOS 15
                            13116 ; 518  |#define HW_ICLPRIOR3R_S30P_BITPOS 18
                            13117 ; 519  |#define HW_ICLPRIOR3R_S31P_BITPOS 21
                            13118 ; 520  |
                            13119 ; 521  |#define HW_ICLPRIOR3R_S24P_SETMASK 7<<HW_ICLPRIOR3R_S24P_BITPOS
                            13120 ; 522  |#define HW_ICLPRIOR3R_S25P_SETMASK 7<<HW_ICLPRIOR3R_S25P_BITPOS
                            13121 ; 523  |#define HW_ICLPRIOR3R_S26P_SETMASK 7<<HW_ICLPRIOR3R_S26P_BITPOS
                            13122 ; 524  |#define HW_ICLPRIOR3R_S27P_SETMASK 7<<HW_ICLPRIOR3R_S27P_BITPOS
                            13123 ; 525  |#define HW_ICLPRIOR3R_S28P_SETMASK 7<<HW_ICLPRIOR3R_S28P_BITPOS
                            13124 ; 526  |#define HW_ICLPRIOR3R_S29P_SETMASK 7<<HW_ICLPRIOR3R_S29P_BITPOS
                            13125 ; 527  |#define HW_ICLPRIOR3R_S30P_SETMASK 7<<HW_ICLPRIOR3R_S30P_BITPOS
                            13126 ; 528  |#define HW_ICLPRIOR3R_S31P_SETMASK 7<<HW_ICLPRIOR3R_S31P_BITPOS
                            13127 ; 529  |
                            13128 ; 530  |#define HW_ICLPRIOR3R_S24P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S24P_SETMASK
                            13129 ; 531  |#define HW_ICLPRIOR3R_S25P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S25P_SETMASK
                            13130 ; 532  |#define HW_ICLPRIOR3R_S26P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S26P_SETMASK
                            13131 ; 533  |#define HW_ICLPRIOR3R_S27P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S27P_SETMASK
                            13132 ; 534  |#define HW_ICLPRIOR3R_S28P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S28P_SETMASK
                            13133 ; 535  |#define HW_ICLPRIOR3R_S29P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S29P_SETMASK
                            13134 ; 536  |#define HW_ICLPRIOR3R_S30P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S30P_SETMASK
                            13135 ; 537  |#define HW_ICLPRIOR3R_S31P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S31P_SETMASK
                            13136 ; 538  |
                            13137 ; 539  |
                            13138 ; 540  |/////////////////////////////////////////////////////////////////////////////////
                            13139 ; 541  |//  Interrupt Collector Priority 4 Register (HW_ICLPRI4R) Bit Positions
                            13140 ; 542  |typedef union               /* Interrupt Collector Priority 3 Register      */
                            13141 ; 543  |{
                            13142 ; 544  |    struct {
                            13143 ; 545  |        unsigned S32P   :3;
                            13144 ; 546  |        unsigned S33P   :3;
                            13145 ; 547  |    } B;
                            13146 ; 548  |    int I;
                            13147 ; 549  |} iclprior4_type;
                            13148 ; 550  |#define HW_ICLPRIOR4R (*(volatile iclprior4_type _X*) (HW_ICOLL_BASEADDR+17)) /* Interrupt Collector Register 4 Priority   */
                            13149 ; 551  |
                            13150 ; 552  |#define HW_ICLPRIOR4R_S32P_BITPOS 0
                            13151 ; 553  |#define HW_ICLPRIOR4R_S33P_BITPOS 3
                            13152 ; 554  |
                            13153 ; 555  |#define HW_ICLPRIOR4R_S32P_SETMASK 7<<HW_ICLPRIOR4R_S32P_BITPOS
                            13154 ; 556  |#define HW_ICLPRIOR4R_S33P_SETMASK 7<<HW_ICLPRIOR4R_S33P_BITPOS
                            13155 ; 557  |
                            13156 ; 558  |#define HW_ICLPRIOR4R_S32P_CLRMASK ~(WORD)HW_ICLPRIOR4R_S32P_SETMASK
                            13157 ; 559  |#define HW_ICLPRIOR4R_S33P_CLRMASK ~(WORD)HW_ICLPRIOR4R_S33P_SETMASK
                            13158 ; 560  |
                            13159 ; 561  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  53

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13160 ; 562  |/////////////////////////////////////////////////////////////////////////////////
                            13161 ; 563  |//  Interrupt Collector Steering 0 Register (HW_ICLSTEER0R) Bit Positions
                            13162 ; 564  |typedef union               /* Interrupt Collector Steering 0 Register      */
                            13163 ; 565  |{
                            13164 ; 566  |    struct {
                            13165 ; 567  |        unsigned S0S    :2;
                            13166 ; 568  |        unsigned S1S    :2;
                            13167 ; 569  |        unsigned S2S    :2;
                            13168 ; 570  |        unsigned S3S    :2;
                            13169 ; 571  |        unsigned S4S    :2;
                            13170 ; 572  |        unsigned S5S    :2;
                            13171 ; 573  |        unsigned S6S    :2;
                            13172 ; 574  |        unsigned S7S    :2;
                            13173 ; 575  |        unsigned S8S    :2;
                            13174 ; 576  |        unsigned S9S    :2;
                            13175 ; 577  |        unsigned S10S   :2;
                            13176 ; 578  |        unsigned S11S   :2;
                            13177 ; 579  |    } B;
                            13178 ; 580  |    int I;
                            13179 ; 581  |} iclsteer0_type;
                            13180 ; 582  |#define HW_ICLSTEER0R   (*(volatile iclsteer0_type _X*) (HW_ICOLL_BASEADDR+8)) /* Interrupt Collector Steering Register 0   */
                            13181 ; 583  |
                            13182 ; 584  |#define HW_ICLSTEER0R_S0P_BITPOS 0
                            13183 ; 585  |#define HW_ICLSTEER0R_S1P_BITPOS 2
                            13184 ; 586  |#define HW_ICLSTEER0R_S2P_BITPOS 4
                            13185 ; 587  |#define HW_ICLSTEER0R_S3P_BITPOS 6
                            13186 ; 588  |#define HW_ICLSTEER0R_S4P_BITPOS 8
                            13187 ; 589  |#define HW_ICLSTEER0R_S5P_BITPOS 10
                            13188 ; 590  |#define HW_ICLSTEER0R_S6P_BITPOS 12
                            13189 ; 591  |#define HW_ICLSTEER0R_S7P_BITPOS 14
                            13190 ; 592  |#define HW_ICLSTEER0R_S8P_BITPOS 16
                            13191 ; 593  |#define HW_ICLSTEER0R_S9P_BITPOS 18
                            13192 ; 594  |#define HW_ICLSTEER0R_S10P_BITPOS 20
                            13193 ; 595  |#define HW_ICLSTEER0R_S11P_BITPOS 22
                            13194 ; 596  |
                            13195 ; 597  |#define HW_ICLSTEER0R_S0P_SETMASK 3<<HW_ICLSTEER0R_S0P_BITPOS
                            13196 ; 598  |#define HW_ICLSTEER0R_S1P_SETMASK 3<<HW_ICLSTEER0R_S1P_BITPOS
                            13197 ; 599  |#define HW_ICLSTEER0R_S2P_SETMASK 3<<HW_ICLSTEER0R_S2P_BITPOS
                            13198 ; 600  |#define HW_ICLSTEER0R_S3P_SETMASK 3<<HW_ICLSTEER0R_S3P_BITPOS
                            13199 ; 601  |#define HW_ICLSTEER0R_S4P_SETMASK 3<<HW_ICLSTEER0R_S4P_BITPOS
                            13200 ; 602  |#define HW_ICLSTEER0R_S5P_SETMASK 3<<HW_ICLSTEER0R_S5P_BITPOS
                            13201 ; 603  |#define HW_ICLSTEER0R_S6P_SETMASK 3<<HW_ICLSTEER0R_S6P_BITPOS
                            13202 ; 604  |#define HW_ICLSTEER0R_S7P_SETMASK 3<<HW_ICLSTEER0R_S7P_BITPOS
                            13203 ; 605  |#define HW_ICLSTEER0R_S8P_SETMASK 3<<HW_ICLSTEER0R_S8P_BITPOS
                            13204 ; 606  |#define HW_ICLSTEER0R_S9P_SETMASK 3<<HW_ICLSTEER0R_S9P_BITPOS
                            13205 ; 607  |#define HW_ICLSTEER0R_S10P_SETMASK 3<<HW_ICLSTEER0R_S10P_BITPOS
                            13206 ; 608  |#define HW_ICLSTEER0R_S11P_SETMASK 3<<HW_ICLSTEER0R_S11P_BITPOS
                            13207 ; 609  |
                            13208 ; 610  |#define HW_ICLSTEER0R_S0P_CLRMASK ~(WORD)HW_ICLSTEER0R_S0P_SETMASK
                            13209 ; 611  |#define HW_ICLSTEER0R_S1P_CLRMASK ~(WORD)HW_ICLSTEER0R_S1P_SETMASK
                            13210 ; 612  |#define HW_ICLSTEER0R_S2P_CLRMASK ~(WORD)HW_ICLSTEER0R_S2P_SETMASK
                            13211 ; 613  |#define HW_ICLSTEER0R_S3P_CLRMASK ~(WORD)HW_ICLSTEER0R_S3P_SETMASK
                            13212 ; 614  |#define HW_ICLSTEER0R_S4P_CLRMASK ~(WORD)HW_ICLSTEER0R_S4P_SETMASK
                            13213 ; 615  |#define HW_ICLSTEER0R_S5P_CLRMASK ~(WORD)HW_ICLSTEER0R_S5P_SETMASK
                            13214 ; 616  |#define HW_ICLSTEER0R_S6P_CLRMASK ~(WORD)HW_ICLSTEER0R_S6P_SETMASK
                            13215 ; 617  |#define HW_ICLSTEER0R_S7P_CLRMASK ~(WORD)HW_ICLSTEER0R_S7P_SETMASK
                            13216 ; 618  |#define HW_ICLSTEER0R_S8P_CLRMASK ~(WORD)HW_ICLSTEER0R_S8P_SETMASK
                            13217 ; 619  |#define HW_ICLSTEER0R_S9P_CLRMASK ~(WORD)HW_ICLSTEER0R_S9P_SETMASK
                            13218 ; 620  |#define HW_ICLSTEER0R_S10P_CLRMASK ~(WORD)HW_ICLSTEER0R_S10P_SETMASK
                            13219 ; 621  |#define HW_ICLSTEER0R_S11P_CLRMASK ~(WORD)HW_ICLSTEER0R_S11P_SETMASK
                            13220 ; 622  |
                            13221 ; 623  |
                            13222 ; 624  |/////////////////////////////////////////////////////////////////////////////////
                            13223 ; 625  |//  Interrupt Collector Steering 1 Register (HW_ICLSTEER1R) Bit Positions
                            13224 ; 626  |typedef union               /* Interrupt Collector Steering 1 Register      */
                            13225 ; 627  |{
                            13226 ; 628  |    struct {
                            13227 ; 629  |        unsigned S12S   :2;
                            13228 ; 630  |        unsigned S13S   :2;
                            13229 ; 631  |        unsigned S14S   :2;
                            13230 ; 632  |        unsigned S15S   :2;
                            13231 ; 633  |        unsigned S16S   :2;
                            13232 ; 634  |        unsigned S17S   :2;
                            13233 ; 635  |        unsigned S18S   :2;
                            13234 ; 636  |        unsigned S19S   :2;
                            13235 ; 637  |        unsigned S20S   :2;
                            13236 ; 638  |        unsigned S21S   :2;
                            13237 ; 639  |        unsigned S22S   :2;
                            13238 ; 640  |        unsigned S23S   :2;
                            13239 ; 641  |    } B;
                            13240 ; 642  |    int I;
                            13241 ; 643  |} iclsteer1_type;
                            13242 ; 644  |#define HW_ICLSTEER1R   (*(volatile iclsteer1_type _X*) (HW_ICOLL_BASEADDR+9)) /* Interrupt Collector Steering Register 1   */
                            13243 ; 645  |#define HW_ICLSTEER1R_S12P_BITPOS 0
                            13244 ; 646  |#define HW_ICLSTEER1R_S13P_BITPOS 2
                            13245 ; 647  |#define HW_ICLSTEER1R_S14P_BITPOS 4
                            13246 ; 648  |#define HW_ICLSTEER1R_S15P_BITPOS 6
                            13247 ; 649  |#define HW_ICLSTEER1R_S16P_BITPOS 8
                            13248 ; 650  |#define HW_ICLSTEER1R_S17P_BITPOS 10
                            13249 ; 651  |#define HW_ICLSTEER1R_S18P_BITPOS 12
                            13250 ; 652  |#define HW_ICLSTEER1R_S19P_BITPOS 14
                            13251 ; 653  |#define HW_ICLSTEER1R_S20P_BITPOS 16
                            13252 ; 654  |#define HW_ICLSTEER1R_S21P_BITPOS 18
                            13253 ; 655  |#define HW_ICLSTEER1R_S22P_BITPOS 20
                            13254 ; 656  |#define HW_ICLSTEER1R_S23P_BITPOS 22
                            13255 ; 657  |
                            13256 ; 658  |#define HW_ICLSTEER1R_S12P_SETMASK 3<<HW_ICLSTEER1R_S12P_BITPOS
                            13257 ; 659  |#define HW_ICLSTEER1R_S13P_SETMASK 3<<HW_ICLSTEER1R_S13P_BITPOS
                            13258 ; 660  |#define HW_ICLSTEER1R_S14P_SETMASK 3<<HW_ICLSTEER1R_S14P_BITPOS
                            13259 ; 661  |#define HW_ICLSTEER1R_S15P_SETMASK 3<<HW_ICLSTEER1R_S15P_BITPOS
                            13260 ; 662  |#define HW_ICLSTEER1R_S16P_SETMASK 3<<HW_ICLSTEER1R_S16P_BITPOS
                            13261 ; 663  |#define HW_ICLSTEER1R_S17P_SETMASK 3<<HW_ICLSTEER1R_S17P_BITPOS
                            13262 ; 664  |#define HW_ICLSTEER1R_S18P_SETMASK 3<<HW_ICLSTEER1R_S18P_BITPOS
                            13263 ; 665  |#define HW_ICLSTEER1R_S19P_SETMASK 3<<HW_ICLSTEER1R_S19P_BITPOS
                            13264 ; 666  |#define HW_ICLSTEER1R_S20P_SETMASK 3<<HW_ICLSTEER1R_S20P_BITPOS
                            13265 ; 667  |#define HW_ICLSTEER1R_S21P_SETMASK 3<<HW_ICLSTEER1R_S21P_BITPOS
                            13266 ; 668  |#define HW_ICLSTEER1R_S22P_SETMASK 3<<HW_ICLSTEER1R_S22P_BITPOS
                            13267 ; 669  |#define HW_ICLSTEER1R_S23P_SETMASK 3<<HW_ICLSTEER1R_S23P_BITPOS
                            13268 ; 670  |
                            13269 ; 671  |#define HW_ICLSTEER1R_S12P_CLRMASK ~(WORD)HW_ICLSTEER1R_S12P_SETMASK
                            13270 ; 672  |#define HW_ICLSTEER1R_S13P_CLRMASK ~(WORD)HW_ICLSTEER1R_S13P_SETMASK
                            13271 ; 673  |#define HW_ICLSTEER1R_S14P_CLRMASK ~(WORD)HW_ICLSTEER1R_S14P_SETMASK
                            13272 ; 674  |#define HW_ICLSTEER1R_S15P_CLRMASK ~(WORD)HW_ICLSTEER1R_S15P_SETMASK
                            13273 ; 675  |#define HW_ICLSTEER1R_S16P_CLRMASK ~(WORD)HW_ICLSTEER1R_S16P_SETMASK
                            13274 ; 676  |#define HW_ICLSTEER1R_S17P_CLRMASK ~(WORD)HW_ICLSTEER1R_S17P_SETMASK
                            13275 ; 677  |#define HW_ICLSTEER1R_S18P_CLRMASK ~(WORD)HW_ICLSTEER1R_S18P_SETMASK
                            13276 ; 678  |#define HW_ICLSTEER1R_S19P_CLRMASK ~(WORD)HW_ICLSTEER1R_S19P_SETMASK
                            13277 ; 679  |#define HW_ICLSTEER1R_S20P_CLRMASK ~(WORD)HW_ICLSTEER1R_S20P_SETMASK
                            13278 ; 680  |#define HW_ICLSTEER1R_S21P_CLRMASK ~(WORD)HW_ICLSTEER1R_S21P_SETMASK
                            13279 ; 681  |#define HW_ICLSTEER1R_S22P_CLRMASK ~(WORD)HW_ICLSTEER1R_S22P_SETMASK
                            13280 ; 682  |#define HW_ICLSTEER1R_S23P_CLRMASK ~(WORD)HW_ICLSTEER1R_S23P_SETMASK
                            13281 ; 683  |
                            13282 ; 684  |
                            13283 ; 685  |/////////////////////////////////////////////////////////////////////////////////
                            13284 ; 686  |//  Interrupt Collector Steering 2 Register (HW_ICLSTEER2R) Bit Positions
                            13285 ; 687  |typedef union               /* Interrupt Collector Steering 2 Register      */
                            13286 ; 688  |{
                            13287 ; 689  |    struct {
                            13288 ; 690  |        unsigned S24S   :2;
                            13289 ; 691  |        unsigned S25S   :2;
                            13290 ; 692  |        unsigned S26S   :2;
                            13291 ; 693  |        unsigned S27S   :2;
                            13292 ; 694  |        unsigned S28S   :2;
                            13293 ; 695  |        unsigned S29S   :2;
                            13294 ; 696  |        unsigned S30S   :2;
                            13295 ; 697  |        unsigned S31S   :2;
                            13296 ; 698  |        unsigned S32S   :2;
                            13297 ; 699  |        unsigned S33S   :2;
                            13298 ; 700  |    } B;
                            13299 ; 701  |    int I;
                            13300 ; 702  |} iclsteer2_type;
                            13301 ; 703  |#define HW_ICLSTEER2R   (*(volatile iclsteer2_type _X*) (HW_ICOLL_BASEADDR+10)) /* Interrupt Collector Steering Register 2  */
                            13302 ; 704  |
                            13303 ; 705  |#define HW_ICLSTEER2R_S24P_BITPOS 0
                            13304 ; 706  |#define HW_ICLSTEER2R_S25P_BITPOS 2
                            13305 ; 707  |#define HW_ICLSTEER2R_S26P_BITPOS 4
                            13306 ; 708  |#define HW_ICLSTEER2R_S27P_BITPOS 6
                            13307 ; 709  |#define HW_ICLSTEER2R_S28P_BITPOS 8
                            13308 ; 710  |#define HW_ICLSTEER2R_S29P_BITPOS 10
                            13309 ; 711  |#define HW_ICLSTEER2R_S30P_BITPOS 12
                            13310 ; 712  |#define HW_ICLSTEER2R_S31P_BITPOS 14
                            13311 ; 713  |#define HW_ICLSTEER2R_S32P_BITPOS 16
                            13312 ; 714  |#define HW_ICLSTEER2R_S33P_BITPOS 18
                            13313 ; 715  |
                            13314 ; 716  |#define HW_ICLSTEER2R_S24P_SETMASK 3<<HW_ICLSTEER2R_S24P_BITPOS
                            13315 ; 717  |#define HW_ICLSTEER2R_S25P_SETMASK 3<<HW_ICLSTEER2R_S25P_BITPOS
                            13316 ; 718  |#define HW_ICLSTEER2R_S26P_SETMASK 3<<HW_ICLSTEER2R_S26P_BITPOS
                            13317 ; 719  |#define HW_ICLSTEER2R_S27P_SETMASK 3<<HW_ICLSTEER2R_S27P_BITPOS
                            13318 ; 720  |#define HW_ICLSTEER2R_S28P_SETMASK 3<<HW_ICLSTEER2R_S28P_BITPOS
                            13319 ; 721  |#define HW_ICLSTEER2R_S29P_SETMASK 3<<HW_ICLSTEER2R_S29P_BITPOS
                            13320 ; 722  |#define HW_ICLSTEER2R_S30P_SETMASK 3<<HW_ICLSTEER2R_S30P_BITPOS
                            13321 ; 723  |#define HW_ICLSTEER2R_S31P_SETMASK 3<<HW_ICLSTEER2R_S31P_BITPOS
                            13322 ; 724  |#define HW_ICLSTEER2R_S32P_SETMASK 3<<HW_ICLSTEER2R_S32P_BITPOS
                            13323 ; 725  |#define HW_ICLSTEER2R_S33P_SETMASK 3<<HW_ICLSTEER2R_S33P_BITPOS
                            13324 ; 726  |
                            13325 ; 727  |#define HW_ICLSTEER2R_S24P_CLRMASK ~(WORD)HW_ICLSTEER2R_S24P_SETMASK
                            13326 ; 728  |#define HW_ICLSTEER2R_S25P_CLRMASK ~(WORD)HW_ICLSTEER2R_S25P_SETMASK
                            13327 ; 729  |#define HW_ICLSTEER2R_S26P_CLRMASK ~(WORD)HW_ICLSTEER2R_S26P_SETMASK
                            13328 ; 730  |#define HW_ICLSTEER2R_S27P_CLRMASK ~(WORD)HW_ICLSTEER2R_S27P_SETMASK
                            13329 ; 731  |#define HW_ICLSTEER2R_S28P_CLRMASK ~(WORD)HW_ICLSTEER2R_S28P_SETMASK
                            13330 ; 732  |#define HW_ICLSTEER2R_S29P_CLRMASK ~(WORD)HW_ICLSTEER2R_S29P_SETMASK
                            13331 ; 733  |#define HW_ICLSTEER2R_S30P_CLRMASK ~(WORD)HW_ICLSTEER2R_S30P_SETMASK
                            13332 ; 734  |#define HW_ICLSTEER2R_S31P_CLRMASK ~(WORD)HW_ICLSTEER2R_S31P_SETMASK
                            13333 ; 735  |#define HW_ICLSTEER2R_S32P_CLRMASK ~(WORD)HW_ICLSTEER2R_S32P_SETMASK
                            13334 ; 736  |#define HW_ICLSTEER2R_S33P_CLRMASK ~(WORD)HW_ICLSTEER2R_S33P_SETMASK
                            13335 ; 737  |
                            13336 ; 738  |
                            13337 ; 739  |/////////////////////////////////////////////////////////////////////////////////
                            13338 ; 740  |//  Interrupt Collector Debug Force 0 Register (HW_ICLFORCE0R) Bit Positions
                            13339 ; 741  |typedef union               /* Interrupt Collector Debug Force 0 Register       */
                            13340 ; 742  |{
                            13341 ; 743  |    struct {
                            13342 ; 744  |        int S0FV        :1;
                            13343 ; 745  |        int S1FV        :1;
                            13344 ; 746  |        int S2FV        :1;
                            13345 ; 747  |        int S3FV        :1;
                            13346 ; 748  |        int S4FV        :1;
                            13347 ; 749  |        int S5FV        :1;
                            13348 ; 750  |        int S6FV        :1;
                            13349 ; 751  |        int S7FV        :1;
                            13350 ; 752  |        int S8FV        :1;
                            13351 ; 753  |        int S9FV        :1;
                            13352 ; 754  |        int S10FV       :1;
                            13353 ; 755  |        int S11FV       :1;
                            13354 ; 756  |        int S12FV       :1;
                            13355 ; 757  |        int S13FV       :1;
                            13356 ; 758  |        int S14FV       :1;
                            13357 ; 759  |        int S15FV       :1;
                            13358 ; 760  |        int S16FV       :1;
                            13359 ; 761  |        int S17FV       :1;
                            13360 ; 762  |        int S18FV       :1;
                            13361 ; 763  |        int S19FV       :1;
                            13362 ; 764  |        int S20FV       :1;
                            13363 ; 765  |        int S21FV       :1;
                            13364 ; 766  |        int S22FV       :1;
                            13365 ; 767  |        int S23FV       :1;
                            13366 ; 768  |    } B;
                            13367 ; 769  |    int I;
                            13368 ; 770  |} iclforce0_type;
                            13369 ; 771  |#define HW_ICLFORCE0R   (*(volatile iclforce0_type _X*) (HW_ICOLL_BASEADDR+11)) /* Interrupt Collector Debug Force Register 0   */
                            13370 ; 772  |#define HW_ICLFORCE0R_S0FV_BITPOS 0
                            13371 ; 773  |#define HW_ICLFORCE0R_S1FV_BITPOS 1
                            13372 ; 774  |#define HW_ICLFORCE0R_S2FV_BITPOS 2
                            13373 ; 775  |#define HW_ICLFORCE0R_S3FV_BITPOS 3
                            13374 ; 776  |#define HW_ICLFORCE0R_S4FV_BITPOS 4
                            13375 ; 777  |#define HW_ICLFORCE0R_S5FV_BITPOS 5
                            13376 ; 778  |#define HW_ICLFORCE0R_S6FV_BITPOS 6
                            13377 ; 779  |#define HW_ICLFORCE0R_S7FV_BITPOS 7
                            13378 ; 780  |#define HW_ICLFORCE0R_S8FV_BITPOS 8
                            13379 ; 781  |#define HW_ICLFORCE0R_S9FV_BITPOS 9
                            13380 ; 782  |#define HW_ICLFORCE0R_S10FV_BITPOS 10
                            13381 ; 783  |#define HW_ICLFORCE0R_S11FV_BITPOS 11
                            13382 ; 784  |#define HW_ICLFORCE0R_S12FV_BITPOS 12
                            13383 ; 785  |#define HW_ICLFORCE0R_S13FV_BITPOS 13
                            13384 ; 786  |#define HW_ICLFORCE0R_S14FV_BITPOS 14
                            13385 ; 787  |#define HW_ICLFORCE0R_S15FV_BITPOS 15
                            13386 ; 788  |#define HW_ICLFORCE0R_S16FV_BITPOS 16
                            13387 ; 789  |#define HW_ICLFORCE0R_S17FV_BITPOS 17
                            13388 ; 790  |#define HW_ICLFORCE0R_S18FV_BITPOS 18
                            13389 ; 791  |#define HW_ICLFORCE0R_S19FV_BITPOS 19
                            13390 ; 792  |#define HW_ICLFORCE0R_S20FV_BITPOS 20
                            13391 ; 793  |#define HW_ICLFORCE0R_S21FV_BITPOS 21
                            13392 ; 794  |#define HW_ICLFORCE0R_S22FV_BITPOS 22
                            13393 ; 795  |#define HW_ICLFORCE0R_S23FV_BITPOS 23
                            13394 ; 796  |
                            13395 ; 797  |#define HW_ICLFORCE0R_S0FV_SETMASK 1<<HW_ICLFORCE0R_S0FV_BITPOS
                            13396 ; 798  |#define HW_ICLFORCE0R_S1FV_SETMASK 1<<HW_ICLFORCE0R_S1FV_BITPOS
                            13397 ; 799  |#define HW_ICLFORCE0R_S2FV_SETMASK 1<<HW_ICLFORCE0R_S2FV_BITPOS
                            13398 ; 800  |#define HW_ICLFORCE0R_S3FV_SETMASK 1<<HW_ICLFORCE0R_S3FV_BITPOS
                            13399 ; 801  |#define HW_ICLFORCE0R_S4FV_SETMASK 1<<HW_ICLFORCE0R_S4FV_BITPOS
                            13400 ; 802  |#define HW_ICLFORCE0R_S5FV_SETMASK 1<<HW_ICLFORCE0R_S5FV_BITPOS
                            13401 ; 803  |#define HW_ICLFORCE0R_S6FV_SETMASK 1<<HW_ICLFORCE0R_S6FV_BITPOS
                            13402 ; 804  |#define HW_ICLFORCE0R_S7FV_SETMASK 1<<HW_ICLFORCE0R_S7FV_BITPOS
                            13403 ; 805  |#define HW_ICLFORCE0R_S8FV_SETMASK 1<<HW_ICLFORCE0R_S8FV_BITPOS
                            13404 ; 806  |#define HW_ICLFORCE0R_S9FV_SETMASK 1<<HW_ICLFORCE0R_S9FV_BITPOS
                            13405 ; 807  |#define HW_ICLFORCE0R_S10FV_SETMASK 1<<HW_ICLFORCE0R_S10FV_BITPOS
                            13406 ; 808  |#define HW_ICLFORCE0R_S11FV_SETMASK 1<<HW_ICLFORCE0R_S11FV_BITPOS
                            13407 ; 809  |#define HW_ICLFORCE0R_S12FV_SETMASK 1<<HW_ICLFORCE0R_S12FV_BITPOS
                            13408 ; 810  |#define HW_ICLFORCE0R_S13FV_SETMASK 1<<HW_ICLFORCE0R_S13FV_BITPOS
                            13409 ; 811  |#define HW_ICLFORCE0R_S14FV_SETMASK 1<<HW_ICLFORCE0R_S14FV_BITPOS
                            13410 ; 812  |#define HW_ICLFORCE0R_S15FV_SETMASK 1<<HW_ICLFORCE0R_S15FV_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  54

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13411 ; 813  |#define HW_ICLFORCE0R_S16FV_SETMASK 1<<HW_ICLFORCE0R_S16FV_BITPOS
                            13412 ; 814  |#define HW_ICLFORCE0R_S17FV_SETMASK 1<<HW_ICLFORCE0R_S17FV_BITPOS
                            13413 ; 815  |#define HW_ICLFORCE0R_S18FV_SETMASK 1<<HW_ICLFORCE0R_S18FV_BITPOS
                            13414 ; 816  |#define HW_ICLFORCE0R_S19FV_SETMASK 1<<HW_ICLFORCE0R_S19FV_BITPOS
                            13415 ; 817  |#define HW_ICLFORCE0R_S20FV_SETMASK 1<<HW_ICLFORCE0R_S20FV_BITPOS
                            13416 ; 818  |#define HW_ICLFORCE0R_S21FV_SETMASK 1<<HW_ICLFORCE0R_S21FV_BITPOS
                            13417 ; 819  |#define HW_ICLFORCE0R_S22FV_SETMASK 1<<HW_ICLFORCE0R_S22FV_BITPOS
                            13418 ; 820  |#define HW_ICLFORCE0R_S23FV_SETMASK 1<<HW_ICLFORCE0R_S23FV_BITPOS
                            13419 ; 821  |
                            13420 ; 822  |#define HW_ICLFORCE0R_S0FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S0FV_SETMASK
                            13421 ; 823  |#define HW_ICLFORCE0R_S1FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S1FV_SETMASK
                            13422 ; 824  |#define HW_ICLFORCE0R_S2FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S2FV_SETMASK
                            13423 ; 825  |#define HW_ICLFORCE0R_S3FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S3FV_SETMASK
                            13424 ; 826  |#define HW_ICLFORCE0R_S4FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S4FV_SETMASK
                            13425 ; 827  |#define HW_ICLFORCE0R_S5FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S5FV_SETMASK
                            13426 ; 828  |#define HW_ICLFORCE0R_S6FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S6FV_SETMASK
                            13427 ; 829  |#define HW_ICLFORCE0R_S7FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S7FV_SETMASK
                            13428 ; 830  |#define HW_ICLFORCE0R_S8FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S8FV_SETMASK
                            13429 ; 831  |#define HW_ICLFORCE0R_S9FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S9FV_SETMASK
                            13430 ; 832  |#define HW_ICLFORCE0R_S10FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S10FV_SETMASK
                            13431 ; 833  |#define HW_ICLFORCE0R_S11FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S11FV_SETMASK
                            13432 ; 834  |#define HW_ICLFORCE0R_S12FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S12FV_SETMASK
                            13433 ; 835  |#define HW_ICLFORCE0R_S13FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S13FV_SETMASK
                            13434 ; 836  |#define HW_ICLFORCE0R_S14FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S14FV_SETMASK
                            13435 ; 837  |#define HW_ICLFORCE0R_S15FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S15FV_SETMASK
                            13436 ; 838  |#define HW_ICLFORCE0R_S16FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S16FV_SETMASK
                            13437 ; 839  |#define HW_ICLFORCE0R_S17FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S17FV_SETMASK
                            13438 ; 840  |#define HW_ICLFORCE0R_S18FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S18FV_SETMASK
                            13439 ; 841  |#define HW_ICLFORCE0R_S19FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S19FV_SETMASK
                            13440 ; 842  |#define HW_ICLFORCE0R_S20FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S20FV_SETMASK
                            13441 ; 843  |#define HW_ICLFORCE0R_S21FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S21FV_SETMASK
                            13442 ; 844  |#define HW_ICLFORCE0R_S22FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S22FV_SETMASK
                            13443 ; 845  |#define HW_ICLFORCE0R_S23FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S23FV_SETMASK
                            13444 ; 846  |
                            13445 ; 847  |
                            13446 ; 848  |/////////////////////////////////////////////////////////////////////////////////
                            13447 ; 849  |//  Interrupt Collector Debug Force 1 Register (HW_ICLFORCE1R) Bit Positions
                            13448 ; 850  |typedef union               /* Interrupt Debug Force 1 Register     */
                            13449 ; 851  |{
                            13450 ; 852  |    struct {
                            13451 ; 853  |        int S24FV       :1;
                            13452 ; 854  |        int S25FV       :1;
                            13453 ; 855  |        int S26FV       :1;
                            13454 ; 856  |        int S27FV       :1;
                            13455 ; 857  |        int S28FV       :1;
                            13456 ; 858  |        int S29FV       :1;
                            13457 ; 859  |        int S30FV       :1;
                            13458 ; 860  |        int S31FV       :1;
                            13459 ; 861  |        int S32FV       :1;
                            13460 ; 862  |        int S33FV       :1;
                            13461 ; 863  |    } B;
                            13462 ; 864  |    int I;
                            13463 ; 865  |} iclforce1_type;
                            13464 ; 866  |#define HW_ICLFORCE1R   (*(volatile iclforce1_type _X*) (HW_ICOLL_BASEADDR+12)) /* Interrupt Collector Debug Force Register 1   */
                            13465 ; 867  |
                            13466 ; 868  |#define HW_ICLFORCE1R_S24FV_BITPOS 0
                            13467 ; 869  |#define HW_ICLFORCE1R_S25FV_BITPOS 1
                            13468 ; 870  |#define HW_ICLFORCE1R_S26FV_BITPOS 2
                            13469 ; 871  |#define HW_ICLFORCE1R_S27FV_BITPOS 3
                            13470 ; 872  |#define HW_ICLFORCE1R_S28FV_BITPOS 4
                            13471 ; 873  |#define HW_ICLFORCE1R_S29FV_BITPOS 5
                            13472 ; 874  |#define HW_ICLFORCE1R_S30FV_BITPOS 6
                            13473 ; 875  |#define HW_ICLFORCE1R_S31FV_BITPOS 7
                            13474 ; 876  |#define HW_ICLFORCE1R_S32FV_BITPOS 8
                            13475 ; 877  |#define HW_ICLFORCE1R_S33FV_BITPOS 9
                            13476 ; 878  |
                            13477 ; 879  |#define HW_ICLFORCE1R_S24FV_SETMASK 1<<HW_ICLFORCE1R_S24FV_BITPOS
                            13478 ; 880  |#define HW_ICLFORCE1R_S25FV_SETMASK 1<<HW_ICLFORCE1R_S25FV_BITPOS
                            13479 ; 881  |#define HW_ICLFORCE1R_S26FV_SETMASK 1<<HW_ICLFORCE1R_S26FV_BITPOS
                            13480 ; 882  |#define HW_ICLFORCE1R_S27FV_SETMASK 1<<HW_ICLFORCE1R_S27FV_BITPOS
                            13481 ; 883  |#define HW_ICLFORCE1R_S28FV_SETMASK 1<<HW_ICLFORCE1R_S28FV_BITPOS
                            13482 ; 884  |#define HW_ICLFORCE1R_S29FV_SETMASK 1<<HW_ICLFORCE1R_S29FV_BITPOS
                            13483 ; 885  |#define HW_ICLFORCE1R_S30FV_SETMASK 1<<HW_ICLFORCE1R_S30FV_BITPOS
                            13484 ; 886  |#define HW_ICLFORCE1R_S31FV_SETMASK 1<<HW_ICLFORCE1R_S31FV_BITPOS
                            13485 ; 887  |#define HW_ICLFORCE1R_S32FV_SETMASK 1<<HW_ICLFORCE1R_S32FV_BITPOS
                            13486 ; 888  |#define HW_ICLFORCE1R_S33FV_SETMASK 1<<HW_ICLFORCE1R_S33FV_BITPOS
                            13487 ; 889  |
                            13488 ; 890  |#define HW_ICLFORCE1R_S24FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S24FV_SETMASK
                            13489 ; 891  |#define HW_ICLFORCE1R_S25FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S25FV_SETMASK
                            13490 ; 892  |#define HW_ICLFORCE1R_S26FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S26FV_SETMASK
                            13491 ; 893  |#define HW_ICLFORCE1R_S27FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S27FV_SETMASK
                            13492 ; 894  |#define HW_ICLFORCE1R_S28FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S28FV_SETMASK
                            13493 ; 895  |#define HW_ICLFORCE1R_S29FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S29FV_SETMASK
                            13494 ; 896  |#define HW_ICLFORCE1R_S30FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S30FV_SETMASK
                            13495 ; 897  |#define HW_ICLFORCE1R_S31FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S31FV_SETMASK
                            13496 ; 898  |#define HW_ICLFORCE1R_S32FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S32FV_SETMASK
                            13497 ; 899  |#define HW_ICLFORCE1R_S33FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S33FV_SETMASK
                            13498 ; 900  |
                            13499 ; 901  |
                            13500 ; 902  |/////////////////////////////////////////////////////////////////////////////////
                            13501 ; 903  |//  Interrupt Collector Force Enable 0 Register (HW_ICLFENABLE0R) Bit Positions
                            13502 ; 904  |typedef union               /* Interrupt Collector Force Enable 0 Register      */
                            13503 ; 905  |{
                            13504 ; 906  |    struct {
                            13505 ; 907  |        int S0FE        :1;
                            13506 ; 908  |        int S1FE        :1;
                            13507 ; 909  |        int S2FE        :1;
                            13508 ; 910  |        int S3FE        :1;
                            13509 ; 911  |        int S4FE        :1;
                            13510 ; 912  |        int S5FE        :1;
                            13511 ; 913  |        int S6FE        :1;
                            13512 ; 914  |        int S7FE        :1;
                            13513 ; 915  |        int S8FE        :1;
                            13514 ; 916  |        int S9FE        :1;
                            13515 ; 917  |        int S10FE       :1;
                            13516 ; 918  |        int S11FE       :1;
                            13517 ; 919  |        int S12FE       :1;
                            13518 ; 920  |        int S13FE       :1;
                            13519 ; 921  |        int S14FE       :1;
                            13520 ; 922  |        int S15FE       :1;
                            13521 ; 923  |        int S16FE       :1;
                            13522 ; 924  |        int S17FE       :1;
                            13523 ; 925  |        int S18FE       :1;
                            13524 ; 926  |        int S19FE       :1;
                            13525 ; 927  |        int S20FE       :1;
                            13526 ; 928  |        int S21FE       :1;
                            13527 ; 929  |        int S22FE       :1;
                            13528 ; 930  |        int S23FE       :1;
                            13529 ; 931  |    } B;
                            13530 ; 932  |    int I;
                            13531 ; 933  |} iclfenable0_type;
                            13532 ; 934  |#define HW_ICLFENABLE0R (*(volatile iclfenable0_type _X*) (HW_ICOLL_BASEADDR+13)) /* Interrupt Collector Force Enable Register 0    */
                            13533 ; 935  |
                            13534 ; 936  |#define HW_ICLFENABLE0R_S0FE_BITPOS 0
                            13535 ; 937  |#define HW_ICLFENABLE0R_S1FE_BITPOS 1
                            13536 ; 938  |#define HW_ICLFENABLE0R_S2FE_BITPOS 2
                            13537 ; 939  |#define HW_ICLFENABLE0R_S3FE_BITPOS 3
                            13538 ; 940  |#define HW_ICLFENABLE0R_S4FE_BITPOS 4
                            13539 ; 941  |#define HW_ICLFENABLE0R_S5FE_BITPOS 5
                            13540 ; 942  |#define HW_ICLFENABLE0R_S6FE_BITPOS 6
                            13541 ; 943  |#define HW_ICLFENABLE0R_S7FE_BITPOS 7
                            13542 ; 944  |#define HW_ICLFENABLE0R_S8FE_BITPOS 8
                            13543 ; 945  |#define HW_ICLFENABLE0R_S9FE_BITPOS 9
                            13544 ; 946  |#define HW_ICLFENABLE0R_S10FE_BITPOS 10
                            13545 ; 947  |#define HW_ICLFENABLE0R_S11FE_BITPOS 11
                            13546 ; 948  |#define HW_ICLFENABLE0R_S12FE_BITPOS 12
                            13547 ; 949  |#define HW_ICLFENABLE0R_S13FE_BITPOS 13
                            13548 ; 950  |#define HW_ICLFENABLE0R_S14FE_BITPOS 14
                            13549 ; 951  |#define HW_ICLFENABLE0R_S15FE_BITPOS 15
                            13550 ; 952  |#define HW_ICLFENABLE0R_S16FE_BITPOS 16
                            13551 ; 953  |#define HW_ICLFENABLE0R_S17FE_BITPOS 17
                            13552 ; 954  |#define HW_ICLFENABLE0R_S18FE_BITPOS 18
                            13553 ; 955  |#define HW_ICLFENABLE0R_S19FE_BITPOS 19
                            13554 ; 956  |#define HW_ICLFENABLE0R_S20FE_BITPOS 20
                            13555 ; 957  |#define HW_ICLFENABLE0R_S21FE_BITPOS 21
                            13556 ; 958  |#define HW_ICLFENABLE0R_S22FE_BITPOS 22
                            13557 ; 959  |#define HW_ICLFENABLE0R_S23FE_BITPOS 23
                            13558 ; 960  |
                            13559 ; 961  |#define HW_ICLFENABLE0R_S0FE_SETMASK 1<<HW_ICLFENABLE0R_S0FE_BITPOS
                            13560 ; 962  |#define HW_ICLFENABLE0R_S1FE_SETMASK 1<<HW_ICLFENABLE0R_S1FE_BITPOS
                            13561 ; 963  |#define HW_ICLFENABLE0R_S2FE_SETMASK 1<<HW_ICLFENABLE0R_S2FE_BITPOS
                            13562 ; 964  |#define HW_ICLFENABLE0R_S3FE_SETMASK 1<<HW_ICLFENABLE0R_S3FE_BITPOS
                            13563 ; 965  |#define HW_ICLFENABLE0R_S4FE_SETMASK 1<<HW_ICLFENABLE0R_S4FE_BITPOS
                            13564 ; 966  |#define HW_ICLFENABLE0R_S5FE_SETMASK 1<<HW_ICLFENABLE0R_S5FE_BITPOS
                            13565 ; 967  |#define HW_ICLFENABLE0R_S6FE_SETMASK 1<<HW_ICLFENABLE0R_S6FE_BITPOS
                            13566 ; 968  |#define HW_ICLFENABLE0R_S7FE_SETMASK 1<<HW_ICLFENABLE0R_S7FE_BITPOS
                            13567 ; 969  |#define HW_ICLFENABLE0R_S8FE_SETMASK 1<<HW_ICLFENABLE0R_S8FE_BITPOS
                            13568 ; 970  |#define HW_ICLFENABLE0R_S9FE_SETMASK 1<<HW_ICLFENABLE0R_S9FE_BITPOS
                            13569 ; 971  |#define HW_ICLFENABLE0R_S10FE_SETMASK 1<<HW_ICLFENABLE0R_S10FE_BITPOS
                            13570 ; 972  |#define HW_ICLFENABLE0R_S11FE_SETMASK 1<<HW_ICLFENABLE0R_S11FE_BITPOS
                            13571 ; 973  |#define HW_ICLFENABLE0R_S12FE_SETMASK 1<<HW_ICLFENABLE0R_S12FE_BITPOS
                            13572 ; 974  |#define HW_ICLFENABLE0R_S13FE_SETMASK 1<<HW_ICLFENABLE0R_S13FE_BITPOS
                            13573 ; 975  |#define HW_ICLFENABLE0R_S14FE_SETMASK 1<<HW_ICLFENABLE0R_S14FE_BITPOS
                            13574 ; 976  |#define HW_ICLFENABLE0R_S15FE_SETMASK 1<<HW_ICLFENABLE0R_S15FE_BITPOS
                            13575 ; 977  |#define HW_ICLFENABLE0R_S16FE_SETMASK 1<<HW_ICLFENABLE0R_S16FE_BITPOS
                            13576 ; 978  |#define HW_ICLFENABLE0R_S17FE_SETMASK 1<<HW_ICLFENABLE0R_S17FE_BITPOS
                            13577 ; 979  |#define HW_ICLFENABLE0R_S18FE_SETMASK 1<<HW_ICLFENABLE0R_S18FE_BITPOS
                            13578 ; 980  |#define HW_ICLFENABLE0R_S19FE_SETMASK 1<<HW_ICLFENABLE0R_S19FE_BITPOS
                            13579 ; 981  |#define HW_ICLFENABLE0R_S20FE_SETMASK 1<<HW_ICLFENABLE0R_S20FE_BITPOS
                            13580 ; 982  |#define HW_ICLFENABLE0R_S21FE_SETMASK 1<<HW_ICLFENABLE0R_S21FE_BITPOS
                            13581 ; 983  |#define HW_ICLFENABLE0R_S22FE_SETMASK 1<<HW_ICLFENABLE0R_S22FE_BITPOS
                            13582 ; 984  |#define HW_ICLFENABLE0R_S23FE_SETMASK 1<<HW_ICLFENABLE0R_S23FE_BITPOS
                            13583 ; 985  |
                            13584 ; 986  |#define HW_ICLFENABLE0R_S0FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S0FE_SETMASK
                            13585 ; 987  |#define HW_ICLFENABLE0R_S1FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S1FE_SETMASK
                            13586 ; 988  |#define HW_ICLFENABLE0R_S2FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S2FE_SETMASK
                            13587 ; 989  |#define HW_ICLFENABLE0R_S3FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S3FE_SETMASK
                            13588 ; 990  |#define HW_ICLFENABLE0R_S4FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S4FE_SETMASK
                            13589 ; 991  |#define HW_ICLFENABLE0R_S5FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S5FE_SETMASK
                            13590 ; 992  |#define HW_ICLFENABLE0R_S6FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S6FE_SETMASK
                            13591 ; 993  |#define HW_ICLFENABLE0R_S7FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S7FE_SETMASK
                            13592 ; 994  |#define HW_ICLFENABLE0R_S8FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S8FE_SETMASK
                            13593 ; 995  |#define HW_ICLFENABLE0R_S9FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S9FE_SETMASK
                            13594 ; 996  |#define HW_ICLFENABLE0R_S10FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S10FE_SETMASK
                            13595 ; 997  |#define HW_ICLFENABLE0R_S11FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S11FE_SETMASK
                            13596 ; 998  |#define HW_ICLFENABLE0R_S12FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S12FE_SETMASK
                            13597 ; 999  |#define HW_ICLFENABLE0R_S13FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S13FE_SETMASK
                            13598 ; 1000 |#define HW_ICLFENABLE0R_S14FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S14FE_SETMASK
                            13599 ; 1001 |#define HW_ICLFENABLE0R_S15FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S15FE_SETMASK
                            13600 ; 1002 |#define HW_ICLFENABLE0R_S16FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S16FE_SETMASK
                            13601 ; 1003 |#define HW_ICLFENABLE0R_S17FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S17FE_SETMASK
                            13602 ; 1004 |#define HW_ICLFENABLE0R_S18FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S18FE_SETMASK
                            13603 ; 1005 |#define HW_ICLFENABLE0R_S19FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S19FE_SETMASK
                            13604 ; 1006 |#define HW_ICLFENABLE0R_S20FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S20FE_SETMASK
                            13605 ; 1007 |#define HW_ICLFENABLE0R_S21FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S21FE_SETMASK
                            13606 ; 1008 |#define HW_ICLFENABLE0R_S22FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S22FE_SETMASK
                            13607 ; 1009 |#define HW_ICLFENABLE0R_S23FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S23FE_SETMASK
                            13608 ; 1010 |
                            13609 ; 1011 |
                            13610 ; 1012 |/////////////////////////////////////////////////////////////////////////////////
                            13611 ; 1013 |//  Interrupt Collector Force Enable 1 Register (HW_ICLFENABLE1R) Bit Positions
                            13612 ; 1014 |typedef union               /* Interrupt Collector Force Enable 1 Register      */
                            13613 ; 1015 |{
                            13614 ; 1016 |    struct {
                            13615 ; 1017 |        int S24FE       :1;
                            13616 ; 1018 |        int S25FE       :1;
                            13617 ; 1019 |        int S26FE       :1;
                            13618 ; 1020 |        int S27FE       :1;
                            13619 ; 1021 |        int S28FE       :1;
                            13620 ; 1022 |        int S29FE       :1;
                            13621 ; 1023 |        int S30FE       :1;
                            13622 ; 1024 |        int S31FE       :1;
                            13623 ; 1025 |        int S32FE       :1;
                            13624 ; 1026 |        int S33FE       :1;
                            13625 ; 1027 |    } B;
                            13626 ; 1028 |    int I;
                            13627 ; 1029 |} iclfenable1_type;
                            13628 ; 1030 |#define HW_ICLFENABLE1R (*(volatile iclfenable1_type _X*) (HW_ICOLL_BASEADDR+14)) /* Interrupt Collector Force Enable Register 1    */
                            13629 ; 1031 |#define HW_ICLFENABLE1R_S24FE_BITPOS 0
                            13630 ; 1032 |#define HW_ICLFENABLE1R_S25FE_BITPOS 1
                            13631 ; 1033 |#define HW_ICLFENABLE1R_S26FE_BITPOS 2
                            13632 ; 1034 |#define HW_ICLFENABLE1R_S27FE_BITPOS 3
                            13633 ; 1035 |#define HW_ICLFENABLE1R_S28FE_BITPOS 4
                            13634 ; 1036 |#define HW_ICLFENABLE1R_S29FE_BITPOS 5
                            13635 ; 1037 |#define HW_ICLFENABLE1R_S30FE_BITPOS 6
                            13636 ; 1038 |#define HW_ICLFENABLE1R_S31FE_BITPOS 7
                            13637 ; 1039 |#define HW_ICLFENABLE1R_S32FE_BITPOS 8
                            13638 ; 1040 |#define HW_ICLFENABLE1R_S33FE_BITPOS 9
                            13639 ; 1041 |
                            13640 ; 1042 |#define HW_ICLFENABLE1R_S24FE_SETMASK 1<<HW_ICLFENABLE1R_S24FE_BITPOS
                            13641 ; 1043 |#define HW_ICLFENABLE1R_S25FE_SETMASK 1<<HW_ICLFENABLE1R_S25FE_BITPOS
                            13642 ; 1044 |#define HW_ICLFENABLE1R_S26FE_SETMASK 1<<HW_ICLFENABLE1R_S26FE_BITPOS
                            13643 ; 1045 |#define HW_ICLFENABLE1R_S27FE_SETMASK 1<<HW_ICLFENABLE1R_S27FE_BITPOS
                            13644 ; 1046 |#define HW_ICLFENABLE1R_S28FE_SETMASK 1<<HW_ICLFENABLE1R_S28FE_BITPOS
                            13645 ; 1047 |#define HW_ICLFENABLE1R_S29FE_SETMASK 1<<HW_ICLFENABLE1R_S29FE_BITPOS
                            13646 ; 1048 |#define HW_ICLFENABLE1R_S30FE_SETMASK 1<<HW_ICLFENABLE1R_S30FE_BITPOS
                            13647 ; 1049 |#define HW_ICLFENABLE1R_S31FE_SETMASK 1<<HW_ICLFENABLE1R_S31FE_BITPOS
                            13648 ; 1050 |#define HW_ICLFENABLE1R_S32FE_SETMASK 1<<HW_ICLFENABLE1R_S32FE_BITPOS
                            13649 ; 1051 |#define HW_ICLFENABLE1R_S33FE_SETMASK 1<<HW_ICLFENABLE1R_S33FE_BITPOS
                            13650 ; 1052 |
                            13651 ; 1053 |#define HW_ICLFENABLE1R_S24FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S24FE_SETMASK
                            13652 ; 1054 |#define HW_ICLFENABLE1R_S25FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S25FE_SETMASK
                            13653 ; 1055 |#define HW_ICLFENABLE1R_S26FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S26FE_SETMASK
                            13654 ; 1056 |#define HW_ICLFENABLE1R_S27FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S27FE_SETMASK
                            13655 ; 1057 |#define HW_ICLFENABLE1R_S28FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S28FE_SETMASK
                            13656 ; 1058 |#define HW_ICLFENABLE1R_S29FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S29FE_SETMASK
                            13657 ; 1059 |#define HW_ICLFENABLE1R_S30FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S30FE_SETMASK
                            13658 ; 1060 |#define HW_ICLFENABLE1R_S31FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S31FE_SETMASK
                            13659 ; 1061 |#define HW_ICLFENABLE1R_S32FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S32FE_SETMASK
                            13660 ; 1062 |#define HW_ICLFENABLE1R_S33FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S33FE_SETMASK
                            13661 ; 1063 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  55

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13662 ; 1064 |
                            13663 ; 1065 |/////////////////////////////////////////////////////////////////////////////////
                            13664 ; 1066 |//  Interrupt Collector Observation Register 0 Register (HW_ICLOBSVZ0R) Bit Positions
                            13665 ; 1067 |typedef union               /* Interrupt Collector Observation Register 0       */
                            13666 ; 1068 |{
                            13667 ; 1069 |    struct {
                            13668 ; 1070 |        unsigned RQ     :7;
                            13669 ; 1071 |        unsigned IVA    :7;
                            13670 ; 1072 |        unsigned IVB    :7;
                            13671 ; 1073 |    } B;
                            13672 ; 1074 |    int I;
                            13673 ; 1075 |} iclobsvz0_type;
                            13674 ; 1076 |#define HW_ICLOBSVZ0R   (*(volatile iclobsvz0_type _X*) (HW_ICOLL_BASEADDR+15)) /* Interrupt Collector Observation Register 0   */
                            13675 ; 1077 |
                            13676 ; 1078 |#define HW_ICLOBSVZ0R_RQ_BITPOS 0
                            13677 ; 1079 |#define HW_ICLOBSVZ0R_IVA_BITPOS 7
                            13678 ; 1080 |#define HW_ICLOBSVZ0R_IVB_BITPOS 14
                            13679 ; 1081 |
                            13680 ; 1082 |#define HW_ICLOBSVZ0R_RQ_SETMASK 0x3F<<HW_ICLOBSVZ0R_RQ_BITPOS
                            13681 ; 1083 |#define HW_ICLOBSVZ0R_IVA_SETMASK 0x3F<<HW_ICLOBSVZ0R_IVA_BITPOS
                            13682 ; 1084 |#define HW_ICLOBSVZ0R_IVB_SETMASK 0x3F<<HW_ICLOBSVZ0R_IVB_BITPOS
                            13683 ; 1085 |
                            13684 ; 1086 |#define HW_ICLOBSVZ0R_RQ_CLRMASK ~(WORD)HW_ICLOBSVZ0R_RQ_SETMASK
                            13685 ; 1087 |#define HW_ICLOBSVZ0R_IVA_CLRMASK ~(WORD)HW_ICLOBSVZ0R_IVA_SETMASK
                            13686 ; 1088 |#define HW_ICLOBSVZ0R_IVB_CLRMASK ~(WORD)HW_ICLOBSVZ0R_IVB_SETMASK
                            13687 ; 1089 |
                            13688 ; 1090 |
                            13689 ; 1091 |/////////////////////////////////////////////////////////////////////////////////
                            13690 ; 1092 |//  Interrupt Collector Observation Register 1 Register (HW_ICL1BSVZ0R) Bit Positions
                            13691 ; 1093 |#define HW_ICL1BSVZ0R_IVC_BITPOS 0
                            13692 ; 1094 |#define HW_ICL1BSVZ0R_IVD_BITPOS 7
                            13693 ; 1095 |
                            13694 ; 1096 |#define HW_ICL1BSVZ0R_IVC_SETMASK 0x3F<<HW_ICL1BSVZ0R_IVC_BITPOS
                            13695 ; 1097 |#define HW_ICL1BSVZ0R_IVD_SETMASK 0x3F<<HW_ICL1BSVZ0R_IVD_BITPOS
                            13696 ; 1098 |
                            13697 ; 1099 |#define HW_ICL1BSVZ0R_IVC_CLRMASK ~(WORD)HW_ICL1BSVZ0R_IVC_SETMASK
                            13698 ; 1100 |#define HW_ICL1BSVZ0R_IVD_CLRMASK ~(WORD)HW_ICL1BSVZ0R_IVD_SETMASK
                            13699 ; 1101 |
                            13700 ; 1102 |
                            13701 ; 1103 |
                            13702 ; 1104 |
                            13703 ; 1105 |/////////////////////////////////////////////////////////////////////////////////
                            13704 ; 1106 |//  Interrupt Vectors
                            13705 ; 1107 |/////////////////////////////////////////////////////////////////////////////////
                            13706 ; 1108 |// Reset Vector
                            13707 ; 1109 |#define HW_IVECRESET 0x0000           
                            13708 ; 1110 |// Stack Error
                            13709 ; 1111 |#define HW_IVECSTERR 0x0002           
                            13710 ; 1112 |// Trace
                            13711 ; 1113 |#define HW_IVECTRAC 0x0004           
                            13712 ; 1114 |// SWI
                            13713 ; 1115 |#define HW_IVECSWI 0x0006           
                            13714 ; 1116 |// ~IRQA
                            13715 ; 1117 |#define HW_IVECIRQA 0x0008           
                            13716 ; 1118 |// ~IRQB - BROWNOUT
                            13717 ; 1119 |#define HW_IVECIRQB 0x000A           
                            13718 ; 1120 |// Fatal Error
                            13719 ; 1121 |#define HW_IVECERROR 0x000C           
                            13720 ; 1122 |// SPI
                            13721 ; 1123 |#define HW_IVECSPI 0x000E           
                            13722 ; 1124 |// I2S TX Data Empty
                            13723 ; 1125 |#define HW_IVECI2STXDE 0x0010           
                            13724 ; 1126 |// I2S TX Underflow
                            13725 ; 1127 |#define HW_IVECI2STXUF 0x0012           
                            13726 ; 1128 |// I2S RX Data Full
                            13727 ; 1129 |#define HW_IVECI2SRXDF 0x0014           
                            13728 ; 1130 |// I2S RX Overflow
                            13729 ; 1131 |#define HW_IVECI2SRXOF 0x0016           
                            13730 ; 1132 |//                                       equ     $0018           ; Error, nothing vectors here
                            13731 ; 1133 |//                                       equ     $001A           ; Error, nothing vectors here
                            13732 ; 1134 |//                                       equ     $001C           ; Error, nothing vectors here
                            13733 ; 1135 |//                                       equ     $001E           ; Non-Maskable Interrupt
                            13734 ; 1136 |// GPIO1
                            13735 ; 1137 |#define HW_IVECGPIO1 0x0020           
                            13736 ; 1138 |// GPIO2
                            13737 ; 1139 |#define HW_IVECGPIO2 0x0022           
                            13738 ; 1140 |// GPIO0
                            13739 ; 1141 |#define HW_IVECGPIO0 0x0024           
                            13740 ; 1142 |// TIMER0
                            13741 ; 1143 |#define HW_IVECTIMER0 0x0026           
                            13742 ; 1144 |// TIMER1
                            13743 ; 1145 |#define HW_IVECTIMER1 0x0028           
                            13744 ; 1146 |// TIMER2
                            13745 ; 1147 |#define HW_IVECTIMER2 0x002A           
                            13746 ; 1148 |//                                       equ     $002C           ; Error, nothing vectors here
                            13747 ; 1149 |//                                       equ     $002E           ; Error, nothing vectors here
                            13748 ; 1150 |// I2C RX Data Ready
                            13749 ; 1151 |#define HW_IVECI2CRXDR 0x0030           
                            13750 ; 1152 |// I2C RX Overflow
                            13751 ; 1153 |#define HW_IVECI2CRXOF 0x0032           
                            13752 ; 1154 |// I2C TX Data Empty
                            13753 ; 1155 |#define HW_IVECI2CTXDE 0x0034           
                            13754 ; 1156 |// I2C TX Underflow
                            13755 ; 1157 |#define HW_IVECI2CTXUF 0x0036           
                            13756 ; 1158 |// Illegal Instruction
                            13757 ; 1159 |#define HW_IVECILI 0x0038           
                            13758 ; 1160 |//                                       equ     $003A           ; Error, nothing vectors here
                            13759 ; 1161 |// DAC Empty ISR (DAC Request to Fill Buffer)
                            13760 ; 1162 |#define HW_IVECDACE 0x003C           
                            13761 ; 1163 |// DAC Underflow ISR
                            13762 ; 1164 |#define HW_IVECDACUF 0x003E           
                            13763 ; 1165 |//                                       equ     $0040           ; Error, nothing vectors here
                            13764 ; 1166 |// ADC Full ISR
                            13765 ; 1167 |#define HW_IVECADCF 0x0042           
                            13766 ; 1168 |// ADC Overflow ISR
                            13767 ; 1169 |#define HW_IVECADCOF 0x0044           
                            13768 ; 1170 |//                                       equ     $0046           ; Error, nothing vectors here
                            13769 ; 1171 |// TIMER3
                            13770 ; 1172 |#define HW_IVECTIMER3 0x0048           
                            13771 ; 1173 |// GPIO3
                            13772 ; 1174 |#define HW_IVECGPIO3 0x004A           
                            13773 ; 1175 |// SDRAM
                            13774 ; 1176 |#define HW_IVECSDRAM 0x004C           
                            13775 ; 1177 |//                                       equ     $004E           ; Error, nothing vectors here
                            13776 ; 1178 |// 5 volt power connected
                            13777 ; 1179 |#define HW_IVECVDD5VCONN 0x0050           
                            13778 ; 1180 |// USB Controller
                            13779 ; 1181 |#define HW_IVECUSBCTLR 0x0052           
                            13780 ; 1182 |// USB Wakeup 
                            13781 ; 1183 |#define HW_IVECUSBWAKEUP 0x0054           
                            13782 ; 1184 |// 5 volt power disconnected
                            13783 ; 1185 |#define HW_IVECVDD5VDISC 0x0056           
                            13784 ; 1186 |// enhanced SPI
                            13785 ; 1187 |#define HW_IVECESPI 0x0058           
                            13786 ; 1188 |// filter coprocessor
                            13787 ; 1189 |#define HW_IVECFILCO 0x005A           
                            13788 ; 1190 |// low res ADC #1
                            13789 ; 1191 |#define HW_IVECLRADC1 0x005C           
                            13790 ; 1192 |// real time clock alarm
                            13791 ; 1193 |#define HW_IVECRTCALARM 0x005E           
                            13792 ; 1194 |// low res ADC #2
                            13793 ; 1195 |#define HW_IVECLRADC2 0x0060           
                            13794 ; 1196 |// flash hardware ECC
                            13795 ; 1197 |#define HW_IVECHWECC 0x0062           
                            13796 ; 1198 |//                                       equ     $0064           ; Error, nothing vectors here
                            13797 ; 1199 |// CDSYNC Interrupt
                            13798 ; 1200 |#define HW_IVECCDSYNC 0x0066           
                            13799 ; 1201 |// CDSYNC Exception
                            13800 ; 1202 |#define HW_IVECCDSYNCEX 0x0068           
                            13801 ; 1203 |// RS
                            13802 ; 1204 |#define HW_IVECRS 0x006A           
                            13803 ; 1205 |//                                       equ     $006C           ; Error, nothing vectors here
                            13804 ; 1206 |// Flash Done ISR
                            13805 ; 1207 |#define HW_IVECFD 0x006E           
                            13806 ; 1208 |// CompactFlash ISR
                            13807 ; 1209 |#define HW_IVECCF 0x0070           
                            13808 ; 1210 |// SmartMedia Timeout ISR
                            13809 ; 1211 |#define HW_IVECSMTO 0x0072           
                            13810 ; 1212 |// SmartMedia Invalid Programming
                            13811 ; 1213 |#define HW_IVECSMIP 0x0074           
                            13812 ; 1214 |// CompactFlash No Card ISR
                            13813 ; 1215 |#define HW_IVECCFNC 0x0076           
                            13814 ; 1216 |// CompactFlash Status Change ISR
                            13815 ; 1217 |#define HW_IVECCFSC 0x0078           
                            13816 ; 1218 |//                                       equ     $007A           ; Error, nothing vectors here
                            13817 ; 1219 |//                                       equ     $007C           ; Error, nothing vectors here
                            13818 ; 1220 |// CDI
                            13819 ; 1221 |#define HW_IVECCDI 0x007E           
                            13820 ; 1222 |
                            13821 ; 1223 |/////////////////////////////////////////////////////////////////////////////////
                            13822 ; 1224 |//  Interrupt Vectors
                            13823 ; 1225 |/////////////////////////////////////////////////////////////////////////////////
                            13824 ; 1226 |// macro to allow setting vectors from C. Hex const below is jsr opcode.
                            13825 ; 1227 |#define VECTOR(address,isr) \ 
                            13826 ; 1228 |    (*(volatile int _P *)(address))=0x0BF080; \ 
                            13827 ; 1229 |    (*(volatile int _P *)(address+1))=(isr)
                            13828 ; 1230 |
                            13829 ; 1231 |
                            13830 ; 1232 |/////////////////////////////////////////////////////////////////////////////////
                            13831 ; 1233 |//  Interrupt Priority Register (HW_IPR) Bit Positions
                            13832 ; 1234 |#define HW_IPR_IRQA_BITPOS 0
                            13833 ; 1235 |#define HW_IPR_IRQA_ET_BITPOS 2
                            13834 ; 1236 |#define HW_IPR_IRQB_BITPOS 3
                            13835 ; 1237 |#define HW_IPR_IRQB_ET_BITPOS 5
                            13836 ; 1238 |#define HW_IPR_L0P_BITPOS 10
                            13837 ; 1239 |#define HW_IPR_L1P_BITPOS 12
                            13838 ; 1240 |#define HW_IPR_L2P_BITPOS 14
                            13839 ; 1241 |#define HW_IPR_L3P_BITPOS 16
                            13840 ; 1242 |#define HW_IPR_L4P_BITPOS 18
                            13841 ; 1243 |#define HW_IPR_L5P_BITPOS 20
                            13842 ; 1244 |#define HW_IPR_L6P_BITPOS 22
                            13843 ; 1245 |
                            13844 ; 1246 |// Interrupt Disabled
                            13845 ; 1247 |#define HW_IPR_LP_0_SETMASK 0   
                            13846 ; 1248 |// Interrupt Priority Level 0
                            13847 ; 1249 |#define HW_IPR_LP_1_SETMASK 1   
                            13848 ; 1250 |// Interrupt Priority Level 1
                            13849 ; 1251 |#define HW_IPR_LP_2_SETMASK 2   
                            13850 ; 1252 |// Interrupt Priority Level 2
                            13851 ; 1253 |#define HW_IPR_LP_3_SETMASK 3   
                            13852 ; 1254 |
                            13853 ; 1255 |#define HW_IPR_IRQA_SETMASK 3<<HW_IPR_IRQA_BITPOS
                            13854 ; 1256 |#define HW_IPR_IRQA_ET_SETMASK 1<<HW_IPR_IRQA_ET_BITPOS
                            13855 ; 1257 |#define HW_IPR_IRQB_SETMASK 3<<HW_IPR_IRQB_BITPOS
                            13856 ; 1258 |#define HW_IPR_IRQB_ET_SETMASK 1<<HW_IPR_IRQB_ET_BITPOS
                            13857 ; 1259 |#define HW_IPR_L0P_SETMASK 3<<HW_IPR_L0P_BITPOS
                            13858 ; 1260 |#define HW_IPR_L1P_SETMASK 3<<HW_IPR_L1P_BITPOS
                            13859 ; 1261 |#define HW_IPR_L2P_SETMASK 3<<HW_IPR_L2P_BITPOS
                            13860 ; 1262 |#define HW_IPR_L3P_SETMASK 3<<HW_IPR_L3P_BITPOS
                            13861 ; 1263 |#define HW_IPR_L4P_SETMASK 3<<HW_IPR_L4P_BITPOS
                            13862 ; 1264 |#define HW_IPR_L5P_SETMASK 3<<HW_IPR_L5P_BITPOS
                            13863 ; 1265 |#define HW_IPR_L6P_SETMASK 3<<HW_IPR_L6P_BITPOS
                            13864 ; 1266 |
                            13865 ; 1267 |#define HW_IPR_IRQA_CLRMASK ~(WORD)HW_IPR_IRQA_SETMASK
                            13866 ; 1268 |#define HW_IPR_IRQA_ET_CLRMASK ~(WORD)HW_IPR_IRQA_ET_SETMASK
                            13867 ; 1269 |#define HW_IPR_IRQB_CLRMASK ~(WORD)HW_IPR_IRQB_SETMASK
                            13868 ; 1270 |#define HW_IPR_IRQB_ET_CLRMASK ~(WORD)HW_IPR_IRQB_ET_SETMASK
                            13869 ; 1271 |#define HW_IPR_L0P_CLRMASK ~(WORD)HW_IPR_L0P_SETMASK
                            13870 ; 1272 |#define HW_IPR_L1P_CLRMASK ~(WORD)HW_IPR_L1P_SETMASK
                            13871 ; 1273 |#define HW_IPR_L2P_CLRMASK ~(WORD)HW_IPR_L2P_SETMASK
                            13872 ; 1274 |#define HW_IPR_L3P_CLRMASK ~(WORD)HW_IPR_L3P_SETMASK
                            13873 ; 1275 |#define HW_IPR_L4P_CLRMASK ~(WORD)HW_IPR_L4P_SETMASK
                            13874 ; 1276 |#define HW_IPR_L5P_CLRMASK ~(WORD)HW_IPR_L5P_SETMASK
                            13875 ; 1277 |#define HW_IPR_L6P_CLRMASK ~(WORD)HW_IPR_L6P_SETMASK
                            13876 ; 1278 |
                            13877 ; 1279 |// Interrupt Priority register
                            13878 ; 1280 |typedef union               
                            13879 ; 1281 |{
                            13880 ; 1282 |    struct {
                            13881 ; 1283 |        unsigned int IRQAP  :2; /* IRQ A Priority: 00 disable, 01 10 11 enable  */
                            13882 ; 1284 |        unsigned int IRQAT  :1; /* IRQ A Type: 0 level, 1 negative edge         */
                            13883 ; 1285 |        unsigned int IRQBP  :2; /* IRQ B Priority: 00 disable, 01 10 11 enable  */
                            13884 ; 1286 |        unsigned int IRQBT  :1; /* IRQ B Type: 0 level, 1 negative edge.        */
                            13885 ; 1287 |        int                 :4; /* Reserved */
                            13886 ; 1288 |        unsigned int L0P    :2; /* Interrupt Priority for priority 0 (SAI)      */
                            13887 ; 1289 |        unsigned int L1P    :2; /* Interrupt Priority for priority 1 (IColl)    */
                            13888 ; 1290 |        unsigned int L2P    :2; /* Interrupt Priority for priority 2 (IColl)    */
                            13889 ; 1291 |        unsigned int L3P    :2; /* Interrupt Priority for priority 3 (IColl)    */
                            13890 ; 1292 |        unsigned int L4P    :2; /* Interrupt Priority for priority 4 (I2C)      */
                            13891 ; 1293 |        unsigned int L5P    :2; /* Interrupt Priority for priority 5 (SPI)      */
                            13892 ; 1294 |        unsigned int L6P    :2; /* Interrupt Priority for priority 6 (IColl)    */
                            13893 ; 1295 |    } B;
                            13894 ; 1296 |
                            13895 ; 1297 |    int I;
                            13896 ; 1298 |
                            13897 ; 1299 |} ipr_type;
                            13898 ; 1300 |#define HW_IPR         (*(volatile ipr_type _X*) 0x00FFFF)
                            13899 ; 1301 |
                            13900 ; 1302 |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *******************************
                            13901 ; 1303 |// The following defines were added to match regs3410.inc definition to build SDK2XXX code without needing 
                            13902 ; 1304 |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                            13903 ; 1305 |
                            13904 ; 1306 |#define HW_IPR_L1P0_BITPOS 12
                            13905 ; 1307 |#define HW_IPR_L2P0_BITPOS 14
                            13906 ; 1308 |#define HW_IPR_L3P0_BITPOS 16
                            13907 ; 1309 |#define HW_IPR_L6P0_BITPOS 22
                            13908 ; 1310 |
                            13909 ; 1311 |/////////////////////////////////////////////////////////////////////////////////
                            13910 ; 1312 |//  Interrupt Collector Steering 0 Register (HW_ICLSTEER0R) Bit Positions
                            13911 ; 1313 |#define HW_ICLSTEERR_SS_1 0
                            13912 ; 1314 |#define HW_ICLSTEERR_SS_2 1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  56

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13913 ; 1315 |#define HW_ICLSTEERR_SS_3 2
                            13914 ; 1316 |#define HW_ICLSTEERR_SS_6 3
                            13915 ; 1317 |
                            13916 ; 1318 |#endif
                            13917 ; 1319 |
                            13918 
                            13920 
                            13921 ; 26   |#include "regslradc.h"
                            13922 
                            13924 
                            13925 ; 1    |#if !(defined(regslradcinc))
                            13926 ; 2    |
                            13927 ; 3    |#define regslradcinc 1
                            13928 ; 4    |
                            13929 ; 5    |#include "types.h"
                            13930 
                            13932 
                            13933 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            13934 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            13935 ; 3    |//
                            13936 ; 4    |// Filename: types.h
                            13937 ; 5    |// Description: Standard data types
                            13938 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            13939 ; 7    |
                            13940 ; 8    |#ifndef _TYPES_H
                            13941 ; 9    |#define _TYPES_H
                            13942 ; 10   |
                            13943 ; 11   |// TODO:  move this outta here!
                            13944 ; 12   |#if !defined(NOERROR)
                            13945 ; 13   |#define NOERROR 0
                            13946 ; 14   |#define SUCCESS 0
                            13947 ; 15   |#endif 
                            13948 ; 16   |#if !defined(SUCCESS)
                            13949 ; 17   |#define SUCCESS  0
                            13950 ; 18   |#endif
                            13951 ; 19   |#if !defined(ERROR)
                            13952 ; 20   |#define ERROR   -1
                            13953 ; 21   |#endif
                            13954 ; 22   |#if !defined(FALSE)
                            13955 ; 23   |#define FALSE 0
                            13956 ; 24   |#endif
                            13957 ; 25   |#if !defined(TRUE)
                            13958 ; 26   |#define TRUE  1
                            13959 ; 27   |#endif
                            13960 ; 28   |
                            13961 ; 29   |#if !defined(NULL)
                            13962 ; 30   |#define NULL 0
                            13963 ; 31   |#endif
                            13964 ; 32   |
                            13965 ; 33   |#define MAX_INT     0x7FFFFF
                            13966 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            13967 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            13968 ; 36   |#define MAX_ULONG   (-1) 
                            13969 ; 37   |
                            13970 ; 38   |#define WORD_SIZE   24              // word size in bits
                            13971 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            13972 ; 40   |
                            13973 ; 41   |
                            13974 ; 42   |#define BYTE    unsigned char       // btVarName
                            13975 ; 43   |#define CHAR    signed char         // cVarName
                            13976 ; 44   |#define USHORT  unsigned short      // usVarName
                            13977 ; 45   |#define SHORT   unsigned short      // sVarName
                            13978 ; 46   |#define WORD    unsigned int        // wVarName
                            13979 ; 47   |#define INT     signed int          // iVarName
                            13980 ; 48   |#define DWORD   unsigned long       // dwVarName
                            13981 ; 49   |#define LONG    signed long         // lVarName
                            13982 ; 50   |#define BOOL    unsigned int        // bVarName
                            13983 ; 51   |#define FRACT   _fract              // frVarName
                            13984 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            13985 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            13986 ; 54   |#define FLOAT   float               // fVarName
                            13987 ; 55   |#define DBL     double              // dVarName
                            13988 ; 56   |#define ENUM    enum                // eVarName
                            13989 ; 57   |#define CMX     _complex            // cmxVarName
                            13990 ; 58   |typedef WORD UCS3;                   // 
                            13991 ; 59   |
                            13992 ; 60   |#define UINT16  unsigned short
                            13993 ; 61   |#define UINT8   unsigned char   
                            13994 ; 62   |#define UINT32  unsigned long
                            13995 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            13996 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            13997 ; 65   |#define WCHAR   UINT16
                            13998 ; 66   |
                            13999 ; 67   |//UINT128 is 16 bytes or 6 words
                            14000 ; 68   |typedef struct UINT128_3500 {   
                            14001 ; 69   |    int val[6];     
                            14002 ; 70   |} UINT128_3500;
                            14003 ; 71   |
                            14004 ; 72   |#define UINT128   UINT128_3500
                            14005 ; 73   |
                            14006 ; 74   |// Little endian word packed byte strings:   
                            14007 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            14008 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            14009 ; 77   |// Little endian word packed byte strings:   
                            14010 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            14011 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            14012 ; 80   |
                            14013 ; 81   |// Declare Memory Spaces To Use When Coding
                            14014 ; 82   |// A. Sector Buffers
                            14015 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            14016 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            14017 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            14018 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            14019 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            14020 ; 88   |// B. Media DDI Memory
                            14021 ; 89   |#define MEDIA_DDI_MEM _Y
                            14022 ; 90   |
                            14023 ; 91   |
                            14024 ; 92   |
                            14025 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            14026 ; 94   |// Examples of circular pointers:
                            14027 ; 95   |//    INT CIRC cpiVarName
                            14028 ; 96   |//    DWORD CIRC cpdwVarName
                            14029 ; 97   |
                            14030 ; 98   |#define RETCODE INT                 // rcVarName
                            14031 ; 99   |
                            14032 ; 100  |// generic bitfield structure
                            14033 ; 101  |struct Bitfield {
                            14034 ; 102  |    unsigned int B0  :1;
                            14035 ; 103  |    unsigned int B1  :1;
                            14036 ; 104  |    unsigned int B2  :1;
                            14037 ; 105  |    unsigned int B3  :1;
                            14038 ; 106  |    unsigned int B4  :1;
                            14039 ; 107  |    unsigned int B5  :1;
                            14040 ; 108  |    unsigned int B6  :1;
                            14041 ; 109  |    unsigned int B7  :1;
                            14042 ; 110  |    unsigned int B8  :1;
                            14043 ; 111  |    unsigned int B9  :1;
                            14044 ; 112  |    unsigned int B10 :1;
                            14045 ; 113  |    unsigned int B11 :1;
                            14046 ; 114  |    unsigned int B12 :1;
                            14047 ; 115  |    unsigned int B13 :1;
                            14048 ; 116  |    unsigned int B14 :1;
                            14049 ; 117  |    unsigned int B15 :1;
                            14050 ; 118  |    unsigned int B16 :1;
                            14051 ; 119  |    unsigned int B17 :1;
                            14052 ; 120  |    unsigned int B18 :1;
                            14053 ; 121  |    unsigned int B19 :1;
                            14054 ; 122  |    unsigned int B20 :1;
                            14055 ; 123  |    unsigned int B21 :1;
                            14056 ; 124  |    unsigned int B22 :1;
                            14057 ; 125  |    unsigned int B23 :1;
                            14058 ; 126  |};
                            14059 ; 127  |
                            14060 ; 128  |union BitInt {
                            14061 ; 129  |        struct Bitfield B;
                            14062 ; 130  |        int        I;
                            14063 ; 131  |};
                            14064 ; 132  |
                            14065 ; 133  |#define MAX_MSG_LENGTH 10
                            14066 ; 134  |struct CMessage
                            14067 ; 135  |{
                            14068 ; 136  |        unsigned int m_uLength;
                            14069 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            14070 ; 138  |};
                            14071 ; 139  |
                            14072 ; 140  |typedef struct {
                            14073 ; 141  |    WORD m_wLength;
                            14074 ; 142  |    WORD m_wMessage;
                            14075 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            14076 ; 144  |} Message;
                            14077 ; 145  |
                            14078 ; 146  |struct MessageQueueDescriptor
                            14079 ; 147  |{
                            14080 ; 148  |        int *m_pBase;
                            14081 ; 149  |        int m_iModulo;
                            14082 ; 150  |        int m_iSize;
                            14083 ; 151  |        int *m_pHead;
                            14084 ; 152  |        int *m_pTail;
                            14085 ; 153  |};
                            14086 ; 154  |
                            14087 ; 155  |struct ModuleEntry
                            14088 ; 156  |{
                            14089 ; 157  |    int m_iSignaledEventMask;
                            14090 ; 158  |    int m_iWaitEventMask;
                            14091 ; 159  |    int m_iResourceOfCode;
                            14092 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            14093 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            14094 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            14095 ; 163  |    int m_uTimeOutHigh;
                            14096 ; 164  |    int m_uTimeOutLow;
                            14097 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            14098 ; 166  |};
                            14099 ; 167  |
                            14100 ; 168  |union WaitMask{
                            14101 ; 169  |    struct B{
                            14102 ; 170  |        unsigned int m_bNone     :1;
                            14103 ; 171  |        unsigned int m_bMessage  :1;
                            14104 ; 172  |        unsigned int m_bTimer    :1;
                            14105 ; 173  |        unsigned int m_bButton   :1;
                            14106 ; 174  |    } B;
                            14107 ; 175  |    int I;
                            14108 ; 176  |} ;
                            14109 ; 177  |
                            14110 ; 178  |
                            14111 ; 179  |struct Button {
                            14112 ; 180  |        WORD wButtonEvent;
                            14113 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            14114 ; 182  |};
                            14115 ; 183  |
                            14116 ; 184  |struct Message {
                            14117 ; 185  |        WORD wMsgLength;
                            14118 ; 186  |        WORD wMsgCommand;
                            14119 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            14120 ; 188  |};
                            14121 ; 189  |
                            14122 ; 190  |union EventTypes {
                            14123 ; 191  |        struct CMessage msg;
                            14124 ; 192  |        struct Button Button ;
                            14125 ; 193  |        struct Message Message;
                            14126 ; 194  |};
                            14127 ; 195  |
                            14128 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            14129 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            14130 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            14131 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            14132 ; 200  |
                            14133 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            14134 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            14135 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            14136 ; 204  |
                            14137 ; 205  |#if DEBUG
                            14138 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            14139 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            14140 ; 208  |#else 
                            14141 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            14142 ; 210  |#define DebugBuildAssert(x)    
                            14143 ; 211  |#endif
                            14144 ; 212  |
                            14145 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            14146 ; 214  |//  #pragma asm
                            14147 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            14148 ; 216  |//  #pragma endasm
                            14149 ; 217  |
                            14150 ; 218  |
                            14151 ; 219  |#ifdef COLOR_262K
                            14152 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            14153 ; 221  |#elif defined(COLOR_65K)
                            14154 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            14155 ; 223  |#else
                            14156 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            14157 ; 225  |#endif
                            14158 ; 226  |    
                            14159 ; 227  |#endif // #ifndef _TYPES_H
                            14160 
                            14162 
                            14163 ; 6    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            14164 ; 7    |
                            14165 ; 8    |//   SYSTEM STMP Registers 
                            14166 ; 9    |//  Last Edited 6.26.2003 M. Henson
                            14167 ; 10   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  57

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14168 ; 11   |
                            14169 ; 12   |#define HW_LRADC_BASEADDR (0xFA20)
                            14170 ; 13   |
                            14171 ; 14   |
                            14172 ; 15   |
                            14173 ; 16   |/////////////////////////////////////////////////////////////////////////////////
                            14174 ; 17   |//  Battery LRADC Control Register (HW_BATT_CTRL) Bit Definitions
                            14175 ; 18   |#define HW_BATT_CTRL_INPUT_OFFSET_WIDTH (7)
                            14176 ; 19   |#define HW_BATT_CTRL_RSVD0_WIDTH (1)
                            14177 ; 20   |#define HW_BATT_CTRL_HALF_CMP_PWR_WIDTH (1)
                            14178 ; 21   |#define HW_BATT_CTRL_INPUT_DIV2_WIDTH (1)
                            14179 ; 22   |#define HW_BATT_CTRL_CLEAR_WIDTH (1)
                            14180 ; 23   |#define HW_BATT_CTRL_PWD_WIDTH (1)
                            14181 ; 24   |#define HW_BATT_CTRL_CLK_DIV_WIDTH (2)
                            14182 ; 25   |#define HW_BATT_CTRL_RSVD1_WIDTH (2)
                            14183 ; 26   |#define HW_BATT_CTRL_REF_VAL_WIDTH (2)
                            14184 ; 27   |#define HW_BATT_CTRL_RSVD2_WIDTH (2)
                            14185 ; 28   |#define HW_BATT_CTRL_IRQ_EN_EVENT0_WIDTH (1)
                            14186 ; 29   |#define HW_BATT_CTRL_IRQ_EN_EVENT1_WIDTH (1)
                            14187 ; 30   |#define HW_BATT_CTRL_POLARITY_EVENT0_WIDTH (1)
                            14188 ; 31   |#define HW_BATT_CTRL_POLARITY_EVENT1_WIDTH (1)
                            14189 ; 32   |
                            14190 ; 33   |#define HW_BATT_CTRL_INPUT_OFFSET_BITPOS (0)
                            14191 ; 34   |#define HW_BATT_CTRL_HALF_CMP_PWR_BITPOS (8)
                            14192 ; 35   |#define HW_BATT_CTRL_INPUT_DIV2_BITPOS (9)
                            14193 ; 36   |#define HW_BATT_CTRL_CLEAR_BITPOS (10)
                            14194 ; 37   |#define HW_BATT_CTRL_PWD_BITPOS (11)
                            14195 ; 38   |#define HW_BATT_CTRL_CLK_DIV_BITPOS (12)
                            14196 ; 39   |#define HW_BATT_CTRL_REF_VAL_BITPOS (16)
                            14197 ; 40   |
                            14198 ; 41   |#define HW_BATT_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_BATT_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_BATT_CTRL_INPUT_OFFSET_BITPOS)        
                            14199 ; 42   |#define HW_BATT_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_BATT_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_BATT_CTRL_HALF_CMP_PWR_BITPOS)        
                            14200 ; 43   |#define HW_BATT_CTRL_INPUT_DIV2_SETMASK (((1<<HW_BATT_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_BATT_CTRL_INPUT_DIV2_BITPOS) 
                            14201 ; 44   |#define HW_BATT_CTRL_CLEAR_SETMASK (((1<<HW_BATT_CTRL_CLEAR_WIDTH)-1)<<HW_BATT_CTRL_CLEAR_BITPOS) 
                            14202 ; 45   |#define HW_BATT_CTRL_PWD_SETMASK (((1<<HW_BATT_CTRL_PWD_WIDTH)-1)<<HW_BATT_CTRL_PWD_BITPOS) 
                            14203 ; 46   |#define HW_BATT_CTRL_CLK_DIV_SETMASK (((1<<HW_BATT_CTRL_CLK_DIV_WIDTH)-1)<<HW_BATT_CTRL_CLK_DIV_BITPOS)        
                            14204 ; 47   |#define HW_BATT_CTRL_REF_VAL_SETMASK (((1<<HW_BATT_CTRL_REF_VAL_WIDTH)-1)<<HW_BATT_CTRL_REF_VAL_BITPOS)        
                            14205 ; 48   |
                            14206 ; 49   |#define HW_BATT_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_OFFSET_SETMASK)     
                            14207 ; 50   |#define HW_BATT_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_BATT_CTRL_HALF_CMP_PWR_SETMASK)     
                            14208 ; 51   |#define HW_BATT_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_DIV2_SETMASK) 
                            14209 ; 52   |#define HW_BATT_CTRL_CLEAR_CLRMASK (~(WORD)HW_BATT_CTRL_CLEAR_SETMASK) 
                            14210 ; 53   |#define HW_BATT_CTRL_PWD_CLRMASK (~(WORD)HW_BATT_CTRL_PWD_SETMASK) 
                            14211 ; 54   |#define HW_BATT_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_BATT_CTRL_CLK_DIV_SETMASK)     
                            14212 ; 55   |#define HW_BATT_CTRL_REF_VAL_CLRMASK (~(WORD)HW_BATT_CTRL_REF_VAL_SETMASK)
                            14213 ; 56   |
                            14214 ; 57   |typedef union               
                            14215 ; 58   |{
                            14216 ; 59   |    struct {
                            14217 ; 60   |        unsigned int INPUT_OFFSET                 : HW_BATT_CTRL_INPUT_OFFSET_WIDTH;
                            14218 ; 61   |        unsigned int RSVD0                        : HW_BATT_CTRL_RSVD0_WIDTH;
                            14219 ; 62   |        unsigned int HALF_CMP_PWR                 : HW_BATT_CTRL_HALF_CMP_PWR_WIDTH;
                            14220 ; 63   |        unsigned int INPUT_DIV2                   : HW_BATT_CTRL_INPUT_DIV2_WIDTH;
                            14221 ; 64   |        unsigned int CLEAR                        : HW_BATT_CTRL_CLEAR_WIDTH;
                            14222 ; 65   |        unsigned int PWD                          : HW_BATT_CTRL_PWD_WIDTH;
                            14223 ; 66   |        unsigned int CLK_DIV                      : HW_BATT_CTRL_CLK_DIV_WIDTH;
                            14224 ; 67   |        unsigned int RSVD1                        : HW_BATT_CTRL_RSVD1_WIDTH;
                            14225 ; 68   |        unsigned int REF_VAL                      : HW_BATT_CTRL_REF_VAL_WIDTH;
                            14226 ; 69   |        unsigned int RSVD2                        : HW_BATT_CTRL_RSVD2_WIDTH;
                            14227 ; 70   |                 unsigned int IRQ_EN_EVENT0                               : HW_BATT_CTRL_IRQ_EN_EVENT0_WIDTH;
                            14228 ; 71   |                 unsigned int IRQ_EN_EVENT1                               : HW_BATT_CTRL_IRQ_EN_EVENT1_WIDTH;
                            14229 ; 72   |             unsigned int POLARITY_EVENT0              : HW_BATT_CTRL_POLARITY_EVENT0_WIDTH;
                            14230 ; 73   |                 unsigned int POLARITY_EVENT1              : HW_BATT_CTRL_POLARITY_EVENT1_WIDTH;
                            14231 ; 74   |    } B;
                            14232 ; 75   |   unsigned int I;
                            14233 ; 76   |        unsigned int U;
                            14234 ; 77   |} lradc_ctrl_type;
                            14235 ; 78   |#define HW_BATT_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR))    /* Battery LRADC Control Register */
                            14236 ; 79   |
                            14237 ; 80   |
                            14238 ; 81   |/////////////////////////////////////////////////////////////////////////////////
                            14239 ; 82   |//  Battery LRADC Threshold Register (HW_BATT_THRSH) Bit Definitions
                            14240 ; 83   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH (9)
                            14241 ; 84   |#define HW_BATT_THRSH_RSVD0_WIDTH (3)
                            14242 ; 85   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH (9)
                            14243 ; 86   |#define HW_BATT_THRSH_RSVD1_WIDTH (3)
                            14244 ; 87   |
                            14245 ; 88   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS (0)
                            14246 ; 89   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS (12)
                            14247 ; 90   |
                            14248 ; 91   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH)-1)<<HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS)        
                            14249 ; 92   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH)-1)<<HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS)        
                            14250 ; 93   |
                            14251 ; 94   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT0_SETMASK)     
                            14252 ; 95   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT1_SETMASK)     
                            14253 ; 96   |
                            14254 ; 97   |
                            14255 ; 98   |typedef union               
                            14256 ; 99   |{
                            14257 ; 100  |    struct {
                            14258 ; 101  |        unsigned int THRESHOLD_EVENT0   : HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH;
                            14259 ; 102  |        unsigned int RSVD0                  : HW_BATT_THRSH_RSVD0_WIDTH;
                            14260 ; 103  |        unsigned int THRESHOLD_EVENT1   : HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH;
                            14261 ; 104  |        unsigned int RSVD1              : HW_BATT_THRSH_RSVD1_WIDTH;
                            14262 ; 105  |    } B;
                            14263 ; 106  |    unsigned int I;
                            14264 ; 107  |} lradc_thrsh_type;
                            14265 ; 108  |#define HW_BATT_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+1))    /* Battery LRADC Threshold Register */
                            14266 ; 109  |
                            14267 ; 110  |
                            14268 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            14269 ; 112  |//  Battery LRADC Result Register (HW_BATT_RESULT) Bit Definitions
                            14270 ; 113  |#define HW_BATT_RESULT_EQ_EVENT1_WIDTH (1)
                            14271 ; 114  |#define HW_BATT_RESULT_EQ_EVENT0_WIDTH (1)
                            14272 ; 115  |#define HW_BATT_RESULT_GT_EVENT1_WIDTH (1)
                            14273 ; 116  |#define HW_BATT_RESULT_GT_EVENT0_WIDTH (1)
                            14274 ; 117  |#define HW_BATT_RESULT_LT_EVENT1_WIDTH (1)
                            14275 ; 118  |#define HW_BATT_RESULT_LT_EVENT0_WIDTH (1)
                            14276 ; 119  |#define HW_BATT_RESULT_RSVD0_WIDTH (2)
                            14277 ; 120  |#define HW_BATT_RESULT_DATA_OUT_WIDTH (9)
                            14278 ; 121  |#define HW_BATT_RESULT_RSVD1_WIDTH (3)
                            14279 ; 122  |#define HW_BATT_RESULT_IRQ_EVENT0_WIDTH (1)
                            14280 ; 123  |#define HW_BATT_RESULT_IRQ_EVENT1_WIDTH (1)
                            14281 ; 124  |#define HW_BATT_RESULT_RSVD2_WIDTH (2)
                            14282 ; 125  |
                            14283 ; 126  |#define HW_BATT_RESULT_EQ_EVENT1_BITPOS (0)
                            14284 ; 127  |#define HW_BATT_RESULT_EQ_EVENT0_BITPOS (1)
                            14285 ; 128  |#define HW_BATT_RESULT_GT_EVENT1_BITPOS (2)
                            14286 ; 129  |#define HW_BATT_RESULT_GT_EVENT0_BITPOS (3)
                            14287 ; 130  |#define HW_BATT_RESULT_LT_EVENT1_BITPOS (4)
                            14288 ; 131  |#define HW_BATT_RESULT_LT_EVENT0_BITPOS (5)
                            14289 ; 132  |#define HW_BATT_RESULT_RSVD0_BITPOS (6)
                            14290 ; 133  |#define HW_BATT_RESULT_DATA_OUT_BITPOS (8)
                            14291 ; 134  |#define HW_BATT_RESULT_RSVD1_BITPOS (17)
                            14292 ; 135  |#define HW_BATT_RESULT_IRQ_EVENT0_BITPOS (20)
                            14293 ; 136  |#define HW_BATT_RESULT_IRQ_EVENT1_BITPOS (21)
                            14294 ; 137  |#define HW_BATT_RESULT_RSVD2_BITPOS (22)
                            14295 ; 138  |
                            14296 ; 139  |
                            14297 ; 140  |
                            14298 ; 141  |#define HW_BATT_RESULT_EQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_EQ_EVENT1_BITPOS)
                            14299 ; 142  |#define HW_BATT_RESULT_EQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_EQ_EVENT0_BITPOS)
                            14300 ; 143  |#define HW_BATT_RESULT_GT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_GT_EVENT1_BITPOS)
                            14301 ; 144  |#define HW_BATT_RESULT_GT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_GT_EVENT0_BITPOS)
                            14302 ; 145  |#define HW_BATT_RESULT_LT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_LT_EVENT1_BITPOS)
                            14303 ; 146  |#define HW_BATT_RESULT_LT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_LT_EVENT0_BITPOS)
                            14304 ; 147  |#define HW_BATT_RESULT_RSVD0_SETMASK (((1<<HW_BATT_RESULT_RSVD0_WIDTH)-1)<<HW_BATT_RESULT_RSVD0_BITPOS)
                            14305 ; 148  |#define HW_BATT_RESULT_DATA_OUT_SETMASK (((1<<HW_BATT_RESULT_DATA_OUT_WIDTH)-1)<<HW_BATT_RESULT_DATA_OUT_BITPOS)
                            14306 ; 149  |#define HW_BATT_RESULT_RSVD1_SETMASK (((1<<HW_BATT_RESULT_RSVD1_WIDTH)-1)<<HW_BATT_RESULT_RSVD1_BITPOS)
                            14307 ; 150  |#define HW_BATT_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_IRQ_EVENT0_BITPOS)
                            14308 ; 151  |#define HW_BATT_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_IRQ_EVENT1_BITPOS)
                            14309 ; 152  |#define HW_BATT_RESULT_RSVD2_SETMASK (((1<<HW_BATT_RESULT_RSVD2_WIDTH)-1)<<HW_BATT_RESULT_RSVD2_BITPOS)
                            14310 ; 153  |
                            14311 ; 154  |
                            14312 ; 155  |#define HW_BATT_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT1_SETMASK)
                            14313 ; 156  |#define HW_BATT_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT0_SETMASK)
                            14314 ; 157  |#define HW_BATT_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT1_SETMASK)
                            14315 ; 158  |#define HW_BATT_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT0_SETMASK)
                            14316 ; 159  |#define HW_BATT_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT1_SETMASK)
                            14317 ; 160  |#define HW_BATT_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT0_SETMASK)
                            14318 ; 161  |#define HW_BATT_RESULT_RSVD0_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD0_SETMASK)
                            14319 ; 162  |#define HW_BATT_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_BATT_RESULT_DATA_OUT_SETMASK)
                            14320 ; 163  |#define HW_BATT_RESULT_RSVD1_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD1_SETMASK)
                            14321 ; 164  |#define HW_BATT_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT0_SETMASK)
                            14322 ; 165  |#define HW_BATT_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT1_SETMASK)
                            14323 ; 166  |#define HW_BATT_RESULT_RSVD2_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD2_SETMASK)
                            14324 ; 167  |
                            14325 ; 168  |typedef union               
                            14326 ; 169  |{
                            14327 ; 170  |    struct {
                            14328 ; 171  |        unsigned int EQ_EVENT1                  : HW_BATT_RESULT_EQ_EVENT1_WIDTH;
                            14329 ; 172  |        unsigned int EQ_EVENT0                  : HW_BATT_RESULT_EQ_EVENT0_WIDTH;
                            14330 ; 173  |        unsigned int GT_EVENT1                  : HW_BATT_RESULT_GT_EVENT1_WIDTH;
                            14331 ; 174  |        unsigned int GT_EVENT0                  : HW_BATT_RESULT_GT_EVENT0_WIDTH;
                            14332 ; 175  |        unsigned int LT_EVENT1                  : HW_BATT_RESULT_LT_EVENT1_WIDTH;
                            14333 ; 176  |        unsigned int LT_EVENT0                  : HW_BATT_RESULT_LT_EVENT0_WIDTH;
                            14334 ; 177  |        unsigned int RSVD0                     : HW_BATT_RESULT_RSVD0_WIDTH;
                            14335 ; 178  |        unsigned int DATA_OUT                  : HW_BATT_RESULT_DATA_OUT_WIDTH;
                            14336 ; 179  |        unsigned int RSVD1                     : HW_BATT_RESULT_RSVD1_WIDTH;
                            14337 ; 180  |                 unsigned int IRQ_EVENT0                                : HW_BATT_RESULT_IRQ_EVENT0_WIDTH;
                            14338 ; 181  |                 unsigned int IRQ_EVENT1                                : HW_BATT_RESULT_IRQ_EVENT1_WIDTH;                      
                            14339 ; 182  |                 unsigned int RSVD2                                         : HW_BATT_RESULT_RSVD2_WIDTH;
                            14340 ; 183  |    } B;
                            14341 ; 184  |    unsigned int I;
                            14342 ; 185  |} lradc_result_type;
                            14343 ; 186  |#define HW_BATT_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+2))    /* Battery LRADC Result Register */
                            14344 ; 187  |
                            14345 ; 188  |
                            14346 ; 189  |
                            14347 ; 190  |/////////////////////////////////////////////////////////////////////////////////
                            14348 ; 191  |//  LRADC1 Control Register (HW_LRADC1_CTRL) Bit Definitions
                            14349 ; 192  |#define HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH (7)
                            14350 ; 193  |#define HW_LRADC1_CTRL_RSVD0_WIDTH (1)
                            14351 ; 194  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH (1)
                            14352 ; 195  |#define HW_LRADC1_CTRL_INPUT_DIV2_WIDTH (1)
                            14353 ; 196  |#define HW_LRADC1_CTRL_CLEAR_WIDTH (1)
                            14354 ; 197  |#define HW_LRADC1_CTRL_PWD_WIDTH (1)
                            14355 ; 198  |#define HW_LRADC1_CTRL_CLK_DIV_WIDTH (2)
                            14356 ; 199  |#define HW_LRADC1_CTRL_RSVD1_WIDTH (2)
                            14357 ; 200  |#define HW_LRADC1_CTRL_REF_VAL_WIDTH (2)
                            14358 ; 201  |#define HW_LRADC1_CTRL_RSVD2_WIDTH (6)
                            14359 ; 202  |
                            14360 ; 203  |#define HW_LRADC1_CTRL_INPUT_OFFSET_BITPOS (0)
                            14361 ; 204  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_BITPOS (8)
                            14362 ; 205  |#define HW_LRADC1_CTRL_INPUT_DIV2_BITPOS (9)
                            14363 ; 206  |#define HW_LRADC1_CTRL_CLEAR_BITPOS (10)
                            14364 ; 207  |#define HW_LRADC1_CTRL_PWD_BITPOS (11)
                            14365 ; 208  |#define HW_LRADC1_CTRL_CLK_DIV_BITPOS (12)
                            14366 ; 209  |#define HW_LRADC1_CTRL_REF_VAL_BITPOS (16)
                            14367 ; 210  |
                            14368 ; 211  |#define HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_LRADC1_CTRL_INPUT_OFFSET_BITPOS)        
                            14369 ; 212  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_LRADC1_CTRL_HALF_CMP_PWR_BITPOS)        
                            14370 ; 213  |#define HW_LRADC1_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_LRADC1_CTRL_INPUT_DIV2_BITPOS) 
                            14371 ; 214  |#define HW_LRADC1_CTRL_CLEAR_SETMASK (((1<<HW_LRADC1_CTRL_CLEAR_WIDTH)-1)<<HW_LRADC1_CTRL_CLEAR_BITPOS) 
                            14372 ; 215  |#define HW_LRADC1_CTRL_PWD_SETMASK (((1<<HW_LRADC1_CTRL_PWD_WIDTH)-1)<<HW_LRADC1_CTRL_PWD_BITPOS) 
                            14373 ; 216  |#define HW_LRADC1_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC1_CTRL_CLK_DIV_WIDTH)-1)<<HW_LRADC1_CTRL_CLK_DIV_BITPOS)        
                            14374 ; 217  |#define HW_LRADC1_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC1_CTRL_REF_VAL_WIDTH)-1)<<HW_LRADC1_CTRL_REF_VAL_BITPOS)        
                            14375 ; 218  |
                            14376 ; 219  |#define HW_LRADC1_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK)     
                            14377 ; 220  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK)     
                            14378 ; 221  |#define HW_LRADC1_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_DIV2_SETMASK) 
                            14379 ; 222  |#define HW_LRADC1_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLEAR_SETMASK) 
                            14380 ; 223  |#define HW_LRADC1_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC1_CTRL_PWD_SETMASK) 
                            14381 ; 224  |#define HW_LRADC1_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLK_DIV_SETMASK)     
                            14382 ; 225  |#define HW_LRADC1_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC1_CTRL_REF_VAL_SETMASK)     
                            14383 ; 226  |
                            14384 ; 227  |#define HW_LRADC1_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+3))    /* LRADC1 Control Register */
                            14385 ; 228  |
                            14386 ; 229  |
                            14387 ; 230  |
                            14388 ; 231  |/////////////////////////////////////////////////////////////////////////////////
                            14389 ; 232  |//  LRADC1 Threshold Register (HW_LRADC1_THRSH) Bit Definitions
                            14390 ; 233  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH (9)
                            14391 ; 234  |#define HW_LRADC1_THRSH_RSVD0_WIDTH (3)
                            14392 ; 235  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH (9)
                            14393 ; 236  |#define HW_LRADC1_THRSH_RSVD1_WIDTH (3)
                            14394 ; 237  |
                            14395 ; 238  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS (0)
                            14396 ; 239  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS (12)
                            14397 ; 240  |
                            14398 ; 241  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH)-1)<<HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS)        
                            14399 ; 242  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH)-1)<<HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS)        
                            14400 ; 243  |
                            14401 ; 244  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MIN_THRESHOLD_SETMASK)     
                            14402 ; 245  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MAX_THRESHOLD_SETMASK)     
                            14403 ; 246  |
                            14404 ; 247  |#define HW_LRADC1_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+4))    /* LRADC1 Threshold Register */
                            14405 ; 248  |
                            14406 ; 249  |/////////////////////////////////////////////////////////////////////////////////
                            14407 ; 250  |//  LRADC1 Result Register (HW_LRADC1_RESULT) Bit Definitions
                            14408 ; 251  |#define HW_LRADC1_RESULT_EQ_EVENT1_WIDTH (1)
                            14409 ; 252  |#define HW_LRADC1_RESULT_EQ_EVENT0_WIDTH (1)
                            14410 ; 253  |#define HW_LRADC1_RESULT_GT_EVENT1_WIDTH (1)
                            14411 ; 254  |#define HW_LRADC1_RESULT_GT_EVENT0_WIDTH (1)
                            14412 ; 255  |#define HW_LRADC1_RESULT_LT_EVENT1_WIDTH (1)
                            14413 ; 256  |#define HW_LRADC1_RESULT_LT_EVENT0_WIDTH (1)
                            14414 ; 257  |#define HW_LRADC1_RESULT_RSVD0_WIDTH (2)
                            14415 ; 258  |#define HW_LRADC1_RESULT_DATA_OUT_WIDTH (9)
                            14416 ; 259  |#define HW_LRADC1_RESULT_RSVD1_WIDTH (3)
                            14417 ; 260  |#define HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH (1)
                            14418 ; 261  |#define HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  58

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14419 ; 262  |#define HW_LRADC1_RESULT_RSVD2_WIDTH (2)
                            14420 ; 263  |
                            14421 ; 264  |#define HW_LRADC1_RESULT_EQ_EVENT1_BITPOS (0)
                            14422 ; 265  |#define HW_LRADC1_RESULT_EQ_EVENT0_BITPOS (1)
                            14423 ; 266  |#define HW_LRADC1_RESULT_GT_EVENT1_BITPOS (2)
                            14424 ; 267  |#define HW_LRADC1_RESULT_GT_EVENT0_BITPOS (3)
                            14425 ; 268  |#define HW_LRADC1_RESULT_LT_EVENT1_BITPOS (4)
                            14426 ; 269  |#define HW_LRADC1_RESULT_LT_EVENT0_BITPOS (5)
                            14427 ; 270  |#define HW_LRADC1_RESULT_RSVD0_BITPOS (6)
                            14428 ; 271  |#define HW_LRADC1_RESULT_DATA_OUT_BITPOS (8)
                            14429 ; 272  |#define HW_LRADC1_RESULT_RSVD1_BITPOS (17)
                            14430 ; 273  |#define HW_LRADC1_RESULT_IRQ_EVENT0_BITPOS (20)
                            14431 ; 274  |#define HW_LRADC1_RESULT_IRQ_EVENT1_BITPOS (21)
                            14432 ; 275  |#define HW_LRADC1_RESULT_RSVD2_BITPOS (22)
                            14433 ; 276  |
                            14434 ; 277  |#define HW_LRADC1_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_EQ_EVENT1_BITPOS)
                            14435 ; 278  |#define HW_LRADC1_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_EQ_EVENT0_BITPOS)
                            14436 ; 279  |#define HW_LRADC1_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_GT_EVENT1_BITPOS)
                            14437 ; 280  |#define HW_LRADC1_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_GT_EVENT0_BITPOS)
                            14438 ; 281  |#define HW_LRADC1_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_LT_EVENT1_BITPOS)
                            14439 ; 282  |#define HW_LRADC1_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_LT_EVENT0_BITPOS)
                            14440 ; 283  |#define HW_LRADC1_RESULT_RSVD0_SETMASK (((1<<HW_LRADC1_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC1_RESULT_RSVD0_BITPOS)
                            14441 ; 284  |#define HW_LRADC1_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC1_RESULT_DATA_OUT_WIDTH)-1)<<HW_LRADC1_RESULT_DATA_OUT_BITPOS)
                            14442 ; 285  |#define HW_LRADC1_RESULT_RSVD1_SETMASK (((1<<HW_LRADC1_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC1_RESULT_RSVD1_BITPOS)
                            14443 ; 286  |#define HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_IRQ_EVENT0_BITPOS)
                            14444 ; 287  |#define HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_IRQ_EVENT1_BITPOS)
                            14445 ; 288  |#define HW_LRADC1_RESULT_RSVD2_SETMASK (((1<<HW_LRADC1_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC1_RESULT_RSVD2_BITPOS)
                            14446 ; 289  |
                            14447 ; 290  |
                            14448 ; 291  |#define HW_LRADC1_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT1_SETMASK)
                            14449 ; 292  |#define HW_LRADC1_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT0_SETMASK)
                            14450 ; 293  |#define HW_LRADC1_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT1_SETMASK)
                            14451 ; 294  |#define HW_LRADC1_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT0_SETMASK)
                            14452 ; 295  |#define HW_LRADC1_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT1_SETMASK)
                            14453 ; 296  |#define HW_LRADC1_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT0_SETMASK)
                            14454 ; 297  |#define HW_LRADC1_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD0_SETMASK)
                            14455 ; 298  |#define HW_LRADC1_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC1_RESULT_DATA_OUT_SETMASK)
                            14456 ; 299  |#define HW_LRADC1_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD1_SETMASK)
                            14457 ; 300  |#define HW_LRADC1_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK)
                            14458 ; 301  |#define HW_LRADC1_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK)
                            14459 ; 302  |#define HW_LRADC1_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD2_SETMASK)
                            14460 ; 303  |
                            14461 ; 304  |#define HW_LRADC1_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+5))    /* LRADC1 Result Register */
                            14462 ; 305  |
                            14463 ; 306  |/////////////////////////////////////////////////////////////////////////////////
                            14464 ; 307  |//  LRADC2_CTRL Control Register (HW_LRADC2_CTRL_CTRL) Bit Definitions
                            14465 ; 308  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WIDTH (7)
                            14466 ; 309  |#define HW_LRADC2_CTRL_CTRL_RSVD0_WIDTH (1)
                            14467 ; 310  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WIDTH (1)
                            14468 ; 311  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH (1)
                            14469 ; 312  |#define HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH (1)
                            14470 ; 313  |#define HW_LRADC2_CTRL_CTRL_PWD_WIDTH (1)
                            14471 ; 314  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH (2)
                            14472 ; 315  |#define HW_LRADC2_CTRL_CTRL_RSVD1_WIDTH (2)
                            14473 ; 316  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH (2)
                            14474 ; 317  |#define HW_LRADC2_CTRL_CTRL_RSVD2_WIDTH (6)
                            14475 ; 318  |
                            14476 ; 319  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS (0)
                            14477 ; 320  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS (8)
                            14478 ; 321  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS (9)
                            14479 ; 322  |#define HW_LRADC2_CTRL_CTRL_CLEAR_BITPOS (10)
                            14480 ; 323  |#define HW_LRADC2_CTRL_CTRL_PWD_BITPOS (11)
                            14481 ; 324  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS (12)
                            14482 ; 325  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_BITPOS (16)
                            14483 ; 326  |
                            14484 ; 327  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS)        
                            14485 ; 328  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS)        
                            14486 ; 329  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS) 
                            14487 ; 330  |#define HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_CLEAR_BITPOS) 
                            14488 ; 331  |#define HW_LRADC2_CTRL_CTRL_PWD_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_PWD_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_PWD_BITPOS) 
                            14489 ; 332  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS)        
                            14490 ; 333  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_REF_VAL_BITPOS)        
                            14491 ; 334  |
                            14492 ; 335  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_SETMASK)     
                            14493 ; 336  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_SETMASK)     
                            14494 ; 337  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETMASK) 
                            14495 ; 338  |#define HW_LRADC2_CTRL_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK) 
                            14496 ; 339  |#define HW_LRADC2_CTRL_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_PWD_SETMASK) 
                            14497 ; 340  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK)     
                            14498 ; 341  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK)     
                            14499 ; 342  |
                            14500 ; 343  |
                            14501 ; 344  |#define HW_LRADC2_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+6))    /* LRADC2_CTRL Control Register */
                            14502 ; 345  |
                            14503 ; 346  |
                            14504 ; 347  |
                            14505 ; 348  |/////////////////////////////////////////////////////////////////////////////////
                            14506 ; 349  |//  LRADC2 Threshold Register (HW_LRADC2_THRSH) Bit Definitions
                            14507 ; 350  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH (9)
                            14508 ; 351  |#define HW_LRADC2_THRSH_RSVD0_WIDTH (3)
                            14509 ; 352  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH (9)
                            14510 ; 353  |#define HW_LRADC2_THRSH_RSVD1_WIDTH (3)
                            14511 ; 354  |
                            14512 ; 355  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS (0)
                            14513 ; 356  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS (12)
                            14514 ; 357  |
                            14515 ; 358  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH)-1)<<HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS)        
                            14516 ; 359  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH)-1)<<HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS)        
                            14517 ; 360  |
                            14518 ; 361  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MIN_THRESHOLD_SETMASK)     
                            14519 ; 362  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MAX_THRESHOLD_SETMASK)     
                            14520 ; 363  |
                            14521 ; 364  |#define HW_LRADC2_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+7))    /* LRADC2 Threshold Register */
                            14522 ; 365  |
                            14523 ; 366  |
                            14524 ; 367  |
                            14525 ; 368  |/////////////////////////////////////////////////////////////////////////////////
                            14526 ; 369  |//  LRADC2 Result Register (HW_LRADC2_RESULT) Bit Definitions
                            14527 ; 370  |#define HW_LRADC2_RESULT_EQ_EVENT1_WIDTH (1)
                            14528 ; 371  |#define HW_LRADC2_RESULT_EQ_EVENT0_WIDTH (1)
                            14529 ; 372  |#define HW_LRADC2_RESULT_GT_EVENT1_WIDTH (1)
                            14530 ; 373  |#define HW_LRADC2_RESULT_GT_EVENT0_WIDTH (1)
                            14531 ; 374  |#define HW_LRADC2_RESULT_LT_EVENT1_WIDTH (1)
                            14532 ; 375  |#define HW_LRADC2_RESULT_LT_EVENT0_WIDTH (1)
                            14533 ; 376  |#define HW_LRADC2_RESULT_RSVD0_WIDTH (2)
                            14534 ; 377  |#define HW_LRADC2_RESULT_DATA_OUT_WIDTH (9)
                            14535 ; 378  |#define HW_LRADC2_RESULT_RSVD1_WIDTH (3)
                            14536 ; 379  |#define HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH (1)
                            14537 ; 380  |#define HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH (1)
                            14538 ; 381  |#define HW_LRADC2_RESULT_RSVD2_WIDTH (2)
                            14539 ; 382  |
                            14540 ; 383  |#define HW_LRADC2_RESULT_EQ_EVENT1_BITPOS (0)
                            14541 ; 384  |#define HW_LRADC2_RESULT_EQ_EVENT0_BITPOS (1)
                            14542 ; 385  |#define HW_LRADC2_RESULT_GT_EVENT1_BITPOS (2)
                            14543 ; 386  |#define HW_LRADC2_RESULT_GT_EVENT0_BITPOS (3)
                            14544 ; 387  |#define HW_LRADC2_RESULT_LT_EVENT1_BITPOS (4)
                            14545 ; 388  |#define HW_LRADC2_RESULT_LT_EVENT0_BITPOS (5)
                            14546 ; 389  |#define HW_LRADC2_RESULT_RSVD0_BITPOS (6)
                            14547 ; 390  |#define HW_LRADC2_RESULT_DATA_OUT_BITPOS (8)
                            14548 ; 391  |#define HW_LRADC2_RESULT_RSVD1_BITPOS (17)
                            14549 ; 392  |#define HW_LRADC2_RESULT_IRQ_EVENT0_BITPOS (20)
                            14550 ; 393  |#define HW_LRADC2_RESULT_IRQ_EVENT1_BITPOS (21)
                            14551 ; 394  |#define HW_LRADC2_RESULT_RSVD2_BITPOS (22)
                            14552 ; 395  |
                            14553 ; 396  |#define HW_LRADC2_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_EQ_EVENT1_BITPOS)
                            14554 ; 397  |#define HW_LRADC2_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_EQ_EVENT0_BITPOS)
                            14555 ; 398  |#define HW_LRADC2_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_GT_EVENT1_BITPOS)
                            14556 ; 399  |#define HW_LRADC2_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_GT_EVENT0_BITPOS)
                            14557 ; 400  |#define HW_LRADC2_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_LT_EVENT1_BITPOS)
                            14558 ; 401  |#define HW_LRADC2_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_LT_EVENT0_BITPOS)
                            14559 ; 402  |#define HW_LRADC2_RESULT_RSVD0_SETMASK (((1<<HW_LRADC2_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC2_RESULT_RSVD0_BITPOS)
                            14560 ; 403  |#define HW_LRADC2_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC2_RESULT_DATA_OUT_WIDTH)-1)<<HW_LRADC2_RESULT_DATA_OUT_BITPOS)
                            14561 ; 404  |#define HW_LRADC2_RESULT_RSVD1_SETMASK (((1<<HW_LRADC2_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC2_RESULT_RSVD1_BITPOS)
                            14562 ; 405  |#define HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_IRQ_EVENT0_BITPOS)
                            14563 ; 406  |#define HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_IRQ_EVENT1_BITPOS)
                            14564 ; 407  |#define HW_LRADC2_RESULT_RSVD2_SETMASK (((1<<HW_LRADC2_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC2_RESULT_RSVD2_BITPOS)
                            14565 ; 408  |
                            14566 ; 409  |#define HW_LRADC2_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT1_SETMASK)
                            14567 ; 410  |#define HW_LRADC2_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT0_SETMASK)
                            14568 ; 411  |#define HW_LRADC2_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT1_SETMASK)
                            14569 ; 412  |#define HW_LRADC2_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT0_SETMASK)
                            14570 ; 413  |#define HW_LRADC2_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT1_SETMASK)
                            14571 ; 414  |#define HW_LRADC2_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT0_SETMASK)
                            14572 ; 415  |#define HW_LRADC2_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD0_SETMASK)
                            14573 ; 416  |#define HW_LRADC2_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC2_RESULT_DATA_OUT_SETMASK)
                            14574 ; 417  |#define HW_LRADC2_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD1_SETMASK)
                            14575 ; 418  |#define HW_LRADC2_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK)
                            14576 ; 419  |#define HW_LRADC2_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK)
                            14577 ; 420  |#define HW_LRADC2_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD2_SETMASK)
                            14578 ; 421  |
                            14579 ; 422  |#define HW_LRADC2_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+8))    /* LRADC2 Result Register */
                            14580 ; 423  |#define HW_LRADC_REF_0_SETMASK                  0x0<<HW_BATT_CTRL_REF_VAL_BITPOS
                            14581 ; 424  |#define HW_LRADC_REF_1_SETMASK                  0x1<<HW_BATT_CTRL_REF_VAL_BITPOS
                            14582 ; 425  |#define HW_LRADC_REF_2_SETMASK                  0x2<<HW_BATT_CTRL_REF_VAL_BITPOS
                            14583 ; 426  |#define HW_LRADC_REF_3_SETMASK                  0x3<<HW_BATT_CTRL_REF_VAL_BITPOS
                            14584 ; 427  |#define HW_LRADC_REF_4_SETMASK                  HW_LRADC_REF_0_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                            14585 ; 428  |#define HW_LRADC_REF_5_SETMASK                  HW_LRADC_REF_1_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                            14586 ; 429  |#define HW_LRADC_REF_6_SETMASK                  HW_LRADC_REF_2_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                            14587 ; 430  |#define HW_LRADC_REF_7_SETMASK                  HW_LRADC_REF_3_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                            14588 ; 431  |#define HW_LRADC_RES_REF_0                              80
                            14589 ; 432  |#define HW_LRADC_RES_REF_1                              77
                            14590 ; 433  |#define HW_LRADC_RES_REF_2                              100
                            14591 ; 434  |#define HW_LRADC_RES_REF_3                              129
                            14592 ; 435  |#define HW_LRADC_RES_REF_4                              160
                            14593 ; 436  |#define HW_LRADC_RES_REF_5                              154
                            14594 ; 437  |#define HW_LRADC_RES_REF_6                              200
                            14595 ; 438  |#define HW_LRADC_RES_REF_7                              258
                            14596 ; 439  |#define LRADC_HALF_POWER_SETMASK                HW_BATT_CTRL_HALF_CMP_PWR_SETMASK          
                            14597 ; 440  |// Translate the generic API enumerations into more meaningful labels for the implementation
                            14598 ; 441  |#define REF_2700MV                      HW_LRADC_REF_0_SETMASK
                            14599 ; 442  |#define REF_2600MV              HW_LRADC_REF_1_SETMASK
                            14600 ; 443  |#define REF_2560MV              HW_LRADC_REF_2_SETMASK
                            14601 ; 444  |#define REF_VDDIO               HW_LRADC_REF_3_SETMASK
                            14602 ; 445  |#define REF_5400MV              HW_LRADC_REF_4_SETMASK
                            14603 ; 446  |#define REF_5200MV              HW_LRADC_REF_5_SETMASK
                            14604 ; 447  |#define REF_5120MV              HW_LRADC_REF_6_SETMASK
                            14605 ; 448  |#define REF_VDDIOx2             HW_LRADC_REF_7_SETMASK
                            14606 ; 449  |#define RES_REF_2700MV  HW_LRADC_RES_REF_0
                            14607 ; 450  |#define RES_REF_2600MV  HW_LRADC_RES_REF_1
                            14608 ; 451  |#define RES_REF_2560MV  HW_LRADC_RES_REF_2
                            14609 ; 452  |#define RES_REF_VDDIO   HW_LRADC_RES_REF_3
                            14610 ; 453  |#define RES_REF_5400MV  HW_LRADC_RES_REF_4
                            14611 ; 454  |#define RES_REF_5200MV  HW_LRADC_RES_REF_5
                            14612 ; 455  |#define RES_REF_5120MV  HW_LRADC_RES_REF_6
                            14613 ; 456  |#define RES_REF_VDDIOx2         HW_LRADC_RES_REF_7
                            14614 ; 457  |
                            14615 ; 458  |//Needed by button.asm
                            14616 ; 459  |#define LOW_RES_ADC_BATT_READ_MASK 0x01FF00
                            14617 ; 460  |#define LOW_RES_ADC_AUX_READ_MASK 0x01FF00
                            14618 ; 461  |#define LOW_RES_ADC_AUX2_READ_MASK 0x01FF00
                            14619 ; 462  |
                            14620 ; 463  |#define HW_LRADC_CTRL_AUXADC_SETMASK 3<<HW_BATT_CTRL_REF_VAL_BITPOS
                            14621 ; 464  |
                            14622 ; 465  |#endif
                            14623 ; 466  |
                            14624 ; 467  |
                            14625 
                            14627 
                            14628 ; 27   |#include "regspwm.h"
                            14629 
                            14631 
                            14632 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            14633 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2001
                            14634 ; 3    |// Filename: regspwm.inc
                            14635 ; 4    |// Description: Register definitions for PWM interface
                            14636 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            14637 ; 6    |// The following naming conventions are followed in this file.
                            14638 ; 7    |// All registers are named using the format...
                            14639 ; 8    |//     HW_<module>_<regname>
                            14640 ; 9    |// where <module> is the module name which can be any of the following...
                            14641 ; 10   |//     USB20
                            14642 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            14643 ; 12   |// module name includes a number starting from 0 for the first instance of
                            14644 ; 13   |// that module)
                            14645 ; 14   |// <regname> is the specific register within that module
                            14646 ; 15   |// We also define the following...
                            14647 ; 16   |//     HW_<module>_<regname>_BITPOS
                            14648 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            14649 ; 18   |//     HW_<module>_<regname>_SETMASK
                            14650 ; 19   |// which does something else, and
                            14651 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            14652 ; 21   |// which does something else.
                            14653 ; 22   |// Other rules
                            14654 ; 23   |//     All caps
                            14655 ; 24   |//     Numeric identifiers start at 0
                            14656 ; 25   |#if !(defined(regspwminc))
                            14657 ; 26   |#define regspwminc 1
                            14658 ; 27   |
                            14659 ; 28   |#include "types.h"
                            14660 
                            14662 
                            14663 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            14664 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            14665 ; 3    |//
                            14666 ; 4    |// Filename: types.h
                            14667 ; 5    |// Description: Standard data types
                            14668 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            14669 ; 7    |
                            14670 ; 8    |#ifndef _TYPES_H
                            14671 ; 9    |#define _TYPES_H
                            14672 ; 10   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  59

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14673 ; 11   |// TODO:  move this outta here!
                            14674 ; 12   |#if !defined(NOERROR)
                            14675 ; 13   |#define NOERROR 0
                            14676 ; 14   |#define SUCCESS 0
                            14677 ; 15   |#endif 
                            14678 ; 16   |#if !defined(SUCCESS)
                            14679 ; 17   |#define SUCCESS  0
                            14680 ; 18   |#endif
                            14681 ; 19   |#if !defined(ERROR)
                            14682 ; 20   |#define ERROR   -1
                            14683 ; 21   |#endif
                            14684 ; 22   |#if !defined(FALSE)
                            14685 ; 23   |#define FALSE 0
                            14686 ; 24   |#endif
                            14687 ; 25   |#if !defined(TRUE)
                            14688 ; 26   |#define TRUE  1
                            14689 ; 27   |#endif
                            14690 ; 28   |
                            14691 ; 29   |#if !defined(NULL)
                            14692 ; 30   |#define NULL 0
                            14693 ; 31   |#endif
                            14694 ; 32   |
                            14695 ; 33   |#define MAX_INT     0x7FFFFF
                            14696 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            14697 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            14698 ; 36   |#define MAX_ULONG   (-1) 
                            14699 ; 37   |
                            14700 ; 38   |#define WORD_SIZE   24              // word size in bits
                            14701 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            14702 ; 40   |
                            14703 ; 41   |
                            14704 ; 42   |#define BYTE    unsigned char       // btVarName
                            14705 ; 43   |#define CHAR    signed char         // cVarName
                            14706 ; 44   |#define USHORT  unsigned short      // usVarName
                            14707 ; 45   |#define SHORT   unsigned short      // sVarName
                            14708 ; 46   |#define WORD    unsigned int        // wVarName
                            14709 ; 47   |#define INT     signed int          // iVarName
                            14710 ; 48   |#define DWORD   unsigned long       // dwVarName
                            14711 ; 49   |#define LONG    signed long         // lVarName
                            14712 ; 50   |#define BOOL    unsigned int        // bVarName
                            14713 ; 51   |#define FRACT   _fract              // frVarName
                            14714 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            14715 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            14716 ; 54   |#define FLOAT   float               // fVarName
                            14717 ; 55   |#define DBL     double              // dVarName
                            14718 ; 56   |#define ENUM    enum                // eVarName
                            14719 ; 57   |#define CMX     _complex            // cmxVarName
                            14720 ; 58   |typedef WORD UCS3;                   // 
                            14721 ; 59   |
                            14722 ; 60   |#define UINT16  unsigned short
                            14723 ; 61   |#define UINT8   unsigned char   
                            14724 ; 62   |#define UINT32  unsigned long
                            14725 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            14726 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            14727 ; 65   |#define WCHAR   UINT16
                            14728 ; 66   |
                            14729 ; 67   |//UINT128 is 16 bytes or 6 words
                            14730 ; 68   |typedef struct UINT128_3500 {   
                            14731 ; 69   |    int val[6];     
                            14732 ; 70   |} UINT128_3500;
                            14733 ; 71   |
                            14734 ; 72   |#define UINT128   UINT128_3500
                            14735 ; 73   |
                            14736 ; 74   |// Little endian word packed byte strings:   
                            14737 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            14738 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            14739 ; 77   |// Little endian word packed byte strings:   
                            14740 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            14741 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            14742 ; 80   |
                            14743 ; 81   |// Declare Memory Spaces To Use When Coding
                            14744 ; 82   |// A. Sector Buffers
                            14745 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            14746 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            14747 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            14748 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            14749 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            14750 ; 88   |// B. Media DDI Memory
                            14751 ; 89   |#define MEDIA_DDI_MEM _Y
                            14752 ; 90   |
                            14753 ; 91   |
                            14754 ; 92   |
                            14755 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            14756 ; 94   |// Examples of circular pointers:
                            14757 ; 95   |//    INT CIRC cpiVarName
                            14758 ; 96   |//    DWORD CIRC cpdwVarName
                            14759 ; 97   |
                            14760 ; 98   |#define RETCODE INT                 // rcVarName
                            14761 ; 99   |
                            14762 ; 100  |// generic bitfield structure
                            14763 ; 101  |struct Bitfield {
                            14764 ; 102  |    unsigned int B0  :1;
                            14765 ; 103  |    unsigned int B1  :1;
                            14766 ; 104  |    unsigned int B2  :1;
                            14767 ; 105  |    unsigned int B3  :1;
                            14768 ; 106  |    unsigned int B4  :1;
                            14769 ; 107  |    unsigned int B5  :1;
                            14770 ; 108  |    unsigned int B6  :1;
                            14771 ; 109  |    unsigned int B7  :1;
                            14772 ; 110  |    unsigned int B8  :1;
                            14773 ; 111  |    unsigned int B9  :1;
                            14774 ; 112  |    unsigned int B10 :1;
                            14775 ; 113  |    unsigned int B11 :1;
                            14776 ; 114  |    unsigned int B12 :1;
                            14777 ; 115  |    unsigned int B13 :1;
                            14778 ; 116  |    unsigned int B14 :1;
                            14779 ; 117  |    unsigned int B15 :1;
                            14780 ; 118  |    unsigned int B16 :1;
                            14781 ; 119  |    unsigned int B17 :1;
                            14782 ; 120  |    unsigned int B18 :1;
                            14783 ; 121  |    unsigned int B19 :1;
                            14784 ; 122  |    unsigned int B20 :1;
                            14785 ; 123  |    unsigned int B21 :1;
                            14786 ; 124  |    unsigned int B22 :1;
                            14787 ; 125  |    unsigned int B23 :1;
                            14788 ; 126  |};
                            14789 ; 127  |
                            14790 ; 128  |union BitInt {
                            14791 ; 129  |        struct Bitfield B;
                            14792 ; 130  |        int        I;
                            14793 ; 131  |};
                            14794 ; 132  |
                            14795 ; 133  |#define MAX_MSG_LENGTH 10
                            14796 ; 134  |struct CMessage
                            14797 ; 135  |{
                            14798 ; 136  |        unsigned int m_uLength;
                            14799 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            14800 ; 138  |};
                            14801 ; 139  |
                            14802 ; 140  |typedef struct {
                            14803 ; 141  |    WORD m_wLength;
                            14804 ; 142  |    WORD m_wMessage;
                            14805 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            14806 ; 144  |} Message;
                            14807 ; 145  |
                            14808 ; 146  |struct MessageQueueDescriptor
                            14809 ; 147  |{
                            14810 ; 148  |        int *m_pBase;
                            14811 ; 149  |        int m_iModulo;
                            14812 ; 150  |        int m_iSize;
                            14813 ; 151  |        int *m_pHead;
                            14814 ; 152  |        int *m_pTail;
                            14815 ; 153  |};
                            14816 ; 154  |
                            14817 ; 155  |struct ModuleEntry
                            14818 ; 156  |{
                            14819 ; 157  |    int m_iSignaledEventMask;
                            14820 ; 158  |    int m_iWaitEventMask;
                            14821 ; 159  |    int m_iResourceOfCode;
                            14822 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            14823 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            14824 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            14825 ; 163  |    int m_uTimeOutHigh;
                            14826 ; 164  |    int m_uTimeOutLow;
                            14827 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            14828 ; 166  |};
                            14829 ; 167  |
                            14830 ; 168  |union WaitMask{
                            14831 ; 169  |    struct B{
                            14832 ; 170  |        unsigned int m_bNone     :1;
                            14833 ; 171  |        unsigned int m_bMessage  :1;
                            14834 ; 172  |        unsigned int m_bTimer    :1;
                            14835 ; 173  |        unsigned int m_bButton   :1;
                            14836 ; 174  |    } B;
                            14837 ; 175  |    int I;
                            14838 ; 176  |} ;
                            14839 ; 177  |
                            14840 ; 178  |
                            14841 ; 179  |struct Button {
                            14842 ; 180  |        WORD wButtonEvent;
                            14843 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            14844 ; 182  |};
                            14845 ; 183  |
                            14846 ; 184  |struct Message {
                            14847 ; 185  |        WORD wMsgLength;
                            14848 ; 186  |        WORD wMsgCommand;
                            14849 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            14850 ; 188  |};
                            14851 ; 189  |
                            14852 ; 190  |union EventTypes {
                            14853 ; 191  |        struct CMessage msg;
                            14854 ; 192  |        struct Button Button ;
                            14855 ; 193  |        struct Message Message;
                            14856 ; 194  |};
                            14857 ; 195  |
                            14858 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            14859 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            14860 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            14861 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            14862 ; 200  |
                            14863 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            14864 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            14865 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            14866 ; 204  |
                            14867 ; 205  |#if DEBUG
                            14868 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            14869 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            14870 ; 208  |#else 
                            14871 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            14872 ; 210  |#define DebugBuildAssert(x)    
                            14873 ; 211  |#endif
                            14874 ; 212  |
                            14875 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            14876 ; 214  |//  #pragma asm
                            14877 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            14878 ; 216  |//  #pragma endasm
                            14879 ; 217  |
                            14880 ; 218  |
                            14881 ; 219  |#ifdef COLOR_262K
                            14882 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            14883 ; 221  |#elif defined(COLOR_65K)
                            14884 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            14885 ; 223  |#else
                            14886 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            14887 ; 225  |#endif
                            14888 ; 226  |    
                            14889 ; 227  |#endif // #ifndef _TYPES_H
                            14890 
                            14892 
                            14893 ; 29   |
                            14894 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            14895 ; 31   |//   Pulse Width Modulator STMP Registers 
                            14896 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            14897 ; 33   |#define HW_PWM_BASEADDR (0xFA31)
                            14898 ; 34   |
                            14899 ; 35   |
                            14900 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            14901 ; 37   |//  PWM CSR register (HW_PWM_CSR) Bit Definitions
                            14902 ; 38   |#define HW_PWM_CSR_PWM0_EN_BITPOS (0)
                            14903 ; 39   |#define HW_PWM_CSR_PWM1_EN_BITPOS (1) 
                            14904 ; 40   |#define HW_PWM_CSR_PWM2_EN_BITPOS (2)
                            14905 ; 41   |#define HW_PWM_CSR_PWM3_EN_BITPOS (3)
                            14906 ; 42   |#define HW_PWM_CSR_CDIV_BITPOS (8)
                            14907 ; 43   |#define HW_PWM_CSR_MSTR_EN_BITPOS (23)
                            14908 ; 44   |
                            14909 ; 45   |#define HW_PWM_CSR_PWM0_EN_WIDTH (1)
                            14910 ; 46   |#define HW_PWM_CSR_PWM1_EN_WIDTH (1) 
                            14911 ; 47   |#define HW_PWM_CSR_PWM2_EN_WIDTH (1)
                            14912 ; 48   |#define HW_PWM_CSR_PWM3_EN_WIDTH (1)
                            14913 ; 49   |#define HW_PWM_CSR_CDIV_WIDTH (2)
                            14914 ; 50   |#define HW_PWM_CSR_MSTR_EN_WIDTH (1)
                            14915 ; 51   |
                            14916 ; 52   |#define HW_PWM_CSR_PWM0_EN_SETMASK (((1<<HW_PWM_CSR_PWM0_EN_WIDTH)-1)<<HW_PWM_CSR_PWM0_EN_BITPOS)
                            14917 ; 53   |#define HW_PWM_CSR_PWM1_EN_SETMASK (((1<<HW_PWM_CSR_PWM1_EN_WIDTH)-1)<<HW_PWM_CSR_PWM1_EN_BITPOS)
                            14918 ; 54   |#define HW_PWM_CSR_PWM2_EN_SETMASK (((1<<HW_PWM_CSR_PWM2_EN_WIDTH)-1)<<HW_PWM_CSR_PWM2_EN_BITPOS)
                            14919 ; 55   |#define HW_PWM_CSR_PWM3_EN_SETMASK (((1<<HW_PWM_CSR_PWM3_EN_WIDTH)-1)<<HW_PWM_CSR_PWM3_EN_BITPOS)
                            14920 ; 56   |#define HW_PWM_CSR_CDIV_SETMASK (((1<<HW_PWM_CSR_CDIV_WIDTH)-1)<<HW_PWM_CSR_CDIV_BITPOS)
                            14921 ; 57   |#define HW_PWM_CSR_MSTR_EN_SETMASK (((1<<HW_PWM_CSR_MSTR_EN_WIDTH)-1)<<HW_PWM_CSR_MSTR_EN_BITPOS)
                            14922 ; 58   |
                            14923 ; 59   |#define HW_PWM_CSR_PWM0_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM0_EN_SETMASK)
                            14924 ; 60   |#define HW_PWM_CSR_PWM1_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM1_EN_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  60

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14925 ; 61   |#define HW_PWM_CSR_PWM2_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM2_EN_SETMASK)
                            14926 ; 62   |#define HW_PWM_CSR_PWM3_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM3_EN_SETMASK)
                            14927 ; 63   |#define HW_PWM_CSR_CDIV_CLRMASK (~(WORD)HW_PWM_CSR_CDIV_SETMASK)   
                            14928 ; 64   |#define HW_PWM_CSR_MSTR_EN_CLRMASK (~(WORD)HW_PWM_CSR_MSTR_EN_SETMASK)
                            14929 ; 65   |
                            14930 ; 66   |typedef union               
                            14931 ; 67   |{
                            14932 ; 68   |    struct {
                            14933 ; 69   |        int PWM0_EN                    :1;
                            14934 ; 70   |        int PWM1_EN                    :1;
                            14935 ; 71   |        int PWM2_EN                    :1;
                            14936 ; 72   |        int PWM3_EN                    :1;
                            14937 ; 73   |        int RSVD0                      :4;
                            14938 ; 74   |        int CDIV                       :2;
                            14939 ; 75   |        int RSVD1                      :13;
                            14940 ; 76   |        int MSTR_EN                    :1;
                            14941 ; 77   |    } B;
                            14942 ; 78   |    int I;
                            14943 ; 79   |} pwmcsr_type;
                            14944 ; 80   |#define HW_PWM_CSR        (*(volatile pwmcsr_type _X*) (HW_PWM_BASEADDR))  /* PWM Control Status Register */
                            14945 ; 81   |
                            14946 ; 82   |/////////////////////////////////////////////////////////////////////////////////
                            14947 ; 83   |//  PWM CHANNEL 0 A  (HW_PWM_CH0AR) Bit Definitions
                            14948 ; 84   |#define HW_PWM_CH0AR_ACTIVE_BITPOS (0)
                            14949 ; 85   |#define HW_PWM_CH0AR_INACTIVE_BITPOS (12)
                            14950 ; 86   |
                            14951 ; 87   |#define HW_PWM_CH0AR_ACTIVE_WIDTH (12)
                            14952 ; 88   |#define HW_PWM_CH0AR_INACTIVE_WIDTH (12)
                            14953 ; 89   |
                            14954 ; 90   |#define HW_PWM_CH0AR_ACTIVE_SETMASK (((1<<HW_PWM_CH0AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH0AR_ACTIVE_BITPOS)
                            14955 ; 91   |#define HW_PWM_CH0AR_INACTIVE_SETMASK (((1<<HW_PWM_CH0AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH0AR_INACTIVE_BITPOS)
                            14956 ; 92   |
                            14957 ; 93   |#define HW_PWM_CH0AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH0AR_ACTIVE_SETMASK)
                            14958 ; 94   |#define HW_PWM_CH0AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH0AR_INACTIVE_SETMASK)
                            14959 ; 95   |
                            14960 ; 96   |/////////////////////////////////////////////////////////////////////////////////
                            14961 ; 97   |//  PWM CHANNEL 0 B  (HW_PWM_CH0BR) Bit Definitions
                            14962 ; 98   |#define HW_PWM_CH0BR_ACTIVE_BITPOS (0)
                            14963 ; 99   |#define HW_PWM_CH0BR_INACTIVE_BITPOS (12)
                            14964 ; 100  |
                            14965 ; 101  |#define HW_PWM_CH0BR_ACTIVE_WIDTH (12)
                            14966 ; 102  |#define HW_PWM_CH0BR_INACTIVE_WIDTH (12)
                            14967 ; 103  |
                            14968 ; 104  |#define HW_PWM_CH0BR_ACTIVE_SETMASK (((1<<HW_PWM_CH0BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH0BR_ACTIVE_BITPOS)
                            14969 ; 105  |#define HW_PWM_CH0BR_INACTIVE_SETMASK (((1<<HW_PWM_CH0BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH0BR_INACTIVE_BITPOS)
                            14970 ; 106  |
                            14971 ; 107  |#define HW_PWM_CH0BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH0BR_ACTIVE_SETMASK)
                            14972 ; 108  |#define HW_PWM_CH0BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH0BR_INACTIVE_SETMASK)
                            14973 ; 109  |
                            14974 ; 110  |/////////////////////////////////////////////////////////////////////////////////
                            14975 ; 111  |//  PWM CHANNEL 1 A  (HW_PWM_CH1AR) Bit Definitions
                            14976 ; 112  |#define HW_PWM_CH1AR_ACTIVE_BITPOS (0)
                            14977 ; 113  |#define HW_PWM_CH1AR_INACTIVE_BITPOS (12)
                            14978 ; 114  |
                            14979 ; 115  |#define HW_PWM_CH1AR_ACTIVE_WIDTH (12)
                            14980 ; 116  |#define HW_PWM_CH1AR_INACTIVE_WIDTH (12)
                            14981 ; 117  |
                            14982 ; 118  |#define HW_PWM_CH1AR_ACTIVE_SETMASK (((1<<HW_PWM_CH1AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH1AR_ACTIVE_BITPOS)
                            14983 ; 119  |#define HW_PWM_CH1AR_INACTIVE_SETMASK (((1<<HW_PWM_CH1AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH1AR_INACTIVE_BITPOS)
                            14984 ; 120  |
                            14985 ; 121  |#define HW_PWM_CH1AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH1AR_ACTIVE_SETMASK)
                            14986 ; 122  |#define HW_PWM_CH1AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH1AR_INACTIVE_SETMASK)
                            14987 ; 123  |
                            14988 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                            14989 ; 125  |//  PWM CHANNEL 1 B  (HW_PWM_CH1BR) Bit Definitions
                            14990 ; 126  |#define HW_PWM_CH1BR_ACTIVE_BITPOS (0)
                            14991 ; 127  |#define HW_PWM_CH1BR_INACTIVE_BITPOS (12)
                            14992 ; 128  |
                            14993 ; 129  |#define HW_PWM_CH1BR_ACTIVE_WIDTH (12)
                            14994 ; 130  |#define HW_PWM_CH1BR_INACTIVE_WIDTH (12)
                            14995 ; 131  |
                            14996 ; 132  |#define HW_PWM_CH1BR_ACTIVE_SETMASK (((1<<HW_PWM_CH1BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH1BR_ACTIVE_BITPOS)
                            14997 ; 133  |#define HW_PWM_CH1BR_INACTIVE_SETMASK (((1<<HW_PWM_CH1BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH1BR_INACTIVE_BITPOS)
                            14998 ; 134  |
                            14999 ; 135  |#define HW_PWM_CH1BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH1BR_ACTIVE_SETMASK)
                            15000 ; 136  |#define HW_PWM_CH1BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH1BR_INACTIVE_SETMASK)
                            15001 ; 137  |
                            15002 ; 138  |/////////////////////////////////////////////////////////////////////////////////
                            15003 ; 139  |//  PWM CHANNEL 2 A  (HW_PWM_CH2AR) Bit Definitions
                            15004 ; 140  |#define HW_PWM_CH2AR_ACTIVE_BITPOS (0)
                            15005 ; 141  |#define HW_PWM_CH2AR_INACTIVE_BITPOS (12)
                            15006 ; 142  |
                            15007 ; 143  |#define HW_PWM_CH2AR_ACTIVE_WIDTH (12)
                            15008 ; 144  |#define HW_PWM_CH2AR_INACTIVE_WIDTH (12)
                            15009 ; 145  |
                            15010 ; 146  |#define HW_PWM_CH2AR_ACTIVE_SETMASK (((1<<HW_PWM_CH2AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH2AR_ACTIVE_BITPOS)
                            15011 ; 147  |#define HW_PWM_CH2AR_INACTIVE_SETMASK (((1<<HW_PWM_CH2AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH2AR_INACTIVE_BITPOS)
                            15012 ; 148  |
                            15013 ; 149  |#define HW_PWM_CH2AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH2AR_ACTIVE_SETMASK)
                            15014 ; 150  |#define HW_PWM_CH2AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH2AR_INACTIVE_SETMASK)
                            15015 ; 151  |
                            15016 ; 152  |/////////////////////////////////////////////////////////////////////////////////
                            15017 ; 153  |//  PWM CHANNEL 2 B  (HW_PWM_CH2BR) Bit Definitions
                            15018 ; 154  |#define HW_PWM_CH2BR_ACTIVE_BITPOS (0)
                            15019 ; 155  |#define HW_PWM_CH2BR_INACTIVE_BITPOS (12)
                            15020 ; 156  |
                            15021 ; 157  |#define HW_PWM_CH2BR_ACTIVE_WIDTH (12)
                            15022 ; 158  |#define HW_PWM_CH2BR_INACTIVE_WIDTH (12)
                            15023 ; 159  |
                            15024 ; 160  |#define HW_PWM_CH2BR_ACTIVE_SETMASK (((1<<HW_PWM_CH2BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH2BR_ACTIVE_BITPOS)
                            15025 ; 161  |#define HW_PWM_CH2BR_INACTIVE_SETMASK (((1<<HW_PWM_CH2BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH2BR_INACTIVE_BITPOS)
                            15026 ; 162  |
                            15027 ; 163  |#define HW_PWM_CH2BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH2BR_ACTIVE_SETMASK)
                            15028 ; 164  |#define HW_PWM_CH2BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH2BR_INACTIVE_SETMASK)
                            15029 ; 165  |
                            15030 ; 166  |/////////////////////////////////////////////////////////////////////////////////
                            15031 ; 167  |//  PWM CHANNEL 3 A  (HW_PWM_CH3AR) Bit Definitions
                            15032 ; 168  |#define HW_PWM_CH3AR_ACTIVE_BITPOS (0)
                            15033 ; 169  |#define HW_PWM_CH3AR_INACTIVE_BITPOS (12)
                            15034 ; 170  |
                            15035 ; 171  |#define HW_PWM_CH3AR_ACTIVE_WIDTH (12)
                            15036 ; 172  |#define HW_PWM_CH3AR_INACTIVE_WIDTH (12)
                            15037 ; 173  |
                            15038 ; 174  |#define HW_PWM_CH3AR_ACTIVE_SETMASK (((1<<HW_PWM_CH3AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH3AR_ACTIVE_BITPOS)
                            15039 ; 175  |#define HW_PWM_CH3AR_INACTIVE_SETMASK (((1<<HW_PWM_CH3AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH3AR_INACTIVE_BITPOS)
                            15040 ; 176  |
                            15041 ; 177  |#define HW_PWM_CH3AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH3AR_ACTIVE_SETMASK)
                            15042 ; 178  |#define HW_PWM_CH3AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH3AR_INACTIVE_SETMASK)
                            15043 ; 179  |
                            15044 ; 180  |/////////////////////////////////////////////////////////////////////////////////
                            15045 ; 181  |//  PWM CHANNEL 3 B  (HW_PWM_CH3BR) Bit Definitions
                            15046 ; 182  |#define HW_PWM_CH3BR_ACTIVE_BITPOS (0)
                            15047 ; 183  |#define HW_PWM_CH3BR_INACTIVE_BITPOS (12)
                            15048 ; 184  |
                            15049 ; 185  |#define HW_PWM_CH3BR_ACTIVE_WIDTH (12)
                            15050 ; 186  |#define HW_PWM_CH3BR_INACTIVE_WIDTH (12)
                            15051 ; 187  |
                            15052 ; 188  |#define HW_PWM_CH3BR_ACTIVE_SETMASK (((1<<HW_PWM_CH3BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH3BR_ACTIVE_BITPOS)
                            15053 ; 189  |#define HW_PWM_CH3BR_INACTIVE_SETMASK (((1<<HW_PWM_CH3BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH3BR_INACTIVE_BITPOS)
                            15054 ; 190  |
                            15055 ; 191  |#define HW_PWM_CH3BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH3BR_ACTIVE_SETMASK)
                            15056 ; 192  |#define HW_PWM_CH3BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH3BR_INACTIVE_SETMASK)
                            15057 ; 193  |
                            15058 ; 194  |typedef union               
                            15059 ; 195  |{
                            15060 ; 196  |    struct {
                            15061 ; 197  |       int ACTIVE                    :12;
                            15062 ; 198  |       int INACTIVE                  :12;
                            15063 ; 199  |    } B;
                            15064 ; 200  |    int I;
                            15065 ; 201  |} pwmchan_type;
                            15066 ; 202  |#define HW_PWM_CH0AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+1))  /* PWM Channel 0 A Register */
                            15067 ; 203  |#define HW_PWM_CH0BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+2))  /* PWM Channel 0 B Register */
                            15068 ; 204  |#define HW_PWM_CH1AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+3))  /* PWM Channel 1 A Register */
                            15069 ; 205  |#define HW_PWM_CH1BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+4))  /* PWM Channel 1 B Register */
                            15070 ; 206  |#define HW_PWM_CH2AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+5))  /* PWM Channel 2 A Register */
                            15071 ; 207  |#define HW_PWM_CH2BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+6))  /* PWM Channel 2 B Register */
                            15072 ; 208  |#define HW_PWM_CH3AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+7))  /* PWM Channel 3 A Register */
                            15073 ; 209  |#define HW_PWM_CH3BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+8))  /* PWM Channel 3 B Register */
                            15074 ; 210  |
                            15075 ; 211  |#endif
                            15076 ; 212  |
                            15077 ; 213  |
                            15078 ; 214  |
                            15079 ; 215  |
                            15080 
                            15082 
                            15083 ; 28   |#include "regsrevision.h"
                            15084 
                            15086 
                            15087 ; 1    |#if !(defined(__HW_REVR))
                            15088 ; 2    |#define __HW_REVR 1
                            15089 ; 3    |
                            15090 ; 4    |
                            15091 ; 5    |#define HW_GLUE_BASEADDR 0xFA00
                            15092 ; 6    |
                            15093 ; 7    |#define HW_REVR_RMN_BITPOS (0)
                            15094 ; 8    |#define HW_REVR_DCDCMODE_BITPOS (5)
                            15095 ; 9    |#define HW_REVR_RMJ_BITPOS (8)
                            15096 ; 10   |
                            15097 ; 11   |#define HW_REVR_RMN_WIDTH (5)
                            15098 ; 12   |#define HW_REVR_DCDCMODE_WIDTH (3)
                            15099 ; 13   |
                            15100 ; 14   |#define HW_REVR_DCDCMODE_SETMASK (((1<<HW_REVR_DCDCMODE_WIDTH)-1)<<HW_REVR_DCDCMODE_BITPOS)
                            15101 ; 15   |
                            15102 ; 16   |#define HW_REVR_DCDCMODE_CLRMASK (~(WORD)HW_REVR_DCDCMODE_SETMASK)
                            15103 ; 17   |
                            15104 ; 18   |
                            15105 ; 19   |/////////////////////////////////////////////////////////////////////////////////
                            15106 ; 20   |//  Revision Register (HW_REVR) bitfields and values. (read only)
                            15107 ; 21   |//  June15 2004: C struct updated to be correct: 
                            15108 ; 22   |//   Added DCDCMODE bitfield. Removed RMP bitfield. Reduced size of RMN bitfield to 5 bits.
                            15109 ; 23   |typedef union               
                            15110 ; 24   |{
                            15111 ; 25   |    struct {
                            15112 ; 26   |        unsigned RMN    :5;     //Minor Revision
                            15113 ; 27   |        unsigned DCDCMODE : 3;  //DCDC mode field function depends on DCDC mode pin strapping
                            15114 ; 28   |           #define DCDCMODE_7_CONVERTER1_2CH_BOOST_CONVERTER2_OFF      7
                            15115 ; 29   |           #define DCDCMODE_6_RESERVED                                 6
                            15116 ; 30   |           #define DCDCMODE_5_CONVERTER1_3CH_BOOST_CONVERTER2_OFF      5
                            15117 ; 31   |           #define DCDCMODE_4_RESERVED                                 4
                            15118 ; 32   |           #define DCDCMODE_3_CONVERTER1_1CH_BUCK_CONVERTER2_OFF       3
                            15119 ; 33   |           #define DCDCMODE_2_CONVERTER1_OFF_CONVERTER2_OFF            2
                            15120 ; 34   |           #define DCDCMODE_1_CONVERTER1_1CH_BUCK_CONVERTER2_1CH_BOOST 1
                            15121 ; 35   |           #define DCDCMODE_0_CONVERTER1_1CH_BUCK_CONVERTER2_1CH_BUCK  0
                            15122 ; 36   |           #define DCDCMODE_X_BUCK_MASKED_SETMASK 0x4
                            15123 ; 37   |        unsigned RMJ    :16;    //Major Revision
                            15124 ; 38   |    } B;
                            15125 ; 39   |
                            15126 ; 40   |    int I;
                            15127 ; 41   |
                            15128 ; 42   |} revr_type;
                            15129 ; 43   |#define HW_REVR (*(volatile revr_type _X*) (HW_GLUE_BASEADDR+2))
                            15130 ; 44   |
                            15131 ; 45   |#define HW_REVR_DCDCMODE_B0_BITPOS 5
                            15132 ; 46   |#define HW_REVR_DCDCMODE_B1_BITPOS 6
                            15133 ; 47   |#define HW_REVR_DCDCMODE_B2_BITPOS 7
                            15134 ; 48   |
                            15135 ; 49   |#define HW_REVR_DCDCMODE_BUCK_MASK_POS HW_REVR_DCDCMODE_B2_BITPOS
                            15136 ; 50   |// 3 bit bitfield: (HW_REVR_DCDCMODE_B2_BITPOS|HW_REVR_DCDCMODE_B1_BITPOS|HW_REVR_DCDCMODE_B0_BITPOS)
                            15137 ; 51   |#define HW_REVR_DCDC_MODE_SETMASK 0x0000E0
                            15138 ; 52   |#define HW_REVR_RMN_SETMASK 0xFF<<HW_REVR_RMN_BITPOS
                            15139 ; 53   |#define HW_REVR_RMJ_SETMASK 0xFFFF<<HW_REVR_RMJ_BITPOS
                            15140 ; 54   |
                            15141 ; 55   |#define HW_REVR_RMN_CLRMASK ~(WORD)HW_REVR_RMN_SETMASK
                            15142 ; 56   |#define HW_REVR_RMJ_CLRMASK ~(WORD)HW_REVR_RMJ_SETMASK
                            15143 ; 57   |
                            15144 ; 58   |#endif //!@def(__HW_REVR)
                            15145 ; 59   |
                            15146 
                            15148 
                            15149 ; 29   |#include "regsrtc.h"
                            15150 
                            15152 
                            15153 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            15154 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            15155 ; 3    |// Filename: regsrtc.inc
                            15156 ; 4    |// Description: Register definitions for RTC interface
                            15157 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            15158 ; 6    |// The following naming conventions are followed in this file.
                            15159 ; 7    |// All registers are named using the format...
                            15160 ; 8    |//     HW_<module>_<regname>
                            15161 ; 9    |// where <module> is the module name which can be any of the following...
                            15162 ; 10   |//     USB20
                            15163 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            15164 ; 12   |// module name includes a number starting from 0 for the first instance of
                            15165 ; 13   |// that module)
                            15166 ; 14   |// <regname> is the specific register within that module
                            15167 ; 15   |// We also define the following...
                            15168 ; 16   |//     HW_<module>_<regname>_BITPOS
                            15169 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            15170 ; 18   |//     HW_<module>_<regname>_SETMASK
                            15171 ; 19   |// which does something else, and
                            15172 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            15173 ; 21   |// which does something else.
                            15174 ; 22   |// Other rules
                            15175 ; 23   |//     All caps
                            15176 ; 24   |//     Numeric identifiers start at 0
                            15177 ; 25   |#if !(defined(regsrtcinc))
                            15178 ; 26   |#define regsrtcinc 1
                            15179 ; 27   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  61

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15180 ; 28   |#include "types.h"
                            15181 
                            15183 
                            15184 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            15185 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            15186 ; 3    |//
                            15187 ; 4    |// Filename: types.h
                            15188 ; 5    |// Description: Standard data types
                            15189 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            15190 ; 7    |
                            15191 ; 8    |#ifndef _TYPES_H
                            15192 ; 9    |#define _TYPES_H
                            15193 ; 10   |
                            15194 ; 11   |// TODO:  move this outta here!
                            15195 ; 12   |#if !defined(NOERROR)
                            15196 ; 13   |#define NOERROR 0
                            15197 ; 14   |#define SUCCESS 0
                            15198 ; 15   |#endif 
                            15199 ; 16   |#if !defined(SUCCESS)
                            15200 ; 17   |#define SUCCESS  0
                            15201 ; 18   |#endif
                            15202 ; 19   |#if !defined(ERROR)
                            15203 ; 20   |#define ERROR   -1
                            15204 ; 21   |#endif
                            15205 ; 22   |#if !defined(FALSE)
                            15206 ; 23   |#define FALSE 0
                            15207 ; 24   |#endif
                            15208 ; 25   |#if !defined(TRUE)
                            15209 ; 26   |#define TRUE  1
                            15210 ; 27   |#endif
                            15211 ; 28   |
                            15212 ; 29   |#if !defined(NULL)
                            15213 ; 30   |#define NULL 0
                            15214 ; 31   |#endif
                            15215 ; 32   |
                            15216 ; 33   |#define MAX_INT     0x7FFFFF
                            15217 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            15218 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            15219 ; 36   |#define MAX_ULONG   (-1) 
                            15220 ; 37   |
                            15221 ; 38   |#define WORD_SIZE   24              // word size in bits
                            15222 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            15223 ; 40   |
                            15224 ; 41   |
                            15225 ; 42   |#define BYTE    unsigned char       // btVarName
                            15226 ; 43   |#define CHAR    signed char         // cVarName
                            15227 ; 44   |#define USHORT  unsigned short      // usVarName
                            15228 ; 45   |#define SHORT   unsigned short      // sVarName
                            15229 ; 46   |#define WORD    unsigned int        // wVarName
                            15230 ; 47   |#define INT     signed int          // iVarName
                            15231 ; 48   |#define DWORD   unsigned long       // dwVarName
                            15232 ; 49   |#define LONG    signed long         // lVarName
                            15233 ; 50   |#define BOOL    unsigned int        // bVarName
                            15234 ; 51   |#define FRACT   _fract              // frVarName
                            15235 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            15236 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            15237 ; 54   |#define FLOAT   float               // fVarName
                            15238 ; 55   |#define DBL     double              // dVarName
                            15239 ; 56   |#define ENUM    enum                // eVarName
                            15240 ; 57   |#define CMX     _complex            // cmxVarName
                            15241 ; 58   |typedef WORD UCS3;                   // 
                            15242 ; 59   |
                            15243 ; 60   |#define UINT16  unsigned short
                            15244 ; 61   |#define UINT8   unsigned char   
                            15245 ; 62   |#define UINT32  unsigned long
                            15246 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            15247 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            15248 ; 65   |#define WCHAR   UINT16
                            15249 ; 66   |
                            15250 ; 67   |//UINT128 is 16 bytes or 6 words
                            15251 ; 68   |typedef struct UINT128_3500 {   
                            15252 ; 69   |    int val[6];     
                            15253 ; 70   |} UINT128_3500;
                            15254 ; 71   |
                            15255 ; 72   |#define UINT128   UINT128_3500
                            15256 ; 73   |
                            15257 ; 74   |// Little endian word packed byte strings:   
                            15258 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            15259 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            15260 ; 77   |// Little endian word packed byte strings:   
                            15261 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            15262 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            15263 ; 80   |
                            15264 ; 81   |// Declare Memory Spaces To Use When Coding
                            15265 ; 82   |// A. Sector Buffers
                            15266 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            15267 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            15268 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            15269 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            15270 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            15271 ; 88   |// B. Media DDI Memory
                            15272 ; 89   |#define MEDIA_DDI_MEM _Y
                            15273 ; 90   |
                            15274 ; 91   |
                            15275 ; 92   |
                            15276 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            15277 ; 94   |// Examples of circular pointers:
                            15278 ; 95   |//    INT CIRC cpiVarName
                            15279 ; 96   |//    DWORD CIRC cpdwVarName
                            15280 ; 97   |
                            15281 ; 98   |#define RETCODE INT                 // rcVarName
                            15282 ; 99   |
                            15283 ; 100  |// generic bitfield structure
                            15284 ; 101  |struct Bitfield {
                            15285 ; 102  |    unsigned int B0  :1;
                            15286 ; 103  |    unsigned int B1  :1;
                            15287 ; 104  |    unsigned int B2  :1;
                            15288 ; 105  |    unsigned int B3  :1;
                            15289 ; 106  |    unsigned int B4  :1;
                            15290 ; 107  |    unsigned int B5  :1;
                            15291 ; 108  |    unsigned int B6  :1;
                            15292 ; 109  |    unsigned int B7  :1;
                            15293 ; 110  |    unsigned int B8  :1;
                            15294 ; 111  |    unsigned int B9  :1;
                            15295 ; 112  |    unsigned int B10 :1;
                            15296 ; 113  |    unsigned int B11 :1;
                            15297 ; 114  |    unsigned int B12 :1;
                            15298 ; 115  |    unsigned int B13 :1;
                            15299 ; 116  |    unsigned int B14 :1;
                            15300 ; 117  |    unsigned int B15 :1;
                            15301 ; 118  |    unsigned int B16 :1;
                            15302 ; 119  |    unsigned int B17 :1;
                            15303 ; 120  |    unsigned int B18 :1;
                            15304 ; 121  |    unsigned int B19 :1;
                            15305 ; 122  |    unsigned int B20 :1;
                            15306 ; 123  |    unsigned int B21 :1;
                            15307 ; 124  |    unsigned int B22 :1;
                            15308 ; 125  |    unsigned int B23 :1;
                            15309 ; 126  |};
                            15310 ; 127  |
                            15311 ; 128  |union BitInt {
                            15312 ; 129  |        struct Bitfield B;
                            15313 ; 130  |        int        I;
                            15314 ; 131  |};
                            15315 ; 132  |
                            15316 ; 133  |#define MAX_MSG_LENGTH 10
                            15317 ; 134  |struct CMessage
                            15318 ; 135  |{
                            15319 ; 136  |        unsigned int m_uLength;
                            15320 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            15321 ; 138  |};
                            15322 ; 139  |
                            15323 ; 140  |typedef struct {
                            15324 ; 141  |    WORD m_wLength;
                            15325 ; 142  |    WORD m_wMessage;
                            15326 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            15327 ; 144  |} Message;
                            15328 ; 145  |
                            15329 ; 146  |struct MessageQueueDescriptor
                            15330 ; 147  |{
                            15331 ; 148  |        int *m_pBase;
                            15332 ; 149  |        int m_iModulo;
                            15333 ; 150  |        int m_iSize;
                            15334 ; 151  |        int *m_pHead;
                            15335 ; 152  |        int *m_pTail;
                            15336 ; 153  |};
                            15337 ; 154  |
                            15338 ; 155  |struct ModuleEntry
                            15339 ; 156  |{
                            15340 ; 157  |    int m_iSignaledEventMask;
                            15341 ; 158  |    int m_iWaitEventMask;
                            15342 ; 159  |    int m_iResourceOfCode;
                            15343 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            15344 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            15345 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            15346 ; 163  |    int m_uTimeOutHigh;
                            15347 ; 164  |    int m_uTimeOutLow;
                            15348 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            15349 ; 166  |};
                            15350 ; 167  |
                            15351 ; 168  |union WaitMask{
                            15352 ; 169  |    struct B{
                            15353 ; 170  |        unsigned int m_bNone     :1;
                            15354 ; 171  |        unsigned int m_bMessage  :1;
                            15355 ; 172  |        unsigned int m_bTimer    :1;
                            15356 ; 173  |        unsigned int m_bButton   :1;
                            15357 ; 174  |    } B;
                            15358 ; 175  |    int I;
                            15359 ; 176  |} ;
                            15360 ; 177  |
                            15361 ; 178  |
                            15362 ; 179  |struct Button {
                            15363 ; 180  |        WORD wButtonEvent;
                            15364 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            15365 ; 182  |};
                            15366 ; 183  |
                            15367 ; 184  |struct Message {
                            15368 ; 185  |        WORD wMsgLength;
                            15369 ; 186  |        WORD wMsgCommand;
                            15370 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            15371 ; 188  |};
                            15372 ; 189  |
                            15373 ; 190  |union EventTypes {
                            15374 ; 191  |        struct CMessage msg;
                            15375 ; 192  |        struct Button Button ;
                            15376 ; 193  |        struct Message Message;
                            15377 ; 194  |};
                            15378 ; 195  |
                            15379 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            15380 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            15381 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            15382 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            15383 ; 200  |
                            15384 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            15385 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            15386 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            15387 ; 204  |
                            15388 ; 205  |#if DEBUG
                            15389 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            15390 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            15391 ; 208  |#else 
                            15392 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            15393 ; 210  |#define DebugBuildAssert(x)    
                            15394 ; 211  |#endif
                            15395 ; 212  |
                            15396 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            15397 ; 214  |//  #pragma asm
                            15398 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            15399 ; 216  |//  #pragma endasm
                            15400 ; 217  |
                            15401 ; 218  |
                            15402 ; 219  |#ifdef COLOR_262K
                            15403 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            15404 ; 221  |#elif defined(COLOR_65K)
                            15405 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            15406 ; 223  |#else
                            15407 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            15408 ; 225  |#endif
                            15409 ; 226  |    
                            15410 ; 227  |#endif // #ifndef _TYPES_H
                            15411 
                            15413 
                            15414 ; 29   |
                            15415 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15416 ; 31   |
                            15417 ; 32   |//   RTC STMP Registers 
                            15418 ; 33   |//   Edited 2/26/2002 J. Ferrara
                            15419 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15420 ; 35   |
                            15421 ; 36   |#define HW_RTC_BASEADDR (0xF500)
                            15422 ; 37   |
                            15423 ; 38   |
                            15424 ; 39   |
                            15425 ; 40   |
                            15426 ; 41   |
                            15427 ; 42   |/////////////////////////////////////////////////////////////////////////////////
                            15428 ; 43   |
                            15429 ; 44   |////  RTC Control Status Register (HW_RTC_CSR) Bit Definitions
                            15430 ; 45   |
                            15431 ; 46   |#define HW_RTC_CSR_ALARMINTEN_BITPOS (0)
                            15432 ; 47   |#define HW_RTC_CSR_ALARMINT_BITPOS (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  62

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15433 ; 48   |#define HW_RTC_CSR_WATCHDOGEN_BITPOS (2)
                            15434 ; 49   |#define HW_RTC_CSR_RSVD0_BITPOS (3)
                            15435 ; 50   |#define HW_RTC_CSR_STALEREGS_BITPOS (4)
                            15436 ; 51   |#define HW_RTC_CSR_RSVD1_BITPOS (9)
                            15437 ; 52   |#define HW_RTC_CSR_NEWREGS_BITPOS (12)
                            15438 ; 53   |#define HW_RTC_CSR_NEWREGS_XTALDIV_BITPOS (12)
                            15439 ; 54   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_BITPOS (13)
                            15440 ; 55   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS (14)
                            15441 ; 56   |#define HW_RTC_CSR_NEWREGS_PERSIST0_BITPOS (15)
                            15442 ; 57   |#define HW_RTC_CSR_NEWREGS_PERSIST1_BITPOS (16)
                            15443 ; 58   |#define HW_RTC_CSR_RSVD2_BITPOS (17)
                            15444 ; 59   |#define HW_RTC_CSR_FORCE_BITPOS (20)
                            15445 ; 60   |#define HW_RTC_CSR_RSVD3_BITPOS (21)
                            15446 ; 61   |#define HW_RTC_CSR_SFTRST_BITPOS (23)                                                                           
                            15447 ; 62   |#define HW_RTC_CSR_ALARMINTEN_WIDTH (1)
                            15448 ; 63   |#define HW_RTC_CSR_ALARMINT_WIDTH (1)
                            15449 ; 64   |#define HW_RTC_CSR_WATCHDOGEN_WIDTH (1)
                            15450 ; 65   |#define HW_RTC_CSR_RSVD0_WIDTH (1)
                            15451 ; 66   |#define HW_RTC_CSR_STALEREGS_WIDTH (5)
                            15452 ; 67   |#define HW_RTC_CSR_RSVD1_WIDTH (3)
                            15453 ; 68   |#define HW_RTC_CSR_NEWREGS_WIDTH (5)
                            15454 ; 69   |#define HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH (1)
                            15455 ; 70   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH (1)
                            15456 ; 71   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH (1)
                            15457 ; 72   |#define HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH (1)
                            15458 ; 73   |#define HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH (1)
                            15459 ; 74   |#define HW_RTC_CSR_RSVD2_WIDTH (3)
                            15460 ; 75   |#define HW_RTC_CSR_FORCE_WIDTH (1)
                            15461 ; 76   |#define HW_RTC_CSR_RSVD3_WIDTH (2)
                            15462 ; 77   |#define HW_RTC_CSR_SFTRST_WIDTH (1)
                            15463 ; 78   |
                            15464 ; 79   |#define HW_RTC_CSR_ALARMINT_SETMASK (((1<<HW_RTC_CSR_ALARMINT_WIDTH)-1)<<HW_RTC_CSR_ALARMINT_BITPOS) 
                            15465 ; 80   |#define HW_RTC_CSR_ALARMINTEN_SETMASK (((1<<HW_RTC_CSR_ALARMINTEN_WIDTH)-1)<<HW_RTC_CSR_ALARMINTEN_BITPOS) 
                            15466 ; 81   |#define HW_RTC_CSR_WATCHDOGEN_SETMASK (((1<<HW_RTC_CSR_WATCHDOGEN_WIDTH)-1)<<HW_RTC_CSR_WATCHDOGEN_BITPOS) 
                            15467 ; 82   |#define HW_RTC_CSR_RSVD0_SETMASK (((1<<HW_RTC_CSR_RSVD0_WIDTH)-1)<<HW_RTC_CSR_RSVD0_BITPOS) 
                            15468 ; 83   |#define HW_RTC_CSR_STALEREGS_SETMASK (((1<<HW_RTC_CSR_STALEREGS_WIDTH)-1)<<HW_RTC_CSR_STALEREGS_BITPOS) 
                            15469 ; 84   |#define HW_RTC_CSR_RSVD1_SETMASK (((1<<HW_RTC_CSR_RSVD1_WIDTH)-1)<<HW_RTC_CSR_RSVD1_BITPOS) 
                            15470 ; 85   |#define HW_RTC_CSR_NEWREGS_SETMASK (((1<<HW_RTC_CSR_NEWREGS_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_BITPOS) 
                            15471 ; 86   |#define HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK (((1<<HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_XTALDIV_BITPOS)   
                            15472 ; 87   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_MSCOUNT_BITPOS)
                            15473 ; 88   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS)
                            15474 ; 89   |#define HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_PERSIST0_BITPOS)
                            15475 ; 90   |#define HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_PERSIST1_BITPOS)
                            15476 ; 91   |#define HW_RTC_CSR_RSVD2_SETMASK (((1<<HW_RTC_CSR_RSVD2_WIDTH)-1)<<HW_RTC_CSR_RSVD2_BITPOS) 
                            15477 ; 92   |#define HW_RTC_CSR_FORCE_SETMASK (((1<<HW_RTC_CSR_FORCE_WIDTH)-1)<<HW_RTC_CSR_FORCE_BITPOS) 
                            15478 ; 93   |#define HW_RTC_CSR_RSVD3_SETMASK (((1<<HW_RTC_CSR_RSVD3_WIDTH)-1)<<HW_RTC_CSR_RSVD3_BITPOS) 
                            15479 ; 94   |#define HW_RTC_CSR_SFTRST_SETMASK (((1<<HW_RTC_CSR_SFTRST_WIDTH)-1)<<HW_RTC_CSR_SFTRST_BITPOS) 
                            15480 ; 95   |
                            15481 ; 96   |#define HW_RTC_CSR_ALARMINTEN_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINTEN_SETMASK)
                            15482 ; 97   |#define HW_RTC_CSR_ALARMINT_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINT_SETMASK)
                            15483 ; 98   |#define HW_RTC_CSR_WATCHDOGEN_CLRMASK (~(WORD)HW_RTC_CSR_WATCHDOGEN_SETMASK)
                            15484 ; 99   |#define HW_RTC_CSR_RSVD0_CLRMASK (~(WORD)HW_RTC_CSR_RSVD0_SETMASK)
                            15485 ; 100  |#define HW_RTC_CSR_STALEREGS_CLRMASK (~(WORD)HW_RTC_CSR_STALEREGS_SETMASK)
                            15486 ; 101  |#define HW_RTC_CSR_RSVD1_CLRMASK (~(WORD)HW_RTC_CSR_RSVD1_SETMASK)
                            15487 ; 102  |#define HW_RTC_CSR_NEWREGS_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_SETMASK)
                            15488 ; 103  |#define HW_RTC_CSR_NEWREGS_XTALDIV_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK)   
                            15489 ; 104  |#define HW_RTC_CSR_NEWREGS_MSCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK)
                            15490 ; 105  |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK)
                            15491 ; 106  |#define HW_RTC_CSR_NEWREGS_PERSIST0_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK)
                            15492 ; 107  |#define HW_RTC_CSR_NEWREGS_PERSIST1_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK)
                            15493 ; 108  |
                            15494 ; 109  |#define HW_RTC_CSR_RSVD2_CLRMASK (~(WORD)HW_RTC_CSR_RSVD2_SETMASK)
                            15495 ; 110  |#define HW_RTC_CSR_FORCE_CLRMASK (~(WORD)HW_RTC_CSR_FORCE_SETMASK)
                            15496 ; 111  |#define HW_RTC_CSR_RSVD3_CLRMASK (~(WORD)HW_RTC_CSR_RSVD3_SETMASK)
                            15497 ; 112  |#define HW_RTC_CSR_SFTRST_CLRMASK (~(WORD)HW_RTC_CSR_SFTRST_SETMASK)
                            15498 ; 113  |
                            15499 ; 114  |
                            15500 ; 115  |typedef union               
                            15501 ; 116  |{
                            15502 ; 117  |    struct {
                            15503 ; 118  |         int ALARMINTEN         : HW_RTC_CSR_ALARMINTEN_WIDTH;
                            15504 ; 119  |         int ALARMINT           : HW_RTC_CSR_ALARMINT_WIDTH;
                            15505 ; 120  |         int WATCHDOGEN         : HW_RTC_CSR_WATCHDOGEN_WIDTH;
                            15506 ; 121  |         int RSVD0              : HW_RTC_CSR_RSVD0_WIDTH;
                            15507 ; 122  |         unsigned int STALEREGS : HW_RTC_CSR_STALEREGS_WIDTH;
                            15508 ; 123  |         int RSVD1              : HW_RTC_CSR_RSVD1_WIDTH;
                            15509 ; 124  |         unsigned int NEWREGS   : HW_RTC_CSR_NEWREGS_WIDTH;
                            15510 ; 125  |         int RSVD2              : HW_RTC_CSR_RSVD2_WIDTH;
                            15511 ; 126  |         int FORCE             : HW_RTC_CSR_FORCE_WIDTH;
                            15512 ; 127  |         int RSVD3              : HW_RTC_CSR_RSVD3_WIDTH;
                            15513 ; 128  |         unsigned int SFTRST    : HW_RTC_CSR_SFTRST_WIDTH;
                            15514 ; 129  |    } B;
                            15515 ; 130  |    int I;
                            15516 ; 131  |    unsigned int U;
                            15517 ; 132  |} rtc_csr_type;
                            15518 ; 133  |#define HW_RTC_CSR      (*(volatile rtc_csr_type _X*) (HW_RTC_BASEADDR+0))    /* RTC Control / Status Register */
                            15519 ; 134  |
                            15520 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                            15521 ; 136  |
                            15522 ; 137  |//  RTC Milliseconds Register0 (HW_RTC_MSECONDS0) Bit Definitions
                            15523 ; 138  |
                            15524 ; 139  |#define HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS (0)
                            15525 ; 140  |
                            15526 ; 141  |#define HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH (24)
                            15527 ; 142  |
                            15528 ; 143  |#define HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK (((1<<HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH)-1)<<HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS) 
                            15529 ; 144  |
                            15530 ; 145  |#define HW_RTC_MSECONDS0_MSECONDSLOW_CLRMASK (~(WORD)HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK)
                            15531 ; 146  |
                            15532 ; 147  |typedef union               
                            15533 ; 148  |{
                            15534 ; 149  |    struct {
                            15535 ; 150  |         int MSECONDSLOW        : HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH;
                            15536 ; 151  |    } B;
                            15537 ; 152  |    int I;
                            15538 ; 153  |    unsigned int U;
                            15539 ; 154  |} rtc_mseconds0_type;
                            15540 ; 155  |#define HW_RTC_MSECONDS0      (*(volatile rtc_mseconds0_type _X*) (HW_RTC_BASEADDR+1))    /* RTC MSECONDS Lower Word Register */
                            15541 ; 156  |#define HW_RTCLOWR            HW_RTC_MSECONDS0
                            15542 ; 157  |/////////////////////////////////////////////////////////////////////////////////
                            15543 ; 158  |
                            15544 ; 159  |//  RTC Milliseconds Register1 (HW_RTC_MSECONDS1) Bit Definitions
                            15545 ; 160  |
                            15546 ; 161  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS (0)
                            15547 ; 162  |
                            15548 ; 163  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH (24)
                            15549 ; 164  |
                            15550 ; 165  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_SETMASK (((1<<HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH)-1)<<HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS) 
                            15551 ; 166  |
                            15552 ; 167  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_CLRMASK (~(WORD)HW_RTC_MSECONDS1_MSECONDSHIGH_SETMASK)
                            15553 ; 168  |
                            15554 ; 169  |typedef union               
                            15555 ; 170  |{
                            15556 ; 171  |    struct {
                            15557 ; 172  |         int MSECONDSHIGH       : HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH;
                            15558 ; 173  |    } B;
                            15559 ; 174  |    int I;
                            15560 ; 175  |    unsigned int U;
                            15561 ; 176  |} rtc_mseconds1_type;
                            15562 ; 177  |#define HW_RTC_MSECONDS1      (*(volatile rtc_mseconds1_type _X*) (HW_RTC_BASEADDR+2))    /* RTC MSECONDS Upper Word Register */
                            15563 ; 178  |#define HW_RTCUPR             HW_RTC_MSECONDS1
                            15564 ; 179  |
                            15565 ; 180  |#define HW_RTC_LOWER_OFFSET 1
                            15566 ; 181  |#define HW_RTC_UP_OFFSET 2
                            15567 ; 182  |
                            15568 ; 183  |
                            15569 ; 184  |/////////////////////////////////////////////////////////////////////////////////
                            15570 ; 185  |
                            15571 ; 186  |//  RTC Watchdog Count (HW_RTC_WATCHDOG) Bit Definitions
                            15572 ; 187  |
                            15573 ; 188  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_BITPOS (0)
                            15574 ; 189  |
                            15575 ; 190  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH (24)
                            15576 ; 191  |
                            15577 ; 192  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK (((1<<HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH)-1)<<HW_RTC_WATCHDOG_TIMEOUTCNT_BITPOS) 
                            15578 ; 193  |
                            15579 ; 194  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_CLRMASK (~(WORD)HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK)
                            15580 ; 195  |
                            15581 ; 196  |typedef union               
                            15582 ; 197  |{
                            15583 ; 198  |    struct {
                            15584 ; 199  |         int TIMEOUTCNT         : HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH;
                            15585 ; 200  |    } B;
                            15586 ; 201  |    int I;
                            15587 ; 202  |    unsigned int U;
                            15588 ; 203  |} rtc_watchdog_type;
                            15589 ; 204  |#define HW_RTC_WATCHDOG     (*(volatile rtc_watchdog_type _X*) (HW_RTC_BASEADDR+3))    /* RTC Watchdog Timeout Register */
                            15590 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                            15591 ; 206  |
                            15592 ; 207  |//  RTC Alarm Register0 (HW_RTC_ALARM0) Bit Definitions
                            15593 ; 208  |
                            15594 ; 209  |#define HW_RTC_ALARM0_ALARMLOW_BITPOS (0)
                            15595 ; 210  |
                            15596 ; 211  |#define HW_RTC_ALARM0_ALARMLOW_WIDTH (24)
                            15597 ; 212  |
                            15598 ; 213  |#define HW_RTC_ALARM0_ALARMLOW_SETMASK (((1<<HW_RTC_ALARM0_ALARMLOW_WIDTH)-1)<<HW_RTC_ALARM0_ALARMLOW_BITPOS) 
                            15599 ; 214  |
                            15600 ; 215  |#define HW_RTC_ALARM0_ALARMLOW_CLRMASK (~(WORD)HW_RTC_ALARM0_ALARMLOW_SETMASK)
                            15601 ; 216  |
                            15602 ; 217  |typedef union               
                            15603 ; 218  |{
                            15604 ; 219  |    struct {
                            15605 ; 220  |         int ALARMLOW   : HW_RTC_ALARM0_ALARMLOW_WIDTH;
                            15606 ; 221  |    } B;
                            15607 ; 222  |    int I;
                            15608 ; 223  |    unsigned int U;
                            15609 ; 224  |} rtc_alarm0_type;
                            15610 ; 225  |#define HW_RTC_ALARM0      (*(volatile rtc_alarm0_type _X*) (HW_RTC_BASEADDR+4))    /* RTC ALARM Lower Word Register */
                            15611 ; 226  |/////////////////////////////////////////////////////////////////////////////////
                            15612 ; 227  |
                            15613 ; 228  |//  RTC Alarm Register1 (HW_RTC_ALARM1) Bit Definitions
                            15614 ; 229  |
                            15615 ; 230  |#define HW_RTC_ALARM1_ALARMHIGH_BITPOS (0)
                            15616 ; 231  |
                            15617 ; 232  |#define HW_RTC_ALARM1_ALARMHIGH_WIDTH (24)
                            15618 ; 233  |
                            15619 ; 234  |#define HW_RTC_ALARM1_ALARMHIGH_SETMASK (((1<<HW_RTC_ALARM1_ALARMHIGH_WIDTH)-1)<<HW_RTC_ALARM1_ALARMHIGH_BITPOS) 
                            15620 ; 235  |
                            15621 ; 236  |#define HW_RTC_ALARM1_ALARMHIGH_CLRMASK (~(WORD)HW_RTC_ALARM1_ALARMHIGH_SETMASK)
                            15622 ; 237  |
                            15623 ; 238  |typedef union               
                            15624 ; 239  |{
                            15625 ; 240  |    struct {
                            15626 ; 241  |         int ALARMHIGH  : HW_RTC_ALARM1_ALARMHIGH_WIDTH;
                            15627 ; 242  |    } B;
                            15628 ; 243  |    int I;
                            15629 ; 244  |    unsigned int U;
                            15630 ; 245  |} rtc_alarm1_type;
                            15631 ; 246  |#define HW_RTC_ALARM1      (*(volatile rtc_alarm1_type _X*) (HW_RTC_BASEADDR+5))    /* RTC ALARM Upper Word Register */
                            15632 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                            15633 ; 248  |
                            15634 ; 249  |//  RTC Xtal-Clock Divide Register (HW_RTC_XTALDIVIDE) Bit Definitions
                            15635 ; 250  |
                            15636 ; 251  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_BITPOS (0)
                            15637 ; 252  |#define HW_RTC_XTALDIVIDE_RSVD0_BITPOS (16)
                            15638 ; 253  |
                            15639 ; 254  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH (16)
                            15640 ; 255  |#define HW_RTC_XTALDIVIDE_RSVD0_WIDTH (8)
                            15641 ; 256  |
                            15642 ; 257  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK (((1<<HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH)-1)<<HW_RTC_XTALDIVIDE_DIVCOUNT_BITPOS) 
                            15643 ; 258  |#define HW_RTC_XTALDIVIDE_RSVD0_SETMASK (((1<<HW_RTC_XTALDIVIDE_RSVD0_BITPOS)-1)<<HW_RTC_XTALDIVIDE_RSVD0_BITPOS) 
                            15644 ; 259  |
                            15645 ; 260  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK)
                            15646 ; 261  |#define HW_RTC_XTALDIVIDE_RSVD0_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_RSVD0_SETMASK)
                            15647 ; 262  |
                            15648 ; 263  |typedef union               
                            15649 ; 264  |{
                            15650 ; 265  |    struct {
                            15651 ; 266  |         int DIVCOUNT   : HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH;
                            15652 ; 267  |         int RSVD0      : HW_RTC_XTALDIVIDE_RSVD0_WIDTH;
                            15653 ; 268  |    } B;
                            15654 ; 269  |    int I;
                            15655 ; 270  |    unsigned int U;
                            15656 ; 271  |} rtc_xtaldivide_type;
                            15657 ; 272  |#define HW_RTC_XTALDIVIDE   (*(volatile rtc_xtaldivide_type _X*) (HW_RTC_BASEADDR+6))  /* RTC Xtal-clock Pre-Divider Word Register */
                            15658 ; 273  |/////////////////////////////////////////////////////////////////////////////////
                            15659 ; 274  |
                            15660 ; 275  |//  RTC PERSISTENT Register0 (HW_RTC_PERSISTENT0) Bit Definitions
                            15661 ; 276  |
                            15662 ; 277  |#define HW_RTC_PERSISTENT0_ALARMEN_BITPOS (0)
                            15663 ; 278  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS (1)
                            15664 ; 279  |#define HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS (2)
                            15665 ; 280  |#define HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS (3)
                            15666 ; 281  |#define HW_RTC_PERSISTENT0_RSVD0_BITPOS (4)
                            15667 ; 282  |
                            15668 ; 283  |#define HW_RTC_PERSISTENT0_ALARMEN_WIDTH (1)
                            15669 ; 284  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH (1)
                            15670 ; 285  |#define HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH (1)
                            15671 ; 286  |#define HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH (1)
                            15672 ; 287  |#define HW_RTC_PERSISTENT0_RSVD0_WIDTH (21)
                            15673 ; 288  |
                            15674 ; 289  |#define HW_RTC_PERSISTENT0_ALARMEN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMEN_WIDTH)-1)<<HW_RTC_PERSISTENT0_ALARMEN_BITPOS) 
                            15675 ; 290  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH)-1)<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS)
                            15676 ; 291  |#define HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH)-1)<<HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS) 
                            15677 ; 292  |#define HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK (((1<<HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH)-1)<<HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS) 
                            15678 ; 293  |#define HW_RTC_PERSISTENT0_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT0_RSVD0_WIDTH)-1)<<HW_RTC_PERSISTENT0_RSVD0_BITPOS) 
                            15679 ; 294  |
                            15680 ; 295  |#define HW_RTC_PERSISTENT0_ALARMEN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMEN_SETMASK)
                            15681 ; 296  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_EN_SETMASK)
                            15682 ; 297  |#define HW_RTC_PERSISTENT0_ALARMWAKE_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK)
                            15683 ; 298  |#define HW_RTC_PERSISTENT0_XTALPDOWN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  63

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15684 ; 299  |#define HW_RTC_PERSISTENT0_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_RSVD0_SETMASK)
                            15685 ; 300  |
                            15686 ; 301  |typedef union               
                            15687 ; 302  |{
                            15688 ; 303  |   struct {
                            15689 ; 304  |      int ALARMEN   : HW_RTC_PERSISTENT0_ALARMEN_WIDTH;
                            15690 ; 305  |           int ALARMWAKE_EN  :  HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH;
                            15691 ; 306  |      int ALARMWAKE : HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH;
                            15692 ; 307  |      int XTALPDOWN : HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH;
                            15693 ; 308  |      int RSVD0     : HW_RTC_PERSISTENT0_RSVD0_WIDTH;
                            15694 ; 309  |   } B;
                            15695 ; 310  |    int I;
                            15696 ; 311  |    unsigned int U;
                            15697 ; 312  |} rtc_PERSISTENT0_type;
                            15698 ; 313  |#define HW_RTC_PERSISTENT0   (*(volatile rtc_PERSISTENT0_type _X*) (HW_RTC_BASEADDR+7))  /* RTC PERSISTENT Register0 */
                            15699 ; 314  |
                            15700 ; 315  |/////////////////////////////////////////////////////////////////////////////////
                            15701 ; 316  |
                            15702 ; 317  |//  RTC PERSISTENT Register1 (HW_RTC_PERSISTENT1) Bit Definitions
                            15703 ; 318  |
                            15704 ; 319  |#define HW_RTC_PERSISTENT1_RSVD0_BITPOS (0)
                            15705 ; 320  |
                            15706 ; 321  |#define HW_RTC_PERSISTENT1_RSVD0_WIDTH (24)
                            15707 ; 322  |
                            15708 ; 323  |#define HW_RTC_PERSISTENT1_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT1_RSVD0_WIDTH)-1)<<HW_RTC_PERSISTENT1_RSVD0_BITPOS) 
                            15709 ; 324  |
                            15710 ; 325  |#define HW_RTC_PERSISTENT1_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT1_RSVD0_SETMASK)
                            15711 ; 326  |
                            15712 ; 327  |
                            15713 ; 328  |typedef union               
                            15714 ; 329  |{
                            15715 ; 330  |    struct {
                            15716 ; 331  |         int RSVD0      : HW_RTC_PERSISTENT1_RSVD0_WIDTH;
                            15717 ; 332  |    } B;
                            15718 ; 333  |    int I;
                            15719 ; 334  |    unsigned int U;
                            15720 ; 335  |} rtc_PERSISTENT1_type;
                            15721 ; 336  |#define HW_RTC_PERSISTENT1   (*(volatile rtc_PERSISTENT1_type _X*) (HW_RTC_BASEADDR+8))  /* RTC PERSISTENT Register1 */
                            15722 ; 337  |
                            15723 ; 338  |
                            15724 ; 339  |#endif
                            15725 ; 340  |
                            15726 ; 341  |
                            15727 ; 342  |
                            15728 ; 343  |
                            15729 ; 344  |
                            15730 ; 345  |
                            15731 ; 346  |
                            15732 ; 347  |
                            15733 ; 348  |
                            15734 ; 349  |
                            15735 ; 350  |
                            15736 ; 351  |
                            15737 ; 352  |
                            15738 ; 353  |
                            15739 
                            15741 
                            15742 ; 30   |#include "regsspare.h"
                            15743 
                            15745 
                            15746 ; 1    |#if !(defined(RESGSSPARE_INC))
                            15747 ; 2    |#define RESGSSPARE_INC 1
                            15748 ; 3    |
                            15749 ; 4    |#define HW_SPARER_BASEADDR (0xFA16)
                            15750 ; 5    |
                            15751 ; 6    |
                            15752 ; 7    |#define HW_SPARER_I2SS_BITPOS 0
                            15753 ; 8    |#define HW_SPARER_USB_SELECT_BITPOS 1
                            15754 ; 9    |#define HW_SPARER_USB_PLUGIN_BITPOS 8
                            15755 ; 10   |#define HW_SPARER_PSWITCH_BITPOS 9
                            15756 ; 11   |
                            15757 ; 12   |#define HW_SPARER_I2SS_SETMASK 1<<HW_SPARER_I2SS_BITPOS
                            15758 ; 13   |#define HW_SPARER_USB_SELECT_SETMASK 1<<HW_SPARER_USB_SELECT_BITPOS
                            15759 ; 14   |
                            15760 ; 15   |#define HW_SPARER_I2SS_CLRMASK ~(WORD)HW_SPARER_I2SS_SETMASK
                            15761 ; 16   |#define HW_SPARER_USB_SELECT_CLRMASK ~(WORD)HW_SPARER_USB_SELECT_SETMASK
                            15762 ; 17   |
                            15763 ; 18   |
                            15764 ; 19   |
                            15765 ; 20   |typedef union               
                            15766 ; 21   |{
                            15767 ; 22   |    struct {
                            15768 ; 23   |        int      I2SS       :1;     
                            15769 ; 24   |        int      USBSELECT  :1;     
                            15770 ; 25   |        unsigned            :6;
                            15771 ; 26   |        int      USBPLUGIN  :1;     
                            15772 ; 27   |        int      PSWITCH    :1;     
                            15773 ; 28   |    } B;
                            15774 ; 29   |
                            15775 ; 30   |    int I;
                            15776 ; 31   |
                            15777 ; 32   |} spare_type;
                            15778 ; 33   |#define HW_SPARER      (*(volatile spare_type _X*) (HW_SPARER_BASEADDR))
                            15779 ; 34   |
                            15780 ; 35   |
                            15781 ; 36   |
                            15782 ; 37   |#endif
                            15783 
                            15785 
                            15786 ; 31   |#include "regsspi.h"
                            15787 
                            15789 
                            15790 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15791 ; 2    |//;; Copyright(C) SigmaTel, Inc. 2002-2003
                            15792 ; 3    |//;; Filename    : regsspi.inc
                            15793 ; 4    |//;; Description : Register definitions for SPI interface
                            15794 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15795 ; 6    |
                            15796 ; 7    |/////////////////////////////////////////////////////////////////////////////////
                            15797 ; 8    |// The following naming conventions are followed in this file.
                            15798 ; 9    |// All registers are named using the format...
                            15799 ; 10   |//     HW_<module>_<regname>
                            15800 ; 11   |// where <module> is the module name which can be any of the following...
                            15801 ; 12   |//     USB20
                            15802 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            15803 ; 14   |// module name includes a number starting from 0 for the first instance of
                            15804 ; 15   |// that module)
                            15805 ; 16   |// <regname> is the specific register within that module
                            15806 ; 17   |// We also define the following...
                            15807 ; 18   |//     HW_<module>_<regname>_BITPOS
                            15808 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            15809 ; 20   |//     HW_<module>_<regname>_SETMASK
                            15810 ; 21   |// which does something else, and
                            15811 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            15812 ; 23   |// which does something else.
                            15813 ; 24   |// Other rules
                            15814 ; 25   |//     All caps
                            15815 ; 26   |//     Numeric identifiers start at 0
                            15816 ; 27   |#if !(defined(regsspiinc))
                            15817 ; 28   |#define regsspiinc 1
                            15818 ; 29   |
                            15819 ; 30   |#include "types.h"
                            15820 
                            15822 
                            15823 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            15824 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            15825 ; 3    |//
                            15826 ; 4    |// Filename: types.h
                            15827 ; 5    |// Description: Standard data types
                            15828 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            15829 ; 7    |
                            15830 ; 8    |#ifndef _TYPES_H
                            15831 ; 9    |#define _TYPES_H
                            15832 ; 10   |
                            15833 ; 11   |// TODO:  move this outta here!
                            15834 ; 12   |#if !defined(NOERROR)
                            15835 ; 13   |#define NOERROR 0
                            15836 ; 14   |#define SUCCESS 0
                            15837 ; 15   |#endif 
                            15838 ; 16   |#if !defined(SUCCESS)
                            15839 ; 17   |#define SUCCESS  0
                            15840 ; 18   |#endif
                            15841 ; 19   |#if !defined(ERROR)
                            15842 ; 20   |#define ERROR   -1
                            15843 ; 21   |#endif
                            15844 ; 22   |#if !defined(FALSE)
                            15845 ; 23   |#define FALSE 0
                            15846 ; 24   |#endif
                            15847 ; 25   |#if !defined(TRUE)
                            15848 ; 26   |#define TRUE  1
                            15849 ; 27   |#endif
                            15850 ; 28   |
                            15851 ; 29   |#if !defined(NULL)
                            15852 ; 30   |#define NULL 0
                            15853 ; 31   |#endif
                            15854 ; 32   |
                            15855 ; 33   |#define MAX_INT     0x7FFFFF
                            15856 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            15857 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            15858 ; 36   |#define MAX_ULONG   (-1) 
                            15859 ; 37   |
                            15860 ; 38   |#define WORD_SIZE   24              // word size in bits
                            15861 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            15862 ; 40   |
                            15863 ; 41   |
                            15864 ; 42   |#define BYTE    unsigned char       // btVarName
                            15865 ; 43   |#define CHAR    signed char         // cVarName
                            15866 ; 44   |#define USHORT  unsigned short      // usVarName
                            15867 ; 45   |#define SHORT   unsigned short      // sVarName
                            15868 ; 46   |#define WORD    unsigned int        // wVarName
                            15869 ; 47   |#define INT     signed int          // iVarName
                            15870 ; 48   |#define DWORD   unsigned long       // dwVarName
                            15871 ; 49   |#define LONG    signed long         // lVarName
                            15872 ; 50   |#define BOOL    unsigned int        // bVarName
                            15873 ; 51   |#define FRACT   _fract              // frVarName
                            15874 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            15875 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            15876 ; 54   |#define FLOAT   float               // fVarName
                            15877 ; 55   |#define DBL     double              // dVarName
                            15878 ; 56   |#define ENUM    enum                // eVarName
                            15879 ; 57   |#define CMX     _complex            // cmxVarName
                            15880 ; 58   |typedef WORD UCS3;                   // 
                            15881 ; 59   |
                            15882 ; 60   |#define UINT16  unsigned short
                            15883 ; 61   |#define UINT8   unsigned char   
                            15884 ; 62   |#define UINT32  unsigned long
                            15885 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            15886 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            15887 ; 65   |#define WCHAR   UINT16
                            15888 ; 66   |
                            15889 ; 67   |//UINT128 is 16 bytes or 6 words
                            15890 ; 68   |typedef struct UINT128_3500 {   
                            15891 ; 69   |    int val[6];     
                            15892 ; 70   |} UINT128_3500;
                            15893 ; 71   |
                            15894 ; 72   |#define UINT128   UINT128_3500
                            15895 ; 73   |
                            15896 ; 74   |// Little endian word packed byte strings:   
                            15897 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            15898 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            15899 ; 77   |// Little endian word packed byte strings:   
                            15900 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            15901 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            15902 ; 80   |
                            15903 ; 81   |// Declare Memory Spaces To Use When Coding
                            15904 ; 82   |// A. Sector Buffers
                            15905 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            15906 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            15907 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            15908 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            15909 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            15910 ; 88   |// B. Media DDI Memory
                            15911 ; 89   |#define MEDIA_DDI_MEM _Y
                            15912 ; 90   |
                            15913 ; 91   |
                            15914 ; 92   |
                            15915 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            15916 ; 94   |// Examples of circular pointers:
                            15917 ; 95   |//    INT CIRC cpiVarName
                            15918 ; 96   |//    DWORD CIRC cpdwVarName
                            15919 ; 97   |
                            15920 ; 98   |#define RETCODE INT                 // rcVarName
                            15921 ; 99   |
                            15922 ; 100  |// generic bitfield structure
                            15923 ; 101  |struct Bitfield {
                            15924 ; 102  |    unsigned int B0  :1;
                            15925 ; 103  |    unsigned int B1  :1;
                            15926 ; 104  |    unsigned int B2  :1;
                            15927 ; 105  |    unsigned int B3  :1;
                            15928 ; 106  |    unsigned int B4  :1;
                            15929 ; 107  |    unsigned int B5  :1;
                            15930 ; 108  |    unsigned int B6  :1;
                            15931 ; 109  |    unsigned int B7  :1;
                            15932 ; 110  |    unsigned int B8  :1;
                            15933 ; 111  |    unsigned int B9  :1;
                            15934 ; 112  |    unsigned int B10 :1;
                            15935 ; 113  |    unsigned int B11 :1;
                            15936 ; 114  |    unsigned int B12 :1;
                            15937 ; 115  |    unsigned int B13 :1;
                            15938 ; 116  |    unsigned int B14 :1;
                            15939 ; 117  |    unsigned int B15 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  64

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15940 ; 118  |    unsigned int B16 :1;
                            15941 ; 119  |    unsigned int B17 :1;
                            15942 ; 120  |    unsigned int B18 :1;
                            15943 ; 121  |    unsigned int B19 :1;
                            15944 ; 122  |    unsigned int B20 :1;
                            15945 ; 123  |    unsigned int B21 :1;
                            15946 ; 124  |    unsigned int B22 :1;
                            15947 ; 125  |    unsigned int B23 :1;
                            15948 ; 126  |};
                            15949 ; 127  |
                            15950 ; 128  |union BitInt {
                            15951 ; 129  |        struct Bitfield B;
                            15952 ; 130  |        int        I;
                            15953 ; 131  |};
                            15954 ; 132  |
                            15955 ; 133  |#define MAX_MSG_LENGTH 10
                            15956 ; 134  |struct CMessage
                            15957 ; 135  |{
                            15958 ; 136  |        unsigned int m_uLength;
                            15959 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            15960 ; 138  |};
                            15961 ; 139  |
                            15962 ; 140  |typedef struct {
                            15963 ; 141  |    WORD m_wLength;
                            15964 ; 142  |    WORD m_wMessage;
                            15965 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            15966 ; 144  |} Message;
                            15967 ; 145  |
                            15968 ; 146  |struct MessageQueueDescriptor
                            15969 ; 147  |{
                            15970 ; 148  |        int *m_pBase;
                            15971 ; 149  |        int m_iModulo;
                            15972 ; 150  |        int m_iSize;
                            15973 ; 151  |        int *m_pHead;
                            15974 ; 152  |        int *m_pTail;
                            15975 ; 153  |};
                            15976 ; 154  |
                            15977 ; 155  |struct ModuleEntry
                            15978 ; 156  |{
                            15979 ; 157  |    int m_iSignaledEventMask;
                            15980 ; 158  |    int m_iWaitEventMask;
                            15981 ; 159  |    int m_iResourceOfCode;
                            15982 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            15983 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            15984 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            15985 ; 163  |    int m_uTimeOutHigh;
                            15986 ; 164  |    int m_uTimeOutLow;
                            15987 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            15988 ; 166  |};
                            15989 ; 167  |
                            15990 ; 168  |union WaitMask{
                            15991 ; 169  |    struct B{
                            15992 ; 170  |        unsigned int m_bNone     :1;
                            15993 ; 171  |        unsigned int m_bMessage  :1;
                            15994 ; 172  |        unsigned int m_bTimer    :1;
                            15995 ; 173  |        unsigned int m_bButton   :1;
                            15996 ; 174  |    } B;
                            15997 ; 175  |    int I;
                            15998 ; 176  |} ;
                            15999 ; 177  |
                            16000 ; 178  |
                            16001 ; 179  |struct Button {
                            16002 ; 180  |        WORD wButtonEvent;
                            16003 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            16004 ; 182  |};
                            16005 ; 183  |
                            16006 ; 184  |struct Message {
                            16007 ; 185  |        WORD wMsgLength;
                            16008 ; 186  |        WORD wMsgCommand;
                            16009 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            16010 ; 188  |};
                            16011 ; 189  |
                            16012 ; 190  |union EventTypes {
                            16013 ; 191  |        struct CMessage msg;
                            16014 ; 192  |        struct Button Button ;
                            16015 ; 193  |        struct Message Message;
                            16016 ; 194  |};
                            16017 ; 195  |
                            16018 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            16019 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            16020 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            16021 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            16022 ; 200  |
                            16023 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            16024 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            16025 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            16026 ; 204  |
                            16027 ; 205  |#if DEBUG
                            16028 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            16029 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            16030 ; 208  |#else 
                            16031 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            16032 ; 210  |#define DebugBuildAssert(x)    
                            16033 ; 211  |#endif
                            16034 ; 212  |
                            16035 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            16036 ; 214  |//  #pragma asm
                            16037 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            16038 ; 216  |//  #pragma endasm
                            16039 ; 217  |
                            16040 ; 218  |
                            16041 ; 219  |#ifdef COLOR_262K
                            16042 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            16043 ; 221  |#elif defined(COLOR_65K)
                            16044 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            16045 ; 223  |#else
                            16046 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            16047 ; 225  |#endif
                            16048 ; 226  |    
                            16049 ; 227  |#endif // #ifndef _TYPES_H
                            16050 
                            16052 
                            16053 ; 31   |
                            16054 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16055 ; 33   |
                            16056 ; 34   |//   SPI STMP3500 Registers 
                            16057 ; 35   |//   Last Updated 7.7.2003 Dave Dyches
                            16058 ; 36   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16059 ; 37   |
                            16060 ; 38   |#define HW_SPI_BASEADDR (0xFFF9)
                            16061 ; 39   |
                            16062 ; 40   |
                            16063 ; 41   |
                            16064 ; 42   |// /////////////////////////////////////////////
                            16065 ; 43   |// //  SPI Control/Status Register Bit Definitions
                            16066 ; 44   |#define HW_SPCSR_SPE_BITPOS (0)
                            16067 ; 45   |#define HW_SPCSR_MSTR_BITPOS (1)
                            16068 ; 46   |#define HW_SPCSR_SPIE_BITPOS (2)
                            16069 ; 47   |#define HW_SPCSR_CPOL_BITPOS (3)
                            16070 ; 48   |#define HW_SPCSR_CPHA_BITPOS (4)
                            16071 ; 49   |#define HW_SPCSR_SPIF_BITPOS (5)
                            16072 ; 50   |#define HW_SPCSR_WCOL_BITPOS (6)
                            16073 ; 51   |#define HW_SPCSR_MODF_BITPOS (7)
                            16074 ; 52   |#define HW_SPCSR_DIV_BITPOS (8)
                            16075 ; 53   |#define HW_SPCSR_RSVD_BITPOS (16)
                            16076 ; 54   |
                            16077 ; 55   |#define HW_SPCSR_SPE_WIDTH (1)
                            16078 ; 56   |#define HW_SPCSR_MSTR_WIDTH (1)
                            16079 ; 57   |#define HW_SPCSR_SPIE_WIDTH (1)
                            16080 ; 58   |#define HW_SPCSR_CPOL_WIDTH (1)
                            16081 ; 59   |#define HW_SPCSR_CPHA_WIDTH (1)
                            16082 ; 60   |#define HW_SPCSR_SPIF_WIDTH (1)
                            16083 ; 61   |#define HW_SPCSR_WCOL_WIDTH (1)
                            16084 ; 62   |#define HW_SPCSR_MODF_WIDTH (1)
                            16085 ; 63   |#define HW_SPCSR_DIV_WIDTH (8)
                            16086 ; 64   |#define HW_SPCSR_RSVD_WIDTH (8)
                            16087 ; 65   |
                            16088 ; 66   |#define HW_SPCSR_SPE_SETMASK (((1<<HW_SPCSR_SPE_WIDTH)-1)<<HW_SPCSR_SPE_BITPOS)
                            16089 ; 67   |#define HW_SPCSR_MSTR_SETMASK (((1<<HW_SPCSR_MSTR_WIDTH)-1)<<HW_SPCSR_MSTR_BITPOS)
                            16090 ; 68   |#define HW_SPCSR_SPIE_SETMASK (((1<<HW_SPCSR_SPIE_WIDTH)-1)<<HW_SPCSR_SPIE_BITPOS)
                            16091 ; 69   |#define HW_SPCSR_CPOL_SETMASK (((1<<HW_SPCSR_CPOL_WIDTH)-1)<<HW_SPCSR_CPOL_BITPOS)
                            16092 ; 70   |#define HW_SPCSR_CPHA_SETMASK (((1<<HW_SPCSR_CPHA_WIDTH)-1)<<HW_SPCSR_CPHA_BITPOS)
                            16093 ; 71   |#define HW_SPCSR_SPIF_SETMASK (((1<<HW_SPCSR_SPIF_WIDTH)-1)<<HW_SPCSR_SPIF_BITPOS)
                            16094 ; 72   |#define HW_SPCSR_WCOL_SETMASK (((1<<HW_SPCSR_WCOL_WIDTH)-1)<<HW_SPCSR_WCOL_BITPOS)
                            16095 ; 73   |#define HW_SPCSR_MODF_SETMASK (((1<<HW_SPCSR_MODF_WIDTH)-1)<<HW_SPCSR_MODF_BITPOS)
                            16096 ; 74   |#define HW_SPCSR_DIV_SETMASK (((1<<HW_SPCSR_DIV_WIDTH)-1)<<HW_SPCSR_DIV_BITPOS)
                            16097 ; 75   |#define HW_SPCSR_RSVD_SETMASK (((1<<HW_SPCSR_RSVD_WIDTH)-1)<<HW_SPCSR_RSVD_BITPOS)
                            16098 ; 76   |
                            16099 ; 77   |#define HW_SPCSR_SPE_CLRMASK (~(WORD)HW_SPCSR_SPE_SETMASK)
                            16100 ; 78   |#define HW_SPCSR_MSTR_CLRMASK (~(WORD)HW_SPCSR_MSTR_SETMASK)
                            16101 ; 79   |#define HW_SPCSR_SPIE_CLRMASK (~(WORD)HW_SPCSR_SPIE_SETMASK)
                            16102 ; 80   |#define HW_SPCSR_CPOL_CLRMASK (~(WORD)HW_SPCSR_CPOL_SETMASK)
                            16103 ; 81   |#define HW_SPCSR_CPHA_CLRMASK (~(WORD)HW_SPCSR_CPHA_SETMASK)
                            16104 ; 82   |#define HW_SPCSR_SPIF_CLRMASK (~(WORD)HW_SPCSR_SPIF_SETMASK)
                            16105 ; 83   |#define HW_SPCSR_WCOL_CLRMASK (~(WORD)HW_SPCSR_WCOL_SETMASK)
                            16106 ; 84   |#define HW_SPCSR_MODF_CLRMASK (~(WORD)HW_SPCSR_MODF_SETMASK)
                            16107 ; 85   |#define HW_SPCSR_DIV_CLRMASK (~(WORD)HW_SPCSR_DIV_SETMASK)
                            16108 ; 86   |#define HW_SPCSR_RSVD_CLRMASK (~(WORD)HW_SPCSR_RSVD_SETMASK)
                            16109 ; 87   |
                            16110 ; 88   |typedef union               
                            16111 ; 89   |{
                            16112 ; 90   |    struct {
                            16113 ; 91   |        int SPE                 : HW_SPCSR_SPE_WIDTH;    
                            16114 ; 92   |        int MSTR                : HW_SPCSR_MSTR_WIDTH;
                            16115 ; 93   |        int SPIE                    : HW_SPCSR_SPIE_WIDTH;
                            16116 ; 94   |        int CPOL                : HW_SPCSR_CPOL_WIDTH;
                            16117 ; 95   |        int CPHA                : HW_SPCSR_CPHA_WIDTH;
                            16118 ; 96   |        int SPIF                : HW_SPCSR_SPIF_WIDTH;
                            16119 ; 97   |        int WCOL                    : HW_SPCSR_WCOL_WIDTH;
                            16120 ; 98   |        int MODF                : HW_SPCSR_MODF_WIDTH;
                            16121 ; 99   |        int DIV                 : HW_SPCSR_DIV_WIDTH;
                            16122 ; 100  |    } B;
                            16123 ; 101  |
                            16124 ; 102  |    int I;
                            16125 ; 103  |    unsigned int U;
                            16126 ; 104  |} spcsr_type;
                            16127 ; 105  |#define HW_SPCSR      (*(volatile spcsr_type _X*) (HW_SPI_BASEADDR))    /* SPI Control / Status Register */
                            16128 ; 106  |
                            16129 ; 107  |// /////////////////////////////////////////////
                            16130 ; 108  |// //  SPI Data Register Bit Definitions
                            16131 ; 109  |#define HW_SPDR_SPIDATA_BITPOS (0)
                            16132 ; 110  |#define HW_SPDR_RSVD_BITPOS (8)
                            16133 ; 111  |
                            16134 ; 112  |#define HW_SPDR_SPIDATA_WIDTH (8)
                            16135 ; 113  |#define HW_SPDR_RSVD_WIDTH (16)
                            16136 ; 114  |
                            16137 ; 115  |#define HW_SPDR_SPIDATA_SETMASK (((1<<HW_SPDR_SPIDATA_WIDTH)-1)<<HW_SPDR_SPIDATA_BITPOS)
                            16138 ; 116  |#define HW_SPDR_RSVD_SETMASK (((1<<HW_SPDR_RSVD_WIDTH)-1)<<HW_SPDR_RSVD_BITPOS)
                            16139 ; 117  |
                            16140 ; 118  |#define HW_SPDR_SPIDATA_CLRMASK (~(WORD)HW_SPDR_SPIDATA_SETMASK) 
                            16141 ; 119  |#define HW_SPDR_RSVD_CLRMASK (~(WORD)HW_SPDR_RSVD_SETMASK)
                            16142 ; 120  |
                            16143 ; 121  |typedef union               
                            16144 ; 122  |{
                            16145 ; 123  |    struct {
                            16146 ; 124  |        int SPIDATA                     : HW_SPDR_SPIDATA_WIDTH;
                            16147 ; 125  |    } B;
                            16148 ; 126  |
                            16149 ; 127  |    int I;
                            16150 ; 128  |    unsigned int U;
                            16151 ; 129  |} spdr_type;
                            16152 ; 130  |#define HW_SPDR      (*(volatile spdr_type _X*) (HW_SPI_BASEADDR+1))    /* SPI Data Register */
                            16153 ; 131  |
                            16154 ; 132  |
                            16155 ; 133  |#endif
                            16156 ; 134  |
                            16157 ; 135  |
                            16158 
                            16160 
                            16161 ; 32   |#include "regsswizzle.h"
                            16162 
                            16164 
                            16165 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16166 ; 2    |//;; Copyright(C) SigmaTel, Inc. 2002-2003
                            16167 ; 3    |//;; Filename    : regsswizzle.inc
                            16168 ; 4    |//;; Description : Register definitions for Swizzle interface
                            16169 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16170 ; 6    |
                            16171 ; 7    |/////////////////////////////////////////////////////////////////////////////////
                            16172 ; 8    |// The following naming conventions are followed in this file.
                            16173 ; 9    |// All registers are named using the format...
                            16174 ; 10   |//     HW_<module>_<regname>
                            16175 ; 11   |// where <module> is the module name which can be any of the following...
                            16176 ; 12   |//     USB20
                            16177 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            16178 ; 14   |// module name includes a number starting from 0 for the first instance of
                            16179 ; 15   |// that module)
                            16180 ; 16   |// <regname> is the specific register within that module
                            16181 ; 17   |// We also define the following...
                            16182 ; 18   |//     HW_<module>_<regname>_BITPOS
                            16183 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            16184 ; 20   |//     HW_<module>_<regname>_SETMASK
                            16185 ; 21   |// which does something else, and
                            16186 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            16187 ; 23   |// which does something else.
                            16188 ; 24   |// Other rules
                            16189 ; 25   |//     All caps
                            16190 ; 26   |//     Numeric identifiers start at 0
                            16191 ; 27   |#if !(defined(regsswizzleinc))
                            16192 ; 28   |#define regsswizzleinc 1
                            16193 ; 29   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  65

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16194 ; 30   |#include "types.h"
                            16195 
                            16197 
                            16198 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            16199 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            16200 ; 3    |//
                            16201 ; 4    |// Filename: types.h
                            16202 ; 5    |// Description: Standard data types
                            16203 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            16204 ; 7    |
                            16205 ; 8    |#ifndef _TYPES_H
                            16206 ; 9    |#define _TYPES_H
                            16207 ; 10   |
                            16208 ; 11   |// TODO:  move this outta here!
                            16209 ; 12   |#if !defined(NOERROR)
                            16210 ; 13   |#define NOERROR 0
                            16211 ; 14   |#define SUCCESS 0
                            16212 ; 15   |#endif 
                            16213 ; 16   |#if !defined(SUCCESS)
                            16214 ; 17   |#define SUCCESS  0
                            16215 ; 18   |#endif
                            16216 ; 19   |#if !defined(ERROR)
                            16217 ; 20   |#define ERROR   -1
                            16218 ; 21   |#endif
                            16219 ; 22   |#if !defined(FALSE)
                            16220 ; 23   |#define FALSE 0
                            16221 ; 24   |#endif
                            16222 ; 25   |#if !defined(TRUE)
                            16223 ; 26   |#define TRUE  1
                            16224 ; 27   |#endif
                            16225 ; 28   |
                            16226 ; 29   |#if !defined(NULL)
                            16227 ; 30   |#define NULL 0
                            16228 ; 31   |#endif
                            16229 ; 32   |
                            16230 ; 33   |#define MAX_INT     0x7FFFFF
                            16231 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            16232 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            16233 ; 36   |#define MAX_ULONG   (-1) 
                            16234 ; 37   |
                            16235 ; 38   |#define WORD_SIZE   24              // word size in bits
                            16236 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            16237 ; 40   |
                            16238 ; 41   |
                            16239 ; 42   |#define BYTE    unsigned char       // btVarName
                            16240 ; 43   |#define CHAR    signed char         // cVarName
                            16241 ; 44   |#define USHORT  unsigned short      // usVarName
                            16242 ; 45   |#define SHORT   unsigned short      // sVarName
                            16243 ; 46   |#define WORD    unsigned int        // wVarName
                            16244 ; 47   |#define INT     signed int          // iVarName
                            16245 ; 48   |#define DWORD   unsigned long       // dwVarName
                            16246 ; 49   |#define LONG    signed long         // lVarName
                            16247 ; 50   |#define BOOL    unsigned int        // bVarName
                            16248 ; 51   |#define FRACT   _fract              // frVarName
                            16249 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            16250 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            16251 ; 54   |#define FLOAT   float               // fVarName
                            16252 ; 55   |#define DBL     double              // dVarName
                            16253 ; 56   |#define ENUM    enum                // eVarName
                            16254 ; 57   |#define CMX     _complex            // cmxVarName
                            16255 ; 58   |typedef WORD UCS3;                   // 
                            16256 ; 59   |
                            16257 ; 60   |#define UINT16  unsigned short
                            16258 ; 61   |#define UINT8   unsigned char   
                            16259 ; 62   |#define UINT32  unsigned long
                            16260 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            16261 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            16262 ; 65   |#define WCHAR   UINT16
                            16263 ; 66   |
                            16264 ; 67   |//UINT128 is 16 bytes or 6 words
                            16265 ; 68   |typedef struct UINT128_3500 {   
                            16266 ; 69   |    int val[6];     
                            16267 ; 70   |} UINT128_3500;
                            16268 ; 71   |
                            16269 ; 72   |#define UINT128   UINT128_3500
                            16270 ; 73   |
                            16271 ; 74   |// Little endian word packed byte strings:   
                            16272 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            16273 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            16274 ; 77   |// Little endian word packed byte strings:   
                            16275 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            16276 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            16277 ; 80   |
                            16278 ; 81   |// Declare Memory Spaces To Use When Coding
                            16279 ; 82   |// A. Sector Buffers
                            16280 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            16281 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            16282 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            16283 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            16284 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            16285 ; 88   |// B. Media DDI Memory
                            16286 ; 89   |#define MEDIA_DDI_MEM _Y
                            16287 ; 90   |
                            16288 ; 91   |
                            16289 ; 92   |
                            16290 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            16291 ; 94   |// Examples of circular pointers:
                            16292 ; 95   |//    INT CIRC cpiVarName
                            16293 ; 96   |//    DWORD CIRC cpdwVarName
                            16294 ; 97   |
                            16295 ; 98   |#define RETCODE INT                 // rcVarName
                            16296 ; 99   |
                            16297 ; 100  |// generic bitfield structure
                            16298 ; 101  |struct Bitfield {
                            16299 ; 102  |    unsigned int B0  :1;
                            16300 ; 103  |    unsigned int B1  :1;
                            16301 ; 104  |    unsigned int B2  :1;
                            16302 ; 105  |    unsigned int B3  :1;
                            16303 ; 106  |    unsigned int B4  :1;
                            16304 ; 107  |    unsigned int B5  :1;
                            16305 ; 108  |    unsigned int B6  :1;
                            16306 ; 109  |    unsigned int B7  :1;
                            16307 ; 110  |    unsigned int B8  :1;
                            16308 ; 111  |    unsigned int B9  :1;
                            16309 ; 112  |    unsigned int B10 :1;
                            16310 ; 113  |    unsigned int B11 :1;
                            16311 ; 114  |    unsigned int B12 :1;
                            16312 ; 115  |    unsigned int B13 :1;
                            16313 ; 116  |    unsigned int B14 :1;
                            16314 ; 117  |    unsigned int B15 :1;
                            16315 ; 118  |    unsigned int B16 :1;
                            16316 ; 119  |    unsigned int B17 :1;
                            16317 ; 120  |    unsigned int B18 :1;
                            16318 ; 121  |    unsigned int B19 :1;
                            16319 ; 122  |    unsigned int B20 :1;
                            16320 ; 123  |    unsigned int B21 :1;
                            16321 ; 124  |    unsigned int B22 :1;
                            16322 ; 125  |    unsigned int B23 :1;
                            16323 ; 126  |};
                            16324 ; 127  |
                            16325 ; 128  |union BitInt {
                            16326 ; 129  |        struct Bitfield B;
                            16327 ; 130  |        int        I;
                            16328 ; 131  |};
                            16329 ; 132  |
                            16330 ; 133  |#define MAX_MSG_LENGTH 10
                            16331 ; 134  |struct CMessage
                            16332 ; 135  |{
                            16333 ; 136  |        unsigned int m_uLength;
                            16334 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            16335 ; 138  |};
                            16336 ; 139  |
                            16337 ; 140  |typedef struct {
                            16338 ; 141  |    WORD m_wLength;
                            16339 ; 142  |    WORD m_wMessage;
                            16340 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            16341 ; 144  |} Message;
                            16342 ; 145  |
                            16343 ; 146  |struct MessageQueueDescriptor
                            16344 ; 147  |{
                            16345 ; 148  |        int *m_pBase;
                            16346 ; 149  |        int m_iModulo;
                            16347 ; 150  |        int m_iSize;
                            16348 ; 151  |        int *m_pHead;
                            16349 ; 152  |        int *m_pTail;
                            16350 ; 153  |};
                            16351 ; 154  |
                            16352 ; 155  |struct ModuleEntry
                            16353 ; 156  |{
                            16354 ; 157  |    int m_iSignaledEventMask;
                            16355 ; 158  |    int m_iWaitEventMask;
                            16356 ; 159  |    int m_iResourceOfCode;
                            16357 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            16358 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            16359 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            16360 ; 163  |    int m_uTimeOutHigh;
                            16361 ; 164  |    int m_uTimeOutLow;
                            16362 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            16363 ; 166  |};
                            16364 ; 167  |
                            16365 ; 168  |union WaitMask{
                            16366 ; 169  |    struct B{
                            16367 ; 170  |        unsigned int m_bNone     :1;
                            16368 ; 171  |        unsigned int m_bMessage  :1;
                            16369 ; 172  |        unsigned int m_bTimer    :1;
                            16370 ; 173  |        unsigned int m_bButton   :1;
                            16371 ; 174  |    } B;
                            16372 ; 175  |    int I;
                            16373 ; 176  |} ;
                            16374 ; 177  |
                            16375 ; 178  |
                            16376 ; 179  |struct Button {
                            16377 ; 180  |        WORD wButtonEvent;
                            16378 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            16379 ; 182  |};
                            16380 ; 183  |
                            16381 ; 184  |struct Message {
                            16382 ; 185  |        WORD wMsgLength;
                            16383 ; 186  |        WORD wMsgCommand;
                            16384 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            16385 ; 188  |};
                            16386 ; 189  |
                            16387 ; 190  |union EventTypes {
                            16388 ; 191  |        struct CMessage msg;
                            16389 ; 192  |        struct Button Button ;
                            16390 ; 193  |        struct Message Message;
                            16391 ; 194  |};
                            16392 ; 195  |
                            16393 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            16394 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            16395 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            16396 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            16397 ; 200  |
                            16398 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            16399 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            16400 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            16401 ; 204  |
                            16402 ; 205  |#if DEBUG
                            16403 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            16404 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            16405 ; 208  |#else 
                            16406 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            16407 ; 210  |#define DebugBuildAssert(x)    
                            16408 ; 211  |#endif
                            16409 ; 212  |
                            16410 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            16411 ; 214  |//  #pragma asm
                            16412 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            16413 ; 216  |//  #pragma endasm
                            16414 ; 217  |
                            16415 ; 218  |
                            16416 ; 219  |#ifdef COLOR_262K
                            16417 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            16418 ; 221  |#elif defined(COLOR_65K)
                            16419 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            16420 ; 223  |#else
                            16421 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            16422 ; 225  |#endif
                            16423 ; 226  |    
                            16424 ; 227  |#endif // #ifndef _TYPES_H
                            16425 
                            16427 
                            16428 ; 31   |
                            16429 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16430 ; 33   |
                            16431 ; 34   |//   SWIZZLE STMP3500 Registers 
                            16432 ; 35   |//   Last Updated 7.11.2003 Dave Dyches
                            16433 ; 36   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16434 ; 37   |
                            16435 ; 38   |
                            16436 ; 39   |
                            16437 ; 40   |
                            16438 ; 41   |
                            16439 ; 42   |#define HW_SWIZZLE_BASEADDR 0xF380
                            16440 ; 43   |
                            16441 ; 44   |
                            16442 ; 45   |
                            16443 ; 46   |////  Swizzle CSR1 (HW_SWIZZLECSR1) Bit Definitions
                            16444 ; 47   |#define HW_SWIZZLECSR1_EN_BITPOS (0)
                            16445 ; 48   |#define HW_SWIZZLECSR1_LA_BITPOS (1)
                            16446 ; 49   |#define HW_SWIZZLECSR1_LNR_BITPOS (2)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  66

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16447 ; 50   |#define HW_SWIZZLECSR1_SIGN_BITPOS (3)
                            16448 ; 51   |#define HW_SWIZZLECSR1_SHIFT_BITPOS (4)
                            16449 ; 52   |#define HW_SWIZZLECSR1_MEM_BITPOS (8)
                            16450 ; 53   |#define HW_SWIZZLECSR1_CLK_OFF_BITPOS (9)
                            16451 ; 54   |#define HW_SWIZZLECSR1_NEWADD_BITPOS (10)
                            16452 ; 55   |#define HW_SWIZZLECSR1_RSVD_BITPOS (11)
                            16453 ; 56   |
                            16454 ; 57   |#define HW_SWIZZLECSR1_EN_WIDTH (1)
                            16455 ; 58   |#define HW_SWIZZLECSR1_LA_WIDTH (1)
                            16456 ; 59   |#define HW_SWIZZLECSR1_LNR_WIDTH (1)
                            16457 ; 60   |#define HW_SWIZZLECSR1_SIGN_WIDTH (1)
                            16458 ; 61   |#define HW_SWIZZLECSR1_SHIFT_WIDTH (4)
                            16459 ; 62   |#define HW_SWIZZLECSR1_MEM_WIDTH (1)
                            16460 ; 63   |#define HW_SWIZZLECSR1_CLK_OFF_WIDTH (1)
                            16461 ; 64   |#define HW_SWIZZLECSR1_NEWADD_WIDTH (1)
                            16462 ; 65   |#define HW_SWIZZLECSR1_RSVD_WIDTH (13)
                            16463 ; 66   |
                            16464 ; 67   |#define HW_SWIZZLECSR1_EN_SETMASK (((1<HW_SWIZZLECSR1_EN_WIDTH)-1)<<HW_SWIZZLECSR1_EN_BITPOS)
                            16465 ; 68   |#define HW_SWIZZLECSR1_LA_SETMASK (((1<HW_SWIZZLECSR1_LA_WIDTH)-1)<<HW_SWIZZLECSR1_LA_BITPOS)
                            16466 ; 69   |#define HW_SWIZZLECSR1_LNR_SETMASK (((1<HW_SWIZZLECSR1_LNR_WIDTH)-1)<<HW_SWIZZLECSR1_LNR_BITPOS)
                            16467 ; 70   |#define HW_SWIZZLECSR1_SIGN_SETMASK (((1<HW_SWIZZLECSR1_SIGN_WIDTH)-1)<<HW_SWIZZLECSR1_SIGN_BITPOS)
                            16468 ; 71   |#define HW_SWIZZLECSR1_SHIFT_SETMASK (((1<HW_SWIZZLECSR1_SHIFT_WIDTH)-1)<<HW_SWIZZLECSR1_SHIFT_BITPOS)
                            16469 ; 72   |#define HW_SWIZZLECSR1_MEM_SETMASK (((1<HW_SWIZZLECSR1_MEM_WIDTH)-1)<<HW_SWIZZLECSR1_MEM_BITPOS)
                            16470 ; 73   |#define HW_SWIZZLECSR1_CLK_OFF_SETMASK (((1<HW_SWIZZLECSR1_CLK_OFF_WIDTH)-1)<<HW_SWIZZLECSR1_CLK_OFF_BITPOS)
                            16471 ; 74   |#define HW_SWIZZLECSR1_NEWADD_SETMASK (((1<HW_SWIZZLECSR1_NEWADD_WIDTH)-1)<<HW_SWIZZLECSR1_NEWADD_BITPOS)
                            16472 ; 75   |#define HW_SWIZZLECSR1_RSVD_SETMASK (((1<HW_SWIZZLECSR1_RSVD_WIDTH)-1)<<HW_SWIZZLECSR1_RSVD_BITPOS)
                            16473 ; 76   |
                            16474 ; 77   |#define HW_SWIZZLECSR1_EN_CLRMASK (~(WORD)HW_SWIZZLECSR1_EN_SETMASK)
                            16475 ; 78   |#define HW_SWIZZLECSR1_LA_CLRMASK (~(WORD)HW_SWIZZLECSR1_LA_SETMASK)
                            16476 ; 79   |#define HW_SWIZZLECSR1_LNR_CLRMASK (~(WORD)HW_SWIZZLECSR1_LNR_SETMASK)
                            16477 ; 80   |#define HW_SWIZZLECSR1_SIGN_CLRMASK (~(WORD)HW_SWIZZLECSR1_SIGN_SETMASK)
                            16478 ; 81   |#define HW_SWIZZLECSR1_SHIFT_CLRMASK (~(WORD)HW_SWIZZLECSR1_SHIFT_SETMASK)
                            16479 ; 82   |#define HW_SWIZZLECSR1_MEM_CLRMASK (~(WORD)HW_SWIZZLECSR1_MEM_SETMASK)
                            16480 ; 83   |#define HW_SWIZZLECSR1_CLK_OFF_CLRMASK (~(WORD)HW_SWIZZLECSR1_CLK_OFF_SETMASK)
                            16481 ; 84   |#define HW_SWIZZLECSR1_NEWADD_CLRMASK (~(WORD)HW_SWIZZLECSR1_NEWADD_SETMASK)
                            16482 ; 85   |#define HW_SWIZZLECSR1_RSVD_CLRMASK (~(WORD)HW_SWIZZLECSR1_RSVD_SETMASK)
                            16483 ; 86   |
                            16484 ; 87   |////////////////////////////////////////////////////////////////////////////////
                            16485 ; 88   |//  Bit Manipulation Unit Registers
                            16486 ; 89   |////////////////////////////////////////////////////////////////////////////////
                            16487 ; 90   |typedef union
                            16488 ; 91   |{
                            16489 ; 92   |    struct
                            16490 ; 93   |    {
                            16491 ; 94   |    int EN      :1;     /* Swizzle Enable                           */
                            16492 ; 95   |    int LA      :1;     /* Left Align Data                          */
                            16493 ; 96   |    int LNR     :1;     /* Left Barrel Shift                        */
                            16494 ; 97   |    int SIGN    :1;     /* Sign Extend Data                         */
                            16495 ; 98   |    unsigned SHIFT :4;          /* Number of positions to shift (0 to 23)   */
                            16496 ; 99   |    int MEM     :1;     /* Manipulate in Memory (not in registers)  */
                            16497 ; 100  |    int CLK_OFF :1;     /* Gate the Clock, Power Off                */
                            16498 ; 101  |    int NEWADD  :1;     /* Place the data into a new location       */     
                            16499 ; 102  |    } B;
                            16500 ; 103  |    int I;
                            16501 ; 104  |    unsigned U;
                            16502 ; 105  |} swizzlecsr1_type;
                            16503 ; 106  |////////////////////////////////////////////////////////////////////////////////
                            16504 ; 107  |#define HW_SWIZZLECS1R (*(volatile swizzlecsr1_type _X*) (HW_SWIZZLE_BASEADDR))       /* Swizzle Control & Status Register 1 */
                            16505 ; 108  |
                            16506 ; 109  |////  Swizzle CSR2 (HW_SWIZZLECSR2) Bit Definitions
                            16507 ; 110  |#define HW_SWIZZLECSR2_KICK_BITPOS (0)
                            16508 ; 111  |#define HW_SWIZZLECSR2_SASEL_BITPOS (1)
                            16509 ; 112  |#define HW_SWIZZLECSR2_DESASEL_BITPOS (3)
                            16510 ; 113  |#define HW_SWIZZLECSR2_BIGE_BITPOS (5)
                            16511 ; 114  |#define HW_SWIZZLECSR2_BITREV_BITPOS (6)
                            16512 ; 115  |#define HW_SWIZZLECSR2_PLSB_BITPOS (7)
                            16513 ; 116  |#define HW_SWIZZLECSR2_PISB_OFF_BITPOS (8)
                            16514 ; 117  |#define HW_SWIZZLECSR2_PMSB_BITPOS (9)
                            16515 ; 118  |#define HW_SWIZZLECSR2_P16L_BITPOS (10)
                            16516 ; 119  |#define HW_SWIZZLECSR2_P16I_BITPOS (11)
                            16517 ; 120  |#define HW_SWIZZLECSR2_BS_EN_BITPOS (12)
                            16518 ; 121  |#define HW_SWIZZLECSR2_SBYTEDEST_BITPOS (13)
                            16519 ; 122  |#define HW_SWIZZLECSR2_UNKICK_BITPOS (15)
                            16520 ; 123  |#define HW_SWIZZLECSR2_RSVD_BITPOS (16)
                            16521 ; 124  |
                            16522 ; 125  |#define HW_SWIZZLECSR2_KICK_WIDTH (1)
                            16523 ; 126  |#define HW_SWIZZLECSR2_SASEL_WIDTH (2)
                            16524 ; 127  |#define HW_SWIZZLECSR2_DESASEL_WIDTH (2)
                            16525 ; 128  |#define HW_SWIZZLECSR2_BIGE_WIDTH (1)
                            16526 ; 129  |#define HW_SWIZZLECSR2_BITREV_WIDTH (1)
                            16527 ; 130  |#define HW_SWIZZLECSR2_PLSB_WIDTH (1)
                            16528 ; 131  |#define HW_SWIZZLECSR2_PMSB_WIDTH (1)
                            16529 ; 132  |#define HW_SWIZZLECSR2_P16L_WIDTH (1)
                            16530 ; 133  |#define HW_SWIZZLECSR2_P16I_WIDTH (1)
                            16531 ; 134  |#define HW_SWIZZLECSR2_BS_EN_WIDTH (1)
                            16532 ; 135  |#define HW_SWIZZLECSR2_SBYTEDEST_WIDTH (2)
                            16533 ; 136  |#define HW_SWIZZLECSR2_UNKICK_WIDTH (1)
                            16534 ; 137  |#define HW_SWIZZLECSR2_RSVD_WIDTH (8)
                            16535 ; 138  |
                            16536 ; 139  |#define HW_SWIZZLECSR2_KICK_SETMASK (((1<HW_SWIZZLECSR2_KICK_WIDTH)-1)<<HW_SWIZZLECSR2_KICK_BITPOS)
                            16537 ; 140  |#define HW_SWIZZLECSR2_SASEL_SETMASK (((1<HW_SWIZZLECSR2_SASEL_WIDTH)-1)<<HW_SWIZZLECSR2_SASEL_BITPOS)
                            16538 ; 141  |#define HW_SWIZZLECSR2_DESASEL_SETMASK (((1<HW_SWIZZLECSR2_DESASEL_WIDTH)-1)<<HW_SWIZZLECSR2_DESASEL_BITPOS)
                            16539 ; 142  |#define HW_SWIZZLECSR2_BIGE_SETMASK (((1<HW_SWIZZLECSR2_BIGE_WIDTH)-1)<<HW_SWIZZLECSR2_BIGE_BITPOS)
                            16540 ; 143  |#define HW_SWIZZLECSR2_BITREV_SETMASK (((1<HW_SWIZZLECSR2_BITREV_WIDTH)-1)<<HW_SWIZZLECSR2_BITREV_BITPOS)
                            16541 ; 144  |#define HW_SWIZZLECSR2_PLSB_SETMASK (((1<HW_SWIZZLECSR2_PLSB_WIDTH)-1)<<HW_SWIZZLECSR2_PLSB_BITPOS)
                            16542 ; 145  |#define HW_SWIZZLECSR2_PMSB_SETMASK (((1<HW_SWIZZLECSR2_PMSB_WIDTH)-1)<<HW_SWIZZLECSR2_PMSB_BITPOS)
                            16543 ; 146  |#define HW_SWIZZLECSR2_P16L_SETMASK (((1<HW_SWIZZLECSR2_P16L_WIDTH)-1)<<HW_SWIZZLECSR2_P16L_BITPOS)
                            16544 ; 147  |#define HW_SWIZZLECSR2_P16I_SETMASK (((1<HW_SWIZZLECSR2_P16I_WIDTH)-1)<<HW_SWIZZLECSR2_P16I_BITPOS)
                            16545 ; 148  |#define HW_SWIZZLECSR2_BS_EN_SETMASK (((1<HW_SWIZZLECSR2_BS_EN_WIDTH)-1)<<HW_SWIZZLECSR2_BS_EN_BITPOS)
                            16546 ; 149  |#define HW_SWIZZLECSR2_SBYTEDEST_SETMASK (((1<HW_SWIZZLECSR2_SBYTEDEST_WIDTH)-1)<<HW_SWIZZLECSR2_SBYTEDEST_BITPOS)
                            16547 ; 150  |#define HW_SWIZZLECSR2_UNKICK_SETMASK (((1<HW_SWIZZLECSR2_UNKICK_WIDTH)-1)<<HW_SWIZZLECSR2_UNKICK_BITPOS)
                            16548 ; 151  |#define HW_SWIZZLECSR2_RSVD_SETMASK (((1<HW_SWIZZLECSR2_RSVD_WIDTH)-1)<<HW_SWIZZLECSR2_RSVD_BITPOS)
                            16549 ; 152  |
                            16550 ; 153  |#define HW_SWIZZLECSR2_KICK_CLRMASK (~(WORD)HW_SWIZZLECSR2_KICK_SETMASK)
                            16551 ; 154  |#define HW_SWIZZLECSR2_SASEL_CLRMASK (~(WORD)HW_SWIZZLECSR2_SASEL_SETMASK)
                            16552 ; 155  |#define HW_SWIZZLECSR2_DESASEL_CLRMASK (~(WORD)HW_SWIZZLECSR2_DESASEL_SETMASK)
                            16553 ; 156  |#define HW_SWIZZLECSR2_BIGE_CLRMASK (~(WORD)HW_SWIZZLECSR2_BIGE_SETMASK)
                            16554 ; 157  |#define HW_SWIZZLECSR2_BITREV_CLRMASK (~(WORD)HW_SWIZZLECSR2_BITREV_SETMASK)
                            16555 ; 158  |#define HW_SWIZZLECSR2_PLSB_CLRMASK (~(WORD)HW_SWIZZLECSR2_PLSB_SETMASK)
                            16556 ; 159  |#define HW_SWIZZLECSR2_PMSB_CLRMASK (~(WORD)HW_SWIZZLECSR2_PMSB_SETMASK)
                            16557 ; 160  |#define HW_SWIZZLECSR2_P16L_CLRMASK (~(WORD)HW_SWIZZLECSR2_P16L_SETMASK)
                            16558 ; 161  |#define HW_SWIZZLECSR2_P16I_CLRMASK (~(WORD)HW_SWIZZLECSR2_P16I_SETMASK)
                            16559 ; 162  |#define HW_SWIZZLECSR2_BS_EN_CLRMASK (~(WORD)HW_SWIZZLECSR2_BS_EN_SETMASK)
                            16560 ; 163  |#define HW_SWIZZLECSR2_SBYTEDEST_CLRMASK (~(WORD)HW_SWIZZLECSR2_SBYTEDEST_SETMASK)
                            16561 ; 164  |#define HW_SWIZZLECSR2_UNKICK_CLRMASK (~(WORD)HW_SWIZZLECSR2_UNKICK_SETMASK)
                            16562 ; 165  |#define HW_SWIZZLECSR2_RSVD_CLRMASK (~(WORD)HW_SWIZZLECSR2_RSVD_SETMASK)
                            16563 ; 166  |
                            16564 ; 167  |///////////////////////////////////////////////////////////////////////////////
                            16565 ; 168  |typedef union
                            16566 ; 169  |{
                            16567 ; 170  |    struct
                            16568 ; 171  |    {
                            16569 ; 172  |    int KICK    :1;         /* Start transfer                      */
                            16570 ; 173  |    unsigned SASEL :2;              /* Source memory Select                */
                            16571 ; 174  |    unsigned DESASEL :2;                    /* Destination memory Select           */
                            16572 ; 175  |    int BIGE        :1;             /* Big Endian Enable                   */
                            16573 ; 176  |    int BITREV      :1;     /* Bit reverse the data                */
                            16574 ; 177  |    int PLSB        :1;             /* Pass Least Significant Byte         */
                            16575 ; 178  |    int PISB        :1;     /* Pass Intermediate Byte              */
                            16576 ; 179  |    int PMSB        :1;     /* Pass Most Significant Byte          */
                            16577 ; 180  |    int P16L        :1;     /* Pass Least Significant word         */
                            16578 ; 181  |    int P16I        :1;     /* Pass Intermediate significant word  */
                            16579 ; 182  |    int BS_EN       :1;     /* Barrel Shift Enable                 */
                            16580 ; 183  |    unsigned SBYTE  :2;                     /* Start byte                          */
                            16581 ; 184  |    int UNKICK      :1;     /* Halt transfer                       */  
                            16582 ; 185  |    } B;
                            16583 ; 186  |    unsigned int I;
                            16584 ; 187  |    unsigned int U;
                            16585 ; 188  |} swizzlecsr2_type;
                            16586 ; 189  |///////////////////////////////////////////////////////////////////////////////
                            16587 ; 190  |#define HW_SWIZZLECS2R (*(volatile swizzlecsr2_type _X*) (HW_SWIZZLE_BASEADDR+1))     /* Swizzle Control & Status Register 2 */
                            16588 ; 191  |
                            16589 ; 192  |////  Swizzle SIZER (HW_SWIZZLESIZER) Bit Definitions
                            16590 ; 193  |#define HW_SWIZZLESIZER_SIZE_BITPOS (0)
                            16591 ; 194  |#define HW_SWIZZLESIZER_NEW_SHIFT_BITPOS (16)
                            16592 ; 195  |#define HW_SWIZZLESIZER_RSVD_BITPOS (21)
                            16593 ; 196  |
                            16594 ; 197  |#define HW_SWIZZLESIZER_SIZE_WIDTH (16)
                            16595 ; 198  |#define HW_SWIZZLESIZER_NEW_SHIFT_WIDTH (5)
                            16596 ; 199  |#define HW_SWIZZLESIZER_RSVD_WIDTH (3)
                            16597 ; 200  |
                            16598 ; 201  |#define HW_SWIZZLESIZER_SIZE_SETMASK (((1<HW_SWIZZLESIZER_SIZE_WIDTH)-1)<<HW_SWIZZLESIZER_SIZE_BITPOS)
                            16599 ; 202  |#define HW_SWIZZLESIZER_NEW_SHIFT_SETMASK (((1<HW_SWIZZLESIZER_NEW_SHIFT_WIDTH)-1)<<HW_SWIZZLESIZER_NEW_SHIFT_BITPOS)
                            16600 ; 203  |#define HW_SWIZZLESIZER_RSVD_SETMASK (((1<HW_SWIZZLESIZER_RSVD_WIDTH)-1)<<HW_SWIZZLESIZER_RSVD_BITPOS)
                            16601 ; 204  |
                            16602 ; 205  |#define HW_SWIZZLESIZER_SIZE_CLRMASK (~(WORD)HW_SWIZZLESIZER_SIZE_SETMASK)
                            16603 ; 206  |#define HW_SWIZZLESIZER_NEW_SHIFT_CLRMASK (~(WORD)HW_SWIZZLESIZER_NEW_SHIFT_SETMASK)
                            16604 ; 207  |#define HW_SWIZZLESIZER_RSVD_CLRMASK (~(WORD)HW_SWIZZLESIZER_RSVD_SETMASK)
                            16605 ; 208  |
                            16606 ; 209  |///////////////////////////////////////////////////////////////////////////////
                            16607 ; 210  |typedef union
                            16608 ; 211  |{
                            16609 ; 212  |    struct
                            16610 ; 213  |    {
                            16611 ; 214  |    unsigned SIZE      :16;        /* Number of memory words to manipulate */
                            16612 ; 215  |    unsigned NEW_SHIFT :5;         /* Source memory Select                 */
                            16613 ; 216  |    } B;
                            16614 ; 217  |    int I;
                            16615 ; 218  |    unsigned U;
                            16616 ; 219  |} swizzlesizer_type;
                            16617 ; 220  |///////////////////////////////////////////////////////////////////////////////
                            16618 ; 221  |#define HW_SWIZZLESIZER (*(volatile swizzlesizer_type _X*) (HW_SWIZZLE_BASEADDR+2))        /* Swizzle Transfer Size Register */
                            16619 ; 222  |#define HW_SWIZZLESOURCER (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+3))      /* Swizzle Source Address Register */
                            16620 ; 223  |#define HW_SWIZZLEDATA1R (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+4))       /* Swizzle Data1 Register */
                            16621 ; 224  |#define HW_SWIZZLEDATA2R (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+5))       /* Swizzle Data2 Register */
                            16622 ; 225  |#define HW_SWIZZLEDESTADDRR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+6))    /* Swizzle Destination Address Register */
                            16623 ; 226  |#define HW_SWIZZLEBIGENDIANR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+7))   /* Swizzle Big Endian Register */
                            16624 ; 227  |#define HW_SWIZZLEBITREVR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+8))      /* Swizzle BITREV Register */
                            16625 ; 228  |#define HW_SWIZZLEPASSLSBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+9))     /* Swizzle Pass Least Significant Byte Register */
                            16626 ; 229  |#define HW_SWIZZLEPASSISBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+10))    /* Swizzle Pass Intermediate Byte Register */
                            16627 ; 230  |#define HW_SWIZZLEPASSMSBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+11))    /* Swizzle Pass Most Significant Byte Register */
                            16628 ; 231  |#define HW_SWIZZLEPASSLSWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+12))    /* Swizzle Pass Least Significant Word Register */
                            16629 ; 232  |#define HW_SWIZZLEPASSISWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+13))    /* Swizzle Pass Intermediate Significant Word Register */
                            16630 ; 233  |#define HW_SWIZZLEPASSMSWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+14))    /* Swizzle Pass Most Significant Word Register */
                            16631 ; 234  |#define HW_SWIZZLEBARRELR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+15))    /* Swizzle Barrel Shift Register */
                            16632 ; 235  |#define HW_SWIZZLEDIV3LR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+16))    /* Swizzle Divide By 3 Lower Register */
                            16633 ; 236  |
                            16634 ; 237  |
                            16635 ; 238  |////  Swizzle DIV3UR (HW_SWIZZLEDIV3UR) Bit Definitions
                            16636 ; 239  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_BITPOS (0)
                            16637 ; 240  |#define HW_SWIZZLEDIV3UR_RSVD0_BITPOS (8)
                            16638 ; 241  |#define HW_SWIZZLEDIV3UR_REMAINDER_BITPOS (20)
                            16639 ; 242  |#define HW_SWIZZLEDIV3UR_RSVD1_BITPOS (22)
                            16640 ; 243  |
                            16641 ; 244  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_WIDTH (8)
                            16642 ; 245  |#define HW_SWIZZLEDIV3UR_RSVD0_WIDTH (12)
                            16643 ; 246  |#define HW_SWIZZLEDIV3UR_REMAINDER_WIDTH (2)
                            16644 ; 247  |#define HW_SWIZZLEDIV3UR_RSVD1_WIDTH (2)
                            16645 ; 248  |
                            16646 ; 249  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_SETMASK (((1<HW_SWIZZLEDIV3UR_DIV3_UPPER_WIDTH)-1)<<HW_SWIZZLEDIV3UR_DIV3_UPPER_BITPOS)
                            16647 ; 250  |#define HW_SWIZZLEDIV3UR_RSVD0_SETMASK (((1<HW_SWIZZLEDIV3UR_RSVD0_WIDTH)-1)<<HW_SWIZZLEDIV3UR_RSVD0_BITPOS)
                            16648 ; 251  |#define HW_SWIZZLEDIV3UR_REMAINDER_SETMASK (((1<HW_SWIZZLEDIV3UR_REMAINDER_WIDTH)-1)<<HW_SWIZZLEDIV3UR_REMAINDER_BITPOS)
                            16649 ; 252  |#define HW_SWIZZLEDIV3UR_RSVD1_SETMASK (((1<HW_SWIZZLEDIV3UR_RSVD1_WIDTH)-1)<<HW_SWIZZLEDIV3UR_RSVD1_BITPOS)
                            16650 ; 253  |
                            16651 ; 254  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_DIV3_UPPER_SETMASK)
                            16652 ; 255  |#define HW_SWIZZLEDIV3UR_RSVD0_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_RSVD0_SETMASK)
                            16653 ; 256  |#define HW_SWIZZLEDIV3UR_REMAINDER_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_REMAINDER_SETMASK)
                            16654 ; 257  |#define HW_SWIZZLEDIV3UR_RSVD1_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_RSVD1_SETMASK)
                            16655 ; 258  |
                            16656 ; 259  |///////////////////////////////////////////////////////////////////////////////
                            16657 ; 260  |typedef union
                            16658 ; 261  |{
                            16659 ; 262  |    struct
                            16660 ; 263  |    {
                            16661 ; 264  |    unsigned DIV3_UPPER    :8;     /* Number of memory words to manipulate */
                            16662 ; 265  |    unsigned RSVD0         :12;         /* Source memory Select                 */
                            16663 ; 266  |    unsigned REMAINDER     :2;         /* Source memory Select                 */
                            16664 ; 267  |    } B;
                            16665 ; 268  |    int I;
                            16666 ; 269  |    unsigned U;
                            16667 ; 270  |} swizzlediv3ur_type;
                            16668 ; 271  |///////////////////////////////////////////////////////////////////////////////
                            16669 ; 272  |#define HW_SWIZZLEDIV3UR (*(volatile swizzlediv3ur_type _X*) (HW_SWIZZLE_BASEADDR+17))    /* Swizzle Divide By 3 Upper Register */
                            16670 ; 273  |
                            16671 ; 274  |#endif
                            16672 ; 275  |
                            16673 
                            16675 
                            16676 ; 33   |#include "regssdram.h"
                            16677 
                            16679 
                            16680 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16681 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2003
                            16682 ; 3    |//;  File        : regssdram.inc
                            16683 ; 4    |//;  Description : Mixed Signal IP Register definition
                            16684 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16685 ; 6    |
                            16686 ; 7    |// The following naming conventions are followed in this file.
                            16687 ; 8    |// All registers are named using the format...
                            16688 ; 9    |//     HW_<module>_<regname>
                            16689 ; 10   |// where <module> is the module name which can be any of the following...
                            16690 ; 11   |//     SYSTEM
                            16691 ; 12   |// (Note that when there is more than one copy of a particular module, the
                            16692 ; 13   |// module name includes a number starting from 0 for the first instance of
                            16693 ; 14   |// that module)
                            16694 ; 15   |// <regname> is the specific register within that module
                            16695 ; 16   |// We also define the following...
                            16696 ; 17   |//     HW_<module>_<regname>_BITPOS
                            16697 ; 18   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            16698 ; 19   |//     HW_<module>_<regname>_SETMASK
                            16699 ; 20   |// which does something else, and
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  67

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16700 ; 21   |//     HW_<module>_<regname>_CLRMASK
                            16701 ; 22   |// which does something else.
                            16702 ; 23   |// Other rules
                            16703 ; 24   |//     All caps
                            16704 ; 25   |//     Numeric identifiers start at 0
                            16705 ; 26   |
                            16706 ; 27   |#if !(defined(regssdraminc))
                            16707 ; 28   |#define regssdraminc 1
                            16708 ; 29   |
                            16709 ; 30   |#include "types.h"
                            16710 
                            16712 
                            16713 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            16714 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            16715 ; 3    |//
                            16716 ; 4    |// Filename: types.h
                            16717 ; 5    |// Description: Standard data types
                            16718 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            16719 ; 7    |
                            16720 ; 8    |#ifndef _TYPES_H
                            16721 ; 9    |#define _TYPES_H
                            16722 ; 10   |
                            16723 ; 11   |// TODO:  move this outta here!
                            16724 ; 12   |#if !defined(NOERROR)
                            16725 ; 13   |#define NOERROR 0
                            16726 ; 14   |#define SUCCESS 0
                            16727 ; 15   |#endif 
                            16728 ; 16   |#if !defined(SUCCESS)
                            16729 ; 17   |#define SUCCESS  0
                            16730 ; 18   |#endif
                            16731 ; 19   |#if !defined(ERROR)
                            16732 ; 20   |#define ERROR   -1
                            16733 ; 21   |#endif
                            16734 ; 22   |#if !defined(FALSE)
                            16735 ; 23   |#define FALSE 0
                            16736 ; 24   |#endif
                            16737 ; 25   |#if !defined(TRUE)
                            16738 ; 26   |#define TRUE  1
                            16739 ; 27   |#endif
                            16740 ; 28   |
                            16741 ; 29   |#if !defined(NULL)
                            16742 ; 30   |#define NULL 0
                            16743 ; 31   |#endif
                            16744 ; 32   |
                            16745 ; 33   |#define MAX_INT     0x7FFFFF
                            16746 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            16747 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            16748 ; 36   |#define MAX_ULONG   (-1) 
                            16749 ; 37   |
                            16750 ; 38   |#define WORD_SIZE   24              // word size in bits
                            16751 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            16752 ; 40   |
                            16753 ; 41   |
                            16754 ; 42   |#define BYTE    unsigned char       // btVarName
                            16755 ; 43   |#define CHAR    signed char         // cVarName
                            16756 ; 44   |#define USHORT  unsigned short      // usVarName
                            16757 ; 45   |#define SHORT   unsigned short      // sVarName
                            16758 ; 46   |#define WORD    unsigned int        // wVarName
                            16759 ; 47   |#define INT     signed int          // iVarName
                            16760 ; 48   |#define DWORD   unsigned long       // dwVarName
                            16761 ; 49   |#define LONG    signed long         // lVarName
                            16762 ; 50   |#define BOOL    unsigned int        // bVarName
                            16763 ; 51   |#define FRACT   _fract              // frVarName
                            16764 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            16765 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            16766 ; 54   |#define FLOAT   float               // fVarName
                            16767 ; 55   |#define DBL     double              // dVarName
                            16768 ; 56   |#define ENUM    enum                // eVarName
                            16769 ; 57   |#define CMX     _complex            // cmxVarName
                            16770 ; 58   |typedef WORD UCS3;                   // 
                            16771 ; 59   |
                            16772 ; 60   |#define UINT16  unsigned short
                            16773 ; 61   |#define UINT8   unsigned char   
                            16774 ; 62   |#define UINT32  unsigned long
                            16775 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            16776 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            16777 ; 65   |#define WCHAR   UINT16
                            16778 ; 66   |
                            16779 ; 67   |//UINT128 is 16 bytes or 6 words
                            16780 ; 68   |typedef struct UINT128_3500 {   
                            16781 ; 69   |    int val[6];     
                            16782 ; 70   |} UINT128_3500;
                            16783 ; 71   |
                            16784 ; 72   |#define UINT128   UINT128_3500
                            16785 ; 73   |
                            16786 ; 74   |// Little endian word packed byte strings:   
                            16787 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            16788 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            16789 ; 77   |// Little endian word packed byte strings:   
                            16790 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            16791 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            16792 ; 80   |
                            16793 ; 81   |// Declare Memory Spaces To Use When Coding
                            16794 ; 82   |// A. Sector Buffers
                            16795 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            16796 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            16797 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            16798 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            16799 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            16800 ; 88   |// B. Media DDI Memory
                            16801 ; 89   |#define MEDIA_DDI_MEM _Y
                            16802 ; 90   |
                            16803 ; 91   |
                            16804 ; 92   |
                            16805 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            16806 ; 94   |// Examples of circular pointers:
                            16807 ; 95   |//    INT CIRC cpiVarName
                            16808 ; 96   |//    DWORD CIRC cpdwVarName
                            16809 ; 97   |
                            16810 ; 98   |#define RETCODE INT                 // rcVarName
                            16811 ; 99   |
                            16812 ; 100  |// generic bitfield structure
                            16813 ; 101  |struct Bitfield {
                            16814 ; 102  |    unsigned int B0  :1;
                            16815 ; 103  |    unsigned int B1  :1;
                            16816 ; 104  |    unsigned int B2  :1;
                            16817 ; 105  |    unsigned int B3  :1;
                            16818 ; 106  |    unsigned int B4  :1;
                            16819 ; 107  |    unsigned int B5  :1;
                            16820 ; 108  |    unsigned int B6  :1;
                            16821 ; 109  |    unsigned int B7  :1;
                            16822 ; 110  |    unsigned int B8  :1;
                            16823 ; 111  |    unsigned int B9  :1;
                            16824 ; 112  |    unsigned int B10 :1;
                            16825 ; 113  |    unsigned int B11 :1;
                            16826 ; 114  |    unsigned int B12 :1;
                            16827 ; 115  |    unsigned int B13 :1;
                            16828 ; 116  |    unsigned int B14 :1;
                            16829 ; 117  |    unsigned int B15 :1;
                            16830 ; 118  |    unsigned int B16 :1;
                            16831 ; 119  |    unsigned int B17 :1;
                            16832 ; 120  |    unsigned int B18 :1;
                            16833 ; 121  |    unsigned int B19 :1;
                            16834 ; 122  |    unsigned int B20 :1;
                            16835 ; 123  |    unsigned int B21 :1;
                            16836 ; 124  |    unsigned int B22 :1;
                            16837 ; 125  |    unsigned int B23 :1;
                            16838 ; 126  |};
                            16839 ; 127  |
                            16840 ; 128  |union BitInt {
                            16841 ; 129  |        struct Bitfield B;
                            16842 ; 130  |        int        I;
                            16843 ; 131  |};
                            16844 ; 132  |
                            16845 ; 133  |#define MAX_MSG_LENGTH 10
                            16846 ; 134  |struct CMessage
                            16847 ; 135  |{
                            16848 ; 136  |        unsigned int m_uLength;
                            16849 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            16850 ; 138  |};
                            16851 ; 139  |
                            16852 ; 140  |typedef struct {
                            16853 ; 141  |    WORD m_wLength;
                            16854 ; 142  |    WORD m_wMessage;
                            16855 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            16856 ; 144  |} Message;
                            16857 ; 145  |
                            16858 ; 146  |struct MessageQueueDescriptor
                            16859 ; 147  |{
                            16860 ; 148  |        int *m_pBase;
                            16861 ; 149  |        int m_iModulo;
                            16862 ; 150  |        int m_iSize;
                            16863 ; 151  |        int *m_pHead;
                            16864 ; 152  |        int *m_pTail;
                            16865 ; 153  |};
                            16866 ; 154  |
                            16867 ; 155  |struct ModuleEntry
                            16868 ; 156  |{
                            16869 ; 157  |    int m_iSignaledEventMask;
                            16870 ; 158  |    int m_iWaitEventMask;
                            16871 ; 159  |    int m_iResourceOfCode;
                            16872 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            16873 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            16874 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            16875 ; 163  |    int m_uTimeOutHigh;
                            16876 ; 164  |    int m_uTimeOutLow;
                            16877 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            16878 ; 166  |};
                            16879 ; 167  |
                            16880 ; 168  |union WaitMask{
                            16881 ; 169  |    struct B{
                            16882 ; 170  |        unsigned int m_bNone     :1;
                            16883 ; 171  |        unsigned int m_bMessage  :1;
                            16884 ; 172  |        unsigned int m_bTimer    :1;
                            16885 ; 173  |        unsigned int m_bButton   :1;
                            16886 ; 174  |    } B;
                            16887 ; 175  |    int I;
                            16888 ; 176  |} ;
                            16889 ; 177  |
                            16890 ; 178  |
                            16891 ; 179  |struct Button {
                            16892 ; 180  |        WORD wButtonEvent;
                            16893 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            16894 ; 182  |};
                            16895 ; 183  |
                            16896 ; 184  |struct Message {
                            16897 ; 185  |        WORD wMsgLength;
                            16898 ; 186  |        WORD wMsgCommand;
                            16899 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            16900 ; 188  |};
                            16901 ; 189  |
                            16902 ; 190  |union EventTypes {
                            16903 ; 191  |        struct CMessage msg;
                            16904 ; 192  |        struct Button Button ;
                            16905 ; 193  |        struct Message Message;
                            16906 ; 194  |};
                            16907 ; 195  |
                            16908 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            16909 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            16910 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            16911 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            16912 ; 200  |
                            16913 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            16914 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            16915 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            16916 ; 204  |
                            16917 ; 205  |#if DEBUG
                            16918 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            16919 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            16920 ; 208  |#else 
                            16921 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            16922 ; 210  |#define DebugBuildAssert(x)    
                            16923 ; 211  |#endif
                            16924 ; 212  |
                            16925 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            16926 ; 214  |//  #pragma asm
                            16927 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            16928 ; 216  |//  #pragma endasm
                            16929 ; 217  |
                            16930 ; 218  |
                            16931 ; 219  |#ifdef COLOR_262K
                            16932 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            16933 ; 221  |#elif defined(COLOR_65K)
                            16934 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            16935 ; 223  |#else
                            16936 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            16937 ; 225  |#endif
                            16938 ; 226  |    
                            16939 ; 227  |#endif // #ifndef _TYPES_H
                            16940 
                            16942 
                            16943 ; 31   |
                            16944 ; 32   |#define HW_SDRAM_BASEADDR 0xF900
                            16945 ; 33   |
                            16946 ; 34   |
                            16947 ; 35   |/////////////////////////////////////////////////////////////////////////////////
                            16948 ; 36   |//  SDRAM CSR (HW_SDRAM_CSR) Bit Definitions
                            16949 ; 37   |#define HW_SDRAM_CSR_SDRAMEN_BITPOS 0
                            16950 ; 38   |#define HW_SDRAM_CSR_IE_BITPOS 1
                            16951 ; 39   |#define HW_SDRAM_CSR_RNW_BITPOS 2
                            16952 ; 40   |#define HW_SDRAM_CSR_KICK_BITPOS 3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  68

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16953 ; 41   |#define HW_SDRAM_CSR_LM_BITPOS 4
                            16954 ; 42   |#define HW_SDRAM_CSR_ISTAT_BITPOS 5
                            16955 ; 43   |#define HW_SDRAM_CSR_PWDN_BITPOS 6
                            16956 ; 44   |#define HW_SDRAM_CSR_SBYTE_BITPOS 8
                            16957 ; 45   |#define HW_SDRAM_CSR_MEM_BITPOS 10
                            16958 ; 46   |#define HW_SDRAM_CSR_BIGE_BITPOS 12
                            16959 ; 47   |#define HW_SDRAM_CSR_ASIZE_BITPOS 13
                            16960 ; 48   |#define HW_SDRAM_CSR_UKICK_BITPOS 16
                            16961 ; 49   |#define HW_SDRAM_CSR_DIV_BITPOS 17
                            16962 ; 50   |#define HW_SDRAM_CSR_MULTI_BITPOS 21
                            16963 ; 51   |#define HW_SDRAM_CSR_SDRAM_BITPOS 22
                            16964 ; 52   |#define HW_SDRAM_CSR_SIGN_BITPOS 23
                            16965 ; 53   |
                            16966 ; 54   |#define HW_SDRAM_CSR_SDRAMEN_WIDTH 1
                            16967 ; 55   |#define HW_SDRAM_CSR_IE_WIDTH 1
                            16968 ; 56   |#define HW_SDRAM_CSR_RNW_WIDTH 1
                            16969 ; 57   |#define HW_SDRAM_CSR_KICK_WIDTH 1
                            16970 ; 58   |#define HW_SDRAM_CSR_LM_WIDTH 1
                            16971 ; 59   |#define HW_SDRAM_CSR_ISTAT_WIDTH 1
                            16972 ; 60   |#define HW_SDRAM_CSR_PWDN_WIDTH 1
                            16973 ; 61   |#define HW_SDRAM_CSR_SBYTE_WIDTH 2
                            16974 ; 62   |#define HW_SDRAM_CSR_MEM_WIDTH 2
                            16975 ; 63   |#define HW_SDRAM_CSR_BIGE_WIDTH 1
                            16976 ; 64   |#define HW_SDRAM_CSR_ASIZE_WIDTH 3
                            16977 ; 65   |#define HW_SDRAM_CSR_UKICK_WIDTH 1
                            16978 ; 66   |#define HW_SDRAM_CSR_DIV_WIDTH 4
                            16979 ; 67   |#define HW_SDRAM_CSR_MULTI_WIDTH 1
                            16980 ; 68   |#define HW_SDRAM_CSR_SDRAM_WIDTH 1
                            16981 ; 69   |#define HW_SDRAM_CSR_SIGN_WIDTH 1
                            16982 ; 70   |
                            16983 ; 71   |#define HW_SDRAM_CSR_SDRAMEN_SETMASK (((1<<HW_SDRAM_CSR_SDRAMEN_WIDTH)-1)<<HW_SDRAM_CSR_SDRAMEN_BITPOS)
                            16984 ; 72   |#define HW_SDRAM_CSR_IE_SETMASK (((1<<HW_SDRAM_CSR_IE_WIDTH)-1)<<HW_SDRAM_CSR_IE_BITPOS)
                            16985 ; 73   |#define HW_SDRAM_CSR_RNW_SETMASK (((1<<HW_SDRAM_CSR_RNW_WIDTH)-1)<<HW_SDRAM_CSR_RNW_BITPOS)
                            16986 ; 74   |#define HW_SDRAM_CSR_KICK_SETMASK (((1<<HW_SDRAM_CSR_KICK_WIDTH)-1)<<HW_SDRAM_CSR_KICK_BITPOS)
                            16987 ; 75   |#define HW_SDRAM_CSR_LM_SETMASK (((1<<HW_SDRAM_CSR_LM_WIDTH)-1)<<HW_SDRAM_CSR_LM_BITPOS)
                            16988 ; 76   |#define HW_SDRAM_CSR_ISTAT_SETMASK (((1<<HW_SDRAM_CSR_ISTAT_WIDTH)-1)<<HW_SDRAM_CSR_ISTAT_BITPOS)
                            16989 ; 77   |#define HW_SDRAM_CSR_PWDN_SETMASK (((1<<HW_SDRAM_CSR_PWDN_WIDTH)-1)<<HW_SDRAM_CSR_PWDN_BITPOS)
                            16990 ; 78   |#define HW_SDRAM_CSR_SBYTE_SETMASK (((1<<HW_SDRAM_CSR_SBYTE_WIDTH)-1)<<HW_SDRAM_CSR_SBYTE_BITPOS)
                            16991 ; 79   |#define HW_SDRAM_CSR_MEM_SETMASK (((1<<HW_SDRAM_CSR_MEM_WIDTH)-1)<<HW_SDRAM_CSR_MEM_BITPOS)
                            16992 ; 80   |#define HW_SDRAM_CSR_BIGE_SETMASK (((1<<HW_SDRAM_CSR_BIGE_WIDTH)-1)<<HW_SDRAM_CSR_BIGE_BITPOS)
                            16993 ; 81   |#define HW_SDRAM_CSR_ASIZE_SETMASK (((1<<HW_SDRAM_CSR_ASIZE_WIDTH)-1)<<HW_SDRAM_CSR_ASIZE_BITPOS)
                            16994 ; 82   |#define HW_SDRAM_CSR_UKICK_SETMASK (((1<<HW_SDRAM_CSR_UKICK_WIDTH)-1)<<HW_SDRAM_CSR_UKICK_BITPOS)
                            16995 ; 83   |#define HW_SDRAM_CSR_DIV_SETMASK (((1<<HW_SDRAM_CSR_DIV_WIDTH)-1)<<HW_SDRAM_CSR_DIV_BITPOS)
                            16996 ; 84   |#define HW_SDRAM_CSR_MULTI_SETMASK (((1<<HW_SDRAM_CSR_MULTI_WIDTH)-1)<<HW_SDRAM_CSR_MULTI_BITPOS)
                            16997 ; 85   |#define HW_SDRAM_CSR_SDRAM_SETMASK (((1<<HW_SDRAM_CSR_SDRAM_WIDTH)-1)<<HW_SDRAM_CSR_SDRAM_BITPOS)
                            16998 ; 86   |#define HW_SDRAM_CSR_SIGN_SETMASK (((1<<HW_SDRAM_CSR_SIGN_WIDTH)-1)<<HW_SDRAM_CSR_SIGN_BITPOS)
                            16999 ; 87   |
                            17000 ; 88   |#define HW_SDRAM_CSR_SDRAMEN_CLRMASK ~(WORD)HW_SDRAM_CSR_SDRAMEN_SETMASK
                            17001 ; 89   |#define HW_SDRAM_CSR_IE_CLRMASK ~(WORD)HW_SDRAM_CSR_IE_SETMASK
                            17002 ; 90   |#define HW_SDRAM_CSR_RNW_CLRMASK ~(WORD)HW_SDRAM_CSR_RNW_SETMASK
                            17003 ; 91   |#define HW_SDRAM_CSR_KICK_CLRMASK ~(WORD)HW_SDRAM_CSR_KICK_SETMASK
                            17004 ; 92   |#define HW_SDRAM_CSR_LM_CLRMASK ~(WORD)HW_SDRAM_CSR_LM_SETMASK
                            17005 ; 93   |#define HW_SDRAM_CSR_ISTAT_CLRMASK ~(WORD)HW_SDRAM_CSR_ISTAT_SETMASK
                            17006 ; 94   |#define HW_SDRAM_CSR_PWDN_CLRMASK ~(WORD)HW_SDRAM_CSR_PWDN_SETMASK
                            17007 ; 95   |#define HW_SDRAM_CSR_SBYTE_CLRMASK ~(WORD)HW_SDRAM_CSR_SBYTE_SETMASK
                            17008 ; 96   |#define HW_SDRAM_CSR_MEM_CLRMASK ~(WORD)HW_SDRAM_CSR_MEM_SETMASK
                            17009 ; 97   |#define HW_SDRAM_CSR_BIGE_CLRMASK ~(WORD)HW_SDRAM_CSR_BIGE_SETMASK
                            17010 ; 98   |#define HW_SDRAM_CSR_ASIZE_CLRMASK ~(WORD)HW_SDRAM_CSR_ASIZE_SETMASK
                            17011 ; 99   |#define HW_SDRAM_CSR_UKICK_CLRMASK ~(WORD)HW_SDRAM_CSR_UKICK_SETMASK
                            17012 ; 100  |#define HW_SDRAM_CSR_DIV_CLRMASK ~(WORD)HW_SDRAM_CSR_DIV_SETMASK
                            17013 ; 101  |#define HW_SDRAM_CSR_MULTI_CLRMASK ~(WORD)HW_SDRAM_CSR_MULTI_SETMASK
                            17014 ; 102  |#define HW_SDRAM_CSR_SDRAM_CLRMASK ~(WORD)HW_SDRAM_CSR_SDRAM_SETMASK
                            17015 ; 103  |#define HW_SDRAM_CSR_SIGN_CLRMASK ~(WORD)HW_SDRAM_CSR_SIGN_SETMASK
                            17016 ; 104  |
                            17017 ; 105  |typedef union               
                            17018 ; 106  |{
                            17019 ; 107  |    struct {
                            17020 ; 108  |        int SDRAMEN                     :1;
                            17021 ; 109  |        int IE                          :1;
                            17022 ; 110  |        int RNW                         :1;
                            17023 ; 111  |        int KICK                        :1;
                            17024 ; 112  |        int LM                          :1;
                            17025 ; 113  |        int ISTAT                       :1;
                            17026 ; 114  |        int PWDN                        :1;
                            17027 ; 115  |        int RSVD                        :1;
                            17028 ; 116  |        int SBYTE                       :2;
                            17029 ; 117  |        int MEM                         :2;
                            17030 ; 118  |        int BIGE                        :1;
                            17031 ; 119  |        int ASIZE                       :3;
                            17032 ; 120  |        int UKICK                       :1;
                            17033 ; 121  |        int DIV                         :4;
                            17034 ; 122  |        int MULTI                       :1;
                            17035 ; 123  |        int SDRAM                       :1;
                            17036 ; 124  |        int SIGN                        :1;
                            17037 ; 125  |    } B;
                            17038 ; 126  |    int I;
                            17039 ; 127  |} sdramcsr_type;
                            17040 ; 128  |#define HW_SDRAM_CSR (*(volatile sdramcsr_type _X*) (HW_SDRAM_BASEADDR))        
                            17041 ; 129  |#define HW_SDRAM_ADDR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+1))
                            17042 ; 130  |#define HW_SDRAM_ADDR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+2))
                            17043 ; 131  |#define HW_SDRAM_SYSADDR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+3))
                            17044 ; 132  |#define HW_SDRAM_SIZE (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+4))
                            17045 ; 133  |#define HW_SDRAM_BAR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+7))
                            17046 ; 134  |#define HW_SDRAM_MR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+8))
                            17047 ; 135  |#define HW_SDRAM_DBAR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+9))
                            17048 ; 136  |#define HW_SDRAM_DBAR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+10))
                            17049 ; 137  |#define HW_SDRAM_DMR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+11))
                            17050 ; 138  |#define HW_SDRAM_DMR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+12))
                            17051 ; 139  |
                            17052 ; 140  |/////////////////////////////////////////////////////////////////////////////////
                            17053 ; 141  |//  SDRAM Start Address Low Register (HW_SDRAM_ADDR1) Bit Definitions
                            17054 ; 142  |#define HW_SDRAM_ADDR1_XA_BITPOS 0
                            17055 ; 143  |
                            17056 ; 144  |#define HW_SDRAM_ADDR1_XA_SETMASK 0xFFFFFF<<HW_SDRAM_ADDR1_XA_BITPOS
                            17057 ; 145  |
                            17058 ; 146  |#define HW_SDRAM_ADDR1_XA_CLRMASK ~(WORD)HW_SDRAM_ADDR1_XA_SETMASK
                            17059 ; 147  |
                            17060 ; 148  |/////////////////////////////////////////////////////////////////////////////////
                            17061 ; 149  |//  SDRAM Start Address High Register (HW_SDRAM_ADDR2) Bit Definitions
                            17062 ; 150  |#define HW_SDRAM_ADDR2_XA_BITPOS 0
                            17063 ; 151  |
                            17064 ; 152  |#define HW_SDRAM_ADDR2_XA_SETMASK 0x1F<<HW_SDRAM_ADDR2_XA_BITPOS
                            17065 ; 153  |
                            17066 ; 154  |#define HW_SDRAM_ADDR2_XA_CLRMASK ~(WORD)HW_SDRAM_ADDR2_XA_SETMASK
                            17067 ; 155  |
                            17068 ; 156  |/////////////////////////////////////////////////////////////////////////////////
                            17069 ; 157  |//  System Start Address Register (HW_SDRAM_SYSADDR) Bit Definitions
                            17070 ; 158  |#define HW_SDRAM_SYSADDR_XA_BITPOS 0
                            17071 ; 159  |
                            17072 ; 160  |#define HW_SDRAM_SYSADDR_XA_SETMASK 0xFFFF<<HW_SDRAM_SYSADDR_XA_BITPOS
                            17073 ; 161  |
                            17074 ; 162  |#define HW_SDRAM_SYSADDR_XA_CLRMASK ~(WORD)HW_SDRAM_SYSADDR_XA_SETMASK
                            17075 ; 163  |
                            17076 ; 164  |/////////////////////////////////////////////////////////////////////////////////
                            17077 ; 165  |//  Number of Bytes to be transfered Register (HW_SDRAM_SIZE) Bit Definitions
                            17078 ; 166  |#define HW_SDRAM_SIZE_XA_BITPOS 0
                            17079 ; 167  |
                            17080 ; 168  |#define HW_SDRAM_SIZE_XA_SETMASK 0x3FFFF<<HW_SDRAM_SIZE_XA_BITPOS
                            17081 ; 169  |
                            17082 ; 170  |#define HW_SDRAM_SIZE_XA_CLRMASK ~(WORD)HW_SDRAM_SIZE_XA_SETMASK
                            17083 ; 171  |
                            17084 ; 172  |/////////////////////////////////////////////////////////////////////////////////
                            17085 ; 173  |//  SDRAM Timer1 Register (HW_SDRAM_TIMER1) Bit Definitions
                            17086 ; 174  |#define HW_SDRAM_TIMER1_INIT_BITPOS 0
                            17087 ; 175  |#define HW_SDRAM_TIMER1_TRP_BITPOS 16
                            17088 ; 176  |#define HW_SDRAM_TIMER1_TRFC_BITPOS 20
                            17089 ; 177  |
                            17090 ; 178  |#define HW_SDRAM_TIMER1_INIT_WIDTH 16
                            17091 ; 179  |#define HW_SDRAM_TIMER1_TRP_WIDTH 4
                            17092 ; 180  |#define HW_SDRAM_TIMER1_TRFC_WIDTH 4
                            17093 ; 181  |
                            17094 ; 182  |#define HW_SDRAM_TIMER1_INIT_SETMASK (((1<<HW_SDRAM_TIMER1_INIT_WIDTH)-1)<<HW_SDRAM_TIMER1_INIT_BITPOS)
                            17095 ; 183  |#define HW_SDRAM_TIMER1_TRP_SETMASK (((1<<HW_SDRAM_TIMER1_TRP_WIDTH)-1)<<HW_SDRAM_TIMER1_TRP_BITPOS)
                            17096 ; 184  |#define HW_SDRAM_TIMER1_TRFC_SETMASK (((1<<HW_SDRAM_TIMER1_TRFC_WIDTH)-1)<<HW_SDRAM_TIMER1_TRFC_BITPOS)
                            17097 ; 185  |
                            17098 ; 186  |#define HW_SDRAM_TIMER1_INIT_CLRMASK ~(WORD)HW_SDRAM_TIMER1_INIT_SETMASK
                            17099 ; 187  |#define HW_SDRAM_TIMER1_TRP_CLRMASK ~(WORD)HW_SDRAM_TIMER1_TRP_SETMASK
                            17100 ; 188  |#define HW_SDRAM_TIMER1_TRFC_CLRMASK ~(WORD)HW_SDRAM_TIMER1_TRFC_SETMASK
                            17101 ; 189  |
                            17102 ; 190  |typedef union               
                            17103 ; 191  |{
                            17104 ; 192  |    struct {
                            17105 ; 193  |        int INIT                :16;
                            17106 ; 194  |        int TRP                 :4;
                            17107 ; 195  |        int TRFC                :4;
                            17108 ; 196  |    } B;
                            17109 ; 197  |    int I;
                            17110 ; 198  |} sdramtimer1_type;
                            17111 ; 199  |#define HW_SDRAM_TIMER1 (*(volatile sdramtimer1_type _X*) (HW_SDRAM_BASEADDR+5))
                            17112 ; 200  |
                            17113 ; 201  |/////////////////////////////////////////////////////////////////////////////////
                            17114 ; 202  |//  SDRAM Timer2 Register (HW_SDRAM_TIMER2) Bit Definitions
                            17115 ; 203  |#define HW_SDRAM_TIMER2_TXSR_BITPOS 0
                            17116 ; 204  |#define HW_SDRAM_TIMER2_TREF_BITPOS 4
                            17117 ; 205  |#define HW_SDRAM_TIMER2_TRCD_BITPOS 16
                            17118 ; 206  |
                            17119 ; 207  |#define HW_SDRAM_TIMER2_TXSR_WIDTH 4
                            17120 ; 208  |#define HW_SDRAM_TIMER2_TREF_WIDTH 12
                            17121 ; 209  |#define HW_SDRAM_TIMER2_TRCD_WIDTH 4
                            17122 ; 210  |
                            17123 ; 211  |#define HW_SDRAM_TIMER2_TXSR_SETMASK (((1<<HW_SDRAM_TIMER2_TXSR_WIDTH)-1)<<HW_SDRAM_TIMER2_TXSR_BITPOS)
                            17124 ; 212  |#define HW_SDRAM_TIMER2_TREF_SETMASK (((1<<HW_SDRAM_TIMER2_TREF_WIDTH)-1)<<HW_SDRAM_TIMER2_TREF_BITPOS)
                            17125 ; 213  |#define HW_SDRAM_TIMER2_TRCD_SETMASK (((1<<HW_SDRAM_TIMER2_TRCD_WIDTH)-1)<<HW_SDRAM_TIMER2_TRCD_BITPOS)
                            17126 ; 214  |
                            17127 ; 215  |#define HW_SDRAM_TIMER2_TXSR_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TXSR_SETMASK
                            17128 ; 216  |#define HW_SDRAM_TIMER2_TREF_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TREF_SETMASK
                            17129 ; 217  |#define HW_SDRAM_TIMER2_TRCD_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TRCD_SETMASK
                            17130 ; 218  |
                            17131 ; 219  |typedef union               
                            17132 ; 220  |{
                            17133 ; 221  |    struct {
                            17134 ; 222  |        int TXSR                :4;
                            17135 ; 223  |        int TREF                :12;
                            17136 ; 224  |        int TRCD                :4;
                            17137 ; 225  |        int RSVD                :4; 
                            17138 ; 226  |    } B;
                            17139 ; 227  |    int I;
                            17140 ; 228  |} sdramtimer2_type;
                            17141 ; 229  |#define HW_SDRAM_TIMER2 (*(volatile sdramtimer2_type _X*) (HW_SDRAM_BASEADDR+6))
                            17142 ; 230  |
                            17143 ; 231  |/////////////////////////////////////////////////////////////////////////////////
                            17144 ; 232  |//  System Modulo Base Address Register (HW_SDRAM_BAR) Bit Definitions
                            17145 ; 233  |#define HW_SDRAM_BAR_XA_BITPOS 0
                            17146 ; 234  |
                            17147 ; 235  |#define HW_SDRAM_BAR_XA_SETMASK 0xFFFF<<HW_SDRAM_BAR_XA_BITPOS
                            17148 ; 236  |
                            17149 ; 237  |#define HW_SDRAM_BAR_XA_CLRMASK ~(WORD)HW_SDRAM_BAR_XA_SETMASK
                            17150 ; 238  |
                            17151 ; 239  |/////////////////////////////////////////////////////////////////////////////////
                            17152 ; 240  |//  System Modulo Register (HW_SDRAM_MR) Bit Definitions
                            17153 ; 241  |#define HW_SDRAM_MR_XA_BITPOS 0
                            17154 ; 242  |
                            17155 ; 243  |#define HW_SDRAM_MR_XA_SETMASK 0xFFFF<<HW_SDRAM_MR_XA_BITPOS
                            17156 ; 244  |
                            17157 ; 245  |#define HW_SDRAM_MR_XA_CLRMASK ~(WORD)HW_SDRAM_MR_XA_SETMASK
                            17158 ; 246  |
                            17159 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                            17160 ; 248  |//  SDRAM Mode Register (HW_SDRAM_MODE) Bit Definitions
                            17161 ; 249  |#define HW_SDRAM_MODE_XA_BITPOS 0
                            17162 ; 250  |
                            17163 ; 251  |#define HW_SDRAM_MODE_XA_WIDTH 14
                            17164 ; 252  |
                            17165 ; 253  |#define HW_SDRAM_MODE_XA_SETMASK (((1<<HW_SDRAM_MODE_XA_WIDTH)-1)<<HW_SDRAM_MODE_XA_BITPOS)
                            17166 ; 254  |
                            17167 ; 255  |#define HW_SDRAM_MODE_XA_CLRMASK ~(WORD)HW_SDRAM_MODE_XA_SETMASK
                            17168 ; 256  |
                            17169 ; 257  |typedef union               
                            17170 ; 258  |{
                            17171 ; 259  |    struct {
                            17172 ; 260  |        int VALUE               :14;
                            17173 ; 261  |        int RSVD                :10; 
                            17174 ; 262  |    } B;
                            17175 ; 263  |    int I;
                            17176 ; 264  |} sdrammode_type;
                            17177 ; 265  |#define HW_SDRAM_MODE (*(volatile sdrammode_type _X*) (HW_SDRAM_BASEADDR+14))
                            17178 ; 266  |
                            17179 ; 267  |/////////////////////////////////////////////////////////////////////////////////
                            17180 ; 268  |//  SDRAM Type Register (HW_SDRAM_TYPE) Bit Definitions
                            17181 ; 269  |#define HW_SDRAM_TYPE_COLWIDTH_BITPOS 0
                            17182 ; 270  |#define HW_SDRAM_TYPE_ROWWIDTH_BITPOS 4
                            17183 ; 271  |
                            17184 ; 272  |#define HW_SDRAM_TYPE_COLWIDTH_WIDTH 4
                            17185 ; 273  |#define HW_SDRAM_TYPE_ROWWIDTH_WIDTH 4
                            17186 ; 274  |
                            17187 ; 275  |#define HW_SDRAM_TYPE_COLWIDTH_SETMASK (((1<<HW_SDRAM_TYPE_COLWIDTH_WIDTH)-1)<<HW_SDRAM_TYPE_COLWIDTH_BITPOS)
                            17188 ; 276  |#define HW_SDRAM_TYPE_ROWWIDTH_SETMASK (((1<<HW_SDRAM_TYPE_ROWWIDTH_WIDTH)-1)<<HW_SDRAM_TYPE_ROWWIDTH_BITPOS)
                            17189 ; 277  |
                            17190 ; 278  |#define HW_SDRAM_TYPE_COLWIDTH_CLRMASK (~(WORD)HW_SDRAM_TYPE_COLWIDTH_SETMASK)
                            17191 ; 279  |#define HW_SDRAM_TYPE_ROWWIDTH_CLRMASK (~(WORD)HW_SDRAM_TYPE_ROWWIDTH_SETMASK)
                            17192 ; 280  |
                            17193 ; 281  |typedef union               
                            17194 ; 282  |{
                            17195 ; 283  |    struct {
                            17196 ; 284  |        int COLWIDTH               :4;
                            17197 ; 285  |        int ROWWIDTH               :4; 
                            17198 ; 286  |    } B;
                            17199 ; 287  |    int I;
                            17200 ; 288  |} sdramtype_type;
                            17201 ; 289  |#define HW_SDRAM_TYPE (*(volatile sdramtype_type _X*) (HW_SDRAM_BASEADDR+14))
                            17202 ; 290  |
                            17203 ; 291  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  69

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17204 ; 292  |
                            17205 ; 293  |
                            17206 ; 294  |
                            17207 ; 295  |
                            17208 ; 296  |
                            17209 ; 297  |
                            17210 
                            17212 
                            17213 ; 34   |#include "regstb.h"
                            17214 
                            17216 
                            17217 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            17218 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                            17219 ; 3    |// Filename: regstb.inc
                            17220 ; 4    |// Description: Register definitions for Trace Buffer
                            17221 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            17222 ; 6    |// The following naming conventions are followed in this file.
                            17223 ; 7    |// All registers are named using the format...
                            17224 ; 8    |//     HW_<module>_<regname>
                            17225 ; 9    |// where <module> is the module name which can be any of the following...
                            17226 ; 10   |//     USB20
                            17227 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            17228 ; 12   |// module name includes a number starting from 0 for the first instance of
                            17229 ; 13   |// that module)
                            17230 ; 14   |// <regname> is the specific register within that module
                            17231 ; 15   |// We also define the following...
                            17232 ; 16   |//     HW_<module>_<regname>_BITPOS
                            17233 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            17234 ; 18   |//     HW_<module>_<regname>_SETMASK
                            17235 ; 19   |// which does something else, and
                            17236 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            17237 ; 21   |// which does something else.
                            17238 ; 22   |// Other rules
                            17239 ; 23   |//     All caps
                            17240 ; 24   |//     Numeric identifiers start at 0
                            17241 ; 25   |#if !(defined(regstbinc))
                            17242 ; 26   |#define regstbinc 1
                            17243 ; 27   |
                            17244 ; 28   |#include "types.h"
                            17245 
                            17247 
                            17248 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            17249 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            17250 ; 3    |//
                            17251 ; 4    |// Filename: types.h
                            17252 ; 5    |// Description: Standard data types
                            17253 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            17254 ; 7    |
                            17255 ; 8    |#ifndef _TYPES_H
                            17256 ; 9    |#define _TYPES_H
                            17257 ; 10   |
                            17258 ; 11   |// TODO:  move this outta here!
                            17259 ; 12   |#if !defined(NOERROR)
                            17260 ; 13   |#define NOERROR 0
                            17261 ; 14   |#define SUCCESS 0
                            17262 ; 15   |#endif 
                            17263 ; 16   |#if !defined(SUCCESS)
                            17264 ; 17   |#define SUCCESS  0
                            17265 ; 18   |#endif
                            17266 ; 19   |#if !defined(ERROR)
                            17267 ; 20   |#define ERROR   -1
                            17268 ; 21   |#endif
                            17269 ; 22   |#if !defined(FALSE)
                            17270 ; 23   |#define FALSE 0
                            17271 ; 24   |#endif
                            17272 ; 25   |#if !defined(TRUE)
                            17273 ; 26   |#define TRUE  1
                            17274 ; 27   |#endif
                            17275 ; 28   |
                            17276 ; 29   |#if !defined(NULL)
                            17277 ; 30   |#define NULL 0
                            17278 ; 31   |#endif
                            17279 ; 32   |
                            17280 ; 33   |#define MAX_INT     0x7FFFFF
                            17281 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            17282 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            17283 ; 36   |#define MAX_ULONG   (-1) 
                            17284 ; 37   |
                            17285 ; 38   |#define WORD_SIZE   24              // word size in bits
                            17286 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            17287 ; 40   |
                            17288 ; 41   |
                            17289 ; 42   |#define BYTE    unsigned char       // btVarName
                            17290 ; 43   |#define CHAR    signed char         // cVarName
                            17291 ; 44   |#define USHORT  unsigned short      // usVarName
                            17292 ; 45   |#define SHORT   unsigned short      // sVarName
                            17293 ; 46   |#define WORD    unsigned int        // wVarName
                            17294 ; 47   |#define INT     signed int          // iVarName
                            17295 ; 48   |#define DWORD   unsigned long       // dwVarName
                            17296 ; 49   |#define LONG    signed long         // lVarName
                            17297 ; 50   |#define BOOL    unsigned int        // bVarName
                            17298 ; 51   |#define FRACT   _fract              // frVarName
                            17299 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            17300 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            17301 ; 54   |#define FLOAT   float               // fVarName
                            17302 ; 55   |#define DBL     double              // dVarName
                            17303 ; 56   |#define ENUM    enum                // eVarName
                            17304 ; 57   |#define CMX     _complex            // cmxVarName
                            17305 ; 58   |typedef WORD UCS3;                   // 
                            17306 ; 59   |
                            17307 ; 60   |#define UINT16  unsigned short
                            17308 ; 61   |#define UINT8   unsigned char   
                            17309 ; 62   |#define UINT32  unsigned long
                            17310 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            17311 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            17312 ; 65   |#define WCHAR   UINT16
                            17313 ; 66   |
                            17314 ; 67   |//UINT128 is 16 bytes or 6 words
                            17315 ; 68   |typedef struct UINT128_3500 {   
                            17316 ; 69   |    int val[6];     
                            17317 ; 70   |} UINT128_3500;
                            17318 ; 71   |
                            17319 ; 72   |#define UINT128   UINT128_3500
                            17320 ; 73   |
                            17321 ; 74   |// Little endian word packed byte strings:   
                            17322 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            17323 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            17324 ; 77   |// Little endian word packed byte strings:   
                            17325 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            17326 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            17327 ; 80   |
                            17328 ; 81   |// Declare Memory Spaces To Use When Coding
                            17329 ; 82   |// A. Sector Buffers
                            17330 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            17331 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            17332 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            17333 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            17334 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            17335 ; 88   |// B. Media DDI Memory
                            17336 ; 89   |#define MEDIA_DDI_MEM _Y
                            17337 ; 90   |
                            17338 ; 91   |
                            17339 ; 92   |
                            17340 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            17341 ; 94   |// Examples of circular pointers:
                            17342 ; 95   |//    INT CIRC cpiVarName
                            17343 ; 96   |//    DWORD CIRC cpdwVarName
                            17344 ; 97   |
                            17345 ; 98   |#define RETCODE INT                 // rcVarName
                            17346 ; 99   |
                            17347 ; 100  |// generic bitfield structure
                            17348 ; 101  |struct Bitfield {
                            17349 ; 102  |    unsigned int B0  :1;
                            17350 ; 103  |    unsigned int B1  :1;
                            17351 ; 104  |    unsigned int B2  :1;
                            17352 ; 105  |    unsigned int B3  :1;
                            17353 ; 106  |    unsigned int B4  :1;
                            17354 ; 107  |    unsigned int B5  :1;
                            17355 ; 108  |    unsigned int B6  :1;
                            17356 ; 109  |    unsigned int B7  :1;
                            17357 ; 110  |    unsigned int B8  :1;
                            17358 ; 111  |    unsigned int B9  :1;
                            17359 ; 112  |    unsigned int B10 :1;
                            17360 ; 113  |    unsigned int B11 :1;
                            17361 ; 114  |    unsigned int B12 :1;
                            17362 ; 115  |    unsigned int B13 :1;
                            17363 ; 116  |    unsigned int B14 :1;
                            17364 ; 117  |    unsigned int B15 :1;
                            17365 ; 118  |    unsigned int B16 :1;
                            17366 ; 119  |    unsigned int B17 :1;
                            17367 ; 120  |    unsigned int B18 :1;
                            17368 ; 121  |    unsigned int B19 :1;
                            17369 ; 122  |    unsigned int B20 :1;
                            17370 ; 123  |    unsigned int B21 :1;
                            17371 ; 124  |    unsigned int B22 :1;
                            17372 ; 125  |    unsigned int B23 :1;
                            17373 ; 126  |};
                            17374 ; 127  |
                            17375 ; 128  |union BitInt {
                            17376 ; 129  |        struct Bitfield B;
                            17377 ; 130  |        int        I;
                            17378 ; 131  |};
                            17379 ; 132  |
                            17380 ; 133  |#define MAX_MSG_LENGTH 10
                            17381 ; 134  |struct CMessage
                            17382 ; 135  |{
                            17383 ; 136  |        unsigned int m_uLength;
                            17384 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            17385 ; 138  |};
                            17386 ; 139  |
                            17387 ; 140  |typedef struct {
                            17388 ; 141  |    WORD m_wLength;
                            17389 ; 142  |    WORD m_wMessage;
                            17390 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            17391 ; 144  |} Message;
                            17392 ; 145  |
                            17393 ; 146  |struct MessageQueueDescriptor
                            17394 ; 147  |{
                            17395 ; 148  |        int *m_pBase;
                            17396 ; 149  |        int m_iModulo;
                            17397 ; 150  |        int m_iSize;
                            17398 ; 151  |        int *m_pHead;
                            17399 ; 152  |        int *m_pTail;
                            17400 ; 153  |};
                            17401 ; 154  |
                            17402 ; 155  |struct ModuleEntry
                            17403 ; 156  |{
                            17404 ; 157  |    int m_iSignaledEventMask;
                            17405 ; 158  |    int m_iWaitEventMask;
                            17406 ; 159  |    int m_iResourceOfCode;
                            17407 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            17408 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            17409 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            17410 ; 163  |    int m_uTimeOutHigh;
                            17411 ; 164  |    int m_uTimeOutLow;
                            17412 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            17413 ; 166  |};
                            17414 ; 167  |
                            17415 ; 168  |union WaitMask{
                            17416 ; 169  |    struct B{
                            17417 ; 170  |        unsigned int m_bNone     :1;
                            17418 ; 171  |        unsigned int m_bMessage  :1;
                            17419 ; 172  |        unsigned int m_bTimer    :1;
                            17420 ; 173  |        unsigned int m_bButton   :1;
                            17421 ; 174  |    } B;
                            17422 ; 175  |    int I;
                            17423 ; 176  |} ;
                            17424 ; 177  |
                            17425 ; 178  |
                            17426 ; 179  |struct Button {
                            17427 ; 180  |        WORD wButtonEvent;
                            17428 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            17429 ; 182  |};
                            17430 ; 183  |
                            17431 ; 184  |struct Message {
                            17432 ; 185  |        WORD wMsgLength;
                            17433 ; 186  |        WORD wMsgCommand;
                            17434 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            17435 ; 188  |};
                            17436 ; 189  |
                            17437 ; 190  |union EventTypes {
                            17438 ; 191  |        struct CMessage msg;
                            17439 ; 192  |        struct Button Button ;
                            17440 ; 193  |        struct Message Message;
                            17441 ; 194  |};
                            17442 ; 195  |
                            17443 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            17444 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            17445 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            17446 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            17447 ; 200  |
                            17448 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            17449 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            17450 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            17451 ; 204  |
                            17452 ; 205  |#if DEBUG
                            17453 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            17454 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            17455 ; 208  |#else 
                            17456 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            17457 ; 210  |#define DebugBuildAssert(x)    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  70

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17458 ; 211  |#endif
                            17459 ; 212  |
                            17460 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            17461 ; 214  |//  #pragma asm
                            17462 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            17463 ; 216  |//  #pragma endasm
                            17464 ; 217  |
                            17465 ; 218  |
                            17466 ; 219  |#ifdef COLOR_262K
                            17467 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            17468 ; 221  |#elif defined(COLOR_65K)
                            17469 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            17470 ; 223  |#else
                            17471 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            17472 ; 225  |#endif
                            17473 ; 226  |    
                            17474 ; 227  |#endif // #ifndef _TYPES_H
                            17475 
                            17477 
                            17478 ; 29   |
                            17479 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17480 ; 31   |
                            17481 ; 32   |//   Trace Buffer STMP Registers 
                            17482 ; 33   |//   Last Updated 6.30.2003 D. Baker
                            17483 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17484 ; 35   |
                            17485 ; 36   |#define HW_TB_BASEADDR (0xF080)
                            17486 ; 37   |
                            17487 ; 38   |
                            17488 ; 39   |
                            17489 ; 40   |
                            17490 ; 41   |/////////////////////////////////////////////////////////////////////////////////
                            17491 ; 42   |
                            17492 ; 43   |//  Trace Buffer Configuration Register (HW_TB_CFG) Bit Definitions
                            17493 ; 44   |
                            17494 ; 45   |#define HW_TB_CFG_CLK_ENABLE_BITPOS (0)
                            17495 ; 46   |#define HW_TB_CFG_ENABLE_BITPOS (1)
                            17496 ; 47   |#define HW_TB_CFG_DONE_BITPOS (3)
                            17497 ; 48   |#define HW_TB_CFG_DMA_ASEL_BITPOS (4)
                            17498 ; 49   |#define HW_TB_CFG_TRIG_EVENT_BITPOS (6)
                            17499 ; 50   |
                            17500 ; 51   |#define HW_TB_CFG_CLK_ENABLE_WIDTH (1)
                            17501 ; 52   |#define HW_TB_CFG_ENABLE_WIDTH (1)
                            17502 ; 53   |#define HW_TB_CFG_RSVD1_WIDTH (1)
                            17503 ; 54   |#define HW_TB_CFG_DONE_WIDTH (1)
                            17504 ; 55   |#define HW_TB_CFG_DMA_ASEL_WIDTH (2)
                            17505 ; 56   |#define HW_TB_CFG_TRIG_EVENT_WIDTH (1)
                            17506 ; 57   |#define HW_TB_CFG_RSVD2_WIDTH (17)
                            17507 ; 58   |
                            17508 ; 59   |#define HW_TB_CFG_CLK_ENABLE_SETMASK (((1<<HW_TB_CFG_CLK_ENABLE_WIDTH)-1)<<HW_TB_CFG_CLK_ENABLE_BITPOS) 
                            17509 ; 60   |#define HW_TB_CFG_ENABLE_SETMASK (((1<<HW_TB_CFG_ENABLE_WIDTH)-1)<<HW_TB_CFG_ENABLE_BITPOS) 
                            17510 ; 61   |#define HW_TB_CFG_DONE_SETMASK (((1<<HW_TB_CFG_DONE_WIDTH)-1)<<HW_TB_CFG_DONE_BITPOS) 
                            17511 ; 62   |#define HW_TB_CFG_DMA_ASEL_SETMASK (((1<<HW_TB_CFG_DMA_ASEL_WIDTH)-1)<<HW_TB_CFG_DMA_ASEL_BITPOS) 
                            17512 ; 63   |#define HW_TB_CFG_TRIG_EVENT_SETMASK (((1<<HW_TB_CFG_TRIG_EVENT_WIDTH)-1)<<HW_TB_CFG_TRIG_EVENT_BITPOS) 
                            17513 ; 64   |
                            17514 ; 65   |#define HW_TB_CFG_CLK_ENABLE_CLRMASK (~(WORD)HW_TB_CFG_CLK_ENABLE_SETMASK)
                            17515 ; 66   |#define HW_TB_CFG_ENABLE_CLRMASK (~(WORD)HW_TB_CFG_ENABLE_SETMASK)
                            17516 ; 67   |#define HW_TB_CFG_DONE_CLRMASK (~(WORD)HW_TB_CFG_DONE_SETMASK)
                            17517 ; 68   |#define HW_TB_CFG_DMA_ASEL_CLRMASK (~(WORD)HW_TB_CFG_DMA_ASEL_SETMASK)
                            17518 ; 69   |#define HW_TB_CFG_TRIG_EVENT_CLRMASK (~(WORD)HW_TB_CFG_TRIG_EVENT_SETMASK)
                            17519 ; 70   |
                            17520 ; 71   |typedef union               
                            17521 ; 72   |{
                            17522 ; 73   |    struct {
                            17523 ; 74   |         int CLK_ENABLE      : HW_TB_CFG_CLK_ENABLE_WIDTH;
                            17524 ; 75   |         int ENABLE          : HW_TB_CFG_ENABLE_WIDTH;
                            17525 ; 76   |        int rsvd1           : HW_TB_CFG_RSVD1_WIDTH;
                            17526 ; 77   |         int DONE            : HW_TB_CFG_DONE_WIDTH;
                            17527 ; 78   |         int DMA_ASEL        : HW_TB_CFG_DMA_ASEL_WIDTH;
                            17528 ; 79   |         int TRIG_EVENT      : HW_TB_CFG_TRIG_EVENT_WIDTH;
                            17529 ; 80   |        int rsvd2           : HW_TB_CFG_RSVD2_WIDTH;
                            17530 ; 81   |    } B;
                            17531 ; 82   |    int I;
                            17532 ; 83   |    unsigned int U;
                            17533 ; 84   |} tb_cfg_type;
                            17534 ; 85   |#define HW_TB_CFG      (*(volatile tb_cfg_type _X*) (HW_TB_BASEADDR+0))    /* Trace Buffer Configuration Register */
                            17535 ; 86   |
                            17536 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            17537 ; 88   |
                            17538 ; 89   |//  Trace Buffer Base Address Register (HW_TB_BAR) Bit Definitions
                            17539 ; 90   |
                            17540 ; 91   |#define HW_TB_BAR_ADDRESS_BITPOS (0)
                            17541 ; 92   |
                            17542 ; 93   |#define HW_TB_BAR_ADDRESS_WIDTH (16)        
                            17543 ; 94   |#define HW_TB_BAR_RSVD_WIDTH (8)
                            17544 ; 95   |
                            17545 ; 96   |#define HW_TB_BAR_ADDRESS_SETMASK (((1<<HW_TB_BAR_ADDRESS_WIDTH)-1)<<HW_TB_BAR_ADDRESS_BITPOS) 
                            17546 ; 97   |
                            17547 ; 98   |#define HW_TB_BAR_ADDRESS_CLRMASK (~(WORD)HW_TB_BAR_ADDRESS_SETMASK)
                            17548 ; 99   |
                            17549 ; 100  |typedef union               
                            17550 ; 101  |{
                            17551 ; 102  |    struct {
                            17552 ; 103  |         int ADDRESS      : HW_TB_BAR_ADDRESS_WIDTH;
                            17553 ; 104  |        int reserved     : HW_TB_BAR_RSVD_WIDTH;
                            17554 ; 105  |    } B;
                            17555 ; 106  |    int I;
                            17556 ; 107  |    unsigned int U;
                            17557 ; 108  |} tb_bar_type;
                            17558 ; 109  |#define HW_TB_BAR      (*(volatile tb_bar_type _X*) (HW_TB_BASEADDR+1))    /* Trace Buffer Base Address Register */
                            17559 ; 110  |
                            17560 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            17561 ; 112  |
                            17562 ; 113  |//  Trace Buffer Modulo Register (HW_TB_MOD) Bit Definitions
                            17563 ; 114  |
                            17564 ; 115  |#define HW_TB_MOD_MODULUS_BITPOS (0)
                            17565 ; 116  |
                            17566 ; 117  |#define HW_TB_MOD_MODULUS_WIDTH (14)        
                            17567 ; 118  |#define HW_TB_MOD_RSVD_WIDTH (10)
                            17568 ; 119  |
                            17569 ; 120  |#define HW_TB_MOD_MODULUS_SETMASK (((1<<HW_TB_MOD_MODULUS_WIDTH)-1)<<HW_TB_MOD_MODULUS_BITPOS) 
                            17570 ; 121  |
                            17571 ; 122  |#define HW_TB_MOD_MODULUS_CLRMASK (~(WORD)HW_TB_MOD_MODULUS_SETMASK)
                            17572 ; 123  |
                            17573 ; 124  |typedef union               
                            17574 ; 125  |{
                            17575 ; 126  |    struct {
                            17576 ; 127  |         int MODULUS      : HW_TB_MOD_MODULUS_WIDTH;
                            17577 ; 128  |        int reserved        : HW_TB_MOD_RSVD_WIDTH;
                            17578 ; 129  |    } B;
                            17579 ; 130  |    int I;
                            17580 ; 131  |    unsigned int U;
                            17581 ; 132  |} tb_mod_type;
                            17582 ; 133  |#define HW_TB_MOD      (*(volatile tb_mod_type _X*) (HW_TB_BASEADDR+2))    /* Trace Buffer Modulus Register */
                            17583 ; 134  |
                            17584 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                            17585 ; 136  |
                            17586 ; 137  |//  Trace Buffer Current Index Register (HW_TB_CIR) Bit Definitions
                            17587 ; 138  |
                            17588 ; 139  |#define HW_TB_CIR_INDEX_BITPOS (0)
                            17589 ; 140  |
                            17590 ; 141  |#define HW_TB_CIR_INDEX_WIDTH (14)        
                            17591 ; 142  |#define HW_TB_CIR_RSVD_WIDTH (10)
                            17592 ; 143  |
                            17593 ; 144  |#define HW_TB_CIR_INDEX_SETMASK (((1<<HW_TB_CIR_INDEX_WIDTH)-1)<<HW_TB_CIR_INDEX_BITPOS) 
                            17594 ; 145  |
                            17595 ; 146  |#define HW_TB_CIR_INDEX_CLRMASK (~(WORD)HW_TB_CIR_INDEX_SETMASK)
                            17596 ; 147  |
                            17597 ; 148  |typedef union               
                            17598 ; 149  |{
                            17599 ; 150  |    struct {
                            17600 ; 151  |         int INDEX        : HW_TB_CIR_INDEX_WIDTH;
                            17601 ; 152  |        int reserved     : HW_TB_CIR_RSVD_WIDTH;
                            17602 ; 153  |    } B;
                            17603 ; 154  |    int I;
                            17604 ; 155  |    unsigned int U;
                            17605 ; 156  |} tb_cir_type;
                            17606 ; 157  |#define HW_TB_CIR      (*(volatile tb_cir_type _X*) (HW_TB_BASEADDR+3))    /* Trace Buffer Current Index Register */
                            17607 ; 158  |
                            17608 ; 159  |/////////////////////////////////////////////////////////////////////////////////
                            17609 ; 160  |
                            17610 ; 161  |//  Trace Buffer One Byte Code Register (HW_TB_OBC) Bit Definitions
                            17611 ; 162  |
                            17612 ; 163  |#define HW_TB_OBC_CODE_BITPOS (0)
                            17613 ; 164  |
                            17614 ; 165  |#define HW_TB_OBC_CODE_WIDTH (8)        
                            17615 ; 166  |#define HW_TB_OBC_RSVD_WIDTH (16)
                            17616 ; 167  |
                            17617 ; 168  |#define HW_TB_OBC_CODE_SETMASK (((1<<HW_TB_OBC_CODE_WIDTH)-1)<<HW_TB_OBC_CODE_BITPOS) 
                            17618 ; 169  |
                            17619 ; 170  |#define HW_TB_OBC_CODE_CLRMASK (~(WORD)HW_TB_OBC_CODE_SETMASK)
                            17620 ; 171  |
                            17621 ; 172  |typedef union               
                            17622 ; 173  |{
                            17623 ; 174  |    struct {
                            17624 ; 175  |         int CODE        : HW_TB_OBC_CODE_WIDTH;
                            17625 ; 176  |        int reserved    : HW_TB_OBC_RSVD_WIDTH;
                            17626 ; 177  |    } B;
                            17627 ; 178  |    int I;
                            17628 ; 179  |    unsigned int U;
                            17629 ; 180  |} tb_obc_type;
                            17630 ; 181  |#define HW_TB_OBC      (*(volatile tb_obc_type _X*) (HW_TB_BASEADDR+4))    /* Trace Buffer one byte code Register */
                            17631 ; 182  |
                            17632 ; 183  |/////////////////////////////////////////////////////////////////////////////////
                            17633 ; 184  |
                            17634 ; 185  |//  Trace Buffer Trigger Command Register (HW_TB_TCS) Bit Definitions
                            17635 ; 186  |
                            17636 ; 187  |#define HW_TB_TCS_TRG_STYLE_BITPOS (0)
                            17637 ; 188  |#define HW_TB_TCS_CAP_CLASS_BITPOS (1)
                            17638 ; 189  |#define HW_TB_TCS_TRG_CLASS_BITPOS (3)
                            17639 ; 190  |#define HW_TB_TCS_FREEZE_BITPOS (5)
                            17640 ; 191  |
                            17641 ; 192  |#define HW_TB_TCS_TRG_STYLE_WIDTH (1)        
                            17642 ; 193  |#define HW_TB_TCS_CAP_CLASS_WIDTH (2)        
                            17643 ; 194  |#define HW_TB_TCS_TRG_CLASS_WIDTH (2)        
                            17644 ; 195  |#define HW_TB_TCS_FREEZE_WIDTH (1)        
                            17645 ; 196  |#define HW_TB_TCS_RSVD_WIDTH (18)
                            17646 ; 197  |
                            17647 ; 198  |#define HW_TB_TCS_TRG_STYLE_SETMASK (((1<<HW_TB_TCS_TRG_STYLE_WIDTH)-1)<<HW_TB_TCS_TRG_STYLE_BITPOS) 
                            17648 ; 199  |#define HW_TB_TCS_CAP_CLASS_SETMASK (((1<<HW_TB_TCS_CAP_CLASS_WIDTH)-1)<<HW_TB_TCS_CAP_CLASS_BITPOS) 
                            17649 ; 200  |#define HW_TB_TCS_TRG_CLASS_SETMASK (((1<<HW_TB_TCS_TRG_CLASS_WIDTH)-1)<<HW_TB_TCS_TRG_CLASS_BITPOS) 
                            17650 ; 201  |#define HW_TB_TCS_FREEZE_SETMASK (((1<<HW_TB_TCS_FREEZE_WIDTH)-1)<<HW_TB_TCS_FREEZE_BITPOS) 
                            17651 ; 202  |
                            17652 ; 203  |#define HW_TB_TCS_TRG_STYLE_CLRMASK (~(WORD)HW_TB_TCS_TRG_STYLE_SETMASK)
                            17653 ; 204  |#define HW_TB_TCS_CAP_CLASS_CLRMASK (~(WORD)HW_TB_TCS_CAP_CLASS_SETMASK)
                            17654 ; 205  |#define HW_TB_TCS_TRG_CLASS_CLRMASK (~(WORD)HW_TB_TCS_TRG_CLASS_SETMASK)
                            17655 ; 206  |#define HW_TB_TCS_FREEZE_CLRMASK (~(WORD)HW_TB_TCS_FREEZE_SETMASK)
                            17656 ; 207  |
                            17657 ; 208  |typedef union               
                            17658 ; 209  |{
                            17659 ; 210  |    struct {
                            17660 ; 211  |         int TRG_STYLE       : HW_TB_TCS_TRG_STYLE_WIDTH;
                            17661 ; 212  |         int CAP_CLASS       : HW_TB_TCS_CAP_CLASS_WIDTH;
                            17662 ; 213  |         int TRG_CLASS       : HW_TB_TCS_TRG_CLASS_WIDTH;
                            17663 ; 214  |         int FREEZE          : HW_TB_TCS_FREEZE_WIDTH;
                            17664 ; 215  |        int reserved        : HW_TB_TCS_RSVD_WIDTH;
                            17665 ; 216  |    } B;
                            17666 ; 217  |    int I;
                            17667 ; 218  |    unsigned int U;
                            17668 ; 219  |} tb_tcs_type;
                            17669 ; 220  |#define HW_TB_TCS      (*(volatile tb_tcs_type _X*) (HW_TB_BASEADDR+16))    /* Trace Buffer Trigger Command Register */
                            17670 ; 221  |
                            17671 ; 222  |/////////////////////////////////////////////////////////////////////////////////
                            17672 ; 223  |
                            17673 ; 224  |//  Trace Buffer Trigger Value Register (HW_TB_TVR) Bit Definitions
                            17674 ; 225  |
                            17675 ; 226  |#define HW_TB_TVR_MATCH_ADDR_BITPOS (0)
                            17676 ; 227  |
                            17677 ; 228  |#define HW_TB_TVR_MATCH_ADDR_WIDTH (16)        
                            17678 ; 229  |#define HW_TB_TVR_RSVD_WIDTH (8)
                            17679 ; 230  |
                            17680 ; 231  |#define HW_TB_TVR_MATCH_ADDR_SETMASK (((1<<HW_TB_TVR_MATCH_ADDR_WIDTH)-1)<<HW_TB_TVR_MATCH_ADDR_BITPOS) 
                            17681 ; 232  |
                            17682 ; 233  |#define HW_TB_TVR_MATCH_ADDR_CLRMASK (~(WORD)HW_TB_TVR_MATCH_ADDR_SETMASK)
                            17683 ; 234  |
                            17684 ; 235  |typedef union               
                            17685 ; 236  |{
                            17686 ; 237  |    struct {
                            17687 ; 238  |         int MATCH_ADDR      : HW_TB_TVR_MATCH_ADDR_WIDTH;
                            17688 ; 239  |        int reserved        : HW_TB_TVR_RSVD_WIDTH;
                            17689 ; 240  |    } B;
                            17690 ; 241  |    int I;
                            17691 ; 242  |    unsigned int U;
                            17692 ; 243  |} tb_tvr_type;
                            17693 ; 244  |#define HW_TB_TVR      (*(volatile tb_tvr_type _X*) (HW_TB_BASEADDR+24))    /* Trace Buffer Trigger Value Register */
                            17694 ; 245  |
                            17695 ; 246  |
                            17696 ; 247  |
                            17697 ; 248  |#endif
                            17698 ; 249  |
                            17699 ; 250  |
                            17700 ; 251  |
                            17701 ; 252  |
                            17702 ; 253  |
                            17703 ; 254  |
                            17704 ; 255  |
                            17705 ; 256  |
                            17706 ; 257  |
                            17707 ; 258  |
                            17708 ; 259  |
                            17709 ; 260  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  71

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17710 ; 261  |
                            17711 ; 262  |
                            17712 ; 263  |
                            17713 ; 264  |
                            17714 ; 265  |
                            17715 
                            17717 
                            17718 ; 35   |#include "regstimer.h"
                            17719 
                            17721 
                            17722 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            17723 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2001
                            17724 ; 3    |// Filename: regstimer.inc
                            17725 ; 4    |// Description: Register definitions for  Timers interface
                            17726 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            17727 ; 6    |// The following naming conventions are followed in this file.
                            17728 ; 7    |// All registers are named using the format...
                            17729 ; 8    |//     HW_<module>_<regname>
                            17730 ; 9    |// where <module> is the module name which can be any of the following...
                            17731 ; 10   |//     USB20
                            17732 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            17733 ; 12   |// module name includes a number starting from 0 for the first instance of
                            17734 ; 13   |// that module)
                            17735 ; 14   |// <regname> is the specific register within that module
                            17736 ; 15   |// We also define the following...
                            17737 ; 16   |//     HW_<module>_<regname>_BITPOS
                            17738 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            17739 ; 18   |//     HW_<module>_<regname>_SETMASK
                            17740 ; 19   |// which does something else, and
                            17741 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            17742 ; 21   |// which does something else.
                            17743 ; 22   |// Other rules
                            17744 ; 23   |//     All caps
                            17745 ; 24   |//     Numeric identifiers start at 0
                            17746 ; 25   |#if !(defined(regstimerinc))
                            17747 ; 26   |#define regstimerinc 1
                            17748 ; 27   |
                            17749 ; 28   |#include "types.h"
                            17750 
                            17752 
                            17753 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            17754 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            17755 ; 3    |//
                            17756 ; 4    |// Filename: types.h
                            17757 ; 5    |// Description: Standard data types
                            17758 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            17759 ; 7    |
                            17760 ; 8    |#ifndef _TYPES_H
                            17761 ; 9    |#define _TYPES_H
                            17762 ; 10   |
                            17763 ; 11   |// TODO:  move this outta here!
                            17764 ; 12   |#if !defined(NOERROR)
                            17765 ; 13   |#define NOERROR 0
                            17766 ; 14   |#define SUCCESS 0
                            17767 ; 15   |#endif 
                            17768 ; 16   |#if !defined(SUCCESS)
                            17769 ; 17   |#define SUCCESS  0
                            17770 ; 18   |#endif
                            17771 ; 19   |#if !defined(ERROR)
                            17772 ; 20   |#define ERROR   -1
                            17773 ; 21   |#endif
                            17774 ; 22   |#if !defined(FALSE)
                            17775 ; 23   |#define FALSE 0
                            17776 ; 24   |#endif
                            17777 ; 25   |#if !defined(TRUE)
                            17778 ; 26   |#define TRUE  1
                            17779 ; 27   |#endif
                            17780 ; 28   |
                            17781 ; 29   |#if !defined(NULL)
                            17782 ; 30   |#define NULL 0
                            17783 ; 31   |#endif
                            17784 ; 32   |
                            17785 ; 33   |#define MAX_INT     0x7FFFFF
                            17786 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            17787 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            17788 ; 36   |#define MAX_ULONG   (-1) 
                            17789 ; 37   |
                            17790 ; 38   |#define WORD_SIZE   24              // word size in bits
                            17791 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            17792 ; 40   |
                            17793 ; 41   |
                            17794 ; 42   |#define BYTE    unsigned char       // btVarName
                            17795 ; 43   |#define CHAR    signed char         // cVarName
                            17796 ; 44   |#define USHORT  unsigned short      // usVarName
                            17797 ; 45   |#define SHORT   unsigned short      // sVarName
                            17798 ; 46   |#define WORD    unsigned int        // wVarName
                            17799 ; 47   |#define INT     signed int          // iVarName
                            17800 ; 48   |#define DWORD   unsigned long       // dwVarName
                            17801 ; 49   |#define LONG    signed long         // lVarName
                            17802 ; 50   |#define BOOL    unsigned int        // bVarName
                            17803 ; 51   |#define FRACT   _fract              // frVarName
                            17804 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            17805 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            17806 ; 54   |#define FLOAT   float               // fVarName
                            17807 ; 55   |#define DBL     double              // dVarName
                            17808 ; 56   |#define ENUM    enum                // eVarName
                            17809 ; 57   |#define CMX     _complex            // cmxVarName
                            17810 ; 58   |typedef WORD UCS3;                   // 
                            17811 ; 59   |
                            17812 ; 60   |#define UINT16  unsigned short
                            17813 ; 61   |#define UINT8   unsigned char   
                            17814 ; 62   |#define UINT32  unsigned long
                            17815 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            17816 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            17817 ; 65   |#define WCHAR   UINT16
                            17818 ; 66   |
                            17819 ; 67   |//UINT128 is 16 bytes or 6 words
                            17820 ; 68   |typedef struct UINT128_3500 {   
                            17821 ; 69   |    int val[6];     
                            17822 ; 70   |} UINT128_3500;
                            17823 ; 71   |
                            17824 ; 72   |#define UINT128   UINT128_3500
                            17825 ; 73   |
                            17826 ; 74   |// Little endian word packed byte strings:   
                            17827 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            17828 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            17829 ; 77   |// Little endian word packed byte strings:   
                            17830 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            17831 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            17832 ; 80   |
                            17833 ; 81   |// Declare Memory Spaces To Use When Coding
                            17834 ; 82   |// A. Sector Buffers
                            17835 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            17836 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            17837 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            17838 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            17839 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            17840 ; 88   |// B. Media DDI Memory
                            17841 ; 89   |#define MEDIA_DDI_MEM _Y
                            17842 ; 90   |
                            17843 ; 91   |
                            17844 ; 92   |
                            17845 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            17846 ; 94   |// Examples of circular pointers:
                            17847 ; 95   |//    INT CIRC cpiVarName
                            17848 ; 96   |//    DWORD CIRC cpdwVarName
                            17849 ; 97   |
                            17850 ; 98   |#define RETCODE INT                 // rcVarName
                            17851 ; 99   |
                            17852 ; 100  |// generic bitfield structure
                            17853 ; 101  |struct Bitfield {
                            17854 ; 102  |    unsigned int B0  :1;
                            17855 ; 103  |    unsigned int B1  :1;
                            17856 ; 104  |    unsigned int B2  :1;
                            17857 ; 105  |    unsigned int B3  :1;
                            17858 ; 106  |    unsigned int B4  :1;
                            17859 ; 107  |    unsigned int B5  :1;
                            17860 ; 108  |    unsigned int B6  :1;
                            17861 ; 109  |    unsigned int B7  :1;
                            17862 ; 110  |    unsigned int B8  :1;
                            17863 ; 111  |    unsigned int B9  :1;
                            17864 ; 112  |    unsigned int B10 :1;
                            17865 ; 113  |    unsigned int B11 :1;
                            17866 ; 114  |    unsigned int B12 :1;
                            17867 ; 115  |    unsigned int B13 :1;
                            17868 ; 116  |    unsigned int B14 :1;
                            17869 ; 117  |    unsigned int B15 :1;
                            17870 ; 118  |    unsigned int B16 :1;
                            17871 ; 119  |    unsigned int B17 :1;
                            17872 ; 120  |    unsigned int B18 :1;
                            17873 ; 121  |    unsigned int B19 :1;
                            17874 ; 122  |    unsigned int B20 :1;
                            17875 ; 123  |    unsigned int B21 :1;
                            17876 ; 124  |    unsigned int B22 :1;
                            17877 ; 125  |    unsigned int B23 :1;
                            17878 ; 126  |};
                            17879 ; 127  |
                            17880 ; 128  |union BitInt {
                            17881 ; 129  |        struct Bitfield B;
                            17882 ; 130  |        int        I;
                            17883 ; 131  |};
                            17884 ; 132  |
                            17885 ; 133  |#define MAX_MSG_LENGTH 10
                            17886 ; 134  |struct CMessage
                            17887 ; 135  |{
                            17888 ; 136  |        unsigned int m_uLength;
                            17889 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            17890 ; 138  |};
                            17891 ; 139  |
                            17892 ; 140  |typedef struct {
                            17893 ; 141  |    WORD m_wLength;
                            17894 ; 142  |    WORD m_wMessage;
                            17895 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            17896 ; 144  |} Message;
                            17897 ; 145  |
                            17898 ; 146  |struct MessageQueueDescriptor
                            17899 ; 147  |{
                            17900 ; 148  |        int *m_pBase;
                            17901 ; 149  |        int m_iModulo;
                            17902 ; 150  |        int m_iSize;
                            17903 ; 151  |        int *m_pHead;
                            17904 ; 152  |        int *m_pTail;
                            17905 ; 153  |};
                            17906 ; 154  |
                            17907 ; 155  |struct ModuleEntry
                            17908 ; 156  |{
                            17909 ; 157  |    int m_iSignaledEventMask;
                            17910 ; 158  |    int m_iWaitEventMask;
                            17911 ; 159  |    int m_iResourceOfCode;
                            17912 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            17913 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            17914 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            17915 ; 163  |    int m_uTimeOutHigh;
                            17916 ; 164  |    int m_uTimeOutLow;
                            17917 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            17918 ; 166  |};
                            17919 ; 167  |
                            17920 ; 168  |union WaitMask{
                            17921 ; 169  |    struct B{
                            17922 ; 170  |        unsigned int m_bNone     :1;
                            17923 ; 171  |        unsigned int m_bMessage  :1;
                            17924 ; 172  |        unsigned int m_bTimer    :1;
                            17925 ; 173  |        unsigned int m_bButton   :1;
                            17926 ; 174  |    } B;
                            17927 ; 175  |    int I;
                            17928 ; 176  |} ;
                            17929 ; 177  |
                            17930 ; 178  |
                            17931 ; 179  |struct Button {
                            17932 ; 180  |        WORD wButtonEvent;
                            17933 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            17934 ; 182  |};
                            17935 ; 183  |
                            17936 ; 184  |struct Message {
                            17937 ; 185  |        WORD wMsgLength;
                            17938 ; 186  |        WORD wMsgCommand;
                            17939 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            17940 ; 188  |};
                            17941 ; 189  |
                            17942 ; 190  |union EventTypes {
                            17943 ; 191  |        struct CMessage msg;
                            17944 ; 192  |        struct Button Button ;
                            17945 ; 193  |        struct Message Message;
                            17946 ; 194  |};
                            17947 ; 195  |
                            17948 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            17949 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            17950 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            17951 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            17952 ; 200  |
                            17953 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            17954 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            17955 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            17956 ; 204  |
                            17957 ; 205  |#if DEBUG
                            17958 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            17959 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            17960 ; 208  |#else 
                            17961 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            17962 ; 210  |#define DebugBuildAssert(x)    
                            17963 ; 211  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  72

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17964 ; 212  |
                            17965 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            17966 ; 214  |//  #pragma asm
                            17967 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            17968 ; 216  |//  #pragma endasm
                            17969 ; 217  |
                            17970 ; 218  |
                            17971 ; 219  |#ifdef COLOR_262K
                            17972 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            17973 ; 221  |#elif defined(COLOR_65K)
                            17974 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            17975 ; 223  |#else
                            17976 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            17977 ; 225  |#endif
                            17978 ; 226  |    
                            17979 ; 227  |#endif // #ifndef _TYPES_H
                            17980 
                            17982 
                            17983 ; 29   |
                            17984 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17985 ; 31   |//   TIMER STMP Registers 
                            17986 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17987 ; 33   |#define HW_TMR_BASEADDR (0xF100)
                            17988 ; 34   |
                            17989 ; 35   |#define HW_TMR0_BASEADDR HW_TMR_BASEADDR
                            17990 ; 36   |#define HW_TMR1_BASEADDR HW_TMR_BASEADDR+0x40
                            17991 ; 37   |#define HW_TMR2_BASEADDR HW_TMR_BASEADDR+0x80
                            17992 ; 38   |#define HW_TMR3_BASEADDR HW_TMR_BASEADDR+0xC0
                            17993 ; 39   |
                            17994 ; 40   |#define HW_TIMER_NUMBER_0 0
                            17995 ; 41   |#define HW_TIMER_NUMBER_1 1
                            17996 ; 42   |#define HW_TIMER_NUMBER_2 2
                            17997 ; 43   |#define HW_TIMER_NUMBER_3 3
                            17998 ; 44   |
                            17999 ; 45   |#define HW_TMRCSR 0
                            18000 ; 46   |#define HW_TMRCNTR 1
                            18001 ; 47   |
                            18002 ; 48   |
                            18003 ; 49   |/////////////////////////////////////////////////////////////////////////////////
                            18004 ; 50   |//  TIMER CSR (HW_TMR0CSR) Bit Definitions
                            18005 ; 51   |#define HW_TMR0CSR_TIMER_ENABLE_BITPOS (0)
                            18006 ; 52   |#define HW_TMR0CSR_TIMER_INT_EN_BITPOS (1)
                            18007 ; 53   |#define HW_TMR0CSR_INVERT_BITPOS (2)
                            18008 ; 54   |#define HW_TMR0CSR_TIMER_CONTROL_BITPOS (3)
                            18009 ; 55   |#define HW_TMR0CSR_TIMER_STATUS_BITPOS (7)
                            18010 ; 56   |#define HW_TMR0CSR_TIMER_MODE_BITPOS (8)
                            18011 ; 57   |#define HW_TMR0CSR_CLKGT_BITPOS (23)
                            18012 ; 58   |
                            18013 ; 59   |#define HW_TMR0CSR_TIMER_ENABLE_WIDTH (1)
                            18014 ; 60   |#define HW_TMR0CSR_TIMER_INT_EN_WIDTH (1)
                            18015 ; 61   |#define HW_TMR0CSR_INVERT_WIDTH (1)
                            18016 ; 62   |#define HW_TMR0CSR_TIMER_CONTROL_WIDTH (3)
                            18017 ; 63   |#define HW_TMR0CSR_TIMER_STATUS_WIDTH (1)
                            18018 ; 64   |#define HW_TMR0CSR_TIMER_MODE_WIDTH (2)
                            18019 ; 65   |#define HW_TMR0CSR_CLKGT_WIDTH (1)
                            18020 ; 66   |
                            18021 ; 67   |#define HW_TMR0CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR0CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR0CSR_TIMER_ENABLE_BITPOS)
                            18022 ; 68   |#define HW_TMR0CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR0CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR0CSR_TIMER_INT_EN_BITPOS)
                            18023 ; 69   |#define HW_TMR0CSR_INVERT_SETMASK (((1<<HW_TMR0CSR_INVERT_WIDTH)-1)<<HW_TMR0CSR_INVERT_BITPOS)
                            18024 ; 70   |#define HW_TMR0CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR0CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR0CSR_TIMER_CONTROL_BITPOS)
                            18025 ; 71   |#define HW_TMR0CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR0CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR0CSR_TIMER_STATUS_BITPOS)
                            18026 ; 72   |#define HW_TMR0CSR_TIMER_MODE_SETMASK (((1<<HW_TMR0CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR0CSR_TIMER_MODE_BITPOS)
                            18027 ; 73   |#define HW_TMR0CSR_CLKGT_SETMASK (((1<<HW_TMR0CSR_CLKGT_WIDTH)-1)<<HW_TMR0CSR_CLKGT_BITPOS)
                            18028 ; 74   |
                            18029 ; 75   |#define HW_TMR0CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_ENABLE_SETMASK)
                            18030 ; 76   |#define HW_TMR0CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_INT_EN_SETMASK)
                            18031 ; 77   |#define HW_TMR0CSR_INVERT_CLRMASK (~(WORD)HW_TMR0CSR_INVERT_SETMASK)
                            18032 ; 78   |#define HW_TMR0CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_CONTROL_SETMASK)
                            18033 ; 79   |#define HW_TMR0CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_STATUS_SETMASK)
                            18034 ; 80   |#define HW_TMR0CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_MODE_SETMASK)
                            18035 ; 81   |#define HW_TMR0CSR_CLKGT_CLRMASK (~(WORD)HW_TMR0CSR_CLKGT_SETMASK)
                            18036 ; 82   |
                            18037 ; 83   |/////////////////////////////////////////////////////////////////////////////////
                            18038 ; 84   |//  TIMER CSR (HW_TMR1CSR) Bit Definitions
                            18039 ; 85   |#define HW_TMR1CSR_TIMER_ENABLE_BITPOS (0)
                            18040 ; 86   |#define HW_TMR1CSR_TIMER_INT_EN_BITPOS (1)
                            18041 ; 87   |#define HW_TMR1CSR_INVERT_BITPOS (2)
                            18042 ; 88   |#define HW_TMR1CSR_TIMER_CONTROL_BITPOS (3)
                            18043 ; 89   |#define HW_TMR1CSR_TIMER_STATUS_BITPOS (7)
                            18044 ; 90   |#define HW_TMR1CSR_TIMER_MODE_BITPOS (8)
                            18045 ; 91   |#define HW_TMR1CSR_CLKGT_BITPOS (23)
                            18046 ; 92   |
                            18047 ; 93   |#define HW_TMR1CSR_TIMER_ENABLE_WIDTH (1)
                            18048 ; 94   |#define HW_TMR1CSR_TIMER_INT_EN_WIDTH (1)
                            18049 ; 95   |#define HW_TMR1CSR_INVERT_WIDTH (1)
                            18050 ; 96   |#define HW_TMR1CSR_TIMER_CONTROL_WIDTH (3)
                            18051 ; 97   |#define HW_TMR1CSR_TIMER_STATUS_WIDTH (1)
                            18052 ; 98   |#define HW_TMR1CSR_TIMER_MODE_WIDTH (2)
                            18053 ; 99   |#define HW_TMR1CSR_CLKGT_WIDTH (1)
                            18054 ; 100  |
                            18055 ; 101  |#define HW_TMR1CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR1CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR1CSR_TIMER_ENABLE_BITPOS)
                            18056 ; 102  |#define HW_TMR1CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR1CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR1CSR_TIMER_INT_EN_BITPOS)
                            18057 ; 103  |#define HW_TMR1CSR_INVERT_SETMASK (((1<<HW_TMR1CSR_INVERT_WIDTH)-1)<<HW_TMR1CSR_INVERT_BITPOS)
                            18058 ; 104  |#define HW_TMR1CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR1CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR1CSR_TIMER_CONTROL_BITPOS)
                            18059 ; 105  |#define HW_TMR1CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR1CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR1CSR_TIMER_STATUS_BITPOS)
                            18060 ; 106  |#define HW_TMR1CSR_TIMER_MODE_SETMASK (((1<<HW_TMR1CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR1CSR_TIMER_MODE_BITPOS)
                            18061 ; 107  |#define HW_TMR1CSR_CLKGT_SETMASK (((1<<HW_TMR1CSR_CLKGT_WIDTH)-1)<<HW_TMR1CSR_CLKGT_BITPOS)
                            18062 ; 108  |
                            18063 ; 109  |#define HW_TMR1CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_ENABLE_SETMASK)
                            18064 ; 110  |#define HW_TMR1CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_INT_EN_SETMASK)
                            18065 ; 111  |#define HW_TMR1CSR_INVERT_CLRMASK (~(WORD)HW_TMR1CSR_INVERT_SETMASK)
                            18066 ; 112  |#define HW_TMR1CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_CONTROL_SETMASK)
                            18067 ; 113  |#define HW_TMR1CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_STATUS_SETMASK)
                            18068 ; 114  |#define HW_TMR1CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_MODE_SETMASK)
                            18069 ; 115  |#define HW_TMR1CSR_CLKGT_CLRMASK (~(WORD)HW_TMR1CSR_CLKGT_SETMASK)
                            18070 ; 116  |
                            18071 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                            18072 ; 118  |//  TIMER CSR (HW_TMR2CSR) Bit Definitions
                            18073 ; 119  |#define HW_TMR2CSR_TIMER_ENABLE_BITPOS (0)
                            18074 ; 120  |#define HW_TMR2CSR_TIMER_INT_EN_BITPOS (1)
                            18075 ; 121  |#define HW_TMR2CSR_INVERT_BITPOS (2)
                            18076 ; 122  |#define HW_TMR2CSR_TIMER_CONTROL_BITPOS (3)
                            18077 ; 123  |#define HW_TMR2CSR_TIMER_STATUS_BITPOS (7)
                            18078 ; 124  |#define HW_TMR2CSR_TIMER_MODE_BITPOS (8)
                            18079 ; 125  |#define HW_TMR2CSR_CLKGT_BITPOS (23)
                            18080 ; 126  |
                            18081 ; 127  |#define HW_TMR2CSR_TIMER_ENABLE_WIDTH (1)
                            18082 ; 128  |#define HW_TMR2CSR_TIMER_INT_EN_WIDTH (1)
                            18083 ; 129  |#define HW_TMR2CSR_INVERT_WIDTH (1)
                            18084 ; 130  |#define HW_TMR2CSR_TIMER_CONTROL_WIDTH (3)
                            18085 ; 131  |#define HW_TMR2CSR_TIMER_STATUS_WIDTH (1)
                            18086 ; 132  |#define HW_TMR2CSR_TIMER_MODE_WIDTH (2)
                            18087 ; 133  |#define HW_TMR2CSR_CLKGT_WIDTH (1)
                            18088 ; 134  |
                            18089 ; 135  |#define HW_TMR2CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR2CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR2CSR_TIMER_ENABLE_BITPOS)
                            18090 ; 136  |#define HW_TMR2CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR2CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR2CSR_TIMER_INT_EN_BITPOS)
                            18091 ; 137  |#define HW_TMR2CSR_INVERT_SETMASK (((1<<HW_TMR2CSR_INVERT_WIDTH)-1)<<HW_TMR2CSR_INVERT_BITPOS)
                            18092 ; 138  |#define HW_TMR2CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR2CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR2CSR_TIMER_CONTROL_BITPOS)
                            18093 ; 139  |#define HW_TMR2CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR2CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR2CSR_TIMER_STATUS_BITPOS)
                            18094 ; 140  |#define HW_TMR2CSR_TIMER_MODE_SETMASK (((1<<HW_TMR2CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR2CSR_TIMER_MODE_BITPOS)
                            18095 ; 141  |#define HW_TMR2CSR_CLKGT_SETMASK (((1<<HW_TMR2CSR_CLKGT_WIDTH)-1)<<HW_TMR2CSR_CLKGT_BITPOS)
                            18096 ; 142  |
                            18097 ; 143  |#define HW_TMR2CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_ENABLE_SETMASK)
                            18098 ; 144  |#define HW_TMR2CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_INT_EN_SETMASK)
                            18099 ; 145  |#define HW_TMR2CSR_INVERT_CLRMASK (~(WORD)HW_TMR2CSR_INVERT_SETMASK)
                            18100 ; 146  |#define HW_TMR2CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_CONTROL_SETMASK)
                            18101 ; 147  |#define HW_TMR2CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_STATUS_SETMASK)
                            18102 ; 148  |#define HW_TMR2CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_MODE_SETMASK)
                            18103 ; 149  |#define HW_TMR2CSR_CLKGT_CLRMASK (~(WORD)HW_TMR2CSR_CLKGT_SETMASK)
                            18104 ; 150  |
                            18105 ; 151  |/////////////////////////////////////////////////////////////////////////////////
                            18106 ; 152  |//  TIMER CSR (HW_TMR3CSR) Bit Definitions
                            18107 ; 153  |#define HW_TMR3CSR_TIMER_ENABLE_BITPOS (0)
                            18108 ; 154  |#define HW_TMR3CSR_TIMER_INT_EN_BITPOS (1)
                            18109 ; 155  |#define HW_TMR3CSR_INVERT_BITPOS (2)
                            18110 ; 156  |#define HW_TMR3CSR_TIMER_CONTROL_BITPOS (3)
                            18111 ; 157  |#define HW_TMR3CSR_TIMER_STATUS_BITPOS (7)
                            18112 ; 158  |#define HW_TMR3CSR_TIMER_MODE_BITPOS (8)
                            18113 ; 159  |#define HW_TMR3CSR_CLKGT_BITPOS (23)
                            18114 ; 160  |
                            18115 ; 161  |#define HW_TMR3CSR_TIMER_ENABLE_WIDTH (1)
                            18116 ; 162  |#define HW_TMR3CSR_TIMER_INT_EN_WIDTH (1)
                            18117 ; 163  |#define HW_TMR3CSR_INVERT_WIDTH (1)
                            18118 ; 164  |#define HW_TMR3CSR_TIMER_CONTROL_WIDTH (3)
                            18119 ; 165  |#define HW_TMR3CSR_TIMER_STATUS_WIDTH (1)
                            18120 ; 166  |#define HW_TMR3CSR_TIMER_MODE_WIDTH (2)
                            18121 ; 167  |#define HW_TMR3CSR_CLKGT_WIDTH (1)
                            18122 ; 168  |
                            18123 ; 169  |#define HW_TMR3CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR3CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR3CSR_TIMER_ENABLE_BITPOS)
                            18124 ; 170  |#define HW_TMR3CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR3CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR3CSR_TIMER_INT_EN_BITPOS)
                            18125 ; 171  |#define HW_TMR3CSR_INVERT_SETMASK (((1<<HW_TMR3CSR_INVERT_WIDTH)-1)<<HW_TMR3CSR_INVERT_BITPOS)
                            18126 ; 172  |#define HW_TMR3CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR3CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR3CSR_TIMER_CONTROL_BITPOS)
                            18127 ; 173  |#define HW_TMR3CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR3CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR3CSR_TIMER_STATUS_BITPOS)
                            18128 ; 174  |#define HW_TMR3CSR_TIMER_MODE_SETMASK (((1<<HW_TMR3CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR3CSR_TIMER_MODE_BITPOS)
                            18129 ; 175  |#define HW_TMR3CSR_CLKGT_SETMASK (((1<<HW_TMR3CSR_CLKGT_WIDTH)-1)<<HW_TMR3CSR_CLKGT_BITPOS)
                            18130 ; 176  |
                            18131 ; 177  |#define HW_TMR3CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_ENABLE_SETMASK)
                            18132 ; 178  |#define HW_TMR3CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_INT_EN_SETMASK)
                            18133 ; 179  |#define HW_TMR3CSR_INVERT_CLRMASK (~(WORD)HW_TMR3CSR_INVERT_SETMASK)
                            18134 ; 180  |#define HW_TMR3CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_CONTROL_SETMASK)
                            18135 ; 181  |#define HW_TMR3CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_STATUS_SETMASK)
                            18136 ; 182  |#define HW_TMR3CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_MODE_SETMASK)
                            18137 ; 183  |#define HW_TMR3CSR_CLKGT_CLRMASK (~(WORD)HW_TMR3CSR_CLKGT_SETMASK)
                            18138 ; 184  |
                            18139 ; 185  |typedef union               
                            18140 ; 186  |{
                            18141 ; 187  |    struct {
                            18142 ; 188  |       int TIMER_ENABLE              :1;
                            18143 ; 189  |       int TIMER_INT_EN              :1;
                            18144 ; 190  |       int INVERT                    :1;
                            18145 ; 191  |       int TIMER_CONTROL             :3;
                            18146 ; 192  |       int RSVD0                     :1;
                            18147 ; 193  |       int TIMER_STATUS              :1;
                            18148 ; 194  |       int TIMER_MODE                :2;
                            18149 ; 195  |       int RSVD1                     :13;
                            18150 ; 196  |       int CLKGT                     :1;
                            18151 ; 197  |    } B;
                            18152 ; 198  |    int I;
                            18153 ; 199  |} timercsr_type;
                            18154 ; 200  |#define HW_TMR0CSR        (*(volatile timercsr_type _X*) (HW_TMR0_BASEADDR+HW_TMRCSR))  /* Timer0 Control Status Register */
                            18155 ; 201  |#define HW_TMR1CSR        (*(volatile timercsr_type _X*) (HW_TMR1_BASEADDR+HW_TMRCSR))  /* Timer1 Control Status Register */
                            18156 ; 202  |#define HW_TMR2CSR        (*(volatile timercsr_type _X*) (HW_TMR2_BASEADDR+HW_TMRCSR))  /* Timer2 Control Status Register */
                            18157 ; 203  |#define HW_TMR3CSR        (*(volatile timercsr_type _X*) (HW_TMR3_BASEADDR+HW_TMRCSR))  /* Timer3 Control Status Register */
                            18158 ; 204  |
                            18159 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                            18160 ; 206  |//  TIMER CNTR register (HW_TMR0CNTR) Bit Definitions
                            18161 ; 207  |#define HW_TMR0CNTR_COUNT_BITPOS 0
                            18162 ; 208  |#define HW_TMR0CNTR_COUNT_WIDTH 24
                            18163 ; 209  |#define HW_TMR0CNTR_COUNT_SETMASK (((1<<HW_TMR0CNTR_COUNT_WIDTH)-1)<<HW_TMR0CNTR_COUNT_BITPOS)
                            18164 ; 210  |#define HW_TMR0CNTR_COUNT_CLRMASK (~(WORD)HW_TMR0CNTR_COUNT_SETMASK)
                            18165 ; 211  |
                            18166 ; 212  |/////////////////////////////////////////////////////////////////////////////////
                            18167 ; 213  |//  TIMER CNTR register (HW_TMR1CNTR) Bit Definitions
                            18168 ; 214  |#define HW_TMR1CNTR_COUNT_BITPOS 0
                            18169 ; 215  |#define HW_TMR1CNTR_COUNT_WIDTH 24
                            18170 ; 216  |#define HW_TMR1CNTR_COUNT_SETMASK (((1<<HW_TMR1CNTR_COUNT_WIDTH)-1)<<HW_TMR1CNTR_COUNT_BITPOS)
                            18171 ; 217  |#define HW_TMR1CNTR_COUNT_CLRMASK (~(WORD)HW_TMR1CNTR_COUNT_SETMASK)
                            18172 ; 218  |
                            18173 ; 219  |/////////////////////////////////////////////////////////////////////////////////
                            18174 ; 220  |//  TIMER CNTR register (HW_TMR2CNTR) Bit Definitions
                            18175 ; 221  |#define HW_TMR2CNTR_COUNT_BITPOS 0
                            18176 ; 222  |#define HW_TMR2CNTR_COUNT_WIDTH 24
                            18177 ; 223  |#define HW_TMR2CNTR_COUNT_SETMASK (((1<<HW_TMR2CNTR_COUNT_WIDTH)-1)<<HW_TMR2CNTR_COUNT_BITPOS)
                            18178 ; 224  |#define HW_TMR2CNTR_COUNT_CLRMASK (~(WORD)HW_TMR2CNTR_COUNT_SETMASK)
                            18179 ; 225  |
                            18180 ; 226  |typedef union               
                            18181 ; 227  |{
                            18182 ; 228  |    struct {
                            18183 ; 229  |       int COUNT                    :24;
                            18184 ; 230  |    } B;
                            18185 ; 231  |    int I;
                            18186 ; 232  |} tmrcntr_type;
                            18187 ; 233  |#define HW_TMR0CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR0_BASEADDR+HW_TMRCNTR))  /* Timer0 Count Register */
                            18188 ; 234  |#define HW_TMR1CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR1_BASEADDR+HW_TMRCNTR))  /* Timer1 Count Register */
                            18189 ; 235  |#define HW_TMR2CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR2_BASEADDR+HW_TMRCNTR))  /* Timer2 Count Register */
                            18190 ; 236  |#define HW_TMR3CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR3_BASEADDR+HW_TMRCNTR))  /* Timer3 Count Register */
                            18191 ; 237  |
                            18192 ; 238  |
                            18193 ; 239  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *******************************
                            18194 ; 240  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code without needing 
                            18195 ; 241  |// to update the actual files. Only the defines needed to build SDK2.400 were added.   
                            18196 ; 242  |#define HW_TIMER_BASEADDR 0xF100
                            18197 ; 243  |
                            18198 ; 244  |#define HW_TIMER0_BASEADDR HW_TIMER_BASEADDR
                            18199 ; 245  |#define HW_TIMER1_BASEADDR HW_TIMER0_BASEADDR+0x40
                            18200 ; 246  |#define HW_TIMER2_BASEADDR HW_TIMER1_BASEADDR+0x40
                            18201 ; 247  |#define HW_TIMER3_BASEADDR HW_TIMER2_BASEADDR+0x40
                            18202 ; 248  |
                            18203 ; 249  |#define HW_TMR0CR HW_TMR0_BASEADDR
                            18204 ; 250  |#define HW_TMR1CR HW_TMR1_BASEADDR
                            18205 ; 251  |#define HW_TMR2CR HW_TMR2_BASEADDR
                            18206 ; 252  |#define HW_TMR3CR HW_TIMER3_BASEADDR
                            18207 ; 253  |
                            18208 ; 254  |// Timer enable
                            18209 ; 255  |#define HW_TMRCR_TE_BITPOS 0   
                            18210 ; 256  |// Timer clock gating control
                            18211 ; 257  |#define HW_TMR3CR_CG_BITPOS 23  
                            18212 ; 258  |#define HW_TMR3CR_CG_SETMASK 1<<HW_TMR3CR_CG_BITPOS
                            18213 ; 259  |#define HW_TMR3CR_CG_CLRMASK ~(WORD)HW_TMR3CR_CG_SETMASK
                            18214 ; 260  |#endif
                            18215 ; 261  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  73

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18216 ; 262  |
                            18217 ; 263  |
                            18218 ; 264  |
                            18219 
                            18221 
                            18222 ; 36   |#include "regsusb20.h"
                            18223 
                            18225 
                            18226 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            18227 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2003
                            18228 ; 3    |//;  File        : regsusb20ip.inc
                            18229 ; 4    |//;  Description : USB20 IP Register definition
                            18230 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            18231 ; 6    |
                            18232 ; 7    |// The following naming conventions are followed in this file.
                            18233 ; 8    |// All registers are named using the format...
                            18234 ; 9    |//     HW_<module>_<regname>
                            18235 ; 10   |// where <module> is the module name which can be any of the following...
                            18236 ; 11   |//     USB20
                            18237 ; 12   |// (Note that when there is more than one copy of a particular module, the
                            18238 ; 13   |// module name includes a number starting from 0 for the first instance of
                            18239 ; 14   |// that module)
                            18240 ; 15   |// <regname> is the specific register within that module
                            18241 ; 16   |// We also define the following...
                            18242 ; 17   |//     HW_<module>_<regname>_BITPOS
                            18243 ; 18   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            18244 ; 19   |//     HW_<module>_<regname>_SETMASK
                            18245 ; 20   |// which does something else, and
                            18246 ; 21   |//     HW_<module>_<regname>_CLRMASK
                            18247 ; 22   |// which does something else.
                            18248 ; 23   |// Other rules
                            18249 ; 24   |//     All caps
                            18250 ; 25   |//     Numeric identifiers start at 0
                            18251 ; 26   |
                            18252 ; 27   |#if !(defined(regsusb20inc))
                            18253 ; 28   |#define regsusb20inc 1
                            18254 ; 29   |
                            18255 ; 30   |#include "types.h"
                            18256 
                            18258 
                            18259 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            18260 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            18261 ; 3    |//
                            18262 ; 4    |// Filename: types.h
                            18263 ; 5    |// Description: Standard data types
                            18264 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            18265 ; 7    |
                            18266 ; 8    |#ifndef _TYPES_H
                            18267 ; 9    |#define _TYPES_H
                            18268 ; 10   |
                            18269 ; 11   |// TODO:  move this outta here!
                            18270 ; 12   |#if !defined(NOERROR)
                            18271 ; 13   |#define NOERROR 0
                            18272 ; 14   |#define SUCCESS 0
                            18273 ; 15   |#endif 
                            18274 ; 16   |#if !defined(SUCCESS)
                            18275 ; 17   |#define SUCCESS  0
                            18276 ; 18   |#endif
                            18277 ; 19   |#if !defined(ERROR)
                            18278 ; 20   |#define ERROR   -1
                            18279 ; 21   |#endif
                            18280 ; 22   |#if !defined(FALSE)
                            18281 ; 23   |#define FALSE 0
                            18282 ; 24   |#endif
                            18283 ; 25   |#if !defined(TRUE)
                            18284 ; 26   |#define TRUE  1
                            18285 ; 27   |#endif
                            18286 ; 28   |
                            18287 ; 29   |#if !defined(NULL)
                            18288 ; 30   |#define NULL 0
                            18289 ; 31   |#endif
                            18290 ; 32   |
                            18291 ; 33   |#define MAX_INT     0x7FFFFF
                            18292 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            18293 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            18294 ; 36   |#define MAX_ULONG   (-1) 
                            18295 ; 37   |
                            18296 ; 38   |#define WORD_SIZE   24              // word size in bits
                            18297 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            18298 ; 40   |
                            18299 ; 41   |
                            18300 ; 42   |#define BYTE    unsigned char       // btVarName
                            18301 ; 43   |#define CHAR    signed char         // cVarName
                            18302 ; 44   |#define USHORT  unsigned short      // usVarName
                            18303 ; 45   |#define SHORT   unsigned short      // sVarName
                            18304 ; 46   |#define WORD    unsigned int        // wVarName
                            18305 ; 47   |#define INT     signed int          // iVarName
                            18306 ; 48   |#define DWORD   unsigned long       // dwVarName
                            18307 ; 49   |#define LONG    signed long         // lVarName
                            18308 ; 50   |#define BOOL    unsigned int        // bVarName
                            18309 ; 51   |#define FRACT   _fract              // frVarName
                            18310 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            18311 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            18312 ; 54   |#define FLOAT   float               // fVarName
                            18313 ; 55   |#define DBL     double              // dVarName
                            18314 ; 56   |#define ENUM    enum                // eVarName
                            18315 ; 57   |#define CMX     _complex            // cmxVarName
                            18316 ; 58   |typedef WORD UCS3;                   // 
                            18317 ; 59   |
                            18318 ; 60   |#define UINT16  unsigned short
                            18319 ; 61   |#define UINT8   unsigned char   
                            18320 ; 62   |#define UINT32  unsigned long
                            18321 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            18322 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            18323 ; 65   |#define WCHAR   UINT16
                            18324 ; 66   |
                            18325 ; 67   |//UINT128 is 16 bytes or 6 words
                            18326 ; 68   |typedef struct UINT128_3500 {   
                            18327 ; 69   |    int val[6];     
                            18328 ; 70   |} UINT128_3500;
                            18329 ; 71   |
                            18330 ; 72   |#define UINT128   UINT128_3500
                            18331 ; 73   |
                            18332 ; 74   |// Little endian word packed byte strings:   
                            18333 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            18334 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            18335 ; 77   |// Little endian word packed byte strings:   
                            18336 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            18337 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            18338 ; 80   |
                            18339 ; 81   |// Declare Memory Spaces To Use When Coding
                            18340 ; 82   |// A. Sector Buffers
                            18341 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            18342 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            18343 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            18344 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            18345 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            18346 ; 88   |// B. Media DDI Memory
                            18347 ; 89   |#define MEDIA_DDI_MEM _Y
                            18348 ; 90   |
                            18349 ; 91   |
                            18350 ; 92   |
                            18351 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            18352 ; 94   |// Examples of circular pointers:
                            18353 ; 95   |//    INT CIRC cpiVarName
                            18354 ; 96   |//    DWORD CIRC cpdwVarName
                            18355 ; 97   |
                            18356 ; 98   |#define RETCODE INT                 // rcVarName
                            18357 ; 99   |
                            18358 ; 100  |// generic bitfield structure
                            18359 ; 101  |struct Bitfield {
                            18360 ; 102  |    unsigned int B0  :1;
                            18361 ; 103  |    unsigned int B1  :1;
                            18362 ; 104  |    unsigned int B2  :1;
                            18363 ; 105  |    unsigned int B3  :1;
                            18364 ; 106  |    unsigned int B4  :1;
                            18365 ; 107  |    unsigned int B5  :1;
                            18366 ; 108  |    unsigned int B6  :1;
                            18367 ; 109  |    unsigned int B7  :1;
                            18368 ; 110  |    unsigned int B8  :1;
                            18369 ; 111  |    unsigned int B9  :1;
                            18370 ; 112  |    unsigned int B10 :1;
                            18371 ; 113  |    unsigned int B11 :1;
                            18372 ; 114  |    unsigned int B12 :1;
                            18373 ; 115  |    unsigned int B13 :1;
                            18374 ; 116  |    unsigned int B14 :1;
                            18375 ; 117  |    unsigned int B15 :1;
                            18376 ; 118  |    unsigned int B16 :1;
                            18377 ; 119  |    unsigned int B17 :1;
                            18378 ; 120  |    unsigned int B18 :1;
                            18379 ; 121  |    unsigned int B19 :1;
                            18380 ; 122  |    unsigned int B20 :1;
                            18381 ; 123  |    unsigned int B21 :1;
                            18382 ; 124  |    unsigned int B22 :1;
                            18383 ; 125  |    unsigned int B23 :1;
                            18384 ; 126  |};
                            18385 ; 127  |
                            18386 ; 128  |union BitInt {
                            18387 ; 129  |        struct Bitfield B;
                            18388 ; 130  |        int        I;
                            18389 ; 131  |};
                            18390 ; 132  |
                            18391 ; 133  |#define MAX_MSG_LENGTH 10
                            18392 ; 134  |struct CMessage
                            18393 ; 135  |{
                            18394 ; 136  |        unsigned int m_uLength;
                            18395 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            18396 ; 138  |};
                            18397 ; 139  |
                            18398 ; 140  |typedef struct {
                            18399 ; 141  |    WORD m_wLength;
                            18400 ; 142  |    WORD m_wMessage;
                            18401 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            18402 ; 144  |} Message;
                            18403 ; 145  |
                            18404 ; 146  |struct MessageQueueDescriptor
                            18405 ; 147  |{
                            18406 ; 148  |        int *m_pBase;
                            18407 ; 149  |        int m_iModulo;
                            18408 ; 150  |        int m_iSize;
                            18409 ; 151  |        int *m_pHead;
                            18410 ; 152  |        int *m_pTail;
                            18411 ; 153  |};
                            18412 ; 154  |
                            18413 ; 155  |struct ModuleEntry
                            18414 ; 156  |{
                            18415 ; 157  |    int m_iSignaledEventMask;
                            18416 ; 158  |    int m_iWaitEventMask;
                            18417 ; 159  |    int m_iResourceOfCode;
                            18418 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            18419 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            18420 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            18421 ; 163  |    int m_uTimeOutHigh;
                            18422 ; 164  |    int m_uTimeOutLow;
                            18423 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            18424 ; 166  |};
                            18425 ; 167  |
                            18426 ; 168  |union WaitMask{
                            18427 ; 169  |    struct B{
                            18428 ; 170  |        unsigned int m_bNone     :1;
                            18429 ; 171  |        unsigned int m_bMessage  :1;
                            18430 ; 172  |        unsigned int m_bTimer    :1;
                            18431 ; 173  |        unsigned int m_bButton   :1;
                            18432 ; 174  |    } B;
                            18433 ; 175  |    int I;
                            18434 ; 176  |} ;
                            18435 ; 177  |
                            18436 ; 178  |
                            18437 ; 179  |struct Button {
                            18438 ; 180  |        WORD wButtonEvent;
                            18439 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            18440 ; 182  |};
                            18441 ; 183  |
                            18442 ; 184  |struct Message {
                            18443 ; 185  |        WORD wMsgLength;
                            18444 ; 186  |        WORD wMsgCommand;
                            18445 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            18446 ; 188  |};
                            18447 ; 189  |
                            18448 ; 190  |union EventTypes {
                            18449 ; 191  |        struct CMessage msg;
                            18450 ; 192  |        struct Button Button ;
                            18451 ; 193  |        struct Message Message;
                            18452 ; 194  |};
                            18453 ; 195  |
                            18454 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            18455 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            18456 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            18457 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            18458 ; 200  |
                            18459 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            18460 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            18461 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            18462 ; 204  |
                            18463 ; 205  |#if DEBUG
                            18464 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            18465 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            18466 ; 208  |#else 
                            18467 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            18468 ; 210  |#define DebugBuildAssert(x)    
                            18469 ; 211  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  74

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18470 ; 212  |
                            18471 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            18472 ; 214  |//  #pragma asm
                            18473 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            18474 ; 216  |//  #pragma endasm
                            18475 ; 217  |
                            18476 ; 218  |
                            18477 ; 219  |#ifdef COLOR_262K
                            18478 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            18479 ; 221  |#elif defined(COLOR_65K)
                            18480 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            18481 ; 223  |#else
                            18482 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            18483 ; 225  |#endif
                            18484 ; 226  |    
                            18485 ; 227  |#endif // #ifndef _TYPES_H
                            18486 
                            18488 
                            18489 ; 31   |
                            18490 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            18491 ; 33   |//   USB2.0 STMP Registers 
                            18492 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            18493 ; 35   |#define HW_USB_BASEADDR (0xF200)
                            18494 ; 36   |
                            18495 ; 37   |
                            18496 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            18497 ; 39   |//  USB Control Status Register (HW_USBCSR) Bit Definitions
                            18498 ; 40   |#define HW_USBCSR_USBEN_BITPOS (0)
                            18499 ; 41   |#define HW_USBCSR_WAKEUPIRQ_BITPOS (1)
                            18500 ; 42   |#define HW_USBCSR_WAKEUPIE_BITPOS (2)
                            18501 ; 43   |#define HW_USBCSR_VBUSCXIRQ_BITPOS (3)
                            18502 ; 44   |#define HW_USBCSR_VBUSCXIE_BITPOS (4)
                            18503 ; 45   |#define HW_USBCSR_VBUSDISCXIRQ_BITPOS (5)
                            18504 ; 46   |#define HW_USBCSR_VBUSDISCXIE_BITPOS (6)
                            18505 ; 47   |#define HW_USBCSR_CLKOFF_BITPOS (7)
                            18506 ; 48   |#define HW_USBCSR_SUSP_BITPOS (8)
                            18507 ; 49   |#define HW_USBCSR_SUSPF_BITPOS (9)
                            18508 ; 50   |#define HW_USBCSR_UTMITST_BITPOS (10)
                            18509 ; 51   |#define HW_USBCSR_UTMI_EXT_BITPOS (11)
                            18510 ; 52   |#define HW_USBCSR_PLUGGEDIN_EN_BITPOS (12)
                            18511 ; 53   |#define HW_USBCSR_PLUGGEDIN_BITPOS (13)
                            18512 ; 54   |#define HW_USBCSR_HOSTDISCONNECT_BITPOS (22)
                            18513 ; 55   |#define HW_USBCSR_VBUSSENSE_BITPOS (23)
                            18514 ; 56   |
                            18515 ; 57   |#define HW_USBCSR_USBEN_SETMASK (1<<HW_USBCSR_USBEN_BITPOS)        
                            18516 ; 58   |#define HW_USBCSR_WAKEUPIRQ_SETMASK (1<<HW_USBCSR_WAKEUPIRQ_BITPOS) 
                            18517 ; 59   |#define HW_USBCSR_WAKEUPIE_SETMASK (1<<HW_USBCSR_WAKEUPIE_BITPOS)  
                            18518 ; 60   |#define HW_USBCSR_VBUSCXIRQ_SETMASK (1<<HW_USBCSR_VBUSCXIRQ_BITPOS)
                            18519 ; 61   |#define HW_USBCSR_VBUSCXIE_SETMASK (1<<HW_USBCSR_VBUSCXIE_BITPOS)
                            18520 ; 62   |#define HW_USBCSR_VBUSDISCXIRQ_SETMASK (1<<HW_USBCSR_VBUSDISCXIRQ_BITPOS)
                            18521 ; 63   |#define HW_USBCSR_VBUSDISCXIE_SETMASK (1<<HW_USBCSR_VBUSDISCXIE_BITPOS)
                            18522 ; 64   |#define HW_USBCSR_CLKOFF_SETMASK (1<<HW_USBCSR_CLKOFF_BITPOS)    
                            18523 ; 65   |#define HW_USBCSR_SUSP_SETMASK (1<<HW_USBCSR_SUSP_BITPOS)      
                            18524 ; 66   |#define HW_USBCSR_SUSPF_SETMASK (1<<HW_USBCSR_SUSPF_BITPOS)     
                            18525 ; 67   |#define HW_USBCSR_UTMITST_SETMASK (1<<HW_USBCSR_UTMITST_BITPOS)   
                            18526 ; 68   |#define HW_USBCSR_UTMI_EXT_SETMASK (1<<HW_USBCSR_UTMI_EXT_BITPOS)
                            18527 ; 69   |#define HW_USBCSR_VBUSSENSE_SETMASK (1<<HW_USBCSR_VBUSSENSE_BITPOS)
                            18528 ; 70   |
                            18529 ; 71   |
                            18530 ; 72   |#define HW_USBCSR_USBEN_CLRMASK (~(WORD)HW_USBCSR_USBEN_SETMASK)     
                            18531 ; 73   |#define HW_USBCSR_WAKEUPIRQ_CLRMASK (~(WORD)HW_USBCSR_WAKEUPIRQ_SETMASK) 
                            18532 ; 74   |#define HW_USBCSR_WAKEUPIE_CLRMASK (~(WORD)HW_USBCSR_WAKEUPIE_SETMASK)  
                            18533 ; 75   |#define HW_USBCSR_VBUSCXIRQ_CLRMASK (~(WORD)HW_USBCSR_VBUSCXIRQ_SETMASK)
                            18534 ; 76   |#define HW_USBCSR_VBUSCXIE_CLRMASK (~(WORD)HW_USBCSR_VBUSCXIE_SETMASK)
                            18535 ; 77   |#define HW_USBCSR_VBUSDISCXIRQ_CLRMASK (~(WORD)HW_USBCSR_VBUSDISCXIRQ_SETMASK)
                            18536 ; 78   |#define HW_USBCSR_VBUSDISCXIE_CLRMASK (~(WORD)HW_USBCSR_VBUSDISCXIE_SETMASK) 
                            18537 ; 79   |#define HW_USBCSR_CLKOFF_CLRMASK (~(WORD)HW_USBCSR_CLKOFF_SETMASK)    
                            18538 ; 80   |#define HW_USBCSR_SUSP_CLRMASK (~(WORD)HW_USBCSR_SUSP_SETMASK)      
                            18539 ; 81   |#define HW_USBCSR_SUSPF_CLRMASK (~(WORD)HW_USBCSR_SUSPF_SETMASK)     
                            18540 ; 82   |#define HW_USBCSR_UTMITST_CLRMASK (~(WORD)HW_USBCSR_UTMITST_SETMASK)   
                            18541 ; 83   |#define HW_USBCSR_UTMI_EXT_CLRMASK (~(WORD)HW_USBCSR_UTMI_EXT_SETMASK) 
                            18542 ; 84   |#define HW_USBCSR_VBUSSENSE_CLRMASK (~(WORD)HW_USBCSR_VBUSSENSE_SETMASK) 
                            18543 ; 85   |
                            18544 ; 86   |typedef union               
                            18545 ; 87   |{
                            18546 ; 88   |    struct {
                            18547 ; 89   |        int USBEN          :1;
                            18548 ; 90   |        int WAKEUPIRQ      :1;
                            18549 ; 91   |        int WAKEUPIE       :1;
                            18550 ; 92   |        int VBUSCXIRQ      :1;
                            18551 ; 93   |        int VBUSCXIE       :1;
                            18552 ; 94   |        int VBUSDISCXIRQ   :1;
                            18553 ; 95   |        int VBUSDISCXIE    :1;
                            18554 ; 96   |        int CLKOFF         :1;
                            18555 ; 97   |        int SUSP           :1;
                            18556 ; 98   |        int SUSPF          :1;
                            18557 ; 99   |        int UTMITST        :1;
                            18558 ; 100  |        int ARCCONNECT     :1;
                            18559 ; 101  |        int PLUGGEDIN_EN   :1;
                            18560 ; 102  |        int PLUGGEDIN      :1;
                            18561 ; 103  |        int                :8;
                            18562 ; 104  |        int HOSTDISCONNECT :1;
                            18563 ; 105  |        int VBUSSENSE      :1;
                            18564 ; 106  |    } B;
                            18565 ; 107  |    int I;
                            18566 ; 108  |} usbcsr_type;
                            18567 ; 109  |#define HW_USBCSR      (*(volatile usbcsr_type _X*) (HW_USB_BASEADDR))    /* USB Control / Status Register */
                            18568 ; 110  |
                            18569 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            18570 ; 112  |//  USB DMA OFFSET register (HW_USBDMAOFF) Bit Definitions
                            18571 ; 113  |#define HW_USBDMAOFF_MEM_BITPOS (16)
                            18572 ; 114  |
                            18573 ; 115  |#define HW_USBDMAOFF_ADD_SETMASK (0x00FFFF)
                            18574 ; 116  |#define HW_USBDMAOFF_MEM_SETMASK (3<<HW_USBDMAOFF_MEM_BITPOS)
                            18575 ; 117  |
                            18576 ; 118  |#define HW_USBDMAOFF_ADD_CLRMASK (~(WORD)HW_USBDMAOFF_ADD_SETMASK)
                            18577 ; 119  |#define HW_USBDMAOFF_MEM_CLRMASK (~(WORD)HW_USBDMAOFF_MEM_SETMASK)
                            18578 ; 120  |
                            18579 ; 121  |typedef union               
                            18580 ; 122  |{
                            18581 ; 123  |    struct {
                            18582 ; 124  |        int ADD            :16;
                            18583 ; 125  |        int MEM            :2;
                            18584 ; 126  |        int                :6;
                            18585 ; 127  |    } B;
                            18586 ; 128  |    int I;
                            18587 ; 129  |} usbdmaoff_type;
                            18588 ; 130  |#define HW_USBDMAOFF      (*(volatile usbdmaoff_type _X*) (HW_USB_BASEADDR+1))    
                            18589 ; 131  |
                            18590 ; 132  |/////////////////////////////////////////////////////////////////////////////////
                            18591 ; 133  |//  USB ARC ACCESS register (HW_USBARCACCESS) Bit Definitions
                            18592 ; 134  |#define HW_USBARCACCESS_RWB_BITPOS (16)
                            18593 ; 135  |#define HW_USBARCACCESS_KICK_BITPOS (23)
                            18594 ; 136  |
                            18595 ; 137  |#define HW_USBARCACCESS_ADD_SETMASK (0x0001FF)
                            18596 ; 138  |#define HW_USBARCACCESS_RWB_SETMASK (1<<HW_USBARCACCESS_RWB_BITPOS)
                            18597 ; 139  |#define HW_USBARCACCESS_KICK_SETMASK (23<<HW_USBDMAOFF_MEM_BITPOS)
                            18598 ; 140  |
                            18599 ; 141  |#define HW_USBARCACCESS_ADD_CLRMASK (~(WORD)HW_USBARCACCESS_ADD_SETMASK)
                            18600 ; 142  |#define HW_USBARCACCESS_RWB_CLRMASK (~(WORD)HW_USBARCACCESS_RWB_SETMASK) 
                            18601 ; 143  |#define HW_USBARCACCESS_KICK_CLRMASK (~(WORD)HW_USBARCACCESS_KICK_SETMASK)
                            18602 ; 144  |
                            18603 ; 145  |typedef union               
                            18604 ; 146  |{
                            18605 ; 147  |    struct {
                            18606 ; 148  |        int ADD            :9;
                            18607 ; 149  |        int                :7;
                            18608 ; 150  |        int RWB            :1;
                            18609 ; 151  |        int                :14;
                            18610 ; 152  |        int KICK           :1;
                            18611 ; 153  |    } B;
                            18612 ; 154  |    int I;
                            18613 ; 155  |} usbarcaccess_type;
                            18614 ; 156  |#define HW_USBARCACCESS      (*(volatile usbarcaccess_type _X*) (HW_USB_BASEADDR+2))    
                            18615 ; 157  |
                            18616 ; 158  |/////////////////////////////////////////////////////////////////////////////////
                            18617 ; 159  |//  USB ARC DATA LOW register (HW_USBARCDATALOW) Bit Definitions
                            18618 ; 160  |#define HW_USBARCDATALOW_DATA_SETMASK (0x00FFFF)
                            18619 ; 161  |
                            18620 ; 162  |#define HW_USBARCDATALOW_ADD_CLRMASK (~(WORD)HW_USBARCDATALOW_DATA_SETMASK)
                            18621 ; 163  |
                            18622 ; 164  |typedef union               
                            18623 ; 165  |{
                            18624 ; 166  |    struct {
                            18625 ; 167  |        int DATA           :16;
                            18626 ; 168  |        int                :8;
                            18627 ; 169  |    } B;
                            18628 ; 170  |    int I;
                            18629 ; 171  |} usbarcdatalow_type;
                            18630 ; 172  |#define HW_USBARCDATALOW      (*(volatile usbarcdatalow_type _X*) (HW_USB_BASEADDR+3))    
                            18631 ; 173  |
                            18632 ; 174  |/////////////////////////////////////////////////////////////////////////////////
                            18633 ; 175  |//  USB ARC DATA HIGH register (HW_USBARCDATAHIGH) Bit Definitions
                            18634 ; 176  |#define HW_USBARCDATAHIGH_DATA_SETMASK (0x00FFFF)
                            18635 ; 177  |
                            18636 ; 178  |#define HW_USBARCDATAHIGH_ADD_CLRMASK (~(WORD)HW_USBARCDATAHIGH_DATA_SETMASK)
                            18637 ; 179  |
                            18638 ; 180  |typedef union               
                            18639 ; 181  |{
                            18640 ; 182  |    struct {
                            18641 ; 183  |        int DATA           :16;
                            18642 ; 184  |        int                :8;
                            18643 ; 185  |    } B;
                            18644 ; 186  |    int I;
                            18645 ; 187  |} usbarcdatahigh_type;
                            18646 ; 188  |#define HW_USBARCDATAHIGH     (*(volatile usbarcdatahigh_type _X*) (HW_USB_BASEADDR+4))    
                            18647 ; 189  |
                            18648 ; 190  |
                            18649 ; 191  |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            18650 ; 192  |//   USB2.0 ARC Registers 
                            18651 ; 193  |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            18652 ; 194  |#define HW_ARC_BASE_ADDR (0x0000)
                            18653 ; 195  |
                            18654 ; 196  |#define HW_ARC_HCSPARAMS (HW_ARC_BASE_ADDR+0x104)
                            18655 ; 197  |#define HW_ARC_USBCMD (HW_ARC_BASE_ADDR+0x140)
                            18656 ; 198  |#define HW_ARC_USBSTS (HW_ARC_BASE_ADDR+0x144)
                            18657 ; 199  |#define HW_ARC_USBINTR (HW_ARC_BASE_ADDR+0x148)
                            18658 ; 200  |#define HW_ARC_DEVADDR (HW_ARC_BASE_ADDR+0x154)
                            18659 ; 201  |#define HW_ARC_ENDPTLISTADDR (HW_ARC_BASE_ADDR+0x158)
                            18660 ; 202  |#define HW_ARC_PORTSC1 (HW_ARC_BASE_ADDR+0x184)
                            18661 ; 203  |#define HW_ARC_USBMODE (HW_ARC_BASE_ADDR+0x1a8)
                            18662 ; 204  |#define HW_ARC_ENDPTSETUPSTAT (HW_ARC_BASE_ADDR+0x1ac)
                            18663 ; 205  |#define HW_ARC_ENDPTPRIME (HW_ARC_BASE_ADDR+0x1b0)
                            18664 ; 206  |#define HW_ARC_ENDPTFLUSH (HW_ARC_BASE_ADDR+0x1b4)
                            18665 ; 207  |#define HW_ARC_ENDPTSTATUS (HW_ARC_BASE_ADDR+0x1b8)
                            18666 ; 208  |#define HW_ARC_ENDPTCOMPLETE (HW_ARC_BASE_ADDR+0x1bc)
                            18667 ; 209  |#define HW_ARC_ENDPTCTRL0 (HW_ARC_BASE_ADDR+0x1c0)
                            18668 ; 210  |#define HW_ARC_ENDPTCTRL1 (HW_ARC_BASE_ADDR+0x1c4)
                            18669 ; 211  |#define HW_ARC_ENDPTCTRL2 (HW_ARC_BASE_ADDR+0x1c8)
                            18670 ; 212  |#define HW_ARC_ENDPTCTRL3 (HW_ARC_BASE_ADDR+0x1cc)
                            18671 ; 213  |#define HW_ARC_ENDPTCTRL4 (HW_ARC_BASE_ADDR+0x1d0)
                            18672 ; 214  |#define HW_ARC_ENDPTCTRL5 (HW_ARC_BASE_ADDR+0x1d4)
                            18673 ; 215  |#define HW_ARC_ENDPTCTRL6 (HW_ARC_BASE_ADDR+0x1d8)
                            18674 ; 216  |#define HW_ARC_ENDPTCTRL7 (HW_ARC_BASE_ADDR+0x1dc)
                            18675 ; 217  |#define HW_ARC_ENDPTCTRL8 (HW_ARC_BASE_ADDR+0x1e0)
                            18676 ; 218  |#define HW_ARC_ENDPTCTRL9 (HW_ARC_BASE_ADDR+0x1e4)
                            18677 ; 219  |#define HW_ARC_ENDPTCTRL10 (HW_ARC_BASE_ADDR+0x1e8)
                            18678 ; 220  |#define HW_ARC_ENDPTCTRL11 (HW_ARC_BASE_ADDR+0x1ec)
                            18679 ; 221  |#define HW_ARC_ENDPTCTRL12 (HW_ARC_BASE_ADDR+0x1f0)
                            18680 ; 222  |#define HW_ARC_ENDPTCTRL13 (HW_ARC_BASE_ADDR+0x1f4)
                            18681 ; 223  |#define HW_ARC_ENDPTCTRL14 (HW_ARC_BASE_ADDR+0x1f8)
                            18682 ; 224  |#define HW_ARC_ENDPTCTRL15 (HW_ARC_BASE_ADDR+0x1fc)
                            18683 ; 225  |
                            18684 ; 226  |#define HW_ARC_ENDPTCTRL(n) (HW_ARC_ENDPTCTRL0+((n)*4))    
                            18685 ; 227  |/////////////////////////////////////////////////////////////////////////////////
                            18686 ; 228  |//  USB ARC Register Host Control Structural Parameters (HW_ARC_HCSPARAMS)
                            18687 ; 229  |
                            18688 ; 230  |#define HW_ARC_HCSPARAMS_NPORTS_BITPOS (0)
                            18689 ; 231  |#define HW_ARC_HCSPARAMS_PPC_BITPOS (4)
                            18690 ; 232  |#define HW_ARC_HCSPARAMS_NPCC_BITPOS (8)
                            18691 ; 233  |#define HW_ARC_HCSPARAMS_NCC_BITPOS (12)
                            18692 ; 234  |#define HW_ARC_HCSPARAMS_PI_BITPOS (16)
                            18693 ; 235  |#define HW_ARC_HCSPARAMS_NPTT_BITPOS (20)
                            18694 ; 236  |#define HW_ARC_HCSPARAMS_NTT_BITPOS (24)
                            18695 ; 237  |
                            18696 ; 238  |#define HW_ARC_HCSPARAMS_NPORTS_SETMASK (15<<HW_ARC_HCSPARAMS_NPORTS_BITPOS)
                            18697 ; 239  |#define HW_ARC_HCSPARAMS_PPC_SETMASK (1<<HW_ARC_HCSPARAMS_PPC_BITPOS)        
                            18698 ; 240  |#define HW_ARC_HCSPARAMS_NPCC_SETMASK (15<<HW_ARC_HCSPARAMS_NPCC_BITPOS)  
                            18699 ; 241  |#define HW_ARC_HCSPARAMS_NCC_SETMASK (15<<HW_ARC_HCSPARAMS_NCC_BITPOS)       
                            18700 ; 242  |#define HW_ARC_HCSPARAMS_PI_SETMASK (1<<HW_ARC_HCSPARAMS_PI_BITPOS)     
                            18701 ; 243  |#define HW_ARC_HCSPARAMS_NPTT_SETMASK (15<<HW_ARC_HCSPARAMS_NPTT_BITPOS)  
                            18702 ; 244  |#define HW_ARC_HCSPARAMS_NTT_SETMASK (15<<HW_ARC_HCSPARAMS_NTT_BITPOS)       
                            18703 ; 245  |
                            18704 ; 246  |#define HW_ARC_HCSPARAMS_NPORTS_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPORTS_SETMASK)
                            18705 ; 247  |#define HW_ARC_HCSPARAMS_PPC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_PPC_SETMASK)
                            18706 ; 248  |#define HW_ARC_HCSPARAMS_NPCC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPCC_SETMASK)
                            18707 ; 249  |#define HW_ARC_HCSPARAMS_NCC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NCC_SETMASK)
                            18708 ; 250  |#define HW_ARC_HCSPARAMS_PI_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_PI_SETMASK)  
                            18709 ; 251  |#define HW_ARC_HCSPARAMS_NPTT_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPTT_SETMASK)
                            18710 ; 252  |#define HW_ARC_HCSPARAMS_NTT_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NTT_SETMASK)
                            18711 ; 253  |
                            18712 ; 254  |typedef union               
                            18713 ; 255  |{
                            18714 ; 256  |    struct {
                            18715 ; 257  |        int N_PORTS         :4;
                            18716 ; 258  |        int PPC             :1;
                            18717 ; 259  |        int                 :3;
                            18718 ; 260  |        int N_PCC           :4;
                            18719 ; 261  |        int N_CC            :4;
                            18720 ; 262  |        int PI              :1;
                            18721 ; 263  |        int                 :3;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  75

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18722 ; 264  |        int N_PTT           :4;
                            18723 ; 265  |        int N_TT            :4;
                            18724 ; 266  |        int                 :20;
                            18725 ; 267  |    } B;
                            18726 ; 268  |    DWORD I;
                            18727 ; 269  |} hcsparams_type;
                            18728 ; 270  |// #define HW_ARC_HCSPARAMS (*(volatile hcsparams_type _X*) (HW_ARC_BASEADDR))    
                            18729 ; 271  |
                            18730 ; 272  |/////////////////////////////////////////////////////////////////////////////////
                            18731 ; 273  |//  USB ARC Register USB Command (HW_ARC_USBCMD)
                            18732 ; 274  |
                            18733 ; 275  |#define HW_ARC_USBCMD_RS_BITPOS (0)
                            18734 ; 276  |#define HW_ARC_USBCMD_RST_BITPOS (1)
                            18735 ; 277  |#define HW_ARC_USBCMD_FS0_BITPOS (2)
                            18736 ; 278  |#define HW_ARC_USBCMD_FS1_BITPOS (3)
                            18737 ; 279  |#define HW_ARC_USBCMD_PSE_BITPOS (4)
                            18738 ; 280  |#define HW_ARC_USBCMD_ASE_BITPOS (5)
                            18739 ; 281  |#define HW_ARC_USBCMD_IAA_BITPOS (6)
                            18740 ; 282  |#define HW_ARC_USBCMD_LR_BITPOS (7)
                            18741 ; 283  |#define HW_ARC_USBCMD_ASP0_BITPOS (8)
                            18742 ; 284  |#define HW_ARC_USBCMD_ASP1_BITPOS (9)
                            18743 ; 285  |#define HW_ARC_USBCMD_ASPE_BITPOS (11)
                            18744 ; 286  |#define HW_ARC_USBCMD_FS2_BITPOS (15)
                            18745 ; 287  |#define HW_ARC_USBCMD_ITC_BITPOS (16)
                            18746 ; 288  |
                            18747 ; 289  |#define HW_ARC_USBCMD_RS_SETMASK (1<<HW_ARC_USBCMD_RS_BITPOS)                
                            18748 ; 290  |#define HW_ARC_USBCMD_RST_SETMASK (1<<HW_ARC_USBCMD_RST_BITPOS)   
                            18749 ; 291  |#define HW_ARC_USBCMD_FS0_SETMASK (1<<HW_ARC_USBCMD_FS0_BITPOS)   
                            18750 ; 292  |#define HW_ARC_USBCMD_FS1_SETMASK (1<<HW_ARC_USBCMD_FS1_BITPOS)   
                            18751 ; 293  |#define HW_ARC_USBCMD_PSE_SETMASK (1<<HW_ARC_USBCMD_PSE_BITPOS)   
                            18752 ; 294  |#define HW_ARC_USBCMD_ASE_SETMASK (1<<HW_ARC_USBCMD_ASE_BITPOS)   
                            18753 ; 295  |#define HW_ARC_USBCMD_IAA_SETMASK (1<<HW_ARC_USBCMD_IAA_BITPOS)   
                            18754 ; 296  |#define HW_ARC_USBCMD_LR_SETMASK (1<<HW_ARC_USBCMD_LR_BITPOS)        
                            18755 ; 297  |#define HW_ARC_USBCMD_ASP0_SETMASK (1<<HW_ARC_USBCMD_ASP0_BITPOS)
                            18756 ; 298  |#define HW_ARC_USBCMD_ASP1_SETMASK (1<<HW_ARC_USBCMD_ASP1_BITPOS)
                            18757 ; 299  |#define HW_ARC_USBCMD_ASPE_SETMASK (1<<HW_ARC_USBCMD_ASPE_BITPOS)
                            18758 ; 300  |#define HW_ARC_USBCMD_FS2_SETMASK (1<<HW_ARC_USBCMD_FS2_BITPOS)    
                            18759 ; 301  |#define HW_ARC_USBCMD_ITC_SETMASK (255<<HW_ARC_USBCMD_ITC_BITPOS)
                            18760 ; 302  |
                            18761 ; 303  |#define HW_ARC_USBCMD_RS_CLRMASK (~(WORD)HW_ARC_USBCMD_RS_SETMASK)     
                            18762 ; 304  |#define HW_ARC_USBCMD_RST_CLRMASK (~(WORD)HW_ARC_USBCMD_RST_SETMASK)    
                            18763 ; 305  |#define HW_ARC_USBCMD_FS0_CLRMASK (~(WORD)HW_ARC_USBCMD_FS0_SETMASK)    
                            18764 ; 306  |#define HW_ARC_USBCMD_FS1_CLRMASK (~(WORD)HW_ARC_USBCMD_FS1_SETMASK)    
                            18765 ; 307  |#define HW_ARC_USBCMD_PSE_CLRMASK (~(WORD)HW_ARC_USBCMD_PSE_SETMASK)    
                            18766 ; 308  |#define HW_ARC_USBCMD_ASE_CLRMASK (~(WORD)HW_ARC_USBCMD_ASE_SETMASK)    
                            18767 ; 309  |#define HW_ARC_USBCMD_IAA_CLRMASK (~(WORD)HW_ARC_USBCMD_IAA_SETMASK)    
                            18768 ; 310  |#define HW_ARC_USBCMD_LR_CLRMASK (~(WORD)HW_ARC_USBCMD_LR_SETMASK) 
                            18769 ; 311  |#define HW_ARC_USBCMD_ASP0_CLRMASK (~(WORD)HW_ARC_USBCMD_ASP0_SETMASK)
                            18770 ; 312  |#define HW_ARC_USBCMD_ASP1_CLRMASK (~(WORD)HW_ARC_USBCMD_ASP1_SETMASK)
                            18771 ; 313  |#define HW_ARC_USBCMD_ASPE_CLRMASK (~(WORD)HW_ARC_USBCMD_ASPE_SETMASK)
                            18772 ; 314  |#define HW_ARC_USBCMD_FS2_CLRMASK (~(WORD)HW_ARC_USBCMD_FS2_SETMASK)    
                            18773 ; 315  |#define HW_ARC_USBCMD_ITC_CLRMASK (~(WORD)HW_ARC_USBCMD_ITC_SETMASK)    
                            18774 ; 316  |
                            18775 ; 317  |typedef union               
                            18776 ; 318  |{
                            18777 ; 319  |    struct {
                            18778 ; 320  |        int RS              :1;
                            18779 ; 321  |        int RST             :1;
                            18780 ; 322  |        int FS0             :1;
                            18781 ; 323  |        int FS1             :1;
                            18782 ; 324  |        int PSE             :1;
                            18783 ; 325  |        int ASE             :1;
                            18784 ; 326  |        int IAA             :1;
                            18785 ; 327  |        int LR              :1;
                            18786 ; 328  |        int ASP0            :1;
                            18787 ; 329  |        int ASP1            :1;
                            18788 ; 330  |        int                 :1;
                            18789 ; 331  |        int ASPE            :1;
                            18790 ; 332  |        int                 :3;
                            18791 ; 333  |        int FS2             :1;
                            18792 ; 334  |        int ITC             :8;
                            18793 ; 335  |        int                 :24;
                            18794 ; 336  |    } B;
                            18795 ; 337  |    DWORD I;
                            18796 ; 338  |} usbcmd_type;
                            18797 ; 339  |//#define HW_ARC_USBCMD ((volatile usbcmd_type _X*) (HW_ARC_BASEADDR+0x140))    
                            18798 ; 340  |
                            18799 ; 341  |/////////////////////////////////////////////////////////////////////////////////
                            18800 ; 342  |//  USB ARC Register USB Status (HW_ARC_USBSTS)
                            18801 ; 343  |
                            18802 ; 344  |#define HW_ARC_USBSTS_UI_BITPOS (0)
                            18803 ; 345  |#define HW_ARC_USBSTS_UEI_BITPOS (1)
                            18804 ; 346  |#define HW_ARC_USBSTS_PCI_BITPOS (2)
                            18805 ; 347  |#define HW_ARC_USBSTS_FRI_BITPOS (3)
                            18806 ; 348  |#define HW_ARC_USBSTS_SEI_BITPOS (4)
                            18807 ; 349  |#define HW_ARC_USBSTS_AAI_BITPOS (5)
                            18808 ; 350  |#define HW_ARC_USBSTS_URI_BITPOS (6)
                            18809 ; 351  |#define HW_ARC_USBSTS_SRI_BITPOS (7)
                            18810 ; 352  |#define HW_ARC_USBSTS_SLI_BITPOS (8)
                            18811 ; 353  |#define HW_ARC_USBSTS_HCH_BITPOS (12)
                            18812 ; 354  |#define HW_ARC_USBSTS_RCL_BITPOS (13)
                            18813 ; 355  |#define HW_ARC_USBSTS_PS_BITPOS (14)
                            18814 ; 356  |#define HW_ARC_USBSTS_AS_BITPOS (15)
                            18815 ; 357  |
                            18816 ; 358  |#define HW_ARC_USBSTS_UI_SETMASK (1<<HW_ARC_USBSTS_UI_BITPOS)    
                            18817 ; 359  |#define HW_ARC_USBSTS_UEI_SETMASK (1<<HW_ARC_USBSTS_UEI_BITPOS)
                            18818 ; 360  |#define HW_ARC_USBSTS_PCI_SETMASK (1<<HW_ARC_USBSTS_PCI_BITPOS)
                            18819 ; 361  |#define HW_ARC_USBSTS_FRI_SETMASK (1<<HW_ARC_USBSTS_FRI_BITPOS)
                            18820 ; 362  |#define HW_ARC_USBSTS_SEI_SETMASK (1<<HW_ARC_USBSTS_SEI_BITPOS)
                            18821 ; 363  |#define HW_ARC_USBSTS_AAI_SETMASK (1<<HW_ARC_USBSTS_AAI_BITPOS)
                            18822 ; 364  |#define HW_ARC_USBSTS_URI_SETMASK (1<<HW_ARC_USBSTS_URI_BITPOS)
                            18823 ; 365  |#define HW_ARC_USBSTS_SRI_SETMASK (1<<HW_ARC_USBSTS_SRI_BITPOS)
                            18824 ; 366  |#define HW_ARC_USBSTS_SLI_SETMASK (1<<HW_ARC_USBSTS_SLI_BITPOS)
                            18825 ; 367  |#define HW_ARC_USBSTS_HCH_SETMASK (1<<HW_ARC_USBSTS_HCH_BITPOS)
                            18826 ; 368  |#define HW_ARC_USBSTS_RCL_SETMASK (1<<HW_ARC_USBSTS_RCL_BITPOS)
                            18827 ; 369  |#define HW_ARC_USBSTS_PS_SETMASK (1<<HW_ARC_USBSTS_PS_BITPOS)    
                            18828 ; 370  |#define HW_ARC_USBSTS_AS_SETMASK (1<<HW_ARC_USBSTS_AS_BITPOS)    
                            18829 ; 371  |
                            18830 ; 372  |#define HW_ARC_USBSTS_UI_CLRMASK (~(WORD)HW_ARC_USBSTS_UI_SETMASK)
                            18831 ; 373  |#define HW_ARC_USBSTS_UEI_CLRMASK (~(WORD)HW_ARC_USBSTS_UEI_SETMASK)
                            18832 ; 374  |#define HW_ARC_USBSTS_PCI_CLRMASK (~(WORD)HW_ARC_USBSTS_PCI_SETMASK)
                            18833 ; 375  |#define HW_ARC_USBSTS_FRI_CLRMASK (~(WORD)HW_ARC_USBSTS_FRI_SETMASK)
                            18834 ; 376  |#define HW_ARC_USBSTS_SEI_CLRMASK (~(WORD)HW_ARC_USBSTS_SEI_SETMASK)
                            18835 ; 377  |#define HW_ARC_USBSTS_AAI_CLRMASK (~(WORD)HW_ARC_USBSTS_AAI_SETMASK)
                            18836 ; 378  |#define HW_ARC_USBSTS_URI_CLRMASK (~(WORD)HW_ARC_USBSTS_URI_SETMASK)
                            18837 ; 379  |#define HW_ARC_USBSTS_SRI_CLRMASK (~(WORD)HW_ARC_USBSTS_SRI_SETMASK)
                            18838 ; 380  |#define HW_ARC_USBSTS_SLI_CLRMASK (~(WORD)HW_ARC_USBSTS_SLI_SETMASK)
                            18839 ; 381  |#define HW_ARC_USBSTS_HCH_CLRMASK (~(WORD)HW_ARC_USBSTS_HCH_SETMASK)
                            18840 ; 382  |#define HW_ARC_USBSTS_RCL_CLRMASK (~(WORD)HW_ARC_USBSTS_RCL_SETMASK)
                            18841 ; 383  |#define HW_ARC_USBSTS_PS_CLRMASK (~(WORD)HW_ARC_USBSTS_PS_SETMASK)
                            18842 ; 384  |#define HW_ARC_USBSTS_AS_CLRMASK (~(WORD)HW_ARC_USBSTS_AS_SETMASK)
                            18843 ; 385  |
                            18844 ; 386  |
                            18845 ; 387  |typedef union               
                            18846 ; 388  |{
                            18847 ; 389  |    struct {
                            18848 ; 390  |        int UI              :1;
                            18849 ; 391  |        int UEI             :1;
                            18850 ; 392  |        int PCI             :1;
                            18851 ; 393  |        int FRI             :1;
                            18852 ; 394  |        int SEI             :1;
                            18853 ; 395  |        int AAI             :1;
                            18854 ; 396  |        int URI             :1;
                            18855 ; 397  |        int STI             :1;
                            18856 ; 398  |        int SLI             :1;
                            18857 ; 399  |        int                 :3;
                            18858 ; 400  |        int HCH             :1;
                            18859 ; 401  |        int RCL             :1;
                            18860 ; 402  |        int PS              :1;
                            18861 ; 403  |        int AS              :1;
                            18862 ; 404  |        int                 :24;
                            18863 ; 405  |    } B;
                            18864 ; 406  |    DWORD I;
                            18865 ; 407  |} usbsts_type;
                            18866 ; 408  |//#define HW_ARC_USBSTS (*(volatile usbsts_type _X*) (HW_ARC_BASEADDR+0x144))    
                            18867 ; 409  |
                            18868 ; 410  |/////////////////////////////////////////////////////////////////////////////////
                            18869 ; 411  |//  USB ARC Register USB Interrupt Enable (HW_ARC_USBINTR)
                            18870 ; 412  |
                            18871 ; 413  |#define HW_ARC_USBINTR_UE_BITPOS (0)
                            18872 ; 414  |#define HW_ARC_USBINTR_UEE_BITPOS (1)
                            18873 ; 415  |#define HW_ARC_USBINTR_PCE_BITPOS (2)
                            18874 ; 416  |#define HW_ARC_USBINTR_FRE_BITPOS (3)
                            18875 ; 417  |#define HW_ARC_USBINTR_SEE_BITPOS (4)
                            18876 ; 418  |#define HW_ARC_USBINTR_AAE_BITPOS (5)
                            18877 ; 419  |#define HW_ARC_USBINTR_URE_BITPOS (6)
                            18878 ; 420  |#define HW_ARC_USBINTR_SRE_BITPOS (7)
                            18879 ; 421  |#define HW_ARC_USBINTR_SLE_BITPOS (8)
                            18880 ; 422  |
                            18881 ; 423  |#define HW_ARC_USBINTR_UE_SETMASK (1<<HW_ARC_USBINTR_UE_BITPOS)   
                            18882 ; 424  |#define HW_ARC_USBINTR_UEE_SETMASK (1<<HW_ARC_USBINTR_UEE_BITPOS)
                            18883 ; 425  |#define HW_ARC_USBINTR_PCE_SETMASK (1<<HW_ARC_USBINTR_PCE_BITPOS)
                            18884 ; 426  |#define HW_ARC_USBINTR_FRE_SETMASK (1<<HW_ARC_USBINTR_FRE_BITPOS)
                            18885 ; 427  |#define HW_ARC_USBINTR_SEE_SETMASK (1<<HW_ARC_USBINTR_SEE_BITPOS)
                            18886 ; 428  |#define HW_ARC_USBINTR_AAE_SETMASK (1<<HW_ARC_USBINTR_AAE_BITPOS)
                            18887 ; 429  |#define HW_ARC_USBINTR_URE_SETMASK (1<<HW_ARC_USBINTR_URE_BITPOS)
                            18888 ; 430  |#define HW_ARC_USBINTR_SRE_SETMASK (1<<HW_ARC_USBINTR_SRE_BITPOS)
                            18889 ; 431  |#define HW_ARC_USBINTR_SLE_SETMASK (1<<HW_ARC_USBINTR_SLE_BITPOS)
                            18890 ; 432  |
                            18891 ; 433  |#define HW_ARC_USBINTR_UE_CLRMASK (~(WORD)HW_ARC_USBINTR_UE_SETMASK)
                            18892 ; 434  |#define HW_ARC_USBINTR_UEE_CLRMASK (~(WORD)HW_ARC_USBINTR_UEE_SETMASK)
                            18893 ; 435  |#define HW_ARC_USBINTR_PCE_CLRMASK (~(WORD)HW_ARC_USBINTR_PCE_SETMASK)
                            18894 ; 436  |#define HW_ARC_USBINTR_FRE_CLRMASK (~(WORD)HW_ARC_USBINTR_FRE_SETMASK)
                            18895 ; 437  |#define HW_ARC_USBINTR_SEE_CLRMASK (~(WORD)HW_ARC_USBINTR_SEE_SETMASK)
                            18896 ; 438  |#define HW_ARC_USBINTR_AAE_CLRMASK (~(WORD)HW_ARC_USBINTR_AAE_SETMASK)
                            18897 ; 439  |#define HW_ARC_USBINTR_URE_CLRMASK (~(WORD)HW_ARC_USBINTR_URE_SETMASK)
                            18898 ; 440  |#define HW_ARC_USBINTR_SRE_CLRMASK (~(WORD)HW_ARC_USBINTR_SRE_SETMASK)
                            18899 ; 441  |#define HW_ARC_USBINTR_SLE_CLRMASK (~(WORD)HW_ARC_USBINTR_SLE_SETMASK)
                            18900 ; 442  |
                            18901 ; 443  |
                            18902 ; 444  |typedef union               
                            18903 ; 445  |{
                            18904 ; 446  |    struct {
                            18905 ; 447  |        int UE              :1;
                            18906 ; 448  |        int UEE             :1;
                            18907 ; 449  |        int PCE             :1;
                            18908 ; 450  |        int FRE             :1;
                            18909 ; 451  |        int SEE             :1;
                            18910 ; 452  |        int AAE             :1;
                            18911 ; 453  |        int URE             :1;
                            18912 ; 454  |        int STE             :1;
                            18913 ; 455  |        int SLE             :1;
                            18914 ; 456  |        int                 :39;
                            18915 ; 457  |    } B;
                            18916 ; 458  |    DWORD I;
                            18917 ; 459  |} usbintr_type;
                            18918 ; 460  |//#define HW_ARC_USBINTR (*(volatile usbintr_type _X*) (HW_ARC_BASEADDR+0x148))    
                            18919 ; 461  |
                            18920 ; 462  |
                            18921 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            18922 ; 464  |//  USB ARC Register USB Device Controller Device Address (HW_ARC_DEVADDR)
                            18923 ; 465  |
                            18924 ; 466  |#define HW_ARC_DEVADDR_ADD_BITPOS (25)
                            18925 ; 467  |
                            18926 ; 468  |#define HW_ARC_DEVADDR_ADD_SETMASK (127<<HW_ARC_DEVADDR_ADD_BITPOS)    
                            18927 ; 469  |
                            18928 ; 470  |#define HW_ARC_DEVEADDR_ADD_CLRMASK (~(WORD)HW_ARC_DEVADDR_ADD_SETMASK)   
                            18929 ; 471  |
                            18930 ; 472  |typedef union               
                            18931 ; 473  |{
                            18932 ; 474  |    struct {
                            18933 ; 475  |        int                 :25;
                            18934 ; 476  |        int ADD             :7;
                            18935 ; 477  |        int                 :16;
                            18936 ; 478  |    } B;
                            18937 ; 479  |    DWORD I;
                            18938 ; 480  |} devaddr_type;
                            18939 ; 481  |//#define HW_ARC_DEVADDR (*(volatile devaddr_type _X*) (HW_ARC_BASEADDR+0x154))    
                            18940 ; 482  |
                            18941 ; 483  |
                            18942 ; 484  |/////////////////////////////////////////////////////////////////////////////////
                            18943 ; 485  |//  USB ARC Register USB Device Controller Endpoint List Address (HW_ARC_ENDPTLISTADDR)
                            18944 ; 486  |
                            18945 ; 487  |#define HW_ARC_ENDPTLISTADDR_ADD_BITPOS (11)
                            18946 ; 488  |
                            18947 ; 489  |#define HW_ARC_ENDPTLISTADDR_ADD_SETMASK (0x400000<<HW_ARC_ENDPTLISTADDR_ADD_BITPOS) 
                            18948 ; 490  |
                            18949 ; 491  |#define HW_ARC_ENDPTLISTADDR_ADD_CLRMASK (~(WORD)HW_ARC_ENDPTLISTADDR_ADD_SETMASK) 
                            18950 ; 492  |
                            18951 ; 493  |typedef union               
                            18952 ; 494  |{
                            18953 ; 495  |    struct {
                            18954 ; 496  |        int                 :10;
                            18955 ; 497  |        int ADD             :22;
                            18956 ; 498  |        int                 :16;
                            18957 ; 499  |    } B;
                            18958 ; 500  |    DWORD I;
                            18959 ; 501  |} endptlistaddr_type;
                            18960 ; 502  |//#define HW_ARC_ENDPTLISTADDR (*(volatile endptlistaddr_type _X*) (HW_ARC_BASEADDR+0x158))    
                            18961 ; 503  |
                            18962 ; 504  |
                            18963 ; 505  |/////////////////////////////////////////////////////////////////////////////////
                            18964 ; 506  |//  USB ARC Register USB Port Status Control 1 (HW_ARC_PORTSC1)
                            18965 ; 507  |
                            18966 ; 508  |#define HW_ARC_PORTSC1_CCS_BITPOS (0)
                            18967 ; 509  |#define HW_ARC_PORTSC1_CSC_BITPOS (1)
                            18968 ; 510  |#define HW_ARC_PORTSC1_PE_BITPOS (2)
                            18969 ; 511  |#define HW_ARC_PORTSC1_PEC_BITPOS (3)
                            18970 ; 512  |#define HW_ARC_PORTSC1_OCA_BITPOS (4)
                            18971 ; 513  |#define HW_ARC_PORTSC1_OCC_BITPOS (5)
                            18972 ; 514  |#define HW_ARC_PORTSC1_FPR_BITPOS (6)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  76

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18973 ; 515  |#define HW_ARC_PORTSC1_SUSP_BITPOS (7)
                            18974 ; 516  |#define HW_ARC_PORTSC1_PR_BITPOS (8)
                            18975 ; 517  |#define HW_ARC_PORTSC1_HSP_BITPOS (9)
                            18976 ; 518  |#define HW_ARC_PORTSC1_LS_BITPOS (10)
                            18977 ; 519  |#define HW_ARC_PORTSC1_PP_BITPOS (12)
                            18978 ; 520  |#define HW_ARC_PORTSC1_PO_BITPOS (13)
                            18979 ; 521  |#define HW_ARC_PORTSC1_PIC_BITPOS (14)
                            18980 ; 522  |#define HW_ARC_PORTSC1_PTC_BITPOS (16)
                            18981 ; 523  |#define HW_ARC_PORTSC1_WKCN_BITPOS (20)
                            18982 ; 524  |#define HW_ARC_PORTSC1_WKDS_BITPOS (21)
                            18983 ; 525  |#define HW_ARC_PORTSC1_WKOC_BITPOS (22)
                            18984 ; 526  |#define HW_ARC_PORTSC1_PHCD_BITPOS (23)
                            18985 ; 527  |#define HW_ARC_PORTSC1_PFSC_BITPOS (24)
                            18986 ; 528  |#define HW_ARC_PORTSC1_PSPD_BITPOS (26)
                            18987 ; 529  |#define HW_ARC_PORTSC1_PTW_BITPOS (29)
                            18988 ; 530  |#define HW_ARC_PORTSC1_STS_BITPOS (30)
                            18989 ; 531  |#define HW_ARC_PORTSC1_PTS_BITPOS (31)
                            18990 ; 532  |
                            18991 ; 533  |#define HW_ARC_PORTSC1_CCS_SETMASK (1<<HW_ARC_PORTSC1_CCS_BITPOS)  
                            18992 ; 534  |#define HW_ARC_PORTSC1_CSC_SETMASK (1<<HW_ARC_PORTSC1_CSC_BITPOS)  
                            18993 ; 535  |#define HW_ARC_PORTSC1_PE_SETMASK (1<<HW_ARC_PORTSC1_PE_BITPOS)   
                            18994 ; 536  |#define HW_ARC_PORTSC1_PEC_SETMASK (1<<HW_ARC_PORTSC1_PEC_BITPOS)  
                            18995 ; 537  |#define HW_ARC_PORTSC1_OCA_SETMASK (1<<HW_ARC_PORTSC1_OCA_BITPOS)  
                            18996 ; 538  |#define HW_ARC_PORTSC1_OCC_SETMASK (1<<HW_ARC_PORTSC1_OCC_BITPOS)  
                            18997 ; 539  |#define HW_ARC_PORTSC1_FPR_SETMASK (1<<HW_ARC_PORTSC1_FPR_BITPOS)  
                            18998 ; 540  |#define HW_ARC_PORTSC1_SUSP_SETMASK (1<<HW_ARC_PORTSC1_SUSP_BITPOS)
                            18999 ; 541  |#define HW_ARC_PORTSC1_PR_SETMASK (1<<HW_ARC_PORTSC1_PR_BITPOS)   
                            19000 ; 542  |#define HW_ARC_PORTSC1_HSP_SETMASK (1<<HW_ARC_PORTSC1_HSP_BITPOS)  
                            19001 ; 543  |#define HW_ARC_PORTSC1_LS_SETMASK (3<<HW_ARC_PORTSC1_LS_BITPOS)   
                            19002 ; 544  |#define HW_ARC_PORTSC1_PP_SETMASK (1<<HW_ARC_PORTSC1_PP_BITPOS)   
                            19003 ; 545  |#define HW_ARC_PORTSC1_PO_SETMASK (1<<HW_ARC_PORTSC1_PO_BITPOS)   
                            19004 ; 546  |#define HW_ARC_PORTSC1_PIC_SETMASK (3<<HW_ARC_PORTSC1_PIC_BITPOS)  
                            19005 ; 547  |#define HW_ARC_PORTSC1_PTC_SETMASK (15<<HW_ARC_PORTSC1_PTC_BITPOS) 
                            19006 ; 548  |#define HW_ARC_PORTSC1_WKCN_SETMASK (1<<HW_ARC_PORTSC1_WKCN_BITPOS)
                            19007 ; 549  |#define HW_ARC_PORTSC1_WKDS_SETMASK (1<<HW_ARC_PORTSC1_WKDS_BITPOS)
                            19008 ; 550  |#define HW_ARC_PORTSC1_WKOC_SETMASK (1<<HW_ARC_PORTSC1_WKOC_BITPOS)
                            19009 ; 551  |#define HW_ARC_PORTSC1_PHCD_SETMASK (1<<HW_ARC_PORTSC1_PHCD_BITPOS)
                            19010 ; 552  |
                            19011 ; 553  |// We need to equate the following label like this due to a sign extension problem
                            19012 ; 554  |// if equated like so (1<<HW_ARC_PORTSC1_PFSC_SETMASK)
                            19013 ; 555  |#define HW_ARC_PORTSC1_PFSC_SETMASK (0x01000000)
                            19014 ; 556  |
                            19015 ; 557  |#define HW_ARC_PORTSC1_PSPD_SETMASK (3<<HW_ARC_PORTSC1_PSPD_BITPOS)
                            19016 ; 558  |#define HW_ARC_PORTSC1_PTW_SETMASK (1<<HW_ARC_PORTSC1_PTW_BITPOS)  
                            19017 ; 559  |#define HW_ARC_PORTSC1_STS_SETMASK (1<<HW_ARC_PORTSC1_STS_BITPOS)  
                            19018 ; 560  |#define HW_ARC_PORTSC1_PTS_SETMASK (1<<HW_ARC_PORTSC1_PTS_BITPOS)  
                            19019 ; 561  |
                            19020 ; 562  |#define HW_ARC_PORTSC1_CCS_CLRMASK (~(WORD)HW_ARC_PORTSC1_CCS_SETMASK)   
                            19021 ; 563  |#define HW_ARC_PORTSC1_CSC_CLRMASK (~(WORD)HW_ARC_PORTSC1_CSC_SETMASK)   
                            19022 ; 564  |#define HW_ARC_PORTSC1_PE_CLRMASK (~(WORD)HW_ARC_PORTSC1_PE_SETMASK)    
                            19023 ; 565  |#define HW_ARC_PORTSC1_PEC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PEC_SETMASK)   
                            19024 ; 566  |#define HW_ARC_PORTSC1_OCA_CLRMASK (~(WORD)HW_ARC_PORTSC1_OCA_SETMASK)   
                            19025 ; 567  |#define HW_ARC_PORTSC1_OCC_CLRMASK (~(WORD)HW_ARC_PORTSC1_OCC_SETMASK)   
                            19026 ; 568  |#define HW_ARC_PORTSC1_FPR_CLRMASK (~(WORD)HW_ARC_PORTSC1_FPR_SETMASK)   
                            19027 ; 569  |#define HW_ARC_PORTSC1_SUSP_CLRMASK (~(WORD)HW_ARC_PORTSC1_SUSP_SETMASK)
                            19028 ; 570  |#define HW_ARC_PORTSC1_PR_CLRMASK (~(WORD)HW_ARC_PORTSC1_PR_SETMASK)    
                            19029 ; 571  |#define HW_ARC_PORTSC1_HSP_CLRMASK (~(WORD)HW_ARC_PORTSC1_HSP_SETMASK)   
                            19030 ; 572  |#define HW_ARC_PORTSC1_LS_CLRMASK (~(WORD)HW_ARC_PORTSC1_LS_SETMASK)    
                            19031 ; 573  |#define HW_ARC_PORTSC1_PP_CLRMASK (~(WORD)HW_ARC_PORTSC1_PP_SETMASK)    
                            19032 ; 574  |#define HW_ARC_PORTSC1_PO_CLRMASK (~(WORD)HW_ARC_PORTSC1_PO_SETMASK)    
                            19033 ; 575  |#define HW_ARC_PORTSC1_PIC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PIC_SETMASK)   
                            19034 ; 576  |#define HW_ARC_PORTSC1_PTC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTC_SETMASK)   
                            19035 ; 577  |#define HW_ARC_PORTSC1_WKCN_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKCN_SETMASK)
                            19036 ; 578  |#define HW_ARC_PORTSC1_WKDS_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKDS_SETMASK)
                            19037 ; 579  |#define HW_ARC_PORTSC1_WKOC_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKOC_SETMASK)
                            19038 ; 580  |#define HW_ARC_PORTSC1_PHCD_CLRMASK (~(WORD)HW_ARC_PORTSC1_PHCD_SETMASK)
                            19039 ; 581  |#define HW_ARC_PORTSC1_PFSC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PFSC_SETMASK)
                            19040 ; 582  |#define HW_ARC_PORTSC1_PSPD_CLRMASK (~(WORD)HW_ARC_PORTSC1_PSPD_SETMASK)
                            19041 ; 583  |#define HW_ARC_PORTSC1_PTW_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTW_SETMASK)   
                            19042 ; 584  |#define HW_ARC_PORTSC1_STS_CLRMASK (~(WORD)HW_ARC_PORTSC1_STS_SETMASK)   
                            19043 ; 585  |#define HW_ARC_PORTSC1_PTS_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTS_SETMASK)   
                            19044 ; 586  |
                            19045 ; 587  |typedef union               
                            19046 ; 588  |{
                            19047 ; 589  |    struct {
                            19048 ; 590  |        int CCS             :1;
                            19049 ; 591  |        int CSC             :1;
                            19050 ; 592  |        int PE              :1;
                            19051 ; 593  |        int PEC             :1;
                            19052 ; 594  |        int OCA             :1;
                            19053 ; 595  |        int OCC             :1;
                            19054 ; 596  |        int FPR             :1;
                            19055 ; 597  |        int SUSP            :1;
                            19056 ; 598  |        int PR              :1;
                            19057 ; 599  |        int HSP             :1;
                            19058 ; 600  |        int LS              :2;
                            19059 ; 601  |        int PP              :1;
                            19060 ; 602  |        int PO              :1;
                            19061 ; 603  |        int PIC             :2;
                            19062 ; 604  |        int PTC             :4;
                            19063 ; 605  |        int WKCN            :1;
                            19064 ; 606  |        int WKDS            :1;
                            19065 ; 607  |        int WKOC            :1;
                            19066 ; 608  |        int PHCD            :1;
                            19067 ; 609  |        int PFSC            :1;
                            19068 ; 610  |        int                 :1;
                            19069 ; 611  |        int PSPD            :2;
                            19070 ; 612  |        int                 :1;
                            19071 ; 613  |        int PTW             :1;
                            19072 ; 614  |        int STS             :1;
                            19073 ; 615  |        int PTS             :1;
                            19074 ; 616  |        int                 :16;
                            19075 ; 617  |    } B;
                            19076 ; 618  |    DWORD I;
                            19077 ; 619  |} portsc1_type;
                            19078 ; 620  |//#define HW_ARC_PORTSC1 (*(volatile portsc1_type _X*) (HW_ARC_BASEADDR+0x184))    
                            19079 ; 621  |
                            19080 ; 622  |
                            19081 ; 623  |/////////////////////////////////////////////////////////////////////////////////
                            19082 ; 624  |//  USB ARC Register USB Device Mode (HW_ARC_USBMODE)
                            19083 ; 625  |
                            19084 ; 626  |#define HW_ARC_USBMODE_CM_BITPOS (0)
                            19085 ; 627  |#define HW_ARC_USBMODE_ES_BITPOS (2)
                            19086 ; 628  |
                            19087 ; 629  |#define HW_ARC_USBMODE_CM_SETMASK (3<<HW_ARC_USBMODE_CM_BITPOS)   
                            19088 ; 630  |#define HW_ARC_USBMODE_ES_SETMASK (1<<HW_ARC_USBMODE_ES_BITPOS)   
                            19089 ; 631  |
                            19090 ; 632  |#define HW_ARC_USBMODE_CM_CLRMASK (~(WORD)HW_ARC_USBMODE_CM_SETMASK) 
                            19091 ; 633  |#define HW_ARC_USBMODE_ES_CLRMASK (~(WORD)HW_ARC_USBMODE_ES_SETMASK)    
                            19092 ; 634  |
                            19093 ; 635  |typedef union               
                            19094 ; 636  |{
                            19095 ; 637  |    struct {
                            19096 ; 638  |        int CM              :2;
                            19097 ; 639  |        int ES              :1;
                            19098 ; 640  |        int                 :46;
                            19099 ; 641  |    } B;
                            19100 ; 642  |    DWORD I;
                            19101 ; 643  |} usbmode_type;
                            19102 ; 644  |//#define HW_ARC_USBMODE (*(volatile usbmode_type _X*) (HW_ARC_BASEADDR+0x1a8))    
                            19103 ; 645  |
                            19104 ; 646  |
                            19105 ; 647  |/////////////////////////////////////////////////////////////////////////////////
                            19106 ; 648  |//  The following endpoint equates are common for the following registers
                            19107 ; 649  |
                            19108 ; 650  |#define ENDPOINT0_BITPOS (0)
                            19109 ; 651  |#define ENDPOINT1_BITPOS (1)
                            19110 ; 652  |#define ENDPOINT2_BITPOS (2)
                            19111 ; 653  |#define ENDPOINT3_BITPOS (3)
                            19112 ; 654  |#define ENDPOINT4_BITPOS (4)
                            19113 ; 655  |#define ENDPOINT5_BITPOS (5)
                            19114 ; 656  |#define ENDPOINT6_BITPOS (6)
                            19115 ; 657  |#define ENDPOINT7_BITPOS (7)
                            19116 ; 658  |#define ENDPOINT8_BITPOS (8)
                            19117 ; 659  |#define ENDPOINT9_BITPOS (9)
                            19118 ; 660  |#define ENDPOINT10_BITPOS (10)
                            19119 ; 661  |#define ENDPOINT11_BITPOS (11)
                            19120 ; 662  |#define ENDPOINT12_BITPOS (12)
                            19121 ; 663  |#define ENDPOINT13_BITPOS (13)
                            19122 ; 664  |#define ENDPOINT14_BITPOS (14)
                            19123 ; 665  |#define ENDPOINT15_BITPOS (15)
                            19124 ; 666  |
                            19125 ; 667  |#define ENDPOINT0_SETMASK (1<<ENDPOINT0_BITPOS)
                            19126 ; 668  |#define ENDPOINT1_SETMASK (1<<ENDPOINT1_BITPOS)
                            19127 ; 669  |#define ENDPOINT2_SETMASK (1<<ENDPOINT2_BITPOS)
                            19128 ; 670  |#define ENDPOINT3_SETMASK (1<<ENDPOINT3_BITPOS)
                            19129 ; 671  |#define ENDPOINT4_SETMASK (1<<ENDPOINT4_BITPOS)
                            19130 ; 672  |#define ENDPOINT5_SETMASK (1<<ENDPOINT5_BITPOS)
                            19131 ; 673  |#define ENDPOINT6_SETMASK (1<<ENDPOINT6_BITPOS)
                            19132 ; 674  |#define ENDPOINT7_SETMASK (1<<ENDPOINT7_BITPOS)
                            19133 ; 675  |#define ENDPOINT8_SETMASK (1<<ENDPOINT8_BITPOS)
                            19134 ; 676  |#define ENDPOINT9_SETMASK (1<<ENDPOINT9_BITPOS)
                            19135 ; 677  |#define ENDPOINT10_SETMASK (1<<ENDPOINT10_BITPOS)
                            19136 ; 678  |#define ENDPOINT11_SETMASK (1<<ENDPOINT11_BITPOS)
                            19137 ; 679  |#define ENDPOINT12_SETMASK (1<<ENDPOINT12_BITPOS)
                            19138 ; 680  |#define ENDPOINT13_SETMASK (1<<ENDPOINT13_BITPOS)
                            19139 ; 681  |#define ENDPOINT14_SETMASK (1<<ENDPOINT14_BITPOS)
                            19140 ; 682  |#define ENDPOINT15_SETMASK (1<<ENDPOINT15_BITPOS)
                            19141 ; 683  |
                            19142 ; 684  |#define ENDPOINT0_CLRMASK (~(WORD)ENDPOINT0_SETMASK)    
                            19143 ; 685  |#define ENDPOINT1_CLRMASK (~(WORD)ENDPOINT1_SETMASK)    
                            19144 ; 686  |#define ENDPOINT2_CLRMASK (~(WORD)ENDPOINT2_SETMASK)    
                            19145 ; 687  |#define ENDPOINT3_CLRMASK (~(WORD)ENDPOINT3_SETMASK)    
                            19146 ; 688  |#define ENDPOINT4_CLRMASK (~(WORD)ENDPOINT4_SETMASK)    
                            19147 ; 689  |#define ENDPOINT5_CLRMASK (~(WORD)ENDPOINT5_SETMASK)    
                            19148 ; 690  |#define ENDPOINT6_CLRMASK (~(WORD)ENDPOINT6_SETMASK)    
                            19149 ; 691  |#define ENDPOINT7_CLRMASK (~(WORD)ENDPOINT7_SETMASK)    
                            19150 ; 692  |#define ENDPOINT8_CLRMASK (~(WORD)ENDPOINT8_SETMASK)    
                            19151 ; 693  |#define ENDPOINT9_CLRMASK (~(WORD)ENDPOINT9_SETMASK)    
                            19152 ; 694  |#define ENDPOINT10_CLRMASK (~(WORD)ENDPOINT10_SETMASK)
                            19153 ; 695  |#define ENDPOINT11_CLRMASK (~(WORD)ENDPOINT11_SETMASK)
                            19154 ; 696  |#define ENDPOINT12_CLRMASK (~(WORD)ENDPOINT12_SETMASK)
                            19155 ; 697  |#define ENDPOINT13_CLRMASK (~(WORD)ENDPOINT13_SETMASK)
                            19156 ; 698  |#define ENDPOINT14_CLRMASK (~(WORD)ENDPOINT14_SETMASK)
                            19157 ; 699  |#define ENDPOINT15_CLRMASK (~(WORD)ENDPOINT15_SETMASK)
                            19158 ; 700  |
                            19159 ; 701  |typedef union               
                            19160 ; 702  |{
                            19161 ; 703  |    struct {
                            19162 ; 704  |        int EP0              :1;
                            19163 ; 705  |        int EP1              :1;
                            19164 ; 706  |        int EP2              :1;
                            19165 ; 707  |        int EP3              :1;
                            19166 ; 708  |        int EP4              :1;
                            19167 ; 709  |        int EP5              :1;
                            19168 ; 710  |        int EP6              :1;
                            19169 ; 711  |        int EP7              :1;
                            19170 ; 712  |        int EP8              :1;
                            19171 ; 713  |        int EP9              :1;
                            19172 ; 714  |        int EP10             :1;
                            19173 ; 715  |        int EP11             :1;
                            19174 ; 716  |        int EP12             :1;
                            19175 ; 717  |        int EP13             :1;
                            19176 ; 718  |        int EP14             :1;
                            19177 ; 719  |        int EP15             :1;
                            19178 ; 720  |        int                  :32;
                            19179 ; 721  |    } B;
                            19180 ; 722  |    DWORD I;
                            19181 ; 723  |} endpsetupstat_type;
                            19182 ; 724  |
                            19183 ; 725  |//#define HW_ARC_ENDPTSETUPSTAT (*(volatile endpsetupstat_type _X*) (HW_ARC_BASEADDR+0x1ac))    
                            19184 ; 726  |
                            19185 ; 727  |typedef union               
                            19186 ; 728  |{
                            19187 ; 729  |    struct {
                            19188 ; 730  |        int EP0              :1;
                            19189 ; 731  |        int EP1              :1;
                            19190 ; 732  |        int EP2              :1;
                            19191 ; 733  |        int EP3              :1;
                            19192 ; 734  |        int EP4              :1;
                            19193 ; 735  |        int EP5              :1;
                            19194 ; 736  |        int EP6              :1;
                            19195 ; 737  |        int EP7              :1;
                            19196 ; 738  |        int EP8              :1;
                            19197 ; 739  |        int EP9              :1;
                            19198 ; 740  |        int EP10             :1;
                            19199 ; 741  |        int EP11             :1;
                            19200 ; 742  |        int EP12             :1;
                            19201 ; 743  |        int EP13             :1;
                            19202 ; 744  |        int EP14             :1;
                            19203 ; 745  |        int EP15             :1;
                            19204 ; 746  |        int                  :8;
                            19205 ; 747  |    } B;
                            19206 ; 748  |    WORD I;
                            19207 ; 749  |} endpt_type;
                            19208 
                            19246 
                            19247 ; 750  |
                            19248 ; 751  |typedef union
                            19249 ; 752  |{
                            19250 ; 753  |   struct {
                            19251 ; 754  |       endpt_type  RX;
                            19252 ; 755  |       endpt_type  TX;
                            19253 ; 756  |   } W;
                            19254 ; 757  |   DWORD DW;
                            19255 ; 758  |} endptrxtx_type;
                            19256 ; 759  |
                            19257 ; 760  |//#define HW_ARC_ENDPTPRIME    (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b0))    
                            19258 ; 761  |//#define HW_ARC_ENDPTFLUSH    (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b4))    
                            19259 ; 762  |//#define HW_ARC_ENDPTSTAT     (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b8))    
                            19260 ; 763  |//#define HW_ARC_ENDPTCOMPLETE (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1bc))    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  77

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19261 ; 764  |
                            19262 ; 765  |
                            19263 ; 766  |
                            19264 ; 767  |/////////////////////////////////////////////////////////////////////////////////
                            19265 ; 768  |//  USB ARC Register Endpoint control (HW_ARC_ENDPTCTRL)
                            19266 ; 769  |
                            19267 ; 770  |#define HW_ARC_ENDPTCTRL_RXS_BITPOS (0)
                            19268 ; 771  |#define HW_ARC_ENDPTCTRL_RXD_BITPOS (1)
                            19269 ; 772  |#define HW_ARC_ENDPTCTRL_RXT_BITPOS (2)
                            19270 ; 773  |#define HW_ARC_ENDPTCTRL_RXI_BITPOS (5)
                            19271 ; 774  |#define HW_ARC_ENDPTCTRL_RXR_BITPOS (6)
                            19272 ; 775  |#define HW_ARC_ENDPTCTRL_RXE_BITPOS (7)
                            19273 ; 776  |#define HW_ARC_ENDPTCTRL_TXS_BITPOS (16)
                            19274 ; 777  |#define HW_ARC_ENDPTCTRL_TXD_BITPOS (17)
                            19275 ; 778  |#define HW_ARC_ENDPTCTRL_TXT_BITPOS (18)
                            19276 ; 779  |#define HW_ARC_ENDPTCTRL_TXI_BITPOS (21)
                            19277 ; 780  |#define HW_ARC_ENDPTCTRL_TXR_BITPOS (22)
                            19278 ; 781  |#define HW_ARC_ENDPTCTRL_TXE_BITPOS (23)
                            19279 ; 782  |
                            19280 ; 783  |#define HW_ARC_ENDPTCTRL_RXS_SETMASK (1<<HW_ARC_ENDPTCTRL_RXS_BITPOS)
                            19281 ; 784  |#define HW_ARC_ENDPTCTRL_RXD_SETMASK (1<<HW_ARC_ENDPTCTRL_RXD_BITPOS)
                            19282 ; 785  |#define HW_ARC_ENDPTCTRL_RXT_SETMASK (3<<HW_ARC_ENDPTCTRL_RXT_BITPOS)
                            19283 ; 786  |#define HW_ARC_ENDPTCTRL_RXI_SETMASK (1<<HW_ARC_ENDPTCTRL_RXI_BITPOS)
                            19284 ; 787  |#define HW_ARC_ENDPTCTRL_RXR_SETMASK (1<<HW_ARC_ENDPTCTRL_RXR_BITPOS)
                            19285 ; 788  |#define HW_ARC_ENDPTCTRL_RXE_SETMASK (1<<HW_ARC_ENDPTCTRL_RXE_BITPOS)
                            19286 ; 789  |#define HW_ARC_ENDPTCTRL_TXS_SETMASK (1<<HW_ARC_ENDPTCTRL_TXS_BITPOS)
                            19287 ; 790  |#define HW_ARC_ENDPTCTRL_TXD_SETMASK (1<<HW_ARC_ENDPTCTRL_TXD_BITPOS)
                            19288 ; 791  |#define HW_ARC_ENDPTCTRL_TXT_SETMASK (3<<HW_ARC_ENDPTCTRL_TXT_BITPOS)
                            19289 ; 792  |#define HW_ARC_ENDPTCTRL_TXI_SETMASK (1<<HW_ARC_ENDPTCTRL_TXI_BITPOS)
                            19290 ; 793  |#define HW_ARC_ENDPTCTRL_TXR_SETMASK (1<<HW_ARC_ENDPTCTRL_TXR_BITPOS)
                            19291 ; 794  |
                            19292 ; 795  |// We need to equate the following label like this due to a sign extension problem
                            19293 ; 796  |// if equated like so (1<<HW_ARC_ENDPTCTRL_TXE_BITPOS)
                            19294 ; 797  |#define HW_ARC_ENDPTCTRL_TXE_SETMASK (0x00800000)
                            19295 ; 798  |//HW_ARC_ENDPTCTRL_TXE_SETMASK    equ     (1<<HW_ARC_ENDPTCTRL_TXE_BITPOS)
                            19296 ; 799  |
                            19297 ; 800  |#define HW_ARC_ENDPTCTRL_RXS_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXS_SETMASK)
                            19298 ; 801  |#define HW_ARC_ENDPTCTRL_RXD_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXD_SETMASK)
                            19299 ; 802  |#define HW_ARC_ENDPTCTRL_RXT_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXT_SETMASK)
                            19300 ; 803  |#define HW_ARC_ENDPTCTRL_RXI_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXI_SETMASK)
                            19301 ; 804  |#define HW_ARC_ENDPTCTRL_RXR_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXR_SETMASK)
                            19302 ; 805  |#define HW_ARC_ENDPTCTRL_RXE_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXE_SETMASK)
                            19303 ; 806  |#define HW_ARC_ENDPTCTRL_TXS_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXS_SETMASK)
                            19304 ; 807  |#define HW_ARC_ENDPTCTRL_TXD_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXD_SETMASK)
                            19305 ; 808  |#define HW_ARC_ENDPTCTRL_TXT_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXT_SETMASK)
                            19306 ; 809  |#define HW_ARC_ENDPTCTRL_TXI_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXI_SETMASK)
                            19307 ; 810  |#define HW_ARC_ENDPTCTRL_TXR_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXR_SETMASK)
                            19308 ; 811  |#define HW_ARC_ENDPTCTRL_TXE_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXE_SETMASK)
                            19309 ; 812  |
                            19310 ; 813  |
                            19311 ; 814  |typedef union               
                            19312 ; 815  |{
                            19313 ; 816  |    struct {
                            19314 ; 817  |        int RXS             :1;
                            19315 ; 818  |        int RXD             :1;
                            19316 ; 819  |        int RXT             :2;
                            19317 ; 820  |        int                 :1;
                            19318 ; 821  |        int RXI             :1;
                            19319 ; 822  |        int RXR             :1;
                            19320 ; 823  |        int RXE             :1;
                            19321 ; 824  |        int                 :8;
                            19322 ; 825  |        int TXS             :1;
                            19323 ; 826  |        int TXD             :1;
                            19324 ; 827  |        int TXT             :2;
                            19325 ; 828  |        int                 :1;
                            19326 ; 829  |        int TXI             :1;
                            19327 ; 830  |        int TXR             :1;
                            19328 ; 831  |        int TXE             :1;
                            19329 ; 832  |        int                 :24;
                            19330 ; 833  |    } B;
                            19331 ; 834  |    DWORD I;
                            19332 ; 835  |} endptctrl_type;
                            19333 ; 836  |//#define HW_ARC_ENDPTCTRL[n] (*(volatile usbintr_type _X*) (HW_ARC_BASEADDR+0x1c0+((n)*4)))    
                            19334 ; 837  |
                            19335 ; 838  |#endif
                            19336 ; 839  |
                            19337 ; 840  |
                            19338 
                            19340 
                            19341 ; 37   |#include "regsusb20phy.h"
                            19342 
                            19344 
                            19345 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19346 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2005
                            19347 ; 3    |//;  File        : regsusbphy.inc
                            19348 ; 4    |//;  Description : USB20 PHY Register definition
                            19349 ; 5    |//;  Updated 2.23.2003 By M. Henson
                            19350 ; 6    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19351 ; 7    |
                            19352 ; 8    |// The following naming conventions are followed in this file.
                            19353 ; 9    |// All registers are named using the format...
                            19354 ; 10   |//     HW_<module>_<regname>
                            19355 ; 11   |// where <module> is the module name which can be any of the following...
                            19356 ; 12   |//     USB20
                            19357 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            19358 ; 14   |// module name includes a number starting from 0 for the first instance of
                            19359 ; 15   |// that module)
                            19360 ; 16   |// <regname> is the specific register within that module
                            19361 ; 17   |// We also define the following...
                            19362 ; 18   |//     HW_<module>_<regname>_BITPOS
                            19363 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            19364 ; 20   |//     HW_<module>_<regname>_SETMASK
                            19365 ; 21   |// which does something else, and
                            19366 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            19367 ; 23   |// which does something else.
                            19368 ; 24   |// Other rules
                            19369 ; 25   |//     All caps
                            19370 ; 26   |//     Numeric identifiers start at 0
                            19371 ; 27   |
                            19372 ; 28   |#if !(defined(regsusbphyinc))
                            19373 ; 29   |#define regsusbphyinc 1
                            19374 ; 30   |
                            19375 ; 31   |#include "types.h"
                            19376 
                            19378 
                            19379 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            19380 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            19381 ; 3    |//
                            19382 ; 4    |// Filename: types.h
                            19383 ; 5    |// Description: Standard data types
                            19384 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            19385 ; 7    |
                            19386 ; 8    |#ifndef _TYPES_H
                            19387 ; 9    |#define _TYPES_H
                            19388 ; 10   |
                            19389 ; 11   |// TODO:  move this outta here!
                            19390 ; 12   |#if !defined(NOERROR)
                            19391 ; 13   |#define NOERROR 0
                            19392 ; 14   |#define SUCCESS 0
                            19393 ; 15   |#endif 
                            19394 ; 16   |#if !defined(SUCCESS)
                            19395 ; 17   |#define SUCCESS  0
                            19396 ; 18   |#endif
                            19397 ; 19   |#if !defined(ERROR)
                            19398 ; 20   |#define ERROR   -1
                            19399 ; 21   |#endif
                            19400 ; 22   |#if !defined(FALSE)
                            19401 ; 23   |#define FALSE 0
                            19402 ; 24   |#endif
                            19403 ; 25   |#if !defined(TRUE)
                            19404 ; 26   |#define TRUE  1
                            19405 ; 27   |#endif
                            19406 ; 28   |
                            19407 ; 29   |#if !defined(NULL)
                            19408 ; 30   |#define NULL 0
                            19409 ; 31   |#endif
                            19410 ; 32   |
                            19411 ; 33   |#define MAX_INT     0x7FFFFF
                            19412 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            19413 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            19414 ; 36   |#define MAX_ULONG   (-1) 
                            19415 ; 37   |
                            19416 ; 38   |#define WORD_SIZE   24              // word size in bits
                            19417 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            19418 ; 40   |
                            19419 ; 41   |
                            19420 ; 42   |#define BYTE    unsigned char       // btVarName
                            19421 ; 43   |#define CHAR    signed char         // cVarName
                            19422 ; 44   |#define USHORT  unsigned short      // usVarName
                            19423 ; 45   |#define SHORT   unsigned short      // sVarName
                            19424 ; 46   |#define WORD    unsigned int        // wVarName
                            19425 ; 47   |#define INT     signed int          // iVarName
                            19426 ; 48   |#define DWORD   unsigned long       // dwVarName
                            19427 ; 49   |#define LONG    signed long         // lVarName
                            19428 ; 50   |#define BOOL    unsigned int        // bVarName
                            19429 ; 51   |#define FRACT   _fract              // frVarName
                            19430 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            19431 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            19432 ; 54   |#define FLOAT   float               // fVarName
                            19433 ; 55   |#define DBL     double              // dVarName
                            19434 ; 56   |#define ENUM    enum                // eVarName
                            19435 ; 57   |#define CMX     _complex            // cmxVarName
                            19436 ; 58   |typedef WORD UCS3;                   // 
                            19437 ; 59   |
                            19438 ; 60   |#define UINT16  unsigned short
                            19439 ; 61   |#define UINT8   unsigned char   
                            19440 ; 62   |#define UINT32  unsigned long
                            19441 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            19442 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            19443 ; 65   |#define WCHAR   UINT16
                            19444 ; 66   |
                            19445 ; 67   |//UINT128 is 16 bytes or 6 words
                            19446 ; 68   |typedef struct UINT128_3500 {   
                            19447 ; 69   |    int val[6];     
                            19448 ; 70   |} UINT128_3500;
                            19449 ; 71   |
                            19450 ; 72   |#define UINT128   UINT128_3500
                            19451 ; 73   |
                            19452 ; 74   |// Little endian word packed byte strings:   
                            19453 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            19454 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            19455 ; 77   |// Little endian word packed byte strings:   
                            19456 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            19457 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            19458 ; 80   |
                            19459 ; 81   |// Declare Memory Spaces To Use When Coding
                            19460 ; 82   |// A. Sector Buffers
                            19461 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            19462 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            19463 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            19464 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            19465 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            19466 ; 88   |// B. Media DDI Memory
                            19467 ; 89   |#define MEDIA_DDI_MEM _Y
                            19468 ; 90   |
                            19469 ; 91   |
                            19470 ; 92   |
                            19471 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            19472 ; 94   |// Examples of circular pointers:
                            19473 ; 95   |//    INT CIRC cpiVarName
                            19474 ; 96   |//    DWORD CIRC cpdwVarName
                            19475 ; 97   |
                            19476 ; 98   |#define RETCODE INT                 // rcVarName
                            19477 ; 99   |
                            19478 ; 100  |// generic bitfield structure
                            19479 ; 101  |struct Bitfield {
                            19480 ; 102  |    unsigned int B0  :1;
                            19481 ; 103  |    unsigned int B1  :1;
                            19482 ; 104  |    unsigned int B2  :1;
                            19483 ; 105  |    unsigned int B3  :1;
                            19484 ; 106  |    unsigned int B4  :1;
                            19485 ; 107  |    unsigned int B5  :1;
                            19486 ; 108  |    unsigned int B6  :1;
                            19487 ; 109  |    unsigned int B7  :1;
                            19488 ; 110  |    unsigned int B8  :1;
                            19489 ; 111  |    unsigned int B9  :1;
                            19490 ; 112  |    unsigned int B10 :1;
                            19491 ; 113  |    unsigned int B11 :1;
                            19492 ; 114  |    unsigned int B12 :1;
                            19493 ; 115  |    unsigned int B13 :1;
                            19494 ; 116  |    unsigned int B14 :1;
                            19495 ; 117  |    unsigned int B15 :1;
                            19496 ; 118  |    unsigned int B16 :1;
                            19497 ; 119  |    unsigned int B17 :1;
                            19498 ; 120  |    unsigned int B18 :1;
                            19499 ; 121  |    unsigned int B19 :1;
                            19500 ; 122  |    unsigned int B20 :1;
                            19501 ; 123  |    unsigned int B21 :1;
                            19502 ; 124  |    unsigned int B22 :1;
                            19503 ; 125  |    unsigned int B23 :1;
                            19504 ; 126  |};
                            19505 ; 127  |
                            19506 ; 128  |union BitInt {
                            19507 ; 129  |        struct Bitfield B;
                            19508 ; 130  |        int        I;
                            19509 ; 131  |};
                            19510 ; 132  |
                            19511 ; 133  |#define MAX_MSG_LENGTH 10
                            19512 ; 134  |struct CMessage
                            19513 ; 135  |{
                            19514 ; 136  |        unsigned int m_uLength;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  78

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19515 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            19516 ; 138  |};
                            19517 ; 139  |
                            19518 ; 140  |typedef struct {
                            19519 ; 141  |    WORD m_wLength;
                            19520 ; 142  |    WORD m_wMessage;
                            19521 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            19522 ; 144  |} Message;
                            19523 ; 145  |
                            19524 ; 146  |struct MessageQueueDescriptor
                            19525 ; 147  |{
                            19526 ; 148  |        int *m_pBase;
                            19527 ; 149  |        int m_iModulo;
                            19528 ; 150  |        int m_iSize;
                            19529 ; 151  |        int *m_pHead;
                            19530 ; 152  |        int *m_pTail;
                            19531 ; 153  |};
                            19532 ; 154  |
                            19533 ; 155  |struct ModuleEntry
                            19534 ; 156  |{
                            19535 ; 157  |    int m_iSignaledEventMask;
                            19536 ; 158  |    int m_iWaitEventMask;
                            19537 ; 159  |    int m_iResourceOfCode;
                            19538 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            19539 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            19540 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            19541 ; 163  |    int m_uTimeOutHigh;
                            19542 ; 164  |    int m_uTimeOutLow;
                            19543 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            19544 ; 166  |};
                            19545 ; 167  |
                            19546 ; 168  |union WaitMask{
                            19547 ; 169  |    struct B{
                            19548 ; 170  |        unsigned int m_bNone     :1;
                            19549 ; 171  |        unsigned int m_bMessage  :1;
                            19550 ; 172  |        unsigned int m_bTimer    :1;
                            19551 ; 173  |        unsigned int m_bButton   :1;
                            19552 ; 174  |    } B;
                            19553 ; 175  |    int I;
                            19554 ; 176  |} ;
                            19555 ; 177  |
                            19556 ; 178  |
                            19557 ; 179  |struct Button {
                            19558 ; 180  |        WORD wButtonEvent;
                            19559 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            19560 ; 182  |};
                            19561 ; 183  |
                            19562 ; 184  |struct Message {
                            19563 ; 185  |        WORD wMsgLength;
                            19564 ; 186  |        WORD wMsgCommand;
                            19565 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            19566 ; 188  |};
                            19567 ; 189  |
                            19568 ; 190  |union EventTypes {
                            19569 ; 191  |        struct CMessage msg;
                            19570 ; 192  |        struct Button Button ;
                            19571 ; 193  |        struct Message Message;
                            19572 ; 194  |};
                            19573 ; 195  |
                            19574 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            19575 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            19576 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            19577 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            19578 ; 200  |
                            19579 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            19580 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            19581 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            19582 ; 204  |
                            19583 ; 205  |#if DEBUG
                            19584 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            19585 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            19586 ; 208  |#else 
                            19587 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            19588 ; 210  |#define DebugBuildAssert(x)    
                            19589 ; 211  |#endif
                            19590 ; 212  |
                            19591 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            19592 ; 214  |//  #pragma asm
                            19593 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            19594 ; 216  |//  #pragma endasm
                            19595 ; 217  |
                            19596 ; 218  |
                            19597 ; 219  |#ifdef COLOR_262K
                            19598 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            19599 ; 221  |#elif defined(COLOR_65K)
                            19600 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            19601 ; 223  |#else
                            19602 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            19603 ; 225  |#endif
                            19604 ; 226  |    
                            19605 ; 227  |#endif // #ifndef _TYPES_H
                            19606 
                            19608 
                            19609 ; 32   |
                            19610 ; 33   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19611 ; 34   |//   USB2.0 PHY STMP Registers 
                            19612 ; 35   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19613 ; 36   |#define HW_USBPHY_BASEADDR (0xF210)
                            19614 ; 37   |
                            19615 ; 38   |
                            19616 ; 39   |/////////////////////////////////////////////////////////////////////////////////
                            19617 ; 40   |//  USB PHY Powerdown Register (HW_USBPHYPWD) Bit Definitions
                            19618 ; 41   |
                            19619 ; 42   |#define HW_USBPHYPWD_TXDISCON1500_BITPOS (5)
                            19620 ; 43   |#define HW_USBPHYPWD_PLLVCOPWD_BITPOS (6)
                            19621 ; 44   |#define HW_USBPHYPWD_PLLVCPPWD_BITPOS (7)
                            19622 ; 45   |#define HW_USBPHYPWD_TXPWDFS_BITPOS (10)
                            19623 ; 46   |#define HW_USBPHYPWD_TXPWDIBIAS_BITPOS (11)
                            19624 ; 47   |#define HW_USBPHYPWD_TXPWDV2I_BITPOS (12)
                            19625 ; 48   |#define HW_USBPHYPWD_TXPWDVBG_BITPOS (13)
                            19626 ; 49   |#define HW_USBPHYPWD_TXPWDCOMP_BITPOS (14)
                            19627 ; 50   |#define HW_USBPHYPWD_RXPWDDISCONDET_BITPOS (16)
                            19628 ; 51   |#define HW_USBPHYPWD_RXPWDENV_BITPOS (17)
                            19629 ; 52   |#define HW_USBPHYPWD_RXPWD1PT1_BITPOS (18)
                            19630 ; 53   |#define HW_USBPHYPWD_RXPWDDIFF_BITPOS (19)
                            19631 ; 54   |#define HW_USBPHYPWD_RXPWDRX_BITPOS (20)
                            19632 ; 55   |#define HW_USBPHYPWD_PWDIBIAS_BITPOS (22)
                            19633 ; 56   |#define HW_USBPHYPWD_REGRESET_BITPOS (23)
                            19634 ; 57   |
                            19635 ; 58   |#define HW_USBPHYPWD_TXDISCON1500_SETMASK (1<<HW_USBPHYPWD_TXDISCON1500_BITPOS)
                            19636 ; 59   |#define HW_USBPHYPWD_PLLVCOPWD_SETMASK (1<<HW_USBPHYPWD_PLLVCOPWD_BITPOS)
                            19637 ; 60   |#define HW_USBPHYPWD_PLLVCPPWD_SETMASK (1<<HW_USBPHYPWD_PLLVCPPWD_BITPOS)
                            19638 ; 61   |#define HW_USBPHYPWD_TXPWDFS_SETMASK (1<<HW_USBPHYPWD_TXPWDFS_BITPOS)
                            19639 ; 62   |#define HW_USBPHYPWD_TXPWDIBIAS_SETMASK (1<<HW_USBPHYPWD_TXPWDIBIAS_BITPOS)
                            19640 ; 63   |#define HW_USBPHYPWD_TXPWDV2I_SETMASK (1<<HW_USBPHYPWD_TXPWDV2I_BITPOS)
                            19641 ; 64   |#define HW_USBPHYPWD_TXPWDVBG_SETMASK (1<<HW_USBPHYPWD_TXPWDVBG_BITPOS)
                            19642 ; 65   |#define HW_USBPHYPWD_TXPWDCOMP_SETMASK (1<<HW_USBPHYPWD_TXPWDCOMP_BITPOS)
                            19643 ; 66   |#define HW_USBPHYPWD_RXPWDDISCONDET_SETMASK (1<<HW_USBPHYPWD_RXPWDDISCONDET_BITPOS)
                            19644 ; 67   |#define HW_USBPHYPWD_RXPWDENV_SETMASK (1<<HW_USBPHYPWD_RXPWDENV_BITPOS)
                            19645 ; 68   |#define HW_USBPHYPWD_RXPWD1PT1_SETMASK (1<<HW_USBPHYPWD_RXPWD1PT1_BITPOS)
                            19646 ; 69   |#define HW_USBPHYPWD_RXPWDDIFF_SETMASK (1<<HW_USBPHYPWD_RXPWDDIFF_BITPOS)
                            19647 ; 70   |#define HW_USBPHYPWD_RXPWDRX_SETMASK (1<<HW_USBPHYPWD_RXPWDRX_BITPOS)
                            19648 ; 71   |#define HW_USBPHYPWD_PWDIBIAS_SETMASK (1<<HW_USBPHYPWD_PWDIBIAS_BITPOS)
                            19649 ; 72   |#define HW_USBPHYPWD_REGRESET_SETMASK (1<<HW_USBPHYPWD_REGRESET_BITPOS)
                            19650 ; 73   |
                            19651 ; 74   |#define HW_USBPHYPWD_TXDISCON1500_CLRMASK (~(WORD)HW_USBPHYPWD_TXDISCON1500_SETMASK)
                            19652 ; 75   |#define HW_USBPHYPWD_PLLVCOPWD_CLRMASK (~(WORD)HW_USBPHYPWD_PLLVCOPWD_SETMASK)
                            19653 ; 76   |#define HW_USBPHYPWD_PLLVCPPWD_CLRMASK (~(WORD)HW_USBPHYPWD_PLLVCPPWD_SETMASK)
                            19654 ; 77   |#define HW_USBPHYPWD_TXPWDFS_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDFS_SETMASK)
                            19655 ; 78   |#define HW_USBPHYPWD_TXPWDIBIAS_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDIBIAS_SETMASK)
                            19656 ; 79   |#define HW_USBPHYPWD_TXPWDV2I_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDV2I_SETMASK)
                            19657 ; 80   |#define HW_USBPHYPWD_TXPWDVBG_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDVBG_SETMASK)
                            19658 ; 81   |#define HW_USBPHYPWD_TXPWDCOMP_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDCOMP_SETMASK)
                            19659 ; 82   |#define HW_USBPHYPWD_RXPWDDISCONDET_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDDISCONDET_SETMASK)
                            19660 ; 83   |#define HW_USBPHYPWD_RXPWDENV_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDENV_SETMASK)
                            19661 ; 84   |#define HW_USBPHYPWD_RXPWD1PT1_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWD1PT1_SETMASK)
                            19662 ; 85   |#define HW_USBPHYPWD_RXPWDDIFF_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDDIFF_SETMASK)
                            19663 ; 86   |#define HW_USBPHYPWD_RXPWDRX_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDRX_SETMASK)
                            19664 ; 87   |#define HW_USBPHYPWD_PWDIBIAS_CLRMASK (~(WORD)HW_USBPHYPWD_PWDIBIAS_SETMASK)
                            19665 ; 88   |#define HW_USBPHYPWD_REGRESET_CLRMASK (~(WORD)HW_USBPHYPWD_REGRESET_SETMASK)
                            19666 ; 89   |
                            19667 ; 90   |typedef union               
                            19668 ; 91   |{
                            19669 ; 92   |    struct {
                            19670 ; 93   |        int RSVD0          :5;
                            19671 ; 94   |        int TXDISCON1500   :1;
                            19672 ; 95   |        int PLLVCOPWD      :1;
                            19673 ; 96   |        int PLLVCPPWD      :1;
                            19674 ; 97   |        int RSVD1          :2;
                            19675 ; 98   |        int TXPWDFS        :1;
                            19676 ; 99   |        int TXPWDIBIAS     :1;
                            19677 ; 100  |        int TXPWDV2I       :1;
                            19678 ; 101  |        int TXPWDVBG       :1;
                            19679 ; 102  |        int TXPWDCOMP      :1;
                            19680 ; 103  |        int RSVD2          :1;
                            19681 ; 104  |        int RXPWDDISCONDET :1;
                            19682 ; 105  |        int RXPWDENV       :1;
                            19683 ; 106  |        int RXPWD1PT1      :1;
                            19684 ; 107  |        int RXPWDDIFF      :1;
                            19685 ; 108  |        int RXPWDRX        :1;
                            19686 ; 109  |        int RSVD3          :1;
                            19687 ; 110  |        int PWDIBIAS       :1;
                            19688 ; 111  |        int REGRESET       :1;
                            19689 ; 112  |    } B;
                            19690 ; 113  |    int I;
                            19691 ; 114  |} usbphypwd_type;
                            19692 ; 115  |#define HW_USBPHYPWD      (*(volatile usbphypwd_type _X*) (HW_USBPHY_BASEADDR))    /* USB PHY Powerdown Register */
                            19693 ; 116  |
                            19694 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                            19695 ; 118  |//  USB PHY Transmit register (HW_USBPHYTX) Bit Definitions
                            19696 ; 119  |#define HW_USBPHYTX_TXCAL1500_BITPOS (0)
                            19697 ; 120  |#define HW_USBPHYTX_TXENCAL1500_BITPOS (5)
                            19698 ; 121  |#define HW_USBPHYTX_TXHSXCVR_BITPOS (6)
                            19699 ; 122  |#define HW_USBPHYTX_TXCALIBRATE_BITPOS (7)
                            19700 ; 123  |#define HW_USBPHYTX_TXCAL45DN_BITPOS (8)
                            19701 ; 124  |#define HW_USBPHYTX_TXENCAL45DN_BITPOS (13)
                            19702 ; 125  |#define HW_USBPHYTX_TXHSTERM_BITPOS (14)
                            19703 ; 126  |#define HW_USBPHYTX_TXSKEW_BITPOS (15)
                            19704 ; 127  |#define HW_USBPHYTX_TXCAL45DP_BITPOS (16)
                            19705 ; 128  |#define HW_USBPHYTX_TXENCAL45DP_BITPOS (21)
                            19706 ; 129  |#define HW_USBPHYTX_TXFSHIZ_BITPOS (22)
                            19707 ; 130  |#define HW_USBPHYTX_TXCOMPOUT_BITPOS (23)
                            19708 ; 131  |
                            19709 ; 132  |#define HW_USBPHYTX_TXCAL1500_WIDTH (4)
                            19710 ; 133  |#define HW_USBPHYTX_TXENCAL1500_WIDTH (1)
                            19711 ; 134  |#define HW_USBPHYTX_TXHSXCVR_WIDTH (1)
                            19712 ; 135  |#define HW_USBPHYTX_TXCALIBRATE_WIDTH (1)
                            19713 ; 136  |#define HW_USBPHYTX_TXCAL45DN_WIDTH (4)
                            19714 ; 137  |#define HW_USBPHYTX_TXENCAL45DN_WIDTH (1)
                            19715 ; 138  |#define HW_USBPHYTX_TXHSTERM_WIDTH (1)
                            19716 ; 139  |#define HW_USBPHYTX_TXSKEW_WIDTH (1)
                            19717 ; 140  |#define HW_USBPHYTX_TXCAL45DP_WIDTH (4)
                            19718 ; 141  |#define HW_USBPHYTX_TXENCAL45DP_WIDTH (1)
                            19719 ; 142  |#define HW_USBPHYTX_TXFSHIZ_WIDTH (1)
                            19720 ; 143  |#define HW_USBPHYTX_TXCOMPOUT_WIDTH (1)
                            19721 ; 144  |
                            19722 ; 145  |#define HW_USBPHYTX_TXCAL1500_SETMASK (((1<<HW_USBPHYTX_TXCAL1500_WIDTH)-1)<<HW_USBPHYTX_TXCAL1500_BITPOS)
                            19723 ; 146  |#define HW_USBPHYTX_TXENCAL1500_SETMASK (((1<<HW_USBPHYTX_TXENCAL1500_WIDTH)-1)<<HW_USBPHYTX_TXENCAL1500_BITPOS)
                            19724 ; 147  |#define HW_USBPHYTX_TXHSXCVR_SETMASK (((1<<HW_USBPHYTX_TXHSXCVR_WIDTH)-1)<<HW_USBPHYTX_TXHSXCVR_BITPOS)
                            19725 ; 148  |#define HW_USBPHYTX_TXCALIBRATE_SETMASK (((1<<HW_USBPHYTX_TXCALIBRATE_WIDTH)-1)<<HW_USBPHYTX_TXCALIBRATE_BITPOS)
                            19726 ; 149  |#define HW_USBPHYTX_TXCAL45DN_SETMASK (((1<<HW_USBPHYTX_TXCAL45DN_WIDTH)-1)<<HW_USBPHYTX_TXCAL45DN_BITPOS)
                            19727 ; 150  |#define HW_USBPHYTX_TXENCAL45DN_SETMASK (((1<<HW_USBPHYTX_TXENCAL45DN_WIDTH)-1)<<HW_USBPHYTX_TXENCAL45DN_BITPOS)
                            19728 ; 151  |#define HW_USBPHYTX_TXHSTERM_SETMASK (((1<<HW_USBPHYTX_TXHSTERM_WIDTH)-1)<<HW_USBPHYTX_TXHSTERM_BITPOS)
                            19729 ; 152  |#define HW_USBPHYTX_TXSKEW_SETMASK (((1<<HW_USBPHYTX_TXSKEW_WIDTH)-1)<<HW_USBPHYTX_TXSKEW_BITPOS)
                            19730 ; 153  |#define HW_USBPHYTX_TXCAL45DP_SETMASK (((1<<HW_USBPHYTX_TXCAL45DP_WIDTH)-1)<<HW_USBPHYTX_TXCAL45DP_BITPOS)
                            19731 ; 154  |#define HW_USBPHYTX_TXENCAL45DP_SETMASK (((1<<HW_USBPHYTX_TXENCAL45DP_WIDTH)-1)<<HW_USBPHYTX_TXENCAL45DP_BITPOS)
                            19732 ; 155  |#define HW_USBPHYTX_TXFSHIZ_SETMASK (((1<<HW_USBPHYTX_TXFSHIZ_WIDTH)-1)<<HW_USBPHYTX_TXFSHIZ_BITPOS)
                            19733 ; 156  |#define HW_USBPHYTX_TXCOMPOUT_SETMASK (((1<<HW_USBPHYTX_TXCOMPOUT_WIDTH)-1)<<HW_USBPHYTX_TXCOMPOUT_BITPOS)
                            19734 ; 157  |
                            19735 ; 158  |#define HW_USBPHYTX_TXCAL1500_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL1500_SETMASK)
                            19736 ; 159  |#define HW_USBPHYTX_TXENCAL1500_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL1500_SETMASK)
                            19737 ; 160  |#define HW_USBPHYTX_TXHSXCVR_CLRMASK (~(WORD)HW_USBPHYTX_TXHSXCVR_SETMASK)
                            19738 ; 161  |#define HW_USBPHYTX_TXCALIBRATE_CLRMASK (~(WORD)HW_USBPHYTX_TXCALIBRATE_SETMASK)
                            19739 ; 162  |#define HW_USBPHYTX_TXCAL45DN_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL45DN_SETMASK)
                            19740 ; 163  |#define HW_USBPHYTX_TXENCAL45DN_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL45DN_SETMASK)
                            19741 ; 164  |#define HW_USBPHYTX_TXHSTERM_CLRMASK (~(WORD)HW_USBPHYTX_TXHSTERM_SETMASK)
                            19742 ; 165  |#define HW_USBPHYTX_TXSKEW_CLRMASK (~(WORD)HW_USBPHYTX_TXSKEW_SETMASK)
                            19743 ; 166  |#define HW_USBPHYTX_TXCAL45DP_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL45DP_SETMASK)
                            19744 ; 167  |#define HW_USBPHYTX_TXENCAL45DP_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL45DP_SETMASK)
                            19745 ; 168  |#define HW_USBPHYTX_TXFSHIZ_CLRMASK (~(WORD)HW_USBPHYTX_TXFSHIZ_SETMASK)
                            19746 ; 169  |#define HW_USBPHYTX_TXCOMPOUT_CLRMASK (~(WORD)HW_USBPHYTX_TXCOMPOUT_SETMASK)
                            19747 ; 170  |
                            19748 ; 171  |typedef union               
                            19749 ; 172  |{
                            19750 ; 173  |    struct {
                            19751 ; 174  |        int TXCAL1500          :4;
                            19752 ; 175  |        int RSVD0              :1;
                            19753 ; 176  |        int TXENCAL1500        :1;
                            19754 ; 177  |        int TXHSXCVR           :1;
                            19755 ; 178  |        int TXCALIBRATE        :1;
                            19756 ; 179  |        int TXCAL45DN          :4;
                            19757 ; 180  |        int RSVD1              :1;
                            19758 ; 181  |        int TXENCAL45DN        :1;
                            19759 ; 182  |        int TXHSTERM           :1;
                            19760 ; 183  |        int TXSKEW             :1;
                            19761 ; 184  |        int TXCAL45DP          :4;
                            19762 ; 185  |        int RSVD2              :1;
                            19763 ; 186  |        int TXENCAL45DP        :1;
                            19764 ; 187  |        int TXFSHIZ            :1;
                            19765 ; 188  |        int TXCOMPOUT          :1;
                            19766 ; 189  |    } B;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  79

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19767 ; 190  |    int I;
                            19768 ; 191  |} usbphytx_type;
                            19769 ; 192  |#define HW_USBPHYTX      (*(volatile usbphytx_type _X*) (HW_USBPHY_BASEADDR+1))    
                            19770 ; 193  |
                            19771 ; 194  |/////////////////////////////////////////////////////////////////////////////////
                            19772 ; 195  |//  USB PHY PLL register (HW_USBPHYPLL) Bit Definitions
                            19773 ; 196  |#define HW_USBPHYPLL_PLLV2ISEL_BITPOS (0)
                            19774 ; 197  |#define HW_USBPHYPLL_PLLCPDBLIP_BITPOS (5)
                            19775 ; 198  |#define HW_USBPHYPLL_PLLVCOCLK2_BITPOS (6)
                            19776 ; 199  |#define HW_USBPHYPLL_PLLVCOCLK24_BITPOS (7)
                            19777 ; 200  |#define HW_USBPHYPLL_PLLCPNSEL_BITPOS (8)
                            19778 ; 201  |#define HW_USBPHYPLL_PLLCLKDIVSEL_BITPOS (12)
                            19779 ; 202  |#define HW_USBPHYPLL_PLLPFDRST_BITPOS (20)
                            19780 ; 203  |#define HW_USBPHYPLL_PLLCPSHORTLFR_BITPOS (21)
                            19781 ; 204  |#define HW_USBPHYPLL_PLLVCOKSTART_BITPOS (22)
                            19782 ; 205  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_BITPOS (23)
                            19783 ; 206  |
                            19784 ; 207  |#define HW_USBPHYPLL_PLLV2ISEL_WIDTH (4)
                            19785 ; 208  |#define HW_USBPHYPLL_PLLCPDBLIP_WIDTH (1)
                            19786 ; 209  |#define HW_USBPHYPLL_PLLVCOCLK2_WIDTH (1)
                            19787 ; 210  |#define HW_USBPHYPLL_PLLVCOCLK24_WIDTH (1)
                            19788 ; 211  |#define HW_USBPHYPLL_PLLCPNSEL_WIDTH (4)
                            19789 ; 212  |#define HW_USBPHYPLL_PLLCLKDIVSEL_WIDTH (4)
                            19790 ; 213  |#define HW_USBPHYPLL_PLLPFDRST_WIDTH (1)
                            19791 ; 214  |#define HW_USBPHYPLL_PLLCPSHORTLFR_WIDTH (1)
                            19792 ; 215  |#define HW_USBPHYPLL_PLLVCOKSTART_WIDTH (1)
                            19793 ; 216  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_WIDTH (1)
                            19794 ; 217  |
                            19795 ; 218  |#define HW_USBPHYPLL_PLLV2ISEL_SETMASK (((1<<HW_USBPHYPLL_PLLV2ISEL_WIDTH)-1)<<HW_USBPHYPLL_PLLV2ISEL_BITPOS)
                            19796 ; 219  |#define HW_USBPHYPLL_PLLCPDBLIP_SETMASK (((1<<HW_USBPHYPLL_PLLCPDBLIP_WIDTH)-1)<<HW_USBPHYPLL_PLLCPDBLIP_BITPOS)
                            19797 ; 220  |#define HW_USBPHYPLL_PLLVCOCLK2_SETMASK (((1<<HW_USBPHYPLL_PLLVCOCLK2_WIDTH)-1)<<HW_USBPHYPLL_PLLVCOCLK2_BITPOS)
                            19798 ; 221  |#define HW_USBPHYPLL_PLLVCOCLK24_SETMASK (((1<<HW_USBPHYPLL_PLLVCOCLK24_WIDTH)-1)<<HW_USBPHYPLL_PLLVCOCLK24_BITPOS)
                            19799 ; 222  |#define HW_USBPHYPLL_PLLCPNSEL_SETMASK (((1<<HW_USBPHYPLL_PLLCPNSEL_WIDTH)-1)<<HW_USBPHYPLL_PLLCPNSEL_BITPOS)
                            19800 ; 223  |#define HW_USBPHYPLL_PLLCLKDIVSEL_SETMASK (((1<<HW_USBPHYPLL_PLLCLKDIVSEL_WIDTH)-1)<<HW_USBPHYPLL_PLLCLKDIVSEL_BITPOS)
                            19801 ; 224  |#define HW_USBPHYPLL_PLLPFDRST_SETMASK (((1<<HW_USBPHYPLL_PLLPFDRST_WIDTH)-1)<<HW_USBPHYPLL_PLLPFDRST_BITPOS)
                            19802 ; 225  |#define HW_USBPHYPLL_PLLCPSHORTLFR_SETMASK (((1<<HW_USBPHYPLL_PLLCPSHORTLFR_WIDTH)-1)<<HW_USBPHYPLL_PLLCPSHORTLFR_BITPOS)
                            19803 ; 226  |#define HW_USBPHYPLL_PLLVCOKSTART_SETMASK (((1<<HW_USBPHYPLL_PLLVCOKSTART_WIDTH)-1)<<HW_USBPHYPLL_PLLVCOKSTART_BITPOS)
                            19804 ; 227  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_SETMASK (((1<<HW_USBPHYPLL_PLLCLKDIVRSTZ_WIDTH)-1)<<HW_USBPHYPLL_PLLCLKDIVRSTZ_BITPOS)
                            19805 ; 228  |
                            19806 ; 229  |#define HW_USBPHYPLL_PLLV2ISEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLV2ISEL_SETMASK)
                            19807 ; 230  |#define HW_USBPHYPLL_PLLCPDBLIP_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPDBLIP_SETMASK)
                            19808 ; 231  |#define HW_USBPHYPLL_PLLVCOCLK2_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOCLK2_SETMASK)
                            19809 ; 232  |#define HW_USBPHYPLL_PLLVCOCLK24_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOCLK24_SETMASK)
                            19810 ; 233  |#define HW_USBPHYPLL_PLLCPNSEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPNSEL_SETMASK)
                            19811 ; 234  |#define HW_USBPHYPLL_PLLCLKDIVSEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCLKDIVSEL_SETMASK)
                            19812 ; 235  |#define HW_USBPHYPLL_PLLPFDRST_CLRMASK (~(WORD)HW_USBPHYPLL_PLLPFDRST_SETMASK)
                            19813 ; 236  |#define HW_USBPHYPLL_PLLCPSHORTLFR_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPSHORTLFR_SETMASK)
                            19814 ; 237  |#define HW_USBPHYPLL_PLLVCOKSTART_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOKSTART_SETMASK)
                            19815 ; 238  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCLKDIVRSTZ_SETMASK)
                            19816 ; 239  |
                            19817 ; 240  |typedef union               
                            19818 ; 241  |{
                            19819 ; 242  |    struct {
                            19820 ; 243  |        int PLLV2ISEL        :4;
                            19821 ; 244  |        int RSVD0            :1;
                            19822 ; 245  |        int PLLCPDBLIP       :1;
                            19823 ; 246  |        int PLLVCOCLK2       :1;
                            19824 ; 247  |        int PLLVCOCLK24      :1;
                            19825 ; 248  |        int PLLCPNSEL        :4;
                            19826 ; 249  |        int PLLCLKDIVSEL     :4;
                            19827 ; 250  |        int RSVD1            :4;
                            19828 ; 251  |        int PLLPFDRST        :1;
                            19829 ; 252  |        int PLLCPSHORTLFR    :1;
                            19830 ; 253  |        int PLLVCOKSTART     :1;
                            19831 ; 254  |        int PLLCLKDIVRSTZ    :1;
                            19832 ; 255  |    } B;
                            19833 ; 256  |    int I;
                            19834 ; 257  |} usbphypll_type;
                            19835 ; 258  |#define HW_USBPHYPLL      (*(volatile usbphypll_type _X*) (HW_USBPHY_BASEADDR+2))    
                            19836 ; 259  |
                            19837 ; 260  |/////////////////////////////////////////////////////////////////////////////////
                            19838 ; 261  |//  USB PHY PLL register (HW_USBPHYRX) Bit Definitions
                            19839 ; 262  |#define HW_USBRX_ENVADJ_BITPOS (0)
                            19840 ; 263  |#define HW_USBRX_DISCONADJ_BITPOS (4)
                            19841 ; 264  |#define HW_USBRX_DEBUGMODE_BITPOS (8)
                            19842 ; 265  |#define HW_USBRX_PLLLKTIMECTL_BITPOS (12)
                            19843 ; 266  |#define HW_USBRX_PLLCKDIVCTL_BITPOS (16)
                            19844 ; 267  |#define HW_USBRX_HOSTMODETEST_BITPOS (20)
                            19845 ; 268  |#define HW_USBRX_FSCKSOURCESEL_BITPOS (21)
                            19846 ; 269  |#define HW_USBRX_REGRXDBYPASS_BITPOS (22)
                            19847 ; 270  |#define HW_USBRX_PLLLOCKED_BITPOS (23)
                            19848 ; 271  |
                            19849 ; 272  |#define HW_USBRX_ENVADJ_WIDTH (4)
                            19850 ; 273  |#define HW_USBRX_DISCONADJ_WIDTH (4)
                            19851 ; 274  |#define HW_USBRX_DEBUGMODE_WIDTH (4)
                            19852 ; 275  |#define HW_USBRX_PLLLKTIMECTL_WIDTH (4)
                            19853 ; 276  |#define HW_USBRX_PLLCKDIVCTL_WIDTH (4)
                            19854 ; 277  |#define HW_USBRX_HOSTMODETEST_WIDTH (1)
                            19855 ; 278  |#define HW_USBRX_FSCKSOURCESEL_WIDTH (1)
                            19856 ; 279  |#define HW_USBRX_REGRXDBYPASS_WIDTH (1)
                            19857 ; 280  |#define HW_USBRX_PLLLOCKED_WIDTH (1)
                            19858 ; 281  |
                            19859 ; 282  |#define HW_USBRX_ENVADJ_SETMASK (((1<<HW_USBRX_ENVADJ_WIDTH)-1)<<HW_USBRX_ENVADJ_BITPOS)
                            19860 ; 283  |#define HW_USBRX_DISCONADJ_SETMASK (((1<<HW_USBRX_DISCONADJ_WIDTH)-1)<<HW_USBRX_DISCONADJ_BITPOS)
                            19861 ; 284  |#define HW_USBRX_DEBUGMODE_SETMASK (((1<<HW_USBRX_DEBUGMODE_WIDTH)-1)<<HW_USBRX_DEBUGMODE_BITPOS)
                            19862 ; 285  |#define HW_USBRX_PLLLKTIMECTL_SETMASK (((1<<HW_USBRX_PLLLKTIMECTL_WIDTH)-1)<<HW_USBRX_PLLLKTIMECTL_BITPOS)
                            19863 ; 286  |#define HW_USBRX_PLLCKDIVCTL_SETMASK (((1<<HW_USBRX_PLLCKDIVCTL_WIDTH)-1)<<HW_USBRX_PLLCKDIVCTL_BITPOS)
                            19864 ; 287  |// 480 MHz PLL is divided by named number here. Setmask divider field nibble of 7 gives actual divider of 8 and so on. (8 gives 9, 9 gives 10)
                            19865 ; 288  |//              480Mhz/7 =68.57Mhz
                            19866 ; 289  |#define HW_USBPHYRX_PLLDIV_BY_7 0x060000
                            19867 ; 290  |
                            19868 ; 291  |//              480Mhz/8 ~60Mhz
                            19869 ; 292  |#define HW_USBPHYRX_PLLDIV_BY_8 0x070000
                            19870 ; 293  |
                            19871 ; 294  |//              480Mhz/9 =53.3Mhz
                            19872 ; 295  |#define HW_USBPHYRX_PLLDIV_BY_9 0x080000
                            19873 ; 296  |
                            19874 ; 297  |//              480Mhz/10 =48Mhz
                            19875 ; 298  |#define HW_USBPHYRX_PLLDIV_BY_10 0x090000
                            19876 ; 299  |
                            19877 ; 300  |
                            19878 ; 301  |#define HW_USBRX_HOSTMODETEST_SETMASK (((1<<HW_USBRX_HOSTMODETEST_WIDTH)-1)<<HW_USBRX_HOSTMODETEST_BITPOS)
                            19879 ; 302  |#define HW_USBRX_FSCKSOURCESEL_SETMASK (((1<<HW_USBRX_FSCKSOURCESEL_WIDTH)-1)<<HW_USBRX_FSCKSOURCESEL_BITPOS)
                            19880 ; 303  |#define HW_USBRX_REGRXDBYPASS_SETMASK (((1<<HW_USBRX_REGRXDBYPASS_WIDTH)-1)<<HW_USBRX_REGRXDBYPASS_BITPOS)
                            19881 ; 304  |#define HW_USBRX_PLLLOCKED_SETMASK (((1<<HW_USBRX_PLLLOCKED_WIDTH)-1)<<HW_USBRX_PLLLOCKED_BITPOS)
                            19882 ; 305  |
                            19883 ; 306  |#define HW_USBRX_ENVADJ_CLRMASK (~(WORD)HW_USBRX_ENVADJ_SETMASK)
                            19884 ; 307  |#define HW_USBRX_DISCONADJ_CLRMASK (~(WORD)HW_USBRX_DISCONADJ_SETMASK)
                            19885 ; 308  |#define HW_USBRX_DEBUGMODE_CLRMASK (~(WORD)HW_USBRX_DEBUGMODE_SETMASK)
                            19886 ; 309  |#define HW_USBRX_PLLLKTIMECTL_CLRMASK (~(WORD)HW_USBRX_PLLLKTIMECTL_SETMASK)
                            19887 ; 310  |#define HW_USBRX_PLLCKDIVCTL_CLRMASK (~(WORD)HW_USBRX_PLLCKDIVCTL_SETMASK)
                            19888 ; 311  |#define HW_USBRX_HOSTMODETEST_CLRMASK (~(WORD)HW_USBRX_HOSTMODETEST_SETMASK)
                            19889 ; 312  |#define HW_USBRX_FSCKSOURCESEL_CLRMASK (~(WORD)HW_USBRX_FSCKSOURCESEL_SETMASK)
                            19890 ; 313  |#define HW_USBRX_REGRXDBYPASS_CLRMASK (~(WORD)HW_USBRX_REGRXDBYPASS_SETMASK)
                            19891 ; 314  |#define HW_USBRX_PLLLOCKED_CLRMASK (~(WORD)HW_USBRX_PLLLOCKED_SETMASK)
                            19892 ; 315  |
                            19893 ; 316  |typedef union               
                            19894 ; 317  |{
                            19895 ; 318  |    struct {
                            19896 ; 319  |     int ENVADJ               :4;
                            19897 ; 320  |     int DISCONADJ            :4;
                            19898 ; 321  |     int DEBUGMODE            :4;
                            19899 ; 322  |     int PLLLKTIMECTL         :4;
                            19900 ; 323  |     int PLLCKDIVCTL          :4;
                            19901 ; 324  |     int HOSTMODETEST         :1;
                            19902 ; 325  |     int FSCKSOURCESEL        :1;
                            19903 ; 326  |     int REGRXDBYPASS         :1;
                            19904 ; 327  |     int PLLLOCKED            :1;
                            19905 ; 328  |    } B;
                            19906 ; 329  |    int I;
                            19907 ; 330  |} usbphyrx_type;
                            19908 ; 331  |#define HW_USBPHYRX      (*(volatile usbphyrx_type _X*) (HW_USBPHY_BASEADDR+3))    
                            19909 ; 332  |
                            19910 ; 333  |#endif
                            19911 ; 334  |
                            19912 
                            19914 
                            19915 ; 38   |
                            19916 ; 39   |
                            19917 ; 40   |#endif // if (!@def(hwequ))
                            19918 ; 41   |
                            19919 
                            19921 
                            19922 ; 19   |#include "musicmenu.h"
                            19923 
                            19925 
                            19926 ; 1    |#ifndef _MUSIC_MENU_H
                            19927 ; 2    |#define _MUSIC_MENU_H
                            19928 ; 3    |
                            19929 ; 4    |#include "types.h"
                            19930 
                            19932 
                            19933 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            19934 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            19935 ; 3    |//
                            19936 ; 4    |// Filename: types.h
                            19937 ; 5    |// Description: Standard data types
                            19938 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            19939 ; 7    |
                            19940 ; 8    |#ifndef _TYPES_H
                            19941 ; 9    |#define _TYPES_H
                            19942 ; 10   |
                            19943 ; 11   |// TODO:  move this outta here!
                            19944 ; 12   |#if !defined(NOERROR)
                            19945 ; 13   |#define NOERROR 0
                            19946 ; 14   |#define SUCCESS 0
                            19947 ; 15   |#endif 
                            19948 ; 16   |#if !defined(SUCCESS)
                            19949 ; 17   |#define SUCCESS  0
                            19950 ; 18   |#endif
                            19951 ; 19   |#if !defined(ERROR)
                            19952 ; 20   |#define ERROR   -1
                            19953 ; 21   |#endif
                            19954 ; 22   |#if !defined(FALSE)
                            19955 ; 23   |#define FALSE 0
                            19956 ; 24   |#endif
                            19957 ; 25   |#if !defined(TRUE)
                            19958 ; 26   |#define TRUE  1
                            19959 ; 27   |#endif
                            19960 ; 28   |
                            19961 ; 29   |#if !defined(NULL)
                            19962 ; 30   |#define NULL 0
                            19963 ; 31   |#endif
                            19964 ; 32   |
                            19965 ; 33   |#define MAX_INT     0x7FFFFF
                            19966 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            19967 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            19968 ; 36   |#define MAX_ULONG   (-1) 
                            19969 ; 37   |
                            19970 ; 38   |#define WORD_SIZE   24              // word size in bits
                            19971 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            19972 ; 40   |
                            19973 ; 41   |
                            19974 ; 42   |#define BYTE    unsigned char       // btVarName
                            19975 ; 43   |#define CHAR    signed char         // cVarName
                            19976 ; 44   |#define USHORT  unsigned short      // usVarName
                            19977 ; 45   |#define SHORT   unsigned short      // sVarName
                            19978 ; 46   |#define WORD    unsigned int        // wVarName
                            19979 ; 47   |#define INT     signed int          // iVarName
                            19980 ; 48   |#define DWORD   unsigned long       // dwVarName
                            19981 ; 49   |#define LONG    signed long         // lVarName
                            19982 ; 50   |#define BOOL    unsigned int        // bVarName
                            19983 ; 51   |#define FRACT   _fract              // frVarName
                            19984 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            19985 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            19986 ; 54   |#define FLOAT   float               // fVarName
                            19987 ; 55   |#define DBL     double              // dVarName
                            19988 ; 56   |#define ENUM    enum                // eVarName
                            19989 ; 57   |#define CMX     _complex            // cmxVarName
                            19990 ; 58   |typedef WORD UCS3;                   // 
                            19991 ; 59   |
                            19992 ; 60   |#define UINT16  unsigned short
                            19993 ; 61   |#define UINT8   unsigned char   
                            19994 ; 62   |#define UINT32  unsigned long
                            19995 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            19996 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            19997 ; 65   |#define WCHAR   UINT16
                            19998 ; 66   |
                            19999 ; 67   |//UINT128 is 16 bytes or 6 words
                            20000 ; 68   |typedef struct UINT128_3500 {   
                            20001 ; 69   |    int val[6];     
                            20002 ; 70   |} UINT128_3500;
                            20003 ; 71   |
                            20004 ; 72   |#define UINT128   UINT128_3500
                            20005 ; 73   |
                            20006 ; 74   |// Little endian word packed byte strings:   
                            20007 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20008 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20009 ; 77   |// Little endian word packed byte strings:   
                            20010 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20011 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20012 ; 80   |
                            20013 ; 81   |// Declare Memory Spaces To Use When Coding
                            20014 ; 82   |// A. Sector Buffers
                            20015 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            20016 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            20017 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            20018 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            20019 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            20020 ; 88   |// B. Media DDI Memory
                            20021 ; 89   |#define MEDIA_DDI_MEM _Y
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  80

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20022 ; 90   |
                            20023 ; 91   |
                            20024 ; 92   |
                            20025 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            20026 ; 94   |// Examples of circular pointers:
                            20027 ; 95   |//    INT CIRC cpiVarName
                            20028 ; 96   |//    DWORD CIRC cpdwVarName
                            20029 ; 97   |
                            20030 ; 98   |#define RETCODE INT                 // rcVarName
                            20031 ; 99   |
                            20032 ; 100  |// generic bitfield structure
                            20033 ; 101  |struct Bitfield {
                            20034 ; 102  |    unsigned int B0  :1;
                            20035 ; 103  |    unsigned int B1  :1;
                            20036 ; 104  |    unsigned int B2  :1;
                            20037 ; 105  |    unsigned int B3  :1;
                            20038 ; 106  |    unsigned int B4  :1;
                            20039 ; 107  |    unsigned int B5  :1;
                            20040 ; 108  |    unsigned int B6  :1;
                            20041 ; 109  |    unsigned int B7  :1;
                            20042 ; 110  |    unsigned int B8  :1;
                            20043 ; 111  |    unsigned int B9  :1;
                            20044 ; 112  |    unsigned int B10 :1;
                            20045 ; 113  |    unsigned int B11 :1;
                            20046 ; 114  |    unsigned int B12 :1;
                            20047 ; 115  |    unsigned int B13 :1;
                            20048 ; 116  |    unsigned int B14 :1;
                            20049 ; 117  |    unsigned int B15 :1;
                            20050 ; 118  |    unsigned int B16 :1;
                            20051 ; 119  |    unsigned int B17 :1;
                            20052 ; 120  |    unsigned int B18 :1;
                            20053 ; 121  |    unsigned int B19 :1;
                            20054 ; 122  |    unsigned int B20 :1;
                            20055 ; 123  |    unsigned int B21 :1;
                            20056 ; 124  |    unsigned int B22 :1;
                            20057 ; 125  |    unsigned int B23 :1;
                            20058 ; 126  |};
                            20059 ; 127  |
                            20060 ; 128  |union BitInt {
                            20061 ; 129  |        struct Bitfield B;
                            20062 ; 130  |        int        I;
                            20063 ; 131  |};
                            20064 ; 132  |
                            20065 ; 133  |#define MAX_MSG_LENGTH 10
                            20066 ; 134  |struct CMessage
                            20067 ; 135  |{
                            20068 ; 136  |        unsigned int m_uLength;
                            20069 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            20070 ; 138  |};
                            20071 ; 139  |
                            20072 ; 140  |typedef struct {
                            20073 ; 141  |    WORD m_wLength;
                            20074 ; 142  |    WORD m_wMessage;
                            20075 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            20076 ; 144  |} Message;
                            20077 ; 145  |
                            20078 ; 146  |struct MessageQueueDescriptor
                            20079 ; 147  |{
                            20080 ; 148  |        int *m_pBase;
                            20081 ; 149  |        int m_iModulo;
                            20082 ; 150  |        int m_iSize;
                            20083 ; 151  |        int *m_pHead;
                            20084 ; 152  |        int *m_pTail;
                            20085 ; 153  |};
                            20086 ; 154  |
                            20087 ; 155  |struct ModuleEntry
                            20088 ; 156  |{
                            20089 ; 157  |    int m_iSignaledEventMask;
                            20090 ; 158  |    int m_iWaitEventMask;
                            20091 ; 159  |    int m_iResourceOfCode;
                            20092 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            20093 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            20094 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            20095 ; 163  |    int m_uTimeOutHigh;
                            20096 ; 164  |    int m_uTimeOutLow;
                            20097 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            20098 ; 166  |};
                            20099 ; 167  |
                            20100 ; 168  |union WaitMask{
                            20101 ; 169  |    struct B{
                            20102 ; 170  |        unsigned int m_bNone     :1;
                            20103 ; 171  |        unsigned int m_bMessage  :1;
                            20104 ; 172  |        unsigned int m_bTimer    :1;
                            20105 ; 173  |        unsigned int m_bButton   :1;
                            20106 ; 174  |    } B;
                            20107 ; 175  |    int I;
                            20108 ; 176  |} ;
                            20109 ; 177  |
                            20110 ; 178  |
                            20111 ; 179  |struct Button {
                            20112 ; 180  |        WORD wButtonEvent;
                            20113 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            20114 ; 182  |};
                            20115 ; 183  |
                            20116 ; 184  |struct Message {
                            20117 ; 185  |        WORD wMsgLength;
                            20118 ; 186  |        WORD wMsgCommand;
                            20119 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            20120 ; 188  |};
                            20121 ; 189  |
                            20122 ; 190  |union EventTypes {
                            20123 ; 191  |        struct CMessage msg;
                            20124 ; 192  |        struct Button Button ;
                            20125 ; 193  |        struct Message Message;
                            20126 ; 194  |};
                            20127 ; 195  |
                            20128 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            20129 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            20130 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            20131 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            20132 ; 200  |
                            20133 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            20134 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            20135 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            20136 ; 204  |
                            20137 ; 205  |#if DEBUG
                            20138 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            20139 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            20140 ; 208  |#else 
                            20141 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            20142 ; 210  |#define DebugBuildAssert(x)    
                            20143 ; 211  |#endif
                            20144 ; 212  |
                            20145 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            20146 ; 214  |//  #pragma asm
                            20147 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            20148 ; 216  |//  #pragma endasm
                            20149 ; 217  |
                            20150 ; 218  |
                            20151 ; 219  |#ifdef COLOR_262K
                            20152 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            20153 ; 221  |#elif defined(COLOR_65K)
                            20154 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            20155 ; 223  |#else
                            20156 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            20157 ; 225  |#endif
                            20158 ; 226  |    
                            20159 ; 227  |#endif // #ifndef _TYPES_H
                            20160 
                            20162 
                            20163 ; 5    |
                            20164 ; 6    |#endif
                            20165 ; 7    |
                            20166 ; 8    |
                            20167 ; 9    |
                            20168 ; 10   |
                            20169 
                            20171 
                            20172 ; 20   |#include "playerstatemachine.h"
                            20173 
                            20175 
                            20176 ; 1    |#ifndef _HANDLEPLAYERSTATEMACHINE_H
                            20177 ; 2    |#define _HANDLEPLAYERSTATEMACHINE_H
                            20178 ; 3    |
                            20179 ; 4    |#ifdef USE_PLAYLIST3
                            20180 ; 5    |#include "musiclib_ghdr.h"
                            20181 
                            20183 
                            20184 ; 1    |#ifndef MUSICLIB_GHDR_H
                            20185 ; 2    |#define MUSICLIB_GHDR_H
                            20186 ; 3    |
                            20187 ; 4    |#ifdef __cplusplus
                            20188 ; 5    |extern "C" {
                            20189 ; 6    |#endif
                            20190 ; 7    |
                            20191 ; 8    |/*==================================================================================================
                            20192 ; 9    |
                            20193 ; 10   |                                        General Description
                            20194 ; 11   |
                            20195 ; 12   |====================================================================================================
                            20196 ; 13   |
                            20197 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            20198 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            20199 ; 16   |
                            20200 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            20201 ; 18   |
                            20202 ; 19   |PRODUCT NAMES: All
                            20203 ; 20   |
                            20204 ; 21   |GENERAL DESCRIPTION:
                            20205 ; 22   |
                            20206 ; 23   |    General description of this grouping of functions.
                            20207 ; 24   |
                            20208 ; 25   |Portability: All
                            20209 ; 26   |
                            20210 ; 27   |
                            20211 ; 28   |Revision History:
                            20212 ; 29   |
                            20213 ; 30   |                         Modification        Tracking
                            20214 ; 31   |Author                       Date             Number           Description of Changes
                            20215 ; 32   |---------------------    ------------        ----------        -------------------------------------
                            20216 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of changes made
                            20217 ; 34   |
                            20218 ; 35   |
                            20219 ; 36   |====================================================================================================
                            20220 ; 37   |                                            DESCRIPTION
                            20221 ; 38   |====================================================================================================
                            20222 ; 39   |
                            20223 ; 40   |GLOBAL FUNCTIONS:
                            20224 ; 41   |    MF_global_func_name()
                            20225 ; 42   |
                            20226 ; 43   |TRACEABILITY MATRIX:
                            20227 ; 44   |    None
                            20228 ; 45   |
                            20229 ; 46   |==================================================================================================*/
                            20230 ; 47   |
                            20231 ; 48   |/*==================================================================================================
                            20232 ; 49   |                                                                Conditional Compilation Directives
                            20233 ; 50   |==================================================================================================*/
                            20234 ; 51   |#ifdef WIN32
                            20235 ; 52   |#define _PC_SIMULATION_
                            20236 ; 53   |#else
                            20237 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            20238 ; 55   |#endif  // WIN32
                            20239 ; 56   |
                            20240 ; 57   |#if 1
                            20241 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            20242 ; 59   |#endif
                            20243 ; 60   |
                            20244 ; 61   |#if 1
                            20245 ; 62   |#define _AUDIBLE_       /* install audible list */
                            20246 ; 63   |#endif
                            20247 ; 64   |
                            20248 ; 65   |#if 1
                            20249 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            20250 ; 67   |#endif
                            20251 ; 68   |
                            20252 ; 69   |#ifdef PL3_FB
                            20253 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            20254 ; 71   |#endif
                            20255 ; 72   |
                            20256 ; 73   |#if 1
                            20257 ; 74   |#define _SUPPORT_2000_SONGS_
                            20258 ; 75   |#endif
                            20259 ; 76   |
                            20260 ; 77   |/*==================================================================================================
                            20261 ; 78   |                                           INCLUDE FILES
                            20262 ; 79   |==================================================================================================*/
                            20263 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            20264 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            20265 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            20266 ; 83   |#define OEM_SEEK_END    SEEK_END
                            20267 ; 84   |#else
                            20268 ; 85   |#define _X
                            20269 ; 86   |#define _Y
                            20270 ; 87   |#define _packed
                            20271 ; 88   |
                            20272 ; 89   |#define _asmfunc
                            20273 ; 90   |#define _reentrant
                            20274 ; 91   |
                            20275 ; 92   |#define OEM_SEEK_CUR    1
                            20276 ; 93   |#define OEM_SEEK_SET    0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  81

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20277 ; 94   |#define OEM_SEEK_END    2
                            20278 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            20279 ; 96   |
                            20280 ; 97   |#include "types.h"
                            20281 
                            20283 
                            20284 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            20285 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            20286 ; 3    |//
                            20287 ; 4    |// Filename: types.h
                            20288 ; 5    |// Description: Standard data types
                            20289 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            20290 ; 7    |
                            20291 ; 8    |#ifndef _TYPES_H
                            20292 ; 9    |#define _TYPES_H
                            20293 ; 10   |
                            20294 ; 11   |// TODO:  move this outta here!
                            20295 ; 12   |#if !defined(NOERROR)
                            20296 ; 13   |#define NOERROR 0
                            20297 ; 14   |#define SUCCESS 0
                            20298 ; 15   |#endif 
                            20299 ; 16   |#if !defined(SUCCESS)
                            20300 ; 17   |#define SUCCESS  0
                            20301 ; 18   |#endif
                            20302 ; 19   |#if !defined(ERROR)
                            20303 ; 20   |#define ERROR   -1
                            20304 ; 21   |#endif
                            20305 ; 22   |#if !defined(FALSE)
                            20306 ; 23   |#define FALSE 0
                            20307 ; 24   |#endif
                            20308 ; 25   |#if !defined(TRUE)
                            20309 ; 26   |#define TRUE  1
                            20310 ; 27   |#endif
                            20311 ; 28   |
                            20312 ; 29   |#if !defined(NULL)
                            20313 ; 30   |#define NULL 0
                            20314 ; 31   |#endif
                            20315 ; 32   |
                            20316 ; 33   |#define MAX_INT     0x7FFFFF
                            20317 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            20318 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            20319 ; 36   |#define MAX_ULONG   (-1) 
                            20320 ; 37   |
                            20321 ; 38   |#define WORD_SIZE   24              // word size in bits
                            20322 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            20323 ; 40   |
                            20324 ; 41   |
                            20325 ; 42   |#define BYTE    unsigned char       // btVarName
                            20326 ; 43   |#define CHAR    signed char         // cVarName
                            20327 ; 44   |#define USHORT  unsigned short      // usVarName
                            20328 ; 45   |#define SHORT   unsigned short      // sVarName
                            20329 ; 46   |#define WORD    unsigned int        // wVarName
                            20330 ; 47   |#define INT     signed int          // iVarName
                            20331 ; 48   |#define DWORD   unsigned long       // dwVarName
                            20332 ; 49   |#define LONG    signed long         // lVarName
                            20333 ; 50   |#define BOOL    unsigned int        // bVarName
                            20334 ; 51   |#define FRACT   _fract              // frVarName
                            20335 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            20336 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            20337 ; 54   |#define FLOAT   float               // fVarName
                            20338 ; 55   |#define DBL     double              // dVarName
                            20339 ; 56   |#define ENUM    enum                // eVarName
                            20340 ; 57   |#define CMX     _complex            // cmxVarName
                            20341 ; 58   |typedef WORD UCS3;                   // 
                            20342 ; 59   |
                            20343 ; 60   |#define UINT16  unsigned short
                            20344 ; 61   |#define UINT8   unsigned char   
                            20345 ; 62   |#define UINT32  unsigned long
                            20346 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            20347 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            20348 ; 65   |#define WCHAR   UINT16
                            20349 ; 66   |
                            20350 ; 67   |//UINT128 is 16 bytes or 6 words
                            20351 ; 68   |typedef struct UINT128_3500 {   
                            20352 ; 69   |    int val[6];     
                            20353 ; 70   |} UINT128_3500;
                            20354 ; 71   |
                            20355 ; 72   |#define UINT128   UINT128_3500
                            20356 ; 73   |
                            20357 ; 74   |// Little endian word packed byte strings:   
                            20358 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20359 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20360 ; 77   |// Little endian word packed byte strings:   
                            20361 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20362 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20363 ; 80   |
                            20364 ; 81   |// Declare Memory Spaces To Use When Coding
                            20365 ; 82   |// A. Sector Buffers
                            20366 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            20367 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            20368 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            20369 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            20370 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            20371 ; 88   |// B. Media DDI Memory
                            20372 ; 89   |#define MEDIA_DDI_MEM _Y
                            20373 ; 90   |
                            20374 ; 91   |
                            20375 ; 92   |
                            20376 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            20377 ; 94   |// Examples of circular pointers:
                            20378 ; 95   |//    INT CIRC cpiVarName
                            20379 ; 96   |//    DWORD CIRC cpdwVarName
                            20380 ; 97   |
                            20381 ; 98   |#define RETCODE INT                 // rcVarName
                            20382 ; 99   |
                            20383 ; 100  |// generic bitfield structure
                            20384 ; 101  |struct Bitfield {
                            20385 ; 102  |    unsigned int B0  :1;
                            20386 ; 103  |    unsigned int B1  :1;
                            20387 ; 104  |    unsigned int B2  :1;
                            20388 ; 105  |    unsigned int B3  :1;
                            20389 ; 106  |    unsigned int B4  :1;
                            20390 ; 107  |    unsigned int B5  :1;
                            20391 ; 108  |    unsigned int B6  :1;
                            20392 ; 109  |    unsigned int B7  :1;
                            20393 ; 110  |    unsigned int B8  :1;
                            20394 ; 111  |    unsigned int B9  :1;
                            20395 ; 112  |    unsigned int B10 :1;
                            20396 ; 113  |    unsigned int B11 :1;
                            20397 ; 114  |    unsigned int B12 :1;
                            20398 ; 115  |    unsigned int B13 :1;
                            20399 ; 116  |    unsigned int B14 :1;
                            20400 ; 117  |    unsigned int B15 :1;
                            20401 ; 118  |    unsigned int B16 :1;
                            20402 ; 119  |    unsigned int B17 :1;
                            20403 ; 120  |    unsigned int B18 :1;
                            20404 ; 121  |    unsigned int B19 :1;
                            20405 ; 122  |    unsigned int B20 :1;
                            20406 ; 123  |    unsigned int B21 :1;
                            20407 ; 124  |    unsigned int B22 :1;
                            20408 ; 125  |    unsigned int B23 :1;
                            20409 ; 126  |};
                            20410 ; 127  |
                            20411 ; 128  |union BitInt {
                            20412 ; 129  |        struct Bitfield B;
                            20413 ; 130  |        int        I;
                            20414 ; 131  |};
                            20415 ; 132  |
                            20416 ; 133  |#define MAX_MSG_LENGTH 10
                            20417 ; 134  |struct CMessage
                            20418 ; 135  |{
                            20419 ; 136  |        unsigned int m_uLength;
                            20420 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            20421 ; 138  |};
                            20422 ; 139  |
                            20423 ; 140  |typedef struct {
                            20424 ; 141  |    WORD m_wLength;
                            20425 ; 142  |    WORD m_wMessage;
                            20426 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            20427 ; 144  |} Message;
                            20428 ; 145  |
                            20429 ; 146  |struct MessageQueueDescriptor
                            20430 ; 147  |{
                            20431 ; 148  |        int *m_pBase;
                            20432 ; 149  |        int m_iModulo;
                            20433 ; 150  |        int m_iSize;
                            20434 ; 151  |        int *m_pHead;
                            20435 ; 152  |        int *m_pTail;
                            20436 ; 153  |};
                            20437 ; 154  |
                            20438 ; 155  |struct ModuleEntry
                            20439 ; 156  |{
                            20440 ; 157  |    int m_iSignaledEventMask;
                            20441 ; 158  |    int m_iWaitEventMask;
                            20442 ; 159  |    int m_iResourceOfCode;
                            20443 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            20444 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            20445 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            20446 ; 163  |    int m_uTimeOutHigh;
                            20447 ; 164  |    int m_uTimeOutLow;
                            20448 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            20449 ; 166  |};
                            20450 ; 167  |
                            20451 ; 168  |union WaitMask{
                            20452 ; 169  |    struct B{
                            20453 ; 170  |        unsigned int m_bNone     :1;
                            20454 ; 171  |        unsigned int m_bMessage  :1;
                            20455 ; 172  |        unsigned int m_bTimer    :1;
                            20456 ; 173  |        unsigned int m_bButton   :1;
                            20457 ; 174  |    } B;
                            20458 ; 175  |    int I;
                            20459 ; 176  |} ;
                            20460 ; 177  |
                            20461 ; 178  |
                            20462 ; 179  |struct Button {
                            20463 ; 180  |        WORD wButtonEvent;
                            20464 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            20465 ; 182  |};
                            20466 ; 183  |
                            20467 ; 184  |struct Message {
                            20468 ; 185  |        WORD wMsgLength;
                            20469 ; 186  |        WORD wMsgCommand;
                            20470 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            20471 ; 188  |};
                            20472 ; 189  |
                            20473 ; 190  |union EventTypes {
                            20474 ; 191  |        struct CMessage msg;
                            20475 ; 192  |        struct Button Button ;
                            20476 ; 193  |        struct Message Message;
                            20477 ; 194  |};
                            20478 ; 195  |
                            20479 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            20480 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            20481 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            20482 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            20483 ; 200  |
                            20484 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            20485 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            20486 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            20487 ; 204  |
                            20488 ; 205  |#if DEBUG
                            20489 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            20490 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            20491 ; 208  |#else 
                            20492 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            20493 ; 210  |#define DebugBuildAssert(x)    
                            20494 ; 211  |#endif
                            20495 ; 212  |
                            20496 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            20497 ; 214  |//  #pragma asm
                            20498 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            20499 ; 216  |//  #pragma endasm
                            20500 ; 217  |
                            20501 ; 218  |
                            20502 ; 219  |#ifdef COLOR_262K
                            20503 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            20504 ; 221  |#elif defined(COLOR_65K)
                            20505 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            20506 ; 223  |#else
                            20507 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            20508 ; 225  |#endif
                            20509 ; 226  |    
                            20510 ; 227  |#endif // #ifndef _TYPES_H
                            20511 
                            20513 
                            20514 ; 98   |#include "exec.h"
                            20515 
                            20517 
                            20518 ; 1    |#ifndef EXEC_H
                            20519 ; 2    |#define EXEC_H
                            20520 ; 3    |
                            20521 ; 4    |
                            20522 ; 5    |void _reentrant SysPostMessage(int iLength,...);
                            20523 ; 6    |int _asmfunc GetMessage(struct MessageQueueDescriptor*,struct CMessage * );
                            20524 ; 7    |long _asmfunc SysGetCurrentTime(void);
                            20525 ; 8    |
                            20526 ; 9    |
                            20527 ; 10   |#endif
                            20528 
                            20530 
                            20531 ; 99   |#include "messages.h"
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  82

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20532 
                            20534 
                            20535 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            20536 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                            20537 ; 3    |// Message defs
                            20538 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            20539 ; 5    |
                            20540 ; 6    |#if (!defined(MSGEQU_INC))
                            20541 ; 7    |#define MSGEQU_INC 1
                            20542 ; 8    |
                            20543 ; 9    |
                            20544 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                            20545 ; 11   |
                            20546 ; 12   |
                            20547 ; 13   |#define MSG_TYPE_DECODER 0x000000
                            20548 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                            20549 ; 15   |#define MSG_TYPE_PARSER 0x020000
                            20550 ; 16   |#define MSG_TYPE_LCD 0x030000
                            20551 ; 17   |#define MSG_TYPE_MIXER 0x040000
                            20552 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                            20553 ; 19   |#define MSG_TYPE_MENU 0x060000
                            20554 ; 20   |#define MSG_TYPE_LED 0x070000
                            20555 ; 21   |#define MSG_TYPE_TUNER 0x080000
                            20556 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                            20557 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                            20558 ; 24   |// Equalizer and other effects
                            20559 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                            20560 ; 26   |#if (defined(USE_PLAYLIST3))
                            20561 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                            20562 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                            20563 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                            20564 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                            20565 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                            20566 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                            20567 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                            20568 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                            20569 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                            20570 ; 36   |#if defined(USE_PLAYLIST5)
                            20571 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                            20572 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                            20573 ; 39   |#endif // if @def('USE_PLAYLIST5')
                            20574 ; 40   |
                            20575 ; 41   |// Message Structure Offsets
                            20576 ; 42   |#define MSG_Length 0
                            20577 ; 43   |#define MSG_ID 1
                            20578 ; 44   |#define MSG_Argument1 2
                            20579 ; 45   |#define MSG_Argument2 3
                            20580 ; 46   |#define MSG_Argument3 4
                            20581 ; 47   |#define MSG_Argument4 5
                            20582 ; 48   |#define MSG_Argument5 6
                            20583 ; 49   |#define MSG_Argument6 7
                            20584 ; 50   |
                            20585 ; 51   |
                            20586 ; 52   |
                            20587 ; 53   |// LCD Message IDs
                            20588 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                            20589 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                            20590 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                            20591 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                            20592 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                            20593 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                            20594 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                            20595 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                            20596 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                            20597 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                            20598 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                            20599 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                            20600 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                            20601 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                            20602 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                            20603 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                            20604 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                            20605 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                            20606 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                            20607 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                            20608 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                            20609 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                            20610 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                            20611 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                            20612 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                            20613 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                            20614 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                            20615 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                            20616 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                            20617 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                            20618 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                            20619 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                            20620 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                            20621 ; 87   |//send a NULL as Param1 to return to root frame buffer
                            20622 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                            20623 ; 89   |//Param1 = left
                            20624 ; 90   |//Param2 = top
                            20625 ; 91   |//Param3 = right
                            20626 ; 92   |//Param4 = bottom
                            20627 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                            20628 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                            20629 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                            20630 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                            20631 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                            20632 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                            20633 ; 99   |
                            20634 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                            20635 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                            20636 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                            20637 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                            20638 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                            20639 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                            20640 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                            20641 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                            20642 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                            20643 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                            20644 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                            20645 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                            20646 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                            20647 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                            20648 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                            20649 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                            20650 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                            20651 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                            20652 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                            20653 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                            20654 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                            20655 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                            20656 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                            20657 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                            20658 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                            20659 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                            20660 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                            20661 ; 127  |
                            20662 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                            20663 ; 129  |
                            20664 ; 130  |#if defined(CLCD_16BIT)
                            20665 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                            20666 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                            20667 ; 133  |
                            20668 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                            20669 ; 135  |#else 
                            20670 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                            20671 ; 137  |#endif
                            20672 ; 138  |
                            20673 ; 139  |// If you change the LCD message ID's then you must
                            20674 ; 140  |// also change the jump table in lcdapi.asm
                            20675 ; 141  |
                            20676 ; 142  |// Character LCD Message IDs
                            20677 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                            20678 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                            20679 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                            20680 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                            20681 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                            20682 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                            20683 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                            20684 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                            20685 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                            20686 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                            20687 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                            20688 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                            20689 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                            20690 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                            20691 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                            20692 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                            20693 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                            20694 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                            20695 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                            20696 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                            20697 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                            20698 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                            20699 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                            20700 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                            20701 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                            20702 ; 168  |// also change the jump table in lcdapi.asm
                            20703 ; 169  |
                            20704 ; 170  |// Decoder Message IDs
                            20705 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                            20706 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                            20707 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                            20708 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                            20709 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                            20710 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                            20711 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                            20712 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                            20713 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                            20714 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                            20715 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                            20716 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                            20717 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                            20718 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                            20719 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                            20720 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                            20721 ; 187  |// If you change the Decoder message ID's, then you must
                            20722 ; 188  |// also change the jump table in decoder_overlay.asm
                            20723 ; 189  |// and in dec_adpcm_overlay.asm.
                            20724 ; 190  |
                            20725 ; 191  |// Encoder Message IDs
                            20726 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                            20727 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                            20728 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                            20729 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                            20730 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                            20731 ; 197  |// If you change the Encoder message ID's, then you must
                            20732 ; 198  |// also change the jump table in all encoder overlay modules.
                            20733 ; 199  |
                            20734 ; 200  |// Parser Message IDs
                            20735 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                            20736 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                            20737 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                            20738 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                            20739 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                            20740 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                            20741 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                            20742 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                            20743 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                            20744 ; 210  |// If you change the Parser message ID's, then you must
                            20745 ; 211  |// also change the jump table in parser.asm
                            20746 ; 212  |
                            20747 ; 213  |// Button Message IDs
                            20748 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                            20749 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                            20750 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                            20751 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                            20752 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                            20753 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                            20754 ; 220  |
                            20755 ; 221  |// Mixer Message IDs
                            20756 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                            20757 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                            20758 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                            20759 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                            20760 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                            20761 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                            20762 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                            20763 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                            20764 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                            20765 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                            20766 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                            20767 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                            20768 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                            20769 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                            20770 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                            20771 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                            20772 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                            20773 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                            20774 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                            20775 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                            20776 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                            20777 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                            20778 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                            20779 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                            20780 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                            20781 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                            20782 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                            20783 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  83

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20784 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                            20785 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                            20786 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                            20787 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                            20788 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                            20789 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                            20790 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                            20791 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                            20792 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                            20793 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                            20794 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                            20795 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                            20796 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                            20797 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                            20798 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                            20799 ; 265  |// If you change the mixer message ID's then you must
                            20800 ; 266  |// also change the jump table in mixer.asm
                            20801 ; 267  |#define MIXER_ON 0
                            20802 ; 268  |#define MIXER_OFF 1
                            20803 ; 269  |
                            20804 ; 270  |
                            20805 ; 271  |// System Message IDs
                            20806 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                            20807 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                            20808 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                            20809 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                            20810 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                            20811 ; 277  |// If you change the system message ID's then you must
                            20812 ; 278  |// also change the jump table in systemapi.asm
                            20813 ; 279  |
                            20814 ; 280  |// Menu IDs
                            20815 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                            20816 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                            20817 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                            20818 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                            20819 ; 285  |//sub parameters for this message:
                            20820 ; 286  |#define RECORDER_START 0
                            20821 ; 287  |#define RECORDER_PAUSE 0x2000
                            20822 ; 288  |#define RECORDER_RESUME 0x4000
                            20823 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                            20824 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                            20825 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                            20826 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                            20827 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                            20828 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                            20829 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                            20830 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                            20831 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                            20832 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                            20833 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                            20834 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                            20835 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                            20836 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                            20837 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                            20838 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                            20839 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                            20840 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                            20841 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                            20842 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                            20843 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                            20844 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                            20845 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                            20846 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                            20847 ; 313  |
                            20848 ; 314  |// Note that other versions of this file have different msg equates.
                            20849 ; 315  |// If you change the system message ID's then you must
                            20850 ; 316  |// also change the jump table in all menu *.asm
                            20851 ; 317  |
                            20852 ; 318  |// LED Message IDs
                            20853 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                            20854 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                            20855 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                            20856 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                            20857 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                            20858 ; 324  |// If you change the LeD message ID's then you must
                            20859 ; 325  |// also change the jump table in ledapi.asm
                            20860 ; 326  |
                            20861 ; 327  |#if (!defined(REMOVE_FM))
                            20862 ; 328  |// FM Tuner Message IDs
                            20863 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                            20864 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                            20865 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                            20866 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                            20867 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                            20868 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                            20869 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                            20870 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                            20871 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                            20872 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                            20873 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                            20874 ; 340  |//one parameter--the sensitivity in uV
                            20875 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                            20876 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                            20877 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                            20878 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                            20879 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                            20880 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                            20881 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                            20882 ; 348  |#endif
                            20883 ; 349  |
                            20884 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                            20885 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                            20886 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                            20887 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                            20888 ; 354  |
                            20889 ; 355  |
                            20890 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                            20891 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                            20892 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                            20893 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                            20894 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                            20895 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                            20896 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                            20897 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                            20898 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                            20899 ; 365  |
                            20900 ; 366  |#if (defined(USE_PLAYLIST3))
                            20901 ; 367  |// Music Library
                            20902 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                            20903 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                            20904 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                            20905 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                            20906 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                            20907 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                            20908 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                            20909 ; 375  |
                            20910 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                            20911 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                            20912 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                            20913 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                            20914 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                            20915 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                            20916 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                            20917 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                            20918 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                            20919 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                            20920 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                            20921 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                            20922 ; 388  |
                            20923 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            20924 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            20925 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            20926 ; 392  |
                            20927 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            20928 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            20929 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            20930 ; 396  |
                            20931 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            20932 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                            20933 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            20934 ; 400  |
                            20935 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                            20936 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                            20937 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                            20938 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                            20939 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                            20940 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                            20941 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                            20942 ; 408  |
                            20943 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            20944 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            20945 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            20946 ; 412  |
                            20947 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                            20948 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                            20949 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                            20950 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                            20951 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                            20952 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                            20953 ; 419  |
                            20954 ; 420  |#if defined(USE_PLAYLIST5)
                            20955 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                            20956 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                            20957 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                            20958 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                            20959 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                            20960 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                            20961 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                            20962 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                            20963 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                            20964 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                            20965 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                            20966 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                            20967 ; 433  |
                            20968 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                            20969 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                            20970 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                            20971 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                            20972 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                            20973 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                            20974 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                            20975 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                            20976 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                            20977 ; 443  |#endif // if @def('USE_PLAYLIST5')
                            20978 ; 444  |// Events
                            20979 ; 445  |// No event
                            20980 ; 446  |#define EVENT_NONE 0x000001   
                            20981 ; 447  |// A message has been posted
                            20982 ; 448  |#define EVENT_MESSAGE 0x000002   
                            20983 ; 449  |// Run if wait time elapsed
                            20984 ; 450  |#define EVENT_TIMER 0x000004   
                            20985 ; 451  |// Run if a button event occured
                            20986 ; 452  |#define EVENT_BUTTON 0x000008   
                            20987 ; 453  |// Run if a background event occured
                            20988 ; 454  |#define EVENT_BACKGROUND 0x000010   
                            20989 ; 455  |// The executive should immediately repeat this module
                            20990 ; 456  |#define EVENT_REPEAT 0x000020   
                            20991 ; 457  |// Run the module's init routine
                            20992 ; 458  |#define EVENT_INIT 0x800000   
                            20993 ; 459  |
                            20994 ; 460  |#define EVENT_NONE_BITPOS 0
                            20995 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                            20996 ; 462  |#define EVENT_TIMER_BITPOS 2
                            20997 ; 463  |#define EVENT_BUTTON_BITPOS 3
                            20998 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                            20999 ; 465  |#define EVENT_REPEAT_BITPOS 5
                            21000 ; 466  |#define EVENT_INIT_BITPOS 23
                            21001 ; 467  |
                            21002 ; 468  |// Parser Message Buffers
                            21003 ; 469  |#define ParserPlayBit 0
                            21004 ; 470  |#define ButtonPressBit 1
                            21005 ; 471  |#define ParserRwndBit 1
                            21006 ; 472  |#define ParserFfwdBit 2
                            21007 ; 473  |
                            21008 ; 474  |//NextSong Message Parameters
                            21009 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                            21010 ; 476  |#define NEXT_SONG 2             
                            21011 ; 477  |// ButtonPressBit1 cleared
                            21012 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                            21013 ; 479  |// ButtonPressBit1 set
                            21014 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                            21015 ; 481  |// NextSong + Ffwd
                            21016 ; 482  |#define NEXT_SONG_FFWD 4          
                            21017 ; 483  |
                            21018 ; 484  |//PrevSong Message Parameters
                            21019 ; 485  |// PrevSong + Stopped
                            21020 ; 486  |#define PREV_SONG 0          
                            21021 ; 487  |// PrevSong + Play
                            21022 ; 488  |#define PREV_SONG_PLAY 1          
                            21023 ; 489  |// PrevSong + Rwnd
                            21024 ; 490  |#define PREV_SONG_RWND 2          
                            21025 ; 491  |
                            21026 ; 492  |
                            21027 ; 493  |
                            21028 ; 494  |
                            21029 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                            21030 ; 496  |
                            21031 ; 497  |
                            21032 
                            21034 
                            21035 ; 100  |#include "project.h"
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  84

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21036 
                            21038 
                            21039 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            21040 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            21041 ; 3    |//  Filename: project.inc
                            21042 ; 4    |//  Description: 
                            21043 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            21044 ; 6    |
                            21045 ; 7    |#if (!defined(_PROJECT_INC))
                            21046 ; 8    |#define _PROJECT_INC 1
                            21047 ; 9    |
                            21048 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            21049 ; 11   |#include "hwequ.h"
                            21050 
                            21052 
                            21053 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            21054 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2001
                            21055 ; 3    |//  File        : hwequ.inc
                            21056 ; 4    |//  Description : STMP Hardware Constants
                            21057 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            21058 ; 6    |
                            21059 ; 7    |// ////////////////////////////////////////////////////////////////////////////////
                            21060 ; 8    |// hwequ is being eliminated for SDK3XXX.  For SDK2.5XX it will now reside in the   
                            21061 ; 9    |// local folder instead of ..\inc.  All register includes are converted to .h by 
                            21062 ; 10   |// registers.mk placed in the ..\lcdexample\player\output_XXXX folder.
                            21063 ; 11   |// ////////////////////////////////////////////////////////////////////////////////
                            21064 ; 12   |
                            21065 ; 13   |#if (!defined(HWEQU_INC))
                            21066 ; 14   |#define HWEQU_INC 1
                            21067 ; 15   |
                            21068 ; 16   |#include "types.h"
                            21069 ; 17   |#include "regsclkctrl.h"
                            21070 ; 18   |#include "regscore.h"
                            21071 ; 19   |#include "regscodec.h"
                            21072 ; 20   |#include "regsdcdc.h"
                            21073 ; 21   |#include "regsemc.h"
                            21074 ; 22   |#include "regsgpio.h"
                            21075 ; 23   |#include "regsi2c.h"
                            21076 ; 24   |#include "regsi2s.h"
                            21077 ; 25   |#include "regsicoll.h"
                            21078 ; 26   |#include "regslradc.h"
                            21079 ; 27   |#include "regspwm.h"
                            21080 ; 28   |#include "regsrevision.h"
                            21081 ; 29   |#include "regsrtc.h"
                            21082 ; 30   |#include "regsspare.h"
                            21083 ; 31   |#include "regsspi.h"
                            21084 ; 32   |#include "regsswizzle.h"
                            21085 ; 33   |#include "regssdram.h"
                            21086 ; 34   |#include "regstb.h"
                            21087 ; 35   |#include "regstimer.h"
                            21088 ; 36   |#include "regsusb20.h"
                            21089 ; 37   |#include "regsusb20phy.h"
                            21090 ; 38   |
                            21091 ; 39   |
                            21092 ; 40   |#endif // if (!@def(hwequ))
                            21093 ; 41   |
                            21094 
                            21096 
                            21097 ; 12   |#else 
                            21098 ; 13   |//include "regscodec.inc"
                            21099 ; 14   |#endif
                            21100 ; 15   |
                            21101 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            21102 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults ON) & 
                            21103 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm. STMP00012148
                            21104 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal). 
                            21105 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's specs can 
                            21106 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player mode.  
                            21107 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            21108 ; 23   |
                            21109 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            21110 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            21111 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            21112 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define below by defining
                            21113 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            21114 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            21115 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            21116 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot config above- 
                            21117 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down threshholds by maybe 50mV.
                            21118 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed.
                            21119 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            21120 ; 35   |
                            21121 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            21122 ; 37   |// MEDIA DEFINITIONS
                            21123 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            21124 ; 39   |
                            21125 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            21126 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            21127 ; 42   |#if defined(NAND1)
                            21128 ; 43   |#define SM_INTERNAL_CHIPS 1
                            21129 ; 44   |#else 
                            21130 ; 45   |#if defined(NAND2)
                            21131 ; 46   |#define SM_INTERNAL_CHIPS 2
                            21132 ; 47   |#else 
                            21133 ; 48   |#if defined(NAND3)
                            21134 ; 49   |#define SM_INTERNAL_CHIPS 3
                            21135 ; 50   |#else 
                            21136 ; 51   |#if defined(NAND4)
                            21137 ; 52   |#define SM_INTERNAL_CHIPS 4
                            21138 ; 53   |#else 
                            21139 ; 54   |#define SM_INTERNAL_CHIPS 1
                            21140 ; 55   |#endif
                            21141 ; 56   |#endif
                            21142 ; 57   |#endif
                            21143 ; 58   |#endif
                            21144 ; 59   |
                            21145 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            21146 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            21147 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it reads 0.  
                            21148 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            21149 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it reads 1.
                            21150 ; 65   |//*** comment out if active high ****
                            21151 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            21152 ; 67   |
                            21153 ; 68   |#if defined(SMEDIA)
                            21154 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            21155 ; 70   |#define NUM_SM_EXTERNAL 1
                            21156 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            21157 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            21158 ; 73   |#else 
                            21159 ; 74   |#if defined(MMC)
                            21160 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            21161 ; 76   |#define NUM_SM_EXTERNAL 0
                            21162 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            21163 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            21164 ; 79   |#else 
                            21165 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            21166 ; 81   |#define NUM_SM_EXTERNAL 0
                            21167 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            21168 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            21169 ; 84   |#endif
                            21170 ; 85   |#endif
                            21171 ; 86   |
                            21172 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            21173 ; 88   |// Mass Storage Class definitions
                            21174 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            21175 ; 90   |// Set to 0 if Composite Device build is desired.    
                            21176 ; 91   |#define MULTI_LUN_BUILD 1   
                            21177 ; 92   |
                            21178 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            21179 ; 94   |//  SCSI
                            21180 ; 95   |#if (MULTI_LUN_BUILD==0)
                            21181 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            21182 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            21183 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            21184 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            21185 ; 100  |  #else
                            21186 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            21187 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            21188 ; 103  |  #endif
                            21189 ; 104  |#else
                            21190 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            21191 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            21192 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            21193 ; 108  |  #else
                            21194 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            21195 ; 110  |  #endif
                            21196 ; 111  |#endif
                            21197 ; 112  |
                            21198 ; 113  |
                            21199 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            21200 ; 115  |
                            21201 ; 116  |
                            21202 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            21203 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            21204 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            21205 ; 120  |#ifdef MMC
                            21206 ; 121  |#ifdef MTP_BUILD
                            21207 ; 122  |// --------------------
                            21208 ; 123  |// MTP and MMC
                            21209 ; 124  |// --------------------
                            21210 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            21211 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            21212 ; 127  |#else  // ifndef MTP_BUILD
                            21213 ; 128  |#ifdef STMP_BUILD_PLAYER
                            21214 ; 129  |// --------------------
                            21215 ; 130  |// Player and MMC
                            21216 ; 131  |// --------------------
                            21217 ; 132  |#else
                            21218 ; 133  |// --------------------
                            21219 ; 134  |// USBMSC and MMC
                            21220 ; 135  |// --------------------
                            21221 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            21222 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            21223 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            21224 ; 139  |#endif // ifdef MTP_BUILD
                            21225 ; 140  |#else  // ifndef MMC
                            21226 ; 141  |#ifdef MTP_BUILD
                            21227 ; 142  |// --------------------
                            21228 ; 143  |// MTP and NAND only
                            21229 ; 144  |// --------------------
                            21230 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            21231 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            21232 ; 147  |#else  // ifndef MTP_BUILD
                            21233 ; 148  |#ifdef STMP_BUILD_PLAYER
                            21234 ; 149  |// --------------------
                            21235 ; 150  |// Player and NAND only
                            21236 ; 151  |// --------------------
                            21237 ; 152  |#else
                            21238 ; 153  |// --------------------
                            21239 ; 154  |// USBMSC and NAND only
                            21240 ; 155  |// --------------------
                            21241 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            21242 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            21243 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            21244 ; 159  |#endif // ifdef MTP_BUILD
                            21245 ; 160  |#endif // ifdef MMC 
                            21246 ; 161  |
                            21247 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            21248 ; 163  |#if (defined(MTP_BUILD))
                            21249 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            21250 ; 165  |
                            21251 ; 166  |////!
                            21252 ; 167  |////! This varible holds the watchdog count for the store flush.
                            21253 ; 168  |////!
                            21254 ; 169  |///
                            21255 ; 170  |#include <types.h>
                            21256 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            21257 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            21258 ; 173  |#endif
                            21259 ; 174  |
                            21260 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            21261 ; 176  |// These are needed here for Mass Storage Class
                            21262 ; 177  |// Needs to be cleaned up
                            21263 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            21264 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            21265 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            21266 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            21267 ; 182  |
                            21268 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            21269 ; 184  |
                            21270 ; 185  |#endif
                            21271 ; 186  |
                            21272 ; 187  |
                            21273 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            21274 ; 189  |// SmartMedia/NAND defs
                            21275 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            21276 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            21277 ; 192  |
                            21278 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            21279 ; 194  |// Sysloadresources defs
                            21280 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            21281 ; 196  |
                            21282 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            21283 ; 198  |// MMC defs
                            21284 ; 199  |#define MMC_MAX_PARTITIONS 1
                            21285 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            21286 ; 201  |
                            21287 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            21288 ; 203  |// SPI defs
                            21289 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  85

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21290 ; 205  |
                            21291 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            21292 ; 207  |// Global media defs
                            21293 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            21294 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            21295 ; 210  |
                            21296 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            21297 ; 212  |// DO NOT CHANGE THESE!!!
                            21298 ; 213  |#define SM_MAX_PARTITIONS 4
                            21299 ; 214  |#define MAX_HANDLES 2
                            21300 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            21301 ; 216  |
                            21302 ; 217  |
                            21303 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            21304 ; 219  |// Battery LRADC Values 
                            21305 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            21306 ; 221  |// brownout trip point in mV (moved by RS)
                            21307 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            21308 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            21309 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            21310 ; 225  |//     audio recording to media.
                            21311 ; 226  |#define BATT_SAFETY_MARGIN 10
                            21312 ; 227  |
                            21313 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                            21314 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline voltage to do a refresh.
                            21315 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            21316 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            21317 ; 232  |
                            21318 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc presence.
                            21319 ; 234  |
                            21320 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            21321 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat check.
                            21322 ; 237  |#if (!defined(CLCD))
                            21323 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            21324 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            21325 ; 240  |#else 
                            21326 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            21327 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            21328 ; 243  |#endif
                            21329 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            21330 ; 245  |
                            21331 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            21332 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIon.
                            21333 ; 248  |// See mp3 encoder overlay.
                            21334 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            21335 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            21336 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            21337 ; 252  |
                            21338 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            21339 ; 254  |// Voice recording filenames
                            21340 ; 255  |// number of digits in filename Vxxx.wav
                            21341 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            21342 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            21343 ; 258  |
                            21344 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            21345 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            21346 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            21347 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            21348 ; 263  |#if defined(DEVICE_3500)
                            21349 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            21350 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            21351 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            21352 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, & demo player)
                            21353 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            21354 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            21355 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            21356 ; 271  |
                            21357 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn when bias not yet ready.
                            21358 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            21359 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevention if you use rec button from outside voice menu.
                            21360 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latency in the record-from-music-menu use-case.
                            21361 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            21362 ; 277  |
                            21363 ; 278  |#else 
                            21364 ; 279  |// STMP3410
                            21365 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            21366 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            21367 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            21368 ; 283  |#endif
                            21369 ; 284  |
                            21370 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            21371 ; 286  |// Number of available soft timers
                            21372 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            21373 ; 288  |#if defined(SYNC_LYRICS)
                            21374 ; 289  |#define SOFT_TIMERS 10
                            21375 ; 290  |#else 
                            21376 ; 291  |#if defined(JPEG_DECODER)
                            21377 ; 292  |#define SOFT_TIMERS 10
                            21378 ; 293  |#else 
                            21379 ; 294  |#define SOFT_TIMERS 9
                            21380 ; 295  |#endif
                            21381 ; 296  |#endif
                            21382 ; 297  |
                            21383 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            21384 ; 299  |//  sizes
                            21385 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            21386 ; 301  |#if defined(MMC)
                            21387 ; 302  |#if defined(USE_PLAYLIST5)
                            21388 ; 303  |#define MENU_STACK_SIZE 1500
                            21389 ; 304  |#else 
                            21390 ; 305  |#define MENU_STACK_SIZE 1250
                            21391 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            21392 ; 307  |#else 
                            21393 ; 308  |#if defined(USE_PLAYLIST5)
                            21394 ; 309  |#define MENU_STACK_SIZE 1500
                            21395 ; 310  |#else 
                            21396 ; 311  |#define MENU_STACK_SIZE 1250
                            21397 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            21398 ; 313  |#endif //if @def('MMC')
                            21399 ; 314  |
                            21400 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 750 else 550 for other builds? TOVERIFY. MYALLOC
                            21401 ; 316  |// 
                            21402 ; 317  |#define STACK_L1_SIZE 750
                            21403 ; 318  |#define STACK_L2_SIZE 100
                            21404 ; 319  |#define STACK_L3_SIZE 160
                            21405 ; 320  |
                            21406 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            21407 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            21408 ; 323  |// is ok with switching code.
                            21409 ; 324  |#if defined(MTP_BUILD)
                            21410 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            21411 ; 326  |#endif
                            21412 ; 327  |
                            21413 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            21414 ; 329  |// maximum number of nested funclets 
                            21415 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            21416 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            21417 ; 332  |
                            21418 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            21419 ; 334  |//    LCD DEFINITIONS
                            21420 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            21421 ; 336  |
                            21422 ; 337  |#define SPACE_CHAR 0x000020          
                            21423 ; 338  |#define ZERO_CHAR 0x000030
                            21424 ; 339  |#define COLON_CHAR 0x00003A
                            21425 ; 340  |#define PERIOD_CHAR 0x00002E
                            21426 ; 341  |
                            21427 ; 342  |#if (defined(S6B33B0A_LCD))
                            21428 ; 343  |#define LCD_X_SIZE 128
                            21429 ; 344  |#define LCD_Y_SIZE 159
                            21430 ; 345  |#endif
                            21431 ; 346  |
                            21432 ; 347  |#if (defined(SED15XX_LCD))
                            21433 ; 348  |#define LCD_X_SIZE 128
                            21434 ; 349  |#define LCD_Y_SIZE 64
                            21435 ; 350  |#endif
                            21436 ; 351  |
                            21437 ; 352  |
                            21438 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            21439 ; 354  |//   Details on Customizing Contrast
                            21440 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            21441 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            21442 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            21443 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            21444 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            21445 ; 360  |//   unless the ezact sequence is remembered.
                            21446 ; 361  |//   To find out what range your player supports: 
                            21447 ; 362  |//   change these equs to full range or comment out (full range is default)
                            21448 ; 363  |//;;;;;;
                            21449 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            21450 ; 365  |// recommended calibration using player -- uncomment 
                            21451 ; 366  |//;;;;;;
                            21452 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            21453 ; 368  |////////////////////////////
                            21454 ; 369  |#if (defined(DEMO_HW))
                            21455 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi LCD (June6'05)
                            21456 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            21457 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            21458 ; 373  |#else 
                            21459 ; 374  |
                            21460 ; 375  |#if (defined(S6B33B0A_LCD))
                            21461 ; 376  |#define LCD_MAX_CONTRAST 210
                            21462 ; 377  |#define LCD_MIN_CONTRAST 160    
                            21463 ; 378  |#endif
                            21464 ; 379  |
                            21465 ; 380  |#if (defined(SED15XX_LCD))
                            21466 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            21467 ; 382  |// Engineering board regs support range [17-37].
                            21468 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            21469 ; 384  |//   One default contrast range [24-42] works for both.
                            21470 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            21471 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            21472 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            21473 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            21474 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            21475 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            21476 ; 391  |
                            21477 ; 392  |#if (defined(NEWSHINGYIH))
                            21478 ; 393  |#define LCD_MAX_CONTRAST 250
                            21479 ; 394  |#define LCD_MIN_CONTRAST 0
                            21480 ; 395  |#else 
                            21481 ; 396  |//-----
                            21482 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            21483 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for both LCDs.
                            21484 ; 399  |#define LCD_MAX_CONTRAST 250
                            21485 ; 400  |#define LCD_MIN_CONTRAST 0
                            21486 ; 401  |
                            21487 ; 402  |//=====
                            21488 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            21489 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this historic ver.
                            21490 ; 405  |//LCD_MAX_CONTRAST equ 42
                            21491 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            21492 ; 407  |
                            21493 ; 408  |#endif
                            21494 ; 409  |#endif
                            21495 ; 410  |
                            21496 ; 411  |#endif
                            21497 ; 412  |
                            21498 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            21499 ; 414  |// The default value of the lcd contrast in % of range
                            21500 ; 415  |//   the default value is used when no settings.dat is available
                            21501 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            21502 ; 417  |
                            21503 ; 418  |#if (defined(S6B33B0A_LCD))
                            21504 ; 419  |// 60% of range is default value
                            21505 ; 420  |#define DEFAULT_CONTRAST 50 
                            21506 ; 421  |#endif
                            21507 ; 422  |
                            21508 ; 423  |#if (defined(SED15XX_LCD))
                            21509 ; 424  |// % of range is default value (was 60%)
                            21510 ; 425  |#define DEFAULT_CONTRAST 50 
                            21511 ; 426  |#endif
                            21512 ; 427  |
                            21513 ; 428  |
                            21514 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            21515 ; 430  |// make lower when doing calibration
                            21516 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            21517 ; 432  |
                            21518 ; 433  |
                            21519 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            21520 ; 435  |// For FFWD and RWND
                            21521 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            21522 ; 437  |#define SECONDS_TO_SKIP 1
                            21523 ; 438  |#define SECONDS_TO_SKIP1 3
                            21524 ; 439  |#define SECONDS_TO_SKIP2 6
                            21525 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            21526 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            21527 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21528 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            21529 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21530 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            21531 ; 446  |
                            21532 ; 447  |// For audible FFW/RWD
                            21533 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            21534 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            21535 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            21536 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            21537 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21538 ; 453  |#define LEVEL1_BOUNDARY 17 
                            21539 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21540 ; 455  |#define LEVEL2_BOUNDARY 33 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  86

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21541 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21542 ; 457  |#define LEVEL3_BOUNDARY 50 
                            21543 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            21544 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            21545 ; 460  |// Short Song Time, songs too short to play.
                            21546 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            21547 ; 462  |
                            21548 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            21549 ; 464  |// MP3 Sync Values
                            21550 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            21551 ; 466  |// # bytes to look for sync before marking it bad
                            21552 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            21553 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            21554 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            21555 ; 470  |// once we have sync'd, the isr should be called this frequently
                            21556 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            21557 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            21558 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            21559 ; 474  |
                            21560 ; 475  |
                            21561 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            21562 ; 477  |//// Multi-Stage Volume Control Definitions
                            21563 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            21564 ; 479  |//// Use Multi-Stage Volume
                            21565 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            21566 ; 481  |
                            21567 ; 482  |//// Master Volume definitions
                            21568 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            21569 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            21570 ; 485  |
                            21571 ; 486  |//// DAC-Mode definitions
                            21572 ; 487  |//// Adjusts 0dB point
                            21573 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            21574 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            21575 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines above.
                            21576 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            21577 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provides 1.5 dB gain on Stmp34x0; 
                            21578 ; 493  |//                                               Max gain possible: 8 step diff would provide +12dB gain.   
                            21579 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            21580 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            21581 ; 496  |
                            21582 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            21583 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            21584 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                            21585 ; 500  |
                            21586 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not the default
                            21587 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoint.
                            21588 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            21589 ; 504  |
                            21590 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the default
                            21591 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            21592 ; 507  |
                            21593 ; 508  |
                            21594 ; 509  |//// Line In definitions (used for Line-In 1)
                            21595 ; 510  |//// 0dB point of the Line In
                            21596 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            21597 ; 512  |//// Minimum volume of Line In
                            21598 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            21599 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            21600 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            21601 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            21602 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            21603 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS+1)
                            21604 ; 519  |
                            21605 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            21606 ; 521  |//// 0dB point of the Line In
                            21607 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            21608 ; 523  |//// Minimum volume of Line In
                            21609 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            21610 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            21611 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            21612 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            21613 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            21614 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            21615 ; 530  |
                            21616 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            21617 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid deadlock states & recovers. 
                            21618 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            21619 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            21620 ; 535  |
                            21621 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            21622 ; 537  |////
                            21623 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            21624 ; 539  |////
                            21625 ; 540  |///
                            21626 ; 541  |#include <types.h>
                            21627 ; 542  |extern volatile WORD g_wActivityState;
                            21628 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            21629 ; 544  |
                            21630 ; 545  |void _reentrant Init5VSense(void);
                            21631 ; 546  |void _reentrant ServiceDCDC(void);
                            21632 ; 547  |
                            21633 ; 548  |////////////////////////////////////////////////////////////////////////////
                            21634 ; 549  |//// JPEG Thumbnail Mode Setting
                            21635 ; 550  |//// number of column in thumbnail mode
                            21636 ; 551  |#define THUMBNAIL_X 2           
                            21637 ; 552  |//// number of row in  thumbnail mode
                            21638 ; 553  |#define THUMBNAIL_Y 2           
                            21639 ; 554  |//// thumbnail boundary offset x
                            21640 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            21641 ; 556  |//// thumbnail boundary offset y
                            21642 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            21643 ; 558  |
                            21644 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            21645 ; 560  |
                            21646 
                            21648 
                            21649 ; 101  |
                            21650 ; 102  |/*==================================================================================================
                            21651 ; 103  |                                             CONSTANTS
                            21652 ; 104  |==================================================================================================*/
                            21653 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            21654 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            21655 ; 107  |Artistname                              1:0
                            21656 ; 108  |Albumname                               3:2
                            21657 ; 109  |Genrename                               5:4
                            21658 ; 110  |Songname                                7:6
                            21659 ; 111  |----------------------------------------------------------
                            21660 ; 112  |    Value (2 bits)                      Meanings
                            21661 ; 113  |    0                                   RAW and All ASCII
                            21662 ; 114  |    1                                   Uni-code
                            21663 ; 115  |    2                                   Mixed, non-unicode
                            21664 ; 116  |
                            21665 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            21666 ; 118  |*/
                            21667 ; 119  |#define BITMASK_ARTIST  (0x03)
                            21668 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            21669 ; 121  |#define BITMASK_GENRE   (0x30)
                            21670 ; 122  |#define BITMASK_SONG    (0xC0)
                            21671 ; 123  |
                            21672 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            21673 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            21674 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            21675 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            21676 ; 128  |
                            21677 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            21678 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            21679 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            21680 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            21681 ; 133  |
                            21682 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            21683 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            21684 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            21685 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            21686 ; 138  |
                            21687 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            21688 ; 140  |
                            21689 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            21690 ; 142  |
                            21691 ; 143  |#define INDEX_EOF       0xFFF
                            21692 ; 144  |#ifdef _FOLDER_BROWSE_
                            21693 ; 145  |#define INDEX_ROOT  0xffe
                            21694 ; 146  |#define UNKNOWN_RECORD  0xfff
                            21695 ; 147  |#endif  // _FOLDER_BROWSE_
                            21696 ; 148  |
                            21697 ; 149  |/* Constant for item_type */
                            21698 ; 150  |#define         ITEM_ARTIST                     0
                            21699 ; 151  |#define         ITEM_ALBUM                      1
                            21700 ; 152  |#define         ITEM_GENRE                      2
                            21701 ; 153  |#define         ITEM_TRACK                      3
                            21702 ; 154  |#define         ITEM_YEAR                       4
                            21703 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            21704 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            21705 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            21706 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            21707 ; 159  |#ifdef _NEWMUSIC_
                            21708 ; 160  |#define         ITEM_1DAY                       10
                            21709 ; 161  |#define         ITEM_1WEEK                      11
                            21710 ; 162  |#define         ITEM_1MONTH                     12
                            21711 ; 163  |#endif
                            21712 ; 164  |#ifdef _AUDIBLE_
                            21713 ; 165  |#define         ITEM_AUDIBLE            13
                            21714 ; 166  |#endif
                            21715 ; 167  |#define         ITEM_ON_THE_GO          14
                            21716 ; 168  |
                            21717 ; 169  |#define         ITEM_VOICE                      15
                            21718 ; 170  |#define         ITEM_FMREC                      16
                            21719 ; 171  |#define         ITEM_PHOTO                      17
                            21720 ; 172  |#ifdef _FOLDER_BROWSE_
                            21721 ; 173  |#define         ITEM_INTERNAL           18
                            21722 ; 174  |#define         ITEM_EXTERNAL       19
                            21723 ; 175  |#endif  // _FOLDER_BROWSE_
                            21724 ; 176  |#define     ITEM_UNKNOWN        0xff
                            21725 ; 177  |
                            21726 ; 178  |/*
                            21727 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            21728 ; 180  |option input.
                            21729 ; 181  |*/
                            21730 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            21731 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            21732 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            21733 ; 185  |#ifdef _FOLDER_BROWSE_
                            21734 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            21735 ; 187  |#endif  // _FOLDER_BROWSE_
                            21736 ; 188  |
                            21737 ; 189  |/* Constant for key action */
                            21738 ; 190  |#define         ACTION_OK                               0               /* Press OK button */
                            21739 ; 191  |#define         ACTION_BACK                             1               /* Press BACK button */
                            21740 ; 192  |#define         ACTION_UP                               2               /* Press UP button */
                            21741 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN button */
                            21742 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            21743 ; 195  |#define         ACTION_MENU                             5               /* Back the browsing tree to root */
                            21744 ; 196  |
                            21745 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            21746 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            21747 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            21748 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            21749 ; 201  |
                            21750 ; 202  |#define         NO_SD                                   0
                            21751 ; 203  |#define         HAS_SD                                  1
                            21752 ; 204  |
                            21753 ; 205  |#define         PLAY_NORMAL                             0
                            21754 ; 206  |#define         PLAY_SHUFFLE                    1
                            21755 ; 207  |
                            21756 ; 208  |#define     PLAY_REPEAT_OFF         0
                            21757 ; 209  |#define     PLAY_REPEAT_ON          1
                            21758 ; 210  |
                            21759 ; 211  |#define     PLAY_SELECT_FLASH       0
                            21760 ; 212  |#define     PLAY_SELECT_SD          1
                            21761 ; 213  |
                            21762 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            21763 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            21764 ; 216  |
                            21765 ; 217  |#define         ON_THE_GO_EXIST                 0
                            21766 ; 218  |#define         ON_THE_GO_FULL                  1
                            21767 ; 219  |#define         ON_THE_GO_FREE                  2
                            21768 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            21769 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            21770 ; 222  |
                            21771 ; 223  |#define         REC_VOICE_TYPE                  0
                            21772 ; 224  |#define         REC_FMREC_TYPE                  1
                            21773 ; 225  |#define         REC_PHOTO_TYPE                  2
                            21774 ; 226  |#define         VOICE_FILE_ADD                  0
                            21775 ; 227  |#define         VOICE_FILE_DEL                  1
                            21776 ; 228  |
                            21777 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            21778 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            21779 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            21780 ; 232  |flash or external SD card */
                            21781 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            21782 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            21783 ; 235  |#else
                            21784 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            21785 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            21786 ; 238  |
                            21787 ; 239  |/* number of byte in one DSP word */
                            21788 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            21789 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            21790 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            21791 ; 243  |are 10 level directory structure */
                            21792 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  87

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21793 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            21794 ; 246  |
                            21795 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            21796 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            21797 ; 249  |/* number of songs in each new music list */
                            21798 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            21799 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            21800 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            21801 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            21802 ; 254  |/* number of songs in the on-the-fly list */
                            21803 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            21804 ; 256  |/* number of files audible list */
                            21805 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            21806 ; 258  |
                            21807 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            21808 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            21809 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            21810 ; 262  |
                            21811 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            21812 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            21813 ; 265  |#ifdef _FOLDER_BROWSE_
                            21814 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            21815 ; 267  |#else
                            21816 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            21817 ; 269  |#endif  // _FOLDER_BROWSE_
                            21818 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            21819 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            21820 ; 272  |
                            21821 ; 273  |#ifndef _MAX_DIR_DEPTH
                            21822 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            21823 ; 275  |#endif  // _MAX_DIR_DEPTH
                            21824 ; 276  |
                            21825 ; 277  |/*==================================================================================================*/
                            21826 ; 278  |
                            21827 ; 279  |
                            21828 ; 280  |/*==================================================================================================
                            21829 ; 281  |                                               MACROS
                            21830 ; 282  |==================================================================================================*/
                            21831 ; 283  |
                            21832 ; 284  |/*==================================================================================================
                            21833 ; 285  |                                               ENUMS
                            21834 ; 286  |==================================================================================================*/
                            21835 ; 287  |#define NUM_OF_MEDIA                            (2)
                            21836 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            21837 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            21838 ; 290  |/*==================================================================================================
                            21839 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            21840 ; 292  |==================================================================================================*/
                            21841 ; 293  |
                            21842 ; 294  |typedef char    int8;
                            21843 ; 295  |typedef short   int16;
                            21844 ; 296  |typedef int     int24;
                            21845 ; 297  |typedef long    int32;
                            21846 ; 298  |
                            21847 ; 299  |typedef int     intx;
                            21848 ; 300  |
                            21849 ; 301  |typedef unsigned char   uint8;
                            21850 ; 302  |typedef unsigned short  uint16;
                            21851 ; 303  |typedef unsigned int    uint24;
                            21852 ; 304  |typedef unsigned long   uint32;
                            21853 
                            21857 
                            21858 ; 305  |
                            21859 ; 306  |/*
                            21860 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode format.
                            21861 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            21862 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            21863 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            21864 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            21865 ; 312  |*/
                            21866 ; 313  |/*
                            21867 ; 314  |path_name[] _must_have_data_:
                            21868 ; 315  |path_name[] = (Max. 120 Characters);
                            21869 ; 316  |year range:
                            21870 ; 317  |year = 0x000000-0xFFFFFF;
                            21871 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            21872 ; 319  |Unknown track number:
                            21873 ; 320  |track_number = 0x7FFFFF;
                            21874 ; 321  |unicode refer to above #define BITMASK_*
                            21875 ; 322  |*/
                            21876 ; 323  |/*
                            21877 ; 324  |Interface of UI and Music Library
                            21878 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            21879 ; 326  |
                            21880 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            21881 ; 328  |
                            21882 ; 329  |3) UI to Music Library variable passing length definition:
                            21883 ; 330  |        All ASCII Characters:
                            21884 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            21885 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            21886 ; 333  |        Unicode Characters:
                            21887 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            21888 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            21889 ; 336  |
                            21890 ; 337  |4) UI input data to Music Library in two formats.
                            21891 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            21892 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            21893 ; 340  |
                            21894 ; 341  |5) UI calling function:
                            21895 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            21896 ; 343  |        int16 option definition:
                            21897 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            21898 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            21899 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            21900 ; 347  |
                            21901 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            21902 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_list separately.
                            21903 ; 350  |
                            21904 ; 351  |6) Modification Date:
                            21905 ; 352  |        uint24 g_file_time:
                            21906 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            21907 ; 354  |*/
                            21908 ; 355  |
                            21909 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            21910 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            21911 ; 358  |typedef struct _ram_song_info {
                            21912 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21913 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21914 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21915 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21916 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21917 ; 364  |    uint32 g_songFastKey;
                            21918 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21919 ; 366  |        uint24 year;
                            21920 ; 367  |        uint24 track_number;
                            21921 ; 368  |        uint8 unicode;
                            21922 ; 369  |} RAM_SONG_INFO_T;
                            21923 ; 370  |
                            21924 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            21925 ; 372  |typedef struct _flash_group_name {
                            21926 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21927 ; 374  |        uint8 unicode;
                            21928 ; 375  |} FLASH_GROUP_NAME_T;
                            21929 ; 376  |
                            21930 ; 377  |// struct to store directories information passed from UI
                            21931 ; 378  |#ifdef _FOLDER_BROWSE_
                            21932 ; 379  |typedef struct _ml_DirInfo {
                            21933 ; 380  |        uint24  u8Unicode : 8;
                            21934 ; 381  |        uint24  u12DirDepth : 12;
                            21935 ; 382  |        uint24  u4Added : 4;            
                            21936 ; 383  |        INT     iDirRecord;
                            21937 ; 384  |        DWORD   dwFastKey;
                            21938 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21939 ; 386  |} ML_DIRINFO_T;
                            21940 ; 387  |#endif  // _FOLDER_BROWSE_
                            21941 ; 388  |
                            21942 ; 389  |/*==================================================================================================
                            21943 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            21944 ; 391  |==================================================================================================*/
                            21945 ; 392  |extern uint24   IsPlayOnTheGo;
                            21946 
                            21952 
                            21953 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            21954 ; 394  |extern uint24   merge_id_list_flash[];
                            21955 ; 395  |extern uint24   merge_id_list_sd[];
                            21956 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            21957 ; 397  |#ifdef _FOLDER_BROWSE_
                            21958 
                            21971 
                            21972 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            21973 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21974 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            21975 ; 401  |#endif  // _FOLDER_BROWSE_
                            21976 ; 402  |extern INT _X    *sec_temp_buf_X;
                            21977 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 = repeat on/off(0=off/1=on) */
                            21978 ; 404  |
                            21979 ; 405  |/*==================================================================================================
                            21980 ; 406  |                                        FUNCTION PROTOTYPES
                            21981 ; 407  |==================================================================================================*/
                            21982 ; 408  |
                            21983 ; 409  |///////////////////////////////////////////////////////////////////////
                            21984 ; 410  |//! \brief
                            21985 ; 411  |//!
                            21986 ; 412  |//! \fntype Function
                            21987 ; 413  |//!
                            21988 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            21989 ; 415  |//! Call only once before inserting items. Call once for each media.
                            21990 ; 416  |//!
                            21991 ; 417  |//! \param[in]  none
                            21992 ; 418  |//!
                            21993 ; 419  |//! \return
                            21994 ; 420  |//!
                            21995 ; 421  |///////////////////////////////////////////////////////////////////////
                            21996 ; 422  |void ML_InitLibraryParameter(void);
                            21997 ; 423  |
                            21998 ; 424  |///////////////////////////////////////////////////////////////////////
                            21999 ; 425  |//! \brief
                            22000 ; 426  |//!
                            22001 ; 427  |//! \fntype Function
                            22002 ; 428  |//!
                            22003 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            22004 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            22005 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each song,
                            22006 ; 432  |//! the song information is recorded in music library.
                            22007 ; 433  |//!
                            22008 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            22009 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passed from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            22010 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav format file.
                            22011 ; 437  |//!
                            22012 ; 438  |//! \return
                            22013 ; 439  |//!
                            22014 ; 440  |///////////////////////////////////////////////////////////////////////
                            22015 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            22016 
                            22030 
                            22031 ; 442  |
                            22032 ; 443  |///////////////////////////////////////////////////////////////////////
                            22033 ; 444  |//! \brief
                            22034 ; 445  |//!
                            22035 ; 446  |//! \fntype Function
                            22036 ; 447  |//!
                            22037 ; 448  |//! \param[in]
                            22038 ; 449  |//!
                            22039 ; 450  |//! \return
                            22040 ; 451  |//!
                            22041 ; 452  |///////////////////////////////////////////////////////////////////////
                            22042 ; 453  |#ifdef _FOLDER_BROWSE_
                            22043 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int16 i16Option);
                            22044 ; 455  |#endif  // _FOLDER_BROWSE_
                            22045 ; 456  |
                            22046 ; 457  |///////////////////////////////////////////////////////////////////////
                            22047 ; 458  |//! \brief
                            22048 ; 459  |//!
                            22049 ; 460  |//! \fntype Function
                            22050 ; 461  |//!
                            22051 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            22052 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            22053 ; 464  |//! music library for that particular media.
                            22054 ; 465  |//!
                            22055 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            22056 ; 467  |//!
                            22057 ; 468  |//! \return
                            22058 ; 469  |//!
                            22059 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            22060 ; 471  |//!         function.
                            22061 ; 472  |///////////////////////////////////////////////////////////////////////
                            22062 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            22063 ; 474  |
                            22064 ; 475  |///////////////////////////////////////////////////////////////////////
                            22065 ; 476  |//! \brief
                            22066 ; 477  |//!
                            22067 ; 478  |//! \fntype Function
                            22068 ; 479  |//!
                            22069 ; 480  |//! \param[in]
                            22070 ; 481  |//!
                            22071 ; 482  |//! \return
                            22072 ; 483  |//!
                            22073 ; 484  |///////////////////////////////////////////////////////////////////////
                            22074 ; 485  |#ifdef _NEWMUSIC_
                            22075 ; 486  |void ML_UpdateNewMusic(void);
                            22076 ; 487  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  88

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22077 ; 488  |
                            22078 ; 489  |///////////////////////////////////////////////////////////////////////
                            22079 ; 490  |//! \brief
                            22080 ; 491  |//!
                            22081 ; 492  |//! \fntype Function
                            22082 ; 493  |//!
                            22083 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            22084 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            22085 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            22086 ; 497  |//!
                            22087 ; 498  |//! \param[in]  none
                            22088 ; 499  |//!
                            22089 ; 500  |//! \return
                            22090 ; 501  |//!
                            22091 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            22092 ; 503  |//!         must be called before calling any other music library functions.
                            22093 ; 504  |///////////////////////////////////////////////////////////////////////
                            22094 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            22095 ; 506  |
                            22096 ; 507  |///////////////////////////////////////////////////////////////////////
                            22097 ; 508  |//! \brief
                            22098 ; 509  |//!
                            22099 ; 510  |//! \fntype Function
                            22100 ; 511  |//!
                            22101 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            22102 ; 513  |//! library operation.
                            22103 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            22104 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file and the
                            22105 ; 516  |//! music.sec file do not exist.
                            22106 ; 517  |//!
                            22107 ; 518  |//! \param[in]  none
                            22108 ; 519  |//!
                            22109 ; 520  |//! \return
                            22110 ; 521  |//!
                            22111 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            22112 ; 523  |//!         must be called before calling any other music library functions.
                            22113 ; 524  |///////////////////////////////////////////////////////////////////////
                            22114 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            22115 ; 526  |
                            22116 ; 527  |///////////////////////////////////////////////////////////////////////
                            22117 ; 528  |//! \brief
                            22118 ; 529  |//!
                            22119 ; 530  |//! \fntype Function
                            22120 ; 531  |//!
                            22121 ; 532  |//! Preload the list, prepare for renew.
                            22122 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            22123 ; 534  |//! structure in RAM.
                            22124 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            22125 ; 536  |//! in RAM.
                            22126 ; 537  |//!
                            22127 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            22128 ; 539  |//!
                            22129 ; 540  |//! \return
                            22130 ; 541  |//!
                            22131 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            22132 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            22133 ; 544  |///////////////////////////////////////////////////////////////////////
                            22134 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            22135 ; 546  |
                            22136 ; 547  |///////////////////////////////////////////////////////////////////////
                            22137 ; 548  |//! \brief
                            22138 ; 549  |//!
                            22139 ; 550  |//! \fntype Function
                            22140 ; 551  |//!
                            22141 ; 552  |//! Save the list to flash memory.
                            22142 ; 553  |//!
                            22143 ; 554  |//! \param[in]
                            22144 ; 555  |//!
                            22145 ; 556  |//! \return
                            22146 ; 557  |//!
                            22147 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            22148 ; 559  |//!         changed by the user.
                            22149 ; 560  |///////////////////////////////////////////////////////////////////////
                            22150 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            22151 ; 562  |
                            22152 ; 563  |///////////////////////////////////////////////////////////////////////
                            22153 ; 564  |//! \brief
                            22154 ; 565  |//!
                            22155 ; 566  |//! \fntype Function
                            22156 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            22157 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in the
                            22158 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the list.
                            22159 ; 570  |//! Otherwise the song is deleted.
                            22160 ; 571  |//!
                            22161 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            22162 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            22163 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            22164 ; 575  |//!
                            22165 ; 576  |//! \return
                            22166 ; 577  |//!
                            22167 ; 578  |///////////////////////////////////////////////////////////////////////
                            22168 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            22169 ; 580  |
                            22170 ; 581  |///////////////////////////////////////////////////////////////////////
                            22171 ; 582  |//! \brief
                            22172 ; 583  |//!
                            22173 ; 584  |//! \fntype Function
                            22174 ; 585  |//!
                            22175 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            22176 ; 587  |//! in the ML_UpdateOnTheGo().
                            22177 ; 588  |//!
                            22178 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            22179 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDEX_EOF (song will be deleted)
                            22180 ; 591  |//!
                            22181 ; 592  |//! \return
                            22182 ; 593  |//!
                            22183 ; 594  |///////////////////////////////////////////////////////////////////////
                            22184 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            22185 ; 596  |
                            22186 ; 597  |///////////////////////////////////////////////////////////////////////
                            22187 ; 598  |//! \brief
                            22188 ; 599  |//!
                            22189 ; 600  |//! \fntype Function
                            22190 ; 601  |//!
                            22191 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            22192 ; 603  |//!
                            22193 ; 604  |//! \param[in]  none
                            22194 ; 605  |//!
                            22195 ; 606  |//! \return
                            22196 ; 607  |//!
                            22197 ; 608  |///////////////////////////////////////////////////////////////////////
                            22198 ; 609  |void ML_UpdateOnTheGo(void);
                            22199 ; 610  |
                            22200 ; 611  |///////////////////////////////////////////////////////////////////////
                            22201 ; 612  |//! \brief
                            22202 ; 613  |//!
                            22203 ; 614  |//! \fntype Function
                            22204 ; 615  |//!
                            22205 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            22206 ; 617  |//! Call only once before inserting items. Call once for each media.
                            22207 ; 618  |//!
                            22208 ; 619  |//! \param[in]  none
                            22209 ; 620  |//!
                            22210 ; 621  |//! \return
                            22211 ; 622  |//!
                            22212 ; 623  |///////////////////////////////////////////////////////////////////////
                            22213 ; 624  |void ML_InitVoiceParameter(void);
                            22214 ; 625  |
                            22215 ; 626  |///////////////////////////////////////////////////////////////////////
                            22216 ; 627  |//! \brief
                            22217 ; 628  |//!
                            22218 ; 629  |//! \fntype Function
                            22219 ; 630  |//!
                            22220 ; 631  |//! \param[in]
                            22221 ; 632  |//!
                            22222 ; 633  |//! \return
                            22223 ; 634  |//!
                            22224 ; 635  |///////////////////////////////////////////////////////////////////////
                            22225 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            22226 ; 637  |
                            22227 ; 638  |///////////////////////////////////////////////////////////////////////
                            22228 ; 639  |//! \brief
                            22229 ; 640  |//!
                            22230 ; 641  |//! \fntype Function
                            22231 ; 642  |//!
                            22232 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            22233 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names.
                            22234 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            22235 ; 646  |//!
                            22236 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            22237 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed from UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            22238 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            22239 ; 650  |//!
                            22240 ; 651  |//! \return
                            22241 ; 652  |//!
                            22242 ; 653  |///////////////////////////////////////////////////////////////////////
                            22243 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            22244 ; 655  |
                            22245 ; 656  |///////////////////////////////////////////////////////////////////////
                            22246 ; 657  |//! \brief
                            22247 ; 658  |//!
                            22248 ; 659  |//! \fntype Function
                            22249 ; 660  |//!
                            22250 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            22251 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice building
                            22252 ; 663  |//! of music library for that particular media.
                            22253 ; 664  |//!
                            22254 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            22255 ; 666  |//!
                            22256 ; 667  |//! \return
                            22257 ; 668  |//!
                            22258 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            22259 ; 670  |//!         function.
                            22260 ; 671  |///////////////////////////////////////////////////////////////////////
                            22261 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            22262 ; 673  |
                            22263 ; 674  |///////////////////////////////////////////////////////////////////////
                            22264 ; 675  |//! \brief
                            22265 ; 676  |//!
                            22266 ; 677  |//! \fntype Function
                            22267 ; 678  |//!
                            22268 ; 679  |//! Called by UI, the merge the music library tables album,
                            22269 ; 680  |//! artist, genre, song and year.
                            22270 ; 681  |//!
                            22271 ; 682  |//! \param[in]  none
                            22272 ; 683  |//!
                            22273 ; 684  |//! \return
                            22274 ; 685  |//!
                            22275 ; 686  |///////////////////////////////////////////////////////////////////////
                            22276 ; 687  |void ML_MergeLibraryTables(void);
                            22277 ; 688  |
                            22278 ; 689  |///////////////////////////////////////////////////////////////////////
                            22279 ; 690  |//! \brief
                            22280 ; 691  |//!
                            22281 ; 692  |//! \fntype Function
                            22282 ; 693  |//!
                            22283 ; 694  |//! Called by UI, the merge the music library tables album,
                            22284 ; 695  |//! artist, genre, song and year.
                            22285 ; 696  |//!
                            22286 ; 697  |//! \param[in]  none
                            22287 ; 698  |//!
                            22288 ; 699  |//! \return
                            22289 ; 700  |//!
                            22290 ; 701  |///////////////////////////////////////////////////////////////////////
                            22291 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            22292 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            22293 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            22294 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            22295 ; 706  |
                            22296 ; 707  |///////////////////////////////////////////////////////////////////////
                            22297 ; 708  |//! \brief
                            22298 ; 709  |//!
                            22299 ; 710  |//! \fntype Function
                            22300 ; 711  |//!
                            22301 ; 712  |//! \param[in]
                            22302 ; 713  |//!
                            22303 ; 714  |//! \return
                            22304 ; 715  |//!
                            22305 ; 716  |///////////////////////////////////////////////////////////////////////
                            22306 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            22307 ; 718  |
                            22308 ; 719  |/*================================================================================================*/
                            22309 ; 720  |
                            22310 ; 721  |// Siukoon 2005-02-28
                            22311 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            22312 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            22313 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            22314 ; 725  |#else
                            22315 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            22316 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            22317 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            22318 ; 729  |#define WORD_PER_SECTOR             (171)
                            22319 ; 730  |#define BYTE_PER_SECTOR             (512)
                            22320 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            22321 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            22322 ; 733  |
                            22323 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            22324 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            22325 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            22326 ; 737  |
                            22327 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  89

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22328 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            22329 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            22330 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            22331 ; 742  |
                            22332 ; 743  |/////////////////////
                            22333 ; 744  |
                            22334 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            22335 ; 746  |
                            22336 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            22337 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            22338 ; 749  |#else
                            22339 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            22340 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            22341 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            22342 ; 753  |
                            22343 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            22344 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            22345 ; 756  |
                            22346 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            22347 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            22348 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            22349 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            22350 ; 761  |#else
                            22351 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            22352 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            22353 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            22354 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            22355 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            22356 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            22357 ; 768  |
                            22358 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            22359 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            22360 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            22361 ; 772  |#else
                            22362 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG_PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            22363 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            22364 ; 775  |
                            22365 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            22366 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            22367 ; 778  |
                            22368 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            22369 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            22370 ; 781  |
                            22371 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            22372 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            22373 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            22374 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            22375 ; 786  |#else
                            22376 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            22377 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            22378 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            22379 ; 790  |
                            22380 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            22381 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6)
                            22382 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            22383 ; 794  |#else
                            22384 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            22385 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            22386 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            22387 ; 798  |
                            22388 ; 799  |#ifdef __cplusplus
                            22389 ; 800  |}
                            22390 ; 801  |#endif
                            22391 ; 802  |
                            22392 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            22393 
                            22395 
                            22396 ; 6    |#endif  // USE_PLAYLIST3
                            22397 ; 7    |
                            22398 ; 8    |#ifndef QUICK_SWITCH_TIMEOUT_TIME
                            22399 ; 9    |// change from 500ms t0 400ms  to reduce inter-song delay by 0.1 sec (8-11-2005)
                            22400 ; 10   |#define QUICK_SWITCH_TIMEOUT_TIME 400   
                            22401 ; 11   |#endif
                            22402 ; 12   |
                            22403 ; 13   |//These are in the DecoderSR/DecoderCSR
                            22404 ; 14   |#define DECODER_VBRFlag         1<<1
                            22405 ; 15   |#define DECODER_PAUSED          1<<5
                            22406 ; 16   |#define DECODER_STOPPED         1<<6
                            22407 ; 17   |#define DECODER_SYNCED          1<<10
                            22408 ; 18   |#define DECODER_PLAYING         1<<12
                            22409 ; 19   |#define DECODER_END_OF_SONG     1<<13           // in DecoderCSR
                            22410 ; 20   |#define DECODER_SONG_INFO       1<<15
                            22411 ; 21   |#define DECODER_FILE_IS_OPEN    1<<16
                            22412 ; 22   |#define DECODER_A_SET           1<<18
                            22413 ; 23   |#define DECODER_B_SET           1<<19
                            22414 ; 24   |#define DECODER_BAD_FILE        1<<21
                            22415 ; 25   |#define DECODER_LOOKING_FOR_SYNC 1<<22
                            22416 ; 26   |
                            22417 ; 27   |#define SEEK_NONE 0
                            22418 ; 28   |#define SEEK_FFWD 1
                            22419 ; 29   |#define SEEK_RWND -1
                            22420 ; 30   |
                            22421 ; 31   |extern _X int g_iSeeking;
                            22422 ; 32   |extern _X INT g_iPlayerState;
                            22423 ; 33   |
                            22424 ; 34   |#ifdef USE_PLAYLIST3
                            22425 ; 35   |extern BOOL bSystemInit;
                            22426 ; 36   |extern uint24   g_is_SD_inserted;
                            22427 ; 37   |extern BOOL bResume;
                            22428 ; 38   |#endif  // USE_PLAYLIST3
                            22429 ; 39   |
                            22430 ; 40   |#ifdef USE_PLAYLIST3
                            22431 ; 41   |void _reentrant ML_browsing_app_init(void);
                            22432 ; 42   |#endif  // USE_PLAYLIST3
                            22433 ; 43   |
                            22434 ; 44   |#endif
                            22435 
                            22437 
                            22438 ; 21   |#include "sysequ.h"
                            22439 
                            22441 
                            22442 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            22443 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                            22444 ; 3    |// System defs
                            22445 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            22446 ; 5    |
                            22447 ; 6    |#if (!defined(SYSEQU_INC))
                            22448 ; 7    |#define SYSEQU_INC 1
                            22449 ; 8    |
                            22450 ; 9    |#define SOFTTIMER_CONTINUOUS_EVENT 0
                            22451 ; 10   |
                            22452 ; 11   |
                            22453 ; 12   |#define HOLD_BUTTON_REPORTED_BITMASK 4
                            22454 ; 13   |
                            22455 ; 14   |
                            22456 ; 15   |// Decoder types
                            22457 ; 16   |#define DECODER_TYPE_MP3 0
                            22458 ; 17   |#define DECODER_TYPE_WMA 1
                            22459 ; 18   |#define DECODER_TYPE_AAC 2
                            22460 ; 19   |#define DECODER_TYPE_ADPCM_IMA 3
                            22461 ; 20   |#define DECODER_TYPE_ADPCM_MS 4
                            22462 ; 21   |#define DECODER_TYPE_PCM 5
                            22463 ; 22   |#define DECODER_TYPE_STFM 6
                            22464 ; 23   |
                            22465 ; 24   |// Encoder types
                            22466 ; 25   |#define ENCODER_TYPE_ADPCM_IMA 0
                            22467 ; 26   |#define ENCODER_TYPE_PCM 1
                            22468 ; 27   |#define ENCODER_TYPE_MP3 2
                            22469 ; 28   |
                            22470 ; 29   |// EncoderSR/EncoderCSR bit equates.  Also uses Stop & Play below.
                            22471 ; 30   |#define EncNotEnoughSpace 0
                            22472 ; 31   |#define EncRanOutOfSpace 1
                            22473 ; 32   |#define EncRecordError 2
                            22474 ; 33   |#define EncToldToStop 3
                            22475 ; 34   |#define EncAlreadyRecording 4
                            22476 ; 35   |// ENCODER_STOPPED       equ     6   ; As RecorderStateMachine.h
                            22477 ; 36   |#define EncWarnLowSpace 7
                            22478 ; 37   |#define EncWarningSent 8
                            22479 ; 38   |// ENCODER_RECORDING     equ     12
                            22480 ; 39   |
                            22481 ; 40   |// DecoderSR/DecoderCSR bit equates
                            22482 ; 41   |//  This bit is set when the decoder sends a message to the parser and is 
                            22483 ; 42   |#define DecoderIgnoreMessages 0   
                            22484 ; 43   |//  waiting for a response.
                            22485 ; 44   |#define VBRFlag 1
                            22486 ; 45   |#define RepeatSong 2
                            22487 ; 46   |#define RepeatAll 3
                            22488 ; 47   |#define Random 4
                            22489 ; 48   |#define Pause 5
                            22490 ; 49   |#define Stop 6
                            22491 ; 50   |#define Rwnd 7
                            22492 ; 51   |#define Ffwd 8
                            22493 ; 52   |#define TimeMode 9
                            22494 ; 53   |// set when Fstatus_o = 1 for mp3 
                            22495 ; 54   |#define DecSync 10    
                            22496 ; 55   |#define Play 12
                            22497 ; 56   |// starting with sdk2.105: changed to set when decoder done instead of when file reads done 
                            22498 ; 57   |#define EndOfSong 13    
                            22499 ; 58   |#define EndOfList 14
                            22500 ; 59   |#define SongInfo 15
                            22501 ; 60   |// set when a song file is currently opened by the decoder
                            22502 ; 61   |#define FileIsOpen 16    
                            22503 ; 62   |// used by parser
                            22504 ; 63   |#define SkipBlockHeader 17    
                            22505 ; 64   |#define ABMode_A 18
                            22506 ; 65   |#define ABMode_B 19
                            22507 ; 66   |#define ABQuiet 20
                            22508 ; 67   |// set if bad file encountered
                            22509 ; 68   |#define BadFile 21    
                            22510 ; 69   |// mp3 decoder looking for sync
                            22511 ; 70   |#define SyncWait 22    
                            22512 ; 71   |// error reading file, duh
                            22513 ; 72   |#define FileReadError 23    
                            22514 ; 73   |
                            22515 ; 74   |// DecoderCSR2 bit equates
                            22516 ; 75   |//Set when EOF reached, prevent freads beyond EOF 
                            22517 ; 76   |#define EndOfFileReached 0  
                            22518 ; 77   |// Set when need to allow LCD to update time
                            22519 ; 78   |#define TimeNeedsUpdate 1  
                            22520 ; 79   |
                            22521 ; 80   |
                            22522 ; 81   |// ParserVoiceCSR bits (specific to voice files)
                            22523 ; 82   |// repeat playing current file
                            22524 ; 83   |#define RepeatOneFile 0     
                            22525 ; 84   |// continuously loop through files
                            22526 ; 85   |#define RepeatAllFiles 1     
                            22527 ; 86   |// start at current file, play all files, then stop
                            22528 ; 87   |#define LoopOnce 2     
                            22529 ; 88   |
                            22530 ; 89   |// DecAdpcmFlags bits (used by ADPCM decoders)
                            22531 ; 90   |// Set to '1' when header unpacked, cleared during StopCurrentSong
                            22532 ; 91   |#define WaveHeaderFound 0       
                            22533 ; 92   |
                            22534 ; 93   |#if (defined(TRACEBUF_EN))
                            22535 ; 94   |// Trace buffer words.  Not ENabled by default.
                            22536 ; 95   |#define TRACE_BUFF_SIZE 256
                            22537 ; 96   |#define TRACE_BUFF_MODULO TRACE_BUFF_SIZE-1 
                            22538 ; 97   |#endif
                            22539 ; 98   |
                            22540 ; 99   |// Scratch area stuff
                            22541 ; 100  |#if defined(STMP_BUILD_PLAYER)
                            22542 ; 101  |#define SCRATCH_USER_Y_SIZE 512
                            22543 ; 102  |#define SCRATCH_USER_X_SIZE 256
                            22544 ; 103  |#else 
                            22545 ; 104  |#if defined(FAT32TEST)
                            22546 ; 105  |#define SCRATCH_USER_Y_SIZE 683
                            22547 ; 106  |#define SCRATCH_USER_X_SIZE 128
                            22548 ; 107  |#else 
                            22549 ; 108  |#define SCRATCH_USER_Y_SIZE 128
                            22550 ; 109  |#define SCRATCH_USER_X_SIZE 128
                            22551 ; 110  |#endif
                            22552 ; 111  |#endif
                            22553 ; 112  |
                            22554 ; 113  |#define SCRATCH_USER_X_SIZE_BYTES SCRATCH_USER_X_SIZE*3
                            22555 ; 114  |#define SCRATCH_USER_X_MODULO SCRATCH_USER_X_SIZE-1
                            22556 ; 115  |#define SCRATCH_USER_Y_SIZE_BYTES SCRATCH_USER_Y_SIZE*3
                            22557 ; 116  |#define SCRATCH_USER_Y_MODULO SCRATCH_USER_Y_SIZE-1
                            22558 ; 117  |
                            22559 ; 118  |// Boot ROM execute location
                            22560 ; 119  |#define BootExecuteCommand 0x012B
                            22561 ; 120  |
                            22562 ; 121  |#define BOOT_USB 0x000002
                            22563 ; 122  |#define BOOT_SMARTMEDIA 0x000004
                            22564 ; 123  |#define BOOT_COMPACTFLASH 0x000005
                            22565 ; 124  |#define BOOT_I2C_SLAVE 0x000009
                            22566 ; 125  |#define BOOT_I2C_MASTER 0x00000A
                            22567 ; 126  |#define BOOT_SPI_SLAVE 0x00000B
                            22568 ; 127  |#define BOOT_SPI_MASTER 0x00000C
                            22569 ; 128  |#define BOOT_HOSTPORT 0x00000D
                            22570 ; 129  |#define BOOT_BURNIN 0x00000F
                            22571 ; 130  |
                            22572 ; 131  |// Numerical constants
                            22573 ; 132  |//PI              equ     3.141592654
                            22574 ; 133  |
                            22575 ; 134  |// Buffer Descriptor offsets
                            22576 ; 135  |#define BD_BufferBaseAddress 0
                            22577 ; 136  |#define BD_BufferModulo 1
                            22578 ; 137  |#define BD_BufferSize 2
                            22579 ; 138  |#define BD_HdPtr 3
                            22580 ; 139  |#define BD_TailPtr 4
                            22581 ; 140  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  90

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22582 ; 141  |// Size of a buffer descriptor
                            22583 ; 142  |#define BUFF_DESC_SIZE 5
                            22584 ; 143  |
                            22585 ; 144  |// Mp3 Song Table Descriptor Offsets
                            22586 ; 145  |// number of elements for each song
                            22587 ; 146  |#define MST_ELEMENT_COUNT 7        
                            22588 ; 147  |#define MST_CARD_NUMBER 0
                            22589 ; 148  |#define MST_ADDR_LOW 1
                            22590 ; 149  |#define MST_ADDR_HIGH 2
                            22591 ; 150  |#define MST_BYTES_LOW 3
                            22592 ; 151  |#define MST_BYTES_HIGH 4
                            22593 ; 152  |#define MST_SAMPLE_RATE 5
                            22594 ; 153  |#define MST_SONG_TYPE 6
                            22595 ; 154  |
                            22596 ; 155  |// Data Format Descriptor offsets
                            22597 ; 156  |#define DF_NumChannels 0
                            22598 ; 157  |#define DF_SampleRate 1
                            22599 ; 158  |#define DF_BitsPerSample 2
                            22600 ; 159  |
                            22601 ; 160  |
                            22602 ; 161  |// Timer Descriptor Offset
                            22603 ; 162  |#define TD_TimerNumber 0
                            22604 ; 163  |#define TD_ControlValue 1
                            22605 ; 164  |#define TD_CountValue 2
                            22606 ; 165  |#define TD_ControlRegister 3
                            22607 ; 166  |#define TD_CountRegister 4
                            22608 ; 167  |
                            22609 ; 168  |
                            22610 ; 169  |// File IO defines
                            22611 ; 170  |#define FileInPort 0x8000
                            22612 ; 171  |#define FileOutPort 0x8001
                            22613 ; 172  |#define OnceInPort 0x8000
                            22614 ; 173  |#define OnceOutPort 0x8001
                            22615 ; 174  |#define SmFakeInPort 0x8002
                            22616 ; 175  |#define SmFakeOutPort 0x8003
                            22617 ; 176  |#define UsbFakeInPort 0x8004
                            22618 ; 177  |#define UsbFakeOutPort 0x8005
                            22619 ; 178  |
                            22620 ; 179  |// Target memory stuff
                            22621 ; 180  |#define TARGET_MEM_MASK 0xF00000
                            22622 ; 181  |#define TARGET_MEM_X 0x800000
                            22623 ; 182  |#define TARGET_MEM_Y 0x400000
                            22624 ; 183  |#define TARGET_MEM_L 0x200000
                            22625 ; 184  |#define TARGET_MEM_P 0x100000
                            22626 ; 185  |
                            22627 ; 186  |#define TARGET_MEM_X_BITPOS 23
                            22628 ; 187  |#define TARGET_MEM_Y_BITPOS 22
                            22629 ; 188  |#define TARGET_MEM_L_BITPOS 21
                            22630 ; 189  |#define TARGET_MEM_P_BITPOS 20
                            22631 ; 190  |
                            22632 ; 191  |
                            22633 ; 192  |// File System Stuff
                            22634 ; 193  |// assume 3 deep max with 8.3 format (38 bytes inc. /'s)
                            22635 ; 194  |#define MaxDirCount 13         
                            22636 ; 195  |
                            22637 ; 196  |// Error Codes
                            22638 ; 197  |//      Value           Error
                            22639 ; 198  |//      --------------------------------------------
                            22640 ; 199  |//      $000000         Reserved - no error
                            22641 ; 200  |//      $000001         SmartMedia Bad Programming Error
                            22642 ; 201  |//      $000002         SmartMedia Read Timeout
                            22643 ; 202  |//      $000003         USB PLL Lock Timeout
                            22644 ; 203  |//       $000010         GetNumSongs returned an error
                            22645 ; 204  |//       $000011         fopen failed to open file number (in x:TrackNum)
                            22646 ; 205  |//       $000012         fread failed when attempting to read page
                            22647 ; 206  |//       $000013         fread failed to read correct number of bytes
                            22648 ; 207  |#define NO_ERROR 0x000000
                            22649 ; 208  |#define ERROR_PLL_LOCK_TIMEOUT 0x000001
                            22650 ; 209  |
                            22651 ; 210  |#define ERROR_SM_BADP 0x000100
                            22652 ; 211  |#define ERROR_SM_TIMEOUT 0x000101
                            22653 ; 212  |#define ERROR_SM_INVALID_BLOCK 0x000102
                            22654 ; 213  |#define ERROR_SM_INVALID_DATA 0x000103
                            22655 ; 214  |#define ERROR_SM_ECC 0x000104
                            22656 ; 215  |#define ERROR_SM_BLOCK_ERASE_FAILED 0x000105
                            22657 ; 216  |#define ERROR_SM_CARD_NOT_FOUND 0x000106
                            22658 ; 217  |#define ERROR_SM_BUSY_TIMEOUT 0x000107
                            22659 ; 218  |#define ERROR_SM_WRITE_FAILED 0x000108
                            22660 ; 219  |#define ERROR_SM_DEVICE_ID 0x000109
                            22661 ; 220  |
                            22662 ; 221  |#define ERROR_NUM_SONGS 0x000200
                            22663 ; 222  |#define ERROR_FOPEN_FILENUM 0x000201
                            22664 ; 223  |#define ERROR_FREAD_PAGE 0x000202
                            22665 ; 224  |#define ERROR_FREAD_BYTE_COUNT 0x000203
                            22666 ; 225  |#define ERROR_CREATING_VOICE_DIR 0x000204 
                            22667 ; 226  |
                            22668 ; 227  |#define ERROR_USB_DISCONNECTED 0x000300
                            22669 ; 228  |
                            22670 ; 229  |#define ERROR_DECODER_PLAYING 0x000400
                            22671 ; 230  |// Attempted to set position past the end of file
                            22672 ; 231  |#define ERROR_DECODER_SETPOS 0x000401             
                            22673 ; 232  |
                            22674 ; 233  |// PLL defs
                            22675 ; 234  |// According to Mike May, the PLL takes about 200us to stabalize, worst-case.
                            22676 ; 235  |//   PLL lock delay is $000000001388 = 5000. We're always using the xtal at
                            22677 ; 236  |//   24.576MHz, so this delay is 5000/(24.576MHz) = 203.5us.  We'll do this 5000
                            22678 ; 237  |//   times for a total of 1.017s.
                            22679 ; 238  |#define PLL_LOCK_DELAY_HIGH 0x000000
                            22680 ; 239  |#define PLL_LOCK_DELAY_LOW 0x001388
                            22681 ; 240  |#define PLL_TIMEOUT 0x001388
                            22682 ; 241  |
                            22683 ; 242  |// Generic wait defs
                            22684 ; 243  |#define WAIT_10_MS 245760/2
                            22685 ; 244  |
                            22686 ; 245  |//Those equates are used in the DCC/USBMSC
                            22687 ; 246  |//Low battery detection bit
                            22688 ; 247  |#define LOW_BATTERY_DETECTED_BITPOS 0
                            22689 ; 248  |
                            22690 ; 249  |#endif // IF (!@def(SYSEQU_INC))
                            22691 ; 250  |
                            22692 ; 251  |
                            22693 
                            22695 
                            22696 ; 22   |#include "sysmem.h"
                            22697 
                            22699 
                            22700 ; 1    |//;******************************************************************************
                            22701 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2003
                            22702 ; 3    |//; File: sysmem.h
                            22703 ; 4    |//; ST System Memory Externs
                            22704 ; 5    |//;******************************************************************************
                            22705 ; 6    |
                            22706 ; 7    |#ifndef SYSMEM_XREF_C
                            22707 ; 8    |#define SYSMEM_XREF_C
                            22708 ; 9    |
                            22709 ; 10   |// Variables in X
                            22710 ; 11   |extern unsigned int _X g_wDecoderCSR;
                            22711 ; 12   |extern unsigned int _X g_wDecoderSR;
                            22712 ; 13   |extern unsigned int _X g_wDecoderCSR2;  // DECODE2EOF
                            22713 ; 14   |extern unsigned int _X g_wEncoderSR;
                            22714 ; 15   |extern unsigned int _X g_wEncoderCSR;
                            22715 ; 16   |extern unsigned int _X g_wRecStartTimeHigh;
                            22716 ; 17   |extern unsigned int _X g_wRecStartTimeLow;
                            22717 ; 18   |extern unsigned int _X g_wSysError;
                            22718 ; 19   |#ifdef TRACEBUF_EN
                            22719 ; 20   |extern unsigned int _X g_wTraceBuffer; //Disabled by default.   
                            22720 ; 21   |extern unsigned int _X g_wTracePointer;
                            22721 ; 22   |#endif
                            22722 ; 23   |extern unsigned int _X g_wUserScratchX[];
                            22723 ; 24   |extern unsigned int _X g_wNextVoiceNumValue;
                            22724 ; 25   |extern unsigned int _X g_wEncAdpcmSave_r7;
                            22725 ; 26   |extern unsigned int _X g_wEncAdpcmSave_m7;
                            22726 ; 27   |extern unsigned int _X g_wEncModuleState;
                            22727 ; 28   |extern unsigned int _X g_wEncoderIsrSR;
                            22728 ; 29   |extern unsigned int _X g_bAudibleNeedFileSize;          // 10/12/04 mmiu - Added for AA file navigation
                            22729 ; 30   |extern unsigned int _X g_bAudiblePlayThrough;           // 11/1/04 mmiu - Added for file position play-through indicator
                            22730 ; 31   |extern unsigned int _X g_wSongStartOffsetHigh;          // 11/1/04 mmiu - Added until confirmed we can use g_wSongByteTotalConsumedHigh/Low
                            22731 ; 32   |extern unsigned int _X g_wSongStartOffsetLow;
                            22732 ; 33   |
                            22733 ; 34   |// Variables in Y
                            22734 ; 35   |extern int          _Y g_VolumeBias;
                            22735 ; 36   |extern unsigned int _Y g_wCurrentRoutinePtr;
                            22736 ; 37   |extern unsigned int _Y g_wSystemFileHandle;
                            22737 ; 38   |extern unsigned int _Y g_wSongByteTotalHigh;
                            22738 ; 39   |extern unsigned int _Y g_wSongByteTotalLow; 
                            22739 ; 40   |extern unsigned int _Y g_wSongByteLengthHigh;
                            22740 ; 41   |extern unsigned int _Y g_wSongByteLengthLow;
                            22741 ; 42   |extern unsigned int _Y g_wInvSampleRate;
                            22742 ; 43   |extern unsigned int _Y g_wCurrentSongBad;
                            22743 ; 44   |extern unsigned int _Y g_iSongType;
                            22744 ; 45   |extern _packed BYTE _Y g_CurrentSongName[];
                            22745 ; 46   |extern unsigned int _Y g_wCurrentDirDevId;
                            22746 ; 47   |extern unsigned int _Y g_wSongInvBitRatePtr;
                            22747 ; 48   |extern unsigned int _Y g_wUserScratchXDescriptor;
                            22748 ; 49   |extern unsigned int _Y g_wUserScratchYDescriptor;
                            22749 ; 50   |extern _packed BYTE _Y g_EncFileNameString[];
                            22750 ; 51   |extern unsigned int _Y g_wEncFileHandle;
                            22751 ; 52   |extern unsigned int _Y g_wEncAdpcmOvlSave_sp;
                            22752 ; 53   |extern unsigned int _Y g_wRootDirectory;
                            22753 ; 54   |extern unsigned int _Y g_wUserScratchY[];
                            22754 ; 55   |extern unsigned int _Y g_wPrevInvBitRatePtr;
                            22755 ; 56   |
                            22756 ; 57   |#endif  // SYSMEM_XREF_C
                            22757 
                            22759 
                            22760 ; 23   |#include "project.h"
                            22761 
                            22763 
                            22764 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            22765 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            22766 ; 3    |//  Filename: project.inc
                            22767 ; 4    |//  Description: 
                            22768 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            22769 ; 6    |
                            22770 ; 7    |#if (!defined(_PROJECT_INC))
                            22771 ; 8    |#define _PROJECT_INC 1
                            22772 ; 9    |
                            22773 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            22774 ; 11   |#include "hwequ.h"
                            22775 ; 12   |#else 
                            22776 ; 13   |//include "regscodec.inc"
                            22777 ; 14   |#endif
                            22778 ; 15   |
                            22779 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            22780 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults ON) & 
                            22781 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm. STMP00012148
                            22782 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal). 
                            22783 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's specs can 
                            22784 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player mode.  
                            22785 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            22786 ; 23   |
                            22787 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            22788 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            22789 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            22790 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define below by defining
                            22791 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            22792 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            22793 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            22794 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot config above- 
                            22795 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down threshholds by maybe 50mV.
                            22796 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed.
                            22797 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            22798 ; 35   |
                            22799 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            22800 ; 37   |// MEDIA DEFINITIONS
                            22801 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            22802 ; 39   |
                            22803 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            22804 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            22805 ; 42   |#if defined(NAND1)
                            22806 ; 43   |#define SM_INTERNAL_CHIPS 1
                            22807 ; 44   |#else 
                            22808 ; 45   |#if defined(NAND2)
                            22809 ; 46   |#define SM_INTERNAL_CHIPS 2
                            22810 ; 47   |#else 
                            22811 ; 48   |#if defined(NAND3)
                            22812 ; 49   |#define SM_INTERNAL_CHIPS 3
                            22813 ; 50   |#else 
                            22814 ; 51   |#if defined(NAND4)
                            22815 ; 52   |#define SM_INTERNAL_CHIPS 4
                            22816 ; 53   |#else 
                            22817 ; 54   |#define SM_INTERNAL_CHIPS 1
                            22818 ; 55   |#endif
                            22819 ; 56   |#endif
                            22820 ; 57   |#endif
                            22821 ; 58   |#endif
                            22822 ; 59   |
                            22823 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            22824 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            22825 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it reads 0.  
                            22826 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            22827 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it reads 1.
                            22828 ; 65   |//*** comment out if active high ****
                            22829 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            22830 ; 67   |
                            22831 ; 68   |#if defined(SMEDIA)
                            22832 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            22833 ; 70   |#define NUM_SM_EXTERNAL 1
                            22834 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            22835 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            22836 ; 73   |#else 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  91

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22837 ; 74   |#if defined(MMC)
                            22838 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            22839 ; 76   |#define NUM_SM_EXTERNAL 0
                            22840 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            22841 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            22842 ; 79   |#else 
                            22843 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            22844 ; 81   |#define NUM_SM_EXTERNAL 0
                            22845 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            22846 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            22847 ; 84   |#endif
                            22848 ; 85   |#endif
                            22849 ; 86   |
                            22850 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            22851 ; 88   |// Mass Storage Class definitions
                            22852 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            22853 ; 90   |// Set to 0 if Composite Device build is desired.    
                            22854 ; 91   |#define MULTI_LUN_BUILD 1   
                            22855 ; 92   |
                            22856 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            22857 ; 94   |//  SCSI
                            22858 ; 95   |#if (MULTI_LUN_BUILD==0)
                            22859 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            22860 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            22861 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            22862 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            22863 ; 100  |  #else
                            22864 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            22865 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            22866 ; 103  |  #endif
                            22867 ; 104  |#else
                            22868 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            22869 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            22870 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            22871 ; 108  |  #else
                            22872 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            22873 ; 110  |  #endif
                            22874 ; 111  |#endif
                            22875 ; 112  |
                            22876 ; 113  |
                            22877 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            22878 ; 115  |
                            22879 ; 116  |
                            22880 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            22881 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            22882 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            22883 ; 120  |#ifdef MMC
                            22884 ; 121  |#ifdef MTP_BUILD
                            22885 ; 122  |// --------------------
                            22886 ; 123  |// MTP and MMC
                            22887 ; 124  |// --------------------
                            22888 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            22889 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            22890 ; 127  |#else  // ifndef MTP_BUILD
                            22891 ; 128  |#ifdef STMP_BUILD_PLAYER
                            22892 ; 129  |// --------------------
                            22893 ; 130  |// Player and MMC
                            22894 ; 131  |// --------------------
                            22895 ; 132  |#else
                            22896 ; 133  |// --------------------
                            22897 ; 134  |// USBMSC and MMC
                            22898 ; 135  |// --------------------
                            22899 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            22900 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            22901 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            22902 ; 139  |#endif // ifdef MTP_BUILD
                            22903 ; 140  |#else  // ifndef MMC
                            22904 ; 141  |#ifdef MTP_BUILD
                            22905 ; 142  |// --------------------
                            22906 ; 143  |// MTP and NAND only
                            22907 ; 144  |// --------------------
                            22908 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            22909 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            22910 ; 147  |#else  // ifndef MTP_BUILD
                            22911 ; 148  |#ifdef STMP_BUILD_PLAYER
                            22912 ; 149  |// --------------------
                            22913 ; 150  |// Player and NAND only
                            22914 ; 151  |// --------------------
                            22915 ; 152  |#else
                            22916 ; 153  |// --------------------
                            22917 ; 154  |// USBMSC and NAND only
                            22918 ; 155  |// --------------------
                            22919 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            22920 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            22921 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            22922 ; 159  |#endif // ifdef MTP_BUILD
                            22923 ; 160  |#endif // ifdef MMC 
                            22924 ; 161  |
                            22925 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            22926 ; 163  |#if (defined(MTP_BUILD))
                            22927 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            22928 ; 165  |
                            22929 ; 166  |////!
                            22930 ; 167  |////! This varible holds the watchdog count for the store flush.
                            22931 ; 168  |////!
                            22932 ; 169  |///
                            22933 ; 170  |#include <types.h>
                            22934 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            22935 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            22936 ; 173  |#endif
                            22937 ; 174  |
                            22938 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            22939 ; 176  |// These are needed here for Mass Storage Class
                            22940 ; 177  |// Needs to be cleaned up
                            22941 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            22942 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            22943 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            22944 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            22945 ; 182  |
                            22946 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            22947 ; 184  |
                            22948 ; 185  |#endif
                            22949 ; 186  |
                            22950 ; 187  |
                            22951 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            22952 ; 189  |// SmartMedia/NAND defs
                            22953 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            22954 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            22955 ; 192  |
                            22956 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            22957 ; 194  |// Sysloadresources defs
                            22958 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            22959 ; 196  |
                            22960 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            22961 ; 198  |// MMC defs
                            22962 ; 199  |#define MMC_MAX_PARTITIONS 1
                            22963 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            22964 ; 201  |
                            22965 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            22966 ; 203  |// SPI defs
                            22967 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            22968 ; 205  |
                            22969 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            22970 ; 207  |// Global media defs
                            22971 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            22972 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            22973 ; 210  |
                            22974 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            22975 ; 212  |// DO NOT CHANGE THESE!!!
                            22976 ; 213  |#define SM_MAX_PARTITIONS 4
                            22977 ; 214  |#define MAX_HANDLES 2
                            22978 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            22979 ; 216  |
                            22980 ; 217  |
                            22981 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            22982 ; 219  |// Battery LRADC Values 
                            22983 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            22984 ; 221  |// brownout trip point in mV (moved by RS)
                            22985 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            22986 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            22987 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            22988 ; 225  |//     audio recording to media.
                            22989 ; 226  |#define BATT_SAFETY_MARGIN 10
                            22990 ; 227  |
                            22991 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                            22992 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline voltage to do a refresh.
                            22993 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            22994 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            22995 ; 232  |
                            22996 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc presence.
                            22997 ; 234  |
                            22998 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            22999 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat check.
                            23000 ; 237  |#if (!defined(CLCD))
                            23001 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            23002 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            23003 ; 240  |#else 
                            23004 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            23005 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            23006 ; 243  |#endif
                            23007 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            23008 ; 245  |
                            23009 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            23010 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIon.
                            23011 ; 248  |// See mp3 encoder overlay.
                            23012 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            23013 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            23014 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            23015 ; 252  |
                            23016 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            23017 ; 254  |// Voice recording filenames
                            23018 ; 255  |// number of digits in filename Vxxx.wav
                            23019 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            23020 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            23021 ; 258  |
                            23022 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            23023 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            23024 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            23025 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            23026 ; 263  |#if defined(DEVICE_3500)
                            23027 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            23028 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            23029 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            23030 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, & demo player)
                            23031 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            23032 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            23033 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            23034 ; 271  |
                            23035 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn when bias not yet ready.
                            23036 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            23037 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevention if you use rec button from outside voice menu.
                            23038 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latency in the record-from-music-menu use-case.
                            23039 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            23040 ; 277  |
                            23041 ; 278  |#else 
                            23042 ; 279  |// STMP3410
                            23043 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            23044 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            23045 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            23046 ; 283  |#endif
                            23047 ; 284  |
                            23048 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            23049 ; 286  |// Number of available soft timers
                            23050 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            23051 ; 288  |#if defined(SYNC_LYRICS)
                            23052 ; 289  |#define SOFT_TIMERS 10
                            23053 ; 290  |#else 
                            23054 ; 291  |#if defined(JPEG_DECODER)
                            23055 ; 292  |#define SOFT_TIMERS 10
                            23056 ; 293  |#else 
                            23057 ; 294  |#define SOFT_TIMERS 9
                            23058 ; 295  |#endif
                            23059 ; 296  |#endif
                            23060 ; 297  |
                            23061 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            23062 ; 299  |//  sizes
                            23063 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            23064 ; 301  |#if defined(MMC)
                            23065 ; 302  |#if defined(USE_PLAYLIST5)
                            23066 ; 303  |#define MENU_STACK_SIZE 1500
                            23067 ; 304  |#else 
                            23068 ; 305  |#define MENU_STACK_SIZE 1250
                            23069 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            23070 ; 307  |#else 
                            23071 ; 308  |#if defined(USE_PLAYLIST5)
                            23072 ; 309  |#define MENU_STACK_SIZE 1500
                            23073 ; 310  |#else 
                            23074 ; 311  |#define MENU_STACK_SIZE 1250
                            23075 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            23076 ; 313  |#endif //if @def('MMC')
                            23077 ; 314  |
                            23078 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 750 else 550 for other builds? TOVERIFY. MYALLOC
                            23079 ; 316  |// 
                            23080 ; 317  |#define STACK_L1_SIZE 750
                            23081 ; 318  |#define STACK_L2_SIZE 100
                            23082 ; 319  |#define STACK_L3_SIZE 160
                            23083 ; 320  |
                            23084 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            23085 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            23086 ; 323  |// is ok with switching code.
                            23087 ; 324  |#if defined(MTP_BUILD)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  92

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23088 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            23089 ; 326  |#endif
                            23090 ; 327  |
                            23091 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            23092 ; 329  |// maximum number of nested funclets 
                            23093 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            23094 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            23095 ; 332  |
                            23096 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            23097 ; 334  |//    LCD DEFINITIONS
                            23098 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            23099 ; 336  |
                            23100 ; 337  |#define SPACE_CHAR 0x000020          
                            23101 ; 338  |#define ZERO_CHAR 0x000030
                            23102 ; 339  |#define COLON_CHAR 0x00003A
                            23103 ; 340  |#define PERIOD_CHAR 0x00002E
                            23104 ; 341  |
                            23105 ; 342  |#if (defined(S6B33B0A_LCD))
                            23106 ; 343  |#define LCD_X_SIZE 128
                            23107 ; 344  |#define LCD_Y_SIZE 159
                            23108 ; 345  |#endif
                            23109 ; 346  |
                            23110 ; 347  |#if (defined(SED15XX_LCD))
                            23111 ; 348  |#define LCD_X_SIZE 128
                            23112 ; 349  |#define LCD_Y_SIZE 64
                            23113 ; 350  |#endif
                            23114 ; 351  |
                            23115 ; 352  |
                            23116 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            23117 ; 354  |//   Details on Customizing Contrast
                            23118 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            23119 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            23120 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            23121 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            23122 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            23123 ; 360  |//   unless the ezact sequence is remembered.
                            23124 ; 361  |//   To find out what range your player supports: 
                            23125 ; 362  |//   change these equs to full range or comment out (full range is default)
                            23126 ; 363  |//;;;;;;
                            23127 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            23128 ; 365  |// recommended calibration using player -- uncomment 
                            23129 ; 366  |//;;;;;;
                            23130 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            23131 ; 368  |////////////////////////////
                            23132 ; 369  |#if (defined(DEMO_HW))
                            23133 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi LCD (June6'05)
                            23134 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            23135 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            23136 ; 373  |#else 
                            23137 ; 374  |
                            23138 ; 375  |#if (defined(S6B33B0A_LCD))
                            23139 ; 376  |#define LCD_MAX_CONTRAST 210
                            23140 ; 377  |#define LCD_MIN_CONTRAST 160    
                            23141 ; 378  |#endif
                            23142 ; 379  |
                            23143 ; 380  |#if (defined(SED15XX_LCD))
                            23144 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            23145 ; 382  |// Engineering board regs support range [17-37].
                            23146 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            23147 ; 384  |//   One default contrast range [24-42] works for both.
                            23148 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            23149 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            23150 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            23151 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            23152 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            23153 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            23154 ; 391  |
                            23155 ; 392  |#if (defined(NEWSHINGYIH))
                            23156 ; 393  |#define LCD_MAX_CONTRAST 250
                            23157 ; 394  |#define LCD_MIN_CONTRAST 0
                            23158 ; 395  |#else 
                            23159 ; 396  |//-----
                            23160 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            23161 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for both LCDs.
                            23162 ; 399  |#define LCD_MAX_CONTRAST 250
                            23163 ; 400  |#define LCD_MIN_CONTRAST 0
                            23164 ; 401  |
                            23165 ; 402  |//=====
                            23166 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            23167 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this historic ver.
                            23168 ; 405  |//LCD_MAX_CONTRAST equ 42
                            23169 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            23170 ; 407  |
                            23171 ; 408  |#endif
                            23172 ; 409  |#endif
                            23173 ; 410  |
                            23174 ; 411  |#endif
                            23175 ; 412  |
                            23176 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            23177 ; 414  |// The default value of the lcd contrast in % of range
                            23178 ; 415  |//   the default value is used when no settings.dat is available
                            23179 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            23180 ; 417  |
                            23181 ; 418  |#if (defined(S6B33B0A_LCD))
                            23182 ; 419  |// 60% of range is default value
                            23183 ; 420  |#define DEFAULT_CONTRAST 50 
                            23184 ; 421  |#endif
                            23185 ; 422  |
                            23186 ; 423  |#if (defined(SED15XX_LCD))
                            23187 ; 424  |// % of range is default value (was 60%)
                            23188 ; 425  |#define DEFAULT_CONTRAST 50 
                            23189 ; 426  |#endif
                            23190 ; 427  |
                            23191 ; 428  |
                            23192 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            23193 ; 430  |// make lower when doing calibration
                            23194 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            23195 ; 432  |
                            23196 ; 433  |
                            23197 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            23198 ; 435  |// For FFWD and RWND
                            23199 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            23200 ; 437  |#define SECONDS_TO_SKIP 1
                            23201 ; 438  |#define SECONDS_TO_SKIP1 3
                            23202 ; 439  |#define SECONDS_TO_SKIP2 6
                            23203 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            23204 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            23205 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            23206 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            23207 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            23208 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            23209 ; 446  |
                            23210 ; 447  |// For audible FFW/RWD
                            23211 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            23212 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            23213 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            23214 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            23215 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            23216 ; 453  |#define LEVEL1_BOUNDARY 17 
                            23217 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            23218 ; 455  |#define LEVEL2_BOUNDARY 33 
                            23219 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            23220 ; 457  |#define LEVEL3_BOUNDARY 50 
                            23221 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            23222 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            23223 ; 460  |// Short Song Time, songs too short to play.
                            23224 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            23225 ; 462  |
                            23226 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            23227 ; 464  |// MP3 Sync Values
                            23228 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            23229 ; 466  |// # bytes to look for sync before marking it bad
                            23230 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            23231 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            23232 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            23233 ; 470  |// once we have sync'd, the isr should be called this frequently
                            23234 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            23235 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            23236 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            23237 ; 474  |
                            23238 ; 475  |
                            23239 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            23240 ; 477  |//// Multi-Stage Volume Control Definitions
                            23241 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            23242 ; 479  |//// Use Multi-Stage Volume
                            23243 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            23244 ; 481  |
                            23245 ; 482  |//// Master Volume definitions
                            23246 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            23247 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            23248 ; 485  |
                            23249 ; 486  |//// DAC-Mode definitions
                            23250 ; 487  |//// Adjusts 0dB point
                            23251 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            23252 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            23253 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines above.
                            23254 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            23255 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provides 1.5 dB gain on Stmp34x0; 
                            23256 ; 493  |//                                               Max gain possible: 8 step diff would provide +12dB gain.   
                            23257 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            23258 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            23259 ; 496  |
                            23260 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            23261 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            23262 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                            23263 ; 500  |
                            23264 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not the default
                            23265 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoint.
                            23266 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            23267 ; 504  |
                            23268 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the default
                            23269 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            23270 ; 507  |
                            23271 ; 508  |
                            23272 ; 509  |//// Line In definitions (used for Line-In 1)
                            23273 ; 510  |//// 0dB point of the Line In
                            23274 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            23275 ; 512  |//// Minimum volume of Line In
                            23276 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            23277 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            23278 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            23279 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            23280 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            23281 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS+1)
                            23282 ; 519  |
                            23283 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            23284 ; 521  |//// 0dB point of the Line In
                            23285 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            23286 ; 523  |//// Minimum volume of Line In
                            23287 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            23288 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            23289 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            23290 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            23291 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            23292 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            23293 ; 530  |
                            23294 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            23295 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid deadlock states & recovers. 
                            23296 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            23297 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            23298 ; 535  |
                            23299 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            23300 ; 537  |////
                            23301 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            23302 ; 539  |////
                            23303 ; 540  |///
                            23304 ; 541  |#include <types.h>
                            23305 ; 542  |extern volatile WORD g_wActivityState;
                            23306 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            23307 ; 544  |
                            23308 ; 545  |void _reentrant Init5VSense(void);
                            23309 ; 546  |void _reentrant ServiceDCDC(void);
                            23310 ; 547  |
                            23311 ; 548  |////////////////////////////////////////////////////////////////////////////
                            23312 ; 549  |//// JPEG Thumbnail Mode Setting
                            23313 ; 550  |//// number of column in thumbnail mode
                            23314 ; 551  |#define THUMBNAIL_X 2           
                            23315 ; 552  |//// number of row in  thumbnail mode
                            23316 ; 553  |#define THUMBNAIL_Y 2           
                            23317 ; 554  |//// thumbnail boundary offset x
                            23318 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            23319 ; 556  |//// thumbnail boundary offset y
                            23320 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            23321 ; 558  |
                            23322 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            23323 ; 560  |
                            23324 
                            23326 
                            23327 ; 24   |#include "lowresolutionadc.h"
                            23328 
                            23330 
                            23331 ; 1    |//;///////////////////////////////////////////////////////////////////////////////
                            23332 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2003
                            23333 ; 3    |//;
                            23334 ; 4    |//; Filename:    lowresolutionadc.h
                            23335 ; 5    |//; Description: General purpose interface to LRADCs
                            23336 ; 6    |//;              Generic symbols are mapped to more specific symbols in inc\34xx\regslradc.inc files
                            23337 ; 7    |//;///////////////////////////////////////////////////////////////////////////////
                            23338 ; 8    |
                            23339 ; 9    |#ifndef _LOWRESOLUTIONADC_H
                            23340 ; 10   |#define _LOWRESOLUTIONADC_H
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  93

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23341 ; 11   |
                            23342 ; 12   |#include "regslradc.h"
                            23343 
                            23345 
                            23346 ; 1    |#if !(defined(regslradcinc))
                            23347 ; 2    |
                            23348 ; 3    |#define regslradcinc 1
                            23349 ; 4    |
                            23350 ; 5    |#include "types.h"
                            23351 ; 6    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            23352 ; 7    |
                            23353 ; 8    |//   SYSTEM STMP Registers 
                            23354 ; 9    |//  Last Edited 6.26.2003 M. Henson
                            23355 ; 10   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            23356 ; 11   |
                            23357 ; 12   |#define HW_LRADC_BASEADDR (0xFA20)
                            23358 ; 13   |
                            23359 ; 14   |
                            23360 ; 15   |
                            23361 ; 16   |/////////////////////////////////////////////////////////////////////////////////
                            23362 ; 17   |//  Battery LRADC Control Register (HW_BATT_CTRL) Bit Definitions
                            23363 ; 18   |#define HW_BATT_CTRL_INPUT_OFFSET_WIDTH (7)
                            23364 ; 19   |#define HW_BATT_CTRL_RSVD0_WIDTH (1)
                            23365 ; 20   |#define HW_BATT_CTRL_HALF_CMP_PWR_WIDTH (1)
                            23366 ; 21   |#define HW_BATT_CTRL_INPUT_DIV2_WIDTH (1)
                            23367 ; 22   |#define HW_BATT_CTRL_CLEAR_WIDTH (1)
                            23368 ; 23   |#define HW_BATT_CTRL_PWD_WIDTH (1)
                            23369 ; 24   |#define HW_BATT_CTRL_CLK_DIV_WIDTH (2)
                            23370 ; 25   |#define HW_BATT_CTRL_RSVD1_WIDTH (2)
                            23371 ; 26   |#define HW_BATT_CTRL_REF_VAL_WIDTH (2)
                            23372 ; 27   |#define HW_BATT_CTRL_RSVD2_WIDTH (2)
                            23373 ; 28   |#define HW_BATT_CTRL_IRQ_EN_EVENT0_WIDTH (1)
                            23374 ; 29   |#define HW_BATT_CTRL_IRQ_EN_EVENT1_WIDTH (1)
                            23375 ; 30   |#define HW_BATT_CTRL_POLARITY_EVENT0_WIDTH (1)
                            23376 ; 31   |#define HW_BATT_CTRL_POLARITY_EVENT1_WIDTH (1)
                            23377 ; 32   |
                            23378 ; 33   |#define HW_BATT_CTRL_INPUT_OFFSET_BITPOS (0)
                            23379 ; 34   |#define HW_BATT_CTRL_HALF_CMP_PWR_BITPOS (8)
                            23380 ; 35   |#define HW_BATT_CTRL_INPUT_DIV2_BITPOS (9)
                            23381 ; 36   |#define HW_BATT_CTRL_CLEAR_BITPOS (10)
                            23382 ; 37   |#define HW_BATT_CTRL_PWD_BITPOS (11)
                            23383 ; 38   |#define HW_BATT_CTRL_CLK_DIV_BITPOS (12)
                            23384 ; 39   |#define HW_BATT_CTRL_REF_VAL_BITPOS (16)
                            23385 ; 40   |
                            23386 ; 41   |#define HW_BATT_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_BATT_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_BATT_CTRL_INPUT_OFFSET_BITPOS)        
                            23387 ; 42   |#define HW_BATT_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_BATT_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_BATT_CTRL_HALF_CMP_PWR_BITPOS)        
                            23388 ; 43   |#define HW_BATT_CTRL_INPUT_DIV2_SETMASK (((1<<HW_BATT_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_BATT_CTRL_INPUT_DIV2_BITPOS) 
                            23389 ; 44   |#define HW_BATT_CTRL_CLEAR_SETMASK (((1<<HW_BATT_CTRL_CLEAR_WIDTH)-1)<<HW_BATT_CTRL_CLEAR_BITPOS) 
                            23390 ; 45   |#define HW_BATT_CTRL_PWD_SETMASK (((1<<HW_BATT_CTRL_PWD_WIDTH)-1)<<HW_BATT_CTRL_PWD_BITPOS) 
                            23391 ; 46   |#define HW_BATT_CTRL_CLK_DIV_SETMASK (((1<<HW_BATT_CTRL_CLK_DIV_WIDTH)-1)<<HW_BATT_CTRL_CLK_DIV_BITPOS)        
                            23392 ; 47   |#define HW_BATT_CTRL_REF_VAL_SETMASK (((1<<HW_BATT_CTRL_REF_VAL_WIDTH)-1)<<HW_BATT_CTRL_REF_VAL_BITPOS)        
                            23393 ; 48   |
                            23394 ; 49   |#define HW_BATT_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_OFFSET_SETMASK)     
                            23395 ; 50   |#define HW_BATT_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_BATT_CTRL_HALF_CMP_PWR_SETMASK)     
                            23396 ; 51   |#define HW_BATT_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_DIV2_SETMASK) 
                            23397 ; 52   |#define HW_BATT_CTRL_CLEAR_CLRMASK (~(WORD)HW_BATT_CTRL_CLEAR_SETMASK) 
                            23398 ; 53   |#define HW_BATT_CTRL_PWD_CLRMASK (~(WORD)HW_BATT_CTRL_PWD_SETMASK) 
                            23399 ; 54   |#define HW_BATT_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_BATT_CTRL_CLK_DIV_SETMASK)     
                            23400 ; 55   |#define HW_BATT_CTRL_REF_VAL_CLRMASK (~(WORD)HW_BATT_CTRL_REF_VAL_SETMASK)
                            23401 ; 56   |
                            23402 ; 57   |typedef union               
                            23403 ; 58   |{
                            23404 ; 59   |    struct {
                            23405 ; 60   |        unsigned int INPUT_OFFSET                 : HW_BATT_CTRL_INPUT_OFFSET_WIDTH;
                            23406 ; 61   |        unsigned int RSVD0                        : HW_BATT_CTRL_RSVD0_WIDTH;
                            23407 ; 62   |        unsigned int HALF_CMP_PWR                 : HW_BATT_CTRL_HALF_CMP_PWR_WIDTH;
                            23408 ; 63   |        unsigned int INPUT_DIV2                   : HW_BATT_CTRL_INPUT_DIV2_WIDTH;
                            23409 ; 64   |        unsigned int CLEAR                        : HW_BATT_CTRL_CLEAR_WIDTH;
                            23410 ; 65   |        unsigned int PWD                          : HW_BATT_CTRL_PWD_WIDTH;
                            23411 ; 66   |        unsigned int CLK_DIV                      : HW_BATT_CTRL_CLK_DIV_WIDTH;
                            23412 ; 67   |        unsigned int RSVD1                        : HW_BATT_CTRL_RSVD1_WIDTH;
                            23413 ; 68   |        unsigned int REF_VAL                      : HW_BATT_CTRL_REF_VAL_WIDTH;
                            23414 ; 69   |        unsigned int RSVD2                        : HW_BATT_CTRL_RSVD2_WIDTH;
                            23415 ; 70   |                 unsigned int IRQ_EN_EVENT0                               : HW_BATT_CTRL_IRQ_EN_EVENT0_WIDTH;
                            23416 ; 71   |                 unsigned int IRQ_EN_EVENT1                               : HW_BATT_CTRL_IRQ_EN_EVENT1_WIDTH;
                            23417 ; 72   |             unsigned int POLARITY_EVENT0              : HW_BATT_CTRL_POLARITY_EVENT0_WIDTH;
                            23418 ; 73   |                 unsigned int POLARITY_EVENT1              : HW_BATT_CTRL_POLARITY_EVENT1_WIDTH;
                            23419 ; 74   |    } B;
                            23420 ; 75   |   unsigned int I;
                            23421 ; 76   |        unsigned int U;
                            23422 ; 77   |} lradc_ctrl_type;
                            23423 ; 78   |#define HW_BATT_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR))    /* Battery LRADC Control Register */
                            23424 ; 79   |
                            23425 ; 80   |
                            23426 ; 81   |/////////////////////////////////////////////////////////////////////////////////
                            23427 ; 82   |//  Battery LRADC Threshold Register (HW_BATT_THRSH) Bit Definitions
                            23428 ; 83   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH (9)
                            23429 ; 84   |#define HW_BATT_THRSH_RSVD0_WIDTH (3)
                            23430 ; 85   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH (9)
                            23431 ; 86   |#define HW_BATT_THRSH_RSVD1_WIDTH (3)
                            23432 ; 87   |
                            23433 ; 88   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS (0)
                            23434 ; 89   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS (12)
                            23435 ; 90   |
                            23436 ; 91   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH)-1)<<HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS)        
                            23437 ; 92   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH)-1)<<HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS)        
                            23438 ; 93   |
                            23439 ; 94   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT0_SETMASK)     
                            23440 ; 95   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT1_SETMASK)     
                            23441 ; 96   |
                            23442 ; 97   |
                            23443 ; 98   |typedef union               
                            23444 ; 99   |{
                            23445 ; 100  |    struct {
                            23446 ; 101  |        unsigned int THRESHOLD_EVENT0   : HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH;
                            23447 ; 102  |        unsigned int RSVD0                  : HW_BATT_THRSH_RSVD0_WIDTH;
                            23448 ; 103  |        unsigned int THRESHOLD_EVENT1   : HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH;
                            23449 ; 104  |        unsigned int RSVD1              : HW_BATT_THRSH_RSVD1_WIDTH;
                            23450 ; 105  |    } B;
                            23451 ; 106  |    unsigned int I;
                            23452 ; 107  |} lradc_thrsh_type;
                            23453 ; 108  |#define HW_BATT_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+1))    /* Battery LRADC Threshold Register */
                            23454 ; 109  |
                            23455 ; 110  |
                            23456 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            23457 ; 112  |//  Battery LRADC Result Register (HW_BATT_RESULT) Bit Definitions
                            23458 ; 113  |#define HW_BATT_RESULT_EQ_EVENT1_WIDTH (1)
                            23459 ; 114  |#define HW_BATT_RESULT_EQ_EVENT0_WIDTH (1)
                            23460 ; 115  |#define HW_BATT_RESULT_GT_EVENT1_WIDTH (1)
                            23461 ; 116  |#define HW_BATT_RESULT_GT_EVENT0_WIDTH (1)
                            23462 ; 117  |#define HW_BATT_RESULT_LT_EVENT1_WIDTH (1)
                            23463 ; 118  |#define HW_BATT_RESULT_LT_EVENT0_WIDTH (1)
                            23464 ; 119  |#define HW_BATT_RESULT_RSVD0_WIDTH (2)
                            23465 ; 120  |#define HW_BATT_RESULT_DATA_OUT_WIDTH (9)
                            23466 ; 121  |#define HW_BATT_RESULT_RSVD1_WIDTH (3)
                            23467 ; 122  |#define HW_BATT_RESULT_IRQ_EVENT0_WIDTH (1)
                            23468 ; 123  |#define HW_BATT_RESULT_IRQ_EVENT1_WIDTH (1)
                            23469 ; 124  |#define HW_BATT_RESULT_RSVD2_WIDTH (2)
                            23470 ; 125  |
                            23471 ; 126  |#define HW_BATT_RESULT_EQ_EVENT1_BITPOS (0)
                            23472 ; 127  |#define HW_BATT_RESULT_EQ_EVENT0_BITPOS (1)
                            23473 ; 128  |#define HW_BATT_RESULT_GT_EVENT1_BITPOS (2)
                            23474 ; 129  |#define HW_BATT_RESULT_GT_EVENT0_BITPOS (3)
                            23475 ; 130  |#define HW_BATT_RESULT_LT_EVENT1_BITPOS (4)
                            23476 ; 131  |#define HW_BATT_RESULT_LT_EVENT0_BITPOS (5)
                            23477 ; 132  |#define HW_BATT_RESULT_RSVD0_BITPOS (6)
                            23478 ; 133  |#define HW_BATT_RESULT_DATA_OUT_BITPOS (8)
                            23479 ; 134  |#define HW_BATT_RESULT_RSVD1_BITPOS (17)
                            23480 ; 135  |#define HW_BATT_RESULT_IRQ_EVENT0_BITPOS (20)
                            23481 ; 136  |#define HW_BATT_RESULT_IRQ_EVENT1_BITPOS (21)
                            23482 ; 137  |#define HW_BATT_RESULT_RSVD2_BITPOS (22)
                            23483 ; 138  |
                            23484 ; 139  |
                            23485 ; 140  |
                            23486 ; 141  |#define HW_BATT_RESULT_EQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_EQ_EVENT1_BITPOS)
                            23487 ; 142  |#define HW_BATT_RESULT_EQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_EQ_EVENT0_BITPOS)
                            23488 ; 143  |#define HW_BATT_RESULT_GT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_GT_EVENT1_BITPOS)
                            23489 ; 144  |#define HW_BATT_RESULT_GT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_GT_EVENT0_BITPOS)
                            23490 ; 145  |#define HW_BATT_RESULT_LT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_LT_EVENT1_BITPOS)
                            23491 ; 146  |#define HW_BATT_RESULT_LT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_LT_EVENT0_BITPOS)
                            23492 ; 147  |#define HW_BATT_RESULT_RSVD0_SETMASK (((1<<HW_BATT_RESULT_RSVD0_WIDTH)-1)<<HW_BATT_RESULT_RSVD0_BITPOS)
                            23493 ; 148  |#define HW_BATT_RESULT_DATA_OUT_SETMASK (((1<<HW_BATT_RESULT_DATA_OUT_WIDTH)-1)<<HW_BATT_RESULT_DATA_OUT_BITPOS)
                            23494 ; 149  |#define HW_BATT_RESULT_RSVD1_SETMASK (((1<<HW_BATT_RESULT_RSVD1_WIDTH)-1)<<HW_BATT_RESULT_RSVD1_BITPOS)
                            23495 ; 150  |#define HW_BATT_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_IRQ_EVENT0_BITPOS)
                            23496 ; 151  |#define HW_BATT_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_IRQ_EVENT1_BITPOS)
                            23497 ; 152  |#define HW_BATT_RESULT_RSVD2_SETMASK (((1<<HW_BATT_RESULT_RSVD2_WIDTH)-1)<<HW_BATT_RESULT_RSVD2_BITPOS)
                            23498 ; 153  |
                            23499 ; 154  |
                            23500 ; 155  |#define HW_BATT_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT1_SETMASK)
                            23501 ; 156  |#define HW_BATT_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT0_SETMASK)
                            23502 ; 157  |#define HW_BATT_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT1_SETMASK)
                            23503 ; 158  |#define HW_BATT_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT0_SETMASK)
                            23504 ; 159  |#define HW_BATT_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT1_SETMASK)
                            23505 ; 160  |#define HW_BATT_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT0_SETMASK)
                            23506 ; 161  |#define HW_BATT_RESULT_RSVD0_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD0_SETMASK)
                            23507 ; 162  |#define HW_BATT_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_BATT_RESULT_DATA_OUT_SETMASK)
                            23508 ; 163  |#define HW_BATT_RESULT_RSVD1_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD1_SETMASK)
                            23509 ; 164  |#define HW_BATT_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT0_SETMASK)
                            23510 ; 165  |#define HW_BATT_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT1_SETMASK)
                            23511 ; 166  |#define HW_BATT_RESULT_RSVD2_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD2_SETMASK)
                            23512 ; 167  |
                            23513 ; 168  |typedef union               
                            23514 ; 169  |{
                            23515 ; 170  |    struct {
                            23516 ; 171  |        unsigned int EQ_EVENT1                  : HW_BATT_RESULT_EQ_EVENT1_WIDTH;
                            23517 ; 172  |        unsigned int EQ_EVENT0                  : HW_BATT_RESULT_EQ_EVENT0_WIDTH;
                            23518 ; 173  |        unsigned int GT_EVENT1                  : HW_BATT_RESULT_GT_EVENT1_WIDTH;
                            23519 ; 174  |        unsigned int GT_EVENT0                  : HW_BATT_RESULT_GT_EVENT0_WIDTH;
                            23520 ; 175  |        unsigned int LT_EVENT1                  : HW_BATT_RESULT_LT_EVENT1_WIDTH;
                            23521 ; 176  |        unsigned int LT_EVENT0                  : HW_BATT_RESULT_LT_EVENT0_WIDTH;
                            23522 ; 177  |        unsigned int RSVD0                     : HW_BATT_RESULT_RSVD0_WIDTH;
                            23523 ; 178  |        unsigned int DATA_OUT                  : HW_BATT_RESULT_DATA_OUT_WIDTH;
                            23524 ; 179  |        unsigned int RSVD1                     : HW_BATT_RESULT_RSVD1_WIDTH;
                            23525 ; 180  |                 unsigned int IRQ_EVENT0                                : HW_BATT_RESULT_IRQ_EVENT0_WIDTH;
                            23526 ; 181  |                 unsigned int IRQ_EVENT1                                : HW_BATT_RESULT_IRQ_EVENT1_WIDTH;                      
                            23527 ; 182  |                 unsigned int RSVD2                                         : HW_BATT_RESULT_RSVD2_WIDTH;
                            23528 ; 183  |    } B;
                            23529 ; 184  |    unsigned int I;
                            23530 ; 185  |} lradc_result_type;
                            23531 ; 186  |#define HW_BATT_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+2))    /* Battery LRADC Result Register */
                            23532 ; 187  |
                            23533 ; 188  |
                            23534 ; 189  |
                            23535 ; 190  |/////////////////////////////////////////////////////////////////////////////////
                            23536 ; 191  |//  LRADC1 Control Register (HW_LRADC1_CTRL) Bit Definitions
                            23537 ; 192  |#define HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH (7)
                            23538 ; 193  |#define HW_LRADC1_CTRL_RSVD0_WIDTH (1)
                            23539 ; 194  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH (1)
                            23540 ; 195  |#define HW_LRADC1_CTRL_INPUT_DIV2_WIDTH (1)
                            23541 ; 196  |#define HW_LRADC1_CTRL_CLEAR_WIDTH (1)
                            23542 ; 197  |#define HW_LRADC1_CTRL_PWD_WIDTH (1)
                            23543 ; 198  |#define HW_LRADC1_CTRL_CLK_DIV_WIDTH (2)
                            23544 ; 199  |#define HW_LRADC1_CTRL_RSVD1_WIDTH (2)
                            23545 ; 200  |#define HW_LRADC1_CTRL_REF_VAL_WIDTH (2)
                            23546 ; 201  |#define HW_LRADC1_CTRL_RSVD2_WIDTH (6)
                            23547 ; 202  |
                            23548 ; 203  |#define HW_LRADC1_CTRL_INPUT_OFFSET_BITPOS (0)
                            23549 ; 204  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_BITPOS (8)
                            23550 ; 205  |#define HW_LRADC1_CTRL_INPUT_DIV2_BITPOS (9)
                            23551 ; 206  |#define HW_LRADC1_CTRL_CLEAR_BITPOS (10)
                            23552 ; 207  |#define HW_LRADC1_CTRL_PWD_BITPOS (11)
                            23553 ; 208  |#define HW_LRADC1_CTRL_CLK_DIV_BITPOS (12)
                            23554 ; 209  |#define HW_LRADC1_CTRL_REF_VAL_BITPOS (16)
                            23555 ; 210  |
                            23556 ; 211  |#define HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_LRADC1_CTRL_INPUT_OFFSET_BITPOS)        
                            23557 ; 212  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_LRADC1_CTRL_HALF_CMP_PWR_BITPOS)        
                            23558 ; 213  |#define HW_LRADC1_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_LRADC1_CTRL_INPUT_DIV2_BITPOS) 
                            23559 ; 214  |#define HW_LRADC1_CTRL_CLEAR_SETMASK (((1<<HW_LRADC1_CTRL_CLEAR_WIDTH)-1)<<HW_LRADC1_CTRL_CLEAR_BITPOS) 
                            23560 ; 215  |#define HW_LRADC1_CTRL_PWD_SETMASK (((1<<HW_LRADC1_CTRL_PWD_WIDTH)-1)<<HW_LRADC1_CTRL_PWD_BITPOS) 
                            23561 ; 216  |#define HW_LRADC1_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC1_CTRL_CLK_DIV_WIDTH)-1)<<HW_LRADC1_CTRL_CLK_DIV_BITPOS)        
                            23562 ; 217  |#define HW_LRADC1_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC1_CTRL_REF_VAL_WIDTH)-1)<<HW_LRADC1_CTRL_REF_VAL_BITPOS)        
                            23563 ; 218  |
                            23564 ; 219  |#define HW_LRADC1_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK)     
                            23565 ; 220  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK)     
                            23566 ; 221  |#define HW_LRADC1_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_DIV2_SETMASK) 
                            23567 ; 222  |#define HW_LRADC1_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLEAR_SETMASK) 
                            23568 ; 223  |#define HW_LRADC1_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC1_CTRL_PWD_SETMASK) 
                            23569 ; 224  |#define HW_LRADC1_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLK_DIV_SETMASK)     
                            23570 ; 225  |#define HW_LRADC1_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC1_CTRL_REF_VAL_SETMASK)     
                            23571 ; 226  |
                            23572 ; 227  |#define HW_LRADC1_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+3))    /* LRADC1 Control Register */
                            23573 ; 228  |
                            23574 ; 229  |
                            23575 ; 230  |
                            23576 ; 231  |/////////////////////////////////////////////////////////////////////////////////
                            23577 ; 232  |//  LRADC1 Threshold Register (HW_LRADC1_THRSH) Bit Definitions
                            23578 ; 233  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH (9)
                            23579 ; 234  |#define HW_LRADC1_THRSH_RSVD0_WIDTH (3)
                            23580 ; 235  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH (9)
                            23581 ; 236  |#define HW_LRADC1_THRSH_RSVD1_WIDTH (3)
                            23582 ; 237  |
                            23583 ; 238  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS (0)
                            23584 ; 239  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS (12)
                            23585 ; 240  |
                            23586 ; 241  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH)-1)<<HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS)        
                            23587 ; 242  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH)-1)<<HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS)        
                            23588 ; 243  |
                            23589 ; 244  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MIN_THRESHOLD_SETMASK)     
                            23590 ; 245  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MAX_THRESHOLD_SETMASK)     
                            23591 ; 246  |
                            23592 ; 247  |#define HW_LRADC1_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+4))    /* LRADC1 Threshold Register */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  94

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23593 ; 248  |
                            23594 ; 249  |/////////////////////////////////////////////////////////////////////////////////
                            23595 ; 250  |//  LRADC1 Result Register (HW_LRADC1_RESULT) Bit Definitions
                            23596 ; 251  |#define HW_LRADC1_RESULT_EQ_EVENT1_WIDTH (1)
                            23597 ; 252  |#define HW_LRADC1_RESULT_EQ_EVENT0_WIDTH (1)
                            23598 ; 253  |#define HW_LRADC1_RESULT_GT_EVENT1_WIDTH (1)
                            23599 ; 254  |#define HW_LRADC1_RESULT_GT_EVENT0_WIDTH (1)
                            23600 ; 255  |#define HW_LRADC1_RESULT_LT_EVENT1_WIDTH (1)
                            23601 ; 256  |#define HW_LRADC1_RESULT_LT_EVENT0_WIDTH (1)
                            23602 ; 257  |#define HW_LRADC1_RESULT_RSVD0_WIDTH (2)
                            23603 ; 258  |#define HW_LRADC1_RESULT_DATA_OUT_WIDTH (9)
                            23604 ; 259  |#define HW_LRADC1_RESULT_RSVD1_WIDTH (3)
                            23605 ; 260  |#define HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH (1)
                            23606 ; 261  |#define HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH (1)
                            23607 ; 262  |#define HW_LRADC1_RESULT_RSVD2_WIDTH (2)
                            23608 ; 263  |
                            23609 ; 264  |#define HW_LRADC1_RESULT_EQ_EVENT1_BITPOS (0)
                            23610 ; 265  |#define HW_LRADC1_RESULT_EQ_EVENT0_BITPOS (1)
                            23611 ; 266  |#define HW_LRADC1_RESULT_GT_EVENT1_BITPOS (2)
                            23612 ; 267  |#define HW_LRADC1_RESULT_GT_EVENT0_BITPOS (3)
                            23613 ; 268  |#define HW_LRADC1_RESULT_LT_EVENT1_BITPOS (4)
                            23614 ; 269  |#define HW_LRADC1_RESULT_LT_EVENT0_BITPOS (5)
                            23615 ; 270  |#define HW_LRADC1_RESULT_RSVD0_BITPOS (6)
                            23616 ; 271  |#define HW_LRADC1_RESULT_DATA_OUT_BITPOS (8)
                            23617 ; 272  |#define HW_LRADC1_RESULT_RSVD1_BITPOS (17)
                            23618 ; 273  |#define HW_LRADC1_RESULT_IRQ_EVENT0_BITPOS (20)
                            23619 ; 274  |#define HW_LRADC1_RESULT_IRQ_EVENT1_BITPOS (21)
                            23620 ; 275  |#define HW_LRADC1_RESULT_RSVD2_BITPOS (22)
                            23621 ; 276  |
                            23622 ; 277  |#define HW_LRADC1_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_EQ_EVENT1_BITPOS)
                            23623 ; 278  |#define HW_LRADC1_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_EQ_EVENT0_BITPOS)
                            23624 ; 279  |#define HW_LRADC1_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_GT_EVENT1_BITPOS)
                            23625 ; 280  |#define HW_LRADC1_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_GT_EVENT0_BITPOS)
                            23626 ; 281  |#define HW_LRADC1_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_LT_EVENT1_BITPOS)
                            23627 ; 282  |#define HW_LRADC1_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_LT_EVENT0_BITPOS)
                            23628 ; 283  |#define HW_LRADC1_RESULT_RSVD0_SETMASK (((1<<HW_LRADC1_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC1_RESULT_RSVD0_BITPOS)
                            23629 ; 284  |#define HW_LRADC1_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC1_RESULT_DATA_OUT_WIDTH)-1)<<HW_LRADC1_RESULT_DATA_OUT_BITPOS)
                            23630 ; 285  |#define HW_LRADC1_RESULT_RSVD1_SETMASK (((1<<HW_LRADC1_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC1_RESULT_RSVD1_BITPOS)
                            23631 ; 286  |#define HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_IRQ_EVENT0_BITPOS)
                            23632 ; 287  |#define HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_IRQ_EVENT1_BITPOS)
                            23633 ; 288  |#define HW_LRADC1_RESULT_RSVD2_SETMASK (((1<<HW_LRADC1_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC1_RESULT_RSVD2_BITPOS)
                            23634 ; 289  |
                            23635 ; 290  |
                            23636 ; 291  |#define HW_LRADC1_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT1_SETMASK)
                            23637 ; 292  |#define HW_LRADC1_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT0_SETMASK)
                            23638 ; 293  |#define HW_LRADC1_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT1_SETMASK)
                            23639 ; 294  |#define HW_LRADC1_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT0_SETMASK)
                            23640 ; 295  |#define HW_LRADC1_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT1_SETMASK)
                            23641 ; 296  |#define HW_LRADC1_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT0_SETMASK)
                            23642 ; 297  |#define HW_LRADC1_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD0_SETMASK)
                            23643 ; 298  |#define HW_LRADC1_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC1_RESULT_DATA_OUT_SETMASK)
                            23644 ; 299  |#define HW_LRADC1_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD1_SETMASK)
                            23645 ; 300  |#define HW_LRADC1_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK)
                            23646 ; 301  |#define HW_LRADC1_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK)
                            23647 ; 302  |#define HW_LRADC1_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD2_SETMASK)
                            23648 ; 303  |
                            23649 ; 304  |#define HW_LRADC1_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+5))    /* LRADC1 Result Register */
                            23650 ; 305  |
                            23651 ; 306  |/////////////////////////////////////////////////////////////////////////////////
                            23652 ; 307  |//  LRADC2_CTRL Control Register (HW_LRADC2_CTRL_CTRL) Bit Definitions
                            23653 ; 308  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WIDTH (7)
                            23654 ; 309  |#define HW_LRADC2_CTRL_CTRL_RSVD0_WIDTH (1)
                            23655 ; 310  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WIDTH (1)
                            23656 ; 311  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH (1)
                            23657 ; 312  |#define HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH (1)
                            23658 ; 313  |#define HW_LRADC2_CTRL_CTRL_PWD_WIDTH (1)
                            23659 ; 314  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH (2)
                            23660 ; 315  |#define HW_LRADC2_CTRL_CTRL_RSVD1_WIDTH (2)
                            23661 ; 316  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH (2)
                            23662 ; 317  |#define HW_LRADC2_CTRL_CTRL_RSVD2_WIDTH (6)
                            23663 ; 318  |
                            23664 ; 319  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS (0)
                            23665 ; 320  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS (8)
                            23666 ; 321  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS (9)
                            23667 ; 322  |#define HW_LRADC2_CTRL_CTRL_CLEAR_BITPOS (10)
                            23668 ; 323  |#define HW_LRADC2_CTRL_CTRL_PWD_BITPOS (11)
                            23669 ; 324  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS (12)
                            23670 ; 325  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_BITPOS (16)
                            23671 ; 326  |
                            23672 ; 327  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS)        
                            23673 ; 328  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS)        
                            23674 ; 329  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS) 
                            23675 ; 330  |#define HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_CLEAR_BITPOS) 
                            23676 ; 331  |#define HW_LRADC2_CTRL_CTRL_PWD_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_PWD_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_PWD_BITPOS) 
                            23677 ; 332  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS)        
                            23678 ; 333  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_REF_VAL_BITPOS)        
                            23679 ; 334  |
                            23680 ; 335  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_SETMASK)     
                            23681 ; 336  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_SETMASK)     
                            23682 ; 337  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETMASK) 
                            23683 ; 338  |#define HW_LRADC2_CTRL_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK) 
                            23684 ; 339  |#define HW_LRADC2_CTRL_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_PWD_SETMASK) 
                            23685 ; 340  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK)     
                            23686 ; 341  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK)     
                            23687 ; 342  |
                            23688 ; 343  |
                            23689 ; 344  |#define HW_LRADC2_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+6))    /* LRADC2_CTRL Control Register */
                            23690 ; 345  |
                            23691 ; 346  |
                            23692 ; 347  |
                            23693 ; 348  |/////////////////////////////////////////////////////////////////////////////////
                            23694 ; 349  |//  LRADC2 Threshold Register (HW_LRADC2_THRSH) Bit Definitions
                            23695 ; 350  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH (9)
                            23696 ; 351  |#define HW_LRADC2_THRSH_RSVD0_WIDTH (3)
                            23697 ; 352  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH (9)
                            23698 ; 353  |#define HW_LRADC2_THRSH_RSVD1_WIDTH (3)
                            23699 ; 354  |
                            23700 ; 355  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS (0)
                            23701 ; 356  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS (12)
                            23702 ; 357  |
                            23703 ; 358  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH)-1)<<HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS)        
                            23704 ; 359  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH)-1)<<HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS)        
                            23705 ; 360  |
                            23706 ; 361  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MIN_THRESHOLD_SETMASK)     
                            23707 ; 362  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MAX_THRESHOLD_SETMASK)     
                            23708 ; 363  |
                            23709 ; 364  |#define HW_LRADC2_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+7))    /* LRADC2 Threshold Register */
                            23710 ; 365  |
                            23711 ; 366  |
                            23712 ; 367  |
                            23713 ; 368  |/////////////////////////////////////////////////////////////////////////////////
                            23714 ; 369  |//  LRADC2 Result Register (HW_LRADC2_RESULT) Bit Definitions
                            23715 ; 370  |#define HW_LRADC2_RESULT_EQ_EVENT1_WIDTH (1)
                            23716 ; 371  |#define HW_LRADC2_RESULT_EQ_EVENT0_WIDTH (1)
                            23717 ; 372  |#define HW_LRADC2_RESULT_GT_EVENT1_WIDTH (1)
                            23718 ; 373  |#define HW_LRADC2_RESULT_GT_EVENT0_WIDTH (1)
                            23719 ; 374  |#define HW_LRADC2_RESULT_LT_EVENT1_WIDTH (1)
                            23720 ; 375  |#define HW_LRADC2_RESULT_LT_EVENT0_WIDTH (1)
                            23721 ; 376  |#define HW_LRADC2_RESULT_RSVD0_WIDTH (2)
                            23722 ; 377  |#define HW_LRADC2_RESULT_DATA_OUT_WIDTH (9)
                            23723 ; 378  |#define HW_LRADC2_RESULT_RSVD1_WIDTH (3)
                            23724 ; 379  |#define HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH (1)
                            23725 ; 380  |#define HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH (1)
                            23726 ; 381  |#define HW_LRADC2_RESULT_RSVD2_WIDTH (2)
                            23727 ; 382  |
                            23728 ; 383  |#define HW_LRADC2_RESULT_EQ_EVENT1_BITPOS (0)
                            23729 ; 384  |#define HW_LRADC2_RESULT_EQ_EVENT0_BITPOS (1)
                            23730 ; 385  |#define HW_LRADC2_RESULT_GT_EVENT1_BITPOS (2)
                            23731 ; 386  |#define HW_LRADC2_RESULT_GT_EVENT0_BITPOS (3)
                            23732 ; 387  |#define HW_LRADC2_RESULT_LT_EVENT1_BITPOS (4)
                            23733 ; 388  |#define HW_LRADC2_RESULT_LT_EVENT0_BITPOS (5)
                            23734 ; 389  |#define HW_LRADC2_RESULT_RSVD0_BITPOS (6)
                            23735 ; 390  |#define HW_LRADC2_RESULT_DATA_OUT_BITPOS (8)
                            23736 ; 391  |#define HW_LRADC2_RESULT_RSVD1_BITPOS (17)
                            23737 ; 392  |#define HW_LRADC2_RESULT_IRQ_EVENT0_BITPOS (20)
                            23738 ; 393  |#define HW_LRADC2_RESULT_IRQ_EVENT1_BITPOS (21)
                            23739 ; 394  |#define HW_LRADC2_RESULT_RSVD2_BITPOS (22)
                            23740 ; 395  |
                            23741 ; 396  |#define HW_LRADC2_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_EQ_EVENT1_BITPOS)
                            23742 ; 397  |#define HW_LRADC2_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_EQ_EVENT0_BITPOS)
                            23743 ; 398  |#define HW_LRADC2_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_GT_EVENT1_BITPOS)
                            23744 ; 399  |#define HW_LRADC2_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_GT_EVENT0_BITPOS)
                            23745 ; 400  |#define HW_LRADC2_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_LT_EVENT1_BITPOS)
                            23746 ; 401  |#define HW_LRADC2_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_LT_EVENT0_BITPOS)
                            23747 ; 402  |#define HW_LRADC2_RESULT_RSVD0_SETMASK (((1<<HW_LRADC2_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC2_RESULT_RSVD0_BITPOS)
                            23748 ; 403  |#define HW_LRADC2_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC2_RESULT_DATA_OUT_WIDTH)-1)<<HW_LRADC2_RESULT_DATA_OUT_BITPOS)
                            23749 ; 404  |#define HW_LRADC2_RESULT_RSVD1_SETMASK (((1<<HW_LRADC2_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC2_RESULT_RSVD1_BITPOS)
                            23750 ; 405  |#define HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_IRQ_EVENT0_BITPOS)
                            23751 ; 406  |#define HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_IRQ_EVENT1_BITPOS)
                            23752 ; 407  |#define HW_LRADC2_RESULT_RSVD2_SETMASK (((1<<HW_LRADC2_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC2_RESULT_RSVD2_BITPOS)
                            23753 ; 408  |
                            23754 ; 409  |#define HW_LRADC2_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT1_SETMASK)
                            23755 ; 410  |#define HW_LRADC2_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT0_SETMASK)
                            23756 ; 411  |#define HW_LRADC2_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT1_SETMASK)
                            23757 ; 412  |#define HW_LRADC2_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT0_SETMASK)
                            23758 ; 413  |#define HW_LRADC2_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT1_SETMASK)
                            23759 ; 414  |#define HW_LRADC2_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT0_SETMASK)
                            23760 ; 415  |#define HW_LRADC2_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD0_SETMASK)
                            23761 ; 416  |#define HW_LRADC2_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC2_RESULT_DATA_OUT_SETMASK)
                            23762 ; 417  |#define HW_LRADC2_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD1_SETMASK)
                            23763 ; 418  |#define HW_LRADC2_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK)
                            23764 ; 419  |#define HW_LRADC2_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK)
                            23765 ; 420  |#define HW_LRADC2_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD2_SETMASK)
                            23766 ; 421  |
                            23767 ; 422  |#define HW_LRADC2_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+8))    /* LRADC2 Result Register */
                            23768 ; 423  |#define HW_LRADC_REF_0_SETMASK                  0x0<<HW_BATT_CTRL_REF_VAL_BITPOS
                            23769 ; 424  |#define HW_LRADC_REF_1_SETMASK                  0x1<<HW_BATT_CTRL_REF_VAL_BITPOS
                            23770 ; 425  |#define HW_LRADC_REF_2_SETMASK                  0x2<<HW_BATT_CTRL_REF_VAL_BITPOS
                            23771 ; 426  |#define HW_LRADC_REF_3_SETMASK                  0x3<<HW_BATT_CTRL_REF_VAL_BITPOS
                            23772 ; 427  |#define HW_LRADC_REF_4_SETMASK                  HW_LRADC_REF_0_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                            23773 ; 428  |#define HW_LRADC_REF_5_SETMASK                  HW_LRADC_REF_1_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                            23774 ; 429  |#define HW_LRADC_REF_6_SETMASK                  HW_LRADC_REF_2_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                            23775 ; 430  |#define HW_LRADC_REF_7_SETMASK                  HW_LRADC_REF_3_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                            23776 ; 431  |#define HW_LRADC_RES_REF_0                              80
                            23777 ; 432  |#define HW_LRADC_RES_REF_1                              77
                            23778 ; 433  |#define HW_LRADC_RES_REF_2                              100
                            23779 ; 434  |#define HW_LRADC_RES_REF_3                              129
                            23780 ; 435  |#define HW_LRADC_RES_REF_4                              160
                            23781 ; 436  |#define HW_LRADC_RES_REF_5                              154
                            23782 ; 437  |#define HW_LRADC_RES_REF_6                              200
                            23783 ; 438  |#define HW_LRADC_RES_REF_7                              258
                            23784 ; 439  |#define LRADC_HALF_POWER_SETMASK                HW_BATT_CTRL_HALF_CMP_PWR_SETMASK          
                            23785 ; 440  |// Translate the generic API enumerations into more meaningful labels for the implementation
                            23786 ; 441  |#define REF_2700MV                      HW_LRADC_REF_0_SETMASK
                            23787 ; 442  |#define REF_2600MV              HW_LRADC_REF_1_SETMASK
                            23788 ; 443  |#define REF_2560MV              HW_LRADC_REF_2_SETMASK
                            23789 ; 444  |#define REF_VDDIO               HW_LRADC_REF_3_SETMASK
                            23790 ; 445  |#define REF_5400MV              HW_LRADC_REF_4_SETMASK
                            23791 ; 446  |#define REF_5200MV              HW_LRADC_REF_5_SETMASK
                            23792 ; 447  |#define REF_5120MV              HW_LRADC_REF_6_SETMASK
                            23793 ; 448  |#define REF_VDDIOx2             HW_LRADC_REF_7_SETMASK
                            23794 ; 449  |#define RES_REF_2700MV  HW_LRADC_RES_REF_0
                            23795 ; 450  |#define RES_REF_2600MV  HW_LRADC_RES_REF_1
                            23796 ; 451  |#define RES_REF_2560MV  HW_LRADC_RES_REF_2
                            23797 ; 452  |#define RES_REF_VDDIO   HW_LRADC_RES_REF_3
                            23798 ; 453  |#define RES_REF_5400MV  HW_LRADC_RES_REF_4
                            23799 ; 454  |#define RES_REF_5200MV  HW_LRADC_RES_REF_5
                            23800 ; 455  |#define RES_REF_5120MV  HW_LRADC_RES_REF_6
                            23801 ; 456  |#define RES_REF_VDDIOx2         HW_LRADC_RES_REF_7
                            23802 ; 457  |
                            23803 ; 458  |//Needed by button.asm
                            23804 ; 459  |#define LOW_RES_ADC_BATT_READ_MASK 0x01FF00
                            23805 ; 460  |#define LOW_RES_ADC_AUX_READ_MASK 0x01FF00
                            23806 ; 461  |#define LOW_RES_ADC_AUX2_READ_MASK 0x01FF00
                            23807 ; 462  |
                            23808 ; 463  |#define HW_LRADC_CTRL_AUXADC_SETMASK 3<<HW_BATT_CTRL_REF_VAL_BITPOS
                            23809 ; 464  |
                            23810 ; 465  |#endif
                            23811 ; 466  |
                            23812 ; 467  |
                            23813 
                            23815 
                            23816 ; 13   |
                            23817 ; 14   |// Variables
                            23818 ; 15   |extern WORD LowResAdcStatus;
                            23819 ; 16   |extern WORD LowResAdcBattResult, LowResAdcBattAvg;                                      // Results and Averages come from buttons.asm
                            23820 ; 17   |extern WORD LowResAdcAuxResult,  LowResAdcAuxAvg;
                            23821 ; 18   |extern WORD LowResAdcAux2Result, LowResAdcAux2Avg;                                      // Aux2 result and average valid for 3500
                            23822 ; 19   |
                            23823 ; 20   |
                            23824 ; 21   |// Types
                            23825 ; 22   |enum LowResADCChannel {BATT, AUX, AUX2};                                                    // AUX2 valid for 3500
                            23826 ; 23   |enum LowResADCHalfPwr {OFF = 0, ON = LRADC_HALF_POWER_SETMASK};
                            23827 ; 24   |enum LowResADCRef     {REF_0 = HW_LRADC_REF_0_SETMASK,
                            23828 ; 25   |                       REF_1 = HW_LRADC_REF_1_SETMASK,
                            23829 ; 26   |                                           REF_2 = HW_LRADC_REF_2_SETMASK,
                            23830 ; 27   |                                           REF_3 = HW_LRADC_REF_3_SETMASK,
                            23831 ; 28   |                                           REF_4 = HW_LRADC_REF_4_SETMASK,
                            23832 ; 29   |                                           REF_5 = HW_LRADC_REF_5_SETMASK,
                            23833 ; 30   |                                           REF_6 = HW_LRADC_REF_6_SETMASK,
                            23834 ; 31   |                                           REF_7 = HW_LRADC_REF_7_SETMASK
                            23835 ; 32   |                      };
                            23836 ; 33   |
                            23837 ; 34   |
                            23838 ; 35   |// ADC Reference resolutions in mV*10
                            23839 ; 36   |// 1 ADC count = Vref(mV)/([2^N] - 1) where N = # bits in result, and Vref based on selected LRADC reference.
                            23840 ; 37   |#define RES_REF_0      HW_LRADC_RES_REF_0
                            23841 ; 38   |#define RES_REF_1      HW_LRADC_RES_REF_1
                            23842 ; 39   |#define RES_REF_2      HW_LRADC_RES_REF_2
                            23843 ; 40   |#define RES_REF_3      HW_LRADC_RES_REF_3
                            23844 ; 41   |#define RES_REF_4      HW_LRADC_RES_REF_4
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  95

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23845 ; 42   |#define RES_REF_5      HW_LRADC_RES_REF_5
                            23846 ; 43   |#define RES_REF_6      HW_LRADC_RES_REF_6
                            23847 ; 44   |#define RES_REF_7      HW_LRADC_RES_REF_7
                            23848 ; 45   |
                            23849 ; 46   |
                            23850 ; 47   |// These bits are used against LowResAdcStatus, to signal which channels to read in buttons routine
                            23851 ; 48   |#define LOW_RES_ADC_BATT_EN_MASK    1 
                            23852 ; 49   |#define LOW_RES_ADC_AUX_EN_MASK         2 
                            23853 ; 50   |#define LOW_RES_ADC_AUX2_EN_MASK        4
                            23854 ; 51   |
                            23855 ; 52   |/////////////////////////////////////////////////////////////////////////////////////////
                            23856 ; 53   |//
                            23857 ; 54   |//>  Name:          SysLowResolutionAdcReadBin
                            23858 ; 55   |//
                            23859 ; 56   |//   Type:          Function 
                            23860 ; 57   |//
                            23861 ; 58   |//   Description:   Returns the instantaneous Result of the Low Resolution ADC Channel specified
                            23862 ; 59   |//
                            23863 ; 60   |//   Inputs:        Constant specifying the Low Resolution ADC Channel
                            23864 ; 61   |//                  BATT for Battery channel
                            23865 ; 62   |//                  AUX for Auxiliary channel 1
                            23866 ; 63   |//                  AUX2 for Auxiliary channel 2
                            23867 ; 64   |//
                            23868 ; 65   |//   Outputs:       Average in binary format (0->127 for 3410, 0->255 for 3500)
                            23869 ; 66   |//
                            23870 ; 67   |//   Notes:         none
                            23871 ; 68   |//<
                            23872 ; 69   |//////////////////////////////////////////////////////////////////////////////////////////
                            23873 ; 70   |#ifdef DEVICE_3500
                            23874 ; 71   |#define SysLowResolutionAdcReadBin(n)    (n==BATT ? HW_BATT_RESULT.B.DATA_OUT : (n == AUX ? HW_LRADC1_RESULT.B.DATA_OUT: HW_LRADC2_RESULT.B.DATA_OUT))
                            23875 ; 72   |#else
                            23876 ; 73   |//3410 does not support AUX2
                            23877 ; 74   |#define SysLowResolutionAdcReadBin(n)    (n==BATT ? HW_LRADC_RES.B.BATLRR : (n == AUX ? HW_LRADC_RES.B.AUXLRR: 0))
                            23878 ; 75   |#endif
                            23879 ; 76   |
                            23880 ; 77   |/////////////////////////////////////////////////////////////////////////////////////////
                            23881 ; 78   |//
                            23882 ; 79   |//>  Name:          SysLowResolutionAdcReadAvg
                            23883 ; 80   |//
                            23884 ; 81   |//   Type:          Function 
                            23885 ; 82   |//
                            23886 ; 83   |//   Description:   Reads the Averaged Result of the Low Resolution ADC Channel specified
                            23887 ; 84   |//
                            23888 ; 85   |//   Inputs:        Constant specifying the Low Resolution ADC Channel
                            23889 ; 86   |//                  BATT for Battery channel
                            23890 ; 87   |//                  AUX for Auxiliary channel 1
                            23891 ; 88   |//                  AUX2 for Auxiliary channel 2
                            23892 ; 89   |//
                            23893 ; 90   |//   Outputs:       Average in binary format (0->127 for 3410, 0->255 for 3500)
                            23894 ; 91   |//
                            23895 ; 92   |//   Notes:         The average is done using 256 samples
                            23896 ; 93   |//<
                            23897 ; 94   |//////////////////////////////////////////////////////////////////////////////////////////
                            23898 ; 95   |#define SysLowResolutionAdcReadAvg(n)    (n==BATT ? LowResAdcBattAvg : (n == AUX ? LowResAdcAuxAvg : LowResAdcAux2Avg))
                            23899 ; 96   |
                            23900 ; 97   |// Functions  
                            23901 ; 98   |void _reentrant SysLowResolutionADCInit(enum LowResADCChannel Adc, enum LowResADCHalfPwr Power, enum LowResADCRef Ref);
                            23902 ; 99   |INT SysLowResolutionAdcReadVolt(BYTE bAdcChannel,BOOL bAverage);
                            23903 ; 100  |
                            23904 ; 101  |// Equates
                            23905 ; 102  |#define AVERAGE_RESULT  TRUE
                            23906 ; 103  |#define INSTANT_RESULT  FALSE
                            23907 ; 104  |
                            23908 ; 105  |#endif // _LOWRESOLUTIONADC_H
                            23909 
                            23911 
                            23912 ; 25   |#include "battery.h"
                            23913 
                            23915 
                            23916 ; 1    |//;///////////////////////////////////////////////////////////////////////////////
                            23917 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2004
                            23918 ; 3    |//;
                            23919 ; 4    |//; Filename: battery.h
                            23920 ; 5    |//; Description: 
                            23921 ; 6    |//;///////////////////////////////////////////////////////////////////////////////
                            23922 ; 7    |
                            23923 ; 8    |#ifndef _BATTERY_H
                            23924 ; 9    |#define _BATTERY_H
                            23925 ; 10   |
                            23926 ; 11   |
                            23927 ; 12   |// Functions  
                            23928 ; 13   |extern _reentrant void SysLRADCBrownoutInit(WORD wLowResADCBrownoutLevel);
                            23929 ; 14   |extern _reentrant WORD SysBatteryGetLevel(void);
                            23930 ; 15   |extern _reentrant WORD MvToLradcResult(WORD mVolts);
                            23931 ; 16   |extern _reentrant void SysBatteryLRADCInit(void);
                            23932 ; 17   |extern _reentrant void SysLRADCBrownoutIsrInit(void);
                            23933 ; 18   |
                            23934 ; 19   |// player resource drive refresh allowed only when battery usable % is above this value. 
                            23935 ; 20   |// 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline voltage to do a refresh.
                            23936 ; 21   |// LIION will also require 50% which will work but that could be changed in the future. 
                            23937 ; 22   |#define RESOURCE_REFRESH_MIN_BATT_PCT 50
                            23938 ; 23   |
                            23939 ; 24   |
                            23940 ; 25   |#endif // _BATTERY_H
                            23941 ; 26   |
                            23942 ; 27   |
                            23943 ; 28   |
                            23944 ; 29   |
                            23945 
                            23947 
                            23948 ; 26   |#include "sysvolume.h"
                            23949 
                            23951 
                            23952 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            23953 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            23954 ; 3    |//
                            23955 ; 4    |// Filename: sysvolume.h
                            23956 ; 5    |// Description: Prototypes for the Multi-Stage Volume control and variables
                            23957 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            23958 ; 7    |
                            23959 ; 8    |#ifndef _SYSVOLUME_H
                            23960 ; 9    |#define _SYSVOLUME_H
                            23961 ; 10   |
                            23962 ; 11   |
                            23963 ; 12   |// Volume adjustment modes
                            23964 ; 13   |#define VOLUME_MODE_DAC         0
                            23965 ; 14   |#define VOLUME_MODE_LINE1       1
                            23966 ; 15   |#define VOLUME_MODE_LINE2       2
                            23967 ; 16   |#define VOLUME_MODE_DACLINE1    3
                            23968 ; 17   |
                            23969 ; 18   |
                            23970 ; 19   |extern int g_iUserVolume;                                   // User-Controlled Volume
                            23971 ; 20   |extern int g_iVolumeSteps;                                  // Number of available volume steps in current mode
                            23972 ; 21   |extern int g_iVolumeMode;
                            23973 ; 22   |
                            23974 ; 23   |void _reentrant SysUpdateVolume(void);
                            23975 ; 24   |
                            23976 ; 25   |_inline void _reentrant SysIncrementVolume(void)
                            23977 ; 26   |{
                            23978 ; 27   |    g_iUserVolume ++;
                            23979 ; 28   |    SysUpdateVolume();
                            23980 ; 29   |}
                            23981 ; 30   |
                            23982 ; 31   |_inline void _reentrant SysDecrementVolume(void)
                            23983 ; 32   |{
                            23984 ; 33   |    g_iUserVolume --;
                            23985 ; 34   |    SysUpdateVolume();
                            23986 ; 35   |}
                            23987 ; 36   |#endif // #ifndef _SYSVOLUME_H
                            23988 
                            23990 
                            23991 ; 27   |#include "Fsproj.h"
                            23992 
                            23994 
                            23995 ; 1    |//------------------------------------------------------------------------------
                            23996 ; 2    |// Copyright(C) SigmaTel, Inc. 2005
                            23997 ; 3    |// Filename: fsproj.h (player lcdexample project)
                            23998 ; 4    |//------------------------------------------------------------------------------
                            23999 ; 5    |#ifndef __fsproj_h__
                            24000 ; 6    |#define __fsproj_h__
                            24001 ; 7    |// NOTE:  cachedef.h with its defaults is included here. Any defines in 
                            24002 ; 8    |// this fsproj.h supercede and are used as actual NUMHANDLES, NUMDEVICES, NUMCACHES, DRIVELETTERS.  
                            24003 ; 9    |
                            24004 ; 10   |// TOVERIFY  large block sdk 2.6 had 16 handles while sdk3.0 had only 8.
                            24005 ; 11   |#define NUMHANDLES 8
                            24006 ; 12   |
                            24007 ; 13   |// To help non MMC/SD builds, made this 2 not 3. jun28 2005
                            24008 ; 14   |#ifdef MMC
                            24009 ; 15   |#define NUMDEVICES 3
                            24010 ; 16   |#else
                            24011 ; 17   |#define NUMDEVICES 2
                            24012 ; 18   |#endif
                            24013 ; 19   |
                            24014 ; 20   |// TOVERIFY: SDK3.0 had 4 caches here but the large block sdk had only 2 larger caches. 
                            24015 ; 21   |// Consider finding memory for 3 for performance.
                            24016 ; 22   |#define NUMCACHES  2
                            24017 ; 23   |#define DRIVELETTERS {'a','b','c'}
                            24018 ; 24   |
                            24019 ; 25   |#include "cachedef.h"
                            24020 
                            24022 
                            24023 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            24024 ; 2    |// Copyright(C) SigmaTel, Inc. 2003-2005
                            24025 ; 3    |//
                            24026 ; 4    |// Filename:     cachedef.h
                            24027 ; 5    |// Description:  Constants and externs for the file system routines.
                            24028 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            24029 ; 7    |
                            24030 ; 8    |// NOTE: this file is included by fsproj.h, which overrides DRIVELETTERS, NUMCACHES,
                            24031 ; 9    |// NUMDEVICES, NUMHANDLES.  the values here for these are defaults for building as
                            24032 ; 10   |// a library.
                            24033 ; 11   |
                            24034 ; 12   |#ifndef __cachedef_h__
                            24035 ; 13   |#define __cachedef_h__
                            24036 ; 14   |
                            24037 ; 15   |#ifndef NUMHANDLES
                            24038 ; 16   |#define NUMHANDLES 20  
                            24039 ; 17   |#endif
                            24040 ; 18   |
                            24041 ; 19   |#ifndef NUMDEVICES
                            24042 ; 20   |#define NUMDEVICES 1 
                            24043 ; 21   |#endif
                            24044 ; 22   |
                            24045 ; 23   |#ifndef NUMCACHES
                            24046 ; 24   |#define NUMCACHES 2 
                            24047 ; 25   |#endif
                            24048 ; 26   |
                            24049 ; 27   |#ifndef DRIVELETTERS
                            24050 ; 28   |#define DRIVELETTERS {'a','b','c'}
                            24051 ; 29   |#endif
                            24052 ; 30   |
                            24053 ; 31   |// sector size variants.
                            24054 ; 32   |#include "sectordef.h"
                            24055 
                            24057 
                            24058 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            24059 ; 2    |// Copyright(C) SigmaTel, Inc. 2003-2005
                            24060 ; 3    |//
                            24061 ; 4    |// Filename:     sectordef.h
                            24062 ; 5    |// Description:  Contains structs, prototypes, equates for the NAND Hal & other 
                            24063 ; 6    |//               routines.
                            24064 ; 7    |////////////////////////////////////////////////////////////////////////////////
                            24065 ; 8    |
                            24066 ; 9    |#ifndef _SECTORDEF_H
                            24067 ; 10   |#define _SECTORDEF_H
                            24068 ; 11   |
                            24069 ; 12   |    #define RAM_SECTOR_TOTAL_SIZE                 (528)
                            24070 ; 13   |    #define RAM_SECTOR_DATA_SIZE                  (512)
                            24071 ; 14   |    #define RAM_SECTOR_REDUNDANT_SIZE             (16)
                            24072 ; 15   |
                            24073 ; 16   |
                            24074 ; 17   |    #define MMC_SECTOR_TOTAL_SIZE                 (528)
                            24075 ; 18   |    #define MMC_SECTOR_DATA_SIZE                  (512)
                            24076 ; 19   |    #define MMC_SECTOR_REDUNDANT_SIZE             (16)
                            24077 ; 20   |
                            24078 ; 21   |
                            24079 ; 22   |    #define SSFDC_SECTOR_TOTAL_SIZE                 (528)
                            24080 ; 23   |    #define SSFDC_SECTOR_DATA_SIZE                  (512)
                            24081 ; 24   |    #define SSFDC_SECTOR_REDUNDANT_SIZE             (16)
                            24082 ; 25   |
                            24083 ; 26   | // Define large sector macros as small ones so sdk3.x fits in ram and mtp with small 
                            24084 ; 27   | // sector flash gets the performance boosts from optimized nand timings, etc. 
                            24085 ; 28   | // TOVERIFY: Comment out the next macro def when you want large sector support as 
                            24086 ; 29   | // in sdk2.6 and you can find the free data RAM. Or uncomment if you want to save data ram
                            24087 ; 30   | // and only support 512 byte sectors and their associated flash types. 
                            24088 ; 31   |//#define LARGE_SECTOR_DEFS_AS_SMALL_SECTOR
                            24089 ; 32   |#ifdef LARGE_SECTOR_DEFS_AS_SMALL_SECTOR 
                            24090 ; 33   |    #define LARGE_SECTOR_TOTAL_SIZE                 (528)
                            24091 ; 34   |    #define LARGE_SECTOR_DATA_SIZE                  (512)
                            24092 ; 35   |    #define LARGE_SECTOR_REDUNDANT_SIZE             (16)
                            24093 ; 36   |#else
                            24094 ; 37   |    // Real large sector defines to use when large sector flash support is desired.
                            24095 ; 38   |    #define LARGE_SECTOR_TOTAL_SIZE                 (2112)
                            24096 ; 39   |    #define LARGE_SECTOR_DATA_SIZE                  (2048)
                            24097 ; 40   |    #define LARGE_SECTOR_REDUNDANT_SIZE             (64)
                            24098 ; 41   |#endif
                            24099 ; 42   |    
                            24100 ; 43   |    // round up to the nearest WORD, then add one to pad for the ECC DMA bug
                            24101 ; 44   |    #define SECTOR_BUFFER_ALLOC_SIZE(a)             (((a+2)/3)+1)
                            24102 ; 45   |
                            24103 ; 46   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  96

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24104 ; 47   |    // These are moved here from chkdsk.h     TOVERIFY. 
                            24105 ; 48   |    #define SEC_512_BYTES_PER_SECTOR                        SSFDC_SECTOR_DATA_SIZE
                            24106 ; 49   |        #define SEC_512_BYTES_TOTAL_SIZE                                                SSFDC_SECTOR_TOTAL_SIZE
                            24107 ; 50   |        #define SEC_512_WORDS_TOTAL_SIZE                                                176
                            24108 ; 51   |    #define SEC_512_BYTES_CLUSTER_ENTRY_PER_SECTOR_SHIFT    12
                            24109 ; 52   |    #define SEC_512_BYTES_DIR_REC_PER_SECTOR                16
                            24110 ; 53   |    #define SEC_512_BYTES_WORDS_PER_SECTOR                  177
                            24111 ; 54   |    #define SEC_2K_BYTES_PER_SECTOR                         LARGE_SECTOR_DATA_SIZE
                            24112 ; 55   |        #define SEC_2K_BYTES_TOTAL_SIZE                                                 LARGE_SECTOR_TOTAL_SIZE
                            24113 ; 56   |    #define SEC_2K_BYTES_CLUSTER_ENTRY_PER_SECTOR_SHIFT     12
                            24114 ; 57   |    #define SEC_2K_BYTES_DIR_REC_PER_SECTOR                 64
                            24115 ; 58   |    #define SEC_2K_BYTES_WORDS_PER_SECTOR                   705
                            24116 ; 59   |    #define SEC_2K_BYTES_WORDS_PER_SECTOR_NO_RA             683
                            24117 ; 60   |
                            24118 ; 61   |    // Next 5 lines imported from nandsystemdrivewritesector.c
                            24119 ; 62   |    #define RA_ATTR_MEMORY_OFFSET           682
                            24120 ; 63   |    #define NUMBER_OF_WORDS_IN_512BYTES     171
                            24121 ; 64   |    #define NUM_ECC_DATA_IN_WORDS           3
                            24122 ; 65   |    #define SEC_512_WORD1_RA_SWAP           171
                            24123 ; 66   |    #define SEC_512_WORD2_RA_SWAP           173
                            24124 ; 67   |
                            24125 ; 68   |#endif  // _SECTORDEF_H
                            24126 ; 69   |
                            24127 
                            24129 
                            24130 ; 33   |
                            24131 ; 34   |// in bytes?                    
                            24132 ; 35   |#define HANDLEENTRYSIZE 19
                            24133 ; 36   |
                            24134 ; 37   |// in bytes?                    
                            24135 ; 38   |#define DEVICERECORDSIZE 28 //stmp6956
                            24136 ; 39   |
                            24137 ; 40   |// in words.  todo: consider using a formula based on sizeof().
                            24138 ; 41   |#define CACHEDESCRSIZE 8 
                            24139 ; 42   |
                            24140 ; 43   |// in words, for large sectors.
                            24141 ; 44   |#define CACHEBUFSIZE 705
                            24142 ; 45   |
                            24143 ; 46   |// the number of small caches that fit into a large cache
                            24144 ; 47   |#define SSFDC_SECTORS_PER_LARGE_SECTOR 4
                            24145 ; 48   |
                            24146 ; 49   |// the amount of Y space required to cache sectors.  maximum space reserved
                            24147 ; 50   |// based on large (2k) sectors.
                            24148 ; 51   |#define XBUF_SIZE (NUMCACHES                                                   \ 
                            24149 ; 52   |                   * SSFDC_SECTORS_PER_LARGE_SECTOR                            \ 
                            24150 ; 53   |                   * SECTOR_BUFFER_ALLOC_SIZE(SSFDC_SECTOR_TOTAL_SIZE))
                            24151 ; 54   |
                            24152 ; 55   |// X space allocated for cached sector buffers.
                            24153 ; 56   |// it must be allocated outside of the file system, by the application, since
                            24154 ; 57   |// the application can override the number of entries in fsproj.h, but the file
                            24155 ; 58   |// system can be built as a library (in which case fsproj.h doesn't exist).
                            24156 ; 59   |extern INT _X bufx[];
                            24157 ; 60   |
                            24158 ; 61   |// the amount of Y space required to cache sectors. note that the maximim space
                            24159 ; 62   |// for the cache descriptor entries is the size of each entry multiplied by
                            24160 ; 63   |// the number of entries (specified for large sector entries) multiplied by
                            24161 ; 64   |// the number of small sectors that can overlay a large sector.  i.e., when the 
                            24162 ; 65   |// cache reconfigures from 2k sectors to 512 byte sectors there are 4 times as
                            24163 ; 66   |// many useable cache dscr entries available.  this declaration must accommodate
                            24164 ; 67   |// that many to ensure that sufficient space is reserved.
                            24165 ; 68   |#ifdef k_opt_dynamic_cache
                            24166 ; 69   |#define YBUF_SIZE ((NUMDEVICES * DEVICERECORDSIZE)                             \ 
                            24167 ; 70   |                   + (NUMHANDLES * HANDLEENTRYSIZE)                            \ 
                            24168 ; 71   |                   + (SSFDC_SECTORS_PER_LARGE_SECTOR * NUMCACHES * CACHEDESCRSIZE))
                            24169 ; 72   |#else
                            24170 ; 73   |#define YBUF_SIZE ((NUMDEVICES * DEVICERECORDSIZE)                             \ 
                            24171 ; 74   |                   + (NUMHANDLES * HANDLEENTRYSIZE)                            \ 
                            24172 ; 75   |                   + (NUMCACHES * CACHEDESCRSIZE))
                            24173 ; 76   |#endif
                            24174 ; 77   |
                            24175 ; 78   |
                            24176 ; 79   |// Y space allocated for file system handles and cache descriptors.
                            24177 ; 80   |// it must be allocated outside of the file system, by the application, since
                            24178 ; 81   |// the application can override the number of entries in fsproj.h, but the file
                            24179 ; 82   |// system can be built as a library (in which case fsproj.h doesn't exist).
                            24180 ; 83   |extern INT _Y bufy[];
                            24181 ; 84   |
                            24182 ; 85   |// thse must be allocated outside of the file system, by the application, since
                            24183 ; 86   |// the application can override these values in fsproj.h, but the file
                            24184 ; 87   |// system can be built as a library (in which case fsproj.h doesn't exist).
                            24185 ; 88   |extern INT DriveLetter[];
                            24186 ; 89   |extern INT maxhandles;
                            24187 ; 90   |extern INT maxdevices;
                            24188 ; 91   |extern INT maxcaches; 
                            24189 ; 92   |
                            24190 ; 93   |#endif // __cachedef_h__
                            24191 ; 94   |
                            24192 ; 95   |
                            24193 
                            24195 
                            24196 ; 26   |
                            24197 ; 27   |// TOVERIFY  Don't think we need fstypes.h. Was added by HK patch of 2.521. See stmp00006965 description. 
                            24198 ; 28   |//           Macro desired to be included by HK patch was moved to cachedef.h during 2.6 development.
                            24199 ; 29   |//#include "fstypes.h"
                            24200 ; 30   |
                            24201 ; 31   |// TOVERIFY:   TODO: DELETE LINES below until the #endif
                            24202 ; 32   |//extern INT DriveLetter[];
                            24203 ; 33   |//
                            24204 ; 34   |//extern INT maxhandles;
                            24205 ; 35   |//extern INT maxdevices;
                            24206 ; 36   |//extern INT maxcaches; 
                            24207 ; 37   |
                            24208 ; 38   |// The cache buffers are allocated in the X memory
                            24209 ; 39   |//extern int _X bufx[NUMCACHES*CACHEBUFSIZE];
                            24210 ; 40   |
                            24211 ; 41   |// All other global, custom configurable data is in Y memory.
                            24212 ; 42   |// Two handles are reserved by the file system, so the number of handles must be more than 2
                            24213 ; 43   |//extern int _Y bufy[NUMDEVICES*DEVICERECORDSIZE + NUMHANDLES*HANDLEENTRYSIZE + NUMCACHES*CACHEDESCRSIZE];
                            24214 ; 44   |
                            24215 ; 45   |#endif // __fsproj_h__
                            24216 ; 46   |//---eof------------------------------------------------------------------------
                            24217 ; 47   |
                            24218 
                            24220 
                            24221 ; 28   |#include "persist_bits.h"
                            24222 
                            24224 
                            24225 ; 1    |//;///////////////////////////////////////////////////////////////////////////////
                            24226 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2005
                            24227 ; 3    |//;
                            24228 ; 4    |//; Filename:    persist_bits.h
                            24229 ; 5    |//; Description: General purpose interface to Persistent Bits
                            24230 ; 6    |//;              Persistent bits are mapped to more generic bits in regsrtc.inc.
                            24231 ; 7    |//;///////////////////////////////////////////////////////////////////////////////
                            24232 ; 8    |
                            24233 ; 9    |#ifndef _PERSIST_BITS_H
                            24234 ; 10   |#define _PERSIST_BITS_H
                            24235 ; 11   |
                            24236 ; 12   |#include "regsrtc.h"
                            24237 
                            24239 
                            24240 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            24241 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            24242 ; 3    |// Filename: regsrtc.inc
                            24243 ; 4    |// Description: Register definitions for RTC interface
                            24244 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            24245 ; 6    |// The following naming conventions are followed in this file.
                            24246 ; 7    |// All registers are named using the format...
                            24247 ; 8    |//     HW_<module>_<regname>
                            24248 ; 9    |// where <module> is the module name which can be any of the following...
                            24249 ; 10   |//     USB20
                            24250 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            24251 ; 12   |// module name includes a number starting from 0 for the first instance of
                            24252 ; 13   |// that module)
                            24253 ; 14   |// <regname> is the specific register within that module
                            24254 ; 15   |// We also define the following...
                            24255 ; 16   |//     HW_<module>_<regname>_BITPOS
                            24256 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            24257 ; 18   |//     HW_<module>_<regname>_SETMASK
                            24258 ; 19   |// which does something else, and
                            24259 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            24260 ; 21   |// which does something else.
                            24261 ; 22   |// Other rules
                            24262 ; 23   |//     All caps
                            24263 ; 24   |//     Numeric identifiers start at 0
                            24264 ; 25   |#if !(defined(regsrtcinc))
                            24265 ; 26   |#define regsrtcinc 1
                            24266 ; 27   |
                            24267 ; 28   |#include "types.h"
                            24268 ; 29   |
                            24269 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            24270 ; 31   |
                            24271 ; 32   |//   RTC STMP Registers 
                            24272 ; 33   |//   Edited 2/26/2002 J. Ferrara
                            24273 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            24274 ; 35   |
                            24275 ; 36   |#define HW_RTC_BASEADDR (0xF500)
                            24276 ; 37   |
                            24277 ; 38   |
                            24278 ; 39   |
                            24279 ; 40   |
                            24280 ; 41   |
                            24281 ; 42   |/////////////////////////////////////////////////////////////////////////////////
                            24282 ; 43   |
                            24283 ; 44   |////  RTC Control Status Register (HW_RTC_CSR) Bit Definitions
                            24284 ; 45   |
                            24285 ; 46   |#define HW_RTC_CSR_ALARMINTEN_BITPOS (0)
                            24286 ; 47   |#define HW_RTC_CSR_ALARMINT_BITPOS (1)
                            24287 ; 48   |#define HW_RTC_CSR_WATCHDOGEN_BITPOS (2)
                            24288 ; 49   |#define HW_RTC_CSR_RSVD0_BITPOS (3)
                            24289 ; 50   |#define HW_RTC_CSR_STALEREGS_BITPOS (4)
                            24290 ; 51   |#define HW_RTC_CSR_RSVD1_BITPOS (9)
                            24291 ; 52   |#define HW_RTC_CSR_NEWREGS_BITPOS (12)
                            24292 ; 53   |#define HW_RTC_CSR_NEWREGS_XTALDIV_BITPOS (12)
                            24293 ; 54   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_BITPOS (13)
                            24294 ; 55   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS (14)
                            24295 ; 56   |#define HW_RTC_CSR_NEWREGS_PERSIST0_BITPOS (15)
                            24296 ; 57   |#define HW_RTC_CSR_NEWREGS_PERSIST1_BITPOS (16)
                            24297 ; 58   |#define HW_RTC_CSR_RSVD2_BITPOS (17)
                            24298 ; 59   |#define HW_RTC_CSR_FORCE_BITPOS (20)
                            24299 ; 60   |#define HW_RTC_CSR_RSVD3_BITPOS (21)
                            24300 ; 61   |#define HW_RTC_CSR_SFTRST_BITPOS (23)                                                                           
                            24301 ; 62   |#define HW_RTC_CSR_ALARMINTEN_WIDTH (1)
                            24302 ; 63   |#define HW_RTC_CSR_ALARMINT_WIDTH (1)
                            24303 ; 64   |#define HW_RTC_CSR_WATCHDOGEN_WIDTH (1)
                            24304 ; 65   |#define HW_RTC_CSR_RSVD0_WIDTH (1)
                            24305 ; 66   |#define HW_RTC_CSR_STALEREGS_WIDTH (5)
                            24306 ; 67   |#define HW_RTC_CSR_RSVD1_WIDTH (3)
                            24307 ; 68   |#define HW_RTC_CSR_NEWREGS_WIDTH (5)
                            24308 ; 69   |#define HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH (1)
                            24309 ; 70   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH (1)
                            24310 ; 71   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH (1)
                            24311 ; 72   |#define HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH (1)
                            24312 ; 73   |#define HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH (1)
                            24313 ; 74   |#define HW_RTC_CSR_RSVD2_WIDTH (3)
                            24314 ; 75   |#define HW_RTC_CSR_FORCE_WIDTH (1)
                            24315 ; 76   |#define HW_RTC_CSR_RSVD3_WIDTH (2)
                            24316 ; 77   |#define HW_RTC_CSR_SFTRST_WIDTH (1)
                            24317 ; 78   |
                            24318 ; 79   |#define HW_RTC_CSR_ALARMINT_SETMASK (((1<<HW_RTC_CSR_ALARMINT_WIDTH)-1)<<HW_RTC_CSR_ALARMINT_BITPOS) 
                            24319 ; 80   |#define HW_RTC_CSR_ALARMINTEN_SETMASK (((1<<HW_RTC_CSR_ALARMINTEN_WIDTH)-1)<<HW_RTC_CSR_ALARMINTEN_BITPOS) 
                            24320 ; 81   |#define HW_RTC_CSR_WATCHDOGEN_SETMASK (((1<<HW_RTC_CSR_WATCHDOGEN_WIDTH)-1)<<HW_RTC_CSR_WATCHDOGEN_BITPOS) 
                            24321 ; 82   |#define HW_RTC_CSR_RSVD0_SETMASK (((1<<HW_RTC_CSR_RSVD0_WIDTH)-1)<<HW_RTC_CSR_RSVD0_BITPOS) 
                            24322 ; 83   |#define HW_RTC_CSR_STALEREGS_SETMASK (((1<<HW_RTC_CSR_STALEREGS_WIDTH)-1)<<HW_RTC_CSR_STALEREGS_BITPOS) 
                            24323 ; 84   |#define HW_RTC_CSR_RSVD1_SETMASK (((1<<HW_RTC_CSR_RSVD1_WIDTH)-1)<<HW_RTC_CSR_RSVD1_BITPOS) 
                            24324 ; 85   |#define HW_RTC_CSR_NEWREGS_SETMASK (((1<<HW_RTC_CSR_NEWREGS_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_BITPOS) 
                            24325 ; 86   |#define HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK (((1<<HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_XTALDIV_BITPOS)   
                            24326 ; 87   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_MSCOUNT_BITPOS)
                            24327 ; 88   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS)
                            24328 ; 89   |#define HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_PERSIST0_BITPOS)
                            24329 ; 90   |#define HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_PERSIST1_BITPOS)
                            24330 ; 91   |#define HW_RTC_CSR_RSVD2_SETMASK (((1<<HW_RTC_CSR_RSVD2_WIDTH)-1)<<HW_RTC_CSR_RSVD2_BITPOS) 
                            24331 ; 92   |#define HW_RTC_CSR_FORCE_SETMASK (((1<<HW_RTC_CSR_FORCE_WIDTH)-1)<<HW_RTC_CSR_FORCE_BITPOS) 
                            24332 ; 93   |#define HW_RTC_CSR_RSVD3_SETMASK (((1<<HW_RTC_CSR_RSVD3_WIDTH)-1)<<HW_RTC_CSR_RSVD3_BITPOS) 
                            24333 ; 94   |#define HW_RTC_CSR_SFTRST_SETMASK (((1<<HW_RTC_CSR_SFTRST_WIDTH)-1)<<HW_RTC_CSR_SFTRST_BITPOS) 
                            24334 ; 95   |
                            24335 ; 96   |#define HW_RTC_CSR_ALARMINTEN_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINTEN_SETMASK)
                            24336 ; 97   |#define HW_RTC_CSR_ALARMINT_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINT_SETMASK)
                            24337 ; 98   |#define HW_RTC_CSR_WATCHDOGEN_CLRMASK (~(WORD)HW_RTC_CSR_WATCHDOGEN_SETMASK)
                            24338 ; 99   |#define HW_RTC_CSR_RSVD0_CLRMASK (~(WORD)HW_RTC_CSR_RSVD0_SETMASK)
                            24339 ; 100  |#define HW_RTC_CSR_STALEREGS_CLRMASK (~(WORD)HW_RTC_CSR_STALEREGS_SETMASK)
                            24340 ; 101  |#define HW_RTC_CSR_RSVD1_CLRMASK (~(WORD)HW_RTC_CSR_RSVD1_SETMASK)
                            24341 ; 102  |#define HW_RTC_CSR_NEWREGS_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_SETMASK)
                            24342 ; 103  |#define HW_RTC_CSR_NEWREGS_XTALDIV_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK)   
                            24343 ; 104  |#define HW_RTC_CSR_NEWREGS_MSCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK)
                            24344 ; 105  |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK)
                            24345 ; 106  |#define HW_RTC_CSR_NEWREGS_PERSIST0_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK)
                            24346 ; 107  |#define HW_RTC_CSR_NEWREGS_PERSIST1_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK)
                            24347 ; 108  |
                            24348 ; 109  |#define HW_RTC_CSR_RSVD2_CLRMASK (~(WORD)HW_RTC_CSR_RSVD2_SETMASK)
                            24349 ; 110  |#define HW_RTC_CSR_FORCE_CLRMASK (~(WORD)HW_RTC_CSR_FORCE_SETMASK)
                            24350 ; 111  |#define HW_RTC_CSR_RSVD3_CLRMASK (~(WORD)HW_RTC_CSR_RSVD3_SETMASK)
                            24351 ; 112  |#define HW_RTC_CSR_SFTRST_CLRMASK (~(WORD)HW_RTC_CSR_SFTRST_SETMASK)
                            24352 ; 113  |
                            24353 ; 114  |
                            24354 ; 115  |typedef union               
                            24355 ; 116  |{
                            24356 ; 117  |    struct {
                            24357 ; 118  |         int ALARMINTEN         : HW_RTC_CSR_ALARMINTEN_WIDTH;
                            24358 ; 119  |         int ALARMINT           : HW_RTC_CSR_ALARMINT_WIDTH;
                            24359 ; 120  |         int WATCHDOGEN         : HW_RTC_CSR_WATCHDOGEN_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  97

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24360 ; 121  |         int RSVD0              : HW_RTC_CSR_RSVD0_WIDTH;
                            24361 ; 122  |         unsigned int STALEREGS : HW_RTC_CSR_STALEREGS_WIDTH;
                            24362 ; 123  |         int RSVD1              : HW_RTC_CSR_RSVD1_WIDTH;
                            24363 ; 124  |         unsigned int NEWREGS   : HW_RTC_CSR_NEWREGS_WIDTH;
                            24364 ; 125  |         int RSVD2              : HW_RTC_CSR_RSVD2_WIDTH;
                            24365 ; 126  |         int FORCE             : HW_RTC_CSR_FORCE_WIDTH;
                            24366 ; 127  |         int RSVD3              : HW_RTC_CSR_RSVD3_WIDTH;
                            24367 ; 128  |         unsigned int SFTRST    : HW_RTC_CSR_SFTRST_WIDTH;
                            24368 ; 129  |    } B;
                            24369 ; 130  |    int I;
                            24370 ; 131  |    unsigned int U;
                            24371 ; 132  |} rtc_csr_type;
                            24372 ; 133  |#define HW_RTC_CSR      (*(volatile rtc_csr_type _X*) (HW_RTC_BASEADDR+0))    /* RTC Control / Status Register */
                            24373 ; 134  |
                            24374 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                            24375 ; 136  |
                            24376 ; 137  |//  RTC Milliseconds Register0 (HW_RTC_MSECONDS0) Bit Definitions
                            24377 ; 138  |
                            24378 ; 139  |#define HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS (0)
                            24379 ; 140  |
                            24380 ; 141  |#define HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH (24)
                            24381 ; 142  |
                            24382 ; 143  |#define HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK (((1<<HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH)-1)<<HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS) 
                            24383 ; 144  |
                            24384 ; 145  |#define HW_RTC_MSECONDS0_MSECONDSLOW_CLRMASK (~(WORD)HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK)
                            24385 ; 146  |
                            24386 ; 147  |typedef union               
                            24387 ; 148  |{
                            24388 ; 149  |    struct {
                            24389 ; 150  |         int MSECONDSLOW        : HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH;
                            24390 ; 151  |    } B;
                            24391 ; 152  |    int I;
                            24392 ; 153  |    unsigned int U;
                            24393 ; 154  |} rtc_mseconds0_type;
                            24394 ; 155  |#define HW_RTC_MSECONDS0      (*(volatile rtc_mseconds0_type _X*) (HW_RTC_BASEADDR+1))    /* RTC MSECONDS Lower Word Register */
                            24395 ; 156  |#define HW_RTCLOWR            HW_RTC_MSECONDS0
                            24396 ; 157  |/////////////////////////////////////////////////////////////////////////////////
                            24397 ; 158  |
                            24398 ; 159  |//  RTC Milliseconds Register1 (HW_RTC_MSECONDS1) Bit Definitions
                            24399 ; 160  |
                            24400 ; 161  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS (0)
                            24401 ; 162  |
                            24402 ; 163  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH (24)
                            24403 ; 164  |
                            24404 ; 165  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_SETMASK (((1<<HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH)-1)<<HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS) 
                            24405 ; 166  |
                            24406 ; 167  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_CLRMASK (~(WORD)HW_RTC_MSECONDS1_MSECONDSHIGH_SETMASK)
                            24407 ; 168  |
                            24408 ; 169  |typedef union               
                            24409 ; 170  |{
                            24410 ; 171  |    struct {
                            24411 ; 172  |         int MSECONDSHIGH       : HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH;
                            24412 ; 173  |    } B;
                            24413 ; 174  |    int I;
                            24414 ; 175  |    unsigned int U;
                            24415 ; 176  |} rtc_mseconds1_type;
                            24416 ; 177  |#define HW_RTC_MSECONDS1      (*(volatile rtc_mseconds1_type _X*) (HW_RTC_BASEADDR+2))    /* RTC MSECONDS Upper Word Register */
                            24417 ; 178  |#define HW_RTCUPR             HW_RTC_MSECONDS1
                            24418 ; 179  |
                            24419 ; 180  |#define HW_RTC_LOWER_OFFSET 1
                            24420 ; 181  |#define HW_RTC_UP_OFFSET 2
                            24421 ; 182  |
                            24422 ; 183  |
                            24423 ; 184  |/////////////////////////////////////////////////////////////////////////////////
                            24424 ; 185  |
                            24425 ; 186  |//  RTC Watchdog Count (HW_RTC_WATCHDOG) Bit Definitions
                            24426 ; 187  |
                            24427 ; 188  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_BITPOS (0)
                            24428 ; 189  |
                            24429 ; 190  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH (24)
                            24430 ; 191  |
                            24431 ; 192  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK (((1<<HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH)-1)<<HW_RTC_WATCHDOG_TIMEOUTCNT_BITPOS) 
                            24432 ; 193  |
                            24433 ; 194  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_CLRMASK (~(WORD)HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK)
                            24434 ; 195  |
                            24435 ; 196  |typedef union               
                            24436 ; 197  |{
                            24437 ; 198  |    struct {
                            24438 ; 199  |         int TIMEOUTCNT         : HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH;
                            24439 ; 200  |    } B;
                            24440 ; 201  |    int I;
                            24441 ; 202  |    unsigned int U;
                            24442 ; 203  |} rtc_watchdog_type;
                            24443 ; 204  |#define HW_RTC_WATCHDOG     (*(volatile rtc_watchdog_type _X*) (HW_RTC_BASEADDR+3))    /* RTC Watchdog Timeout Register */
                            24444 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                            24445 ; 206  |
                            24446 ; 207  |//  RTC Alarm Register0 (HW_RTC_ALARM0) Bit Definitions
                            24447 ; 208  |
                            24448 ; 209  |#define HW_RTC_ALARM0_ALARMLOW_BITPOS (0)
                            24449 ; 210  |
                            24450 ; 211  |#define HW_RTC_ALARM0_ALARMLOW_WIDTH (24)
                            24451 ; 212  |
                            24452 ; 213  |#define HW_RTC_ALARM0_ALARMLOW_SETMASK (((1<<HW_RTC_ALARM0_ALARMLOW_WIDTH)-1)<<HW_RTC_ALARM0_ALARMLOW_BITPOS) 
                            24453 ; 214  |
                            24454 ; 215  |#define HW_RTC_ALARM0_ALARMLOW_CLRMASK (~(WORD)HW_RTC_ALARM0_ALARMLOW_SETMASK)
                            24455 ; 216  |
                            24456 ; 217  |typedef union               
                            24457 ; 218  |{
                            24458 ; 219  |    struct {
                            24459 ; 220  |         int ALARMLOW   : HW_RTC_ALARM0_ALARMLOW_WIDTH;
                            24460 ; 221  |    } B;
                            24461 ; 222  |    int I;
                            24462 ; 223  |    unsigned int U;
                            24463 ; 224  |} rtc_alarm0_type;
                            24464 ; 225  |#define HW_RTC_ALARM0      (*(volatile rtc_alarm0_type _X*) (HW_RTC_BASEADDR+4))    /* RTC ALARM Lower Word Register */
                            24465 ; 226  |/////////////////////////////////////////////////////////////////////////////////
                            24466 ; 227  |
                            24467 ; 228  |//  RTC Alarm Register1 (HW_RTC_ALARM1) Bit Definitions
                            24468 ; 229  |
                            24469 ; 230  |#define HW_RTC_ALARM1_ALARMHIGH_BITPOS (0)
                            24470 ; 231  |
                            24471 ; 232  |#define HW_RTC_ALARM1_ALARMHIGH_WIDTH (24)
                            24472 ; 233  |
                            24473 ; 234  |#define HW_RTC_ALARM1_ALARMHIGH_SETMASK (((1<<HW_RTC_ALARM1_ALARMHIGH_WIDTH)-1)<<HW_RTC_ALARM1_ALARMHIGH_BITPOS) 
                            24474 ; 235  |
                            24475 ; 236  |#define HW_RTC_ALARM1_ALARMHIGH_CLRMASK (~(WORD)HW_RTC_ALARM1_ALARMHIGH_SETMASK)
                            24476 ; 237  |
                            24477 ; 238  |typedef union               
                            24478 ; 239  |{
                            24479 ; 240  |    struct {
                            24480 ; 241  |         int ALARMHIGH  : HW_RTC_ALARM1_ALARMHIGH_WIDTH;
                            24481 ; 242  |    } B;
                            24482 ; 243  |    int I;
                            24483 ; 244  |    unsigned int U;
                            24484 ; 245  |} rtc_alarm1_type;
                            24485 ; 246  |#define HW_RTC_ALARM1      (*(volatile rtc_alarm1_type _X*) (HW_RTC_BASEADDR+5))    /* RTC ALARM Upper Word Register */
                            24486 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                            24487 ; 248  |
                            24488 ; 249  |//  RTC Xtal-Clock Divide Register (HW_RTC_XTALDIVIDE) Bit Definitions
                            24489 ; 250  |
                            24490 ; 251  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_BITPOS (0)
                            24491 ; 252  |#define HW_RTC_XTALDIVIDE_RSVD0_BITPOS (16)
                            24492 ; 253  |
                            24493 ; 254  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH (16)
                            24494 ; 255  |#define HW_RTC_XTALDIVIDE_RSVD0_WIDTH (8)
                            24495 ; 256  |
                            24496 ; 257  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK (((1<<HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH)-1)<<HW_RTC_XTALDIVIDE_DIVCOUNT_BITPOS) 
                            24497 ; 258  |#define HW_RTC_XTALDIVIDE_RSVD0_SETMASK (((1<<HW_RTC_XTALDIVIDE_RSVD0_BITPOS)-1)<<HW_RTC_XTALDIVIDE_RSVD0_BITPOS) 
                            24498 ; 259  |
                            24499 ; 260  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK)
                            24500 ; 261  |#define HW_RTC_XTALDIVIDE_RSVD0_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_RSVD0_SETMASK)
                            24501 ; 262  |
                            24502 ; 263  |typedef union               
                            24503 ; 264  |{
                            24504 ; 265  |    struct {
                            24505 ; 266  |         int DIVCOUNT   : HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH;
                            24506 ; 267  |         int RSVD0      : HW_RTC_XTALDIVIDE_RSVD0_WIDTH;
                            24507 ; 268  |    } B;
                            24508 ; 269  |    int I;
                            24509 ; 270  |    unsigned int U;
                            24510 ; 271  |} rtc_xtaldivide_type;
                            24511 ; 272  |#define HW_RTC_XTALDIVIDE   (*(volatile rtc_xtaldivide_type _X*) (HW_RTC_BASEADDR+6))  /* RTC Xtal-clock Pre-Divider Word Register */
                            24512 ; 273  |/////////////////////////////////////////////////////////////////////////////////
                            24513 ; 274  |
                            24514 ; 275  |//  RTC PERSISTENT Register0 (HW_RTC_PERSISTENT0) Bit Definitions
                            24515 ; 276  |
                            24516 ; 277  |#define HW_RTC_PERSISTENT0_ALARMEN_BITPOS (0)
                            24517 ; 278  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS (1)
                            24518 ; 279  |#define HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS (2)
                            24519 ; 280  |#define HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS (3)
                            24520 ; 281  |#define HW_RTC_PERSISTENT0_RSVD0_BITPOS (4)
                            24521 ; 282  |
                            24522 ; 283  |#define HW_RTC_PERSISTENT0_ALARMEN_WIDTH (1)
                            24523 ; 284  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH (1)
                            24524 ; 285  |#define HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH (1)
                            24525 ; 286  |#define HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH (1)
                            24526 ; 287  |#define HW_RTC_PERSISTENT0_RSVD0_WIDTH (21)
                            24527 ; 288  |
                            24528 ; 289  |#define HW_RTC_PERSISTENT0_ALARMEN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMEN_WIDTH)-1)<<HW_RTC_PERSISTENT0_ALARMEN_BITPOS) 
                            24529 ; 290  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH)-1)<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS)
                            24530 ; 291  |#define HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH)-1)<<HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS) 
                            24531 ; 292  |#define HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK (((1<<HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH)-1)<<HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS) 
                            24532 ; 293  |#define HW_RTC_PERSISTENT0_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT0_RSVD0_WIDTH)-1)<<HW_RTC_PERSISTENT0_RSVD0_BITPOS) 
                            24533 ; 294  |
                            24534 ; 295  |#define HW_RTC_PERSISTENT0_ALARMEN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMEN_SETMASK)
                            24535 ; 296  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_EN_SETMASK)
                            24536 ; 297  |#define HW_RTC_PERSISTENT0_ALARMWAKE_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK)
                            24537 ; 298  |#define HW_RTC_PERSISTENT0_XTALPDOWN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK)
                            24538 ; 299  |#define HW_RTC_PERSISTENT0_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_RSVD0_SETMASK)
                            24539 ; 300  |
                            24540 ; 301  |typedef union               
                            24541 ; 302  |{
                            24542 ; 303  |   struct {
                            24543 ; 304  |      int ALARMEN   : HW_RTC_PERSISTENT0_ALARMEN_WIDTH;
                            24544 ; 305  |           int ALARMWAKE_EN  :  HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH;
                            24545 ; 306  |      int ALARMWAKE : HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH;
                            24546 ; 307  |      int XTALPDOWN : HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH;
                            24547 ; 308  |      int RSVD0     : HW_RTC_PERSISTENT0_RSVD0_WIDTH;
                            24548 ; 309  |   } B;
                            24549 ; 310  |    int I;
                            24550 ; 311  |    unsigned int U;
                            24551 ; 312  |} rtc_PERSISTENT0_type;
                            24552 ; 313  |#define HW_RTC_PERSISTENT0   (*(volatile rtc_PERSISTENT0_type _X*) (HW_RTC_BASEADDR+7))  /* RTC PERSISTENT Register0 */
                            24553 ; 314  |
                            24554 ; 315  |/////////////////////////////////////////////////////////////////////////////////
                            24555 ; 316  |
                            24556 ; 317  |//  RTC PERSISTENT Register1 (HW_RTC_PERSISTENT1) Bit Definitions
                            24557 ; 318  |
                            24558 ; 319  |#define HW_RTC_PERSISTENT1_RSVD0_BITPOS (0)
                            24559 ; 320  |
                            24560 ; 321  |#define HW_RTC_PERSISTENT1_RSVD0_WIDTH (24)
                            24561 ; 322  |
                            24562 ; 323  |#define HW_RTC_PERSISTENT1_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT1_RSVD0_WIDTH)-1)<<HW_RTC_PERSISTENT1_RSVD0_BITPOS) 
                            24563 ; 324  |
                            24564 ; 325  |#define HW_RTC_PERSISTENT1_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT1_RSVD0_SETMASK)
                            24565 ; 326  |
                            24566 ; 327  |
                            24567 ; 328  |typedef union               
                            24568 ; 329  |{
                            24569 ; 330  |    struct {
                            24570 ; 331  |         int RSVD0      : HW_RTC_PERSISTENT1_RSVD0_WIDTH;
                            24571 ; 332  |    } B;
                            24572 ; 333  |    int I;
                            24573 ; 334  |    unsigned int U;
                            24574 ; 335  |} rtc_PERSISTENT1_type;
                            24575 ; 336  |#define HW_RTC_PERSISTENT1   (*(volatile rtc_PERSISTENT1_type _X*) (HW_RTC_BASEADDR+8))  /* RTC PERSISTENT Register1 */
                            24576 ; 337  |
                            24577 ; 338  |
                            24578 ; 339  |#endif
                            24579 ; 340  |
                            24580 ; 341  |
                            24581 ; 342  |
                            24582 ; 343  |
                            24583 ; 344  |
                            24584 ; 345  |
                            24585 ; 346  |
                            24586 ; 347  |
                            24587 ; 348  |
                            24588 ; 349  |
                            24589 ; 350  |
                            24590 ; 351  |
                            24591 ; 352  |
                            24592 ; 353  |
                            24593 
                            24595 
                            24596 ; 13   |
                            24597 ; 14   |// Reserve bit 0 for Low Power USB, if hub can't supply 500mA, need to reboot with 100mA
                            24598 ; 15   |#define HW_RTC_LOW_POWER_USB_REG                     (HW_RTC_PERSISTENT1)
                            24599 ; 16   |#define HW_RTC_PERSISTANT1_LOW_POWER_USB_BITPOS      (0)
                            24600 ; 17   |#define HW_RTC_PERSISTANT1_LOW_POWER_USB_WIDTH       (1)
                            24601 ; 18   |#define HW_RTC_PERSISTANT1_LOW_POWER_USB_SETMASK     (((1<<HW_RTC_PERSISTANT1_LOW_POWER_USB_WIDTH)-1)<<HW_RTC_PERSISTANT1_LOW_POWER_USB_BITPOS) 
                            24602 ; 19   |#define HW_RTC_PERSISTANT1_LOW_POWER_USB_CLRMASK     (~(WORD)HW_RTC_PERSISTANT1_LOW_POWER_USB_SETMASK)
                            24603 ; 20   |
                            24604 ; 21   |// Reserve bit 1 for Skip Checkdisk.  If disk hasn't changed, don't run checkdisk.
                            24605 ; 22   |#define HW_RTC_SKIP_CHECKDISK_REG                    (HW_RTC_PERSISTENT1)
                            24606 ; 23   |#define HW_RTC_PERSISTENT1_SKIP_CHECKDISK_BITPOS     (1)
                            24607 ; 24   |#define HW_RTC_PERSISTENT1_SKIP_CHECKDISK_WIDTH      (1)
                            24608 ; 25   |#define HW_RTC_PERSISTENT1_SKIP_CHECKDISK_SETMASK    (((1<<HW_RTC_PERSISTANT1_SKIP_CHECKDISK_WIDTH)-1)<<HW_RTC_PERSISTANT1_SKIP_CHECKDISK_BITPOS) 
                            24609 ; 26   |#define HW_RTC_PERSISTANT1_SKIP_CHECKDISK_CLRMASK    (~(WORD)HW_RTC_PERSISTANT1_SKIP_CHECKDISK_SETMASK)
                            24610 ; 27   |
                            24611 ; 28   |// Reserve bit 2 for Skip building music library internal flash.  If disk hasn't changed, don't run building.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  98

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24612 ; 29   |#define HW_RTC_SKIP_REBUILD_REG                  (HW_RTC_PERSISTENT1)
                            24613 ; 30   |#define HW_RTC_PERSISTENT1_SKIP_REBUILD_BITPOS   (2)
                            24614 ; 31   |#define HW_RTC_PERSISTENT1_SKIP_REBUILD_WIDTH    (1)
                            24615 ; 32   |#define HW_RTC_PERSISTENT1_SKIP_REBUILD_SETMASK  (((1<<HW_RTC_PERSISTENT1_SKIP_REBUILD_WIDTH)-1)<<HW_RTC_PERSISTENT1_SKIP_REBUILD_BITPOS) 
                            24616 ; 33   |#define HW_RTC_PERSISTENT1_SKIP_REBUILD_CLRMASK  (~(WORD)HW_RTC_PERSISTENT1_SKIP_REBUILD_SETMASK)
                            24617 ; 34   |
                            24618 ; 35   |// Reserve bit 3 for 2nd try Low Power USB, if hub can't supply 500mA (try 2 times)
                            24619 ; 36   |// need to reboot with 100mA
                            24620 ; 37   |#define HW_RTC_PERSISTANT1_LOW_POWER2_USB_BITPOS     (3)
                            24621 ; 38   |#define HW_RTC_PERSISTANT1_LOW_POWER2_USB_WIDTH      (1)
                            24622 ; 39   |#define HW_RTC_PERSISTANT1_LOW_POWER2_USB_SETMASK    (((1<<HW_RTC_PERSISTANT1_LOW_POWER2_USB_WIDTH)-1)<<HW_RTC_PERSISTANT1_LOW_POWER2_USB_BITPOS) 
                            24623 ; 40   |#define HW_RTC_PERSISTANT1_LOW_POWER2_USB_CLRMASK    (~(WORD)HW_RTC_PERSISTANT1_LOW_POWER2_USB_SETMASK)
                            24624 ; 41   |
                            24625 ; 42   |// Reserve bit 5 for MTP database clean flag. 1 => database "clean", 0 => database "dirty"
                            24626 ; 43   |#define HW_RTC_MTP_DB_CLEAN_FLAG_REG                 (HW_RTC_PERSISTENT1)
                            24627 ; 44   |#define HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_BITPOS  (5)
                            24628 ; 45   |#define HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_WIDTH   (1)
                            24629 ; 46   |#define HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_SETMASK (((1<<HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_WIDTH)-1)<<HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_BITPOS) 
                            24630 ; 47   |#define HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_CLRMASK (~(WORD)HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_SETMASK)
                            24631 ; 48   |
                            24632 ; 49   |// Reserve bit 6 for when to use backup resource.bin.  1 => require resource.bat refresh, 0 => no refresh reqd.
                            24633 ; 50   |#define HW_RTC_RESOURCE_BIN_REFRESH_FLAG_REG              (HW_RTC_PERSISTENT1)
                            24634 ; 51   |#define HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_BITPOS  (6)
                            24635 ; 52   |#define HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_WIDTH   (1)
                            24636 ; 53   |#define HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_SETMASK (((1<<HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_WIDTH)-1)<<HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_BITPOS) 
                            24637 ; 54   |#define HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_CLRMASK (~(WORD)HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_SETMASK)
                            24638 ; 55   |
                            24639 ; 56   |// Reserve bit 7 for when to use backup resource.bin.  1 => require resource.bat refresh, 0 => no refresh reqd.
                            24640 ; 57   |#define HW_RTC_HOST_RESOURCE_BIN_REFRESH_FLAG_REG              (HW_RTC_PERSISTENT1)
                            24641 ; 58   |#define HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_BITPOS  (7)
                            24642 ; 59   |#define HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_WIDTH   (1)
                            24643 ; 60   |#define HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_SETMASK (((1<<HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_WIDTH)-1)<<HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_BITPOS) 
                            24644 ; 61   |#define HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_CLRMASK (~(WORD)HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_SETMASK)
                            24645 ; 62   |
                            24646 ; 63   |// Want to wait 2000 clocks before failing.
                            24647 ; 64   |#define PERSIST_WAIT_TIME                            2000
                            24648 ; 65   |
                            24649 ; 66   |void _reentrant StickyBitInit(void);
                            24650 ; 67   |RETCODE _reentrant ReadStickyBit(volatile _X WORD * pSBPointer, WORD BitPosition, BOOL * bResult);
                            24651 ; 68   |RETCODE _reentrant SetStickyBit(volatile _X WORD * pSBPointer, WORD BitPosition);
                            24652 ; 69   |RETCODE _reentrant ClearStickyBit(volatile _X WORD * pSBPointer, WORD BitPosition);
                            24653 ; 70   |void _reentrant SetBitResourceRefresh(INT bBitValue); // should this line be commented out? I think the func def was commented out since unused.
                            24654 ; 71   |INT _reentrant GetBitResourceRefresh(void);           // "
                            24655 ; 72   |void _reentrant StickyBitForceUpdate(void);
                            24656 ; 73   |
                            24657 ; 74   |#endif // _PERSIST_BITS_H
                            24658 
                            24660 
                            24661 ; 29   |#ifdef   USE_PLAYLIST1
                            24662 ; 30   |#include "playlist1.h"
                            24663 ; 31   |#else
                            24664 ; 32   |#ifdef USE_PLAYLIST2
                            24665 ; 33   |#include "playlist2.h"
                            24666 ; 34   |#include "sysspeed.h"
                            24667 ; 35   |#else
                            24668 ; 36   |#ifdef USE_PLAYLIST3
                            24669 ; 37   |#include "voicemenu.h"
                            24670 
                            24672 
                            24673 ; 1    |#ifndef _VOICE_MENU_H
                            24674 ; 2    |#define _VOICE_MENU_H
                            24675 ; 3    |
                            24676 ; 4    |#ifdef USE_PLAYLIST3
                            24677 ; 5    |#include "musiclib_ghdr.h"
                            24678 
                            24680 
                            24681 ; 1    |#ifndef MUSICLIB_GHDR_H
                            24682 ; 2    |#define MUSICLIB_GHDR_H
                            24683 ; 3    |
                            24684 ; 4    |#ifdef __cplusplus
                            24685 ; 5    |extern "C" {
                            24686 ; 6    |#endif
                            24687 ; 7    |
                            24688 ; 8    |/*==================================================================================================
                            24689 ; 9    |
                            24690 ; 10   |                                        General Description
                            24691 ; 11   |
                            24692 ; 12   |====================================================================================================
                            24693 ; 13   |
                            24694 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            24695 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            24696 ; 16   |
                            24697 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            24698 ; 18   |
                            24699 ; 19   |PRODUCT NAMES: All
                            24700 ; 20   |
                            24701 ; 21   |GENERAL DESCRIPTION:
                            24702 ; 22   |
                            24703 ; 23   |    General description of this grouping of functions.
                            24704 ; 24   |
                            24705 ; 25   |Portability: All
                            24706 ; 26   |
                            24707 ; 27   |
                            24708 ; 28   |Revision History:
                            24709 ; 29   |
                            24710 ; 30   |                         Modification        Tracking
                            24711 ; 31   |Author                       Date             Number           Description of Changes
                            24712 ; 32   |---------------------    ------------        ----------        -------------------------------------
                            24713 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of changes made
                            24714 ; 34   |
                            24715 ; 35   |
                            24716 ; 36   |====================================================================================================
                            24717 ; 37   |                                            DESCRIPTION
                            24718 ; 38   |====================================================================================================
                            24719 ; 39   |
                            24720 ; 40   |GLOBAL FUNCTIONS:
                            24721 ; 41   |    MF_global_func_name()
                            24722 ; 42   |
                            24723 ; 43   |TRACEABILITY MATRIX:
                            24724 ; 44   |    None
                            24725 ; 45   |
                            24726 ; 46   |==================================================================================================*/
                            24727 ; 47   |
                            24728 ; 48   |/*==================================================================================================
                            24729 ; 49   |                                                                Conditional Compilation Directives
                            24730 ; 50   |==================================================================================================*/
                            24731 ; 51   |#ifdef WIN32
                            24732 ; 52   |#define _PC_SIMULATION_
                            24733 ; 53   |#else
                            24734 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            24735 ; 55   |#endif  // WIN32
                            24736 ; 56   |
                            24737 ; 57   |#if 1
                            24738 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            24739 ; 59   |#endif
                            24740 ; 60   |
                            24741 ; 61   |#if 1
                            24742 ; 62   |#define _AUDIBLE_       /* install audible list */
                            24743 ; 63   |#endif
                            24744 ; 64   |
                            24745 ; 65   |#if 1
                            24746 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            24747 ; 67   |#endif
                            24748 ; 68   |
                            24749 ; 69   |#ifdef PL3_FB
                            24750 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            24751 ; 71   |#endif
                            24752 ; 72   |
                            24753 ; 73   |#if 1
                            24754 ; 74   |#define _SUPPORT_2000_SONGS_
                            24755 ; 75   |#endif
                            24756 ; 76   |
                            24757 ; 77   |/*==================================================================================================
                            24758 ; 78   |                                           INCLUDE FILES
                            24759 ; 79   |==================================================================================================*/
                            24760 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            24761 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            24762 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            24763 ; 83   |#define OEM_SEEK_END    SEEK_END
                            24764 ; 84   |#else
                            24765 ; 85   |#define _X
                            24766 ; 86   |#define _Y
                            24767 ; 87   |#define _packed
                            24768 ; 88   |
                            24769 ; 89   |#define _asmfunc
                            24770 ; 90   |#define _reentrant
                            24771 ; 91   |
                            24772 ; 92   |#define OEM_SEEK_CUR    1
                            24773 ; 93   |#define OEM_SEEK_SET    0
                            24774 ; 94   |#define OEM_SEEK_END    2
                            24775 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            24776 ; 96   |
                            24777 ; 97   |#include "types.h"
                            24778 ; 98   |#include "exec.h"
                            24779 ; 99   |#include "messages.h"
                            24780 ; 100  |#include "project.h"
                            24781 ; 101  |
                            24782 ; 102  |/*==================================================================================================
                            24783 ; 103  |                                             CONSTANTS
                            24784 ; 104  |==================================================================================================*/
                            24785 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            24786 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            24787 ; 107  |Artistname                              1:0
                            24788 ; 108  |Albumname                               3:2
                            24789 ; 109  |Genrename                               5:4
                            24790 ; 110  |Songname                                7:6
                            24791 ; 111  |----------------------------------------------------------
                            24792 ; 112  |    Value (2 bits)                      Meanings
                            24793 ; 113  |    0                                   RAW and All ASCII
                            24794 ; 114  |    1                                   Uni-code
                            24795 ; 115  |    2                                   Mixed, non-unicode
                            24796 ; 116  |
                            24797 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            24798 ; 118  |*/
                            24799 ; 119  |#define BITMASK_ARTIST  (0x03)
                            24800 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            24801 ; 121  |#define BITMASK_GENRE   (0x30)
                            24802 ; 122  |#define BITMASK_SONG    (0xC0)
                            24803 ; 123  |
                            24804 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            24805 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            24806 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            24807 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            24808 ; 128  |
                            24809 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            24810 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            24811 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            24812 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            24813 ; 133  |
                            24814 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            24815 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            24816 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            24817 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            24818 ; 138  |
                            24819 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            24820 ; 140  |
                            24821 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            24822 ; 142  |
                            24823 ; 143  |#define INDEX_EOF       0xFFF
                            24824 ; 144  |#ifdef _FOLDER_BROWSE_
                            24825 ; 145  |#define INDEX_ROOT  0xffe
                            24826 ; 146  |#define UNKNOWN_RECORD  0xfff
                            24827 ; 147  |#endif  // _FOLDER_BROWSE_
                            24828 ; 148  |
                            24829 ; 149  |/* Constant for item_type */
                            24830 ; 150  |#define         ITEM_ARTIST                     0
                            24831 ; 151  |#define         ITEM_ALBUM                      1
                            24832 ; 152  |#define         ITEM_GENRE                      2
                            24833 ; 153  |#define         ITEM_TRACK                      3
                            24834 ; 154  |#define         ITEM_YEAR                       4
                            24835 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            24836 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            24837 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            24838 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            24839 ; 159  |#ifdef _NEWMUSIC_
                            24840 ; 160  |#define         ITEM_1DAY                       10
                            24841 ; 161  |#define         ITEM_1WEEK                      11
                            24842 ; 162  |#define         ITEM_1MONTH                     12
                            24843 ; 163  |#endif
                            24844 ; 164  |#ifdef _AUDIBLE_
                            24845 ; 165  |#define         ITEM_AUDIBLE            13
                            24846 ; 166  |#endif
                            24847 ; 167  |#define         ITEM_ON_THE_GO          14
                            24848 ; 168  |
                            24849 ; 169  |#define         ITEM_VOICE                      15
                            24850 ; 170  |#define         ITEM_FMREC                      16
                            24851 ; 171  |#define         ITEM_PHOTO                      17
                            24852 ; 172  |#ifdef _FOLDER_BROWSE_
                            24853 ; 173  |#define         ITEM_INTERNAL           18
                            24854 ; 174  |#define         ITEM_EXTERNAL       19
                            24855 ; 175  |#endif  // _FOLDER_BROWSE_
                            24856 ; 176  |#define     ITEM_UNKNOWN        0xff
                            24857 ; 177  |
                            24858 ; 178  |/*
                            24859 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            24860 ; 180  |option input.
                            24861 ; 181  |*/
                            24862 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            24863 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            24864 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            24865 ; 185  |#ifdef _FOLDER_BROWSE_
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  99

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24866 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            24867 ; 187  |#endif  // _FOLDER_BROWSE_
                            24868 ; 188  |
                            24869 ; 189  |/* Constant for key action */
                            24870 ; 190  |#define         ACTION_OK                               0               /* Press OK button */
                            24871 ; 191  |#define         ACTION_BACK                             1               /* Press BACK button */
                            24872 ; 192  |#define         ACTION_UP                               2               /* Press UP button */
                            24873 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN button */
                            24874 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            24875 ; 195  |#define         ACTION_MENU                             5               /* Back the browsing tree to root */
                            24876 ; 196  |
                            24877 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            24878 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            24879 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            24880 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            24881 ; 201  |
                            24882 ; 202  |#define         NO_SD                                   0
                            24883 ; 203  |#define         HAS_SD                                  1
                            24884 ; 204  |
                            24885 ; 205  |#define         PLAY_NORMAL                             0
                            24886 ; 206  |#define         PLAY_SHUFFLE                    1
                            24887 ; 207  |
                            24888 ; 208  |#define     PLAY_REPEAT_OFF         0
                            24889 ; 209  |#define     PLAY_REPEAT_ON          1
                            24890 ; 210  |
                            24891 ; 211  |#define     PLAY_SELECT_FLASH       0
                            24892 ; 212  |#define     PLAY_SELECT_SD          1
                            24893 ; 213  |
                            24894 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            24895 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            24896 ; 216  |
                            24897 ; 217  |#define         ON_THE_GO_EXIST                 0
                            24898 ; 218  |#define         ON_THE_GO_FULL                  1
                            24899 ; 219  |#define         ON_THE_GO_FREE                  2
                            24900 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            24901 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            24902 ; 222  |
                            24903 ; 223  |#define         REC_VOICE_TYPE                  0
                            24904 ; 224  |#define         REC_FMREC_TYPE                  1
                            24905 ; 225  |#define         REC_PHOTO_TYPE                  2
                            24906 ; 226  |#define         VOICE_FILE_ADD                  0
                            24907 ; 227  |#define         VOICE_FILE_DEL                  1
                            24908 ; 228  |
                            24909 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            24910 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            24911 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            24912 ; 232  |flash or external SD card */
                            24913 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            24914 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            24915 ; 235  |#else
                            24916 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            24917 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            24918 ; 238  |
                            24919 ; 239  |/* number of byte in one DSP word */
                            24920 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            24921 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            24922 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            24923 ; 243  |are 10 level directory structure */
                            24924 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            24925 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            24926 ; 246  |
                            24927 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            24928 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            24929 ; 249  |/* number of songs in each new music list */
                            24930 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            24931 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            24932 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            24933 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            24934 ; 254  |/* number of songs in the on-the-fly list */
                            24935 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            24936 ; 256  |/* number of files audible list */
                            24937 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            24938 ; 258  |
                            24939 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            24940 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            24941 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            24942 ; 262  |
                            24943 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            24944 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            24945 ; 265  |#ifdef _FOLDER_BROWSE_
                            24946 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            24947 ; 267  |#else
                            24948 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            24949 ; 269  |#endif  // _FOLDER_BROWSE_
                            24950 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            24951 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            24952 ; 272  |
                            24953 ; 273  |#ifndef _MAX_DIR_DEPTH
                            24954 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            24955 ; 275  |#endif  // _MAX_DIR_DEPTH
                            24956 ; 276  |
                            24957 ; 277  |/*==================================================================================================*/
                            24958 ; 278  |
                            24959 ; 279  |
                            24960 ; 280  |/*==================================================================================================
                            24961 ; 281  |                                               MACROS
                            24962 ; 282  |==================================================================================================*/
                            24963 ; 283  |
                            24964 ; 284  |/*==================================================================================================
                            24965 ; 285  |                                               ENUMS
                            24966 ; 286  |==================================================================================================*/
                            24967 ; 287  |#define NUM_OF_MEDIA                            (2)
                            24968 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            24969 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            24970 ; 290  |/*==================================================================================================
                            24971 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            24972 ; 292  |==================================================================================================*/
                            24973 ; 293  |
                            24974 ; 294  |typedef char    int8;
                            24975 ; 295  |typedef short   int16;
                            24976 ; 296  |typedef int     int24;
                            24977 ; 297  |typedef long    int32;
                            24978 ; 298  |
                            24979 ; 299  |typedef int     intx;
                            24980 ; 300  |
                            24981 ; 301  |typedef unsigned char   uint8;
                            24982 ; 302  |typedef unsigned short  uint16;
                            24983 ; 303  |typedef unsigned int    uint24;
                            24984 ; 304  |typedef unsigned long   uint32;
                            24985 ; 305  |
                            24986 ; 306  |/*
                            24987 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode format.
                            24988 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            24989 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            24990 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            24991 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            24992 ; 312  |*/
                            24993 ; 313  |/*
                            24994 ; 314  |path_name[] _must_have_data_:
                            24995 ; 315  |path_name[] = (Max. 120 Characters);
                            24996 ; 316  |year range:
                            24997 ; 317  |year = 0x000000-0xFFFFFF;
                            24998 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            24999 ; 319  |Unknown track number:
                            25000 ; 320  |track_number = 0x7FFFFF;
                            25001 ; 321  |unicode refer to above #define BITMASK_*
                            25002 ; 322  |*/
                            25003 ; 323  |/*
                            25004 ; 324  |Interface of UI and Music Library
                            25005 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            25006 ; 326  |
                            25007 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            25008 ; 328  |
                            25009 ; 329  |3) UI to Music Library variable passing length definition:
                            25010 ; 330  |        All ASCII Characters:
                            25011 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            25012 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            25013 ; 333  |        Unicode Characters:
                            25014 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            25015 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            25016 ; 336  |
                            25017 ; 337  |4) UI input data to Music Library in two formats.
                            25018 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            25019 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            25020 ; 340  |
                            25021 ; 341  |5) UI calling function:
                            25022 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            25023 ; 343  |        int16 option definition:
                            25024 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            25025 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            25026 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            25027 ; 347  |
                            25028 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            25029 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_list separately.
                            25030 ; 350  |
                            25031 ; 351  |6) Modification Date:
                            25032 ; 352  |        uint24 g_file_time:
                            25033 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            25034 ; 354  |*/
                            25035 ; 355  |
                            25036 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            25037 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            25038 ; 358  |typedef struct _ram_song_info {
                            25039 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25040 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25041 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25042 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25043 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25044 ; 364  |    uint32 g_songFastKey;
                            25045 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25046 ; 366  |        uint24 year;
                            25047 ; 367  |        uint24 track_number;
                            25048 ; 368  |        uint8 unicode;
                            25049 ; 369  |} RAM_SONG_INFO_T;
                            25050 ; 370  |
                            25051 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            25052 ; 372  |typedef struct _flash_group_name {
                            25053 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25054 ; 374  |        uint8 unicode;
                            25055 ; 375  |} FLASH_GROUP_NAME_T;
                            25056 ; 376  |
                            25057 ; 377  |// struct to store directories information passed from UI
                            25058 ; 378  |#ifdef _FOLDER_BROWSE_
                            25059 ; 379  |typedef struct _ml_DirInfo {
                            25060 ; 380  |        uint24  u8Unicode : 8;
                            25061 ; 381  |        uint24  u12DirDepth : 12;
                            25062 ; 382  |        uint24  u4Added : 4;            
                            25063 ; 383  |        INT     iDirRecord;
                            25064 ; 384  |        DWORD   dwFastKey;
                            25065 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25066 ; 386  |} ML_DIRINFO_T;
                            25067 ; 387  |#endif  // _FOLDER_BROWSE_
                            25068 ; 388  |
                            25069 ; 389  |/*==================================================================================================
                            25070 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            25071 ; 391  |==================================================================================================*/
                            25072 ; 392  |extern uint24   IsPlayOnTheGo;
                            25073 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            25074 ; 394  |extern uint24   merge_id_list_flash[];
                            25075 ; 395  |extern uint24   merge_id_list_sd[];
                            25076 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            25077 ; 397  |#ifdef _FOLDER_BROWSE_
                            25078 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            25079 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25080 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            25081 ; 401  |#endif  // _FOLDER_BROWSE_
                            25082 ; 402  |extern INT _X    *sec_temp_buf_X;
                            25083 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 = repeat on/off(0=off/1=on) */
                            25084 ; 404  |
                            25085 ; 405  |/*==================================================================================================
                            25086 ; 406  |                                        FUNCTION PROTOTYPES
                            25087 ; 407  |==================================================================================================*/
                            25088 ; 408  |
                            25089 ; 409  |///////////////////////////////////////////////////////////////////////
                            25090 ; 410  |//! \brief
                            25091 ; 411  |//!
                            25092 ; 412  |//! \fntype Function
                            25093 ; 413  |//!
                            25094 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            25095 ; 415  |//! Call only once before inserting items. Call once for each media.
                            25096 ; 416  |//!
                            25097 ; 417  |//! \param[in]  none
                            25098 ; 418  |//!
                            25099 ; 419  |//! \return
                            25100 ; 420  |//!
                            25101 ; 421  |///////////////////////////////////////////////////////////////////////
                            25102 ; 422  |void ML_InitLibraryParameter(void);
                            25103 ; 423  |
                            25104 ; 424  |///////////////////////////////////////////////////////////////////////
                            25105 ; 425  |//! \brief
                            25106 ; 426  |//!
                            25107 ; 427  |//! \fntype Function
                            25108 ; 428  |//!
                            25109 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            25110 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            25111 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each song,
                            25112 ; 432  |//! the song information is recorded in music library.
                            25113 ; 433  |//!
                            25114 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            25115 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passed from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            25116 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav format file.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 100

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25117 ; 437  |//!
                            25118 ; 438  |//! \return
                            25119 ; 439  |//!
                            25120 ; 440  |///////////////////////////////////////////////////////////////////////
                            25121 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            25122 ; 442  |
                            25123 ; 443  |///////////////////////////////////////////////////////////////////////
                            25124 ; 444  |//! \brief
                            25125 ; 445  |//!
                            25126 ; 446  |//! \fntype Function
                            25127 ; 447  |//!
                            25128 ; 448  |//! \param[in]
                            25129 ; 449  |//!
                            25130 ; 450  |//! \return
                            25131 ; 451  |//!
                            25132 ; 452  |///////////////////////////////////////////////////////////////////////
                            25133 ; 453  |#ifdef _FOLDER_BROWSE_
                            25134 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int16 i16Option);
                            25135 ; 455  |#endif  // _FOLDER_BROWSE_
                            25136 ; 456  |
                            25137 ; 457  |///////////////////////////////////////////////////////////////////////
                            25138 ; 458  |//! \brief
                            25139 ; 459  |//!
                            25140 ; 460  |//! \fntype Function
                            25141 ; 461  |//!
                            25142 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            25143 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            25144 ; 464  |//! music library for that particular media.
                            25145 ; 465  |//!
                            25146 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            25147 ; 467  |//!
                            25148 ; 468  |//! \return
                            25149 ; 469  |//!
                            25150 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            25151 ; 471  |//!         function.
                            25152 ; 472  |///////////////////////////////////////////////////////////////////////
                            25153 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            25154 ; 474  |
                            25155 ; 475  |///////////////////////////////////////////////////////////////////////
                            25156 ; 476  |//! \brief
                            25157 ; 477  |//!
                            25158 ; 478  |//! \fntype Function
                            25159 ; 479  |//!
                            25160 ; 480  |//! \param[in]
                            25161 ; 481  |//!
                            25162 ; 482  |//! \return
                            25163 ; 483  |//!
                            25164 ; 484  |///////////////////////////////////////////////////////////////////////
                            25165 ; 485  |#ifdef _NEWMUSIC_
                            25166 ; 486  |void ML_UpdateNewMusic(void);
                            25167 ; 487  |#endif
                            25168 ; 488  |
                            25169 ; 489  |///////////////////////////////////////////////////////////////////////
                            25170 ; 490  |//! \brief
                            25171 ; 491  |//!
                            25172 ; 492  |//! \fntype Function
                            25173 ; 493  |//!
                            25174 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            25175 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            25176 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            25177 ; 497  |//!
                            25178 ; 498  |//! \param[in]  none
                            25179 ; 499  |//!
                            25180 ; 500  |//! \return
                            25181 ; 501  |//!
                            25182 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            25183 ; 503  |//!         must be called before calling any other music library functions.
                            25184 ; 504  |///////////////////////////////////////////////////////////////////////
                            25185 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            25186 ; 506  |
                            25187 ; 507  |///////////////////////////////////////////////////////////////////////
                            25188 ; 508  |//! \brief
                            25189 ; 509  |//!
                            25190 ; 510  |//! \fntype Function
                            25191 ; 511  |//!
                            25192 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            25193 ; 513  |//! library operation.
                            25194 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            25195 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file and the
                            25196 ; 516  |//! music.sec file do not exist.
                            25197 ; 517  |//!
                            25198 ; 518  |//! \param[in]  none
                            25199 ; 519  |//!
                            25200 ; 520  |//! \return
                            25201 ; 521  |//!
                            25202 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            25203 ; 523  |//!         must be called before calling any other music library functions.
                            25204 ; 524  |///////////////////////////////////////////////////////////////////////
                            25205 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            25206 ; 526  |
                            25207 ; 527  |///////////////////////////////////////////////////////////////////////
                            25208 ; 528  |//! \brief
                            25209 ; 529  |//!
                            25210 ; 530  |//! \fntype Function
                            25211 ; 531  |//!
                            25212 ; 532  |//! Preload the list, prepare for renew.
                            25213 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            25214 ; 534  |//! structure in RAM.
                            25215 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            25216 ; 536  |//! in RAM.
                            25217 ; 537  |//!
                            25218 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            25219 ; 539  |//!
                            25220 ; 540  |//! \return
                            25221 ; 541  |//!
                            25222 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            25223 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            25224 ; 544  |///////////////////////////////////////////////////////////////////////
                            25225 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            25226 ; 546  |
                            25227 ; 547  |///////////////////////////////////////////////////////////////////////
                            25228 ; 548  |//! \brief
                            25229 ; 549  |//!
                            25230 ; 550  |//! \fntype Function
                            25231 ; 551  |//!
                            25232 ; 552  |//! Save the list to flash memory.
                            25233 ; 553  |//!
                            25234 ; 554  |//! \param[in]
                            25235 ; 555  |//!
                            25236 ; 556  |//! \return
                            25237 ; 557  |//!
                            25238 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            25239 ; 559  |//!         changed by the user.
                            25240 ; 560  |///////////////////////////////////////////////////////////////////////
                            25241 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            25242 ; 562  |
                            25243 ; 563  |///////////////////////////////////////////////////////////////////////
                            25244 ; 564  |//! \brief
                            25245 ; 565  |//!
                            25246 ; 566  |//! \fntype Function
                            25247 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            25248 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in the
                            25249 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the list.
                            25250 ; 570  |//! Otherwise the song is deleted.
                            25251 ; 571  |//!
                            25252 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            25253 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            25254 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            25255 ; 575  |//!
                            25256 ; 576  |//! \return
                            25257 ; 577  |//!
                            25258 ; 578  |///////////////////////////////////////////////////////////////////////
                            25259 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            25260 ; 580  |
                            25261 ; 581  |///////////////////////////////////////////////////////////////////////
                            25262 ; 582  |//! \brief
                            25263 ; 583  |//!
                            25264 ; 584  |//! \fntype Function
                            25265 ; 585  |//!
                            25266 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            25267 ; 587  |//! in the ML_UpdateOnTheGo().
                            25268 ; 588  |//!
                            25269 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            25270 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDEX_EOF (song will be deleted)
                            25271 ; 591  |//!
                            25272 ; 592  |//! \return
                            25273 ; 593  |//!
                            25274 ; 594  |///////////////////////////////////////////////////////////////////////
                            25275 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            25276 ; 596  |
                            25277 ; 597  |///////////////////////////////////////////////////////////////////////
                            25278 ; 598  |//! \brief
                            25279 ; 599  |//!
                            25280 ; 600  |//! \fntype Function
                            25281 ; 601  |//!
                            25282 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            25283 ; 603  |//!
                            25284 ; 604  |//! \param[in]  none
                            25285 ; 605  |//!
                            25286 ; 606  |//! \return
                            25287 ; 607  |//!
                            25288 ; 608  |///////////////////////////////////////////////////////////////////////
                            25289 ; 609  |void ML_UpdateOnTheGo(void);
                            25290 ; 610  |
                            25291 ; 611  |///////////////////////////////////////////////////////////////////////
                            25292 ; 612  |//! \brief
                            25293 ; 613  |//!
                            25294 ; 614  |//! \fntype Function
                            25295 ; 615  |//!
                            25296 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            25297 ; 617  |//! Call only once before inserting items. Call once for each media.
                            25298 ; 618  |//!
                            25299 ; 619  |//! \param[in]  none
                            25300 ; 620  |//!
                            25301 ; 621  |//! \return
                            25302 ; 622  |//!
                            25303 ; 623  |///////////////////////////////////////////////////////////////////////
                            25304 ; 624  |void ML_InitVoiceParameter(void);
                            25305 ; 625  |
                            25306 ; 626  |///////////////////////////////////////////////////////////////////////
                            25307 ; 627  |//! \brief
                            25308 ; 628  |//!
                            25309 ; 629  |//! \fntype Function
                            25310 ; 630  |//!
                            25311 ; 631  |//! \param[in]
                            25312 ; 632  |//!
                            25313 ; 633  |//! \return
                            25314 ; 634  |//!
                            25315 ; 635  |///////////////////////////////////////////////////////////////////////
                            25316 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            25317 ; 637  |
                            25318 ; 638  |///////////////////////////////////////////////////////////////////////
                            25319 ; 639  |//! \brief
                            25320 ; 640  |//!
                            25321 ; 641  |//! \fntype Function
                            25322 ; 642  |//!
                            25323 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            25324 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names.
                            25325 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            25326 ; 646  |//!
                            25327 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            25328 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed from UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            25329 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            25330 ; 650  |//!
                            25331 ; 651  |//! \return
                            25332 ; 652  |//!
                            25333 ; 653  |///////////////////////////////////////////////////////////////////////
                            25334 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            25335 ; 655  |
                            25336 ; 656  |///////////////////////////////////////////////////////////////////////
                            25337 ; 657  |//! \brief
                            25338 ; 658  |//!
                            25339 ; 659  |//! \fntype Function
                            25340 ; 660  |//!
                            25341 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            25342 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice building
                            25343 ; 663  |//! of music library for that particular media.
                            25344 ; 664  |//!
                            25345 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            25346 ; 666  |//!
                            25347 ; 667  |//! \return
                            25348 ; 668  |//!
                            25349 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            25350 ; 670  |//!         function.
                            25351 ; 671  |///////////////////////////////////////////////////////////////////////
                            25352 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            25353 ; 673  |
                            25354 ; 674  |///////////////////////////////////////////////////////////////////////
                            25355 ; 675  |//! \brief
                            25356 ; 676  |//!
                            25357 ; 677  |//! \fntype Function
                            25358 ; 678  |//!
                            25359 ; 679  |//! Called by UI, the merge the music library tables album,
                            25360 ; 680  |//! artist, genre, song and year.
                            25361 ; 681  |//!
                            25362 ; 682  |//! \param[in]  none
                            25363 ; 683  |//!
                            25364 ; 684  |//! \return
                            25365 ; 685  |//!
                            25366 ; 686  |///////////////////////////////////////////////////////////////////////
                            25367 ; 687  |void ML_MergeLibraryTables(void);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 101

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25368 ; 688  |
                            25369 ; 689  |///////////////////////////////////////////////////////////////////////
                            25370 ; 690  |//! \brief
                            25371 ; 691  |//!
                            25372 ; 692  |//! \fntype Function
                            25373 ; 693  |//!
                            25374 ; 694  |//! Called by UI, the merge the music library tables album,
                            25375 ; 695  |//! artist, genre, song and year.
                            25376 ; 696  |//!
                            25377 ; 697  |//! \param[in]  none
                            25378 ; 698  |//!
                            25379 ; 699  |//! \return
                            25380 ; 700  |//!
                            25381 ; 701  |///////////////////////////////////////////////////////////////////////
                            25382 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            25383 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            25384 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            25385 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            25386 ; 706  |
                            25387 ; 707  |///////////////////////////////////////////////////////////////////////
                            25388 ; 708  |//! \brief
                            25389 ; 709  |//!
                            25390 ; 710  |//! \fntype Function
                            25391 ; 711  |//!
                            25392 ; 712  |//! \param[in]
                            25393 ; 713  |//!
                            25394 ; 714  |//! \return
                            25395 ; 715  |//!
                            25396 ; 716  |///////////////////////////////////////////////////////////////////////
                            25397 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            25398 ; 718  |
                            25399 ; 719  |/*================================================================================================*/
                            25400 ; 720  |
                            25401 ; 721  |// Siukoon 2005-02-28
                            25402 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            25403 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            25404 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            25405 ; 725  |#else
                            25406 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            25407 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            25408 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            25409 ; 729  |#define WORD_PER_SECTOR             (171)
                            25410 ; 730  |#define BYTE_PER_SECTOR             (512)
                            25411 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            25412 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            25413 ; 733  |
                            25414 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            25415 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            25416 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            25417 ; 737  |
                            25418 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            25419 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            25420 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            25421 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            25422 ; 742  |
                            25423 ; 743  |/////////////////////
                            25424 ; 744  |
                            25425 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            25426 ; 746  |
                            25427 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            25428 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            25429 ; 749  |#else
                            25430 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            25431 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            25432 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            25433 ; 753  |
                            25434 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            25435 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            25436 ; 756  |
                            25437 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            25438 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            25439 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            25440 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            25441 ; 761  |#else
                            25442 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            25443 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            25444 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            25445 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            25446 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            25447 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            25448 ; 768  |
                            25449 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            25450 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            25451 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            25452 ; 772  |#else
                            25453 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG_PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            25454 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            25455 ; 775  |
                            25456 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            25457 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            25458 ; 778  |
                            25459 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            25460 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            25461 ; 781  |
                            25462 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            25463 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            25464 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            25465 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            25466 ; 786  |#else
                            25467 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            25468 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            25469 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            25470 ; 790  |
                            25471 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            25472 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6)
                            25473 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            25474 ; 794  |#else
                            25475 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            25476 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            25477 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            25478 ; 798  |
                            25479 ; 799  |#ifdef __cplusplus
                            25480 ; 800  |}
                            25481 ; 801  |#endif
                            25482 ; 802  |
                            25483 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            25484 
                            25486 
                            25487 ; 6    |#endif
                            25488 ; 7    |
                            25489 ; 8    |#define MAX_FOLDER_SIZE 12              //# of max bytes
                            25490 ; 9    |
                            25491 ; 10   |#define DIRECTORY_SEPARATOR 0x2f
                            25492 ; 11   |
                            25493 ; 12   |#define VOICEDIR_0              0x494f56  //   i o v 
                            25494 ; 13   |#define VOICEDIR_1              0x004543  //     e c
                            25495 ; 14   |
                            25496 ; 15   |#define FMDIR_0         0x004d46  //    m f
                            25497 ; 16   |
                            25498 ; 17   |#define LINE1DIR_0              0x4e494c  //    n i l 
                            25499 ; 18   |#define LINE1DIR_1              0x492d45  //    i - e 
                            25500 ; 19   |#define LINE1DIR_2              0x00004e  //        n          
                            25501 ; 20   |
                            25502 ; 21   |#define REC_TEST_0              0x534554  //    S E T 
                            25503 ; 22   |#define REC_TEST_1              0x000054  //        T       
                            25504 ; 23   |
                            25505 ; 24   |#ifdef USE_PLAYLIST3
                            25506 ; 25   |extern _packed BYTE g_LastEncName[30];
                            25507 ; 26   |#endif  // _VOICE_MENU_H
                            25508 ; 27   |#ifdef USE_PLAYLIST3
                            25509 ; 28   |void _reentrant AddVoiceEntry(uint24);
                            25510 ; 29   |#endif
                            25511 ; 30   |#endif
                            25512 ; 31   |
                            25513 ; 32   |
                            25514 ; 33   |
                            25515 ; 34   |
                            25516 
                            25518 
                            25519 ; 38   |#include "playlist3.h"
                            25520 
                            25522 
                            25523 ; 1    |#ifndef _PLAYLIST3_H
                            25524 ; 2    |#define _PLAYLIST3_H
                            25525 ; 3    |#include "playlist.h"
                            25526 
                            25528 
                            25529 ; 1    |#ifndef PLAYLIST_H
                            25530 ; 2    |#define PLAYLIST_H
                            25531 ; 3    |
                            25532 ; 4    |#include "types.h"
                            25533 
                            25535 
                            25536 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            25537 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            25538 ; 3    |//
                            25539 ; 4    |// Filename: types.h
                            25540 ; 5    |// Description: Standard data types
                            25541 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            25542 ; 7    |
                            25543 ; 8    |#ifndef _TYPES_H
                            25544 ; 9    |#define _TYPES_H
                            25545 ; 10   |
                            25546 ; 11   |// TODO:  move this outta here!
                            25547 ; 12   |#if !defined(NOERROR)
                            25548 ; 13   |#define NOERROR 0
                            25549 ; 14   |#define SUCCESS 0
                            25550 ; 15   |#endif 
                            25551 ; 16   |#if !defined(SUCCESS)
                            25552 ; 17   |#define SUCCESS  0
                            25553 ; 18   |#endif
                            25554 ; 19   |#if !defined(ERROR)
                            25555 ; 20   |#define ERROR   -1
                            25556 ; 21   |#endif
                            25557 ; 22   |#if !defined(FALSE)
                            25558 ; 23   |#define FALSE 0
                            25559 ; 24   |#endif
                            25560 ; 25   |#if !defined(TRUE)
                            25561 ; 26   |#define TRUE  1
                            25562 ; 27   |#endif
                            25563 ; 28   |
                            25564 ; 29   |#if !defined(NULL)
                            25565 ; 30   |#define NULL 0
                            25566 ; 31   |#endif
                            25567 ; 32   |
                            25568 ; 33   |#define MAX_INT     0x7FFFFF
                            25569 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            25570 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            25571 ; 36   |#define MAX_ULONG   (-1) 
                            25572 ; 37   |
                            25573 ; 38   |#define WORD_SIZE   24              // word size in bits
                            25574 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            25575 ; 40   |
                            25576 ; 41   |
                            25577 ; 42   |#define BYTE    unsigned char       // btVarName
                            25578 ; 43   |#define CHAR    signed char         // cVarName
                            25579 ; 44   |#define USHORT  unsigned short      // usVarName
                            25580 ; 45   |#define SHORT   unsigned short      // sVarName
                            25581 ; 46   |#define WORD    unsigned int        // wVarName
                            25582 ; 47   |#define INT     signed int          // iVarName
                            25583 ; 48   |#define DWORD   unsigned long       // dwVarName
                            25584 ; 49   |#define LONG    signed long         // lVarName
                            25585 ; 50   |#define BOOL    unsigned int        // bVarName
                            25586 ; 51   |#define FRACT   _fract              // frVarName
                            25587 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            25588 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            25589 ; 54   |#define FLOAT   float               // fVarName
                            25590 ; 55   |#define DBL     double              // dVarName
                            25591 ; 56   |#define ENUM    enum                // eVarName
                            25592 ; 57   |#define CMX     _complex            // cmxVarName
                            25593 ; 58   |typedef WORD UCS3;                   // 
                            25594 ; 59   |
                            25595 ; 60   |#define UINT16  unsigned short
                            25596 ; 61   |#define UINT8   unsigned char   
                            25597 ; 62   |#define UINT32  unsigned long
                            25598 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            25599 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            25600 ; 65   |#define WCHAR   UINT16
                            25601 ; 66   |
                            25602 ; 67   |//UINT128 is 16 bytes or 6 words
                            25603 ; 68   |typedef struct UINT128_3500 {   
                            25604 ; 69   |    int val[6];     
                            25605 ; 70   |} UINT128_3500;
                            25606 ; 71   |
                            25607 ; 72   |#define UINT128   UINT128_3500
                            25608 ; 73   |
                            25609 ; 74   |// Little endian word packed byte strings:   
                            25610 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            25611 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            25612 ; 77   |// Little endian word packed byte strings:   
                            25613 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            25614 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            25615 ; 80   |
                            25616 ; 81   |// Declare Memory Spaces To Use When Coding
                            25617 ; 82   |// A. Sector Buffers
                            25618 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            25619 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            25620 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            25621 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            25622 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            25623 ; 88   |// B. Media DDI Memory
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 102

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25624 ; 89   |#define MEDIA_DDI_MEM _Y
                            25625 ; 90   |
                            25626 ; 91   |
                            25627 ; 92   |
                            25628 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            25629 ; 94   |// Examples of circular pointers:
                            25630 ; 95   |//    INT CIRC cpiVarName
                            25631 ; 96   |//    DWORD CIRC cpdwVarName
                            25632 ; 97   |
                            25633 ; 98   |#define RETCODE INT                 // rcVarName
                            25634 ; 99   |
                            25635 ; 100  |// generic bitfield structure
                            25636 ; 101  |struct Bitfield {
                            25637 ; 102  |    unsigned int B0  :1;
                            25638 ; 103  |    unsigned int B1  :1;
                            25639 ; 104  |    unsigned int B2  :1;
                            25640 ; 105  |    unsigned int B3  :1;
                            25641 ; 106  |    unsigned int B4  :1;
                            25642 ; 107  |    unsigned int B5  :1;
                            25643 ; 108  |    unsigned int B6  :1;
                            25644 ; 109  |    unsigned int B7  :1;
                            25645 ; 110  |    unsigned int B8  :1;
                            25646 ; 111  |    unsigned int B9  :1;
                            25647 ; 112  |    unsigned int B10 :1;
                            25648 ; 113  |    unsigned int B11 :1;
                            25649 ; 114  |    unsigned int B12 :1;
                            25650 ; 115  |    unsigned int B13 :1;
                            25651 ; 116  |    unsigned int B14 :1;
                            25652 ; 117  |    unsigned int B15 :1;
                            25653 ; 118  |    unsigned int B16 :1;
                            25654 ; 119  |    unsigned int B17 :1;
                            25655 ; 120  |    unsigned int B18 :1;
                            25656 ; 121  |    unsigned int B19 :1;
                            25657 ; 122  |    unsigned int B20 :1;
                            25658 ; 123  |    unsigned int B21 :1;
                            25659 ; 124  |    unsigned int B22 :1;
                            25660 ; 125  |    unsigned int B23 :1;
                            25661 ; 126  |};
                            25662 ; 127  |
                            25663 ; 128  |union BitInt {
                            25664 ; 129  |        struct Bitfield B;
                            25665 ; 130  |        int        I;
                            25666 ; 131  |};
                            25667 ; 132  |
                            25668 ; 133  |#define MAX_MSG_LENGTH 10
                            25669 ; 134  |struct CMessage
                            25670 ; 135  |{
                            25671 ; 136  |        unsigned int m_uLength;
                            25672 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            25673 ; 138  |};
                            25674 ; 139  |
                            25675 ; 140  |typedef struct {
                            25676 ; 141  |    WORD m_wLength;
                            25677 ; 142  |    WORD m_wMessage;
                            25678 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            25679 ; 144  |} Message;
                            25680 ; 145  |
                            25681 ; 146  |struct MessageQueueDescriptor
                            25682 ; 147  |{
                            25683 ; 148  |        int *m_pBase;
                            25684 ; 149  |        int m_iModulo;
                            25685 ; 150  |        int m_iSize;
                            25686 ; 151  |        int *m_pHead;
                            25687 ; 152  |        int *m_pTail;
                            25688 ; 153  |};
                            25689 ; 154  |
                            25690 ; 155  |struct ModuleEntry
                            25691 ; 156  |{
                            25692 ; 157  |    int m_iSignaledEventMask;
                            25693 ; 158  |    int m_iWaitEventMask;
                            25694 ; 159  |    int m_iResourceOfCode;
                            25695 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            25696 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            25697 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            25698 ; 163  |    int m_uTimeOutHigh;
                            25699 ; 164  |    int m_uTimeOutLow;
                            25700 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            25701 ; 166  |};
                            25702 ; 167  |
                            25703 ; 168  |union WaitMask{
                            25704 ; 169  |    struct B{
                            25705 ; 170  |        unsigned int m_bNone     :1;
                            25706 ; 171  |        unsigned int m_bMessage  :1;
                            25707 ; 172  |        unsigned int m_bTimer    :1;
                            25708 ; 173  |        unsigned int m_bButton   :1;
                            25709 ; 174  |    } B;
                            25710 ; 175  |    int I;
                            25711 ; 176  |} ;
                            25712 ; 177  |
                            25713 ; 178  |
                            25714 ; 179  |struct Button {
                            25715 ; 180  |        WORD wButtonEvent;
                            25716 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            25717 ; 182  |};
                            25718 ; 183  |
                            25719 ; 184  |struct Message {
                            25720 ; 185  |        WORD wMsgLength;
                            25721 ; 186  |        WORD wMsgCommand;
                            25722 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            25723 ; 188  |};
                            25724 ; 189  |
                            25725 ; 190  |union EventTypes {
                            25726 ; 191  |        struct CMessage msg;
                            25727 ; 192  |        struct Button Button ;
                            25728 ; 193  |        struct Message Message;
                            25729 ; 194  |};
                            25730 ; 195  |
                            25731 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            25732 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            25733 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            25734 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            25735 ; 200  |
                            25736 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            25737 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            25738 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            25739 ; 204  |
                            25740 ; 205  |#if DEBUG
                            25741 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            25742 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            25743 ; 208  |#else 
                            25744 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            25745 ; 210  |#define DebugBuildAssert(x)    
                            25746 ; 211  |#endif
                            25747 ; 212  |
                            25748 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            25749 ; 214  |//  #pragma asm
                            25750 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            25751 ; 216  |//  #pragma endasm
                            25752 ; 217  |
                            25753 ; 218  |
                            25754 ; 219  |#ifdef COLOR_262K
                            25755 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            25756 ; 221  |#elif defined(COLOR_65K)
                            25757 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            25758 ; 223  |#else
                            25759 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            25760 ; 225  |#endif
                            25761 ; 226  |    
                            25762 ; 227  |#endif // #ifndef _TYPES_H
                            25763 
                            25765 
                            25766 ; 5    |
                            25767 ; 6    |typedef struct {
                            25768 ; 7    |    WORD    m_wTrack;                       
                            25769 ; 8    |    WORD    m_wDeviceID;
                            25770 ; 9    |    WORD    m_wBufferLength;            //this is in BYTES, not WORDS!
                            25771 ; 10   |    _packed BYTE *m_pFilename;
                            25772 ; 11   |} SONGFILEINFO;
                            25773 ; 12   |
                            25774 ; 13   |#define PLAYLIST_SUCCESS                                0
                            25775 ; 14   |#define PLAYLIST_FILE_ERROR                             1
                            25776 ; 15   |#define PLAYLIST_END_OF_LIST                    2
                            25777 ; 16   |#define PLAYLIST_TRACK_NOT_FOUND                3
                            25778 ; 17   |#define PLAYLIST_DIR_NOT_EMPTY          4 
                            25779 ; 18   |#define PLAYLIST_REBUILD                5
                            25780 ; 19   |#define PLAYLIST_LAST_RETCODE                   5               //The value should always be the same as the last RETCODE
                            25781 ; 20   |
                            25782 ; 21   |
                            25783 ; 22   |#ifdef  USE_PLAYLIST1
                            25784 ; 23   |RETCODE ChangeDIRtoFileEntryDir(struct FileEntry *pCurrentEntry, _packed BYTE * buffer);
                            25785 ; 24   |#endif
                            25786 ; 25   |RETCODE _reentrant Playlist_LFNGetFileName(int,int,UCS3*);                      //UCS3 is actually typdef WORD
                            25787 ; 26   |RETCODE _reentrant Playlist_MarkCurrentSongPlayed(int,int,int*);
                            25788 ; 27   |RETCODE _reentrant Playlist_GetCurrentSongFileInfo(int, int, int*);
                            25789 ; 28   |RETCODE _reentrant Playlist_GetNextSongFileInfo(int, int , int*);
                            25790 ; 29   |RETCODE _reentrant Playlist_GetPreviousSongFileInfo(int,int,int*);
                            25791 ; 30   |#ifdef USE_PLAYLIST1
                            25792 ; 31   |_reentrant INT Playlist_LocateEntryFromName(INT,INT,INT*);
                            25793 ; 32   |#endif
                            25794 ; 33   |
                            25795 ; 34   |#endif 
                            25796 
                            25798 
                            25799 ; 4    |#include "playlist3internal.h"
                            25800 
                            25802 
                            25803 ; 1    |#ifndef __PLAYLIST3INTERNAL_H
                            25804 ; 2    |#define __PLAYLIST3INTERNAL_H
                            25805 ; 3    |
                            25806 ; 4    |#include "project.h"
                            25807 
                            25809 
                            25810 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            25811 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            25812 ; 3    |//  Filename: project.inc
                            25813 ; 4    |//  Description: 
                            25814 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            25815 ; 6    |
                            25816 ; 7    |#if (!defined(_PROJECT_INC))
                            25817 ; 8    |#define _PROJECT_INC 1
                            25818 ; 9    |
                            25819 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            25820 ; 11   |#include "hwequ.h"
                            25821 ; 12   |#else 
                            25822 ; 13   |//include "regscodec.inc"
                            25823 ; 14   |#endif
                            25824 ; 15   |
                            25825 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            25826 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults ON) & 
                            25827 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm. STMP00012148
                            25828 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal). 
                            25829 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's specs can 
                            25830 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player mode.  
                            25831 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            25832 ; 23   |
                            25833 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            25834 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            25835 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            25836 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define below by defining
                            25837 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            25838 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            25839 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            25840 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot config above- 
                            25841 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down threshholds by maybe 50mV.
                            25842 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed.
                            25843 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            25844 ; 35   |
                            25845 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            25846 ; 37   |// MEDIA DEFINITIONS
                            25847 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            25848 ; 39   |
                            25849 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            25850 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            25851 ; 42   |#if defined(NAND1)
                            25852 ; 43   |#define SM_INTERNAL_CHIPS 1
                            25853 ; 44   |#else 
                            25854 ; 45   |#if defined(NAND2)
                            25855 ; 46   |#define SM_INTERNAL_CHIPS 2
                            25856 ; 47   |#else 
                            25857 ; 48   |#if defined(NAND3)
                            25858 ; 49   |#define SM_INTERNAL_CHIPS 3
                            25859 ; 50   |#else 
                            25860 ; 51   |#if defined(NAND4)
                            25861 ; 52   |#define SM_INTERNAL_CHIPS 4
                            25862 ; 53   |#else 
                            25863 ; 54   |#define SM_INTERNAL_CHIPS 1
                            25864 ; 55   |#endif
                            25865 ; 56   |#endif
                            25866 ; 57   |#endif
                            25867 ; 58   |#endif
                            25868 ; 59   |
                            25869 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            25870 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            25871 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it reads 0.  
                            25872 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            25873 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it reads 1.
                            25874 ; 65   |//*** comment out if active high ****
                            25875 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            25876 ; 67   |
                            25877 ; 68   |#if defined(SMEDIA)
                            25878 ; 69   |#define NUM_REMOVABLE_MEDIA 1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 103

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25879 ; 70   |#define NUM_SM_EXTERNAL 1
                            25880 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            25881 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            25882 ; 73   |#else 
                            25883 ; 74   |#if defined(MMC)
                            25884 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            25885 ; 76   |#define NUM_SM_EXTERNAL 0
                            25886 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            25887 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            25888 ; 79   |#else 
                            25889 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            25890 ; 81   |#define NUM_SM_EXTERNAL 0
                            25891 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            25892 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            25893 ; 84   |#endif
                            25894 ; 85   |#endif
                            25895 ; 86   |
                            25896 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            25897 ; 88   |// Mass Storage Class definitions
                            25898 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            25899 ; 90   |// Set to 0 if Composite Device build is desired.    
                            25900 ; 91   |#define MULTI_LUN_BUILD 1   
                            25901 ; 92   |
                            25902 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            25903 ; 94   |//  SCSI
                            25904 ; 95   |#if (MULTI_LUN_BUILD==0)
                            25905 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            25906 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            25907 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            25908 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            25909 ; 100  |  #else
                            25910 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            25911 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            25912 ; 103  |  #endif
                            25913 ; 104  |#else
                            25914 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            25915 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            25916 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            25917 ; 108  |  #else
                            25918 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            25919 ; 110  |  #endif
                            25920 ; 111  |#endif
                            25921 ; 112  |
                            25922 ; 113  |
                            25923 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            25924 ; 115  |
                            25925 ; 116  |
                            25926 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            25927 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            25928 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            25929 ; 120  |#ifdef MMC
                            25930 ; 121  |#ifdef MTP_BUILD
                            25931 ; 122  |// --------------------
                            25932 ; 123  |// MTP and MMC
                            25933 ; 124  |// --------------------
                            25934 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            25935 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            25936 ; 127  |#else  // ifndef MTP_BUILD
                            25937 ; 128  |#ifdef STMP_BUILD_PLAYER
                            25938 ; 129  |// --------------------
                            25939 ; 130  |// Player and MMC
                            25940 ; 131  |// --------------------
                            25941 ; 132  |#else
                            25942 ; 133  |// --------------------
                            25943 ; 134  |// USBMSC and MMC
                            25944 ; 135  |// --------------------
                            25945 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            25946 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            25947 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            25948 ; 139  |#endif // ifdef MTP_BUILD
                            25949 ; 140  |#else  // ifndef MMC
                            25950 ; 141  |#ifdef MTP_BUILD
                            25951 ; 142  |// --------------------
                            25952 ; 143  |// MTP and NAND only
                            25953 ; 144  |// --------------------
                            25954 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            25955 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            25956 ; 147  |#else  // ifndef MTP_BUILD
                            25957 ; 148  |#ifdef STMP_BUILD_PLAYER
                            25958 ; 149  |// --------------------
                            25959 ; 150  |// Player and NAND only
                            25960 ; 151  |// --------------------
                            25961 ; 152  |#else
                            25962 ; 153  |// --------------------
                            25963 ; 154  |// USBMSC and NAND only
                            25964 ; 155  |// --------------------
                            25965 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            25966 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            25967 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            25968 ; 159  |#endif // ifdef MTP_BUILD
                            25969 ; 160  |#endif // ifdef MMC 
                            25970 ; 161  |
                            25971 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            25972 ; 163  |#if (defined(MTP_BUILD))
                            25973 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            25974 ; 165  |
                            25975 ; 166  |////!
                            25976 ; 167  |////! This varible holds the watchdog count for the store flush.
                            25977 ; 168  |////!
                            25978 ; 169  |///
                            25979 ; 170  |#include <types.h>
                            25980 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            25981 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            25982 ; 173  |#endif
                            25983 ; 174  |
                            25984 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            25985 ; 176  |// These are needed here for Mass Storage Class
                            25986 ; 177  |// Needs to be cleaned up
                            25987 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            25988 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            25989 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            25990 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            25991 ; 182  |
                            25992 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            25993 ; 184  |
                            25994 ; 185  |#endif
                            25995 ; 186  |
                            25996 ; 187  |
                            25997 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            25998 ; 189  |// SmartMedia/NAND defs
                            25999 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            26000 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            26001 ; 192  |
                            26002 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            26003 ; 194  |// Sysloadresources defs
                            26004 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            26005 ; 196  |
                            26006 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            26007 ; 198  |// MMC defs
                            26008 ; 199  |#define MMC_MAX_PARTITIONS 1
                            26009 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            26010 ; 201  |
                            26011 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            26012 ; 203  |// SPI defs
                            26013 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            26014 ; 205  |
                            26015 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            26016 ; 207  |// Global media defs
                            26017 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            26018 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            26019 ; 210  |
                            26020 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            26021 ; 212  |// DO NOT CHANGE THESE!!!
                            26022 ; 213  |#define SM_MAX_PARTITIONS 4
                            26023 ; 214  |#define MAX_HANDLES 2
                            26024 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            26025 ; 216  |
                            26026 ; 217  |
                            26027 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            26028 ; 219  |// Battery LRADC Values 
                            26029 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            26030 ; 221  |// brownout trip point in mV (moved by RS)
                            26031 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            26032 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            26033 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            26034 ; 225  |//     audio recording to media.
                            26035 ; 226  |#define BATT_SAFETY_MARGIN 10
                            26036 ; 227  |
                            26037 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                            26038 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline voltage to do a refresh.
                            26039 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            26040 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            26041 ; 232  |
                            26042 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc presence.
                            26043 ; 234  |
                            26044 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            26045 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat check.
                            26046 ; 237  |#if (!defined(CLCD))
                            26047 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            26048 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            26049 ; 240  |#else 
                            26050 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            26051 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            26052 ; 243  |#endif
                            26053 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            26054 ; 245  |
                            26055 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            26056 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIon.
                            26057 ; 248  |// See mp3 encoder overlay.
                            26058 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            26059 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            26060 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            26061 ; 252  |
                            26062 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            26063 ; 254  |// Voice recording filenames
                            26064 ; 255  |// number of digits in filename Vxxx.wav
                            26065 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            26066 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            26067 ; 258  |
                            26068 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            26069 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            26070 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            26071 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            26072 ; 263  |#if defined(DEVICE_3500)
                            26073 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            26074 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            26075 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            26076 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, & demo player)
                            26077 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            26078 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            26079 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            26080 ; 271  |
                            26081 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn when bias not yet ready.
                            26082 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            26083 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevention if you use rec button from outside voice menu.
                            26084 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latency in the record-from-music-menu use-case.
                            26085 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            26086 ; 277  |
                            26087 ; 278  |#else 
                            26088 ; 279  |// STMP3410
                            26089 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            26090 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            26091 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            26092 ; 283  |#endif
                            26093 ; 284  |
                            26094 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            26095 ; 286  |// Number of available soft timers
                            26096 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            26097 ; 288  |#if defined(SYNC_LYRICS)
                            26098 ; 289  |#define SOFT_TIMERS 10
                            26099 ; 290  |#else 
                            26100 ; 291  |#if defined(JPEG_DECODER)
                            26101 ; 292  |#define SOFT_TIMERS 10
                            26102 ; 293  |#else 
                            26103 ; 294  |#define SOFT_TIMERS 9
                            26104 ; 295  |#endif
                            26105 ; 296  |#endif
                            26106 ; 297  |
                            26107 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            26108 ; 299  |//  sizes
                            26109 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            26110 ; 301  |#if defined(MMC)
                            26111 ; 302  |#if defined(USE_PLAYLIST5)
                            26112 ; 303  |#define MENU_STACK_SIZE 1500
                            26113 ; 304  |#else 
                            26114 ; 305  |#define MENU_STACK_SIZE 1250
                            26115 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            26116 ; 307  |#else 
                            26117 ; 308  |#if defined(USE_PLAYLIST5)
                            26118 ; 309  |#define MENU_STACK_SIZE 1500
                            26119 ; 310  |#else 
                            26120 ; 311  |#define MENU_STACK_SIZE 1250
                            26121 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            26122 ; 313  |#endif //if @def('MMC')
                            26123 ; 314  |
                            26124 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 750 else 550 for other builds? TOVERIFY. MYALLOC
                            26125 ; 316  |// 
                            26126 ; 317  |#define STACK_L1_SIZE 750
                            26127 ; 318  |#define STACK_L2_SIZE 100
                            26128 ; 319  |#define STACK_L3_SIZE 160
                            26129 ; 320  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 104

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26130 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            26131 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            26132 ; 323  |// is ok with switching code.
                            26133 ; 324  |#if defined(MTP_BUILD)
                            26134 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            26135 ; 326  |#endif
                            26136 ; 327  |
                            26137 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            26138 ; 329  |// maximum number of nested funclets 
                            26139 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            26140 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            26141 ; 332  |
                            26142 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            26143 ; 334  |//    LCD DEFINITIONS
                            26144 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            26145 ; 336  |
                            26146 ; 337  |#define SPACE_CHAR 0x000020          
                            26147 ; 338  |#define ZERO_CHAR 0x000030
                            26148 ; 339  |#define COLON_CHAR 0x00003A
                            26149 ; 340  |#define PERIOD_CHAR 0x00002E
                            26150 ; 341  |
                            26151 ; 342  |#if (defined(S6B33B0A_LCD))
                            26152 ; 343  |#define LCD_X_SIZE 128
                            26153 ; 344  |#define LCD_Y_SIZE 159
                            26154 ; 345  |#endif
                            26155 ; 346  |
                            26156 ; 347  |#if (defined(SED15XX_LCD))
                            26157 ; 348  |#define LCD_X_SIZE 128
                            26158 ; 349  |#define LCD_Y_SIZE 64
                            26159 ; 350  |#endif
                            26160 ; 351  |
                            26161 ; 352  |
                            26162 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            26163 ; 354  |//   Details on Customizing Contrast
                            26164 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            26165 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            26166 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            26167 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            26168 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            26169 ; 360  |//   unless the ezact sequence is remembered.
                            26170 ; 361  |//   To find out what range your player supports: 
                            26171 ; 362  |//   change these equs to full range or comment out (full range is default)
                            26172 ; 363  |//;;;;;;
                            26173 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            26174 ; 365  |// recommended calibration using player -- uncomment 
                            26175 ; 366  |//;;;;;;
                            26176 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            26177 ; 368  |////////////////////////////
                            26178 ; 369  |#if (defined(DEMO_HW))
                            26179 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi LCD (June6'05)
                            26180 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            26181 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            26182 ; 373  |#else 
                            26183 ; 374  |
                            26184 ; 375  |#if (defined(S6B33B0A_LCD))
                            26185 ; 376  |#define LCD_MAX_CONTRAST 210
                            26186 ; 377  |#define LCD_MIN_CONTRAST 160    
                            26187 ; 378  |#endif
                            26188 ; 379  |
                            26189 ; 380  |#if (defined(SED15XX_LCD))
                            26190 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            26191 ; 382  |// Engineering board regs support range [17-37].
                            26192 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            26193 ; 384  |//   One default contrast range [24-42] works for both.
                            26194 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            26195 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            26196 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            26197 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            26198 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            26199 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            26200 ; 391  |
                            26201 ; 392  |#if (defined(NEWSHINGYIH))
                            26202 ; 393  |#define LCD_MAX_CONTRAST 250
                            26203 ; 394  |#define LCD_MIN_CONTRAST 0
                            26204 ; 395  |#else 
                            26205 ; 396  |//-----
                            26206 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            26207 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for both LCDs.
                            26208 ; 399  |#define LCD_MAX_CONTRAST 250
                            26209 ; 400  |#define LCD_MIN_CONTRAST 0
                            26210 ; 401  |
                            26211 ; 402  |//=====
                            26212 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            26213 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this historic ver.
                            26214 ; 405  |//LCD_MAX_CONTRAST equ 42
                            26215 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            26216 ; 407  |
                            26217 ; 408  |#endif
                            26218 ; 409  |#endif
                            26219 ; 410  |
                            26220 ; 411  |#endif
                            26221 ; 412  |
                            26222 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            26223 ; 414  |// The default value of the lcd contrast in % of range
                            26224 ; 415  |//   the default value is used when no settings.dat is available
                            26225 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            26226 ; 417  |
                            26227 ; 418  |#if (defined(S6B33B0A_LCD))
                            26228 ; 419  |// 60% of range is default value
                            26229 ; 420  |#define DEFAULT_CONTRAST 50 
                            26230 ; 421  |#endif
                            26231 ; 422  |
                            26232 ; 423  |#if (defined(SED15XX_LCD))
                            26233 ; 424  |// % of range is default value (was 60%)
                            26234 ; 425  |#define DEFAULT_CONTRAST 50 
                            26235 ; 426  |#endif
                            26236 ; 427  |
                            26237 ; 428  |
                            26238 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            26239 ; 430  |// make lower when doing calibration
                            26240 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            26241 ; 432  |
                            26242 ; 433  |
                            26243 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            26244 ; 435  |// For FFWD and RWND
                            26245 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            26246 ; 437  |#define SECONDS_TO_SKIP 1
                            26247 ; 438  |#define SECONDS_TO_SKIP1 3
                            26248 ; 439  |#define SECONDS_TO_SKIP2 6
                            26249 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            26250 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            26251 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            26252 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            26253 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            26254 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            26255 ; 446  |
                            26256 ; 447  |// For audible FFW/RWD
                            26257 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            26258 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            26259 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            26260 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            26261 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            26262 ; 453  |#define LEVEL1_BOUNDARY 17 
                            26263 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            26264 ; 455  |#define LEVEL2_BOUNDARY 33 
                            26265 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            26266 ; 457  |#define LEVEL3_BOUNDARY 50 
                            26267 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            26268 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            26269 ; 460  |// Short Song Time, songs too short to play.
                            26270 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            26271 ; 462  |
                            26272 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            26273 ; 464  |// MP3 Sync Values
                            26274 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            26275 ; 466  |// # bytes to look for sync before marking it bad
                            26276 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            26277 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            26278 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            26279 ; 470  |// once we have sync'd, the isr should be called this frequently
                            26280 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            26281 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            26282 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            26283 ; 474  |
                            26284 ; 475  |
                            26285 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            26286 ; 477  |//// Multi-Stage Volume Control Definitions
                            26287 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            26288 ; 479  |//// Use Multi-Stage Volume
                            26289 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            26290 ; 481  |
                            26291 ; 482  |//// Master Volume definitions
                            26292 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            26293 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            26294 ; 485  |
                            26295 ; 486  |//// DAC-Mode definitions
                            26296 ; 487  |//// Adjusts 0dB point
                            26297 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            26298 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            26299 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines above.
                            26300 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            26301 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provides 1.5 dB gain on Stmp34x0; 
                            26302 ; 493  |//                                               Max gain possible: 8 step diff would provide +12dB gain.   
                            26303 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            26304 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            26305 ; 496  |
                            26306 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            26307 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            26308 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                            26309 ; 500  |
                            26310 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not the default
                            26311 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoint.
                            26312 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            26313 ; 504  |
                            26314 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the default
                            26315 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            26316 ; 507  |
                            26317 ; 508  |
                            26318 ; 509  |//// Line In definitions (used for Line-In 1)
                            26319 ; 510  |//// 0dB point of the Line In
                            26320 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            26321 ; 512  |//// Minimum volume of Line In
                            26322 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            26323 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            26324 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            26325 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            26326 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            26327 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS+1)
                            26328 ; 519  |
                            26329 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            26330 ; 521  |//// 0dB point of the Line In
                            26331 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            26332 ; 523  |//// Minimum volume of Line In
                            26333 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            26334 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            26335 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            26336 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            26337 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            26338 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            26339 ; 530  |
                            26340 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            26341 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid deadlock states & recovers. 
                            26342 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            26343 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            26344 ; 535  |
                            26345 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            26346 ; 537  |////
                            26347 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            26348 ; 539  |////
                            26349 ; 540  |///
                            26350 ; 541  |#include <types.h>
                            26351 ; 542  |extern volatile WORD g_wActivityState;
                            26352 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            26353 ; 544  |
                            26354 ; 545  |void _reentrant Init5VSense(void);
                            26355 ; 546  |void _reentrant ServiceDCDC(void);
                            26356 ; 547  |
                            26357 ; 548  |////////////////////////////////////////////////////////////////////////////
                            26358 ; 549  |//// JPEG Thumbnail Mode Setting
                            26359 ; 550  |//// number of column in thumbnail mode
                            26360 ; 551  |#define THUMBNAIL_X 2           
                            26361 ; 552  |//// number of row in  thumbnail mode
                            26362 ; 553  |#define THUMBNAIL_Y 2           
                            26363 ; 554  |//// thumbnail boundary offset x
                            26364 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            26365 ; 556  |//// thumbnail boundary offset y
                            26366 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            26367 ; 558  |
                            26368 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            26369 ; 560  |
                            26370 
                            26372 
                            26373 ; 5    |
                            26374 ; 6    |#include "filesystem.h"
                            26375 
                            26377 
                            26378 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            26379 ; 2    |//  Copyright(C) SigmaTel, Inc. 2001
                            26380 ; 3    |//
                            26381 ; 4    |//  File        : FileSystem.h
                            26382 ; 5    |//  Description : Header File for File System
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 105

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26383 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            26384 ; 7    |
                            26385 ; 8    |#ifndef _FILESYSTEM_H
                            26386 ; 9    |#define _FILESYSTEM_H
                            26387 ; 10   |
                            26388 ; 11   |#include "types.h"
                            26389 
                            26391 
                            26392 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            26393 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            26394 ; 3    |//
                            26395 ; 4    |// Filename: types.h
                            26396 ; 5    |// Description: Standard data types
                            26397 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            26398 ; 7    |
                            26399 ; 8    |#ifndef _TYPES_H
                            26400 ; 9    |#define _TYPES_H
                            26401 ; 10   |
                            26402 ; 11   |// TODO:  move this outta here!
                            26403 ; 12   |#if !defined(NOERROR)
                            26404 ; 13   |#define NOERROR 0
                            26405 ; 14   |#define SUCCESS 0
                            26406 ; 15   |#endif 
                            26407 ; 16   |#if !defined(SUCCESS)
                            26408 ; 17   |#define SUCCESS  0
                            26409 ; 18   |#endif
                            26410 ; 19   |#if !defined(ERROR)
                            26411 ; 20   |#define ERROR   -1
                            26412 ; 21   |#endif
                            26413 ; 22   |#if !defined(FALSE)
                            26414 ; 23   |#define FALSE 0
                            26415 ; 24   |#endif
                            26416 ; 25   |#if !defined(TRUE)
                            26417 ; 26   |#define TRUE  1
                            26418 ; 27   |#endif
                            26419 ; 28   |
                            26420 ; 29   |#if !defined(NULL)
                            26421 ; 30   |#define NULL 0
                            26422 ; 31   |#endif
                            26423 ; 32   |
                            26424 ; 33   |#define MAX_INT     0x7FFFFF
                            26425 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            26426 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            26427 ; 36   |#define MAX_ULONG   (-1) 
                            26428 ; 37   |
                            26429 ; 38   |#define WORD_SIZE   24              // word size in bits
                            26430 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            26431 ; 40   |
                            26432 ; 41   |
                            26433 ; 42   |#define BYTE    unsigned char       // btVarName
                            26434 ; 43   |#define CHAR    signed char         // cVarName
                            26435 ; 44   |#define USHORT  unsigned short      // usVarName
                            26436 ; 45   |#define SHORT   unsigned short      // sVarName
                            26437 ; 46   |#define WORD    unsigned int        // wVarName
                            26438 ; 47   |#define INT     signed int          // iVarName
                            26439 ; 48   |#define DWORD   unsigned long       // dwVarName
                            26440 ; 49   |#define LONG    signed long         // lVarName
                            26441 ; 50   |#define BOOL    unsigned int        // bVarName
                            26442 ; 51   |#define FRACT   _fract              // frVarName
                            26443 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            26444 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            26445 ; 54   |#define FLOAT   float               // fVarName
                            26446 ; 55   |#define DBL     double              // dVarName
                            26447 ; 56   |#define ENUM    enum                // eVarName
                            26448 ; 57   |#define CMX     _complex            // cmxVarName
                            26449 ; 58   |typedef WORD UCS3;                   // 
                            26450 ; 59   |
                            26451 ; 60   |#define UINT16  unsigned short
                            26452 ; 61   |#define UINT8   unsigned char   
                            26453 ; 62   |#define UINT32  unsigned long
                            26454 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            26455 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            26456 ; 65   |#define WCHAR   UINT16
                            26457 ; 66   |
                            26458 ; 67   |//UINT128 is 16 bytes or 6 words
                            26459 ; 68   |typedef struct UINT128_3500 {   
                            26460 ; 69   |    int val[6];     
                            26461 ; 70   |} UINT128_3500;
                            26462 ; 71   |
                            26463 ; 72   |#define UINT128   UINT128_3500
                            26464 ; 73   |
                            26465 ; 74   |// Little endian word packed byte strings:   
                            26466 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            26467 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            26468 ; 77   |// Little endian word packed byte strings:   
                            26469 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            26470 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            26471 ; 80   |
                            26472 ; 81   |// Declare Memory Spaces To Use When Coding
                            26473 ; 82   |// A. Sector Buffers
                            26474 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            26475 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            26476 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            26477 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            26478 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            26479 ; 88   |// B. Media DDI Memory
                            26480 ; 89   |#define MEDIA_DDI_MEM _Y
                            26481 ; 90   |
                            26482 ; 91   |
                            26483 ; 92   |
                            26484 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            26485 ; 94   |// Examples of circular pointers:
                            26486 ; 95   |//    INT CIRC cpiVarName
                            26487 ; 96   |//    DWORD CIRC cpdwVarName
                            26488 ; 97   |
                            26489 ; 98   |#define RETCODE INT                 // rcVarName
                            26490 ; 99   |
                            26491 ; 100  |// generic bitfield structure
                            26492 ; 101  |struct Bitfield {
                            26493 ; 102  |    unsigned int B0  :1;
                            26494 ; 103  |    unsigned int B1  :1;
                            26495 ; 104  |    unsigned int B2  :1;
                            26496 ; 105  |    unsigned int B3  :1;
                            26497 ; 106  |    unsigned int B4  :1;
                            26498 ; 107  |    unsigned int B5  :1;
                            26499 ; 108  |    unsigned int B6  :1;
                            26500 ; 109  |    unsigned int B7  :1;
                            26501 ; 110  |    unsigned int B8  :1;
                            26502 ; 111  |    unsigned int B9  :1;
                            26503 ; 112  |    unsigned int B10 :1;
                            26504 ; 113  |    unsigned int B11 :1;
                            26505 ; 114  |    unsigned int B12 :1;
                            26506 ; 115  |    unsigned int B13 :1;
                            26507 ; 116  |    unsigned int B14 :1;
                            26508 ; 117  |    unsigned int B15 :1;
                            26509 ; 118  |    unsigned int B16 :1;
                            26510 ; 119  |    unsigned int B17 :1;
                            26511 ; 120  |    unsigned int B18 :1;
                            26512 ; 121  |    unsigned int B19 :1;
                            26513 ; 122  |    unsigned int B20 :1;
                            26514 ; 123  |    unsigned int B21 :1;
                            26515 ; 124  |    unsigned int B22 :1;
                            26516 ; 125  |    unsigned int B23 :1;
                            26517 ; 126  |};
                            26518 ; 127  |
                            26519 ; 128  |union BitInt {
                            26520 ; 129  |        struct Bitfield B;
                            26521 ; 130  |        int        I;
                            26522 ; 131  |};
                            26523 ; 132  |
                            26524 ; 133  |#define MAX_MSG_LENGTH 10
                            26525 ; 134  |struct CMessage
                            26526 ; 135  |{
                            26527 ; 136  |        unsigned int m_uLength;
                            26528 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            26529 ; 138  |};
                            26530 ; 139  |
                            26531 ; 140  |typedef struct {
                            26532 ; 141  |    WORD m_wLength;
                            26533 ; 142  |    WORD m_wMessage;
                            26534 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            26535 ; 144  |} Message;
                            26536 ; 145  |
                            26537 ; 146  |struct MessageQueueDescriptor
                            26538 ; 147  |{
                            26539 ; 148  |        int *m_pBase;
                            26540 ; 149  |        int m_iModulo;
                            26541 ; 150  |        int m_iSize;
                            26542 ; 151  |        int *m_pHead;
                            26543 ; 152  |        int *m_pTail;
                            26544 ; 153  |};
                            26545 ; 154  |
                            26546 ; 155  |struct ModuleEntry
                            26547 ; 156  |{
                            26548 ; 157  |    int m_iSignaledEventMask;
                            26549 ; 158  |    int m_iWaitEventMask;
                            26550 ; 159  |    int m_iResourceOfCode;
                            26551 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            26552 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            26553 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            26554 ; 163  |    int m_uTimeOutHigh;
                            26555 ; 164  |    int m_uTimeOutLow;
                            26556 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            26557 ; 166  |};
                            26558 ; 167  |
                            26559 ; 168  |union WaitMask{
                            26560 ; 169  |    struct B{
                            26561 ; 170  |        unsigned int m_bNone     :1;
                            26562 ; 171  |        unsigned int m_bMessage  :1;
                            26563 ; 172  |        unsigned int m_bTimer    :1;
                            26564 ; 173  |        unsigned int m_bButton   :1;
                            26565 ; 174  |    } B;
                            26566 ; 175  |    int I;
                            26567 ; 176  |} ;
                            26568 ; 177  |
                            26569 ; 178  |
                            26570 ; 179  |struct Button {
                            26571 ; 180  |        WORD wButtonEvent;
                            26572 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            26573 ; 182  |};
                            26574 ; 183  |
                            26575 ; 184  |struct Message {
                            26576 ; 185  |        WORD wMsgLength;
                            26577 ; 186  |        WORD wMsgCommand;
                            26578 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            26579 ; 188  |};
                            26580 ; 189  |
                            26581 ; 190  |union EventTypes {
                            26582 ; 191  |        struct CMessage msg;
                            26583 ; 192  |        struct Button Button ;
                            26584 ; 193  |        struct Message Message;
                            26585 ; 194  |};
                            26586 ; 195  |
                            26587 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            26588 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            26589 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            26590 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            26591 ; 200  |
                            26592 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            26593 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            26594 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            26595 ; 204  |
                            26596 ; 205  |#if DEBUG
                            26597 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            26598 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            26599 ; 208  |#else 
                            26600 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            26601 ; 210  |#define DebugBuildAssert(x)    
                            26602 ; 211  |#endif
                            26603 ; 212  |
                            26604 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            26605 ; 214  |//  #pragma asm
                            26606 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            26607 ; 216  |//  #pragma endasm
                            26608 ; 217  |
                            26609 ; 218  |
                            26610 ; 219  |#ifdef COLOR_262K
                            26611 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            26612 ; 221  |#elif defined(COLOR_65K)
                            26613 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            26614 ; 223  |#else
                            26615 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            26616 ; 225  |#endif
                            26617 ; 226  |    
                            26618 ; 227  |#endif // #ifndef _TYPES_H
                            26619 
                            26621 
                            26622 ; 12   |
                            26623 ; 13   |
                            26624 ; 14   |// File attributes
                            26625 ; 15   |#ifndef _FS_ATTRIBUTES
                            26626 ; 16   |#define _FS_ATTRIBUTES
                            26627 ; 17   |#define READ        1
                            26628 ; 18   |#define WRITE       2
                            26629 ; 19   |#define WRITE_PLUS  3
                            26630 ; 20   |#define APPEND      4
                            26631 ; 21   |#define TRUNCATE    8
                            26632 ; 22   |#define CREATE      16
                            26633 ; 23   |#endif
                            26634 ; 24   |
                            26635 ; 25   |//#ifndef FAT12
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 106

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26636 ; 26   |//#define FAT12   1
                            26637 ; 27   |//#endif
                            26638 ; 28   |//
                            26639 ; 29   |#ifndef FAT16
                            26640 ; 30   |#define FAT16   2
                            26641 ; 31   |#endif
                            26642 ; 32   |
                            26643 ; 33   |#define MEM_SPACE_P 0x100000
                            26644 ; 34   |#define MEM_SPACE_Y 0x400000
                            26645 ; 35   |#define MEM_SPACE_X 0x800000
                            26646 ; 36   |
                            26647 ; 37   |#define FILE_SYS_MODE_READ  0
                            26648 ; 38   |#define FILE_SYS_MODE_WRITE 1
                            26649 ; 39   | 
                            26650 ; 40   |#define ATTR_READ_ONLY      0x01
                            26651 ; 41   |#define ATTR_HIDDEN         0x02
                            26652 ; 42   |#define ATTR_SYSTEM         0x04
                            26653 ; 43   |#define ATTR_VOLUME_ID      0x08
                            26654 ; 44   |#define ATTR_DIRECTORY      0x10
                            26655 ; 45   |#define ATTR_ARCHIVE        0x20
                            26656 ; 46   |#define ATTR_LONG_NAME      ATTR_READ_ONLY|ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID
                            26657 ; 47   |
                            26658 ; 48   |#define SEEK_SET           -1
                            26659 ; 49   |#define SEEK_CUR            0
                            26660 ; 50   |#define SEEK_END            1
                            26661 ; 51   |
                            26662 ; 52   |#define DEVICE_INSTALLED              (WORD)(0)
                            26663 ; 53   |#define DEVICE_NOT_FOUND              (WORD)(2)
                            26664 ; 54   |#define INVALID_FILESYSTEM                        (WORD)(3)
                            26665 ; 55   |#define DEVICE_INVALID                (WORD)(-1)
                            26666 ; 56   |#define DEVICE_ERROR_WRITE_PROTECTED  (WORD)(-2)
                            26667 ; 57   |
                            26668 ; 58   |#define MEDIA_SIZE_TOTAL_SECTORS    0
                            26669 ; 59   |#define MEDIA_SIZE_TOTAL_BYTES      1
                            26670 ; 60   |#define MEDIA_SIZE_BYTES_PER_SECTOR 2
                            26671 ; 61   |#define MEDIA_SIZE_IN_MEGABYTES     3     
                            26672 ; 62   |
                            26673 ; 63   |#define READ_TYPE_NORMAL            0
                            26674 ; 64   |#define READ_TYPE_FAT               1
                            26675 ; 65   |#define READ_TYPE_RAW               2
                            26676 ; 66   |
                            26677 ; 67   |
                            26678 ; 68   |#ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            26679 ; 69   |    #define WRITE_TYPE_RANDOM                   0
                            26680 ; 70   |    #define WRITE_TYPE_SEQ_FIRST                1
                            26681 ; 71   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            26682 ; 72   |    #define WRITE_TYPE_RESET_CLEAN_UP           3
                            26683 ; 73   |    #define WRITE_TYPE_PARTIAL_SEQ_FIRST        4
                            26684 ; 74   |    #define WRITE_TYPE_PARTIAL_SEQ_NEXT         5
                            26685 ; 75   |    #define WRITE_TYPE_PARTIAL_SEQ_LAST         6
                            26686 ; 76   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            26687 ; 77   |        #define WRITE_TYPE_RANDOM_RAW               7
                            26688 ; 78   |        #define WRITE_TYPE_SEQ_FIRST_RAW            8
                            26689 ; 79   |        #define WRITE_TYPE_SEQ_NEXT_RAW             9
                            26690 ; 80   |        #define WRITE_TYPE_PARTIAL_SEQ_FIRST_RAW    10
                            26691 ; 81   |        #define WRITE_TYPE_PARTIAL_SEQ_NEXT_RAW     11
                            26692 ; 82   |        #define WRITE_TYPE_PARTIAL_SEQ_LAST_RAW     12
                            26693 ; 83   |    #endif
                            26694 ; 84   |#else
                            26695 ; 85   |    #define WRITE_TYPE_RANDOM                   0
                            26696 ; 86   |    #define WRITE_TYPE_SEQ_FIRST                1
                            26697 ; 87   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            26698 ; 88   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            26699 ; 89   |        #define WRITE_TYPE_RANDOM_RAW               3
                            26700 ; 90   |        #define WRITE_TYPE_SEQ_FIRST_RAW            4
                            26701 ; 91   |        #define WRITE_TYPE_SEQ_NEXT_RAW             5
                            26702 ; 92   |    #endif
                            26703 ; 93   |#endif
                            26704 ; 94   |    #define WRITE_TYPE_UNDEFINED 0xFFFFFF
                            26705 ; 95   |
                            26706 ; 96   |
                            26707 ; 97   |#ifndef MAX_FILENAME_LENGTH
                            26708 ; 98   |#define MAX_FILENAME_LENGTH 256
                            26709 ; 99   |#endif
                            26710 ; 100  |
                            26711 ; 101  |typedef struct {
                            26712 ; 102  |    WORD wNumberOfZones;
                            26713 ; 103  |    WORD wSizeInMegaBytes;
                            26714 ; 104  |} SMARTMEDIA_CHIP_INFO;
                            26715 ; 105  |
                            26716 ; 106  |typedef struct {
                            26717 ; 107  |    WORD wBootIdentification;
                            26718 ; 108  |    WORD wStartHeadNumber;
                            26719 ; 109  |    WORD wStartSectorNumber;
                            26720 ; 110  |    WORD wStartCylinderNumber;
                            26721 ; 111  |    WORD wSystemIdentification;
                            26722 ; 112  |    WORD wEndHeadNumber;
                            26723 ; 113  |    WORD wEndSectorNumber;
                            26724 ; 114  |    WORD wEndCylinderNumber;
                            26725 ; 115  |    WORD wStartLogicalSectorNumberHigh;
                            26726 ; 116  |    WORD wStartLogicalSectorNumberLow;
                            26727 ; 117  |    WORD wPartitionSizeHigh;
                            26728 ; 118  |    WORD wPartitionSizeLow;
                            26729 ; 119  |} SMARTMEDIA_PARTITION_TABLE;
                            26730 ; 120  |
                            26731 ; 121  |typedef struct {
                            26732 ; 122  |    WORD wWord0;
                            26733 ; 123  |    WORD wWord1;
                            26734 ; 124  |    WORD wWord2;
                            26735 ; 125  |} SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME;
                            26736 ; 126  |
                            26737 ; 127  |typedef struct {
                            26738 ; 128  |    WORD wWord0;
                            26739 ; 129  |    WORD wWord1;
                            26740 ; 130  |} SMARTMEDIA_CIS_IDI_PRODUCT_NAME;
                            26741 ; 131  |
                            26742 ; 132  |typedef struct {
                            26743 ; 133  |    WORD wWord0;
                            26744 ; 134  |    WORD wWord1;
                            26745 ; 135  |} SMARTMEDIA_CIS_IDI_PRODUCT_VERSION;
                            26746 ; 136  |
                            26747 ; 137  |typedef struct {
                            26748 ; 138  |    WORD wWord0;
                            26749 ; 139  |    WORD wWord1;
                            26750 ; 140  |    WORD wWord2;
                            26751 ; 141  |    WORD wWord3;
                            26752 ; 142  |} SMARTMEDIA_CIS_IDI_SERIAL_NUMBER;
                            26753 ; 143  |
                            26754 ; 144  |typedef struct {
                            26755 ; 145  |    WORD wWord0;
                            26756 ; 146  |} SMARTMEDIA_CIS_IDI_MODEL_NUMBER;
                            26757 
                            26780 
                            26781 ; 147  |
                            26782 ; 148  |typedef struct {
                            26783 ; 149  |    SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME ManufacturerName;
                            26784 ; 150  |    SMARTMEDIA_CIS_IDI_PRODUCT_NAME ProductName;
                            26785 ; 151  |    SMARTMEDIA_CIS_IDI_PRODUCT_VERSION ProductVersion;
                            26786 ; 152  |    SMARTMEDIA_CIS_IDI_SERIAL_NUMBER SerialNumber;
                            26787 ; 153  |    SMARTMEDIA_CIS_IDI_MODEL_NUMBER ModelNumber;
                            26788 ; 154  |} SMARTMEDIA_CIS_IDI_TABLE;
                            26789 
                            26811 
                            26812 ; 155  |   
                            26813 ; 156  |typedef struct {
                            26814 ; 157  |    WORD wPageSizeInBytes;
                            26815 ; 158  |    WORD wRedundantAreaSizeInBytes;
                            26816 ; 159  |    WORD wNumberOfPagesPerBlock;
                            26817 ; 160  |    WORD wNumberOfBlocksPerZone;
                            26818 ; 161  |    WORD wNumberOfZonesInMedia;
                            26819 ; 162  |    WORD wMediaSizeInMBytes;
                            26820 ; 163  |    SMARTMEDIA_PARTITION_TABLE * pPartitionTable;
                            26821 ; 164  |    SMARTMEDIA_CIS_IDI_TABLE * pCisIdiTable;
                            26822 ; 165  |    WORD wMediaFlagStatus;
                            26823 ; 166  |    WORD wNumberOfBlocksToTheCisIdiBlock;
                            26824 ; 167  |    WORD wTotalNumberOfPhysicalBlocks;
                            26825 ; 168  |    WORD wNumberOfSystemBlocks;
                            26826 ; 169  |} SMARTMEDIA_ENTRY_TABLE;
                            26827 ; 170  |
                            26828 ; 171  |typedef struct {
                            26829 ; 172  |    WORD wDevice;        
                            26830 ; 173  |    WORD wDirtyBlockFlag;
                            26831 ; 174  |    WORD wCleanTailFlag; 
                            26832 ; 175  |    WORD wLogDOSPage;    
                            26833 ; 176  |    WORD wSrcLogBlock;   
                            26834 ; 177  |    WORD wSrcPhyBlock;   
                            26835 ; 178  |    WORD wDestPhyBlock;  
                            26836 ; 179  |    WORD wStartSrcPage;  
                            26837 ; 180  |    WORD wStartDestPage; 
                            26838 ; 181  |    WORD wPagesToCopy;   
                            26839 ; 182  |    WORD wReplaceBuff;   
                            26840 ; 183  |    WORD wReplaceRdnt;
                            26841 ; 184  |    #ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            26842 ; 185  |        WORD wFirstCount;
                            26843 ; 186  |        WORD wNextCount;
                            26844 ; 187  |        WORD wLastCount;
                            26845 ; 188  |    #endif
                            26846 ; 189  |} SMARTMEDIA_FWPPS_TABLE;
                            26847 ; 190  |
                            26848 ; 191  |typedef struct {
                            26849 ; 192  |    WORD wWord0;
                            26850 ; 193  |    WORD wWord1;
                            26851 ; 194  |    WORD wWord2;
                            26852 ; 195  |    WORD wWord3;
                            26853 ; 196  |} DIRECTORY_NAME;
                            26854 ; 197  |
                            26855 ; 198  |typedef struct {
                            26856 ; 199  |    WORD wWord0;
                            26857 ; 200  |    WORD wWord1;
                            26858 ; 201  |} DIRECTORY_EXTENSION;
                            26859 ; 202  |
                            26860 ; 203  |typedef struct {
                            26861 ; 204  |    WORD wWord0;
                            26862 ; 205  |    WORD wWord1;
                            26863 ; 206  |} DIRECTORY_SIZE;
                            26864 
                            26879 
                            26880 ; 207  |
                            26881 ; 208  |typedef struct {
                            26882 ; 209  |    DIRECTORY_NAME Name;
                            26883 ; 210  |    DIRECTORY_EXTENSION Extension;
                            26884 ; 211  |    WORD wAttribute;
                            26885 ; 212  |    WORD wReserved[4];
                            26886 ; 213  |    WORD wCreationTime;
                            26887 ; 214  |    WORD wCreationData;
                            26888 ; 215  |    WORD wFirstCluster;
                            26889 ; 216  |    DIRECTORY_SIZE Size;
                            26890 ; 217  |    WORD wCurrentCluster;
                            26891 ; 218  |    WORD wPointer;
                            26892 ; 219  |    WORD wRecord;
                            26893 ; 220  |    WORD wRd;
                            26894 ; 221  |} DIRECTORY_FILE_CONTROL_BLOCK;
                            26895 ; 222  |
                            26896 ; 223  |// TODO:  clean this up.  There are two versions.
                            26897 ; 224  |struct FCB
                            26898 ; 225  |{
                            26899 ; 226  |    _packed BYTE m_szFileName[9];       //0-2
                            26900 ; 227  |    int     m_wReserved;                //3
                            26901 ; 228  |    _packed BYTE m_szExt[4];            //4-5
                            26902 ; 229  |    int     m_wAttributes;              //6
                            26903 ; 230  |    int     m_wReserved2[4];            //7,8,9,a
                            26904 ; 231  |    int     m_wTimeofCreation;          //b
                            26905 ; 232  |    int     m_wDateofCreation;          //c
                            26906 ; 233  |    int     m_wFirstCluster;            //d
                            26907 ; 234  |    int     m_wFileSizeHigh;            //e
                            26908 ; 235  |    int     m_wFileSizeLow;             //f
                            26909 ; 236  |};
                            26910 
                            26926 
                            26927 ; 237  |
                            26928 ; 238  |
                            26929 ; 239  |typedef struct {
                            26930 ; 240  |    WORD wFirstClusterCurrentDirectory;
                            26931 ; 241  |    WORD wFirstClusterParentDirectory;
                            26932 ; 242  |    WORD wAbsSectorCurrentlyCached;
                            26933 ; 243  |    WORD wCurrentRelativeSector;
                            26934 ; 244  |    WORD wNumberOfSectors;
                            26935 ; 245  |    WORD wCurrentRecordLoadedInDcb;
                            26936 ; 246  |    WORD wBufferedRecord;
                            26937 ; 247  |    WORD wMaxNumberRecordsCurrentDirectory;
                            26938 ; 248  |    WORD * pwPointerToBuffer;
                            26939 ; 249  |    WORD * pwPointerToPath;
                            26940 ; 250  |    DIRECTORY_FILE_CONTROL_BLOCK * pDirFcb;
                            26941 ; 251  |} DIRECTORY_CONTROL_BLOCK;
                            26942 ; 252  |
                            26943 ; 253  |typedef struct {
                            26944 ; 254  |    WORD wWord0;
                            26945 ; 255  |    WORD wWord1;
                            26946 ; 256  |    WORD wWord2;
                            26947 ; 257  |    WORD wWord3;
                            26948 ; 258  |} FILE_NAME;
                            26949 ; 259  |
                            26950 ; 260  |typedef struct {
                            26951 ; 261  |    WORD wWord0;
                            26952 ; 262  |    WORD wWord1;
                            26953 ; 263  |} FILE_EXTENSION;
                            26954 ; 264  |
                            26955 ; 265  |typedef struct {
                            26956 ; 266  |    WORD wWord0;
                            26957 ; 267  |    WORD wWord1;
                            26958 ; 268  |} FILE_SIZE;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 107

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26959 ; 269  |
                            26960 ; 270  |typedef union {
                            26961 ; 271  |    struct {
                            26962 ; 272  |        int Read        :1;
                            26963 ; 273  |        int Write       :1;
                            26964 ; 274  |        int Append      :1;
                            26965 ; 275  |        int Truncate    :1;
                            26966 ; 276  |        int Create      :1;
                            26967 ; 277  |        int Rsrv        :3;
                            26968 ; 278  |        int Mode        :8;
                            26969 ; 279  |        int Device      :8;
                            26970 ; 280  |    } B;
                            26971 ; 281  |    int I;
                            26972 ; 282  |} FILE_FLAGS;
                            26973 ; 283  |
                            26974 ; 284  |typedef struct {
                            26975 ; 285  |    WORD wWord0;
                            26976 ; 286  |    WORD wWord1;
                            26977 ; 287  |} FILE_BYTE_CURRENT;
                            26978 
                            27018 
                            27019 ; 288  |
                            27020 ; 289  |typedef struct {
                            27021 ; 290  |    FILE_NAME Name;
                            27022 ; 291  |    FILE_EXTENSION Extension;
                            27023 ; 292  |    WORD wAttributes;
                            27024 ; 293  |    WORD wReserved[4];
                            27025 ; 294  |    WORD wCreationTime;
                            27026 ; 295  |    WORD wCreationData;
                            27027 ; 296  |    WORD wFirstCluster;
                            27028 ; 297  |    FILE_SIZE Size;
                            27029 ; 298  |    WORD wCurrentCluster;
                            27030 ; 299  |    WORD wPointer;
                            27031 ; 300  |    WORD wRecord;
                            27032 ; 301  |    WORD wRd;
                            27033 ; 302  |    FILE_FLAGS Flags;
                            27034 ; 303  |    FILE_BYTE_CURRENT FcbByteCurrent;
                            27035 ; 304  |    WORD wFcbFlagEndOfCx;
                            27036 ; 305  |} FILE_CONTROL_BLOCK;    
                            27037 ; 306  |
                            27038 ; 307  |typedef struct {
                            27039 ; 308  |    WORD wWord0;
                            27040 ; 309  |    WORD wWord1;
                            27041 ; 310  |    WORD wWord2;
                            27042 ; 311  |    WORD wWord3;
                            27043 ; 312  |} VOLUME_LABEL;
                            27044 ; 313  |
                            27045 ; 314  |typedef struct {
                            27046 ; 315  |    WORD wFATPhysicalBlock1;
                            27047 ; 316  |    WORD wFATPhysicalBlock2;
                            27048 ; 317  |    WORD wFATPhysicalBlock3;
                            27049 ; 318  |    WORD wFATPhysicalBlock4;
                            27050 ; 319  |} FAT_PHYSICAL_BLOCK_LIST;
                            27051 
                            27058 
                            27059 ; 320  |
                            27060 ; 321  |typedef struct {
                            27061 ; 322  |    WORD wFATSectorInCache;
                            27062 ; 323  |    WORD wLastClusterFree;
                            27063 ; 324  |    WORD wNumberOfUsedClusters;
                            27064 ; 325  |    WORD wNumberOfFreeClusters;
                            27065 ; 326  |    WORD wNumberOfBadClusters;
                            27066 ; 327  |    WORD wNumberOfReservedClusters;
                            27067 ; 328  |    WORD wControl;
                            27068 ; 329  |    WORD * pwSectorCache;
                            27069 ; 330  |    FAT_PHYSICAL_BLOCK_LIST FATPhysicalLocationList;
                            27070 ; 331  |} FAT_TABLE;
                            27071 
                            27078 
                            27079 ; 332  |
                            27080 ; 333  |typedef struct {
                            27081 ; 334  |    WORD wStateMediaTable;
                            27082 ; 335  |    WORD wTypeFs;
                            27083 ; 336  |    WORD wBytesPerSector;
                            27084 ; 337  |    WORD wSectorsPerCluster;
                            27085 ; 338  |    WORD wNumberOfReservedSectors;
                            27086 ; 339  |    WORD wMaximumNumberOfFATs;
                            27087 ; 340  |    WORD wMaxRootDirectoryEntries;
                            27088 ; 341  |    WORD wTotalSectors;
                            27089 ; 342  |    WORD wNumberOfFATSectors;
                            27090 ; 343  |    WORD wNumberOfSectorsPerTrack;
                            27091 ; 344  |    WORD wNumberOfHeads;
                            27092 ; 345  |    WORD wNumberOfHiddenSectorsMSB;
                            27093 ; 346  |    WORD wNumberOfHiddenSectorsLSB;
                            27094 ; 347  |    WORD wTotalSectors32MSB;
                            27095 ; 348  |    WORD wTotalSectors32LSB;
                            27096 ; 349  |    WORD wDriverNumber;
                            27097 ; 350  |    WORD wExtendedBootSignature;
                            27098 ; 351  |    WORD wVolumeIDMSB;
                            27099 ; 352  |    WORD wVolumeIDLSB;
                            27100 ; 353  |    VOLUME_LABEL VolumeLabel;
                            27101 ; 354  |    WORD * pwWriteBuffer;
                            27102 ; 355  |    WORD wPrimaryFATRelativeSector;
                            27103 ; 356  |    WORD wSecondaryFATRelativeSector;
                            27104 ; 357  |    WORD wRootDirectoryRelativeSector;
                            27105 ; 358  |    WORD wFirstSectorNumberDataZone;
                            27106 ; 359  |    WORD wMaxNumberOfFATEntries;
                            27107 ; 360  |    WORD wRootDirectorySizeInSectors;
                            27108 ; 361  |    WORD wDataAreaSizeInSectors;
                            27109 ; 362  |} MEDIA_TABLE;
                            27110 
                            27169 
                            27170 ; 363  |
                            27171 ; 364  |typedef struct {
                            27172 ; 365  |    MEDIA_TABLE * pMediaTable;
                            27173 ; 366  |    DIRECTORY_CONTROL_BLOCK * pDirectoryControlBlock;
                            27174 ; 367  |    FAT_TABLE * pFATTable;
                            27175 ; 368  |} DEVICE_CONTROL_TABLE;
                            27176 ; 369  |    
                            27177 ; 370  |typedef struct {
                            27178 ; 371  |    WORD dwTotalSizeInMegaBytes;        // dwTotalSizeInMegaBytes is limited
                            27179 ; 372  |                                        //  to 2-bytes for compatibility with
                            27180 ; 373  |                                        //  older host drivers.
                            27181 ; 374  |    DWORD dwTotalNumberOfSectors;
                            27182 ; 375  |    DWORD dwTotalNumberOfBytes;
                            27183 ; 376  |    WORD wSectorSizeInBytes;
                            27184 ; 377  |} MEDIA_SIZE;
                            27185 ; 378  |
                            27186 ; 379  |typedef struct {
                            27187 ; 380  |    BOOL    bInstalled;
                            27188 ; 381  |    INT     iPbsSectorOffset;   // from the beginning of the data drive 
                            27189 ; 382  |    DWORD   dwSize;
                            27190 ; 383  |} DATA_DRIVE_PBS_LOC;
                            27191 ; 384  |extern  INT _reentrant FSFileOpen(_packed BYTE *fname,INT attribute, INT DeviceNumber);
                            27192 ; 385  |extern  INT _reentrant FSFastOpen(DWORD Key, INT attribute);
                            27193 ; 386  |extern  INT FSFileDelete(_packed BYTE *fname,INT DeviceNumber);
                            27194 ; 387  |extern  INT FSFileCreate(_packed BYTE *fname,INT DeviceNumber);
                            27195 ; 388  |extern  INT _reentrant FSChangeDir(_packed BYTE *dirname,INT DeviceNumber);
                            27196 ; 389  |extern  INT _reentrant FSCreateDir(_packed BYTE *dirname,INT DeviceNumber);
                            27197 ; 390  |extern  INT _reentrant FSDeleteDir(_packed BYTE *dirname,INT DeviceNumber);
                            27198 ; 391  |extern  INT _reentrant FSFileAppend(_packed BYTE *fname,INT DeviceNumber);
                            27199 ; 392  |extern  INT _reentrant FSFileRead(INT BytestoRead, INT Handle, INT memory_type, INT modulo, WORD *buffer);
                            27200 ; 393  |extern  INT _reentrant FSFileWrite(INT wNumberBytes, INT Handle, INT memory_type, INT iModulo, WORD *buffer);
                            27201 ; 394  |extern  INT _reentrant FSFileClose(INT Handle);
                            27202 ; 395  |extern  LONG _reentrant FSFileSize(INT HandleNumber);
                            27203 ; 396  |extern  LONG  FSSize(INT DeviceNum, INT TYPE);   
                            27204 ; 397  |extern  INT FSFreeClusters(INT Device);
                            27205 ; 398  |extern  INT BytesPerCluster(INT Device);
                            27206 ; 399  |
                            27207 ; 400  |
                            27208 ; 401  |
                            27209 ; 402  |//extern  INT FSFileCreate(_packed BYTE *pbFileName, BYTE bDevice);
                            27210 ; 403  |//extern  INT FSFileDelete(_packed BYTE *pbFileName, BYTE bDevice);
                            27211 ; 404  |extern  INT FSFileRename(_packed BYTE *pbCurFilename, _packed BYTE *pbNewFilename, BYTE bDevice);
                            27212 ; 405  |//extern  INT _reentrant FSFileAttribute(_packed BYTE *pbFilename, WORD wAttributes, BYTE bDevice);
                            27213 ; 406  |//extern  INT FSFileAppend(_packed BYTE *pbFileName, BYTE bDevice);
                            27214 ; 407  |//extern  INT FSFileOpen(_packed BYTE *pbFileName, WORD wAttributes, BYTE bDevice);
                            27215 ; 408  |//extern  INT FSFileClose(INT bHandle);
                            27216 ; 409  |//extern  INT FSFileRead(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WORD *pwBuffer);
                            27217 ; 410  |//extern  INT FSFileWrite(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WORD *pwBuffer);
                            27218 ; 411  |extern  INT _reentrant fseek( INT handle , LONG offset, INT iOrigin );
                            27219 ; 412  |extern  INT _reentrant FSFileEof(INT Handle);
                            27220 ; 413  |extern INT _reentrant FSFileAttribute(INT Attributes, _packed BYTE *fname, INT DeviceNumber);
                            27221 ; 414  |extern INT _reentrant FSFileAttributeClear(INT Attributes, _packed BYTE *fname, INT DeviceNumber);
                            27222 ; 415  |//extern  LONG FSFileSize(INT bHandle);
                            27223 ; 416  |extern _asmfunc INT FSPresent(BYTE bDevice);
                            27224 ; 417  |extern _asmfunc INT FSType(BYTE bDevice);
                            27225 ; 418  |//extern LONG FSSize(WORD wDevice, WORD wReturnType);
                            27226 ; 419  |//extern INT FSChangeDir(_packed BYTE *pbDirName, BYTE bDevice);
                            27227 ; 420  |//extern INT FSCreateDir(_packed BYTE *pbDirName, BYTE bDevice);
                            27228 ; 421  |//extern INT FSDeleteDir(_packed BYTE *pbDirName, BYTE bDevice);
                            27229 ; 422  |extern _asmfunc void SysLoadFATWrite(void);
                            27230 ; 423  |extern _asmfunc INT SysUnLoadFATWrite(void);
                            27231 ; 424  |extern LONG _reentrant ftell(INT iHandle);
                            27232 ; 425  |extern _asmfunc struct FCB * ReadDirectory(int iDevice, int iEntry);
                            27233 ; 426  |
                            27234 ; 427  |#endif
                            27235 
                            27237 
                            27238 ; 7    |#include "metadata.h"
                            27239 
                            27241 
                            27242 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            27243 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            27244 ; 3    |//
                            27245 ; 4    |// Filename: metadata.h
                            27246 ; 5    |// Description:
                            27247 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            27248 ; 7    |
                            27249 ; 8    |#ifndef _METADATA_H
                            27250 ; 9    |#define _METADATA_H
                            27251 ; 10   |
                            27252 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            27253 ; 12   |// MetaData definitions
                            27254 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            27255 ; 14   |
                            27256 ; 15   |//#define MMC_CMD59       0x40|59
                            27257 ; 16   |
                            27258 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            27259 ; 18   |// Meta Data structure definitions
                            27260 ; 19   |///////////////////////////////////////////////////////////////////////////////
                            27261 ; 20   |
                            27262 ; 21   |///////////////////////////////////////////////////////////////////////////////
                            27263 ; 22   |// MetaData definitions
                            27264 ; 23   |
                            27265 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                            27266 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                            27267 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            27268 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                            27269 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                            27270 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                            27271 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                            27272 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                            27273 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
                            27274 ; 33   |
                            27275 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
                            27276 ; 35   |
                            27277 ; 36   |// VBR
                            27278 ; 37   |#define VBR_NOT_DETERMINED 0
                            27279 ; 38   |#define VBR_TRUE 1
                            27280 ; 39   |
                            27281 ; 40   |#ifndef TITLE_SIZE
                            27282 ; 41   |//#define TITLE_SIZE 30
                            27283 ; 42   |#ifndef USE_PLAYLIST3
                            27284 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                            27285 ; 44   |#else
                            27286 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                            27287 ; 46   |#endif
                            27288 ; 47   |#endif
                            27289 ; 48   |
                            27290 ; 49   |#ifndef ARTIST_SIZE
                            27291 ; 50   |#ifndef USE_PLAYLIST3
                            27292 ; 51   |//#define ARTIST_SIZE 30
                            27293 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003110)
                            27294 ; 53   |#else
                            27295 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003110)
                            27296 ; 55   |#endif
                            27297 ; 56   |#endif
                            27298 ; 57   |
                            27299 ; 58   |#ifndef ALBUM_SIZE
                            27300 ; 59   |#ifndef USE_PLAYLIST3
                            27301 ; 60   |//#define ALBUM_SIZE 30
                            27302 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 tags (Stmp00003110)
                            27303 ; 62   |#else
                            27304 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 tags (Stmp00003110)
                            27305 ; 64   |#endif
                            27306 ; 65   |#endif
                            27307 ; 66   |
                            27308 ; 67   |#ifdef USE_PLAYLIST3
                            27309 ; 68   |#ifndef GENRE_SIZE
                            27310 ; 69   |#define GENRE_SIZE 20
                            27311 ; 70   |#endif
                            27312 ; 71   |
                            27313 ; 72   |#ifndef YEAR_SIZE
                            27314 ; 73   |#define YEAR_SIZE 8
                            27315 ; 74   |#endif
                            27316 ; 75   |
                            27317 ; 76   |#ifndef TRACKNUM_SIZE
                            27318 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                            27319 ; 78   |#endif
                            27320 ; 79   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 108

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27321 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                            27322 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                            27323 ; 82   |#endif
                            27324 ; 83   |
                            27325 ; 84   |#define XING_TOC_SIZE   100
                            27326 ; 85   |#if MTP_BUILD
                            27327 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                            27328 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                            27329 ; 88   |#define VBR_TOC_SIZE    2
                            27330 ; 89   |#else
                            27331 ; 90   |#define VBR_TOC_SIZE    200
                            27332 ; 91   |#endif
                            27333 ; 92   |
                            27334 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                            27335 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                            27336 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            27337 ; 96   |#ifdef USE_PLAYLIST3
                            27338 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                            27339 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                            27340 ; 99   |extern WORD g_wSongTrackNum;
                            27341 ; 100  |#endif
                            27342 ; 101  |
                            27343 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                            27344 ; 103  |
                            27345 ; 104  |typedef struct {
                            27346 ; 105  |    WORD        iTitleBufferLength;
                            27347 ; 106  |        UCS3       *wTitle;        // Title of Song
                            27348 ; 107  |    WORD        iArtistBufferLength;
                            27349 ; 108  |    UCS3       *wArtist;
                            27350 ; 109  |    WORD        iAlbumBufferLength;
                            27351 ; 110  |    UCS3       *wAlbum;
                            27352 ; 111  |#ifdef USE_PLAYLIST3
                            27353 ; 112  |    WORD        iGenreBufferLength;
                            27354 ; 113  |    UCS3       *wGenre;
                            27355 ; 114  |    WORD        iYearBufferLength;
                            27356 ; 115  |    UCS3       *wYear;
                            27357 ; 116  |    WORD        wTrackNum;
                            27358 ; 117  |#endif
                            27359 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
                            27360 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
                            27361 ; 120  |        WORD       wNumChannels;
                            27362 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitrate found)
                            27363 ; 122  |        LONG       iTime;                 // Length of song in seconds
                            27364 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the decoder)
                            27365 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                            27366 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                            27367 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
                            27368 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see question below**)
                            27369 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = IMA ADPCM, etc (use defines below)
                            27370 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed for this file
                            27371 ; 130  |} FILE_META_DATA;
                            27372 ; 131  |
                            27373 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                            27374 ; 133  |#define UNKNOWN_TYPE   0
                            27375 ; 134  |#define MP3_TYPE       1
                            27376 ; 135  |#define WMA_TYPE       2
                            27377 ; 136  |#define AAC_TYPE       4
                            27378 ; 137  |#define IMA_ADPCM_TYPE 8
                            27379 ; 138  |#define MS_ADPCM_TYPE  16
                            27380 ; 139  |#define PCM_WAV_TYPE   32
                            27381 ; 140  |#define ASF_TYPE       64
                            27382 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                            27383 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                            27384 ; 143  |
                            27385 ; 144  |#define SMV_ADPCM_TYPE 512
                            27386 ; 145  |
                            27387 ; 146  |
                            27388 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                            27389 ; 148  |// Sample rates
                            27390 ; 149  |#ifdef WOW
                            27391 ; 150  |#define SR_48KHZ        48000
                            27392 ; 151  |#define SR_44KHZ        44100
                            27393 ; 152  |#define SR_32KHZ        32000
                            27394 ; 153  |#define SR_24KHZ        24000
                            27395 ; 154  |#define SR_22KHZ        22050
                            27396 ; 155  |#define SR_16KHZ        16000
                            27397 ; 156  |#define SR_12KHZ        12000
                            27398 ; 157  |#define SR_11KHZ        11025
                            27399 ; 158  |#define SR_8KHZ          8000
                            27400 ; 159  |#endif
                            27401 ; 160  |
                            27402 ; 161  |
                            27403 ; 162  |///////////////////////////////////////////////////////////////////////////////
                            27404 ; 163  |// MetaData prototypes
                            27405 ; 164  |///////////////////////////////////////////////////////////////////////////////
                            27406 ; 165  |
                            27407 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                            27408 ; 167  |#ifdef USE_PLAYLIST3
                            27409 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAddress);
                            27410 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                            27411 ; 170  |#endif
                            27412 ; 171  |
                            27413 ; 172  |#endif // #ifndef _METADATA_H
                            27414 
                            27416 
                            27417 ; 8    |
                            27418 ; 9    |#define MAX_NUM_DIR 1           //max supported directories including all subdirectories
                            27419 ; 10   |#define MAX_NUM_FILES   1       //max supported files
                            27420 ; 11   |#define MAX_SORT_ENTRIES_PER_DIRECTORY  15
                            27421 ; 12   |
                            27422 ; 13   |#define MAX_RECORDS_PER_DIRECTORY   4096        //calculated from the bits in the m_iRecordNum field in the following data structures.
                            27423 ; 14   |                                                                                        //An entry can have multiple records in the FAT for LFNs.
                            27424 ; 15   |                                                                                        //Records more than this number will not be included in the playlist content
                            27425 ; 16   |
                            27426 ; 17   |#define SFN_LENGTH      13      //8.3\ + NULL
                            27427 ; 18   |
                            27428 ; 19   |#define  _MAX_DIR_DEPTH 8
                            27429 ; 20   |#define  MAX_DIRNAME_LENGTH ((SFN_LENGTH*_MAX_DIR_DEPTH)+1)
                            27430 ; 21   |
                            27431 ; 22   |struct Bookmark{
                            27432 ; 23   |        INT       m_iTracknum;
                            27433 ; 24   |        DWORD m_dwTrackPosBytes;
                            27434 ; 25   |}; //this will save the num and position of the song selected for bookmark
                            27435 ; 26   |
                            27436 ; 27   |
                            27437 ; 28   |typedef struct{
                            27438 ; 29   |    unsigned int    m_pNext:16;                 //points to the next inline DirEntry. 
                            27439 ; 30   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            27440 ; 31   |    unsigned int    m_iDevice:1;
                            27441 ; 32   |        unsigned int    m_bIsRoot:1;    //1=ROOT directory, 0= Any directory except ROOT.
                            27442 ; 33   |////////////////////////////////////////////////////////////////////////////////////////////
                            27443 ; 34   |    unsigned int    m_pDirContents:16;  //points to the first content which is a dir.
                            27444 ; 35   |///////////////////////////////////////////////////////////////////////////////////////////
                            27445 ; 36   |        unsigned int    m_pFileContents:16; //pointer in FileEntryPool where the file contents for this directory begin.
                            27446 ; 37   |////////////////////////////////////////////////////////////////////////////////////////////
                            27447 ; 38   |        unsigned int    m_iDirSector1:21;
                            27448 ; 39   |////////////////////////////////////////////////////////////////////////////////////////////
                            27449 ; 40   |        unsigned int    m_iDirOffset:12;
                            27450 ; 41   |        unsigned int    m_iRecordNum:12;        //record number of the directory record (LFN use).
                            27451 ; 42   |
                            27452 ; 43   |        unsigned int    m_iDirSector2:11;
                            27453 ; 44   |        //!! The above are implicitly used as a struct*. Using INT bitfields to save memory !!!
                            27454 ; 45   |////////////////////////////////////////////////////////////////////////////////////////////    
                            27455 ; 46   |#ifdef DEBUG_SFN
                            27456 ; 47   |        _packed BYTE name[SFN_LENGTH];
                            27457 ; 48   |#endif
                            27458 ; 49   |}DirEntry;
                            27459 ; 50   |
                            27460 ; 51   |typedef struct{
                            27461 ; 52   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            27462 ; 53   |        unsigned int    m_bCurrentPlayset:1;    //1=Belongs to the current playset.
                            27463 ; 54   |        unsigned int    m_bTrackPlayed:1;               //Indicates if the track was played atleast once. Currently not used.
                            27464 ; 55   |        unsigned int    m_iDirSector1:21;
                            27465 ; 56   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            27466 ; 57   |        unsigned int    m_iTrackOrder:10;               //Order of this track in the current playset.
                            27467 ; 58   |        unsigned int    m_iDirOffset:12;
                            27468 ; 59   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            27469 ; 60   |        unsigned int    m_iDevice:1;
                            27470 ; 61   |        unsigned int    m_iRecordNum:12;        //Record number of the file record (LFN use).
                            27471 ; 62   |        unsigned int    m_iDirSector2:11;
                            27472 ; 63   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            27473 ; 64   |        unsigned int    m_pNext:16;             // //points to the next inline file.
                            27474 ; 65   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            27475 ; 66   |#ifdef DEBUG_SFN
                            27476 ; 67   |        _packed BYTE name[SFN_LENGTH];
                            27477 ; 68   |#endif
                            27478 ; 69   |}FileEntry;
                            27479 
                            27524 
                            27525 ; 70   |
                            27526 ; 71   |typedef struct{
                            27527 ; 72   |        DirEntry _X* pDirEntry; //Start traversing from this directory entry
                            27528 ; 73   |        unsigned int    iReason;
                            27529 ; 74   |        unsigned int iDevice;
                            27530 ; 75   |        unsigned int iPlayset;
                            27531 ; 76   |        unsigned int iDepth;
                            27532 ; 77   |        unsigned int iTrackOrder;
                            27533 ; 78   |        unsigned int iTrackNum;
                            27534 ; 79   |        FileEntry* pFileEntry;
                            27535 ; 80   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];  //maintains a dynamic list of directory links within the recursion
                            27536 ; 81   |        unsigned int    iTotalLinks;
                            27537 ; 82   |}TraverseTreeParams;
                            27538 ; 83   |
                            27539 ; 84   |typedef struct{
                            27540 ; 85   |        unsigned int EntryType;                         //TYPE_DIR or TYPE_FILE
                            27541 ; 86   |        FileEntry* pFileEntry;          //used if TYPE_FILE
                            27542 ; 87   |        DirEntry _X* pDirEntry;                 //used if TYPE_DIR
                            27543 ; 88   |        unsigned int iTrackNum;
                            27544 ; 89   |        unsigned int iTrackOrder;
                            27545 ; 90   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];
                            27546 ; 91   |        unsigned int iTotalLinks;
                            27547 ; 92   |}EntryAccessInfo;
                            27548 ; 93   |
                            27549 ; 94   |typedef struct{
                            27550 ; 95   |        void* pEntry;
                            27551 ; 96   |        _packed BYTE name[SFN_LENGTH];
                            27552 ; 97   |}SFNStorage;
                            27553 ; 98   |
                            27554 ; 99   |extern DirEntry _X g_DirEntryPerDevice[];               //ROOT(s)
                            27555 ; 100  |extern DirEntry _X g_DirEntryPool[];            //Pool of directory entries, Does not contain files.
                            27556 ; 101  |extern FileEntry g_FileEntryPool[];
                            27557 
                            27572 
                            27573 ; 102  |extern EntryAccessInfo g_CurrentTrack;
                            27574 ; 103  |extern int g_iPlaylistRepeat;
                            27575 ; 104  |extern int g_bPlaylistShuffle;
                            27576 
                            27584 
                            27585 ; 105  |extern SFNStorage g_TempSFNSpace[];
                            27586 ; 106  |extern int g_iTotalTracks;
                            27587 ; 107  |
                            27588 ; 108  |extern int g_iPlaySet;
                            27589 ; 109  |
                            27590 ; 110  |extern struct Bookmark g_MarkerMusic, g_MarkerVoice;
                            27591 ; 111  |extern int g_iTotalDir;
                            27592 ; 112  |extern int g_iTotalFiles;
                            27593 ; 113  |
                            27594 ; 114  |void _reentrant ML_building_engine_init_playlist3(void);
                            27595 ; 115  |void _reentrant ML_voice_build_engine_init_playlist3(void);
                            27596 ; 116  |void _reentrant ML_merging_engine_init_playlist3(void);
                            27597 ; 117  |_reentrant void Rebuild_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                            27598 ; 118  |_reentrant void Rebuild_GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                            27599 ; 119  |_reentrant RETCODE AddDirToLibrary(INT iDrive, INT iDirDepth);
                            27600 ; 120  |RETCODE _reentrant ML_GetLFN(DWORD dwFastKey, INT iRecordNum, UCS3 *pBuf);
                            27601 ; 121  |
                            27602 ; 122  |#endif
                            27603 
                            27605 
                            27606 ; 5    |#include "musiclib_ghdr.h"
                            27607 
                            27609 
                            27610 ; 1    |#ifndef MUSICLIB_GHDR_H
                            27611 ; 2    |#define MUSICLIB_GHDR_H
                            27612 ; 3    |
                            27613 ; 4    |#ifdef __cplusplus
                            27614 ; 5    |extern "C" {
                            27615 ; 6    |#endif
                            27616 ; 7    |
                            27617 ; 8    |/*==================================================================================================
                            27618 ; 9    |
                            27619 ; 10   |                                        General Description
                            27620 ; 11   |
                            27621 ; 12   |====================================================================================================
                            27622 ; 13   |
                            27623 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            27624 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            27625 ; 16   |
                            27626 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            27627 ; 18   |
                            27628 ; 19   |PRODUCT NAMES: All
                            27629 ; 20   |
                            27630 ; 21   |GENERAL DESCRIPTION:
                            27631 ; 22   |
                            27632 ; 23   |    General description of this grouping of functions.
                            27633 ; 24   |
                            27634 ; 25   |Portability: All
                            27635 ; 26   |
                            27636 ; 27   |
                            27637 ; 28   |Revision History:
                            27638 ; 29   |
                            27639 ; 30   |                         Modification        Tracking
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 109

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27640 ; 31   |Author                       Date             Number           Description of Changes
                            27641 ; 32   |---------------------    ------------        ----------        -------------------------------------
                            27642 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of changes made
                            27643 ; 34   |
                            27644 ; 35   |
                            27645 ; 36   |====================================================================================================
                            27646 ; 37   |                                            DESCRIPTION
                            27647 ; 38   |====================================================================================================
                            27648 ; 39   |
                            27649 ; 40   |GLOBAL FUNCTIONS:
                            27650 ; 41   |    MF_global_func_name()
                            27651 ; 42   |
                            27652 ; 43   |TRACEABILITY MATRIX:
                            27653 ; 44   |    None
                            27654 ; 45   |
                            27655 ; 46   |==================================================================================================*/
                            27656 ; 47   |
                            27657 ; 48   |/*==================================================================================================
                            27658 ; 49   |                                                                Conditional Compilation Directives
                            27659 ; 50   |==================================================================================================*/
                            27660 ; 51   |#ifdef WIN32
                            27661 ; 52   |#define _PC_SIMULATION_
                            27662 ; 53   |#else
                            27663 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            27664 ; 55   |#endif  // WIN32
                            27665 ; 56   |
                            27666 ; 57   |#if 1
                            27667 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            27668 ; 59   |#endif
                            27669 ; 60   |
                            27670 ; 61   |#if 1
                            27671 ; 62   |#define _AUDIBLE_       /* install audible list */
                            27672 ; 63   |#endif
                            27673 ; 64   |
                            27674 ; 65   |#if 1
                            27675 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            27676 ; 67   |#endif
                            27677 ; 68   |
                            27678 ; 69   |#ifdef PL3_FB
                            27679 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            27680 ; 71   |#endif
                            27681 ; 72   |
                            27682 ; 73   |#if 1
                            27683 ; 74   |#define _SUPPORT_2000_SONGS_
                            27684 ; 75   |#endif
                            27685 ; 76   |
                            27686 ; 77   |/*==================================================================================================
                            27687 ; 78   |                                           INCLUDE FILES
                            27688 ; 79   |==================================================================================================*/
                            27689 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            27690 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            27691 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            27692 ; 83   |#define OEM_SEEK_END    SEEK_END
                            27693 ; 84   |#else
                            27694 ; 85   |#define _X
                            27695 ; 86   |#define _Y
                            27696 ; 87   |#define _packed
                            27697 ; 88   |
                            27698 ; 89   |#define _asmfunc
                            27699 ; 90   |#define _reentrant
                            27700 ; 91   |
                            27701 ; 92   |#define OEM_SEEK_CUR    1
                            27702 ; 93   |#define OEM_SEEK_SET    0
                            27703 ; 94   |#define OEM_SEEK_END    2
                            27704 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            27705 ; 96   |
                            27706 ; 97   |#include "types.h"
                            27707 ; 98   |#include "exec.h"
                            27708 ; 99   |#include "messages.h"
                            27709 ; 100  |#include "project.h"
                            27710 ; 101  |
                            27711 ; 102  |/*==================================================================================================
                            27712 ; 103  |                                             CONSTANTS
                            27713 ; 104  |==================================================================================================*/
                            27714 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            27715 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            27716 ; 107  |Artistname                              1:0
                            27717 ; 108  |Albumname                               3:2
                            27718 ; 109  |Genrename                               5:4
                            27719 ; 110  |Songname                                7:6
                            27720 ; 111  |----------------------------------------------------------
                            27721 ; 112  |    Value (2 bits)                      Meanings
                            27722 ; 113  |    0                                   RAW and All ASCII
                            27723 ; 114  |    1                                   Uni-code
                            27724 ; 115  |    2                                   Mixed, non-unicode
                            27725 ; 116  |
                            27726 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            27727 ; 118  |*/
                            27728 ; 119  |#define BITMASK_ARTIST  (0x03)
                            27729 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            27730 ; 121  |#define BITMASK_GENRE   (0x30)
                            27731 ; 122  |#define BITMASK_SONG    (0xC0)
                            27732 ; 123  |
                            27733 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            27734 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            27735 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            27736 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            27737 ; 128  |
                            27738 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            27739 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            27740 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            27741 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            27742 ; 133  |
                            27743 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            27744 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            27745 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            27746 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            27747 ; 138  |
                            27748 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            27749 ; 140  |
                            27750 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            27751 ; 142  |
                            27752 ; 143  |#define INDEX_EOF       0xFFF
                            27753 ; 144  |#ifdef _FOLDER_BROWSE_
                            27754 ; 145  |#define INDEX_ROOT  0xffe
                            27755 ; 146  |#define UNKNOWN_RECORD  0xfff
                            27756 ; 147  |#endif  // _FOLDER_BROWSE_
                            27757 ; 148  |
                            27758 ; 149  |/* Constant for item_type */
                            27759 ; 150  |#define         ITEM_ARTIST                     0
                            27760 ; 151  |#define         ITEM_ALBUM                      1
                            27761 ; 152  |#define         ITEM_GENRE                      2
                            27762 ; 153  |#define         ITEM_TRACK                      3
                            27763 ; 154  |#define         ITEM_YEAR                       4
                            27764 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            27765 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            27766 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            27767 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            27768 ; 159  |#ifdef _NEWMUSIC_
                            27769 ; 160  |#define         ITEM_1DAY                       10
                            27770 ; 161  |#define         ITEM_1WEEK                      11
                            27771 ; 162  |#define         ITEM_1MONTH                     12
                            27772 ; 163  |#endif
                            27773 ; 164  |#ifdef _AUDIBLE_
                            27774 ; 165  |#define         ITEM_AUDIBLE            13
                            27775 ; 166  |#endif
                            27776 ; 167  |#define         ITEM_ON_THE_GO          14
                            27777 ; 168  |
                            27778 ; 169  |#define         ITEM_VOICE                      15
                            27779 ; 170  |#define         ITEM_FMREC                      16
                            27780 ; 171  |#define         ITEM_PHOTO                      17
                            27781 ; 172  |#ifdef _FOLDER_BROWSE_
                            27782 ; 173  |#define         ITEM_INTERNAL           18
                            27783 ; 174  |#define         ITEM_EXTERNAL       19
                            27784 ; 175  |#endif  // _FOLDER_BROWSE_
                            27785 ; 176  |#define     ITEM_UNKNOWN        0xff
                            27786 ; 177  |
                            27787 ; 178  |/*
                            27788 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            27789 ; 180  |option input.
                            27790 ; 181  |*/
                            27791 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            27792 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            27793 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            27794 ; 185  |#ifdef _FOLDER_BROWSE_
                            27795 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            27796 ; 187  |#endif  // _FOLDER_BROWSE_
                            27797 ; 188  |
                            27798 ; 189  |/* Constant for key action */
                            27799 ; 190  |#define         ACTION_OK                               0               /* Press OK button */
                            27800 ; 191  |#define         ACTION_BACK                             1               /* Press BACK button */
                            27801 ; 192  |#define         ACTION_UP                               2               /* Press UP button */
                            27802 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN button */
                            27803 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            27804 ; 195  |#define         ACTION_MENU                             5               /* Back the browsing tree to root */
                            27805 ; 196  |
                            27806 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            27807 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            27808 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            27809 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            27810 ; 201  |
                            27811 ; 202  |#define         NO_SD                                   0
                            27812 ; 203  |#define         HAS_SD                                  1
                            27813 ; 204  |
                            27814 ; 205  |#define         PLAY_NORMAL                             0
                            27815 ; 206  |#define         PLAY_SHUFFLE                    1
                            27816 ; 207  |
                            27817 ; 208  |#define     PLAY_REPEAT_OFF         0
                            27818 ; 209  |#define     PLAY_REPEAT_ON          1
                            27819 ; 210  |
                            27820 ; 211  |#define     PLAY_SELECT_FLASH       0
                            27821 ; 212  |#define     PLAY_SELECT_SD          1
                            27822 ; 213  |
                            27823 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            27824 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            27825 ; 216  |
                            27826 ; 217  |#define         ON_THE_GO_EXIST                 0
                            27827 ; 218  |#define         ON_THE_GO_FULL                  1
                            27828 ; 219  |#define         ON_THE_GO_FREE                  2
                            27829 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            27830 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            27831 ; 222  |
                            27832 ; 223  |#define         REC_VOICE_TYPE                  0
                            27833 ; 224  |#define         REC_FMREC_TYPE                  1
                            27834 ; 225  |#define         REC_PHOTO_TYPE                  2
                            27835 ; 226  |#define         VOICE_FILE_ADD                  0
                            27836 ; 227  |#define         VOICE_FILE_DEL                  1
                            27837 ; 228  |
                            27838 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            27839 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            27840 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            27841 ; 232  |flash or external SD card */
                            27842 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            27843 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            27844 ; 235  |#else
                            27845 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            27846 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            27847 ; 238  |
                            27848 ; 239  |/* number of byte in one DSP word */
                            27849 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            27850 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            27851 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            27852 ; 243  |are 10 level directory structure */
                            27853 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            27854 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            27855 ; 246  |
                            27856 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            27857 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            27858 ; 249  |/* number of songs in each new music list */
                            27859 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            27860 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            27861 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            27862 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            27863 ; 254  |/* number of songs in the on-the-fly list */
                            27864 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            27865 ; 256  |/* number of files audible list */
                            27866 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            27867 ; 258  |
                            27868 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            27869 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            27870 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            27871 ; 262  |
                            27872 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            27873 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            27874 ; 265  |#ifdef _FOLDER_BROWSE_
                            27875 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            27876 ; 267  |#else
                            27877 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            27878 ; 269  |#endif  // _FOLDER_BROWSE_
                            27879 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            27880 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            27881 ; 272  |
                            27882 ; 273  |#ifndef _MAX_DIR_DEPTH
                            27883 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            27884 ; 275  |#endif  // _MAX_DIR_DEPTH
                            27885 ; 276  |
                            27886 ; 277  |/*==================================================================================================*/
                            27887 ; 278  |
                            27888 ; 279  |
                            27889 ; 280  |/*==================================================================================================
                            27890 ; 281  |                                               MACROS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 110

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27891 ; 282  |==================================================================================================*/
                            27892 ; 283  |
                            27893 ; 284  |/*==================================================================================================
                            27894 ; 285  |                                               ENUMS
                            27895 ; 286  |==================================================================================================*/
                            27896 ; 287  |#define NUM_OF_MEDIA                            (2)
                            27897 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            27898 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            27899 ; 290  |/*==================================================================================================
                            27900 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            27901 ; 292  |==================================================================================================*/
                            27902 ; 293  |
                            27903 ; 294  |typedef char    int8;
                            27904 ; 295  |typedef short   int16;
                            27905 ; 296  |typedef int     int24;
                            27906 ; 297  |typedef long    int32;
                            27907 ; 298  |
                            27908 ; 299  |typedef int     intx;
                            27909 ; 300  |
                            27910 ; 301  |typedef unsigned char   uint8;
                            27911 ; 302  |typedef unsigned short  uint16;
                            27912 ; 303  |typedef unsigned int    uint24;
                            27913 ; 304  |typedef unsigned long   uint32;
                            27914 ; 305  |
                            27915 ; 306  |/*
                            27916 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode format.
                            27917 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            27918 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            27919 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            27920 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            27921 ; 312  |*/
                            27922 ; 313  |/*
                            27923 ; 314  |path_name[] _must_have_data_:
                            27924 ; 315  |path_name[] = (Max. 120 Characters);
                            27925 ; 316  |year range:
                            27926 ; 317  |year = 0x000000-0xFFFFFF;
                            27927 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            27928 ; 319  |Unknown track number:
                            27929 ; 320  |track_number = 0x7FFFFF;
                            27930 ; 321  |unicode refer to above #define BITMASK_*
                            27931 ; 322  |*/
                            27932 ; 323  |/*
                            27933 ; 324  |Interface of UI and Music Library
                            27934 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            27935 ; 326  |
                            27936 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            27937 ; 328  |
                            27938 ; 329  |3) UI to Music Library variable passing length definition:
                            27939 ; 330  |        All ASCII Characters:
                            27940 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            27941 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            27942 ; 333  |        Unicode Characters:
                            27943 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            27944 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            27945 ; 336  |
                            27946 ; 337  |4) UI input data to Music Library in two formats.
                            27947 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            27948 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            27949 ; 340  |
                            27950 ; 341  |5) UI calling function:
                            27951 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            27952 ; 343  |        int16 option definition:
                            27953 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            27954 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            27955 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            27956 ; 347  |
                            27957 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            27958 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_list separately.
                            27959 ; 350  |
                            27960 ; 351  |6) Modification Date:
                            27961 ; 352  |        uint24 g_file_time:
                            27962 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            27963 ; 354  |*/
                            27964 ; 355  |
                            27965 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            27966 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            27967 ; 358  |typedef struct _ram_song_info {
                            27968 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            27969 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            27970 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            27971 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            27972 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            27973 ; 364  |    uint32 g_songFastKey;
                            27974 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            27975 ; 366  |        uint24 year;
                            27976 ; 367  |        uint24 track_number;
                            27977 ; 368  |        uint8 unicode;
                            27978 ; 369  |} RAM_SONG_INFO_T;
                            27979 ; 370  |
                            27980 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            27981 ; 372  |typedef struct _flash_group_name {
                            27982 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            27983 ; 374  |        uint8 unicode;
                            27984 ; 375  |} FLASH_GROUP_NAME_T;
                            27985 ; 376  |
                            27986 ; 377  |// struct to store directories information passed from UI
                            27987 ; 378  |#ifdef _FOLDER_BROWSE_
                            27988 ; 379  |typedef struct _ml_DirInfo {
                            27989 ; 380  |        uint24  u8Unicode : 8;
                            27990 ; 381  |        uint24  u12DirDepth : 12;
                            27991 ; 382  |        uint24  u4Added : 4;            
                            27992 ; 383  |        INT     iDirRecord;
                            27993 ; 384  |        DWORD   dwFastKey;
                            27994 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            27995 ; 386  |} ML_DIRINFO_T;
                            27996 ; 387  |#endif  // _FOLDER_BROWSE_
                            27997 ; 388  |
                            27998 ; 389  |/*==================================================================================================
                            27999 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            28000 ; 391  |==================================================================================================*/
                            28001 ; 392  |extern uint24   IsPlayOnTheGo;
                            28002 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            28003 ; 394  |extern uint24   merge_id_list_flash[];
                            28004 ; 395  |extern uint24   merge_id_list_sd[];
                            28005 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            28006 ; 397  |#ifdef _FOLDER_BROWSE_
                            28007 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            28008 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28009 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            28010 ; 401  |#endif  // _FOLDER_BROWSE_
                            28011 ; 402  |extern INT _X    *sec_temp_buf_X;
                            28012 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 = repeat on/off(0=off/1=on) */
                            28013 ; 404  |
                            28014 ; 405  |/*==================================================================================================
                            28015 ; 406  |                                        FUNCTION PROTOTYPES
                            28016 ; 407  |==================================================================================================*/
                            28017 ; 408  |
                            28018 ; 409  |///////////////////////////////////////////////////////////////////////
                            28019 ; 410  |//! \brief
                            28020 ; 411  |//!
                            28021 ; 412  |//! \fntype Function
                            28022 ; 413  |//!
                            28023 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            28024 ; 415  |//! Call only once before inserting items. Call once for each media.
                            28025 ; 416  |//!
                            28026 ; 417  |//! \param[in]  none
                            28027 ; 418  |//!
                            28028 ; 419  |//! \return
                            28029 ; 420  |//!
                            28030 ; 421  |///////////////////////////////////////////////////////////////////////
                            28031 ; 422  |void ML_InitLibraryParameter(void);
                            28032 ; 423  |
                            28033 ; 424  |///////////////////////////////////////////////////////////////////////
                            28034 ; 425  |//! \brief
                            28035 ; 426  |//!
                            28036 ; 427  |//! \fntype Function
                            28037 ; 428  |//!
                            28038 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            28039 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            28040 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each song,
                            28041 ; 432  |//! the song information is recorded in music library.
                            28042 ; 433  |//!
                            28043 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            28044 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passed from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            28045 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav format file.
                            28046 ; 437  |//!
                            28047 ; 438  |//! \return
                            28048 ; 439  |//!
                            28049 ; 440  |///////////////////////////////////////////////////////////////////////
                            28050 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            28051 ; 442  |
                            28052 ; 443  |///////////////////////////////////////////////////////////////////////
                            28053 ; 444  |//! \brief
                            28054 ; 445  |//!
                            28055 ; 446  |//! \fntype Function
                            28056 ; 447  |//!
                            28057 ; 448  |//! \param[in]
                            28058 ; 449  |//!
                            28059 ; 450  |//! \return
                            28060 ; 451  |//!
                            28061 ; 452  |///////////////////////////////////////////////////////////////////////
                            28062 ; 453  |#ifdef _FOLDER_BROWSE_
                            28063 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int16 i16Option);
                            28064 ; 455  |#endif  // _FOLDER_BROWSE_
                            28065 ; 456  |
                            28066 ; 457  |///////////////////////////////////////////////////////////////////////
                            28067 ; 458  |//! \brief
                            28068 ; 459  |//!
                            28069 ; 460  |//! \fntype Function
                            28070 ; 461  |//!
                            28071 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            28072 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            28073 ; 464  |//! music library for that particular media.
                            28074 ; 465  |//!
                            28075 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            28076 ; 467  |//!
                            28077 ; 468  |//! \return
                            28078 ; 469  |//!
                            28079 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            28080 ; 471  |//!         function.
                            28081 ; 472  |///////////////////////////////////////////////////////////////////////
                            28082 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            28083 ; 474  |
                            28084 ; 475  |///////////////////////////////////////////////////////////////////////
                            28085 ; 476  |//! \brief
                            28086 ; 477  |//!
                            28087 ; 478  |//! \fntype Function
                            28088 ; 479  |//!
                            28089 ; 480  |//! \param[in]
                            28090 ; 481  |//!
                            28091 ; 482  |//! \return
                            28092 ; 483  |//!
                            28093 ; 484  |///////////////////////////////////////////////////////////////////////
                            28094 ; 485  |#ifdef _NEWMUSIC_
                            28095 ; 486  |void ML_UpdateNewMusic(void);
                            28096 ; 487  |#endif
                            28097 ; 488  |
                            28098 ; 489  |///////////////////////////////////////////////////////////////////////
                            28099 ; 490  |//! \brief
                            28100 ; 491  |//!
                            28101 ; 492  |//! \fntype Function
                            28102 ; 493  |//!
                            28103 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            28104 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            28105 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            28106 ; 497  |//!
                            28107 ; 498  |//! \param[in]  none
                            28108 ; 499  |//!
                            28109 ; 500  |//! \return
                            28110 ; 501  |//!
                            28111 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            28112 ; 503  |//!         must be called before calling any other music library functions.
                            28113 ; 504  |///////////////////////////////////////////////////////////////////////
                            28114 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            28115 ; 506  |
                            28116 ; 507  |///////////////////////////////////////////////////////////////////////
                            28117 ; 508  |//! \brief
                            28118 ; 509  |//!
                            28119 ; 510  |//! \fntype Function
                            28120 ; 511  |//!
                            28121 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            28122 ; 513  |//! library operation.
                            28123 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            28124 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file and the
                            28125 ; 516  |//! music.sec file do not exist.
                            28126 ; 517  |//!
                            28127 ; 518  |//! \param[in]  none
                            28128 ; 519  |//!
                            28129 ; 520  |//! \return
                            28130 ; 521  |//!
                            28131 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            28132 ; 523  |//!         must be called before calling any other music library functions.
                            28133 ; 524  |///////////////////////////////////////////////////////////////////////
                            28134 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            28135 ; 526  |
                            28136 ; 527  |///////////////////////////////////////////////////////////////////////
                            28137 ; 528  |//! \brief
                            28138 ; 529  |//!
                            28139 ; 530  |//! \fntype Function
                            28140 ; 531  |//!
                            28141 ; 532  |//! Preload the list, prepare for renew.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 111

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28142 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            28143 ; 534  |//! structure in RAM.
                            28144 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            28145 ; 536  |//! in RAM.
                            28146 ; 537  |//!
                            28147 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            28148 ; 539  |//!
                            28149 ; 540  |//! \return
                            28150 ; 541  |//!
                            28151 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            28152 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            28153 ; 544  |///////////////////////////////////////////////////////////////////////
                            28154 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            28155 ; 546  |
                            28156 ; 547  |///////////////////////////////////////////////////////////////////////
                            28157 ; 548  |//! \brief
                            28158 ; 549  |//!
                            28159 ; 550  |//! \fntype Function
                            28160 ; 551  |//!
                            28161 ; 552  |//! Save the list to flash memory.
                            28162 ; 553  |//!
                            28163 ; 554  |//! \param[in]
                            28164 ; 555  |//!
                            28165 ; 556  |//! \return
                            28166 ; 557  |//!
                            28167 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            28168 ; 559  |//!         changed by the user.
                            28169 ; 560  |///////////////////////////////////////////////////////////////////////
                            28170 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            28171 ; 562  |
                            28172 ; 563  |///////////////////////////////////////////////////////////////////////
                            28173 ; 564  |//! \brief
                            28174 ; 565  |//!
                            28175 ; 566  |//! \fntype Function
                            28176 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            28177 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in the
                            28178 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the list.
                            28179 ; 570  |//! Otherwise the song is deleted.
                            28180 ; 571  |//!
                            28181 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            28182 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            28183 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            28184 ; 575  |//!
                            28185 ; 576  |//! \return
                            28186 ; 577  |//!
                            28187 ; 578  |///////////////////////////////////////////////////////////////////////
                            28188 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            28189 ; 580  |
                            28190 ; 581  |///////////////////////////////////////////////////////////////////////
                            28191 ; 582  |//! \brief
                            28192 ; 583  |//!
                            28193 ; 584  |//! \fntype Function
                            28194 ; 585  |//!
                            28195 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            28196 ; 587  |//! in the ML_UpdateOnTheGo().
                            28197 ; 588  |//!
                            28198 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            28199 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDEX_EOF (song will be deleted)
                            28200 ; 591  |//!
                            28201 ; 592  |//! \return
                            28202 ; 593  |//!
                            28203 ; 594  |///////////////////////////////////////////////////////////////////////
                            28204 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            28205 ; 596  |
                            28206 ; 597  |///////////////////////////////////////////////////////////////////////
                            28207 ; 598  |//! \brief
                            28208 ; 599  |//!
                            28209 ; 600  |//! \fntype Function
                            28210 ; 601  |//!
                            28211 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            28212 ; 603  |//!
                            28213 ; 604  |//! \param[in]  none
                            28214 ; 605  |//!
                            28215 ; 606  |//! \return
                            28216 ; 607  |//!
                            28217 ; 608  |///////////////////////////////////////////////////////////////////////
                            28218 ; 609  |void ML_UpdateOnTheGo(void);
                            28219 ; 610  |
                            28220 ; 611  |///////////////////////////////////////////////////////////////////////
                            28221 ; 612  |//! \brief
                            28222 ; 613  |//!
                            28223 ; 614  |//! \fntype Function
                            28224 ; 615  |//!
                            28225 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            28226 ; 617  |//! Call only once before inserting items. Call once for each media.
                            28227 ; 618  |//!
                            28228 ; 619  |//! \param[in]  none
                            28229 ; 620  |//!
                            28230 ; 621  |//! \return
                            28231 ; 622  |//!
                            28232 ; 623  |///////////////////////////////////////////////////////////////////////
                            28233 ; 624  |void ML_InitVoiceParameter(void);
                            28234 ; 625  |
                            28235 ; 626  |///////////////////////////////////////////////////////////////////////
                            28236 ; 627  |//! \brief
                            28237 ; 628  |//!
                            28238 ; 629  |//! \fntype Function
                            28239 ; 630  |//!
                            28240 ; 631  |//! \param[in]
                            28241 ; 632  |//!
                            28242 ; 633  |//! \return
                            28243 ; 634  |//!
                            28244 ; 635  |///////////////////////////////////////////////////////////////////////
                            28245 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            28246 ; 637  |
                            28247 ; 638  |///////////////////////////////////////////////////////////////////////
                            28248 ; 639  |//! \brief
                            28249 ; 640  |//!
                            28250 ; 641  |//! \fntype Function
                            28251 ; 642  |//!
                            28252 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            28253 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names.
                            28254 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            28255 ; 646  |//!
                            28256 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            28257 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed from UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            28258 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            28259 ; 650  |//!
                            28260 ; 651  |//! \return
                            28261 ; 652  |//!
                            28262 ; 653  |///////////////////////////////////////////////////////////////////////
                            28263 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            28264 ; 655  |
                            28265 ; 656  |///////////////////////////////////////////////////////////////////////
                            28266 ; 657  |//! \brief
                            28267 ; 658  |//!
                            28268 ; 659  |//! \fntype Function
                            28269 ; 660  |//!
                            28270 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            28271 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice building
                            28272 ; 663  |//! of music library for that particular media.
                            28273 ; 664  |//!
                            28274 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            28275 ; 666  |//!
                            28276 ; 667  |//! \return
                            28277 ; 668  |//!
                            28278 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            28279 ; 670  |//!         function.
                            28280 ; 671  |///////////////////////////////////////////////////////////////////////
                            28281 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            28282 ; 673  |
                            28283 ; 674  |///////////////////////////////////////////////////////////////////////
                            28284 ; 675  |//! \brief
                            28285 ; 676  |//!
                            28286 ; 677  |//! \fntype Function
                            28287 ; 678  |//!
                            28288 ; 679  |//! Called by UI, the merge the music library tables album,
                            28289 ; 680  |//! artist, genre, song and year.
                            28290 ; 681  |//!
                            28291 ; 682  |//! \param[in]  none
                            28292 ; 683  |//!
                            28293 ; 684  |//! \return
                            28294 ; 685  |//!
                            28295 ; 686  |///////////////////////////////////////////////////////////////////////
                            28296 ; 687  |void ML_MergeLibraryTables(void);
                            28297 ; 688  |
                            28298 ; 689  |///////////////////////////////////////////////////////////////////////
                            28299 ; 690  |//! \brief
                            28300 ; 691  |//!
                            28301 ; 692  |//! \fntype Function
                            28302 ; 693  |//!
                            28303 ; 694  |//! Called by UI, the merge the music library tables album,
                            28304 ; 695  |//! artist, genre, song and year.
                            28305 ; 696  |//!
                            28306 ; 697  |//! \param[in]  none
                            28307 ; 698  |//!
                            28308 ; 699  |//! \return
                            28309 ; 700  |//!
                            28310 ; 701  |///////////////////////////////////////////////////////////////////////
                            28311 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            28312 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            28313 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            28314 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            28315 ; 706  |
                            28316 ; 707  |///////////////////////////////////////////////////////////////////////
                            28317 ; 708  |//! \brief
                            28318 ; 709  |//!
                            28319 ; 710  |//! \fntype Function
                            28320 ; 711  |//!
                            28321 ; 712  |//! \param[in]
                            28322 ; 713  |//!
                            28323 ; 714  |//! \return
                            28324 ; 715  |//!
                            28325 ; 716  |///////////////////////////////////////////////////////////////////////
                            28326 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            28327 ; 718  |
                            28328 ; 719  |/*================================================================================================*/
                            28329 ; 720  |
                            28330 ; 721  |// Siukoon 2005-02-28
                            28331 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            28332 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            28333 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            28334 ; 725  |#else
                            28335 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            28336 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            28337 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            28338 ; 729  |#define WORD_PER_SECTOR             (171)
                            28339 ; 730  |#define BYTE_PER_SECTOR             (512)
                            28340 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            28341 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            28342 ; 733  |
                            28343 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            28344 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            28345 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            28346 ; 737  |
                            28347 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            28348 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            28349 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            28350 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            28351 ; 742  |
                            28352 ; 743  |/////////////////////
                            28353 ; 744  |
                            28354 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            28355 ; 746  |
                            28356 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            28357 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            28358 ; 749  |#else
                            28359 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            28360 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            28361 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            28362 ; 753  |
                            28363 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            28364 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            28365 ; 756  |
                            28366 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            28367 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            28368 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            28369 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            28370 ; 761  |#else
                            28371 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            28372 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            28373 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            28374 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            28375 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            28376 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            28377 ; 768  |
                            28378 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            28379 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            28380 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            28381 ; 772  |#else
                            28382 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG_PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            28383 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            28384 ; 775  |
                            28385 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            28386 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            28387 ; 778  |
                            28388 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            28389 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            28390 ; 781  |
                            28391 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            28392 ; 783  |#ifdef _SUPPORT_2000_SONGS_
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 112

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28393 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            28394 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            28395 ; 786  |#else
                            28396 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            28397 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            28398 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            28399 ; 790  |
                            28400 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            28401 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6)
                            28402 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            28403 ; 794  |#else
                            28404 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            28405 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            28406 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            28407 ; 798  |
                            28408 ; 799  |#ifdef __cplusplus
                            28409 ; 800  |}
                            28410 ; 801  |#endif
                            28411 ; 802  |
                            28412 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            28413 
                            28415 
                            28416 ; 6    |#include "fsapi.h"
                            28417 
                            28419 
                            28420 ; 1    |#ifndef _FSAPI_H_
                            28421 ; 2    |#define _FSAPI_H_
                            28422 ; 3    |#include "filespec.h"
                            28423 
                            28425 
                            28426 ; 1    |#ifndef _FILESPEC_H_
                            28427 ; 2    |#define _FILESPEC_H_
                            28428 ; 3    |#include  "fstypes.h"
                            28429 
                            28431 
                            28432 ; 1    |#ifndef _FS_TYPE_H_
                            28433 ; 2    |#define _FS_TYPE_H_
                            28434 ; 3    |
                            28435 ; 4    |#include   "types.h"
                            28436 
                            28438 
                            28439 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            28440 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            28441 ; 3    |//
                            28442 ; 4    |// Filename: types.h
                            28443 ; 5    |// Description: Standard data types
                            28444 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            28445 ; 7    |
                            28446 ; 8    |#ifndef _TYPES_H
                            28447 ; 9    |#define _TYPES_H
                            28448 ; 10   |
                            28449 ; 11   |// TODO:  move this outta here!
                            28450 ; 12   |#if !defined(NOERROR)
                            28451 ; 13   |#define NOERROR 0
                            28452 ; 14   |#define SUCCESS 0
                            28453 ; 15   |#endif 
                            28454 ; 16   |#if !defined(SUCCESS)
                            28455 ; 17   |#define SUCCESS  0
                            28456 ; 18   |#endif
                            28457 ; 19   |#if !defined(ERROR)
                            28458 ; 20   |#define ERROR   -1
                            28459 ; 21   |#endif
                            28460 ; 22   |#if !defined(FALSE)
                            28461 ; 23   |#define FALSE 0
                            28462 ; 24   |#endif
                            28463 ; 25   |#if !defined(TRUE)
                            28464 ; 26   |#define TRUE  1
                            28465 ; 27   |#endif
                            28466 ; 28   |
                            28467 ; 29   |#if !defined(NULL)
                            28468 ; 30   |#define NULL 0
                            28469 ; 31   |#endif
                            28470 ; 32   |
                            28471 ; 33   |#define MAX_INT     0x7FFFFF
                            28472 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            28473 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            28474 ; 36   |#define MAX_ULONG   (-1) 
                            28475 ; 37   |
                            28476 ; 38   |#define WORD_SIZE   24              // word size in bits
                            28477 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            28478 ; 40   |
                            28479 ; 41   |
                            28480 ; 42   |#define BYTE    unsigned char       // btVarName
                            28481 ; 43   |#define CHAR    signed char         // cVarName
                            28482 ; 44   |#define USHORT  unsigned short      // usVarName
                            28483 ; 45   |#define SHORT   unsigned short      // sVarName
                            28484 ; 46   |#define WORD    unsigned int        // wVarName
                            28485 ; 47   |#define INT     signed int          // iVarName
                            28486 ; 48   |#define DWORD   unsigned long       // dwVarName
                            28487 ; 49   |#define LONG    signed long         // lVarName
                            28488 ; 50   |#define BOOL    unsigned int        // bVarName
                            28489 ; 51   |#define FRACT   _fract              // frVarName
                            28490 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            28491 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            28492 ; 54   |#define FLOAT   float               // fVarName
                            28493 ; 55   |#define DBL     double              // dVarName
                            28494 ; 56   |#define ENUM    enum                // eVarName
                            28495 ; 57   |#define CMX     _complex            // cmxVarName
                            28496 ; 58   |typedef WORD UCS3;                   // 
                            28497 ; 59   |
                            28498 ; 60   |#define UINT16  unsigned short
                            28499 ; 61   |#define UINT8   unsigned char   
                            28500 ; 62   |#define UINT32  unsigned long
                            28501 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            28502 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            28503 ; 65   |#define WCHAR   UINT16
                            28504 ; 66   |
                            28505 ; 67   |//UINT128 is 16 bytes or 6 words
                            28506 ; 68   |typedef struct UINT128_3500 {   
                            28507 ; 69   |    int val[6];     
                            28508 ; 70   |} UINT128_3500;
                            28509 ; 71   |
                            28510 ; 72   |#define UINT128   UINT128_3500
                            28511 ; 73   |
                            28512 ; 74   |// Little endian word packed byte strings:   
                            28513 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            28514 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            28515 ; 77   |// Little endian word packed byte strings:   
                            28516 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            28517 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            28518 ; 80   |
                            28519 ; 81   |// Declare Memory Spaces To Use When Coding
                            28520 ; 82   |// A. Sector Buffers
                            28521 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            28522 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            28523 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            28524 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            28525 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            28526 ; 88   |// B. Media DDI Memory
                            28527 ; 89   |#define MEDIA_DDI_MEM _Y
                            28528 ; 90   |
                            28529 ; 91   |
                            28530 ; 92   |
                            28531 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            28532 ; 94   |// Examples of circular pointers:
                            28533 ; 95   |//    INT CIRC cpiVarName
                            28534 ; 96   |//    DWORD CIRC cpdwVarName
                            28535 ; 97   |
                            28536 ; 98   |#define RETCODE INT                 // rcVarName
                            28537 ; 99   |
                            28538 ; 100  |// generic bitfield structure
                            28539 ; 101  |struct Bitfield {
                            28540 ; 102  |    unsigned int B0  :1;
                            28541 ; 103  |    unsigned int B1  :1;
                            28542 ; 104  |    unsigned int B2  :1;
                            28543 ; 105  |    unsigned int B3  :1;
                            28544 ; 106  |    unsigned int B4  :1;
                            28545 ; 107  |    unsigned int B5  :1;
                            28546 ; 108  |    unsigned int B6  :1;
                            28547 ; 109  |    unsigned int B7  :1;
                            28548 ; 110  |    unsigned int B8  :1;
                            28549 ; 111  |    unsigned int B9  :1;
                            28550 ; 112  |    unsigned int B10 :1;
                            28551 ; 113  |    unsigned int B11 :1;
                            28552 ; 114  |    unsigned int B12 :1;
                            28553 ; 115  |    unsigned int B13 :1;
                            28554 ; 116  |    unsigned int B14 :1;
                            28555 ; 117  |    unsigned int B15 :1;
                            28556 ; 118  |    unsigned int B16 :1;
                            28557 ; 119  |    unsigned int B17 :1;
                            28558 ; 120  |    unsigned int B18 :1;
                            28559 ; 121  |    unsigned int B19 :1;
                            28560 ; 122  |    unsigned int B20 :1;
                            28561 ; 123  |    unsigned int B21 :1;
                            28562 ; 124  |    unsigned int B22 :1;
                            28563 ; 125  |    unsigned int B23 :1;
                            28564 ; 126  |};
                            28565 ; 127  |
                            28566 ; 128  |union BitInt {
                            28567 ; 129  |        struct Bitfield B;
                            28568 ; 130  |        int        I;
                            28569 ; 131  |};
                            28570 ; 132  |
                            28571 ; 133  |#define MAX_MSG_LENGTH 10
                            28572 ; 134  |struct CMessage
                            28573 ; 135  |{
                            28574 ; 136  |        unsigned int m_uLength;
                            28575 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            28576 ; 138  |};
                            28577 ; 139  |
                            28578 ; 140  |typedef struct {
                            28579 ; 141  |    WORD m_wLength;
                            28580 ; 142  |    WORD m_wMessage;
                            28581 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            28582 ; 144  |} Message;
                            28583 ; 145  |
                            28584 ; 146  |struct MessageQueueDescriptor
                            28585 ; 147  |{
                            28586 ; 148  |        int *m_pBase;
                            28587 ; 149  |        int m_iModulo;
                            28588 ; 150  |        int m_iSize;
                            28589 ; 151  |        int *m_pHead;
                            28590 ; 152  |        int *m_pTail;
                            28591 ; 153  |};
                            28592 ; 154  |
                            28593 ; 155  |struct ModuleEntry
                            28594 ; 156  |{
                            28595 ; 157  |    int m_iSignaledEventMask;
                            28596 ; 158  |    int m_iWaitEventMask;
                            28597 ; 159  |    int m_iResourceOfCode;
                            28598 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            28599 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            28600 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            28601 ; 163  |    int m_uTimeOutHigh;
                            28602 ; 164  |    int m_uTimeOutLow;
                            28603 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            28604 ; 166  |};
                            28605 ; 167  |
                            28606 ; 168  |union WaitMask{
                            28607 ; 169  |    struct B{
                            28608 ; 170  |        unsigned int m_bNone     :1;
                            28609 ; 171  |        unsigned int m_bMessage  :1;
                            28610 ; 172  |        unsigned int m_bTimer    :1;
                            28611 ; 173  |        unsigned int m_bButton   :1;
                            28612 ; 174  |    } B;
                            28613 ; 175  |    int I;
                            28614 ; 176  |} ;
                            28615 ; 177  |
                            28616 ; 178  |
                            28617 ; 179  |struct Button {
                            28618 ; 180  |        WORD wButtonEvent;
                            28619 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            28620 ; 182  |};
                            28621 ; 183  |
                            28622 ; 184  |struct Message {
                            28623 ; 185  |        WORD wMsgLength;
                            28624 ; 186  |        WORD wMsgCommand;
                            28625 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            28626 ; 188  |};
                            28627 ; 189  |
                            28628 ; 190  |union EventTypes {
                            28629 ; 191  |        struct CMessage msg;
                            28630 ; 192  |        struct Button Button ;
                            28631 ; 193  |        struct Message Message;
                            28632 ; 194  |};
                            28633 ; 195  |
                            28634 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            28635 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            28636 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            28637 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            28638 ; 200  |
                            28639 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            28640 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            28641 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            28642 ; 204  |
                            28643 ; 205  |#if DEBUG
                            28644 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            28645 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            28646 ; 208  |#else 
                            28647 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            28648 ; 210  |#define DebugBuildAssert(x)    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 113

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28649 ; 211  |#endif
                            28650 ; 212  |
                            28651 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            28652 ; 214  |//  #pragma asm
                            28653 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            28654 ; 216  |//  #pragma endasm
                            28655 ; 217  |
                            28656 ; 218  |
                            28657 ; 219  |#ifdef COLOR_262K
                            28658 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            28659 ; 221  |#elif defined(COLOR_65K)
                            28660 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            28661 ; 223  |#else
                            28662 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            28663 ; 225  |#endif
                            28664 ; 226  |    
                            28665 ; 227  |#endif // #ifndef _TYPES_H
                            28666 
                            28668 
                            28669 ; 5    |
                            28670 ; 6    |// move FSMEDIA_TABLE from devicetable.h  15Apr2005   First moved in SDK2.6.
                            28671 ; 7    |typedef struct
                            28672 ; 8    |{
                            28673 ; 9    |
                            28674 ; 10   |INT     _Y BytesPerSector;
                            28675 ; 11   |INT     _Y SectorsPerCluster;
                            28676 ; 12   |INT     _Y RsvdSectors;
                            28677 ; 13   |INT     _Y NoOfFATs;
                            28678 ; 14   |INT     _Y MaxRootDirEntries;
                            28679 ; 15   |LONG    _Y TotalSectors;
                            28680 ; 16   |LONG    _Y FATSize;
                            28681 ; 17   |LONG    _Y RootdirCluster;
                            28682 ; 18   |//INT   _Y FSInfoSector;
                            28683 ; 19   |//INT   _Y BkBootSector;
                            28684 ; 20   |LONG    _Y NextFreeCluster;
                            28685 ; 21   |LONG    _Y TotalFreeClusters;
                            28686 ; 22   |INT     _Y RootDirSectors;
                            28687 ; 23   |INT     _Y FIRSTDataSector;
                            28688 ; 24   |INT    _Y FATType;
                            28689 ; 25   |LONG   _Y TotalNoofclusters;
                            28690 ; 26   |INT    _Y ClusterMask;
                            28691 ; 27   |INT    _Y ClusterShift;
                            28692 ; 28   |INT    _Y SectorShift;
                            28693 ; 29   |INT    _Y SectorMask;
                            28694 ; 30   |INT    _Y DevicePresent;
                            28695 ; 31   |LONG   _Y FirRootdirsec;
                            28696 ; 32   |INT             _Y FSInfoSector;
                            28697 ; 33   |}FSMEDIA_TABLE;
                            28698 ; 34   |
                            28699 ; 35   |
                            28700 ; 36   |#define         MAXDEVICES              2
                            28701 ; 37   |//#define       NUMCACHES               8  // this is already in fsproj.h (2 for player 2 for mtp as of 28jun2005) TOVERIFY 2 ok for player and mtp. 
                            28702 ; 38   |
                            28703 ; 39   |// NOTE:  This offset is the same no matter what the sector actual size!  
                            28704 ; 40   |//        TOVERIFY 3.0 doesn't have this defined but uses it in filesystempresent.c. lbmlc def'd it here so I insert it here.
                            28705 ; 41   |#define         FATFS_SIGNATURE_OFFSET  510
                            28706 ; 42   |#define         BOOTSECTOR              0
                            28707 ; 43   |#define     FSINFOSECTOR        1
                            28708 ; 44   |
                            28709 ; 45   |#define     READ_MODE           1
                            28710 ; 46   |#define     WRITE_MODE          2
                            28711 ; 47   |#define     APPEND_MODE         4
                            28712 ; 48   |#define     SEQ_WRITE_MODE      8
                            28713 ; 49   |#define     DIRECTORY_MODE         16
                            28714 ; 50   |#define     CREATE_MODE        32
                            28715 ; 51   |
                            28716 ; 52   |#define     RPLUS               5
                            28717 ; 53   |#define     WPLUS                   6
                            28718 ; 54   |#define     APLUS               7
                            28719 ; 55   |
                            28720 ; 56   |
                            28721 ; 57   |
                            28722 ; 58   |#define     X_MEMORY            0
                            28723 ; 59   |#define     Y_MEMORY            2
                            28724 ; 60   |#define     P_MEMORY            4
                            28725 ; 61   |
                            28726 ; 62   |#define     FAT12               0 
                            28727 ; 63   |#define     FAT16               1   
                            28728 ; 64   |#define     FAT32               2 
                            28729 ; 65   |
                            28730 ; 66   |
                            28731 ; 67   |#define FAT12EOF            0x0FFF
                            28732 ; 68   |#define FAT16EOF            0xFFFF
                            28733 ; 69   |#define FAT32EOF            0x0FFFFFFF
                            28734 ; 70   |
                            28735 ; 71   |
                            28736 ; 72   |
                            28737 ; 73   |#define FAT12FREECX         0x000
                            28738 ; 74   |#define FAT16FREECX         0x0000
                            28739 ; 75   |#define FAT32FREECX         0x00000000
                            28740 ; 76   |
                            28741 ; 77   |
                            28742 ; 78   |#define  DBCS               1
                            28743 ; 79   |#define  UNICODE            2
                            28744 ; 80   |
                            28745 ; 81   |
                            28746 ; 82   |#define     CREATION_DATE       1
                            28747 ; 83   |#define     CREATION_TIME       2
                            28748 ; 84   |#define     MODIFICATION_DATE   3
                            28749 ; 85   |#define     MODIFICATION_TIME   4
                            28750 ; 86   |
                            28751 ; 87   |
                            28752 ; 88   |#define     READ_ONLY      0X01
                            28753 ; 89   |#define     HIDDEN         0X02
                            28754 ; 90   |#define     SYSTEM         0X04
                            28755 ; 91   |#define     VOLUME_ID      0X08
                            28756 ; 92   |#define     DIRECTORY      0X10
                            28757 ; 93   |#define     ARCHIVE        0X20
                            28758 ; 94   |
                            28759 ; 95   |#define READCOUNTER         105
                            28760 ; 96   |#define WRITECOUNTER        100
                            28761 ; 97   |#define FLUSHCOUNTER        200
                            28762 ; 98   |
                            28763 ; 99   |
                            28764 ; 100  |#define DEFAULT_MEMORY      Y_MEMORY
                            28765 ; 101  |
                            28766 ; 102  |#define  CWD_HANDLE           0
                            28767 ; 103  |#define  DIRECTORY_HANDLE     1
                            28768 ; 104  |#define  FIRST_VALID_HANDLE   2
                            28769 ; 105  |#define  END_OF_DIR_PATH      3
                            28770 ; 106  |
                            28771 ; 107  |//Constants for Sector read and write (Normal and FAT 
                            28772 ; 108  |#define         NORMALTYPE              0
                            28773 ; 109  |#define         FATTYPE                 1
                            28774 ; 110  |#define     RAWTYPE         2
                            28775 ; 111  |
                            28776 ; 112  |#define  SHORTNAMERES_CH      6
                            28777 ; 113  |#define  LONGNAMERES_CH       9
                            28778 ; 114  |#define  MAXFILENAME_CH       260
                            28779 ; 115  |
                            28780 ; 116  |#define VOLUME_TYPE          0
                            28781 ; 117  |#define DIR_TYPE             1
                            28782 ; 118  |#define FILE_TYPE            2
                            28783 ; 119  |                                           
                            28784 ; 120  |#define WRITE_TYPE_RANDOM               0
                            28785 ; 121  |#define WRITE_TYPE_SEQ_FIRST    1
                            28786 ; 122  |#define WRITE_TYPE_SEQ_NEXT             2
                            28787 ; 123  |#define WRITE_TYPE_NOREADBACK   3
                            28788 ; 124  |                  
                            28789 ; 125  |
                            28790 ; 126  |#define     HANDLEENTRYSIZE         19
                            28791 ; 127  |
                            28792 ; 128  |// DEVICERECORDSIZE is now only defined in cachedef.h so deleted from here in first 3.1 prelim 
                            28793 ; 129  |
                            28794 ; 130  |#define     CACHEDESCRSIZE          8
                            28795 ; 131  |#define     CACHEBUFSIZE            705
                            28796 ; 132  |
                            28797 ; 133  |#define     UCS2s                     0
                            28798 ; 134  |#define     UCS3s                     1
                            28799 ; 135  |
                            28800 ; 136  |#define     FAT32FSIFREECOUNTSIZE       4
                            28801 ; 137  |
                            28802 ; 138  |#endif // _FS_TYPE_H_
                            28803 ; 139  |
                            28804 
                            28806 
                            28807 ; 4    |#define MAX_FILESNAME   13
                            28808 ; 5    |
                            28809 ; 6    |typedef struct {
                            28810 ; 7    |    INT     gCurrentRecord;
                            28811 ; 8    |    INT     DirAttribute;
                            28812 ; 9    |    _packed char    FileName[9];
                            28813 ; 10   |    _packed char    FileExtension[4];
                            28814 ; 11   |}FILESPEC;
                            28815 ; 12   |
                            28816 ; 13   |typedef struct {
                            28817 ; 14   |    INT attrib;
                            28818 ; 15   |        LONG FileSize;
                            28819 ; 16   |    int  device;
                            28820 ; 17   |    INT startrecord;
                            28821 ; 18   |    _packed char name[MAX_FILESNAME];
                            28822 ; 19   |        LONG Key;
                            28823 ; 20   |}Finddata;
                            28824 ; 21   |#endif
                            28825 ; 22   |
                            28826 
                            28828 
                            28829 ; 4    |extern _reentrant LONG Ftell(INT HandleNumber);
                            28830 ; 5    |extern _reentrant LONG Feof(INT HandleNumber);
                            28831 ; 6    |extern _reentrant INT *Fputs(INT HandleNumber,INT *Buffer);
                            28832 ; 7    |extern _reentrant LONG Fread(INT HandleNumber,INT *Buffer,LONG NumBytesToRead,INT Source_Memory,INT MOdulo);
                            28833 ; 8    |extern _reentrant INT Fgetc(INT HandleNumber);
                            28834 ; 9    |extern _reentrant INT Fputc(INT HandleNumber,INT ByteToWrite);
                            28835 ; 10   |extern _reentrant LONG ReadDirectoryRecord(INT HandleNumber,INT RecordNumber,INT *Buffer);
                            28836 ; 11   |extern _reentrant INT Fseek(INT HandleNumber,LONG NumBytesToSeek,INT SeekPosition);
                            28837 ; 12   |extern _reentrant INT Fopen(_packed char *filepath,_packed char *mode);
                            28838 ; 13   |extern _reentrant LONG Fwrite(INT HandleNumber,INT  *Buffer,LONG NumBytesToWrite,INT Source_Memory,INT MOdulo);
                            28839 ; 14   |extern _reentrant LONG Totalfreecluster(INT DeviceNum);
                            28840 ; 15   |extern _reentrant INT Rmdir(_packed char *filepath);
                            28841 ; 16   |extern _reentrant INT Rmdirw(_packed char *filepath);
                            28842 ; 17   |extern _reentrant INT Mkdir(_packed char *filepath);
                            28843 ; 18   |
                            28844 ; 19   |        //      SGTL-HK 27-05-2005
                            28845 ; 20   |extern _reentrant INT Mkdirw(UCS3 *filepath);
                            28846 ; 21   |
                            28847 ; 22   |extern _reentrant INT Chdir(_packed char *filepath);
                            28848 ; 23   |extern _reentrant INT FastOpen(LONG Key,_packed char *mode);
                            28849 ; 24   |
                            28850 ; 25   |extern _reentrant INT Setcwd(_packed char *filepath, _packed char *gCworkingDir,INT index,INT length);
                            28851 ; 26   |extern _reentrant _packed char *Getcwd(void);
                            28852 ; 27   |extern  _reentrant _packed char *Fgets(INT HandleNumber,INT NumBytesToRead, _packed char *Buffer);
                            28853 ; 28   |extern INT  FSInit(INT _X *bufx, INT _Y *bufy, INT maxdevices, INT maxhandles, INT maxcaches);
                            28854 ; 29   |extern INT  FlushCache(void);
                            28855 ; 30   |extern _reentrant INT FsShutDown(void);
                            28856 ; 31   |extern _reentrant LONG GetFileSize(INT HandleNumber);
                            28857 ; 32   |
                            28858 ; 33   |extern _reentrant INT filegetattrib(_packed char *FilePath);
                            28859 ; 34   |extern _reentrant INT Fopenw(INT *filepath,_packed char *mode);
                            28860 ; 35   |extern _reentrant INT Fremove(_packed char *filepath);
                            28861 ; 36   |extern _reentrant INT Fremovew(_packed char *filepath);
                            28862 ; 37   |extern _reentrant void DBCSToUnicode(_packed unsigned char *pDBCS, WORD *pUnicode,INT iLength);
                            28863 ; 38   |extern INT FlushCache(void);
                            28864 ; 39   |extern _reentrant INT DeleteTree(_packed char *Path);
                            28865 ; 40   |extern _reentrant INT Fclose(INT HandleNumber);
                            28866 ; 41   |extern INT FSMediaPresent(INT DeviceNum);
                            28867 ; 42   |extern INT FSFATType (INT DeviceNum);
                            28868 ; 43   |extern  INT _reentrant  GetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            28869 ; 44   |extern _reentrant INT SetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            28870 ; 45   |extern _reentrant LONG FgetFastHandle(INT HandleNumber);
                            28871 ; 46   |
                            28872 ; 47   |extern _reentrant INT ConstructLongFileName(INT HandleNumber, INT RecordNumber, INT *LFNBuffer);
                            28873 ; 48   |extern _reentrant void Uppercase(_packed char *file); 
                            28874 ; 49   |extern _reentrant INT FindNext(INT HandleNumber,Finddata *_finddata);
                            28875 
                            28885 
                            28886 ; 50   |extern _reentrant INT FindFirst(Finddata *_finddata,_packed char *FileName);
                            28887 ; 51   |extern _reentrant void ClearData(Finddata *_finddata);
                            28888 ; 52   |extern _reentrant INT GetShortfilename(LONG Key,INT *Buffer);
                            28889 ; 53   |
                            28890 ; 54   |
                            28891 ; 55   |
                            28892 ; 56   |
                            28893 ; 57   |typedef struct
                            28894 ; 58   |{
                            28895 ; 59   |
                            28896 ; 60   |INT             Day;
                            28897 ; 61   |INT             Month;
                            28898 ; 62   |INT             Year;
                            28899 ; 63   |}DIR_DATE;
                            28900 ; 64   |
                            28901 ; 65   |
                            28902 ; 66   |typedef struct
                            28903 ; 67   |{
                            28904 ; 68   |
                            28905 ; 69   |INT             Second;
                            28906 ; 70   |INT             Minute;
                            28907 ; 71   |INT             Hour;
                            28908 ; 72   |}DIR_TIME;
                            28909 ; 73   |
                            28910 ; 74   |
                            28911 ; 75   |typedef struct
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 114

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28912 ; 76   |{
                            28913 ; 77   |LONG CurrentOffset;     
                            28914 ; 78   |LONG CurrentCluster;
                            28915 ; 79   |}HANDLECONTEXT;
                            28916 ; 80   |
                            28917 ; 81   |extern _reentrant INT filesetattrib(INT HandleNumber,INT dirattribute);
                            28918 ; 82   |extern _reentrant INT filesetdate(_packed char *FilePath,INT crt_mod_date_time_para,DIR_DATE *dirdate,DIR_TIME *dirtime);
                            28919 
                            28930 
                            28931 ; 83   |extern _reentrant INT filegetdate(INT HandleNumber,INT crt_mod_date_time_para,DIR_DATE *dirdate,DIR_TIME *dirtime);
                            28932 ; 84   |#endif
                            28933 
                            28935 
                            28936 ; 7    |////////////////////////////////////////////////////////////////////////////////
                            28937 ; 8    |//  Equates
                            28938 ; 9    |////////////////////////////////////////////////////////////////////////////////
                            28939 ; 10   |//Traversal return types
                            28940 ; 11   |#define PLAYLIST_END_TRAVERSAL_SUCCESS  (PLAYLIST_LAST_RETCODE + 1)
                            28941 ; 12   |#define PLAYLIST_END_TRAVERSAL_FAILURE  (PLAYLIST_LAST_RETCODE + 2)
                            28942 ; 13   |#define PLAYLIST_FILE_LOCATE_SUCCESS    (PLAYLIST_LAST_RETCODE + 3)
                            28943 ; 14   |
                            28944 ; 15   |#define PLAYSET_MUSIC 0
                            28945 ; 16   |#define PLAYSET_VOICE 1
                            28946 ; 17   |#define PLAYSET_FOLDER_PLAY 2
                            28947 ; 18   |#define PLAYSET_FAVORITES 3
                            28948 ; 19   |
                            28949 ; 20   |#define PLAYLIST_REPEAT_OFF     0
                            28950 ; 21   |#define PLAYLIST_REPEAT_ALL     1
                            28951 ; 22   |#define PLAYLIST_REPEAT_ONE     2
                            28952 ; 23   |
                            28953 ; 24   |#define SELECT_TRACKS   0
                            28954 ; 25   |#define ORDER_TRACKS    1
                            28955 ; 26   |#define BUILD_FILE_LINKS        2
                            28956 ; 27   |#define RESTORE_BOOKMARK 3
                            28957 ; 28   |        //      SGTL-HK 28-10-2004
                            28958 ; 29   |#define BUILD_DIR_LINKS         4
                            28959 ; 30   |
                            28960 ; 31   |
                            28961 ; 32   |#define ATTR_UNACCEPTABLE  (ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID)
                            28962 ; 33   |
                            28963 ; 34   |#define DIR_SEPARATOR   0x00002f        // "\"
                            28964 ; 35   |#define ROOT_SEPARATOR  0x002f3A        // ":\" swizzled
                            28965 ; 36   |
                            28966 ; 37   |#define DEPTH_VOICE_DIR 1       //depth of voice directory
                            28967 ; 38   |
                            28968 ; 39   |#define TYPE_DIR 0
                            28969 ; 40   |#define TYPE_FILE 1
                            28970 ; 41   |
                            28971 ; 42   |#define IS_TRASH        0
                            28972 ; 43   |#define IS_VOICE_DIR 1
                            28973 ; 44   |#define IS_VALID_AUDIO 2
                            28974 ; 45   |#define IS_VOICE_FILE  3
                            28975 ; 46   |
                            28976 ; 47   |//List containing audio file extensions
                            28977 ; 48   |#define WMA_FILE_EXT     0x414D57
                            28978 ; 49   |#define MP3_FILE_EXT     0x33504d
                            28979 ; 50   |#define WAV_FILE_EXT     0x564157
                            28980 ; 51   |#define MP4_FILE_EXT     0x34504d
                            28981 ; 52   |#define M4A_FILE_EXT     0x41344d
                            28982 ; 53   |#define ASF_FILE_EXT     0x465341
                            28983 ; 54   |#define AUDIBLE_FILE_EXT         0x004141
                            28984 ; 55   |#define JPG_FILE_EXT     0x47504a
                            28985 ; 56   |#define BMP_FILE_EXT     0x504d42
                            28986 ; 57   |#define SMV_FILE_EXT     0x564d53
                            28987 ; 58   |
                            28988 ; 59   |#define VOICE_PATH_0    0x2f3a61        // a:/ in dyslexical order
                            28989 ; 60   |#define VOICE_PATH_1    0x494f56        // VOI in dyslexical order
                            28990 ; 61   |#define VOICE_PATH_2    0x2f4543        // CE/ in dyslexical order
                            28991 ; 62   |#define VOICE_PATH_3    0x000000        // terminating 0
                            28992 ; 63   |
                            28993 ; 64   |#define FM_PATH_0               0x2f3a61        // a:/ in dyslexical order
                            28994 ; 65   |#define FM_PATH_1               0x2f4d46        // FM/ in dyslexical order
                            28995 ; 66   |#define FM_PATH_2               0x000000        // terminating 0
                            28996 ; 67   |
                            28997 ; 68   |#define LINEIN_PATH_0   0x2f3a61        // a:/ in dyslexical order
                            28998 ; 69   |#define LINEIN_PATH_1   0x4e494c        // LIN in dyslexical order
                            28999 ; 70   |#define LINEIN_PATH_2   0x492d45        // E-I in dyslexical order
                            29000 ; 71   |#define LINEIN_PATH_3   0x002f4e        // N/  in dyslexical order
                            29001 ; 72   |
                            29002 ; 73   |#define NAME_SFN        0
                            29003 ; 74   |#define NAME_LFN        1
                            29004 ; 75   |//Error code for unsupported file Names or Extensions
                            29005 ; 76   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            29006 ; 77   |
                            29007 ; 78   |#define FINDDATA_CACHE_SIZE   20
                            29008 ; 79   |
                            29009 ; 80   |// this number is used to skip mac resource fork files when loading the playlist
                            29010 ; 81   |// the resource SFN start with _ end with the same extension (i.e. mp3)
                            29011 ; 82   |// a SMALL sample of test files shows that the resource file is typically 82 bytes.
                            29012 ; 83   |#define MAC_RESOURCE_NUM_BYTES   512
                            29013 ; 84   |
                            29014 ; 85   |extern int g_iPlaylistRepeat;
                            29015 ; 86   |extern int g_bPlaylistShuffle;
                            29016 ; 87   |extern DWORD dStart, dEnd, dDiff;       //for timing measurements
                            29017 ; 88   |extern _packed BYTE DirPath[MAX_DIRNAME_LENGTH];
                            29018 ; 89   |extern BOOL g_Rebuild;
                            29019 ; 90   |extern RAM_SONG_INFO_T  song_info;
                            29020 ; 91   |extern INT  g_file_time;
                            29021 ; 92   |extern INT  g_unicode;
                            29022 ; 93   |extern DWORD    g_dwFastKey;
                            29023 ; 94   |extern INT  g_iRecordNum;
                            29024 ; 95   |extern DWORD    g_FileKey;
                            29025 ; 96   |extern DIR_DATE g_dirdate;
                            29026 ; 97   |extern DIR_TIME g_dirtime;
                            29027 ; 98   |extern INT  *pHighestNumber;
                            29028 ; 99   |extern INT  g_iHighestVoiceNumber;
                            29029 ; 100  |extern INT  g_iHighestFMNumber;
                            29030 ; 101  |extern INT  g_iHighestLineNumber;
                            29031 ; 102  |
                            29032 ; 103  |INT _reentrant Playlist_GetPlaySet(void);
                            29033 ; 104  |INT _reentrant Playlist_SetPlaySet(INT, INT, INT*);
                            29034 ; 105  |INT _reentrant Playlist_Initialize(INT, INT, INT*);
                            29035 ; 106  |INT _reentrant Playlist_BuildMusicLib(INT iIgnored1, INT iIgnored2, INT* pIgnored);
                            29036 ; 107  |_reentrant RETCODE Playlist_PopulateMusicLib(int iDevice, int iDepth, DWORD dwDirKey,INT RecordNumber);
                            29037 ; 108  |_reentrant INT Playlist_SetPlaySet(INT , INT, INT*);
                            29038 ; 109  |void _reentrant Playlist_ResetPlayset(void);
                            29039 ; 110  |BOOL _reentrant Playlist_ValidateEntry(INT iEntryType,INT iReason, INT* pPtr);
                            29040 ; 111  |
                            29041 ; 112  |///////////////////////////////////////////////////////////////////////////////////////////////////////////
                            29042 ; 113  |/////playlist3 helper functions
                            29043 ; 114  |//////////////////////////////////////////////////////////////////////////////////////////////////////////
                            29044 ; 115  |BOOL _reentrant Playlist_IsValidAudioFile(LONG lFileSize, _packed BYTE* pFileName);
                            29045 ; 116  |_reentrant INT Playlist_GetFileExtention(INT iIgnored1, INT iIgnored2, INT* pPtr);
                            29046 ; 117  |_reentrant BOOL IsTrashDir(_packed BYTE* pszName);
                            29047 ; 118  |_reentrant DWORD Playlist_GenerateFastKey(INT iDevice,LONG DirSector,INT iDirOffset);
                            29048 ; 119  |_reentrant INT ExtractDirSector1(DWORD Key);
                            29049 ; 120  |_reentrant INT ExtractDirSector2(DWORD Key);
                            29050 ; 121  |_reentrant INT ExtractDirOffset(DWORD Key);
                            29051 ; 122  |_reentrant RETCODE Playlist_GetRootString(_packed BYTE* pBuffer, INT iDevice);
                            29052 ; 123  |_reentrant RETCODE Playlist_LocateFileEntryFromName(INT iUnused1, INT iUnused2, INT* pPtr);
                            29053 ; 124  |_reentrant INT Playlist_LocateDirEntryFromName(INT iUnused1, INT iUnused2, INT* pPtr);
                            29054 ; 125  |_reentrant BOOL IsVoiceDir(DirEntry _X* pDirEntry);
                            29055 ; 126  |_reentrant RETCODE Playlist_GetSFN(INT iEntryType , INT pEntry, INT* pName);
                            29056 ; 127  |_reentrant RETCODE Playlist_GetLFN(INT iEntryType , INT pEntry, INT* pName);
                            29057 ; 128  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            29058 ; 129  |
                            29059 ; 130  |DWORD GetDclkCount(void);
                            29060 ; 131  |
                            29061 ; 132  |_reentrant INT CopyFindFirst(int mDirEntry, int mfinddata, int *mFileSpec);
                            29062 ; 133  |_reentrant INT CopyFindNext(INT HandleNumber,int mfinddata, int* ptr);
                            29063 ; 134  |
                            29064 ; 135  |_reentrant void BuildVoiceFilePath(void);
                            29065 ; 136  |_reentrant void BuildFMFilePath(void);
                            29066 ; 137  |_reentrant void BuildLINEINFilePath(void);
                            29067 ; 138  |_reentrant void GetVoiceFastKey(WORD wFastKeyBitField);
                            29068 ; 139  |_reentrant INT AddSongToLibrary(int a, int drive, void* b);
                            29069 ; 140  |#endif
                            29070 
                            29072 
                            29073 ; 39   |#include "sysspeed.h"
                            29074 
                            29076 
                            29077 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            29078 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            29079 ; 3    |// Speed defs
                            29080 ; 4    |// NOTE: sysspeed.H is generated from sysspeed.INC. Only modify inc version.
                            29081 ; 5    |// Speed clients: See SPEED_CLIENT_ defines and non 3400 Speed Indeces
                            29082 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                            29083 ; 7    |
                            29084 ; 8    |#if (!defined(SYSSPEED_INC))
                            29085 ; 9    |#define SYSSPEED_INC 1
                            29086 ; 10   |
                            29087 ; 11   |// PLL Frequency Divider (Assume DDIV=0)
                            29088 ; 12   |// PLL Output Frequency = (33+PDIV)*(XTAL/20)   XTAL=24 MHz
                            29089 ; 13   |// PDIV = (Speed * 20 / 24) - 33  (if DDIV=0)
                            29090 ; 14   |// Digital Clock Post Divider 
                            29091 ; 15   |// Digital Clock = PLL Output Fequency / 2^DDIV   (Speed is in MHz)
                            29092 ; 16   |// GP Flash Timing Registers
                            29093 ; 17   |// x:HW_GPFLASH_TIMING1R
                            29094 ; 18   |//      TSU = 0ns 
                            29095 ; 19   |//      TH = 10ns Min
                            29096 ; 20   |// Use Default Settings since max speed is 75.6 MHz or 13.2275 ns
                            29097 ; 21   |// Add Register if needed
                            29098 ; 22   |// x:HW_GPFLASH_TIMING2R 
                            29099 ; 23   |//      TDS = 25ns Min  data setup time
                            29100 ; 24   |//      TDH = 15ns Min  data hold  time
                            29101 ; 25   |//      TDS + TDH must be > 50 nS
                            29102 ; 26   |// Speed Indexes (into the speed table)
                            29103 ; 27   |//!!!!! ** MUST BE ORDERED FROM LOWEST TO HIGHEST FREQ ** !!!!!
                            29104 ; 28   |// NOTE: Executive speed client must only use speed index 1 or 0 (IDLE).
                            29105 ; 29   |#define SPEED_IDLE 0 
                            29106 ; 30   |#define SPEED_AUDIBLE_MP3 1
                            29107 ; 31   |#define SPEED_AUDIBLE_ACELP_SR8KHz 2
                            29108 ; 32   |#define SPEED_FM 3
                            29109 ; 33   |#define SPEED_FM_EQ 4
                            29110 ; 34   |#define SPEED_AUDIBLE_ACELP_SR16KHz 5
                            29111 ; 35   |#define SPEED_MP3 6
                            29112 ; 36   |#define SPEED_ADPCM 7
                            29113 ; 37   |#define SPEED_MIXER 8
                            29114 ; 38   |#define SPEED_ADCBASE 9
                            29115 ; 39   |#define SPEED_MAX 10
                            29116 ; 40   |#define SPEED_WMA 11
                            29117 ; 41   |#define SPEED_MP3ENCODE 12
                            29118 ; 42   |#define SPEED_PEAK 13
                            29119 ; 43   |#define SPEED_LAST SPEED_PEAK
                            29120 ; 44   |#define SPEED_UNINITIALIZED SPEED_LAST+1
                            29121 ; 45   |// SPEED_UNINITIALIZED must be the highest index value
                            29122 ; 46   |
                            29123 ; 47   |// Idle speed is 10 MHz  (98.04nS)
                            29124 ; 48   |#define IDLE_SPEED 10              
                            29125 ; 49   |// (1+33)*(24/20) = 40.8
                            29126 ; 50   |#define IDLE_PDIV 1               
                            29127 ; 51   |// 40.5504 / (2^2) = 10.2 MHz
                            29128 ; 52   |#define IDLE_DDIV 2               
                            29129 ; 53   |// 1.37v
                            29130 ; 54   |#define IDLE_VOLTAGE 0x00000B         
                            29131 ; 55   |// 1.28v 
                            29132 ; 56   |#define IDLE_BOVOLTAGE 0x000800         
                            29133 ; 57   |
                            29134 ; 58   |
                            29135 ; 59   |// tdh and tds: hold and setup times in n dclks are 6-bit fields that are right justified byte aligned
                            29136 ; 60   |// 60MHz MSC uses the following clock setup: 
                            29137 ; 61   |// NAND1     $000203 -> (2+3)/60MHz =  83.3ns   2 dclk hold and 3 dclk setup
                            29138 ; 62   |// NAND2     $000304 -> (3+4)/60MHz = 116.7ns
                            29139 ; 63   |// NAND3     $000305 -> (3+5)/60MHz = 133.3ns
                            29140 ; 64   |// NAND4     $000305 -> (3+5)/60MHz = 133.3ns
                            29141 ; 65   |// So, for 10MHz idle speed:
                            29142 ; 66   |// NAND1,2,4 may use $000101 
                            29143 ; 67   |#if (defined(DEBUG))
                            29144 ; 68   |#if (defined(NAND1))
                            29145 ; 69   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29146 ; 70   |#define IDLE_GPSPEED 0x000101         
                            29147 ; 71   |#else 
                            29148 ; 72   |#if (defined(NAND2))
                            29149 ; 73   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29150 ; 74   |#define IDLE_GPSPEED 0x000101         
                            29151 ; 75   |#else 
                            29152 ; 76   |#if (defined(NAND3))
                            29153 ; 77   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29154 ; 78   |#define IDLE_GPSPEED 0x000101         
                            29155 ; 79   |#else 
                            29156 ; 80   |#if (defined(NAND4))
                            29157 ; 81   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29158 ; 82   |#define IDLE_GPSPEED 0x000101         
                            29159 ; 83   |#else 
                            29160 ; 84   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29161 ; 85   |#define IDLE_GPSPEED 0x000101         
                            29162 ; 86   |#endif
                            29163 ; 87   |#endif
                            29164 ; 88   |#endif
                            29165 ; 89   |#endif
                            29166 ; 90   |#else 
                            29167 ; 91   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29168 ; 92   |#define IDLE_GPSPEED 0x000101         
                            29169 ; 93   |#endif
                            29170 ; 94   |//---------    
                            29171 ; 95   |
                            29172 ; 96   |// speed is 15 MHz(66.6nS)
                            29173 ; 97   |#define AUDIBLE_MP3_SPEED 15              
                            29174 ; 98   |// PLL O/P freq = (33 + PDIV)*(24/20) = (33 + 17)*(24/20) = 60MHz
                            29175 ; 99   |#define AUDIBLE_MP3_PDIV 17              
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 115

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29176 ; 100  |// DCLK = 40.8MHz/(2^DDIV) = 15MHz
                            29177 ; 101  |#define AUDIBLE_MP3_DDIV 2               
                            29178 ; 102  |// 1.37V
                            29179 ; 103  |#define AUDIBLE_MP3_VOLTAGE 0x00000B         
                            29180 ; 104  |// 1.28V 
                            29181 ; 105  |#define AUDIBLE_MP3_BOVOLTAGE 0x000800         
                            29182 ; 106  |
                            29183 ; 107  |// NAND1     15MHz *  83.3ns = 1.249 -> $000101
                            29184 ; 108  |// NAND2     15MHz * 116.7ns = 1.750 -> $000101
                            29185 ; 109  |// NAND3|4   15MHz * 133.3ns = 1.999 -> $000101
                            29186 ; 110  |
                            29187 ; 111  |#if (defined(DEBUG))
                            29188 ; 112  |#if (defined(NAND1))
                            29189 ; 113  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29190 ; 114  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            29191 ; 115  |#else 
                            29192 ; 116  |#if (defined(NAND2))
                            29193 ; 117  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29194 ; 118  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            29195 ; 119  |#else 
                            29196 ; 120  |#if (defined(NAND3))
                            29197 ; 121  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29198 ; 122  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            29199 ; 123  |#else 
                            29200 ; 124  |#if (defined(NAND4))
                            29201 ; 125  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29202 ; 126  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            29203 ; 127  |#else 
                            29204 ; 128  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29205 ; 129  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            29206 ; 130  |#endif
                            29207 ; 131  |#endif
                            29208 ; 132  |#endif
                            29209 ; 133  |#endif
                            29210 ; 134  |#else 
                            29211 ; 135  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29212 ; 136  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            29213 ; 137  |#endif
                            29214 ; 138  |//---------   
                            29215 ; 139  |
                            29216 ; 140  |// speed is 15 MHz(66.6nS)
                            29217 ; 141  |#define AUDIBLE_ACELP_SR8KHz_SPEED 15              
                            29218 ; 142  |// PLL O/P freq = (33 + PDIV)*(24/20) = (33 + 17)*(24/20) = 60MHz
                            29219 ; 143  |#define AUDIBLE_ACELP_SR8KHz_PDIV 17              
                            29220 ; 144  |// DCLK = 40.8MHz/(2^DDIV) = 15MHz
                            29221 ; 145  |#define AUDIBLE_ACELP_SR8KHz_DDIV 2               
                            29222 ; 146  |// 1.37V
                            29223 ; 147  |#define AUDIBLE_ACELP_SR8KHz_VOLTAGE 0x00000B         
                            29224 ; 148  |// 1.28V 
                            29225 ; 149  |#define AUDIBLE_ACELP_SR8KHz_BOVOLTAGE 0x000800         
                            29226 ; 150  |
                            29227 ; 151  |// NAND1     15MHz *  83.3ns = 1.249 -> $000101
                            29228 ; 152  |// NAND2     15MHz * 116.7ns = 1.750 -> $000101
                            29229 ; 153  |// NAND3|4   15MHz * 133.3ns = 1.999 -> $000101
                            29230 ; 154  |
                            29231 ; 155  |#if (defined(DEBUG))
                            29232 ; 156  |#if (defined(NAND1))
                            29233 ; 157  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29234 ; 158  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            29235 ; 159  |#else 
                            29236 ; 160  |#if (defined(NAND2))
                            29237 ; 161  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29238 ; 162  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            29239 ; 163  |#else 
                            29240 ; 164  |#if (defined(NAND3))
                            29241 ; 165  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29242 ; 166  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            29243 ; 167  |#else 
                            29244 ; 168  |#if (defined(NAND4))
                            29245 ; 169  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29246 ; 170  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            29247 ; 171  |#else 
                            29248 ; 172  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29249 ; 173  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            29250 ; 174  |#endif
                            29251 ; 175  |#endif
                            29252 ; 176  |#endif
                            29253 ; 177  |#endif
                            29254 ; 178  |#else 
                            29255 ; 179  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29256 ; 180  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            29257 ; 181  |#endif
                            29258 ; 182  |//--------- 
                            29259 ; 183  |// Changed speed from 18Mhz to 24Mhz stmp10415
                            29260 ; 184  |// stmp10415   was 18              ; FM speed is 18 MHz, which is as low as possible for Steely Dan Tuner in sdk 2.610. In 3.110 we need >22Mhz so we use 24Mhz. 
                            29261 ; 185  |#define FM_SPEED 24 
                            29262 ; 186  |// stmp10415   was 27              ; (27+33)*(24/20) = 72 in sdk2.610.  In sdk 3.110 we use (7+33)*(24/20) = 48.
                            29263 ; 187  |#define FM_PDIV 7  
                            29264 ; 188  |// stmp10415   was  2              ; 72 / (2^2) = 18 MHz in sdk 2.610.    In 3.110 we use 48/2^1 = 24Mhz. 
                            29265 ; 189  |#define FM_DDIV 1  
                            29266 ; 190  |
                            29267 ; 191  |// 1.44V        - Steely Dan spec at 1.35V
                            29268 ; 192  |#define FM_VOLTAGE 0x00000d         
                            29269 ; 193  |// 1.28v
                            29270 ; 194  |#define FM_BOVOLTAGE 0x000800         
                            29271 ; 195  |#if (defined(DEBUG))
                            29272 ; 196  |#if (defined(NAND1))
                            29273 ; 197  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            29274 ; 198  |#define FM_GPSPEED 0x000102         
                            29275 ; 199  |#else 
                            29276 ; 200  |#if (defined(NAND2))
                            29277 ; 201  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            29278 ; 202  |#define FM_GPSPEED 0x000203         
                            29279 ; 203  |#else 
                            29280 ; 204  |#if (defined(NAND3))
                            29281 ; 205  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            29282 ; 206  |#define FM_GPSPEED 0x000203         
                            29283 ; 207  |#else 
                            29284 ; 208  |#if (defined(NAND4))
                            29285 ; 209  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            29286 ; 210  |#define FM_GPSPEED 0x000203         
                            29287 ; 211  |#else 
                            29288 ; 212  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            29289 ; 213  |#define FM_GPSPEED 0x000102         
                            29290 ; 214  |#endif
                            29291 ; 215  |#endif
                            29292 ; 216  |#endif
                            29293 ; 217  |#endif
                            29294 ; 218  |#else 
                            29295 ; 219  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            29296 ; 220  |#define FM_GPSPEED 0x000203         
                            29297 ; 221  |#endif
                            29298 ; 222  |//---------
                            29299 ; 223  |// Increase to 30 MHz to support equalizer
                            29300 ; 224  |#define FM_EQ_SPEED 30  
                            29301 ; 225  |// (17+33)*(24/20) = 60
                            29302 ; 226  |#define FM_EQ_PDIV 17  
                            29303 ; 227  |//  60 / (2^1) = 30 MHz  
                            29304 ; 228  |#define FM_EQ_DDIV 1   
                            29305 ; 229  |
                            29306 ; 230  |// Higher voltages when using equalizer and TA2 STFM1000 to prevent lockup when changing EQ settings rapidly
                            29307 ; 231  |//1.44v  - Steely Dan spec at 1.35V
                            29308 ; 232  |#define FM_EQ_VOLTAGE 0x00000D   
                            29309 ; 233  |//1.31v     
                            29310 ; 234  |#define FM_EQ_BOVOLTAGE 0x000900   
                            29311 ; 235  |
                            29312 ; 236  |#if (defined(DEBUG))
                            29313 ; 237  |#if (defined(NAND1))
                            29314 ; 238  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            29315 ; 239  |#define FM_EQ_GPSPEED 0x000102         
                            29316 ; 240  |#else 
                            29317 ; 241  |#if (defined(NAND2))
                            29318 ; 242  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            29319 ; 243  |#define FM_EQ_GPSPEED 0x000203         
                            29320 ; 244  |#else 
                            29321 ; 245  |#if (defined(NAND3))
                            29322 ; 246  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            29323 ; 247  |#define FM_EQ_GPSPEED 0x000203         
                            29324 ; 248  |#else 
                            29325 ; 249  |#if (defined(NAND4))
                            29326 ; 250  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            29327 ; 251  |#define FM_EQ_GPSPEED 0x000203         
                            29328 ; 252  |#else 
                            29329 ; 253  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            29330 ; 254  |#define FM_EQ_GPSPEED 0x000102         
                            29331 ; 255  |#endif
                            29332 ; 256  |#endif
                            29333 ; 257  |#endif
                            29334 ; 258  |#endif
                            29335 ; 259  |#else 
                            29336 ; 260  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            29337 ; 261  |#define FM_EQ_GPSPEED 0x000203         
                            29338 ; 262  |#endif
                            29339 ; 263  |//---------
                            29340 ; 264  |
                            29341 ; 265  |
                            29342 ; 266  |// Audible Acelp speed is 36 MHz(27.78nS)
                            29343 ; 267  |#define AUDIBLE_ACELP_SR16KHz_SPEED 36            
                            29344 ; 268  |// PLL O/P freq = (33 + PDIV)*(24/20)   = (33+27)*(24/20) = 72MHz
                            29345 ; 269  |#define AUDIBLE_ACELP_SR16KHz_PDIV 27              
                            29346 ; 270  |// DCLK = 60MHz/(2^DDIV) = 36MHz
                            29347 ; 271  |#define AUDIBLE_ACELP_SR16KHz_DDIV 1             
                            29348 ; 272  |// 1.37V
                            29349 ; 273  |#define AUDIBLE_ACELP_SR16KHz_VOLTAGE 0x00000B       
                            29350 ; 274  |// 1.28V 
                            29351 ; 275  |#define AUDIBLE_ACELP_SR16KHz_BOVOLTAGE 0x000800       
                            29352 ; 276  |
                            29353 ; 277  |// NAND1     36MHz *  83.3ns = 2.999 -> $000102
                            29354 ; 278  |// NAND2     36MHz * 116.7ns = 4.201 -> $000203
                            29355 ; 279  |// NAND4     36MHz * 133.3ns = 4.788 -> $000203
                            29356 ; 280  |#if (defined(DEBUG))
                            29357 ; 281  |#if (defined(NAND1))
                            29358 ; 282  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29359 ; 283  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000102         
                            29360 ; 284  |#else 
                            29361 ; 285  |#if (defined(NAND2))
                            29362 ; 286  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29363 ; 287  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000203         
                            29364 ; 288  |#else 
                            29365 ; 289  |#if (defined(NAND3))
                            29366 ; 290  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29367 ; 291  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000203         
                            29368 ; 292  |#else 
                            29369 ; 293  |#if (defined(NAND4))
                            29370 ; 294  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29371 ; 295  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000203         
                            29372 ; 296  |#else 
                            29373 ; 297  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29374 ; 298  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000102         
                            29375 ; 299  |#endif
                            29376 ; 300  |#endif
                            29377 ; 301  |#endif
                            29378 ; 302  |#endif
                            29379 ; 303  |#else 
                            29380 ; 304  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29381 ; 305  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000102         
                            29382 ; 306  |#endif
                            29383 ; 307  |//---------   
                            29384 ; 308  |
                            29385 ; 309  |
                            29386 ; 310  |
                            29387 ; 311  |
                            29388 ; 312  |// MP3 speed is 36 MHz  (27.78nS)
                            29389 ; 313  |#define MP3_SPEED 36              
                            29390 ; 314  |// (27+33)*(24/20) = 72
                            29391 ; 315  |#define MP3_PDIV 27              
                            29392 ; 316  |// 72 / (2^1) = 36 MHz
                            29393 ; 317  |#define MP3_DDIV 1               
                            29394 ; 318  |// 1.37v
                            29395 ; 319  |#define MP3_VOLTAGE 0x00000B         
                            29396 ; 320  |// 1.28v
                            29397 ; 321  |#define MP3_BOVOLTAGE 0x000800         
                            29398 ; 322  |
                            29399 ; 323  |// NAND1     36MHz *  83.3ns = 2.999 -> $000102
                            29400 ; 324  |// NAND2     36MHz * 116.7ns = 4.201 -> $000203
                            29401 ; 325  |// NAND4     36MHz * 133.3ns = 4.788 -> $000203
                            29402 ; 326  |#if (defined(DEBUG))
                            29403 ; 327  |#if (defined(NAND1))
                            29404 ; 328  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29405 ; 329  |#define MP3_GPSPEED 0x000102         
                            29406 ; 330  |#else 
                            29407 ; 331  |#if (defined(NAND2))
                            29408 ; 332  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            29409 ; 333  |#define MP3_GPSPEED 0x000203         
                            29410 ; 334  |#else 
                            29411 ; 335  |#if (defined(NAND3))
                            29412 ; 336  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            29413 ; 337  |#define MP3_GPSPEED 0x000203         
                            29414 ; 338  |#else 
                            29415 ; 339  |#if (defined(NAND4))
                            29416 ; 340  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            29417 ; 341  |#define MP3_GPSPEED 0x000203         
                            29418 ; 342  |#else 
                            29419 ; 343  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29420 ; 344  |#define MP3_GPSPEED 0x000102         
                            29421 ; 345  |#endif
                            29422 ; 346  |#endif
                            29423 ; 347  |#endif
                            29424 ; 348  |#endif
                            29425 ; 349  |#else 
                            29426 ; 350  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 116

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29427 ; 351  |#define MP3_GPSPEED 0x000102         
                            29428 ; 352  |#endif
                            29429 ; 353  |//---------
                            29430 ; 354  |// ADPCM speed is 36 MHz  (27.78nS)
                            29431 ; 355  |#define ADPCM_SPEED 36              
                            29432 ; 356  |// (27+33)*(24/20) = 72
                            29433 ; 357  |#define ADPCM_PDIV 27              
                            29434 ; 358  |// 72 / (2^1) = 36 MHz
                            29435 ; 359  |#define ADPCM_DDIV 1               
                            29436 ; 360  |// 1.37v
                            29437 ; 361  |#define ADPCM_VOLTAGE 0x00000B         
                            29438 ; 362  |// 1.28v
                            29439 ; 363  |#define ADPCM_BOVOLTAGE 0x000800         
                            29440 ; 364  |
                            29441 ; 365  |// NAND1     36MHz *  83.3ns = 2.999 -> $000102
                            29442 ; 366  |// NAND2     36MHz * 116.7ns = 4.201 -> $000203
                            29443 ; 367  |// NAND3|4   36MHz * 133.3ns = 4.788 -> $000203
                            29444 ; 368  |#if (defined(DEBUG))
                            29445 ; 369  |#if (defined(NAND1))
                            29446 ; 370  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29447 ; 371  |#define ADPCM_GPSPEED 0x000102         
                            29448 ; 372  |#else 
                            29449 ; 373  |#if (defined(NAND2))
                            29450 ; 374  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            29451 ; 375  |#define ADPCM_GPSPEED 0x000203         
                            29452 ; 376  |#else 
                            29453 ; 377  |#if (defined(NAND3))
                            29454 ; 378  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            29455 ; 379  |#define ADPCM_GPSPEED 0x000203         
                            29456 ; 380  |#else 
                            29457 ; 381  |#if (defined(NAND4))
                            29458 ; 382  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            29459 ; 383  |#define ADPCM_GPSPEED 0x000203         
                            29460 ; 384  |#else 
                            29461 ; 385  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29462 ; 386  |#define ADPCM_GPSPEED 0x000102         
                            29463 ; 387  |#endif
                            29464 ; 388  |#endif
                            29465 ; 389  |#endif
                            29466 ; 390  |#endif
                            29467 ; 391  |#else 
                            29468 ; 392  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29469 ; 393  |#define ADPCM_GPSPEED 0x000102         
                            29470 ; 394  |#endif
                            29471 ; 395  |//---------
                            29472 ; 396  |// Mixer use requires a min vddd. Reason for this: 
                            29473 ; 397  |// ************
                            29474 ; 398  |// Stmp00004930: Field failure: Distortion from the mixer. Very worst case 
                            29475 ; 399  |//           conditions (at cold) will cause the ADC to not provide any samples.
                            29476 ; 400  |//           All mixer/adc functions must run VDDD>=1.43V. This includes encoding
                            29477 ; 401  |//           and Fmtuner  operation (uses line-in via mixer) in the SDK. 
                            29478 ; 402  |// ************
                            29479 ; 403  |// same as Idle speed defined above
                            29480 ; 404  |#define MIXER_SPEED IDLE_SPEED      
                            29481 ; 405  |// same as idle case defined above
                            29482 ; 406  |#define MIXER_PDIV IDLE_PDIV       
                            29483 ; 407  |// same as idle case defined above
                            29484 ; 408  |#define MIXER_DDIV IDLE_DDIV       
                            29485 ; 409  |// 1.44v
                            29486 ; 410  |#define MIXER_VOLTAGE 0x00000D         
                            29487 ; 411  |// 1.34v as in the MAX_BOVOLTAGE case below which has same Vddd.
                            29488 ; 412  |#define MIXER_BOVOLTAGE 0x000A00         
                            29489 ; 413  |
                            29490 ; 414  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            29491 ; 415  |#define MIXER_GPSPEED IDLE_GPSPEED    
                            29492 ; 416  |//---------
                            29493 ; 417  |// ADCBASE speed is 36 MHz  (27.78nS)
                            29494 ; 418  |#define ADCBASE_SPEED 36              
                            29495 ; 419  |// (27+33)*(24/20) = 72
                            29496 ; 420  |#define ADCBASE_PDIV 27              
                            29497 ; 421  |// 72 / (2^1) = 36 MHz
                            29498 ; 422  |#define ADCBASE_DDIV 1               
                            29499 ; 423  |// 1.44v Min vddd voltage to operate high res ADC @ low temp.
                            29500 ; 424  |#define ADCBASE_VOLTAGE 0x00000D         
                            29501 ; 425  |// 1.34v Voltages same as max case. Rest matches ADPCM case.
                            29502 ; 426  |#define ADCBASE_BOVOLTAGE 0x000A00         
                            29503 ; 427  |
                            29504 ; 428  |// NAND1     36MHz *  83.3ns = 2.999 -> $000102
                            29505 ; 429  |// NAND2     36MHz * 116.7ns = 4.201 -> $000203
                            29506 ; 430  |// NAND4     36MHz * 133.3ns = 4.788 -> $000203
                            29507 ; 431  |#if (defined(DEBUG))
                            29508 ; 432  |#if (defined(NAND1))
                            29509 ; 433  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29510 ; 434  |#define ADCBASE_GPSPEED 0x000102         
                            29511 ; 435  |#else 
                            29512 ; 436  |#if (defined(NAND2))
                            29513 ; 437  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            29514 ; 438  |#define ADCBASE_GPSPEED 0x000203         
                            29515 ; 439  |#else 
                            29516 ; 440  |#if (defined(NAND3))
                            29517 ; 441  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            29518 ; 442  |#define ADCBASE_GPSPEED 0x000203         
                            29519 ; 443  |#else 
                            29520 ; 444  |#if (defined(NAND4))
                            29521 ; 445  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            29522 ; 446  |#define ADCBASE_GPSPEED 0x000203         
                            29523 ; 447  |#else 
                            29524 ; 448  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29525 ; 449  |#define ADCBASE_GPSPEED 0x000102         
                            29526 ; 450  |#endif
                            29527 ; 451  |#endif
                            29528 ; 452  |#endif
                            29529 ; 453  |#endif
                            29530 ; 454  |#else 
                            29531 ; 455  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            29532 ; 456  |#define ADCBASE_GPSPEED 0x000102         
                            29533 ; 457  |#endif
                            29534 ; 458  |//---------
                            29535 ; 459  |// MAX speed is 48 MHz (20.83ns)
                            29536 ; 460  |#define MAX_SPEED 48              
                            29537 ; 461  |// (7+33)*(24/20) = 48
                            29538 ; 462  |#define MAX_PDIV 7               
                            29539 ; 463  |// 47.9232 / (2^0) = 48 MHz
                            29540 ; 464  |#define MAX_DDIV 0               
                            29541 ; 465  |// 1.44v
                            29542 ; 466  |#define MAX_VOLTAGE 0x00000D         
                            29543 ; 467  |// 1.34v
                            29544 ; 468  |#define MAX_BOVOLTAGE 0x000A00         
                            29545 ; 469  |
                            29546 ; 470  |// NAND1     48MHz *  83.3ns = 3.998 -> $000202 -> $000203 required (setup needs 3dclk)
                            29547 ; 471  |// NAND2     48MHz * 116.7ns = 5.602 -> $000303
                            29548 ; 472  |// NAND3|4   48MHz * 133.3ns = 6.398 -> $000304
                            29549 ; 473  |#if (defined(DEBUG))
                            29550 ; 474  |#if (defined(NAND1))
                            29551 ; 475  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            29552 ; 476  |#define MAX_GPSPEED 0x000203         
                            29553 ; 477  |#else 
                            29554 ; 478  |#if (defined(NAND2))
                            29555 ; 479  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 3 for TDS
                            29556 ; 480  |#define MAX_GPSPEED 0x000303         
                            29557 ; 481  |#else 
                            29558 ; 482  |#if (defined(NAND3))
                            29559 ; 483  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            29560 ; 484  |#define MAX_GPSPEED 0x000304         
                            29561 ; 485  |#else 
                            29562 ; 486  |#if (defined(NAND4))
                            29563 ; 487  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            29564 ; 488  |#define MAX_GPSPEED 0x000304         
                            29565 ; 489  |#else 
                            29566 ; 490  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            29567 ; 491  |#define MAX_GPSPEED 0x000203         
                            29568 ; 492  |#endif
                            29569 ; 493  |#endif
                            29570 ; 494  |#endif
                            29571 ; 495  |#endif
                            29572 ; 496  |#else 
                            29573 ; 497  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            29574 ; 498  |#define MAX_GPSPEED 0x000203         
                            29575 ; 499  |#endif
                            29576 ; 500  |//---------
                            29577 ; 501  |// WMA speed is 60MHz   (16.67nS)
                            29578 ; 502  |#define WMA_SPEED 60              
                            29579 ; 503  |// (17+33)*(24/20) = 60
                            29580 ; 504  |#define WMA_PDIV 17              
                            29581 ; 505  |// 60 / (2^0) = 60 MHz
                            29582 ; 506  |#define WMA_DDIV 0               
                            29583 ; 507  |// 1.63V
                            29584 ; 508  |#define WMA_VOLTAGE 0x000013         
                            29585 ; 509  |// 1.54V
                            29586 ; 510  |#define WMA_BOVOLTAGE 0x001000         
                            29587 ; 511  |
                            29588 ; 512  |// Matching values for MSC (see note above for IDLE_GPSPEED)
                            29589 ; 513  |#if (defined(DEBUG))
                            29590 ; 514  |#if (defined(NAND1))
                            29591 ; 515  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            29592 ; 516  |#define WMA_GPSPEED 0x000203         
                            29593 ; 517  |#else 
                            29594 ; 518  |#if (defined(NAND2))
                            29595 ; 519  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            29596 ; 520  |#define WMA_GPSPEED 0x000304         
                            29597 ; 521  |#else 
                            29598 ; 522  |#if (defined(NAND3))
                            29599 ; 523  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 5 for TDS
                            29600 ; 524  |#define WMA_GPSPEED 0x000305         
                            29601 ; 525  |#else 
                            29602 ; 526  |#if (defined(NAND4))
                            29603 ; 527  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 5 for TDS
                            29604 ; 528  |#define WMA_GPSPEED 0x000305         
                            29605 ; 529  |#else 
                            29606 ; 530  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            29607 ; 531  |#define WMA_GPSPEED 0x000203         
                            29608 ; 532  |#endif
                            29609 ; 533  |#endif
                            29610 ; 534  |#endif
                            29611 ; 535  |#endif
                            29612 ; 536  |#else 
                            29613 ; 537  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            29614 ; 538  |#define WMA_GPSPEED 0x000203         
                            29615 ; 539  |#endif
                            29616 ; 540  |//---------
                            29617 ; 541  |// MP3ENCODE speed is 65MHz   (15.35nS) but see next line
                            29618 ; 542  |#define MP3ENCODE_SPEED 65              
                            29619 ; 543  |// (22+33)*(24/20) = 65; but   (20+33)*(24/20)=63.6 (T=15.723 ns)
                            29620 ; 544  |#define MP3ENCODE_PDIV 20              
                            29621 ; 545  |// 65.1264 / (2^0) = 65 MHz;   63.6 / 2^0 = 63.6 MHz
                            29622 ; 546  |#define MP3ENCODE_DDIV 0               
                            29623 ; 547  |// 1.82V
                            29624 ; 548  |#define MP3ENCODE_VOLTAGE 0x000019         
                            29625 ; 549  |// 1.76 v 
                            29626 ; 550  |#define MP3ENCODE_BOVOLTAGE 0x001700         
                            29627 ; 551  |
                            29628 ; 552  |// NAND1     65MHz *  83.3ns = 5.415 -> $000303
                            29629 ; 553  |// NAND2     65MHz * 116.7ns = 7.586 -> $000404
                            29630 ; 554  |// NAND3|4   65MHz * 133.3ns = 8.665 -> $000405
                            29631 ; 555  |#if (defined(DEBUG))
                            29632 ; 556  |#if (defined(NAND1))
                            29633 ; 557  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 3 for TDS
                            29634 ; 558  |#define MP3ENCODE_GPSPEED 0x000303         
                            29635 ; 559  |#else 
                            29636 ; 560  |#if (defined(NAND2))
                            29637 ; 561  |// HW_GPFLASH_TIMING2R - 4dclk/access time for TDH and 4 for TDS
                            29638 ; 562  |#define MP3ENCODE_GPSPEED 0x000404         
                            29639 ; 563  |#else 
                            29640 ; 564  |#if (defined(NAND3))
                            29641 ; 565  |// HW_GPFLASH_TIMING2R - 4dclk/access time for TDH and 5 for TDS
                            29642 ; 566  |#define MP3ENCODE_GPSPEED 0x000405         
                            29643 ; 567  |#else 
                            29644 ; 568  |#if (defined(NAND4))
                            29645 ; 569  |// HW_GPFLASH_TIMING2R - 4dclk/access time for TDH and 5 for TDS
                            29646 ; 570  |#define MP3ENCODE_GPSPEED 0x000405         
                            29647 ; 571  |#else 
                            29648 ; 572  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 3 for TDS
                            29649 ; 573  |#define MP3ENCODE_GPSPEED 0x000303         
                            29650 ; 574  |#endif
                            29651 ; 575  |#endif
                            29652 ; 576  |#endif
                            29653 ; 577  |#endif
                            29654 ; 578  |#else 
                            29655 ; 579  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 3 for TDS
                            29656 ; 580  |#define MP3ENCODE_GPSPEED 0x000303         
                            29657 ; 581  |#endif
                            29658 ; 582  |//---------
                            29659 ; 583  |// x:HW_GPFLASH_TIMING2R 
                            29660 ; 584  |//      TDS = 25ns Min data setup time. Note usbmsc says 45 for min. 20ns is a typical nand flash.
                            29661 ; 585  |//      TDH = 15ns Min data hold  time. Note usbmsc says 30 for min. But has min (tds+tdh)>50ns.
                            29662 ; 586  |//      TDS + TDH must be > 50 nS
                            29663 ; 587  |// PEAK speed is 75.6MHz T=13.2275 ns  
                            29664 ; 588  |#define PEAK_SPEED 75              
                            29665 ; 589  |// (29+33)*(24/20) = 75.6          
                            29666 ; 590  |#define PEAK_PDIV 30              
                            29667 ; 591  |// 75.6 / (2^0) = 75.6 MHz     
                            29668 ; 592  |#define PEAK_DDIV 0               
                            29669 ; 593  |// 1.92V 
                            29670 ; 594  |#define PEAK_VOLTAGE 0x00001c         
                            29671 ; 595  |// 1.82V                        
                            29672 ; 596  |#define PEAK_BOVOLTAGE 0x001900         
                            29673 ; 597  |
                            29674 ; 598  |// DEBUG builds have different setup&hold due to engineering board's capacitance. RETAIL BUILDS USE ONE VALUE. 
                            29675 ; 599  |// ns times below are from usbmsc's total (tds + tdh) = setup+hold. USBMSC runs at 60 MHz.
                            29676 ; 600  |// NAND1     75.6 MHz *  83.3ns = 6.247 DCLKs so 7 -> $000304      
                            29677 ; 601  |// NAND2     75.6 MHz * 116.7ns = 8.823 DCLKs so 9 -> $000405      
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 117

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29678 ; 602  |// NAND3|4   75.6 MHz * 133.3ns = 10.078 DCLKs     -> $000505 If issues try 000506 here (TDS=6).     
                            29679 ; 603  |#if (defined(DEBUG))
                            29680 ; 604  |#if (defined(NAND1))
                            29681 ; 605  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            29682 ; 606  |#define PEAK_GPSPEED 0x000304         
                            29683 ; 607  |#else 
                            29684 ; 608  |#if (defined(NAND2))
                            29685 ; 609  |// HW_GPFLASH_TIMING2R - 4dclk/access time for TDH and 5 for TDS; nand1 settings work on multinand if good layout.
                            29686 ; 610  |#define PEAK_GPSPEED 0x000405         
                            29687 ; 611  |#else 
                            29688 ; 612  |#if (defined(NAND3))
                            29689 ; 613  |// HW_GPFLASH_TIMING2R - 5dclk/access time for TDH and 5 for TDS
                            29690 ; 614  |#define PEAK_GPSPEED 0x000505         
                            29691 ; 615  |#else 
                            29692 ; 616  |#if (defined(NAND4))
                            29693 ; 617  |// HW_GPFLASH_TIMING2R - 5dclk/access time for TDH and 5 for TDS
                            29694 ; 618  |#define PEAK_GPSPEED 0x000505         
                            29695 ; 619  |#else 
                            29696 ; 620  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            29697 ; 621  |#define PEAK_GPSPEED 0x000304         
                            29698 ; 622  |#endif
                            29699 ; 623  |#endif
                            29700 ; 624  |#endif
                            29701 ; 625  |#endif
                            29702 ; 626  |#else 
                            29703 ; 627  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            29704 ; 628  |#define PEAK_GPSPEED 0x000304         
                            29705 ; 629  |#endif
                            29706 ; 630  |
                            29707 ; 631  |//------------------------------------------
                            29708 ; 632  |//> 
                            29709 ; 633  |// Multi-Client Clock Speed Adjustment API:  
                            29710 ; 634  |// Prototypes here are exported from sysspeed.inc to sysspeed.h by incToC util
                            29711 ; 635  |_reentrant INT SysGetSpeed(void);
                            29712 ; 636  |//             or asm input params: none
                            29713 ; 637  |//             Returns the CurrentSpeedIndex
                            29714 ; 638  |_reentrant INT SysSpeedIncrease(int SpeedIndex, int clockUserId); 
                            29715 ; 639  |//             or asm input parms:            x1,              y0
                            29716 ; 640  |//       Returns resulting SpeedIndex from SysGetSpeed
                            29717 ; 641  |_reentrant INT SysSpeedClockFree(int clockUserId);  
                            29718 ; 642  |//                   or asm input:              y0
                            29719 ; 643  |//       Returns resulting SpeedIndex from SysGetSpeed
                            29720 ; 644  |// Generally, new clock adjusting modules must insert a bit equate below 
                            29721 ; 645  |// (speed ordered) and use the API calls:
                            29722 ; 646  |// SysSpeedIncrease(SpeedIndex, MY_BIT) and SysSpeedClockFree(MY_BIT) 
                            29723 ; 647  |// passing in the client's clockUserId below for these calls
                            29724 ; 648  |// which manipulate a corresponding speed client bit in clockUserFlag.
                            29725 ; 649  |// SysSpeedClockFree(MY_BIT) reduces clock speed to that of highest active client
                            29726 ; 650  |// or IDLE. Each bit here is a client active indicator managed via this speed API.
                            29727 ; 651  |// clockUserFlag  dc      0      ; Module private var defined in sysspeed.asm
                            29728 ; 652  |// ORDER MUST BE LOWEST TO HIGHEST FREQ so insert your new speed client ID and renumber.
                            29729 ; 653  |// Exec turns up the clock on button events. 
                            29730 ; 654  |#define SPEED_CLIENT_EXECUTIVE 0 
                            29731 ; 655  |#define SPEED_CLIENT_AUDIBLE_MP3 1
                            29732 ; 656  |#define SPEED_CLIENT_STFM_DEC 2
                            29733 ; 657  |#define SPEED_CLIENT_AUDIBLE_ACELP 3
                            29734 ; 658  |#define SPEED_CLIENT_STFM_EQ 4
                            29735 ; 659  |#define SPEED_CLIENT_MP3_DEC 5
                            29736 ; 660  |#define SPEED_CLIENT_ADPCM_DEC 6
                            29737 ; 661  |#define SPEED_CLIENT_ADPCM_ENC 7
                            29738 ; 662  |#define SPEED_CLIENT_MIXER 8
                            29739 ; 663  |#define SPEED_CLIENT_MP3_DEC_SYNC 9
                            29740 ; 664  |// Music and voice parser share this client
                            29741 ; 665  |#define SPEED_CLIENT_PARSER 10 
                            29742 ; 666  |// Same speed as parser.asm or higher. C client. Rename if using.
                            29743 ; 667  |#define SPEED_CLIENT_MENU_WOW 11 
                            29744 ; 668  |#define SPEED_CLIENT_MVIDEO 12
                            29745 ; 669  |#define SPEED_CLIENT_METADATA 13
                            29746 ; 670  |#define SPEED_CLIENT_PLAYERLIB 14
                            29747 ; 671  |#define SPEED_CLIENT_PLAYLIST1 15 
                            29748 ; 672  |#define SPEED_CLIENT_WMA_DEC 16
                            29749 ; 673  |// Move line when used to maintain speed order
                            29750 ; 674  |#define SPEED_CLIENT_MP3_ENC 17 
                            29751 ; 675  |#define SPEED_CLIENT_JPEG_DEC 18 
                            29752 ; 676  |// change value to match high bit pos above
                            29753 ; 677  |#define SPEED_CLIENT_HIGHEST_USER 18 
                            29754 ; 678  |
                            29755 ; 679  |// Above equates are exported to incToC utility generated sysspeed.h file.
                            29756 ; 680  |// <
                            29757 ; 681  |//-----------------------------------------
                            29758 ; 682  |
                            29759 ; 683  |
                            29760 ; 684  |#endif // IF (!@def(SYSSPEED_INC))
                            29761 ; 685  |
                            29762 ; 686  |
                            29763 ; 687  |
                            29764 
                            29766 
                            29767 ; 40   |#include "filesystem.h"
                            29768 
                            29770 
                            29771 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            29772 ; 2    |//  Copyright(C) SigmaTel, Inc. 2001
                            29773 ; 3    |//
                            29774 ; 4    |//  File        : FileSystem.h
                            29775 ; 5    |//  Description : Header File for File System
                            29776 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            29777 ; 7    |
                            29778 ; 8    |#ifndef _FILESYSTEM_H
                            29779 ; 9    |#define _FILESYSTEM_H
                            29780 ; 10   |
                            29781 ; 11   |#include "types.h"
                            29782 ; 12   |
                            29783 ; 13   |
                            29784 ; 14   |// File attributes
                            29785 ; 15   |#ifndef _FS_ATTRIBUTES
                            29786 ; 16   |#define _FS_ATTRIBUTES
                            29787 ; 17   |#define READ        1
                            29788 ; 18   |#define WRITE       2
                            29789 ; 19   |#define WRITE_PLUS  3
                            29790 ; 20   |#define APPEND      4
                            29791 ; 21   |#define TRUNCATE    8
                            29792 ; 22   |#define CREATE      16
                            29793 ; 23   |#endif
                            29794 ; 24   |
                            29795 ; 25   |//#ifndef FAT12
                            29796 ; 26   |//#define FAT12   1
                            29797 ; 27   |//#endif
                            29798 ; 28   |//
                            29799 ; 29   |#ifndef FAT16
                            29800 ; 30   |#define FAT16   2
                            29801 ; 31   |#endif
                            29802 ; 32   |
                            29803 ; 33   |#define MEM_SPACE_P 0x100000
                            29804 ; 34   |#define MEM_SPACE_Y 0x400000
                            29805 ; 35   |#define MEM_SPACE_X 0x800000
                            29806 ; 36   |
                            29807 ; 37   |#define FILE_SYS_MODE_READ  0
                            29808 ; 38   |#define FILE_SYS_MODE_WRITE 1
                            29809 ; 39   | 
                            29810 ; 40   |#define ATTR_READ_ONLY      0x01
                            29811 ; 41   |#define ATTR_HIDDEN         0x02
                            29812 ; 42   |#define ATTR_SYSTEM         0x04
                            29813 ; 43   |#define ATTR_VOLUME_ID      0x08
                            29814 ; 44   |#define ATTR_DIRECTORY      0x10
                            29815 ; 45   |#define ATTR_ARCHIVE        0x20
                            29816 ; 46   |#define ATTR_LONG_NAME      ATTR_READ_ONLY|ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID
                            29817 ; 47   |
                            29818 ; 48   |#define SEEK_SET           -1
                            29819 ; 49   |#define SEEK_CUR            0
                            29820 ; 50   |#define SEEK_END            1
                            29821 ; 51   |
                            29822 ; 52   |#define DEVICE_INSTALLED              (WORD)(0)
                            29823 ; 53   |#define DEVICE_NOT_FOUND              (WORD)(2)
                            29824 ; 54   |#define INVALID_FILESYSTEM                        (WORD)(3)
                            29825 ; 55   |#define DEVICE_INVALID                (WORD)(-1)
                            29826 ; 56   |#define DEVICE_ERROR_WRITE_PROTECTED  (WORD)(-2)
                            29827 ; 57   |
                            29828 ; 58   |#define MEDIA_SIZE_TOTAL_SECTORS    0
                            29829 ; 59   |#define MEDIA_SIZE_TOTAL_BYTES      1
                            29830 ; 60   |#define MEDIA_SIZE_BYTES_PER_SECTOR 2
                            29831 ; 61   |#define MEDIA_SIZE_IN_MEGABYTES     3     
                            29832 ; 62   |
                            29833 ; 63   |#define READ_TYPE_NORMAL            0
                            29834 ; 64   |#define READ_TYPE_FAT               1
                            29835 ; 65   |#define READ_TYPE_RAW               2
                            29836 ; 66   |
                            29837 ; 67   |
                            29838 ; 68   |#ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            29839 ; 69   |    #define WRITE_TYPE_RANDOM                   0
                            29840 ; 70   |    #define WRITE_TYPE_SEQ_FIRST                1
                            29841 ; 71   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            29842 ; 72   |    #define WRITE_TYPE_RESET_CLEAN_UP           3
                            29843 ; 73   |    #define WRITE_TYPE_PARTIAL_SEQ_FIRST        4
                            29844 ; 74   |    #define WRITE_TYPE_PARTIAL_SEQ_NEXT         5
                            29845 ; 75   |    #define WRITE_TYPE_PARTIAL_SEQ_LAST         6
                            29846 ; 76   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            29847 ; 77   |        #define WRITE_TYPE_RANDOM_RAW               7
                            29848 ; 78   |        #define WRITE_TYPE_SEQ_FIRST_RAW            8
                            29849 ; 79   |        #define WRITE_TYPE_SEQ_NEXT_RAW             9
                            29850 ; 80   |        #define WRITE_TYPE_PARTIAL_SEQ_FIRST_RAW    10
                            29851 ; 81   |        #define WRITE_TYPE_PARTIAL_SEQ_NEXT_RAW     11
                            29852 ; 82   |        #define WRITE_TYPE_PARTIAL_SEQ_LAST_RAW     12
                            29853 ; 83   |    #endif
                            29854 ; 84   |#else
                            29855 ; 85   |    #define WRITE_TYPE_RANDOM                   0
                            29856 ; 86   |    #define WRITE_TYPE_SEQ_FIRST                1
                            29857 ; 87   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            29858 ; 88   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            29859 ; 89   |        #define WRITE_TYPE_RANDOM_RAW               3
                            29860 ; 90   |        #define WRITE_TYPE_SEQ_FIRST_RAW            4
                            29861 ; 91   |        #define WRITE_TYPE_SEQ_NEXT_RAW             5
                            29862 ; 92   |    #endif
                            29863 ; 93   |#endif
                            29864 ; 94   |    #define WRITE_TYPE_UNDEFINED 0xFFFFFF
                            29865 ; 95   |
                            29866 ; 96   |
                            29867 ; 97   |#ifndef MAX_FILENAME_LENGTH
                            29868 ; 98   |#define MAX_FILENAME_LENGTH 256
                            29869 ; 99   |#endif
                            29870 ; 100  |
                            29871 ; 101  |typedef struct {
                            29872 ; 102  |    WORD wNumberOfZones;
                            29873 ; 103  |    WORD wSizeInMegaBytes;
                            29874 ; 104  |} SMARTMEDIA_CHIP_INFO;
                            29875 ; 105  |
                            29876 ; 106  |typedef struct {
                            29877 ; 107  |    WORD wBootIdentification;
                            29878 ; 108  |    WORD wStartHeadNumber;
                            29879 ; 109  |    WORD wStartSectorNumber;
                            29880 ; 110  |    WORD wStartCylinderNumber;
                            29881 ; 111  |    WORD wSystemIdentification;
                            29882 ; 112  |    WORD wEndHeadNumber;
                            29883 ; 113  |    WORD wEndSectorNumber;
                            29884 ; 114  |    WORD wEndCylinderNumber;
                            29885 ; 115  |    WORD wStartLogicalSectorNumberHigh;
                            29886 ; 116  |    WORD wStartLogicalSectorNumberLow;
                            29887 ; 117  |    WORD wPartitionSizeHigh;
                            29888 ; 118  |    WORD wPartitionSizeLow;
                            29889 ; 119  |} SMARTMEDIA_PARTITION_TABLE;
                            29890 ; 120  |
                            29891 ; 121  |typedef struct {
                            29892 ; 122  |    WORD wWord0;
                            29893 ; 123  |    WORD wWord1;
                            29894 ; 124  |    WORD wWord2;
                            29895 ; 125  |} SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME;
                            29896 ; 126  |
                            29897 ; 127  |typedef struct {
                            29898 ; 128  |    WORD wWord0;
                            29899 ; 129  |    WORD wWord1;
                            29900 ; 130  |} SMARTMEDIA_CIS_IDI_PRODUCT_NAME;
                            29901 ; 131  |
                            29902 ; 132  |typedef struct {
                            29903 ; 133  |    WORD wWord0;
                            29904 ; 134  |    WORD wWord1;
                            29905 ; 135  |} SMARTMEDIA_CIS_IDI_PRODUCT_VERSION;
                            29906 ; 136  |
                            29907 ; 137  |typedef struct {
                            29908 ; 138  |    WORD wWord0;
                            29909 ; 139  |    WORD wWord1;
                            29910 ; 140  |    WORD wWord2;
                            29911 ; 141  |    WORD wWord3;
                            29912 ; 142  |} SMARTMEDIA_CIS_IDI_SERIAL_NUMBER;
                            29913 ; 143  |
                            29914 ; 144  |typedef struct {
                            29915 ; 145  |    WORD wWord0;
                            29916 ; 146  |} SMARTMEDIA_CIS_IDI_MODEL_NUMBER;
                            29917 ; 147  |
                            29918 ; 148  |typedef struct {
                            29919 ; 149  |    SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME ManufacturerName;
                            29920 ; 150  |    SMARTMEDIA_CIS_IDI_PRODUCT_NAME ProductName;
                            29921 ; 151  |    SMARTMEDIA_CIS_IDI_PRODUCT_VERSION ProductVersion;
                            29922 ; 152  |    SMARTMEDIA_CIS_IDI_SERIAL_NUMBER SerialNumber;
                            29923 ; 153  |    SMARTMEDIA_CIS_IDI_MODEL_NUMBER ModelNumber;
                            29924 ; 154  |} SMARTMEDIA_CIS_IDI_TABLE;
                            29925 ; 155  |   
                            29926 ; 156  |typedef struct {
                            29927 ; 157  |    WORD wPageSizeInBytes;
                            29928 ; 158  |    WORD wRedundantAreaSizeInBytes;
                            29929 ; 159  |    WORD wNumberOfPagesPerBlock;
                            29930 ; 160  |    WORD wNumberOfBlocksPerZone;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 118

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29931 ; 161  |    WORD wNumberOfZonesInMedia;
                            29932 ; 162  |    WORD wMediaSizeInMBytes;
                            29933 ; 163  |    SMARTMEDIA_PARTITION_TABLE * pPartitionTable;
                            29934 ; 164  |    SMARTMEDIA_CIS_IDI_TABLE * pCisIdiTable;
                            29935 ; 165  |    WORD wMediaFlagStatus;
                            29936 ; 166  |    WORD wNumberOfBlocksToTheCisIdiBlock;
                            29937 ; 167  |    WORD wTotalNumberOfPhysicalBlocks;
                            29938 ; 168  |    WORD wNumberOfSystemBlocks;
                            29939 ; 169  |} SMARTMEDIA_ENTRY_TABLE;
                            29940 ; 170  |
                            29941 ; 171  |typedef struct {
                            29942 ; 172  |    WORD wDevice;        
                            29943 ; 173  |    WORD wDirtyBlockFlag;
                            29944 ; 174  |    WORD wCleanTailFlag; 
                            29945 ; 175  |    WORD wLogDOSPage;    
                            29946 ; 176  |    WORD wSrcLogBlock;   
                            29947 ; 177  |    WORD wSrcPhyBlock;   
                            29948 ; 178  |    WORD wDestPhyBlock;  
                            29949 ; 179  |    WORD wStartSrcPage;  
                            29950 ; 180  |    WORD wStartDestPage; 
                            29951 ; 181  |    WORD wPagesToCopy;   
                            29952 ; 182  |    WORD wReplaceBuff;   
                            29953 ; 183  |    WORD wReplaceRdnt;
                            29954 ; 184  |    #ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            29955 ; 185  |        WORD wFirstCount;
                            29956 ; 186  |        WORD wNextCount;
                            29957 ; 187  |        WORD wLastCount;
                            29958 ; 188  |    #endif
                            29959 ; 189  |} SMARTMEDIA_FWPPS_TABLE;
                            29960 ; 190  |
                            29961 ; 191  |typedef struct {
                            29962 ; 192  |    WORD wWord0;
                            29963 ; 193  |    WORD wWord1;
                            29964 ; 194  |    WORD wWord2;
                            29965 ; 195  |    WORD wWord3;
                            29966 ; 196  |} DIRECTORY_NAME;
                            29967 ; 197  |
                            29968 ; 198  |typedef struct {
                            29969 ; 199  |    WORD wWord0;
                            29970 ; 200  |    WORD wWord1;
                            29971 ; 201  |} DIRECTORY_EXTENSION;
                            29972 ; 202  |
                            29973 ; 203  |typedef struct {
                            29974 ; 204  |    WORD wWord0;
                            29975 ; 205  |    WORD wWord1;
                            29976 ; 206  |} DIRECTORY_SIZE;
                            29977 ; 207  |
                            29978 ; 208  |typedef struct {
                            29979 ; 209  |    DIRECTORY_NAME Name;
                            29980 ; 210  |    DIRECTORY_EXTENSION Extension;
                            29981 ; 211  |    WORD wAttribute;
                            29982 ; 212  |    WORD wReserved[4];
                            29983 ; 213  |    WORD wCreationTime;
                            29984 ; 214  |    WORD wCreationData;
                            29985 ; 215  |    WORD wFirstCluster;
                            29986 ; 216  |    DIRECTORY_SIZE Size;
                            29987 ; 217  |    WORD wCurrentCluster;
                            29988 ; 218  |    WORD wPointer;
                            29989 ; 219  |    WORD wRecord;
                            29990 ; 220  |    WORD wRd;
                            29991 ; 221  |} DIRECTORY_FILE_CONTROL_BLOCK;
                            29992 ; 222  |
                            29993 ; 223  |// TODO:  clean this up.  There are two versions.
                            29994 ; 224  |struct FCB
                            29995 ; 225  |{
                            29996 ; 226  |    _packed BYTE m_szFileName[9];       //0-2
                            29997 ; 227  |    int     m_wReserved;                //3
                            29998 ; 228  |    _packed BYTE m_szExt[4];            //4-5
                            29999 ; 229  |    int     m_wAttributes;              //6
                            30000 ; 230  |    int     m_wReserved2[4];            //7,8,9,a
                            30001 ; 231  |    int     m_wTimeofCreation;          //b
                            30002 ; 232  |    int     m_wDateofCreation;          //c
                            30003 ; 233  |    int     m_wFirstCluster;            //d
                            30004 ; 234  |    int     m_wFileSizeHigh;            //e
                            30005 ; 235  |    int     m_wFileSizeLow;             //f
                            30006 ; 236  |};
                            30007 ; 237  |
                            30008 ; 238  |
                            30009 ; 239  |typedef struct {
                            30010 ; 240  |    WORD wFirstClusterCurrentDirectory;
                            30011 ; 241  |    WORD wFirstClusterParentDirectory;
                            30012 ; 242  |    WORD wAbsSectorCurrentlyCached;
                            30013 ; 243  |    WORD wCurrentRelativeSector;
                            30014 ; 244  |    WORD wNumberOfSectors;
                            30015 ; 245  |    WORD wCurrentRecordLoadedInDcb;
                            30016 ; 246  |    WORD wBufferedRecord;
                            30017 ; 247  |    WORD wMaxNumberRecordsCurrentDirectory;
                            30018 ; 248  |    WORD * pwPointerToBuffer;
                            30019 ; 249  |    WORD * pwPointerToPath;
                            30020 ; 250  |    DIRECTORY_FILE_CONTROL_BLOCK * pDirFcb;
                            30021 ; 251  |} DIRECTORY_CONTROL_BLOCK;
                            30022 ; 252  |
                            30023 ; 253  |typedef struct {
                            30024 ; 254  |    WORD wWord0;
                            30025 ; 255  |    WORD wWord1;
                            30026 ; 256  |    WORD wWord2;
                            30027 ; 257  |    WORD wWord3;
                            30028 ; 258  |} FILE_NAME;
                            30029 ; 259  |
                            30030 ; 260  |typedef struct {
                            30031 ; 261  |    WORD wWord0;
                            30032 ; 262  |    WORD wWord1;
                            30033 ; 263  |} FILE_EXTENSION;
                            30034 ; 264  |
                            30035 ; 265  |typedef struct {
                            30036 ; 266  |    WORD wWord0;
                            30037 ; 267  |    WORD wWord1;
                            30038 ; 268  |} FILE_SIZE;
                            30039 ; 269  |
                            30040 ; 270  |typedef union {
                            30041 ; 271  |    struct {
                            30042 ; 272  |        int Read        :1;
                            30043 ; 273  |        int Write       :1;
                            30044 ; 274  |        int Append      :1;
                            30045 ; 275  |        int Truncate    :1;
                            30046 ; 276  |        int Create      :1;
                            30047 ; 277  |        int Rsrv        :3;
                            30048 ; 278  |        int Mode        :8;
                            30049 ; 279  |        int Device      :8;
                            30050 ; 280  |    } B;
                            30051 ; 281  |    int I;
                            30052 ; 282  |} FILE_FLAGS;
                            30053 ; 283  |
                            30054 ; 284  |typedef struct {
                            30055 ; 285  |    WORD wWord0;
                            30056 ; 286  |    WORD wWord1;
                            30057 ; 287  |} FILE_BYTE_CURRENT;
                            30058 ; 288  |
                            30059 ; 289  |typedef struct {
                            30060 ; 290  |    FILE_NAME Name;
                            30061 ; 291  |    FILE_EXTENSION Extension;
                            30062 ; 292  |    WORD wAttributes;
                            30063 ; 293  |    WORD wReserved[4];
                            30064 ; 294  |    WORD wCreationTime;
                            30065 ; 295  |    WORD wCreationData;
                            30066 ; 296  |    WORD wFirstCluster;
                            30067 ; 297  |    FILE_SIZE Size;
                            30068 ; 298  |    WORD wCurrentCluster;
                            30069 ; 299  |    WORD wPointer;
                            30070 ; 300  |    WORD wRecord;
                            30071 ; 301  |    WORD wRd;
                            30072 ; 302  |    FILE_FLAGS Flags;
                            30073 ; 303  |    FILE_BYTE_CURRENT FcbByteCurrent;
                            30074 ; 304  |    WORD wFcbFlagEndOfCx;
                            30075 ; 305  |} FILE_CONTROL_BLOCK;    
                            30076 ; 306  |
                            30077 ; 307  |typedef struct {
                            30078 ; 308  |    WORD wWord0;
                            30079 ; 309  |    WORD wWord1;
                            30080 ; 310  |    WORD wWord2;
                            30081 ; 311  |    WORD wWord3;
                            30082 ; 312  |} VOLUME_LABEL;
                            30083 ; 313  |
                            30084 ; 314  |typedef struct {
                            30085 ; 315  |    WORD wFATPhysicalBlock1;
                            30086 ; 316  |    WORD wFATPhysicalBlock2;
                            30087 ; 317  |    WORD wFATPhysicalBlock3;
                            30088 ; 318  |    WORD wFATPhysicalBlock4;
                            30089 ; 319  |} FAT_PHYSICAL_BLOCK_LIST;
                            30090 ; 320  |
                            30091 ; 321  |typedef struct {
                            30092 ; 322  |    WORD wFATSectorInCache;
                            30093 ; 323  |    WORD wLastClusterFree;
                            30094 ; 324  |    WORD wNumberOfUsedClusters;
                            30095 ; 325  |    WORD wNumberOfFreeClusters;
                            30096 ; 326  |    WORD wNumberOfBadClusters;
                            30097 ; 327  |    WORD wNumberOfReservedClusters;
                            30098 ; 328  |    WORD wControl;
                            30099 ; 329  |    WORD * pwSectorCache;
                            30100 ; 330  |    FAT_PHYSICAL_BLOCK_LIST FATPhysicalLocationList;
                            30101 ; 331  |} FAT_TABLE;
                            30102 ; 332  |
                            30103 ; 333  |typedef struct {
                            30104 ; 334  |    WORD wStateMediaTable;
                            30105 ; 335  |    WORD wTypeFs;
                            30106 ; 336  |    WORD wBytesPerSector;
                            30107 ; 337  |    WORD wSectorsPerCluster;
                            30108 ; 338  |    WORD wNumberOfReservedSectors;
                            30109 ; 339  |    WORD wMaximumNumberOfFATs;
                            30110 ; 340  |    WORD wMaxRootDirectoryEntries;
                            30111 ; 341  |    WORD wTotalSectors;
                            30112 ; 342  |    WORD wNumberOfFATSectors;
                            30113 ; 343  |    WORD wNumberOfSectorsPerTrack;
                            30114 ; 344  |    WORD wNumberOfHeads;
                            30115 ; 345  |    WORD wNumberOfHiddenSectorsMSB;
                            30116 ; 346  |    WORD wNumberOfHiddenSectorsLSB;
                            30117 ; 347  |    WORD wTotalSectors32MSB;
                            30118 ; 348  |    WORD wTotalSectors32LSB;
                            30119 ; 349  |    WORD wDriverNumber;
                            30120 ; 350  |    WORD wExtendedBootSignature;
                            30121 ; 351  |    WORD wVolumeIDMSB;
                            30122 ; 352  |    WORD wVolumeIDLSB;
                            30123 ; 353  |    VOLUME_LABEL VolumeLabel;
                            30124 ; 354  |    WORD * pwWriteBuffer;
                            30125 ; 355  |    WORD wPrimaryFATRelativeSector;
                            30126 ; 356  |    WORD wSecondaryFATRelativeSector;
                            30127 ; 357  |    WORD wRootDirectoryRelativeSector;
                            30128 ; 358  |    WORD wFirstSectorNumberDataZone;
                            30129 ; 359  |    WORD wMaxNumberOfFATEntries;
                            30130 ; 360  |    WORD wRootDirectorySizeInSectors;
                            30131 ; 361  |    WORD wDataAreaSizeInSectors;
                            30132 ; 362  |} MEDIA_TABLE;
                            30133 ; 363  |
                            30134 ; 364  |typedef struct {
                            30135 ; 365  |    MEDIA_TABLE * pMediaTable;
                            30136 ; 366  |    DIRECTORY_CONTROL_BLOCK * pDirectoryControlBlock;
                            30137 ; 367  |    FAT_TABLE * pFATTable;
                            30138 ; 368  |} DEVICE_CONTROL_TABLE;
                            30139 ; 369  |    
                            30140 ; 370  |typedef struct {
                            30141 ; 371  |    WORD dwTotalSizeInMegaBytes;        // dwTotalSizeInMegaBytes is limited
                            30142 ; 372  |                                        //  to 2-bytes for compatibility with
                            30143 ; 373  |                                        //  older host drivers.
                            30144 ; 374  |    DWORD dwTotalNumberOfSectors;
                            30145 ; 375  |    DWORD dwTotalNumberOfBytes;
                            30146 ; 376  |    WORD wSectorSizeInBytes;
                            30147 ; 377  |} MEDIA_SIZE;
                            30148 ; 378  |
                            30149 ; 379  |typedef struct {
                            30150 ; 380  |    BOOL    bInstalled;
                            30151 ; 381  |    INT     iPbsSectorOffset;   // from the beginning of the data drive 
                            30152 ; 382  |    DWORD   dwSize;
                            30153 ; 383  |} DATA_DRIVE_PBS_LOC;
                            30154 ; 384  |extern  INT _reentrant FSFileOpen(_packed BYTE *fname,INT attribute, INT DeviceNumber);
                            30155 ; 385  |extern  INT _reentrant FSFastOpen(DWORD Key, INT attribute);
                            30156 ; 386  |extern  INT FSFileDelete(_packed BYTE *fname,INT DeviceNumber);
                            30157 ; 387  |extern  INT FSFileCreate(_packed BYTE *fname,INT DeviceNumber);
                            30158 ; 388  |extern  INT _reentrant FSChangeDir(_packed BYTE *dirname,INT DeviceNumber);
                            30159 ; 389  |extern  INT _reentrant FSCreateDir(_packed BYTE *dirname,INT DeviceNumber);
                            30160 ; 390  |extern  INT _reentrant FSDeleteDir(_packed BYTE *dirname,INT DeviceNumber);
                            30161 ; 391  |extern  INT _reentrant FSFileAppend(_packed BYTE *fname,INT DeviceNumber);
                            30162 ; 392  |extern  INT _reentrant FSFileRead(INT BytestoRead, INT Handle, INT memory_type, INT modulo, WORD *buffer);
                            30163 ; 393  |extern  INT _reentrant FSFileWrite(INT wNumberBytes, INT Handle, INT memory_type, INT iModulo, WORD *buffer);
                            30164 ; 394  |extern  INT _reentrant FSFileClose(INT Handle);
                            30165 ; 395  |extern  LONG _reentrant FSFileSize(INT HandleNumber);
                            30166 ; 396  |extern  LONG  FSSize(INT DeviceNum, INT TYPE);   
                            30167 ; 397  |extern  INT FSFreeClusters(INT Device);
                            30168 ; 398  |extern  INT BytesPerCluster(INT Device);
                            30169 ; 399  |
                            30170 ; 400  |
                            30171 ; 401  |
                            30172 ; 402  |//extern  INT FSFileCreate(_packed BYTE *pbFileName, BYTE bDevice);
                            30173 ; 403  |//extern  INT FSFileDelete(_packed BYTE *pbFileName, BYTE bDevice);
                            30174 ; 404  |extern  INT FSFileRename(_packed BYTE *pbCurFilename, _packed BYTE *pbNewFilename, BYTE bDevice);
                            30175 ; 405  |//extern  INT _reentrant FSFileAttribute(_packed BYTE *pbFilename, WORD wAttributes, BYTE bDevice);
                            30176 ; 406  |//extern  INT FSFileAppend(_packed BYTE *pbFileName, BYTE bDevice);
                            30177 ; 407  |//extern  INT FSFileOpen(_packed BYTE *pbFileName, WORD wAttributes, BYTE bDevice);
                            30178 ; 408  |//extern  INT FSFileClose(INT bHandle);
                            30179 ; 409  |//extern  INT FSFileRead(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WORD *pwBuffer);
                            30180 ; 410  |//extern  INT FSFileWrite(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WORD *pwBuffer);
                            30181 ; 411  |extern  INT _reentrant fseek( INT handle , LONG offset, INT iOrigin );
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 119

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30182 ; 412  |extern  INT _reentrant FSFileEof(INT Handle);
                            30183 ; 413  |extern INT _reentrant FSFileAttribute(INT Attributes, _packed BYTE *fname, INT DeviceNumber);
                            30184 ; 414  |extern INT _reentrant FSFileAttributeClear(INT Attributes, _packed BYTE *fname, INT DeviceNumber);
                            30185 ; 415  |//extern  LONG FSFileSize(INT bHandle);
                            30186 ; 416  |extern _asmfunc INT FSPresent(BYTE bDevice);
                            30187 ; 417  |extern _asmfunc INT FSType(BYTE bDevice);
                            30188 ; 418  |//extern LONG FSSize(WORD wDevice, WORD wReturnType);
                            30189 ; 419  |//extern INT FSChangeDir(_packed BYTE *pbDirName, BYTE bDevice);
                            30190 ; 420  |//extern INT FSCreateDir(_packed BYTE *pbDirName, BYTE bDevice);
                            30191 ; 421  |//extern INT FSDeleteDir(_packed BYTE *pbDirName, BYTE bDevice);
                            30192 ; 422  |extern _asmfunc void SysLoadFATWrite(void);
                            30193 ; 423  |extern _asmfunc INT SysUnLoadFATWrite(void);
                            30194 ; 424  |extern LONG _reentrant ftell(INT iHandle);
                            30195 ; 425  |extern _asmfunc struct FCB * ReadDirectory(int iDevice, int iEntry);
                            30196 ; 426  |
                            30197 ; 427  |#endif
                            30198 
                            30200 
                            30201 ; 41   |#include "fstypes.h"
                            30202 
                            30204 
                            30205 ; 1    |#ifndef _FS_TYPE_H_
                            30206 ; 2    |#define _FS_TYPE_H_
                            30207 ; 3    |
                            30208 ; 4    |#include   "types.h"
                            30209 ; 5    |
                            30210 ; 6    |// move FSMEDIA_TABLE from devicetable.h  15Apr2005   First moved in SDK2.6.
                            30211 ; 7    |typedef struct
                            30212 ; 8    |{
                            30213 ; 9    |
                            30214 ; 10   |INT     _Y BytesPerSector;
                            30215 ; 11   |INT     _Y SectorsPerCluster;
                            30216 ; 12   |INT     _Y RsvdSectors;
                            30217 ; 13   |INT     _Y NoOfFATs;
                            30218 ; 14   |INT     _Y MaxRootDirEntries;
                            30219 ; 15   |LONG    _Y TotalSectors;
                            30220 ; 16   |LONG    _Y FATSize;
                            30221 ; 17   |LONG    _Y RootdirCluster;
                            30222 ; 18   |//INT   _Y FSInfoSector;
                            30223 ; 19   |//INT   _Y BkBootSector;
                            30224 ; 20   |LONG    _Y NextFreeCluster;
                            30225 ; 21   |LONG    _Y TotalFreeClusters;
                            30226 ; 22   |INT     _Y RootDirSectors;
                            30227 ; 23   |INT     _Y FIRSTDataSector;
                            30228 ; 24   |INT    _Y FATType;
                            30229 ; 25   |LONG   _Y TotalNoofclusters;
                            30230 ; 26   |INT    _Y ClusterMask;
                            30231 ; 27   |INT    _Y ClusterShift;
                            30232 ; 28   |INT    _Y SectorShift;
                            30233 ; 29   |INT    _Y SectorMask;
                            30234 ; 30   |INT    _Y DevicePresent;
                            30235 ; 31   |LONG   _Y FirRootdirsec;
                            30236 ; 32   |INT             _Y FSInfoSector;
                            30237 ; 33   |}FSMEDIA_TABLE;
                            30238 ; 34   |
                            30239 ; 35   |
                            30240 ; 36   |#define         MAXDEVICES              2
                            30241 ; 37   |//#define       NUMCACHES               8  // this is already in fsproj.h (2 for player 2 for mtp as of 28jun2005) TOVERIFY 2 ok for player and mtp. 
                            30242 ; 38   |
                            30243 ; 39   |// NOTE:  This offset is the same no matter what the sector actual size!  
                            30244 ; 40   |//        TOVERIFY 3.0 doesn't have this defined but uses it in filesystempresent.c. lbmlc def'd it here so I insert it here.
                            30245 ; 41   |#define         FATFS_SIGNATURE_OFFSET  510
                            30246 ; 42   |#define         BOOTSECTOR              0
                            30247 ; 43   |#define     FSINFOSECTOR        1
                            30248 ; 44   |
                            30249 ; 45   |#define     READ_MODE           1
                            30250 ; 46   |#define     WRITE_MODE          2
                            30251 ; 47   |#define     APPEND_MODE         4
                            30252 ; 48   |#define     SEQ_WRITE_MODE      8
                            30253 ; 49   |#define     DIRECTORY_MODE         16
                            30254 ; 50   |#define     CREATE_MODE        32
                            30255 ; 51   |
                            30256 ; 52   |#define     RPLUS               5
                            30257 ; 53   |#define     WPLUS                   6
                            30258 ; 54   |#define     APLUS               7
                            30259 ; 55   |
                            30260 ; 56   |
                            30261 ; 57   |
                            30262 ; 58   |#define     X_MEMORY            0
                            30263 ; 59   |#define     Y_MEMORY            2
                            30264 ; 60   |#define     P_MEMORY            4
                            30265 ; 61   |
                            30266 ; 62   |#define     FAT12               0 
                            30267 ; 63   |#define     FAT16               1   
                            30268 ; 64   |#define     FAT32               2 
                            30269 ; 65   |
                            30270 ; 66   |
                            30271 ; 67   |#define FAT12EOF            0x0FFF
                            30272 ; 68   |#define FAT16EOF            0xFFFF
                            30273 ; 69   |#define FAT32EOF            0x0FFFFFFF
                            30274 ; 70   |
                            30275 ; 71   |
                            30276 ; 72   |
                            30277 ; 73   |#define FAT12FREECX         0x000
                            30278 ; 74   |#define FAT16FREECX         0x0000
                            30279 ; 75   |#define FAT32FREECX         0x00000000
                            30280 ; 76   |
                            30281 ; 77   |
                            30282 ; 78   |#define  DBCS               1
                            30283 ; 79   |#define  UNICODE            2
                            30284 ; 80   |
                            30285 ; 81   |
                            30286 ; 82   |#define     CREATION_DATE       1
                            30287 ; 83   |#define     CREATION_TIME       2
                            30288 ; 84   |#define     MODIFICATION_DATE   3
                            30289 ; 85   |#define     MODIFICATION_TIME   4
                            30290 ; 86   |
                            30291 ; 87   |
                            30292 ; 88   |#define     READ_ONLY      0X01
                            30293 ; 89   |#define     HIDDEN         0X02
                            30294 ; 90   |#define     SYSTEM         0X04
                            30295 ; 91   |#define     VOLUME_ID      0X08
                            30296 ; 92   |#define     DIRECTORY      0X10
                            30297 ; 93   |#define     ARCHIVE        0X20
                            30298 ; 94   |
                            30299 ; 95   |#define READCOUNTER         105
                            30300 ; 96   |#define WRITECOUNTER        100
                            30301 ; 97   |#define FLUSHCOUNTER        200
                            30302 ; 98   |
                            30303 ; 99   |
                            30304 ; 100  |#define DEFAULT_MEMORY      Y_MEMORY
                            30305 ; 101  |
                            30306 ; 102  |#define  CWD_HANDLE           0
                            30307 ; 103  |#define  DIRECTORY_HANDLE     1
                            30308 ; 104  |#define  FIRST_VALID_HANDLE   2
                            30309 ; 105  |#define  END_OF_DIR_PATH      3
                            30310 ; 106  |
                            30311 ; 107  |//Constants for Sector read and write (Normal and FAT 
                            30312 ; 108  |#define         NORMALTYPE              0
                            30313 ; 109  |#define         FATTYPE                 1
                            30314 ; 110  |#define     RAWTYPE         2
                            30315 ; 111  |
                            30316 ; 112  |#define  SHORTNAMERES_CH      6
                            30317 ; 113  |#define  LONGNAMERES_CH       9
                            30318 ; 114  |#define  MAXFILENAME_CH       260
                            30319 ; 115  |
                            30320 ; 116  |#define VOLUME_TYPE          0
                            30321 ; 117  |#define DIR_TYPE             1
                            30322 ; 118  |#define FILE_TYPE            2
                            30323 ; 119  |                                           
                            30324 ; 120  |#define WRITE_TYPE_RANDOM               0
                            30325 ; 121  |#define WRITE_TYPE_SEQ_FIRST    1
                            30326 ; 122  |#define WRITE_TYPE_SEQ_NEXT             2
                            30327 ; 123  |#define WRITE_TYPE_NOREADBACK   3
                            30328 ; 124  |                  
                            30329 ; 125  |
                            30330 ; 126  |#define     HANDLEENTRYSIZE         19
                            30331 ; 127  |
                            30332 ; 128  |// DEVICERECORDSIZE is now only defined in cachedef.h so deleted from here in first 3.1 prelim 
                            30333 ; 129  |
                            30334 ; 130  |#define     CACHEDESCRSIZE          8
                            30335 ; 131  |#define     CACHEBUFSIZE            705
                            30336 ; 132  |
                            30337 ; 133  |#define     UCS2s                     0
                            30338 ; 134  |#define     UCS3s                     1
                            30339 ; 135  |
                            30340 ; 136  |#define     FAT32FSIFREECOUNTSIZE       4
                            30341 ; 137  |
                            30342 ; 138  |#endif // _FS_TYPE_H_
                            30343 ; 139  |
                            30344 
                            30346 
                            30347 ; 42   |#include "musiclib_ghdr.h"
                            30348 
                            30350 
                            30351 ; 1    |#ifndef MUSICLIB_GHDR_H
                            30352 ; 2    |#define MUSICLIB_GHDR_H
                            30353 ; 3    |
                            30354 ; 4    |#ifdef __cplusplus
                            30355 ; 5    |extern "C" {
                            30356 ; 6    |#endif
                            30357 ; 7    |
                            30358 ; 8    |/*==================================================================================================
                            30359 ; 9    |
                            30360 ; 10   |                                        General Description
                            30361 ; 11   |
                            30362 ; 12   |====================================================================================================
                            30363 ; 13   |
                            30364 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            30365 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            30366 ; 16   |
                            30367 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            30368 ; 18   |
                            30369 ; 19   |PRODUCT NAMES: All
                            30370 ; 20   |
                            30371 ; 21   |GENERAL DESCRIPTION:
                            30372 ; 22   |
                            30373 ; 23   |    General description of this grouping of functions.
                            30374 ; 24   |
                            30375 ; 25   |Portability: All
                            30376 ; 26   |
                            30377 ; 27   |
                            30378 ; 28   |Revision History:
                            30379 ; 29   |
                            30380 ; 30   |                         Modification        Tracking
                            30381 ; 31   |Author                       Date             Number           Description of Changes
                            30382 ; 32   |---------------------    ------------        ----------        -------------------------------------
                            30383 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of changes made
                            30384 ; 34   |
                            30385 ; 35   |
                            30386 ; 36   |====================================================================================================
                            30387 ; 37   |                                            DESCRIPTION
                            30388 ; 38   |====================================================================================================
                            30389 ; 39   |
                            30390 ; 40   |GLOBAL FUNCTIONS:
                            30391 ; 41   |    MF_global_func_name()
                            30392 ; 42   |
                            30393 ; 43   |TRACEABILITY MATRIX:
                            30394 ; 44   |    None
                            30395 ; 45   |
                            30396 ; 46   |==================================================================================================*/
                            30397 ; 47   |
                            30398 ; 48   |/*==================================================================================================
                            30399 ; 49   |                                                                Conditional Compilation Directives
                            30400 ; 50   |==================================================================================================*/
                            30401 ; 51   |#ifdef WIN32
                            30402 ; 52   |#define _PC_SIMULATION_
                            30403 ; 53   |#else
                            30404 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            30405 ; 55   |#endif  // WIN32
                            30406 ; 56   |
                            30407 ; 57   |#if 1
                            30408 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            30409 ; 59   |#endif
                            30410 ; 60   |
                            30411 ; 61   |#if 1
                            30412 ; 62   |#define _AUDIBLE_       /* install audible list */
                            30413 ; 63   |#endif
                            30414 ; 64   |
                            30415 ; 65   |#if 1
                            30416 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            30417 ; 67   |#endif
                            30418 ; 68   |
                            30419 ; 69   |#ifdef PL3_FB
                            30420 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            30421 ; 71   |#endif
                            30422 ; 72   |
                            30423 ; 73   |#if 1
                            30424 ; 74   |#define _SUPPORT_2000_SONGS_
                            30425 ; 75   |#endif
                            30426 ; 76   |
                            30427 ; 77   |/*==================================================================================================
                            30428 ; 78   |                                           INCLUDE FILES
                            30429 ; 79   |==================================================================================================*/
                            30430 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            30431 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            30432 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            30433 ; 83   |#define OEM_SEEK_END    SEEK_END
                            30434 ; 84   |#else
                            30435 ; 85   |#define _X
                            30436 ; 86   |#define _Y
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 120

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30437 ; 87   |#define _packed
                            30438 ; 88   |
                            30439 ; 89   |#define _asmfunc
                            30440 ; 90   |#define _reentrant
                            30441 ; 91   |
                            30442 ; 92   |#define OEM_SEEK_CUR    1
                            30443 ; 93   |#define OEM_SEEK_SET    0
                            30444 ; 94   |#define OEM_SEEK_END    2
                            30445 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            30446 ; 96   |
                            30447 ; 97   |#include "types.h"
                            30448 ; 98   |#include "exec.h"
                            30449 ; 99   |#include "messages.h"
                            30450 ; 100  |#include "project.h"
                            30451 ; 101  |
                            30452 ; 102  |/*==================================================================================================
                            30453 ; 103  |                                             CONSTANTS
                            30454 ; 104  |==================================================================================================*/
                            30455 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            30456 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            30457 ; 107  |Artistname                              1:0
                            30458 ; 108  |Albumname                               3:2
                            30459 ; 109  |Genrename                               5:4
                            30460 ; 110  |Songname                                7:6
                            30461 ; 111  |----------------------------------------------------------
                            30462 ; 112  |    Value (2 bits)                      Meanings
                            30463 ; 113  |    0                                   RAW and All ASCII
                            30464 ; 114  |    1                                   Uni-code
                            30465 ; 115  |    2                                   Mixed, non-unicode
                            30466 ; 116  |
                            30467 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            30468 ; 118  |*/
                            30469 ; 119  |#define BITMASK_ARTIST  (0x03)
                            30470 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            30471 ; 121  |#define BITMASK_GENRE   (0x30)
                            30472 ; 122  |#define BITMASK_SONG    (0xC0)
                            30473 ; 123  |
                            30474 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            30475 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            30476 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            30477 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            30478 ; 128  |
                            30479 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            30480 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            30481 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            30482 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            30483 ; 133  |
                            30484 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            30485 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            30486 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            30487 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            30488 ; 138  |
                            30489 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            30490 ; 140  |
                            30491 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            30492 ; 142  |
                            30493 ; 143  |#define INDEX_EOF       0xFFF
                            30494 ; 144  |#ifdef _FOLDER_BROWSE_
                            30495 ; 145  |#define INDEX_ROOT  0xffe
                            30496 ; 146  |#define UNKNOWN_RECORD  0xfff
                            30497 ; 147  |#endif  // _FOLDER_BROWSE_
                            30498 ; 148  |
                            30499 ; 149  |/* Constant for item_type */
                            30500 ; 150  |#define         ITEM_ARTIST                     0
                            30501 ; 151  |#define         ITEM_ALBUM                      1
                            30502 ; 152  |#define         ITEM_GENRE                      2
                            30503 ; 153  |#define         ITEM_TRACK                      3
                            30504 ; 154  |#define         ITEM_YEAR                       4
                            30505 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            30506 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            30507 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            30508 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            30509 ; 159  |#ifdef _NEWMUSIC_
                            30510 ; 160  |#define         ITEM_1DAY                       10
                            30511 ; 161  |#define         ITEM_1WEEK                      11
                            30512 ; 162  |#define         ITEM_1MONTH                     12
                            30513 ; 163  |#endif
                            30514 ; 164  |#ifdef _AUDIBLE_
                            30515 ; 165  |#define         ITEM_AUDIBLE            13
                            30516 ; 166  |#endif
                            30517 ; 167  |#define         ITEM_ON_THE_GO          14
                            30518 ; 168  |
                            30519 ; 169  |#define         ITEM_VOICE                      15
                            30520 ; 170  |#define         ITEM_FMREC                      16
                            30521 ; 171  |#define         ITEM_PHOTO                      17
                            30522 ; 172  |#ifdef _FOLDER_BROWSE_
                            30523 ; 173  |#define         ITEM_INTERNAL           18
                            30524 ; 174  |#define         ITEM_EXTERNAL       19
                            30525 ; 175  |#endif  // _FOLDER_BROWSE_
                            30526 ; 176  |#define     ITEM_UNKNOWN        0xff
                            30527 ; 177  |
                            30528 ; 178  |/*
                            30529 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            30530 ; 180  |option input.
                            30531 ; 181  |*/
                            30532 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            30533 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            30534 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            30535 ; 185  |#ifdef _FOLDER_BROWSE_
                            30536 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            30537 ; 187  |#endif  // _FOLDER_BROWSE_
                            30538 ; 188  |
                            30539 ; 189  |/* Constant for key action */
                            30540 ; 190  |#define         ACTION_OK                               0               /* Press OK button */
                            30541 ; 191  |#define         ACTION_BACK                             1               /* Press BACK button */
                            30542 ; 192  |#define         ACTION_UP                               2               /* Press UP button */
                            30543 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN button */
                            30544 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            30545 ; 195  |#define         ACTION_MENU                             5               /* Back the browsing tree to root */
                            30546 ; 196  |
                            30547 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            30548 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            30549 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            30550 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            30551 ; 201  |
                            30552 ; 202  |#define         NO_SD                                   0
                            30553 ; 203  |#define         HAS_SD                                  1
                            30554 ; 204  |
                            30555 ; 205  |#define         PLAY_NORMAL                             0
                            30556 ; 206  |#define         PLAY_SHUFFLE                    1
                            30557 ; 207  |
                            30558 ; 208  |#define     PLAY_REPEAT_OFF         0
                            30559 ; 209  |#define     PLAY_REPEAT_ON          1
                            30560 ; 210  |
                            30561 ; 211  |#define     PLAY_SELECT_FLASH       0
                            30562 ; 212  |#define     PLAY_SELECT_SD          1
                            30563 ; 213  |
                            30564 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            30565 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            30566 ; 216  |
                            30567 ; 217  |#define         ON_THE_GO_EXIST                 0
                            30568 ; 218  |#define         ON_THE_GO_FULL                  1
                            30569 ; 219  |#define         ON_THE_GO_FREE                  2
                            30570 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            30571 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            30572 ; 222  |
                            30573 ; 223  |#define         REC_VOICE_TYPE                  0
                            30574 ; 224  |#define         REC_FMREC_TYPE                  1
                            30575 ; 225  |#define         REC_PHOTO_TYPE                  2
                            30576 ; 226  |#define         VOICE_FILE_ADD                  0
                            30577 ; 227  |#define         VOICE_FILE_DEL                  1
                            30578 ; 228  |
                            30579 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            30580 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            30581 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            30582 ; 232  |flash or external SD card */
                            30583 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            30584 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            30585 ; 235  |#else
                            30586 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            30587 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            30588 ; 238  |
                            30589 ; 239  |/* number of byte in one DSP word */
                            30590 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            30591 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            30592 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            30593 ; 243  |are 10 level directory structure */
                            30594 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            30595 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            30596 ; 246  |
                            30597 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            30598 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            30599 ; 249  |/* number of songs in each new music list */
                            30600 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            30601 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            30602 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            30603 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            30604 ; 254  |/* number of songs in the on-the-fly list */
                            30605 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            30606 ; 256  |/* number of files audible list */
                            30607 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            30608 ; 258  |
                            30609 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            30610 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            30611 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            30612 ; 262  |
                            30613 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            30614 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            30615 ; 265  |#ifdef _FOLDER_BROWSE_
                            30616 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            30617 ; 267  |#else
                            30618 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            30619 ; 269  |#endif  // _FOLDER_BROWSE_
                            30620 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            30621 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            30622 ; 272  |
                            30623 ; 273  |#ifndef _MAX_DIR_DEPTH
                            30624 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            30625 ; 275  |#endif  // _MAX_DIR_DEPTH
                            30626 ; 276  |
                            30627 ; 277  |/*==================================================================================================*/
                            30628 ; 278  |
                            30629 ; 279  |
                            30630 ; 280  |/*==================================================================================================
                            30631 ; 281  |                                               MACROS
                            30632 ; 282  |==================================================================================================*/
                            30633 ; 283  |
                            30634 ; 284  |/*==================================================================================================
                            30635 ; 285  |                                               ENUMS
                            30636 ; 286  |==================================================================================================*/
                            30637 ; 287  |#define NUM_OF_MEDIA                            (2)
                            30638 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            30639 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            30640 ; 290  |/*==================================================================================================
                            30641 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            30642 ; 292  |==================================================================================================*/
                            30643 ; 293  |
                            30644 ; 294  |typedef char    int8;
                            30645 ; 295  |typedef short   int16;
                            30646 ; 296  |typedef int     int24;
                            30647 ; 297  |typedef long    int32;
                            30648 ; 298  |
                            30649 ; 299  |typedef int     intx;
                            30650 ; 300  |
                            30651 ; 301  |typedef unsigned char   uint8;
                            30652 ; 302  |typedef unsigned short  uint16;
                            30653 ; 303  |typedef unsigned int    uint24;
                            30654 ; 304  |typedef unsigned long   uint32;
                            30655 ; 305  |
                            30656 ; 306  |/*
                            30657 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode format.
                            30658 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            30659 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            30660 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            30661 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            30662 ; 312  |*/
                            30663 ; 313  |/*
                            30664 ; 314  |path_name[] _must_have_data_:
                            30665 ; 315  |path_name[] = (Max. 120 Characters);
                            30666 ; 316  |year range:
                            30667 ; 317  |year = 0x000000-0xFFFFFF;
                            30668 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            30669 ; 319  |Unknown track number:
                            30670 ; 320  |track_number = 0x7FFFFF;
                            30671 ; 321  |unicode refer to above #define BITMASK_*
                            30672 ; 322  |*/
                            30673 ; 323  |/*
                            30674 ; 324  |Interface of UI and Music Library
                            30675 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            30676 ; 326  |
                            30677 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            30678 ; 328  |
                            30679 ; 329  |3) UI to Music Library variable passing length definition:
                            30680 ; 330  |        All ASCII Characters:
                            30681 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            30682 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            30683 ; 333  |        Unicode Characters:
                            30684 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            30685 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            30686 ; 336  |
                            30687 ; 337  |4) UI input data to Music Library in two formats.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 121

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30688 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            30689 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            30690 ; 340  |
                            30691 ; 341  |5) UI calling function:
                            30692 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            30693 ; 343  |        int16 option definition:
                            30694 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            30695 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            30696 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            30697 ; 347  |
                            30698 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            30699 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_list separately.
                            30700 ; 350  |
                            30701 ; 351  |6) Modification Date:
                            30702 ; 352  |        uint24 g_file_time:
                            30703 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            30704 ; 354  |*/
                            30705 ; 355  |
                            30706 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            30707 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            30708 ; 358  |typedef struct _ram_song_info {
                            30709 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            30710 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            30711 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            30712 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            30713 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            30714 ; 364  |    uint32 g_songFastKey;
                            30715 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            30716 ; 366  |        uint24 year;
                            30717 ; 367  |        uint24 track_number;
                            30718 ; 368  |        uint8 unicode;
                            30719 ; 369  |} RAM_SONG_INFO_T;
                            30720 ; 370  |
                            30721 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            30722 ; 372  |typedef struct _flash_group_name {
                            30723 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            30724 ; 374  |        uint8 unicode;
                            30725 ; 375  |} FLASH_GROUP_NAME_T;
                            30726 ; 376  |
                            30727 ; 377  |// struct to store directories information passed from UI
                            30728 ; 378  |#ifdef _FOLDER_BROWSE_
                            30729 ; 379  |typedef struct _ml_DirInfo {
                            30730 ; 380  |        uint24  u8Unicode : 8;
                            30731 ; 381  |        uint24  u12DirDepth : 12;
                            30732 ; 382  |        uint24  u4Added : 4;            
                            30733 ; 383  |        INT     iDirRecord;
                            30734 ; 384  |        DWORD   dwFastKey;
                            30735 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            30736 ; 386  |} ML_DIRINFO_T;
                            30737 ; 387  |#endif  // _FOLDER_BROWSE_
                            30738 ; 388  |
                            30739 ; 389  |/*==================================================================================================
                            30740 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            30741 ; 391  |==================================================================================================*/
                            30742 ; 392  |extern uint24   IsPlayOnTheGo;
                            30743 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            30744 ; 394  |extern uint24   merge_id_list_flash[];
                            30745 ; 395  |extern uint24   merge_id_list_sd[];
                            30746 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            30747 ; 397  |#ifdef _FOLDER_BROWSE_
                            30748 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            30749 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            30750 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            30751 ; 401  |#endif  // _FOLDER_BROWSE_
                            30752 ; 402  |extern INT _X    *sec_temp_buf_X;
                            30753 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 = repeat on/off(0=off/1=on) */
                            30754 ; 404  |
                            30755 ; 405  |/*==================================================================================================
                            30756 ; 406  |                                        FUNCTION PROTOTYPES
                            30757 ; 407  |==================================================================================================*/
                            30758 ; 408  |
                            30759 ; 409  |///////////////////////////////////////////////////////////////////////
                            30760 ; 410  |//! \brief
                            30761 ; 411  |//!
                            30762 ; 412  |//! \fntype Function
                            30763 ; 413  |//!
                            30764 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            30765 ; 415  |//! Call only once before inserting items. Call once for each media.
                            30766 ; 416  |//!
                            30767 ; 417  |//! \param[in]  none
                            30768 ; 418  |//!
                            30769 ; 419  |//! \return
                            30770 ; 420  |//!
                            30771 ; 421  |///////////////////////////////////////////////////////////////////////
                            30772 ; 422  |void ML_InitLibraryParameter(void);
                            30773 ; 423  |
                            30774 ; 424  |///////////////////////////////////////////////////////////////////////
                            30775 ; 425  |//! \brief
                            30776 ; 426  |//!
                            30777 ; 427  |//! \fntype Function
                            30778 ; 428  |//!
                            30779 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            30780 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            30781 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each song,
                            30782 ; 432  |//! the song information is recorded in music library.
                            30783 ; 433  |//!
                            30784 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            30785 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passed from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            30786 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav format file.
                            30787 ; 437  |//!
                            30788 ; 438  |//! \return
                            30789 ; 439  |//!
                            30790 ; 440  |///////////////////////////////////////////////////////////////////////
                            30791 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            30792 ; 442  |
                            30793 ; 443  |///////////////////////////////////////////////////////////////////////
                            30794 ; 444  |//! \brief
                            30795 ; 445  |//!
                            30796 ; 446  |//! \fntype Function
                            30797 ; 447  |//!
                            30798 ; 448  |//! \param[in]
                            30799 ; 449  |//!
                            30800 ; 450  |//! \return
                            30801 ; 451  |//!
                            30802 ; 452  |///////////////////////////////////////////////////////////////////////
                            30803 ; 453  |#ifdef _FOLDER_BROWSE_
                            30804 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int16 i16Option);
                            30805 ; 455  |#endif  // _FOLDER_BROWSE_
                            30806 ; 456  |
                            30807 ; 457  |///////////////////////////////////////////////////////////////////////
                            30808 ; 458  |//! \brief
                            30809 ; 459  |//!
                            30810 ; 460  |//! \fntype Function
                            30811 ; 461  |//!
                            30812 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            30813 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            30814 ; 464  |//! music library for that particular media.
                            30815 ; 465  |//!
                            30816 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            30817 ; 467  |//!
                            30818 ; 468  |//! \return
                            30819 ; 469  |//!
                            30820 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            30821 ; 471  |//!         function.
                            30822 ; 472  |///////////////////////////////////////////////////////////////////////
                            30823 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            30824 ; 474  |
                            30825 ; 475  |///////////////////////////////////////////////////////////////////////
                            30826 ; 476  |//! \brief
                            30827 ; 477  |//!
                            30828 ; 478  |//! \fntype Function
                            30829 ; 479  |//!
                            30830 ; 480  |//! \param[in]
                            30831 ; 481  |//!
                            30832 ; 482  |//! \return
                            30833 ; 483  |//!
                            30834 ; 484  |///////////////////////////////////////////////////////////////////////
                            30835 ; 485  |#ifdef _NEWMUSIC_
                            30836 ; 486  |void ML_UpdateNewMusic(void);
                            30837 ; 487  |#endif
                            30838 ; 488  |
                            30839 ; 489  |///////////////////////////////////////////////////////////////////////
                            30840 ; 490  |//! \brief
                            30841 ; 491  |//!
                            30842 ; 492  |//! \fntype Function
                            30843 ; 493  |//!
                            30844 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            30845 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            30846 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            30847 ; 497  |//!
                            30848 ; 498  |//! \param[in]  none
                            30849 ; 499  |//!
                            30850 ; 500  |//! \return
                            30851 ; 501  |//!
                            30852 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            30853 ; 503  |//!         must be called before calling any other music library functions.
                            30854 ; 504  |///////////////////////////////////////////////////////////////////////
                            30855 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            30856 ; 506  |
                            30857 ; 507  |///////////////////////////////////////////////////////////////////////
                            30858 ; 508  |//! \brief
                            30859 ; 509  |//!
                            30860 ; 510  |//! \fntype Function
                            30861 ; 511  |//!
                            30862 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            30863 ; 513  |//! library operation.
                            30864 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            30865 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file and the
                            30866 ; 516  |//! music.sec file do not exist.
                            30867 ; 517  |//!
                            30868 ; 518  |//! \param[in]  none
                            30869 ; 519  |//!
                            30870 ; 520  |//! \return
                            30871 ; 521  |//!
                            30872 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            30873 ; 523  |//!         must be called before calling any other music library functions.
                            30874 ; 524  |///////////////////////////////////////////////////////////////////////
                            30875 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            30876 ; 526  |
                            30877 ; 527  |///////////////////////////////////////////////////////////////////////
                            30878 ; 528  |//! \brief
                            30879 ; 529  |//!
                            30880 ; 530  |//! \fntype Function
                            30881 ; 531  |//!
                            30882 ; 532  |//! Preload the list, prepare for renew.
                            30883 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            30884 ; 534  |//! structure in RAM.
                            30885 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            30886 ; 536  |//! in RAM.
                            30887 ; 537  |//!
                            30888 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            30889 ; 539  |//!
                            30890 ; 540  |//! \return
                            30891 ; 541  |//!
                            30892 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            30893 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            30894 ; 544  |///////////////////////////////////////////////////////////////////////
                            30895 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            30896 ; 546  |
                            30897 ; 547  |///////////////////////////////////////////////////////////////////////
                            30898 ; 548  |//! \brief
                            30899 ; 549  |//!
                            30900 ; 550  |//! \fntype Function
                            30901 ; 551  |//!
                            30902 ; 552  |//! Save the list to flash memory.
                            30903 ; 553  |//!
                            30904 ; 554  |//! \param[in]
                            30905 ; 555  |//!
                            30906 ; 556  |//! \return
                            30907 ; 557  |//!
                            30908 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            30909 ; 559  |//!         changed by the user.
                            30910 ; 560  |///////////////////////////////////////////////////////////////////////
                            30911 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            30912 ; 562  |
                            30913 ; 563  |///////////////////////////////////////////////////////////////////////
                            30914 ; 564  |//! \brief
                            30915 ; 565  |//!
                            30916 ; 566  |//! \fntype Function
                            30917 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            30918 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in the
                            30919 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the list.
                            30920 ; 570  |//! Otherwise the song is deleted.
                            30921 ; 571  |//!
                            30922 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            30923 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            30924 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            30925 ; 575  |//!
                            30926 ; 576  |//! \return
                            30927 ; 577  |//!
                            30928 ; 578  |///////////////////////////////////////////////////////////////////////
                            30929 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            30930 ; 580  |
                            30931 ; 581  |///////////////////////////////////////////////////////////////////////
                            30932 ; 582  |//! \brief
                            30933 ; 583  |//!
                            30934 ; 584  |//! \fntype Function
                            30935 ; 585  |//!
                            30936 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            30937 ; 587  |//! in the ML_UpdateOnTheGo().
                            30938 ; 588  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 122

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30939 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            30940 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDEX_EOF (song will be deleted)
                            30941 ; 591  |//!
                            30942 ; 592  |//! \return
                            30943 ; 593  |//!
                            30944 ; 594  |///////////////////////////////////////////////////////////////////////
                            30945 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            30946 ; 596  |
                            30947 ; 597  |///////////////////////////////////////////////////////////////////////
                            30948 ; 598  |//! \brief
                            30949 ; 599  |//!
                            30950 ; 600  |//! \fntype Function
                            30951 ; 601  |//!
                            30952 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            30953 ; 603  |//!
                            30954 ; 604  |//! \param[in]  none
                            30955 ; 605  |//!
                            30956 ; 606  |//! \return
                            30957 ; 607  |//!
                            30958 ; 608  |///////////////////////////////////////////////////////////////////////
                            30959 ; 609  |void ML_UpdateOnTheGo(void);
                            30960 ; 610  |
                            30961 ; 611  |///////////////////////////////////////////////////////////////////////
                            30962 ; 612  |//! \brief
                            30963 ; 613  |//!
                            30964 ; 614  |//! \fntype Function
                            30965 ; 615  |//!
                            30966 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            30967 ; 617  |//! Call only once before inserting items. Call once for each media.
                            30968 ; 618  |//!
                            30969 ; 619  |//! \param[in]  none
                            30970 ; 620  |//!
                            30971 ; 621  |//! \return
                            30972 ; 622  |//!
                            30973 ; 623  |///////////////////////////////////////////////////////////////////////
                            30974 ; 624  |void ML_InitVoiceParameter(void);
                            30975 ; 625  |
                            30976 ; 626  |///////////////////////////////////////////////////////////////////////
                            30977 ; 627  |//! \brief
                            30978 ; 628  |//!
                            30979 ; 629  |//! \fntype Function
                            30980 ; 630  |//!
                            30981 ; 631  |//! \param[in]
                            30982 ; 632  |//!
                            30983 ; 633  |//! \return
                            30984 ; 634  |//!
                            30985 ; 635  |///////////////////////////////////////////////////////////////////////
                            30986 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            30987 ; 637  |
                            30988 ; 638  |///////////////////////////////////////////////////////////////////////
                            30989 ; 639  |//! \brief
                            30990 ; 640  |//!
                            30991 ; 641  |//! \fntype Function
                            30992 ; 642  |//!
                            30993 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            30994 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names.
                            30995 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            30996 ; 646  |//!
                            30997 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            30998 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed from UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            30999 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            31000 ; 650  |//!
                            31001 ; 651  |//! \return
                            31002 ; 652  |//!
                            31003 ; 653  |///////////////////////////////////////////////////////////////////////
                            31004 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            31005 ; 655  |
                            31006 ; 656  |///////////////////////////////////////////////////////////////////////
                            31007 ; 657  |//! \brief
                            31008 ; 658  |//!
                            31009 ; 659  |//! \fntype Function
                            31010 ; 660  |//!
                            31011 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            31012 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice building
                            31013 ; 663  |//! of music library for that particular media.
                            31014 ; 664  |//!
                            31015 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            31016 ; 666  |//!
                            31017 ; 667  |//! \return
                            31018 ; 668  |//!
                            31019 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            31020 ; 670  |//!         function.
                            31021 ; 671  |///////////////////////////////////////////////////////////////////////
                            31022 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            31023 ; 673  |
                            31024 ; 674  |///////////////////////////////////////////////////////////////////////
                            31025 ; 675  |//! \brief
                            31026 ; 676  |//!
                            31027 ; 677  |//! \fntype Function
                            31028 ; 678  |//!
                            31029 ; 679  |//! Called by UI, the merge the music library tables album,
                            31030 ; 680  |//! artist, genre, song and year.
                            31031 ; 681  |//!
                            31032 ; 682  |//! \param[in]  none
                            31033 ; 683  |//!
                            31034 ; 684  |//! \return
                            31035 ; 685  |//!
                            31036 ; 686  |///////////////////////////////////////////////////////////////////////
                            31037 ; 687  |void ML_MergeLibraryTables(void);
                            31038 ; 688  |
                            31039 ; 689  |///////////////////////////////////////////////////////////////////////
                            31040 ; 690  |//! \brief
                            31041 ; 691  |//!
                            31042 ; 692  |//! \fntype Function
                            31043 ; 693  |//!
                            31044 ; 694  |//! Called by UI, the merge the music library tables album,
                            31045 ; 695  |//! artist, genre, song and year.
                            31046 ; 696  |//!
                            31047 ; 697  |//! \param[in]  none
                            31048 ; 698  |//!
                            31049 ; 699  |//! \return
                            31050 ; 700  |//!
                            31051 ; 701  |///////////////////////////////////////////////////////////////////////
                            31052 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            31053 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            31054 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            31055 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            31056 ; 706  |
                            31057 ; 707  |///////////////////////////////////////////////////////////////////////
                            31058 ; 708  |//! \brief
                            31059 ; 709  |//!
                            31060 ; 710  |//! \fntype Function
                            31061 ; 711  |//!
                            31062 ; 712  |//! \param[in]
                            31063 ; 713  |//!
                            31064 ; 714  |//! \return
                            31065 ; 715  |//!
                            31066 ; 716  |///////////////////////////////////////////////////////////////////////
                            31067 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            31068 ; 718  |
                            31069 ; 719  |/*================================================================================================*/
                            31070 ; 720  |
                            31071 ; 721  |// Siukoon 2005-02-28
                            31072 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            31073 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            31074 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            31075 ; 725  |#else
                            31076 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            31077 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            31078 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            31079 ; 729  |#define WORD_PER_SECTOR             (171)
                            31080 ; 730  |#define BYTE_PER_SECTOR             (512)
                            31081 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            31082 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            31083 ; 733  |
                            31084 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            31085 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            31086 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            31087 ; 737  |
                            31088 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            31089 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            31090 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            31091 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            31092 ; 742  |
                            31093 ; 743  |/////////////////////
                            31094 ; 744  |
                            31095 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            31096 ; 746  |
                            31097 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            31098 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            31099 ; 749  |#else
                            31100 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            31101 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            31102 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            31103 ; 753  |
                            31104 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            31105 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            31106 ; 756  |
                            31107 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            31108 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            31109 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            31110 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            31111 ; 761  |#else
                            31112 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            31113 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            31114 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            31115 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            31116 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            31117 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            31118 ; 768  |
                            31119 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            31120 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            31121 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            31122 ; 772  |#else
                            31123 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG_PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            31124 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            31125 ; 775  |
                            31126 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            31127 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            31128 ; 778  |
                            31129 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            31130 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            31131 ; 781  |
                            31132 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            31133 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            31134 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            31135 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            31136 ; 786  |#else
                            31137 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            31138 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            31139 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            31140 ; 790  |
                            31141 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            31142 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6)
                            31143 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            31144 ; 794  |#else
                            31145 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            31146 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            31147 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            31148 ; 798  |
                            31149 ; 799  |#ifdef __cplusplus
                            31150 ; 800  |}
                            31151 ; 801  |#endif
                            31152 ; 802  |
                            31153 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            31154 
                            31156 
                            31157 ; 43   |#include "stringlib.h"
                            31158 
                            31160 
                            31161 ; 1    |#ifndef STRINGLIB_H
                            31162 ; 2    |#define STRINGLIB_H
                            31163 ; 3    |_asmfunc int pack_string(UCS3 _Y * _Y pUnpacked, _packed BYTE _Y * _Y pPacked);
                            31164 ; 4    |_asmfunc int unpack_string( _packed BYTE _Y * _Y pPacked,  UCS3 _Y * _Y pUnpacked);
                            31165 ; 5    |_asmfunc int unpack_data( _packed BYTE _Y * _Y pPacked,  BYTE _Y * _Y pUnpacked, INT iCount);
                            31166 ; 6    |
                            31167 ; 7    |_asmfunc BYTE GetByteFromArrayInX( void _X * p,int n);
                            31168 ; 8    |_asmfunc void PutByteInArrayInX( void _X * p,int n, int newchar);
                            31169 ; 9    |_asmfunc BYTE GetByteFromArrayInY( void _Y * p,int n);
                            31170 ; 10   |_asmfunc void PutByteInArrayInY( void _Y * p,int n, int newchar);
                            31171 ; 11   |
                            31172 ; 12   |_asmfunc BYTE packed_get( _packed BYTE _Y * p,int n);
                            31173 ; 13   |_asmfunc void packed_set( _packed BYTE _Y * p,int n, int newchar);
                            31174 ; 14   |
                            31175 ; 15   |_asmfunc int packed_strlen( _packed BYTE _Y * _Y p);
                            31176 ; 16   |
                            31177 ; 17   |_asmfunc _packed BYTE _Y * packed_strncpy( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSrc, int iCount);
                            31178 ; 18   |_asmfunc _packed BYTE _Y * packed_strcpy ( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSrc);
                            31179 ; 19   |
                            31180 ; 20   |
                            31181 ; 21   |_asmfunc int packed_strncmp( _packed BYTE _Y * _Y pLeft,_packed BYTE _Y * _Y pRight, int iCount);
                            31182 ; 22   |_asmfunc int packed_strcmp ( _packed BYTE _Y * _Y pLeft,_packed BYTE _Y * _Y pRight);
                            31183 ; 23   |
                            31184 ; 24   |_asmfunc int packed_strncat( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSource, int iCount);
                            31185 ; 25   |_asmfunc int packed_strcat ( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSource);
                            31186 ; 26   |
                            31187 ; 27   |
                            31188 ; 28   |_asmfunc int strlen(UCS3 _Y * _Y p);
                            31189 ; 29   |
                            31190 ; 30   |_asmfunc UCS3 *strchr(UCS3 _Y * _Y pUnpacked, UCS3 CharToFind);
                            31191 ; 31   |_asmfunc UCS3 *strrchr(UCS3 _Y * _Y pUnpacked, UCS3 CharToFind);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 123

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31192 ; 32   |
                            31193 ; 33   |_asmfunc void strncpy(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource, BYTE iCount);
                            31194 ; 34   |_asmfunc void strcpy(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource);
                            31195 ; 35   |
                            31196 ; 36   |_asmfunc char *strncat(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource, int iCount);
                            31197 ; 37   |_asmfunc char *strcat(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource);
                            31198 ; 38   |
                            31199 ; 39   |_asmfunc int strncmp(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource, int iCount);
                            31200 ; 40   |_asmfunc int strcmp(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource);
                            31201 ; 41   |
                            31202 ; 42   |#endif
                            31203 
                            31205 
                            31206 ; 44   |#include "syscoder.h"
                            31207 
                            31209 
                            31210 ; 1    |//;///////////////////////////////////////////////////////////////////////////////
                            31211 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2001
                            31212 ; 3    |//;
                            31213 ; 4    |//; Filename: syscoder.xref
                            31214 ; 5    |//; Description: Global refs from syscoder.asm
                            31215 ; 6    |//;///////////////////////////////////////////////////////////////////////////////
                            31216 ; 7    |
                            31217 ; 8    |#ifndef SYSCODER_XREF_C
                            31218 ; 9    |#define SYSCODER_XREF_C
                            31219 ; 10   |
                            31220 ; 11   |typedef struct {
                            31221 ; 12   |    WORD wMinutes;
                            31222 ; 13   |    WORD wSeconds;
                            31223 ; 14   |}SONGTIME;
                            31224 ; 15   |
                            31225 ; 16   |// Functions  
                            31226 ; 17   |extern _fract       _Y g_frSongSecondsPerByte;
                            31227 ; 18   |extern unsigned int _Y g_wSongCurrentMinutes;
                            31228 ; 19   |extern unsigned int _Y g_wSongCurrentSeconds;
                            31229 ; 20   |extern unsigned int _Y g_wSongTotalMinutes;
                            31230 ; 21   |extern unsigned int _Y g_wSongTotalSeconds;
                            31231 ; 22   |extern unsigned int _Y g_wSongRemainMinutes; 
                            31232 ; 23   |extern unsigned int _Y g_wSongRemainSeconds;
                            31233 ; 24   |extern unsigned int _Y g_wCurrentSongNumber;
                            31234 ; 25   |extern unsigned int _Y g_wTotalSongCount;
                            31235 ; 26   |
                            31236 ; 27   |extern unsigned int _Y g_wAccumulatedSecs;    // Added for mp3 VBR support.
                            31237 ; 28   |extern unsigned int _Y g_wAccumulatedMSecs;
                            31238 
                            31243 
                            31244 ; 29   |
                            31245 ; 30   |extern _asmfunc SONGTIME DecGetCurrentTime(void);
                            31246 ; 31   |extern _asmfunc DWORD DecGetSongPos(void);
                            31247 ; 32   |extern _asmfunc RETCODE DecSetSongPos(DWORD);
                            31248 ; 33   |extern _asmfunc void DecSetSongPosZero(void);
                            31249 ; 34   |extern _asmfunc void DecSetSongPosEnd(void);
                            31250 ; 35   |extern _asmfunc void DecClearSongTime(void);
                            31251 ; 36   |extern _asmfunc void SysSetDecoderResource(INT);
                            31252 ; 37   |
                            31253 ; 38   |#endif // SYSCODER_XREF
                            31254 ; 39   |
                            31255 ; 40   |
                            31256 ; 41   |
                            31257 ; 42   |
                            31258 
                            31260 
                            31261 ; 45   |#pragma asm
                            31266 ; 50   |#pragma endasm
                            31267 ; 51   |#else
                            31268 ; 52   |#ifdef  USE_PLAYLIST5
                            31269 ; 53   |#include "playlist5.h"
                            31270 ; 54   |#include "sysspeed.h"
                            31271 ; 55   |#include "filesystem.h"
                            31272 ; 56   |#endif
                            31273 ; 57   |#endif
                            31274 ; 58   |#endif
                            31275 ; 59   |#endif
                            31276 ; 60   |#ifdef WOW
                            31277 ; 61   |#include "wowmenu.h"
                            31278 ; 62   |#include "sysresource.h"
                            31279 ; 63   |#endif
                            31280 ; 64   |
                            31281 ; 65   |#define AUTO_FOLDER_SIZE    18
                            31282 ; 66   |
                            31283 ; 67   |#include "eqmenu.h"
                            31284 
                            31286 
                            31287 ; 1    |#ifndef _EQ_H
                            31288 ; 2    |#define _EQ_H
                            31289 ; 3    |
                            31290 ; 4    |#include "types.h"
                            31291 
                            31293 
                            31294 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            31295 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            31296 ; 3    |//
                            31297 ; 4    |// Filename: types.h
                            31298 ; 5    |// Description: Standard data types
                            31299 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            31300 ; 7    |
                            31301 ; 8    |#ifndef _TYPES_H
                            31302 ; 9    |#define _TYPES_H
                            31303 ; 10   |
                            31304 ; 11   |// TODO:  move this outta here!
                            31305 ; 12   |#if !defined(NOERROR)
                            31306 ; 13   |#define NOERROR 0
                            31307 ; 14   |#define SUCCESS 0
                            31308 ; 15   |#endif 
                            31309 ; 16   |#if !defined(SUCCESS)
                            31310 ; 17   |#define SUCCESS  0
                            31311 ; 18   |#endif
                            31312 ; 19   |#if !defined(ERROR)
                            31313 ; 20   |#define ERROR   -1
                            31314 ; 21   |#endif
                            31315 ; 22   |#if !defined(FALSE)
                            31316 ; 23   |#define FALSE 0
                            31317 ; 24   |#endif
                            31318 ; 25   |#if !defined(TRUE)
                            31319 ; 26   |#define TRUE  1
                            31320 ; 27   |#endif
                            31321 ; 28   |
                            31322 ; 29   |#if !defined(NULL)
                            31323 ; 30   |#define NULL 0
                            31324 ; 31   |#endif
                            31325 ; 32   |
                            31326 ; 33   |#define MAX_INT     0x7FFFFF
                            31327 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            31328 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            31329 ; 36   |#define MAX_ULONG   (-1) 
                            31330 ; 37   |
                            31331 ; 38   |#define WORD_SIZE   24              // word size in bits
                            31332 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            31333 ; 40   |
                            31334 ; 41   |
                            31335 ; 42   |#define BYTE    unsigned char       // btVarName
                            31336 ; 43   |#define CHAR    signed char         // cVarName
                            31337 ; 44   |#define USHORT  unsigned short      // usVarName
                            31338 ; 45   |#define SHORT   unsigned short      // sVarName
                            31339 ; 46   |#define WORD    unsigned int        // wVarName
                            31340 ; 47   |#define INT     signed int          // iVarName
                            31341 ; 48   |#define DWORD   unsigned long       // dwVarName
                            31342 ; 49   |#define LONG    signed long         // lVarName
                            31343 ; 50   |#define BOOL    unsigned int        // bVarName
                            31344 ; 51   |#define FRACT   _fract              // frVarName
                            31345 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            31346 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            31347 ; 54   |#define FLOAT   float               // fVarName
                            31348 ; 55   |#define DBL     double              // dVarName
                            31349 ; 56   |#define ENUM    enum                // eVarName
                            31350 ; 57   |#define CMX     _complex            // cmxVarName
                            31351 ; 58   |typedef WORD UCS3;                   // 
                            31352 ; 59   |
                            31353 ; 60   |#define UINT16  unsigned short
                            31354 ; 61   |#define UINT8   unsigned char   
                            31355 ; 62   |#define UINT32  unsigned long
                            31356 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            31357 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            31358 ; 65   |#define WCHAR   UINT16
                            31359 ; 66   |
                            31360 ; 67   |//UINT128 is 16 bytes or 6 words
                            31361 ; 68   |typedef struct UINT128_3500 {   
                            31362 ; 69   |    int val[6];     
                            31363 ; 70   |} UINT128_3500;
                            31364 ; 71   |
                            31365 ; 72   |#define UINT128   UINT128_3500
                            31366 ; 73   |
                            31367 ; 74   |// Little endian word packed byte strings:   
                            31368 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            31369 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            31370 ; 77   |// Little endian word packed byte strings:   
                            31371 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            31372 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            31373 ; 80   |
                            31374 ; 81   |// Declare Memory Spaces To Use When Coding
                            31375 ; 82   |// A. Sector Buffers
                            31376 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            31377 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            31378 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            31379 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            31380 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            31381 ; 88   |// B. Media DDI Memory
                            31382 ; 89   |#define MEDIA_DDI_MEM _Y
                            31383 ; 90   |
                            31384 ; 91   |
                            31385 ; 92   |
                            31386 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            31387 ; 94   |// Examples of circular pointers:
                            31388 ; 95   |//    INT CIRC cpiVarName
                            31389 ; 96   |//    DWORD CIRC cpdwVarName
                            31390 ; 97   |
                            31391 ; 98   |#define RETCODE INT                 // rcVarName
                            31392 ; 99   |
                            31393 ; 100  |// generic bitfield structure
                            31394 ; 101  |struct Bitfield {
                            31395 ; 102  |    unsigned int B0  :1;
                            31396 ; 103  |    unsigned int B1  :1;
                            31397 ; 104  |    unsigned int B2  :1;
                            31398 ; 105  |    unsigned int B3  :1;
                            31399 ; 106  |    unsigned int B4  :1;
                            31400 ; 107  |    unsigned int B5  :1;
                            31401 ; 108  |    unsigned int B6  :1;
                            31402 ; 109  |    unsigned int B7  :1;
                            31403 ; 110  |    unsigned int B8  :1;
                            31404 ; 111  |    unsigned int B9  :1;
                            31405 ; 112  |    unsigned int B10 :1;
                            31406 ; 113  |    unsigned int B11 :1;
                            31407 ; 114  |    unsigned int B12 :1;
                            31408 ; 115  |    unsigned int B13 :1;
                            31409 ; 116  |    unsigned int B14 :1;
                            31410 ; 117  |    unsigned int B15 :1;
                            31411 ; 118  |    unsigned int B16 :1;
                            31412 ; 119  |    unsigned int B17 :1;
                            31413 ; 120  |    unsigned int B18 :1;
                            31414 ; 121  |    unsigned int B19 :1;
                            31415 ; 122  |    unsigned int B20 :1;
                            31416 ; 123  |    unsigned int B21 :1;
                            31417 ; 124  |    unsigned int B22 :1;
                            31418 ; 125  |    unsigned int B23 :1;
                            31419 ; 126  |};
                            31420 ; 127  |
                            31421 ; 128  |union BitInt {
                            31422 ; 129  |        struct Bitfield B;
                            31423 ; 130  |        int        I;
                            31424 ; 131  |};
                            31425 ; 132  |
                            31426 ; 133  |#define MAX_MSG_LENGTH 10
                            31427 ; 134  |struct CMessage
                            31428 ; 135  |{
                            31429 ; 136  |        unsigned int m_uLength;
                            31430 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            31431 ; 138  |};
                            31432 ; 139  |
                            31433 ; 140  |typedef struct {
                            31434 ; 141  |    WORD m_wLength;
                            31435 ; 142  |    WORD m_wMessage;
                            31436 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            31437 ; 144  |} Message;
                            31438 ; 145  |
                            31439 ; 146  |struct MessageQueueDescriptor
                            31440 ; 147  |{
                            31441 ; 148  |        int *m_pBase;
                            31442 ; 149  |        int m_iModulo;
                            31443 ; 150  |        int m_iSize;
                            31444 ; 151  |        int *m_pHead;
                            31445 ; 152  |        int *m_pTail;
                            31446 ; 153  |};
                            31447 ; 154  |
                            31448 ; 155  |struct ModuleEntry
                            31449 ; 156  |{
                            31450 ; 157  |    int m_iSignaledEventMask;
                            31451 ; 158  |    int m_iWaitEventMask;
                            31452 ; 159  |    int m_iResourceOfCode;
                            31453 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            31454 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            31455 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 124

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31456 ; 163  |    int m_uTimeOutHigh;
                            31457 ; 164  |    int m_uTimeOutLow;
                            31458 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            31459 ; 166  |};
                            31460 ; 167  |
                            31461 ; 168  |union WaitMask{
                            31462 ; 169  |    struct B{
                            31463 ; 170  |        unsigned int m_bNone     :1;
                            31464 ; 171  |        unsigned int m_bMessage  :1;
                            31465 ; 172  |        unsigned int m_bTimer    :1;
                            31466 ; 173  |        unsigned int m_bButton   :1;
                            31467 ; 174  |    } B;
                            31468 ; 175  |    int I;
                            31469 ; 176  |} ;
                            31470 ; 177  |
                            31471 ; 178  |
                            31472 ; 179  |struct Button {
                            31473 ; 180  |        WORD wButtonEvent;
                            31474 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            31475 ; 182  |};
                            31476 ; 183  |
                            31477 ; 184  |struct Message {
                            31478 ; 185  |        WORD wMsgLength;
                            31479 ; 186  |        WORD wMsgCommand;
                            31480 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            31481 ; 188  |};
                            31482 ; 189  |
                            31483 ; 190  |union EventTypes {
                            31484 ; 191  |        struct CMessage msg;
                            31485 ; 192  |        struct Button Button ;
                            31486 ; 193  |        struct Message Message;
                            31487 ; 194  |};
                            31488 ; 195  |
                            31489 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            31490 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            31491 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            31492 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            31493 ; 200  |
                            31494 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            31495 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            31496 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            31497 ; 204  |
                            31498 ; 205  |#if DEBUG
                            31499 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            31500 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            31501 ; 208  |#else 
                            31502 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            31503 ; 210  |#define DebugBuildAssert(x)    
                            31504 ; 211  |#endif
                            31505 ; 212  |
                            31506 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            31507 ; 214  |//  #pragma asm
                            31508 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            31509 ; 216  |//  #pragma endasm
                            31510 ; 217  |
                            31511 ; 218  |
                            31512 ; 219  |#ifdef COLOR_262K
                            31513 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            31514 ; 221  |#elif defined(COLOR_65K)
                            31515 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            31516 ; 223  |#else
                            31517 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            31518 ; 225  |#endif
                            31519 ; 226  |    
                            31520 ; 227  |#endif // #ifndef _TYPES_H
                            31521 
                            31523 
                            31524 ; 5    |
                            31525 ; 6    |// Order of EQ selection
                            31526 ; 7    |// must match order of struct MenuItem defined in Eqmenu.c
                            31527 ; 8    |#define FIRST_EQ    0
                            31528 ; 9    |#define EQ_NORMAL   0
                            31529 ; 10   |#define EQ_ROCK     1
                            31530 ; 11   |#define EQ_JAZZ     2   
                            31531 ; 12   |#define EQ_CLASSIC  3   
                            31532 ; 13   |#define EQ_POP      4
                            31533 ; 14   |#define EQ_CUSTOM   5
                            31534 ; 15   |#define LAST_EQ     5
                            31535 ; 16   |#define EQMENU_COUNT   LAST_EQ+1
                            31536 ; 17   |
                            31537 ; 18   |// Band Pass Filter Center Frequencies  (SDK2.520)
                            31538 ; 19   |#define CENTER_FREQ1  80    // 80 Hz  (see 'CenterFreq' defined in Geqmem.asm)
                            31539 ; 20   |#define CENTER_FREQ2  250
                            31540 ; 21   |#define CENTER_FREQ3  1000
                            31541 ; 22   |#define CENTER_FREQ4  4000
                            31542 ; 23   |#define CENTER_FREQ5  12000
                            31543 ; 24   |
                            31544 ; 25   |#define EQ_BAND_FIRST 0
                            31545 ; 26   |#define EQ_BAND1      0
                            31546 ; 27   |#define EQ_BAND2      1
                            31547 ; 28   |#define EQ_BAND3      2
                            31548 ; 29   |#define EQ_BAND4      3
                            31549 ; 30   |#define EQ_BAND5      4
                            31550 ; 31   |#define EQ_BAND_LAST  4
                            31551 ; 32   |#define NUM_EQ_BANDS EQ_BAND_LAST + 1
                            31552 ; 33   |
                            31553 ; 34   |#define EQ_ROCK_GAIN1    18
                            31554 ; 35   |#define EQ_ROCK_GAIN2   -4
                            31555 ; 36   |#define EQ_ROCK_GAIN3   -2
                            31556 ; 37   |#define EQ_ROCK_GAIN4    14
                            31557 ; 38   |#define EQ_ROCK_GAIN5    14
                            31558 ; 39   |
                            31559 ; 40   |#define EQ_JAZZ_GAIN1    12
                            31560 ; 41   |#define EQ_JAZZ_GAIN2   -2
                            31561 ; 42   |#define EQ_JAZZ_GAIN3   -4
                            31562 ; 43   |#define EQ_JAZZ_GAIN4    0
                            31563 ; 44   |#define EQ_JAZZ_GAIN5    8
                            31564 ; 45   |
                            31565 ; 46   |#define EQ_CLASS_GAIN1   0
                            31566 ; 47   |#define EQ_CLASS_GAIN2   0
                            31567 ; 48   |#define EQ_CLASS_GAIN3   0
                            31568 ; 49   |#define EQ_CLASS_GAIN4  -7
                            31569 ; 50   |#define EQ_CLASS_GAIN5  -10
                            31570 ; 51   |
                            31571 ; 52   |#define EQ_POP_GAIN1    -4
                            31572 ; 53   |#define EQ_POP_GAIN2     8
                            31573 ; 54   |#define EQ_POP_GAIN3     8
                            31574 ; 55   |#define EQ_POP_GAIN4    -2
                            31575 ; 56   |#define EQ_POP_GAIN5     0
                            31576 ; 57   |
                            31577 ; 58   |#define EQ_NORM_GAIN1    0
                            31578 ; 59   |#define EQ_NORM_GAIN2    0
                            31579 ; 60   |#define EQ_NORM_GAIN3    0
                            31580 ; 61   |#define EQ_NORM_GAIN4    0
                            31581 ; 62   |#define EQ_NORM_GAIN5    0
                            31582 ; 63   |
                            31583 ; 64   |// dB gain level:  number of 0.5dB units
                            31584 ; 65   |#define EQ_MAX_GAIN      28    // +14dB  (see 'dBTable' defined in Geqmem.asm)
                            31585 ; 66   |#define EQ_ZERO_GAIN     0     //  0 dB  (see 'ZerodBPoint')
                            31586 ; 67   |#define EQ_MIN_GAIN     -28    // -14dB  (divide gain by 2 to get dB)
                            31587 ; 68   |
                            31588 ; 69   |extern INT g_iEqSetting;
                            31589 ; 70   |
                            31590 ; 71   |#endif
                            31591 
                            31593 
                            31594 ; 68   |
                            31595 ; 69   |#ifdef SPECTRUM_ANAL
                            31596 ; 70   |#include "spectrogram.h"
                            31597 ; 71   |#endif
                            31598 ; 72   |
                            31599 ; 73   |#include "recordsettingsmenu.h"
                            31600 
                            31602 
                            31603 ; 1    |#ifndef _RECORDSETTINGS_MENU_H
                            31604 ; 2    |#define _RECORDSETTINGS_MENU_H
                            31605 ; 3    |
                            31606 ; 4    |// menus in settings menu
                            31607 ; 5    |// defines order of selection
                            31608 ; 6    |#define RECORDSETTINGSMENU_FIRST        0
                            31609 ; 7    |#define RECORDSETTINGSMENU_SOURCE       0
                            31610 ; 8    |#define RECORDSETTINGSMENU_ENCODER      1
                            31611 ; 9    |#define RECORDSETTINGSMENU_CHANNELS     2
                            31612 ; 10   |#define RECORDSETTINGSMENU_DESTINATION  3
                            31613 ; 11   |#define RECORDSETTINGSMENU_SAMPLERATE   4
                            31614 ; 12   |#define RECORDSETTINGSMENU_BITRATE      5
                            31615 ; 13   |#define RECORDSETTINGSMENU_MODE         6
                            31616 ; 14   |#define RECORDSETTINGSMENU_EXIT         7
                            31617 ; 15   |#define RECORDSETTINGSMENU_LAST         7
                            31618 ; 16   |#define RECORDSETTINGSMENU_COUNT  (RECORDSETTINGSMENU_LAST+1)
                            31619 ; 17   |
                            31620 ; 18   |#define SOURCE_FIRST        0
                            31621 ; 19   |#define SOURCE_MIC          0
                            31622 ; 20   |#define SOURCE_FM               1          
                            31623 ; 21   |#define SOURCE_LINEIN       2      //Used as line-in 1 for 144 pin package
                            31624 ; 22   |#ifdef FMTUNER_ON_LINE2_IN         
                            31625 ; 23   |        #define SOURCE_LAST     SOURCE_LINEIN               
                            31626 ; 24   |#else
                            31627 ; 25   |        #define SOURCE_LAST     SOURCE_LINEIN //SOURCE_FM               //if using the 100 pin package, skip Line-In
                            31628 ; 26   |#endif
                            31629 ; 27   |  
                            31630 ; 28   |#define SOURCE_COUNT        (SOURCE_LAST+1)
                            31631 ; 29   |
                            31632 ; 30   |#define ENCODER_FIRST       0
                            31633 ; 31   |#define ENCODER_IMADPCM     0
                            31634 ; 32   |#define ENCODER_MSADPCM     1
                            31635 ; 33   |#define ENCODER_PCM         2
                            31636 ; 34   |#ifdef TEST
                            31637 ; 35   |    #ifdef MP3_ENCODE
                            31638 ; 36   |        #define ENCODER_MP3         3
                            31639 ; 37   |        #define ENCODER_ALL                     4
                            31640 ; 38   |        #define ENCODER_LAST        4
                            31641 ; 39   |    #else
                            31642 ; 40   |        #define ENCODER_MP3         (WORD)-1
                            31643 ; 41   |        #define ENCODER_LAST        3
                            31644 ; 42   |        #define ENCODER_ALL                     3
                            31645 ; 43   |    #endif
                            31646 ; 44   |#else
                            31647 ; 45   |        #ifdef MP3_ENCODE
                            31648 ; 46   |                #define ENCODER_MP3         3
                            31649 ; 47   |                #define ENCODER_LAST        3
                            31650 ; 48   |        #else
                            31651 ; 49   |                #define ENCODER_MP3         (WORD)-1
                            31652 ; 50   |                #define ENCODER_LAST        2
                            31653 ; 51   |        #endif
                            31654 ; 52   |#endif
                            31655 ; 53   |#define IMADPCM             0x11
                            31656 ; 54   |#define MSADPCM             2
                            31657 ; 55   |#define WPCM                1
                            31658 ; 56   |#define ENCODER_COUNT       (ENCODER_LAST+1)
                            31659 ; 57   |
                            31660 ; 58   |#define MODE_FIRST       0  // this number represents the # channels too
                            31661 ; 59   |#define MODE_ALBUM       0
                            31662 ; 60   |#define MODE_SONG        1
                            31663 ; 61   |#define MODE_LAST        1
                            31664 ; 62   |#define MODE_COUNT      (MODE_LAST+1)
                            31665 ; 63   |
                            31666 ; 64   |
                            31667 ; 65   |#define CHANNELS_FIRST      1  // this number represents the # channels too
                            31668 ; 66   |#define CHANNELS_MONO       1
                            31669 ; 67   |#define CHANNELS_STEREO     2
                            31670 ; 68   |#define CHANNELS_LAST       2
                            31671 ; 69   |#define CHANNELS_COUNT      (CHANNELS_LAST)
                            31672 ; 70   |
                            31673 ; 71   |#define DESTINATION_FIRST       0
                            31674 ; 72   |#define DESTINATION_INTERNAL    0
                            31675 ; 73   |#define DESTINATION_EXTERNAL    1    
                            31676 ; 74   |#ifdef TEST
                            31677 ; 75   |        #define DESTINATION_ALL         2 
                            31678 ; 76   |        #define DESTINATION_LAST        2
                            31679 ; 77   |        #define DESTINATION_COUNT       (DESTINATION_COUNT+1)
                            31680 ; 78   |#else
                            31681 ; 79   |        #define DESTINATION_LAST        1
                            31682 ; 80   |        #define DESTINATION_COUNT       (DESTINATION_COUNT+1)
                            31683 ; 81   |#endif
                            31684 ; 82   |
                            31685 ; 83   |#define SAMPLE_RATE_FIRST     0
                            31686 ; 84   |#define SAMPLE_RATE_8000HZ    0
                            31687 ; 85   |#define SAMPLE_RATE_11025HZ   1
                            31688 ; 86   |#define SAMPLE_RATE_16000HZ   2
                            31689 ; 87   |#define SAMPLE_RATE_22050HZ   3
                            31690 ; 88   |#define SAMPLE_RATE_32000HZ   4
                            31691 ; 89   |#define SAMPLE_RATE_44100HZ   5
                            31692 ; 90   |#define SAMPLE_RATE_48000HZ   6
                            31693 ; 91   |#define SAMPLE_RATE_LAST      6
                            31694 ; 92   |#define SAMPLE_RATE_COUNT     (SAMPLE_RATE_ADPCM_LAST+1)
                            31695 ; 93   |
                            31696 ; 94   |#define BITRATE_FIRST     1
                            31697 ; 95   |#define BITRATE_32000HZ   1
                            31698 ; 96   |#define BITRATE_40000HZ   2
                            31699 ; 97   |#define BITRATE_48000HZ   3
                            31700 ; 98   |#define BITRATE_56000HZ   4
                            31701 ; 99   |#define BITRATE_64000HZ   5
                            31702 ; 100  |#define BITRATE_80000HZ   6
                            31703 ; 101  |#define BITRATE_96000HZ   7
                            31704 ; 102  |#define BITRATE_112000HZ   8
                            31705 ; 103  |#define BITRATE_128000HZ   9
                            31706 ; 104  |#define BITRATE_160000HZ   10
                            31707 ; 105  |#define BITRATE_192000HZ   11
                            31708 ; 106  |#define BITRATE_224000HZ   12
                            31709 ; 107  |#define BITRATE_256000HZ   13
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 125

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31710 ; 108  |#define BITRATE_320000HZ   14
                            31711 ; 109  |#define BITRATE_LAST      14
                            31712 ; 110  |
                            31713 ; 111  |#define  BITS_FIRST     0
                            31714 ; 112  |#define  BITS_4         0    
                            31715 ; 113  |#define  BITS_8         1
                            31716 ; 114  |#define  BITS_16        2
                            31717 ; 115  |#define  BITS_24        3
                            31718 ; 116  |#define  BITS_LAST      3
                            31719 ; 117  |#define  BITS_COUNT     (BITS_LAST +1)
                            31720 ; 118  |
                            31721 ; 119  |
                            31722 ; 120  |extern int g_ADCsource;
                            31723 ; 121  |
                            31724 ; 122  |//if you change the size of this structure, you MUST change 
                            31725 ; 123  |//the saverange macro in recordsettingsmenu.c (very bottom).
                            31726 ; 124  |struct RecorderSettings
                            31727 ; 125  |{
                            31728 ; 126  |    WORD m_Encoder;
                            31729 ; 127  |    WORD m_EncoderNo;
                            31730 ; 128  |    WORD m_iChannels;
                            31731 ; 129  |    WORD m_iDestinationDevice;
                            31732 ; 130  |    WORD m_iSampleRateInHz;
                            31733 ; 131  |    WORD m_iBitRateInKbps;
                            31734 ; 132  |        WORD m_iMode;
                            31735 ; 133  |    WORD m_ibits;
                            31736 ; 134  |};
                            31737 ; 135  |
                            31738 ; 136  |extern struct RecorderSettings g_RecorderSettings[];
                            31739 ; 137  |
                            31740 ; 138  |#endif
                            31741 
                            31743 
                            31744 ; 74   |#include "playerlib.h"
                            31745 
                            31747 
                            31748 ; 1    |#ifndef _PLAYERLIB_H
                            31749 ; 2    |#define _PLAYERLIB_H
                            31750 ; 3    |
                            31751 ; 4    |#include "types.h"
                            31752 
                            31754 
                            31755 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            31756 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            31757 ; 3    |//
                            31758 ; 4    |// Filename: types.h
                            31759 ; 5    |// Description: Standard data types
                            31760 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            31761 ; 7    |
                            31762 ; 8    |#ifndef _TYPES_H
                            31763 ; 9    |#define _TYPES_H
                            31764 ; 10   |
                            31765 ; 11   |// TODO:  move this outta here!
                            31766 ; 12   |#if !defined(NOERROR)
                            31767 ; 13   |#define NOERROR 0
                            31768 ; 14   |#define SUCCESS 0
                            31769 ; 15   |#endif 
                            31770 ; 16   |#if !defined(SUCCESS)
                            31771 ; 17   |#define SUCCESS  0
                            31772 ; 18   |#endif
                            31773 ; 19   |#if !defined(ERROR)
                            31774 ; 20   |#define ERROR   -1
                            31775 ; 21   |#endif
                            31776 ; 22   |#if !defined(FALSE)
                            31777 ; 23   |#define FALSE 0
                            31778 ; 24   |#endif
                            31779 ; 25   |#if !defined(TRUE)
                            31780 ; 26   |#define TRUE  1
                            31781 ; 27   |#endif
                            31782 ; 28   |
                            31783 ; 29   |#if !defined(NULL)
                            31784 ; 30   |#define NULL 0
                            31785 ; 31   |#endif
                            31786 ; 32   |
                            31787 ; 33   |#define MAX_INT     0x7FFFFF
                            31788 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            31789 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            31790 ; 36   |#define MAX_ULONG   (-1) 
                            31791 ; 37   |
                            31792 ; 38   |#define WORD_SIZE   24              // word size in bits
                            31793 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            31794 ; 40   |
                            31795 ; 41   |
                            31796 ; 42   |#define BYTE    unsigned char       // btVarName
                            31797 ; 43   |#define CHAR    signed char         // cVarName
                            31798 ; 44   |#define USHORT  unsigned short      // usVarName
                            31799 ; 45   |#define SHORT   unsigned short      // sVarName
                            31800 ; 46   |#define WORD    unsigned int        // wVarName
                            31801 ; 47   |#define INT     signed int          // iVarName
                            31802 ; 48   |#define DWORD   unsigned long       // dwVarName
                            31803 ; 49   |#define LONG    signed long         // lVarName
                            31804 ; 50   |#define BOOL    unsigned int        // bVarName
                            31805 ; 51   |#define FRACT   _fract              // frVarName
                            31806 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            31807 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            31808 ; 54   |#define FLOAT   float               // fVarName
                            31809 ; 55   |#define DBL     double              // dVarName
                            31810 ; 56   |#define ENUM    enum                // eVarName
                            31811 ; 57   |#define CMX     _complex            // cmxVarName
                            31812 ; 58   |typedef WORD UCS3;                   // 
                            31813 ; 59   |
                            31814 ; 60   |#define UINT16  unsigned short
                            31815 ; 61   |#define UINT8   unsigned char   
                            31816 ; 62   |#define UINT32  unsigned long
                            31817 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            31818 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            31819 ; 65   |#define WCHAR   UINT16
                            31820 ; 66   |
                            31821 ; 67   |//UINT128 is 16 bytes or 6 words
                            31822 ; 68   |typedef struct UINT128_3500 {   
                            31823 ; 69   |    int val[6];     
                            31824 ; 70   |} UINT128_3500;
                            31825 ; 71   |
                            31826 ; 72   |#define UINT128   UINT128_3500
                            31827 ; 73   |
                            31828 ; 74   |// Little endian word packed byte strings:   
                            31829 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            31830 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            31831 ; 77   |// Little endian word packed byte strings:   
                            31832 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            31833 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            31834 ; 80   |
                            31835 ; 81   |// Declare Memory Spaces To Use When Coding
                            31836 ; 82   |// A. Sector Buffers
                            31837 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            31838 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            31839 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            31840 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            31841 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            31842 ; 88   |// B. Media DDI Memory
                            31843 ; 89   |#define MEDIA_DDI_MEM _Y
                            31844 ; 90   |
                            31845 ; 91   |
                            31846 ; 92   |
                            31847 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            31848 ; 94   |// Examples of circular pointers:
                            31849 ; 95   |//    INT CIRC cpiVarName
                            31850 ; 96   |//    DWORD CIRC cpdwVarName
                            31851 ; 97   |
                            31852 ; 98   |#define RETCODE INT                 // rcVarName
                            31853 ; 99   |
                            31854 ; 100  |// generic bitfield structure
                            31855 ; 101  |struct Bitfield {
                            31856 ; 102  |    unsigned int B0  :1;
                            31857 ; 103  |    unsigned int B1  :1;
                            31858 ; 104  |    unsigned int B2  :1;
                            31859 ; 105  |    unsigned int B3  :1;
                            31860 ; 106  |    unsigned int B4  :1;
                            31861 ; 107  |    unsigned int B5  :1;
                            31862 ; 108  |    unsigned int B6  :1;
                            31863 ; 109  |    unsigned int B7  :1;
                            31864 ; 110  |    unsigned int B8  :1;
                            31865 ; 111  |    unsigned int B9  :1;
                            31866 ; 112  |    unsigned int B10 :1;
                            31867 ; 113  |    unsigned int B11 :1;
                            31868 ; 114  |    unsigned int B12 :1;
                            31869 ; 115  |    unsigned int B13 :1;
                            31870 ; 116  |    unsigned int B14 :1;
                            31871 ; 117  |    unsigned int B15 :1;
                            31872 ; 118  |    unsigned int B16 :1;
                            31873 ; 119  |    unsigned int B17 :1;
                            31874 ; 120  |    unsigned int B18 :1;
                            31875 ; 121  |    unsigned int B19 :1;
                            31876 ; 122  |    unsigned int B20 :1;
                            31877 ; 123  |    unsigned int B21 :1;
                            31878 ; 124  |    unsigned int B22 :1;
                            31879 ; 125  |    unsigned int B23 :1;
                            31880 ; 126  |};
                            31881 ; 127  |
                            31882 ; 128  |union BitInt {
                            31883 ; 129  |        struct Bitfield B;
                            31884 ; 130  |        int        I;
                            31885 ; 131  |};
                            31886 ; 132  |
                            31887 ; 133  |#define MAX_MSG_LENGTH 10
                            31888 ; 134  |struct CMessage
                            31889 ; 135  |{
                            31890 ; 136  |        unsigned int m_uLength;
                            31891 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            31892 ; 138  |};
                            31893 ; 139  |
                            31894 ; 140  |typedef struct {
                            31895 ; 141  |    WORD m_wLength;
                            31896 ; 142  |    WORD m_wMessage;
                            31897 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            31898 ; 144  |} Message;
                            31899 ; 145  |
                            31900 ; 146  |struct MessageQueueDescriptor
                            31901 ; 147  |{
                            31902 ; 148  |        int *m_pBase;
                            31903 ; 149  |        int m_iModulo;
                            31904 ; 150  |        int m_iSize;
                            31905 ; 151  |        int *m_pHead;
                            31906 ; 152  |        int *m_pTail;
                            31907 ; 153  |};
                            31908 ; 154  |
                            31909 ; 155  |struct ModuleEntry
                            31910 ; 156  |{
                            31911 ; 157  |    int m_iSignaledEventMask;
                            31912 ; 158  |    int m_iWaitEventMask;
                            31913 ; 159  |    int m_iResourceOfCode;
                            31914 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            31915 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            31916 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            31917 ; 163  |    int m_uTimeOutHigh;
                            31918 ; 164  |    int m_uTimeOutLow;
                            31919 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            31920 ; 166  |};
                            31921 ; 167  |
                            31922 ; 168  |union WaitMask{
                            31923 ; 169  |    struct B{
                            31924 ; 170  |        unsigned int m_bNone     :1;
                            31925 ; 171  |        unsigned int m_bMessage  :1;
                            31926 ; 172  |        unsigned int m_bTimer    :1;
                            31927 ; 173  |        unsigned int m_bButton   :1;
                            31928 ; 174  |    } B;
                            31929 ; 175  |    int I;
                            31930 ; 176  |} ;
                            31931 ; 177  |
                            31932 ; 178  |
                            31933 ; 179  |struct Button {
                            31934 ; 180  |        WORD wButtonEvent;
                            31935 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            31936 ; 182  |};
                            31937 ; 183  |
                            31938 ; 184  |struct Message {
                            31939 ; 185  |        WORD wMsgLength;
                            31940 ; 186  |        WORD wMsgCommand;
                            31941 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            31942 ; 188  |};
                            31943 ; 189  |
                            31944 ; 190  |union EventTypes {
                            31945 ; 191  |        struct CMessage msg;
                            31946 ; 192  |        struct Button Button ;
                            31947 ; 193  |        struct Message Message;
                            31948 ; 194  |};
                            31949 ; 195  |
                            31950 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            31951 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            31952 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            31953 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            31954 ; 200  |
                            31955 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            31956 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            31957 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            31958 ; 204  |
                            31959 ; 205  |#if DEBUG
                            31960 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            31961 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            31962 ; 208  |#else 
                            31963 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 126

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31964 ; 210  |#define DebugBuildAssert(x)    
                            31965 ; 211  |#endif
                            31966 ; 212  |
                            31967 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            31968 ; 214  |//  #pragma asm
                            31969 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            31970 ; 216  |//  #pragma endasm
                            31971 ; 217  |
                            31972 ; 218  |
                            31973 ; 219  |#ifdef COLOR_262K
                            31974 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            31975 ; 221  |#elif defined(COLOR_65K)
                            31976 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            31977 ; 223  |#else
                            31978 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            31979 ; 225  |#endif
                            31980 ; 226  |    
                            31981 ; 227  |#endif // #ifndef _TYPES_H
                            31982 
                            31984 
                            31985 ; 5    |#include "playlist.h"
                            31986 
                            31988 
                            31989 ; 1    |#ifndef PLAYLIST_H
                            31990 ; 2    |#define PLAYLIST_H
                            31991 ; 3    |
                            31992 ; 4    |#include "types.h"
                            31993 ; 5    |
                            31994 ; 6    |typedef struct {
                            31995 ; 7    |    WORD    m_wTrack;                       
                            31996 ; 8    |    WORD    m_wDeviceID;
                            31997 ; 9    |    WORD    m_wBufferLength;            //this is in BYTES, not WORDS!
                            31998 ; 10   |    _packed BYTE *m_pFilename;
                            31999 ; 11   |} SONGFILEINFO;
                            32000 ; 12   |
                            32001 ; 13   |#define PLAYLIST_SUCCESS                                0
                            32002 ; 14   |#define PLAYLIST_FILE_ERROR                             1
                            32003 ; 15   |#define PLAYLIST_END_OF_LIST                    2
                            32004 ; 16   |#define PLAYLIST_TRACK_NOT_FOUND                3
                            32005 ; 17   |#define PLAYLIST_DIR_NOT_EMPTY          4 
                            32006 ; 18   |#define PLAYLIST_REBUILD                5
                            32007 ; 19   |#define PLAYLIST_LAST_RETCODE                   5               //The value should always be the same as the last RETCODE
                            32008 ; 20   |
                            32009 ; 21   |
                            32010 ; 22   |#ifdef  USE_PLAYLIST1
                            32011 ; 23   |RETCODE ChangeDIRtoFileEntryDir(struct FileEntry *pCurrentEntry, _packed BYTE * buffer);
                            32012 ; 24   |#endif
                            32013 ; 25   |RETCODE _reentrant Playlist_LFNGetFileName(int,int,UCS3*);                      //UCS3 is actually typdef WORD
                            32014 ; 26   |RETCODE _reentrant Playlist_MarkCurrentSongPlayed(int,int,int*);
                            32015 ; 27   |RETCODE _reentrant Playlist_GetCurrentSongFileInfo(int, int, int*);
                            32016 ; 28   |RETCODE _reentrant Playlist_GetNextSongFileInfo(int, int , int*);
                            32017 ; 29   |RETCODE _reentrant Playlist_GetPreviousSongFileInfo(int,int,int*);
                            32018 ; 30   |#ifdef USE_PLAYLIST1
                            32019 ; 31   |_reentrant INT Playlist_LocateEntryFromName(INT,INT,INT*);
                            32020 ; 32   |#endif
                            32021 ; 33   |
                            32022 ; 34   |#endif 
                            32023 
                            32025 
                            32026 ; 6    |
                            32027 ; 7    |#define DECODER_STATE_STOP          0
                            32028 ; 8    |#define DECODER_STATE_PLAY          1
                            32029 ; 9    |#define DECODER_STATE_PAUSE         2
                            32030 ; 10   |#define DECODER_STATE_TOGGLE    4
                            32031 ; 11   |
                            32032 ; 12   |#define PLAYERLIB_SUCCESS       0
                            32033 ; 13   |#define PLAYERLIB_BAD_FILE      1
                            32034 ; 14   |#define PLAYERLIB_ERROR         2
                            32035 ; 15   |#define PLAYERLIB_END_OF_LIST   3
                            32036 ; 16   |
                            32037 ; 17   |//These are in the DecoderSR/DecoderCSR
                            32038 ; 18   |#define DECODER_PAUSED          1<<5
                            32039 ; 19   |#define DECODER_STOPPED         1<<6
                            32040 ; 20   |#define DECODER_SYNCED          1<<10
                            32041 ; 21   |#define DECODER_PLAYING         1<<12
                            32042 ; 22   |#define DECODER_SONG_INFO       1<<15
                            32043 ; 23   |#define DECODER_FILE_IS_OPEN    1<<16
                            32044 ; 24   |#define DECODER_A_SET           1<<18
                            32045 ; 25   |#define DECODER_B_SET           1<<19
                            32046 ; 26   |#define DECODER_BAD_FILE        1<<21
                            32047 ; 27   |#define DECODER_LOOKING_FOR_SYNC 1<<22
                            32048 ; 28   |
                            32049 ; 29   |//PrevSong Message Parameters
                            32050 ; 30   |#define PREVSONG_STOP        0             //PrevSong + Stopped
                            32051 ; 31   |#define PREVSONG_PLAY        1<<0          //PrevSong + Play
                            32052 ; 32   |#define PREVSONG_RWND        1<<1          //PrevSong + Rwnd
                            32053 ; 33   |//NextSong Message Parameters
                            32054 ; 34   |#define NEXTSONG_STOP        0             //NextSong + Stopped
                            32055 ; 35   |#define NEXTSONG_PLAY_EOF    1             //NextSong + Play + EOF reached
                            32056 ; 36   |#define NEXTSONG_PLAY_BUTTON 3             //NextSong + Play + BUTTON pressed
                            32057 ; 37   |#define NEXTSONG_FFWD        4             //NextSong + Ffwd
                            32058 ; 38   |#define NEXTSONG_DELETE_MENU 5             //NextSong via delete menu
                            32059 ; 39   |//CurrentSong Message Parameters
                            32060 ; 40   |#define CURRENTSONG_DELETE_MENU 1          //CurrentSong via delete menu
                            32061 ; 41   |
                            32062 ; 42   |#ifdef USE_PLAYLIST3
                            32063 ; 43   |extern DWORD    g_CurrentSongFastkey;
                            32064 ; 44   |#endif  // USE_PLAYLIST3
                            32065 ; 45   |
                            32066 ; 46   |#ifdef USE_PLAYLIST5
                            32067 ; 47   |extern long g_CurrentFastKey;
                            32068 ; 48   |#endif //USE_PLAYLIST5
                            32069 ; 49   |RETCODE _reentrant PlayerLib_SetState (int iState,int bWait,int*);  
                            32070 ; 50   |RETCODE _reentrant PlayerLib_FastForward (int bPlayDuring,int,int*);
                            32071 ; 51   |RETCODE _reentrant PlayerLib_Rewind(int bPlayDuring,int,int*);
                            32072 ; 52   |RETCODE _reentrant PlayerLib_SetSongName(int bStartPlaying, int, SONGFILEINFO*);
                            32073 
                            32082 
                            32083 ; 53   |RETCODE _reentrant PlayerLib_GetCurrentSong(WORD wMode,int ignored1,int*ignored2);
                            32084 ; 54   |RETCODE _reentrant PlayerLib_SkipToNextSong(WORD,WORD,int*);
                            32085 ; 55   |RETCODE _reentrant PlayerLib_SkipToPreviousSong(WORD,WORD,int*);
                            32086 ; 56   |RETCODE _reentrant PlayerLib_EnablePlaylist(int bTrueFalse,int,int*);  
                            32087 ; 57   |RETCODE _reentrant PlayerLib_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                            32088 ; 58   |DWORD _reentrant PlayerLib_GetSongPosition(void);
                            32089 ; 59   |RETCODE _reentrant PlayerLib_SetSongPosition(DWORD dwSongPos);
                            32090 ; 60   |////////////////////Bookmarking functions///////////////////////////////
                            32091 ; 61   |RETCODE _reentrant PlayerLib_ResetBookmark(int iCurrentPlayset, int ignored, int* pPtr);
                            32092 ; 62   |RETCODE _reentrant PlayerLib_SetBookmark(int iCurrentPlayset, int iTracknum,int* pPtr);
                            32093 ; 63   |RETCODE _reentrant PlayerLib_GotoTrack(int iTracknum, int ignored, int* ptr);
                            32094 ; 64   |RETCODE _reentrant PlayerLib_GetBookmarkSongInfo(int iCurrentPlayset, int ignored2, int* pPtr);
                            32095 ; 65   |#ifdef USE_PLAYLIST3
                            32096 ; 66   |RETCODE _reentrant PlayerLib_GetCurrentSong_ML(WORD wMode,int ignored1,int*ignored2);
                            32097 ; 67   |#endif // #ifdef USE_PLAYLIST3
                            32098 ; 68   |
                            32099 ; 69   |#endif 
                            32100 
                            32102 
                            32103 ; 75   |#include "fsapi.h"
                            32104 
                            32106 
                            32107 ; 1    |#ifndef _FSAPI_H_
                            32108 ; 2    |#define _FSAPI_H_
                            32109 ; 3    |#include "filespec.h"
                            32110 ; 4    |extern _reentrant LONG Ftell(INT HandleNumber);
                            32111 ; 5    |extern _reentrant LONG Feof(INT HandleNumber);
                            32112 ; 6    |extern _reentrant INT *Fputs(INT HandleNumber,INT *Buffer);
                            32113 ; 7    |extern _reentrant LONG Fread(INT HandleNumber,INT *Buffer,LONG NumBytesToRead,INT Source_Memory,INT MOdulo);
                            32114 ; 8    |extern _reentrant INT Fgetc(INT HandleNumber);
                            32115 ; 9    |extern _reentrant INT Fputc(INT HandleNumber,INT ByteToWrite);
                            32116 ; 10   |extern _reentrant LONG ReadDirectoryRecord(INT HandleNumber,INT RecordNumber,INT *Buffer);
                            32117 ; 11   |extern _reentrant INT Fseek(INT HandleNumber,LONG NumBytesToSeek,INT SeekPosition);
                            32118 ; 12   |extern _reentrant INT Fopen(_packed char *filepath,_packed char *mode);
                            32119 ; 13   |extern _reentrant LONG Fwrite(INT HandleNumber,INT  *Buffer,LONG NumBytesToWrite,INT Source_Memory,INT MOdulo);
                            32120 ; 14   |extern _reentrant LONG Totalfreecluster(INT DeviceNum);
                            32121 ; 15   |extern _reentrant INT Rmdir(_packed char *filepath);
                            32122 ; 16   |extern _reentrant INT Rmdirw(_packed char *filepath);
                            32123 ; 17   |extern _reentrant INT Mkdir(_packed char *filepath);
                            32124 ; 18   |
                            32125 ; 19   |        //      SGTL-HK 27-05-2005
                            32126 ; 20   |extern _reentrant INT Mkdirw(UCS3 *filepath);
                            32127 ; 21   |
                            32128 ; 22   |extern _reentrant INT Chdir(_packed char *filepath);
                            32129 ; 23   |extern _reentrant INT FastOpen(LONG Key,_packed char *mode);
                            32130 ; 24   |
                            32131 ; 25   |extern _reentrant INT Setcwd(_packed char *filepath, _packed char *gCworkingDir,INT index,INT length);
                            32132 ; 26   |extern _reentrant _packed char *Getcwd(void);
                            32133 ; 27   |extern  _reentrant _packed char *Fgets(INT HandleNumber,INT NumBytesToRead, _packed char *Buffer);
                            32134 ; 28   |extern INT  FSInit(INT _X *bufx, INT _Y *bufy, INT maxdevices, INT maxhandles, INT maxcaches);
                            32135 ; 29   |extern INT  FlushCache(void);
                            32136 ; 30   |extern _reentrant INT FsShutDown(void);
                            32137 ; 31   |extern _reentrant LONG GetFileSize(INT HandleNumber);
                            32138 ; 32   |
                            32139 ; 33   |extern _reentrant INT filegetattrib(_packed char *FilePath);
                            32140 ; 34   |extern _reentrant INT Fopenw(INT *filepath,_packed char *mode);
                            32141 ; 35   |extern _reentrant INT Fremove(_packed char *filepath);
                            32142 ; 36   |extern _reentrant INT Fremovew(_packed char *filepath);
                            32143 ; 37   |extern _reentrant void DBCSToUnicode(_packed unsigned char *pDBCS, WORD *pUnicode,INT iLength);
                            32144 ; 38   |extern INT FlushCache(void);
                            32145 ; 39   |extern _reentrant INT DeleteTree(_packed char *Path);
                            32146 ; 40   |extern _reentrant INT Fclose(INT HandleNumber);
                            32147 ; 41   |extern INT FSMediaPresent(INT DeviceNum);
                            32148 ; 42   |extern INT FSFATType (INT DeviceNum);
                            32149 ; 43   |extern  INT _reentrant  GetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            32150 ; 44   |extern _reentrant INT SetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            32151 ; 45   |extern _reentrant LONG FgetFastHandle(INT HandleNumber);
                            32152 ; 46   |
                            32153 ; 47   |extern _reentrant INT ConstructLongFileName(INT HandleNumber, INT RecordNumber, INT *LFNBuffer);
                            32154 ; 48   |extern _reentrant void Uppercase(_packed char *file); 
                            32155 ; 49   |extern _reentrant INT FindNext(INT HandleNumber,Finddata *_finddata);
                            32156 ; 50   |extern _reentrant INT FindFirst(Finddata *_finddata,_packed char *FileName);
                            32157 ; 51   |extern _reentrant void ClearData(Finddata *_finddata);
                            32158 ; 52   |extern _reentrant INT GetShortfilename(LONG Key,INT *Buffer);
                            32159 ; 53   |
                            32160 ; 54   |
                            32161 ; 55   |
                            32162 ; 56   |
                            32163 ; 57   |typedef struct
                            32164 ; 58   |{
                            32165 ; 59   |
                            32166 ; 60   |INT             Day;
                            32167 ; 61   |INT             Month;
                            32168 ; 62   |INT             Year;
                            32169 ; 63   |}DIR_DATE;
                            32170 ; 64   |
                            32171 ; 65   |
                            32172 ; 66   |typedef struct
                            32173 ; 67   |{
                            32174 ; 68   |
                            32175 ; 69   |INT             Second;
                            32176 ; 70   |INT             Minute;
                            32177 ; 71   |INT             Hour;
                            32178 ; 72   |}DIR_TIME;
                            32179 ; 73   |
                            32180 ; 74   |
                            32181 ; 75   |typedef struct
                            32182 ; 76   |{
                            32183 ; 77   |LONG CurrentOffset;     
                            32184 ; 78   |LONG CurrentCluster;
                            32185 ; 79   |}HANDLECONTEXT;
                            32186 ; 80   |
                            32187 ; 81   |extern _reentrant INT filesetattrib(INT HandleNumber,INT dirattribute);
                            32188 ; 82   |extern _reentrant INT filesetdate(_packed char *FilePath,INT crt_mod_date_time_para,DIR_DATE *dirdate,DIR_TIME *dirtime);
                            32189 ; 83   |extern _reentrant INT filegetdate(INT HandleNumber,INT crt_mod_date_time_para,DIR_DATE *dirdate,DIR_TIME *dirtime);
                            32190 ; 84   |#endif
                            32191 
                            32193 
                            32194 ; 76   |#include "battery_config.h"
                            32195 
                            32197 
                            32198 ; 1    |///////////////////////////////////////////////////////////////////////////////
                            32199 ; 2    |// Sigmatel, Inc  copyright (C) 2003-2004
                            32200 ; 3    |// Filename: battery_config.h
                            32201 ; 4    |// Battery Low Resolution ADC values & recharge values 
                            32202 ; 5    |///////////////////////////////////////////////////////////////////////////////
                            32203 ; 6    |
                            32204 ; 7    |#ifdef BATTERY_TYPE_LI_ION
                            32205 ; 8    |    //these are 3500 only
                            32206 ; 9    |    #define VBATT_REF           REF_5120MV
                            32207 ; 10   |    #define VBATT_MIN_MV        3000
                            32208 ; 11   |    #define VBATT_MAX_MV        4200
                            32209 ; 12   |
                            32210 ; 13   |    #define VBATT_BO_MV         3000
                            32211 ; 14   |
                            32212 ; 15   |    #define BATT_BROWNOUT       VBATT_BO_MV
                            32213 ; 16   |
                            32214 ; 17   |    #ifndef LIION_BATTERY_VOLTAGE
                            32215 ; 18   |    //this is in mV
                            32216 ; 19   |    //The reference design uses a 4.2V LiIon battery
                            32217 ; 20   |    #define LIION_BATTERY_VOLTAGE LIION_BATTERY_VOLTAGE_4_2
                            32218 ; 21   |    #endif 
                            32219 ; 22   |
                            32220 ; 23   |    #ifndef LIION_CONDITIONING_VOLTAGE_THRESHHOLD
                            32221 ; 24   |    //This is in millivolts
                            32222 ; 25   |    #define LIION_CONDITIONING_VOLTAGE_THRESHHOLD 3000
                            32223 ; 26   |    #endif
                            32224 ; 27   |
                            32225 ; 28   |    #ifndef LIION_CONDITIONING_CURRENT_LIMIT
                            32226 ; 29   |    //This is in mA.   
                            32227 ; 30   |    //Refer to the battery data sheet for the proper value
                            32228 ; 31   |    //the reference design uses a 400mAh battery that suggests 40mA is a good conditioning current
                            32229 ; 32   |    #define LIION_CONDITIONING_CURRENT_LIMIT 40
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 127

M:ADDR CODE           CYCLES LINE SOURCELINE
                            32230 ; 33   |    #endif 
                            32231 ; 34   |
                            32232 ; 35   |    #ifndef LIION_CHARGING_TIMEOUT
                            32233 ; 36   |    //the default is 4 hours
                            32234 ; 37   |    #define LIION_CHARGING_TIMEOUT  ((DWORD)(DWORD)4*(DWORD)60*(DWORD)60*(DWORD)1000)
                            32235 ; 38   |    #endif 
                            32236 ; 39   |
                            32237 ; 40   |    #ifndef LIION_CHARGING_DIFFERENTIAL_THRESHHOLD
                            32238 ; 41   |    //We want to enter the 'top-off' mode when the voltage differential between
                            32239 ; 42   |    //charging on and off is 20 mV
                            32240 ; 43   |    #define LIION_CHARGING_DIFFERENTIAL_THRESHHOLD  20
                            32241 ; 44   |    #endif 
                            32242 ; 45   |
                            32243 ; 46   |    #ifndef LIION_CHARGING_DIFFERENTIAL_THRESHHOLD_COUNT
                            32244 ; 47   |    //we want 10 samples of the non-charging current to be within the 
                            32245 ; 48   |    //differential threshhold.  
                            32246 ; 49   |
                            32247 ; 50   |#ifdef STMP_BUILD_PLAYER
                            32248 ; 51   |    #define LIION_CHARGING_DIFFERENTIAL_THRESHHOLD_COUNT 5
                            32249 ; 52   |#else
                            32250 ; 53   |    #define LIION_CHARGING_DIFFERENTIAL_THRESHHOLD_COUNT 10
                            32251 ; 54   |#endif
                            32252 ; 55   |    #endif 
                            32253 ; 56   |
                            32254 ; 57   |    #ifndef LIION_CHARGING_CURRENT_LIMIT
                            32255 ; 58   |    //This is in mA.   
                            32256 ; 59   |    //Refer to the battery data sheet for the proper value
                            32257 ; 60   |    //the reference design uses a 400mAh battery that suggests 400mA is a good charging current
                            32258 ; 61   |    #define LIION_CHARGING_CURRENT_LIMIT 400
                            32259 ; 62   |    #endif 
                            32260 ; 63   |
                            32261 ; 64   |    #ifndef LIION_TOPOFF_TIMEOUT
                            32262 ; 65   |    //After we reach that limit, we want to run for a set amount of time to 'top off' the charging
                            32263 ; 66   |    //in this case, 2 minutes (was 30)
                            32264 ; 67   |#ifdef STMP_BUILD_PLAYER
                            32265 ; 68   |    #define LIION_TOPOFF_TIMEOUT ((DWORD)(DWORD)15*(DWORD)60*(DWORD)1000)
                            32266 ; 69   |#else
                            32267 ; 70   |    #define LIION_TOPOFF_TIMEOUT ((DWORD)(DWORD)2*(DWORD)60*(DWORD)1000)
                            32268 ; 71   |#endif
                            32269 ; 72   |    #endif
                            32270 ; 73   |
                            32271 ; 74   |        #ifndef POWER_OFF_FREQUENCY
                            32272 ; 75   |        //Set the Power Off Frequency.  Determines how frequently charging is turned-off.  
                            32273 ; 76   |#ifdef STMP_BUILD_PLAYER
                            32274 ; 77   |        #define POWER_OFF_FREQUENCY 40
                            32275 ; 78   |#else
                            32276 ; 79   |        #define POWER_OFF_FREQUENCY 500
                            32277 ; 80   |#endif
                            32278 ; 81   |        #endif
                            32279 ; 82   |#endif
                            32280 ; 83   |
                            32281 ; 84   |////////////////////////////////////////////////////////////////////////////////
                            32282 ; 85   |#ifdef BATTERY_TYPE_NIMH
                            32283 ; 86   |    #define ONE  1
                            32284 ; 87   |    #define ZERO 0
                            32285 ; 88   |
                            32286 ; 89   |    //NOTE:  Battery is currently Hardcoded to REF_5120MV in USBMSC
                            32287 ; 90   |#ifdef STMP_BUILD_PLAYER
                            32288 ; 91   |    #define VBATT_REF          REF_2700MV
                            32289 ; 92   |    #define VBATT_MIN_MV       900
                            32290 ; 93   |    #define VBATT_MAX_MV       1500
                            32291 ; 94   |    #define VBATT_BO_MV        840
                            32292 ; 95   |#else
                            32293 ; 96   |    #define VBATT_REF          REF_5120MV
                            32294 ; 97   |    #define VBATT_MIN_MV       900
                            32295 ; 98   |    #define VBATT_MAX_MV       1200
                            32296 ; 99   |    #define VBATT_BO_MV        850
                            32297 ; 100  |#endif
                            32298 ; 101  |
                            32299 ; 102  |    #ifdef DEVICE_3500
                            32300 ; 103  |        #define BATT_BROWNOUT                           VBATT_BO_MV
                            32301 ; 104  |    #else
                            32302 ; 105  |        #define BATT_BROWNOUT               HW_LRADC_BO_TRIP_830MV_SETMASK
                            32303 ; 106  |    #endif
                            32304 ; 107  |    // nimh settings above this line are similar to alkaline values below except v max.
                            32305 ; 108  |    
                            32306 ; 109  |    #ifndef NIMH_BATTERY_VOLTAGE
                            32307 ; 110  |    //Units: mV. This is the rated battery voltage.
                            32308 ; 111  |    //The reference design uses a 1.5V NIMH battery
                            32309 ; 112  |    #define NIMH_BATTERY_VOLTAGE NIMH_BATTERY_VOLTAGE_1_2
                            32310 ; 113  |    #endif 
                            32311 ; 114  |
                            32312 ; 115  |    #ifndef NIMH_VOLTAGE_THRESHHOLD_MV
                            32313 ; 116  |    //Units: mV      Stop charging if this ADC battery voltage is measured. This can occur if an alkaline is inserted.
                            32314 ; 117  |    #define NIMH_VOLTAGE_THRESHHOLD_MV 1800
                            32315 ; 118  |    #endif
                            32316 ; 119  |    // 1 enables alkaline detection via brief charge current & voltage threshold check.
                            32317 ; 120  |    #define ALKALINE_DETECTION_IMPULSE_CHARGE_ENABLE 0 /* LEAVE DISABLED. Unimplemented. */
                            32318 ; 121  |
                            32319 ; 122  |    //------- NIMH Detection via exposed batt case check w/ gpio. You must configure a gpio reg & pin num also below.
                            32320 ; 123  |    #define BATTERY_CASE_POLARITY_DETECT_ENABLE 0 // Verified. GPIO pin setup in nimh.c init, External pullup R (47kOhm)
                            32321 ; 124  |    // Explanation: General Purpose Input pin can connect to cylindrical batt end corner. 
                            32322 ; 125  |    // NiMH AAA batteries have ground case exposed at corner, else casing insulation 
                            32323 ; 126  |    //   causes signal to float & external pullup R gives a logic 1 indicating non-nimh. 
                            32324 ; 127  |    // NiMH AA  batteries instead have additional positive terminal exposure (opposite polarity). 
                            32325 ; 128  |    //   Ext transistor can Vlevel shift for gpio logic-1 voltage. 
                            32326 ; 129  |    //   non-NIMH casing will allow gpio pin to stay grounded & gives logic 0.
                            32327 ; 130  |
                            32328 ; 131  |    // SET this to ZERO if your NiMH is AAA or has ground case contact (detects NiMH via case (-) contact)
                            32329 ; 132  |    // SET this to ONE if your NiMH battery is AA (detects NiMH via (+) terminal contact). Requires ext transistor V level shift.
                            32330 ; 133  |    #define NIMH_BATTERY_CASE_LOGIC_LEVEL ZERO
                            32331 ; 134  |    // *** IF YOU HAVE ENABLED, battery case polarity detection (used with nimh), 
                            32332 ; 135  |    //  NOTE: The GP number and bit number in the four macros below must be set to match your input PIN number. 
                            32333 ; 136  |    //    LAYOUT SPECIFIC, but all 3550/3560 qfp and bga can use a single GPIO register & bit num as below. 
                            32334 ; 137  |    //    SigmaTel HW apps recommends pin GP37= pin 17 (100qfp)= pin j7 (bga)= cpu card pin24= GP1 Bit13 per 35xx datasheet.
                            32335 ; 138  |    #define CONFIGURED_GPIO_INPUT_BIT_FOR_BATTERY_CASE_POLARITY ( HW_GP1DIR.B.B13 )
                            32336 ; 139  |    // GPIO Enable register number as GPIO function.
                            32337 ; 140  |    #define CONFIGURED_BATT_CASE_GP_NUM_ENR (HW_GP1ENR)
                            32338 ; 141  |    // Data output enable reg num to use (will be set as input pin in this case)
                            32339 ; 142  |    #define CONFIGURED_BATT_CASE_GP_NUM_DOER  (HW_GP1DOER)
                            32340 ; 143  |    // bit num to use with desired input pin above
                            32341 ; 144  |    #define CONFIGURED_BATT_CASE_GP_BIT  (HW_GP_B13_SETMASK)
                            32342 ; 145  |    
                            32343 ; 146  |    // Error code returned during charging init when case detect feature enabled but cell case not detected.
                            32344 ; 147  |    #define NIMH_POLARITY_NOT_DETECTED (-2)
                            32345 ; 148  |    //------- end batt case polarity detection
                            32346 ; 149  |
                            32347 ; 150  |    //------------------------------------
                            32348 ; 151  |    #ifndef NIMH_EQUILIBRIUM_CHARGING_TIMEOUT_MS
                            32349 ; 152  |    // 0.1C = 10 hr charge, but use 12 hours to more fully charge larger cells. (units: msec)
                            32350 ; 153  |    #define NIMH_EQUILIBRIUM_CHARGING_TIMEOUT_MS ((DWORD)((DWORD)12*(DWORD)60*(DWORD)60*(DWORD)1000))
                            32351 ; 154  |    //#define NIMH_EQUILIBRIUM_CHARGING_TIMEOUT_MS ((DWORD)((DWORD)10*(DWORD)1000)) //10 sec test mode to easily observe transition
                            32352 ; 155  |    #endif 
                            32353 ; 156  |    
                            32354 ; 157  |    #ifndef NIMH_EQUILIBRIUM_CHARGING_CURRENT_LIMIT
                            32355 ; 158  |    // Units: mA. Refer to the battery data sheet for the proper value. 
                            32356 ; 159  |    // Usually 1 C AAA means a charge of 700 mAh, 750 mAh for a few AAA cells (energizer).
                            32357 ; 160  |    // Assume 700mAh battery so EQUILIBRIUM charge at 0.1C rate (1/10th charge/hr) = 70mA. 
                            32358 ; 161  |    // Register options are 60 or 75mA. Suggest 75mA for AAA. AA's have wide mAh range. Use 1/10th of mAh here:
                            32359 ; 162  |    #define NIMH_EQUILIBRIUM_CHARGING_CURRENT_LIMIT 75
                            32360 ; 163  |    #endif   
                            32361 ; 164  |    #ifndef
                            32362 ; 165  |    #define NIMH_TRICKLE_CHARGE_ENABLE 1
                            32363 ; 166  |    #endif
                            32364 ; 167  |    #ifndef NIMH_TRICKLE_CHARGE_CURRENT
                            32365 ; 168  |    #define NIMH_TRICKLE_CHARGE_CURRENT 10  
                            32366 ; 169  |    #endif //25mA is 0.035C rate for a 700mAh cell. 10mA recommended by 35xx charger designer.
                            32367 ; 170  |    //-------------------------------------
                            32368 ; 171  |    #ifndef NIMH_QUICK_CHARGING_TIMEOUT_MS   // NOTE: C/3 quick charging (3.6hrs) is not implemented.
                            32369 ; 172  |    // ~4 hr charge rate of C/3 terminated by one of 3 events: (per Duracell whitepaper) 
                            32370 ; 173  |    //   -dV/minute of 10mV, or 3.6hr timeout (216 minutes), or real temperature>=(60celcius|140F).
                            32371 ; 174  |    // Thermal warning: at this C/3 charge rate, all 3 of the above termination events must be checked.
                            32372 ; 175  |    #define NIMH_QUICK_CHARGING_TIMEOUT_MS ((DWORD)(DWORD)216*(DWORD)60*(DWORD)1000) 
                            32373 ; 176  |    #endif
                            32374 ; 177  |    #ifndef NIMH_QUICK_CHARGING_MV_PER_MINUTE_THRESHOLD
                            32375 ; 178  |    #define NIMH_QUICK_CHARGING_MV_PER_MINUTE_THRESHOLD 10
                            32376 ; 179  |    #endif
                            32377 ; 180  |    #ifndef NIMH_QUICK_CHARGING_TEMPERATURE_LIMIT_C
                            32378 ; 181  |    // For temp check to function:    10celcius|50F < Ambient Temperature < 45celcius|113F
                            32379 ; 182  |    #define NIMH_QUICK_CHARGING_TEMPERATURE_LIMIT_C 60
                            32380 ; 183  |    #endif
                            32381 ; 184  |    #ifndef NIMH_QUICK_CHARGING_TEMPERATURE_LIMIT_F
                            32382 ; 185  |    #define NIMH_QUICK_CHARGING_TEMPERATURE_LIMIT_F 140
                            32383 ; 186  |    #endif
                            32384 ; 187  |    // C/3 = 700mA/3 = 233 mA, HW supports 235mA. For C=750mAh: 750mA/3= 250mA. 
                            32385 ; 188  |    #ifndef NIMH_QUICK_CHARGING_CURRENT_LIMIT
                            32386 ; 189  |    #define NIMH_QUICK_CHARGING_CURRENT_LIMIT 235        
                            32387 ; 190  |    #endif    
                            32388 ; 191  |    //-------------------------------------
                            32389 ; 192  |    #ifndef NIMH_FAST_CHARGING_CURRENT_LIMIT  // NOTE: C/2 Fast charging (2hrs) is not implemented. 
                            32390 ; 193  |    // in units of mA.   Temperature measurement required with this mode. 
                            32391 ; 194  |    #define NIMH_FAST_CHARGING_CURRENT_LIMIT 400
                            32392 ; 195  |    #endif      
                            32393 ; 196  |    #ifndef NIMH_FAST_CHARGING_TOPOFF_TIMEOUT
                            32394 ; 197  |    //After we reach that limit, we may want to run for a set amount of time to 'top off'
                            32395 ; 198  |    //the charging in this case,                       n minutes
                            32396 ; 199  |    #define NIMH_FAST_CHARGING_TOPOFF_TIMEOUT ((DWORD)(DWORD)30*(DWORD)60*(DWORD)1000)
                            32397 ; 200  |    #endif
                            32398 ; 201  |
                            32399 ; 202  |        #ifndef POWER_OFF_FREQUENCY
                            32400 ; 203  |        //Set the Power Off Frequency Count.  Determines how frequently charging is turned-off. 
                            32401 ; 204  |#ifdef STMP_BUILD_PLAYER
                            32402 ; 205  |        #define POWER_OFF_FREQUENCY 40
                            32403 ; 206  |#else
                            32404 ; 207  |        #define POWER_OFF_FREQUENCY 500
                            32405 ; 208  |#endif
                            32406 ; 209  |        #endif
                            32407 ; 210  |    
                            32408 ; 211  |#endif // BATTERY_TYPE_NIMH
                            32409 ; 212  |////////////////////////////////////////////////////////////////////////////////
                            32410 ; 213  |
                            32411 ; 214  |#ifdef BATTERY_TYPE_ALKALINE
                            32412 ; 215  |#ifdef STMP_BUILD_PLAYER
                            32413 ; 216  |    #define VBATT_REF          REF_2700MV
                            32414 ; 217  |    #define VBATT_MIN_MV       900
                            32415 ; 218  |    #define VBATT_MAX_MV       1500
                            32416 ; 219  |    #define VBATT_BO_MV        840
                            32417 ; 220  |#else
                            32418 ; 221  |    #define VBATT_REF          REF_5120MV
                            32419 ; 222  |    #define VBATT_MIN_MV       900
                            32420 ; 223  |    #define VBATT_MAX_MV       1500
                            32421 ; 224  |    #define VBATT_BO_MV        850
                            32422 ; 225  |#endif
                            32423 ; 226  |
                            32424 ; 227  |    #define BATT_BROWNOUT                               VBATT_BO_MV
                            32425 ; 228  |    
                            32426 ; 229  |    #define OXYRIDE_THRESHOLD_MV  1550     // Battery considered Oxyride if avg voltage exceeds 1.55v
                            32427 ; 230  |    #define OXYRIDE_SETBACK_MV     200     // Battery Voltage - VDDD < 200mv for VDDIO stability
                            32428 ; 231  |#endif 
                            32429 
                            32431 
                            32432 ; 77   |#include "micbias.h"
                            32433 
                            32435 
                            32436 ; 1    |// SigmaTel, Inc.  CopyRight (C) 2003    STMP SOC   
                            32437 ; 2    |// Filename: micbias.h
                            32438 ; 3    |
                            32439 ; 4    |
                            32440 ; 5    |_reentrant int EnableStmpGeneratedMicBias(int iLradcNum, int iMicBiasConfiguredResistorKOhms);
                            32441 ; 6    |_reentrant int DisableStmpGeneratedMicBias(int a, int b, int c);
                            32442 ; 7    |
                            32443 
                            32445 
                            32446 ; 78   |
                            32447 ; 79   |#ifdef WOW
                            32448 ; 80   |#include "wow_ed.h"
                            32449 ; 81   |#endif
                            32450 ; 82   |
                            32451 ; 83   |#if defined(TEST)
                            32452 ; 84   |#include "testmenu.h"
                            32453 ; 85   |//#include "playerlib.h"
                            32454 ; 86   |#endif
                            32455 ; 87   |
                            32456 ; 88   |#pragma asm
                            32461 ; 93   |#pragma endasm
                            32462 ; 94   |
                            32463 ; 95   |#ifdef AUDIBLE
                            32464 ; 96   |#include "audiblesongposition.h"
                            32465 ; 97   |#endif
                            32466 ; 98   |
                            32467 ; 99   |#define SHUTDOWN_COUNT 6
                            32468 ; 100  |
                            32469 ; 101  |WORD g_wLastButton=0xffffff;
                            32470 
                            32471 
Y:0000                      32472         org     y,".ydatamainmenu",init:
                            32473 Fg_wLastButton:
Y:0000 FFFFFF               32474         dc      $ffffff
                            32477 
                            32478 ; 102  |#ifdef USE_PLAYLIST3
                            32479 ; 103  |int g_current_index;
                            32480 ; 104  |int g_current_size;
                            32481 ; 105  |extern long FSFreeSpace(int);
                            32482 ; 106  |_packed BYTE g_strMusicLib_FilePath[] = "/:ASUM.CIBIL\0\0\0";
                            32483 
                            32485 Fg_strMusicLib_FilePath:
Y:0001 2F3A41 53554D        32486         dc      "/:ASUM.CIBIL"++$00++$00++$00++$00
       2E4349 42494C              
       000000 000000              
                            32490 
                            32491 ; 107  |_packed BYTE g_strMusicLib_SecTable_FilePath[] = "/:ASUM.CICES\0\0\0";
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 128

M:ADDR CODE           CYCLES LINE SOURCELINE
                            32492 
                            32493 Fg_strMusicLib_SecTable_FilePath:
Y:0007 2F3A41 53554D        32494         dc      "/:ASUM.CICES"++$00++$00++$00++$00
       2E4349 434553              
       000000 000000              
                            32497 
                            32498 ; 108  |
                            32499 ; 109  |int g_iFileHandle;
                            32500 ; 110  |int g_isRebuildSecTableFile;
                            32501 ; 111  |DIR_DATE dirdate = {7,7,2000};
                            32502 
                            32503 Fdirdate:
Y:000D 000007 000007        32504         dc      $000007,$000007,$0007d0
       0007D0                     
                            32507 
                            32508 ; 112  |DIR_TIME dirtime = {0,0,9};
                            32509 
                            32510 Fdirtime:
Y:0010 000000 000000        32511         dc      $000000,$000000,$000009
       000009                     
                            32514 
                            32515 ; 113  |int g_ML_save_on_exit = 0;
                            32516 
                            32517 Fg_ML_save_on_exit:
Y:0013 000000               32518         dc      $000000
                            32521 
                            32522 ; 114  |unsigned int g_rsrc_TimeDate_CodeBank = RSRC_TIMEDATE_MENU_CODE_BANK;
                            32523 
                            32524 Fg_rsrc_TimeDate_CodeBank:
Y:0014 000081               32525         dc      $000081
                            32528 
                            32529 ; 115  |unsigned int g_rsrc_Flash_Error = RSRC_FLASH_ERROR;
                            32530 
                            32531 Fg_rsrc_Flash_Error:
Y:0015 00041B               32532         dc      $00041b
                            32535 
                            32536 ; 116  |
                            32537 ; 117  |#pragma asm
                            32539         global  RSRC_FUNCLET_LOCAL_GET_LVL_ONE_ITEM_INFO
                            32540         global  RSRC_FUNCLET_LOCAL_GET_FLASH_ASSOCIATED_LIST_INFO
                            32541         global  RSRC_FUNCLET_ML_RESUMEPLAYSTATE
                            32542     global      RSRC_FUNCLET_ML_UPDATE_ON_THE_GO
                            32543     global      RSRC_FUNCLET_ML_CH_ON_THE_GO
                            32544     global      RSRC_FUNCLET_ML_LOAD_ON_THE_GO
                            32545     global      RSRC_FUNCLET_BUILD_INIT_AND_USE_CACHE
                            32546     global      RSRC_FUNCLET_BUILD_FLUSH_AND_CLOSE_CACHE
                            32547     global      RSRC_FUNCLET_ML_MOVE_POINTER_BACKWARD
                            32548     global      RSRC_FUNCLET_ML_FIND_LAST_ITEM_POINTER
                            32549     global      RSRC_FUNCLET_ML_START_SHUFFLE
                            32550     global      RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_ID
                            32551     global      RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_ROOT_ID
                            32552     global      RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_SIZE
                            32553     global      RSRC_FUNCLET_ML_GET_ID_BY_STATE_AND_POSITION
                            32554     global      RSRC_FUNCLET_ML_START_PLAY_DIR_SONG_INIT
                            32555     global      RSRC_FUNCLET_ML_SHUFFLE_NEXT_DIR_SONG
                            32556     global      RSRC_FUNCLET_ML_BROWSE_MENU
                            32557     global      RSRC_FUNCLET_ML_START_PLAY_ALL_SONG
                            32558     global      RSRC_FUNCLET_ML_PLAY_ALL_NEXT_SONG
                            32559     global      RSRC_FUNCLET_ML_PLAY_PREVIOUS_SONG
                            32560     global      RSRC_FUNCLET_ML_PLAY_ALL_PREVIOUS_SONG
                            32561     global      RSRC_FUNCLET_ML_PLAY_PREVIOUS_DIR_SONG
                            32562     global      RSRC_FUNCLET_ML_SHUFFLE_NEXT_SONG
                            32563     global      RSRC_FUNCLET_ML_PLAY_NEXT_SONG
                            32565 ; 145  |#pragma endasm
                            32566 ; 146  |
                            32567 ; 147  |#ifdef MMC
                            32568 ; 148  |#pragma asm
                            32570         global  RSRC_FUNCLET_ML_RESUMEPLAYSTATE
                            32572 ; 152  |#pragma endasm
                            32573 ; 153  |#endif
                            32574 ; 154  |
                            32575 ; 155  |extern _packed BYTE     DirPath[];
                            32576 ; 156  |extern _reentrant int write_detection_access(int option);
                            32577 ; 157  |#endif
                            32578 ; 158  |
                            32579 ; 159  |// This g_DataTagName MUST be the same as the one in ststore.c
                            32580 ; 160  |// This file is used to inform the MTP database that a folder
                            32581 ; 161  |// is a data folder and not a media folder.  The PHOTO and
                            32582 ; 162  |// MVIDEO folders need to contain this hidden file.
                            32583 ; 163  |_packed char g_DataTagName[10] = "ad_.atgat"; // _data.tag
                            32584 
                            32585 Fg_DataTagName:
Y:0016 61645F 2E6174        32586         dc      "ad_.atgat"++$00
       676174 000000              
                            32590 
                            32591 ; 164  |
                            32592 ; 165  |INT g_DriveFlushCnt = 0; // To count the DriveFlush() calls.
                            32593 
                            32594 Fg_DriveFlushCnt:
Y:001A 000000               32595         dc      $000000
                            32598 
                            32599 ; 166  |
                            32600 ; 167  |extern WORD _Y Btl_Flags;
                            32601 ; 168  |extern INT _Y g_iSysSaveSettingsDone;
                            32602 ; 169  |extern _asmfunc void DecoderForceInit(void);
                            32603 ; 170  |extern _asmfunc void SysLoadFATWrite(void);
                            32604 ; 171  |extern _asmfunc INT SysUnLoadFATWrite(void);
                            32605 ; 172  |extern void SaveUserTime();
                            32606 ; 173  |
                            32607 ; 174  |_reentrant int CreateDataFolder(_packed BYTE *ChkDirectory);
                            32608 ; 175  |extern g_iMediaErrorFlag;
                            32609 ; 176  |extern g_FSinitErrorCode;
                            32610 ; 177  |extern INT  FSInit(INT _X *bufx, INT _Y *bufy, INT maxdevices, INT maxhandles, INT maxcaches);
                            32611 ; 178  |extern _reentrant INT Computefreeluster(INT DeviceNumber);
                            32612 ; 179  |void _reentrant CheckRemovableMedia(void);
                            32613 ; 180  |extern BOOL bMMCInitDone;
                            32614 ; 181  |
                            32615 ; 182  |// used by SysWaitOnEvent to store the retrieved events
                            32616 ; 183  |//   iEvent = SysWaitOnEvent(EVENT_MESSAGE|EVENT_BUTTON,&EventInfo,-1);
                            32617 ; 184  |// If iEvent == EVENT_BUTTON, the first word contains the button event number, the rest are unused
                            32618 ; 185  |// If iEvent == EVENT_MESSAGE, the entire message is returned
                            32619 ; 186  |// this Union helps identify which parts of the returned buffer should be used
                            32620 ; 187  |union EventTypes gEventInfo;
                            32621 ; 188  |
                            32622 ; 189  |// Initialize to somthing -- used when no settings are saved
                            32623 ; 190  |// if settings are saved, value will be overwritten during SysGetSettings
                            32624 ; 191  |#ifdef USE_PLAYLIST5
                            32625 ; 192  |INT g_iCurrentMenu=MENU_MAIN_EXIT;
                            32626 ; 193  |#else
                            32627 ; 194  |INT g_iCurrentMenu=MENU_MUSIC;
                            32628 
                            32629 Fg_iCurrentMenu:
Y:001B 000000               32630         dc      $000000
                            32633 
                            32634 ; 195  |#endif
                            32635 ; 196  |extern _reentrant void  FSClearDriveBuf(INT DriveNumber,INT maxhandles, INT maxcaches);
                            32636 ; 197  |extern RETCODE _reentrant DriveFlush(WORD wLogDriveNumber);
                            32637 ; 198  |
                            32638 ; 199  |struct Bitfield g_MenuFlags = {0};
                            32639 
                            32640 Fg_MenuFlags:
Y:001C 000000               32641         dc      $000000
                            32693 
                            32694 ; 200  |
                            32695 ; 201  |extern void DisablePluginModule(int *);
                            32696 ; 202  |extern void EnablePluginModule(int *);
                            32697 ; 203  |extern int g_iContrastPercentage;
                            32698 ; 204  |extern WORD g_wNumMedia;
                            32699 ; 205  |extern int CleanDataStoreFlag;
                            32700 ; 206  |extern int LicenseDeleted;
                            32701 ; 207  |
                            32702 ; 208  |
                            32703 ; 209  |//FAT_WarningMessage
                            32704 ; 210  |INT             g_iCheckDiskError;
                            32705 ; 211  |
                            32706 ; 212  |#ifndef REMOVE_FM
                            32707 ; 213  |#ifdef CLCD_16BIT   
                            32708 ; 214  |extern BOOL g_blIsTB2Fm;
                            32709 ; 215  |#endif
                            32710 ; 216  |#endif
                            32711 ; 217  |
                            32712 ; 218  |#ifdef  AUDIBLE
                            32713 ; 219  |extern _X AudibleFlags_t g_AudibleFlags;
                            32714 ; 220  |extern void _reentrant AudibleStopAndSave(INT fStop);
                            32715 ; 221  |#endif
                            32716 ; 222  |
                            32717 ; 223  |///////////////////////////////////////////////////////////////////////////
                            32718 ; 224  |#ifdef USE_PLAYLIST3
                            32719 ; 225  |extern BOOL g_Rebuild;
                            32720 ; 226  |extern RAM_SONG_INFO_T song_info;
                            32721 ; 227  |extern int g_file_time;
                            32722 ; 228  |extern _packed BYTE g_LastEncName[30];
                            32723 ; 229  |
                            32724 ; 230  |void _reentrant ML_voice_engine_init(void)
                            32725 ; 231  |{
                            32726 
P:0000                      32727         org     p,".ptextmainmenu":
                            32732 FML_voice_engine_init:
                            32733 
                            32734 ; 232  |#pragma asm
                            32735 
P:0000                      32739         org     p,".ptextmainmenu":
                            32740         extern  F_lc_u_e_MusicLibVoice_P
                            32741         extern  F_lc_u_b_MusicLibVoice_P
                            32742         extern SysLoadResource
                            32743 
                            32744         ; Load the MusicLib voice build engine into P memory
P:0000 44F400 0003F4  3    332745         move    #>RSRC_MUSICLIB_VOICE_APP,x0                      ; Resource number
P:0002 45F400 000002  3    632746         move    #>RSRC_TYPE_DATA,x1                        ; Resource type is data
P:0004 47F400 rrrrrr  3    932747         move    #>(F_lc_u_e_MusicLibVoice_P-F_lc_u_b_MusicLibVoice_P)*3,y1 ; overlay area sz
P:0006 46F400 rrrrrr  3   1232748         move    #>F_lc_u_b_MusicLibVoice_P,y0                      ; Address of the overlay area
P:0008 54F400 100000  3   1532749         move    #TARGET_MEM_P,a1                           ; Overlay area is in P memory
P:000A 0BF080 rrrrrr  6   2132750         jsr     SysLoadResource
                            32751 
                            32752 ; 246  |#pragma endasm
                            32753 ; 247  |}
                            32754 
P:000C 00000C         4   2532756         rts
                            32758 
                            32759 ; 248  |
                            32760 ; 249  |void _reentrant ML_building_engine_init(void)
                            32761 ; 250  |{
                            32762 
                            32767 FML_building_engine_init:
                            32768 
                            32769 ; 251  |#pragma asm
                            32770 
P:000D                      32774         org     p,".ptextmainmenu":
                            32775         extern F_lc_u_e_MusicLibBuild_P
                            32776         extern F_lc_u_b_MusicLibBuild_P
                            32777         extern SysLoadResource
                            32778 
                            32779         ; Load the MusicLib building engine into P memory
P:000D 44F400 0003CE  3   2832780         move    #>RSRC_MUSICLIB_BUILD_MODULE,x0                      ; Resource number
P:000F 45F400 000002  3   3132781         move    #>RSRC_TYPE_DATA,x1                        ; Resource type is data
P:0011 47F400 rrrrrr  3   3432782         move    #>(F_lc_u_e_MusicLibBuild_P-F_lc_u_b_MusicLibBuild_P)*3,y1 ; overlay area sz
P:0013 46F400 rrrrrr  3   3732783         move    #>F_lc_u_b_MusicLibBuild_P,y0                      ; Address of the overlay area
P:0015 54F400 100000  3   4032784         move    #TARGET_MEM_P,a1                           ; Overlay area is in P memory
P:0017 0BF080 rrrrrr  6   4632785         jsr     SysLoadResource
                            32786 
                            32787 ; 265  |#pragma endasm
                            32788 ; 266  |}
                            32789 
P:0019 00000C         4   5032791         rts
                            32793 
                            32794 ; 267  |
                            32795 ; 268  |RETCODE _reentrant TryToRegenerateEmptyMusicLib(long iMusicLib_FileSize, _packed BYTE *g_strFilePath, uint24 FileSize_in_Sector)
                            32796 ; 269  |{
                            32797 
                            32802 FTryToRegenerateEmptyMusicLib:
P:001A 055F7C         2   5232803         movec   ssh,y:(r7)+
P:001B 3F0700         2   5432806         move    #7,n7
P:001C 000000         2   5632807         nop
P:001D 204F00         2   5832808         move    (r7)+n7
                            32822 
                            32823 ; 270  |    #if (LEVEL2_TABLE_SIZE < WORD_PER_SECTOR)
                            32824 ; 271  |        #error LEVEL2_TABLE_SIZE < WORD_PER_SECTOR
                            32825 ; 272  |    #endif
                            32826 ; 273  |        extern LONG _X l2_sector_table[];
                            32827 ; 274  |
                            32828 ; 275  |        long iFreeSpace;
                            32829 ; 276  |        WORD wTemp;
                            32830 ; 277  |        RETCODE rtCode = SUCCESS;
                            32831 
P:001E 77F400 FFFFFC  3   6132833         move    #-4,n7
P:0020 000000         2   6332834         nop
P:0021 5D6F00         4   6732835         move    b1,y:(r7+n7)
P:0022 77F400 FFFFFB  3   7032838         move    #-5,n7
P:0024 000000         2   7232839         nop
P:0025 686F00         4   7632840         move    r0,y:(r7+n7)
P:0026 77F400 FFFFF9  3   7932843         move    #-7,n7
P:0028 205F00         2   8132844         move    (r7)+
P:0029 5C6F00         4   8532846         move    a1,y:(r7+n7)
P:002A 205700         2   8732847         move    (r7)-
P:002B 586F00         4   9132849         move    a0,y:(r7+n7)
P:002C 20001B         2   9332852         clr     b   
P:002D 260000         2   9532853         move    #0,y0
P:002E 77F400 FFFFFD  3   9832855         move    #-3,n7
P:0030 000000         2  10032856         nop
P:0031 4E6F00         4  10432857         move    y0,y:(r7+n7)
                            32864 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 129

M:ADDR CODE           CYCLES LINE SOURCELINE
                            32865 ; 278  |        uint24 _X * sec_temp_buf = (uint24 _X *)l2_sector_table;
                            32866 
P:0032 63F400 rrrrrr  3  10732868         move    #Fl2_sector_table,r3
                            32871 
                            32872 ; 279  |
                            32873 ; 280  |        for (wTemp=0; wTemp<WORD_PER_SECTOR; wTemp++) {
                            32874 
P:0034 77F400 FFFFFE  3  11032876         move    #-2,n7
P:0036 000000         2  11232877         nop
P:0037 6B6F00         4  11632878         move    r3,y:(r7+n7)
P:0038 06AB80 rrrrrr  6  12232882         do      #171,L20
                            32884 
                            32885 ; 281  |                sec_temp_buf[wTemp] = 0;
                            32886 
P:003A 555B00         2  12432888         move    b1,x:(r3)+
P:003B 000000         2  12632890         nop
                         (4)32891 L20:
P:003C 200013         2  12832893         clr     a   
                            32894 
                            32895 ; 282  |        }
                            32896 ; 283  |        if (rtCode == SUCCESS) {
                            32897 ; 284  |                iFreeSpace = FSFreeSpace(MUSICLIB_STDRIVE_NUMBER);
                            32898 
P:003D 0BF080 rrrrrr  6  13432900         jsr     FFSFreeSpace
                            32902 
                            32903 ; 285  |                if (iFreeSpace > iMusicLib_FileSize) {
                            32904 
P:003F 77F400 FFFFF9  3  13732906         move    #-7,n7
P:0041 205F00         2  13932907         move    (r7)+
P:0042 5FEF00         4  14332909         move    y:(r7+n7),b
P:0043 205700         2  14532910         move    (r7)-
P:0044 59EF00         4  14932912         move    y:(r7+n7),b0
P:0045 200005         2  15132913         cmp     b,a
P:0046 0AF0AF rrrrrr  6  15732916         jle     L17
P:0048 77F400 FFFFFB  3  16032917         move    #-5,n7
P:004A 000000         2  16232918         nop
P:004B 68EF00         4  16632919         move    y:(r7+n7),r0
P:004C 200013         2  16832922         clr     a   
                            32924 
                            32925 ; 286  |                        g_iFileHandle = FSFileCreate(g_strFilePath,MUSICLIB_STDRIVE_NUMBER);
                            32926 
P:004D 0BF080 rrrrrr  6  17432928         jsr     FFSFileCreate
P:004F 5E7000 rrrrrr  3  17732932         move    a,y:Fg_iFileHandle
                            32933 
                            32934 ; 287  |                        if (g_iFileHandle < 0) {
                            32935 
P:0051 200003         2  17932937         tst     a
P:0052 0AF0A1 rrrrrr  6  18532938         jge     L13
                            32939 
                            32940 ; 288  |                                rtCode = MUSICLIB_FAT_ERROR_CREATE_FILE;
                            32941 
P:0054 46F400 000002  3  18832943         move    #>2,y0
P:0056 77F400 FFFFFD  3  19132946         move    #-3,n7
P:0058 000000         2  19332947         nop
P:0059 4E6F00         4  19732948         move    y0,y:(r7+n7)
                            32951 
                            32952 ; 289  |                        } else {
                            32953 
P:005A 0AF080 rrrrrr  6  20332955         jmp     L19
                            32956 
                            32957 ; 290  |                                for (wTemp=0;wTemp<FileSize_in_Sector;wTemp++) {
                            32958 
P:005C 200013         2  20532960 L13:    clr     a   
P:005D 0AF080 rrrrrr  6  21132962         jmp     L15
P:005F 045FA0         2  21332963 L14:    movec   m0,n7
P:0060 000000         2  21532964         nop
P:0061 5C6F00         4  21932965         move    a1,y:(r7+n7)
                            32968 
                            32969 ; 291  |                                        FSFileWrite(BYTE_PER_SECTOR,g_iFileHandle,X_MEMORY,-1,(void *)sec_temp_buf);
                            32970 
P:0062 5FF000 rrrrrr  3  22232972         move    y:Fg_iFileHandle,b
P:0064 77F400 FFFFFE  3  22532973         move    #-2,n7
P:0066 000000         2  22732974         nop
P:0067 68EF00         4  23132975         move    y:(r7+n7),r0
P:0068 240000         2  23332976         move    #0,x0
P:0069 46F400 FFFFFF  3  23632977         move    #>-1,y0
P:006B 56F400 000200  3  23932978         move    #$200,a
P:006D 0BF080 rrrrrr  6  24532979         jsr     FFSFileWrite
P:006F 045FA0         2  24732981         movec   m0,n7
P:0070 000000         2  24932982         nop
P:0071 5FEF00         4  25332983         move    y:(r7+n7),b
P:0072 47F400 000001  3  25632984         move    #>1,y1
P:0074 200078         2  25832985         add     y1,b
P:0075 21AE00         2  26032988         move    b1,a
P:0076 77F400 FFFFFC  3  26332991 L15:    move    #-4,n7
P:0078 000000         2  26532992         nop
P:0079 5FEF00         4  26932993         move    y:(r7+n7),b
P:007A 2B0000         2  27132994         move    #0,b2
P:007B 2A0000         2  27332995         move    #0,a2
P:007C 200005         2  27532996         cmp     b,a
P:007D 0AF0A9 rrrrrr  6  28132997         jlt     L14
                            32998 
                            32999 ; 292  |                                }
                            33000 ; 293  |                                filesetattrib(g_iFileHandle,SYSTEM+HIDDEN);
                            33001 
P:007F 5EF000 rrrrrr  3  28433003         move    y:Fg_iFileHandle,a
P:0081 57F400 000006  3  28733005         move    #>6,b
P:0083 0BF080 rrrrrr  6  29333006         jsr     Ffilesetattrib
                            33007 
                            33008 ; 294  |                                if (FSFileClose(g_iFileHandle) < 0)
                            33009 
P:0085 5EF000 rrrrrr  3  29633011         move    y:Fg_iFileHandle,a
P:0087 0BF080 rrrrrr  6  30233012         jsr     FFSFileClose
P:0089 200003         2  30433013         tst     a
P:008A 0AF0A1 rrrrrr  6  31033014         jge     L16
                            33015 
                            33016 ; 295  |                                        rtCode = MUSICLIB_FAT_ERROR_CREATE_FILE;
                            33017 
P:008C 47F400 000002  3  31333019         move    #>2,y1
P:008E 77F400 FFFFFD  3  31633022         move    #-3,n7
P:0090 000000         2  31833023         nop
P:0091 4F6F00         4  32233024         move    y1,y:(r7+n7)
                            33027 
                            33028 ; 296  |                                filesetdate((_packed char *) g_strFilePath,MODIFICATION_DATE,&dirdate,&dirtime);
                            33029 
P:0092 77F400 FFFFFB  3  32533031 L16:    move    #-5,n7
P:0094 000000         2  32733032         nop
P:0095 68EF00         4  33133033         move    y:(r7+n7),r0
P:0096 61F400 rrrrrr  3  33433036         move    #Fdirtime,r1
P:0098 64F400 rrrrrr  3  33733037         move    #Fdirdate,r4
P:009A 77F400 FFFFFE  3  34033038         move    #-2,n7
P:009C 000000         2  34233039         nop
P:009D 686F00         4  34633040         move    r0,y:(r7+n7)
P:009E 56F400 000003  3  34933043         move    #>3,a
P:00A0 0BF080 rrrrrr  6  35533044         jsr     Ffilesetdate
                            33045 
                            33046 ; 297  |                                filesetdate((_packed char *) g_strFilePath,MODIFICATION_TIME,&dirdate,&dirtime);
                            33047 
P:00A2 61F400 rrrrrr  3  35833049         move    #Fdirtime,r1
P:00A4 77F400 FFFFFE  3  36133050         move    #-2,n7
P:00A6 000000         2  36333051         nop
P:00A7 68EF00         4  36733052         move    y:(r7+n7),r0
P:00A8 64F400 rrrrrr  3  37033053         move    #Fdirdate,r4
P:00AA 56F400 000004  3  37333054         move    #>4,a
P:00AC 0BF080 rrrrrr  6  37933055         jsr     Ffilesetdate
                            33056 
                            33057 ; 298  |                        }
                            33058 ; 299  |                } else {
                            33059 
P:00AE 0AF080 rrrrrr  6  38533061         jmp     L19
                            33062 
                            33063 ; 300  |                        rtCode = MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE;
                            33064 
P:00B0 44F400 000001  3  38833066 L17:    move    #>1,x0
P:00B2 77F400 FFFFFD  3  39133069         move    #-3,n7
P:00B4 000000         2  39333070         nop
P:00B5 4C6F00         4  39733071         move    x0,y:(r7+n7)
                            33074 
                            33075 ; 301  |                }
                            33076 ; 302  |        }
                            33077 ; 303  |        return rtCode;
                            33078 
P:00B6 77F400 FFFFFD  3  40033080 L19:    move    #-3,n7
P:00B8 000000         2  40233081         nop
P:00B9 5EEF00         4  40633082         move    y:(r7+n7),a
                            33085 
                            33086 ; 304  |}
                            33087 
P:00BA 77F400 FFFFF8  3  40933089         move    #-8,n7
P:00BC 000000         2  41133090         nop
P:00BD 05EF7C         4  41533091         movec   y:(r7+n7),ssh
P:00BE 204F00         2  41733093         move    (r7)+n7
P:00BF 00000C         4  42133095         rts
                            33099 
                            33100 ; 305  |#endif // #ifdef USE_PLAYLIST3
                            33101 ; 306  |
                            33102 ; 307  |/////////////////////////////////////////////////////////////////////////////////////////
                            33103 ; 308  |//
                            33104 ; 309  |//>  Name:          void _reentrant UserTask(void)
                            33105 ; 310  |//
                            33106 ; 311  |//   Type:          Function (main user menu entry point)
                            33107 ; 312  |//
                            33108 ; 313  |//   Description:   This function is the menu manager main entry point.
                            33109 ; 314  |//
                            33110 ; 315  |//   Inputs:        None
                            33111 ; 316  |//
                            33112 ; 317  |//   Outputs:       None
                            33113 ; 318  |//
                            33114 ; 319  |//   Notes:         This function must not be returned from.  The SysWaitOnEvent(0,0,-1) at the
                            33115 ; 320  |//                  end of this function will essentially terminate the user task and wait for
                            33116 ; 321  |//                  the kernel to shut the player down.
                            33117 ; 322  |//<
                            33118 ; 323  |//////////////////////////////////////////////////////////////////////////////////////////
                            33119 ; 324  |
                            33120 ; 325  |
                            33121 ; 326  |
                            33122 ; 327  |void _reentrant UserTask(int a, int b, int *pPtr)
                            33123 ; 328  |{
                            33124 
                            33139 FUserTask:
P:00C0 055F7C         2  42333140         movec   ssh,y:(r7)+
P:00C1 3F4600         2  42533143         move    #70,n7
P:00C2 000000         2  42733144         nop
P:00C3 204F00         2  42933145         move    (r7)+n7
                            33162 
                            33163 ; 329  |
                            33164 ; 330  |    int _reentrant (*pMenu)(int,int,int*);
                            33165 ; 331  |    int MMCDriveNumber;
                            33166 ; 332  |    BOOL    bRebuildMTPDatabase = FALSE;
                            33167 
P:00C4 270000         2  43133169         move    #0,y1
P:00C5 77F400 FFFFF7  3  43433171         move    #-9,n7
P:00C7 000000         2  43633172         nop
P:00C8 4F6F00         4  44033173         move    y1,y:(r7+n7)
                            33237 
                            33238 ; 333  |    union DisplayHints DisplayHint;
                            33239 ; 334  |    _packed BYTE ChkDirectory[AUTO_FOLDER_SIZE];
                            33240 ; 335  |
                            33241 ; 336  |    BOOL bDone = FALSE;
                            33242 ; 337  |    BOOL bSendToPlayerStateMachine = FALSE;
                            33243 ; 338  |
                            33244 ; 339  |    INT iSelectedItem=g_iCurrentMenu;
                            33245 
P:00C9 59F000 rrrrrr  3  44333247         move    y:Fg_iCurrentMenu,b0
P:00CB 77F400 FFFFF8  3  44633249         move    #-8,n7
P:00CD 000000         2  44833250         nop
P:00CE 596F00         4  45233251         move    b0,y:(r7+n7)
                            33255 
                            33256 ; 340  |
                            33257 ; 341  |    // Initialize to saved main menu setting, initalized by SysGetSettings
                            33258 ; 342  |    INT iHighLightedItem=g_iCurrentMenu;
                            33259 
P:00CF 77F400 FFFFF9  3  45533261         move    #-7,n7
P:00D1 000000         2  45733262         nop
P:00D2 596F00         4  46133263         move    b0,y:(r7+n7)
                            33269 
                            33270 ; 343  |
                            33271 ; 344  |    INT iEvent;
                            33272 ; 345  |    INT iResource=RSRC_MAIN_MENU_CODE_BANK;
                            33273 
P:00D3 44F400 000078  3  46433275         move    #>$78,x0
P:00D5 77F400 FFFFFA  3  46733277         move    #-6,n7
P:00D7 000000         2  46933278         nop
P:00D8 4C6F00         4  47333279         move    x0,y:(r7+n7)
                            33290 
                            33291 ; 346  |
                            33292 ; 347  |        INT iSaveRecSource;
                            33293 ; 348  |
                            33294 ; 349  |    INT iLastPage = 0; // used to determine if we should clear the screen
                            33295 ; 350  |
                            33296 ; 351  |#ifdef USE_PLAYLIST3
                            33297 ; 352  |        long iFileSize;
                            33298 ; 353  |        RETCODE rtCode = SUCCESS;
                            33299 
P:00D9 250000         2  47533301         move    #0,x1
P:00DA 77F400 FFFFFB  3  47833303         move    #-5,n7
P:00DC 000000         2  48033304         nop
P:00DD 4D6F00         4  48433305         move    x1,y:(r7+n7)
                            33327 
                            33328 ; 354  |        long iMusicLib_FileSize = MUSICLIB_FILESIZE_IN_BYTE;    /* _must_use_ long iMusicLib_FileSize to pass parameter */
                            33329 ; 355  |        DIR_DATE dirdate2;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 130

M:ADDR CODE           CYCLES LINE SOURCELINE
                            33330 ; 356  |        DIR_TIME dirtime2;
                            33331 ; 357  |#endif
                            33332 ; 358  |
                            33333 ; 359  |///////////////////////////////////////////////////////////////////////////
                            33334 ; 360  |//These data structures are used by the DisplayPagedList function to create the
                            33335 ; 361  |//the main menu lists.  see displaylists.h for more info
                            33336 ; 362  |///////////////////////////////////////////////////////////////////////////
                            33337 ; 363  |    struct PagedListStructure MainMenuListInfo; // m_iNormalDisplayMsg,m_iSelectedDisplayMsg
                            33338 ; 364  |                                                // m_items, MenuItem *m_pItems
                            33339 ; 365  |
                            33340 ; 366  |    struct MenuItem aItems[MAINMENU_COUNT]; // m_iPage, m_iResource, m_ixPos, m_iyPos
                            33341 ; 367  |
                            33342 ; 368  |/****
                            33343 ; 369  |    THIS METHOD MAKES A CONST SECTION FOR EACH CONST
                            33344 ; 370  |    struct PagedListStructure MainMenuListInfo ={
                            33345 ; 371  |        LCD_PRINT_RANGE_RSRC,
                            33346 ; 372  |        LCD_PRINT_RANGE_INV_RSRC,
                            33347 ; 373  |        MAINMENU_COUNT,
                            33348 ; 374  |        NULL};
                            33349 ; 375  |
                            33350 ; 376  |    struct MenuItem aItems[MAINMENU_COUNT]={
                            33351 ; 377  |        {0,RSRC_STRING_MUSIC_MENU,0,24},
                            33352 ; 378  |        {0,RSRC_STRING_VOICE_MENU,0,32},
                            33353 ; 379  |        {0,RSRC_STRING_FMTUNER_MENU,0,40},
                            33354 ; 380  |        {0,RSRC_STRING_SETTINGS_MENU,0,48},
                            33355 ; 381  |        };
                            33356 ; 382  |
                            33357 ; 383  |*/
                            33358 ; 384  |        MMCDriveNumber = g_wNumMedia-1;
                            33359 ; 385  |    // fast fade out the audio.
                            33360 ; 386  |    // avoid pops when depressing FW and RW before playing any track
                            33361 ; 387  |    SysPostMessage(3,MIXER_MASTER_FADE_OUT,0);
                            33362 
P:00DE 290300         2  48633364         move    #3,b0
P:00DF 200013         2  48833365         clr     a   
P:00E0 5C5F00         2  49033367         move    a1,y:(r7)+
P:00E1 44F400 040005  3  49333369         move    #262149,x0
P:00E3 4C5F00         2  49533370         move    x0,y:(r7)+
P:00E4 595F00         2  49733372         move    b0,y:(r7)+
P:00E5 0BF080 rrrrrr  6  50333374         jsr     FSysPostMessage
P:00E7 3F0300         2  50533375         move    #3,n7
P:00E8 000000         2  50733376         nop
P:00E9 204700         2  50933377         move    (r7)-n7
                            33380 
                            33381 ; 388  |
                            33382 ; 389  |    SysWaitOnEvent(0,0,1);
                            33383 
P:00EA 20001B         2  51133385         clr     b   
P:00EB 21B000         2  51333386         move    b1,r0
P:00EC 57F400 000001  3  51633387         move    #>1,b
P:00EE 200013         2  51833388         clr     a   
P:00EF 0BF080 rrrrrr  6  52433389         jsr     SysWaitOnEvent
P:00F1 300000         2  52633390         move    #0,r0
P:00F2 57F400 000001  3  52933391         move    #>1,b
P:00F4 200013         2  53133392         clr     a   
                            33393 
                            33394 ; 390  |    SysWaitOnEvent(0,0,1);
                            33395 
P:00F5 0BF080 rrrrrr  6  53733397         jsr     SysWaitOnEvent
                            33398 
                            33399 ; 391  |    SysPostMessage(3,LCD_SET_CONTRAST,g_iContrastPercentage);
                            33400 
P:00F7 5DF000 rrrrrr  3  54033402         move    y:Fg_iContrastPercentage,b1
P:00F9 290300         2  54233403         move    #3,b0
P:00FA 5D5F00         2  54433404         move    b1,y:(r7)+
P:00FB 45F400 03000D  3  54733406         move    #196621,x1
P:00FD 4D5F00         2  54933407         move    x1,y:(r7)+
P:00FE 595F00         2  55133409         move    b0,y:(r7)+
P:00FF 0BF080 rrrrrr  6  55733411         jsr     FSysPostMessage
P:0101 3F0300         2  55933412         move    #3,n7
P:0102 000000         2  56133413         nop
P:0103 204700         2  56333414         move    (r7)-n7
                            33416 
                            33417 ; 392  |#ifndef USE_PLAYLIST3
                            33418 ; 393  |        // Initialize playlist at this point, if not building with external media.
                            33419 ; 394  |        // Otherwise, let the message handlers do it, to avoid time-consuming redundant
                            33420 ; 395  |        // initialization.
                            33421 ; 396  |//#ifndef USE_PLAYLIST5
                            33422 ; 397  |#ifndef MMC
                            33423 ; 398  |    SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_Initialize,0,0,0);
                            33424 ; 399  |#endif
                            33425 ; 400  |//#endif
                            33426 ; 401  |#endif // #ifndef USE_PLAYLIST3
                            33427 ; 402  |
                            33428 ; 403  |//HWJ 1-3-06    HW_GP0DOR.B.B16 = 0;
                            33429 ; 404  |    // filling the structure like this takes more p mem, but it's overlaid -- not Y sys mem
                            33430 ; 405  |    MainMenuListInfo.m_iNormalDisplayMsg = LCD_PRINT_STRING_RSRC;
                            33431 
P:0104 50F400 030007  3  56633433         move    #196615,a0
P:0106 77F400 FFFFE6  3  56933434         move    #-26,n7
P:0108 000000         2  57133435         nop
P:0109 586F00         4  57533436         move    a0,y:(r7+n7)
                            33437 
                            33438 ; 406  |    MainMenuListInfo.m_iSelectedDisplayMsg = LCD_PRINT_STRING_INV_RSRC;
                            33439 
P:010A 46F400 030009  3  57833441         move    #196617,y0
P:010C 77F400 FFFFE7  3  58133442         move    #-25,n7
P:010E 000000         2  58333443         nop
P:010F 4E6F00         4  58733444         move    y0,y:(r7+n7)
                            33445 
                            33446 ; 407  |    MainMenuListInfo.m_iItems = MAINMENU_COUNT;
                            33447 
P:0110 290B00         2  58933449         move    #11,b0
P:0111 77F400 FFFFE8  3  59233450         move    #-24,n7
P:0113 000000         2  59433451         nop
P:0114 596F00         4  59833452         move    b0,y:(r7+n7)
                            33453 
                            33454 ; 408  |
                            33455 ; 409  |    // filling the structure like this takes more p mem, but it's overlaid -- not Y sys mem
                            33456 ; 410  |    for (a = 0; a < MAINMENU_COUNT; a++)
                            33457 
P:0115 212E00         2  60033459         move    b0,a
P:0116 250000         2  60233460         move    #0,x1
P:0117 260000         2  60433461         move    #0,y0
P:0118 77F400 FFFFBA  3  60733463         move    #-70,n7
P:011A 000000         2  60933464         nop
P:011B 044F18         4  61333465         lua     (r7)+n7,n0
P:011C 291000         2  61533466         move    #16,b0
P:011D 44F400 000001  3  61833467         move    #>1,x0
P:011F 200003         2  62033468         tst     a
P:0120 0AF0AA rrrrrr  6  62633469         jeq     L585
P:0122 06CC00 rrrrrr  6  63233470         do      a1,L585
                            33472 
                            33473 ; 411  |        {   // m_ipage is 0 for all menu labels
                            33474 ; 412  |        aItems[a].m_ixPos = 0;
                            33475 
P:0124 77F400 FFFFBC  3  63533477         move    #-68,n7
P:0126 000000         2  63733478         nop
P:0127 044F16         4  64133479         lua     (r7)+n7,r6
P:0128 0116E0         2  64333480         mpy     y0,#22,a
P:0129 211E00         2  64533481         move    a0,n6
P:012A 211D00         2  64733482         move    a0,n5
P:012B 204E00         2  64933483         move    (r6)+n6
P:012C 4D6600         2  65133484         move    x1,y:(r6)
                            33485 
                            33486 ; 413  |        aItems[a].m_iPage = a / MAINMENU_PAGE1_COUNT;
                            33487 
P:012D 0102E0         2  65333489         mpy     y0,#2,a
P:012E 23B000         2  65533490         move    n5,r0
P:012F 000000         2  65733491         nop
P:0130 044816         4  66133492         lua     (r0)+n0,r6
P:0131 000000         2  66333493         nop
P:0132 5C6600         2  66533494         move    a1,y:(r6)
                            33495 
                            33496 ; 414  |        aItems[a].m_iyPos = 16 + (a % MAINMENU_PAGE1_COUNT) * 8;
                            33497 
P:0133 20CD00         2  66733499         move    y0,b1
P:0134 47F400 000003  3  67033500         move    #>3,y1
P:0136 20007E         2  67233501         and     y1,b
P:0137 212800         2  67433502         move    b0,a0
P:0138 21A700         2  67633503         move    b1,y1
P:0139 0115C2         2  67833504         mac     y1,#21,a
P:013A 77F400 FFFFBD  3  68133505         move    #-67,n7
P:013C 000000         2  68333506         nop
P:013D 044F15         4  68733507         lua     (r7)+n7,r5
P:013E 000000         2  68933508         nop
P:013F 044D16         4  69333509         lua     (r5)+n5,r6
P:0140 000000         2  69533510         nop
P:0141 586600         2  69733511         move    a0,y:(r6)
P:0142 200051         2  69933513         tfr     y0,a
P:0143 200040         2  70133514         add     x0,a
P:0144 218600         2  70333517         move    a1,y0
                        (71)33520 L585:
                            33522 
                            33523 ; 415  |    }
                            33524 ; 416  |
                            33525 ; 417  |    // load resource numbers
                            33526 ; 418  |    aItems[MENU_MUSIC].m_iResource = RSRC_STRING_MUSIC_MENU;
                            33527 
P:0145 51F400 00010D  3  70633529         move    #269,b0
P:0147 77F400 FFFFBB  3  70933530         move    #-69,n7
P:0149 000000         2  71133531         nop
P:014A 596F00         4  71533532         move    b0,y:(r7+n7)
                            33533 
                            33534 ; 419  |#ifdef JPEG_APP
                            33535 ; 420  |        aItems[MENU_JPEG_DISPLAY].m_iResource = RSRC_STRING_JPEG_DISPLAY_MENU;
                            33536 ; 421  |#endif
                            33537 ; 422  |#ifdef MOTION_VIDEO
                            33538 ; 423  |    aItems[MENU_MVIDEO].m_iResource = RSRC_STRING_MVIDEO_MENU;
                            33539 ; 424  |#endif
                            33540 ; 425  |    aItems[MENU_VOICE].m_iResource = RSRC_BROWSE_VOICE;
                            33541 
P:014B 50F400 000470  3  71833543         move    #1136,a0
P:014D 77F400 FFFFBF  3  72133544         move    #-65,n7
P:014F 000000         2  72333545         nop
P:0150 586F00         4  72733546         move    a0,y:(r7+n7)
                            33547 
                            33548 ; 426  |#ifdef USE_PLAYLIST5
                            33549 ; 427  |#ifndef REMOVE_FM
                            33550 ; 428  |    aItems[MENU_FMREC].m_iResource = RSRC_STRING_FM_REC;
                            33551 ; 429  |#endif
                            33552 ; 430  |    aItems[MENU_LINEIN].m_iResource = RSRC_STRING_LINEIN_REC;
                            33553 ; 431  |#ifdef AUDIBLE
                            33554 ; 432  |    aItems[MENU_AUDIBLE].m_iResource = RSRC_STRING_AUDIBLE_MENU;
                            33555 ; 433  |#endif
                            33556 ; 434  |#endif  // #ifdef USE_PLAYLIST5
                            33557 ; 435  |#ifdef USE_PLAYLIST3
                            33558 ; 436  |#ifdef AUDIBLE
                            33559 ; 437  |    aItems[MENU_AUDIBLE].m_iResource = RSRC_STRING_AUDIBLE_MENU;
                            33560 ; 438  |#endif
                            33561 ; 439  |#endif
                            33562 ; 440  |#ifndef REMOVE_FM
                            33563 ; 441  |    aItems[MENU_FMTUNER].m_iResource = RSRC_STRING_FMTUNER_MENU;
                            33564 
P:0151 46F400 000115  3  73033566         move    #277,y0
P:0153 77F400 FFFFC3  3  73333567         move    #-61,n7
P:0155 000000         2  73533568         nop
P:0156 4E6F00         4  73933569         move    y0,y:(r7+n7)
                            33570 
                            33571 ; 442  |#endif
                            33572 ; 443  |    aItems[MENU_SETTINGS].m_iResource = RSRC_STRING_SETTINGS_MENU;
                            33573 
P:0157 44F400 000116  3  74233575         move    #278,x0
P:0159 77F400 FFFFCB  3  74533576         move    #-53,n7
P:015B 000000         2  74733577         nop
P:015C 4C6F00         4  75133578         move    x0,y:(r7+n7)
                            33579 
                            33580 ; 444  |    aItems[MENU_DELETE].m_iResource = RSRC_STRING_DELETE_MENU;
                            33581 
P:015D 57F400 00012F  3  75433583         move    #303,b
P:015F 77F400 FFFFDB  3  75733584         move    #-37,n7
P:0161 000000         2  75933585         nop
P:0162 5F6F00         4  76333586         move    b,y:(r7+n7)
                            33587 
                            33588 ; 445  |    aItems[MENU_ABOUT].m_iResource = RSRC_STRING_ABOUT_MENU;
                            33589 
P:0163 56F400 00012E  3  76633591         move    #302,a
P:0165 77F400 FFFFDF  3  76933592         move    #-33,n7
P:0167 000000         2  77133593         nop
P:0168 5E6F00         4  77533594         move    a,y:(r7+n7)
                            33595 
                            33596 ; 446  |    aItems[MENU_RECORD].m_iResource = RSRC_STRING_RECORD_MENU;
                            33597 
P:0169 47F400 000130  3  77833599         move    #304,y1
P:016B 77F400 FFFFC7  3  78133600         move    #-57,n7
P:016D 000000         2  78333601         nop
P:016E 4F6F00         4  78733602         move    y1,y:(r7+n7)
                            33603 
                            33604 ; 447  |    aItems[MENU_TIME_DATE].m_iResource = RSRC_STRING_TIME_DATE_MENU;
                            33605 
P:016F 55F400 00011B  3  79033607         move    #283,b1
P:0171 77F400 FFFFD3  3  79333608         move    #-45,n7
P:0173 000000         2  79533609         nop
P:0174 5D6F00         4  79933610         move    b1,y:(r7+n7)
                            33611 
                            33612 ; 448  |#ifdef SPECTRUM_ANAL
                            33613 ; 449  |    aItems[MENU_SPECTROGRAM].m_iResource = RSRC_STRING_SPECTROGRAM_MENU;
                            33614 ; 450  |#endif
                            33615 ; 451  |    aItems[MENU_MAIN_EXIT].m_iResource = RSRC_STRING_EXIT_MENU;
                            33616 
P:0175 54F400 00011E  3  80233618         move    #286,a1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 131

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0177 77F400 FFFFE3  3  80533619         move    #-29,n7
P:0179 000000         2  80733620         nop
P:017A 5C6F00         4  81133621         move    a1,y:(r7+n7)
                            33622 
                            33623 ; 452  |
                            33624 ; 453  |    MainMenuListInfo.m_pItems = aItems;
                            33625 
P:017B 77F400 FFFFE9  3  81433627         move    #-23,n7
P:017D 000000         2  81633628         nop
P:017E 786F00         4  82033629         move    n0,y:(r7+n7)
                            33630 
                            33631 ; 454  |
                            33632 ; 455  |    // this is required to get the message into the playerstatemachine
                            33633 ; 456  |    // casted to avoid pointer mismatch warnings
                            33634 ; 457  |    pPtr = (int *) &gEventInfo;
                            33635 
P:017F 66F400 rrrrrr  3  82333637         move    #FgEventInfo,r6
P:0181 77F400 FFFFFC  3  82633639         move    #-4,n7
P:0183 000000         2  82833640         nop
P:0184 6E6F00         4  83233641         move    r6,y:(r7+n7)
                            33644 
                            33645 ; 458  |
                            33646 ; 459  |    // init to clear display when call RefreshDisplay
                            33647 ; 460  |    DisplayHint.I = MAIN_MENU_DISPLAY_ALL|(1<<DISPLAY_CLEAR_DISPLAY_BITPOS);
                            33648 
P:0185 56F400 707E11  3  83533650         move    #7372305,a
P:0187 77F400 FFFFF6  3  83833651         move    #-10,n7
P:0189 000000         2  84033652         nop
P:018A 5C6F00         4  84433653         move    a1,y:(r7+n7)
                            33654 
                            33655 ; 461  |
                            33656 ; 462  |///////////////////////////////////////////////////////////////////////////
                            33657 ; 463  |    //This wait is here to allow the button ISR to recognize that the hold button is
                            33658 ; 464  |    //pressed or not.
                            33659 ; 465  |    SysWaitOnEvent(0,0,500);
                            33660 
P:018B 57F400 0001F4  3  84733662         move    #500,b
P:018D 300000         2  84933663         move    #0,r0
P:018E 200013         2  85133664         clr     a   
P:018F 0BF080 rrrrrr  6  85733665         jsr     SysWaitOnEvent
                            33667 
                            33668 ; 466  |
                            33669 ; 467  |/////////////////  HOLD BUTTON PROCESSING ////////////////////////////////
                            33670 ; 468  |    // check if hold button was on upon powerup -- and shutdown
                            33671 ; 469  |    // doing this here because buttons not intialized when display splashscreen
                            33672 ; 470  |    // could change order of button init
                            33673 ; 471  |
                            33674 ; 472  |    // (Btl_Flags & HOLD_BUTTON_REPORTED_BITMASK)
                            33675 ; 473  |    // TRUE if the hold button is activated
                            33676 ; 474  |    // FALSE if the hold button is not activated
                            33677 ; 475  |
                            33678 ; 476  |//FAT_WarningMessage
                            33679 ; 477  |                if (g_iCheckDiskError)
                            33680 
P:0191 5FF000 rrrrrr  3  86033682         move    y:Fg_iCheckDiskError,b
P:0193 20000B         2  86233683         tst     b
P:0194 0AF0AA rrrrrr  6  86833684         jeq     L449
                            33685 
                            33686 ; 478  |                {
                            33687 ; 479  |                        SysPostMessage(6, LCD_CLEAR_RANGE, 0, 0, 100, 60);
                            33688 
P:0196 260000         2  87033690         move    #0,y0
P:0197 2D0600         2  87233691         move    #6,b1
P:0198 200013         2  87433692         clr     a   
P:0199 293C00         2  87633693         move    #$3C,b0
P:019A 595F00         2  87833694         move    b0,y:(r7)+
P:019B 296400         2  88033696         move    #100,b0
P:019C 595F00         2  88233697         move    b0,y:(r7)+
P:019D 5C5F00         2  88433699         move    a1,y:(r7)+
P:019E 4E5F00         2  88633701         move    y0,y:(r7)+
P:019F 260300         2  88833703         move    #<3,y0
P:01A0 4E5F00         2  89033704         move    y0,y:(r7)+
P:01A1 5D5F00         2  89233706         move    b1,y:(r7)+
P:01A2 0BF080 rrrrrr  6  89833708         jsr     FSysPostMessage
P:01A4 3F0600         2  90033709         move    #6,n7
P:01A5 000000         2  90233710         nop
P:01A6 204700         2  90433711         move    (r7)-n7
                            33713 
                            33714 ; 480  |                        SysPostMessage(7, LCD_PRINT_NUMBER, 0, 0, 99, 6, '0');
                            33715 
P:01A7 260000         2  90633717         move    #0,y0
P:01A8 200013         2  90833718         clr     a   
P:01A9 293000         2  91033719         move    #$30,b0
P:01AA 595F00         2  91233720         move    b0,y:(r7)+
P:01AB 290600         2  91433722         move    #6,b0
P:01AC 595F00         2  91633723         move    b0,y:(r7)+
P:01AD 296300         2  91833725         move    #99,b0
P:01AE 595F00         2  92033726         move    b0,y:(r7)+
P:01AF 5C5F00         2  92233728         move    a1,y:(r7)+
P:01B0 4E5F00         2  92433730         move    y0,y:(r7)+
P:01B1 57F400 030013  3  92733732         move    #196627,b
P:01B3 5F5F00         2  92933733         move    b,y:(r7)+
P:01B4 290700         2  93133735         move    #7,b0
P:01B5 595F00         2  93333736         move    b0,y:(r7)+
P:01B6 0BF080 rrrrrr  6  93933738         jsr     FSysPostMessage
P:01B8 3F0700         2  94133739         move    #7,n7
P:01B9 000000         2  94333740         nop
P:01BA 204700         2  94533741         move    (r7)-n7
                            33743 
                            33744 ; 481  |                        SysWaitOnEvent(0, 0, 1000);
                            33745 
P:01BB 300000         2  94733747         move    #0,r0
P:01BC 200013         2  94933748         clr     a   
P:01BD 57F400 0003E8  3  95233749         move    #1000,b
P:01BF 0BF080 rrrrrr  6  95833750         jsr     SysWaitOnEvent
                            33751 
                            33752 ; 482  |                        ShutdownMenu(FORCESHUTDOWN, 0, 0);
                            33753 
P:01C1 300000         2  96033755         move    #0,r0
P:01C2 56F400 000001  3  96333756         move    #>1,a
P:01C4 20001B         2  96533757         clr     b   
P:01C5 0BF080 rrrrrr  6  97133758         jsr     FShutdownMenu
                            33759 
                            33760 ; 483  |                }
                            33761 ; 484  |
                            33762 ; 485  |
                            33763 ; 486  |        // Check if there is a media error or filesystem error then display the error
                            33764 ; 487  |        if ((g_iMediaErrorFlag != 0)||(g_FSinitErrorCode))
                            33765 
P:01C7 5FF000 rrrrrr  3  97433767 L449:   move    y:Fg_iMediaErrorFlag,b
P:01C9 20000B         2  97633768         tst     b
P:01CA 0AF0A2 rrrrrr  6  98233769         jne     L450
P:01CC 5FF000 rrrrrr  3  98533770         move    y:Fg_FSinitErrorCode,b
P:01CE 20000B         2  98733771         tst     b
P:01CF 0AF0AA rrrrrr  6  99333772         jeq     L456
                            33773 
                            33774 ; 488  |        {
                            33775 ; 489  |                SysPostMessage(6,LCD_CLEAR_RANGE,0,0,LCD_SIZE_X,LCD_SIZE_Y);
                            33776 
P:01D1 260000         2  99533778 L450:   move    #0,y0
P:01D2 200013         2  99733779         clr     a   
P:01D3 294000         2  99933780         move    #$40,b0
P:01D4 595F00         2 100133781         move    b0,y:(r7)+
P:01D5 298000         2 100333783         move    #$80,b0
P:01D6 595F00         2 100533784         move    b0,y:(r7)+
P:01D7 5C5F00         2 100733786         move    a1,y:(r7)+
P:01D8 4E5F00         2 100933788         move    y0,y:(r7)+
P:01D9 260300         2 101133790         move    #<3,y0
P:01DA 4E5F00         2 101333791         move    y0,y:(r7)+
P:01DB 290600         2 101533793         move    #6,b0
P:01DC 595F00         2 101733794         move    b0,y:(r7)+
P:01DD 0BF080 rrrrrr  6 102333796         jsr     FSysPostMessage
P:01DF 3F0600         2 102533797         move    #6,n7
P:01E0 000000         2 102733798         nop
P:01E1 204700         2 102933799         move    (r7)-n7
                            33801 
                            33802 ; 490  |
                            33803 ; 491  |                #if (NUM_REMOVABLE_MEDIA > 0) // There is at least one external media
                            33804 ; 492  |
                            33805 ; 493  |            //check whether error is with internal drive or external driive.
                            33806 ; 494  |            //According to that display the messsage.
                            33807 ; 495  |                   if (g_FSinitErrorCode &
                            33808 ; 496  |              (ERROR_ON_INTERNAL_MEDIA_SHIFTED | INTERNAL_MEDIA_NOT_SIGMATEL_FORMAT_SHIFTED))
                            33809 
P:01E2 5DF000 rrrrrr  3 103233811         move    y:Fg_FSinitErrorCode,b1
P:01E4 45F400 0001E0  3 103533812         move    #$1E0,x1
P:01E6 20006E         2 103733813         and     x1,b
P:01E7 0AF0AA rrrrrr  6 104333814         jeq     L451
                            33815 
                            33816 ; 497  |                                SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,8,RSRC_INTERNAL_MEDIA_ERROR1);
                            33817 
P:01E9 290800         2 104533819         move    #8,b0
P:01EA 200013         2 104733820         clr     a   
P:01EB 44F400 0001F6  3 105033821         move    #502,x0
P:01ED 4C5F00         2 105233822         move    x0,y:(r7)+
P:01EE 595F00         2 105433824         move    b0,y:(r7)+
P:01EF 5C5F00         2 105633826         move    a1,y:(r7)+
P:01F0 45F400 030001  3 105933828         move    #$30001,x1
P:01F2 4D5F00         2 106133829         move    x1,y:(r7)+
P:01F3 290500         2 106333831         move    #5,b0
P:01F4 595F00         2 106533832         move    b0,y:(r7)+
P:01F5 0BF080 rrrrrr  6 107133834         jsr     FSysPostMessage
P:01F7 3F0500         2 107333835         move    #5,n7
P:01F8 000000         2 107533836         nop
P:01F9 204700         2 107733837         move    (r7)-n7
P:01FA 0AF080 rrrrrr  6 108333839         jmp     L455
                            33840 
                            33841 ; 498  |
                            33842 ; 499  |                   else if (g_FSinitErrorCode & ERROR_ON_EXTERNAL_MEDIA)
                            33843 
P:01FC 5DF000 rrrrrr  3 108633845 L451:   move    y:Fg_FSinitErrorCode,b1
P:01FE 46F400 00000E  3 108933846         move    #>14,y0
P:0200 20005E         2 109133847         and     y0,b
P:0201 0AF0AA rrrrrr  6 109733848         jeq     L452
                            33849 
                            33850 ; 500  |                                SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,0,RSRC_EXTERNAL_MEDIA_ERROR1);
                            33851 
P:0203 200013         2 109933853         clr     a   
P:0204 20001B         2 110133854         clr     b   
P:0205 44F400 0001F4  3 110433855         move    #500,x0
P:0207 4C5F00         2 110633856         move    x0,y:(r7)+
P:0208 5D5F00         2 110833858         move    b1,y:(r7)+
P:0209 5C5F00         2 111033860         move    a1,y:(r7)+
P:020A 45F400 030001  3 111333862         move    #$30001,x1
P:020C 4D5F00         2 111533863         move    x1,y:(r7)+
P:020D 290500         2 111733865         move    #5,b0
P:020E 595F00         2 111933866         move    b0,y:(r7)+
P:020F 0BF080 rrrrrr  6 112533868         jsr     FSysPostMessage
P:0211 3F0500         2 112733869         move    #5,n7
P:0212 000000         2 112933870         nop
P:0213 204700         2 113133871         move    (r7)-n7
P:0214 0AF080 rrrrrr  6 113733873         jmp     L455
                            33874 
                            33875 ; 501  |
                            33876 ; 502  |                        else if (g_FSinitErrorCode & EXTERNAL_MEDIA_NOT_SIGMATEL_FORMAT)
                            33877 
P:0216 5FF000 rrrrrr  3 114033879 L452:   move    y:Fg_FSinitErrorCode,b
P:0218 46F400 000010  3 114333880         move    #>16,y0
P:021A 20005E         2 114533881         and     y0,b
P:021B 0AF0AA rrrrrr  6 115133882         jeq     L455
                            33883 
                            33884 ; 503  |                                SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,8,RSRC_EXTERNAL_MEDIA_ERROR2);
                            33885 
P:021D 290800         2 115333887         move    #8,b0
P:021E 200013         2 115533888         clr     a   
P:021F 55F400 0001F5  3 115833889         move    #501,b1
P:0221 5D5F00         2 116033890         move    b1,y:(r7)+
P:0222 595F00         2 116233892         move    b0,y:(r7)+
P:0223 5C5F00         2 116433894         move    a1,y:(r7)+
P:0224 57F400 030001  3 116733896         move    #$30001,b
P:0226 5F5F00         2 116933897         move    b,y:(r7)+
P:0227 290500         2 117133899         move    #5,b0
P:0228 595F00         2 117333900         move    b0,y:(r7)+
P:0229 0BF080 rrrrrr  6 117933902         jsr     FSysPostMessage
P:022B 3F0500         2 118133903         move    #5,n7
P:022C 000000         2 118333904         nop
P:022D 204700         2 118533905         move    (r7)-n7
                            33907 
                            33908 ; 504  |
                            33909 ; 505  |                #else // NAND only
                            33910 ; 506  |                        if (g_FSinitErrorCode & (ERROR_ON_INTERNAL_MEDIA | INTERNAL_MEDIA_NOT_SIGMATEL_FORMAT))
                            33911 ; 507  |                                SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,8,RSRC_INTERNAL_MEDIA_ERROR1);
                            33912 ; 508  |                #endif
                            33913 ; 509  |
                            33914 ; 510  |                SysWaitOnEvent(0,0,4000);  // show for n milliseconds
                            33915 
P:022E 300000         2 118733917 L455:   move    #0,r0
P:022F 200013         2 118933918         clr     a   
P:0230 57F400 000FA0  3 119233919         move    #4000,b
P:0232 0BF080 rrrrrr  6 119833920         jsr     SysWaitOnEvent
                            33921 
                            33922 ; 511  |                ShutdownMenu(FORCESHUTDOWN,0,0);
                            33923 
P:0234 300000         2 120033925         move    #0,r0
P:0235 56F400 000001  3 120333926         move    #>1,a
P:0237 20001B         2 120533927         clr     b   
P:0238 0BF080 rrrrrr  6 121133928         jsr     FShutdownMenu
                            33929 
                            33930 ; 512  |        }
                            33931 ; 513  |
                            33932 ; 514  |    if(Btl_Flags & HOLD_BUTTON_REPORTED_BITMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 132

M:ADDR CODE           CYCLES LINE SOURCELINE
                            33933 
P:023A 5DF000 rrrrrr  3 121433935 L456:   move    y:FBtl_Flags,b1
P:023C 47F400 000004  3 121733936         move    #>4,y1
P:023E 20007E         2 121933937         and     y1,b
P:023F 21AF00         2 122133938         move    b1,b
P:0240 2B0000         2 122333939         move    #0,b2
P:0241 20000B         2 122533940         tst     b
P:0242 0AF0AA rrrrrr  6 123133941         jeq     L457
                            33942 
                            33943 ; 515  |    {  //Display what we need to show the player is locked, then get out
                            33944 ; 516  |        SysPostMessage(6,LCD_CLEAR_RANGE,0,0,LCD_SIZE_X,LCD_SIZE_Y);
                            33945 
P:0244 270000         2 123333947         move    #0,y1
P:0245 200013         2 123533948         clr     a   
P:0246 294000         2 123733949         move    #$40,b0
P:0247 595F00         2 123933950         move    b0,y:(r7)+
P:0248 298000         2 124133952         move    #$80,b0
P:0249 595F00         2 124333953         move    b0,y:(r7)+
P:024A 5C5F00         2 124533955         move    a1,y:(r7)+
P:024B 4F5F00         2 124733957         move    y1,y:(r7)+
P:024C 260300         2 124933959         move    #<3,y0
P:024D 4E5F00         2 125133960         move    y0,y:(r7)+
P:024E 290600         2 125333962         move    #6,b0
P:024F 595F00         2 125533963         move    b0,y:(r7)+
P:0250 0BF080 rrrrrr  6 126133965         jsr     FSysPostMessage
P:0252 3F0600         2 126333966         move    #6,n7
P:0253 000000         2 126533967         nop
P:0254 204700         2 126733968         move    (r7)-n7
                            33970 
                            33971 ; 517  |        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,LOCKED_SCREEN_X_POS,LOCKED_SCREEN_Y_POS,RSRC_LOCKED_SCREEN);
                            33972 
P:0255 2D0800         2 126933974         move    #8,b1
P:0256 29FC00         2 127133975         move    #$FC,b0
P:0257 595F00         2 127333976         move    b0,y:(r7)+
P:0258 291800         2 127533978         move    #24,b0
P:0259 595F00         2 127733979         move    b0,y:(r7)+
P:025A 5D5F00         2 127933981         move    b1,y:(r7)+
P:025B 46F400 030001  3 128233983         move    #$30001,y0
P:025D 4E5F00         2 128433984         move    y0,y:(r7)+
P:025E 290500         2 128633986         move    #5,b0
P:025F 595F00         2 128833987         move    b0,y:(r7)+
P:0260 0BF080 rrrrrr  6 129433989         jsr     FSysPostMessage
P:0262 3F0500         2 129633990         move    #5,n7
P:0263 000000         2 129833991         nop
P:0264 204700         2 130033992         move    (r7)-n7
                            33994 
                            33995 ; 518  |        SysWaitOnEvent(0,0,1000);  // show for 1 second
                            33996 
P:0265 300000         2 130233998         move    #0,r0
P:0266 200013         2 130433999         clr     a   
P:0267 57F400 0003E8  3 130734000         move    #1000,b
P:0269 0BF080 rrrrrr  6 131334001         jsr     SysWaitOnEvent
                            34002 
                            34003 ; 519  |        ShutdownMenu(FORCESHUTDOWN,0,0);
                            34004 
P:026B 300000         2 131534006         move    #0,r0
P:026C 56F400 000001  3 131834007         move    #>1,a
P:026E 20001B         2 132034008         clr     b   
P:026F 0BF080 rrrrrr  6 132634009         jsr     FShutdownMenu
                            34010 
                            34011 ; 520  |    }
                            34012 ; 521  |///////////////////////////////////////////////////////////////////////////
                            34013 ; 522  |
                            34014 ; 523  |
                            34015 ; 524  |
                            34016 ; 525  |///////////////// BATTERY CHECK SETUP /////////////////////////////////////
                            34017 ; 526  |    // Force the battery status display to update every 2 seconds
                            34018 ; 527  |    SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_BATT_CHK,0,2000,MENU_BATTERY_CHNG);
                            34019 
P:0271 290200         2 132834021 L457:   move    #2,b0
P:0272 50F400 060005  3 133134022         move    #393221,a0
P:0274 46F400 0007D0  3 133434023         move    #2000,y0
P:0276 47F400 090001  3 133734024         move    #589825,y1
P:0278 2D0600         2 133934025         move    #6,b1
P:0279 250000         2 134134026         move    #0,x1
P:027A 585F00         2 134334027         move    a0,y:(r7)+
P:027B 4E5F00         2 134534029         move    y0,y:(r7)+
P:027C 4D5F00         2 134734031         move    x1,y:(r7)+
P:027D 595F00         2 134934033         move    b0,y:(r7)+
P:027E 4F5F00         2 135134035         move    y1,y:(r7)+
P:027F 5D5F00         2 135334037         move    b1,y:(r7)+
P:0280 0BF080 rrrrrr  6 135934039         jsr     FSysPostMessage
P:0282 3F0600         2 136134040         move    #6,n7
P:0283 000000         2 136334041         nop
P:0284 204700         2 136534042         move    (r7)-n7
                            34044 
                            34045 ; 528  |
                            34046 ; 529  |#if     0
                            34047 ; 530  |    // Init the Low Resolution Analog to Digital Converter (LRADC) Channel: BATTery
                            34048 ; 531  |//    SysLowResolutionADCInit(BATT, OFF, VBATT_REF); // should remove line since done in MiscProject.c, else 6464 defect occurs
                            34049 ; 532  |///////////////////////////////////////////////////////////////////////////
                            34050 ; 533  |
                            34051 ; 534  |///////////////// BATTERY BROWNOUT SETUP /////////////////////////////////////
                            34052 ; 535  |    // Setup Battery brownout detection -- shuts down device if batteries too low
                            34053 ; 536  |//    SysLRADCBrownoutInit((WORD)(BATT_BROWNOUT)); // should remove line since done in MiscProject.c, else 6464 defect occurs.
                            34054 ; 537  |#endif
                            34055 ; 538  |///////////////////////////////////////////////////////////////////////////
                            34056 ; 539  |
                            34057 ; 540  |//~~~~~~~~~~~~~~~~~~~~~~~~~~~  EFFECTS PROCESSING ~~~~~~~~~~~~~~~~~~~~~~~~~
                            34058 ; 541  |// Select either GEQ or WOW -- currenly not enough MIPs to do both
                            34059 ; 542  |// WOW is added to the EQ button toggle to enable/disable WOW if WOW is selected
                            34060 ; 543  |#ifndef WOW
                            34061 ; 544  |// To enable GEQ and disable WOW:
                            34062 ; 545  |    //SysPostMessage(3,GEQ_SET_EQ,ENABLE);
                            34063 ; 546  |
                            34064 ; 547  |////////////////////////   SETUP EQ FILTER   //////////////////////////////
                            34065 ; 548  |        // Set Q=0.99 and center frequencies of: 62,250,1k,4k,16k (Hz)
                            34066 ; 549  |        SysPostMessage(12,GEQ_SET_PARAM,0.99,0.99,0.99,0.99,0.99,62,250,1000,4000,16000);
                            34067 
P:0285 46F400 7EB852  3 136834069         move    #$7EB852,y0
P:0287 20C400         2 137034070         move    y0,x0
P:0288 208500         2 137234071         move    x0,x1
P:0289 20A800         2 137434072         move    x1,a0
P:028A 47F400 003E80  3 137734073         move    #16000,y1
P:028C 4F5F00         2 137934074         move    y1,y:(r7)+
P:028D 51F400 000FA0  3 138234076         move    #4000,b0
P:028F 595F00         2 138434077         move    b0,y:(r7)+
P:0290 55F400 0003E8  3 138734079         move    #1000,b1
P:0292 5D5F00         2 138934080         move    b1,y:(r7)+
P:0293 29FA00         2 139134082         move    #250,b0
P:0294 595F00         2 139334083         move    b0,y:(r7)+
P:0295 293E00         2 139534085         move    #$3E,b0
P:0296 595F00         2 139734086         move    b0,y:(r7)+
P:0297 210C00         2 139934088         move    a0,a1
P:0298 5C5F00         2 140134089         move    a1,y:(r7)+
P:0299 585F00         2 140334091         move    a0,y:(r7)+
P:029A 4D5F00         2 140534093         move    x1,y:(r7)+
P:029B 4C5F00         2 140734095         move    x0,y:(r7)+
P:029C 4E5F00         2 140934097         move    y0,y:(r7)+
P:029D 56F400 0A0005  3 141234099         move    #655365,a
P:029F 5E5F00         2 141434100         move    a,y:(r7)+
P:02A0 290C00         2 141634102         move    #12,b0
P:02A1 595F00         2 141834103         move    b0,y:(r7)+
P:02A2 0BF080 rrrrrr  6 142434105         jsr     FSysPostMessage
P:02A4 3F0C00         2 142634106         move    #12,n7
P:02A5 000000         2 142834107         nop
P:02A6 204700         2 143034108         move    (r7)-n7
P:02A7 300000         2 143234110         move    #0,r0
P:02A8 57F400 000001  3 143534111         move    #>1,b
P:02AA 200013         2 143734112         clr     a   
                            34113 
                            34114 ; 550  |///////////////////////////////////////////////////////////////////////////
                            34115 ; 551  |#else
                            34116 ; 552  |
                            34117 ; 553  |    SysPostMessage(3,GEQ_SET_EQ,DISABLE);
                            34118 ; 554  |    EnablePluginModule(&WowModuleBase);
                            34119 ; 555  |         //At this point wowctrl program can be safely assumed to be loaded in the memory and any code in that file can be called directly.
                            34120 ; 556  |    SysCallFunction(RSRC_WOW_CTRL,SetProcessEnable,(int)&sWowChannel,(int)TRUE,0);
                            34121 ; 557  |    g_bWOWEnable = TRUE;
                            34122 ; 558  |    SysCallFunction(RSRC_WOW_MENU_CODE_BANK,WowInit,0,0,0);
                            34123 ; 559  |#endif
                            34124 ; 560  |//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
                            34125 ; 561  |    SysWaitOnEvent(0,0,1);  // process all messages before starting (makes room in the soft timer msg queue)
                            34126 
P:02AB 0BF080 rrrrrr  6 144334128         jsr     SysWaitOnEvent
                            34129 
                            34130 ; 562  |
                            34131 ; 563  |///////////////// AUTOSHUTDOWN SETUP /////////////////////////////////////
                            34132 ; 564  |    // setup auto shutdown if enabled setting saved
                            34133 ; 565  |    if (g_wPwrSettings != PWR_DISABLE)
                            34134 
P:02AD 5FF000 rrrrrr  3 144634136         move    y:Fg_wPwrSettings,b
P:02AF 2B0000         2 144834137         move    #0,b2
P:02B0 20000B         2 145034138         tst     b
P:02B1 0AF0AA rrrrrr  6 145634139         jeq     L458
                            34140 
                            34141 ; 566  |    {
                            34142 ; 567  |        g_MenuFlags.MENU_FLAG_POWER_DOWN_ENABLED = TRUE;
                            34143 
P:02B3 0A7060 rrrrrr  6 146234145         bset    #0,y:Fg_MenuFlags
                            34146 
                            34147 ; 568  |        // setup g_wPowerOffTrigger
                            34148 ; 569  |        SysCallFunction(RSRC_PWRSETTINGS_MENU_CODE_BANK,SetPwrSetting,g_wPwrSettings,0,0);
                            34149 
P:02B5 340000         2 146434151         move    #0,r4
P:02B6 240000         2 146634152         move    #0,x0
P:02B7 56F400 000080  3 146934153         move    #>$80,a
P:02B9 60F400 rrrrrr  3 147234154         move    #FSetPwrSetting,r0
P:02BB 21AF00         2 147434155         move    b1,b
P:02BC 0BF080 rrrrrr  6 148034156         jsr     SysCallFunction
                            34157 
                            34158 ; 570  |    }
                            34159 ; 571  |    UpdateAutoShutdownTimer();
                            34160 
P:02BE 0BF080 rrrrrr  6 148634162 L458:   jsr     FUpdateAutoShutdownTimer
                            34163 
                            34164 ; 572  |///////////////////////////////////////////////////////////////////////////
                            34165 ; 573  |
                            34166 ; 574  |
                            34167 ; 575  |///////////////  UPDATE SYSTEM SAVED SETTINGS ////////////////////////////
                            34168 ; 576  |#ifdef USE_PLAYLIST3
                            34169 ; 577  |        // Let the other messages queues be cleared first
                            34170 ; 578  |        SysWaitOnEvent(0,0,0);
                            34171 
P:02C0 200013         2 148834173         clr     a   
P:02C1 300000         2 149034174         move    #0,r0
P:02C2 20001B         2 149234175         clr     b   
P:02C3 0BF080 rrrrrr  6 149834176         jsr     SysWaitOnEvent
                            34177 
                            34178 ; 579  |        // Suspending the auto power down timer and battery check timer to prevent
                            34179 ; 580  |        //  sudden power down in long sessions of music library rebuild
                            34180 ; 581  |        // Suspending the animation timer off to save system resource
                            34181 ; 582  |        SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_BATT_CHK);
                            34182 
P:02C5 290200         2 150034184         move    #2,b0
P:02C6 45F400 090002  3 150334185         move    #589826,x1
P:02C8 2D0300         2 150534186         move    #3,b1
P:02C9 595F00         2 150734187         move    b0,y:(r7)+
P:02CA 4D5F00         2 150934189         move    x1,y:(r7)+
P:02CB 5D5F00         2 151134191         move    b1,y:(r7)+
P:02CC 0BF080 rrrrrr  6 151734193         jsr     FSysPostMessage
P:02CE 3F0300         2 151934194         move    #3,n7
P:02CF 000000         2 152134195         nop
P:02D0 204700         2 152334196         move    (r7)-n7
                            34198 
                            34199 ; 583  |        SysWaitOnEvent(0,0,0);
                            34200 
P:02D1 200013         2 152534202         clr     a   
P:02D2 300000         2 152734203         move    #0,r0
P:02D3 20001B         2 152934204         clr     b   
P:02D4 0BF080 rrrrrr  6 153534205         jsr     SysWaitOnEvent
P:02D6 56F400 090002  3 153834206         move    #589826,a
P:02D8 290300         2 154034207         move    #3,b0
P:02D9 2D0100         2 154234208         move    #1,b1
P:02DA 5D5F00         2 154434209         move    b1,y:(r7)+
P:02DB 5E5F00         2 154634211         move    a,y:(r7)+
P:02DC 595F00         2 154834213         move    b0,y:(r7)+
                            34215 
                            34216 ; 584  |        SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_AUTO_SHUTDOWN);
                            34217 
P:02DD 0BF080 rrrrrr  6 155434219         jsr     FSysPostMessage
P:02DF 3F0300         2 155634220         move    #3,n7
P:02E0 000000         2 155834221         nop
P:02E1 204700         2 156034222         move    (r7)-n7
                            34224 
                            34225 ; 585  |        SysWaitOnEvent(0,0,0);
                            34226 
P:02E2 200013         2 156234228         clr     a   
P:02E3 300000         2 156434229         move    #0,r0
P:02E4 20001B         2 156634230         clr     b   
P:02E5 0BF080 rrrrrr  6 157234231         jsr     SysWaitOnEvent
P:02E7 56F400 090002  3 157534232         move    #589826,a
P:02E9 290300         2 157734233         move    #3,b0
P:02EA 240000         2 157934234         move    #0,x0
P:02EB 4C5F00         2 158134235         move    x0,y:(r7)+
P:02EC 5E5F00         2 158334237         move    a,y:(r7)+
P:02ED 595F00         2 158534239         move    b0,y:(r7)+
                            34241 
                            34242 ; 586  |        SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_ANIMATE);
                            34243 
P:02EE 0BF080 rrrrrr  6 159134245         jsr     FSysPostMessage
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 133

M:ADDR CODE           CYCLES LINE SOURCELINE
P:02F0 3F0300         2 159334246         move    #3,n7
P:02F1 000000         2 159534247         nop
P:02F2 204700         2 159734248         move    (r7)-n7
                            34250 
                            34251 ; 587  |        SysWaitOnEvent(0,0,0);
                            34252 
P:02F3 200013         2 159934254         clr     a   
P:02F4 300000         2 160134255         move    #0,r0
P:02F5 20001B         2 160334256         clr     b   
P:02F6 0BF080 rrrrrr  6 160934257         jsr     SysWaitOnEvent
                            34258 
                            34259 ; 588  |
                            34260 ; 589  |        SysSpeedIncrease(SPEED_WMA, SPEED_CLIENT_PLAYLIST1);
                            34261 
P:02F8 57F400 00000F  3 161234263         move    #>15,b
P:02FA 56F400 00000B  3 161534264         move    #>11,a
P:02FC 0BF080 rrrrrr  6 162134265         jsr     FSysSpeedIncrease
P:02FE 200013         2 162334266         clr     a   
                            34267 
                            34268 ; 590  |#if 0
                            34269 ; 591  |    if(g_DriveFlushCnt == 0)
                            34270 ; 592  |    {
                            34271 ; 593  |        // To avoid copying updates to a new UBlock which takes much time in some particular conditions.(This problem only happen once after Data Format.) --17/01-07
                            34272 ; 594  |        DriveFlush(0);
                            34273 ; 595  |
                            34274 ; 596  |                // Just let DriveFlush() here be called once. The value of g_DriveFlushCnt will be kept by using SaveRange until next Data Format.      --17/01-07
                            34275 ; 597  |        g_DriveFlushCnt++;
                            34276 ; 598  |    }
                            34277 ; 599  |#else
                            34278 ; 600  |    DriveFlush(0);
                            34279 
P:02FF 0BF080 rrrrrr  6 162934281         jsr     FDriveFlush
                            34282 
                            34283 ; 601  |#endif
                            34284 ; 602  |        SysLoadFATWrite();
                            34285 
P:0301 0BF080 rrrrrr  6 163534287         jsr     SysLoadFATWrite
                            34288 
                            34289 ; 603  |        g_current_index = 0;
                            34290 
P:0303 20001B         2 163734292         clr     b   
P:0304 5D7000 rrrrrr  3 164034293         move    b1,y:Fg_current_index
                            34294 
                            34295 ; 604  |        g_iFileHandle = -1;
                            34296 
P:0306 51F400 FFFFFF  3 164334298         move    #-1,b0
P:0308 597000 rrrrrr  3 164634299         move    b0,y:Fg_iFileHandle
                            34300 
                            34301 ; 605  |        g_isRebuildSecTableFile = 1;
                            34302 
P:030A 290100         2 164834304         move    #1,b0
P:030B 597000 rrrrrr  3 165134305         move    b0,y:Fg_isRebuildSecTableFile
                            34306 
                            34307 ; 606  |        g_iFileHandle = Fopen((_packed char *) g_strMusicLib_FilePath, (_packed char *)"r");
                            34308 
P:030D 60F400 rrrrrr  3 165434310         move    #Fg_strMusicLib_FilePath,r0
P:030F 77F400 FFFFFD  3 165734311         move    #-3,n7
P:0311 000000         2 165934312         nop
P:0312 686F00         4 166334313         move    r0,y:(r7+n7)
P:0313 64F400 rrrrrr  3 166634314         move    #L22,r4
P:0315 0BF080 rrrrrr  6 167234315         jsr     FFopen
P:0317 5E7000 rrrrrr  3 167534316         move    a,y:Fg_iFileHandle
                            34317 
                            34318 ; 607  |        if (g_iFileHandle < 0)
                            34319 
P:0319 200003         2 167734321         tst     a
P:031A 0AF0A9 rrrrrr  6 168334322         jlt     L464
                            34323 
                            34324 ; 608  |        {
                            34325 ; 609  |        // for clear screen before rendering message
                            34326 ; 610  |        SysPostMessage(6,LCD_CLEAR_RANGE,0,0,LCD_SIZE_X,LCD_SIZE_Y);
                            34327 ; 611  |
                            34328 ; 612  |                SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,0,RSRC_BUILD_ML);
                            34329 ; 613  |                SysWaitOnEvent(0,0,0);
                            34330 ; 614  |                rtCode = TryToRegenerateEmptyMusicLib(iMusicLib_FileSize, g_strMusicLib_FilePath, MUSICLIB_FILESIZE_IN_SECTOR); /* _must_use_ long iMusicLib_FileSize to pass parameter */
                            34331 ; 615  |                FSFileDelete(g_strMusicLib_SecTable_FilePath, 0);
                            34332 ; 616  |        }
                            34333 ; 617  |        else
                            34334 ; 618  |        {
                            34335 ; 619  |                iFileSize = FSFileSize(g_iFileHandle);
                            34336 
P:031C 0BF080 rrrrrr  6 168934338         jsr     FFSFileSize
P:031E 77F400 FFFFFE  3 169234339         move    #-2,n7
P:0320 205F00         2 169434340         move    (r7)+
P:0321 5C6F00         4 169834342         move    a1,y:(r7+n7)
P:0322 205700         2 170034343         move    (r7)-
P:0323 586F00         4 170434345         move    a0,y:(r7+n7)
                            34347 
                            34348 ; 620  |                FSFileClose(g_iFileHandle);
                            34349 
P:0324 5EF000 rrrrrr  3 170734351         move    y:Fg_iFileHandle,a
P:0326 0BF080 rrrrrr  6 171334352         jsr     FFSFileClose
                            34353 
                            34354 ; 621  |                g_iFileHandle = -1;
                            34355 
P:0328 57F400 FFFFFF  3 171634357         move    #>-1,b
P:032A 5F7000 rrrrrr  3 171934358         move    b,y:Fg_iFileHandle
                            34359 
                            34360 ; 622  |                if (iFileSize != iMusicLib_FileSize)
                            34361 
P:032C 77F400 FFFFFE  3 172234363         move    #-2,n7
P:032E 205F00         2 172434364         move    (r7)+
P:032F 5FEF00         4 172834366         move    y:(r7+n7),b
P:0330 205700         2 173034367         move    (r7)-
P:0331 59EF00         4 173434369         move    y:(r7+n7),b0
P:0332 200013         2 173634370         clr     a   
P:0333 50F400 800000  3 173934371         move    #$800000,a0
P:0335 20000D         2 174134372         cmp     a,b
P:0336 0AF0AA rrrrrr  6 174734375         jeq     L459
P:0338 60F400 rrrrrr  3 175034376         move    #Fg_strMusicLib_FilePath,r0
P:033A 200013         2 175234377         clr     a   
                            34378 
                            34379 ; 623  |                {
                            34380 ; 624  |                        if (FSFileDelete(g_strMusicLib_FilePath, 0) == -1)
                            34381 
P:033B 0BF080 rrrrrr  6 175834383         jsr     FFSFileDelete
P:033D 46F400 FFFFFF  3 176134385         move    #>-1,y0
P:033F 200055         2 176334386         cmp     y0,a
P:0340 0AF0A2 rrrrrr  6 176934387         jne     L466
                            34388 
                            34389 ; 625  |                        {
                            34390 ; 626  |                                // Failed to delete
                            34391 ; 627  |                                rtCode = MUSICLIB_FAT_ERROR_DELETE_FILE;
                            34392 
P:0342 0AF080 rrrrrr  6 177534394         jmp     L463
                            34395 
                            34396 ; 628  |                        }
                            34397 ; 629  |                        else
                            34398 ; 630  |                        {
                            34399 ; 631  |                                rtCode = TryToRegenerateEmptyMusicLib(iMusicLib_FileSize, g_strMusicLib_FilePath, MUSICLIB_FILESIZE_IN_SECTOR); /* _must_use_ long iMusicLib_FileSize to pass parameter */
                            34400 ; 632  |                                FSFileDelete(g_strMusicLib_SecTable_FilePath, 0);
                            34401 ; 633  |                        }
                            34402 ; 634  |                }
                            34403 ; 635  |                else
                            34404 ; 636  |                {
                            34405 ; 637  |                        if ((g_iFileHandle = Fopen((_packed char *) g_strMusicLib_FilePath, (_packed char *)"r")) < 0)
                            34406 
P:0344 77F400 FFFFFD  3 177834408 L459:   move    #-3,n7
P:0346 000000         2 178034409         nop
P:0347 68EF00         4 178434410         move    y:(r7+n7),r0
P:0348 64F400 rrrrrr  3 178734411         move    #L22,r4
P:034A 0BF080 rrrrrr  6 179334412         jsr     FFopen
P:034C 5E7000 rrrrrr  3 179634413         move    a,y:Fg_iFileHandle
P:034E 5FF000 rrrrrr  3 179934414         move    y:Fg_iFileHandle,b
P:0350 20000B         2 180134415         tst     b
P:0351 0AF0A1 rrrrrr  6 180734416         jge     L460
                            34417 
                            34418 ; 638  |                        {
                            34419 ; 639  |                                rtCode = MUSICLIB_FAT_ERROR_OPEN_FILE;
                            34420 
P:0353 46F400 000004  3 181034422         move    #>4,y0
P:0355 77F400 FFFFFB  3 181334425         move    #-5,n7
P:0357 000000         2 181534426         nop
P:0358 4E6F00         4 181934427         move    y0,y:(r7+n7)
                            34430 
                            34431 ; 640  |                        }
                            34432 
P:0359 0AF080 rrrrrr  6 182534434         jmp     L469
                            34435 
                            34436 ; 641  |                        else
                            34437 ; 642  |                        {
                            34438 ; 643  |                                filegetdate(g_iFileHandle, MODIFICATION_DATE, &dirdate2, &dirtime2);
                            34439 
P:035B 77F400 FFFFED  3 182834441 L460:   move    #-19,n7
P:035D 000000         2 183034442         nop
P:035E 044F10         4 183434443         lua     (r7)+n7,r0
P:035F 77F400 FFFFEA  3 183734444         move    #-22,n7
P:0361 000000         2 183934445         nop
P:0362 044F18         4 184334446         lua     (r7)+n7,n0
P:0363 231400         2 184534447         move    n0,r4
P:0364 57F400 000003  3 184834448         move    #>3,b
P:0366 0BF080 rrrrrr  6 185434449         jsr     Ffilegetdate
                            34450 
                            34451 ; 644  |                                filegetdate(g_iFileHandle, MODIFICATION_TIME, &dirdate2, &dirtime2);
                            34452 
P:0368 5EF000 rrrrrr  3 185734454         move    y:Fg_iFileHandle,a
P:036A 57F400 000004  3 186034455         move    #>4,b
P:036C 77F400 FFFFEA  3 186334456         move    #-22,n7
P:036E 000000         2 186534457         nop
P:036F 044F14         4 186934458         lua     (r7)+n7,r4
P:0370 77F400 FFFFED  3 187234459         move    #-19,n7
P:0372 000000         2 187434460         nop
P:0373 044F10         4 187834461         lua     (r7)+n7,r0
P:0374 0BF080 rrrrrr  6 188434462         jsr     Ffilegetdate
                            34463 
                            34464 ; 645  |                                Fclose(g_iFileHandle);
                            34465 
P:0376 5EF000 rrrrrr  3 188734467         move    y:Fg_iFileHandle,a
P:0378 0BF080 rrrrrr  6 189334468         jsr     FFclose
                            34469 
                            34470 ; 646  |                                if ((dirdate.Year != dirdate2.Year) || (dirdate.Month != dirdate2.Month) ||
                            34471 ; 647  |                                        (dirdate.Day != dirdate2.Day))
                            34472 
P:037A 5FF000 rrrrrr  3 189634474         move    y:Fdirdate+2,b
P:037C 77F400 FFFFEF  3 189934475         move    #-17,n7
P:037E 000000         2 190134476         nop
P:037F 4EEF00         4 190534477         move    y:(r7+n7),y0
P:0380 20005D         2 190734478         cmp     y0,b
P:0381 0AF0A2 rrrrrr  6 191334479         jne     L462
P:0383 5FF000 rrrrrr  3 191634480         move    y:Fdirdate+1,b
P:0385 77F400 FFFFEE  3 191934481         move    #-18,n7
P:0387 000000         2 192134482         nop
P:0388 4EEF00         4 192534483         move    y:(r7+n7),y0
P:0389 20005D         2 192734484         cmp     y0,b
P:038A 0AF0A2 rrrrrr  6 193334485         jne     L462
P:038C 5EF000 rrrrrr  3 193634486         move    y:Fdirdate,a
P:038E 77F400 FFFFED  3 193934487         move    #-19,n7
P:0390 000000         2 194134488         nop
P:0391 4FEF00         4 194534489         move    y:(r7+n7),y1
P:0392 200075         2 194734490         cmp     y1,a
P:0393 0AF0AA rrrrrr  6 195334491         jeq     L469
P:0395 60F400 rrrrrr  3 195634492 L462:   move    #Fg_strMusicLib_FilePath,r0
P:0397 200013         2 195834493         clr     a   
                            34494 
                            34495 ; 648  |                                {
                            34496 ; 649  |                                        if (FSFileDelete(g_strMusicLib_FilePath, 0) == -1)
                            34497 
P:0398 0BF080 rrrrrr  6 196434499         jsr     FFSFileDelete
P:039A 45F400 FFFFFF  3 196734500         move    #>-1,x1
P:039C 200065         2 196934501         cmp     x1,a
P:039D 0AF0A2 rrrrrr  6 197534502         jne     L465
                            34503 
                            34504 ; 650  |                                        {
                            34505 ; 651  |                                                // Failed to delete
                            34506 ; 652  |                                                rtCode = MUSICLIB_FAT_ERROR_DELETE_FILE;
                            34507 
P:039F 47F400 000003  3 197834509 L463:   move    #>3,y1
P:03A1 77F400 FFFFFB  3 198134512         move    #-5,n7
P:03A3 000000         2 198334513         nop
P:03A4 4F6F00         4 198734514         move    y1,y:(r7+n7)
                            34517 
                            34518 ; 653  |                                        }
                            34519 
P:03A5 0AF080 rrrrrr  6 199334521         jmp     L469
P:03A7 240000         2 199534523 L464:   move    #0,x0
P:03A8 2D0600         2 199734524         move    #6,b1
P:03A9 200013         2 199934525         clr     a   
P:03AA 294000         2 200134526         move    #$40,b0
P:03AB 595F00         2 200334527         move    b0,y:(r7)+
P:03AC 298000         2 200534529         move    #$80,b0
P:03AD 595F00         2 200734530         move    b0,y:(r7)+
P:03AE 5C5F00         2 200934532         move    a1,y:(r7)+
P:03AF 4C5F00         2 201134534         move    x0,y:(r7)+
P:03B0 260300         2 201334536         move    #<3,y0
P:03B1 4E5F00         2 201534537         move    y0,y:(r7)+
P:03B2 5D5F00         2 201734539         move    b1,y:(r7)+
P:03B3 0BF080 rrrrrr  6 202334541         jsr     FSysPostMessage
P:03B5 3F0600         2 202534542         move    #6,n7
P:03B6 000000         2 202734543         nop
P:03B7 204700         2 202934544         move    (r7)-n7
                            34546 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 134

M:ADDR CODE           CYCLES LINE SOURCELINE
                            34547 ; 654  |                                        else
                            34548 ; 655  |                                        {
                            34549 ; 656  |                                                SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,0,RSRC_BUILD_ML);
                            34550 
P:03B8 250000         2 203134552 L465:   move    #0,x1
P:03B9 200013         2 203334553         clr     a   
P:03BA 55F400 0003C1  3 203634554         move    #$3C1,b1
P:03BC 5D5F00         2 203834555         move    b1,y:(r7)+
P:03BD 5C5F00         2 204034557         move    a1,y:(r7)+
P:03BE 4D5F00         2 204234559         move    x1,y:(r7)+
P:03BF 57F400 030001  3 204534561         move    #$30001,b
P:03C1 5F5F00         2 204734562         move    b,y:(r7)+
P:03C2 290500         2 204934564         move    #5,b0
P:03C3 595F00         2 205134565         move    b0,y:(r7)+
P:03C4 0BF080 rrrrrr  6 205734567         jsr     FSysPostMessage
P:03C6 3F0500         2 205934568         move    #5,n7
P:03C7 000000         2 206134569         nop
P:03C8 204700         2 206334570         move    (r7)-n7
                            34572 
                            34573 ; 657  |                                                SysWaitOnEvent(0,0,0);
                            34574 
P:03C9 200013         2 206534576         clr     a   
P:03CA 300000         2 206734577         move    #0,r0
P:03CB 20001B         2 206934578         clr     b   
P:03CC 0BF080 rrrrrr  6 207534579         jsr     SysWaitOnEvent
                            34580 
                            34581 ; 658  |                                                rtCode = TryToRegenerateEmptyMusicLib(iMusicLib_FileSize, g_strMusicLib_FilePath, MUSICLIB_FILESIZE_IN_SECTOR); /* _must_use_ long iMusicLib_FileSize to pass paramet
                                  er */
                            34582 
P:03CE 60F400 rrrrrr  3 207834584 L466:   move    #Fg_strMusicLib_FilePath,r0
P:03D0 57F400 004000  3 208134585         move    #$4000,b
P:03D2 200013         2 208334586         clr     a   
P:03D3 50F400 800000  3 208634587         move    #$800000,a0
P:03D5 0BF080 rrrrrr  6 209234588         jsr     FTryToRegenerateEmptyMusicLib
P:03D7 77F400 FFFFFB  3 209534589         move    #-5,n7
P:03D9 000000         2 209734590         nop
P:03DA 5E6F00         4 210134591         move    a,y:(r7+n7)
                            34592 
                            34593 ; 659  |                                                FSFileDelete(g_strMusicLib_SecTable_FilePath, 0);
                            34594 
P:03DB 200013         2 210334596         clr     a   
P:03DC 60F400 rrrrrr  3 210634597         move    #Fg_strMusicLib_SecTable_FilePath,r0
P:03DE 0BF080 rrrrrr  6 211234598         jsr     FFSFileDelete
                            34599 
                            34600 ; 660  |                                        }
                            34601 ; 661  |                                }
                            34602 ; 662  |                        }
                            34603 ; 663  |                }
                            34604 ; 664  |        }
                            34605 ; 665  |        if (rtCode == 0)
                            34606 
P:03E0 77F400 FFFFFB  3 211534608 L469:   move    #-5,n7
P:03E2 000000         2 211734609         nop
P:03E3 5EEF00         4 212134610         move    y:(r7+n7),a
P:03E4 200003         2 212334611         tst     a
P:03E5 0AF0A2 rrrrrr  6 212934612         jne     L482
                            34613 
                            34614 ; 666  |        {
                            34615 ; 667  |                //g_iFileHandle = FSFileOpen(g_strMusicLib_SecTable_FilePath,READ,MUSICLIB_STDRIVE_NUMBER);
                            34616 ; 668  |                g_iFileHandle = Fopen((_packed char *) g_strMusicLib_SecTable_FilePath, (_packed char *)"r");
                            34617 
P:03E7 55F400 rrrrrr  3 213234619         move    #Fg_strMusicLib_SecTable_FilePath,b1
P:03E9 77F400 FFFFFD  3 213534620         move    #-3,n7
P:03EB 000000         2 213734621         nop
P:03EC 5D6F00         4 214134622         move    b1,y:(r7+n7)
P:03ED 21B000         2 214334623         move    b1,r0
P:03EE 64F400 rrrrrr  3 214634624         move    #L22,r4
P:03F0 0BF080 rrrrrr  6 215234625         jsr     FFopen
P:03F2 5E7000 rrrrrr  3 215534626         move    a,y:Fg_iFileHandle
                            34627 
                            34628 ; 669  |                if (g_iFileHandle < 0)
                            34629 
P:03F4 200003         2 215734631         tst     a
P:03F5 0AF0A9 rrrrrr  6 216334632         jlt     L477
                            34633 
                            34634 ; 670  |                {
                            34635 ; 671  |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,0,RSRC_BUILD_ML);
                            34636 ; 672  |                        SysWaitOnEvent(0,0,0);
                            34637 ; 673  |                        rtCode = TryToRegenerateEmptyMusicLib(SEC_TABLE_FILESIZE_IN_BYTE, g_strMusicLib_SecTable_FilePath, NUM_OF_LEVEL2_SEC);
                            34638 ; 674  |                }
                            34639 ; 675  |                else
                            34640 ; 676  |                {
                            34641 ; 677  |                        iFileSize = FSFileSize(g_iFileHandle);
                            34642 
P:03F7 0BF080 rrrrrr  6 216934644         jsr     FFSFileSize
P:03F9 77F400 FFFFFE  3 217234645         move    #-2,n7
P:03FB 205F00         2 217434646         move    (r7)+
P:03FC 5C6F00         4 217834648         move    a1,y:(r7+n7)
P:03FD 205700         2 218034649         move    (r7)-
P:03FE 586F00         4 218434651         move    a0,y:(r7+n7)
                            34653 
                            34654 ; 678  |                        FSFileClose(g_iFileHandle);
                            34655 
P:03FF 5EF000 rrrrrr  3 218734657         move    y:Fg_iFileHandle,a
P:0401 0BF080 rrrrrr  6 219334658         jsr     FFSFileClose
                            34659 
                            34660 ; 679  |                        g_iFileHandle = -1;
                            34661 
P:0403 54F400 FFFFFF  3 219634663         move    #-1,a1
P:0405 5C7000 rrrrrr  3 219934664         move    a1,y:Fg_iFileHandle
                            34665 
                            34666 ; 680  |                        if (iFileSize != SEC_TABLE_FILESIZE_IN_BYTE)
                            34667 
P:0407 77F400 FFFFFE  3 220234669         move    #-2,n7
P:0409 205F00         2 220434670         move    (r7)+
P:040A 5FEF00         4 220834672         move    y:(r7+n7),b
P:040B 205700         2 221034673         move    (r7)-
P:040C 59EF00         4 221434675         move    y:(r7+n7),b0
P:040D 200013         2 221634676         clr     a   
P:040E 50F400 018400  3 221934677         move    #$18400,a0
P:0410 20000D         2 222134678         cmp     a,b
P:0411 0AF0AA rrrrrr  6 222734681         jeq     L470
P:0413 60F400 rrrrrr  3 223034682         move    #Fg_strMusicLib_SecTable_FilePath,r0
P:0415 200013         2 223234683         clr     a   
                            34684 
                            34685 ; 681  |                        {
                            34686 ; 682  |                                // Sample code demostrates getNoOfFreeSector
                            34687 ; 683  |                                if (FSFileDelete(g_strMusicLib_SecTable_FilePath, 0) == -1)
                            34688 
P:0416 0BF080 rrrrrr  6 223834690         jsr     FFSFileDelete
P:0418 44F400 FFFFFF  3 224134692         move    #>-1,x0
P:041A 200045         2 224334693         cmp     x0,a
P:041B 0AF0AA rrrrrr  6 224934694         jeq     L475
                            34695 
                            34696 ; 684  |                                {
                            34697 ; 685  |                                        // Failed to delete
                            34698 ; 686  |                                        rtCode = MUSICLIB_FAT_ERROR_DELETE_FILE;
                            34699 ; 687  |                                }
                            34700 ; 688  |                                else
                            34701 ; 689  |                                {
                            34702 ; 690  |                                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,0,RSRC_BUILD_ML);
                            34703 ; 691  |                                        SysWaitOnEvent(0,0,0);
                            34704 ; 692  |                                        rtCode = TryToRegenerateEmptyMusicLib(SEC_TABLE_FILESIZE_IN_BYTE, g_strMusicLib_SecTable_FilePath, NUM_OF_LEVEL2_SEC);
                            34705 
P:041D 0AF080 rrrrrr  6 225534707         jmp     L477
                            34708 
                            34709 ; 693  |                                }
                            34710 ; 694  |                        }
                            34711 ; 695  |                        else
                            34712 ; 696  |                        {
                            34713 ; 697  |                                if ((g_iFileHandle = Fopen((_packed char *) g_strMusicLib_SecTable_FilePath, (_packed char *)"r")) < 0)
                            34714 
P:041F 77F400 FFFFFD  3 225834716 L470:   move    #-3,n7
P:0421 000000         2 226034717         nop
P:0422 68EF00         4 226434718         move    y:(r7+n7),r0
P:0423 64F400 rrrrrr  3 226734719         move    #L22,r4
P:0425 0BF080 rrrrrr  6 227334720         jsr     FFopen
P:0427 5E7000 rrrrrr  3 227634721         move    a,y:Fg_iFileHandle
P:0429 5FF000 rrrrrr  3 227934722         move    y:Fg_iFileHandle,b
P:042B 20000B         2 228134723         tst     b
P:042C 0AF0A1 rrrrrr  6 228734724         jge     L471
                            34725 
                            34726 ; 698  |                                {
                            34727 ; 699  |                                        rtCode = MUSICLIB_FAT_ERROR_OPEN_FILE;
                            34728 
P:042E 44F400 000004  3 229034730         move    #>4,x0
P:0430 77F400 FFFFFB  3 229334733         move    #-5,n7
P:0432 000000         2 229534734         nop
P:0433 4C6F00         4 229934735         move    x0,y:(r7+n7)
                            34738 
                            34739 ; 700  |                                }
                            34740 
P:0434 0AF080 rrrrrr  6 230534742         jmp     L482
                            34743 
                            34744 ; 701  |                                else
                            34745 ; 702  |                                {
                            34746 ; 703  |                                        filegetdate(g_iFileHandle, MODIFICATION_DATE, &dirdate2, &dirtime2);
                            34747 
P:0436 77F400 FFFFED  3 230834749 L471:   move    #-19,n7
P:0438 000000         2 231034750         nop
P:0439 044F15         4 231434751         lua     (r7)+n7,r5
P:043A 77F400 FFFFEA  3 231734752         move    #-22,n7
P:043C 000000         2 231934753         nop
P:043D 044F14         4 232334754         lua     (r7)+n7,r4
P:043E 22B000         2 232534755         move    r5,r0
P:043F 57F400 000003  3 232834756         move    #>3,b
P:0441 0BF080 rrrrrr  6 233434757         jsr     Ffilegetdate
                            34758 
                            34759 ; 704  |                                        filegetdate(g_iFileHandle, MODIFICATION_TIME, &dirdate2, &dirtime2);
                            34760 
P:0443 5EF000 rrrrrr  3 233734762         move    y:Fg_iFileHandle,a
P:0445 57F400 000004  3 234034763         move    #>4,b
P:0447 77F400 FFFFEA  3 234334764         move    #-22,n7
P:0449 000000         2 234534765         nop
P:044A 044F14         4 234934766         lua     (r7)+n7,r4
P:044B 77F400 FFFFED  3 235234767         move    #-19,n7
P:044D 000000         2 235434768         nop
P:044E 044F10         4 235834769         lua     (r7)+n7,r0
P:044F 0BF080 rrrrrr  6 236434770         jsr     Ffilegetdate
                            34771 
                            34772 ; 705  |                                        Fclose(g_iFileHandle);
                            34773 
P:0451 5EF000 rrrrrr  3 236734775         move    y:Fg_iFileHandle,a
P:0453 0BF080 rrrrrr  6 237334776         jsr     FFclose
                            34777 
                            34778 ; 706  |                                        if ((dirdate.Year == dirdate2.Year) && (dirdate.Month == dirdate2.Month) &&
                            34779 ; 707  |                                                (dirdate.Day == dirdate2.Day))
                            34780 
P:0455 5FF000 rrrrrr  3 237634782         move    y:Fdirdate+2,b
P:0457 77F400 FFFFEF  3 237934783         move    #-17,n7
P:0459 000000         2 238134784         nop
P:045A 5EEF00         4 238534785         move    y:(r7+n7),a
P:045B 20000D         2 238734786         cmp     a,b
P:045C 0AF0A2 rrrrrr  6 239334787         jne     L474
P:045E 5FF000 rrrrrr  3 239634788         move    y:Fdirdate+1,b
P:0460 77F400 FFFFEE  3 239934789         move    #-18,n7
P:0462 000000         2 240134790         nop
P:0463 4EEF00         4 240534791         move    y:(r7+n7),y0
P:0464 20005D         2 240734792         cmp     y0,b
P:0465 0AF0A2 rrrrrr  6 241334793         jne     L474
P:0467 5EF000 rrrrrr  3 241634794         move    y:Fdirdate,a
P:0469 77F400 FFFFED  3 241934795         move    #-19,n7
P:046B 000000         2 242134796         nop
P:046C 4EEF00         4 242534797         move    y:(r7+n7),y0
P:046D 200055         2 242734798         cmp     y0,a
P:046E 0AF0A2 rrrrrr  6 243334799         jne     L474
                            34800 
                            34801 ; 708  |                                        {
                            34802 ; 709  |                                                // Correct musiclib
                            34803 ; 710  |                                                //SysPostMessage(7,LCD_PRINT_NUMBER,0,0,167,4,'0');
                            34804 ; 711  |                                                g_isRebuildSecTableFile = 0;
                            34805 
P:0470 20001B         2 243534807         clr     b   
P:0471 5D7000 rrrrrr  3 243834808         move    b1,y:Fg_isRebuildSecTableFile
                            34809 
                            34810 ; 712  |                                        }
                            34811 
P:0473 0AF080 rrrrrr  6 244434813         jmp     L482
P:0475 60F400 rrrrrr  3 244734814 L474:   move    #Fg_strMusicLib_SecTable_FilePath,r0
P:0477 200013         2 244934815         clr     a   
                            34816 
                            34817 ; 713  |                                        else
                            34818 ; 714  |                                        {
                            34819 ; 715  |                                                if (FSFileDelete(g_strMusicLib_SecTable_FilePath, 0) == -1)
                            34820 
P:0478 0BF080 rrrrrr  6 245534822         jsr     FFSFileDelete
P:047A 46F400 FFFFFF  3 245834823         move    #>-1,y0
P:047C 200055         2 246034824         cmp     y0,a
P:047D 0AF0A2 rrrrrr  6 246634825         jne     L478
                            34826 
                            34827 ; 716  |                                                {
                            34828 ; 717  |                                                        // Failed to delete
                            34829 ; 718  |                                                        rtCode = MUSICLIB_FAT_ERROR_DELETE_FILE;
                            34830 
P:047F 45F400 000003  3 246934832 L475:   move    #>3,x1
P:0481 77F400 FFFFFB  3 247234835         move    #-5,n7
P:0483 000000         2 247434836         nop
P:0484 4D6F00         4 247834837         move    x1,y:(r7+n7)
                            34840 
                            34841 ; 719  |                                                }
                            34842 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 135

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0485 0AF080 rrrrrr  6 248434844         jmp     L482
P:0487 200013         2 248634846 L477:   clr     a   
P:0488 20001B         2 248834847         clr     b   
P:0489 44F400 0003C1  3 249134848         move    #$3C1,x0
P:048B 4C5F00         2 249334849         move    x0,y:(r7)+
P:048C 5D5F00         2 249534851         move    b1,y:(r7)+
P:048D 5C5F00         2 249734853         move    a1,y:(r7)+
P:048E 45F400 030001  3 250034855         move    #$30001,x1
P:0490 4D5F00         2 250234856         move    x1,y:(r7)+
P:0491 290500         2 250434858         move    #5,b0
P:0492 595F00         2 250634859         move    b0,y:(r7)+
P:0493 0BF080 rrrrrr  6 251234861         jsr     FSysPostMessage
P:0495 3F0500         2 251434862         move    #5,n7
P:0496 000000         2 251634863         nop
P:0497 204700         2 251834864         move    (r7)-n7
P:0498 200013         2 252034867         clr     a   
P:0499 300000         2 252234868         move    #0,r0
P:049A 20001B         2 252434869         clr     b   
P:049B 0BF080 rrrrrr  6 253034870         jsr     SysWaitOnEvent
                            34871 
                            34872 ; 720  |                                                else
                            34873 ; 721  |                                                {
                            34874 ; 722  |                                                        rtCode = TryToRegenerateEmptyMusicLib(SEC_TABLE_FILESIZE_IN_BYTE, g_strMusicLib_SecTable_FilePath, NUM_OF_LEVEL2_SEC);
                            34875 
P:049D 60F400 rrrrrr  3 253334877 L478:   move    #Fg_strMusicLib_SecTable_FilePath,r0
P:049F 57F400 0000C2  3 253634878         move    #>194,b
P:04A1 200013         2 253834879         clr     a   
P:04A2 50F400 018400  3 254134880         move    #$18400,a0
P:04A4 0BF080 rrrrrr  6 254734881         jsr     FTryToRegenerateEmptyMusicLib
P:04A6 77F400 FFFFFB  3 255034882         move    #-5,n7
P:04A8 000000         2 255234883         nop
P:04A9 5E6F00         4 255634884         move    a,y:(r7+n7)
                            34885 
                            34886 ; 723  |                                                }
                            34887 ; 724  |                                        }
                            34888 ; 725  |                                }
                            34889 ; 726  |                        }
                            34890 ; 727  |                }
                            34891 ; 728  |        }
                            34892 ; 729  |        if (rtCode)// !SUCCESS // == MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE)
                            34893 
P:04AA 77F400 FFFFFB  3 255934895 L482:   move    #-5,n7
P:04AC 000000         2 256134896         nop
P:04AD 5FEF00         4 256534897         move    y:(r7+n7),b
P:04AE 20000B         2 256734898         tst     b
P:04AF 0AF0AA rrrrrr  6 257334901         jeq     L483
                            34902 
                            34903 ; 730  |        {
                            34904 ; 731  |                g_ML_save_on_exit = 0;
                            34905 
P:04B1 200013         2 257534907         clr     a   
P:04B2 5C7000 rrrrrr  3 257834908         move    a1,y:Fg_ML_save_on_exit
                            34909 
                            34910 ; 732  |                SysPostMessage(5,LCD_PRINT_RANGE_RSRC,2,0,RSRC_BUILD_ML_WARNING);
                            34911 
P:04B4 290200         2 258034913         move    #2,b0
P:04B5 46F400 0003C2  3 258334915         move    #962,y0
P:04B7 4E5F00         2 258534916         move    y0,y:(r7)+
P:04B8 5C5F00         2 258734918         move    a1,y:(r7)+
P:04B9 595F00         2 258934920         move    b0,y:(r7)+
P:04BA 47F400 030001  3 259234922         move    #$30001,y1
P:04BC 4F5F00         2 259434923         move    y1,y:(r7)+
P:04BD 290500         2 259634925         move    #5,b0
P:04BE 595F00         2 259834926         move    b0,y:(r7)+
P:04BF 0BF080 rrrrrr  6 260434928         jsr     FSysPostMessage
P:04C1 3F0500         2 260634929         move    #5,n7
P:04C2 000000         2 260834930         nop
P:04C3 204700         2 261034931         move    (r7)-n7
                            34933 
                            34934 ; 733  |                //SysWaitOnEvent(EVENT_MESSAGE,&gEventInfo.msg,5000);
                            34935 ; 734  |                SysWaitOnEvent(0,0,0);
                            34936 
P:04C4 200013         2 261234938         clr     a   
P:04C5 300000         2 261434939         move    #0,r0
P:04C6 20001B         2 261634940         clr     b   
P:04C7 0BF080 rrrrrr  6 262234941         jsr     SysWaitOnEvent
                            34942 
                            34943 ; 735  |                ShutdownMenu(FORCESHUTDOWN,0,0);
                            34944 
P:04C9 300000         2 262434946         move    #0,r0
P:04CA 56F400 000001  3 262734947         move    #>1,a
P:04CC 20001B         2 262934948         clr     b   
P:04CD 0BF080 rrrrrr  6 263534949         jsr     FShutdownMenu
                            34950 
                            34951 ; 736  |        }
                            34952 ; 737  |
                            34953 ; 738  |        ML_building_engine_init();
                            34954 
P:04CF 0BF080 rrrrrr  6 264134956 L483:   jsr     FML_building_engine_init
                            34957 
                            34958 ; 739  |        if (g_isRebuildSecTableFile) {
                            34959 
P:04D1 5FF000 rrrrrr  3 264434961         move    y:Fg_isRebuildSecTableFile,b
P:04D3 20000B         2 264634962         tst     b
P:04D4 0AF0AA rrrrrr  6 265234963         jeq     L484
                            34964 
                            34965 ; 740  |                SysCallFunction(RSRC_MUSICLIB_BUILD_FUNCTION_SEC,ML_BuildSecTableFile,0,0,NULL);
                            34966 
P:04D6 20001B         2 265434968         clr     b   
P:04D7 340000         2 265634969         move    #0,r4
P:04D8 240000         2 265834970         move    #0,x0
P:04D9 60F400 rrrrrr  3 266134971         move    #FML_BuildSecTableFile,r0
P:04DB 56F400 0003CC  3 266434972         move    #972,a
P:04DD 0BF080 rrrrrr  6 267034973         jsr     SysCallFunction
                            34974 
                            34975 ; 741  |                filesetdate((_packed char *) g_strMusicLib_SecTable_FilePath,MODIFICATION_DATE,&dirdate,&dirtime);
                            34976 
P:04DF 60F400 rrrrrr  3 267334978         move    #Fg_strMusicLib_SecTable_FilePath,r0
P:04E1 61F400 rrrrrr  3 267634979         move    #Fdirtime,r1
P:04E3 64F400 rrrrrr  3 267934980         move    #Fdirdate,r4
P:04E5 77F400 FFFFFD  3 268234981         move    #-3,n7
P:04E7 000000         2 268434982         nop
P:04E8 686F00         4 268834983         move    r0,y:(r7+n7)
P:04E9 56F400 000003  3 269134984         move    #>3,a
P:04EB 0BF080 rrrrrr  6 269734985         jsr     Ffilesetdate
P:04ED 56F400 000004  3 270034986         move    #>4,a
                            34987 
                            34988 ; 742  |                filesetdate((_packed char *) g_strMusicLib_SecTable_FilePath,MODIFICATION_TIME,&dirdate,&dirtime);
                            34989 
P:04EF 77F400 FFFFFD  3 270334991         move    #-3,n7
P:04F1 000000         2 270534992         nop
P:04F2 68EF00         4 270934993         move    y:(r7+n7),r0
P:04F3 61F400 rrrrrr  3 271234994         move    #Fdirtime,r1
P:04F5 64F400 rrrrrr  3 271534995         move    #Fdirdate,r4
P:04F7 0BF080 rrrrrr  6 272134996         jsr     Ffilesetdate
                            34997 
                            34998 ; 743  |                g_isRebuildSecTableFile = 0;
                            34999 
P:04F9 20001B         2 272335001         clr     b   
P:04FA 5D7000 rrrrrr  3 272635002         move    b1,y:Fg_isRebuildSecTableFile
                            35003 
                            35004 ; 744  |        } else {
                            35005 
P:04FC 0AF080 rrrrrr  6 273235007         jmp     L485
                            35008 
                            35009 ; 745  |                SysCallFunction(RSRC_MUSICLIB_BUILD_FUNCTION_SEC,ML_Buildl2SecTable,0,0,NULL);
                            35010 
P:04FE 20001B         2 273435012 L484:   clr     b   
P:04FF 340000         2 273635013         move    #0,r4
P:0500 240000         2 273835014         move    #0,x0
P:0501 60F400 rrrrrr  3 274135015         move    #FML_Buildl2SecTable,r0
P:0503 56F400 0003CC  3 274435016         move    #972,a
P:0505 0BF080 rrrrrr  6 275035017         jsr     SysCallFunction
                            35018 
                            35019 ; 746  |        }
                            35020 ; 747  |
                            35021 ; 748  |        g_ML_save_on_exit = 1;
                            35022 
P:0507 290100         2 275235024 L485:   move    #1,b0
P:0508 597000 rrrrrr  3 275535025         move    b0,y:Fg_ML_save_on_exit
                            35026 
                            35027 ; 749  |        SysUnLoadFATWrite();    // This can be put somewhere better. Siukoon just put here for test.
                            35028 
P:050A 0BF080 rrrrrr  6 276135030         jsr     SysUnLoadFATWrite
P:050C 56F400 00000F  3 276435031         move    #>15,a
                            35032 
                            35033 ; 750  |        SysSpeedClockFree(SPEED_CLIENT_PLAYLIST1);
                            35034 
P:050E 0BF080 rrrrrr  6 277035036         jsr     FSysSpeedClockFree
                            35037 
                            35038 ; 751  |
                            35039 ; 752  |    // Music library rebuild completed, resume the suspended timers
                            35040 ; 753  |        SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_ANIMATE,0,ANIMATE_PERIOD,MENU_MSG_ANIMATE);
                            35041 
P:0510 240000         2 277235043         move    #0,x0
P:0511 47F400 090001  3 277535044         move    #589825,y1
P:0513 290600         2 277735045         move    #6,b0
P:0514 2D6400         2 277935046         move    #100,b1
P:0515 200013         2 278135047         clr     a   
P:0516 46F400 060016  3 278435048         move    #393238,y0
P:0518 4E5F00         2 278635049         move    y0,y:(r7)+
P:0519 5D5F00         2 278835051         move    b1,y:(r7)+
P:051A 5C5F00         2 279035053         move    a1,y:(r7)+
P:051B 4C5F00         2 279235055         move    x0,y:(r7)+
P:051C 4F5F00         2 279435057         move    y1,y:(r7)+
P:051D 595F00         2 279635059         move    b0,y:(r7)+
P:051E 0BF080 rrrrrr  6 280235061         jsr     FSysPostMessage
P:0520 3F0600         2 280435062         move    #6,n7
P:0521 000000         2 280635063         nop
P:0522 204700         2 280835064         move    (r7)-n7
                            35066 
                            35067 ; 754  |        SysWaitOnEvent(0,0,0);
                            35068 
P:0523 200013         2 281035070         clr     a   
P:0524 300000         2 281235071         move    #0,r0
P:0525 20001B         2 281435072         clr     b   
P:0526 0BF080 rrrrrr  6 282035073         jsr     SysWaitOnEvent
P:0528 56F400 000002  3 282335074         move    #>2,a
P:052A 57F400 090001  3 282635075         move    #589825,b
P:052C 46F400 000006  3 282935076         move    #>6,y0
P:052E 250000         2 283135077         move    #0,x1
P:052F 47F400 060005  3 283435078         move    #393221,y1
P:0531 4F5F00         2 283635079         move    y1,y:(r7)+
P:0532 44F400 0007D0  3 283935081         move    #2000,x0
P:0534 4C5F00         2 284135082         move    x0,y:(r7)+
P:0535 4D5F00         2 284335084         move    x1,y:(r7)+
P:0536 5E5F00         2 284535086         move    a,y:(r7)+
P:0537 5F5F00         2 284735088         move    b,y:(r7)+
P:0538 4E5F00         2 284935090         move    y0,y:(r7)+
                            35092 
                            35093 ; 755  |        SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_BATT_CHK,0,2000,MENU_BATTERY_CHNG);
                            35094 
P:0539 0BF080 rrrrrr  6 285535096         jsr     FSysPostMessage
P:053B 3F0600         2 285735097         move    #6,n7
P:053C 000000         2 285935098         nop
P:053D 204700         2 286135099         move    (r7)-n7
                            35101 
                            35102 ; 756  |        SysWaitOnEvent(0,0,0);
                            35103 
P:053E 200013         2 286335105         clr     a   
P:053F 300000         2 286535106         move    #0,r0
P:0540 20001B         2 286735107         clr     b   
P:0541 0BF080 rrrrrr  6 287335108         jsr     SysWaitOnEvent
                            35109 
                            35110 ; 757  |        UpdateAutoShutdownTimer();
                            35111 
P:0543 0BF080 rrrrrr  6 287935113         jsr     FUpdateAutoShutdownTimer
P:0545 57F400 00000F  3 288235114         move    #>15,b
                            35115 
                            35116 ; 758  |#ifndef MMC
                            35117 ; 759  |        // Rebuild the music library at this point by forcing a device enumeration,
                            35118 ; 760  |        //  if not building with external media.
                            35119 ; 761  |        // Otherwise, let the message handlers do it, to avoid time-consuming redundant
                            35120 ; 762  |        //  initialization.
                            35121 ; 763  |
                            35122 ; 764  |        // Added by William Chan (17-8-2005)
                            35123 ; 765  |        g_Rebuild = TRUE;       // To force the rebuild process
                            35124 ; 766  |        // end
                            35125 ; 767  |
                            35126 ; 768  |        SysPostMessage(2,PARSER_DEVICE_ENUMERATE);
                            35127 ; 769  |        SysWaitOnEvent(0,0,0);
                            35128 ; 770  |#endif // #ifndef MMC
                            35129 ; 771  |#endif  // #ifdef USE_PLAYLIST3
                            35130 ; 772  |
                            35131 ; 773  |    // Contrast setting restored during LCDinit
                            35132 ; 774  |    //auto-create some folders for faster boots
                            35133 ; 775  |    SysSpeedIncrease(SPEED_WMA, SPEED_CLIENT_PLAYLIST1);
                            35134 
P:0547 56F400 00000B  3 288535136         move    #>11,a
P:0549 0BF080 rrrrrr  6 289135137         jsr     FSysSpeedIncrease
                            35138 
                            35139 ; 776  |    SysLoadFATWrite();
                            35140 
P:054B 0BF080 rrrrrr  6 289735142         jsr     SysLoadFATWrite
                            35143 
                            35144 ; 777  |
                            35145 ; 778  |    ((int*)ChkDirectory)[(AUTO_FOLDER_SIZE/3)-2] = (int)'a' + (((int)':') << 8) + (((int)'/') << 16);
                            35146 
P:054D 46F400 2F3A61  3 290035148         move    #3095137,y0
P:054F 77F400 FFFFF4  3 290335149         move    #-12,n7
P:0551 000000         2 290535150         nop
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 136

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0552 4E6F00         4 290935151         move    y0,y:(r7+n7)
                            35152 
                            35153 ; 779  |    ((int*)ChkDirectory)[(AUTO_FOLDER_SIZE/3)-1] = 0;
                            35154 
P:0553 20001B         2 291135156         clr     b   
P:0554 77F400 FFFFF5  3 291435157         move    #-11,n7
P:0556 000000         2 291635158         nop
P:0557 5D6F00         4 292035159         move    b1,y:(r7+n7)
                            35160 
                            35161 ; 780  |#ifdef JPEG_APP
                            35162 ; 781  |    ((int*)ChkDirectory)[0] = (int)'a' + (((int)':') << 8) + (((int)'/') << 16);
                            35163 ; 782  |    ((int*)ChkDirectory)[1] = (int)'P' + (((int)'H') << 8) + (((int)'O') << 16);
                            35164 ; 783  |    ((int*)ChkDirectory)[2] = (int)'T' + (((int)'O') << 8) + (((int)'\0') << 16);
                            35165 ; 784  |    ((int*)ChkDirectory)[3] = 0;
                            35166 ; 785  |    bRebuildMTPDatabase = CreateDataFolder(ChkDirectory);
                            35167 ; 786  |    FSChangeDir(&ChkDirectory[(AUTO_FOLDER_SIZE/3)-2],0);
                            35168 ; 787  |#endif
                            35169 ; 788  |#ifdef MOTION_VIDEO
                            35170 ; 789  |    ((int*)ChkDirectory)[0] = (int)'a' + (((int)':') << 8) + (((int)'/') << 16);
                            35171 ; 790  |    ((int*)ChkDirectory)[1] = (int)'M' + (((int)'V') << 8) + (((int)'I') << 16);
                            35172 ; 791  |    ((int*)ChkDirectory)[2] = (int)'D' + (((int)'E') << 8) + (((int)'O') << 16);
                            35173 ; 792  |    ((int*)ChkDirectory)[3] = 0;
                            35174 ; 793  |    bRebuildMTPDatabase = CreateDataFolder(ChkDirectory);
                            35175 ; 794  |    FSChangeDir(&ChkDirectory[(AUTO_FOLDER_SIZE/3)-2],0);
                            35176 ; 795  |#endif
                            35177 ; 796  |    //auto create VOICE directory
                            35178 ; 797  |        ((int*)ChkDirectory)[0] = (int)'a' + (((int)':') << 8) + (((int)'/') << 16);
                            35179 
P:0558 77F400 FFFFF0  3 292335181         move    #-16,n7
P:055A 000000         2 292535182         nop
P:055B 4E6F00         4 292935183         move    y0,y:(r7+n7)
                            35184 
                            35185 ; 798  |    ((int*)ChkDirectory)[1] = (int)'V' + (((int)'O') << 8) + (((int)'I') << 16);
                            35186 
P:055C 56F400 494F56  3 293235188         move    #4804438,a
P:055E 77F400 FFFFF1  3 293535189         move    #-15,n7
P:0560 000000         2 293735190         nop
P:0561 5E6F00         4 294135191         move    a,y:(r7+n7)
                            35192 
                            35193 ; 799  |    ((int*)ChkDirectory)[2] = (int)'C' + (((int)'E') << 8) + (((int)'\0') << 16);
                            35194 
P:0562 47F400 004543  3 294435196         move    #17731,y1
P:0564 77F400 FFFFF2  3 294735197         move    #-14,n7
P:0566 000000         2 294935198         nop
P:0567 4F6F00         4 295335199         move    y1,y:(r7+n7)
                            35200 
                            35201 ; 800  |    ((int*)ChkDirectory)[3] = 0;
                            35202 
P:0568 77F400 FFFFF3  3 295635204         move    #-13,n7
P:056A 000000         2 295835205         nop
P:056B 5D6F00         4 296235206         move    b1,y:(r7+n7)
                            35207 
                            35208 ; 801  |    if(FSChangeDir(ChkDirectory,0)<0)
                            35209 
P:056C 77F400 FFFFF0  3 296535211         move    #-16,n7
P:056E 000000         2 296735212         nop
P:056F 044F1E         4 297135213         lua     (r7)+n7,n6
P:0570 23D000         2 297335214         move    n6,r0
P:0571 200013         2 297535215         clr     a   
P:0572 0BF080 rrrrrr  6 298135216         jsr     FFSChangeDir
P:0574 200003         2 298335217         tst     a
P:0575 0AF0A1 rrrrrr  6 298935218         jge     L486
P:0577 77F400 FFFFF0  3 299235219         move    #-16,n7
P:0579 000000         2 299435220         nop
P:057A 044F10         4 299835221         lua     (r7)+n7,r0
P:057B 200013         2 300035222         clr     a   
                            35223 
                            35224 ; 802  |    {
                            35225 ; 803  |        FSCreateDir(ChkDirectory,0);
                            35226 
P:057C 0BF080 rrrrrr  6 300635228         jsr     FFSCreateDir
                            35229 
                            35230 ; 804  |        bRebuildMTPDatabase = TRUE;
                            35231 
P:057E 44F400 000001  3 300935233         move    #>1,x0
P:0580 77F400 FFFFF7  3 301235236         move    #-9,n7
P:0582 000000         2 301435237         nop
P:0583 4C6F00         4 301835238         move    x0,y:(r7+n7)
                            35241 
                            35242 ; 805  |    }
                            35243 ; 806  |
                            35244 ; 807  |    //auto create LINEIN directory
                            35245 ; 808  |        ((int*)ChkDirectory)[0] = (int)'a' + (((int)':') << 8) + (((int)'/') << 16);
                            35246 
P:0584 44F400 2F3A61  3 302135248 L486:   move    #3095137,x0
P:0586 77F400 FFFFF0  3 302435249         move    #-16,n7
P:0588 000000         2 302635250         nop
P:0589 4C6F00         4 303035251         move    x0,y:(r7+n7)
                            35252 
                            35253 ; 809  |    ((int*)ChkDirectory)[1] = (int)'L' + (((int)'I') << 8) + (((int)'N') << 16);
                            35254 
P:058A 55F400 4E494C  3 303335256         move    #5130572,b1
P:058C 77F400 FFFFF1  3 303635257         move    #-15,n7
P:058E 000000         2 303835258         nop
P:058F 5D6F00         4 304235259         move    b1,y:(r7+n7)
                            35260 
                            35261 ; 810  |    ((int*)ChkDirectory)[2] = (int)'E' + (((int)'-') << 8) + (((int)'I') << 16);
                            35262 
P:0590 54F400 492D45  3 304535264         move    #4795717,a1
P:0592 77F400 FFFFF2  3 304835265         move    #-14,n7
P:0594 000000         2 305035266         nop
P:0595 5C6F00         4 305435267         move    a1,y:(r7+n7)
                            35268 
                            35269 ; 811  |    ((int*)ChkDirectory)[3] = (int)'N' + (((int)'\0') << 8) + (((int)'\0') << 16);
                            35270 
P:0596 46F400 00004E  3 305735272         move    #>78,y0
P:0598 77F400 FFFFF3  3 306035273         move    #-13,n7
P:059A 000000         2 306235274         nop
P:059B 4E6F00         4 306635275         move    y0,y:(r7+n7)
P:059C 77F400 FFFFF0  3 306935276         move    #-16,n7
P:059E 000000         2 307135277         nop
P:059F 044F10         4 307535278         lua     (r7)+n7,r0
P:05A0 200013         2 307735279         clr     a   
                            35280 
                            35281 ; 812  |    if(FSChangeDir(ChkDirectory,0)<0)
                            35282 
P:05A1 0BF080 rrrrrr  6 308335284         jsr     FFSChangeDir
P:05A3 200003         2 308535285         tst     a
P:05A4 0AF0A1 rrrrrr  6 309135286         jge     L487
P:05A6 77F400 FFFFF0  3 309435287         move    #-16,n7
P:05A8 000000         2 309635288         nop
P:05A9 044F10         4 310035289         lua     (r7)+n7,r0
P:05AA 200013         2 310235290         clr     a   
                            35291 
                            35292 ; 813  |    {
                            35293 ; 814  |        FSCreateDir(ChkDirectory,0);
                            35294 
P:05AB 0BF080 rrrrrr  6 310835296         jsr     FFSCreateDir
                            35297 
                            35298 ; 815  |        bRebuildMTPDatabase = TRUE;
                            35299 
P:05AD 46F400 000001  3 311135301         move    #>1,y0
P:05AF 77F400 FFFFF7  3 311435304         move    #-9,n7
P:05B1 000000         2 311635305         nop
P:05B2 4E6F00         4 312035306         move    y0,y:(r7+n7)
                            35309 
                            35310 ; 816  |    }
                            35311 ; 817  |
                            35312 ; 818  |    //auto create FM directory
                            35313 ; 819  |        ((int*)ChkDirectory)[0] = (int)'a' + (((int)':') << 8) + (((int)'/') << 16);
                            35314 
P:05B3 45F400 2F3A61  3 312335316 L487:   move    #3095137,x1
P:05B5 77F400 FFFFF0  3 312635317         move    #-16,n7
P:05B7 000000         2 312835318         nop
P:05B8 4D6F00         4 313235319         move    x1,y:(r7+n7)
                            35320 
                            35321 ; 820  |    ((int*)ChkDirectory)[1] = (int)'F' + (((int)'M') << 8) + (((int)'\0') << 16);
                            35322 
P:05B9 57F400 004D46  3 313535324         move    #19782,b
P:05BB 77F400 FFFFF1  3 313835325         move    #-15,n7
P:05BD 000000         2 314035326         nop
P:05BE 5F6F00         4 314435327         move    b,y:(r7+n7)
                            35328 
                            35329 ; 821  |    ((int*)ChkDirectory)[2] = 0;
                            35330 
P:05BF 20001B         2 314635332         clr     b   
P:05C0 77F400 FFFFF2  3 314935333         move    #-14,n7
P:05C2 000000         2 315135334         nop
P:05C3 5D6F00         4 315535335         move    b1,y:(r7+n7)
                            35336 
                            35337 ; 822  |    ((int*)ChkDirectory)[3] = 0;
                            35338 
P:05C4 77F400 FFFFF3  3 315835340         move    #-13,n7
P:05C6 000000         2 316035341         nop
P:05C7 5D6F00         4 316435342         move    b1,y:(r7+n7)
P:05C8 77F400 FFFFF0  3 316735343         move    #-16,n7
P:05CA 000000         2 316935344         nop
P:05CB 044F10         4 317335345         lua     (r7)+n7,r0
P:05CC 200013         2 317535346         clr     a   
                            35347 
                            35348 ; 823  |    if(FSChangeDir(ChkDirectory,0)<0)
                            35349 
P:05CD 0BF080 rrrrrr  6 318135351         jsr     FFSChangeDir
P:05CF 200003         2 318335352         tst     a
P:05D0 0AF0A1 rrrrrr  6 318935353         jge     L488
P:05D2 200013         2 319135354         clr     a   
                            35355 
                            35356 ; 824  |    {
                            35357 ; 825  |        FSCreateDir(ChkDirectory,0);
                            35358 
P:05D3 77F400 FFFFF0  3 319435360         move    #-16,n7
P:05D5 000000         2 319635361         nop
P:05D6 044F10         4 320035362         lua     (r7)+n7,r0
P:05D7 0BF080 rrrrrr  6 320635363         jsr     FFSCreateDir
                            35364 
                            35365 ; 826  |        bRebuildMTPDatabase = TRUE;
                            35366 
P:05D9 280100         2 320835368         move    #1,a0
P:05DA 77F400 FFFFF7  3 321135371         move    #-9,n7
P:05DC 000000         2 321335372         nop
P:05DD 586F00         4 321735373         move    a0,y:(r7+n7)
                            35376 
                            35377 ; 827  |    }
                            35378 ; 828  |
                            35379 ; 829  |    FSChangeDir(&ChkDirectory[(AUTO_FOLDER_SIZE/3)-2],0);
                            35380 
P:05DE 77F400 FFFFF4  3 322035382 L488:   move    #-12,n7
P:05E0 000000         2 322235383         nop
P:05E1 044F10         4 322635384         lua     (r7)+n7,r0
P:05E2 200013         2 322835385         clr     a   
P:05E3 0BF080 rrrrrr  6 323435386         jsr     FFSChangeDir
                            35387 
                            35388 ; 830  |
                            35389 ; 831  |    if (bRebuildMTPDatabase != FALSE)
                            35390 
P:05E5 77F400 FFFFF7  3 323735392         move    #-9,n7
P:05E7 000000         2 323935393         nop
P:05E8 5FEF00         4 324335394         move    y:(r7+n7),b
P:05E9 2B0000         2 324535395         move    #0,b2
P:05EA 20000B         2 324735396         tst     b
P:05EB 0AF0AA rrrrrr  6 325335399         jeq     L489
                            35400 
                            35401 ; 832  |    {
                            35402 ; 833  |        // clear MTP database clean flag; a new object(s) has being created, which needs to be accounted for
                            35403 ; 834  |        ClearStickyBit((volatile _X WORD *)&HW_RTC_MTP_DB_CLEAN_FLAG_REG, HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_BITPOS);
                            35404 
P:05ED 60F400 00F508  3 325635406         move    #$F508,r0
P:05EF 56F400 000005  3 325935407         move    #>5,a
P:05F1 0BF080 rrrrrr  6 326535408         jsr     FClearStickyBit
                            35410 
                            35411 ; 835  |        bRebuildMTPDatabase = FALSE;
                            35412 ; 836  |    }
                            35413 ; 837  |
                            35414 ; 838  |    SysUnLoadFATWrite();        // This can be put somewhere better. Siukoon just put here for test.
                            35415 
P:05F3 0BF080 rrrrrr  6 327135417 L489:   jsr     SysUnLoadFATWrite
P:05F5 56F400 00000F  3 327435418         move    #>15,a
                            35419 
                            35420 ; 839  |    SysSpeedClockFree(SPEED_CLIENT_PLAYLIST1);
                            35421 
P:05F7 0BF080 rrrrrr  6 328035423         jsr     FSysSpeedClockFree
                            35424 
                            35425 ; 840  |
                            35426 ; 841  |#ifndef USE_PLAYLIST3
                            35427 ; 842  |    // update parser with saved playmode setting
                            35428 ; 843  |    SysCallFunction(RSRC_PLAYMODE_MENU_CODE_BANK,SendPlayMode,g_iPlayModeSetting,0,0);
                            35429 ; 844  |        SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong,0,0,0);
                            35430 ; 845  |#endif //#ifndef USE_PLAYLIST3
                            35431 ; 846  |
                            35432 ; 847  |    // Check to see if the saved user volume is > than the maximum allowed
                            35433 ; 848  |#ifdef MAX_RESTORED_VOLUME
                            35434 ; 849  |    if (g_iUserVolume > MAX_RESTORED_VOLUME)
                            35435 
P:05F9 5FF000 rrrrrr  3 328335437         move    y:Fg_iUserVolume,b
P:05FB 46F400 000030  3 328635438         move    #>$30,y0
P:05FD 20005D         2 328835439         cmp     y0,b
P:05FE 0AF0AF rrrrrr  6 329435440         jle     L490
                            35441 
                            35442 ; 850  |        g_iUserVolume = MAX_RESTORED_VOLUME;
                            35443 
P:0600 4E7000 rrrrrr  3 329735445         move    y0,y:Fg_iUserVolume
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 137

M:ADDR CODE           CYCLES LINE SOURCELINE
                            35446 
                            35447 ; 851  |#endif
                            35448 ; 852  |    // Update Volume from the restored User Level
                            35449 ; 853  |    SysUpdateVolume();
                            35450 
P:0602 0BF080 rrrrrr  6 330335452 L490:   jsr     FSysUpdateVolume
                            35453 
                            35454 ; 854  |
                            35455 ; 855  |    SysCallFunction(RSRC_EQ_MENU_CODE_BANK,SendEQ, g_iEqSetting,0,0);
                            35456 
P:0604 5FF000 rrrrrr  3 330635458         move    y:Fg_iEqSetting,b
P:0606 200013         2 330835459         clr     a   
P:0607 219400         2 331035460         move    a1,r4
P:0608 240000         2 331235461         move    #0,x0
P:0609 60F400 rrrrrr  3 331535462         move    #FSendEQ,r0
P:060B 56F400 00007D  3 331835463         move    #>$7D,a
P:060D 0BF080 rrrrrr  6 332435464         jsr     SysCallFunction
P:060F 300000         2 332635465         move    #0,r0
P:0610 57F400 000001  3 332935466         move    #>1,b
P:0612 200013         2 333135467         clr     a   
                            35468 
                            35469 ; 856  |///////////////////////////////////////////////////////////////////////////
                            35470 ; 857  |        #if defined(TEST)
                            35471 ; 858  |    // Automated audio record test invoked from build command "TEST".
                            35472 ; 859  |        // Wait for MMC to be detected, if present.
                            35473 ; 860  |        SysWaitOnEvent(0,0,4000);
                            35474 ; 861  |    #ifdef MMC
                            35475 ; 862  |                CheckRemovableMedia();
                            35476 ; 863  |#if 0
                            35477 ; 864  |        MediaInit(1);   // shouldn't run DriveInit if MediaInit fails.
                            35478 ; 865  |        DriveInit(1);
                            35479 ; 866  |#else
                            35480 ; 867  |        if( MediaInit(MMCDriveNumber) != SUCCESS )  // MMC is media 1
                            35481 ; 868  |        {   ;// SystemHalt(); _asm(" nop"); //testpoint
                            35482 ; 869  |        }
                            35483 ; 870  |        else // MediaInit success, so run DriveInit for MMC
                            35484 ; 871  |        {   if( DriveInit(MMCDriveNumber) != SUCCESS )  // MMC is drive 1.
                            35485 ; 872  |            {    ;//SystemHalt(); // comment out this line for release
                            35486 ; 873  |            }
                            35487 ; 874  |        }
                            35488 ; 875  |#endif
                            35489 ; 876  |                if (bMMCInitDone)
                            35490 ; 877  |                {
                            35491 ; 878  |                // Feb 8 2007: FSDriveInit() may call WriteSector()
                            35492 ; 879  |                SysLoadFATWrite();
                            35493 ; 880  |                                if (FSDriveInit(MMCDriveNumber) == 0)
                            35494 ; 881  |                                {
                            35495 ; 882  |                  FSClearDriveBuf(MMCDriveNumber,maxhandles,maxcaches);
                            35496 ; 883  |                                        #if (NUM_REMOVABLE_MEDIA > 0) // There is at least one external media
                            35497 ; 884  |                        Computefreeluster(MMCDriveNumber);
                            35498 ; 885  |                                        #endif
                            35499 ; 886  |                                }
                            35500 ; 887  |                SysUnLoadFATWrite();
                            35501 ; 888  |                /*
                            35502 ; 889  |                                if (FSDriveInit(MMCDriveNumber) == 0)
                            35503 ; 890  |                                {
                            35504 ; 891  |                  FSClearDriveBuf(MMCDriveNumber,maxhandles,maxcaches);
                            35505 ; 892  |                                        #if (NUM_REMOVABLE_MEDIA > 0) // There is at least one external media
                            35506 ; 893  |                        SysLoadFATWrite();
                            35507 ; 894  |                        Computefreeluster(MMCDriveNumber);
                            35508 ; 895  |                        SysUnLoadFATWrite();
                            35509 ; 896  |                                        #endif
                            35510 ; 897  |                                }
                            35511 ; 898  |                                */
                            35512 ; 899  |                }
                            35513 ; 900  |        #endif
                            35514 ; 901  |
                            35515 ; 902  |                //***** Recording test
                            35516 ; 903  |                SysWaitOnEvent(EVENT_BUTTON,&gEventInfo.msg,0);
                            35517 ; 904  |                if (gEventInfo.Button.wButtonEvent == PH_REC_TEST)
                            35518 ; 905  |                {
                            35519 ; 906  |                        if (SysCallFunction(RSRC_TEST_MENU_CODE_BANK,TestMenu,0,0,0) == MENU_RECORDTEST)
                            35520 ; 907  |                                SysCallFunction(RSRC_TEST_MENU_CODE_BANK,RecordTestMenu,0,0,0);
                            35521 ; 908  |                }
                            35522 ; 909  |#ifndef USE_PLAYLIST3
                            35523 ; 910  |                SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_SetPlaySet,Playlist_GetPlaySet(),TRUE,0);
                            35524 ; 911  |#endif
                            35525 ; 912  |                SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong,FALSE,0,0);
                            35526 ; 913  |        #endif
                            35527 ; 914  |    ///////////////////// End TEST menu block. /////////////////////////////////
                            35528 ; 915  |
                            35529 ; 916  |    #if (ENABLE_INTERNALLY_GENERATED_MICBIAS && KEEP_MIC_BIAS_ENABLED)
                            35530 ; 917  |    // Pass hw config values from player's project.inc file
                            35531 ; 918  |    EnableStmpGeneratedMicBias(LRADC_NUM_FOR_MIC_BIAS, MICBIAS_CONFIGURED_RESISTOR_KOHMS);
                            35532 ; 919  |    #endif
                            35533 ; 920  |
                            35534 ; 921  |#ifndef REMOVE_FM
                            35535 ; 922  |#ifdef CLCD_16BIT   
                            35536 ; 923  |    if( g_blIsTB2Fm == FALSE )
                            35537 ; 924  |    {
                            35538 ; 925  |        SysPostMessage(2, LCD_16BIT_ON );
                            35539 ; 926  |    }
                            35540 ; 927  |    else
                            35541 ; 928  |    {
                            35542 ; 929  |        SysPostMessage(2, LCD_16BIT_OFF );
                            35543 ; 930  |    }
                            35544 ; 931  |#endif
                            35545 ; 932  |#endif
                            35546 ; 933  |
                            35547 ; 934  |    SysWaitOnEvent(0,0,1);  // process all messages before starting
                            35548 
P:0613 0BF080 rrrrrr  6 333735550         jsr     SysWaitOnEvent
                            35551 
                            35552 ; 935  |#ifdef USE_PLAYLIST3
                            35553 ; 936  |        //blocking the first time boot up do not go to play music menu
                            35554 ; 937  |        g_MenuFlags.MENU_FLAG_RETURN_TO_MUSIC = TRUE;
                            35555 
P:0615 0A7063 rrrrrr  6 334335557         bset    #3,y:Fg_MenuFlags
                            35558 
                            35559 ; 938  |#endif // #ifdef USE_PLAYLIST3
                            35560 ; 939  |
                            35561 ; 940  |    while(1) // forever....shutdown menu will handle shutdown, main will handle brownout
                            35562 ; 941  |    {
                            35563 ; 942  |        while(iSelectedItem!=MENU_MAIN)
                            35564 
P:0617 0AF080 rrrrrr  6 334935566 L491:   jmp     L535
                            35567 
                            35568 ; 943  |        {//This will let menus go directory to other menus without returning to the main menu
                            35569 ; 944  |
                            35570 ; 945  |            // initialize Menu function so nothing will be called unless case exists
                            35571 ; 946  |            pMenu = NULL;
                            35572 
                            35574 L492:
P:0619 360000         2 335135577         move    #0,r6
P:061A 77F400 FFFFFD  3 335435579         move    #-3,n7
P:061C 000000         2 335635580         nop
P:061D 6E6F00         4 336035581         move    r6,y:(r7+n7)
                            35584 
                            35585 ; 947  |#ifdef USE_PLAYLIST5
                            35586 ; 948  |            g_iTitleResource = aItems[iHighLightedItem].m_iResource;
                            35587 ; 949  |#endif
                            35588 ; 950  |            switch(iSelectedItem)
                            35589 
P:061E 77F400 FFFFF8  3 336335591         move    #-8,n7
P:0620 000000         2 336535592         nop
P:0621 5C6F00         4 336935593         move    a1,y:(r7+n7)
P:0622 66F403 rrrrrr  3 337235594         tst     a       #L588,r6
P:0624 0AF0AB rrrrrr  6 337835595         jmi     L516
P:0626 46F400 00000A  3 338135596         move    #>10,y0
P:0628 21DE55         2 338335597         cmp     y0,a    a,n6
P:0629 0AF0A7 rrrrrr  6 338935598         jgt     L516
P:062B 07EE96         8 339735599         movem   p:(r6+n6),r6
P:062C 000000         2 339935600         nop
P:062D 0AE680         4 340335601         jmp     (r6)
                            35602 
P:062E rrrrrr               35603 L588:   dc      L495    ; case 0:
P:062F rrrrrr               35604         dc      L498    ; case 1:
P:0630 rrrrrr               35605         dc      L505    ; case 2:
P:0631 rrrrrr               35606         dc      L509    ; case 3:
P:0632 rrrrrr               35607         dc      L506    ; case 4:
P:0633 rrrrrr               35608         dc      L515    ; case 5:
P:0634 rrrrrr               35609         dc      L514    ; case 6:
P:0635 rrrrrr               35610         dc      L494    ; case 7:
P:0636 rrrrrr               35611         dc      L507    ; case 8:
P:0637 rrrrrr               35612         dc      L508    ; case 9:
P:0638 rrrrrr               35613         dc      L494    ; case 10:
                            35614 
                            35617 
                            35618 ; 951  |            {
                            35619 ; 952  |#ifdef USE_PLAYLIST3
                            35620 ; 953  |                        case MENU_MAIN_EXIT:
                            35621 ; 954  |                        case MENU_AB:
                            35622 ; 955  |                                g_MenuFlags.MENU_FLAG_RETURN_TO_MUSIC = TRUE;
                            35623 
P:0639 0A7063 rrrrrr  6 340935625 L494:   bset    #3,y:Fg_MenuFlags
                            35626 
                            35627 ; 956  |                        case MENU_MUSIC:
                            35628 ; 957  |                                //goto playmusic menu
                            35629 ; 958  |                                g_iCurrentMenu  = MENU_MUSIC;
                            35630 
P:063B 20001B         2 341135632 L495:   clr     b   
P:063C 5D7000 rrrrrr  3 341435633         move    b1,y:Fg_iCurrentMenu
                            35634 
                            35635 ; 959  |                                if ((!g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC) && (!g_MenuFlags.MENU_FLAG_RETURN_TO_MUSIC)) {
                            35636 
P:063E 4EF000 rrrrrr  3 341735638         move    y:Fg_MenuFlags,y0
P:0640 0AC621 rrrrrr  6 342335639         jset    #1,y0,L497
P:0642 4EF000 rrrrrr  3 342635640         move    y:Fg_MenuFlags,y0
P:0644 0AC623 rrrrrr  6 343235641         jset    #3,y0,L497
                            35642 
                            35643 ; 960  |                                        SysCallFunction(RSRC_PLAYMUSIC_MENU_CODE_BANK,PlayMusicMenu,0,0,0);
                            35644 
P:0646 340000         2 343435646         move    #0,r4
P:0647 240000         2 343635647         move    #0,x0
P:0648 60F400 rrrrrr  3 343935648         move    #FPlayMusicMenu,r0
P:064A 56F400 0003FA  3 344235649         move    #1018,a
P:064C 0BF080 rrrrrr  6 344835650         jsr     SysCallFunction
                            35651 
                            35652 ; 961  |                                }
                            35653 ; 962  |
                            35654 ; 963  |                                if ((g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC) || (g_MenuFlags.MENU_FLAG_RETURN_TO_MUSIC))
                            35655 
P:064E 4EF000 rrrrrr  3 345135657 L497:   move    y:Fg_MenuFlags,y0
P:0650 0AC621 rrrrrr  6 345735658         jset    #1,y0,L501
P:0652 4EF000 rrrrrr  3 346035659         move    y:Fg_MenuFlags,y0
P:0654 0AC603 rrrrrr  6 346635660         jclr    #3,y0,L504
                            35661 
                            35662 ; 964  |                                {
                            35663 ; 965  |                                        iResource = RSRC_MUSIC_MENU_CODE_BANK;
                            35664 
P:0656 0AF080 rrrrrr  6 347235666         jmp     L501
                            35667 
                            35668 ; 966  |                                        pMenu = MusicMenu;
                            35669 ; 967  |                                }
                            35670 ; 968  |                                else
                            35671 ; 969  |                                        DisplayHint.I = MAIN_MENU_DISPLAY_ALL|(1<<DISPLAY_CLEAR_DISPLAY_BITPOS);
                            35672 ; 970  |                                break;
                            35673 ; 971  |                        case MENU_VOICE:
                            35674 ; 972  |                                g_iCurrentMenu  = MENU_VOICE;
                            35675 
P:0658 290100         2 347435677 L498:   move    #1,b0
P:0659 597000 rrrrrr  3 347735678         move    b0,y:Fg_iCurrentMenu
                            35679 
                            35680 ; 973  |                                SysCallFunction(RSRC_BROWSE_MENU_CODE_BANK,BrowseMenu,ITEM_VOICE,aItems[iHighLightedItem].m_iResource,0);
                            35681 
P:065B 77F400 FFFFBB  3 348035683         move    #-69,n7
P:065D 000000         2 348235684         nop
P:065E 044F15         4 348635685         lua     (r7)+n7,r5
P:065F 77F400 FFFFF9  3 348935686         move    #-7,n7
P:0661 000000         2 349135687         nop
P:0662 4EEF00         4 349535688         move    y:(r7+n7),y0
P:0663 0116E8         2 349735689         mpy     y0,#22,b
P:0664 213D00         2 349935692         move    b0,n5
P:0665 000000         2 350135693         nop
P:0666 044D16         4 350535694         lua     (r5)+n5,r6
P:0667 000000         2 350735695         nop
P:0668 4CE600         2 350935696         move    y:(r6),x0
P:0669 340000         2 351135697         move    #0,r4
P:066A 57F400 00000F  3 351435698         move    #>15,b
P:066C 56F400 0003FB  3 351735699         move    #1019,a
P:066E 60F400 rrrrrr  3 352035700         move    #FBrowseMenu,r0
P:0670 0BF080 rrrrrr  6 352635701         jsr     SysCallFunction
                            35703 
                            35704 ; 974  |
                            35705 ; 975  |                                if ((g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC) || (g_MenuFlags.MENU_FLAG_RETURN_TO_MUSIC))
                            35706 
P:0672 4EF000 rrrrrr  3 352935708         move    y:Fg_MenuFlags,y0
P:0674 0AC621 rrrrrr  6 353535709         jset    #1,y0,L499
P:0676 4EF000 rrrrrr  3 353835710         move    y:Fg_MenuFlags,y0
P:0678 0AC603 rrrrrr  6 354435711         jclr    #3,y0,L502
                            35712 
                            35713 ; 976  |                                {
                            35714 ; 977  |                                        g_iCurrentMenu  = MENU_MUSIC;
                            35715 
P:067A 20001B         2 354635717 L499:   clr     b   
P:067B 5D7000 rrrrrr  3 354935718         move    b1,y:Fg_iCurrentMenu
                            35719 
                            35720 ; 978  |                                        iResource = RSRC_MUSIC_MENU_CODE_BANK;
                            35721 
P:067D 46F400 000004  3 355235723 L501:   move    #>4,y0
P:067F 77F400 FFFFFA  3 355535726         move    #-6,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 138

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0681 000000         2 355735727         nop
P:0682 4E6F00         4 356135728         move    y0,y:(r7+n7)
                            35731 
                            35732 ; 979  |                                        pMenu = MusicMenu;
                            35733 
P:0683 65F400 rrrrrr  3 356435735         move    #FMusicMenu,r5
P:0685 77F400 FFFFFD  3 356735736         move    #-3,n7
P:0687 000000         2 356935737         nop
P:0688 6D6F00         4 357335738         move    r5,y:(r7+n7)
                            35739 
                            35740 ; 980  |                                }
                            35741 
P:0689 0AF080 rrrrrr  6 357935743         jmp     L529
                            35744 
                            35745 ; 981  |                                else if (g_MenuFlags.MENU_FLAG_ESCAPE_TO_RECORD)
                            35746 
P:068B 4FF000 rrrrrr  3 358235748 L502:   move    y:Fg_MenuFlags,y1
P:068D 0AC702 rrrrrr  6 358835749         jclr    #2,y1,L504
                            35750 
                            35751 ; 982  |                                {
                            35752 ; 983  |                                        iResource = RSRC_VOICE_MENU_CODE_BANK;
                            35753 
P:068F 44F400 00007A  3 359135755         move    #>122,x0
P:0691 77F400 FFFFFA  3 359435758         move    #-6,n7
P:0693 000000         2 359635759         nop
P:0694 4C6F00         4 360035760         move    x0,y:(r7+n7)
                            35763 
                            35764 ; 984  |                                        pMenu = VoiceMenu;
                            35765 
P:0695 66F400 rrrrrr  3 360335767         move    #FVoiceMenu,r6
P:0697 77F400 FFFFFD  3 360635768         move    #-3,n7
P:0699 000000         2 360835769         nop
P:069A 6E6F00         4 361235770         move    r6,y:(r7+n7)
                            35771 
                            35772 ; 985  |                                }
                            35773 
P:069B 0AF080 rrrrrr  6 361835775         jmp     L529
                            35776 
                            35777 ; 986  |                                else
                            35778 ; 987  |                                        DisplayHint.I = MAIN_MENU_DISPLAY_ALL|(1<<DISPLAY_CLEAR_DISPLAY_BITPOS);
                            35779 
P:069D 46F400 707E11  3 362135781 L504:   move    #7372305,y0
P:069F 77F400 FFFFF6  3 362435782         move    #-10,n7
P:06A1 000000         2 362635783         nop
P:06A2 4E6F00         4 363035784         move    y0,y:(r7+n7)
                            35785 
                            35786 ; 988  |                                break;
                            35787 
P:06A3 0AF080 rrrrrr  6 363635789         jmp     L529
                            35790 
                            35791 ; 989  |#ifdef AUDIBLE
                            35792 ; 990  |                        case MENU_AUDIBLE:
                            35793 ; 991  |                                g_iCurrentMenu  = MENU_AUDIBLE;
                            35794 ; 992  |                SysCallFunction(RSRC_BROWSE_MENU_CODE_BANK,BrowseMenu,ITEM_AUDIBLE,aItems[iHighLightedItem].m_iResource,0);
                            35795 ; 993  |
                            35796 ; 994  |                                if ((g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC) || (g_MenuFlags.MENU_FLAG_RETURN_TO_MUSIC))
                            35797 ; 995  |                                {
                            35798 ; 996  |                                        g_iCurrentMenu  = MENU_MUSIC;
                            35799 ; 997  |                                        iResource = RSRC_MUSIC_MENU_CODE_BANK;
                            35800 ; 998  |                                        pMenu = MusicMenu;
                            35801 ; 999  |                                }
                            35802 ; 1000 |                                else
                            35803 ; 1001 |                                        DisplayHint.I = MAIN_MENU_DISPLAY_ALL|(1<<DISPLAY_CLEAR_DISPLAY_BITPOS);
                            35804 ; 1002 |                                break;
                            35805 ; 1003 |#endif //#ifdef AUDIBLE
                            35806 ; 1004 |#endif  // #ifdef USE_PLAYLIST3
                            35807 ; 1005 |#ifdef  USE_PLAYLIST2
                            35808 ; 1006 |            case MENU_MAIN_EXIT:
                            35809 ; 1007 |             case MENU_AB:
                            35810 ; 1008 |            case MENU_MUSIC:
                            35811 ; 1009 |                g_iCurrentMenu  = MENU_MUSIC;
                            35812 ; 1010 |                iResource = RSRC_MUSIC_MENU_CODE_BANK;
                            35813 ; 1011 |                pMenu = MusicMenu;
                            35814 ; 1012 |                break;
                            35815 ; 1013 |            case MENU_VOICE:
                            35816 ; 1014 |                g_iCurrentMenu  = MENU_VOICE;
                            35817 ; 1015 |                iResource = RSRC_VOICE_MENU_CODE_BANK;
                            35818 ; 1016 |                pMenu = VoiceMenu;
                            35819 ; 1017 |                break;
                            35820 ; 1018 |#endif  // #ifdef USE_PLAYLIST2
                            35821 ; 1019 |#ifndef USE_PLAYLIST5
                            35822 ; 1020 |#ifdef MOTION_VIDEO
                            35823 ; 1021 |            case MENU_MVIDEO:
                            35824 ; 1022 |                g_iCurrentMenu  = MENU_MVIDEO;
                            35825 ; 1023 |                iResource = RSRC_MOTION_VIDEO_MENU_CODE_BANK;
                            35826 ; 1024 |                pMenu = MotionVideoMenu;
                            35827 ; 1025 |                break;
                            35828 ; 1026 |#endif
                            35829 ; 1027 |#ifdef JPEG_APP
                            35830 ; 1028 |            case MENU_JPEG_DISPLAY:
                            35831 ; 1029 |                g_iCurrentMenu  = MENU_JPEG_DISPLAY;
                            35832 ; 1030 |                iResource = RSRC_JPEG_DISPLAY_MENU_CODE_BANK;
                            35833 ; 1031 |                pMenu = JpegDisplayMenu;
                            35834 ; 1032 |                break;
                            35835 ; 1033 |#endif
                            35836 ; 1034 |#endif  // #ifndef USE_PLAYLIST5
                            35837 ; 1035 |#ifdef  USE_PLAYLIST5
                            35838 ; 1036 |                        case MENU_MAIN_EXIT:
                            35839 ; 1037 |                                g_MenuFlags.MENU_FLAG_RETURN_TO_MUSIC = TRUE;
                            35840 ; 1038 |                                if(g_iPlaySet !=PLAYSET_MUSIC)
                            35841 ; 1039 |                                {
                            35842 ; 1040 |                        SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_Initialize,0,0,0);
                            35843 ; 1041 |                        SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong,0,0,0);
                            35844 ; 1042 |                }
                            35845 ; 1043 |                        case MENU_MUSIC:
                            35846 ; 1044 |                            g_iCurrentMenu = MENU_MUSIC;
                            35847 ; 1045 |                                if (g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC || g_MenuFlags.MENU_FLAG_RETURN_TO_MUSIC)
                            35848 ; 1046 |                                {
                            35849 ; 1047 |                                        iResource = RSRC_MUSIC_MENU_CODE_BANK;
                            35850 ; 1048 |                                        pMenu = MusicMenu;
                            35851 ; 1049 |                                }
                            35852 ; 1050 |                                else
                            35853 ; 1051 |                                {
                            35854 ; 1052 |                            // set browse music
                            35855 ; 1053 |                    g_ePL5BrowseType = PL5_MUSICTYPE;
                            35856 ; 1054 |                    iResource = RSRC_PL5BROWSE_MENU_CODEBANK;
                            35857 ; 1055 |                    pMenu = BrowseMenu;
                            35858 ; 1056 |                                }
                            35859 ; 1057 |                            break;
                            35860 ; 1058 |                        case MENU_VOICE:
                            35861 ; 1059 |                            g_iCurrentMenu = MENU_VOICE;
                            35862 ; 1060 |                                if (g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC || g_MenuFlags.MENU_FLAG_RETURN_TO_MUSIC)
                            35863 ; 1061 |                                {
                            35864 ; 1062 |                                        g_iCurrentMenu  = MENU_MUSIC;
                            35865 ; 1063 |                                }
                            35866 ; 1064 |                                else if (g_MenuFlags.MENU_FLAG_ESCAPE_TO_RECORD)
                            35867 ; 1065 |                                {
                            35868 ; 1066 |                                        iResource = RSRC_VOICE_MENU_CODE_BANK;
                            35869 ; 1067 |                                        pMenu = VoiceMenu;
                            35870 ; 1068 |                                }
                            35871 ; 1069 |                                else
                            35872 ; 1070 |                                {
                            35873 ; 1071 |                                // set browse voice
                            35874 ; 1072 |                    g_ePL5BrowseType = PL5_VOICETYPE;
                            35875 ; 1073 |                    iResource = RSRC_PL5BROWSE_MENU_CODEBANK;
                            35876 ; 1074 |                    pMenu = BrowseMenu;
                            35877 ; 1075 |                }
                            35878 ; 1076 |                            break;
                            35879 ; 1077 |#ifndef REMOVE_FM
                            35880 ; 1078 |                        case MENU_FMREC:
                            35881 ; 1079 |                            g_iCurrentMenu = MENU_FMREC;
                            35882 ; 1080 |                            // set browse FM
                            35883 ; 1081 |                g_ePL5BrowseType = PL5_FMTYPE;
                            35884 ; 1082 |                iResource = RSRC_PL5BROWSE_MENU_CODEBANK;
                            35885 ; 1083 |                pMenu = BrowseMenu;
                            35886 ; 1084 |                            break;
                            35887 ; 1085 |#endif
                            35888 ; 1086 |                        case MENU_LINEIN:
                            35889 ; 1087 |                            g_iCurrentMenu = MENU_LINEIN;
                            35890 ; 1088 |                            // set browse line-in
                            35891 ; 1089 |                g_ePL5BrowseType = PL5_LINEINTYPE;
                            35892 ; 1090 |                iResource = RSRC_PL5BROWSE_MENU_CODEBANK;
                            35893 ; 1091 |                pMenu = BrowseMenu;
                            35894 ; 1092 |                            break;
                            35895 ; 1093 |#ifdef JPEG_APP
                            35896 ; 1094 |            case MENU_JPEG_DISPLAY:
                            35897 ; 1095 |                g_iCurrentMenu = MENU_JPEG_DISPLAY;
                            35898 ; 1096 |                // set browse photo
                            35899 ; 1097 |                g_ePL5BrowseType = PL5_PHOTOTYPE;
                            35900 ; 1098 |                iResource = RSRC_PL5BROWSE_MENU_CODEBANK;
                            35901 ; 1099 |                pMenu = BrowseMenu;
                            35902 ; 1100 |                iSelectedItem=SysCallFunction(iResource,pMenu,0,0,0);
                            35903 ; 1101 |                if (iSelectedItem != MENU_MAIN)
                            35904 ; 1102 |                {
                            35905 ; 1103 |                g_iCurrentMenu  = MENU_JPEG_DISPLAY;
                            35906 ; 1104 |                iResource = RSRC_JPEG_DISPLAY_MENU_CODE_BANK;
                            35907 ; 1105 |                pMenu = JpegDisplayMenu;
                            35908 ; 1106 |                }
                            35909 ; 1107 |                else
                            35910 ; 1108 |                {
                            35911 ; 1109 |                    DisplayHint.I = MAIN_MENU_DISPLAY_ALL|(1<<DISPLAY_CLEAR_DISPLAY_BITPOS);
                            35912 ; 1110 |                    pMenu = NULL;
                            35913 ; 1111 |                }
                            35914 ; 1112 |                break;
                            35915 ; 1113 |#endif
                            35916 ; 1114 |#ifdef MOTION_VIDEO
                            35917 ; 1115 |            case MENU_MVIDEO:
                            35918 ; 1116 |                g_iCurrentMenu = MENU_MVIDEO;
                            35919 ; 1117 |                // set browse mvideo
                            35920 ; 1118 |                g_ePL5BrowseType = PL5_VIDEOTYPE;
                            35921 ; 1119 |                iResource = RSRC_PL5BROWSE_MENU_CODEBANK;
                            35922 ; 1120 |                pMenu = BrowseMenu;
                            35923 ; 1121 |                iSelectedItem=SysCallFunction(iResource,pMenu,0,0,0);
                            35924 ; 1122 |                if (iSelectedItem != MENU_MAIN)
                            35925 ; 1123 |                {
                            35926 ; 1124 |                g_iCurrentMenu  = MENU_MVIDEO;
                            35927 ; 1125 |                iResource = RSRC_MOTION_VIDEO_MENU_CODE_BANK;
                            35928 ; 1126 |                pMenu = MotionVideoMenu;
                            35929 ; 1127 |                }
                            35930 ; 1128 |                else
                            35931 ; 1129 |                {
                            35932 ; 1130 |                    DisplayHint.I = MAIN_MENU_DISPLAY_ALL|(1<<DISPLAY_CLEAR_DISPLAY_BITPOS);
                            35933 ; 1131 |                    pMenu = NULL;
                            35934 ; 1132 |                }
                            35935 ; 1133 |                break;
                            35936 ; 1134 |#endif
                            35937 ; 1135 |#ifdef AUDIBLE
                            35938 ; 1136 |                        case MENU_AUDIBLE:
                            35939 ; 1137 |                                g_iCurrentMenu  = MENU_AUDIBLE;
                            35940 ; 1138 |                // set browse audible
                            35941 ; 1139 |                g_ePL5BrowseType = PL5_AUDIBLETYPE;
                            35942 ; 1140 |                iResource = RSRC_PL5BROWSE_MENU_CODEBANK;
                            35943 ; 1141 |                pMenu = BrowseMenu;
                            35944 ; 1142 |                                break;
                            35945 ; 1143 |#endif
                            35946 ; 1144 |#endif  // #ifdef  USE_PLAYLIST5
                            35947 ; 1145 |#ifndef REMOVE_FM
                            35948 ; 1146 |            case MENU_FMTUNER:
                            35949 ; 1147 |                g_iCurrentMenu  = MENU_FMTUNER;
                            35950 
P:06A5 290200         2 363835952 L505:   move    #2,b0
P:06A6 597000 rrrrrr  3 364135953         move    b0,y:Fg_iCurrentMenu
                            35954 
                            35955 ; 1148 |#ifdef FMTUNER
                            35956 ; 1149 |                iResource = RSRC_FMTUNER_MENU_CODE_BANK;
                            35957 
P:06A8 45F400 00007B  3 364435959         move    #>123,x1
P:06AA 77F400 FFFFFA  3 364735962         move    #-6,n7
P:06AC 000000         2 364935963         nop
P:06AD 4D6F00         4 365335964         move    x1,y:(r7+n7)
                            35967 
                            35968 ; 1150 |                pMenu = FMTunerMenu;
                            35969 
P:06AE 50F400 rrrrrr  3 365635971         move    #FFMTunerMenu,a0
P:06B0 77F400 FFFFFD  3 365935972         move    #-3,n7
P:06B2 000000         2 366135973         nop
P:06B3 586F00         4 366535974         move    a0,y:(r7+n7)
                            35975 
                            35976 ; 1151 |#endif
                            35977 ; 1152 |                break;
                            35978 
P:06B4 0AF080 rrrrrr  6 367135980         jmp     L529
                            35981 
                            35982 ; 1153 |#endif
                            35983 ; 1154 |            case MENU_SETTINGS:
                            35984 ; 1155 |                g_iCurrentMenu  = MENU_SETTINGS;
                            35985 
P:06B6 290400         2 367335987 L506:   move    #4,b0
P:06B7 597000 rrrrrr  3 367635988         move    b0,y:Fg_iCurrentMenu
                            35989 
                            35990 ; 1156 |                iResource = RSRC_SETTINGS_MENU_CODE_BANK;
                            35991 
P:06B9 298400         2 367835993         move    #132,b0
P:06BA 77F400 FFFFFA  3 368135996         move    #-6,n7
P:06BC 000000         2 368335997         nop
P:06BD 596F00         4 368735998         move    b0,y:(r7+n7)
                            36001 
                            36002 ; 1157 |                pMenu = SettingsMenu;
                            36003 
P:06BE 51F400 rrrrrr  3 369036005         move    #FSettingsMenu,b0
P:06C0 77F400 FFFFFD  3 369336006         move    #-3,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 139

M:ADDR CODE           CYCLES LINE SOURCELINE
P:06C2 000000         2 369536007         nop
P:06C3 596F00         4 369936008         move    b0,y:(r7+n7)
                            36009 
                            36010 ; 1158 |                break;
                            36011 
P:06C4 0AF080 rrrrrr  6 370536013         jmp     L529
                            36014 
                            36015 ; 1159 |#ifdef USE_PLAYLIST5
                            36016 ; 1160 |            case MENU_DELETE:
                            36017 ; 1161 |                g_iCurrentMenu  = MENU_DELETE;
                            36018 ; 1162 |                // set browse delete
                            36019 ; 1163 |                g_ePL5BrowseType = PL5_DELETETYPE;
                            36020 ; 1164 |                iResource = RSRC_PL5BROWSE_MENU_CODEBANK;
                            36021 ; 1165 |                pMenu = BrowseMenu;
                            36022 ; 1166 |                break;
                            36023 ; 1167 |#else
                            36024 ; 1168 |            case MENU_DELETE:
                            36025 ; 1169 |                g_iCurrentMenu  = MENU_DELETE;
                            36026 
P:06C6 290800         2 370736028 L507:   move    #8,b0
P:06C7 597000 rrrrrr  3 371036029         move    b0,y:Fg_iCurrentMenu
                            36030 
                            36031 ; 1170 |                iResource = RSRC_DELETE_MENU_CODE_BANK;
                            36032 
P:06C9 2D8600         2 371236034         move    #134,b1
P:06CA 77F400 FFFFFA  3 371536037         move    #-6,n7
P:06CC 000000         2 371736038         nop
P:06CD 5D6F00         4 372136039         move    b1,y:(r7+n7)
                            36042 
                            36043 ; 1171 |                pMenu = DeleteMenu;
                            36044 
P:06CE 47F400 rrrrrr  3 372436046         move    #FDeleteMenu,y1
P:06D0 77F400 FFFFFD  3 372736047         move    #-3,n7
P:06D2 000000         2 372936048         nop
P:06D3 4F6F00         4 373336049         move    y1,y:(r7+n7)
                            36050 
                            36051 ; 1172 |                break;
                            36052 
P:06D4 0AF080 rrrrrr  6 373936054         jmp     L529
                            36055 
                            36056 ; 1173 |#endif
                            36057 ; 1174 |            case MENU_ABOUT:
                            36058 ; 1175 |                g_iCurrentMenu = MENU_ABOUT;
                            36059 
P:06D6 290900         2 374136061 L508:   move    #9,b0
P:06D7 597000 rrrrrr  3 374436062         move    b0,y:Fg_iCurrentMenu
                            36063 
                            36064 ; 1176 |                iResource = RSRC_ABOUT_MENU_CODE_BANK;
                            36065 
P:06D9 57F400 000087  3 374736067         move    #>135,b
P:06DB 77F400 FFFFFA  3 375036070         move    #-6,n7
P:06DD 000000         2 375236071         nop
P:06DE 5F6F00         4 375636072         move    b,y:(r7+n7)
                            36075 
                            36076 ; 1177 |                pMenu = AboutMenu;
                            36077 
P:06DF 60F400 rrrrrr  3 375936079         move    #FAboutMenu,r0
P:06E1 77F400 FFFFFD  3 376236080         move    #-3,n7
P:06E3 000000         2 376436081         nop
P:06E4 686F00         4 376836082         move    r0,y:(r7+n7)
                            36083 
                            36084 ; 1178 |                break;
                            36085 
P:06E5 0AF080 rrrrrr  6 377436087         jmp     L529
                            36088 
                            36089 ; 1179 |            case MENU_RECORD: //sdk2.1
                            36090 ; 1180 |                                g_iCurrentMenu = MENU_RECORD;
                            36091 
P:06E7 290300         2 377636093 L509:   move    #3,b0
P:06E8 597000 rrrrrr  3 377936094         move    b0,y:Fg_iCurrentMenu
                            36095 
                            36096 ; 1181 |//stmp6930 move test for FM tuner source to FMTunerMenu
                            36097 ; 1182 |                                //Just record here.  No need to enter Voice Menu via
                            36098 ; 1183 |#ifdef CLCD_16BIT
                            36099 ; 1184 |                if(g_ADCsource == SOURCE_FM)
                            36100 ; 1185 |                {
                            36101 ; 1186 |                    SysPostMessage(2,LCD_16BIT_OFF);
                            36102 ; 1187 |                    SysWaitOnEvent(0,0,1);
                            36103 ; 1188 |                }
                            36104 ; 1189 |#endif //#ifdef CLCD_16BIT
                            36105 ; 1190 |                SysCallFunction(RSRC_VOICE_MENU_CODE_BANK,RecordVoiceFile,0,0,0);
                            36106 
P:06EA 20001B         2 378136108         clr     b   
P:06EB 340000         2 378336109         move    #0,r4
P:06EC 56F400 00007A  3 378636110         move    #>122,a
P:06EE 240000         2 378836111         move    #0,x0
P:06EF 60F400 rrrrrr  3 379136112         move    #FRecordVoiceFile,r0
P:06F1 0BF080 rrrrrr  6 379736113         jsr     SysCallFunction
                            36114 
                            36115 ; 1191 |#ifndef REMOVE_FM
                            36116 ; 1192 |#ifdef CLCD_16BIT
                            36117 ; 1193 |                if(g_ADCsource == SOURCE_FM)
                            36118 ; 1194 |                {
                            36119 ; 1195 |                    if( g_blIsTB2Fm == FALSE )
                            36120 ; 1196 |                    {
                            36121 ; 1197 |                        SysPostMessage(2,LCD_16BIT_ON);
                            36122 ; 1198 |                    }
                            36123 ; 1199 |                    else
                            36124 ; 1200 |                    {
                            36125 ; 1201 |                    }
                            36126 ; 1202 |                    SysWaitOnEvent(0,0,1);
                            36127 ; 1203 |                }
                            36128 ; 1204 |#endif //#ifdef CLCD_16BIT
                            36129 ; 1205 |#endif
                            36130 ; 1206 |                                DisplayHint.I = (MAIN_MENU_DISPLAY_ALL|(1<<DISPLAY_CLEAR_DISPLAY_BITPOS));
                            36131 
P:06F3 54F400 707E11  3 380036133         move    #7372305,a1
P:06F5 77F400 FFFFF6  3 380336134         move    #-10,n7
P:06F7 000000         2 380536135         nop
P:06F8 5C6F00         4 380936136         move    a1,y:(r7+n7)
                            36137 
                            36138 ; 1207 |#ifdef USE_PLAYLIST3
                            36139 ; 1208 |                                if (g_ADCsource == SOURCE_FM)
                            36140 
P:06F9 5FF000 rrrrrr  3 381236142         move    y:Fg_ADCsource,b
P:06FB 46F400 000001  3 381536143         move    #>1,y0
P:06FD 20005D         2 381736144         cmp     y0,b
P:06FE 0AF0A2 rrrrrr  6 382336145         jne     L510
                            36146 
                            36147 ; 1209 |                                        SysCallFunction(RSRC_VOICE_MENU_CODE_BANK,AddVoiceEntry,REC_FMREC_TYPE,0,0);
                            36148 
P:0700 340000         2 382536150         move    #0,r4
P:0701 56F400 00007A  3 382836151         move    #>122,a
P:0703 200059         2 383036152         tfr     y0,b
P:0704 240000         2 383236153         move    #0,x0
P:0705 60F400 rrrrrr  3 383536154         move    #FAddVoiceEntry,r0
P:0707 0BF080 rrrrrr  6 384136155         jsr     SysCallFunction
P:0709 0AF080 rrrrrr  6 384736156         jmp     L529
                            36157 
                            36158 ; 1210 |                                else if (g_ADCsource == SOURCE_LINEIN)
                            36159 
P:070B 5EF000 rrrrrr  3 385036161 L510:   move    y:Fg_ADCsource,a
P:070D 47F400 000002  3 385336162         move    #>2,y1
P:070F 200075         2 385536163         cmp     y1,a
P:0710 0AF0A2 rrrrrr  6 386136164         jne     L513
                            36165 
                            36166 ; 1211 |                                {
                            36167 ; 1212 |                                    if ((MODE_ALBUM == g_RecorderSettings[SOURCE_LINEIN].m_iMode)
                            36168 ; 1213 |                                        && (ENCODER_MP3 == g_RecorderSettings[SOURCE_LINEIN].m_EncoderNo))
                            36169 
P:0712 5FF000 rrrrrr  3 386436171         move    y:Fg_RecorderSettings+22,b
P:0714 2B0000         2 386636172         move    #0,b2
P:0715 20000B         2 386836173         tst     b
P:0716 0AF0A2 rrrrrr  6 387436174         jne     L512
P:0718 5EF000 rrrrrr  3 387736175         move    y:Fg_RecorderSettings+17,a
P:071A 57F400 000003  3 388036176         move    #>3,b
P:071C 2A0000         2 388236177         move    #0,a2
P:071D 200005         2 388436178         cmp     b,a
P:071E 0AF0A2 rrrrrr  6 389036179         jne     L512
                            36180 
                            36181 ; 1214 |                                    {
                            36182 ; 1215 |                        SysCallFunction(RSRC_MAIN_MENU_CODE_BANK, ML_building_engine_init,0,0,0);
                            36183 
P:0720 20001B         2 389236185         clr     b   
P:0721 340000         2 389436186         move    #0,r4
P:0722 56F400 000078  3 389736187         move    #>$78,a
P:0724 240000         2 389936188         move    #0,x0
P:0725 60F400 rrrrrr  3 390236189         move    #FML_building_engine_init,r0
P:0727 0BF080 rrrrrr  6 390836190         jsr     SysCallFunction
                            36191 
                            36192 ; 1216 |                        //SysLoadFATWrite();
                            36193 ; 1217 |                        g_Rebuild = TRUE;
                            36194 
P:0729 290100         2 391036196         move    #1,b0
P:072A 597000 rrrrrr  3 391336197         move    b0,y:Fg_Rebuild
                            36198 
                            36199 ; 1218 |                        SysCallFunction(RSRC_PLAYLIST2INIT_CODEBANK, BuildLINEINFilePath,0,0,0);
                            36200 
P:072C 20001B         2 391536202         clr     b   
P:072D 340000         2 391736203         move    #0,r4
P:072E 240000         2 391936204         move    #0,x0
P:072F 60F400 rrrrrr  3 392236205         move    #FBuildLINEINFilePath,r0
P:0731 56F400 0001E9  3 392536206         move    #489,a
P:0733 0BF080 rrrrrr  6 393136207         jsr     SysCallFunction
                            36208 
                            36209 ; 1219 |                        g_Rebuild = FALSE;
                            36210 
P:0735 200013         2 393336212         clr     a   
P:0736 5C7000 rrrrrr  3 393636213         move    a1,y:Fg_Rebuild
                            36214 
                            36215 ; 1220 |                        // SysUnLoadFATWrite();
                            36216 ; 1221 |                        SysCallFunction(RSRC_PLAY_STATE_MACHINE_CODE_BANK, ML_browsing_app_init,0,0,0);
                            36217 
P:0738 200009         2 393836219         tfr     a,b 
P:0739 340000         2 394036220         move    #0,r4
P:073A 240000         2 394236221         move    #0,x0
P:073B 60F400 rrrrrr  3 394536222         move    #FML_browsing_app_init,r0
P:073D 56F400 000011  3 394836223         move    #>17,a
P:073F 0BF080 rrrrrr  6 395436224         jsr     SysCallFunction
                            36225 
                            36226 ; 1222 |                    }
                            36227 
P:0741 0AF080 rrrrrr  6 396036229         jmp     L529
                            36230 
                            36231 ; 1223 |                                    else
                            36232 ; 1224 |                                        SysCallFunction(RSRC_VOICE_MENU_CODE_BANK,AddVoiceEntry,REC_PHOTO_TYPE,0,0);
                            36233 
P:0743 340000         2 396236235 L512:   move    #0,r4
P:0744 57F400 000002  3 396536236         move    #>2,b
P:0746 56F400 00007A  3 396836237         move    #>122,a
P:0748 240000         2 397036238         move    #0,x0
P:0749 60F400 rrrrrr  3 397336239         move    #FAddVoiceEntry,r0
P:074B 0BF080 rrrrrr  6 397936240         jsr     SysCallFunction
                            36241 
                            36242 ; 1225 |                                }
                            36243 
P:074D 0AF080 rrrrrr  6 398536245         jmp     L529
                            36246 
                            36247 ; 1226 |                                else
                            36248 ; 1227 |                                        SysCallFunction(RSRC_VOICE_MENU_CODE_BANK,AddVoiceEntry,REC_VOICE_TYPE,0,0);
                            36249 
P:074F 20001B         2 398736251 L513:   clr     b   
P:0750 340000         2 398936252         move    #0,r4
P:0751 56F400 00007A  3 399236253         move    #>122,a
P:0753 240000         2 399436254         move    #0,x0
P:0754 60F400 rrrrrr  3 399736255         move    #FAddVoiceEntry,r0
P:0756 0BF080 rrrrrr  6 400336256         jsr     SysCallFunction
                            36257 
                            36258 ; 1228 |#endif  // #ifdef USE_PLAYLIST3
                            36259 ; 1229 |                break;
                            36260 
P:0758 0AF080 rrrrrr  6 400936262         jmp     L529
                            36263 
                            36264 ; 1230 |
                            36265 ; 1231 |            case MENU_TIME_DATE: //sdk2.1
                            36266 ; 1232 |                                g_iCurrentMenu = MENU_TIME_DATE;
                            36267 
P:075A 290600         2 401136269 L514:   move    #6,b0
P:075B 597000 rrrrrr  3 401436270         move    b0,y:Fg_iCurrentMenu
                            36271 
                            36272 ; 1233 |                iResource = RSRC_TIMEDATE_MENU_CODE_BANK;
                            36273 
P:075D 288100         2 401636275         move    #$81,a0
P:075E 77F400 FFFFFA  3 401936278         move    #-6,n7
P:0760 000000         2 402136279         nop
P:0761 586F00         4 402536280         move    a0,y:(r7+n7)
                            36283 
                            36284 ; 1234 |                pMenu = TimeDateMenu;
                            36285 
P:0762 72F400 rrrrrr  3 402836287         move    #FTimeDateMenu,n2
P:0764 77F400 FFFFFD  3 403136288         move    #-3,n7
P:0766 000000         2 403336289         nop
P:0767 7A6F00         4 403736290         move    n2,y:(r7+n7)
                            36291 
                            36292 ; 1235 |                break;
                            36293 
P:0768 0AF080 rrrrrr  6 404336295         jmp     L529
                            36296 
                            36297 ; 1236 |
                            36298 ; 1237 |#ifdef SPECTRUM_ANAL
                            36299 ; 1238 |        case MENU_SPECTROGRAM:
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 140

M:ADDR CODE           CYCLES LINE SOURCELINE
                            36300 ; 1239 |                 g_iCurrentMenu =  MENU_SPECTROGRAM;
                            36301 ; 1240 |                 iResource      =  RSRC_SPECTROGRAM_MENU_CODE_BANK;
                            36302 ; 1241 |                 pMenu          =  SpectrogramMenu;
                            36303 ; 1242 |                break;
                            36304 ; 1243 |#endif
                            36305 ; 1244 |                case MENU_SHUTDOWN:
                            36306 
P:076A 300000         2 404536308 L515:   move    #0,r0
P:076B 56F400 000001  3 404836309         move    #>1,a
P:076D 20001B         2 405036310         clr     b   
                            36311 
                            36312 ; 1245 |                        ShutdownMenu(FORCESHUTDOWN,0,0);
                            36313 
P:076E 0BF080 rrrrrr  6 405636315         jsr     FShutdownMenu
                            36316 
                            36317 ; 1246 |                        break;
                            36318 
P:0770 0AF080 rrrrrr  6 406236320         jmp     L529
                            36321 
                            36322 ; 1247 |                        
                            36323 ; 1248 |                default:    // this should not happen
                            36324 
                            36326 L516:    error
P:0772 000200         4 406636326     debug
                            36327 
                            36328 
                            36329 ; 1249 |                _asm( " error"); //consider change to " error" macro which is debug or reset per buildtype
                            36330 ; 1250 |                break;
                            36331 ; 1251 |            }
                            36332 ; 1252 |
                            36333 ; 1253 |            // set the highlighted menu as the selected menu, for return
                            36334 ; 1254 |            iHighLightedItem = g_iCurrentMenu;
                            36335 
P:0773 4FF000 rrrrrr  3 406936337 L529:   move    y:Fg_iCurrentMenu,y1
P:0775 77F400 FFFFF9  3 407236338         move    #-7,n7
P:0777 000000         2 407436339         nop
P:0778 4F6F00         4 407836340         move    y1,y:(r7+n7)
                            36342 
                            36343 ; 1255 |
                            36344 ; 1256 |            if(pMenu)
                            36345 
P:0779 77F400 FFFFFD  3 408136347         move    #-3,n7
P:077B 000000         2 408336348         nop
P:077C 5FEF00         4 408736349         move    y:(r7+n7),b
P:077D 21F000         2 408936350         move    b,r0
P:077E 20000B         2 409136351         tst     b
P:077F 0AF0AA rrrrrr  6 409736354         jeq     L533
                            36355 
                            36356 ; 1257 |            {
                            36357 ; 1258 |                // called menu controls next menu with return value
                            36358 ; 1259 |                // if return MENU_MAIN, while loop exits and allows user to continue
                            36359 ; 1260 |                //     traversing the main menu -- typical operation
                            36360 ; 1261 |                // other return values are limited to those used in the
                            36361 ; 1262 |                //     above switch(iSelectedItem) and will allow menu changes
                            36362 ; 1263 |                //     without selection from mainmenu display
                            36363 ; 1264 |                if (iSelectedItem == MENU_RECORD)
                            36364 
P:0781 77F400 FFFFF8  3 410036366         move    #-8,n7
P:0783 000000         2 410236367         nop
P:0784 5FEF00         4 410636368         move    y:(r7+n7),b
P:0785 46F400 000003  3 410936369         move    #>3,y0
P:0787 20005D         2 411136370         cmp     y0,b
P:0788 0AF0A2 rrrrrr  6 411736373         jne     L530
                            36374 
                            36375 ; 1265 |                        iSelectedItem=SysCallFunction(iResource,pMenu,0,MENU_RECORD,0);
                            36376 
P:078A 77F400 FFFFFA  3 412036378         move    #-6,n7
P:078C 000000         2 412236379         nop
P:078D 5EEF00         4 412636380         move    y:(r7+n7),a
P:078E 340000         2 412836381         move    #0,r4
P:078F 20C400         2 413036382         move    y0,x0
P:0790 20001B         2 413236383         clr     b   
P:0791 0AF080 rrrrrr  6 413836385         jmp     L531
                            36386 
                            36387 ; 1266 |                else
                            36388 ; 1267 |                        iSelectedItem=SysCallFunction(iResource,pMenu,0,0,0);
                            36389 
                            36391 L530:
P:0793 77F400 FFFFFA  3 414136393         move    #-6,n7
P:0795 000000         2 414336394         nop
P:0796 5EEF00         4 414736395         move    y:(r7+n7),a
P:0797 20001B         2 414936396         clr     b   
P:0798 340000         2 415136397         move    #0,r4
P:0799 240000         2 415336398         move    #0,x0
P:079A 0BF080 rrrrrr  6 415936399 L531:   jsr     SysCallFunction
P:079C 77F400 FFFFF8  3 416236401         move    #-8,n7
P:079E 000000         2 416436402         nop
P:079F 5E6F00         4 416836403         move    a,y:(r7+n7)
                            36404 
                            36405 ; 1268 |
                            36406 ; 1269 |                // did we do a fast escape to music
                            36407 ; 1270 |                if (g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC)
                            36408 
P:07A0 5CF000 rrrrrr  3 417136410         move    y:Fg_MenuFlags,a1
P:07A2 0ACC01 rrrrrr  6 417736411         jclr    #1,a1,L532
                            36412 
                            36413 ; 1271 |                {
                            36414 ; 1272 |                   iSelectedItem = MENU_MUSIC;
                            36415 
P:07A4 200013         2 417936417         clr     a   
P:07A5 77F400 FFFFF8  3 418236420         move    #-8,n7
P:07A7 000000         2 418436421         nop
P:07A8 5E6F00         4 418836422         move    a,y:(r7+n7)
                            36425 
                            36426 ; 1273 |#ifdef USE_PLAYLIST5                               
                            36427 ; 1274 |                                        if(g_iPlaySet == PLAYSET_PHOTO)
                            36428 ; 1275 |                                        {
                            36429 ; 1276 |                                                SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_JPEG_DECODER_CALLBACK);
                            36430 ; 1277 |                                                SysWaitOnEvent(0,0,0);
                            36431 ; 1278 |                                                iSelectedItem = MENU_MAIN_EXIT;
                            36432 ; 1279 |                                        }
                            36433 ; 1280 |                                        else if(g_iPlaySet != PLAYSET_MUSIC)//else if(g_iPlaySet == PLAYSET_MVIDEO)
                            36434 ; 1281 |                                        {
                            36435 ; 1282 |                                                iSelectedItem = MENU_MAIN_EXIT;
                            36436 ; 1283 |                                        }
                            36437 ; 1284 |#endif                                  
                            36438 ; 1285 |                }
                            36439 ; 1286 |#ifdef USE_PLAYLIST5
                            36440 ; 1287 |                                else if((g_iPlaySet == PLAYSET_PHOTO) || (g_iPlaySet == PLAYSET_MVIDEO))
                            36441 ; 1288 |                                {
                            36442 ; 1289 |                                        SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_Initialize,0,0,0);
                            36443 ; 1290 |                                }
                            36444 ; 1291 |#endif
                            36445 ; 1292 |
                            36446 ; 1293 |                //we need to clear the screen since entering the menu
                            36447 ; 1294 |                DisplayHint.I = MAIN_MENU_DISPLAY_ALL|(1<<DISPLAY_CLEAR_DISPLAY_BITPOS);
                            36448 
P:07A9 57F400 707E11  3 419136450 L532:   move    #7372305,b
P:07AB 77F400 FFFFF6  3 419436451         move    #-10,n7
P:07AD 000000         2 419636452         nop
P:07AE 5D6F00         4 420036453         move    b1,y:(r7+n7)
                            36454 
                            36455 ; 1295 |            }
                            36456 
P:07AF 0AF080 rrrrrr  6 420636458         jmp     L535
                            36459 
                            36460 ; 1296 |            else
                            36461 ; 1297 |            {   // pMenu == NULL if another menu is not selected
                            36462 ; 1298 |                // just keep going
                            36463 ; 1299 |                iSelectedItem = MENU_MAIN;
                            36464 
P:07B1 46F400 000064  3 420936466 L533:   move    #>100,y0
P:07B3 77F400 FFFFF8  3 421236469         move    #-8,n7
P:07B5 000000         2 421436470         nop
P:07B6 4E6F00         4 421836471         move    y0,y:(r7+n7)
P:07B7 77F400 FFFFF8  3 422136475 L535:   move    #-8,n7
P:07B9 000000         2 422336476         nop
P:07BA 5EEF00         4 422736477         move    y:(r7+n7),a
P:07BB 57F400 000064  3 423036478         move    #>100,b
P:07BD 200005         2 423236479         cmp     b,a
P:07BE 0AF0A2 rrrrrr  6 423836482         jne     L492
                            36483 
                            36484 ; 1300 |            }
                            36485 ; 1301 |
                            36486 ; 1302 |        } // end while (iSelectedItem != MENU_MAIN)
                            36487 ; 1303 |
                            36488 ; 1304 |        //if we've gotten here, we're back in the main menu, so lets handle events
                            36489 ; 1305 |        //that pertain to the main menu.
                            36490 ; 1306 |        g_iCurrentMenu = MENU_MAIN;
                            36491 
P:07C0 296400         2 424036493         move    #100,b0
P:07C1 597000 rrrrrr  3 424336494         move    b0,y:Fg_iCurrentMenu
                            36495 
                            36496 ; 1307 |        pMenu = NULL;
                            36497 ; 1308 |
                            36498 ; 1309 |        DisplayHint.I &= (MAIN_MENU_DISPLAY_ALL|(1<<DISPLAY_CLEAR_DISPLAY_BITPOS));
                            36499 
P:07C3 44F400 707E11  3 424636501         move    #7372305,x0
P:07C5 77F400 FFFFF6  3 424936502         move    #-10,n7
P:07C7 000000         2 425136503         nop
P:07C8 5FEF00         4 425536504         move    y:(r7+n7),b
P:07C9 20004E         2 425736505         and     x0,b
P:07CA 5D6F00         4 426136506         move    b1,y:(r7+n7)
                            36507 
                            36508 ; 1310 |
                            36509 ; 1311 |        //wait until a message or button happens.
                            36510 ; 1312 |        iEvent = SysWaitOnEvent(EVENT_MESSAGE|EVENT_BUTTON,&gEventInfo.msg,DisplayHint.I ? 1 : -1);
                            36511 
P:07CB 2B0000         2 426336513         move    #0,b2
P:07CC 20000B         2 426536514         tst     b
P:07CD 57F400 000001  3 426836515         move    #>1,b
P:07CF 0AF0A2 rrrrrr  6 427436516         jne     L587
P:07D1 57F400 FFFFFF  3 427736517         move    #>-1,b
P:07D3 77F400 FFFFF8  3 428036518 L587:   move    #-8,n7
P:07D5 000000         2 428236519         nop
P:07D6 5C6F00         4 428636520         move    a1,y:(r7+n7)
P:07D7 60F400 rrrrrr  3 428936523         move    #FgEventInfo,r0
P:07D9 56F400 00000A  3 429236524         move    #>10,a
P:07DB 0BF080 rrrrrr  6 429836525         jsr     SysWaitOnEvent
                            36527 
                            36528 ; 1313 |
                            36529 ; 1314 |        bSendToPlayerStateMachine = TRUE;
                            36530 
P:07DD 47F400 000001  3 430136532         move    #>1,y1
                            36534 
                            36535 ; 1315 |
                            36536 ; 1316 |        //display EVENT_MESSAGE or EVENT_BUTTON
                            36537 ; 1317 |        switch(iEvent)
                            36538 
P:07DF 200009         2 430336540         tfr     a,b
P:07E0 77F400 FFFFFD  3 430636541         move    #-3,n7
P:07E2 000000         2 430836542         nop
P:07E3 5F6F00         4 431236543         move    b,y:(r7+n7)
P:07E4 46F400 000008  3 431536544         move    #>8,y0
P:07E6 46F45D 000004  3 431836545         cmp     y0,b    #>4,y0
P:07E8 0AF0AA rrrrrr  6 432436546         jeq     L559
P:07EA 20005D         2 432636547         cmp     y0,b
P:07EB 0AF0A2 rrrrrr  6 433236548         jne     L583
                            36549 
                            36550 ; 1318 |        {
                            36551 ; 1319 |        case EVENT_TIMER:
                            36552 ; 1320 |        /*Uncomment to see list menu
                            36553 ; 1321 |            if (iLastPage != aItems[iHighLightedItem].m_iPage)
                            36554 ; 1322 |            {
                            36555 ; 1323 |                // remember this page
                            36556 ; 1324 |                iLastPage = aItems[iHighLightedItem].m_iPage;
                            36557 ; 1325 |                // clear the display
                            36558 ; 1326 |                DisplayHint.I |= (MAIN_MENU_DISPLAY_ALL|(1<<DISPLAY_CLEAR_DISPLAY_BITPOS));
                            36559 ; 1327 |            }
                            36560 ; 1328 |            SysCallFunction(RSRC_DISPLAY_CODE_BANK,RefreshDisplay,DisplayHint.I,1,0);
                            36561 ; 1329 |            SysCallFunction(RSRC_DISPLAY_LISTS_CODE_BANK,DisplayPagedList,iHighLightedItem,0,(int*)&MainMenuListInfo);
                            36562 ; 1330 |            */          
                            36563 ; 1331 |        
                            36564 ; 1332 |        //View list menu with bitmap
                            36565 ; 1333 |                DisplayHint.I |= (MAIN_MENU_DISPLAY_ALL|(1<<DISPLAY_CLEAR_DISPLAY_BITPOS));
                            36566 
P:07ED 46F400 707E11  3 433536568         move    #7372305,y0
P:07EF 77F400 FFFFF6  3 433836569         move    #-10,n7
P:07F1 000000         2 434036570         nop
P:07F2 5FEF00         4 434436571         move    y:(r7+n7),b
P:07F3 20005A         2 434636572         or      y0,b
P:07F4 5D6F00         4 435036573         move    b1,y:(r7+n7)
                            36574 
                            36575 ; 1334 |                SysCallFunction(RSRC_DISPLAY_CODE_BANK,RefreshDisplay,DisplayHint.I,1,0);
                            36576 
P:07F5 340000         2 435236578         move    #0,r4
P:07F6 20E400         2 435436579         move    y1,x0
P:07F7 60F400 rrrrrr  3 435736580         move    #FRefreshDisplay,r0
P:07F9 56F400 000022  3 436036581         move    #>34,a
P:07FB 21AF00         2 436236582         move    b1,b
P:07FC 0BF080 rrrrrr  6 436836583         jsr     SysCallFunction
                            36585 
                            36586 ; 1335 |           switch(iHighLightedItem)
                            36587 
P:07FE 77F400 FFFFF9  3 437136589         move    #-7,n7
P:0800 000000         2 437336590         nop
P:0801 5EEF00         4 437736591         move    y:(r7+n7),a
P:0802 66F403 rrrrrr  3 438036592         tst     a       #L589,r6
P:0804 0AF0AB rrrrrr  6 438636593         jmi     L558
P:0806 45F400 00000A  3 438936594         move    #>10,x1
P:0808 21DE65         2 439136595         cmp     x1,a    a,n6
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 141

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0809 0AF0A7 rrrrrr  6 439736596         jgt     L558
P:080B 07EE96         8 440536597         movem   p:(r6+n6),r6
P:080C 000000         2 440736598         nop
P:080D 0AE680         4 441136599         jmp     (r6)
                            36600 
P:080E rrrrrr               36601 L589:   dc      L547    ; case 0:
P:080F rrrrrr               36602         dc      L537    ; case 1:
P:0810 rrrrrr               36603         dc      L538    ; case 2:
P:0811 rrrrrr               36604         dc      L539    ; case 3:
P:0812 rrrrrr               36605         dc      L540    ; case 4:
P:0813 rrrrrr               36606         dc      L541    ; case 5:
P:0814 rrrrrr               36607         dc      L542    ; case 6:
P:0815 rrrrrr               36608         dc      L543    ; case 7:
P:0816 rrrrrr               36609         dc      L544    ; case 8:
P:0817 rrrrrr               36610         dc      L545    ; case 9:
P:0818 rrrrrr               36611         dc      L546    ; case 10:
                            36612 
                            36613 
                            36614 ; 1336 |           {
                            36615 ; 1337 |                case MENU_MUSIC:
                            36616 ; 1338 |                        g_iAB_Control_Mode = FALSE;
                            36617 ; 1339 |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,16,RSRC_MENU_MUSIC+g_iLanguage);
                            36618 ; 1340 |                        break;
                            36619 ; 1341 |                case MENU_VOICE:
                            36620 ; 1342 |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,16,RSRC_MENU_VOICE+g_iLanguage);
                            36621 
P:0819 5FF000 rrrrrr  3 441436623 L537:   move    y:Fg_iLanguage,b
P:081B 46F400 000444  3 441736624         move    #1092,y0
P:081D 200058         2 441936625         add     y0,b
P:081E 281000         2 442136626         move    #16,a0
P:081F 260000         2 442336627         move    #0,y0
P:0820 5D5F00         2 442536628         move    b1,y:(r7)+
P:0821 585F00         2 442736630         move    a0,y:(r7)+
P:0822 4E5F00         2 442936632         move    y0,y:(r7)+
P:0823 47F400 030001  3 443236634         move    #$30001,y1
P:0825 4F5F00         2 443436635         move    y1,y:(r7)+
P:0826 290500         2 443636637         move    #5,b0
P:0827 595F00         2 443836638         move    b0,y:(r7)+
P:0828 0BF080 rrrrrr  6 444436640         jsr     FSysPostMessage
P:082A 3F0500         2 444636641         move    #5,n7
P:082B 000000         2 444836642         nop
P:082C 204700         2 445036643         move    (r7)-n7
                            36645 
                            36646 ; 1343 |                        break;
                            36647 
P:082D 0AF080 rrrrrr  6 445636649         jmp     L558
                            36650 
                            36651 ; 1344 |                case MENU_FMTUNER:
                            36652 ; 1345 |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,16,RSRC_MENU_FMTUNER+g_iLanguage);
                            36653 
P:082F 5FF000 rrrrrr  3 445936655 L538:   move    y:Fg_iLanguage,b
P:0831 47F400 000446  3 446236656         move    #1094,y1
P:0833 200078         2 446436657         add     y1,b
P:0834 281000         2 446636658         move    #16,a0
P:0835 270000         2 446836659         move    #0,y1
P:0836 5D5F00         2 447036660         move    b1,y:(r7)+
P:0837 585F00         2 447236662         move    a0,y:(r7)+
P:0838 4F5F00         2 447436664         move    y1,y:(r7)+
P:0839 46F400 030001  3 447736666         move    #$30001,y0
P:083B 4E5F00         2 447936667         move    y0,y:(r7)+
P:083C 290500         2 448136669         move    #5,b0
P:083D 595F00         2 448336670         move    b0,y:(r7)+
P:083E 0BF080 rrrrrr  6 448936672         jsr     FSysPostMessage
P:0840 3F0500         2 449136673         move    #5,n7
P:0841 000000         2 449336674         nop
P:0842 204700         2 449536675         move    (r7)-n7
                            36677 
                            36678 ; 1346 |                        break;
                            36679 
P:0843 0AF080 rrrrrr  6 450136681         jmp     L558
                            36682 
                            36683 ; 1347 |                case MENU_RECORD:
                            36684 ; 1348 |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,16,RSRC_MENU_RECORD+g_iLanguage);
                            36685 
P:0845 5FF000 rrrrrr  3 450436687 L539:   move    y:Fg_iLanguage,b
P:0847 45F400 000448  3 450736688         move    #1096,x1
P:0849 200068         2 450936689         add     x1,b
P:084A 281000         2 451136690         move    #16,a0
P:084B 250000         2 451336691         move    #0,x1
P:084C 5D5F00         2 451536692         move    b1,y:(r7)+
P:084D 585F00         2 451736694         move    a0,y:(r7)+
P:084E 4D5F00         2 451936696         move    x1,y:(r7)+
P:084F 46F400 030001  3 452236698         move    #$30001,y0
P:0851 4E5F00         2 452436699         move    y0,y:(r7)+
P:0852 290500         2 452636701         move    #5,b0
P:0853 595F00         2 452836702         move    b0,y:(r7)+
P:0854 0BF080 rrrrrr  6 453436704         jsr     FSysPostMessage
P:0856 3F0500         2 453636705         move    #5,n7
P:0857 000000         2 453836706         nop
P:0858 204700         2 454036707         move    (r7)-n7
                            36709 
                            36710 ; 1349 |                        break;
                            36711 
P:0859 0AF080 rrrrrr  6 454636713         jmp     L558
                            36714 
                            36715 ; 1350 |                case MENU_SETTINGS:
                            36716 ; 1351 |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,16,RSRC_MENU_SETTINGS+g_iLanguage);
                            36717 
P:085B 5FF000 rrrrrr  3 454936719 L540:   move    y:Fg_iLanguage,b
P:085D 46F400 00044A  3 455236720         move    #1098,y0
P:085F 200058         2 455436721         add     y0,b
P:0860 281000         2 455636722         move    #16,a0
P:0861 260000         2 455836723         move    #0,y0
P:0862 5D5F00         2 456036724         move    b1,y:(r7)+
P:0863 585F00         2 456236726         move    a0,y:(r7)+
P:0864 4E5F00         2 456436728         move    y0,y:(r7)+
P:0865 46F400 030001  3 456736730         move    #$30001,y0
P:0867 4E5F00         2 456936731         move    y0,y:(r7)+
P:0868 290500         2 457136733         move    #5,b0
P:0869 595F00         2 457336734         move    b0,y:(r7)+
P:086A 0BF080 rrrrrr  6 457936736         jsr     FSysPostMessage
P:086C 3F0500         2 458136737         move    #5,n7
P:086D 000000         2 458336738         nop
P:086E 204700         2 458536739         move    (r7)-n7
                            36741 
                            36742 ; 1352 |                        break;
                            36743 
P:086F 0AF080 rrrrrr  6 459136745         jmp     L558
                            36746 
                            36747 ; 1353 |                case MENU_SHUTDOWN:
                            36748 ; 1354 |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,16,RSRC_MENU_SHUTDOWN+g_iLanguage);
                            36749 
P:0871 5FF000 rrrrrr  3 459436751 L541:   move    y:Fg_iLanguage,b
P:0873 47F400 00044C  3 459736752         move    #1100,y1
P:0875 200078         2 459936753         add     y1,b
P:0876 281000         2 460136754         move    #16,a0
P:0877 270000         2 460336755         move    #0,y1
P:0878 5D5F00         2 460536756         move    b1,y:(r7)+
P:0879 585F00         2 460736758         move    a0,y:(r7)+
P:087A 4F5F00         2 460936760         move    y1,y:(r7)+
P:087B 46F400 030001  3 461236762         move    #$30001,y0
P:087D 4E5F00         2 461436763         move    y0,y:(r7)+
P:087E 290500         2 461636765         move    #5,b0
P:087F 595F00         2 461836766         move    b0,y:(r7)+
P:0880 0BF080 rrrrrr  6 462436768         jsr     FSysPostMessage
P:0882 3F0500         2 462636769         move    #5,n7
P:0883 000000         2 462836770         nop
P:0884 204700         2 463036771         move    (r7)-n7
                            36773 
                            36774 ; 1355 |                        break;
                            36775 
P:0885 0AF080 rrrrrr  6 463636777         jmp     L558
                            36778 
                            36779 ; 1356 |                case MENU_TIME_DATE:
                            36780 ; 1357 |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,16,RSRC_MENU_CLOCK+g_iLanguage);
                            36781 
P:0887 5FF000 rrrrrr  3 463936783 L542:   move    y:Fg_iLanguage,b
P:0889 45F400 00044E  3 464236784         move    #1102,x1
P:088B 200068         2 464436785         add     x1,b
P:088C 281000         2 464636786         move    #16,a0
P:088D 250000         2 464836787         move    #0,x1
P:088E 5D5F00         2 465036788         move    b1,y:(r7)+
P:088F 585F00         2 465236790         move    a0,y:(r7)+
P:0890 4D5F00         2 465436792         move    x1,y:(r7)+
P:0891 46F400 030001  3 465736794         move    #$30001,y0
P:0893 4E5F00         2 465936795         move    y0,y:(r7)+
P:0894 290500         2 466136797         move    #5,b0
P:0895 595F00         2 466336798         move    b0,y:(r7)+
P:0896 0BF080 rrrrrr  6 466936800         jsr     FSysPostMessage
P:0898 3F0500         2 467136801         move    #5,n7
P:0899 000000         2 467336802         nop
P:089A 204700         2 467536803         move    (r7)-n7
                            36805 
                            36806 ; 1358 |                        break;
                            36807 
P:089B 0AF080 rrrrrr  6 468136809         jmp     L558
                            36810 
                            36811 ; 1359 |                case MENU_AB:
                            36812 ; 1360 |                        g_iAB_Control_Mode = TRUE;
                            36813 
P:089D 290100         2 468336815 L543:   move    #1,b0
P:089E 597000 rrrrrr  3 468636816         move    b0,y:Fg_iAB_Control_Mode
                            36817 
                            36818 ; 1361 |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,16,RSRC_MENU_AB+g_iLanguage);
                            36819 
P:08A0 5FF000 rrrrrr  3 468936821         move    y:Fg_iLanguage,b
P:08A2 46F400 000450  3 469236822         move    #1104,y0
P:08A4 200058         2 469436823         add     y0,b
P:08A5 281000         2 469636824         move    #16,a0
P:08A6 260000         2 469836825         move    #0,y0
P:08A7 5D5F00         2 470036826         move    b1,y:(r7)+
P:08A8 585F00         2 470236828         move    a0,y:(r7)+
P:08A9 4E5F00         2 470436830         move    y0,y:(r7)+
P:08AA 46F400 030001  3 470736832         move    #$30001,y0
P:08AC 4E5F00         2 470936833         move    y0,y:(r7)+
P:08AD 290500         2 471136835         move    #5,b0
P:08AE 595F00         2 471336836         move    b0,y:(r7)+
P:08AF 0BF080 rrrrrr  6 471936838         jsr     FSysPostMessage
P:08B1 3F0500         2 472136839         move    #5,n7
P:08B2 000000         2 472336840         nop
P:08B3 204700         2 472536841         move    (r7)-n7
                            36843 
                            36844 ; 1362 |                        break;
                            36845 
P:08B4 0AF080 rrrrrr  6 473136847         jmp     L558
                            36848 
                            36849 ; 1363 |                case MENU_DELETE:
                            36850 ; 1364 |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,16,RSRC_MENU_DELETE+g_iLanguage);
                            36851 
P:08B6 5FF000 rrrrrr  3 473436853 L544:   move    y:Fg_iLanguage,b
P:08B8 47F400 000452  3 473736854         move    #1106,y1
P:08BA 200078         2 473936855         add     y1,b
P:08BB 47F400 000010  3 474236856         move    #>16,y1
P:08BD 200013         2 474436857         clr     a   
P:08BE 5D5F00         2 474636858         move    b1,y:(r7)+
P:08BF 4F5F00         2 474836860         move    y1,y:(r7)+
P:08C0 5C5F00         2 475036862         move    a1,y:(r7)+
P:08C1 46F400 030001  3 475336864         move    #$30001,y0
P:08C3 4E5F00         2 475536865         move    y0,y:(r7)+
P:08C4 290500         2 475736867         move    #5,b0
P:08C5 595F00         2 475936868         move    b0,y:(r7)+
P:08C6 0BF080 rrrrrr  6 476536870         jsr     FSysPostMessage
P:08C8 3F0500         2 476736871         move    #5,n7
P:08C9 000000         2 476936872         nop
P:08CA 204700         2 477136873         move    (r7)-n7
                            36875 
                            36876 ; 1365 |                        break;
                            36877 
P:08CB 0AF080 rrrrrr  6 477736879         jmp     L558
                            36880 
                            36881 ; 1366 |                case MENU_ABOUT:
                            36882 ; 1367 |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,16,RSRC_MENU_ABOUT+g_iLanguage);
                            36883 
P:08CD 5FF000 rrrrrr  3 478036885 L545:   move    y:Fg_iLanguage,b
P:08CF 45F400 000454  3 478336886         move    #1108,x1
P:08D1 200068         2 478536887         add     x1,b
P:08D2 45F400 000010  3 478836888         move    #>16,x1
P:08D4 200013         2 479036889         clr     a   
P:08D5 5D5F00         2 479236890         move    b1,y:(r7)+
P:08D6 4D5F00         2 479436892         move    x1,y:(r7)+
P:08D7 5C5F00         2 479636894         move    a1,y:(r7)+
P:08D8 46F400 030001  3 479936896         move    #$30001,y0
P:08DA 4E5F00         2 480136897         move    y0,y:(r7)+
P:08DB 290500         2 480336899         move    #5,b0
P:08DC 595F00         2 480536900         move    b0,y:(r7)+
P:08DD 0BF080 rrrrrr  6 481136902         jsr     FSysPostMessage
P:08DF 3F0500         2 481336903         move    #5,n7
P:08E0 000000         2 481536904         nop
P:08E1 204700         2 481736905         move    (r7)-n7
                            36907 
                            36908 ; 1368 |                        break;
                            36909 
P:08E2 0AF080 rrrrrr  6 482336911         jmp     L558
                            36912 
                            36913 ; 1369 |                case MENU_MAIN_EXIT:
                            36914 ; 1370 |                        g_iAB_Control_Mode = FALSE;
                            36915 
P:08E4 270000         2 482536917 L546:   move    #0,y1
P:08E5 4F7000 rrrrrr  3 482836918         move    y1,y:Fg_iAB_Control_Mode
                            36919 
                            36920 ; 1371 |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,16,RSRC_MENU_EXIT+g_iLanguage);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 142

M:ADDR CODE           CYCLES LINE SOURCELINE
                            36921 
P:08E7 5FF000 rrrrrr  3 483136923         move    y:Fg_iLanguage,b
P:08E9 46F400 000456  3 483436924         move    #1110,y0
P:08EB 200058         2 483636925         add     y0,b
P:08EC 281000         2 483836926         move    #16,a0
P:08ED 260000         2 484036927         move    #0,y0
P:08EE 5D5F00         2 484236928         move    b1,y:(r7)+
P:08EF 585F00         2 484436930         move    a0,y:(r7)+
P:08F0 4E5F00         2 484636932         move    y0,y:(r7)+
P:08F1 46F400 030001  3 484936934         move    #$30001,y0
P:08F3 4E5F00         2 485136935         move    y0,y:(r7)+
P:08F4 290500         2 485336937         move    #5,b0
P:08F5 595F00         2 485536938         move    b0,y:(r7)+
P:08F6 0BF080 rrrrrr  6 486136940         jsr     FSysPostMessage
P:08F8 3F0500         2 486336941         move    #5,n7
P:08F9 000000         2 486536942         nop
P:08FA 204700         2 486736943         move    (r7)-n7
                            36945 
                            36946 ; 1372 |                        break;
                            36947 
P:08FB 0AF080 rrrrrr  6 487336949         jmp     L558
P:08FD 270000         2 487536951 L547:   move    #0,y1
P:08FE 4F7000 rrrrrr  3 487836952         move    y1,y:Fg_iAB_Control_Mode
P:0900 5FF000 rrrrrr  3 488136954         move    y:Fg_iLanguage,b
P:0902 44F400 000442  3 488436955         move    #1090,x0
P:0904 200048         2 488636956         add     x0,b
P:0905 281000         2 488836957         move    #16,a0
P:0906 250000         2 489036958         move    #0,x1
P:0907 5D5F00         2 489236959         move    b1,y:(r7)+
P:0908 585F00         2 489436961         move    a0,y:(r7)+
P:0909 4D5F00         2 489636963         move    x1,y:(r7)+
P:090A 46F400 030001  3 489936965         move    #$30001,y0
P:090C 4E5F00         2 490136966         move    y0,y:(r7)+
P:090D 290500         2 490336968         move    #5,b0
P:090E 595F00         2 490536969         move    b0,y:(r7)+
P:090F 0BF080 rrrrrr  6 491136971         jsr     FSysPostMessage
P:0911 3F0500         2 491336972         move    #5,n7
P:0912 000000         2 491536973         nop
P:0913 204700         2 491736974         move    (r7)-n7
                            36976 
                            36977 ; 1373 |                default:
                            36978 ; 1374 |                        break;                  
                            36979 ; 1375 |           }                      
                            36980 ; 1376 |                   
                            36981 ; 1377 |            bSendToPlayerStateMachine = FALSE;
                            36982 
P:0914 20001B         2 491936984 L558:   clr     b   
P:0915 270000         2 492136985         move    #0,y1
                            36987 
                            36988 ; 1378 |            DisplayHint.I = 0;
                            36989 
P:0916 77F400 FFFFF6  3 492436991         move    #-10,n7
P:0918 000000         2 492636992         nop
P:0919 5D6F00         4 493036993         move    b1,y:(r7+n7)
                            36994 
                            36995 ; 1379 |            break;
                            36996 
P:091A 0AF080 rrrrrr  6 493636998         jmp     L583
                            36999 
                            37000 ; 1380 |                        
                            37001 ; 1381 |        case EVENT_BUTTON:
                            37002 
P:091C 77F400 FFFFFE  3 493937004 L559:   move    #-2,n7
P:091E 000000         2 494137005         nop
P:091F 4F6F00         4 494537006         move    y1,y:(r7+n7)
                            37009 
                            37010 ; 1382 |                // button pressed, so restart timer if enabled
                            37011 ; 1383 |            UpdateAutoShutdownTimer();
                            37012 
P:0920 0BF080 rrrrrr  6 495137014         jsr     FUpdateAutoShutdownTimer
P:0922 77F400 FFFFFE  3 495437015         move    #-2,n7
P:0924 000000         2 495637016         nop
P:0925 4FEF00         4 496037017         move    y:(r7+n7),y1
                            37020 
                            37021 ; 1384 |#ifdef BACKLIGHT
                            37022 ; 1385 |                        // turn on backlight when button is pressed.
                            37023 ; 1386 |                        if (g_iBackLightState==BACKLIGHT_ON)
                            37024 
P:0926 5EF000 rrrrrr  3 496337026         move    y:Fg_iBackLightState,a
P:0928 46F400 000001  3 496637027         move    #>1,y0
P:092A 200055         2 496837028         cmp     y0,a
P:092B 0AF0A2 rrrrrr  6 497437029         jne     L560
                            37032 
                            37033 ; 1387 |                        {
                            37034 ; 1388 |                SysPostMessage(2,LCD_BACKLIGHT_ON);
                            37035 
P:092D 290200         2 497637037         move    #2,b0
P:092E 44F400 030010  3 497937038         move    #196624,x0
P:0930 4C5F00         2 498137039         move    x0,y:(r7)+
P:0931 595F00         2 498337041         move    b0,y:(r7)+
P:0932 0BF080 rrrrrr  6 498937043         jsr     FSysPostMessage
P:0934 205700         2 499137044         move    (r7)-
P:0935 205700         2 499337046         move    (r7)-
                            37048 
                            37049 ; 1389 |                SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_BACKLIGHT,1,BACKLIGHT_TIME,MENU_MSG_TURN_OFF_BACKLIGHT);
                            37050 
P:0936 54F400 090001  3 499637052         move    #589825,a1
P:0938 2D0600         2 499837053         move    #6,b1
P:0939 280100         2 500037054         move    #1,a0
P:093A 45F400 06001A  3 500337055         move    #393242,x1
P:093C 4D5F00         2 500537056         move    x1,y:(r7)+
P:093D 51F400 001388  3 500837058         move    #5000,b0
P:093F 595F00         2 501037059         move    b0,y:(r7)+
P:0940 585F00         2 501237061         move    a0,y:(r7)+
P:0941 290500         2 501437063         move    #5,b0
P:0942 595F00         2 501637064         move    b0,y:(r7)+
P:0943 5C5F00         2 501837066         move    a1,y:(r7)+
P:0944 5D5F00         2 502037068         move    b1,y:(r7)+
P:0945 0BF080 rrrrrr  6 502637070         jsr     FSysPostMessage
P:0947 3F0600         2 502837071         move    #6,n7
P:0948 000000         2 503037072         nop
P:0949 204700         2 503237073         move    (r7)-n7
                            37075 
                            37076 ; 1390 |                    SysWaitOnEvent(0,0,0);
                            37077 
P:094A 200013         2 503437079         clr     a   
P:094B 300000         2 503637080         move    #0,r0
P:094C 20001B         2 503837081         clr     b   
P:094D 0BF080 rrrrrr  6 504437082         jsr     SysWaitOnEvent
P:094F 77F400 FFFFFE  3 504737083         move    #-2,n7
P:0951 000000         2 504937084         nop
P:0952 4FEF00         4 505337085         move    y:(r7+n7),y1
                            37088 
                            37089 ; 1391 |                        }
                            37090 ; 1392 |#endif
                            37091 ; 1393 |            switch(gEventInfo.Button.wButtonEvent)
                            37092 
P:0953 5EF000 rrrrrr  3 505637094 L560:   move    y:FgEventInfo,a
P:0955 66F400 rrrrrr  3 505937095         move    #L590,r6
P:0957 2A0000         2 506137096         move    #0,a2
P:0958 57F400 00001A  3 506437097         move    #>26,b
P:095A 21DE05         2 506637098         cmp     b,a     a,n6
P:095B 0AF0A7 rrrrrr  6 507237099         jgt     L583
P:095D 07EE96         8 508037100         movem   p:(r6+n6),r6
P:095E 000000         2 508237101         nop
P:095F 0AE680         4 508637102         jmp     (r6)
                            37103 
P:0960 rrrrrr               37104 L590:   dc      L564    ; case 0:
P:0961 rrrrrr               37105         dc      L564    ; case 1:
P:0962 rrrrrr               37106         dc      L562    ; case 2:
P:0963 rrrrrr               37107         dc      L562    ; case 3:
P:0964 rrrrrr               37108         dc      L575    ; case 4:
P:0965 rrrrrr               37109         dc      L567    ; case 5:
P:0966 rrrrrr               37110         dc      L575    ; case 6:
P:0967 rrrrrr               37111         dc      L575    ; case 7:
P:0968 rrrrrr               37112         dc      L565    ; case 8:
P:0969 rrrrrr               37113         dc      L575    ; case 9:
P:096A rrrrrr               37114         dc      L583    ; default:
P:096B rrrrrr               37115         dc      L583    ; default:
P:096C rrrrrr               37116         dc      L583    ; default:
P:096D rrrrrr               37117         dc      L583    ; default:
P:096E rrrrrr               37118         dc      L583    ; default:
P:096F rrrrrr               37119         dc      L583    ; default:
P:0970 rrrrrr               37120         dc      L583    ; default:
P:0971 rrrrrr               37121         dc      L583    ; default:
P:0972 rrrrrr               37122         dc      L583    ; default:
P:0973 rrrrrr               37123         dc      L583    ; default:
P:0974 rrrrrr               37124         dc      L583    ; default:
P:0975 rrrrrr               37125         dc      L583    ; default:
P:0976 rrrrrr               37126         dc      L583    ; default:
P:0977 rrrrrr               37127         dc      L583    ; default:
P:0978 rrrrrr               37128         dc      L583    ; default:
P:0979 rrrrrr               37129         dc      L566    ; case 25:
P:097A rrrrrr               37130         dc      L568    ; case 26:
                            37131 
                            37132 
                            37133 ; 1394 |            {
                            37134 ; 1395 |                case PH_PLAY:
                            37135 ; 1396 |                case PR_MENU:
                            37136 ; 1397 |                case PR_RV:
                            37137 ; 1398 |                case PH_RV:
                            37138 ; 1399 |                        bSendToPlayerStateMachine=FALSE;
                            37139 ; 1400 |                        break;
                            37140 ; 1401 |                        
                            37141 ; 1402 |                case PR_FF:
                            37142 ; 1403 |                case PH_FF:
                            37143 ; 1404 |                    bSendToPlayerStateMachine = FALSE;
                            37144 
P:097B 270000         2 508837146 L562:   move    #0,y1
                            37147 
                            37148 ; 1405 |                    DisplayHint.bits.Misc = TRUE;
                            37149 
P:097C 77F400 FFFFF6  3 509137151         move    #-10,n7
P:097E 000000         2 509337152         nop
P:097F 0A6F64         6 509937153         bset    #4,y:(r7+n7)
                            37154 
                            37155 ; 1406 |                    iHighLightedItem++;
                            37156 
P:0980 77F400 FFFFF9  3 510237158         move    #-7,n7
P:0982 000000         2 510437159         nop
P:0983 5EEF00         4 510837160         move    y:(r7+n7),a
P:0984 57F400 000001  3 511137161         move    #>1,b
P:0986 200010         2 511337162         add     b,a
                            37165 
                            37166 ; 1407 |                    if(iHighLightedItem > MAINMENU_LAST)
                            37167 
P:0987 5C6F00         4 511737169         move    a1,y:(r7+n7)
P:0988 44F400 00000A  3 512037170         move    #>10,x0
P:098A 200045         2 512237171         cmp     x0,a
P:098B 0AF0AF rrrrrr  6 512837174         jle     L583
                            37175 
                            37176 ; 1408 |                    {   // roll over
                            37177 ; 1409 |                        iHighLightedItem = MAINMENU_FIRST;
                            37178 
P:098D 240000         2 513037180         move    #0,x0
P:098E 4C6F00         4 513437183         move    x0,y:(r7+n7)
                            37186 
                            37187 ; 1410 |                    }
                            37188 ; 1411 |                    break;
                            37189 
P:098F 0AF080 rrrrrr  6 514037191         jmp     L583
                            37192 
                            37193 ; 1412 |
                            37194 ; 1413 |                case PR_RW:
                            37195 ; 1414 |                case PH_RW:
                            37196 ; 1415 |                    bSendToPlayerStateMachine = FALSE;
                            37197 
P:0991 270000         2 514237199 L564:   move    #0,y1
                            37200 
                            37201 ; 1416 |                    DisplayHint.bits.Misc = TRUE;
                            37202 
P:0992 77F400 FFFFF6  3 514537204         move    #-10,n7
P:0994 000000         2 514737205         nop
P:0995 0A6F64         6 515337206         bset    #4,y:(r7+n7)
                            37207 
                            37208 ; 1417 |                    iHighLightedItem--;
                            37209 
P:0996 77F400 FFFFF9  3 515637211         move    #-7,n7
P:0998 000000         2 515837212         nop
P:0999 5EEF00         4 516237213         move    y:(r7+n7),a
P:099A 44F400 000001  3 516537214         move    #>1,x0
P:099C 200044         2 516737215         sub     x0,a
                            37218 
                            37219 ; 1418 |                    if(iHighLightedItem < MAINMENU_FIRST)
                            37220 
P:099D 5C6F00         4 517137222         move    a1,y:(r7+n7)
P:099E 0AF0A1 rrrrrr  6 517737225         jge     L583
                            37226 
                            37227 ; 1419 |                    {   // roll over
                            37228 ; 1420 |                        iHighLightedItem = MAINMENU_LAST;
                            37229 
P:09A0 45F400 00000A  3 518037231         move    #>10,x1
P:09A2 4D6F00         4 518437234         move    x1,y:(r7+n7)
                            37237 
                            37238 ; 1421 |                    }
                            37239 ; 1422 |                    break;
                            37240 
P:09A3 0AF080 rrrrrr  6 519037242         jmp     L583
                            37243 
                            37244 ; 1423 |
                            37245 ; 1424 |                case PR_PLAY:
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 143

M:ADDR CODE           CYCLES LINE SOURCELINE
                            37246 ; 1425 |                    //causing selected item to change will have the loop above enter that menu
                            37247 ; 1426 |                    //until it returns MENU_MAIN.
                            37248 ; 1427 |                    iSelectedItem = iHighLightedItem;
                            37249 
P:09A5 77F400 FFFFF9  3 519337251 L565:   move    #-7,n7
P:09A7 000000         2 519537252         nop
P:09A8 4DEF00         4 519937253         move    y:(r7+n7),x1
P:09A9 77F400 FFFFF8  3 520237256         move    #-8,n7
P:09AB 000000         2 520437257         nop
P:09AC 4D6F00         4 520837258         move    x1,y:(r7+n7)
                            37261 
                            37262 ; 1428 |                    bSendToPlayerStateMachine = FALSE;
                            37263 
P:09AD 0AF080 rrrrrr  6 521437265         jmp     L575
                            37266 
                            37267 ; 1429 |                    break;
                            37268 ; 1430 |
                            37269 ; 1431 |                case PR_STOP:
                            37270 ; 1432 |                    if((g_wDecoderSR & DECODER_STOPPED) != 0)
                            37271 
P:09AF 54F000 rrrrrr  3 521737273 L566:   move    x:Fg_wDecoderSR,a1
P:09B1 46F400 000040  3 522037274         move    #>$40,y0
P:09B3 200056         2 522237275         and     y0,a
P:09B4 218E00         2 522437276         move    a1,a
P:09B5 2A0000         2 522637277         move    #0,a2
P:09B6 200003         2 522837278         tst     a
P:09B7 0AF0AA rrrrrr  6 523437279         jeq     L583
                            37280 
                            37281 ; 1433 |                        bSendToPlayerStateMachine = FALSE;
                            37282 
P:09B9 0AF080 rrrrrr  6 524037284         jmp     L575
                            37285 
                            37286 ; 1434 |                    break;
                            37287 ; 1435 |
                            37288 ; 1436 |                case PH_MENU:
                            37289 ; 1437 |                    // set flag so PR_MENU in music mode will ignore
                            37290 ; 1438 |                    g_MenuFlags.MENU_FLAG_ESCAPE_TO_MUSIC = TRUE;
                            37291 
P:09BB 0A7061 rrrrrr  6 524637293 L567:   bset    #1,y:Fg_MenuFlags
                            37294 
                            37295 ; 1439 |                    iSelectedItem = MENU_MUSIC;
                            37296 
P:09BD 290000         2 524837298         move    #0,b0
P:09BE 77F400 FFFFF8  3 525137301         move    #-8,n7
P:09C0 000000         2 525337302         nop
P:09C1 596F00         4 525737303         move    b0,y:(r7+n7)
                            37306 
                            37307 ; 1440 |                    bSendToPlayerStateMachine = FALSE;
                            37308 
P:09C2 0AF080 rrrrrr  6 526337310         jmp     L575
                            37311 
                            37312 ; 1441 |                    break;
                            37313 ; 1442 |
                            37314 ; 1443 |
                            37315 ; 1444 |                case PH_STOP:
                            37316 ; 1445 |        #ifdef JANUS
                            37317 ; 1446 |                    CleanDataStoreFlag = 1;
                            37318 ; 1447 |                #endif
                            37319 ; 1448 |                    //if the STOP button is held down, lets call the shutdown menu
                            37320 ; 1449 |                    ShutdownMenu(USERSHUTDOWN,0,0);
                            37321 
P:09C4 200013         2 526537323 L568:   clr     a   
P:09C5 300000         2 526737324         move    #0,r0
P:09C6 20001B         2 526937325         clr     b   
P:09C7 0BF080 rrrrrr  6 527537326         jsr     FShutdownMenu
                            37328 
                            37329 ; 1450 |                    // when returns update display  -- if doesn't return, powered down
                            37330 ; 1451 |                    DisplayHint.I |= (MAIN_MENU_DISPLAY_ALL|(1<<DISPLAY_CLEAR_DISPLAY_BITPOS));
                            37331 
P:09C9 46F400 707E11  3 527837333         move    #7372305,y0
P:09CB 77F400 FFFFF6  3 528137334         move    #-10,n7
P:09CD 000000         2 528337335         nop
P:09CE 5CEF00         4 528737336         move    y:(r7+n7),a1
P:09CF 200052         2 528937337         or      y0,a
P:09D0 5C6F00         4 529337338         move    a1,y:(r7+n7)
                            37339 
                            37340 ; 1452 |                    bSendToPlayerStateMachine = FALSE;
                            37341 
P:09D1 270000         2 529537343 L575:   move    #0,y1
                            37345 
                            37346 ; 1453 |                    break;
                            37347 ; 1454 |            }
                            37348 ; 1455 |        }
                            37349 ; 1456 |        if(bSendToPlayerStateMachine)
                            37350 
P:09D2 200079         2 529737352 L583:   tfr     y1,b
P:09D3 2B0000         2 529937353         move    #0,b2
P:09D4 20000B         2 530137354         tst     b
P:09D5 0AF0AA rrrrrr  6 530737357         jeq     L584
                            37358 
                            37359 ; 1457 |            DisplayHint.I |= SysCallFunction(RSRC_PLAY_STATE_MACHINE_CODE_BANK,HandlePlayerStateMachine,iEvent,0,pPtr);
                            37360 
P:09D7 77F400 FFFFFC  3 531037362         move    #-4,n7
P:09D9 000000         2 531237363         nop
P:09DA 6CEF00         4 531637364         move    y:(r7+n7),r4
P:09DB 240000         2 531837367         move    #0,x0
P:09DC 56F400 000011  3 532137368         move    #>17,a
P:09DE 77F400 FFFFFD  3 532437369         move    #-3,n7
P:09E0 000000         2 532637370         nop
P:09E1 5FEF00         4 533037371         move    y:(r7+n7),b
P:09E2 60F400 rrrrrr  3 533337372         move    #FHandlePlayerStateMachine,r0
P:09E4 0BF080 rrrrrr  6 533937373         jsr     SysCallFunction
P:09E6 77F400 FFFFF6  3 534237380         move    #-10,n7
P:09E8 000000         2 534437381         nop
P:09E9 5DEF00         4 534837382         move    y:(r7+n7),b1
P:09EA 21C600         2 535037383         move    a,y0
P:09EB 20005A         2 535237384         or      y0,b
P:09EC 5D6F00         4 535637385         move    b1,y:(r7+n7)
P:09ED 54F400 090002  3 535937386 L584:   move    #589826,a1
P:09EF 290300         2 536137387         move    #3,b0
P:09F0 260000         2 536337388         move    #0,y0
P:09F1 4E5F00         2 536537389         move    y0,y:(r7)+
P:09F2 5C5F00         2 536737391         move    a1,y:(r7)+
P:09F3 595F00         2 536937393         move    b0,y:(r7)+
                            37395 
                            37396 ; 1458 |
                            37397 ; 1459 |                //***** kill timer
                            37398 ; 1460 |                SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_ANIMATE);
                            37399 
P:09F4 0BF080 rrrrrr  6 537537401         jsr     FSysPostMessage
P:09F6 3F0300         2 537737402         move    #3,n7
P:09F7 000000         2 537937403         nop
P:09F8 204700         2 538137404         move    (r7)-n7
P:09F9 0AF080 rrrrrr  6 538737407         jmp     L491
                            37408 
                            37409 ; 1461 |    } // end while (1)
                            37410 ; 1462 |}
                            37411 
P:09FB 77F400 FFFFB9  3 539037413         move    #-71,n7
P:09FD 000000         2 539237414         nop
P:09FE 05EF7C         4 539637415         movec   y:(r7+n7),ssh
P:09FF 204F00         2 539837417         move    (r7)+n7
P:0A00 00000C         4 540237419         rts
                            37425 
                            37426 ; 1463 |
                            37427 ; 1464 |/////////////////////////////////////////////////////////////////////////////////////////
                            37428 ; 1465 |//
                            37429 ; 1466 |//>  Name:          _reentrant int CreateDataFolder(_packed BYTE *ChkDirectory)
                            37430 ; 1467 |//
                            37431 ; 1468 |//   Type:          Function
                            37432 ; 1469 |//
                            37433 ; 1470 |//   Description:   Since our MTP device does not report that we support JPEG or SMV
                            37434 ; 1471 |//                  formats the folders that hold these files have to show up in the
                            37435 ; 1472 |//                  DATA folder.  This is done by setting their MTP database
                            37436 ; 1473 |//                  non-consumable property to 1.  When data folders are added in
                            37437 ; 1474 |//                  MTP mode the firmware places a hidden file in the root folder to
                            37438 ; 1475 |//                  indicate that it's a data folder.  That way when the MTP
                            37439 ; 1476 |//                  database has to be rebuilt it can check for that file in all root
                            37440 ; 1477 |//                  folders and know if it's a data folder or a media folder.
                            37441 ; 1478 |//
                            37442 ; 1479 |//                  This function is used to create the data folders and add that
                            37443 ; 1480 |//                  special file to the folder.  This is only needed for root folders.
                            37444 ; 1481 |//                  All subfolders will have the same non-consumbable property as
                            37445 ; 1482 |//                  their parent.
                            37446 ; 1483 |//
                            37447 ; 1484 |//   Outputs:       int
                            37448 ; 1485 |//                  TRUE if the folder was created and the MTP database needs rebuilding
                            37449 ; 1486 |//                  FALSE if the folder already exists
                            37450 ; 1487 |//
                            37451 ; 1488 |//<
                            37452 ; 1489 |//////////////////////////////////////////////////////////////////////////////////////////
                            37453 ; 1490 |_reentrant int CreateDataFolder(_packed BYTE *ChkDirectory)
                            37454 ; 1491 |{
                            37455 
                            37460 FCreateDataFolder:
P:0A01 055F7C         2 540437461         movec   ssh,y:(r7)+
P:0A02 3F0600         2 540637464         move    #6,n7
P:0A03 000000         2 540837465         nop
P:0A04 204F00         2 541037466         move    (r7)+n7
                            37478 
                            37479 ; 1492 |    int FileHandle;
                            37480 ; 1493 |    INT AttValue;
                            37481 ; 1494 |    int Result;
                            37482 ; 1495 |    int FileCreateFlag[3];
                            37483 ; 1496 |
                            37484 ; 1497 |    Result = FALSE;
                            37485 
P:0A05 290000         2 541237487         move    #0,b0
P:0A06 77F400 FFFFFE  3 541537489         move    #-2,n7
P:0A08 000000         2 541737490         nop
P:0A09 596F00         4 542137491         move    b0,y:(r7+n7)
P:0A0A 77F400 FFFFFD  3 542437494         move    #-3,n7
P:0A0C 000000         2 542637495         nop
P:0A0D 686F00         4 543037496         move    r0,y:(r7+n7)
P:0A0E 200013         2 543237501         clr     a   
                            37502 
                            37503 ; 1498 |    if(FSChangeDir(ChkDirectory,0)<0)
                            37504 
P:0A0F 0BF080 rrrrrr  6 543837506         jsr     FFSChangeDir
P:0A11 200003         2 544037509         tst     a
P:0A12 0AF0A1 rrrrrr  6 544637510         jge     L591
P:0A14 77F400 FFFFFD  3 544937511         move    #-3,n7
P:0A16 000000         2 545137512         nop
P:0A17 68EF00         4 545537513         move    y:(r7+n7),r0
P:0A18 200013         2 545737516         clr     a   
                            37517 
                            37518 ; 1499 |    {
                            37519 ; 1500 |
                            37520 ; 1501 |        FSCreateDir(ChkDirectory,0);
                            37521 
P:0A19 0BF080 rrrrrr  6 546337523         jsr     FFSCreateDir
P:0A1B 200013         2 546537526         clr     a   
                            37527 
                            37528 ; 1502 |        FSChangeDir(ChkDirectory,0);
                            37529 
P:0A1C 77F400 FFFFFD  3 546837531         move    #-3,n7
P:0A1E 000000         2 547037532         nop
P:0A1F 68EF00         4 547437533         move    y:(r7+n7),r0
P:0A20 0BF080 rrrrrr  6 548037534         jsr     FFSChangeDir
                            37538 
                            37539 ; 1503 |
                            37540 ; 1504 |        FileCreateFlag[0] = (int)'w';
                            37541 
P:0A22 287700         2 548237543         move    #119,a0
P:0A23 77F400 FFFFFA  3 548537544         move    #-6,n7
P:0A25 000000         2 548737545         nop
P:0A26 586F00         4 549137546         move    a0,y:(r7+n7)
                            37547 
                            37548 ; 1505 |        FileCreateFlag[1] = (int)'+';
                            37549 
P:0A27 46F400 00002B  3 549437551         move    #>43,y0
P:0A29 77F400 FFFFFB  3 549737552         move    #-5,n7
P:0A2B 000000         2 549937553         nop
P:0A2C 4E6F00         4 550337554         move    y0,y:(r7+n7)
                            37555 
                            37556 ; 1506 |        FileCreateFlag[2] = 0;
                            37557 
P:0A2D 240000         2 550537559         move    #0,x0
P:0A2E 77F400 FFFFFC  3 550837560         move    #-4,n7
P:0A30 000000         2 551037561         nop
P:0A31 4C6F00         4 551437562         move    x0,y:(r7+n7)
                            37563 
                            37564 ; 1507 |        FileHandle = Fopen(g_DataTagName, (_packed char *) FileCreateFlag);
                            37565 
P:0A32 77F400 FFFFFA  3 551737567         move    #-6,n7
P:0A34 000000         2 551937568         nop
P:0A35 044F14         4 552337569         lua     (r7)+n7,r4
P:0A36 60F400 rrrrrr  3 552637570         move    #Fg_DataTagName,r0
P:0A38 0BF080 rrrrrr  6 553237571         jsr     FFopen
P:0A3A 045FA0         2 553437572         movec   m0,n7
P:0A3B 000000         2 553637573         nop
P:0A3C 5E6F00         4 554037574         move    a,y:(r7+n7)
                            37576 
                            37577 ; 1508 |
                            37578 ; 1509 |        // Give the file Hidden attributes so it does
                            37579 ; 1510 |        // not show up in the data folder in Explorer.
                            37580 ; 1511 |        AttValue = filegetattrib ((_packed char *)g_DataTagName);
                            37581 
P:0A3D 60F400 rrrrrr  3 554337583         move    #Fg_DataTagName,r0
P:0A3F 0BF080 rrrrrr  6 554937584         jsr     Ffilegetattrib
                            37586 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 144

M:ADDR CODE           CYCLES LINE SOURCELINE
                            37587 ; 1512 |        filesetattrib ((int)FileHandle, AttValue | ATTR_HIDDEN);
                            37588 
P:0A41 200009         2 555137590         tfr     a,b
P:0A42 0ACD61         4 555537591         bset    #1,b1
P:0A43 045FA0         2 555737595         movec   m0,n7
P:0A44 000000         2 555937596         nop
P:0A45 5EEF00         4 556337597         move    y:(r7+n7),a
P:0A46 0BF080 rrrrrr  6 556937598         jsr     Ffilesetattrib
                            37599 
                            37600 ; 1513 |
                            37601 ; 1514 |        Fclose(FileHandle);
                            37602 
P:0A48 045FA0         2 557137604         movec   m0,n7
P:0A49 000000         2 557337605         nop
P:0A4A 5EEF00         4 557737606         move    y:(r7+n7),a
P:0A4B 0BF080 rrrrrr  6 558337607         jsr     FFclose
                            37611 
                            37612 ; 1515 |        Result = TRUE;
                            37613 
P:0A4D 45F400 000001  3 558637615         move    #>1,x1
P:0A4F 77F400 FFFFFE  3 558937618         move    #-2,n7
P:0A51 000000         2 559137619         nop
P:0A52 4D6F00         4 559537620         move    x1,y:(r7+n7)
                            37623 
                            37624 ; 1516 |    }
                            37625 ; 1517 |
                            37626 ; 1518 |    return Result;
                            37627 
P:0A53 77F400 FFFFFE  3 559837629 L591:   move    #-2,n7
P:0A55 000000         2 560037630         nop
P:0A56 5EEF00         4 560437631         move    y:(r7+n7),a
                            37634 
                            37635 ; 1519 |}
                            37636 
P:0A57 77F400 FFFFF9  3 560737638         move    #-7,n7
P:0A59 000000         2 560937639         nop
P:0A5A 05EF7C         4 561337640         movec   y:(r7+n7),ssh
P:0A5B 204F00         2 561537642         move    (r7)+n7
P:0A5C 00000C         4 561937644         rts
                            37647 
                            37648 ; 1520 |
                            37649 ; 1521 |/////////////////////////////////////////////////////////////////////////////////////////
                            37650 ; 1522 |//
                            37651 ; 1523 |//>  Name:          _reentrant int ShutdownMenu( int iIgnored1, int iIgnored2, int *pPtr)
                            37652 ; 1524 |//
                            37653 ; 1525 |//   Type:          Function (menu)
                            37654 ; 1526 |//
                            37655 ; 1527 |//   Description:   This simple menu handles the wait for shutdown while
                            37656 ; 1528 |//                  the stop button is pressed and held.
                            37657 ; 1529 |//
                            37658 ; 1530 |//   Inputs:        pPtr is a pointer to a struct CMessage buffer to recieve messages into
                            37659 ; 1531 |//
                            37660 ; 1532 |//   Outputs:       BOOL
                            37661 ; 1533 |//                  TRUE if the player should shutdown
                            37662 ; 1534 |//                  FALSE if the shutdown activity was aborted.
                            37663 ; 1535 |//
                            37664 ; 1536 |//   Notes:         If any button activity happens other than PH_STOP, this menu
                            37665 ; 1537 |//                  exits and returns FALSE.
                            37666 ; 1538 |//<
                            37667 ; 1539 |//////////////////////////////////////////////////////////////////////////////////////////
                            37668 ; 1540 |_reentrant int ShutdownMenu( int bForceShutdown, int bLowBatt, int *pPtr)
                            37669 ; 1541 |//////////////////////////////////////////////////////////////////////
                            37670 ; 1542 |{
                            37671 
                            37676 FShutdownMenu:
P:0A5D 055F7C         2 562137677         movec   ssh,y:(r7)+
P:0A5E 3F0700         2 562337680         move    #7,n7
P:0A5F 000000         2 562537681         nop
P:0A60 204F00         2 562737682         move    (r7)+n7
                            37692 
                            37693 ; 1543 |    // wForceShutdown is really a BOOL, but menu function prototypes are fixed
                            37694 ; 1544 |    BOOL bDone     = FALSE;
                            37695 
P:0A61 77F400 FFFFF9  3 563037697         move    #-7,n7
P:0A63 000000         2 563237698         nop
P:0A64 5C6F00         4 563637699         move    a1,y:(r7+n7)
P:0A65 77F400 FFFFFA  3 563937702         move    #-6,n7
P:0A67 000000         2 564137703         nop
P:0A68 5D6F00         4 564537704         move    b1,y:(r7+n7)
P:0A69 2D0000         2 564737707         move    #0,b1
P:0A6A 77F400 FFFFFB  3 565037709         move    #-5,n7
P:0A6C 000000         2 565237710         nop
P:0A6D 5D6F00         4 565637711         move    b1,y:(r7+n7)
                            37716 
                            37717 ; 1545 |    INT  iShutdownCount=0;
                            37718 
P:0A6E 20001B         2 565837720         clr     b   
P:0A6F 77F400 FFFFFC  3 566137722         move    #-4,n7
P:0A71 000000         2 566337723         nop
P:0A72 5F6F00         4 566737724         move    b,y:(r7+n7)
                            37731 
                            37732 ; 1546 |    BOOL bSendToPlayerStateMachine=FALSE;
                            37733 ; 1547 |    INT iEvent;
                            37734 ; 1548 |
                            37735 ; 1549 |    // This is required to get the message into the playerstatemachine
                            37736 ; 1550 |    // casted to avoid pointer mismatch warnings
                            37737 ; 1551 |    pPtr = (int *) &gEventInfo;
                            37738 
P:0A73 66F400 rrrrrr  3 567037740         move    #FgEventInfo,r6
P:0A75 77F400 FFFFFD  3 567337743         move    #-3,n7
P:0A77 000000         2 567537744         nop
P:0A78 6E6F00         4 567937745         move    r6,y:(r7+n7)
                            37748 
                            37749 ; 1552 |
                            37750 ; 1553 |    while((!bDone) && (!bForceShutdown))
                            37751 
P:0A79 0AF080 rrrrrr  6 568537753         jmp     L670
                            37754 L659:
P:0A7B 77F400 FFFFFB  3 568837757         move    #-5,n7
P:0A7D 000000         2 569037758         nop
P:0A7E 5D6F00         4 569437759         move    b1,y:(r7+n7)
                            37762 
                            37763 ; 1554 |    {
                            37764 ; 1555 |        iEvent = SysWaitOnEvent(EVENT_MESSAGE|EVENT_BUTTON,&gEventInfo.msg,-1);
                            37765 
P:0A7F 60F400 rrrrrr  3 569737767         move    #FgEventInfo,r0
P:0A81 56F400 00000A  3 570037768         move    #>10,a
P:0A83 57F400 FFFFFF  3 570337769         move    #>-1,b
P:0A85 0BF080 rrrrrr  6 570937770         jsr     SysWaitOnEvent
                            37772 
                            37773 ; 1556 |        // Above will return when we get a message, or an interval of 1 sec
                            37774 ; 1557 |        // has passed since we last returned.
                            37775 ; 1558 |
                            37776 ; 1559 |        bSendToPlayerStateMachine = TRUE;
                            37777 
P:0A87 45F400 000001  3 571237779         move    #>1,x1
P:0A89 20A600         2 571437780         move    x1,y0
P:0A8A 045FA0         2 571637782         movec   m0,n7
P:0A8B 000000         2 571837783         nop
P:0A8C 4E6F00         4 572237784         move    y0,y:(r7+n7)
P:0A8D 77F400 FFFFFC  3 572537787         move    #-4,n7
P:0A8F 000000         2 572737788         nop
P:0A90 4CEF00         4 573137789         move    y:(r7+n7),x0
                            37792 
                            37793 ; 1560 |        //This block is for handling the player state machine related messages.
                            37794 ; 1561 |
                            37795 ; 1562 |        switch(iEvent)
                            37796 
P:0A91 200009         2 573337798         tfr     a,b
P:0A92 77F400 FFFFFE  3 573637799         move    #-2,n7
P:0A94 000000         2 573837800         nop
P:0A95 5F6F00         4 574237801         move    b,y:(r7+n7)
P:0A96 46F400 000008  3 574537802         move    #>8,y0
P:0A98 20005D         2 574737803         cmp     y0,b
P:0A99 0AF0A2 rrrrrr  6 575337804         jne     L668
                            37805 
                            37806 ; 1563 |        {
                            37807 ; 1564 |            case EVENT_BUTTON:
                            37808 ; 1565 |                switch(gEventInfo.Button.wButtonEvent)
                            37809 
P:0A9B 5EF000 rrrrrr  3 575637811         move    y:FgEventInfo,a
P:0A9D 57F400 00001A  3 575937812         move    #>26,b
P:0A9F 2A0000         2 576137813         move    #0,a2
P:0AA0 57F405 000019  3 576437814         cmp     b,a     #>25,b
P:0AA2 0AF0AA rrrrrr  6 577037815         jeq     L662
P:0AA4 57F405 000009  3 577337816         cmp     b,a     #>9,b
P:0AA6 0AF0AA rrrrrr  6 577937817         jeq     L664
P:0AA8 200005         2 578137818         cmp     b,a
P:0AA9 0AF0A2 rrrrrr  6 578737819         jne     L665
                            37820 
                            37821 ; 1566 |                {
                            37822 ; 1567 |                case PH_PLAY:
                            37823 ; 1568 |                case PH_STOP:
                            37824 ; 1569 |                    bSendToPlayerStateMachine = FALSE;
                            37825 
P:0AAB 260000         2 578937827 L662:   move    #0,y0
P:0AAC 045FA0         2 579137830         movec   m0,n7
P:0AAD 000000         2 579337831         nop
P:0AAE 4E6F00         4 579737832         move    y0,y:(r7+n7)
                            37835 
                            37836 ; 1570 |                    iShutdownCount++;  // each count = rate of button isr
                            37837 
P:0AAF 200041         2 579937839         tfr     x0,a
P:0AB0 200060         2 580137840         add     x1,a
P:0AB1 218E00         2 580337843         move    a1,a
                            37846 
                            37847 ; 1571 |                    //if(iShutdownCount > SHUTDOWN_COUNT)   // too fast if no clear display. Must be cooperative with display.c
                            37848 ; 1572 |                    if((iShutdownCount >> 1) > SHUTDOWN_COUNT)
                            37849 
P:0AB2 21C400         2 580537851         move    a,x0
P:0AB3 200022         2 580737852         asr     a
P:0AB4 218E00         2 580937853         move    a1,a
P:0AB5 47F400 000006  3 581237854         move    #>6,y1
P:0AB7 200075         2 581437855         cmp     y1,a
P:0AB8 0AF0AF rrrrrr  6 582037856         jle     L663
                            37857 
                            37858 ; 1573 |                    {
                            37859 ; 1574 |                        bForceShutdown = TRUE;
                            37860 
P:0ABA 77F400 FFFFF9  3 582337862         move    #-7,n7
P:0ABC 000000         2 582537863         nop
P:0ABD 4D6F00         4 582937864         move    x1,y:(r7+n7)
                            37865 
                            37866 ; 1575 |                                       #ifdef JANUS
                            37867 ; 1576 |                                    if ((CleanDataStoreFlag == 1) && (LicenseDeleted==1))
                            37868 ; 1577 |                                        {
                            37869 ; 1578 |                                                    DisplayClear();
                            37870 ; 1579 |                                                        SysCallFunction(RSRC_DISPLAY_CODE_BANK,DisplayDefragmentstore,TRUE,
                            37871 ; 1580 |                                    0,0);
                            37872 ; 1581 |                                                 }
                            37873 ; 1582 |                                           #endif
                            37874 ; 1583 |                    } else
                            37875 
P:0ABE 0AF080 rrrrrr  6 583537877         jmp     L668
                            37878 
                            37879 ; 1584 |                        SysCallFunction(RSRC_DISPLAY_CODE_BANK,DisplayShutdownProgress,TRUE,
                            37880 ; 1585 |                            iShutdownCount,0);
                            37881 
P:0AC0 340000         2 583737883 L663:   move    #0,r4
P:0AC1 77F400 FFFFFC  3 584037884         move    #-4,n7
P:0AC3 000000         2 584237885         nop
P:0AC4 4C6F00         4 584637886         move    x0,y:(r7+n7)
P:0AC5 57F400 000001  3 584937891         move    #>1,b
P:0AC7 60F400 rrrrrr  3 585237892         move    #FDisplayShutdownProgress,r0
P:0AC9 56F400 000022  3 585537893         move    #>34,a
P:0ACB 0BF080 rrrrrr  6 586137894         jsr     SysCallFunction
P:0ACD 77F400 FFFFFC  3 586437897         move    #-4,n7
P:0ACF 000000         2 586637898         nop
P:0AD0 4CEF00         4 587037899         move    y:(r7+n7),x0
P:0AD1 45F400 000001  3 587337902         move    #>1,x1
                            37903 
                            37904 ; 1586 |                    break;
                            37905 
P:0AD3 0AF080 rrrrrr  6 587937907         jmp     L668
                            37908 
                            37909 ; 1587 |                case PR_STOP:
                            37910 ; 1588 |                    bSendToPlayerStateMachine = FALSE;
                            37911 
P:0AD5 270000         2 588137913 L664:   move    #0,y1
P:0AD6 045FA0         2 588337916         movec   m0,n7
P:0AD7 000000         2 588537917         nop
P:0AD8 4F6F00         4 588937918         move    y1,y:(r7+n7)
                            37921 
                            37922 ; 1589 |                    // Falls through to set bDone
                            37923 ; 1590 |                default:
                            37924 ; 1591 |                    bDone = TRUE;
                            37925 
P:0AD9 77F400 FFFFFB  3 589237927 L665:   move    #-5,n7
P:0ADB 000000         2 589437928         nop
P:0ADC 4D6F00         4 589837929         move    x1,y:(r7+n7)
                            37930 
                            37931 ; 1592 |                    break;
                            37932 ; 1593 |                }
                            37933 ; 1594 |                break;
                            37934 ; 1595 |        }
                            37935 
P:0ADD 77F400 FFFFFC  3 590137937 L668:   move    #-4,n7
P:0ADF 000000         2 590337938         nop
P:0AE0 4C6F00         4 590737939         move    x0,y:(r7+n7)
                            37942 
                            37943 ; 1596 |        if(bSendToPlayerStateMachine)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 145

M:ADDR CODE           CYCLES LINE SOURCELINE
                            37944 
P:0AE1 045FA0         2 590937946         movec   m0,n7
P:0AE2 000000         2 591137947         nop
P:0AE3 5FEF00         4 591537948         move    y:(r7+n7),b
P:0AE4 2B0000         2 591737949         move    #0,b2
P:0AE5 20000B         2 591937950         tst     b
P:0AE6 0AF0AA rrrrrr  6 592537953         jeq     L670
                            37954 
                            37955 ; 1597 |            SysCallFunction(RSRC_PLAY_STATE_MACHINE_CODE_BANK,HandlePlayerStateMachine,iEvent,0,pPtr);
                            37956 
P:0AE8 77F400 FFFFFD  3 592837958         move    #-3,n7
P:0AEA 000000         2 593037959         nop
P:0AEB 6CEF00         4 593437960         move    y:(r7+n7),r4
P:0AEC 240000         2 593637963         move    #0,x0
P:0AED 77F400 FFFFFE  3 593937964         move    #-2,n7
P:0AEF 000000         2 594137965         nop
P:0AF0 5FEF00         4 594537966         move    y:(r7+n7),b
P:0AF1 60F400 rrrrrr  3 594837967         move    #FHandlePlayerStateMachine,r0
P:0AF3 56F400 000011  3 595137968         move    #>17,a
P:0AF5 0BF080 rrrrrr  6 595737969         jsr     SysCallFunction
P:0AF7 77F400 FFFFFB  3 596037977 L670:   move    #-5,n7
P:0AF9 000000         2 596237978         nop
P:0AFA 5FEF00         4 596637979         move    y:(r7+n7),b
P:0AFB 2B0000         2 596837980         move    #0,b2
P:0AFC 20000B         2 597037981         tst     b
P:0AFD 0AF0A2 rrrrrr  6 597637984         jne     L671
P:0AFF 77F400 FFFFF9  3 597937985         move    #-7,n7
P:0B01 000000         2 598137986         nop
P:0B02 5EEF00         4 598537987         move    y:(r7+n7),a
P:0B03 200003         2 598737988         tst     a
P:0B04 0AF0AA rrrrrr  6 599337989         jeq     L659
                            37990 
                            37991 ; 1598 |    } // end while
                            37992 ; 1599 |
                            37993 ; 1600 |    if (bForceShutdown)
                            37994 
P:0B06 77F400 FFFFF9  3 599637996 L671:   move    #-7,n7
P:0B08 000000         2 599837997         nop
P:0B09 5EEF00         4 600237998         move    y:(r7+n7),a
P:0B0A 200003         2 600437999         tst     a
P:0B0B 0AF0AA rrrrrr  6 601038002         jeq     L680
                            38003 
                            38004 ; 1601 |    {
                            38005 ; 1602 |        //////////////////////////////////////////////////////////////////////
                            38006 ; 1603 |        //One time shutdown stuff needs to go here                          //
                            38007 ; 1604 |        //////////////////////////////////////////////////////////////////////
                            38008 ; 1605 |  #ifdef USE_PLAYLIST3
                            38009 ; 1606 |        write_detection_access(3);              //added by samuel on 31/1/05 for flash write detection
                            38010 
P:0B0D 56F400 000003  3 601338012         move    #>3,a
P:0B0F 0BF080 rrrrrr  6 601938014         jsr     Fwrite_detection_access
                            38016 
                            38017 ; 1607 |  #endif
                            38018 ; 1608 |
                            38019 ; 1609 |        if(g_wDecoderSR & DECODER_STOPPED)
                            38020 
P:0B11 56F000 rrrrrr  3 602238022         move    x:Fg_wDecoderSR,a
P:0B13 46F400 000040  3 602538023         move    #>$40,y0
P:0B15 200056         2 602738024         and     y0,a
P:0B16 2A0000         2 602938025         move    #0,a2
P:0B17 200003         2 603138026         tst     a
                            38027 
                            38028 ; 1610 |            DecoderForceInit();
                            38029 
P:0B18 0BF0A2 rrrrrr  6 603738031         jsne    DecoderForceInit
                            38032 
                            38033 ; 1611 |
                            38034 ; 1612 |        SysPostMessage(2,DECODER_STOP);
                            38035 
P:0B1A 2D0200         2 603938037         move    #2,b1
P:0B1B 290300         2 604138038         move    #3,b0
P:0B1C 595F00         2 604338039         move    b0,y:(r7)+
P:0B1D 5D5F00         2 604538041         move    b1,y:(r7)+
P:0B1E 0BF080 rrrrrr  6 605138043         jsr     FSysPostMessage
P:0B20 205700         2 605338044         move    (r7)-
P:0B21 205700         2 605538046         move    (r7)-
                            38048 
                            38049 ; 1613 |        SysPostMessage(2,ENCODER_STOP);
                            38050 
P:0B22 290200         2 605738052         move    #2,b0
P:0B23 45F400 010001  3 606038053         move    #$10001,x1
P:0B25 4D5F00         2 606238054         move    x1,y:(r7)+
P:0B26 595F00         2 606438056         move    b0,y:(r7)+
P:0B27 0BF080 rrrrrr  6 607038058         jsr     FSysPostMessage
P:0B29 205700         2 607238059         move    (r7)-
P:0B2A 205700         2 607438061         move    (r7)-
                            38063 
                            38064 ; 1614 |        if (bLowBatt)
                            38065 
P:0B2B 77F400 FFFFFA  3 607738067         move    #-6,n7
P:0B2D 000000         2 607938068         nop
P:0B2E 5FEF00         4 608338069         move    y:(r7+n7),b
P:0B2F 20000B         2 608538070         tst     b
P:0B30 0AF0AA rrrrrr  6 609138073         jeq     L673
                            38074 
                            38075 ; 1615 |        {   // display low battery message
                            38076 ; 1616 |            DisplayClear();
                            38077 
P:0B32 0BF080 rrrrrr  6 609738079         jsr     FDisplayClear
                            38081 
                            38082 ; 1617 |            DisplayLowBattery();
                            38083 
P:0B34 0BF080 rrrrrr  6 610338085         jsr     FDisplayLowBattery
                            38086 
                            38087 ; 1618 |            SysWaitOnEvent(0,0,700);  // let user see it
                            38088 
P:0B36 0AF080 rrrrrr  6 610938090         jmp     L674
                            38091 
                            38092 ; 1619 |        }
                            38093 ; 1620 |        else
                            38094 ; 1621 |                {
                            38095 ; 1622 |                SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,0,RSRC_JVJ_SHUTDOWN_PLAYER+g_iLanguage);
                            38096 
P:0B38 240000         2 611138098 L673:   move    #0,x0
P:0B39 5FF000 rrrrrr  3 611438099         move    y:Fg_iLanguage,b
P:0B3B 45F400 0004F8  3 611738100         move    #1272,x1
P:0B3D 200068         2 611938101         add     x1,b
P:0B3E 200013         2 612138102         clr     a   
P:0B3F 5D5F00         2 612338103         move    b1,y:(r7)+
P:0B40 5C5F00         2 612538105         move    a1,y:(r7)+
P:0B41 4C5F00         2 612738107         move    x0,y:(r7)+
P:0B42 47F400 030001  3 613038109         move    #$30001,y1
P:0B44 4F5F00         2 613238110         move    y1,y:(r7)+
P:0B45 290500         2 613438112         move    #5,b0
P:0B46 595F00         2 613638113         move    b0,y:(r7)+
P:0B47 0BF080 rrrrrr  6 614238115         jsr     FSysPostMessage
P:0B49 3F0500         2 614438116         move    #5,n7
P:0B4A 000000         2 614638117         nop
P:0B4B 204700         2 614838118         move    (r7)-n7
                            38120 
                            38121 ; 1623 |                SysWaitOnEvent(0,0,700);  // let user see it
                            38122 
P:0B4C 20001B         2 615038124 L674:   clr     b   
P:0B4D 21B000         2 615238125         move    b1,r0
P:0B4E 200013         2 615438126         clr     a   
P:0B4F 57F400 0002BC  3 615738127         move    #700,b
P:0B51 0BF080 rrrrrr  6 616338128         jsr     SysWaitOnEvent
                            38129 
                            38130 ; 1624 |                }
                            38131 ; 1625 |
                            38132 ; 1626 |#ifdef  AUDIBLE
                            38133 ; 1627 |                // If an Audible file, save the playback position now.
                            38134 ; 1628 |                if ( g_AudibleFlags.bits.IsAudibleFile ) {
                            38135 ; 1629 |                        SysCallFunction(RSRC_PLAY_STATE_MACHINE_CODE_BANK, AudibleStopAndSave, FALSE, 0, 0 );
                            38136 ; 1630 |                }
                            38137 ; 1631 |#endif
                            38138 ; 1632 |#ifndef REMOVE_FM
                            38139 ; 1633 |        SysPostMessage(2,TUNER_POWER_OFF);      // powerdown the FM Tuner
                            38140 
P:0B53 290200         2 616538142         move    #2,b0
P:0B54 45F400 080008  3 616838143         move    #524296,x1
P:0B56 4D5F00         2 617038144         move    x1,y:(r7)+
P:0B57 595F00         2 617238146         move    b0,y:(r7)+
P:0B58 0BF080 rrrrrr  6 617838148         jsr     FSysPostMessage
P:0B5A 205700         2 618038149         move    (r7)-
P:0B5B 205700         2 618238151         move    (r7)-
                            38153 
                            38154 ; 1634 |#endif
                            38155 ; 1635 |#ifdef USE_PLAYLIST3
                            38156 ; 1636 |                SysWaitOnEvent(0,0,0);  // let user see it
                            38157 
P:0B5C 200013         2 618438159         clr     a   
P:0B5D 300000         2 618638160         move    #0,r0
P:0B5E 20001B         2 618838161         clr     b   
P:0B5F 0BF080 rrrrrr  6 619438162         jsr     SysWaitOnEvent
                            38163 
                            38164 ; 1637 |                if (g_ML_save_on_exit == 1) {
                            38165 
P:0B61 5FF000 rrrrrr  3 619738167         move    y:Fg_ML_save_on_exit,b
P:0B63 46F400 000001  3 620038168         move    #>1,y0
P:0B65 20005D         2 620238169         cmp     y0,b
P:0B66 0AF0A2 rrrrrr  6 620838170         jne     L675
                            38171 
                            38172 ; 1638 |                        ML_building_engine_init();
                            38173 
P:0B68 0BF080 rrrrrr  6 621438175         jsr     FML_building_engine_init
                            38176 
                            38177 ; 1639 |                        SysLoadFATWrite();
                            38178 
P:0B6A 0BF080 rrrrrr  6 622038180         jsr     SysLoadFATWrite
                            38181 
                            38182 ; 1640 |                        ML_SaveOnTheGo();
                            38183 
P:0B6C 0BF080 rrrrrr  6 622638185         jsr     FML_SaveOnTheGo
                            38186 
                            38187 ; 1641 |                        SysUnLoadFATWrite();
                            38188 
P:0B6E 0BF080 rrrrrr  6 623238190         jsr     SysUnLoadFATWrite
                            38191 
                            38192 ; 1642 |                }
                            38193 ; 1643 |#endif // #ifdef USE_PLAYLIST3
                            38194 ; 1644 |        while(!((g_wDecoderSR & DECODER_STOPPED)))
                            38195 
P:0B70 0AF080 rrrrrr  6 623838197 L675:   jmp     L677
                            38198 
                            38199 ; 1645 |            SysWaitOnEvent(0,0,100);  // let user see it
                            38200 
P:0B72 300000         2 624038202 L676:   move    #0,r0
P:0B73 200013         2 624238203         clr     a   
P:0B74 57F400 000064  3 624538204         move    #>100,b
P:0B76 0BF080 rrrrrr  6 625138205         jsr     SysWaitOnEvent
P:0B78 54F000 rrrrrr  3 625438207 L677:   move    x:Fg_wDecoderSR,a1
P:0B7A 45F400 000040  3 625738208         move    #>$40,x1
P:0B7C 200066         2 625938209         and     x1,a
P:0B7D 218E00         2 626138210         move    a1,a
P:0B7E 2A0000         2 626338211         move    #0,a2
P:0B7F 200003         2 626538212         tst     a
P:0B80 0AF0AA rrrrrr  6 627138213         jeq     L676
                            38214 
                            38215 ; 1646 |
                            38216 ; 1647 |        #ifdef JANUS
                            38217 ; 1648 |        if ((CleanDataStoreFlag == 1) && (LicenseDeleted==1))
                            38218 ; 1649 |        {
                            38219 ; 1650 |            JanusCleanDataStore();
                            38220 ; 1651 |            CleanDataStoreFlag = 0;
                            38221 ; 1652 |            LicenseDeleted=0;
                            38222 ; 1653 |        }
                            38223 ; 1654 |        #endif
                            38224 ; 1655 |
                            38225 ; 1656 |
                            38226 ; 1657 |        //////////////////////////////////////////////////////////////////////
                            38227 ; 1658 |        // Note: Don't DisplayClear() until the settings file is saved!!
                            38228 ; 1659 |        // Ask the system to shut down and halt the user interface thread.
                            38229 ; 1660 |        //SysLoadFATWrite();    // Don't need to call SysLoadFATWrite() if SaveUserTime() is moved out.
                            38230 ; 1661 |
                            38231 ; 1662 |         /*
                            38232 ; 1663 |        Call moved to function SysSaveSettings
                            38233 ; 1664 |        SaveUserTime();
                            38234 ; 1665 |        */
                            38235 ; 1666 |        SysPostMessage(2,SYSTEM_SHUTDOWN_FINAL);
                            38236 
P:0B82 290200         2 627338238         move    #2,b0
P:0B83 44F400 050002  3 627638239         move    #327682,x0
P:0B85 4C5F00         2 627838240         move    x0,y:(r7)+
P:0B86 595F00         2 628038242         move    b0,y:(r7)+
P:0B87 0BF080 rrrrrr  6 628638244         jsr     FSysPostMessage
P:0B89 205700         2 628838245         move    (r7)-
P:0B8A 205700         2 629038247         move    (r7)-
                            38249 
                            38250 ; 1667 |
                            38251 ; 1668 |        while ( g_iSysSaveSettingsDone == 0 )
                            38252 
P:0B8B 0AF080 rrrrrr  6 629638254         jmp     L679
P:0B8D 57F400 000002  3 629938255 L678:   move    #>2,b
P:0B8F 300000         2 630138256         move    #0,r0
P:0B90 200013         2 630338257         clr     a   
                            38258 
                            38259 ; 1669 |        {   SysWaitOnEvent(0,0,2);
                            38260 
P:0B91 0BF080 rrrrrr  6 630938262         jsr     SysWaitOnEvent
P:0B93 5FF000 rrrrrr  3 631238264 L679:   move    y:Fg_iSysSaveSettingsDone,b
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 146

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0B95 20000B         2 631438265         tst     b
P:0B96 0AF0AA rrrrrr  6 632038266         jeq     L678
                            38267 
                            38268 ; 1670 |        }
                            38269 ; 1671 |        // Settings file has been saved to persistent storage media.
                            38270 ; 1672 |        DisplayClear();               // LCD module clears display after settings saved.
                            38271 
P:0B98 0BF080 rrrrrr  6 632638273         jsr     FDisplayClear
                            38274 
                            38275 ; 1673 |
                            38276 ; 1674 |        SysWaitOnEvent(0,0,-1);       // Wait on nothing. Sleep forever.
                            38277 
P:0B9A 200013         2 632838279         clr     a   
P:0B9B 300000         2 633038280         move    #0,r0
P:0B9C 57F400 FFFFFF  3 633338281         move    #>-1,b
P:0B9E 0BF080 rrrrrr  6 633938282         jsr     SysWaitOnEvent
                            38283 
                            38284 ; 1675 |        //////////////////////////////////////////////////////////////////////
                            38285 ; 1676 |    }
                            38286 ; 1677 |    return 0;
                            38287 
P:0BA0 200013         2 634138289 L680:   clr     a   
P:0BA1 218E00         2 634338290         move    a1,a
                            38291 
                            38292 ; 1678 |}
                            38293 
P:0BA2 77F400 FFFFF8  3 634638295         move    #-8,n7
P:0BA4 000000         2 634838296         nop
P:0BA5 05EF7C         4 635238297         movec   y:(r7+n7),ssh
P:0BA6 204F00         2 635438299         move    (r7)+n7
P:0BA7 00000C         4 635838301         rts
                            38305 
                            38306 ; 1679 |
                            38307 ; 1680 |
                            38308 ; 1681 |
                            38309 ; 1682 |/////////////////////////////////////////////////////////////////////////////////////////
                            38310 ; 1683 |//
                            38311 ; 1684 |//>  Name:          _reentrant int SplashScreen( int iResource, int iTime, int *pPtr)
                            38312 ; 1685 |//
                            38313 ; 1686 |//   Type:          Function (menu)
                            38314 ; 1687 |//
                            38315 ; 1688 |//   Description:   Display the given resource for iTime millisec
                            38316 ; 1689 |//
                            38317 ; 1690 |//
                            38318 ; 1691 |//   Inputs:        iResource is the resource to display
                            38319 ; 1692 |//                  iTime is display time in millisec to splash the resource onscreen
                            38320 ; 1693 |//                  pPtr is a pointer to a struct CMessage buffer to recieve messages into
                            38321 ; 1694 |//
                            38322 ; 1695 |//   Outputs:       0
                            38323 ; 1696 |//
                            38324 ; 1697 |//   Notes:
                            38325 ; 1698 |//<
                            38326 ; 1699 |//////////////////////////////////////////////////////////////////////////////////////////
                            38327 ; 1700 |_reentrant int SplashScreen( int iResource, int iTime, int *pPtr)
                            38328 ; 1701 |//////////////////////////////////////////////////////////////////////
                            38329 ; 1702 |{
                            38330 
                            38335 FSplashScreen:
P:0BA8 055F7C         2 636038336         movec   ssh,y:(r7)+
P:0BA9 3F0700         2 636238339         move    #7,n7
P:0BAA 000000         2 636438340         nop
P:0BAB 204F00         2 636638341         move    (r7)+n7
                            38351 
                            38352 ; 1703 |    BOOL bDone = FALSE;
                            38353 
P:0BAC 77F400 FFFFFA  3 636938355         move    #-6,n7
P:0BAE 000000         2 637138356         nop
P:0BAF 5C6F00         4 637538357         move    a1,y:(r7+n7)
P:0BB0 77F400 FFFFFB  3 637838361         move    #-5,n7
P:0BB2 000000         2 638038362         nop
P:0BB3 586F00         4 638438363         move    a0,y:(r7+n7)
                            38371 
                            38372 ; 1704 |    BOOL bSendToPlayerStateMachine;
                            38373 ; 1705 |    union DisplayHints DisplayHint;
                            38374 ; 1706 |    LONG iFinishTime = (LONG)iTime + SysGetCurrentTime();
                            38375 
P:0BB4 21A900         2 638638377         move    b1,b0
P:0BB5 216D00         2 638838378         move    b2,b1
P:0BB6 77F400 FFFFFC  3 639138379         move    #-4,n7
P:0BB8 205F00         2 639338380         move    (r7)+
P:0BB9 5D6F00         4 639738382         move    b1,y:(r7+n7)
P:0BBA 205700         2 639938383         move    (r7)-
P:0BBB 596F00         4 640338385         move    b0,y:(r7+n7)
P:0BBC 0BF080 rrrrrr  6 640938386         jsr     SysGetCurrentTime
P:0BBE 77F400 FFFFFC  3 641238389         move    #-4,n7
P:0BC0 205F00         2 641438390         move    (r7)+
P:0BC1 5FEF00         4 641838392         move    y:(r7+n7),b
P:0BC2 205700         2 642038393         move    (r7)-
P:0BC3 59EF00         4 642438395         move    y:(r7+n7),b0
P:0BC4 200018         2 642638396         add     a,b
P:0BC5 77F400 FFFFFE  3 642938397         move    #-2,n7
P:0BC7 205F00         2 643138398         move    (r7)+
P:0BC8 5D6F00         4 643538400         move    b1,y:(r7+n7)
P:0BC9 205700         2 643738401         move    (r7)-
P:0BCA 596F00         4 644138403         move    b0,y:(r7+n7)
                            38409 
                            38410 ; 1707 |    INT   iTimeToWait;
                            38411 ; 1708 |    int iEvent;
                            38412 ; 1709 |
                            38413 ; 1710 |    DisplayHint.I = 0xffffff;
                            38414 
P:0BCB 50F400 FFFFFF  3 644438416         move    #$FFFFFF,a0
P:0BCD 77F400 FFFFF9  3 644738417         move    #-7,n7
P:0BCF 000000         2 644938418         nop
P:0BD0 586F00         4 645338419         move    a0,y:(r7+n7)
                            38420 
                            38421 ; 1711 |    while(!bDone)
                            38422 
P:0BD1 0AF080 rrrrrr  6 645938424         jmp     L691
                            38425 
                            38426 ; 1712 |    {
                            38427 ; 1713 |
                            38428 ; 1714 |        //keep only display hints we're interested in displaying in this menu.
                            38429 ; 1715 |        DisplayHint.I &= (SPLASH_MENU_DISPLAY_ALL|(1<<DISPLAY_CLEAR_DISPLAY_BITPOS));
                            38430 
P:0BD3 77F400 FFFFF9  3 646238432 L681:   move    #-7,n7
P:0BD5 000000         2 646438433         nop
P:0BD6 5FEF00         4 646838434         move    y:(r7+n7),b
P:0BD7 46F400 707E11  3 647138435         move    #7372305,y0
P:0BD9 20005E         2 647338436         and     y0,b
P:0BDA 5D6F00         4 647738437         move    b1,y:(r7+n7)
                            38438 
                            38439 ; 1716 |        if(DisplayHint.I)
                            38440 
P:0BDB 2B0000         2 647938442         move    #0,b2
P:0BDC 20000B         2 648138443         tst     b
P:0BDD 0AF0AA rrrrrr  6 648738444         jeq     L682
                            38445 
                            38446 ; 1717 |        {
                            38447 ; 1718 |            SysCallFunction(RSRC_DISPLAY_CODE_BANK,RefreshDisplay,DisplayHint.I,1,0);
                            38448 
P:0BDF 340000         2 648938450         move    #0,r4
P:0BE0 44F400 000001  3 649238451         move    #>1,x0
P:0BE2 56F400 000022  3 649538452         move    #>34,a
P:0BE4 60F400 rrrrrr  3 649838453         move    #FRefreshDisplay,r0
P:0BE6 21AF00         2 650038454         move    b1,b
P:0BE7 0BF080 rrrrrr  6 650638455         jsr     SysCallFunction
                            38456 
                            38457 ; 1719 |            SysPostMessage(5,LCD_PRINT_RANGE_RSRC,SPLASH_SCREEN_X_POS,SPLASH_SCREEN_Y_POS,iResource);
                            38458 
P:0BE9 200013         2 650838460         clr     a   
P:0BEA 77F400 FFFFFA  3 651138461         move    #-6,n7
P:0BEC 000000         2 651338462         nop
P:0BED 4EEF00         4 651738463         move    y:(r7+n7),y0
P:0BEE 20001B         2 651938466         clr     b   
P:0BEF 4E5F00         2 652138467         move    y0,y:(r7)+
P:0BF0 5D5F00         2 652338470         move    b1,y:(r7)+
P:0BF1 5C5F00         2 652538472         move    a1,y:(r7)+
P:0BF2 45F400 030001  3 652838474         move    #$30001,x1
P:0BF4 4D5F00         2 653038475         move    x1,y:(r7)+
P:0BF5 290500         2 653238477         move    #5,b0
P:0BF6 595F00         2 653438478         move    b0,y:(r7)+
P:0BF7 0BF080 rrrrrr  6 654038480         jsr     FSysPostMessage
P:0BF9 3F0500         2 654238481         move    #5,n7
P:0BFA 000000         2 654438482         nop
P:0BFB 204700         2 654638483         move    (r7)-n7
                            38485 
                            38486 ; 1720 |            DisplayHint.I = 0;//clear out the bits
                            38487 
P:0BFC 200013         2 654838489         clr     a   
P:0BFD 77F400 FFFFF9  3 655138490         move    #-7,n7
P:0BFF 000000         2 655338491         nop
P:0C00 5C6F00         4 655738492         move    a1,y:(r7+n7)
                            38493 
                            38494 ; 1721 |            SysWaitOnEvent(0,0,1);//need this wait here so the splash screen comes up ASAP.
                            38495 
P:0C01 300000         2 655938497         move    #0,r0
P:0C02 57F400 000001  3 656238498         move    #>1,b
P:0C04 0BF080 rrrrrr  6 656838499         jsr     SysWaitOnEvent
                            38500 
                            38501 ; 1722 |            // If a lot is happening in the menus, the display won't get to run
                            38502 ; 1723 |            // until everything is finished in the menus. By then the timeout
                            38503 ; 1724 |            // is just about expired.
                            38504 ; 1725 |        }
                            38505 ; 1726 |        iTimeToWait = (LONG)(iFinishTime - (LONG)SysGetCurrentTime());
                            38506 
P:0C06 0BF080 rrrrrr  6 657438508 L682:   jsr     SysGetCurrentTime
P:0C08 77F400 FFFFFE  3 657738509         move    #-2,n7
P:0C0A 205F00         2 657938510         move    (r7)+
P:0C0B 5FEF00         4 658338512         move    y:(r7+n7),b
P:0C0C 205700         2 658538513         move    (r7)-
P:0C0D 59EF00         4 658938515         move    y:(r7+n7),b0
P:0C0E 20001C         2 659138516         sub     a,b
                            38518 
                            38519 ; 1727 |        if(iTimeToWait > 0)
                            38520 
P:0C0F 212F00         2 659338522         move    b0,b
P:0C10 21E600         2 659538523         move    b,y0
P:0C11 20000B         2 659738524         tst     b
P:0C12 0AF0AF rrrrrr  6 660338526         jle     L688
                            38527 
                            38528 ; 1728 |        {
                            38529 ; 1729 |            iEvent = SysWaitOnEvent(EVENT_MESSAGE,&gEventInfo.msg, iTimeToWait);
                            38530 
P:0C14 60F400 rrrrrr  3 660638532         move    #FgEventInfo,r0
P:0C16 56F400 000002  3 660938533         move    #>2,a
P:0C18 0BF080 rrrrrr  6 661538534         jsr     SysWaitOnEvent
P:0C1A 64F400 rrrrrr  3 661838535         move    #FgEventInfo,r4
                            38537 
                            38538 ; 1730 |
                            38539 ; 1731 |            //Lets assume we do want to send all these to the player state machine
                            38540 ; 1732 |
                            38541 ; 1733 |            switch(iEvent)
                            38542 
P:0C1C 200009         2 662038544         tfr     a,b
P:0C1D 56F400 000002  3 662338545         move    #>2,a
P:0C1F 56F40D 000004  3 662638546         cmp     a,b     #>4,a
P:0C21 0AF0AA rrrrrr  6 663238547         jeq     L684
P:0C23 20000D         2 663438548         cmp     a,b
P:0C24 0AF0A2 rrrrrr  6 664038549         jne     L685
                            38550 
                            38551 ; 1734 |            {
                            38552 ; 1735 |            case EVENT_TIMER:
                            38553 ; 1736 |                // Don't need to send this to the player state machine
                            38554 ; 1737 |                bSendToPlayerStateMachine = FALSE;
                            38555 
P:0C26 200013         2 664238557         clr     a   
                            38559 
                            38560 ; 1738 |                bDone = TRUE;
                            38561 
P:0C27 46F400 000001  3 664538563         move    #>1,y0
P:0C29 77F400 FFFFFB  3 664838566         move    #-5,n7
P:0C2B 000000         2 665038567         nop
P:0C2C 4E6F00         4 665438568         move    y0,y:(r7+n7)
                            38571 
                            38572 ; 1739 |                break;
                            38573 
P:0C2D 0AF080 rrrrrr  6 666038575         jmp     L687
                            38576 
                            38577 ; 1740 |            case EVENT_MESSAGE:
                            38578 ; 1741 |                bSendToPlayerStateMachine = TRUE;
                            38579 
P:0C2F 56F400 000001  3 666338581 L684:   move    #>1,a
                            38582 
                            38583 ; 1742 |                break;
                            38584 
P:0C31 0AF080 rrrrrr  6 666938586         jmp     L687
                            38587 
                            38588 ; 1743 |            default:
                            38589 ; 1744 |                bSendToPlayerStateMachine = FALSE;
                            38590 
P:0C33 200013         2 667138592 L685:   clr     a   
                            38593 
                            38594 ; 1745 |                break;
                            38595 ; 1746 |            }
                            38596 ; 1747 |            if(bSendToPlayerStateMachine)
                            38597 
P:0C34 2A0000         2 667338599 L687:   move    #0,a2
P:0C35 200003         2 667538600         tst     a
P:0C36 0AF0AA rrrrrr  6 668138601         jeq     L691
                            38602 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 147

M:ADDR CODE           CYCLES LINE SOURCELINE
                            38603 ; 1748 |            {//only send events to the player state machine if necessary (to avoid code bank swapping)
                            38604 ; 1749 |                DisplayHint.I |= SysCallFunction(RSRC_PLAY_STATE_MACHINE_CODE_BANK,HandlePlayerStateMachine,iEvent,0,(void*)&gEventInfo.msg);
                            38605 
P:0C38 240000         2 668338607         move    #0,x0
P:0C39 60F400 rrrrrr  3 668638608         move    #FHandlePlayerStateMachine,r0
P:0C3B 56F400 000011  3 668938609         move    #>17,a
P:0C3D 0BF080 rrrrrr  6 669538610         jsr     SysCallFunction
P:0C3F 77F400 FFFFF9  3 669838613         move    #-7,n7
P:0C41 000000         2 670038614         nop
P:0C42 5DEF00         4 670438615         move    y:(r7+n7),b1
P:0C43 21C600         2 670638616         move    a,y0
P:0C44 20005A         2 670838617         or      y0,b
P:0C45 5D6F00         4 671238618         move    b1,y:(r7+n7)
                            38619 
                            38620 ; 1750 |                //or the display hints returned with the current collection of hints
                            38621 ; 1751 |            }
                            38622 ; 1752 |        }
                            38623 
P:0C46 0AF080 rrrrrr  6 671838625         jmp     L691
                            38626 
                            38627 ; 1753 |        else
                            38628 ; 1754 |        {
                            38629 ; 1755 |            bDone = TRUE;
                            38630 
P:0C48 44F400 000001  3 672138632 L688:   move    #>1,x0
P:0C4A 77F400 FFFFFB  3 672438635         move    #-5,n7
P:0C4C 000000         2 672638636         nop
P:0C4D 4C6F00         4 673038637         move    x0,y:(r7+n7)
P:0C4E 77F400 FFFFFB  3 673338641 L691:   move    #-5,n7
P:0C50 000000         2 673538642         nop
P:0C51 5FEF00         4 673938643         move    y:(r7+n7),b
P:0C52 2B0000         2 674138644         move    #0,b2
P:0C53 20000B         2 674338645         tst     b
P:0C54 0AF0AA rrrrrr  6 674938646         jeq     L681
                            38647 
                            38648 ; 1756 |        }
                            38649 ; 1757 |
                            38650 ; 1758 |    }
                            38651 ; 1759 |    return 0;
                            38652 
P:0C56 200013         2 675138654         clr     a   
P:0C57 218E00         2 675338655         move    a1,a
                            38656 
                            38657 ; 1760 |
                            38658 ; 1761 |}
                            38659 
P:0C58 77F400 FFFFF8  3 675638661         move    #-8,n7
P:0C5A 000000         2 675838662         nop
P:0C5B 05EF7C         4 676238663         movec   y:(r7+n7),ssh
P:0C5C 204F00         2 676438665         move    (r7)+n7
P:0C5D 00000C         4 676838667         rts
                            38671 
                            38672 ; 1762 |#ifdef USE_PLAYLIST3
                            38673 ; 1763 |#pragma asm
Y:0000                      38678     org y,"Player_settings_Y":
                            38679     extern y:FhasInsertSD
                            38680     extern y:FsongPath
                            38681     extern y:Fplay_flash_name_list_size
                            38682     extern y:Fplay_sd_name_list_size
                            38683     extern y:Forg_songPath
                            38684     extern y:Forg_play_flash_name_list_size
                            38685     extern y:Forg_play_sd_name_list_size
                            38686     extern y:Forg_currentPlayAllLevel
                            38687     extern y:Fplay_flash_window_pos
                            38688     extern y:Fplay_sd_window_pos
                            38689     extern y:Fplay_total_merge_num_item
                            38690     extern y:Fplay_window_merge_index
                            38691     extern y:FplayAllLevel
                            38692     extern y:FisPlayAll
                            38693     extern y:FlastPlaySongLevel
                            38694     extern y:FcurrentPlayAllLevel
                            38695     extern y:FplayMode
                            38696     extern y:FlastSongID
                            38697     extern y:Fg_current_play_all
                            38698     extern y:FsongIndexInMedia
                            38699 
                            38700     extern y:Fg_DriveFlushCnt
                            38701 
                            38702     SaveRange FhasInsertSD,1
                            38702 
                            38702 
Y:0000 rrrrrr               38702     dc      $400000|FhasInsertSD
                            38702 
                            38702 
                            38702 
                            38702 
Y:0001 000003               38702     dc      1*3
                            38703     SaveRange FsongPath,5
                            38703 
                            38703 
Y:0002 rrrrrr               38703     dc      $400000|FsongPath
                            38703 
                            38703 
                            38703 
                            38703 
Y:0003 00000F               38703     dc      5*3
                            38704     SaveRange Fplay_flash_name_list_size,1
                            38704 
                            38704 
Y:0004 rrrrrr               38704     dc      $400000|Fplay_flash_name_list_size
                            38704 
                            38704 
                            38704 
                            38704 
Y:0005 000003               38704     dc      1*3
                            38705     SaveRange Fplay_sd_name_list_size,1
                            38705 
                            38705 
Y:0006 rrrrrr               38705     dc      $400000|Fplay_sd_name_list_size
                            38705 
                            38705 
                            38705 
                            38705 
Y:0007 000003               38705     dc      1*3
                            38706     SaveRange Forg_songPath,5
                            38706 
                            38706 
Y:0008 rrrrrr               38706     dc      $400000|Forg_songPath
                            38706 
                            38706 
                            38706 
                            38706 
Y:0009 00000F               38706     dc      5*3
                            38707     SaveRange Forg_play_flash_name_list_size,1
                            38707 
                            38707 
Y:000A rrrrrr               38707     dc      $400000|Forg_play_flash_name_list_size
                            38707 
                            38707 
                            38707 
                            38707 
Y:000B 000003               38707     dc      1*3
                            38708     SaveRange Forg_play_sd_name_list_size,1
                            38708 
                            38708 
Y:000C rrrrrr               38708     dc      $400000|Forg_play_sd_name_list_size
                            38708 
                            38708 
                            38708 
                            38708 
Y:000D 000003               38708     dc      1*3
                            38709     SaveRange Forg_currentPlayAllLevel,1
                            38709 
                            38709 
Y:000E rrrrrr               38709     dc      $400000|Forg_currentPlayAllLevel
                            38709 
                            38709 
                            38709 
                            38709 
Y:000F 000003               38709     dc      1*3
                            38710     SaveRange Fplay_flash_window_pos,1
                            38710 
                            38710 
Y:0010 rrrrrr               38710     dc      $400000|Fplay_flash_window_pos
                            38710 
                            38710 
                            38710 
                            38710 
Y:0011 000003               38710     dc      1*3
                            38711     SaveRange Fplay_sd_window_pos,1
                            38711 
                            38711 
Y:0012 rrrrrr               38711     dc      $400000|Fplay_sd_window_pos
                            38711 
                            38711 
                            38711 
                            38711 
Y:0013 000003               38711     dc      1*3
                            38712     SaveRange Fplay_total_merge_num_item,1
                            38712 
                            38712 
Y:0014 rrrrrr               38712     dc      $400000|Fplay_total_merge_num_item
                            38712 
                            38712 
                            38712 
                            38712 
Y:0015 000003               38712     dc      1*3
                            38713     SaveRange Fplay_window_merge_index,1
                            38713 
                            38713 
Y:0016 rrrrrr               38713     dc      $400000|Fplay_window_merge_index
                            38713 
                            38713 
                            38713 
                            38713 
Y:0017 000003               38713     dc      1*3
                            38714     SaveRange FplayAllLevel,1
                            38714 
                            38714 
Y:0018 rrrrrr               38714     dc      $400000|FplayAllLevel
                            38714 
                            38714 
                            38714 
                            38714 
Y:0019 000003               38714     dc      1*3
                            38715     SaveRange FisPlayAll,1
                            38715 
                            38715 
Y:001A rrrrrr               38715     dc      $400000|FisPlayAll
                            38715 
                            38715 
                            38715 
                            38715 
Y:001B 000003               38715     dc      1*3
                            38716     SaveRange FlastPlaySongLevel,1
                            38716 
                            38716 
Y:001C rrrrrr               38716     dc      $400000|FlastPlaySongLevel
                            38716 
                            38716 
                            38716 
                            38716 
Y:001D 000003               38716     dc      1*3
                            38717     SaveRange FcurrentPlayAllLevel,1
                            38717 
                            38717 
Y:001E rrrrrr               38717     dc      $400000|FcurrentPlayAllLevel
                            38717 
                            38717 
                            38717 
                            38717 
Y:001F 000003               38717     dc      1*3
                            38718     SaveRange FplayMode,1
                            38718 
                            38718 
Y:0020 rrrrrr               38718     dc      $400000|FplayMode
                            38718 
                            38718 
                            38718 
                            38718 
Y:0021 000003               38718     dc      1*3
                            38719     SaveRange FlastSongID,1
                            38719 
                            38719 
Y:0022 rrrrrr               38719     dc      $400000|FlastSongID
                            38719 
                            38719 
                            38719 
                            38719 
Y:0023 000003               38719     dc      1*3
                            38720     SaveRange Fg_current_play_all,1
                            38720 
                            38720 
Y:0024 rrrrrr               38720     dc      $400000|Fg_current_play_all
                            38720 
                            38720 
                            38720 
                            38720 
Y:0025 000003               38720     dc      1*3
                            38721     SaveRange FsongIndexInMedia,2
                            38721 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 148

M:ADDR CODE           CYCLES LINE SOURCELINE
                            38721 
Y:0026 rrrrrr               38721     dc      $400000|FsongIndexInMedia
                            38721 
                            38721 
                            38721 
                            38721 
Y:0027 000006               38721     dc      2*3
                            38722 
                            38723     SaveRange Fg_DriveFlushCnt,1
                            38723 
                            38723 
Y:0028 rrrrrr               38723     dc      $400000|Fg_DriveFlushCnt
                            38723 
                            38723 
                            38723 
                            38723 
Y:0029 000003               38723     dc      1*3
                            38724 
                            38725 ; 1815 |#pragma endasm
                            38726 ; 1816 |#endif
                            38727 
                            38754 
                            38757 
Y:0000                      38758         org     y,".ybssmainmenu",bss:
                            38759 Fg_current_index:
Y:0000 RESERVED             38760         ds      1
Y:0000
                            38779 Fg_isRebuildSecTableFile:
Y:0001 RESERVED             38780         ds      1
Y:0001
                            38801 FgEventInfo:
Y:0002                      38802         ds      11
   |   RESERVED                   
Y:000C
                            38823 Fg_iFileHandle:
Y:000D RESERVED             38824         ds      1
Y:000D
                            38840 Fg_current_size:
Y:000E RESERVED             38841         ds      1
Y:000E
                            38842 
Y:0000                      38843         org     y,".yconstmainmenu",const:
Y:0000 000072 000000        38845 L22:    dc      "r"++$00
                            38862 
Y:000F                      38863         org     y,".ybssmainmenu",bss:
                            38864 Fg_iCheckDiskError:
Y:000F RESERVED             38865         ds      1
Y:000F
                            38903 
                            38904         extern  DecoderForceInit, SysCallFunction, SysGetCurrentTime
                            38905         extern  SysLoadFATWrite, SysUnLoadFATWrite, SysWaitOnEvent
                            38906         extern  FAboutMenu, FAddVoiceEntry, FBrowseMenu, y:FBtl_Flags
                            38907         extern  FBuildLINEINFilePath, FClearStickyBit, FDeleteMenu
                            38908         extern  FDisplayClear, FDisplayLowBattery
                            38909         extern  FDisplayShutdownProgress, FDriveFlush, FFMTunerMenu
                            38910         extern  FFSChangeDir, FFSCreateDir, FFSFileClose, FFSFileCreate
                            38911         extern  FFSFileDelete, FFSFileSize, FFSFileWrite, FFSFreeSpace
                            38912         extern  FFclose, FFopen, FHandlePlayerStateMachine
                            38913         extern  FML_BuildSecTableFile, FML_Buildl2SecTable
                            38914         extern  FML_SaveOnTheGo, FML_browsing_app_init, FMusicMenu
                            38915         extern  FPlayMusicMenu, FRecordVoiceFile, FRefreshDisplay, FSendEQ
                            38916         extern  FSetPwrSetting, FSettingsMenu, FSysPostMessage
                            38917         extern  FSysSpeedClockFree, FSysSpeedIncrease, FSysUpdateVolume
                            38918         extern  FTimeDateMenu, FUpdateAutoShutdownTimer, FVoiceMenu
                            38919         extern  Ffilegetattrib, Ffilegetdate, Ffilesetattrib, Ffilesetdate
                            38920         extern  y:Fg_ADCsource, y:Fg_FSinitErrorCode, y:Fg_Rebuild
                            38921         extern  y:Fg_RecorderSettings, y:Fg_iAB_Control_Mode
                            38922         extern  y:Fg_iBackLightState, y:Fg_iContrastPercentage
                            38923         extern  y:Fg_iEqSetting, y:Fg_iLanguage, y:Fg_iMediaErrorFlag
                            38924         extern  y:Fg_iSysSaveSettingsDone, y:Fg_iUserVolume
                            38925         extern  x:Fg_wDecoderSR, y:Fg_wPwrSettings, x:Fl2_sector_table
                            38926         extern  Fwrite_detection_access
                            38927 
                            38928         global  FCreateDataFolder, FML_building_engine_init
                            38929         global  FML_voice_engine_init, FShutdownMenu, FSplashScreen
                            38930         global  FTryToRegenerateEmptyMusicLib, FUserTask, Fdirdate
                            38931         global  Fdirtime, FgEventInfo, Fg_DataTagName, Fg_DriveFlushCnt
                            38932         global  Fg_ML_save_on_exit, Fg_MenuFlags, Fg_current_index
                            38933         global  Fg_current_size, Fg_iCheckDiskError, Fg_iCurrentMenu
                            38934         global  Fg_iFileHandle, Fg_isRebuildSecTableFile
                            38935         global  Fg_rsrc_Flash_Error, Fg_rsrc_TimeDate_CodeBank
                            38936         global  Fg_strMusicLib_FilePath, Fg_strMusicLib_SecTable_FilePath
                            38937         global  Fg_wLastButton
                            38938 
                            38939         local   L13, L14, L15, L16, L17, L19, L20, L22, L449, L450, L451
                            38940         local   L452, L455, L456, L457, L458, L459, L460, L462, L463, L464
                            38941         local   L465, L466, L469, L470, L471, L474, L475, L477, L478, L482
                            38942         local   L483, L484, L485, L486, L487, L488, L489, L490, L491, L492
                            38943         local   L494, L495, L497, L498, L499, L501, L502, L504, L505, L506
                            38944         local   L507, L508, L509, L510, L512, L513, L514, L515, L516, L529
                            38945         local   L530, L531, L532, L533, L535, L537, L538, L539, L540, L541
                            38946         local   L542, L543, L544, L545, L546, L547, L558, L559, L560, L562
                            38947         local   L564, L565, L566, L567, L568, L575, L583, L584, L585, L587
                            38948         local   L588, L589, L590, L591, L659, L662, L663, L664, L665, L668
                            38949         local   L670, L671, L673, L674, L675, L676, L677, L678, L679, L680
                            38950         local   L681, L682, L684, L685, L687, L688, L691
                            38951 
                            38952         calls   "CreateDataFolder", "FSChangeDir", "FSCreateDir", "Fclose"
                            38953         calls   "CreateDataFolder", "Fopen", "filegetattrib"
                            38954         calls   "CreateDataFolder", "filesetattrib"
                            38955         calls   "ShutdownMenu", "DecoderForceInit", "DisplayClear"
                            38956         calls   "ShutdownMenu", "DisplayLowBattery", "ML_SaveOnTheGo"
                            38957         calls   "ShutdownMenu", "ML_building_engine_init"
                            38958         calls   "ShutdownMenu", "SysCallFunction", "SysLoadFATWrite"
                            38959         calls   "ShutdownMenu", "SysPostMessage", "SysUnLoadFATWrite"
                            38960         calls   "ShutdownMenu", "SysWaitOnEvent", "write_detection_access"
                            38961         calls   "SplashScreen", "SysCallFunction", "SysGetCurrentTime"
                            38962         calls   "SplashScreen", "SysPostMessage", "SysWaitOnEvent"
                            38963         calls   "TryToRegenerateEmptyMusicLib", "FSFileClose"
                            38964         calls   "TryToRegenerateEmptyMusicLib", "FSFileCreate"
                            38965         calls   "TryToRegenerateEmptyMusicLib", "FSFileWrite"
                            38966         calls   "TryToRegenerateEmptyMusicLib", "FSFreeSpace"
                            38967         calls   "TryToRegenerateEmptyMusicLib", "filesetattrib"
                            38968         calls   "TryToRegenerateEmptyMusicLib", "filesetdate"
                            38969         calls   "UserTask", "ClearStickyBit", "DriveFlush", "FSChangeDir"
                            38970         calls   "UserTask", "FSCreateDir", "FSFileClose", "FSFileDelete"
                            38971         calls   "UserTask", "FSFileSize", "Fclose", "Fopen"
                            38972         calls   "UserTask", "ML_building_engine_init", "ShutdownMenu"
                            38973         calls   "UserTask", "SysCallFunction", "SysLoadFATWrite"
                            38974         calls   "UserTask", "SysPostMessage", "SysSpeedClockFree"
                            38975         calls   "UserTask", "SysSpeedIncrease", "SysUnLoadFATWrite"
                            38976         calls   "UserTask", "SysUpdateVolume", "SysWaitOnEvent"
                            38977         calls   "UserTask", "TryToRegenerateEmptyMusicLib"
                            38978         calls   "UserTask", "UpdateAutoShutdownTimer", "filegetdate"
                            38979         calls   "UserTask", "filesetdate"
                            38980 
