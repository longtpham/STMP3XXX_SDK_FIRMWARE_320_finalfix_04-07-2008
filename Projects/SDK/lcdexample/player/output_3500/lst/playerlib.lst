TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   1
C:\STMP3XXX_SDK_FIRMWARE_320_finalfix\Projects\SDK\lcdexample\player\make\ccfc9feb.src
M:ADDR CODE           CYCLES LINE SOURCELINE
                                1 ; TASKING DSP2410 C compiler v1.5r1 Build 208 SN 00100122
                                2 ; options: -OG -si -DPLAYER -DALL -DD3500 -DMMC -DLIION -DPL3_FB
                                3 ;          -DSTMP_BUILD_PLAYER -DPLAYER_BUILD -DPLAYER -DSTFM1000_LCD
                                4 ;          -DFULL_PLAYER_KERNEL -DDCDC_POWER_TRANSFER -DBACKLIGHT
                                5 ;          -DWMAAPI_NO_DRM -DREVB_ENGR_BD -DSED15XX_LCD -DSYNC_LYRICS
                                6 ;          -DTUNER_STFM1000 -DFM_EUROPE_REGION -DSD_USE_100KHZ_TUNING_GRID
                                7 ;          -DNEWSHINGYIH -DREAL_I2S_DATA -DFUNCLET
                                8 ;          -DMEDIA_DDI_COUNT_HIDDEN_SYSTEM_BLOCKS -DFMTUNER -DMP3_ENCODE
                                9 ;          -DCHKDSK -DFAT16 -DDEBUG -DDEVICE_3500 -DSDK2400 -DENGR_BD
                               10 ;          -DUSE_PLAYLIST3 -DBATTERY_TYPE_LI_ION -DBATTERY_CHARGE -w68 -w66
                               11 ;          -I..\output_3500\include
                               12 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player
                               13 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player\Menus -I..\..
                               14 ;          -I..\..\..\..\..\inc -I..\..\..\..\..\System\Common
                               15 ;          -I..\..\..\..\..\System\Common\symbols
                               16 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player\Display
                               17 ;          -I..\..\..\..\..\Algorithms\DRM\janus\src\h
                               18 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               19 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               20 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               21 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               22 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand -I -I
                               23 ;          -I..\..\..\..\..\system\common\resourcemanager -I..\..\..\..\..\inc
                               24 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               25 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\DataDrive\include
                               26 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               27 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               28 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\DataDrive
                               29 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               30 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               31 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               32 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               33 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               34 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand
                               35 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               36 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common\include
                               37 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               38 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               39 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common
                               40 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               41 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\SystemDrive\include
                               42 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               43 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               44 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\SystemDrive
                               45 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               46 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Media\include
                               47 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               48 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               49 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Media
                               50 ;          -I..\..\..\..\..\devicedriver\media\include
                               51 ;          -I..\..\..\..\..\devicedriver\media\ddildl
                               52 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               53 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common\include
                               54 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               55 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL
                               56 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL\include
                               57 ;          -I..\..\..\..\..\DeviceDriver\Media\include
                               58 ;          -I..\..\..\..\..\DeviceDriver\Media\PortHIL\GPFlash\include
                               59 ;          -I..\..\..\..\..\DeviceDriver\Media\PortHIL\GPFlash
                               60 ;          -I..\..\..\..\..\devicedriver\media\ddildl
                               61 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               62 ;          -I..\..\..\..\..\libsource\sysserialnumber
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   2

M:ADDR CODE           CYCLES LINE SOURCELINE
                               63 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\include
                               64 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               65 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\include
                               66 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\Media
                               67 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\HAL\include
                               68 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               69 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               70 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               71 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               72 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand
                               73 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL\include
                               74 ;          -I..\..\..\..\..\System\MsgModules\Software\Effects\srswow
                               75 ;          -I..\..\..\..\..\System\Common\rtcaccess
                               76 ;          -I..\..\..\..\..\System\Common\playlist3
                               77 ;          -I..\..\..\..\..\System\Common\record
                               78 ;          -I..\..\..\..\..\System\Common\mp3filename
                               79 ;          -I..\..\..\..\..\FileSystem\chkdsk\include
                               80 ;          -I..\..\..\..\..\FileSystem\Fat32\h -DFULL_PLAYER_KERNEL
                               81 ;          -DSYNC_LYRICS -DMP3_ENCODE -DBATTERY_TYPE_LI_ION -Dk_opt_single_fat
                               82 ;          -DPL3_FB -g -O2 -R -Cs -DMS_ADPCM -DIMA_ADPCM -DWINDOWS_PCM
                               83 ;          -I..\..\..\..\..\System\MsgModules\Software\musiclib\ghdr
                               84 ;          -I..\..\..\..\..\devicedriver\display
                               85 ;          -I..\..\..\..\..\System\MsgModules\Hardware\Display -MmyL
                               86 
                               94 
                               95 ;    playerlib.c:
                               96 ; 1    |////////////////////////////////////////////////////////////////////////////////
                               97 ; 2    |// Copyright(C) SigmaTel, Inc. 2002-2003
                               98 ; 3    |//
                               99 ; 4    |// File : playerlib.c
                              100 ; 5    |// Description : Player Library Routines
                              101 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              102 ; 7    |
                              103 ; 8    |////////////////////////////////////////////////////////////////////////////////
                              104 ; 9    |//  Macros
                              105 ; 10   |////////////////////////////////////////////////////////////////////////////////
                              106 ; 11   |
                              107 ; 12   |////////////////////////////////////////////////////////////////////////////////
                              108 ; 13   |//  Includes
                              109 ; 14   |////////////////////////////////////////////////////////////////////////////////
                              110 ; 15   |#include "types.h"
                              111 
                              113 
                              114 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              115 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              116 ; 3    |//
                              117 ; 4    |// Filename: types.h
                              118 ; 5    |// Description: Standard data types
                              119 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              120 ; 7    |
                              121 ; 8    |#ifndef _TYPES_H
                              122 ; 9    |#define _TYPES_H
                              123 ; 10   |
                              124 ; 11   |// TODO:  move this outta here!
                              125 ; 12   |#if !defined(NOERROR)
                              126 ; 13   |#define NOERROR 0
                              127 ; 14   |#define SUCCESS 0
                              128 ; 15   |#endif 
                              129 ; 16   |#if !defined(SUCCESS)
                              130 ; 17   |#define SUCCESS  0
                              131 ; 18   |#endif
                              132 ; 19   |#if !defined(ERROR)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   3

M:ADDR CODE           CYCLES LINE SOURCELINE
                              133 ; 20   |#define ERROR   -1
                              134 ; 21   |#endif
                              135 ; 22   |#if !defined(FALSE)
                              136 ; 23   |#define FALSE 0
                              137 ; 24   |#endif
                              138 ; 25   |#if !defined(TRUE)
                              139 ; 26   |#define TRUE  1
                              140 ; 27   |#endif
                              141 ; 28   |
                              142 ; 29   |#if !defined(NULL)
                              143 ; 30   |#define NULL 0
                              144 ; 31   |#endif
                              145 ; 32   |
                              146 ; 33   |#define MAX_INT     0x7FFFFF
                              147 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                              148 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                              149 ; 36   |#define MAX_ULONG   (-1) 
                              150 ; 37   |
                              151 ; 38   |#define WORD_SIZE   24              // word size in bits
                              152 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                              153 ; 40   |
                              154 ; 41   |
                              155 ; 42   |#define BYTE    unsigned char       // btVarName
                              156 ; 43   |#define CHAR    signed char         // cVarName
                              157 ; 44   |#define USHORT  unsigned short      // usVarName
                              158 ; 45   |#define SHORT   unsigned short      // sVarName
                              159 ; 46   |#define WORD    unsigned int        // wVarName
                              160 ; 47   |#define INT     signed int          // iVarName
                              161 ; 48   |#define DWORD   unsigned long       // dwVarName
                              162 ; 49   |#define LONG    signed long         // lVarName
                              163 ; 50   |#define BOOL    unsigned int        // bVarName
                              164 ; 51   |#define FRACT   _fract              // frVarName
                              165 ; 52   |#define LFRACT  long _fract         // lfrVarName
                              166 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                              167 ; 54   |#define FLOAT   float               // fVarName
                              168 ; 55   |#define DBL     double              // dVarName
                              169 ; 56   |#define ENUM    enum                // eVarName
                              170 ; 57   |#define CMX     _complex            // cmxVarName
                              171 ; 58   |typedef WORD UCS3;                   // 
                              172 ; 59   |
                              173 ; 60   |#define UINT16  unsigned short
                              174 ; 61   |#define UINT8   unsigned char   
                              175 ; 62   |#define UINT32  unsigned long
                              176 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                              177 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                              178 ; 65   |#define WCHAR   UINT16
                              179 ; 66   |
                              180 ; 67   |//UINT128 is 16 bytes or 6 words
                              181 ; 68   |typedef struct UINT128_3500 {   
                              182 ; 69   |    int val[6];     
                              183 ; 70   |} UINT128_3500;
                              184 ; 71   |
                              185 ; 72   |#define UINT128   UINT128_3500
                              186 ; 73   |
                              187 ; 74   |// Little endian word packed byte strings:   
                              188 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              189 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              190 ; 77   |// Little endian word packed byte strings:   
                              191 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              192 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   4

M:ADDR CODE           CYCLES LINE SOURCELINE
                              193 ; 80   |
                              194 ; 81   |// Declare Memory Spaces To Use When Coding
                              195 ; 82   |// A. Sector Buffers
                              196 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                              197 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                              198 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                              199 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                              200 
                              202 
                              203 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                              204 ; 88   |// B. Media DDI Memory
                              205 ; 89   |#define MEDIA_DDI_MEM _Y
                              206 ; 90   |
                              207 ; 91   |
                              208 ; 92   |
                              209 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                              210 ; 94   |// Examples of circular pointers:
                              211 ; 95   |//    INT CIRC cpiVarName
                              212 ; 96   |//    DWORD CIRC cpdwVarName
                              213 ; 97   |
                              214 ; 98   |#define RETCODE INT                 // rcVarName
                              215 ; 99   |
                              216 ; 100  |// generic bitfield structure
                              217 ; 101  |struct Bitfield {
                              218 ; 102  |    unsigned int B0  :1;
                              219 ; 103  |    unsigned int B1  :1;
                              220 ; 104  |    unsigned int B2  :1;
                              221 ; 105  |    unsigned int B3  :1;
                              222 ; 106  |    unsigned int B4  :1;
                              223 ; 107  |    unsigned int B5  :1;
                              224 ; 108  |    unsigned int B6  :1;
                              225 ; 109  |    unsigned int B7  :1;
                              226 ; 110  |    unsigned int B8  :1;
                              227 ; 111  |    unsigned int B9  :1;
                              228 ; 112  |    unsigned int B10 :1;
                              229 ; 113  |    unsigned int B11 :1;
                              230 ; 114  |    unsigned int B12 :1;
                              231 ; 115  |    unsigned int B13 :1;
                              232 ; 116  |    unsigned int B14 :1;
                              233 ; 117  |    unsigned int B15 :1;
                              234 ; 118  |    unsigned int B16 :1;
                              235 ; 119  |    unsigned int B17 :1;
                              236 ; 120  |    unsigned int B18 :1;
                              237 ; 121  |    unsigned int B19 :1;
                              238 ; 122  |    unsigned int B20 :1;
                              239 ; 123  |    unsigned int B21 :1;
                              240 ; 124  |    unsigned int B22 :1;
                              241 ; 125  |    unsigned int B23 :1;
                              242 ; 126  |};
                              243 ; 127  |
                              244 ; 128  |union BitInt {
                              245 ; 129  |        struct Bitfield B;
                              246 ; 130  |        int        I;
                              247 ; 131  |};
                              248 ; 132  |
                              249 ; 133  |#define MAX_MSG_LENGTH 10
                              250 ; 134  |struct CMessage
                              251 ; 135  |{
                              252 ; 136  |        unsigned int m_uLength;
                              253 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                              254 ; 138  |};
                              255 ; 139  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   5

M:ADDR CODE           CYCLES LINE SOURCELINE
                              256 ; 140  |typedef struct {
                              257 ; 141  |    WORD m_wLength;
                              258 ; 142  |    WORD m_wMessage;
                              259 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                              260 ; 144  |} Message;
                              261 ; 145  |
                              262 ; 146  |struct MessageQueueDescriptor
                              263 ; 147  |{
                              264 ; 148  |        int *m_pBase;
                              265 ; 149  |        int m_iModulo;
                              266 ; 150  |        int m_iSize;
                              267 ; 151  |        int *m_pHead;
                              268 ; 152  |        int *m_pTail;
                              269 ; 153  |};
                              270 ; 154  |
                              271 ; 155  |struct ModuleEntry
                              272 ; 156  |{
                              273 ; 157  |    int m_iSignaledEventMask;
                              274 ; 158  |    int m_iWaitEventMask;
                              275 ; 159  |    int m_iResourceOfCode;
                              276 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                              277 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                              278 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                              279 ; 163  |    int m_uTimeOutHigh;
                              280 ; 164  |    int m_uTimeOutLow;
                              281 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                              282 ; 166  |};
                              283 ; 167  |
                              284 ; 168  |union WaitMask{
                              285 ; 169  |    struct B{
                              286 ; 170  |        unsigned int m_bNone     :1;
                              287 ; 171  |        unsigned int m_bMessage  :1;
                              288 ; 172  |        unsigned int m_bTimer    :1;
                              289 ; 173  |        unsigned int m_bButton   :1;
                              290 ; 174  |    } B;
                              291 ; 175  |    int I;
                              292 ; 176  |} ;
                              293 ; 177  |
                              294 ; 178  |
                              295 ; 179  |struct Button {
                              296 ; 180  |        WORD wButtonEvent;
                              297 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                              298 ; 182  |};
                              299 ; 183  |
                              300 ; 184  |struct Message {
                              301 ; 185  |        WORD wMsgLength;
                              302 ; 186  |        WORD wMsgCommand;
                              303 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                              304 ; 188  |};
                              305 ; 189  |
                              306 ; 190  |union EventTypes {
                              307 ; 191  |        struct CMessage msg;
                              308 ; 192  |        struct Button Button ;
                              309 ; 193  |        struct Message Message;
                              310 ; 194  |};
                              311 ; 195  |
                              312 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                              313 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                              314 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                              315 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                              316 ; 200  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   6

M:ADDR CODE           CYCLES LINE SOURCELINE
                              317 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                              318 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                              319 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                              320 ; 204  |
                              321 ; 205  |#if DEBUG
                              322 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                              323 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                              324 ; 208  |#else 
                              325 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                              326 ; 210  |#define DebugBuildAssert(x)    
                              327 ; 211  |#endif
                              328 ; 212  |
                              329 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                              330 ; 214  |//  #pragma asm
                              331 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                              332 ; 216  |//  #pragma endasm
                              333 ; 217  |
                              334 ; 218  |
                              335 ; 219  |#ifdef COLOR_262K
                              336 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                              337 ; 221  |#elif defined(COLOR_65K)
                              338 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                              339 ; 223  |#else
                              340 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                              341 ; 225  |#endif
                              342 ; 226  |    
                              343 ; 227  |#endif // #ifndef _TYPES_H
                              344 
                              346 
                              347 ; 16   |#include "exec.h"
                              348 
                              350 
                              351 ; 1    |#ifndef EXEC_H
                              352 ; 2    |#define EXEC_H
                              353 ; 3    |
                              354 ; 4    |
                              355 ; 5    |void _reentrant SysPostMessage(int iLength,...);
                              356 ; 6    |int _asmfunc GetMessage(struct MessageQueueDescriptor*,struct CMessage * );
                              357 ; 7    |long _asmfunc SysGetCurrentTime(void);
                              358 ; 8    |
                              359 ; 9    |
                              360 ; 10   |#endif
                              361 
                              363 
                              364 ; 17   |#include "resource.h"
                              365 
                              367 
                              368 ; 1    |//  NOTE: This file was generated automatically by rscrenum.pl
                              369 ; 2    |//  Do not edit it directly.
                              370 ; 3    |//  Created on Sat Jun 28 16:37:44 2008 using resource.inc as input.
                              371 ; 4    |
                              372 ; 5    |
                              373 ; 6    |
                              374 ; 7    |//  NOTE: This file was generated automatically by rscrenum.pl
                              375 ; 8    |//  Do not edit it directly.
                              376 ; 9    |//  Created on Sat Jun 28 16:13:49 2008 using resource.inc as input.
                              377 ; 10   |
                              378 ; 11   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   7

M:ADDR CODE           CYCLES LINE SOURCELINE
                              379 ; 12   |
                              380 ; 13   |//  NOTE: This file was generated automatically by rscrenum.pl
                              381 ; 14   |//  Do not edit it directly.
                              382 ; 15   |//  Created on Sat Jun 28 15:55:53 2008 using resource.inc as input.
                              383 ; 16   |
                              384 ; 17   |
                              385 ; 18   |
                              386 ; 19   |//  NOTE: This file was generated automatically by rscrenum.pl
                              387 ; 20   |//  Do not edit it directly.
                              388 ; 21   |//  Created on Thu Jun 26 08:58:05 2008 using resource.inc as input.
                              389 ; 22   |
                              390 ; 23   |
                              391 ; 24   |
                              392 ; 25   |//  NOTE: This file was generated automatically by rscrenum.pl
                              393 ; 26   |//  Do not edit it directly.
                              394 ; 27   |//  Created on Wed Jun 25 17:00:35 2008 using resource.inc as input.
                              395 ; 28   |
                              396 ; 29   |
                              397 ; 30   |
                              398 ; 31   |//  NOTE: This file was generated automatically by rscrenum.pl
                              399 ; 32   |//  Do not edit it directly.
                              400 ; 33   |//  Created on Wed Jun 25 11:42:38 2008 using resource.inc as input.
                              401 ; 34   |
                              402 ; 35   |
                              403 ; 36   |
                              404 ; 37   |//  NOTE: This file was generated automatically by rscrenum.pl
                              405 ; 38   |//  Do not edit it directly.
                              406 ; 39   |//  Created on Wed Jun 25 11:17:50 2008 using resource.inc as input.
                              407 ; 40   |
                              408 ; 41   |
                              409 ; 42   |
                              410 ; 43   |//  NOTE: This file was generated automatically by rscrenum.pl
                              411 ; 44   |//  Do not edit it directly.
                              412 ; 45   |//  Created on Wed Jun 25 11:17:05 2008 using resource.inc as input.
                              413 ; 46   |
                              414 ; 47   |
                              415 ; 48   |
                              416 ; 49   |//  NOTE: This file was generated automatically by rscrenum.pl
                              417 ; 50   |//  Do not edit it directly.
                              418 ; 51   |//  Created on Tue Jun 24 15:21:11 2008 using resource.inc as input.
                              419 ; 52   |
                              420 ; 53   |
                              421 ; 54   |
                              422 ; 55   |//  NOTE: This file was generated automatically by rscrenum.pl
                              423 ; 56   |//  Do not edit it directly.
                              424 ; 57   |//  Created on Sun Jun 22 02:54:01 2008 using resource.inc as input.
                              425 ; 58   |
                              426 ; 59   |
                              427 ; 60   |
                              428 ; 61   |//  NOTE: This file was generated automatically by rscrenum.pl
                              429 ; 62   |//  Do not edit it directly.
                              430 ; 63   |//  Created on Sun Jun 22 00:47:39 2008 using resource.inc as input.
                              431 ; 64   |
                              432 ; 65   |
                              433 ; 66   |
                              434 ; 67   |//  NOTE: This file was generated automatically by rscrenum.pl
                              435 ; 68   |//  Do not edit it directly.
                              436 ; 69   |//  Created on Fri Jun 20 16:15:57 2008 using resource.inc as input.
                              437 ; 70   |
                              438 ; 71   |
                              439 ; 72   |
                              440 ; 73   |//  NOTE: This file was generated automatically by rscrenum.pl
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   8

M:ADDR CODE           CYCLES LINE SOURCELINE
                              441 ; 74   |//  Do not edit it directly.
                              442 ; 75   |//  Created on Thu Jun 19 09:47:30 2008 using resource.inc as input.
                              443 ; 76   |
                              444 ; 77   |
                              445 ; 78   |
                              446 ; 79   |//  NOTE: This file was generated automatically by rscrenum.pl
                              447 ; 80   |//  Do not edit it directly.
                              448 ; 81   |//  Created on Wed Jun 18 23:11:16 2008 using resource.inc as input.
                              449 ; 82   |
                              450 ; 83   |
                              451 ; 84   |
                              452 ; 85   |//  NOTE: This file was generated automatically by rscrenum.pl
                              453 ; 86   |//  Do not edit it directly.
                              454 ; 87   |//  Created on Wed Jun 18 22:57:19 2008 using resource.inc as input.
                              455 ; 88   |
                              456 ; 89   |
                              457 ; 90   |
                              458 ; 91   |//  NOTE: This file was generated automatically by rscrenum.pl
                              459 ; 92   |//  Do not edit it directly.
                              460 ; 93   |//  Created on Wed Jun 18 22:49:16 2008 using resource.inc as input.
                              461 ; 94   |
                              462 ; 95   |
                              463 ; 96   |
                              464 ; 97   |//  NOTE: This file was generated automatically by rscrenum.pl
                              465 ; 98   |//  Do not edit it directly.
                              466 ; 99   |//  Created on Wed Jun 18 11:53:38 2008 using resource.inc as input.
                              467 ; 100  |
                              468 ; 101  |
                              469 ; 102  |
                              470 ; 103  |//  NOTE: This file was generated automatically by rscrenum.pl
                              471 ; 104  |//  Do not edit it directly.
                              472 ; 105  |//  Created on Wed Jun 18 10:45:13 2008 using resource.inc as input.
                              473 ; 106  |
                              474 ; 107  |
                              475 ; 108  |
                              476 ; 109  |//  NOTE: This file was generated automatically by rscrenum.pl
                              477 ; 110  |//  Do not edit it directly.
                              478 ; 111  |//  Created on Wed Jun 18 09:54:56 2008 using resource.inc as input.
                              479 ; 112  |
                              480 ; 113  |
                              481 ; 114  |
                              482 ; 115  |//  NOTE: This file was generated automatically by rscrenum.pl
                              483 ; 116  |//  Do not edit it directly.
                              484 ; 117  |//  Created on Tue Jun 17 16:47:21 2008 using resource.inc as input.
                              485 ; 118  |
                              486 ; 119  |
                              487 ; 120  |
                              488 ; 121  |//  NOTE: This file was generated automatically by rscrenum.pl
                              489 ; 122  |//  Do not edit it directly.
                              490 ; 123  |//  Created on Tue Jun 17 11:30:49 2008 using resource.inc as input.
                              491 ; 124  |
                              492 ; 125  |
                              493 ; 126  |
                              494 ; 127  |/////////////////////////////////////////////////////////////////////////////////
                              495 ; 128  |// Copyright(C) SigmaTel, Inc. 2001-2007
                              496 ; 129  |// Reviews: DanhNguyen (06-2008) for X8iTF/STFM1000
                              497 ; 130  |// LCD example resource listing
                              498 ; 131  |/////////////////////////////////////////////////////////////////////////////////
                              499 ; 132  |
                              500 ; 133  |#if (!defined(resources))
                              501 ; 134  |#define resources 1
                              502 ; 135  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   9

M:ADDR CODE           CYCLES LINE SOURCELINE
                              503 ; 136  |/////////////////////////////////////////////////////////////////////////////////
                              504 ; 137  |//  Player version number  no leading zeros in version number!!!!!
                              505 ; 138  |/////////////////////////////////////////////////////////////////////////////////
                              506 ; 139  |
                              507 ; 140  |#define VERSION_MAJOR 3
                              508 ; 141  |#define VERSION_MIDDLE 200
                              509 ; 142  |#define VERSION_MINOR 910
                              510 ; 143  |
                              511 ; 144  |#define LCD_SEG_OFFSET 0x000000
                              512 ; 145  |#define NUMBER_OF_PRESETS 10
                              513 ; 146  |
                              514 ; 147  |
                              515 ; 148  |/////////////////////////////////////////////////////////////////////////////////
                              516 ; 149  |//  High usage resource. These have been moved here to take maximum advantage of
                              517 ; 150  |//  the resource index cache if it was added.
                              518 ; 151  |//  This block is sorted by frequency of use while loading a new song.
                              519 ; 152  |/////////////////////////////////////////////////////////////////////////////////
                              520 ; 153  |
                              521 ; 154  |//$FILENAME searchdirectory.src
                              522 ; 155  |#define RSRC_FUNCLET_SEARCHDIRECTORY 1    
                              523 ; 156  |//$FILENAME shortdirmatch.src
                              524 ; 157  |#define RSRC_FUNCLET_SHORTDIRMATCH 2    
                              525 ; 158  |//$FILENAME fopen.src
                              526 ; 159  |#define RSRC_FUNCLET_FOPEN 3    
                              527 ; 160  |//$FILENAME musicmenu.src
                              528 ; 161  |#define RSRC_MUSIC_MENU_CODE_BANK 4    
                              529 ; 162  |//$FILENAME changepath.src
                              530 ; 163  |#define RSRC_FUNCLET_CHANGEPATH 5    
                              531 ; 164  |//$FILENAME _openandverifyslot.src
                              532 ; 165  |#define RSRC_FUNCLET__OPENANDVERIFYSLOT 6    
                              533 ; 166  |//$FILENAME _loadslot.src
                              534 ; 167  |#define RSRC_FUNCLET__LOADSLOT 7    
                              535 ; 168  |//$FILENAME getname.src
                              536 ; 169  |#define RSRC_FUNCLET_GETNAME 8    
                              537 ; 170  |//$FILENAME Funclet_SteppingVoltageSet.src
                              538 ; 171  |#define RSRC_FUNCLET_STEPPINGVOLTAGESET 9    
                              539 ; 172  |//$FILENAME sethandleforsearch.src
                              540 ; 173  |#define RSRC_FUNCLET_SETHANDLEFORSEARCH 10    
                              541 ; 174  |//$FILENAME wmaWrap.src
                              542 ; 175  |#define RSRC_WMADEC_CODE 11    
                              543 ; 176  |//$FILENAME extractfilename.src
                              544 ; 177  |#define RSRC_FUNCLET_EXTRACTFILENAME 12    
                              545 ; 178  |//$FILENAME oem_getgroupcertprivatekey.src
                              546 ; 179  |#define RSRC_FUNCLET_OEM_GETGROUPCERTPRIVATEKEY 13    
                              547 ; 180  |//$FILENAME SoftTimerMod.src
                              548 ; 181  |#define RSRC_SOFT_TIMER_MODULE_CODE 14    
                              549 ; 182  |//$FILENAME GetShortfilename.src
                              550 ; 183  |#define RSRC_FUNCLET_GETSHORTFILENAME 15    
                              551 ; 184  |//$FILENAME drm_dcp_loadpropertiescache.src
                              552 ; 185  |#define RSRC_FUNCLET_DRM_DCP_LOADPROPERTIESCACHE 16    
                              553 ; 186  |//$FILENAME playerstatemachine.src
                              554 ; 187  |#define RSRC_PLAY_STATE_MACHINE_CODE_BANK 17    
                              555 ; 188  |//$FILENAME SysMod.src
                              556 ; 189  |#define RSRC_SYSMOD_CODE 18    
                              557 ; 190  |//$FILENAME drm_b64_decodew.src
                              558 ; 191  |#define RSRC_FUNCLET_DRM_B64_DECODEW 19    
                              559 ; 192  |//$FILENAME discardtrailigperiods.src
                              560 ; 193  |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODS 20    
                              561 ; 194  |//$FILENAME uppercase.src
                              562 ; 195  |#define RSRC_FUNCLET_UPPERCASE 21    
                              563 ; 196  |//$FILENAME strlength.src
                              564 ; 197  |#define RSRC_FUNCLET_STRLENGTH 22    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  10

M:ADDR CODE           CYCLES LINE SOURCELINE
                              565 ; 198  |//$FILENAME ConverToShortname.src
                              566 ; 199  |#define RSRC_FUNCLET_CONVERTOSHORTNAME 23    
                              567 ; 200  |//$FILENAME drm_bbx_hashvalue.src
                              568 ; 201  |#define RSRC_FUNCLET_DRM_BBX_HASHVALUE 24    
                              569 ; 202  |//$FILENAME drm_expr_evaluateexpression.src
                              570 ; 203  |#define RSRC_FUNCLET_DRM_EXPR_EVALUATEEXPRESSION 25    
                              571 ; 204  |//$FILENAME drm_sst_closekey.src
                              572 ; 205  |#define RSRC_FUNCLET_DRM_SST_CLOSEKEY 26    
                              573 ; 206  |//$FILENAME Funclet_SysSetSpeed.src
                              574 ; 207  |#define RSRC_FUNCLET_SYSSETSPEED 27    
                              575 ; 208  |//$FILENAME freehandle.src
                              576 ; 209  |#define RSRC_FUNCLET_FREEHANDLE 28    
                              577 ; 210  |//$FILENAME searchfreehandleallocate.src
                              578 ; 211  |#define RSRC_FUNCLET_SEARCHFREEHANDLEALLOCATE 29    
                              579 ; 212  |//$FILENAME _parselicenseattributes.src
                              580 ; 213  |#define RSRC_FUNCLET__PARSELICENSEATTRIBUTES 30    
                              581 ; 214  |//$FILENAME variablesecstategetorset.src
                              582 ; 215  |#define RSRC_FUNCLET_VARIABLESECSTATEGETORSET 31    
                              583 ; 216  |//$FILENAME _setuplicevalobjecttoshare.src
                              584 ; 217  |#define RSRC_FUNCLET__SETUPLICEVALOBJECTTOSHARE 32    
                              585 ; 218  |//$FILENAME drm_mgr_initialize.src
                              586 ; 219  |#define RSRC_FUNCLET_DRM_MGR_INITIALIZE 33    
                              587 ; 220  |//$FILENAME display.src
                              588 ; 221  |#define RSRC_DISPLAY_CODE_BANK 34    
                              589 ; 222  |//$FILENAME DisplayModule.src
                              590 ; 223  |#define RSRC_DISPLAY_MODULE 35    
                              591 ; 224  |//$FILENAME extractpath.src
                              592 ; 225  |#define RSRC_FUNCLET_EXTRACTPATH 36    
                              593 ; 226  |//$FILENAME drm_sst_createglobalstorepassword.src
                              594 ; 227  |#define RSRC_FUNCLET_DRM_SST_CREATEGLOBALSTOREPASSWORD 37    
                              595 ; 228  |//$FILENAME _getprivatekey.src
                              596 ; 229  |#define RSRC_FUNCLET__GETPRIVATEKEY 38    
                              597 ; 230  |//$FILENAME drm_hds_opennamespace.src
                              598 ; 231  |#define RSRC_FUNCLET_DRM_HDS_OPENNAMESPACE 39    
                              599 ; 232  |//$FILENAME drm_hds_openslot.src
                              600 ; 233  |#define RSRC_FUNCLET_DRM_HDS_OPENSLOT 40    
                              601 ; 234  |//$FILENAME fclose.src
                              602 ; 235  |#define RSRC_FUNCLET_FCLOSE 41    
                              603 ; 236  |//$FILENAME drm_cphr_init.src
                              604 ; 237  |#define RSRC_FUNCLET_DRM_CPHR_INIT 42    
                              605 ; 238  |//$FILENAME drm_pk_symmetriccrypt.src
                              606 ; 239  |#define RSRC_FUNCLET_DRM_PK_SYMMETRICCRYPT 43    
                              607 ; 240  |//$FILENAME drm_mgr_bind.src
                              608 ; 241  |#define RSRC_FUNCLET_DRM_MGR_BIND 44    
                              609 ; 242  |//$FILENAME _decryptcontentkey.src
                              610 ; 243  |#define RSRC_FUNCLET__DECRYPTCONTENTKEY 45    
                              611 ; 244  |//$FILENAME drm_mac_inv32.src
                              612 ; 245  |#define RSRC_FUNCLET_DRM_MAC_INV32 46    
                              613 ; 246  |//$FILENAME drm_lic_getattribute.src
                              614 ; 247  |#define RSRC_FUNCLET_DRM_LIC_GETATTRIBUTE 47    
                              615 ; 248  |//$FILENAME drm_utl_getversionasstring.src
                              616 ; 249  |#define RSRC_FUNCLET_DRM_UTL_GETVERSIONASSTRING 48    
                              617 ; 250  |//$FILENAME drm_dcp_getattribute.src
                              618 ; 251  |#define RSRC_FUNCLET_DRM_DCP_GETATTRIBUTE 49    
                              619 ; 252  |//$FILENAME effectsmodules.src
                              620 ; 253  |#define RSRC_EFFECTS_MODULES_P 50    
                              621 ; 254  |//$FILENAME janusx.src
                              622 ; 255  |#define RSRC_JANUSX_CODE 51    
                              623 ; 256  |//$FILENAME drm_sst_openkeytokens.src
                              624 ; 257  |#define RSRC_FUNCLET_DRM_SST_OPENKEYTOKENS 52    
                              625 ; 258  |//$FILENAME eval.src
                              626 ; 259  |#define RSRC_FUNCLET_EVAL 53    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  11

M:ADDR CODE           CYCLES LINE SOURCELINE
                              627 ; 260  |//$FILENAME _verifyslothash.src
                              628 ; 261  |#define RSRC_FUNCLET__VERIFYSLOTHASH 54    
                              629 ; 262  |//$FILENAME januscommon.src
                              630 ; 263  |#define RSRC_JANUS_COMMON 55    
                              631 ; 264  |//$FILENAME changecase.src
                              632 ; 265  |#define RSRC_FUNCLET_CHANGECASE 56    
                              633 ; 266  |//$FILENAME drm_bbx_symmetricverify.src
                              634 ; 267  |#define RSRC_FUNCLET_DRM_BBX_SYMMETRICVERIFY 57    
                              635 ; 268  |//$FILENAME _loadlicenseattributes.src
                              636 ; 269  |#define RSRC_FUNCLET__LOADLICENSEATTRIBUTES 58    
                              637 ; 270  |//$FILENAME drm_hds_slotseek.src
                              638 ; 271  |#define RSRC_FUNCLET_DRM_HDS_SLOTSEEK 59    
                              639 ; 272  |//$FILENAME drm_hds_slotwrite.src
                              640 ; 273  |#define RSRC_FUNCLET_DRM_HDS_SLOTWRITE 60    
                              641 ; 274  |//$FILENAME drm_levl_performoperations.src
                              642 ; 275  |#define RSRC_FUNCLET_DRM_LEVL_PERFORMOPERATIONS 61    
                              643 ; 276  |//$FILENAME drm_lic_verifysignature.src
                              644 ; 277  |#define RSRC_FUNCLET_DRM_LIC_VERIFYSIGNATURE 62    
                              645 ; 278  |//$FILENAME drm_lst_getlicense.src
                              646 ; 279  |#define RSRC_FUNCLET_DRM_LST_GETLICENSE 63    
                              647 ; 280  |//$FILENAME drm_utl_numbertostring.src
                              648 ; 281  |#define RSRC_FUNCLET_DRM_UTL_NUMBERTOSTRING 64    
                              649 ; 282  |//$FILENAME oem_writefile.src
                              650 ; 283  |#define RSRC_FUNCLET_OEM_WRITEFILE 65    
                              651 ; 284  |//$FILENAME drm_sst_getdata.src
                              652 ; 285  |#define RSRC_FUNCLET_DRM_SST_GETDATA 66    
                              653 ; 286  |//$FILENAME updatehandlemode.src
                              654 ; 287  |#define RSRC_FUNCLET_UPDATEHANDLEMODE 67    
                              655 ; 288  |//$FILENAME _getlicenseinfoandsetup.src
                              656 ; 289  |#define RSRC_FUNCLET__GETLICENSEINFOANDSETUP 68    
                              657 ; 290  |//$FILENAME drm_lic_completelicensechain.src
                              658 ; 291  |#define RSRC_FUNCLET_DRM_LIC_COMPLETELICENSECHAIN 69    
                              659 ; 292  |//$FILENAME doplay_p.src
                              660 ; 293  |#define RSRC_DOPLAY_P 70    
                              661 ; 294  |//$FILENAME fatwritep.src
                              662 ; 295  |#define RSRC_FATWRITE_P_CODE 71    
                              663 ; 296  |//$FILENAME findfirst.src
                              664 ; 297  |#define RSRC_FUNCLET_FINDFIRST 72    
                              665 ; 298  |//$FILENAME Funclet_SysLoadFatWrite.src
                              666 ; 299  |#define RSRC_FUNCLET_SYSLOADFATWRITE 73    
                              667 ; 300  |//$FILENAME changetorootdirectory.src
                              668 ; 301  |#define RSRC_FUNCLET_CHANGETOROOTDIRECTORY 74    
                              669 ; 302  |//$FILENAME _findkeypair.src
                              670 ; 303  |#define RSRC_FUNCLET__FINDKEYPAIR 75    
                              671 ; 304  |//$FILENAME variablemachinegetorset.src
                              672 ; 305  |#define RSRC_FUNCLET_VARIABLEMACHINEGETORSET 76    
                              673 ; 306  |//$FILENAME _hdsslotenumnext.src
                              674 ; 307  |#define RSRC_FUNCLET__HDSSLOTENUMNEXT 77    
                              675 ; 308  |//$FILENAME getlspubkey.src
                              676 ; 309  |#define RSRC_FUNCLET_GETLSPUBKEY 78    
                              677 ; 310  |//$FILENAME drm_sst_gettokenvalue.src
                              678 ; 311  |#define RSRC_FUNCLET_DRM_SST_GETTOKENVALUE 79    
                              679 ; 312  |//$FILENAME drm_utl_decodekid.src
                              680 ; 313  |#define RSRC_FUNCLET_DRM_UTL_DECODEKID 80    
                              681 ; 314  |//$FILENAME drm_xml_getnodecdata.src
                              682 ; 315  |#define RSRC_FUNCLET_DRM_XML_GETNODECDATA 81    
                              683 ; 316  |//$FILENAME _freedrmmanagerinternalcontexts.src
                              684 ; 317  |#define RSRC_FUNCLET__FREEDRMMANAGERINTERNALCONTEXTS 82    
                              685 ; 318  |//$FILENAME drm_clk_initchecksecureclock.src
                              686 ; 319  |#define RSRC_FUNCLET_DRM_CLK_INITCHECKSECURECLOCK 83    
                              687 ; 320  |//$FILENAME drm_sst_openandlockslot.src
                              688 ; 321  |#define RSRC_FUNCLET_DRM_SST_OPENANDLOCKSLOT 84    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  12

M:ADDR CODE           CYCLES LINE SOURCELINE
                              689 ; 322  |//$FILENAME aes_enc.src
                              690 ; 323  |#define RSRC_AES_ENC 85    
                              691 ; 324  |//$FILENAME getprivkey.src
                              692 ; 325  |#define RSRC_FUNCLET_GETPRIVKEY 86    
                              693 ; 326  |//$FILENAME Funclet_GetUnicodeCharacterBitmap.src
                              694 ; 327  |#define RSRC_FUNCLET_GET_UNICODE_CHARACTER_BITMAP 87    
                              695 ; 328  |//$FILENAME playlist_codebank.src
                              696 ; 329  |#define RSRC_PLAYLIST_CODEBANK 88    
                              697 ; 330  |//$FILENAME drm_lic_getenablingbits.src
                              698 ; 331  |#define RSRC_FUNCLET_DRM_LIC_GETENABLINGBITS 89    
                              699 ; 332  |//$FILENAME drm_mgr_uninitialize.src
                              700 ; 333  |#define RSRC_FUNCLET_DRM_MGR_UNINITIALIZE 90    
                              701 ; 334  |//$FILENAME _getdevicecert.src
                              702 ; 335  |#define RSRC_FUNCLET__GETDEVICECERT 91    
                              703 ; 336  |//$FILENAME drm_lic_reportactions.src
                              704 ; 337  |#define RSRC_FUNCLET_DRM_LIC_REPORTACTIONS 92    
                              705 ; 338  |//$FILENAME drmcrt_wcsntol.src
                              706 ; 339  |#define RSRC_FUNCLET_DRMCRT_WCSNTOL 93    
                              707 ; 340  |//$FILENAME _basicheaderchecks.src
                              708 ; 341  |#define RSRC_FUNCLET__BASICHEADERCHECKS 94    
                              709 ; 342  |//$FILENAME drm_hdr_getattribute.src
                              710 ; 343  |#define RSRC_FUNCLET_DRM_HDR_GETATTRIBUTE 95    
                              711 ; 344  |//$FILENAME drm_hds_slotenumnext.src
                              712 ; 345  |#define RSRC_FUNCLET_DRM_HDS_SLOTENUMNEXT 96    
                              713 ; 346  |//$FILENAME drm_levl_evaluateexpression.src
                              714 ; 347  |#define RSRC_FUNCLET_DRM_LEVL_EVALUATEEXPRESSION 97    
                              715 ; 348  |//$FILENAME drm_lst_open.src
                              716 ; 349  |#define RSRC_FUNCLET_DRM_LST_OPEN 98    
                              717 ; 350  |//$FILENAME drm_xml_getnodeattribute.src
                              718 ; 351  |#define RSRC_FUNCLET_DRM_XML_GETNODEATTRIBUTE 99    
                              719 ; 352  |//$FILENAME _verifysymmerticsignature.src
                              720 ; 353  |#define RSRC_FUNCLET__VERIFYSYMMERTICSIGNATURE 100    
                              721 ; 354  |//$FILENAME oem_openfile.src
                              722 ; 355  |#define RSRC_FUNCLET_OEM_OPENFILE 101    
                              723 ; 356  |//$FILENAME _getdrmfullpathname.src
                              724 ; 357  |#define RSRC_FUNCLET__GETDRMFULLPATHNAME 102    
                              725 ; 358  |//$FILENAME oem_getsecurestoreglobalpasswordseed.src
                              726 ; 359  |#define RSRC_FUNCLET_OEM_GETSECURESTOREGLOBALPASSWORDSEED 103    
                              727 ; 360  |//$FILENAME _applydiffstostore.src
                              728 ; 361  |#define RSRC_FUNCLET__APPLYDIFFSTOSTORE 104    
                              729 ; 362  |//$FILENAME drm_sst_setdata.src
                              730 ; 363  |#define RSRC_FUNCLET_DRM_SST_SETDATA 105    
                              731 ; 364  |//$FILENAME drm_sst_getlockeddata.src
                              732 ; 365  |#define RSRC_FUNCLET_DRM_SST_GETLOCKEDDATA 106    
                              733 ; 366  |//$FILENAME drm_sst_setlockeddata.src
                              734 ; 367  |#define RSRC_FUNCLET_DRM_SST_SETLOCKEDDATA 107    
                              735 ; 368  |//$FILENAME playerlib_extra.src
                              736 ; 369  |#define RSRC_PLAYERLIB_EXTRA_CODE_BANK 108    
                              737 ; 370  |//$FILENAME wmaCommon.src
                              738 ; 371  |#define RSRC_WMA_COMMON 109    
                              739 ; 372  |//$FILENAME wmainit.src
                              740 ; 373  |#define RSRC_WMA_INIT 110    
                              741 ; 374  |//$FILENAME playlist2traverse_codebank.src
                              742 ; 375  |#define RSRC_PLAYLIST2TRAVERSE_CODEBANK 111    
                              743 ; 376  |//$FILENAME drm_bbx_cipherkeysetup.src
                              744 ; 377  |#define RSRC_FUNCLET_DRM_BBX_CIPHERKEYSETUP 112    
                              745 ; 378  |//$FILENAME drm_lic_checkclockrollback.src
                              746 ; 379  |#define RSRC_FUNCLET_DRM_LIC_CHECKCLOCKROLLBACK 113    
                              747 ; 380  |//$FILENAME drm_hds_closestore.src
                              748 ; 381  |#define RSRC_FUNCLET_DRM_HDS_CLOSESTORE 114    
                              749 ; 382  |//$FILENAME _hdsloadsrn.src
                              750 ; 383  |#define RSRC_FUNCLET__HDSLOADSRN 115    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  13

M:ADDR CODE           CYCLES LINE SOURCELINE
                              751 ; 384  |//$FILENAME _loadproritizedlist.src
                              752 ; 385  |#define RSRC_FUNCLET__LOADPRORITIZEDLIST 116    
                              753 ; 386  |//$FILENAME drm_lst_initenum.src
                              754 ; 387  |#define RSRC_FUNCLET_DRM_LST_INITENUM 117    
                              755 ; 388  |//$FILENAME _loadattributesintocache.src
                              756 ; 389  |#define RSRC_FUNCLET__LOADATTRIBUTESINTOCACHE 118    
                              757 ; 390  |//$FILENAME drm_pk_symmetricverify.src
                              758 ; 391  |#define RSRC_FUNCLET_DRM_PK_SYMMETRICVERIFY 119    
                              759 ; 392  |
                              760 ; 393  |/////////////////////////////////////////////////////////////////////////////////
                              761 ; 394  |//  Menu Modules (codebanks)
                              762 ; 395  |/////////////////////////////////////////////////////////////////////////////////
                              763 ; 396  |//$FILENAME mainmenu.src
                              764 ; 397  |#define RSRC_MAIN_MENU_CODE_BANK 120    
                              765 ; 398  |//$FILENAME displaylists.src
                              766 ; 399  |#define RSRC_DISPLAY_LISTS_CODE_BANK 121    
                              767 ; 400  |
                              768 ; 401  |//$FILENAME voicemenu.src
                              769 ; 402  |#define RSRC_VOICE_MENU_CODE_BANK 122    
                              770 ; 403  |//$FILENAME fmtunermenu.src
                              771 ; 404  |#define RSRC_FMTUNER_MENU_CODE_BANK 123    
                              772 ; 405  |//$FILENAME recorderstatemachine.src
                              773 ; 406  |#define RSRC_RECORDER_STATE_MACHINE_CODE_BANK 124    
                              774 ; 407  |
                              775 ; 408  |//$FILENAME eqmenu.src
                              776 ; 409  |#define RSRC_EQ_MENU_CODE_BANK 125    
                              777 ; 410  |//$FILENAME playmodemenu.src
                              778 ; 411  |#define RSRC_PLAYMODE_MENU_CODE_BANK 126    
                              779 ; 412  |//$FILENAME contrastmenu.src
                              780 ; 413  |#define RSRC_CONTRAST_MENU_CODE_BANK 127    
                              781 ; 414  |//$FILENAME pwrsettingsmenu.src
                              782 ; 415  |#define RSRC_PWRSETTINGS_MENU_CODE_BANK 128    
                              783 ; 416  |//$FILENAME timedatemenu.src
                              784 ; 417  |#define RSRC_TIMEDATE_MENU_CODE_BANK 129    
                              785 ; 418  |//$FILENAME settimemenu.src
                              786 ; 419  |#define RSRC_SETTIME_MENU_CODE_BANK 130    
                              787 ; 420  |//$FILENAME setdatemenu.src
                              788 ; 421  |#define RSRC_SETDATE_MENU_CODE_BANK 131    
                              789 ; 422  |//$FILENAME settingsmenu.src
                              790 ; 423  |#define RSRC_SETTINGS_MENU_CODE_BANK 132    
                              791 ; 424  |//$FILENAME string_system_menu.src
                              792 ; 425  |#define RSRC_SYSTEM_MENU_CODE_BANK 133    
                              793 ; 426  |//$FILENAME deletemenu.src
                              794 ; 427  |#define RSRC_DELETE_MENU_CODE_BANK 134    
                              795 ; 428  |//$FILENAME aboutmenu.src
                              796 ; 429  |#define RSRC_ABOUT_MENU_CODE_BANK 135    
                              797 ; 430  |
                              798 ; 431  |//$FILENAME spectrogram.src
                              799 ; 432  |#define RSRC_SPECTROGRAM_MENU_CODE_BANK 136    
                              800 ; 433  |
                              801 ; 434  |//$FILENAME motionvideomenu.src
                              802 ; 435  |#define RSRC_MOTION_VIDEO_MENU_CODE_BANK 137    
                              803 ; 436  |//$FILENAME motionvideomenuinitstate.src
                              804 ; 437  |#define RSRC_MOTION_VIDEO_MENU_INITSTATE_CODE_BANK 138    
                              805 ; 438  |//$FILENAME jpegdisplaymenu.src
                              806 ; 439  |#define RSRC_JPEG_DISPLAY_MENU_CODE_BANK 139    
                              807 ; 440  |//$FILENAME jpegmanualmenu.src
                              808 ; 441  |#define RSRC_JPEG_MANUAL_MENU_CODE_BANK 140    
                              809 ; 442  |//$FILENAME jpegthumbnailmenu.src
                              810 ; 443  |#define RSRC_JPEG_THUMBNAIL_MENU_CODE_BANK 141    
                              811 ; 444  |//$FILENAME jpegslideshowmenu.src
                              812 ; 445  |#define RSRC_JPEG_SLIDESHOW_MENU_CODE_BANK 142    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  14

M:ADDR CODE           CYCLES LINE SOURCELINE
                              813 ; 446  |//$FILENAME albumartmenu.src
                              814 ; 447  |#define RSRC_ALBUM_ART_MENU_CODE_BANK 143    
                              815 ; 448  |//$FILENAME jpegfileutilextra.src
                              816 ; 449  |#define RSRC_JPEG_FILEUTIL_EXTRA_MENU_CODE_BANK 144    
                              817 ; 450  |
                              818 ; 451  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                              819 ; 452  |// General Modules
                              820 ; 453  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                              821 ; 454  |//$FILENAME MixMod.src
                              822 ; 455  |#define RSRC_MIXMOD_CODE 145    
                              823 ; 456  |//$FILENAME TunerModule.src
                              824 ; 457  |#define RSRC_TUNER_MODULE 146    
                              825 ; 458  |//$FILENAME geqoverlay.src
                              826 ; 459  |#define RSRC_GEQOVERLAY_CODE 147    
                              827 ; 460  |
                              828 ; 461  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                              829 ; 462  |// Decoders/Encoders
                              830 ; 463  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                              831 ; 464  |//$FILENAME DecMod.src
                              832 ; 465  |#define RSRC_DECMOD_CODE 148    
                              833 ; 466  |//$FILENAME mp3p.src
                              834 ; 467  |#define RSRC_MP3P_CODE 149    
                              835 ; 468  |//$FILENAME mp3x.src
                              836 ; 469  |#define RSRC_MP3X_CODE 150    
                              837 ; 470  |//$FILENAME mp3y.src
                              838 ; 471  |#define RSRC_MP3Y_CODE 151    
                              839 ; 472  |//$FILENAME janusp.src
                              840 ; 473  |#define RSRC_JANUSP_CODE 152    
                              841 ; 474  |//RSRC_JANUSY_CODE        equ       29    ;$FILENAME janusy.src
                              842 ; 475  |
                              843 ; 476  |//$FILENAME decadpcmimamod.src
                              844 ; 477  |#define RSRC_DEC_ADPCM_MOD_CODE 153    
                              845 ; 478  |//$FILENAME dec_adpcmp.src
                              846 ; 479  |#define RSRC_DEC_ADPCMP_CODE 154    
                              847 ; 480  |//$FILENAME dec_adpcmx.src
                              848 ; 481  |#define RSRC_DEC_ADPCMX_CODE 155    
                              849 ; 482  |//$FILENAME dec_adpcmy.src
                              850 ; 483  |#define RSRC_DEC_ADPCMY_CODE 156    
                              851 ; 484  |
                              852 ; 485  |//$FILENAME decadpcmsmvmod.src
                              853 ; 486  |#define RSRC_DEC_SMVADPCM_MOD_CODE 157    
                              854 ; 487  |//$FILENAME dec_smvadpcmp.src
                              855 ; 488  |#define RSRC_DEC_SMVADPCMP_CODE 158    
                              856 ; 489  |//$FILENAME dec_smvadpcmx.src
                              857 ; 490  |#define RSRC_DEC_SMVADPCMX_CODE 159    
                              858 ; 491  |//$FILENAME dec_smvadpcmy.src
                              859 ; 492  |#define RSRC_DEC_SMVADPCMY_CODE 160    
                              860 ; 493  |
                              861 ; 494  |//$FILENAME encadpcmimamod.src
                              862 ; 495  |#define RSRC_ENC_ADPCM_MOD_CODE 161    
                              863 ; 496  |//$FILENAME enc_adpcmp.src
                              864 ; 497  |#define RSRC_ENC_ADPCMP_CODE 162    
                              865 ; 498  |//$FILENAME enc_adpcmx.src
                              866 ; 499  |#define RSRC_ENC_ADPCMX_CODE 163    
                              867 ; 500  |//$FILENAME enc_adpcmy.src
                              868 ; 501  |#define RSRC_ENC_ADPCMY_CODE 164    
                              869 ; 502  |
                              870 ; 503  |//$FILENAME jpeg_p.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  15

M:ADDR CODE           CYCLES LINE SOURCELINE
                              871 ; 504  |#define RSRC_JPEG_DECODER_P 165    
                              872 ; 505  |//$FILENAME jpeg_x.src
                              873 ; 506  |#define RSRC_JPEG_DECODER_X 166    
                              874 ; 507  |//$FILENAME jpeg_y.src
                              875 ; 508  |#define RSRC_JPEG_DECODER_Y 167    
                              876 ; 509  |//$FILENAME jpeg2_y.src
                              877 ; 510  |#define RSRC_JPEG_DECODER_Y_2 168    
                              878 ; 511  |//$FILENAME bmp2_y.src
                              879 ; 512  |#define RSRC_BMP_DECODER_Y_2 169    
                              880 ; 513  |//$FILENAME bmp_p.src
                              881 ; 514  |#define RSRC_BMP_DECODER_P 170    
                              882 ; 515  |
                              883 ; 516  |//RSRC_SMVJPEG_DECODER_P    equ       57    ;$FILENAME smvjpeg_p.src
                              884 ; 517  |//$FILENAME smvjpeg_x.src
                              885 ; 518  |#define RSRC_SMVJPEG_DECODER_X 171    
                              886 ; 519  |//$FILENAME smvjpeg_y.src
                              887 ; 520  |#define RSRC_SMVJPEG_DECODER_Y 172    
                              888 ; 521  |
                              889 ; 522  |
                              890 ; 523  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                              891 ; 524  |// System Settings
                              892 ; 525  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                              893 ; 526  |//$FILENAME settings.src
                              894 ; 527  |#define RSRC_SETTINGS_COMMANDS 173    
                              895 ; 528  |
                              896 ; 529  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                              897 ; 530  |// Media Device Drivers
                              898 ; 531  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                              899 ; 532  |//This resource is filled with garbage unless it is the MMC build
                              900 ; 533  |//$FILENAME null.src
                              901 ; 534  |#define RSRC_MMCDD_CODE 174    
                              902 ; 535  |//$FILENAME null.src
                              903 ; 536  |#define RSRC_SMDD_HIGH_CODE 175    
                              904 ; 537  |
                              905 ; 538  |/////////////////////////////////////////////////////////////////////////////////
                              906 ; 539  |//  PlayState resources
                              907 ; 540  |/////////////////////////////////////////////////////////////////////////////////
                              908 ; 541  |//$FILENAME play_icon_with_border.src
                              909 ; 542  |#define RSRC_PLAY_ICON_WITH_BORDER 176    
                              910 ; 543  |//$FILENAME pause_icon_with_border.src
                              911 ; 544  |#define RSRC_PAUSE_ICON_WITH_BORDER 177    
                              912 ; 545  |//$FILENAME stop_icon_with_border.src
                              913 ; 546  |#define RSRC_STOP_ICON_WITH_BORDER 178    
                              914 ; 547  |//$FILENAME record_icon_with_border.src
                              915 ; 548  |#define RSRC_RECORD_ICON_WITH_BORDER 179    
                              916 ; 549  |//$FILENAME paused_record_icon_with_border.src
                              917 ; 550  |#define RSRC_PAUSED_RECORD_ICON_BORDER 180    
                              918 ; 551  |//$FILENAME ffwd_icon_with_border.src
                              919 ; 552  |#define RSRC_FFWD_ICON_WITH_BORDER 181    
                              920 ; 553  |//$FILENAME rwnd_icon_with_border.src
                              921 ; 554  |#define RSRC_RWND_ICON_WITH_BORDER 182    
                              922 ; 555  |
                              923 ; 556  |/////////////////////////////////////////////////////////////////////////////////
                              924 ; 557  |//  PlayMode resources
                              925 ; 558  |/////////////////////////////////////////////////////////////////////////////////
                              926 ; 559  |//$FILENAME repeatall_icon.src
                              927 ; 560  |#define RSRC_REPEAT_ALL_ICON 183    
                              928 ; 561  |//$FILENAME repeatsong_icon.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  16

M:ADDR CODE           CYCLES LINE SOURCELINE
                              929 ; 562  |#define RSRC_REPEAT_SONG_ICON 184    
                              930 ; 563  |//$FILENAME shuffle_icon.src
                              931 ; 564  |#define RSRC_SHUFFLE_ICON 185    
                              932 ; 565  |//$FILENAME random_icon.src
                              933 ; 566  |#define RSRC_RANDOM_ICON 186    
                              934 ; 567  |//$FILENAME repeatallclear_icon.src
                              935 ; 568  |#define RSRC_REPEAT_ALL_CLEAR_ICON 187    
                              936 ; 569  |//$FILENAME repeatsongclear_icon.src
                              937 ; 570  |#define RSRC_REPEAT_SONG_CLEAR_ICON 188    
                              938 ; 571  |//$FILENAME shuffleclear_icon.src
                              939 ; 572  |#define RSRC_SHUFFLE_CLEAR_ICON 189    
                              940 ; 573  |
                              941 ; 574  |/////////////////////////////////////////////////////////////////////////////////
                              942 ; 575  |//  Battery Status
                              943 ; 576  |/////////////////////////////////////////////////////////////////////////////////
                              944 ; 577  |//$FILENAME battery_00.src
                              945 ; 578  |#define RSRC_BATTERY_00 190    
                              946 ; 579  |//$FILENAME battery_01.src
                              947 ; 580  |#define RSRC_BATTERY_01 191    
                              948 ; 581  |//$FILENAME battery_02.src
                              949 ; 582  |#define RSRC_BATTERY_02 192    
                              950 ; 583  |//$FILENAME battery_03.src
                              951 ; 584  |#define RSRC_BATTERY_03 193    
                              952 ; 585  |//$FILENAME battery_04.src
                              953 ; 586  |#define RSRC_BATTERY_04 194    
                              954 ; 587  |//$FILENAME battery_05.src
                              955 ; 588  |#define RSRC_BATTERY_05 195    
                              956 ; 589  |//$FILENAME battery_06.src
                              957 ; 590  |#define RSRC_BATTERY_06 196    
                              958 ; 591  |//$FILENAME battery_07.src
                              959 ; 592  |#define RSRC_BATTERY_07 197    
                              960 ; 593  |//$FILENAME battery_08.src
                              961 ; 594  |#define RSRC_BATTERY_08 198    
                              962 ; 595  |//$FILENAME battery_09.src
                              963 ; 596  |#define RSRC_BATTERY_09 199    
                              964 ; 597  |//$FILENAME battery_10.src
                              965 ; 598  |#define RSRC_BATTERY_10 200    
                              966 ; 599  |
                              967 ; 600  |/////////////////////////////////////////////////////////////////////////////////
                              968 ; 601  |//  System Icons
                              969 ; 602  |/////////////////////////////////////////////////////////////////////////////////
                              970 ; 603  |//$FILENAME disk_small.src
                              971 ; 604  |#define RSRC_DISK_ICON 201    
                              972 ; 605  |//$FILENAME lock_small.src
                              973 ; 606  |#define RSRC_LOCK_ICON 202    
                              974 ; 607  |//$FILENAME icon_music_mode.src
                              975 ; 608  |#define RSRC_MUSIC_MODE_ICON 203    
                              976 ; 609  |//$FILENAME icon_voice_mode.src
                              977 ; 610  |#define RSRC_VOICE_MODE_ICON 204    
                              978 ; 611  |
                              979 ; 612  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                              980 ; 613  |// Volume Bitmaps
                              981 ; 614  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                              982 ; 615  |//$FILENAME icon_vol_00.src
                              983 ; 616  |#define RSRC_ICON_VOL_00 205    
                              984 ; 617  |//$FILENAME icon_vol_01.src
                              985 ; 618  |#define RSRC_ICON_VOL_01 206    
                              986 ; 619  |//$FILENAME icon_vol_02.src
                              987 ; 620  |#define RSRC_ICON_VOL_02 207    
                              988 ; 621  |//$FILENAME icon_vol_03.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  17

M:ADDR CODE           CYCLES LINE SOURCELINE
                              989 ; 622  |#define RSRC_ICON_VOL_03 208    
                              990 ; 623  |//$FILENAME icon_vol_04.src
                              991 ; 624  |#define RSRC_ICON_VOL_04 209    
                              992 ; 625  |//$FILENAME icon_vol_05.src
                              993 ; 626  |#define RSRC_ICON_VOL_05 210    
                              994 ; 627  |//$FILENAME icon_vol_06.src
                              995 ; 628  |#define RSRC_ICON_VOL_06 211    
                              996 ; 629  |//$FILENAME icon_vol_07.src
                              997 ; 630  |#define RSRC_ICON_VOL_07 212    
                              998 ; 631  |//$FILENAME icon_vol_08.src
                              999 ; 632  |#define RSRC_ICON_VOL_08 213    
                             1000 ; 633  |//$FILENAME icon_vol_09.src
                             1001 ; 634  |#define RSRC_ICON_VOL_09 214    
                             1002 ; 635  |//$FILENAME icon_vol_10.src
                             1003 ; 636  |#define RSRC_ICON_VOL_10 215    
                             1004 ; 637  |//$FILENAME icon_vol_11.src
                             1005 ; 638  |#define RSRC_ICON_VOL_11 216    
                             1006 ; 639  |//$FILENAME icon_vol_12.src
                             1007 ; 640  |#define RSRC_ICON_VOL_12 217    
                             1008 ; 641  |//$FILENAME icon_vol_13.src
                             1009 ; 642  |#define RSRC_ICON_VOL_13 218    
                             1010 ; 643  |//$FILENAME icon_vol_14.src
                             1011 ; 644  |#define RSRC_ICON_VOL_14 219    
                             1012 ; 645  |//$FILENAME icon_vol_15.src
                             1013 ; 646  |#define RSRC_ICON_VOL_15 220    
                             1014 ; 647  |//$FILENAME icon_vol_16.src
                             1015 ; 648  |#define RSRC_ICON_VOL_16 221    
                             1016 ; 649  |//$FILENAME icon_vol_17.src
                             1017 ; 650  |#define RSRC_ICON_VOL_17 222    
                             1018 ; 651  |//$FILENAME icon_vol_18.src
                             1019 ; 652  |#define RSRC_ICON_VOL_18 223    
                             1020 ; 653  |//$FILENAME icon_vol_19.src
                             1021 ; 654  |#define RSRC_ICON_VOL_19 224    
                             1022 ; 655  |//$FILENAME icon_vol_20.src
                             1023 ; 656  |#define RSRC_ICON_VOL_20 225    
                             1024 ; 657  |//$FILENAME icon_vol_21.src
                             1025 ; 658  |#define RSRC_ICON_VOL_21 226    
                             1026 ; 659  |//$FILENAME icon_vol_22.src
                             1027 ; 660  |#define RSRC_ICON_VOL_22 227    
                             1028 ; 661  |//$FILENAME icon_vol_23.src
                             1029 ; 662  |#define RSRC_ICON_VOL_23 228    
                             1030 ; 663  |//$FILENAME icon_vol_24.src
                             1031 ; 664  |#define RSRC_ICON_VOL_24 229    
                             1032 ; 665  |//$FILENAME icon_vol_25.src
                             1033 ; 666  |#define RSRC_ICON_VOL_25 230    
                             1034 ; 667  |//$FILENAME icon_vol_26.src
                             1035 ; 668  |#define RSRC_ICON_VOL_26 231    
                             1036 ; 669  |//$FILENAME icon_vol_27.src
                             1037 ; 670  |#define RSRC_ICON_VOL_27 232    
                             1038 ; 671  |//$FILENAME icon_vol_28.src
                             1039 ; 672  |#define RSRC_ICON_VOL_28 233    
                             1040 ; 673  |//$FILENAME icon_vol_29.src
                             1041 ; 674  |#define RSRC_ICON_VOL_29 234    
                             1042 ; 675  |//$FILENAME icon_vol_30.src
                             1043 ; 676  |#define RSRC_ICON_VOL_30 235    
                             1044 ; 677  |//$FILENAME icon_vol_31.src
                             1045 ; 678  |#define RSRC_ICON_VOL_31 236    
                             1046 ; 679  |
                             1047 ; 680  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             1048 ; 681  |// Splash Screen Stuff
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  18

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1049 ; 682  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             1050 ; 683  |//$FILENAME st_bw1.src
                             1051 ; 684  |#define RSRC_SPLASH_SCREEN 237    
                             1052 ; 685  |//$FILENAME siglogo1.src
                             1053 ; 686  |#define RSRC_SPLASH_SCREEN_1 238    
                             1054 ; 687  |//$FILENAME siglogo2.src
                             1055 ; 688  |#define RSRC_SPLASH_SCREEN_2 239    
                             1056 ; 689  |//$FILENAME siglogo3.src
                             1057 ; 690  |#define RSRC_SPLASH_SCREEN_3 240    
                             1058 ; 691  |//$FILENAME siglogo4.src
                             1059 ; 692  |#define RSRC_SPLASH_SCREEN_4 241    
                             1060 ; 693  |//$FILENAME siglogo5.src
                             1061 ; 694  |#define RSRC_SPLASH_SCREEN_5 242    
                             1062 ; 695  |//$FILENAME siglogo6.src
                             1063 ; 696  |#define RSRC_SPLASH_SCREEN_6 243    
                             1064 ; 697  |//$FILENAME siglogo7.src
                             1065 ; 698  |#define RSRC_SPLASH_SCREEN_7 244    
                             1066 ; 699  |//$FILENAME siglogo8.src
                             1067 ; 700  |#define RSRC_SPLASH_SCREEN_8 245    
                             1068 ; 701  |//$FILENAME siglogo9.src
                             1069 ; 702  |#define RSRC_SPLASH_SCREEN_9 246    
                             1070 ; 703  |//$FILENAME siglogo10.src
                             1071 ; 704  |#define RSRC_SPLASH_SCREEN_10 247    
                             1072 ; 705  |//$FILENAME siglogo11.src
                             1073 ; 706  |#define RSRC_SPLASH_SCREEN_11 248    
                             1074 ; 707  |//$FILENAME siglogo12.src
                             1075 ; 708  |#define RSRC_SPLASH_SCREEN_12 249    
                             1076 ; 709  |//$FILENAME siglogo13.src
                             1077 ; 710  |#define RSRC_SPLASH_SCREEN_13 250    
                             1078 ; 711  |//$FILENAME siglogo.src
                             1079 ; 712  |#define RSRC_SPLASH_SCREEN_ALL 251    
                             1080 ; 713  |
                             1081 ; 714  |//$FILENAME locked.src
                             1082 ; 715  |#define RSRC_LOCKED_SCREEN 252    
                             1083 ; 716  |
                             1084 ; 717  |/////////////////////////////////////////////////////////////////////////////////
                             1085 ; 718  |//  Shutdown
                             1086 ; 719  |/////////////////////////////////////////////////////////////////////////////////
                             1087 ; 720  |//$FILENAME string_arial_8_continue_holding_to_power_off.src
                             1088 ; 721  |#define RSRC_PDOWN_HOLD_STRING 253    
                             1089 ; 722  |//$FILENAME status_16_6_steps_0.src
                             1090 ; 723  |#define RSRC_PDOWN_STATUS_0 254    
                             1091 ; 724  |//$FILENAME status_16_6_steps_1.src
                             1092 ; 725  |#define RSRC_PDOWN_STATUS_1 255    
                             1093 ; 726  |//$FILENAME status_16_6_steps_2.src
                             1094 ; 727  |#define RSRC_PDOWN_STATUS_2 256    
                             1095 ; 728  |//$FILENAME status_16_6_steps_3.src
                             1096 ; 729  |#define RSRC_PDOWN_STATUS_3 257    
                             1097 ; 730  |//$FILENAME status_16_6_steps_4.src
                             1098 ; 731  |#define RSRC_PDOWN_STATUS_4 258    
                             1099 ; 732  |//$FILENAME status_16_6_steps_5.src
                             1100 ; 733  |#define RSRC_PDOWN_STATUS_5 259    
                             1101 ; 734  |//$FILENAME status_16_6_steps_6.src
                             1102 ; 735  |#define RSRC_PDOWN_STATUS_6 260    
                             1103 ; 736  |
                             1104 ; 737  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             1105 ; 738  |// EQ
                             1106 ; 739  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             1107 ; 740  |//$FILENAME eq_clear_icon.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  19

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1108 ; 741  |#define RSRC_EQ_CLEAR_ICON 261    
                             1109 ; 742  |//$FILENAME rock_icon.src
                             1110 ; 743  |#define RSRC_ROCK_ICON 262    
                             1111 ; 744  |//$FILENAME jazz_icon.src
                             1112 ; 745  |#define RSRC_JAZZ_ICON 263    
                             1113 ; 746  |//$FILENAME classic_icon.src
                             1114 ; 747  |#define RSRC_CLASSIC_ICON 264    
                             1115 ; 748  |//$FILENAME pop_icon.src
                             1116 ; 749  |#define RSRC_POP_ICON 265    
                             1117 ; 750  |//$FILENAME custom_icon.src
                             1118 ; 751  |#define RSRC_CUSTOM_ICON 266    
                             1119 ; 752  |
                             1120 ; 753  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             1121 ; 754  |// AB
                             1122 ; 755  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             1123 ; 756  |//$FILENAME ab_mark_a.src
                             1124 ; 757  |#define RSRC_AB_MARK_A_ICON 267    
                             1125 ; 758  |//$FILENAME ab_mark_b.src
                             1126 ; 759  |#define RSRC_AB_MARK_B_ICON 268    
                             1127 ; 760  |
                             1128 ; 761  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             1129 ; 762  |// Menu Display Resources
                             1130 ; 763  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             1131 ; 764  |//$FILENAME string_music_menu.src
                             1132 ; 765  |#define RSRC_STRING_MUSIC_MENU 269    
                             1133 ; 766  |//$FILENAME string_mvideo_menu.src
                             1134 ; 767  |#define RSRC_STRING_MVIDEO_MENU 270    
                             1135 ; 768  |//$FILENAME string_jpeg_display_menu.src
                             1136 ; 769  |#define RSRC_STRING_JPEG_DISPLAY_MENU 271    
                             1137 ; 770  |//$FILENAME string_jpeg_manual_menu.src
                             1138 ; 771  |#define RSRC_STRING_JPEG_MANUAL_MENU 272    
                             1139 ; 772  |//$FILENAME string_jpeg_slideshow_menu.src
                             1140 ; 773  |#define RSRC_STRING_JPEG_SLIDESHOW_MENU 273    
                             1141 ; 774  |//$FILENAME string_jpeg_thumbnail_menu.src
                             1142 ; 775  |#define RSRC_STRING_JPEG_THUMBNAIL_MENU 274    
                             1143 ; 776  |//$FILENAME string_voice_menu.src
                             1144 ; 777  |#define RSRC_STRING_VOICE_MENU 275    
                             1145 ; 778  |//$FILENAME string_audible_menu.src
                             1146 ; 779  |#define RSRC_STRING_AUDIBLE_MENU 276    
                             1147 ; 780  |//$FILENAME string_fmtuner_menu.src
                             1148 ; 781  |#define RSRC_STRING_FMTUNER_MENU 277    
                             1149 ; 782  |//$FILENAME string_settings_menu.src
                             1150 ; 783  |#define RSRC_STRING_SETTINGS_MENU 278    
                             1151 ; 784  |//$FILENAME string_eq_menu.src
                             1152 ; 785  |#define RSRC_STRING_EQ_MENU 279    
                             1153 ; 786  |//$FILENAME string_playmode_menu.src
                             1154 ; 787  |#define RSRC_STRING_PLAYMODE_MENU 280    
                             1155 ; 788  |//$FILENAME string_contrast_menu.src
                             1156 ; 789  |#define RSRC_STRING_CONTRAST_MENU 281    
                             1157 ; 790  |//$FILENAME string_pwrsavings_menu.src
                             1158 ; 791  |#define RSRC_STRING_PWRSAVINGS_MENU 282    
                             1159 ; 792  |//$FILENAME string_time_date_menu.src
                             1160 ; 793  |#define RSRC_STRING_TIME_DATE_MENU 283    
                             1161 ; 794  |//$FILENAME string_set_time_menu.src
                             1162 ; 795  |#define RSRC_STRING_SET_TIME_MENU 284    
                             1163 ; 796  |//$FILENAME string_set_date_menu.src
                             1164 ; 797  |#define RSRC_STRING_SET_DATE_MENU 285    
                             1165 ; 798  |//$FILENAME string_exit_menu.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  20

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1166 ; 799  |#define RSRC_STRING_EXIT_MENU 286    
                             1167 ; 800  |//$FILENAME string_rock_menu.src
                             1168 ; 801  |#define RSRC_STRING_ROCK_MENU 287    
                             1169 ; 802  |//$FILENAME string_pop_menu.src
                             1170 ; 803  |#define RSRC_STRING_POP_MENU 288    
                             1171 ; 804  |//$FILENAME string_classic_menu.src
                             1172 ; 805  |#define RSRC_STRING_CLASSIC_MENU 289    
                             1173 ; 806  |//$FILENAME string_normal_menu.src
                             1174 ; 807  |#define RSRC_STRING_NORMAL_MENU 290    
                             1175 ; 808  |//$FILENAME string_jazz_menu.src
                             1176 ; 809  |#define RSRC_STRING_JAZZ_MENU 291    
                             1177 ; 810  |//$FILENAME string_repeat1_menu.src
                             1178 ; 811  |#define RSRC_STRING_REPEAT1_MENU 292    
                             1179 ; 812  |//$FILENAME string_repeatall_menu.src
                             1180 ; 813  |#define RSRC_STRING_REPEATALL_MENU 293    
                             1181 ; 814  |//$FILENAME string_shuffle_menu.src
                             1182 ; 815  |#define RSRC_STRING_SHUFFLE_MENU 294    
                             1183 ; 816  |//$FILENAME string_repeatshuffle_menu.src
                             1184 ; 817  |#define RSRC_STRING_SHUFFLEREPEAT_MENU 295    
                             1185 ; 818  |//$FILENAME string_disable_menu.src
                             1186 ; 819  |#define RSRC_STRING_DISABLE_MENU 296    
                             1187 ; 820  |//$FILENAME string_1min_menu.src
                             1188 ; 821  |#define RSRC_STRING_1MIN_MENU 297    
                             1189 ; 822  |//$FILENAME string_2min_menu.src
                             1190 ; 823  |#define RSRC_STRING_2MIN_MENU 298    
                             1191 ; 824  |//$FILENAME string_5min_menu.src
                             1192 ; 825  |#define RSRC_STRING_5MIN_MENU 299    
                             1193 ; 826  |//$FILENAME string_10min_menu.src
                             1194 ; 827  |#define RSRC_STRING_10MIN_MENU 300    
                             1195 ; 828  |//$FILENAME string_system_menu.src
                             1196 ; 829  |#define RSRC_STRING_SYSTEM_MENU 301    
                             1197 ; 830  |//$FILENAME string_about_menu.src
                             1198 ; 831  |#define RSRC_STRING_ABOUT_MENU 302    
                             1199 ; 832  |//$FILENAME string_delete_menu.src
                             1200 ; 833  |#define RSRC_STRING_DELETE_MENU 303    
                             1201 ; 834  |//$FILENAME string_record_menu.src
                             1202 ; 835  |#define RSRC_STRING_RECORD_MENU 304    
                             1203 ; 836  |//$FILENAME string_spectrogram_menu.src
                             1204 ; 837  |#define RSRC_STRING_SPECTROGRAM_MENU 305    
                             1205 ; 838  |
                             1206 ; 839  |//$FILENAME string_end_of_slide_show.src
                             1207 ; 840  |#define RSRC_STRING_END_OF_SLIDE_SHOW 306    
                             1208 ; 841  |
                             1209 ; 842  |//$FILENAME string_mb.src
                             1210 ; 843  |#define RSRC_STRING_MB 307    
                             1211 ; 844  |
                             1212 ; 845  |//$FILENAME internal_media.src
                             1213 ; 846  |#define RSRC_INT_MEDIA 308    
                             1214 ; 847  |//$FILENAME external_media.src
                             1215 ; 848  |#define RSRC_EXT_MEDIA 309    
                             1216 ; 849  |
                             1217 ; 850  |//$FILENAME about_title.src
                             1218 ; 851  |#define RSRC_ABOUT_TITLE 310    
                             1219 ; 852  |//$FILENAME player_name.src
                             1220 ; 853  |#define RSRC_PLAYER_NAME_VER 311    
                             1221 ; 854  |
                             1222 ; 855  |//$FILENAME settings_title.src
                             1223 ; 856  |#define RSRC_SETTINGS_TITLE 312    
                             1224 ; 857  |//$FILENAME jpeg_display_title.src
                             1225 ; 858  |#define RSRC_JPEG_DISPLAY_TITLE 313    
                             1226 ; 859  |//$FILENAME erase_title.src
                             1227 ; 860  |#define RSRC_ERASE_TITLE 314    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  21

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1228 ; 861  |
                             1229 ; 862  |//$FILENAME del_warning_no.src
                             1230 ; 863  |#define RSRC_DELETE_NO 315    
                             1231 ; 864  |//$FILENAME del_warning_yes.src
                             1232 ; 865  |#define RSRC_DELETE_YES 316    
                             1233 ; 866  |//$FILENAME del_warning_line1.src
                             1234 ; 867  |#define RSRC_WARNING_MSG_LINE1 317    
                             1235 ; 868  |//$FILENAME del_warning_line2.src
                             1236 ; 869  |#define RSRC_WARNING_MSG_LINE2 318    
                             1237 ; 870  |//$FILENAME lowbattery.src
                             1238 ; 871  |#define RSRC_BROWNOUT_BITMAP 319    
                             1239 ; 872  |//$FILENAME vbr.src
                             1240 ; 873  |#define RSRC_VBR_BITMAP 320    
                             1241 ; 874  |
                             1242 ; 875  |//$FILENAME string_song.src
                             1243 ; 876  |#define RSRC_STRING_SONG_COLON 321    
                             1244 ; 877  |//$FILENAME string_voice.src
                             1245 ; 878  |#define RSRC_STRING_VOICE_COLON 322    
                             1246 ; 879  |
                             1247 ; 880  |//$FILENAME time_date_title.src
                             1248 ; 881  |#define RSRC_TIME_DATE_TITLE 323    
                             1249 ; 882  |//$FILENAME set_time_title.src
                             1250 ; 883  |#define RSRC_SET_TIME_TITLE 324    
                             1251 ; 884  |//$FILENAME set_date_title.src
                             1252 ; 885  |#define RSRC_SET_DATE_TITLE 325    
                             1253 ; 886  |//$FILENAME string_searching.src
                             1254 ; 887  |#define RSRC_STRING_SEARCHING 326    
                             1255 ; 888  |/////////////////////////////////////////////////////////////////////////////////
                             1256 ; 889  |//  Save Changes
                             1257 ; 890  |/////////////////////////////////////////////////////////////////////////////////
                             1258 ; 891  |//$FILENAME save_changes_yes.src
                             1259 ; 892  |#define RSRC_SAVE_CHANGES_YES 327    
                             1260 ; 893  |//$FILENAME save_changes_no.src
                             1261 ; 894  |#define RSRC_SAVE_CHANGES_NO 328    
                             1262 ; 895  |//$FILENAME save_changes_cancel.src
                             1263 ; 896  |#define RSRC_SAVE_CHANGES_CANCEL 329    
                             1264 ; 897  |//$FILENAME save_changes_clear.src
                             1265 ; 898  |#define RSRC_SAVE_CHANGES_CLEAR 330    
                             1266 ; 899  |/////////////////////////////////////////////////////////////////////////////////
                             1267 ; 900  |//  Contrast
                             1268 ; 901  |/////////////////////////////////////////////////////////////////////////////////
                             1269 ; 902  |//$FILENAME contrast_title.src
                             1270 ; 903  |#define RSRC_CONTRAST_TITLE 331    
                             1271 ; 904  |//$FILENAME contrast_frame.src
                             1272 ; 905  |#define RSRC_CONTRAST_FRAME 332    
                             1273 ; 906  |//$FILENAME contrast_level0.src
                             1274 ; 907  |#define RSRC_CONTRAST_LEVEL_0 333    
                             1275 ; 908  |//$FILENAME contrast_level1.src
                             1276 ; 909  |#define RSRC_CONTRAST_LEVEL_1 334    
                             1277 ; 910  |//$FILENAME contrast_level2.src
                             1278 ; 911  |#define RSRC_CONTRAST_LEVEL_2 335    
                             1279 ; 912  |//$FILENAME contrast_level3.src
                             1280 ; 913  |#define RSRC_CONTRAST_LEVEL_3 336    
                             1281 ; 914  |//$FILENAME contrast_level4.src
                             1282 ; 915  |#define RSRC_CONTRAST_LEVEL_4 337    
                             1283 ; 916  |//$FILENAME contrast_level5.src
                             1284 ; 917  |#define RSRC_CONTRAST_LEVEL_5 338    
                             1285 ; 918  |//$FILENAME contrast_level6.src
                             1286 ; 919  |#define RSRC_CONTRAST_LEVEL_6 339    
                             1287 ; 920  |//$FILENAME contrast_level7.src
                             1288 ; 921  |#define RSRC_CONTRAST_LEVEL_7 340    
                             1289 ; 922  |//$FILENAME contrast_level8.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  22

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1290 ; 923  |#define RSRC_CONTRAST_LEVEL_8 341    
                             1291 ; 924  |//$FILENAME contrast_level9.src
                             1292 ; 925  |#define RSRC_CONTRAST_LEVEL_9 342    
                             1293 ; 926  |//$FILENAME contrast_level10.src
                             1294 ; 927  |#define RSRC_CONTRAST_LEVEL_10 343    
                             1295 ; 928  |
                             1296 ; 929  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             1297 ; 930  |// Funclets
                             1298 ; 931  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             1299 ; 932  |//$FILENAME Funclet_SetRTC.src
                             1300 ; 933  |#define RSRC_FUNCLET_SET_RTC 344    
                             1301 ; 934  |//$FILENAME Funclet_InitRTC.src
                             1302 ; 935  |#define RSRC_FUNCLET_INIT_RTC 345    
                             1303 ; 936  |//$FILENAME Funclet_ReadRTC.src
                             1304 ; 937  |#define RSRC_FUNCLET_READ_RTC 346    
                             1305 ; 938  |//$FILENAME Funclet_SysResetAllInt.src
                             1306 ; 939  |#define RSRC_FUNCLET_SYSRESETALLINT 347    
                             1307 ; 940  |//$FILENAME Funclet_SysSetupDecVec.src
                             1308 ; 941  |#define RSRC_FUNCLET_SYSSETUPDECVEC 348    
                             1309 ; 942  |//$FILENAME Funclet_SysSetupEncVec.src
                             1310 ; 943  |#define RSRC_FUNCLET_SYSSETUPENCVEC 349    
                             1311 ; 944  |//$FILENAME Funclet_SysTimeInit.src
                             1312 ; 945  |#define RSRC_FUNCLET_SYSTIMEINIT 350    
                             1313 ; 946  |//$FILENAME Funclet_AnalogInit.src
                             1314 ; 947  |#define RSRC_FUNCLET_ANALOGINIT 351    
                             1315 ; 948  |//$FILENAME Funclet_UsbConnected.src
                             1316 ; 949  |#define RSRC_FUNCLET_USBCONNECTED 352    
                             1317 ; 950  |//$FILENAME Funclet_ButtonInit.src
                             1318 ; 951  |#define RSRC_FUNCLET_BUTTONINIT 353    
                             1319 ; 952  |//$FILENAME Funclet_PowerUpHeadPhones.src
                             1320 ; 953  |#define RSRC_FUNCLET_POWERUPHEADPHONES 354    
                             1321 ; 954  |//$FILENAME Funclet_PowerDownHeadPhones.src
                             1322 ; 955  |#define RSRC_FUNCLET_POWERDOWNHEADPHONES 355    
                             1323 ; 956  |//$FILENAME Funclet_StartProject.src
                             1324 ; 957  |#define RSRC_FUNCLET_STARTPROJECT 356    
                             1325 ; 958  |//$FILENAME Funclet_ModuleSetTimer.src
                             1326 ; 959  |#define RSRC_FUNCLET_MODULESETTIMER 357    
                             1327 ; 960  |//$FILENAME null.src
                             1328 ; 961  |#define RSRC_FUNCLET_MEDIADETECTION 358    
                             1329 ; 962  |//$FILENAME Funclet_SysStopDecoder.src
                             1330 ; 963  |#define RSRC_FUNCLET_SYSSTOPDECODER 359    
                             1331 ; 964  |//$FILENAME Funclet_SysStopEncoder.src
                             1332 ; 965  |#define RSRC_FUNCLET_SYSSTOPENCODER 360    
                             1333 ; 966  |//$FILENAME Funclet_SysSetDecoder.src
                             1334 ; 967  |#define RSRC_FUNCLET_SYSSETDECODER 361    
                             1335 ; 968  |//$FILENAME Funclet_SysSetEncoder.src
                             1336 ; 969  |#define RSRC_FUNCLET_SYSSETENCODER 362    
                             1337 ; 970  |//$FILENAME null.src
                             1338 ; 971  |#define RSRC_FUNCLET_PROCESSPT 363    
                             1339 ; 972  |//$FILENAME Funclet_DisplaySplashScreen.src
                             1340 ; 973  |#define RSRC_FUNCLET_DISPLAYSPLASHSCREEN 364    
                             1341 ; 974  |//$FILENAME Funclet_SysGetVolume.src
                             1342 ; 975  |#define RSRC_FUNCLET_SYSGETVOLUME 365    
                             1343 ; 976  |//$FILENAME null.src
                             1344 ; 977  |#define RSRC_FUNCLET_MMCENUMERATEPHYSICALDEVICE 366    
                             1345 ; 978  |//$FILENAME null.src
                             1346 ; 979  |#define RSRC_FUNCLET_RESETDEVICE 367    
                             1347 ; 980  |//$FILENAME null.src
                             1348 ; 981  |#define RSRC_FUNCLET_PROCESSCSD 368    
                             1349 ; 982  |//$FILENAME null.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  23

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1350 ; 983  |#define RSRC_FUNCLET_PROCESSPARTITION 369    
                             1351 ; 984  |//$FILENAME null.src
                             1352 ; 985  |#define RSRC_FUNCLET_PARTITIONENTRYCOPY 370    
                             1353 ; 986  |//$FILENAME Funclet_MixerMasterFadeOut.src
                             1354 ; 987  |#define RSRC_FUNCLET_MIXER_MASTER_FADE_OUT 371    
                             1355 ; 988  |//$FILENAME Funclet_MixerMasterFadeIn.src
                             1356 ; 989  |#define RSRC_FUNCLET_MIXER_MASTER_FADE_IN 372    
                             1357 ; 990  |//$FILENAME Funclet_EncSetProperties.src
                             1358 ; 991  |#define RSRC_FUNCLET_ENCSETPROPERTIES 373    
                             1359 ; 992  |//$FILENAME null.src
                             1360 ; 993  |#define RSRC_FUNCLET_DOESMBREXIST 374    
                             1361 ; 994  |//$FILENAME null.src
                             1362 ; 995  |#define RSRC_FUNCLET_EXTRACTPARTITIONPARAMETERS 375    
                             1363 ; 996  |//$FILENAME Funclet_SaveSettings.src
                             1364 ; 997  |#define RSRC_FUNCLET_SYSSAVESETTINGS 376    
                             1365 ; 998  |//$FILENAME Funclet_LoadSettings.src
                             1366 ; 999  |#define RSRC_FUNCLET_SYSLOADSETTINGS 377    
                             1367 ; 1000 |///////////////////////////////////////////////////////////////
                             1368 ; 1001 |// Sanyo FM Tuner Fuclet
                             1369 ; 1002 |///////////////////////////////////////////////////////////////
                             1370 ; 1003 |//RSRC_FUNCLET_TUNER_DRIVER_INIT    equ      334    ;$FILENAME Funclet_TunerDriverInit.src
                                  
                             1371 ; 1004 |//RSRC_FUNCLET_TUNER_SCAN_STATIONS    equ      335    ;$FILENAME Funclet_TunerScanStations
                                  .src
                             1372 ; 1005 |//RSRC_FUNCLET_TUNER_SET_TO_PRESET    equ      336    ;$FILENAME Funclet_TunerSetToPreset.
                                  src
                             1373 ; 1006 |//RSRC_FUNCLET_TUNER_SET_MONO_STEREO    equ      337    ;$FILENAME Funclet_TunerSetMonoSte
                                  reo.src
                             1374 ; 1007 |//RSRC_FUNCLET_TUNER_SET_STANDBY    equ      338    ;$FILENAME Funclet_TunerSetStandby.src
                                  
                             1375 ; 1008 |//RSRC_FUNCLET_TUNER_SET_PRESET    equ      339    ;$FILENAME Funclet_TunerSetPreset.src
                             1376 ; 1009 |//RSRC_FUNCLET_TUNER_ERASE_PRESET    equ      340    ;$FILENAME Funclet_TunerErasePreset.s
                                  rc
                             1377 ; 1010 |//RSRC_FUNCLET_TUNER_SET_IF    equ      341    ;$FILENAME Funclet_TunerSetIf.src
                             1378 ; 1011 |//RSRC_FUNCLET_TUNER_WRITE_IF_OSC    equ      342    ;$FILENAME Funclet_TunerWriteIfOSc.sr
                                  c
                             1379 ; 1012 |//RSRC_FUNCLET_TUNER_GET_FIELD_STRENGTH    equ      343    ;$FILENAME Funclet_TunerGetFiel
                                  dStrength.src
                             1380 ; 1013 |//RSRC_FUNCLET_TUNER_INIT_RF_CAP_OSC    equ      344    ;$FILENAME Funclet_TunerInitRfCapO
                                  sc.src
                             1381 ; 1014 |//RSRC_FUNCLET_TUNER_STORE_FM_STATION    equ      345    ;$FILENAME Funclet_TunerStoreFmSt
                                  ation.src
                             1382 ; 1015 |//RSRC_FUNCLET_TUNER_STORE_FM_PRESET    equ      346    ;$FILENAME Funclet_TunerStoreFmPre
                                  set.src
                             1383 ; 1016 |//RSRC_FUNCLET_TUNER_SET_REGION    equ      347    ;$FILENAME Funclet_TunerSetRegion.src
                             1384 ; 1017 |
                             1385 ; 1018 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             1386 ; 1019 |// WMA Resources
                             1387 ; 1020 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             1388 ; 1021 |//$FILENAME wmaCore.src
                             1389 ; 1022 |#define RSRC_WMA_CORE 378    
                             1390 ; 1023 |//$FILENAME wmaMidLow.src
                             1391 ; 1024 |#define RSRC_WMA_MIDLOW 379    
                             1392 ; 1025 |//$FILENAME wmaHigh.src
                             1393 ; 1026 |#define RSRC_WMA_HIGH 380    
                             1394 ; 1027 |//$FILENAME wmaHighMid.src
                             1395 ; 1028 |#define RSRC_WMA_HIGHMID 381    
                             1396 ; 1029 |//$FILENAME wmaMid.src
                             1397 ; 1030 |#define RSRC_WMA_MID 382    
                             1398 ; 1031 |//$FILENAME wmaLow.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  24

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1399 ; 1032 |#define RSRC_WMA_LOW 383    
                             1400 ; 1033 |//$FILENAME wmaX1mem.src
                             1401 ; 1034 |#define RSRC_WMA_DATA_X1 384    
                             1402 ; 1035 |//$FILENAME wmaYmem.src
                             1403 ; 1036 |#define RSRC_WMA_DATA_Y 385    
                             1404 ; 1037 |//$FILENAME wmaLXmem.src
                             1405 ; 1038 |#define RSRC_WMA_DATA_L_X 386    
                             1406 ; 1039 |//$FILENAME wmaLYmem.src
                             1407 ; 1040 |#define RSRC_WMA_DATA_L_Y 387    
                             1408 ; 1041 |//$FILENAME wmaHuff44Qb.src
                             1409 ; 1042 |#define RSRC_WMA_HUFF44QB 388    
                             1410 ; 1043 |//$FILENAME wmaHuff44Ob.src
                             1411 ; 1044 |#define RSRC_WMA_HUFF44OB 389    
                             1412 ; 1045 |//$FILENAME wmaHuff16Ob.src
                             1413 ; 1046 |#define RSRC_WMA_HUFF16OB 390    
                             1414 ; 1047 |//$FILENAME drmpdcommon.src
                             1415 ; 1048 |#define RSRC_DRMPD_COMMON 391    
                             1416 ; 1049 |//$FILENAME januswmasupport.src
                             1417 ; 1050 |#define RSRC_JANUS_WMASUPPORT 392    
                             1418 ; 1051 |//$FILENAME wmalicenseinit.src
                             1419 ; 1052 |#define RSRC_WMA_LICENSEINIT 393    
                             1420 ; 1053 |//$FILENAME wma_tables.src
                             1421 ; 1054 |#define RSRC_WMA_TABLES 394    
                             1422 ; 1055 |//$FILENAME janus_tables.src
                             1423 ; 1056 |#define RSRC_JANUS_TABLES 395    
                             1424 ; 1057 |//$FILENAME wma_constants.src
                             1425 ; 1058 |#define RSRC_WMA_CONSTANTS 396    
                             1426 ; 1059 |//$FILENAME janus_constants.src
                             1427 ; 1060 |#define RSRC_JANUS_CONSTANTS 397    
                             1428 ; 1061 |//$FILENAME janus_xmem.src
                             1429 ; 1062 |#define RSRC_JANUS_X 398    
                             1430 ; 1063 |//$FILENAME janusy_data.src
                             1431 ; 1064 |#define RSRC_JANUSY_DATA 399    
                             1432 ; 1065 |
                             1433 ; 1066 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             1434 ; 1067 |// Fonts -- these are last because they are very large
                             1435 ; 1068 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             1436 ; 1069 |//$FILENAME font_table.src
                             1437 ; 1070 |#define RSRC_FONT_TABLE 400    
                             1438 ; 1071 |//$FILENAME font_PGM.src
                             1439 ; 1072 |#define RSRC_PGM_8 401    
                             1440 ; 1073 |//$FILENAME font_SGMs.src
                             1441 ; 1074 |#define RSRC_SGMS_8 402    
                             1442 ; 1075 |//$FILENAME font_script_00.src
                             1443 ; 1076 |#define RSRC_SCRIPT_00_8 403    
                             1444 ; 1077 |//$FILENAME font_scripts.src
                             1445 ; 1078 |#define RSRC_SCRIPTS_8 404    
                             1446 ; 1079 |//$FILENAME font_PDM.src
                             1447 ; 1080 |#define RSRC_PDM 405    
                             1448 ; 1081 |//$FILENAME font_SDMs.src
                             1449 ; 1082 |#define RSRC_SDMS 406    
                             1450 ; 1083 |//$FILENAME bitmap_warning.src
                             1451 ; 1084 |#define RSRC_WARNING 407    
                             1452 ; 1085 |//$FILENAME bitmap_device_full.src
                             1453 ; 1086 |#define RSRC_DEVICE_FULL 408    
                             1454 ; 1087 |
                             1455 ; 1088 |
                             1456 ; 1089 |//$FILENAME lcd_controller_init.src
                             1457 ; 1090 |#define RSRC_LCD_INIT_SEQ 409    
                             1458 ; 1091 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  25

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1459 ; 1092 |//$FILENAME Funclet_DBCSToUnicode.src
                             1460 ; 1093 |#define RSRC_FUNCLET_DBCS_TO_UNICODE 410    
                             1461 ; 1094 |//$FILENAME Funclet_DBCSToUnicodeDstXSrcY.src
                             1462 ; 1095 |#define RSRC_FUNCLET_DBCS_TO_UNICODE_DSTX_SRCY 411    
                             1463 ; 1096 |//$FILENAME Funclet_LCDSetFont.src
                             1464 ; 1097 |#define RSRC_FUNCLET_SET_FONT 412    
                             1465 ; 1098 |//$FILENAME Funclet_GetTextWidthAddressUnicode.src
                             1466 ; 1099 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_ADDRESS_UNICODE 413    
                             1467 ; 1100 |//$FILENAME Funclet_GetTextWidthResourceUnicode.src
                             1468 ; 1101 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_RESOURCE_UNICODE 414    
                             1469 ; 1102 |//$FILENAME Funclet_GetTextWidthAddressDBCS.src
                             1470 ; 1103 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_ADDRESS_DBCS 415    
                             1471 ; 1104 |//$FILENAME Funclet_GetTextWidthResourceDBCS.src
                             1472 ; 1105 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_RESOURCE_DBCS 416    
                             1473 ; 1106 |//$FILENAME Funclet_ChipSerialNumberInit.src
                             1474 ; 1107 |#define RSRC_FUNCLET_CHIPSERIALNUMBERINIT 417    
                             1475 ; 1108 |//$FILENAME Funclet_InternalMediaSerialNumberInit.src
                             1476 ; 1109 |#define RSRC_FUNCLET_INTERNALMEDIASERIALNUMBERINIT 418    
                             1477 ; 1110 |//$FILENAME Funclet_ChipGetSerialNumber.src
                             1478 ; 1111 |#define RSRC_FUNCLET_CHIPGETSERIALNUMBER 419    
                             1479 ; 1112 |//$FILENAME Funclet_CreateNullSerialNumber.src
                             1480 ; 1113 |#define RSRC_FUNCLET_CREATENULLSERIALNUMBER 420    
                             1481 ; 1114 |//$FILENAME Funclet_ConvertHexToASCII.src
                             1482 ; 1115 |#define RSRC_FUNCLET_CONVERTHEXTOASCII 421    
                             1483 ; 1116 |//$FILENAME Funclet_LowResolutionAdcInit.src
                             1484 ; 1117 |#define RSRC_FUNCLET_LOWRESOLUTIONADCINIT 422    
                             1485 ; 1118 |
                             1486 ; 1119 |
                             1487 ; 1120 |//$FILENAME sysrecord.src
                             1488 ; 1121 |#define RSRC_SYSRECORD_CODE 423    
                             1489 ; 1122 |
                             1490 ; 1123 |//$FILENAME string_record_settings.src
                             1491 ; 1124 |#define RSRC_STRING_RECORD_SETTINGS 424    
                             1492 ; 1125 |//$FILENAME string_sample_rate.src
                             1493 ; 1126 |#define RSRC_STRING_SAMPLE_RATE 425    
                             1494 ; 1127 |//$FILENAME string_encoder.src
                             1495 ; 1128 |#define RSRC_STRING_ENCODER 426    
                             1496 ; 1129 |//$FILENAME string_adpcm.src
                             1497 ; 1130 |#define RSRC_STRING_ADPCM 427    
                             1498 ; 1131 |//$FILENAME string_msadpcm.src
                             1499 ; 1132 |#define RSRC_STRING_MSADPCM 428    
                             1500 ; 1133 |//$FILENAME string_imadpcm.src
                             1501 ; 1134 |#define RSRC_STRING_IMADPCM 429    
                             1502 ; 1135 |//$FILENAME string_pcm.src
                             1503 ; 1136 |#define RSRC_STRING_PCM 430    
                             1504 ; 1137 |//$FILENAME string_internal.src
                             1505 ; 1138 |#define RSRC_STRING_INTERNAL 431    
                             1506 ; 1139 |//$FILENAME string_external.src
                             1507 ; 1140 |#define RSRC_STRING_EXTERNAL 432    
                             1508 ; 1141 |//$FILENAME string_device.src
                             1509 ; 1142 |#define RSRC_STRING_DEVICE 433    
                             1510 ; 1143 |//$FILENAME string_source.src
                             1511 ; 1144 |#define RSRC_STRING_SOURCE 434    
                             1512 ; 1145 |//$FILENAME string_microphone.src
                             1513 ; 1146 |#define RSRC_STRING_MICROPHONE 435    
                             1514 ; 1147 |//$FILENAME string_linein.src
                             1515 ; 1148 |#define RSRC_STRING_LINEIN 436    
                             1516 ; 1149 |//$FILENAME string_bits.src
                             1517 ; 1150 |#define RSRC_STRING_BITS 437    
                             1518 ; 1151 |//$FILENAME string_4.src
                             1519 ; 1152 |#define RSRC_STRING_4 438    
                             1520 ; 1153 |//$FILENAME string_8.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  26

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1521 ; 1154 |#define RSRC_STRING_8 439    
                             1522 ; 1155 |//$FILENAME string_16.src
                             1523 ; 1156 |#define RSRC_STRING_16 440    
                             1524 ; 1157 |//$FILENAME string_24.src
                             1525 ; 1158 |#define RSRC_STRING_24 441    
                             1526 ; 1159 |//$FILENAME string_fm.src
                             1527 ; 1160 |#define RSRC_STRING_FM 442    
                             1528 ; 1161 |//$FILENAME string_mono.src
                             1529 ; 1162 |#define RSRC_STRING_MONO 443    
                             1530 ; 1163 |//$FILENAME string_stereo.src
                             1531 ; 1164 |#define RSRC_STRING_STEREO 444    
                             1532 ; 1165 |//$FILENAME string_8000hz.src
                             1533 ; 1166 |#define RSRC_STRING_8000HZ 445    
                             1534 ; 1167 |//$FILENAME string_11025hz.src
                             1535 ; 1168 |#define RSRC_STRING_11025HZ 446    
                             1536 ; 1169 |//$FILENAME string_16000hz.src
                             1537 ; 1170 |#define RSRC_STRING_16000HZ 447    
                             1538 ; 1171 |//$FILENAME string_22050hz.src
                             1539 ; 1172 |#define RSRC_STRING_22050HZ 448    
                             1540 ; 1173 |//$FILENAME string_32000hz.src
                             1541 ; 1174 |#define RSRC_STRING_32000HZ 449    
                             1542 ; 1175 |//$FILENAME string_44100hz.src
                             1543 ; 1176 |#define RSRC_STRING_44100HZ 450    
                             1544 ; 1177 |//$FILENAME string_48000hz.src
                             1545 ; 1178 |#define RSRC_STRING_48000HZ 451    
                             1546 ; 1179 |//$FILENAME string_channels.src
                             1547 ; 1180 |#define RSRC_STRING_CHANNELS 452    
                             1548 ; 1181 |//$FILENAME string_spaces.src
                             1549 ; 1182 |#define RSRC_STRING_SPACES 453    
                             1550 ; 1183 |//$FILENAME slider_bar.src
                             1551 ; 1184 |#define RSRC_SLIDER_BAR 454    
                             1552 ; 1185 |//$FILENAME slider_bar_inv.src
                             1553 ; 1186 |#define RSRC_SLIDER_BAR_INV 455    
                             1554 ; 1187 |//$FILENAME slider_track.src
                             1555 ; 1188 |#define RSRC_SLIDER_TRACK 456    
                             1556 ; 1189 |//$FILENAME string_no_files.src
                             1557 ; 1190 |#define RSRC_STRING_NO_FILES 457    
                             1558 ; 1191 |
                             1559 ; 1192 |/////////////////////////////////////////////////////////////////////
                             1560 ; 1193 |//  Time and Date Resource Strings
                             1561 ; 1194 |/////////////////////////////////////////////////////////////////////
                             1562 ; 1195 |//$FILENAME string_sunday.src
                             1563 ; 1196 |#define RSRC_STRING_SUNDAY 458    
                             1564 ; 1197 |//$FILENAME string_monday.src
                             1565 ; 1198 |#define RSRC_STRING_MONDAY 459    
                             1566 ; 1199 |//$FILENAME string_tuesday.src
                             1567 ; 1200 |#define RSRC_STRING_TUESDAY 460    
                             1568 ; 1201 |//$FILENAME string_wednesday.src
                             1569 ; 1202 |#define RSRC_STRING_WEDNESDAY 461    
                             1570 ; 1203 |//$FILENAME string_thursday.src
                             1571 ; 1204 |#define RSRC_STRING_THURSDAY 462    
                             1572 ; 1205 |//$FILENAME string_friday.src
                             1573 ; 1206 |#define RSRC_STRING_FRIDAY 463    
                             1574 ; 1207 |//$FILENAME string_saturday.src
                             1575 ; 1208 |#define RSRC_STRING_SATURDAY 464    
                             1576 ; 1209 |//$FILENAME string_am.src
                             1577 ; 1210 |#define RSRC_STRING_AM 465    
                             1578 ; 1211 |//$FILENAME string_pm.src
                             1579 ; 1212 |#define RSRC_STRING_PM 466    
                             1580 ; 1213 |//$FILENAME string_amclear.src
                             1581 ; 1214 |#define RSRC_STRING_AMCLEAR 467    
                             1582 ; 1215 |//$FILENAME string_slash.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  27

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1583 ; 1216 |#define RSRC_STRING_SLASH 468    
                             1584 ; 1217 |//$FILENAME string_colon.src
                             1585 ; 1218 |#define RSRC_STRING_COLON 469    
                             1586 ; 1219 |//$FILENAME string_12hour.src
                             1587 ; 1220 |#define RSRC_STRING_12HOUR 470    
                             1588 ; 1221 |//$FILENAME string_24hour.src
                             1589 ; 1222 |#define RSRC_STRING_24HOUR 471    
                             1590 ; 1223 |//$FILENAME string_format.src
                             1591 ; 1224 |#define RSRC_STRING_FORMAT 472    
                             1592 ; 1225 |//$FILENAME string_mmddyyyy.src
                             1593 ; 1226 |#define RSRC_STRING_MMDDYYYY 473    
                             1594 ; 1227 |//$FILENAME string_ddmmyyyy.src
                             1595 ; 1228 |#define RSRC_STRING_DDMMYYYY 474    
                             1596 ; 1229 |//$FILENAME string_yyyymmdd.src
                             1597 ; 1230 |#define RSRC_STRING_YYYYMMDD 475    
                             1598 ; 1231 |//$FILENAME string_ok.src
                             1599 ; 1232 |#define RSRC_STRING_OK 476    
                             1600 ; 1233 |//$FILENAME string_cancel.src
                             1601 ; 1234 |#define RSRC_STRING_CANCEL 477    
                             1602 ; 1235 |//$FILENAME negative_sign.src
                             1603 ; 1236 |#define RSRC_NEGATIVE_SIGN 478    
                             1604 ; 1237 |//$FILENAME string_dec_pt5.src
                             1605 ; 1238 |#define RSRC_DEC_PT5_STRING 479    
                             1606 ; 1239 |//$FILENAME string_dec_pt0.src
                             1607 ; 1240 |#define RSRC_DEC_PT0_STRING 480    
                             1608 ; 1241 |//$FILENAME string_db.src
                             1609 ; 1242 |#define RSRC_DB_STRING 481    
                             1610 ; 1243 |//$FILENAME string_hz2.src
                             1611 ; 1244 |#define RSRC_HZ2_STRING 482    
                             1612 ; 1245 |
                             1613 ; 1246 |
                             1614 ; 1247 |//$FILENAME record_settings_menu_code_bank.src
                             1615 ; 1248 |#define RSRC_RECORD_SETTINGS_MENU_CODE_BANK 483    
                             1616 ; 1249 |//$FILENAME metadata_codebank.src
                             1617 ; 1250 |#define RSRC_METADATA_CODEBANK 484    
                             1618 ; 1251 |//$FILENAME mp3metadata_codebank.src
                             1619 ; 1252 |#define RSRC_MP3_METADATA_CODEBANK 485    
                             1620 ; 1253 |//$FILENAME wmametadata_codebank.src
                             1621 ; 1254 |#define RSRC_WMA_METADATA_CODEBANK 486    
                             1622 ; 1255 |//$FILENAME wavmetadata_codebank.src
                             1623 ; 1256 |#define RSRC_WAV_METADATA_CODEBANK 487    
                             1624 ; 1257 |//$FILENAME smvmetadata_codebank.src
                             1625 ; 1258 |#define RSRC_SMV_METADATA_CODEBANK 488    
                             1626 ; 1259 |//$FILENAME playlist2init_codebank.src
                             1627 ; 1260 |#define RSRC_PLAYLIST2INIT_CODEBANK 489    
                             1628 ; 1261 |
                             1629 ; 1262 |//$FILENAME delete_successful.src
                             1630 ; 1263 |#define RSRC_DELETE_SUCCESSFUL 490    
                             1631 ; 1264 |//$FILENAME delete_error.src
                             1632 ; 1265 |#define RSRC_DELETE_ERROR 491    
                             1633 ; 1266 |//$FILENAME lic_expired.src
                             1634 ; 1267 |#define RSRC_LIC_EXPIRED 492    
                             1635 ; 1268 |//$FILENAME id3v2_codebank.src
                             1636 ; 1269 |#define RSRC_ID3V2_CODEBANK 493    
                             1637 ; 1270 |//$FILENAME id3v2lyrics_codebank.src
                             1638 ; 1271 |#define RSRC_ID3V2_LYRICS_CODEBANK 494    
                             1639 ; 1272 |//$FILENAME lyrics3_codebank.src
                             1640 ; 1273 |#define RSRC_LYRICS3_CODEBANK 495    
                             1641 ; 1274 |//$FILENAME lrc_codebank.src
                             1642 ; 1275 |#define RSRC_LRC_CODEBANK 496    
                             1643 ; 1276 |//$FILENAME lyrics_api_codebank.src
                             1644 ; 1277 |#define RSRC_LYRICS_API_CODEBANK 497    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  28

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1645 ; 1278 |//$FILENAME wmalyrics_codebank.src
                             1646 ; 1279 |#define RSRC_WMA_LYRICS_CODEBANK 498    
                             1647 ; 1280 |//$FILENAME apicframe_codebank.src
                             1648 ; 1281 |#define RSRC_APIC_FRAME_CODEBANK 499    
                             1649 ; 1282 |
                             1650 ; 1283 |//$FILENAME exmediaerror1.src
                             1651 ; 1284 |#define RSRC_EXTERNAL_MEDIA_ERROR1 500    
                             1652 ; 1285 |//$FILENAME exmediaerror2.src
                             1653 ; 1286 |#define RSRC_EXTERNAL_MEDIA_ERROR2 501    
                             1654 ; 1287 |//$FILENAME inmediaerror1.src
                             1655 ; 1288 |#define RSRC_INTERNAL_MEDIA_ERROR1 502    
                             1656 ; 1289 |
                             1657 ; 1290 |//$FILENAME backlight_title.src
                             1658 ; 1291 |#define RSRC_BACKLIGHT_TITLE 503    
                             1659 ; 1292 |//$FILENAME backlight_state_on.src
                             1660 ; 1293 |#define RSRC_BACKLIGHT_STATE_ON 504    
                             1661 ; 1294 |//$FILENAME backlight_state_off.src
                             1662 ; 1295 |#define RSRC_BACKLIGHT_STATE_OFF 505    
                             1663 ; 1296 |//$FILENAME backlightmenu.src
                             1664 ; 1297 |#define RSRC_BACKLIGHT_MENU_CODE_BANK 506    
                             1665 ; 1298 |//$FILENAME string_backlight_menu.src
                             1666 ; 1299 |#define RSRC_STRING_BACKLIGHT_MENU 507    
                             1667 ; 1300 |
                             1668 ; 1301 |//$FILENAME enc_mp3mod.src
                             1669 ; 1302 |#define RSRC_ENC_MP3_MOD_CODE 508    
                             1670 ; 1303 |//$FILENAME enc_mp3p.src
                             1671 ; 1304 |#define RSRC_ENC_MP3P_CODE 509    
                             1672 ; 1305 |//$FILENAME enc_mp3x.src
                             1673 ; 1306 |#define RSRC_ENC_MP3X_CODE 510    
                             1674 ; 1307 |//$FILENAME enc_mp3y.src
                             1675 ; 1308 |#define RSRC_ENC_MP3Y_CODE 511    
                             1676 ; 1309 |//$FILENAME mp3_implementation.src
                             1677 ; 1310 |#define RSRC_MP3_IMPLEMENTATION 512    
                             1678 ; 1311 |//$FILENAME string_mp3.src
                             1679 ; 1312 |#define RSRC_STRING_MP3 513    
                             1680 ; 1313 |//$FILENAME string_all.src
                             1681 ; 1314 |#define RSRC_STRING_ALL 514    
                             1682 ; 1315 |
                             1683 ; 1316 |//$FILENAME mediastartup.src
                             1684 ; 1317 |#define RSRC_NANDMEDIAINIT 515    
                             1685 ; 1318 |#define RSRC_NANDMEDIAALLOCATE 0
                             1686 ; 1319 |#define RSRC_NANDMEDIADISCOVERALLOCATION 0
                             1687 ; 1320 |#define RSRC_NANDMEDIAGETMEDIATABLE RSRC_NANDMEDIAINIT
                             1688 ; 1321 |#define RSRC_NANDMEDIAGETINFO RSRC_NANDMEDIAINIT
                             1689 ; 1322 |#define RSRC_NANDMEDIAERASE 0
                             1690 ; 1323 |
                             1691 ; 1324 |//$FILENAME nanddatadriveinit.src
                             1692 ; 1325 |#define RSRC_NANDDATADRIVEINIT 516    
                             1693 ; 1326 |#define RSRC_NANDDATADRIVEGETINFO RSRC_NANDDATADRIVEREADSECTOR
                             1694 ; 1327 |#define RSRC_NANDDATADRIVESETINFO 0
                             1695 ; 1328 |//$FILENAME nanddatadrivereadsector.src
                             1696 ; 1329 |#define RSRC_NANDDATADRIVEREADSECTOR 517    
                             1697 ; 1330 |#define RSRC_NANDDATADRIVEWRITESECTOR RSRC_NANDDATADRIVEREADSECTOR
                             1698 ; 1331 |#define RSRC_NANDDATADRIVEDUMBMULTIWRITESETUP 0
                             1699 ; 1332 |#define RSRC_NANDDATADRIVEDUMBMULTIWRITESECTOR 0
                             1700 ; 1333 |#define RSRC_NANDDATADRIVECACHEMULTIWRITESETUP 0
                             1701 ; 1334 |#define RSRC_NANDDATADRIVECACHEMULTIWRITESECTOR 0
                             1702 ; 1335 |#define RSRC_NANDDATADRIVEERASE 0
                             1703 ; 1336 |#define RSRC_NANDDATADRIVEFLUSH RSRC_NANDDATADRIVEREADSECTOR
                             1704 ; 1337 |
                             1705 ; 1338 |#define RSRC_NANDSYSTEMDRIVEINIT RSRC_NANDMEDIAINIT
                             1706 ; 1339 |#define RSRC_NANDSYSTEMDRIVEGETINFO RSRC_NANDMEDIAINIT
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  29

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1707 ; 1340 |#define RSRC_NANDSYSTEMDRIVESETINFO 0
                             1708 ; 1341 |#define RSRC_NANDSYSTEMDRIVEREADSECTOR 0
                             1709 ; 1342 |#define RSRC_NANDSYSTEMDRIVEWRITESECTOR 0
                             1710 ; 1343 |#define RSRC_NANDSYSTEMDRIVEMULTIWRITESETUP 0
                             1711 ; 1344 |#define RSRC_NANDSYSTEMDRIVEMULTIWRITESECTOR 0
                             1712 ; 1345 |#define RSRC_NANDSYSTEMDRIVEERASE 0
                             1713 ; 1346 |#define RSRC_NANDSYSTEMDRIVEFLUSH 0
                             1714 ; 1347 |
                             1715 ; 1348 |//$FILENAME vbr_codebank.src
                             1716 ; 1349 |#define RSRC_VBR_CODEBANK 518    
                             1717 ; 1350 |
                             1718 ; 1351 |//$FILENAME string_recordtest_menu.src
                             1719 ; 1352 |#define RSRC_STRING_RECORDTEST_MENU 519    
                             1720 ; 1353 |//$FILENAME string_recordtest_duration.src
                             1721 ; 1354 |#define RSRC_STRING_DURATION 520    
                             1722 ; 1355 |//$FILENAME string_recordtest_time5.src
                             1723 ; 1356 |#define RSRC_STRING_TIME5 521    
                             1724 ; 1357 |//$FILENAME string_recordtest_time10.src
                             1725 ; 1358 |#define RSRC_STRING_TIME10 522    
                             1726 ; 1359 |//$FILENAME string_recordtest_time30.src
                             1727 ; 1360 |#define RSRC_STRING_TIME30 523    
                             1728 ; 1361 |//$FILENAME string_recordtest_time60.src
                             1729 ; 1362 |#define RSRC_STRING_TIME60 524    
                             1730 ; 1363 |//$FILENAME string_recordtest_time300.src
                             1731 ; 1364 |#define RSRC_STRING_TIME300 525    
                             1732 ; 1365 |//$FILENAME string_recordtest_time600.src
                             1733 ; 1366 |#define RSRC_STRING_TIME600 526    
                             1734 ; 1367 |
                             1735 ; 1368 |//$FILENAME test_title.src
                             1736 ; 1369 |#define RSRC_TEST_TITLE 527    
                             1737 ; 1370 |//$FILENAME testmenu.src
                             1738 ; 1371 |#define RSRC_TEST_MENU_CODE_BANK 528    
                             1739 ; 1372 |
                             1740 ; 1373 |
                             1741 ; 1374 |//$FILENAME mmcmediastartup.src
                             1742 ; 1375 |#define RSRC_MMCDATADRIVEINIT 529    
                             1743 ; 1376 |#define RSRC_MMCMEDIAALLOCATE RSRC_MMCDATADRIVEINIT
                             1744 ; 1377 |#define RSRC_MMCMEDIADISCOVERALLOCATION RSRC_MMCDATADRIVEINIT
                             1745 ; 1378 |//$FILENAME mmcinfo.src
                             1746 ; 1379 |#define RSRC_MMCMEDIAGETINFO 530    
                             1747 ; 1380 |#define RSRC_MMCMEDIAGETMEDIATABLE RSRC_MMCMEDIAGETINFO
                             1748 ; 1381 |//$FILENAME mmcerase.src
                             1749 ; 1382 |#define RSRC_MMCMEDIAERASE 531    
                             1750 ; 1383 |
                             1751 ; 1384 |
                             1752 ; 1385 |#define RSRC_MMCDATADRIVEFLUSH RSRC_MMCDATADRIVEINIT
                             1753 ; 1386 |
                             1754 ; 1387 |//$FILENAME mmcenumerate.src
                             1755 ; 1388 |#define RSRC_MMCENUMERATE 532    
                             1756 ; 1389 |//$FILENAME mmcresetdevice.src
                             1757 ; 1390 |#define RSRC_MMC_RESETDEVICE 533    
                             1758 ; 1391 |//$FILENAME mmcprocesscsd.src
                             1759 ; 1392 |#define RSRC_MMC_PROCESSCSD 534    
                             1760 ; 1393 |//$FILENAME mmcprocesscid.src
                             1761 ; 1394 |#define RSRC_MMC_PROCESSCID 535    
                             1762 ; 1395 |//$FILENAME mmcprocesscid2.src
                             1763 ; 1396 |#define RSRC_FUNCLET_MMCPROCESSCID2 536    
                             1764 ; 1397 |//$FILENAME mmcdetectpresence.src
                             1765 ; 1398 |#define RSRC_MMC_DETECTPRESENCE 537    
                             1766 ; 1399 |//$FILENAME mmcserialnumberinit.src
                             1767 ; 1400 |#define RSRC_MMCSERIALNUMBERINIT 538    
                             1768 ; 1401 |//$FILENAME mmccheckwriteprotect.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  30

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1769 ; 1402 |#define RSRC_MMC_CHECKWRITEPROTECT 539    
                             1770 ; 1403 |
                             1771 ; 1404 |//$FILENAME mmcread.src
                             1772 ; 1405 |#define RSRC_MMCDATADRIVEREADSECTOR 540    
                             1773 ; 1406 |//$FILENAME mmcmediainit.src
                             1774 ; 1407 |#define RSRC_MMCMEDIAINIT 541    
                             1775 ; 1408 |//$FILENAME mmcdatadriveinfo.src
                             1776 ; 1409 |#define RSRC_MMCDATADRIVESETINFO 542    
                             1777 ; 1410 |#define RSRC_MMCDATADRIVEGETINFO RSRC_MMCDATADRIVESETINFO
                             1778 ; 1411 |//$FILENAME mmcdatadriveerase.src
                             1779 ; 1412 |#define RSRC_MMCDATADRIVEERASE 543    
                             1780 ; 1413 |
                             1781 ; 1414 |#define RSRC_MMCDATADRIVEWRITESECTOR RSRC_MMCDATADRIVEREADSECTOR
                             1782 ; 1415 |#define RSRC_MMCDATADRIVEMULTIWRITESETUP RSRC_MMCDATADRIVEWRITESECTOR
                             1783 ; 1416 |#define RSRC_MMCDATADRIVEMULTIWRITESECTOR RSRC_MMCDATADRIVEWRITESECTOR
                             1784 ; 1417 |
                             1785 ; 1418 |
                             1786 ; 1419 |/////////////////////////////////////////////////////////////////////////////////
                             1787 ; 1420 |//  File system
                             1788 ; 1421 |/////////////////////////////////////////////////////////////////////////////////
                             1789 ; 1422 |//$FILENAME arrangefilename.src
                             1790 ; 1423 |#define RSRC_FUNCLET_ARRANGEFILENAME 544    
                             1791 ; 1424 |//$FILENAME clearcluster.src
                             1792 ; 1425 |#define RSRC_FUNCLET_CLEARCLUSTER 545    
                             1793 ; 1426 |//$FILENAME createdirectory.src
                             1794 ; 1427 |#define RSRC_FUNCLET_CREATEDIRECTORY 546    
                             1795 ; 1428 |//$FILENAME deletecontent.src
                             1796 ; 1429 |#define RSRC_FUNCLET_DELETECONTENT 547    
                             1797 ; 1430 |//$FILENAME deleterecord.src
                             1798 ; 1431 |#define RSRC_FUNCLET_DELETERECORD 548    
                             1799 ; 1432 |//$FILENAME fastopen.src
                             1800 ; 1433 |#define RSRC_FUNCLET_FASTOPEN 549    
                             1801 ; 1434 |//$FILENAME fcreate.src
                             1802 ; 1435 |#define RSRC_FUNCLET_FCREATE 550    
                             1803 ; 1436 |//$FILENAME filegetattrib.src
                             1804 ; 1437 |#define RSRC_FUNCLET_FILEGETATTRIB 551    
                             1805 ; 1438 |//$FILENAME filegetdate.src
                             1806 ; 1439 |#define RSRC_FUNCLET_FILEGETDATE 552    
                             1807 ; 1440 |//$FILENAME filesetattrib.src
                             1808 ; 1441 |#define RSRC_FUNCLET_FILESETATTRIB 553    
                             1809 ; 1442 |//$FILENAME filesetdate.src
                             1810 ; 1443 |#define RSRC_FUNCLET_FILESETDATE 554    
                             1811 ; 1444 |//$FILENAME fsinit.src
                             1812 ; 1445 |#define RSRC_FUNCLET_FSINIT 555    
                             1813 ; 1446 |//$FILENAME fsshutdown.src
                             1814 ; 1447 |#define RSRC_FUNCLET_FSSHUTDOWN 556    
                             1815 ; 1448 |//$FILENAME readdevicerecord.src
                             1816 ; 1449 |#define RSRC_FUNCLET_READDEVICERECORD 557    
                             1817 ; 1450 |//$FILENAME checkspaceinrootdir.src
                             1818 ; 1451 |#define RSRC_FUNCLET_CHECKSPACEINROOTDIR 558    
                             1819 ; 1452 |//$FILENAME setcwdhandle.src
                             1820 ; 1453 |#define RSRC_FUNCLET_SETCWDHANDLE 559    
                             1821 ; 1454 |//$FILENAME fsdriveinit.src
                             1822 ; 1455 |#define RSRC_FUNCLET_FSDRIVEINIT 560    
                             1823 ; 1456 |//$FILENAME fsclearBuf.src
                             1824 ; 1457 |#define RSRC_FUNCLET_FSCLEARDRIVEBUF 561    
                             1825 ; 1458 |//RSRC_FUNCLET_TOTALFREECLUSTER    equ      328    ;$FILENAME totalfreecluster.src
                             1826 ; 1459 |//RSRC_FUNCLET_TOTALFREECLUSTERFAT16    equ      328    ;$FILENAME totalfreeclusterfat16.s
                                  rc
                             1827 ; 1460 |//$FILENAME fgetfasthandle.src
                             1828 ; 1461 |#define RSRC_FUNCLET_FGETFASTHANDLE 562    
                             1829 ; 1462 |//$FILENAME ishandlewriteallocated.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  31

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1830 ; 1463 |#define RSRC_FUNCLET_ISHANDLEWRITEALLOCATED 563    
                             1831 ; 1464 |//$FILENAME isfileopen.src
                             1832 ; 1465 |#define RSRC_FUNCLET_ISFILEOPEN 564    
                             1833 ; 1466 |//$FILENAME iscurrworkdir.src
                             1834 ; 1467 |#define RSRC_FUNCLET_ISCURRWORKDIR 565    
                             1835 ; 1468 |//$FILENAME chdir.src
                             1836 ; 1469 |#define RSRC_FUNCLET_CHDIR 566    
                             1837 ; 1470 |//$FILENAME chdirFromOffset.src
                             1838 ; 1471 |#define RSRC_FUNCLET_CHDIR_FROM_OFFSET 567    
                             1839 ; 1472 |//$FILENAME deletetree.src
                             1840 ; 1473 |#define RSRC_FUNCLET_DELETETREE 568    
                             1841 ; 1474 |//$FILENAME deleteallrecords.src
                             1842 ; 1475 |#define RSRC_FUNCLET_DELETEALLRECORDS 569    
                             1843 ; 1476 |//$FILENAME cleardata.src
                             1844 ; 1477 |#define RSRC_FUNCLET_CLEARDATA 570    
                             1845 ; 1478 |//$FILENAME changetolowleveldir.src
                             1846 ; 1479 |#define RSRC_FUNCLET_CHANGETOLOWLEVELDIR 571    
                             1847 ; 1480 |//$FILENAME getrecordnumber.src
                             1848 ; 1481 |#define RSRC_FUNCLET_GETRECORDNUMBER 572    
                             1849 ; 1482 |//$FILENAME fileremove.src
                             1850 ; 1483 |#define RSRC_FUNCLET_FILEREMOVE 573    
                             1851 ; 1484 |//$FILENAME charactersearch.src
                             1852 ; 1485 |#define RSRC_FUNCLET_CHARACTERSEARCH 574    
                             1853 ; 1486 |//$FILENAME stringcompare.src
                             1854 ; 1487 |#define RSRC_FUNCLET_STRINGCOMPARE 575    
                             1855 ; 1488 |//$FILENAME fopenw.src
                             1856 ; 1489 |#define RSRC_FUNCLET_FOPENW 576    
                             1857 ; 1490 |//$FILENAME fremove.src
                             1858 ; 1491 |#define RSRC_FUNCLET_FREMOVE 577    
                             1859 ; 1492 |//$FILENAME fremovew.src
                             1860 ; 1493 |#define RSRC_FUNCLET_FREMOVEW 578    
                             1861 ; 1494 |//$FILENAME mkdir.src
                             1862 ; 1495 |#define RSRC_FUNCLET_MKDIR 579    
                             1863 ; 1496 |//$FILENAME mkdirw.src
                             1864 ; 1497 |#define RSRC_FUNCLET_MKDIRW 580    
                             1865 ; 1498 |//$FILENAME rmdir.src
                             1866 ; 1499 |#define RSRC_FUNCLET_RMDIR 581    
                             1867 ; 1500 |//$FILENAME rmdirw.src
                             1868 ; 1501 |#define RSRC_FUNCLET_RMDIRW 582    
                             1869 ; 1502 |//$FILENAME fgetc.src
                             1870 ; 1503 |#define RSRC_FUNCLET_FGETC 583    
                             1871 ; 1504 |//$FILENAME fgets.src
                             1872 ; 1505 |#define RSRC_FUNCLET_FGETS 584    
                             1873 ; 1506 |//$FILENAME fputc.src
                             1874 ; 1507 |#define RSRC_FUNCLET_FPUTC 585    
                             1875 ; 1508 |//$FILENAME fputs.src
                             1876 ; 1509 |#define RSRC_FUNCLET_FPUTS 586    
                             1877 ; 1510 |//$FILENAME arrangelongfilename.src
                             1878 ; 1511 |#define RSRC_FUNCLET_ARRANGELONGFILENAME 587    
                             1879 ; 1512 |//$FILENAME convert_itoa.src
                             1880 ; 1513 |#define RSRC_FUNCLET_CONVERT_ITOA 588    
                             1881 ; 1514 |//$FILENAME createdirrecord.src
                             1882 ; 1515 |#define RSRC_FUNCLET_CREATEDIRRECORD 589    
                             1883 ; 1516 |//$FILENAME chksum.src
                             1884 ; 1517 |#define RSRC_FUNCLET_CHKSUM 590    
                             1885 ; 1518 |//$FILENAME createshortdirrecord.src
                             1886 ; 1519 |#define RSRC_FUNCLET_CREATESHORTDIRRECORD 591    
                             1887 ; 1520 |//$FILENAME discardtrailigperiodsucs3.src
                             1888 ; 1521 |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODSUCS3 592    
                             1889 ; 1522 |//$FILENAME discardtrailigperiodsw.src
                             1890 ; 1523 |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODSW 593    
                             1891 ; 1524 |//$FILENAME extractfilenamew.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  32

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1892 ; 1525 |#define RSRC_FUNCLET_EXTRACTFILENAMEW 594    
                             1893 ; 1526 |//$FILENAME extractpathw.src
                             1894 ; 1527 |#define RSRC_FUNCLET_EXTRACTPATHW 595    
                             1895 ; 1528 |//$FILENAME findfreerecord.src
                             1896 ; 1529 |#define RSRC_FUNCLET_FINDFREERECORD 596    
                             1897 ; 1530 |//$FILENAME getnamew.src
                             1898 ; 1531 |#define RSRC_FUNCLET_GETNAMEW 597    
                             1899 ; 1532 |//$FILENAME isdirectoryempty.src
                             1900 ; 1533 |#define RSRC_FUNCLET_ISDIRECTORYEMPTY 598    
                             1901 ; 1534 |//$FILENAME isshortnamevalid.src
                             1902 ; 1535 |#define RSRC_FUNCLET_ISSHORTNAMEVALID 599    
                             1903 ; 1536 |//$FILENAME longdirmatch.src
                             1904 ; 1537 |#define RSRC_FUNCLET_LONGDIRMATCH 600    
                             1905 ; 1538 |//$FILENAME unicodetooem.src
                             1906 ; 1539 |#define RSRC_FUNCLET_UNICODETOOEM 601    
                             1907 ; 1540 |//$FILENAME matchdirrecordw.src
                             1908 ; 1541 |#define RSRC_FUNCLET_MATCHDIRRECORDW 602    
                             1909 ; 1542 |//$FILENAME setcwd.src
                             1910 ; 1543 |#define RSRC_FUNCLET_SETCWD 603    
                             1911 ; 1544 |//$FILENAME setshortfilename.src
                             1912 ; 1545 |#define RSRC_FUNCLET_SETSHORTFILENAME 604    
                             1913 ; 1546 |//$FILENAME generatefilenametail.src
                             1914 ; 1547 |#define RSRC_FUNCLET_GENERATEFILENAMETAIL 605    
                             1915 ; 1548 |//$FILENAME dbcstounicode.src
                             1916 ; 1549 |#define RSRC_FUNCLET_DBCSTOUNICODE 606    
                             1917 ; 1550 |//$FILENAME strcpy.src
                             1918 ; 1551 |#define RSRC_FUNCLET_STRCPY 607    
                             1919 ; 1552 |//$FILENAME strcpyw.src
                             1920 ; 1553 |#define RSRC_FUNCLET_STRCPYW 608    
                             1921 ; 1554 |//$FILENAME strlengthw.src
                             1922 ; 1555 |#define RSRC_FUNCLET_STRLENGTHW 609    
                             1923 ; 1556 |//$FILENAME filesystempresent.src
                             1924 ; 1557 |#define RSRC_FUNCLET_FILESYSTEMPRESENT 610    
                             1925 ; 1558 |//$FILENAME DataDriveInit.src
                             1926 ; 1559 |#define RSRC_FUNCLET_DATADRIVEINIT 611    
                             1927 ; 1560 |//$FILENAME FSGetDataDrivePbsLocation.src
                             1928 ; 1561 |#define RSRC_FUNCLET_FSGETDATADRIVEPBSLOCATION 612    
                             1929 ; 1562 |//$FILENAME FSPartitionEntryCopy.src
                             1930 ; 1563 |#define RSRC_FUNCLET_FSPARTITIONENTRYCOPYFSDD 613    
                             1931 ; 1564 |//$FILENAME DataDriveGetSize.src
                             1932 ; 1565 |#define RSRC_FUNCLET_DATADRIVEGETSIZE 614    
                             1933 ; 1566 |//$FILENAME ConstructLongFileName.src
                             1934 ; 1567 |#define RSRC_FUNCLET_CONSTRUCTLONGFILENAME 615    
                             1935 ; 1568 |//$FILENAME strcpyucs3_2.src
                             1936 ; 1569 |#define RSRC_FUNCLET_STRCPYUCS3_2 616    
                             1937 ; 1570 |//$FILENAME getvolumelabel.src
                             1938 ; 1571 |#define RSRC_FUNCLET_GETVOLUMELABEL 617    
                             1939 ; 1572 |//$FILENAME setvolumelabel.src
                             1940 ; 1573 |#define RSRC_FUNCLET_SETVOLUMELABEL 618    
                             1941 ; 1574 |//$FILENAME disk_full.src
                             1942 ; 1575 |#define RSRC_DISK_FULL 619    
                             1943 ; 1576 |//$FILENAME chkdskstartup.src
                             1944 ; 1577 |#define RSRC_CHECKDISK 620    
                             1945 ; 1578 |//$FILENAME chkdskstartupy.src
                             1946 ; 1579 |#define RSRC_CHKDSK_YMEM 621    
                             1947 ; 1580 |//$FILENAME low_level_pwr_line1.src
                             1948 ; 1581 |#define RSRC_LOW_PWR_EXT_DEV_LINE1 622    
                             1949 ; 1582 |//$FILENAME low_level_pwr_line2.src
                             1950 ; 1583 |#define RSRC_LOW_PWR_EXT_DEV_LINE2 623    
                             1951 ; 1584 |//$FILENAME string_bit_rate.src
                             1952 ; 1585 |#define RSRC_STRING_BIT_RATE 624    
                             1953 ; 1586 |//$FILENAME string_96000hz.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  33

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1954 ; 1587 |#define RSRC_STRING_96KBPS 625    
                             1955 ; 1588 |//$FILENAME string_112000hz.src
                             1956 ; 1589 |#define RSRC_STRING_112KBPS 626    
                             1957 ; 1590 |//$FILENAME string_128000hz.src
                             1958 ; 1591 |#define RSRC_STRING_128KBPS 627    
                             1959 ; 1592 |//$FILENAME string_160000hz.src
                             1960 ; 1593 |#define RSRC_STRING_160KBPS 628    
                             1961 ; 1594 |//$FILENAME string_192000hz.src
                             1962 ; 1595 |#define RSRC_STRING_192KBPS 629    
                             1963 ; 1596 |//$FILENAME string_224000hz.src
                             1964 ; 1597 |#define RSRC_STRING_224KBPS 630    
                             1965 ; 1598 |//$FILENAME string_256000hz.src
                             1966 ; 1599 |#define RSRC_STRING_256KBPS 631    
                             1967 ; 1600 |//$FILENAME string_320000hz.src
                             1968 ; 1601 |#define RSRC_STRING_320KBPS 632    
                             1969 ; 1602 |//$FILENAME string_hz.src
                             1970 ; 1603 |#define RSRC_STRING_HZ 633    
                             1971 ; 1604 |//$FILENAME EncCommonp.src
                             1972 ; 1605 |#define RSRC_ENCODERCOMMON_P_CODE 634    
                             1973 ; 1606 |//$FILENAME adc_adcx.src
                             1974 ; 1607 |#define RSRC_ADC_ADCX_CODE 635    
                             1975 ; 1608 |//$FILENAME adc_adcy.src
                             1976 ; 1609 |#define RSRC_ADC_ADCY_CODE 636    
                             1977 ; 1610 |//$FILENAME Funclet_encodercommon.src
                             1978 ; 1611 |#define RSRC_FUNCLET_LOADENCODERCOMMON 637    
                             1979 ; 1612 |//$FILENAME string_album.src
                             1980 ; 1613 |#define RSRC_STRING_ALBUM 638    
                             1981 ; 1614 |//$FILENAME string_encoder_song.src
                             1982 ; 1615 |#define RSRC_STRING_SONG 639    
                             1983 ; 1616 |//$FILENAME string_mode.src
                             1984 ; 1617 |#define RSRC_STRING_MODE 640    
                             1985 ; 1618 |
                             1986 ; 1619 |//////////////////////////////////////////////////////////////////////////////////
                             1987 ; 1620 |// display related
                             1988 ; 1621 |//////////////////////////////////////////////////////////////////////////////////
                             1989 ; 1622 |//$FILENAME Funclet_HalDisplayInit.src
                             1990 ; 1623 |#define RSRC_FUNCLET_HAL_DISPLAY_INIT 641    
                             1991 ; 1624 |//$FILENAME Funclet_SalDisplayInit.src
                             1992 ; 1625 |#define RSRC_FUNCLET_SAL_DISPLAY_INIT 642    
                             1993 ; 1626 |//$FILENAME Funclet_SalHandleMessage.src
                             1994 ; 1627 |#define RSRC_FUNCLET_SAL_HANDLE_MSG 643    
                             1995 ; 1628 |//$FILENAME Funclet_FixBitmapHeader.src
                             1996 ; 1629 |#define RSRC_FUNCLET_FIXBITMAPHEADER 644    
                             1997 ; 1630 |//$FILENAME Funclet_BitmapReadHeader.src
                             1998 ; 1631 |#define RSRC_FUNCLET_BITMAPREADHEADER 645    
                             1999 ; 1632 |//$FILENAME Funclet_BitmapReadPalette.src
                             2000 ; 1633 |#define RSRC_FUNCLET_BITMAPREADPALETTE 646    
                             2001 ; 1634 |//$FILENAME Funclet_BitmapReadBitMask.src
                             2002 ; 1635 |#define RSRC_FUNCLET_BITMAPREADBITMASK 647    
                             2003 ; 1636 |//$FILENAME Funclet_BitmapPrintNonPalette.src
                             2004 ; 1637 |#define RSRC_FUNCLET_BITMAPPRINTNONPALETTE 648    
                             2005 ; 1638 |//$FILENAME Funclet_BitmapPrintPalette.src
                             2006 ; 1639 |#define RSRC_FUNCLET_BITMAPPRINTPALETTE 649    
                             2007 ; 1640 |//$FILENAME Funclet_DisplayPrintBitmapFile.src
                             2008 ; 1641 |#define RSRC_FUNCLET_DISPLAYPRINTBITMAPFILE 650    
                             2009 ; 1642 |//$FILENAME Funclet_DisplayPrintBitmapResource.src
                             2010 ; 1643 |#define RSRC_FUNCLET_DISPLAYPRINTBITMAPRESOURCE 651    
                             2011 ; 1644 |
                             2012 ; 1645 |//////////////////////////////////////////////////////////////////////////////////
                             2013 ; 1646 |//WMDRM Related
                             2014 ; 1647 |//////////////////////////////////////////////////////////////////////////////////
                             2015 ; 1648 |//$FILENAME legacy_decryptcontentkey.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  34

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2016 ; 1649 |#define RSRC_FUNCLET_LEGACY_DECRYPTCONTENTKEY 652    
                             2017 ; 1650 |//$FILENAME drm_bbx_legacycipherkeysetup.src
                             2018 ; 1651 |#define RSRC_FUNCLET_DRM_BBX_LEGACYCIPHERKEYSETUP 653    
                             2019 ; 1652 |//$FILENAME drm_bbx_initialize.src
                             2020 ; 1653 |#define RSRC_FUNCLET_DRM_BBX_INITIALIZE 654    
                             2021 ; 1654 |//$FILENAME drm_bbx_canbind.src
                             2022 ; 1655 |#define RSRC_FUNCLET_DRM_BBX_CANBIND 655    
                             2023 ; 1656 |//$FILENAME verifychecksum.src
                             2024 ; 1657 |#define RSRC_FUNCLET_VERIFYCHECKSUM 656    
                             2025 ; 1658 |//$FILENAME drm_b64_encodew.src
                             2026 ; 1659 |#define RSRC_FUNCLET_DRM_B64_ENCODEW 657    
                             2027 ; 1660 |//$FILENAME _performactions.src
                             2028 ; 1661 |#define RSRC_FUNCLET__PERFORMACTIONS 658    
                             2029 ; 1662 |//$FILENAME _processendofchain.src
                             2030 ; 1663 |#define RSRC_FUNCLET__PROCESSENDOFCHAIN 659    
                             2031 ; 1664 |//$FILENAME drmcrt_iswxdigit.src
                             2032 ; 1665 |#define RSRC_FUNCLET_DRMCRT_ISWXDIGIT 660    
                             2033 ; 1666 |//$FILENAME drmcrt_towlower.src
                             2034 ; 1667 |#define RSRC_FUNCLET_DRMCRT_TOWLOWER 661    
                             2035 ; 1668 |//$FILENAME drmcrt_wcslen.src
                             2036 ; 1669 |#define RSRC_FUNCLET_DRMCRT_WCSLEN 662    
                             2037 ; 1670 |//$FILENAME drmcrt_wcsncpy.src
                             2038 ; 1671 |#define RSRC_FUNCLET_DRMCRT_WCSNCPY 663    
                             2039 ; 1672 |//$FILENAME drmcrt_memmove.src
                             2040 ; 1673 |#define RSRC_FUNCLET_DRMCRT_MEMMOVE 664    
                             2041 ; 1674 |//$FILENAME performoperation_part1.src
                             2042 ; 1675 |#define RSRC_FUNCLET_PERFORMOPERATION_PART1 665    
                             2043 ; 1676 |//$FILENAME performoperation_part2.src
                             2044 ; 1677 |#define RSRC_FUNCLET_PERFORMOPERATION_PART2 666    
                             2045 ; 1678 |//$FILENAME performoperation_part3.src
                             2046 ; 1679 |#define RSRC_FUNCLET_PERFORMOPERATION_PART3 667    
                             2047 ; 1680 |//$FILENAME performoperation_part4.src
                             2048 ; 1681 |#define RSRC_FUNCLET_PERFORMOPERATION_PART4 668    
                             2049 ; 1682 |//$FILENAME performoperation_part5.src
                             2050 ; 1683 |#define RSRC_FUNCLET_PERFORMOPERATION_PART5 669    
                             2051 ; 1684 |//$FILENAME performoperation_part6.src
                             2052 ; 1685 |#define RSRC_FUNCLET_PERFORMOPERATION_PART6 670    
                             2053 ; 1686 |//$FILENAME isvalidfunction.src
                             2054 ; 1687 |#define RSRC_FUNCLET_ISVALIDFUNCTION 671    
                             2055 ; 1688 |//$FILENAME functiongetvalue.src
                             2056 ; 1689 |#define RSRC_FUNCLET_FUNCTIONGETVALUE 672    
                             2057 ; 1690 |//$FILENAME globalsetvariable.src
                             2058 ; 1691 |#define RSRC_FUNCLET_GLOBALSETVARIABLE 673    
                             2059 ; 1692 |//$FILENAME variabledrmkgetorset.src
                             2060 ; 1693 |#define RSRC_FUNCLET_VARIABLEDRMKGETORSET 674    
                             2061 ; 1694 |//$FILENAME variabledrmgetorset.src
                             2062 ; 1695 |#define RSRC_FUNCLET_VARIABLEDRMGETORSET 675    
                             2063 ; 1696 |//$FILENAME variableappgetorset.src
                             2064 ; 1697 |#define RSRC_FUNCLET_VARIABLEAPPGETORSET 676    
                             2065 ; 1698 |//$FILENAME variablelicensegetorset.src
                             2066 ; 1699 |#define RSRC_FUNCLET_VARIABLELICENSEGETORSET 677    
                             2067 ; 1700 |//$FILENAME variablecontentgetorset.src
                             2068 ; 1701 |#define RSRC_FUNCLET_VARIABLECONTENTGETORSET 678    
                             2069 ; 1702 |//$FILENAME variabledevicegetorset.src
                             2070 ; 1703 |#define RSRC_FUNCLET_VARIABLEDEVICEGETORSET 679    
                             2071 ; 1704 |//$FILENAME variablepmlicensegetorset.src
                             2072 ; 1705 |#define RSRC_FUNCLET_VARIABLEPMLICENSEGETORSET 680    
                             2073 ; 1706 |//$FILENAME drm_hds_createstore.src
                             2074 ; 1707 |#define RSRC_FUNCLET_DRM_HDS_CREATESTORE 681    
                             2075 ; 1708 |//$FILENAME drm_hds_init.src
                             2076 ; 1709 |#define RSRC_FUNCLET_DRM_HDS_INIT 682    
                             2077 ; 1710 |//$FILENAME drm_hds_uninit.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  35

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2078 ; 1711 |#define RSRC_FUNCLET_DRM_HDS_UNINIT 683    
                             2079 ; 1712 |//$FILENAME drm_hds_openstore.src
                             2080 ; 1713 |#define RSRC_FUNCLET_DRM_HDS_OPENSTORE 684    
                             2081 ; 1714 |//$FILENAME drm_hds_deleteslot.src
                             2082 ; 1715 |#define RSRC_FUNCLET_DRM_HDS_DELETESLOT 685    
                             2083 ; 1716 |//$FILENAME drm_hds_slotresize.src
                             2084 ; 1717 |#define RSRC_FUNCLET_DRM_HDS_SLOTRESIZE 686    
                             2085 ; 1718 |//$FILENAME drm_hds_initslotenum.src
                             2086 ; 1719 |#define RSRC_FUNCLET_DRM_HDS_INITSLOTENUM 687    
                             2087 ; 1720 |//$FILENAME drm_hds_cleanupstore.src
                             2088 ; 1721 |#define RSRC_FUNCLET_DRM_HDS_CLEANUPSTORE 688    
                             2089 ; 1722 |//$FILENAME _hdscopyslot_child2child.src
                             2090 ; 1723 |#define RSRC_FUNCLET__HDSCOPYSLOT_CHILD2CHILD 689    
                             2091 ; 1724 |//$FILENAME _hdscopychildpayload.src
                             2092 ; 1725 |#define RSRC_FUNCLET__HDSCOPYCHILDPAYLOAD 690    
                             2093 ; 1726 |//$FILENAME _hdsdefragmentfile.src
                             2094 ; 1727 |#define RSRC_FUNCLET__HDSDEFRAGMENTFILE 691    
                             2095 ; 1728 |//$FILENAME _hdscleanupnamespace.src
                             2096 ; 1729 |#define RSRC_FUNCLET__HDSCLEANUPNAMESPACE 692    
                             2097 ; 1730 |//$FILENAME _hdscleanupstore.src
                             2098 ; 1731 |#define RSRC_FUNCLET__HDSCLEANUPSTORE 693    
                             2099 ; 1732 |//$FILENAME drm_lst_clean.src
                             2100 ; 1733 |#define RSRC_FUNCLET_DRM_LST_CLEAN 694    
                             2101 ; 1734 |//$FILENAME _hdslocatefreeblockforslot.src
                             2102 ; 1735 |#define RSRC_FUNCLET__HDSLOCATEFREEBLOCKFORSLOT 695    
                             2103 ; 1736 |//$FILENAME _hdslockblock2deleteslot.src
                             2104 ; 1737 |#define RSRC_FUNCLET__HDSLOCKBLOCK2DELETESLOT 696    
                             2105 ; 1738 |//$FILENAME _hdsunlockblock2deleteslot.src
                             2106 ; 1739 |#define RSRC_FUNCLET__HDSUNLOCKBLOCK2DELETESLOT 697    
                             2107 ; 1740 |//$FILENAME _hdscreatenamespace.src
                             2108 ; 1741 |#define RSRC_FUNCLET__HDSCREATENAMESPACE 698    
                             2109 ; 1742 |//$FILENAME _hdsfilepos2blocknum.src
                             2110 ; 1743 |#define RSRC_FUNCLET__HDSFILEPOS2BLOCKNUM 699    
                             2111 ; 1744 |//$FILENAME _writesrn.src
                             2112 ; 1745 |#define RSRC_FUNCLET__WRITESRN 700    
                             2113 ; 1746 |//$FILENAME _writecommonblockheader.src
                             2114 ; 1747 |#define RSRC_FUNCLET__WRITECOMMONBLOCKHEADER 701    
                             2115 ; 1748 |//$FILENAME _writechildblockheader.src
                             2116 ; 1749 |#define RSRC_FUNCLET__WRITECHILDBLOCKHEADER 702    
                             2117 ; 1750 |//$FILENAME _readdatablockheader.src
                             2118 ; 1751 |#define RSRC_FUNCLET__READDATABLOCKHEADER 703    
                             2119 ; 1752 |//$FILENAME _writedatablockheader.src
                             2120 ; 1753 |#define RSRC_FUNCLET__WRITEDATABLOCKHEADER 704    
                             2121 ; 1754 |//$FILENAME _hdsexpandstore.src
                             2122 ; 1755 |#define RSRC_FUNCLET__HDSEXPANDSTORE 705    
                             2123 ; 1756 |//$FILENAME _hdsallocblock.src
                             2124 ; 1757 |#define RSRC_FUNCLET__HDSALLOCBLOCK 706    
                             2125 ; 1758 |//$FILENAME _hdsfreeblock.src
                             2126 ; 1759 |#define RSRC_FUNCLET__HDSFREEBLOCK 707    
                             2127 ; 1760 |//$FILENAME _hdscreateoversizedslot.src
                             2128 ; 1761 |#define RSRC_FUNCLET__HDSCREATEOVERSIZEDSLOT 708    
                             2129 ; 1762 |//$FILENAME _hdsallocslotinfile.src
                             2130 ; 1763 |#define RSRC_FUNCLET__HDSALLOCSLOTINFILE 709    
                             2131 ; 1764 |//$FILENAME _hdswriteblockhdr.src
                             2132 ; 1765 |#define RSRC_FUNCLET__HDSWRITEBLOCKHDR 710    
                             2133 ; 1766 |//$FILENAME _hdsadjustchildpayload.src
                             2134 ; 1767 |#define RSRC_FUNCLET__HDSADJUSTCHILDPAYLOAD 711    
                             2135 ; 1768 |//$FILENAME _hdsfindleftmostleafblock.src
                             2136 ; 1769 |#define RSRC_FUNCLET__HDSFINDLEFTMOSTLEAFBLOCK 712    
                             2137 ; 1770 |//$FILENAME _hdscreateandopenslot.src
                             2138 ; 1771 |#define RSRC_FUNCLET__HDSCREATEANDOPENSLOT 713    
                             2139 ; 1772 |//$FILENAME _hdsremoveslot.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  36

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2140 ; 1773 |#define RSRC_FUNCLET__HDSREMOVESLOT 714    
                             2141 ; 1774 |//$FILENAME _hdscopyandlocknewslot.src
                             2142 ; 1775 |#define RSRC_FUNCLET__HDSCOPYANDLOCKNEWSLOT 715    
                             2143 ; 1776 |//$FILENAME _hdsrelocateslotandkeepcurrlock.src
                             2144 ; 1777 |#define RSRC_FUNCLET__HDSRELOCATESLOTANDKEEPCURRLOCK 716    
                             2145 ; 1778 |//$FILENAME _hdstraversenextrightsiblingblock.src
                             2146 ; 1779 |#define RSRC_FUNCLET__HDSTRAVERSENEXTRIGHTSIBLINGBLOCK 717    
                             2147 ; 1780 |//$FILENAME _hdstraverseblocksinpostorder.src
                             2148 ; 1781 |#define RSRC_FUNCLET__HDSTRAVERSEBLOCKSINPOSTORDER 718    
                             2149 ; 1782 |//$FILENAME _hdsslotresize.src
                             2150 ; 1783 |#define RSRC_FUNCLET__HDSSLOTRESIZE 719    
                             2151 ; 1784 |//$FILENAME _isnull.src
                             2152 ; 1785 |#define RSRC_FUNCLET__ISNULL 720    
                             2153 ; 1786 |//$FILENAME _hdsgensrnhash.src
                             2154 ; 1787 |#define RSRC_FUNCLET__HDSGENSRNHASH 721    
                             2155 ; 1788 |//$FILENAME _hdsallocblockbuffer.src
                             2156 ; 1789 |#define RSRC_FUNCLET__HDSALLOCBLOCKBUFFER 722    
                             2157 ; 1790 |//$FILENAME _readsrn.src
                             2158 ; 1791 |#define RSRC_FUNCLET__READSRN 723    
                             2159 ; 1792 |//$FILENAME _hdsgetputchildblocknum.src
                             2160 ; 1793 |#define RSRC_FUNCLET__HDSGETPUTCHILDBLOCKNUM 724    
                             2161 ; 1794 |//$FILENAME _hdshashkeytoindex.src
                             2162 ; 1795 |#define RSRC_FUNCLET__HDSHASHKEYTOINDEX 725    
                             2163 ; 1796 |//$FILENAME _hdsslotwrite.src
                             2164 ; 1797 |#define RSRC_FUNCLET__HDSSLOTWRITE 726    
                             2165 ; 1798 |//$FILENAME _hdsinitslotenum.src
                             2166 ; 1799 |#define RSRC_FUNCLET__HDSINITSLOTENUM 727    
                             2167 ; 1800 |//$FILENAME drm_lst_close.src
                             2168 ; 1801 |#define RSRC_FUNCLET_DRM_LST_CLOSE 728    
                             2169 ; 1802 |//$FILENAME drm_lst_enumnext.src
                             2170 ; 1803 |#define RSRC_FUNCLET_DRM_LST_ENUMNEXT 729    
                             2171 ; 1804 |//$FILENAME drm_lst_enumdelete.src
                             2172 ; 1805 |#define RSRC_FUNCLET_DRM_LST_ENUMDELETE 730    
                             2173 ; 1806 |//$FILENAME _processextensions.src
                             2174 ; 1807 |#define RSRC_FUNCLET__PROCESSEXTENSIONS 731    
                             2175 ; 1808 |//$FILENAME _processidlist.src
                             2176 ; 1809 |#define RSRC_FUNCLET__PROCESSIDLIST 732    
                             2177 ; 1810 |//$FILENAME _processexclusions.src
                             2178 ; 1811 |#define RSRC_FUNCLET__PROCESSEXCLUSIONS 733    
                             2179 ; 1812 |//$FILENAME _processinclusions.src
                             2180 ; 1813 |#define RSRC_FUNCLET__PROCESSINCLUSIONS 734    
                             2181 ; 1814 |//$FILENAME drm_opl_processcopyoutputleveldata.src
                             2182 ; 1815 |#define RSRC_FUNCLET_DRM_OPL_PROCESSCOPYOUTPUTLEVELDATA 735    
                             2183 ; 1816 |//$FILENAME _getopllevel.src
                             2184 ; 1817 |#define RSRC_FUNCLET__GETOPLLEVEL 736    
                             2185 ; 1818 |//$FILENAME drm_opl_processplayoutputleveldata.src
                             2186 ; 1819 |#define RSRC_FUNCLET_DRM_OPL_PROCESSPLAYOUTPUTLEVELDATA 737    
                             2187 ; 1820 |//$FILENAME _updateattributetokeninslot.src
                             2188 ; 1821 |#define RSRC_FUNCLET__UPDATEATTRIBUTETOKENINSLOT 738    
                             2189 ; 1822 |//$FILENAME drm_sst_settokenvalue.src
                             2190 ; 1823 |#define RSRC_FUNCLET_DRM_SST_SETTOKENVALUE 739    
                             2191 ; 1824 |//$FILENAME drm_sst_createlicensestatepassword.src
                             2192 ; 1825 |#define RSRC_FUNCLET_DRM_SST_CREATELICENSESTATEPASSWORD 740    
                             2193 ; 1826 |//$FILENAME drm_utl_promoteansitounicode.src
                             2194 ; 1827 |#define RSRC_FUNCLET_DRM_UTL_PROMOTEANSITOUNICODE 741    
                             2195 ; 1828 |//$FILENAME drm_pk_symmetricsign.src
                             2196 ; 1829 |#define RSRC_FUNCLET_DRM_PK_SYMMETRICSIGN 742    
                             2197 ; 1830 |//$FILENAME drm_utl_getversionfromstring.src
                             2198 ; 1831 |#define RSRC_FUNCLET_DRM_UTL_GETVERSIONFROMSTRING 743    
                             2199 ; 1832 |//$FILENAME drm_utl_stringinsertblanksubstring.src
                             2200 ; 1833 |#define RSRC_FUNCLET_DRM_UTL_STRINGINSERTBLANKSUBSTRING 744    
                             2201 ; 1834 |//$FILENAME drm_utl_stringremovesubstring.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  37

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2202 ; 1835 |#define RSRC_FUNCLET_DRM_UTL_STRINGREMOVESUBSTRING 745    
                             2203 ; 1836 |//$FILENAME drm_utl_dstrsearch.src
                             2204 ; 1837 |#define RSRC_FUNCLET_DRM_UTL_DSTRSEARCH 746    
                             2205 ; 1838 |//$FILENAME drm_utl_dstrsearchreverse.src
                             2206 ; 1839 |#define RSRC_FUNCLET_DRM_UTL_DSTRSEARCHREVERSE 747    
                             2207 ; 1840 |//$FILENAME drm_utl_stringtoguid.src
                             2208 ; 1841 |#define RSRC_FUNCLET_DRM_UTL_STRINGTOGUID 748    
                             2209 ; 1842 |//$FILENAME drm_utl_ensuredataalignment.src
                             2210 ; 1843 |#define RSRC_FUNCLET_DRM_UTL_ENSUREDATAALIGNMENT 749    
                             2211 ; 1844 |//$FILENAME overlappingdates.src
                             2212 ; 1845 |#define RSRC_FUNCLET_OVERLAPPINGDATES 750    
                             2213 ; 1846 |//$FILENAME drm_asd_parsev2license.src
                             2214 ; 1847 |#define RSRC_FUNCLET_DRM_ASD_PARSEV2LICENSE 751    
                             2215 ; 1848 |//$FILENAME neginfdate.src
                             2216 ; 1849 |#define RSRC_FUNCLET_NEGINFDATE 752    
                             2217 ; 1850 |//$FILENAME infdate.src
                             2218 ; 1851 |#define RSRC_FUNCLET_INFDATE 753    
                             2219 ; 1852 |//$FILENAME isexpired.src
                             2220 ; 1853 |#define RSRC_FUNCLET_ISEXPIRED 754    
                             2221 ; 1854 |//$FILENAME getsecstateattr.src
                             2222 ; 1855 |#define RSRC_FUNCLET_GETSECSTATEATTR 755    
                             2223 ; 1856 |//$FILENAME setexpirycategory.src
                             2224 ; 1857 |#define RSRC_FUNCLET_SETEXPIRYCATEGORY 756    
                             2225 ; 1858 |//$FILENAME getv2licenseinfo.src
                             2226 ; 1859 |#define RSRC_FUNCLET_GETV2LICENSEINFO 757    
                             2227 ; 1860 |//$FILENAME getnextlicense.src
                             2228 ; 1861 |#define RSRC_FUNCLET_GETNEXTLICENSE 758    
                             2229 ; 1862 |//$FILENAME aggregate.src
                             2230 ; 1863 |#define RSRC_FUNCLET_AGGREGATE 759    
                             2231 ; 1864 |//$FILENAME drm_asd_getlicenseaggregatedata.src
                             2232 ; 1865 |#define RSRC_FUNCLET_DRM_ASD_GETLICENSEAGGREGATEDATA 760    
                             2233 ; 1866 |//$FILENAME _scannodeforattributew.src
                             2234 ; 1867 |#define RSRC_FUNCLET__SCANNODEFORATTRIBUTEW 761    
                             2235 ; 1868 |//$FILENAME _getxmlnodecdataw.src
                             2236 ; 1869 |#define RSRC_FUNCLET__GETXMLNODECDATAW 762    
                             2237 ; 1870 |//$FILENAME drm_ddc_getdevicecertificate.src
                             2238 ; 1871 |#define RSRC_FUNCLET_DRM_DDC_GETDEVICECERTIFICATE 763    
                             2239 ; 1872 |//$FILENAME _createdevicestore.src
                             2240 ; 1873 |#define RSRC_FUNCLET__CREATEDEVICESTORE 764    
                             2241 ; 1874 |//$FILENAME _mapdrmerror.src
                             2242 ; 1875 |#define RSRC_FUNCLET__MAPDRMERROR 765    
                             2243 ; 1876 |//$FILENAME _comparemachineid.src
                             2244 ; 1877 |#define RSRC_FUNCLET__COMPAREMACHINEID 766    
                             2245 ; 1878 |//$FILENAME initmgrcontext.src
                             2246 ; 1879 |#define RSRC_FUNCLET_INITMGRCONTEXT 767    
                             2247 ; 1880 |//$FILENAME drm_mgr_setv2header.src
                             2248 ; 1881 |#define RSRC_FUNCLET_DRM_MGR_SETV2HEADER 768    
                             2249 ; 1882 |//$FILENAME drm_mgr_commit.src
                             2250 ; 1883 |#define RSRC_FUNCLET_DRM_MGR_COMMIT 769    
                             2251 ; 1884 |//$FILENAME drm_mgr_cleanuplicensestore.src
                             2252 ; 1885 |#define RSRC_FUNCLET_DRM_MGR_CLEANUPLICENSESTORE 770    
                             2253 ; 1886 |//$FILENAME januscleandatastore.src
                             2254 ; 1887 |#define RSRC_FUNCLET_JANUSCLEANDATASTORE 771    
                             2255 ; 1888 |//$FILENAME drm_mtr_openid.src
                             2256 ; 1889 |#define RSRC_FUNCLET_DRM_MTR_OPENID 772    
                             2257 ; 1890 |//$FILENAME drm_mtr_incrementcount.src
                             2258 ; 1891 |#define RSRC_FUNCLET_DRM_MTR_INCREMENTCOUNT 773    
                             2259 ; 1892 |//$FILENAME drm_mtr_closecontext.src
                             2260 ; 1893 |#define RSRC_FUNCLET_DRM_MTR_CLOSECONTEXT 774    
                             2261 ; 1894 |//$FILENAME oem_setendoffile.src
                             2262 ; 1895 |#define RSRC_FUNCLET_OEM_SETENDOFFILE 775    
                             2263 ; 1896 |//$FILENAME oem_genrandombytes.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  38

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2264 ; 1897 |#define RSRC_FUNCLET_OEM_GENRANDOMBYTES 776    
                             2265 ; 1898 |//$FILENAME oem_getfallbacksigningkey.src
                             2266 ; 1899 |#define RSRC_FUNCLET_OEM_GETFALLBACKSIGNINGKEY 777    
                             2267 ; 1900 |//$FILENAME oem_getdevicecerttemplate.src
                             2268 ; 1901 |#define RSRC_FUNCLET_OEM_GETDEVICECERTTEMPLATE 778    
                             2269 ; 1902 |//$FILENAME oem_setdevicecert.src
                             2270 ; 1903 |#define RSRC_FUNCLET_OEM_SETDEVICECERT 779    
                             2271 ; 1904 |//$FILENAME oem_getclockresetstate.src
                             2272 ; 1905 |#define RSRC_FUNCLET_OEM_GETCLOCKRESETSTATE 780    
                             2273 ; 1906 |//$FILENAME oem_setclockresetstate.src
                             2274 ; 1907 |#define RSRC_FUNCLET_OEM_SETCLOCKRESETSTATE 781    
                             2275 ; 1908 |//$FILENAME oem_getuniqueid.src
                             2276 ; 1909 |#define RSRC_FUNCLET_OEM_GETUNIQUEID 782    
                             2277 ; 1910 |//$FILENAME oem_getdevicecert.src
                             2278 ; 1911 |#define RSRC_FUNCLET_OEM_GETDEVICECERT 783    
                             2279 ; 1912 |//$FILENAME drm_snc_openstore.src
                             2280 ; 1913 |#define RSRC_FUNCLET_DRM_SNC_OPENSTORE 784    
                             2281 ; 1914 |//$FILENAME drm_snc_closestore.src
                             2282 ; 1915 |#define RSRC_FUNCLET_DRM_SNC_CLOSESTORE 785    
                             2283 ; 1916 |//$FILENAME _setkidstoredata.src
                             2284 ; 1917 |#define RSRC_FUNCLET__SETKIDSTOREDATA 786    
                             2285 ; 1918 |//$FILENAME drm_snc_deletekid.src
                             2286 ; 1919 |#define RSRC_FUNCLET_DRM_SNC_DELETEKID 787    
                             2287 ; 1920 |//$FILENAME drm_snc_updatekid.src
                             2288 ; 1921 |#define RSRC_FUNCLET_DRM_SNC_UPDATEKID 788    
                             2289 ; 1922 |//$FILENAME drm_mgr_setv1header.src
                             2290 ; 1923 |#define RSRC_FUNCLET_DRM_MGR_SETV1HEADER 789    
                             2291 ; 1924 |//$FILENAME functiongetvalue_part1.src
                             2292 ; 1925 |#define RSRC_FUNCLET_FUNCTIONGETVALUE_PART1 790    
                             2293 ; 1926 |//$FILENAME functiongetvalue_fn_datediff.src
                             2294 ; 1927 |#define RSRC_FUNCLET_FUNCTIONGETVALUE_FN_DATEDIFF 791    
                             2295 ; 1928 |//$FILENAME _hdscreatenamespacestore.src
                             2296 ; 1929 |#define RSRC_FUNCLET__HDSCREATENAMESPACESTORE 792    
                             2297 ; 1930 |//$FILENAME drm_hds_createstore2.src
                             2298 ; 1931 |#define RSRC_FUNCLET_DRM_HDS_CREATESTORE2 793    
                             2299 ; 1932 |//$FILENAME drm_hds_openstore2.src
                             2300 ; 1933 |#define RSRC_FUNCLET_DRM_HDS_OPENSTORE2 794    
                             2301 ; 1934 |//$FILENAME _hdsprealloc.src
                             2302 ; 1935 |#define RSRC_FUNCLET__HDSPREALLOC 795    
                             2303 ; 1936 |//$FILENAME oem_systemtimetofiletime.src
                             2304 ; 1937 |#define RSRC_FUNCLET_OEM_SYSTEMTIMETOFILETIME 796    
                             2305 ; 1938 |//$FILENAME oem_filetimetosystemtime.src
                             2306 ; 1939 |#define RSRC_FUNCLET_OEM_FILETIMETOSYSTEMTIME 797    
                             2307 ; 1940 |//$FILENAME gendevicecertificate.src
                             2308 ; 1941 |#define RSRC_FUNCLET_GENDEVICECERTIFICATE 798    
                             2309 ; 1942 |//$FILENAME drmcrt_memmove_mem.src
                             2310 ; 1943 |#define RSRC_FUNCLET_DRMCRT_MEMMOVE_MEM 799    
                             2311 ; 1944 |//$FILENAME copyhdsdtore.src
                             2312 ; 1945 |#define RSRC_FUNCLET_COPYHDSDTORE 800    
                             2313 ; 1946 |//$FILENAME generatedevicecert.src
                             2314 ; 1947 |#define RSRC_FUNCLET_GENERATEDEVICECERT 801    
                             2315 ; 1948 |//$FILENAME oem_getdevicedatetime.src
                             2316 ; 1949 |#define RSRC_FUNCLET_OEM_GETDEVICEDATETIME 802    
                             2317 ; 1950 |//$FILENAME drm_mtr_updatedata.src
                             2318 ; 1951 |#define RSRC_FUNCLET_DRM_MTR_UPDATEDATA 803    
                             2319 ; 1952 |//$FILENAME _hdsupdatesrn.src
                             2320 ; 1953 |#define RSRC_FUNCLET__HDSUPDATESRN 804    
                             2321 ; 1954 |//$FILENAME drm_b64_decodew_inplace.src
                             2322 ; 1955 |#define RSRC_FUNCLET_DRM_B64_DECODEW_INPLACE 805    
                             2323 ; 1956 |//$FILENAME _checksecureclock.src
                             2324 ; 1957 |#define RSRC_FUNCLET__CHECKSECURECLOCK 806    
                             2325 ; 1958 |//$FILENAME _preparesecureclockdataforwriting.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  39

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2326 ; 1959 |#define RSRC_FUNCLET__PREPARESECURECLOCKDATAFORWRITING 807    
                             2327 ; 1960 |//$FILENAME _preparesecureclockdataforreading.src
                             2328 ; 1961 |#define RSRC_FUNCLET__PREPARESECURECLOCKDATAFORREADING 808    
                             2329 ; 1962 |//$FILENAME drm_sst_closelockedslot.src
                             2330 ; 1963 |#define RSRC_FUNCLET_DRM_SST_CLOSELOCKEDSLOT 809    
                             2331 ; 1964 |//$FILENAME variablesecuretimegetorset.src
                             2332 ; 1965 |#define RSRC_FUNCLET_VARIABLESECURETIMEGETORSET 810    
                             2333 ; 1966 |//$FILENAME strtol.src
                             2334 ; 1967 |#define RSRC_FUNCLET_STRTOL 811    
                             2335 ; 1968 |//$FILENAME mktime.src
                             2336 ; 1969 |#define RSRC_FUNCLET_MKTIME 812    
                             2337 ; 1970 |//$FILENAME gmtime.src
                             2338 ; 1971 |#define RSRC_FUNCLET_GMTIME 813    
                             2339 ; 1972 |//$FILENAME localtime.src
                             2340 ; 1973 |#define RSRC_FUNCLET_LOCALTIME 814    
                             2341 ; 1974 |//$FILENAME _struct_tm_to_systemtime.src
                             2342 ; 1975 |#define RSRC_FUNCLET__STRUCT_TM_TO_SYSTEMTIME 815    
                             2343 ; 1976 |//$FILENAME _systemtime_to_struct_tm.src
                             2344 ; 1977 |#define RSRC_FUNCLET__SYSTEMTIME_TO_STRUCT_TM 816    
                             2345 ; 1978 |//$FILENAME _systemtimetotime_t.src
                             2346 ; 1979 |#define RSRC_FUNCLET__SYSTEMTIMETOTIME_T 817    
                             2347 ; 1980 |//$FILENAME oem_setsystemtime.src
                             2348 ; 1981 |#define RSRC_FUNCLET_OEM_SETSYSTEMTIME 818    
                             2349 ; 1982 |//$FILENAME const_pkcrypto.src
                             2350 ; 1983 |#define RSRC_CONST_PKCRYPTO 819    
                             2351 ; 1984 |//$FILENAME const_y.src
                             2352 ; 1985 |#define RSRC_CONST_Y 820    
                             2353 ; 1986 |//$FILENAME aes_dec_table.src
                             2354 ; 1987 |#define RSRC_AES_DEC_TABLE 821    
                             2355 ; 1988 |//$FILENAME aes_key_table.src
                             2356 ; 1989 |#define RSRC_AES_KEY_TABLE 822    
                             2357 ; 1990 |//$FILENAME aes_enc_table.src
                             2358 ; 1991 |#define RSRC_AES_ENC_TABLE 823    
                             2359 ; 1992 |//$FILENAME device_cert.src
                             2360 ; 1993 |#define RSRC_DEVCERT 824    
                             2361 ; 1994 |//$FILENAME devcert_template.src
                             2362 ; 1995 |#define RSRC_DEVCERT_TEMPLATE 825    
                             2363 ; 1996 |//$FILENAME getbase64decodedkey.src
                             2364 ; 1997 |#define RSRC_FUNCLET_GETBASE64DECODEDKEY 826    
                             2365 ; 1998 |//$FILENAME _initslot.src
                             2366 ; 1999 |#define RSRC_FUNCLET__INITSLOT 827    
                             2367 ; 2000 |//$FILENAME hdsimplcommon.src
                             2368 ; 2001 |#define RSRC_HDSIMPLCOMMON_P 828    
                             2369 ; 2002 |//$FILENAME hdsimpl_p.src
                             2370 ; 2003 |#define RSRC_HDSIMPL_P 829    
                             2371 ; 2004 |
                             2372 ; 2005 |
                             2373 ; 2006 |//////////////////////////////////////////////////////////////////////////////////
                             2374 ; 2007 |//pkcrypto Related
                             2375 ; 2008 |//////////////////////////////////////////////////////////////////////////////////
                             2376 ; 2009 |//$FILENAME two_adic_inverse.src
                             2377 ; 2010 |#define RSRC_FUNCLET_TWO_ADIC_INVERSE 830    
                             2378 ; 2011 |//$FILENAME mp_shift.src
                             2379 ; 2012 |#define RSRC_FUNCLET_MP_SHIFT 831    
                             2380 ; 2013 |//$FILENAME mp_significant_bit_count.src
                             2381 ; 2014 |#define RSRC_FUNCLET_MP_SIGNIFICANT_BIT_COUNT 832    
                             2382 ; 2015 |//$FILENAME set_immediate.src
                             2383 ; 2016 |#define RSRC_FUNCLET_SET_IMMEDIATE 833    
                             2384 ; 2017 |//$FILENAME multiply_immediate.src
                             2385 ; 2018 |#define RSRC_FUNCLET_MULTIPLY_IMMEDIATE 834    
                             2386 ; 2019 |//$FILENAME multiply.src
                             2387 ; 2020 |#define RSRC_FUNCLET_MULTIPLY 835    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  40

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2388 ; 2021 |//$FILENAME divide_precondition_1.src
                             2389 ; 2022 |#define RSRC_FUNCLET_DIVIDE_PRECONDITION_1 836    
                             2390 ; 2023 |//$FILENAME divide_immediate.src
                             2391 ; 2024 |#define RSRC_FUNCLET_DIVIDE_IMMEDIATE 837    
                             2392 ; 2025 |//$FILENAME ecaffine_exponentiation_tabular.src
                             2393 ; 2026 |#define RSRC_FUNCLET_ECAFFINE_EXPONENTIATION_TABULAR 838    
                             2394 ; 2027 |//$FILENAME ecaffine_table_construction.src
                             2395 ; 2028 |#define RSRC_FUNCLET_ECAFFINE_TABLE_CONSTRUCTION 839    
                             2396 ; 2029 |//$FILENAME ecproj5_to_ecaffine.src
                             2397 ; 2030 |#define RSRC_FUNCLET_ECPROJ5_TO_ECAFFINE 840    
                             2398 ; 2031 |//$FILENAME ecproj5_set_infinite.src
                             2399 ; 2032 |#define RSRC_FUNCLET_ECPROJ5_SET_INFINITE 841    
                             2400 ; 2033 |//$FILENAME ecaffine_on_curve.src
                             2401 ; 2034 |#define RSRC_FUNCLET_ECAFFINE_ON_CURVE 842    
                             2402 ; 2035 |//$FILENAME ecaffine_addition.src
                             2403 ; 2036 |#define RSRC_FUNCLET_ECAFFINE_ADDITION 843    
                             2404 ; 2037 |//$FILENAME ecaffine_addition_subtraction.src
                             2405 ; 2038 |#define RSRC_FUNCLET_ECAFFINE_ADDITION_SUBTRACTION 844    
                             2406 ; 2039 |//$FILENAME ecaffine_attributes2.src
                             2407 ; 2040 |#define RSRC_FUNCLET_ECAFFINE_ATTRIBUTES2 845    
                             2408 ; 2041 |//$FILENAME kfdesc_initialize.src
                             2409 ; 2042 |#define RSRC_FUNCLET_KFDESC_INITIALIZE 846    
                             2410 ; 2043 |//$FILENAME kimmediate.src
                             2411 ; 2044 |#define RSRC_FUNCLET_KIMMEDIATE 847    
                             2412 ; 2045 |//$FILENAME kprime_immediater.src
                             2413 ; 2046 |#define RSRC_FUNCLET_KPRIME_IMMEDIATER 848    
                             2414 ; 2047 |//$FILENAME kprime_sqrter.src
                             2415 ; 2048 |#define RSRC_FUNCLET_KPRIME_SQRTER 849    
                             2416 ; 2049 |//$FILENAME kinitialize_prime.src
                             2417 ; 2050 |#define RSRC_FUNCLET_KINITIALIZE_PRIME 850    
                             2418 ; 2051 |//$FILENAME mod_lucasuv.src
                             2419 ; 2052 |#define RSRC_FUNCLET_MOD_LUCASUV 851    
                             2420 ; 2053 |//$FILENAME mod_lucas.src
                             2421 ; 2054 |#define RSRC_FUNCLET_MOD_LUCAS 852    
                             2422 ; 2055 |//$FILENAME bucket_multiply.src
                             2423 ; 2056 |#define RSRC_FUNCLET_BUCKET_MULTIPLY 853    
                             2424 ; 2057 |//$FILENAME mod_exp2000.src
                             2425 ; 2058 |#define RSRC_FUNCLET_MOD_EXP2000 854    
                             2426 ; 2059 |//$FILENAME mod_exp.src
                             2427 ; 2060 |#define RSRC_FUNCLET_MOD_EXP 855    
                             2428 ; 2061 |//$FILENAME modmul_choices1.src
                             2429 ; 2062 |#define RSRC_FUNCLET_MODMUL_CHOICES1 856    
                             2430 ; 2063 |//$FILENAME mod_sqrt.src
                             2431 ; 2064 |#define RSRC_FUNCLET_MOD_SQRT 857    
                             2432 ; 2065 |//$FILENAME create_modulus.src
                             2433 ; 2066 |#define RSRC_FUNCLET_CREATE_MODULUS 858    
                             2434 ; 2067 |//$FILENAME from_modular.src
                             2435 ; 2068 |#define RSRC_FUNCLET_FROM_MODULAR 859    
                             2436 ; 2069 |//$FILENAME add_immediate.src
                             2437 ; 2070 |#define RSRC_FUNCLET_ADD_IMMEDIATE 860    
                             2438 ; 2071 |//$FILENAME add_diff.src
                             2439 ; 2072 |#define RSRC_FUNCLET_ADD_DIFF 861    
                             2440 ; 2073 |//$FILENAME add_full.src
                             2441 ; 2074 |#define RSRC_FUNCLET_ADD_FULL 862    
                             2442 ; 2075 |//$FILENAME compare_sum_same.src
                             2443 ; 2076 |#define RSRC_FUNCLET_COMPARE_SUM_SAME 863    
                             2444 ; 2077 |//$FILENAME sub_immediate.src
                             2445 ; 2078 |#define RSRC_FUNCLET_SUB_IMMEDIATE 864    
                             2446 ; 2079 |//$FILENAME mp_initialization.src
                             2447 ; 2080 |#define RSRC_FUNCLET_MP_INITIALIZATION 865    
                             2448 ; 2081 |//$FILENAME new_random_bytes.src
                             2449 ; 2082 |#define RSRC_FUNCLET_NEW_RANDOM_BYTES 866    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  41

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2450 ; 2083 |//$FILENAME new_random_dword_interval.src
                             2451 ; 2084 |#define RSRC_FUNCLET_NEW_RANDOM_DWORD_INTERVAL 867    
                             2452 ; 2085 |//$FILENAME new_random_digit_interval.src
                             2453 ; 2086 |#define RSRC_FUNCLET_NEW_RANDOM_DIGIT_INTERVAL 868    
                             2454 ; 2087 |//$FILENAME new_random_mod.src
                             2455 ; 2088 |#define RSRC_FUNCLET_NEW_RANDOM_MOD 869    
                             2456 ; 2089 |//$FILENAME new_random_mod_nonzero.src
                             2457 ; 2090 |#define RSRC_FUNCLET_NEW_RANDOM_MOD_NONZERO 870    
                             2458 ; 2091 |//$FILENAME new_random_digits.src
                             2459 ; 2092 |#define RSRC_FUNCLET_NEW_RANDOM_DIGITS 871    
                             2460 ; 2093 |//$FILENAME words_to_ecaffine.src
                             2461 ; 2094 |#define RSRC_FUNCLET_WORDS_TO_ECAFFINE 872    
                             2462 ; 2095 |//$FILENAME ecaffine_to_dwords.src
                             2463 ; 2096 |#define RSRC_FUNCLET_ECAFFINE_TO_DWORDS 873    
                             2464 ; 2097 |//$FILENAME _threadunsafepkinit.src
                             2465 ; 2098 |#define RSRC_FUNCLET__THREADUNSAFEPKINIT 874    
                             2466 ; 2099 |//$FILENAME pkinit.src
                             2467 ; 2100 |#define RSRC_FUNCLET_PKINIT 875    
                             2468 ; 2101 |//$FILENAME drm_pk_genkeypair.src
                             2469 ; 2102 |#define RSRC_FUNCLET_DRM_PK_GENKEYPAIR 876    
                             2470 ; 2103 |//$FILENAME drm_pk_encrypt.src
                             2471 ; 2104 |#define RSRC_FUNCLET_DRM_PK_ENCRYPT 877    
                             2472 ; 2105 |//$FILENAME drm_pk_decrypt.src
                             2473 ; 2106 |#define RSRC_FUNCLET_DRM_PK_DECRYPT 878    
                             2474 ; 2107 |//$FILENAME byte_array_mod_bignum.src
                             2475 ; 2108 |#define RSRC_FUNCLET_BYTE_ARRAY_MOD_BIGNUM 879    
                             2476 ; 2109 |//$FILENAME fe2ipmod.src
                             2477 ; 2110 |#define RSRC_FUNCLET_FE2IPMOD 880    
                             2478 ; 2111 |//$FILENAME drm_pk_sign.src
                             2479 ; 2112 |#define RSRC_FUNCLET_DRM_PK_SIGN 881    
                             2480 ; 2113 |//$FILENAME drm_pk_verify.src
                             2481 ; 2114 |#define RSRC_FUNCLET_DRM_PK_VERIFY 882    
                             2482 ; 2115 |//$FILENAME random_bytes.src
                             2483 ; 2116 |#define RSRC_FUNCLET_RANDOM_BYTES 883    
                             2484 ; 2117 |//$FILENAME mp_gcdex.src
                             2485 ; 2118 |#define RSRC_FUNCLET_MP_GCDEX 884    
                             2486 ; 2119 |//$FILENAME mp_gcdex_split1.src
                             2487 ; 2120 |#define RSRC_FUNCLET_MP_GCDEX_SPLIT1 885    
                             2488 ; 2121 |//$FILENAME pkcrypto_p.src
                             2489 ; 2122 |#define RSRC_PKCRYPTO_P 886    
                             2490 ; 2123 |//$FILENAME pkcrypto_ovl_p.src
                             2491 ; 2124 |#define RSRC_PKCRYPTO_OVL_P 887    
                             2492 ; 2125 |//$FILENAME del_all_warning_line2.src
                             2493 ; 2126 |#define RSRC_WARNING_MSG_ALL_LINE2 888    
                             2494 ; 2127 |//$FILENAME del_all_file_star.src
                             2495 ; 2128 |#define RSRC_FILE_DELETE_STAR 889    
                             2496 ; 2129 |//$FILENAME string_voice_menu_delete_all.src
                             2497 ; 2130 |#define RSRC_STRING_VOICE_MENU_DELETE_ALL 890    
                             2498 ; 2131 |//$FILENAME Funclet_Init5VSense.src
                             2499 ; 2132 |#define RSRC_FUNCLET_INIT5VSENSE 891    
                             2500 ; 2133 |//$FILENAME Funclet_UpdateDCDCDutyCycle.src
                             2501 ; 2134 |#define RSRC_FUNCLET_UPDATEDCDCDUTYCYCLE 892    
                             2502 ; 2135 |//$FILENAME Funclet_changeplayset.src
                             2503 ; 2136 |#define RSRC_FUNCLET_CHANGE_PLAYSET 893    
                             2504 ; 2137 |
                             2505 ; 2138 |//$FILENAME Funclet_mmctesterase.src
                             2506 ; 2139 |#define RSRC_FUNCLET_MMC_TEST_ERASE 894    
                             2507 ; 2140 |//$FILENAME Funclet_mmchalinit.src
                             2508 ; 2141 |#define RSRC_FUNCLET_MMC_HALINIT 895    
                             2509 ; 2142 |
                             2510 ; 2143 |
                             2511 ; 2144 |// Added to allow rechargeable battery configurations to build
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  42

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2512 ; 2145 |//$FILENAME battery_charging.src
                             2513 ; 2146 |#define RSRC_BATTERY_CHARGING 896    
                             2514 ; 2147 |//$FILENAME batterychargecodebank.src
                             2515 ; 2148 |#define RSRC_BATTERY_CHARGE_CODEBANK 897    
                             2516 ; 2149 |//$FILENAME updatevolume.src
                             2517 ; 2150 |#define RSRC_FUNCLET_SYSUPDATEVOLUME 898    
                             2518 ; 2151 |//$FILENAME Funclet_TestSkipCheckDisk.src
                             2519 ; 2152 |#define RSRC_FUNCLET_TESTSKIPCHECKDISK 899    
                             2520 ; 2153 |//$FILENAME Funclet_DisableStmpGeneratedMicBias.src
                             2521 ; 2154 |#define RSRC_FUNCLET_DISABLE_STMP_GENERATED_MICBIAS 900    
                             2522 ; 2155 |//$FILENAME Funclet_EnableStmpGeneratedMicBias.src
                             2523 ; 2156 |#define RSRC_FUNCLET_ENABLE_STMP_GENERATED_MICBIAS 901    
                             2524 ; 2157 |//$FILENAME Funclet_SetSkipCheckDisk.src
                             2525 ; 2158 |#define RSRC_FUNCLET_SETSKIPCHECKDISK 902    
                             2526 ; 2159 |//$FILENAME drm_expr_evaluateexpression_no_more_tokens.src
                             2527 ; 2160 |#define RSRC_FUNCLET_DRM_EXPR_EVALUATEEXPRESSION_NO_MORE_TOKENS 903    
                             2528 ; 2161 |//$FILENAME _iscachedevent.src
                             2529 ; 2162 |#define RSRC_FUNCLET__ISCACHEDEVENT 904    
                             2530 ; 2163 |//$FILENAME setcountedexpirycategory.src
                             2531 ; 2164 |#define RSRC_FUNCLET_SETCOUNTEDEXPIRYCATEGORY 905    
                             2532 ; 2165 |//$FILENAME oem_data.src
                             2533 ; 2166 |#define RSRC_OEM_DATA 906    
                             2534 ; 2167 |//$FILENAME gpk_p.src
                             2535 ; 2168 |#define RSRC_GPK_P 907    
                             2536 ; 2169 |//$FILENAME key_data.src
                             2537 ; 2170 |#define RSRC_KEY_DATA 908    
                             2538 ; 2171 |//$FILENAME string_arial_8_defragmenting_store.src
                             2539 ; 2172 |#define RSRC_DEFRAGMENT_STORE_STRING 909    
                             2540 ; 2173 |//$FILENAME string_working.src
                             2541 ; 2174 |#define RSRC_STRING_WORKING 910    
                             2542 ; 2175 |//$FILENAME Funclet_loadusertime.src
                             2543 ; 2176 |#define RSRC_FUNCLET_LOADUSERTIME 911    
                             2544 ; 2177 |//$FILENAME Funclet_saveusertime.src
                             2545 ; 2178 |#define RSRC_FUNCLET_SAVEUSERTIME 912    
                             2546 ; 2179 |
                             2547 ; 2180 |//$FILENAME Funclet_SysLRADCBrownoutInit.src
                             2548 ; 2181 |#define RSRC_FUNCLET_SYSLRADCBROWNOUTINIT 913    
                             2549 ; 2182 |//$FILENAME Funclet_SysBatteryGetLevel.src
                             2550 ; 2183 |#define RSRC_FUNCLET_SYSBATTERYGETLEVEL 914    
                             2551 ; 2184 |
                             2552 ; 2185 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2553 ; 2186 |// Audible ACELP Resources
                             2554 ; 2187 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2555 ; 2188 |//$FILENAME AudibleAcelpDec.src
                             2556 ; 2189 |#define RSRC_AUDIBLE_ACELPDEC_CODE 915    
                             2557 ; 2190 |//$FILENAME AudibleAcelpP.src
                             2558 ; 2191 |#define RSRC_AUDIBLE_ACELP_CODE_P 916    
                             2559 ; 2192 |//$FILENAME AudibleAcelpX.src
                             2560 ; 2193 |#define RSRC_AUDIBLE_ACELP_DATA_X 917    
                             2561 ; 2194 |//$FILENAME AudibleAcelpY.src
                             2562 ; 2195 |#define RSRC_AUDIBLE_ACELP_DATA_Y 918    
                             2563 ; 2196 |
                             2564 ; 2197 |//$FILENAME AudibleDecMod.src
                             2565 ; 2198 |#define RSRC_AUDIBLE_DECMOD_CODE 919    
                             2566 ; 2199 |//$FILENAME audiblemp3p.src
                             2567 ; 2200 |#define RSRC_AUDIBLE_MP3P_CODE 920    
                             2568 ; 2201 |//$FILENAME audiblemp3x.src
                             2569 ; 2202 |#define RSRC_AUDIBLE_MP3X_CODE 921    
                             2570 ; 2203 |//$FILENAME audiblemp3y.src
                             2571 ; 2204 |#define RSRC_AUDIBLE_MP3Y_CODE 922    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  43

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2572 ; 2205 |
                             2573 ; 2206 |//$FILENAME audiblemetadata_p.src
                             2574 ; 2207 |#define RSRC_AUDIBLE_METADATA_P 923    
                             2575 ; 2208 |//$FILENAME audiblemetadata_y.src
                             2576 ; 2209 |#define RSRC_AUDIBLE_METADATA_Y 924    
                             2577 ; 2210 |//$FILENAME audiblesongposition_p.src
                             2578 ; 2211 |#define RSRC_AUDIBLE_SONG_POSITION_P 925    
                             2579 ; 2212 |//$FILENAME audibletargetcheck_p.src
                             2580 ; 2213 |#define RSRC_AUDIBLE_TARGET_CHECK_P 926    
                             2581 ; 2214 |//$FILENAME audiblefillfileinfo_p.src
                             2582 ; 2215 |#define RSRC_AUDIBLE_FILLFILEINFO_P 927    
                             2583 ; 2216 |//$FILENAME audibledsa_p.src
                             2584 ; 2217 |#define RSRC_AUDIBLE_DSA_P 928    
                             2585 ; 2218 |//$FILENAME audiblefillmetadata_p.src
                             2586 ; 2219 |#define RSRC_AUDIBLE_FILLMETADATA_P 929    
                             2587 ; 2220 |//$FILENAME audiblemetastrings_p.src
                             2588 ; 2221 |#define RSRC_AUDIBLE_METASTRINGS_P 930    
                             2589 ; 2222 |//$FILENAME aaactivationrecords_p.src
                             2590 ; 2223 |#define RSRC_AUDIBLE_ACTIVATION_P 931    
                             2591 ; 2224 |
                             2592 ; 2225 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2593 ; 2226 |// Effects and SRS Resources
                             2594 ; 2227 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2595 ; 2228 |//$FILENAME srs_effectsmodules_p.src
                             2596 ; 2229 |#define RSRC_SRS_EFFECTS_MODULES_P 932    
                             2597 ; 2230 |//$FILENAME srs_effectsmodules_x.src
                             2598 ; 2231 |#define RSRC_SRS_EFFECTS_MODULES_X 933    
                             2599 ; 2232 |//$FILENAME wowctrl.src
                             2600 ; 2233 |#define RSRC_WOW_CTRL 934    
                             2601 ; 2234 |
                             2602 ; 2235 |//$FILENAME wowmenu.src
                             2603 ; 2236 |#define RSRC_WOW_MENU_CODE_BANK 935    
                             2604 ; 2237 |//$FILENAME string_wowbrightness_menu.src
                             2605 ; 2238 |#define RSRC_STRING_WOW_BRIGHTNESS 936    
                             2606 ; 2239 |//$FILENAME string_wow_menu.src
                             2607 ; 2240 |#define RSRC_STRING_WOW_MENU 937    
                             2608 ; 2241 |//$FILENAME string_wowtrubass_menu.src
                             2609 ; 2242 |#define RSRC_STRING_WOW_TRUBASS 938    
                             2610 ; 2243 |//$FILENAME string_wowvolume_menu.src
                             2611 ; 2244 |#define RSRC_STRING_WOW_VOLUME 939    
                             2612 ; 2245 |//$FILENAME string_wowbrightness_low_menu.src
                             2613 ; 2246 |#define RSRC_STRING_WOW_BRIGHT_LOW 940    
                             2614 ; 2247 |//$FILENAME string_wowbrightness_mid_menu.src
                             2615 ; 2248 |#define RSRC_STRING_WOW_BRIGHT_MID 941    
                             2616 ; 2249 |//$FILENAME string_wowbrightness_high_menu.src
                             2617 ; 2250 |#define RSRC_STRING_WOW_BRIGHT_HIGH 942    
                             2618 ; 2251 |//$FILENAME wow_icon.src
                             2619 ; 2252 |#define RSRC_WOW_ICON 943    
                             2620 ; 2253 |
                             2621 ; 2254 |//$FILENAME wow16k.src
                             2622 ; 2255 |#define RSRC_WOW16K 944    
                             2623 ; 2256 |//$FILENAME wow32k.src
                             2624 ; 2257 |#define RSRC_WOW32K 945    
                             2625 ; 2258 |//$FILENAME wow8k.src
                             2626 ; 2259 |#define RSRC_WOW8K 946    
                             2627 ; 2260 |//$FILENAME wow11k.src
                             2628 ; 2261 |#define RSRC_WOW11K 947    
                             2629 ; 2262 |//$FILENAME wow22k.src
                             2630 ; 2263 |#define RSRC_WOW22K 948    
                             2631 ; 2264 |//$FILENAME wow24k.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  44

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2632 ; 2265 |#define RSRC_WOW24K 949    
                             2633 ; 2266 |//$FILENAME wow44k.src
                             2634 ; 2267 |#define RSRC_WOW44K 950    
                             2635 ; 2268 |//$FILENAME wow48k.src
                             2636 ; 2269 |#define RSRC_WOW48K 951    
                             2637 ; 2270 |
                             2638 ; 2271 |//$FILENAME wow16k_Y.src
                             2639 ; 2272 |#define RSRC_WOW16K_Y 952    
                             2640 ; 2273 |//$FILENAME wow32k_Y.src
                             2641 ; 2274 |#define RSRC_WOW32K_Y 953    
                             2642 ; 2275 |//$FILENAME wow8k_Y.src
                             2643 ; 2276 |#define RSRC_WOW8K_Y 954    
                             2644 ; 2277 |//$FILENAME wow11k_Y.src
                             2645 ; 2278 |#define RSRC_WOW11K_Y 955    
                             2646 ; 2279 |//$FILENAME wow22k_Y.src
                             2647 ; 2280 |#define RSRC_WOW22K_Y 956    
                             2648 ; 2281 |//$FILENAME wow24k_Y.src
                             2649 ; 2282 |#define RSRC_WOW24K_Y 957    
                             2650 ; 2283 |//$FILENAME wow44k_Y.src
                             2651 ; 2284 |#define RSRC_WOW44K_Y 958    
                             2652 ; 2285 |//$FILENAME wow48k_Y.src
                             2653 ; 2286 |#define RSRC_WOW48K_Y 959    
                             2654 ; 2287 |
                             2655 ; 2288 |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             2656 ; 2289 |// Audible Section Navigation
                             2657 ; 2290 |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                             2658 ; 2291 |//$FILENAME audible_secnav.src
                             2659 ; 2292 |#define RSRC_AUDIBLE_SECNAV_ICON 960    
                             2660 ; 2293 |
                             2661 ; 2294 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2662 ; 2295 |// PLAYLIST3 and Music Library
                             2663 ; 2296 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                             2664 ; 2297 |
                             2665 ; 2298 |//$FILENAME build_ml.src
                             2666 ; 2299 |#define RSRC_BUILD_ML 961    
                             2667 ; 2300 |//$FILENAME build_ml_warning.src
                             2668 ; 2301 |#define RSRC_BUILD_ML_WARNING 962    
                             2669 ; 2302 |//$FILENAME build_ml_warning2.src
                             2670 ; 2303 |#define RSRC_BUILD_ML_WARNING2 963    
                             2671 ; 2304 |//$FILENAME build_flash1.src
                             2672 ; 2305 |#define RSRC_BUILD_FLASH1 964    
                             2673 ; 2306 |//$FILENAME build_flash2.src
                             2674 ; 2307 |#define RSRC_BUILD_FLASH2 965    
                             2675 ; 2308 |//$FILENAME build_flash3.src
                             2676 ; 2309 |#define RSRC_BUILD_FLASH3 966    
                             2677 ; 2310 |//$FILENAME build_sd1.src
                             2678 ; 2311 |#define RSRC_BUILD_SD1 967    
                             2679 ; 2312 |//$FILENAME build_sd2.src
                             2680 ; 2313 |#define RSRC_BUILD_SD2 968    
                             2681 ; 2314 |//$FILENAME build_sd3.src
                             2682 ; 2315 |#define RSRC_BUILD_SD3 969    
                             2683 ; 2316 |//$FILENAME build_newmusic.src
                             2684 ; 2317 |#define RSRC_BUILD_NEWMUSIC 970    
                             2685 ; 2318 |//$FILENAME sdmd.src
                             2686 ; 2319 |#define RSRC_SDMD_MENU_CODE_BANK 971    
                             2687 ; 2320 |//$FILENAME musiclib_build_function_sec.src
                             2688 ; 2321 |#define RSRC_MUSICLIB_BUILD_FUNCTION_SEC 972    
                             2689 ; 2322 |//$FILENAME musiclib_build_function_flush.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  45

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2690 ; 2323 |#define RSRC_MUSICLIB_BUILD_FUNCTION_FLUSH 973    
                             2691 ; 2324 |//$FILENAME MusicLibBuildModule.src
                             2692 ; 2325 |#define RSRC_MUSICLIB_BUILD_MODULE 974    
                             2693 ; 2326 |//$FILENAME MusicLibBuildGenreTable.src
                             2694 ; 2327 |#define RSRC_MUSICLIB_BUILD_GENRE_TABLE 975    
                             2695 ; 2328 |//$FILENAME MusicLibBuildFlushMem.src
                             2696 ; 2329 |#define RSRC_MUSICLIB_BUILD_FLUSH_MEM 976    
                             2697 ; 2330 |//$FILENAME MusicLibBrowseModule.src
                             2698 ; 2331 |#define RSRC_MUSICLIB_BROWSE_MODULE 977    
                             2699 ; 2332 |//$FILENAME MusicLibPlayModule.src
                             2700 ; 2333 |#define RSRC_MUSICLIB_PLAY_MODULE 978    
                             2701 ; 2334 |//$FILENAME MusicLibPlayAllNextModule.src
                             2702 ; 2335 |#define RSRC_MUSICLIB_PLAYALLNEXT_MODULE 979    
                             2703 ; 2336 |//$FILENAME MusicLibPlayAllPrevModule.src
                             2704 ; 2337 |#define RSRC_MUSICLIB_PLAYALLPREV_MODULE 980    
                             2705 ; 2338 |//$FILENAME MusicLibShuffleModule.src
                             2706 ; 2339 |#define RSRC_MUSICLIB_SHUFFLE_MODULE 981    
                             2707 ; 2340 |//$FILENAME Funclet_write_detection_access.src
                             2708 ; 2341 |#define RSRC_FUNCLET_WRITE_DETECTION_ACCESS 982    
                             2709 ; 2342 |//$FILENAME Funclet_LOCAL_GetLvlOneItem_info.src
                             2710 ; 2343 |#define RSRC_FUNCLET_LOCAL_GET_LVL_ONE_ITEM_INFO 983    
                             2711 ; 2344 |//$FILENAME Funclet_LOCAL_GetFlashAssociatedList_info.src
                             2712 ; 2345 |#define RSRC_FUNCLET_LOCAL_GET_FLASH_ASSOCIATED_LIST_INFO 984    
                             2713 ; 2346 |//$FILENAME Funclet_ML_ResumePlayState.src
                             2714 ; 2347 |#define RSRC_FUNCLET_ML_RESUMEPLAYSTATE 985    
                             2715 ; 2348 |//$FILENAME Funclet_ML_UpdateOnTheGo.src
                             2716 ; 2349 |#define RSRC_FUNCLET_ML_UPDATE_ON_THE_GO 986    
                             2717 ; 2350 |//$FILENAME Funclet_ML_ChOnTheGo.src
                             2718 ; 2351 |#define RSRC_FUNCLET_ML_CH_ON_THE_GO 987    
                             2719 ; 2352 |//$FILENAME Funclet_ML_LoadOnTheGo.src
                             2720 ; 2353 |#define RSRC_FUNCLET_ML_LOAD_ON_THE_GO 988    
                             2721 ; 2354 |//$FILENAME Funclet_Build_InitandUseCache.src
                             2722 ; 2355 |#define RSRC_FUNCLET_BUILD_INIT_AND_USE_CACHE 989    
                             2723 ; 2356 |//$FILENAME Funclet_Build_FlushAndCloseCache.src
                             2724 ; 2357 |#define RSRC_FUNCLET_BUILD_FLUSH_AND_CLOSE_CACHE 990    
                             2725 ; 2358 |//$FILENAME Funclet_ML_movePointerBackward.src
                             2726 ; 2359 |#define RSRC_FUNCLET_ML_MOVE_POINTER_BACKWARD 991    
                             2727 ; 2360 |//$FILENAME Funclet_ML_findLastItemPointer.src
                             2728 ; 2361 |#define RSRC_FUNCLET_ML_FIND_LAST_ITEM_POINTER 992    
                             2729 ; 2362 |//$FILENAME Funclet_ML_startShuffle.src
                             2730 ; 2363 |#define RSRC_FUNCLET_ML_START_SHUFFLE 993    
                             2731 ; 2364 |//$FILENAME Funclet_ML_GetFlashDirAssocListId.src
                             2732 ; 2365 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_ID 994    
                             2733 ; 2366 |//$FILENAME Funclet_ML_GetFlashDirAssocListRootId.src
                             2734 ; 2367 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_ROOT_ID 995    
                             2735 ; 2368 |//$FILENAME Funclet_ML_GetFlashDirAssocListSize.src
                             2736 ; 2369 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_SIZE 996    
                             2737 ; 2370 |//$FILENAME Funclet_ML_GetIdByStateAndPosition.src
                             2738 ; 2371 |#define RSRC_FUNCLET_ML_GET_ID_BY_STATE_AND_POSITION 997    
                             2739 ; 2372 |//$FILENAME Funclet_ML_StartPlayDirSongInit.src
                             2740 ; 2373 |#define RSRC_FUNCLET_ML_START_PLAY_DIR_SONG_INIT 998    
                             2741 ; 2374 |//$FILENAME Funclet_ML_ShuffleNextDirSong.src
                             2742 ; 2375 |#define RSRC_FUNCLET_ML_SHUFFLE_NEXT_DIR_SONG 999    
                             2743 ; 2376 |//$FILENAME Funclet_ML_BrowseMenu.src
                             2744 ; 2377 |#define RSRC_FUNCLET_ML_BROWSE_MENU 1000    
                             2745 ; 2378 |//$FILENAME Funclet_ML_StartPlayAllSong.src
                             2746 ; 2379 |#define RSRC_FUNCLET_ML_START_PLAY_ALL_SONG 1001    
                             2747 ; 2380 |//$FILENAME Funclet_ML_PlayAllNextSong.src
                             2748 ; 2381 |#define RSRC_FUNCLET_ML_PLAY_ALL_NEXT_SONG 1002    
                             2749 ; 2382 |//$FILENAME Funclet_ML_PlayAllPreviousSong.src
                             2750 ; 2383 |#define RSRC_FUNCLET_ML_PLAY_ALL_PREVIOUS_SONG 1003    
                             2751 ; 2384 |//$FILENAME Funclet_ML_PlayPreviousDirSong.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  46

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2752 ; 2385 |#define RSRC_FUNCLET_ML_PLAY_PREVIOUS_DIR_SONG 1004    
                             2753 ; 2386 |//$FILENAME Funclet_ML_ShuffleNextSong.src
                             2754 ; 2387 |#define RSRC_FUNCLET_ML_SHUFFLE_NEXT_SONG 1005    
                             2755 ; 2388 |//$FILENAME Funclet_ML_PlayNextSong.src
                             2756 ; 2389 |#define RSRC_FUNCLET_ML_PLAY_NEXT_SONG 1006    
                             2757 ; 2390 |//$FILENAME Funclet_ML_PlayPreviousSong.src
                             2758 ; 2391 |#define RSRC_FUNCLET_ML_PLAY_PREVIOUS_SONG 1007    
                             2759 ; 2392 |//$FILENAME Funclet_BuildVoiceFilePath.src
                             2760 ; 2393 |#define RSRC_FUNCLET_BUILDVOICEFILEPATH 1008    
                             2761 ; 2394 |//$FILENAME Funclet_BuildFMFilePath.src
                             2762 ; 2395 |#define RSRC_FUNCLET_BUILDFMFILEPATH 1009    
                             2763 ; 2396 |//$FILENAME Funclet_BuildLINEINFilePath.src
                             2764 ; 2397 |#define RSRC_FUNCLET_BUILDLINEINFILEPATH 1010    
                             2765 ; 2398 |//$FILENAME Funclet_GetVoiceFastKey.src
                             2766 ; 2399 |#define RSRC_FUNCLET_GETVOICEFASTKEY 1011    
                             2767 ; 2400 |//$FILENAME MusicLibVoiceApp.src
                             2768 ; 2401 |#define RSRC_MUSICLIB_VOICE_APP 1012    
                             2769 ; 2402 |//$FILENAME MusicLibVoiceModule.src
                             2770 ; 2403 |#define RSRC_MUSICLIB_VOICE_MODULE 1013    
                             2771 ; 2404 |//$FILENAME MusicLibVoicePlayModule.src
                             2772 ; 2405 |#define RSRC_MUSICLIB_VOICEPLAY_MODULE 1014    
                             2773 ; 2406 |//$FILENAME MusicLibMergeFunction.src
                             2774 ; 2407 |#define RSRC_MUSICLIB_MERGE_FUNCTION 1015    
                             2775 ; 2408 |//$FILENAME MusicLibMergeModule.src
                             2776 ; 2409 |#define RSRC_MUSICLIB_MERGE_MODULE 1016    
                             2777 ; 2410 |//$FILENAME MusicLibBrowseApp.src
                             2778 ; 2411 |#define RSRC_MUSICLIB_BROWSE_APP 1017    
                             2779 ; 2412 |//$FILENAME playmusicmenu.src
                             2780 ; 2413 |#define RSRC_PLAYMUSIC_MENU_CODE_BANK 1018    
                             2781 ; 2414 |//$FILENAME browsemenu.src
                             2782 ; 2415 |#define RSRC_BROWSE_MENU_CODE_BANK 1019    
                             2783 ; 2416 |//$FILENAME browsemenu_extra.src
                             2784 ; 2417 |#define RSRC_BROWSE_MENU_EXTRA_CODE_BANK 1020    
                             2785 ; 2418 |//$FILENAME string_play_all.src
                             2786 ; 2419 |#define RSRC_STRING_PLAY_ALL 1021    
                             2787 ; 2420 |//$FILENAME string_play.src
                             2788 ; 2421 |#define RSRC_STRING_PLAY 1022    
                             2789 ; 2422 |//$FILENAME string_unknown_year.src
                             2790 ; 2423 |#define RSRC_STRING_UNKNOWN_YEAR 1023    
                             2791 ; 2424 |//$FILENAME string_year_width.src
                             2792 ; 2425 |#define RSRC_STRING_YEAR_WIDTH 1024    
                             2793 ; 2426 |//$FILENAME string_artist.src
                             2794 ; 2427 |#define RSRC_STRING_ARTIST 1025    
                             2795 ; 2428 |//$FILENAME string_songs.src
                             2796 ; 2429 |#define RSRC_STRING_SONGS 1026    
                             2797 ; 2430 |//$FILENAME string_on_the_fly.src
                             2798 ; 2431 |#define RSRC_STRING_ON_THE_FLY 1027    
                             2799 ; 2432 |//$FILENAME string_new_music.src
                             2800 ; 2433 |#define RSRC_STRING_NEW_MUSIC_MENU 1028    
                             2801 ; 2434 |//$FILENAME string_genre.src
                             2802 ; 2435 |#define RSRC_STRING_GENRE 1029    
                             2803 ; 2436 |//$FILENAME string_year.src
                             2804 ; 2437 |#define RSRC_STRING_YEAR 1030    
                             2805 ; 2438 |//$FILENAME string_playlist.src
                             2806 ; 2439 |#define RSRC_STRING_PLAYLIST 1031    
                             2807 ; 2440 |//$FILENAME string_fm_rec.src
                             2808 ; 2441 |#define RSRC_STRING_FM_REC 1032    
                             2809 ; 2442 |//$FILENAME string_linein_rec.src
                             2810 ; 2443 |#define RSRC_STRING_LINEIN_REC 1033    
                             2811 ; 2444 |//$FILENAME string_play_music.src
                             2812 ; 2445 |#define RSRC_STRING_PLAY_MUSIC 1034    
                             2813 ; 2446 |//$FILENAME highlight_back.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  47

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2814 ; 2447 |#define RSRC_HIGHLIGHT_BACK 1035    
                             2815 ; 2448 |//$FILENAME newmusicmenu.src
                             2816 ; 2449 |#define RSRC_NEW_MUSIC_MENU_CODE_BANK 1036    
                             2817 ; 2450 |//$FILENAME string_1_day.src
                             2818 ; 2451 |#define RSRC_STRING_1_DAY 1037    
                             2819 ; 2452 |//$FILENAME string_1_week.src
                             2820 ; 2453 |#define RSRC_STRING_1_WEEK 1038    
                             2821 ; 2454 |//$FILENAME string_1_month.src
                             2822 ; 2455 |#define RSRC_STRING_1_MONTH 1039    
                             2823 ; 2456 |//$FILENAME on_the_fly_full.src
                             2824 ; 2457 |#define RSRC_LIST_FULL_MESSAGE 1040    
                             2825 ; 2458 |//$FILENAME on_the_fly_free1.src
                             2826 ; 2459 |#define RSRC_LIST_FREE_MESSAGE 1041    
                             2827 ; 2460 |//$FILENAME on_the_fly_free2.src
                             2828 ; 2461 |#define RSRC_LIST_FREE_MESSAGE2 1042    
                             2829 ; 2462 |//$FILENAME on_the_fly_delete1.src
                             2830 ; 2463 |#define RSRC_LIST_DELETE_MESSAGE 1043    
                             2831 ; 2464 |//$FILENAME on_the_fly_delete2.src
                             2832 ; 2465 |#define RSRC_LIST_DELETE_MESSAGE2 1044    
                             2833 ; 2466 |//$FILENAME empty_favourite.src
                             2834 ; 2467 |#define RSRC_EMPTY_FAVOURITE 1045    
                             2835 ; 2468 |//$FILENAME sd_remove.src
                             2836 ; 2469 |#define RSRC_SD_REMOVE 1046    
                             2837 ; 2470 |//$FILENAME sd_insert.src
                             2838 ; 2471 |#define RSRC_SD_INSERT 1047    
                             2839 ; 2472 |//$FILENAME check_disk_1.src
                             2840 ; 2473 |#define RSRC_CHECK_DISK_1 1048    
                             2841 ; 2474 |//$FILENAME check_disk_2.src
                             2842 ; 2475 |#define RSRC_CHECK_DISK_2 1049    
                             2843 ; 2476 |//$FILENAME check_disk_3.src
                             2844 ; 2477 |#define RSRC_CHECK_DISK_3 1050    
                             2845 ; 2478 |//$FILENAME flash_error.src
                             2846 ; 2479 |#define RSRC_FLASH_ERROR 1051    
                             2847 ; 2480 |
                             2848 ; 2481 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             2849 ; 2482 |// STFM1000 Tuner funclet
                             2850 ; 2483 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             2851 ; 2484 |//$FILENAME Funclet_TunerDriverInit.src
                             2852 ; 2485 |#define RSRC_FUNCLET_TUNER_DRIVER_INIT 1052    
                             2853 ; 2486 |//$FILENAME Funclet_TunerDriverIncUp.src
                             2854 ; 2487 |#define RSRC_FUNCLET_TUNER_DRIVER_INC_UP 1053    
                             2855 ; 2488 |//$FILENAME Funclet_TunerDriverIncDown.src
                             2856 ; 2489 |#define RSRC_FUNCLET_TUNER_DRIVER_INC_DOWN 1054    
                             2857 ; 2490 |//$FILENAME Funclet_TunerDriverStandyby.src
                             2858 ; 2491 |#define RSRC_FUNCLET_TUNER_DRIVER_SET_STANDBY 1055    
                             2859 ; 2492 |//$FILENAME Funclet_TunerDriverReplacePreset.src
                             2860 ; 2493 |#define RSRC_FUNCLET_TUNER_DRIVER_REPLACE_PRESET 1056    
                             2861 ; 2494 |//$FILENAME Funclet_TunerDriverErasePreset.src
                             2862 ; 2495 |#define RSRC_FUNCLET_TUNER_DRIVER_ERASE_PRESET 1057    
                             2863 ; 2496 |//$FILENAME Funclet_TunerDriverTuneToPreset.src
                             2864 ; 2497 |#define RSRC_FUNCLET_TUNER_DRIVER_TUNE_TO_PRESET 1058    
                             2865 ; 2498 |//$FILENAME Funclet_TunerDriverSearchDown.src
                             2866 ; 2499 |#define RSRC_FUNCLET_TUNER_DRIVER_SEARCH_DOWN 1059    
                             2867 ; 2500 |//$FILENAME Funclet_TunerSTFM1000SafePowerDown.src
                             2868 ; 2501 |#define RSRC_FUNCLET_TUNER_SAFE_POWER_DOWN 1060    
                             2869 ; 2502 |//$FILENAME Funclet_TunerSTFM1000OptimizeChannel.src
                             2870 ; 2503 |#define RSRC_FUNCLET_STFM1000_TUNER_OPTIMIZE_CHANNEL 1061    
                             2871 ; 2504 |//$FILENAME decstfmmod.src
                             2872 ; 2505 |#define RSRC_DEC_STFM_MOD_CODE 1062    
                             2873 ; 2506 |//$FILENAME dec_stfmp.src
                             2874 ; 2507 |#define RSRC_DEC_STFMP_CODE 1063    
                             2875 ; 2508 |//$FILENAME dec_stfmx.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  48

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2876 ; 2509 |#define RSRC_DEC_STFMX_CODE 1064    
                             2877 ; 2510 |//$FILENAME dec_stfmy.src
                             2878 ; 2511 |#define RSRC_DEC_STFMY_CODE 1065    
                             2879 ; 2512 |//$FILENAME Funclet_TunerSTFM1000I2CInit.src
                             2880 ; 2513 |#define RSRC_FUNCLET_STFM1000_I2C_INIT 1066    
                             2881 ; 2514 |//$FILENAME Funclet_TunerDriverScanStations.src
                             2882 ; 2515 |#define RSRC_FUNCLET_TUNER_DRIVER_SCAN_STATION 1067    
                             2883 ; 2516 |//$FILENAME Funclet_TunerDriverSetMonoStereoMode.src
                             2884 ; 2517 |#define RSRC_FUNCLET_TUNER_DRIVER_SET_MONO_STEREO_MODE 1068    
                             2885 ; 2518 |//$FILENAME Funclet_STFM1000TestPresence.src
                             2886 ; 2519 |#define RSRC_FUNCLET_STFM1000_TEST_PRESENCE 1069    
                             2887 ; 2520 |//$FILENAME Funclet_I2CWriteTunerRegister.src
                             2888 ; 2521 |#define RSRC_FUNCLET_I2C_WRITE_TUNER_REGISTER 1070    
                             2889 ; 2522 |//$FILENAME Funclet_I2CReset.src
                             2890 ; 2523 |#define RSRC_FUNCLET_I2C_RESET 1071    
                             2891 ; 2524 |//$FILENAME fmtunersecondrsrc.src
                             2892 ; 2525 |#define RSRC_FM_TUNER_SECOND_RSRC 1072    
                             2893 ; 2526 |//$FILENAME Funclet_TunerSTFM1000RegPowerUp1.src
                             2894 ; 2527 |#define RSRC_FUNCLET_STFM1000_REG_POWER_UP1 1073    
                             2895 ; 2528 |//$FILENAME Funclet_TunerSTFM1000RegPowerUp2.src
                             2896 ; 2529 |#define RSRC_FUNCLET_STFM1000_REG_POWER_UP2 1074    
                             2897 ; 2530 |//$FILENAME Funclet_TunerSTFM1000FindRssiThreshold.src
                             2898 ; 2531 |#define RSRC_FUNCLET_STFM1000_FIND_RSSI_THRESHOLD 1075    
                             2899 ; 2532 |//$FILENAME Funclet_TunerSTFM1000DataPathOff.src
                             2900 ; 2533 |#define RSRC_FUNCLET_STFM1000_DATA_PATH_OFF 1076    
                             2901 ; 2534 |//$FILENAME Funclet_TunerSTFM1000ContinueSearching.src
                             2902 ; 2535 |#define RSRC_FUNCLET_STFM1000_CONTINUE_SEARCHING 1077    
                             2903 ; 2536 |//RSRC_FUNCLET_STFM1000_SET_LNA_BIAS    equ      975    ;$FILENAME Funclet_STFM1000SetLnaB
                                  ias.src
                             2904 ; 2537 |//RSRC_FUNCLET_STFM1000_LOOK_FOR_PILOT    equ      976    ;$FILENAME Funclet_STFM1000LookF
                                  orPilot.src
                             2905 ; 2538 |//$FILENAME Funclet_STFM1000TunerSearchEnded.src
                             2906 ; 2539 |#define RSRC_FUNCLET_STFM1000_TUNER_SEARCH_ENDED 1078    
                             2907 ; 2540 |// for RestoreDriveFromBackup
                             2908 ; 2541 |//$FILENAME restoresysdrive.src
                             2909 ; 2542 |#define RSRC_RESTORESYSDRIVE_P_CODE 1079    
                             2910 ; 2543 |
                             2911 ; 2544 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             2912 ; 2545 |// Playlist5 sources
                             2913 ; 2546 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             2914 ; 2547 |//$FILENAME playlist5_browsemenu.src
                             2915 ; 2548 |#define RSRC_PL5BROWSE_MENU_CODEBANK 1080    
                             2916 ; 2549 |//$FILENAME playlist5_browsemenu_extra.src
                             2917 ; 2550 |#define RSRC_PL5_BROWSEMENU_EXTRA 1081    
                             2918 ; 2551 |//$FILENAME playlist5_browse_submenu.src
                             2919 ; 2552 |#define RSRC_PL5BROWSE_SUBMENU_CODEBANK 1082    
                             2920 ; 2553 |//$FILENAME playlist5_playback_module.src
                             2921 ; 2554 |#define RSRC_PLAYLIST5_PLAYBACK_MODULE 1083    
                             2922 ; 2555 |//$FILENAME playlist5_browse_module.src
                             2923 ; 2556 |#define RSRC_PLAYLIST5_BROWSE_MODULE 1084    
                             2924 ; 2557 |
                             2925 ; 2558 |//$FILENAME Funclet_Get_LRCDirName_PL5.src
                             2926 ; 2559 |#define RSRC_FUNCLET_GET_LRC_DIR_NAME_PL5 1085    
                             2927 ; 2560 |//$FILENAME Funclet_PL5_PL_QueuePushBack.src   
                             2928 ; 2561 |#define RSRC_FUNCLET_PL5_PL_QUEUEPUSHBACK 1086    
                             2929 ; 2562 |//$FILENAME Funclet_PL5_PL_QueuePushFront.src 
                             2930 ; 2563 |#define RSRC_FUNCLET_PL5_PL_QUEUEPUSHFRONT 1087    
                             2931 ; 2564 |
                             2932 ; 2565 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             2933 ; 2566 |// DanhNguyen added bitmaps
                             2934 ; 2567 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             2935 ; 2568 |//$FILENAME icon_folder.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  49

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2936 ; 2569 |#define RSRC_ICON_FOLDER 1088    
                             2937 ; 2570 |//$FILENAME icon_song.src
                             2938 ; 2571 |#define RSRC_ICON_SONG 1089    
                             2939 ; 2572 |
                             2940 ; 2573 |//$FILENAME menu_music.src
                             2941 ; 2574 |#define RSRC_MENU_MUSIC 1090    
                             2942 ; 2575 |//$FILENAME vie_menu_music.src
                             2943 ; 2576 |#define RSRC_VIE_MENU_MUSIC 1091    
                             2944 ; 2577 |
                             2945 ; 2578 |//$FILENAME menu_voice.src
                             2946 ; 2579 |#define RSRC_MENU_VOICE 1092    
                             2947 ; 2580 |//$FILENAME vie_menu_voice.src
                             2948 ; 2581 |#define RSRC_VIE_MENU_VOICE 1093    
                             2949 ; 2582 |
                             2950 ; 2583 |//$FILENAME menu_fmtuner.src
                             2951 ; 2584 |#define RSRC_MENU_FMTUNER 1094    
                             2952 ; 2585 |//$FILENAME vie_menu_fmtuner.src
                             2953 ; 2586 |#define RSRC_VIE_MENU_FMTUNER 1095    
                             2954 ; 2587 |
                             2955 ; 2588 |//$FILENAME menu_record.src
                             2956 ; 2589 |#define RSRC_MENU_RECORD 1096    
                             2957 ; 2590 |//$FILENAME vie_menu_record.src
                             2958 ; 2591 |#define RSRC_VIE_MENU_RECORD 1097    
                             2959 ; 2592 |
                             2960 ; 2593 |//$FILENAME menu_settings.src
                             2961 ; 2594 |#define RSRC_MENU_SETTINGS 1098    
                             2962 ; 2595 |//$FILENAME vie_menu_settings.src
                             2963 ; 2596 |#define RSRC_VIE_MENU_SETTINGS 1099    
                             2964 ; 2597 |
                             2965 ; 2598 |//$FILENAME menu_shutdown.src
                             2966 ; 2599 |#define RSRC_MENU_SHUTDOWN 1100    
                             2967 ; 2600 |//$FILENAME vie_menu_shutdown.src
                             2968 ; 2601 |#define RSRC_VIE_MENU_SHUTDOWN 1101    
                             2969 ; 2602 |
                             2970 ; 2603 |//$FILENAME menu_clock.src
                             2971 ; 2604 |#define RSRC_MENU_CLOCK 1102    
                             2972 ; 2605 |//$FILENAME vie_menu_clock.src
                             2973 ; 2606 |#define RSRC_VIE_MENU_CLOCK 1103    
                             2974 ; 2607 |
                             2975 ; 2608 |//$FILENAME menu_ab.src
                             2976 ; 2609 |#define RSRC_MENU_AB 1104    
                             2977 ; 2610 |//$FILENAME vie_menu_ab.src
                             2978 ; 2611 |#define RSRC_VIE_MENU_AB 1105    
                             2979 ; 2612 |
                             2980 ; 2613 |//$FILENAME menu_delete.src
                             2981 ; 2614 |#define RSRC_MENU_DELETE 1106    
                             2982 ; 2615 |//$FILENAME vie_menu_delete.src
                             2983 ; 2616 |#define RSRC_VIE_MENU_DELETE 1107    
                             2984 ; 2617 |
                             2985 ; 2618 |//$FILENAME menu_about.src
                             2986 ; 2619 |#define RSRC_MENU_ABOUT 1108    
                             2987 ; 2620 |//$FILENAME vie_menu_about.src
                             2988 ; 2621 |#define RSRC_VIE_MENU_ABOUT 1109    
                             2989 ; 2622 |
                             2990 ; 2623 |//$FILENAME menu_exit.src
                             2991 ; 2624 |#define RSRC_MENU_EXIT 1110    
                             2992 ; 2625 |//$FILENAME vie_menu_exit.src
                             2993 ; 2626 |#define RSRC_VIE_MENU_EXIT 1111    
                             2994 ; 2627 |
                             2995 ; 2628 |//$FILENAME music_play_all.src
                             2996 ; 2629 |#define RSRC_MUSIC_PLAY_ALL 1112    
                             2997 ; 2630 |//$FILENAME vie_music_play_all.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  50

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2998 ; 2631 |#define RSRC_VIE_MUSIC_PLAY_ALL 1113    
                             2999 ; 2632 |
                             3000 ; 2633 |//$FILENAME music_folder_internal.src
                             3001 ; 2634 |#define RSRC_MUSIC_FOLDER_INTERNAL 1114    
                             3002 ; 2635 |//$FILENAME vie_music_folder_internal.src
                             3003 ; 2636 |#define RSRC_VIE_MUSIC_FOLDER_INTERNAL 1115    
                             3004 ; 2637 |
                             3005 ; 2638 |//$FILENAME music_folder_external.src
                             3006 ; 2639 |#define RSRC_MUSIC_FOLDER_EXTERNAL 1116    
                             3007 ; 2640 |//$FILENAME vie_music_folder_external.src
                             3008 ; 2641 |#define RSRC_VIE_MUSIC_FOLDER_EXTERNAL 1117    
                             3009 ; 2642 |
                             3010 ; 2643 |//$FILENAME music_songs.src
                             3011 ; 2644 |#define RSRC_MUSIC_SONGS 1118    
                             3012 ; 2645 |//$FILENAME vie_music_songs.src
                             3013 ; 2646 |#define RSRC_VIE_MUSIC_SONGS 1119    
                             3014 ; 2647 |
                             3015 ; 2648 |//$FILENAME music_favorites.src
                             3016 ; 2649 |#define RSRC_MUSIC_FAVORITES 1120    
                             3017 ; 2650 |//$FILENAME vie_music_favorites.src
                             3018 ; 2651 |#define RSRC_VIE_MUSIC_FAVORITES 1121    
                             3019 ; 2652 |
                             3020 ; 2653 |//$FILENAME music_fm_record.src
                             3021 ; 2654 |#define RSRC_MUSIC_FM_RECORD 1122    
                             3022 ; 2655 |//$FILENAME vie_music_fm_record.src
                             3023 ; 2656 |#define RSRC_VIE_MUSIC_FM_RECORD 1123    
                             3024 ; 2657 |
                             3025 ; 2658 |//$FILENAME music_exit.src
                             3026 ; 2659 |#define RSRC_MUSIC_EXIT 1124    
                             3027 ; 2660 |//$FILENAME vie_music_exit.src
                             3028 ; 2661 |#define RSRC_VIE_MUSIC_EXIT 1125    
                             3029 ; 2662 |
                             3030 ; 2663 |//$FILENAME browse_music_folder_internal.src
                             3031 ; 2664 |#define RSRC_BROWSE_MUSIC_FOLDER_INTERNAL 1126    
                             3032 ; 2665 |//$FILENAME vie_browse_music_folder_internal.src
                             3033 ; 2666 |#define RSRC_VIE_BROWSE_MUSIC_FOLDER_INTERNAL 1127    
                             3034 ; 2667 |
                             3035 ; 2668 |//$FILENAME browse_music_folder_external.src
                             3036 ; 2669 |#define RSRC_BROWSE_MUSIC_FOLDER_EXTERNAL 1128    
                             3037 ; 2670 |//$FILENAME vie_browse_music_folder_external.src
                             3038 ; 2671 |#define RSRC_VIE_BROWSE_MUSIC_FOLDER_EXTERNAL 1129    
                             3039 ; 2672 |
                             3040 ; 2673 |//$FILENAME browse_music_list_songs.src
                             3041 ; 2674 |#define RSRC_BROWSE_MUSIC_LIST_SONGS 1130    
                             3042 ; 2675 |//$FILENAME vie_browse_music_list_songs.src
                             3043 ; 2676 |#define RSRC_VIE_BROWSE_MUSIC_LIST_SONGS 1131    
                             3044 ; 2677 |
                             3045 ; 2678 |//$FILENAME browse_music_favourites.src
                             3046 ; 2679 |#define RSRC_BROWSE_MUSIC_FAVOURITES 1132    
                             3047 ; 2680 |//$FILENAME vie_browse_music_favourites.src
                             3048 ; 2681 |#define RSRC_VIE_BROWSE_MUSIC_FAVOURITES 1133    
                             3049 ; 2682 |
                             3050 ; 2683 |//$FILENAME browse_music_fm_files.src
                             3051 ; 2684 |#define RSRC_BROWSE_MUSIC_FM_FILES 1134    
                             3052 ; 2685 |//$FILENAME vie_browse_music_fm_files.src
                             3053 ; 2686 |#define RSRC_VIE_BROWSE_MUSIC_FM_FILES 1135    
                             3054 ; 2687 |
                             3055 ; 2688 |//$FILENAME browse_voice.src
                             3056 ; 2689 |#define RSRC_BROWSE_VOICE 1136    
                             3057 ; 2690 |//$FILENAME vie_browse_voice.src
                             3058 ; 2691 |#define RSRC_VIE_BROWSE_VOICE 1137    
                             3059 ; 2692 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  51

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3060 ; 2693 |//$FILENAME favourites_list_add.src
                             3061 ; 2694 |#define RSRC_FAVOURITES_LIST_ADD 1138    
                             3062 ; 2695 |//$FILENAME vie_favourites_list_add.src
                             3063 ; 2696 |#define RSRC_VIE_FAVOURITES_LIST_ADD 1139    
                             3064 ; 2697 |
                             3065 ; 2698 |//$FILENAME favourites_list_remove.src
                             3066 ; 2699 |#define RSRC_FAVOURITES_LIST_REMOVE 1140    
                             3067 ; 2700 |//$FILENAME vie_favourites_list_remove.src
                             3068 ; 2701 |#define RSRC_VIE_FAVOURITES_LIST_REMOVE 1141    
                             3069 ; 2702 |
                             3070 ; 2703 |//$FILENAME favourites_list_is_full.src
                             3071 ; 2704 |#define RSRC_FAVOURITES_LIST_IS_FULL 1142    
                             3072 ; 2705 |//$FILENAME vie_favourites_list_is_full.src
                             3073 ; 2706 |#define RSRC_VIE_FAVOURITES_LIST_IS_FULL 1143    
                             3074 ; 2707 |
                             3075 ; 2708 |//$FILENAME about_screen_1.src
                             3076 ; 2709 |#define RSRC_ABOUT_SCREEN_1 1144    
                             3077 ; 2710 |//$FILENAME vie_about_screen_1.src
                             3078 ; 2711 |#define RSRC_VIE_ABOUT_SCREEN_1 1145    
                             3079 ; 2712 |
                             3080 ; 2713 |//$FILENAME about_screen_2.src
                             3081 ; 2714 |#define RSRC_ABOUT_SCREEN_2 1146    
                             3082 ; 2715 |//$FILENAME vie_about_screen_2.src
                             3083 ; 2716 |#define RSRC_VIE_ABOUT_SCREEN_2 1147    
                             3084 ; 2717 |
                             3085 ; 2718 |//$FILENAME about_screen_3.src
                             3086 ; 2719 |#define RSRC_ABOUT_SCREEN_3 1148    
                             3087 ; 2720 |//$FILENAME vie_about_screen_3.src
                             3088 ; 2721 |#define RSRC_VIE_ABOUT_SCREEN_3 1149    
                             3089 ; 2722 |
                             3090 ; 2723 |//$FILENAME about_screen_4.src
                             3091 ; 2724 |#define RSRC_ABOUT_SCREEN_4 1150    
                             3092 ; 2725 |//$FILENAME vie_about_screen_4.src
                             3093 ; 2726 |#define RSRC_VIE_ABOUT_SCREEN_4 1151    
                             3094 ; 2727 |
                             3095 ; 2728 |//$FILENAME time_date_exit_title.src
                             3096 ; 2729 |#define RSRC_TIME_DATE_EXIT_TITLE 1152    
                             3097 ; 2730 |//$FILENAME vie_time_date_exit_title.src
                             3098 ; 2731 |#define RSRC_VIE_TIME_DATE_EXIT_TITLE 1153    
                             3099 ; 2732 |
                             3100 ; 2733 |//$FILENAME time_clean_desktop.src
                             3101 ; 2734 |#define RSRC_TIME_CLEAN_DESKTOP 1154    
                             3102 ; 2735 |//$FILENAME time_dash.src
                             3103 ; 2736 |#define RSRC_TIME_DASH 1155    
                             3104 ; 2737 |
                             3105 ; 2738 |//$FILENAME time_day_7.src
                             3106 ; 2739 |#define RSRC_TIME_DAY_SAT 1156    
                             3107 ; 2740 |//$FILENAME vie_time_day_7.src
                             3108 ; 2741 |#define RSRC_VIE_TIME_DAY_SAT 1157    
                             3109 ; 2742 |//$FILENAME time_day_cn.src
                             3110 ; 2743 |#define RSRC_TIME_DAY_SUN 1158    
                             3111 ; 2744 |//$FILENAME vie_time_day_cn.src
                             3112 ; 2745 |#define RSRC_VIE_TIME_DAY_SUN 1159    
                             3113 ; 2746 |//$FILENAME time_day_2.src
                             3114 ; 2747 |#define RSRC_TIME_DAY_MON 1160    
                             3115 ; 2748 |//$FILENAME vie_time_day_2.src
                             3116 ; 2749 |#define RSRC_VIE_TIME_DAY_MON 1161    
                             3117 ; 2750 |//$FILENAME time_day_3.src
                             3118 ; 2751 |#define RSRC_TIME_DAY_TUE 1162    
                             3119 ; 2752 |//$FILENAME vie_time_day_3.src
                             3120 ; 2753 |#define RSRC_VIE_TIME_DAY_TUE 1163    
                             3121 ; 2754 |//$FILENAME time_day_4.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  52

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3122 ; 2755 |#define RSRC_TIME_DAY_WED 1164    
                             3123 ; 2756 |//$FILENAME vie_time_day_4.src
                             3124 ; 2757 |#define RSRC_VIE_TIME_DAY_WED 1165    
                             3125 ; 2758 |//$FILENAME time_day_5.src
                             3126 ; 2759 |#define RSRC_TIME_DAY_THU 1166    
                             3127 ; 2760 |//$FILENAME vie_time_day_5.src
                             3128 ; 2761 |#define RSRC_VIE_TIME_DAY_THU 1167    
                             3129 ; 2762 |//$FILENAME time_day_6.src
                             3130 ; 2763 |#define RSRC_TIME_DAY_FRI 1168    
                             3131 ; 2764 |//$FILENAME vie_time_day_6.src
                             3132 ; 2765 |#define RSRC_VIE_TIME_DAY_FRI 1169    
                             3133 ; 2766 |
                             3134 ; 2767 |//$FILENAME time_month_1.src
                             3135 ; 2768 |#define RSRC_TIME_MONTH_1 1170    
                             3136 ; 2769 |//$FILENAME vie_time_month_1.src
                             3137 ; 2770 |#define RSRC_VIE_TIME_MONTH_1 1171    
                             3138 ; 2771 |//$FILENAME time_month_2.src
                             3139 ; 2772 |#define RSRC_TIME_MONTH_2 1172    
                             3140 ; 2773 |//$FILENAME vie_time_month_2.src
                             3141 ; 2774 |#define RSRC_VIE_TIME_MONTH_2 1173    
                             3142 ; 2775 |//$FILENAME time_month_3.src
                             3143 ; 2776 |#define RSRC_TIME_MONTH_3 1174    
                             3144 ; 2777 |//$FILENAME vie_time_month_3.src
                             3145 ; 2778 |#define RSRC_VIE_TIME_MONTH_3 1175    
                             3146 ; 2779 |//$FILENAME time_month_4.src
                             3147 ; 2780 |#define RSRC_TIME_MONTH_4 1176    
                             3148 ; 2781 |//$FILENAME vie_time_month_4.src
                             3149 ; 2782 |#define RSRC_VIE_TIME_MONTH_4 1177    
                             3150 ; 2783 |//$FILENAME time_month_5.src
                             3151 ; 2784 |#define RSRC_TIME_MONTH_5 1178    
                             3152 ; 2785 |//$FILENAME vie_time_month_5.src
                             3153 ; 2786 |#define RSRC_VIE_TIME_MONTH_5 1179    
                             3154 ; 2787 |//$FILENAME time_month_6.src
                             3155 ; 2788 |#define RSRC_TIME_MONTH_6 1180    
                             3156 ; 2789 |//$FILENAME vie_time_month_6.src
                             3157 ; 2790 |#define RSRC_VIE_TIME_MONTH_6 1181    
                             3158 ; 2791 |//$FILENAME time_month_7.src
                             3159 ; 2792 |#define RSRC_TIME_MONTH_7 1182    
                             3160 ; 2793 |//$FILENAME vie_time_month_7.src
                             3161 ; 2794 |#define RSRC_VIE_TIME_MONTH_7 1183    
                             3162 ; 2795 |//$FILENAME time_month_8.src
                             3163 ; 2796 |#define RSRC_TIME_MONTH_8 1184    
                             3164 ; 2797 |//$FILENAME vie_time_month_8.src
                             3165 ; 2798 |#define RSRC_VIE_TIME_MONTH_8 1185    
                             3166 ; 2799 |//$FILENAME time_month_9.src
                             3167 ; 2800 |#define RSRC_TIME_MONTH_9 1186    
                             3168 ; 2801 |//$FILENAME vie_time_month_9.src
                             3169 ; 2802 |#define RSRC_VIE_TIME_MONTH_9 1187    
                             3170 ; 2803 |//$FILENAME time_month_10.src
                             3171 ; 2804 |#define RSRC_TIME_MONTH_10 1188    
                             3172 ; 2805 |//$FILENAME vie_time_month_10.src
                             3173 ; 2806 |#define RSRC_VIE_TIME_MONTH_10 1189    
                             3174 ; 2807 |//$FILENAME time_month_11.src
                             3175 ; 2808 |#define RSRC_TIME_MONTH_11 1190    
                             3176 ; 2809 |//$FILENAME vie_time_month_11.src
                             3177 ; 2810 |#define RSRC_VIE_TIME_MONTH_11 1191    
                             3178 ; 2811 |//$FILENAME time_month_12.src
                             3179 ; 2812 |#define RSRC_TIME_MONTH_12 1192    
                             3180 ; 2813 |//$FILENAME vie_time_month_12.src
                             3181 ; 2814 |#define RSRC_VIE_TIME_MONTH_12 1193    
                             3182 ; 2815 |
                             3183 ; 2816 |//$FILENAME time_num_am.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  53

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3184 ; 2817 |#define RSRC_TIME_NUM_AM 1194    
                             3185 ; 2818 |//$FILENAME time_num_am.src
                             3186 ; 2819 |#define RSRC_TIME_NUM_PM 1195    
                             3187 ; 2820 |//$FILENAME settime_format_12h.src
                             3188 ; 2821 |#define RSRC_SETTIME_FORMAT_12H 1196    
                             3189 ; 2822 |//$FILENAME settime_format_24h.src
                             3190 ; 2823 |#define RSRC_SETTIME_FORMAT_24H 1197    
                             3191 ; 2824 |//$FILENAME setdate_format_dmy.src
                             3192 ; 2825 |#define RSRC_SETDATE_FORMAT_DMY 1198    
                             3193 ; 2826 |//$FILENAME setdate_format_mdy.src
                             3194 ; 2827 |#define RSRC_SETDATE_FORMAT_MDY 1199    
                             3195 ; 2828 |//$FILENAME setdate_format_ymd.src
                             3196 ; 2829 |#define RSRC_SETDATE_FORMAT_YMD 1200    
                             3197 ; 2830 |
                             3198 ; 2831 |//$FILENAME time_num_large_0.src
                             3199 ; 2832 |#define RSRC_TIME_NUM_LARGE_0 1201    
                             3200 ; 2833 |//$FILENAME time_num_large_1.src
                             3201 ; 2834 |#define RSRC_TIME_NUM_LARGE_1 1202    
                             3202 ; 2835 |//$FILENAME time_num_large_2.src
                             3203 ; 2836 |#define RSRC_TIME_NUM_LARGE_2 1203    
                             3204 ; 2837 |//$FILENAME time_num_large_3.src
                             3205 ; 2838 |#define RSRC_TIME_NUM_LARGE_3 1204    
                             3206 ; 2839 |//$FILENAME time_num_large_4.src
                             3207 ; 2840 |#define RSRC_TIME_NUM_LARGE_4 1205    
                             3208 ; 2841 |//$FILENAME time_num_large_5.src
                             3209 ; 2842 |#define RSRC_TIME_NUM_LARGE_5 1206    
                             3210 ; 2843 |//$FILENAME time_num_large_6.src
                             3211 ; 2844 |#define RSRC_TIME_NUM_LARGE_6 1207    
                             3212 ; 2845 |//$FILENAME time_num_large_7.src
                             3213 ; 2846 |#define RSRC_TIME_NUM_LARGE_7 1208    
                             3214 ; 2847 |//$FILENAME time_num_large_8.src
                             3215 ; 2848 |#define RSRC_TIME_NUM_LARGE_8 1209    
                             3216 ; 2849 |//$FILENAME time_num_large_9.src
                             3217 ; 2850 |#define RSRC_TIME_NUM_LARGE_9 1210    
                             3218 ; 2851 |
                             3219 ; 2852 |//$FILENAME time_num_medium_0.src
                             3220 ; 2853 |#define RSRC_TIME_NUM_MEDIUM_0 1211    
                             3221 ; 2854 |//$FILENAME time_num_medium_1.src
                             3222 ; 2855 |#define RSRC_TIME_NUM_MEDIUM_1 1212    
                             3223 ; 2856 |//$FILENAME time_num_medium_2.src
                             3224 ; 2857 |#define RSRC_TIME_NUM_MEDIUM_2 1213    
                             3225 ; 2858 |//$FILENAME time_num_medium_3.src
                             3226 ; 2859 |#define RSRC_TIME_NUM_MEDIUM_3 1214    
                             3227 ; 2860 |//$FILENAME time_num_medium_4.src
                             3228 ; 2861 |#define RSRC_TIME_NUM_MEDIUM_4 1215    
                             3229 ; 2862 |//$FILENAME time_num_medium_5.src
                             3230 ; 2863 |#define RSRC_TIME_NUM_MEDIUM_5 1216    
                             3231 ; 2864 |//$FILENAME time_num_medium_6.src
                             3232 ; 2865 |#define RSRC_TIME_NUM_MEDIUM_6 1217    
                             3233 ; 2866 |//$FILENAME time_num_medium_7.src
                             3234 ; 2867 |#define RSRC_TIME_NUM_MEDIUM_7 1218    
                             3235 ; 2868 |//$FILENAME time_num_medium_8.src
                             3236 ; 2869 |#define RSRC_TIME_NUM_MEDIUM_8 1219    
                             3237 ; 2870 |//$FILENAME time_num_medium_9.src
                             3238 ; 2871 |#define RSRC_TIME_NUM_MEDIUM_9 1220    
                             3239 ; 2872 |
                             3240 ; 2873 |//$FILENAME time_colon.src
                             3241 ; 2874 |#define RSRC_TIME_COLON 1221    
                             3242 ; 2875 |
                             3243 ; 2876 |//$FILENAME settings_backlight_title.src
                             3244 ; 2877 |#define RSRC_SETTINGS_BACKLIGHT_TITLE 1222    
                             3245 ; 2878 |//$FILENAME settings_auto_shutdown_title.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  54

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3246 ; 2879 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_TITLE 1223    
                             3247 ; 2880 |//$FILENAME settings_playmode_title.src
                             3248 ; 2881 |#define RSRC_SETTINGS_PLAYMODE_TITLE 1224    
                             3249 ; 2882 |
                             3250 ; 2883 |//$FILENAME settings_contrast_title.src
                             3251 ; 2884 |#define RSRC_SETTINGS_CONTRAST_TITLE 1225    
                             3252 ; 2885 |//$FILENAME vie_settings_contrast_title.src
                             3253 ; 2886 |#define RSRC_VIE_SETTINGS_CONTRAST_TITLE 1226    
                             3254 ; 2887 |
                             3255 ; 2888 |//$FILENAME settings_eq_title.src
                             3256 ; 2889 |#define RSRC_SETTINGS_EQ_TITLE 1227    
                             3257 ; 2890 |//$FILENAME vie_settings_eq_title.src
                             3258 ; 2891 |#define RSRC_VIE_SETTINGS_EQ_TITLE 1228    
                             3259 ; 2892 |
                             3260 ; 2893 |//$FILENAME settings_exit_title.src
                             3261 ; 2894 |#define RSRC_SETTINGS_EXIT_TITLE 1229    
                             3262 ; 2895 |//$FILENAME vie_settings_exit_title.src
                             3263 ; 2896 |#define RSRC_VIE_SETTINGS_EXIT_TITLE 1230    
                             3264 ; 2897 |
                             3265 ; 2898 |//$FILENAME settings_set_date_title.src
                             3266 ; 2899 |#define RSRC_SETTINGS_SET_DATE_TITLE 1231    
                             3267 ; 2900 |//$FILENAME vie_settings_set_date_title.src
                             3268 ; 2901 |#define RSRC_VIE_SETTINGS_SET_DATE_TITLE 1232    
                             3269 ; 2902 |
                             3270 ; 2903 |//$FILENAME settings_set_time_title.src
                             3271 ; 2904 |#define RSRC_SETTINGS_SET_TIME_TITLE 1233    
                             3272 ; 2905 |//$FILENAME vie_settings_set_time_title.src
                             3273 ; 2906 |#define RSRC_VIE_SETTINGS_SET_TIME_TITLE 1234    
                             3274 ; 2907 |
                             3275 ; 2908 |//$FILENAME settings_playmode_normal.src
                             3276 ; 2909 |#define RSRC_SETTINGS_PLAYMODE_NORMAL 1235    
                             3277 ; 2910 |//$FILENAME vie_settings_playmode_normal.src
                             3278 ; 2911 |#define RSRC_VIE_SETTINGS_PLAYMODE_NORMAL 1236    
                             3279 ; 2912 |
                             3280 ; 2913 |//$FILENAME settings_playmode_repeatone.src
                             3281 ; 2914 |#define RSRC_SETTINGS_PLAYMODE_REPEATONE 1237    
                             3282 ; 2915 |//$FILENAME vie_settings_playmode_repeatone.src
                             3283 ; 2916 |#define RSRC_VIE_SETTINGS_PLAYMODE_REPEATONE 1238    
                             3284 ; 2917 |
                             3285 ; 2918 |//$FILENAME settings_playmode_repeatall.src
                             3286 ; 2919 |#define RSRC_SETTINGS_PLAYMODE_REPEATALL 1239    
                             3287 ; 2920 |//$FILENAME vie_settings_playmode_repeatall.src
                             3288 ; 2921 |#define RSRC_VIE_SETTINGS_PLAYMODE_REPEATALL 1240    
                             3289 ; 2922 |
                             3290 ; 2923 |//$FILENAME settings_playmode_shuffle.src
                             3291 ; 2924 |#define RSRC_SETTINGS_PLAYMODE_SHUFFLE 1241    
                             3292 ; 2925 |//$FILENAME vie_settings_playmode_shuffle.src
                             3293 ; 2926 |#define RSRC_VIE_SETTINGS_PLAYMODE_SHUFFLE 1242    
                             3294 ; 2927 |
                             3295 ; 2928 |//$FILENAME settings_playmode_shuffle_repeat.src
                             3296 ; 2929 |#define RSRC_SETTINGS_PLAYMODE_SHUFFLE_REPEAT 1243    
                             3297 ; 2930 |//$FILENAME vie_settings_playmode_shuffle_repeat.src
                             3298 ; 2931 |#define RSRC_VIE_SETTINGS_PLAYMODE_SHUFFLE_REPEAT 1244    
                             3299 ; 2932 |
                             3300 ; 2933 |//$FILENAME settings_backlight_on.src
                             3301 ; 2934 |#define RSRC_SETTINGS_BACKLIGHT_ON 1245    
                             3302 ; 2935 |//$FILENAME vie_settings_backlight_on.src
                             3303 ; 2936 |#define RSRC_VIE_SETTINGS_BACKLIGHT_ON 1246    
                             3304 ; 2937 |
                             3305 ; 2938 |//$FILENAME settings_backlight_10s.src
                             3306 ; 2939 |#define RSRC_SETTINGS_BACKLIGHT_10S 1247    
                             3307 ; 2940 |//$FILENAME vie_settings_backlight_10s.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  55

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3308 ; 2941 |#define RSRC_VIE_SETTINGS_BACKLIGHT_10S 1248    
                             3309 ; 2942 |
                             3310 ; 2943 |//$FILENAME settings_backlight_20s.src
                             3311 ; 2944 |#define RSRC_SETTINGS_BACKLIGHT_20S 1249    
                             3312 ; 2945 |//$FILENAME vie_settings_backlight_20s.src
                             3313 ; 2946 |#define RSRC_VIE_SETTINGS_BACKLIGHT_20s 1250    
                             3314 ; 2947 |
                             3315 ; 2948 |//$FILENAME settings_backlight_30s.src
                             3316 ; 2949 |#define RSRC_SETTINGS_BACKLIGHT_30S 1251    
                             3317 ; 2950 |//$FILENAME vie_settings_backlight_30s.src
                             3318 ; 2951 |#define RSRC_VIE_SETTINGS_BACKLIGHT_30S 1252    
                             3319 ; 2952 |
                             3320 ; 2953 |//$FILENAME settings_auto_shutdown_disable.src
                             3321 ; 2954 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_DISABLE 1253    
                             3322 ; 2955 |//$FILENAME vie_settings_auto_shutdown_disable.src
                             3323 ; 2956 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_DISABLE 1254    
                             3324 ; 2957 |
                             3325 ; 2958 |//$FILENAME settings_auto_shutdown_1minute.src
                             3326 ; 2959 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_1MINUTE 1255    
                             3327 ; 2960 |//$FILENAME vie_settings_auto_shutdown_1min.src
                             3328 ; 2961 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_1MINUTE 1256    
                             3329 ; 2962 |
                             3330 ; 2963 |//$FILENAME settings_auto_shutdown_2minutes.src
                             3331 ; 2964 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_2MINUTES 1257    
                             3332 ; 2965 |//$FILENAME vie_settings_auto_shutdown_2min.src
                             3333 ; 2966 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_2MINUTES 1258    
                             3334 ; 2967 |
                             3335 ; 2968 |//$FILENAME settings_auto_shutdown_5minutes.src
                             3336 ; 2969 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_5MINUTES 1259    
                             3337 ; 2970 |//$FILENAME vie_settings_auto_shutdown_5min.src
                             3338 ; 2971 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_5MINUTES 1260    
                             3339 ; 2972 |
                             3340 ; 2973 |//$FILENAME settings_auto_shutdown_10minutes.src
                             3341 ; 2974 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_10MINUTES 1261    
                             3342 ; 2975 |//$FILENAME vie_settings_auto_shutdown_10min.src
                             3343 ; 2976 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_10MINUTES 1262    
                             3344 ; 2977 |
                             3345 ; 2978 |//$FILENAME settings_languages_eng.src
                             3346 ; 2979 |#define RSRC_SETTINGS_LANGUAGES_ENG 1263    
                             3347 ; 2980 |//$FILENAME settings_languages_vie.src
                             3348 ; 2981 |#define RSRC_SETTINGS_LANGUAGES_VIE 1264    
                             3349 ; 2982 |
                             3350 ; 2983 |//$FILENAME fraction_dot.src
                             3351 ; 2984 |#define RSRC_FRACTION_DOT 1265    
                             3352 ; 2985 |
                             3353 ; 2986 |//$FILENAME fm_background.src
                             3354 ; 2987 |#define RSRC_FM_BACKGROUND 1266    
                             3355 ; 2988 |//$FILENAME vie_fm_background.src
                             3356 ; 2989 |#define RSRC_VIE_FM_BACKGROUND 1267    
                             3357 ; 2990 |
                             3358 ; 2991 |//$FILENAME searching_please_wait.src
                             3359 ; 2992 |#define RSRC_SEARCHING_PLEASE_WAIT 1268    
                             3360 ; 2993 |//$FILENAME vie_searching_please_wait.src
                             3361 ; 2994 |#define RSRC_VIE_SEARCHING_PLEASE_WAIT 1269    
                             3362 ; 2995 |
                             3363 ; 2996 |//$FILENAME fm_auto_search.src
                             3364 ; 2997 |#define RSRC_FM_AUTO_SEARCH 1270    
                             3365 ; 2998 |//$FILENAME vie_fm_auto_search.src
                             3366 ; 2999 |#define RSRC_VIE_FM_AUTO_SEARCH 1271    
                             3367 ; 3000 |
                             3368 ; 3001 |//$FILENAME jvj_shutdown_player.src
                             3369 ; 3002 |#define RSRC_JVJ_SHUTDOWN_PLAYER 1272    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  56

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3370 ; 3003 |//$FILENAME vie_jvj_shutdown_player.src
                             3371 ; 3004 |#define RSRC_VIE_JVJ_SHUTDOWN_PLAYER 1273    
                             3372 ; 3005 |
                             3373 ; 3006 |#endif //IF (!@def(resources))
                             3374 ; 3007 |
                             3375 
                             3377 
                             3378 ; 18   |#include "menumanager.h"
                             3379 
                             3381 
                             3382 ; 1    |#ifndef _EXEC_H
                             3383 ; 2    |#define _EXEC_H
                             3384 ; 3    |
                             3385 ; 4    |#include "types.h"
                             3386 
                             3388 
                             3389 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             3390 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             3391 ; 3    |//
                             3392 ; 4    |// Filename: types.h
                             3393 ; 5    |// Description: Standard data types
                             3394 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             3395 ; 7    |
                             3396 ; 8    |#ifndef _TYPES_H
                             3397 ; 9    |#define _TYPES_H
                             3398 ; 10   |
                             3399 ; 11   |// TODO:  move this outta here!
                             3400 ; 12   |#if !defined(NOERROR)
                             3401 ; 13   |#define NOERROR 0
                             3402 ; 14   |#define SUCCESS 0
                             3403 ; 15   |#endif 
                             3404 ; 16   |#if !defined(SUCCESS)
                             3405 ; 17   |#define SUCCESS  0
                             3406 ; 18   |#endif
                             3407 ; 19   |#if !defined(ERROR)
                             3408 ; 20   |#define ERROR   -1
                             3409 ; 21   |#endif
                             3410 ; 22   |#if !defined(FALSE)
                             3411 ; 23   |#define FALSE 0
                             3412 ; 24   |#endif
                             3413 ; 25   |#if !defined(TRUE)
                             3414 ; 26   |#define TRUE  1
                             3415 ; 27   |#endif
                             3416 ; 28   |
                             3417 ; 29   |#if !defined(NULL)
                             3418 ; 30   |#define NULL 0
                             3419 ; 31   |#endif
                             3420 ; 32   |
                             3421 ; 33   |#define MAX_INT     0x7FFFFF
                             3422 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             3423 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             3424 ; 36   |#define MAX_ULONG   (-1) 
                             3425 ; 37   |
                             3426 ; 38   |#define WORD_SIZE   24              // word size in bits
                             3427 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             3428 ; 40   |
                             3429 ; 41   |
                             3430 ; 42   |#define BYTE    unsigned char       // btVarName
                             3431 ; 43   |#define CHAR    signed char         // cVarName
                             3432 ; 44   |#define USHORT  unsigned short      // usVarName
                             3433 ; 45   |#define SHORT   unsigned short      // sVarName
                             3434 ; 46   |#define WORD    unsigned int        // wVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  57

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3435 ; 47   |#define INT     signed int          // iVarName
                             3436 ; 48   |#define DWORD   unsigned long       // dwVarName
                             3437 ; 49   |#define LONG    signed long         // lVarName
                             3438 ; 50   |#define BOOL    unsigned int        // bVarName
                             3439 ; 51   |#define FRACT   _fract              // frVarName
                             3440 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             3441 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             3442 ; 54   |#define FLOAT   float               // fVarName
                             3443 ; 55   |#define DBL     double              // dVarName
                             3444 ; 56   |#define ENUM    enum                // eVarName
                             3445 ; 57   |#define CMX     _complex            // cmxVarName
                             3446 ; 58   |typedef WORD UCS3;                   // 
                             3447 ; 59   |
                             3448 ; 60   |#define UINT16  unsigned short
                             3449 ; 61   |#define UINT8   unsigned char   
                             3450 ; 62   |#define UINT32  unsigned long
                             3451 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             3452 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             3453 ; 65   |#define WCHAR   UINT16
                             3454 ; 66   |
                             3455 ; 67   |//UINT128 is 16 bytes or 6 words
                             3456 ; 68   |typedef struct UINT128_3500 {   
                             3457 ; 69   |    int val[6];     
                             3458 ; 70   |} UINT128_3500;
                             3459 ; 71   |
                             3460 ; 72   |#define UINT128   UINT128_3500
                             3461 ; 73   |
                             3462 ; 74   |// Little endian word packed byte strings:   
                             3463 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             3464 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             3465 ; 77   |// Little endian word packed byte strings:   
                             3466 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             3467 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             3468 ; 80   |
                             3469 ; 81   |// Declare Memory Spaces To Use When Coding
                             3470 ; 82   |// A. Sector Buffers
                             3471 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             3472 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             3473 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             3474 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             3475 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             3476 ; 88   |// B. Media DDI Memory
                             3477 ; 89   |#define MEDIA_DDI_MEM _Y
                             3478 ; 90   |
                             3479 ; 91   |
                             3480 ; 92   |
                             3481 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             3482 ; 94   |// Examples of circular pointers:
                             3483 ; 95   |//    INT CIRC cpiVarName
                             3484 ; 96   |//    DWORD CIRC cpdwVarName
                             3485 ; 97   |
                             3486 ; 98   |#define RETCODE INT                 // rcVarName
                             3487 ; 99   |
                             3488 ; 100  |// generic bitfield structure
                             3489 ; 101  |struct Bitfield {
                             3490 ; 102  |    unsigned int B0  :1;
                             3491 ; 103  |    unsigned int B1  :1;
                             3492 ; 104  |    unsigned int B2  :1;
                             3493 ; 105  |    unsigned int B3  :1;
                             3494 ; 106  |    unsigned int B4  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  58

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3495 ; 107  |    unsigned int B5  :1;
                             3496 ; 108  |    unsigned int B6  :1;
                             3497 ; 109  |    unsigned int B7  :1;
                             3498 ; 110  |    unsigned int B8  :1;
                             3499 ; 111  |    unsigned int B9  :1;
                             3500 ; 112  |    unsigned int B10 :1;
                             3501 ; 113  |    unsigned int B11 :1;
                             3502 ; 114  |    unsigned int B12 :1;
                             3503 ; 115  |    unsigned int B13 :1;
                             3504 ; 116  |    unsigned int B14 :1;
                             3505 ; 117  |    unsigned int B15 :1;
                             3506 ; 118  |    unsigned int B16 :1;
                             3507 ; 119  |    unsigned int B17 :1;
                             3508 ; 120  |    unsigned int B18 :1;
                             3509 ; 121  |    unsigned int B19 :1;
                             3510 ; 122  |    unsigned int B20 :1;
                             3511 ; 123  |    unsigned int B21 :1;
                             3512 ; 124  |    unsigned int B22 :1;
                             3513 ; 125  |    unsigned int B23 :1;
                             3514 ; 126  |};
                             3515 ; 127  |
                             3516 ; 128  |union BitInt {
                             3517 ; 129  |        struct Bitfield B;
                             3518 ; 130  |        int        I;
                             3519 ; 131  |};
                             3520 ; 132  |
                             3521 ; 133  |#define MAX_MSG_LENGTH 10
                             3522 ; 134  |struct CMessage
                             3523 ; 135  |{
                             3524 ; 136  |        unsigned int m_uLength;
                             3525 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             3526 ; 138  |};
                             3527 ; 139  |
                             3528 ; 140  |typedef struct {
                             3529 ; 141  |    WORD m_wLength;
                             3530 ; 142  |    WORD m_wMessage;
                             3531 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             3532 ; 144  |} Message;
                             3533 ; 145  |
                             3534 ; 146  |struct MessageQueueDescriptor
                             3535 ; 147  |{
                             3536 ; 148  |        int *m_pBase;
                             3537 ; 149  |        int m_iModulo;
                             3538 ; 150  |        int m_iSize;
                             3539 ; 151  |        int *m_pHead;
                             3540 ; 152  |        int *m_pTail;
                             3541 ; 153  |};
                             3542 ; 154  |
                             3543 ; 155  |struct ModuleEntry
                             3544 ; 156  |{
                             3545 ; 157  |    int m_iSignaledEventMask;
                             3546 ; 158  |    int m_iWaitEventMask;
                             3547 ; 159  |    int m_iResourceOfCode;
                             3548 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             3549 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             3550 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             3551 ; 163  |    int m_uTimeOutHigh;
                             3552 ; 164  |    int m_uTimeOutLow;
                             3553 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             3554 ; 166  |};
                             3555 ; 167  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  59

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3556 ; 168  |union WaitMask{
                             3557 ; 169  |    struct B{
                             3558 ; 170  |        unsigned int m_bNone     :1;
                             3559 ; 171  |        unsigned int m_bMessage  :1;
                             3560 ; 172  |        unsigned int m_bTimer    :1;
                             3561 ; 173  |        unsigned int m_bButton   :1;
                             3562 ; 174  |    } B;
                             3563 ; 175  |    int I;
                             3564 ; 176  |} ;
                             3565 ; 177  |
                             3566 ; 178  |
                             3567 ; 179  |struct Button {
                             3568 ; 180  |        WORD wButtonEvent;
                             3569 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             3570 ; 182  |};
                             3571 ; 183  |
                             3572 ; 184  |struct Message {
                             3573 ; 185  |        WORD wMsgLength;
                             3574 ; 186  |        WORD wMsgCommand;
                             3575 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             3576 ; 188  |};
                             3577 ; 189  |
                             3578 ; 190  |union EventTypes {
                             3579 ; 191  |        struct CMessage msg;
                             3580 ; 192  |        struct Button Button ;
                             3581 ; 193  |        struct Message Message;
                             3582 ; 194  |};
                             3583 ; 195  |
                             3584 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             3585 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             3586 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             3587 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             3588 ; 200  |
                             3589 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             3590 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             3591 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             3592 ; 204  |
                             3593 ; 205  |#if DEBUG
                             3594 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             3595 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             3596 ; 208  |#else 
                             3597 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             3598 ; 210  |#define DebugBuildAssert(x)    
                             3599 ; 211  |#endif
                             3600 ; 212  |
                             3601 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             3602 ; 214  |//  #pragma asm
                             3603 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             3604 ; 216  |//  #pragma endasm
                             3605 ; 217  |
                             3606 ; 218  |
                             3607 ; 219  |#ifdef COLOR_262K
                             3608 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             3609 ; 221  |#elif defined(COLOR_65K)
                             3610 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             3611 ; 223  |#else
                             3612 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             3613 ; 225  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  60

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3614 ; 226  |    
                             3615 ; 227  |#endif // #ifndef _TYPES_H
                             3616 
                             3618 
                             3619 ; 5    |
                             3620 ; 6    |int _asmfunc SysWaitOnEvent(unsigned int uEvent,struct CMessage *,int uLength);
                             3621 ; 7    |int _asmfunc SysCallFunction(unsigned int RESOURCE,int _reentrant (int,int,int*),  int, in
                                  t, int *);
                             3622 ; 8    |
                             3623 ; 9    |#if !defined(NULL)
                             3624 ; 10   |#define NULL 0
                             3625 ; 11   |#endif 
                             3626 ; 12   |
                             3627 ; 13   |#if !defined(FALSE)
                             3628 ; 14   |#define FALSE 0
                             3629 ; 15   |#endif
                             3630 ; 16   |#if !defined(TRUE)
                             3631 ; 17   |#define TRUE  !FALSE
                             3632 ; 18   |#endif
                             3633 ; 19   |
                             3634 ; 20   |// The same memory location contains either a menu message or button event. 
                             3635 ; 21   |// The button info is stored in the first word or the entire message is stored.
                             3636 ; 22   |
                             3637 ; 23   |// CMessage is kept for backards compatibility.
                             3638 ; 24   |// The union and 2 new structures are added to aid in readability.
                             3639 ; 25   |
                             3640 ; 26   |
                             3641 ; 27   |#include "messages.h"
                             3642 
                             3644 
                             3645 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             3646 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                             3647 ; 3    |// Message defs
                             3648 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                             3649 ; 5    |
                             3650 ; 6    |#if (!defined(MSGEQU_INC))
                             3651 ; 7    |#define MSGEQU_INC 1
                             3652 ; 8    |
                             3653 ; 9    |
                             3654 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                             3655 ; 11   |
                             3656 ; 12   |
                             3657 ; 13   |#define MSG_TYPE_DECODER 0x000000
                             3658 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                             3659 ; 15   |#define MSG_TYPE_PARSER 0x020000
                             3660 ; 16   |#define MSG_TYPE_LCD 0x030000
                             3661 ; 17   |#define MSG_TYPE_MIXER 0x040000
                             3662 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                             3663 ; 19   |#define MSG_TYPE_MENU 0x060000
                             3664 ; 20   |#define MSG_TYPE_LED 0x070000
                             3665 ; 21   |#define MSG_TYPE_TUNER 0x080000
                             3666 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                             3667 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                             3668 ; 24   |// Equalizer and other effects
                             3669 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                             3670 ; 26   |#if (defined(USE_PLAYLIST3))
                             3671 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                             3672 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                             3673 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                             3674 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                             3675 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                             3676 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  61

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3677 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                             3678 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                             3679 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                             3680 ; 36   |#if defined(USE_PLAYLIST5)
                             3681 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                             3682 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                             3683 ; 39   |#endif // if @def('USE_PLAYLIST5')
                             3684 ; 40   |
                             3685 ; 41   |// Message Structure Offsets
                             3686 ; 42   |#define MSG_Length 0
                             3687 ; 43   |#define MSG_ID 1
                             3688 ; 44   |#define MSG_Argument1 2
                             3689 ; 45   |#define MSG_Argument2 3
                             3690 ; 46   |#define MSG_Argument3 4
                             3691 ; 47   |#define MSG_Argument4 5
                             3692 ; 48   |#define MSG_Argument5 6
                             3693 ; 49   |#define MSG_Argument6 7
                             3694 ; 50   |
                             3695 ; 51   |
                             3696 ; 52   |
                             3697 ; 53   |// LCD Message IDs
                             3698 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                             3699 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                             3700 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                             3701 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                             3702 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                             3703 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                             3704 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                             3705 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                             3706 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                             3707 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                             3708 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                             3709 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                             3710 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                             3711 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                             3712 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                             3713 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                             3714 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                             3715 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                             3716 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                             3717 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                             3718 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                             3719 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                             3720 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                             3721 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                             3722 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                             3723 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                             3724 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                             3725 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                             3726 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                             3727 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                             3728 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                             3729 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                             3730 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                             3731 ; 87   |//send a NULL as Param1 to return to root frame buffer
                             3732 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                             3733 ; 89   |//Param1 = left
                             3734 ; 90   |//Param2 = top
                             3735 ; 91   |//Param3 = right
                             3736 ; 92   |//Param4 = bottom
                             3737 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                             3738 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  62

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3739 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                             3740 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                             3741 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                             3742 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                             3743 ; 99   |
                             3744 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                             3745 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                             3746 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                             3747 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                             3748 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                             3749 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                             3750 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                             3751 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                             3752 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                             3753 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                             3754 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                             3755 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                             3756 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                             3757 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                             3758 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                             3759 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                             3760 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                             3761 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                             3762 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                             3763 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                             3764 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                             3765 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                             3766 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                             3767 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                             3768 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                             3769 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                             3770 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                             3771 ; 127  |
                             3772 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                             3773 ; 129  |
                             3774 ; 130  |#if defined(CLCD_16BIT)
                             3775 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                             3776 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                             3777 ; 133  |
                             3778 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                             3779 ; 135  |#else 
                             3780 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                             3781 ; 137  |#endif
                             3782 ; 138  |
                             3783 ; 139  |// If you change the LCD message ID's then you must
                             3784 ; 140  |// also change the jump table in lcdapi.asm
                             3785 ; 141  |
                             3786 ; 142  |// Character LCD Message IDs
                             3787 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                             3788 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                             3789 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                             3790 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                             3791 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                             3792 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                             3793 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                             3794 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                             3795 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                             3796 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                             3797 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                             3798 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                             3799 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                             3800 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  63

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3801 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                             3802 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                             3803 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                             3804 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                             3805 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                             3806 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                             3807 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                             3808 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                             3809 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                             3810 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                             3811 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                             3812 ; 168  |// also change the jump table in lcdapi.asm
                             3813 ; 169  |
                             3814 ; 170  |// Decoder Message IDs
                             3815 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                             3816 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                             3817 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                             3818 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                             3819 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                             3820 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                             3821 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                             3822 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                             3823 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                             3824 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                             3825 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                             3826 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                             3827 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                             3828 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                             3829 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                             3830 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                             3831 ; 187  |// If you change the Decoder message ID's, then you must
                             3832 ; 188  |// also change the jump table in decoder_overlay.asm
                             3833 ; 189  |// and in dec_adpcm_overlay.asm.
                             3834 ; 190  |
                             3835 ; 191  |// Encoder Message IDs
                             3836 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                             3837 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                             3838 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                             3839 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                             3840 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                             3841 ; 197  |// If you change the Encoder message ID's, then you must
                             3842 ; 198  |// also change the jump table in all encoder overlay modules.
                             3843 ; 199  |
                             3844 ; 200  |// Parser Message IDs
                             3845 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                             3846 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                             3847 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                             3848 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                             3849 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                             3850 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                             3851 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                             3852 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                             3853 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                             3854 ; 210  |// If you change the Parser message ID's, then you must
                             3855 ; 211  |// also change the jump table in parser.asm
                             3856 ; 212  |
                             3857 ; 213  |// Button Message IDs
                             3858 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                             3859 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                             3860 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                             3861 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                             3862 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  64

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3863 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                             3864 ; 220  |
                             3865 ; 221  |// Mixer Message IDs
                             3866 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                             3867 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                             3868 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                             3869 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                             3870 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                             3871 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                             3872 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                             3873 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                             3874 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                             3875 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                             3876 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                             3877 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                             3878 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                             3879 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                             3880 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                             3881 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                             3882 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                             3883 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                             3884 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                             3885 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                             3886 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                             3887 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                             3888 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                             3889 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                             3890 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                             3891 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                             3892 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                             3893 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                             3894 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                             3895 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                             3896 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                             3897 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                             3898 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                             3899 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                             3900 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                             3901 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                             3902 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                             3903 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                             3904 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                             3905 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                             3906 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                             3907 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                             3908 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                             3909 ; 265  |// If you change the mixer message ID's then you must
                             3910 ; 266  |// also change the jump table in mixer.asm
                             3911 ; 267  |#define MIXER_ON 0
                             3912 ; 268  |#define MIXER_OFF 1
                             3913 ; 269  |
                             3914 ; 270  |
                             3915 ; 271  |// System Message IDs
                             3916 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                             3917 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                             3918 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                             3919 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                             3920 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                             3921 ; 277  |// If you change the system message ID's then you must
                             3922 ; 278  |// also change the jump table in systemapi.asm
                             3923 ; 279  |
                             3924 ; 280  |// Menu IDs
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  65

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3925 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                             3926 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                             3927 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                             3928 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                             3929 ; 285  |//sub parameters for this message:
                             3930 ; 286  |#define RECORDER_START 0
                             3931 ; 287  |#define RECORDER_PAUSE 0x2000
                             3932 ; 288  |#define RECORDER_RESUME 0x4000
                             3933 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                             3934 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                             3935 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                             3936 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                             3937 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                             3938 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                             3939 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                             3940 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                             3941 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                             3942 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                             3943 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                             3944 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                             3945 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                             3946 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                             3947 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                             3948 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                             3949 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                             3950 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                             3951 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                             3952 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                             3953 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                             3954 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                             3955 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                             3956 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                             3957 ; 313  |
                             3958 ; 314  |// Note that other versions of this file have different msg equates.
                             3959 ; 315  |// If you change the system message ID's then you must
                             3960 ; 316  |// also change the jump table in all menu *.asm
                             3961 ; 317  |
                             3962 ; 318  |// LED Message IDs
                             3963 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                             3964 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                             3965 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                             3966 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                             3967 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                             3968 ; 324  |// If you change the LeD message ID's then you must
                             3969 ; 325  |// also change the jump table in ledapi.asm
                             3970 ; 326  |
                             3971 ; 327  |#if (!defined(REMOVE_FM))
                             3972 ; 328  |// FM Tuner Message IDs
                             3973 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                             3974 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                             3975 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                             3976 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                             3977 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                             3978 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                             3979 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                             3980 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                             3981 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                             3982 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                             3983 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                             3984 ; 340  |//one parameter--the sensitivity in uV
                             3985 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                             3986 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  66

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3987 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                             3988 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                             3989 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                             3990 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                             3991 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                             3992 ; 348  |#endif
                             3993 ; 349  |
                             3994 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                             3995 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                             3996 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                             3997 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                             3998 ; 354  |
                             3999 ; 355  |
                             4000 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                             4001 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                             4002 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                             4003 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                             4004 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                             4005 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                             4006 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                             4007 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                             4008 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                             4009 ; 365  |
                             4010 ; 366  |#if (defined(USE_PLAYLIST3))
                             4011 ; 367  |// Music Library
                             4012 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                             4013 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                             4014 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                             4015 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                             4016 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                             4017 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                             4018 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                             4019 ; 375  |
                             4020 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                             4021 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                             4022 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                             4023 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                             4024 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                             4025 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                             4026 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                             4027 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                             4028 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                             4029 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                             4030 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                             4031 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                             4032 ; 388  |
                             4033 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             4034 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             4035 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             4036 ; 392  |
                             4037 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             4038 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             4039 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             4040 ; 396  |
                             4041 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             4042 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                             4043 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             4044 ; 400  |
                             4045 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                             4046 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                             4047 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                             4048 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  67

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4049 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                             4050 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                             4051 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                             4052 ; 408  |
                             4053 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             4054 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             4055 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             4056 ; 412  |
                             4057 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                             4058 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                             4059 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                             4060 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                             4061 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                             4062 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                             4063 ; 419  |
                             4064 ; 420  |#if defined(USE_PLAYLIST5)
                             4065 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                             4066 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                             4067 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                             4068 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                             4069 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                             4070 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                             4071 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                             4072 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                             4073 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                             4074 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                             4075 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                             4076 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                             4077 ; 433  |
                             4078 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                             4079 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                             4080 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                             4081 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                             4082 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                             4083 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                             4084 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                             4085 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                             4086 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                             4087 ; 443  |#endif // if @def('USE_PLAYLIST5')
                             4088 ; 444  |// Events
                             4089 ; 445  |// No event
                             4090 ; 446  |#define EVENT_NONE 0x000001   
                             4091 ; 447  |// A message has been posted
                             4092 ; 448  |#define EVENT_MESSAGE 0x000002   
                             4093 ; 449  |// Run if wait time elapsed
                             4094 ; 450  |#define EVENT_TIMER 0x000004   
                             4095 ; 451  |// Run if a button event occured
                             4096 ; 452  |#define EVENT_BUTTON 0x000008   
                             4097 ; 453  |// Run if a background event occured
                             4098 ; 454  |#define EVENT_BACKGROUND 0x000010   
                             4099 ; 455  |// The executive should immediately repeat this module
                             4100 ; 456  |#define EVENT_REPEAT 0x000020   
                             4101 ; 457  |// Run the module's init routine
                             4102 ; 458  |#define EVENT_INIT 0x800000   
                             4103 ; 459  |
                             4104 ; 460  |#define EVENT_NONE_BITPOS 0
                             4105 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                             4106 ; 462  |#define EVENT_TIMER_BITPOS 2
                             4107 ; 463  |#define EVENT_BUTTON_BITPOS 3
                             4108 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                             4109 ; 465  |#define EVENT_REPEAT_BITPOS 5
                             4110 ; 466  |#define EVENT_INIT_BITPOS 23
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  68

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4111 ; 467  |
                             4112 ; 468  |// Parser Message Buffers
                             4113 ; 469  |#define ParserPlayBit 0
                             4114 ; 470  |#define ButtonPressBit 1
                             4115 ; 471  |#define ParserRwndBit 1
                             4116 ; 472  |#define ParserFfwdBit 2
                             4117 ; 473  |
                             4118 ; 474  |//NextSong Message Parameters
                             4119 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                             4120 ; 476  |#define NEXT_SONG 2             
                             4121 ; 477  |// ButtonPressBit1 cleared
                             4122 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                             4123 ; 479  |// ButtonPressBit1 set
                             4124 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                             4125 ; 481  |// NextSong + Ffwd
                             4126 ; 482  |#define NEXT_SONG_FFWD 4          
                             4127 ; 483  |
                             4128 ; 484  |//PrevSong Message Parameters
                             4129 ; 485  |// PrevSong + Stopped
                             4130 ; 486  |#define PREV_SONG 0          
                             4131 ; 487  |// PrevSong + Play
                             4132 ; 488  |#define PREV_SONG_PLAY 1          
                             4133 ; 489  |// PrevSong + Rwnd
                             4134 ; 490  |#define PREV_SONG_RWND 2          
                             4135 ; 491  |
                             4136 ; 492  |
                             4137 ; 493  |
                             4138 ; 494  |
                             4139 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                             4140 ; 496  |
                             4141 ; 497  |
                             4142 
                             4144 
                             4145 ; 28   |
                             4146 ; 29   |#endif 
                             4147 
                             4149 
                             4150 ; 19   |#include "messages.h"
                             4151 
                             4153 
                             4154 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             4155 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                             4156 ; 3    |// Message defs
                             4157 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                             4158 ; 5    |
                             4159 ; 6    |#if (!defined(MSGEQU_INC))
                             4160 ; 7    |#define MSGEQU_INC 1
                             4161 ; 8    |
                             4162 ; 9    |
                             4163 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                             4164 ; 11   |
                             4165 ; 12   |
                             4166 ; 13   |#define MSG_TYPE_DECODER 0x000000
                             4167 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                             4168 ; 15   |#define MSG_TYPE_PARSER 0x020000
                             4169 ; 16   |#define MSG_TYPE_LCD 0x030000
                             4170 ; 17   |#define MSG_TYPE_MIXER 0x040000
                             4171 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                             4172 ; 19   |#define MSG_TYPE_MENU 0x060000
                             4173 ; 20   |#define MSG_TYPE_LED 0x070000
                             4174 ; 21   |#define MSG_TYPE_TUNER 0x080000
                             4175 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  69

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4176 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                             4177 ; 24   |// Equalizer and other effects
                             4178 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                             4179 ; 26   |#if (defined(USE_PLAYLIST3))
                             4180 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                             4181 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                             4182 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                             4183 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                             4184 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                             4185 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                             4186 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                             4187 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                             4188 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                             4189 ; 36   |#if defined(USE_PLAYLIST5)
                             4190 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                             4191 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                             4192 ; 39   |#endif // if @def('USE_PLAYLIST5')
                             4193 ; 40   |
                             4194 ; 41   |// Message Structure Offsets
                             4195 ; 42   |#define MSG_Length 0
                             4196 ; 43   |#define MSG_ID 1
                             4197 ; 44   |#define MSG_Argument1 2
                             4198 ; 45   |#define MSG_Argument2 3
                             4199 ; 46   |#define MSG_Argument3 4
                             4200 ; 47   |#define MSG_Argument4 5
                             4201 ; 48   |#define MSG_Argument5 6
                             4202 ; 49   |#define MSG_Argument6 7
                             4203 ; 50   |
                             4204 ; 51   |
                             4205 ; 52   |
                             4206 ; 53   |// LCD Message IDs
                             4207 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                             4208 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                             4209 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                             4210 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                             4211 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                             4212 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                             4213 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                             4214 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                             4215 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                             4216 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                             4217 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                             4218 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                             4219 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                             4220 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                             4221 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                             4222 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                             4223 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                             4224 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                             4225 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                             4226 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                             4227 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                             4228 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                             4229 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                             4230 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                             4231 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                             4232 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                             4233 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                             4234 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                             4235 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                             4236 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                             4237 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  70

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4238 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                             4239 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                             4240 ; 87   |//send a NULL as Param1 to return to root frame buffer
                             4241 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                             4242 ; 89   |//Param1 = left
                             4243 ; 90   |//Param2 = top
                             4244 ; 91   |//Param3 = right
                             4245 ; 92   |//Param4 = bottom
                             4246 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                             4247 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                             4248 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                             4249 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                             4250 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                             4251 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                             4252 ; 99   |
                             4253 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                             4254 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                             4255 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                             4256 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                             4257 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                             4258 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                             4259 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                             4260 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                             4261 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                             4262 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                             4263 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                             4264 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                             4265 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                             4266 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                             4267 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                             4268 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                             4269 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                             4270 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                             4271 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                             4272 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                             4273 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                             4274 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                             4275 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                             4276 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                             4277 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                             4278 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                             4279 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                             4280 ; 127  |
                             4281 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                             4282 ; 129  |
                             4283 ; 130  |#if defined(CLCD_16BIT)
                             4284 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                             4285 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                             4286 ; 133  |
                             4287 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                             4288 ; 135  |#else 
                             4289 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                             4290 ; 137  |#endif
                             4291 ; 138  |
                             4292 ; 139  |// If you change the LCD message ID's then you must
                             4293 ; 140  |// also change the jump table in lcdapi.asm
                             4294 ; 141  |
                             4295 ; 142  |// Character LCD Message IDs
                             4296 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                             4297 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                             4298 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                             4299 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  71

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4300 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                             4301 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                             4302 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                             4303 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                             4304 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                             4305 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                             4306 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                             4307 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                             4308 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                             4309 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                             4310 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                             4311 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                             4312 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                             4313 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                             4314 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                             4315 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                             4316 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                             4317 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                             4318 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                             4319 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                             4320 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                             4321 ; 168  |// also change the jump table in lcdapi.asm
                             4322 ; 169  |
                             4323 ; 170  |// Decoder Message IDs
                             4324 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                             4325 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                             4326 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                             4327 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                             4328 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                             4329 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                             4330 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                             4331 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                             4332 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                             4333 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                             4334 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                             4335 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                             4336 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                             4337 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                             4338 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                             4339 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                             4340 ; 187  |// If you change the Decoder message ID's, then you must
                             4341 ; 188  |// also change the jump table in decoder_overlay.asm
                             4342 ; 189  |// and in dec_adpcm_overlay.asm.
                             4343 ; 190  |
                             4344 ; 191  |// Encoder Message IDs
                             4345 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                             4346 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                             4347 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                             4348 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                             4349 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                             4350 ; 197  |// If you change the Encoder message ID's, then you must
                             4351 ; 198  |// also change the jump table in all encoder overlay modules.
                             4352 ; 199  |
                             4353 ; 200  |// Parser Message IDs
                             4354 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                             4355 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                             4356 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                             4357 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                             4358 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                             4359 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                             4360 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                             4361 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  72

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4362 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                             4363 ; 210  |// If you change the Parser message ID's, then you must
                             4364 ; 211  |// also change the jump table in parser.asm
                             4365 ; 212  |
                             4366 ; 213  |// Button Message IDs
                             4367 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                             4368 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                             4369 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                             4370 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                             4371 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                             4372 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                             4373 ; 220  |
                             4374 ; 221  |// Mixer Message IDs
                             4375 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                             4376 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                             4377 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                             4378 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                             4379 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                             4380 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                             4381 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                             4382 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                             4383 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                             4384 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                             4385 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                             4386 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                             4387 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                             4388 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                             4389 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                             4390 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                             4391 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                             4392 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                             4393 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                             4394 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                             4395 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                             4396 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                             4397 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                             4398 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                             4399 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                             4400 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                             4401 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                             4402 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                             4403 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                             4404 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                             4405 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                             4406 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                             4407 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                             4408 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                             4409 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                             4410 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                             4411 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                             4412 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                             4413 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                             4414 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                             4415 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                             4416 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                             4417 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                             4418 ; 265  |// If you change the mixer message ID's then you must
                             4419 ; 266  |// also change the jump table in mixer.asm
                             4420 ; 267  |#define MIXER_ON 0
                             4421 ; 268  |#define MIXER_OFF 1
                             4422 ; 269  |
                             4423 ; 270  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  73

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4424 ; 271  |// System Message IDs
                             4425 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                             4426 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                             4427 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                             4428 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                             4429 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                             4430 ; 277  |// If you change the system message ID's then you must
                             4431 ; 278  |// also change the jump table in systemapi.asm
                             4432 ; 279  |
                             4433 ; 280  |// Menu IDs
                             4434 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                             4435 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                             4436 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                             4437 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                             4438 ; 285  |//sub parameters for this message:
                             4439 ; 286  |#define RECORDER_START 0
                             4440 ; 287  |#define RECORDER_PAUSE 0x2000
                             4441 ; 288  |#define RECORDER_RESUME 0x4000
                             4442 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                             4443 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                             4444 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                             4445 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                             4446 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                             4447 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                             4448 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                             4449 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                             4450 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                             4451 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                             4452 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                             4453 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                             4454 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                             4455 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                             4456 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                             4457 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                             4458 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                             4459 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                             4460 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                             4461 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                             4462 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                             4463 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                             4464 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                             4465 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                             4466 ; 313  |
                             4467 ; 314  |// Note that other versions of this file have different msg equates.
                             4468 ; 315  |// If you change the system message ID's then you must
                             4469 ; 316  |// also change the jump table in all menu *.asm
                             4470 ; 317  |
                             4471 ; 318  |// LED Message IDs
                             4472 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                             4473 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                             4474 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                             4475 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                             4476 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                             4477 ; 324  |// If you change the LeD message ID's then you must
                             4478 ; 325  |// also change the jump table in ledapi.asm
                             4479 ; 326  |
                             4480 ; 327  |#if (!defined(REMOVE_FM))
                             4481 ; 328  |// FM Tuner Message IDs
                             4482 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                             4483 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                             4484 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                             4485 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  74

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4486 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                             4487 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                             4488 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                             4489 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                             4490 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                             4491 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                             4492 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                             4493 ; 340  |//one parameter--the sensitivity in uV
                             4494 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                             4495 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                             4496 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                             4497 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                             4498 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                             4499 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                             4500 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                             4501 ; 348  |#endif
                             4502 ; 349  |
                             4503 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                             4504 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                             4505 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                             4506 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                             4507 ; 354  |
                             4508 ; 355  |
                             4509 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                             4510 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                             4511 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                             4512 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                             4513 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                             4514 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                             4515 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                             4516 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                             4517 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                             4518 ; 365  |
                             4519 ; 366  |#if (defined(USE_PLAYLIST3))
                             4520 ; 367  |// Music Library
                             4521 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                             4522 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                             4523 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                             4524 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                             4525 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                             4526 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                             4527 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                             4528 ; 375  |
                             4529 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                             4530 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                             4531 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                             4532 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                             4533 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                             4534 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                             4535 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                             4536 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                             4537 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                             4538 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                             4539 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                             4540 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                             4541 ; 388  |
                             4542 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             4543 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             4544 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             4545 ; 392  |
                             4546 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             4547 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  75

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4548 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             4549 ; 396  |
                             4550 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             4551 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                             4552 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             4553 ; 400  |
                             4554 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                             4555 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                             4556 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                             4557 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                             4558 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                             4559 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                             4560 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                             4561 ; 408  |
                             4562 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             4563 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             4564 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             4565 ; 412  |
                             4566 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                             4567 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                             4568 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                             4569 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                             4570 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                             4571 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                             4572 ; 419  |
                             4573 ; 420  |#if defined(USE_PLAYLIST5)
                             4574 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                             4575 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                             4576 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                             4577 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                             4578 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                             4579 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                             4580 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                             4581 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                             4582 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                             4583 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                             4584 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                             4585 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                             4586 ; 433  |
                             4587 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                             4588 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                             4589 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                             4590 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                             4591 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                             4592 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                             4593 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                             4594 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                             4595 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                             4596 ; 443  |#endif // if @def('USE_PLAYLIST5')
                             4597 ; 444  |// Events
                             4598 ; 445  |// No event
                             4599 ; 446  |#define EVENT_NONE 0x000001   
                             4600 ; 447  |// A message has been posted
                             4601 ; 448  |#define EVENT_MESSAGE 0x000002   
                             4602 ; 449  |// Run if wait time elapsed
                             4603 ; 450  |#define EVENT_TIMER 0x000004   
                             4604 ; 451  |// Run if a button event occured
                             4605 ; 452  |#define EVENT_BUTTON 0x000008   
                             4606 ; 453  |// Run if a background event occured
                             4607 ; 454  |#define EVENT_BACKGROUND 0x000010   
                             4608 ; 455  |// The executive should immediately repeat this module
                             4609 ; 456  |#define EVENT_REPEAT 0x000020   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  76

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4610 ; 457  |// Run the module's init routine
                             4611 ; 458  |#define EVENT_INIT 0x800000   
                             4612 ; 459  |
                             4613 ; 460  |#define EVENT_NONE_BITPOS 0
                             4614 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                             4615 ; 462  |#define EVENT_TIMER_BITPOS 2
                             4616 ; 463  |#define EVENT_BUTTON_BITPOS 3
                             4617 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                             4618 ; 465  |#define EVENT_REPEAT_BITPOS 5
                             4619 ; 466  |#define EVENT_INIT_BITPOS 23
                             4620 ; 467  |
                             4621 ; 468  |// Parser Message Buffers
                             4622 ; 469  |#define ParserPlayBit 0
                             4623 ; 470  |#define ButtonPressBit 1
                             4624 ; 471  |#define ParserRwndBit 1
                             4625 ; 472  |#define ParserFfwdBit 2
                             4626 ; 473  |
                             4627 ; 474  |//NextSong Message Parameters
                             4628 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                             4629 ; 476  |#define NEXT_SONG 2             
                             4630 ; 477  |// ButtonPressBit1 cleared
                             4631 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                             4632 ; 479  |// ButtonPressBit1 set
                             4633 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                             4634 ; 481  |// NextSong + Ffwd
                             4635 ; 482  |#define NEXT_SONG_FFWD 4          
                             4636 ; 483  |
                             4637 ; 484  |//PrevSong Message Parameters
                             4638 ; 485  |// PrevSong + Stopped
                             4639 ; 486  |#define PREV_SONG 0          
                             4640 ; 487  |// PrevSong + Play
                             4641 ; 488  |#define PREV_SONG_PLAY 1          
                             4642 ; 489  |// PrevSong + Rwnd
                             4643 ; 490  |#define PREV_SONG_RWND 2          
                             4644 ; 491  |
                             4645 ; 492  |
                             4646 ; 493  |
                             4647 ; 494  |
                             4648 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                             4649 ; 496  |
                             4650 ; 497  |
                             4651 
                             4653 
                             4654 ; 20   |#include "playerlib.h"
                             4655 
                             4657 
                             4658 ; 1    |#ifndef _PLAYERLIB_H
                             4659 ; 2    |#define _PLAYERLIB_H
                             4660 ; 3    |
                             4661 ; 4    |#include "types.h"
                             4662 
                             4664 
                             4665 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             4666 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             4667 ; 3    |//
                             4668 ; 4    |// Filename: types.h
                             4669 ; 5    |// Description: Standard data types
                             4670 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             4671 ; 7    |
                             4672 ; 8    |#ifndef _TYPES_H
                             4673 ; 9    |#define _TYPES_H
                             4674 ; 10   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  77

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4675 ; 11   |// TODO:  move this outta here!
                             4676 ; 12   |#if !defined(NOERROR)
                             4677 ; 13   |#define NOERROR 0
                             4678 ; 14   |#define SUCCESS 0
                             4679 ; 15   |#endif 
                             4680 ; 16   |#if !defined(SUCCESS)
                             4681 ; 17   |#define SUCCESS  0
                             4682 ; 18   |#endif
                             4683 ; 19   |#if !defined(ERROR)
                             4684 ; 20   |#define ERROR   -1
                             4685 ; 21   |#endif
                             4686 ; 22   |#if !defined(FALSE)
                             4687 ; 23   |#define FALSE 0
                             4688 ; 24   |#endif
                             4689 ; 25   |#if !defined(TRUE)
                             4690 ; 26   |#define TRUE  1
                             4691 ; 27   |#endif
                             4692 ; 28   |
                             4693 ; 29   |#if !defined(NULL)
                             4694 ; 30   |#define NULL 0
                             4695 ; 31   |#endif
                             4696 ; 32   |
                             4697 ; 33   |#define MAX_INT     0x7FFFFF
                             4698 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             4699 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             4700 ; 36   |#define MAX_ULONG   (-1) 
                             4701 ; 37   |
                             4702 ; 38   |#define WORD_SIZE   24              // word size in bits
                             4703 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             4704 ; 40   |
                             4705 ; 41   |
                             4706 ; 42   |#define BYTE    unsigned char       // btVarName
                             4707 ; 43   |#define CHAR    signed char         // cVarName
                             4708 ; 44   |#define USHORT  unsigned short      // usVarName
                             4709 ; 45   |#define SHORT   unsigned short      // sVarName
                             4710 ; 46   |#define WORD    unsigned int        // wVarName
                             4711 ; 47   |#define INT     signed int          // iVarName
                             4712 ; 48   |#define DWORD   unsigned long       // dwVarName
                             4713 ; 49   |#define LONG    signed long         // lVarName
                             4714 ; 50   |#define BOOL    unsigned int        // bVarName
                             4715 ; 51   |#define FRACT   _fract              // frVarName
                             4716 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             4717 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             4718 ; 54   |#define FLOAT   float               // fVarName
                             4719 ; 55   |#define DBL     double              // dVarName
                             4720 ; 56   |#define ENUM    enum                // eVarName
                             4721 ; 57   |#define CMX     _complex            // cmxVarName
                             4722 ; 58   |typedef WORD UCS3;                   // 
                             4723 ; 59   |
                             4724 ; 60   |#define UINT16  unsigned short
                             4725 ; 61   |#define UINT8   unsigned char   
                             4726 ; 62   |#define UINT32  unsigned long
                             4727 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             4728 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             4729 ; 65   |#define WCHAR   UINT16
                             4730 ; 66   |
                             4731 ; 67   |//UINT128 is 16 bytes or 6 words
                             4732 ; 68   |typedef struct UINT128_3500 {   
                             4733 ; 69   |    int val[6];     
                             4734 ; 70   |} UINT128_3500;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  78

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4735 ; 71   |
                             4736 ; 72   |#define UINT128   UINT128_3500
                             4737 ; 73   |
                             4738 ; 74   |// Little endian word packed byte strings:   
                             4739 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4740 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4741 ; 77   |// Little endian word packed byte strings:   
                             4742 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4743 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4744 ; 80   |
                             4745 ; 81   |// Declare Memory Spaces To Use When Coding
                             4746 ; 82   |// A. Sector Buffers
                             4747 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             4748 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             4749 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             4750 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             4751 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             4752 ; 88   |// B. Media DDI Memory
                             4753 ; 89   |#define MEDIA_DDI_MEM _Y
                             4754 ; 90   |
                             4755 ; 91   |
                             4756 ; 92   |
                             4757 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             4758 ; 94   |// Examples of circular pointers:
                             4759 ; 95   |//    INT CIRC cpiVarName
                             4760 ; 96   |//    DWORD CIRC cpdwVarName
                             4761 ; 97   |
                             4762 ; 98   |#define RETCODE INT                 // rcVarName
                             4763 ; 99   |
                             4764 ; 100  |// generic bitfield structure
                             4765 ; 101  |struct Bitfield {
                             4766 ; 102  |    unsigned int B0  :1;
                             4767 ; 103  |    unsigned int B1  :1;
                             4768 ; 104  |    unsigned int B2  :1;
                             4769 ; 105  |    unsigned int B3  :1;
                             4770 ; 106  |    unsigned int B4  :1;
                             4771 ; 107  |    unsigned int B5  :1;
                             4772 ; 108  |    unsigned int B6  :1;
                             4773 ; 109  |    unsigned int B7  :1;
                             4774 ; 110  |    unsigned int B8  :1;
                             4775 ; 111  |    unsigned int B9  :1;
                             4776 ; 112  |    unsigned int B10 :1;
                             4777 ; 113  |    unsigned int B11 :1;
                             4778 ; 114  |    unsigned int B12 :1;
                             4779 ; 115  |    unsigned int B13 :1;
                             4780 ; 116  |    unsigned int B14 :1;
                             4781 ; 117  |    unsigned int B15 :1;
                             4782 ; 118  |    unsigned int B16 :1;
                             4783 ; 119  |    unsigned int B17 :1;
                             4784 ; 120  |    unsigned int B18 :1;
                             4785 ; 121  |    unsigned int B19 :1;
                             4786 ; 122  |    unsigned int B20 :1;
                             4787 ; 123  |    unsigned int B21 :1;
                             4788 ; 124  |    unsigned int B22 :1;
                             4789 ; 125  |    unsigned int B23 :1;
                             4790 ; 126  |};
                             4791 ; 127  |
                             4792 ; 128  |union BitInt {
                             4793 ; 129  |        struct Bitfield B;
                             4794 ; 130  |        int        I;
                             4795 ; 131  |};
                             4796 ; 132  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  79

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4797 ; 133  |#define MAX_MSG_LENGTH 10
                             4798 ; 134  |struct CMessage
                             4799 ; 135  |{
                             4800 ; 136  |        unsigned int m_uLength;
                             4801 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             4802 ; 138  |};
                             4803 ; 139  |
                             4804 ; 140  |typedef struct {
                             4805 ; 141  |    WORD m_wLength;
                             4806 ; 142  |    WORD m_wMessage;
                             4807 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             4808 ; 144  |} Message;
                             4809 ; 145  |
                             4810 ; 146  |struct MessageQueueDescriptor
                             4811 ; 147  |{
                             4812 ; 148  |        int *m_pBase;
                             4813 ; 149  |        int m_iModulo;
                             4814 ; 150  |        int m_iSize;
                             4815 ; 151  |        int *m_pHead;
                             4816 ; 152  |        int *m_pTail;
                             4817 ; 153  |};
                             4818 ; 154  |
                             4819 ; 155  |struct ModuleEntry
                             4820 ; 156  |{
                             4821 ; 157  |    int m_iSignaledEventMask;
                             4822 ; 158  |    int m_iWaitEventMask;
                             4823 ; 159  |    int m_iResourceOfCode;
                             4824 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             4825 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             4826 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             4827 ; 163  |    int m_uTimeOutHigh;
                             4828 ; 164  |    int m_uTimeOutLow;
                             4829 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             4830 ; 166  |};
                             4831 ; 167  |
                             4832 ; 168  |union WaitMask{
                             4833 ; 169  |    struct B{
                             4834 ; 170  |        unsigned int m_bNone     :1;
                             4835 ; 171  |        unsigned int m_bMessage  :1;
                             4836 ; 172  |        unsigned int m_bTimer    :1;
                             4837 ; 173  |        unsigned int m_bButton   :1;
                             4838 ; 174  |    } B;
                             4839 ; 175  |    int I;
                             4840 ; 176  |} ;
                             4841 ; 177  |
                             4842 ; 178  |
                             4843 ; 179  |struct Button {
                             4844 ; 180  |        WORD wButtonEvent;
                             4845 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             4846 ; 182  |};
                             4847 ; 183  |
                             4848 ; 184  |struct Message {
                             4849 ; 185  |        WORD wMsgLength;
                             4850 ; 186  |        WORD wMsgCommand;
                             4851 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             4852 ; 188  |};
                             4853 ; 189  |
                             4854 ; 190  |union EventTypes {
                             4855 ; 191  |        struct CMessage msg;
                             4856 ; 192  |        struct Button Button ;
                             4857 ; 193  |        struct Message Message;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  80

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4858 ; 194  |};
                             4859 ; 195  |
                             4860 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             4861 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             4862 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             4863 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             4864 ; 200  |
                             4865 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             4866 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             4867 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             4868 ; 204  |
                             4869 ; 205  |#if DEBUG
                             4870 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             4871 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             4872 ; 208  |#else 
                             4873 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             4874 ; 210  |#define DebugBuildAssert(x)    
                             4875 ; 211  |#endif
                             4876 ; 212  |
                             4877 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             4878 ; 214  |//  #pragma asm
                             4879 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             4880 ; 216  |//  #pragma endasm
                             4881 ; 217  |
                             4882 ; 218  |
                             4883 ; 219  |#ifdef COLOR_262K
                             4884 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             4885 ; 221  |#elif defined(COLOR_65K)
                             4886 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             4887 ; 223  |#else
                             4888 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             4889 ; 225  |#endif
                             4890 ; 226  |    
                             4891 ; 227  |#endif // #ifndef _TYPES_H
                             4892 
                             4894 
                             4895 ; 5    |#include "playlist.h"
                             4896 
                             4898 
                             4899 ; 1    |#ifndef PLAYLIST_H
                             4900 ; 2    |#define PLAYLIST_H
                             4901 ; 3    |
                             4902 ; 4    |#include "types.h"
                             4903 
                             4905 
                             4906 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             4907 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             4908 ; 3    |//
                             4909 ; 4    |// Filename: types.h
                             4910 ; 5    |// Description: Standard data types
                             4911 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             4912 ; 7    |
                             4913 ; 8    |#ifndef _TYPES_H
                             4914 ; 9    |#define _TYPES_H
                             4915 ; 10   |
                             4916 ; 11   |// TODO:  move this outta here!
                             4917 ; 12   |#if !defined(NOERROR)
                             4918 ; 13   |#define NOERROR 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  81

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4919 ; 14   |#define SUCCESS 0
                             4920 ; 15   |#endif 
                             4921 ; 16   |#if !defined(SUCCESS)
                             4922 ; 17   |#define SUCCESS  0
                             4923 ; 18   |#endif
                             4924 ; 19   |#if !defined(ERROR)
                             4925 ; 20   |#define ERROR   -1
                             4926 ; 21   |#endif
                             4927 ; 22   |#if !defined(FALSE)
                             4928 ; 23   |#define FALSE 0
                             4929 ; 24   |#endif
                             4930 ; 25   |#if !defined(TRUE)
                             4931 ; 26   |#define TRUE  1
                             4932 ; 27   |#endif
                             4933 ; 28   |
                             4934 ; 29   |#if !defined(NULL)
                             4935 ; 30   |#define NULL 0
                             4936 ; 31   |#endif
                             4937 ; 32   |
                             4938 ; 33   |#define MAX_INT     0x7FFFFF
                             4939 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             4940 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             4941 ; 36   |#define MAX_ULONG   (-1) 
                             4942 ; 37   |
                             4943 ; 38   |#define WORD_SIZE   24              // word size in bits
                             4944 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             4945 ; 40   |
                             4946 ; 41   |
                             4947 ; 42   |#define BYTE    unsigned char       // btVarName
                             4948 ; 43   |#define CHAR    signed char         // cVarName
                             4949 ; 44   |#define USHORT  unsigned short      // usVarName
                             4950 ; 45   |#define SHORT   unsigned short      // sVarName
                             4951 ; 46   |#define WORD    unsigned int        // wVarName
                             4952 ; 47   |#define INT     signed int          // iVarName
                             4953 ; 48   |#define DWORD   unsigned long       // dwVarName
                             4954 ; 49   |#define LONG    signed long         // lVarName
                             4955 ; 50   |#define BOOL    unsigned int        // bVarName
                             4956 ; 51   |#define FRACT   _fract              // frVarName
                             4957 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             4958 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             4959 ; 54   |#define FLOAT   float               // fVarName
                             4960 ; 55   |#define DBL     double              // dVarName
                             4961 ; 56   |#define ENUM    enum                // eVarName
                             4962 ; 57   |#define CMX     _complex            // cmxVarName
                             4963 ; 58   |typedef WORD UCS3;                   // 
                             4964 ; 59   |
                             4965 ; 60   |#define UINT16  unsigned short
                             4966 ; 61   |#define UINT8   unsigned char   
                             4967 ; 62   |#define UINT32  unsigned long
                             4968 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             4969 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             4970 ; 65   |#define WCHAR   UINT16
                             4971 ; 66   |
                             4972 ; 67   |//UINT128 is 16 bytes or 6 words
                             4973 ; 68   |typedef struct UINT128_3500 {   
                             4974 ; 69   |    int val[6];     
                             4975 ; 70   |} UINT128_3500;
                             4976 ; 71   |
                             4977 ; 72   |#define UINT128   UINT128_3500
                             4978 ; 73   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  82

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4979 ; 74   |// Little endian word packed byte strings:   
                             4980 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4981 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4982 ; 77   |// Little endian word packed byte strings:   
                             4983 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4984 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4985 ; 80   |
                             4986 ; 81   |// Declare Memory Spaces To Use When Coding
                             4987 ; 82   |// A. Sector Buffers
                             4988 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             4989 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             4990 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             4991 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             4992 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             4993 ; 88   |// B. Media DDI Memory
                             4994 ; 89   |#define MEDIA_DDI_MEM _Y
                             4995 ; 90   |
                             4996 ; 91   |
                             4997 ; 92   |
                             4998 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             4999 ; 94   |// Examples of circular pointers:
                             5000 ; 95   |//    INT CIRC cpiVarName
                             5001 ; 96   |//    DWORD CIRC cpdwVarName
                             5002 ; 97   |
                             5003 ; 98   |#define RETCODE INT                 // rcVarName
                             5004 ; 99   |
                             5005 ; 100  |// generic bitfield structure
                             5006 ; 101  |struct Bitfield {
                             5007 ; 102  |    unsigned int B0  :1;
                             5008 ; 103  |    unsigned int B1  :1;
                             5009 ; 104  |    unsigned int B2  :1;
                             5010 ; 105  |    unsigned int B3  :1;
                             5011 ; 106  |    unsigned int B4  :1;
                             5012 ; 107  |    unsigned int B5  :1;
                             5013 ; 108  |    unsigned int B6  :1;
                             5014 ; 109  |    unsigned int B7  :1;
                             5015 ; 110  |    unsigned int B8  :1;
                             5016 ; 111  |    unsigned int B9  :1;
                             5017 ; 112  |    unsigned int B10 :1;
                             5018 ; 113  |    unsigned int B11 :1;
                             5019 ; 114  |    unsigned int B12 :1;
                             5020 ; 115  |    unsigned int B13 :1;
                             5021 ; 116  |    unsigned int B14 :1;
                             5022 ; 117  |    unsigned int B15 :1;
                             5023 ; 118  |    unsigned int B16 :1;
                             5024 ; 119  |    unsigned int B17 :1;
                             5025 ; 120  |    unsigned int B18 :1;
                             5026 ; 121  |    unsigned int B19 :1;
                             5027 ; 122  |    unsigned int B20 :1;
                             5028 ; 123  |    unsigned int B21 :1;
                             5029 ; 124  |    unsigned int B22 :1;
                             5030 ; 125  |    unsigned int B23 :1;
                             5031 ; 126  |};
                             5032 ; 127  |
                             5033 ; 128  |union BitInt {
                             5034 ; 129  |        struct Bitfield B;
                             5035 ; 130  |        int        I;
                             5036 ; 131  |};
                             5037 ; 132  |
                             5038 ; 133  |#define MAX_MSG_LENGTH 10
                             5039 ; 134  |struct CMessage
                             5040 ; 135  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  83

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5041 ; 136  |        unsigned int m_uLength;
                             5042 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             5043 ; 138  |};
                             5044 ; 139  |
                             5045 ; 140  |typedef struct {
                             5046 ; 141  |    WORD m_wLength;
                             5047 ; 142  |    WORD m_wMessage;
                             5048 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             5049 ; 144  |} Message;
                             5050 ; 145  |
                             5051 ; 146  |struct MessageQueueDescriptor
                             5052 ; 147  |{
                             5053 ; 148  |        int *m_pBase;
                             5054 ; 149  |        int m_iModulo;
                             5055 ; 150  |        int m_iSize;
                             5056 ; 151  |        int *m_pHead;
                             5057 ; 152  |        int *m_pTail;
                             5058 ; 153  |};
                             5059 ; 154  |
                             5060 ; 155  |struct ModuleEntry
                             5061 ; 156  |{
                             5062 ; 157  |    int m_iSignaledEventMask;
                             5063 ; 158  |    int m_iWaitEventMask;
                             5064 ; 159  |    int m_iResourceOfCode;
                             5065 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             5066 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             5067 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             5068 ; 163  |    int m_uTimeOutHigh;
                             5069 ; 164  |    int m_uTimeOutLow;
                             5070 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             5071 ; 166  |};
                             5072 ; 167  |
                             5073 ; 168  |union WaitMask{
                             5074 ; 169  |    struct B{
                             5075 ; 170  |        unsigned int m_bNone     :1;
                             5076 ; 171  |        unsigned int m_bMessage  :1;
                             5077 ; 172  |        unsigned int m_bTimer    :1;
                             5078 ; 173  |        unsigned int m_bButton   :1;
                             5079 ; 174  |    } B;
                             5080 ; 175  |    int I;
                             5081 ; 176  |} ;
                             5082 ; 177  |
                             5083 ; 178  |
                             5084 ; 179  |struct Button {
                             5085 ; 180  |        WORD wButtonEvent;
                             5086 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             5087 ; 182  |};
                             5088 ; 183  |
                             5089 ; 184  |struct Message {
                             5090 ; 185  |        WORD wMsgLength;
                             5091 ; 186  |        WORD wMsgCommand;
                             5092 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             5093 ; 188  |};
                             5094 ; 189  |
                             5095 ; 190  |union EventTypes {
                             5096 ; 191  |        struct CMessage msg;
                             5097 ; 192  |        struct Button Button ;
                             5098 ; 193  |        struct Message Message;
                             5099 ; 194  |};
                             5100 ; 195  |
                             5101 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  84

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5102 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             5103 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             5104 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             5105 ; 200  |
                             5106 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             5107 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             5108 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             5109 ; 204  |
                             5110 ; 205  |#if DEBUG
                             5111 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             5112 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             5113 ; 208  |#else 
                             5114 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             5115 ; 210  |#define DebugBuildAssert(x)    
                             5116 ; 211  |#endif
                             5117 ; 212  |
                             5118 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             5119 ; 214  |//  #pragma asm
                             5120 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             5121 ; 216  |//  #pragma endasm
                             5122 ; 217  |
                             5123 ; 218  |
                             5124 ; 219  |#ifdef COLOR_262K
                             5125 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             5126 ; 221  |#elif defined(COLOR_65K)
                             5127 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             5128 ; 223  |#else
                             5129 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             5130 ; 225  |#endif
                             5131 ; 226  |    
                             5132 ; 227  |#endif // #ifndef _TYPES_H
                             5133 
                             5135 
                             5136 ; 5    |
                             5137 ; 6    |typedef struct {
                             5138 ; 7    |    WORD    m_wTrack;                       
                             5139 ; 8    |    WORD    m_wDeviceID;
                             5140 ; 9    |    WORD    m_wBufferLength;            //this is in BYTES, not WORDS!
                             5141 ; 10   |    _packed BYTE *m_pFilename;
                             5142 ; 11   |} SONGFILEINFO;
                             5143 ; 12   |
                             5144 ; 13   |#define PLAYLIST_SUCCESS                                0
                             5145 ; 14   |#define PLAYLIST_FILE_ERROR                             1
                             5146 ; 15   |#define PLAYLIST_END_OF_LIST                    2
                             5147 ; 16   |#define PLAYLIST_TRACK_NOT_FOUND                3
                             5148 ; 17   |#define PLAYLIST_DIR_NOT_EMPTY          4 
                             5149 ; 18   |#define PLAYLIST_REBUILD                5
                             5150 ; 19   |#define PLAYLIST_LAST_RETCODE                   5               //The value should always 
                                  be the same as the last RETCODE
                             5151 ; 20   |
                             5152 ; 21   |
                             5153 ; 22   |#ifdef  USE_PLAYLIST1
                             5154 ; 23   |RETCODE ChangeDIRtoFileEntryDir(struct FileEntry *pCurrentEntry, _packed BYTE * buffer);
                             5155 ; 24   |#endif
                             5156 ; 25   |RETCODE _reentrant Playlist_LFNGetFileName(int,int,UCS3*);                      //UCS3 is 
                                  actually typdef WORD
                             5157 
                             5159 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  85

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5160 ; 26   |RETCODE _reentrant Playlist_MarkCurrentSongPlayed(int,int,int*);
                             5161 ; 27   |RETCODE _reentrant Playlist_GetCurrentSongFileInfo(int, int, int*);
                             5162 ; 28   |RETCODE _reentrant Playlist_GetNextSongFileInfo(int, int , int*);
                             5163 ; 29   |RETCODE _reentrant Playlist_GetPreviousSongFileInfo(int,int,int*);
                             5164 ; 30   |#ifdef USE_PLAYLIST1
                             5165 ; 31   |_reentrant INT Playlist_LocateEntryFromName(INT,INT,INT*);
                             5166 ; 32   |#endif
                             5167 ; 33   |
                             5168 ; 34   |#endif 
                             5169 
                             5171 
                             5172 ; 6    |
                             5173 ; 7    |#define DECODER_STATE_STOP          0
                             5174 ; 8    |#define DECODER_STATE_PLAY          1
                             5175 ; 9    |#define DECODER_STATE_PAUSE         2
                             5176 ; 10   |#define DECODER_STATE_TOGGLE    4
                             5177 ; 11   |
                             5178 ; 12   |#define PLAYERLIB_SUCCESS       0
                             5179 ; 13   |#define PLAYERLIB_BAD_FILE      1
                             5180 ; 14   |#define PLAYERLIB_ERROR         2
                             5181 ; 15   |#define PLAYERLIB_END_OF_LIST   3
                             5182 ; 16   |
                             5183 ; 17   |//These are in the DecoderSR/DecoderCSR
                             5184 ; 18   |#define DECODER_PAUSED          1<<5
                             5185 ; 19   |#define DECODER_STOPPED         1<<6
                             5186 ; 20   |#define DECODER_SYNCED          1<<10
                             5187 ; 21   |#define DECODER_PLAYING         1<<12
                             5188 ; 22   |#define DECODER_SONG_INFO       1<<15
                             5189 ; 23   |#define DECODER_FILE_IS_OPEN    1<<16
                             5190 ; 24   |#define DECODER_A_SET           1<<18
                             5191 ; 25   |#define DECODER_B_SET           1<<19
                             5192 ; 26   |#define DECODER_BAD_FILE        1<<21
                             5193 ; 27   |#define DECODER_LOOKING_FOR_SYNC 1<<22
                             5194 ; 28   |
                             5195 ; 29   |//PrevSong Message Parameters
                             5196 ; 30   |#define PREVSONG_STOP        0             //PrevSong + Stopped
                             5197 ; 31   |#define PREVSONG_PLAY        1<<0          //PrevSong + Play
                             5198 ; 32   |#define PREVSONG_RWND        1<<1          //PrevSong + Rwnd
                             5199 ; 33   |//NextSong Message Parameters
                             5200 ; 34   |#define NEXTSONG_STOP        0             //NextSong + Stopped
                             5201 ; 35   |#define NEXTSONG_PLAY_EOF    1             //NextSong + Play + EOF reached
                             5202 ; 36   |#define NEXTSONG_PLAY_BUTTON 3             //NextSong + Play + BUTTON pressed
                             5203 ; 37   |#define NEXTSONG_FFWD        4             //NextSong + Ffwd
                             5204 ; 38   |#define NEXTSONG_DELETE_MENU 5             //NextSong via delete menu
                             5205 ; 39   |//CurrentSong Message Parameters
                             5206 ; 40   |#define CURRENTSONG_DELETE_MENU 1          //CurrentSong via delete menu
                             5207 ; 41   |
                             5208 ; 42   |#ifdef USE_PLAYLIST3
                             5209 ; 43   |extern DWORD    g_CurrentSongFastkey;
                             5210 ; 44   |#endif  // USE_PLAYLIST3
                             5211 ; 45   |
                             5212 ; 46   |#ifdef USE_PLAYLIST5
                             5213 ; 47   |extern long g_CurrentFastKey;
                             5214 ; 48   |#endif //USE_PLAYLIST5
                             5215 ; 49   |RETCODE _reentrant PlayerLib_SetState (int iState,int bWait,int*);  
                             5216 ; 50   |RETCODE _reentrant PlayerLib_FastForward (int bPlayDuring,int,int*);
                             5217 ; 51   |RETCODE _reentrant PlayerLib_Rewind(int bPlayDuring,int,int*);
                             5218 ; 52   |RETCODE _reentrant PlayerLib_SetSongName(int bStartPlaying, int, SONGFILEINFO*);
                             5219 
                             5228 
                             5229 ; 53   |RETCODE _reentrant PlayerLib_GetCurrentSong(WORD wMode,int ignored1,int*ignored2);
                             5230 ; 54   |RETCODE _reentrant PlayerLib_SkipToNextSong(WORD,WORD,int*);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  86

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5231 ; 55   |RETCODE _reentrant PlayerLib_SkipToPreviousSong(WORD,WORD,int*);
                             5232 ; 56   |RETCODE _reentrant PlayerLib_EnablePlaylist(int bTrueFalse,int,int*);  
                             5233 ; 57   |RETCODE _reentrant PlayerLib_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                             5234 ; 58   |DWORD _reentrant PlayerLib_GetSongPosition(void);
                             5235 ; 59   |RETCODE _reentrant PlayerLib_SetSongPosition(DWORD dwSongPos);
                             5236 ; 60   |////////////////////Bookmarking functions///////////////////////////////
                             5237 ; 61   |RETCODE _reentrant PlayerLib_ResetBookmark(int iCurrentPlayset, int ignored, int* pPtr);
                             5238 ; 62   |RETCODE _reentrant PlayerLib_SetBookmark(int iCurrentPlayset, int iTracknum,int* pPtr);
                             5239 ; 63   |RETCODE _reentrant PlayerLib_GotoTrack(int iTracknum, int ignored, int* ptr);
                             5240 ; 64   |RETCODE _reentrant PlayerLib_GetBookmarkSongInfo(int iCurrentPlayset, int ignored2, int* p
                                  Ptr);
                             5241 ; 65   |#ifdef USE_PLAYLIST3
                             5242 ; 66   |RETCODE _reentrant PlayerLib_GetCurrentSong_ML(WORD wMode,int ignored1,int*ignored2);
                             5243 ; 67   |#endif // #ifdef USE_PLAYLIST3
                             5244 ; 68   |
                             5245 ; 69   |#endif 
                             5246 
                             5248 
                             5249 ; 21   |#include "playlist.h"
                             5250 
                             5252 
                             5253 ; 1    |#ifndef PLAYLIST_H
                             5254 ; 2    |#define PLAYLIST_H
                             5255 ; 3    |
                             5256 ; 4    |#include "types.h"
                             5257 ; 5    |
                             5258 ; 6    |typedef struct {
                             5259 ; 7    |    WORD    m_wTrack;                       
                             5260 ; 8    |    WORD    m_wDeviceID;
                             5261 ; 9    |    WORD    m_wBufferLength;            //this is in BYTES, not WORDS!
                             5262 ; 10   |    _packed BYTE *m_pFilename;
                             5263 ; 11   |} SONGFILEINFO;
                             5264 ; 12   |
                             5265 ; 13   |#define PLAYLIST_SUCCESS                                0
                             5266 ; 14   |#define PLAYLIST_FILE_ERROR                             1
                             5267 ; 15   |#define PLAYLIST_END_OF_LIST                    2
                             5268 ; 16   |#define PLAYLIST_TRACK_NOT_FOUND                3
                             5269 ; 17   |#define PLAYLIST_DIR_NOT_EMPTY          4 
                             5270 ; 18   |#define PLAYLIST_REBUILD                5
                             5271 ; 19   |#define PLAYLIST_LAST_RETCODE                   5               //The value should always 
                                  be the same as the last RETCODE
                             5272 ; 20   |
                             5273 ; 21   |
                             5274 ; 22   |#ifdef  USE_PLAYLIST1
                             5275 ; 23   |RETCODE ChangeDIRtoFileEntryDir(struct FileEntry *pCurrentEntry, _packed BYTE * buffer);
                             5276 ; 24   |#endif
                             5277 ; 25   |RETCODE _reentrant Playlist_LFNGetFileName(int,int,UCS3*);                      //UCS3 is 
                                  actually typdef WORD
                             5278 ; 26   |RETCODE _reentrant Playlist_MarkCurrentSongPlayed(int,int,int*);
                             5279 ; 27   |RETCODE _reentrant Playlist_GetCurrentSongFileInfo(int, int, int*);
                             5280 ; 28   |RETCODE _reentrant Playlist_GetNextSongFileInfo(int, int , int*);
                             5281 ; 29   |RETCODE _reentrant Playlist_GetPreviousSongFileInfo(int,int,int*);
                             5282 ; 30   |#ifdef USE_PLAYLIST1
                             5283 ; 31   |_reentrant INT Playlist_LocateEntryFromName(INT,INT,INT*);
                             5284 ; 32   |#endif
                             5285 ; 33   |
                             5286 ; 34   |#endif 
                             5287 
                             5289 
                             5290 ; 22   |#include "sysmem.h"
                             5291 
                             5293 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  87

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5294 ; 1    |//;******************************************************************************
                             5295 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2003
                             5296 ; 3    |//; File: sysmem.h
                             5297 ; 4    |//; ST System Memory Externs
                             5298 ; 5    |//;******************************************************************************
                             5299 ; 6    |
                             5300 ; 7    |#ifndef SYSMEM_XREF_C
                             5301 ; 8    |#define SYSMEM_XREF_C
                             5302 ; 9    |
                             5303 ; 10   |// Variables in X
                             5304 ; 11   |extern unsigned int _X g_wDecoderCSR;
                             5305 ; 12   |extern unsigned int _X g_wDecoderSR;
                             5306 ; 13   |extern unsigned int _X g_wDecoderCSR2;  // DECODE2EOF
                             5307 ; 14   |extern unsigned int _X g_wEncoderSR;
                             5308 ; 15   |extern unsigned int _X g_wEncoderCSR;
                             5309 ; 16   |extern unsigned int _X g_wRecStartTimeHigh;
                             5310 ; 17   |extern unsigned int _X g_wRecStartTimeLow;
                             5311 ; 18   |extern unsigned int _X g_wSysError;
                             5312 ; 19   |#ifdef TRACEBUF_EN
                             5313 ; 20   |extern unsigned int _X g_wTraceBuffer; //Disabled by default.   
                             5314 ; 21   |extern unsigned int _X g_wTracePointer;
                             5315 ; 22   |#endif
                             5316 ; 23   |extern unsigned int _X g_wUserScratchX[];
                             5317 ; 24   |extern unsigned int _X g_wNextVoiceNumValue;
                             5318 ; 25   |extern unsigned int _X g_wEncAdpcmSave_r7;
                             5319 ; 26   |extern unsigned int _X g_wEncAdpcmSave_m7;
                             5320 ; 27   |extern unsigned int _X g_wEncModuleState;
                             5321 ; 28   |extern unsigned int _X g_wEncoderIsrSR;
                             5322 ; 29   |extern unsigned int _X g_bAudibleNeedFileSize;          // 10/12/04 mmiu - Added for AA fi
                                  le navigation
                             5323 ; 30   |extern unsigned int _X g_bAudiblePlayThrough;           // 11/1/04 mmiu - Added for file p
                                  osition play-through indicator
                             5324 ; 31   |extern unsigned int _X g_wSongStartOffsetHigh;          // 11/1/04 mmiu - Added until conf
                                  irmed we can use g_wSongByteTotalConsumedHigh/Low
                             5325 ; 32   |extern unsigned int _X g_wSongStartOffsetLow;
                             5326 ; 33   |
                             5327 ; 34   |// Variables in Y
                             5328 ; 35   |extern int          _Y g_VolumeBias;
                             5329 ; 36   |extern unsigned int _Y g_wCurrentRoutinePtr;
                             5330 ; 37   |extern unsigned int _Y g_wSystemFileHandle;
                             5331 ; 38   |extern unsigned int _Y g_wSongByteTotalHigh;
                             5332 ; 39   |extern unsigned int _Y g_wSongByteTotalLow; 
                             5333 ; 40   |extern unsigned int _Y g_wSongByteLengthHigh;
                             5334 ; 41   |extern unsigned int _Y g_wSongByteLengthLow;
                             5335 ; 42   |extern unsigned int _Y g_wInvSampleRate;
                             5336 ; 43   |extern unsigned int _Y g_wCurrentSongBad;
                             5337 ; 44   |extern unsigned int _Y g_iSongType;
                             5338 ; 45   |extern _packed BYTE _Y g_CurrentSongName[];
                             5339 ; 46   |extern unsigned int _Y g_wCurrentDirDevId;
                             5340 ; 47   |extern unsigned int _Y g_wSongInvBitRatePtr;
                             5341 ; 48   |extern unsigned int _Y g_wUserScratchXDescriptor;
                             5342 ; 49   |extern unsigned int _Y g_wUserScratchYDescriptor;
                             5343 ; 50   |extern _packed BYTE _Y g_EncFileNameString[];
                             5344 ; 51   |extern unsigned int _Y g_wEncFileHandle;
                             5345 ; 52   |extern unsigned int _Y g_wEncAdpcmOvlSave_sp;
                             5346 ; 53   |extern unsigned int _Y g_wRootDirectory;
                             5347 ; 54   |extern unsigned int _Y g_wUserScratchY[];
                             5348 ; 55   |extern unsigned int _Y g_wPrevInvBitRatePtr;
                             5349 ; 56   |
                             5350 ; 57   |#endif  // SYSMEM_XREF_C
                             5351 
                             5353 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  88

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5354 ; 23   |#include "stringlib.h"
                             5355 
                             5357 
                             5358 ; 1    |#ifndef STRINGLIB_H
                             5359 ; 2    |#define STRINGLIB_H
                             5360 ; 3    |_asmfunc int pack_string(UCS3 _Y * _Y pUnpacked, _packed BYTE _Y * _Y pPacked);
                             5361 ; 4    |_asmfunc int unpack_string( _packed BYTE _Y * _Y pPacked,  UCS3 _Y * _Y pUnpacked);
                             5362 ; 5    |_asmfunc int unpack_data( _packed BYTE _Y * _Y pPacked,  BYTE _Y * _Y pUnpacked, INT iCoun
                                  t);
                             5363 ; 6    |
                             5364 ; 7    |_asmfunc BYTE GetByteFromArrayInX( void _X * p,int n);
                             5365 ; 8    |_asmfunc void PutByteInArrayInX( void _X * p,int n, int newchar);
                             5366 ; 9    |_asmfunc BYTE GetByteFromArrayInY( void _Y * p,int n);
                             5367 ; 10   |_asmfunc void PutByteInArrayInY( void _Y * p,int n, int newchar);
                             5368 ; 11   |
                             5369 ; 12   |_asmfunc BYTE packed_get( _packed BYTE _Y * p,int n);
                             5370 ; 13   |_asmfunc void packed_set( _packed BYTE _Y * p,int n, int newchar);
                             5371 ; 14   |
                             5372 ; 15   |_asmfunc int packed_strlen( _packed BYTE _Y * _Y p);
                             5373 ; 16   |
                             5374 ; 17   |_asmfunc _packed BYTE _Y * packed_strncpy( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y
                                   pSrc, int iCount);
                             5375 ; 18   |_asmfunc _packed BYTE _Y * packed_strcpy ( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y
                                   pSrc);
                             5376 ; 19   |
                             5377 ; 20   |
                             5378 ; 21   |_asmfunc int packed_strncmp( _packed BYTE _Y * _Y pLeft,_packed BYTE _Y * _Y pRight, int i
                                  Count);
                             5379 ; 22   |_asmfunc int packed_strcmp ( _packed BYTE _Y * _Y pLeft,_packed BYTE _Y * _Y pRight);
                             5380 ; 23   |
                             5381 ; 24   |_asmfunc int packed_strncat( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSource, int 
                                  iCount);
                             5382 ; 25   |_asmfunc int packed_strcat ( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSource);
                             5383 ; 26   |
                             5384 ; 27   |
                             5385 ; 28   |_asmfunc int strlen(UCS3 _Y * _Y p);
                             5386 ; 29   |
                             5387 ; 30   |_asmfunc UCS3 *strchr(UCS3 _Y * _Y pUnpacked, UCS3 CharToFind);
                             5388 ; 31   |_asmfunc UCS3 *strrchr(UCS3 _Y * _Y pUnpacked, UCS3 CharToFind);
                             5389 ; 32   |
                             5390 ; 33   |_asmfunc void strncpy(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource, BYTE iCount);
                             5391 ; 34   |_asmfunc void strcpy(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource);
                             5392 ; 35   |
                             5393 ; 36   |_asmfunc char *strncat(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource, int iCount);
                             5394 ; 37   |_asmfunc char *strcat(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource);
                             5395 ; 38   |
                             5396 ; 39   |_asmfunc int strncmp(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource, int iCount);
                             5397 ; 40   |_asmfunc int strcmp(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource);
                             5398 ; 41   |
                             5399 ; 42   |#endif
                             5400 
                             5402 
                             5403 ; 24   |#include "syscoder.h"
                             5404 
                             5406 
                             5407 ; 1    |//;///////////////////////////////////////////////////////////////////////////////
                             5408 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2001
                             5409 ; 3    |//;
                             5410 ; 4    |//; Filename: syscoder.xref
                             5411 ; 5    |//; Description: Global refs from syscoder.asm
                             5412 ; 6    |//;///////////////////////////////////////////////////////////////////////////////
                             5413 ; 7    |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  89

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5414 ; 8    |#ifndef SYSCODER_XREF_C
                             5415 ; 9    |#define SYSCODER_XREF_C
                             5416 ; 10   |
                             5417 ; 11   |typedef struct {
                             5418 ; 12   |    WORD wMinutes;
                             5419 ; 13   |    WORD wSeconds;
                             5420 ; 14   |}SONGTIME;
                             5421 ; 15   |
                             5422 ; 16   |// Functions  
                             5423 ; 17   |extern _fract       _Y g_frSongSecondsPerByte;
                             5424 ; 18   |extern unsigned int _Y g_wSongCurrentMinutes;
                             5425 ; 19   |extern unsigned int _Y g_wSongCurrentSeconds;
                             5426 ; 20   |extern unsigned int _Y g_wSongTotalMinutes;
                             5427 ; 21   |extern unsigned int _Y g_wSongTotalSeconds;
                             5428 ; 22   |extern unsigned int _Y g_wSongRemainMinutes; 
                             5429 ; 23   |extern unsigned int _Y g_wSongRemainSeconds;
                             5430 ; 24   |extern unsigned int _Y g_wCurrentSongNumber;
                             5431 ; 25   |extern unsigned int _Y g_wTotalSongCount;
                             5432 ; 26   |
                             5433 ; 27   |extern unsigned int _Y g_wAccumulatedSecs;    // Added for mp3 VBR support.
                             5434 ; 28   |extern unsigned int _Y g_wAccumulatedMSecs;
                             5435 
                             5440 
                             5441 ; 29   |
                             5442 ; 30   |extern _asmfunc SONGTIME DecGetCurrentTime(void);
                             5443 ; 31   |extern _asmfunc DWORD DecGetSongPos(void);
                             5444 ; 32   |extern _asmfunc RETCODE DecSetSongPos(DWORD);
                             5445 ; 33   |extern _asmfunc void DecSetSongPosZero(void);
                             5446 ; 34   |extern _asmfunc void DecSetSongPosEnd(void);
                             5447 ; 35   |extern _asmfunc void DecClearSongTime(void);
                             5448 ; 36   |extern _asmfunc void SysSetDecoderResource(INT);
                             5449 ; 37   |
                             5450 ; 38   |#endif // SYSCODER_XREF
                             5451 ; 39   |
                             5452 ; 40   |
                             5453 ; 41   |
                             5454 ; 42   |
                             5455 
                             5457 
                             5458 ; 25   |#include "project.h"
                             5459 
                             5461 
                             5462 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             5463 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                             5464 ; 3    |//  Filename: project.inc
                             5465 ; 4    |//  Description: 
                             5466 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             5467 ; 6    |
                             5468 ; 7    |#if (!defined(_PROJECT_INC))
                             5469 ; 8    |#define _PROJECT_INC 1
                             5470 ; 9    |
                             5471 ; 10   |#if defined(STMP_BUILD_PLAYER)
                             5472 ; 11   |#include "hwequ.h"
                             5473 
                             5475 
                             5476 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             5477 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2001
                             5478 ; 3    |//  File        : hwequ.inc
                             5479 ; 4    |//  Description : STMP Hardware Constants
                             5480 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             5481 ; 6    |
                             5482 ; 7    |// ////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  90

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5483 ; 8    |// hwequ is being eliminated for SDK3XXX.  For SDK2.5XX it will now reside in the   
                             5484 ; 9    |// local folder instead of ..\inc.  All register includes are converted to .h by 
                             5485 ; 10   |// registers.mk placed in the ..\lcdexample\player\output_XXXX folder.
                             5486 ; 11   |// ////////////////////////////////////////////////////////////////////////////////
                             5487 ; 12   |
                             5488 ; 13   |#if (!defined(HWEQU_INC))
                             5489 ; 14   |#define HWEQU_INC 1
                             5490 ; 15   |
                             5491 ; 16   |#include "types.h"
                             5492 
                             5494 
                             5495 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             5496 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             5497 ; 3    |//
                             5498 ; 4    |// Filename: types.h
                             5499 ; 5    |// Description: Standard data types
                             5500 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             5501 ; 7    |
                             5502 ; 8    |#ifndef _TYPES_H
                             5503 ; 9    |#define _TYPES_H
                             5504 ; 10   |
                             5505 ; 11   |// TODO:  move this outta here!
                             5506 ; 12   |#if !defined(NOERROR)
                             5507 ; 13   |#define NOERROR 0
                             5508 ; 14   |#define SUCCESS 0
                             5509 ; 15   |#endif 
                             5510 ; 16   |#if !defined(SUCCESS)
                             5511 ; 17   |#define SUCCESS  0
                             5512 ; 18   |#endif
                             5513 ; 19   |#if !defined(ERROR)
                             5514 ; 20   |#define ERROR   -1
                             5515 ; 21   |#endif
                             5516 ; 22   |#if !defined(FALSE)
                             5517 ; 23   |#define FALSE 0
                             5518 ; 24   |#endif
                             5519 ; 25   |#if !defined(TRUE)
                             5520 ; 26   |#define TRUE  1
                             5521 ; 27   |#endif
                             5522 ; 28   |
                             5523 ; 29   |#if !defined(NULL)
                             5524 ; 30   |#define NULL 0
                             5525 ; 31   |#endif
                             5526 ; 32   |
                             5527 ; 33   |#define MAX_INT     0x7FFFFF
                             5528 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             5529 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             5530 ; 36   |#define MAX_ULONG   (-1) 
                             5531 ; 37   |
                             5532 ; 38   |#define WORD_SIZE   24              // word size in bits
                             5533 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             5534 ; 40   |
                             5535 ; 41   |
                             5536 ; 42   |#define BYTE    unsigned char       // btVarName
                             5537 ; 43   |#define CHAR    signed char         // cVarName
                             5538 ; 44   |#define USHORT  unsigned short      // usVarName
                             5539 ; 45   |#define SHORT   unsigned short      // sVarName
                             5540 ; 46   |#define WORD    unsigned int        // wVarName
                             5541 ; 47   |#define INT     signed int          // iVarName
                             5542 ; 48   |#define DWORD   unsigned long       // dwVarName
                             5543 ; 49   |#define LONG    signed long         // lVarName
                             5544 ; 50   |#define BOOL    unsigned int        // bVarName
                             5545 ; 51   |#define FRACT   _fract              // frVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  91

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5546 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             5547 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             5548 ; 54   |#define FLOAT   float               // fVarName
                             5549 ; 55   |#define DBL     double              // dVarName
                             5550 ; 56   |#define ENUM    enum                // eVarName
                             5551 ; 57   |#define CMX     _complex            // cmxVarName
                             5552 ; 58   |typedef WORD UCS3;                   // 
                             5553 ; 59   |
                             5554 ; 60   |#define UINT16  unsigned short
                             5555 ; 61   |#define UINT8   unsigned char   
                             5556 ; 62   |#define UINT32  unsigned long
                             5557 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             5558 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             5559 ; 65   |#define WCHAR   UINT16
                             5560 ; 66   |
                             5561 ; 67   |//UINT128 is 16 bytes or 6 words
                             5562 ; 68   |typedef struct UINT128_3500 {   
                             5563 ; 69   |    int val[6];     
                             5564 ; 70   |} UINT128_3500;
                             5565 ; 71   |
                             5566 ; 72   |#define UINT128   UINT128_3500
                             5567 ; 73   |
                             5568 ; 74   |// Little endian word packed byte strings:   
                             5569 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             5570 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             5571 ; 77   |// Little endian word packed byte strings:   
                             5572 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             5573 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             5574 ; 80   |
                             5575 ; 81   |// Declare Memory Spaces To Use When Coding
                             5576 ; 82   |// A. Sector Buffers
                             5577 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             5578 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             5579 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             5580 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             5581 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             5582 ; 88   |// B. Media DDI Memory
                             5583 ; 89   |#define MEDIA_DDI_MEM _Y
                             5584 ; 90   |
                             5585 ; 91   |
                             5586 ; 92   |
                             5587 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             5588 ; 94   |// Examples of circular pointers:
                             5589 ; 95   |//    INT CIRC cpiVarName
                             5590 ; 96   |//    DWORD CIRC cpdwVarName
                             5591 ; 97   |
                             5592 ; 98   |#define RETCODE INT                 // rcVarName
                             5593 ; 99   |
                             5594 ; 100  |// generic bitfield structure
                             5595 ; 101  |struct Bitfield {
                             5596 ; 102  |    unsigned int B0  :1;
                             5597 ; 103  |    unsigned int B1  :1;
                             5598 ; 104  |    unsigned int B2  :1;
                             5599 ; 105  |    unsigned int B3  :1;
                             5600 ; 106  |    unsigned int B4  :1;
                             5601 ; 107  |    unsigned int B5  :1;
                             5602 ; 108  |    unsigned int B6  :1;
                             5603 ; 109  |    unsigned int B7  :1;
                             5604 ; 110  |    unsigned int B8  :1;
                             5605 ; 111  |    unsigned int B9  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  92

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5606 ; 112  |    unsigned int B10 :1;
                             5607 ; 113  |    unsigned int B11 :1;
                             5608 ; 114  |    unsigned int B12 :1;
                             5609 ; 115  |    unsigned int B13 :1;
                             5610 ; 116  |    unsigned int B14 :1;
                             5611 ; 117  |    unsigned int B15 :1;
                             5612 ; 118  |    unsigned int B16 :1;
                             5613 ; 119  |    unsigned int B17 :1;
                             5614 ; 120  |    unsigned int B18 :1;
                             5615 ; 121  |    unsigned int B19 :1;
                             5616 ; 122  |    unsigned int B20 :1;
                             5617 ; 123  |    unsigned int B21 :1;
                             5618 ; 124  |    unsigned int B22 :1;
                             5619 ; 125  |    unsigned int B23 :1;
                             5620 ; 126  |};
                             5621 ; 127  |
                             5622 ; 128  |union BitInt {
                             5623 ; 129  |        struct Bitfield B;
                             5624 ; 130  |        int        I;
                             5625 ; 131  |};
                             5626 ; 132  |
                             5627 ; 133  |#define MAX_MSG_LENGTH 10
                             5628 ; 134  |struct CMessage
                             5629 ; 135  |{
                             5630 ; 136  |        unsigned int m_uLength;
                             5631 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             5632 ; 138  |};
                             5633 ; 139  |
                             5634 ; 140  |typedef struct {
                             5635 ; 141  |    WORD m_wLength;
                             5636 ; 142  |    WORD m_wMessage;
                             5637 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             5638 ; 144  |} Message;
                             5639 ; 145  |
                             5640 ; 146  |struct MessageQueueDescriptor
                             5641 ; 147  |{
                             5642 ; 148  |        int *m_pBase;
                             5643 ; 149  |        int m_iModulo;
                             5644 ; 150  |        int m_iSize;
                             5645 ; 151  |        int *m_pHead;
                             5646 ; 152  |        int *m_pTail;
                             5647 ; 153  |};
                             5648 ; 154  |
                             5649 ; 155  |struct ModuleEntry
                             5650 ; 156  |{
                             5651 ; 157  |    int m_iSignaledEventMask;
                             5652 ; 158  |    int m_iWaitEventMask;
                             5653 ; 159  |    int m_iResourceOfCode;
                             5654 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             5655 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             5656 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             5657 ; 163  |    int m_uTimeOutHigh;
                             5658 ; 164  |    int m_uTimeOutLow;
                             5659 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             5660 ; 166  |};
                             5661 ; 167  |
                             5662 ; 168  |union WaitMask{
                             5663 ; 169  |    struct B{
                             5664 ; 170  |        unsigned int m_bNone     :1;
                             5665 ; 171  |        unsigned int m_bMessage  :1;
                             5666 ; 172  |        unsigned int m_bTimer    :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  93

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5667 ; 173  |        unsigned int m_bButton   :1;
                             5668 ; 174  |    } B;
                             5669 ; 175  |    int I;
                             5670 ; 176  |} ;
                             5671 ; 177  |
                             5672 ; 178  |
                             5673 ; 179  |struct Button {
                             5674 ; 180  |        WORD wButtonEvent;
                             5675 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             5676 ; 182  |};
                             5677 ; 183  |
                             5678 ; 184  |struct Message {
                             5679 ; 185  |        WORD wMsgLength;
                             5680 ; 186  |        WORD wMsgCommand;
                             5681 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             5682 ; 188  |};
                             5683 ; 189  |
                             5684 ; 190  |union EventTypes {
                             5685 ; 191  |        struct CMessage msg;
                             5686 ; 192  |        struct Button Button ;
                             5687 ; 193  |        struct Message Message;
                             5688 ; 194  |};
                             5689 ; 195  |
                             5690 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             5691 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             5692 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             5693 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             5694 ; 200  |
                             5695 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             5696 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             5697 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             5698 ; 204  |
                             5699 ; 205  |#if DEBUG
                             5700 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             5701 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             5702 ; 208  |#else 
                             5703 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             5704 ; 210  |#define DebugBuildAssert(x)    
                             5705 ; 211  |#endif
                             5706 ; 212  |
                             5707 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             5708 ; 214  |//  #pragma asm
                             5709 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             5710 ; 216  |//  #pragma endasm
                             5711 ; 217  |
                             5712 ; 218  |
                             5713 ; 219  |#ifdef COLOR_262K
                             5714 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             5715 ; 221  |#elif defined(COLOR_65K)
                             5716 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             5717 ; 223  |#else
                             5718 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             5719 ; 225  |#endif
                             5720 ; 226  |    
                             5721 ; 227  |#endif // #ifndef _TYPES_H
                             5722 
                             5724 
                             5725 ; 17   |#include "regsclkctrl.h"
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  94

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5726 
                             5728 
                             5729 ; 1    |#if !(defined(__REGS_CLK_CONTROL_INC))
                             5730 ; 2    |#define __REGS_CLK_CONTROL_INC 1
                             5731 ; 3    |
                             5732 ; 4    |
                             5733 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             5734 ; 6    |//  Clock Control Register (HW_CCR) Bit Positions
                             5735 ; 7    |#define HW_CCR_CKRST_BITPOS 0
                             5736 ; 8    |#define HW_CCR_LTC_BITPOS 1
                             5737 ; 9    |#define HW_CCR_PLLEN_BITPOS 2
                             5738 ; 10   |#define HW_CCR_XTLEN_BITPOS 3
                             5739 ; 11   |#define HW_CCR_PLL_SOURCE_SEL_BITPOS 4
                             5740 ; 12   |#define HW_CCR_ADIV_B0_BITPOS 5
                             5741 ; 13   |#define HW_CCR_ADIV_B1_BITPOS 6
                             5742 ; 14   |#define HW_CCR_ADIV_B2_BITPOS 7
                             5743 ; 15   |#define HW_CCR_CKSRC_BITPOS 8
                             5744 ; 16   |#define HW_CCR_DDIV_BITPOS 9
                             5745 ; 17   |#define HW_CCR_DDIV_B0_BITPOS 9
                             5746 ; 18   |#define HW_CCR_DDIV_B1_BITPOS 10
                             5747 ; 19   |#define HW_CCR_DDIV_B2_BITPOS 11
                             5748 ; 20   |#define HW_CCR_PDIV_BITPOS 12
                             5749 ; 21   |#define HW_CCR_PDIV_B0_BITPOS 12
                             5750 ; 22   |#define HW_CCR_PDIV_B1_BITPOS 13
                             5751 ; 23   |#define HW_CCR_PDIV_B2_BITPOS 14
                             5752 ; 24   |#define HW_CCR_PDIV_B3_BITPOS 15
                             5753 ; 25   |#define HW_CCR_PDIV_B4_BITPOS 16
                             5754 ; 26   |#define HW_CCR_PWDN_BITPOS 17
                             5755 ; 27   |#define HW_CCR_ACKEN_BITPOS 18
                             5756 ; 28   |#define HW_CCR_LOCK_BITPOS 19
                             5757 ; 29   |#define HW_CCR_DACDIV_BITPOS 20
                             5758 ; 30   |#define HW_CCR_ADIV1_B0_BITPOS 20
                             5759 ; 31   |#define HW_CCR_ADIV1_B1_BITPOS 21
                             5760 ; 32   |#define HW_CCR_ADIV1_B2_BITPOS 22
                             5761 ; 33   |#define HW_CCR_DDIV_MSB_BITPOS 23
                             5762 ; 34   |
                             5763 ; 35   |#define HW_CCR_CKRST_SETMASK 1<<HW_CCR_CKRST_BITPOS
                             5764 ; 36   |#define HW_CCR_LTC_SETMASK 1<<HW_CCR_LTC_BITPOS
                             5765 ; 37   |#define HW_CCR_PLLEN_SETMASK 1<<HW_CCR_PLLEN_BITPOS
                             5766 ; 38   |#define HW_CCR_XTLEN_SETMASK 1<<HW_CCR_XTLEN_BITPOS
                             5767 ; 39   |#define HW_CCR_ADCDIV_SETMASK 0x7<<HW_CCR_ADIV_B0_BITPOS
                             5768 ; 40   |#define HW_CCR_CKSRC_SETMASK 1<<HW_CCR_CKSRC_BITPOS
                             5769 ; 41   |#define HW_CCR_DDIV_SETMASK 0x7<<HW_CCR_DDIV_BITPOS
                             5770 ; 42   |#define HW_CCR_PDIV_SETMASK 0x1F<<HW_CCR_PDIV_BITPOS
                             5771 ; 43   |#define HW_CCR_PWDN_SETMASK 1<<HW_CCR_PWDN_BITPOS
                             5772 ; 44   |#define HW_CCR_ACKEN_SETMASK 1<<HW_CCR_ACKEN_BITPOS
                             5773 ; 45   |#define HW_CCR_LOCK_SETMASK 1<<HW_CCR_LOCK_BITPOS
                             5774 ; 46   |#define HW_CCR_DACDIV_SETMASK 0x7<<HW_CCR_DACDIV_BITPOS
                             5775 ; 47   |
                             5776 ; 48   |#define HW_CCR_CKRST_CLRMASK ~(WORD)HW_CCR_CKRST_SETMASK
                             5777 ; 49   |#define HW_CCR_LTC_CLRMASK ~(WORD)HW_CCR_LTC_SETMASK
                             5778 ; 50   |#define HW_CCR_PLLEN_CLRMASK ~(WORD)HW_CCR_PLLEN_SETMASK
                             5779 ; 51   |#define HW_CCR_XTLEN_CLRMASK ~(WORD)HW_CCR_XTLEN_SETMASK
                             5780 ; 52   |#define HW_CCR_ADCDIV_CLRMASK ~(WORD)HW_CCR_ADCDIV_SETMASK
                             5781 ; 53   |#define HW_CCR_CKSRC_CLRMASK ~(WORD)HW_CCR_CKSRC_SETMASK
                             5782 ; 54   |#define HW_CCR_DDIV_CLRMASK ~(WORD)HW_CCR_DDIV_SETMASK
                             5783 ; 55   |#define HW_CCR_PDIV_CLRMASK ~(WORD)HW_CCR_PDIV_SETMASK
                             5784 ; 56   |#define HW_CCR_PWDN_CLRMASK ~(WORD)HW_CCR_PWDN_SETMASK
                             5785 ; 57   |#define HW_CCR_ACKEN_CLRMASK ~(WORD)HW_CCR_ACKEN_SETMASK
                             5786 ; 58   |#define HW_CCR_LOCK_CLRMASK ~(WORD)HW_CCR_LOCK_SETMASK
                             5787 ; 59   |#define HW_CCR_DACDIV_CLRMASK ~(WORD)HW_CCR_DACDIV_SETMASK
                             5788 ; 60   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  95

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5789 ; 61   |typedef union               
                             5790 ; 62   |{
                             5791 ; 63   |    struct
                             5792 ; 64   |    {
                             5793 ; 65   |        int CKRST       :1; // Clock Reset
                             5794 ; 66   |        int LTC         :1;
                             5795 ; 67   |        int PLLEN       :1;
                             5796 ; 68   |        int XTLEN       :1;
                             5797 ; 69   |        int FLB         :1;
                             5798 ; 70   |        unsigned ADIV   :3;
                             5799 ; 71   |        int CKSRC       :1;
                             5800 ; 72   |        unsigned DDIV   :3;
                             5801 ; 73   |        unsigned PDIV   :5;
                             5802 ; 74   |        int PWDN        :1;
                             5803 ; 75   |        int ACKEN       :1;
                             5804 ; 76   |        int LOCK        :1;
                             5805 ; 77   |        unsigned ADIV1  :3;
                             5806 ; 78   |        unsigned DDIV_MSB:1;
                             5807 ; 79   |    } B;
                             5808 ; 80   |
                             5809 ; 81   |    int I;
                             5810 ; 82   |    unsigned int U;
                             5811 ; 83   |
                             5812 ; 84   |} ccr_type;
                             5813 ; 85   |#define HW_CCR     (*(volatile ccr_type _X*) (0xFA00))
                             5814 ; 86   |
                             5815 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                             5816 ; 88   |//  Reset Control Register (HW_RCR) Bit Positions
                             5817 ; 89   |#define HW_RCR_STKLVL_BITPOS 0
                             5818 ; 90   |#define HW_RCR_SRST_BITPOS 4
                             5819 ; 91   |#define HW_RCR_IRQA_BITPOS 8
                             5820 ; 92   |#define HW_RCR_IRQB_BITPOS 9
                             5821 ; 93   |#define HW_RCR_NMI_BITPOS 10
                             5822 ; 94   |#define HW_RCR_SUNFLLVL_BITPOS 11
                             5823 ; 95   |#define HW_RCR_SUNFLEN_BITPOS 15
                             5824 ; 96   |#define HW_RCR_SOVFLLVL_BITPOS 16
                             5825 ; 97   |#define HW_RCR_SOVFLEN_BITPOS 20
                             5826 ; 98   |#define HW_RCR_IRQB2NMI_BITPOS 21
                             5827 ; 99   |#define HW_RCR_SUNFL_BITPOS 22
                             5828 ; 100  |#define HW_RCR_SOVFL_BITPOS 23
                             5829 ; 101  |
                             5830 ; 102  |#define HW_RCR_STKLVL_WIDTH (4)
                             5831 ; 103  |#define HW_RCR_SRST_WIDTH (4)
                             5832 ; 104  |#define HW_RCR_IRQA_WIDTH (1)
                             5833 ; 105  |#define HW_RCR_IRQB_WIDTH (1)
                             5834 ; 106  |#define HW_RCR_NMI_WIDTH (1)
                             5835 ; 107  |#define HW_RCR_SUNFLLVL_WIDTH (4)
                             5836 ; 108  |#define HW_RCR_SUNFLEN_WIDTH (1)
                             5837 ; 109  |#define HW_RCR_SOVFLLVL_WIDTH (4)
                             5838 ; 110  |#define HW_RCR_SOVFLEN_WIDTH (1)
                             5839 ; 111  |#define HW_RCR_IRQB2NMI_WIDTH (1)
                             5840 ; 112  |#define HW_RCR_SUNFL_WIDTH (1)
                             5841 ; 113  |#define HW_RCR_SOVFL_WIDTH (1)
                             5842 ; 114  |
                             5843 ; 115  |#define HW_RCR_STKLVL_SETMASK (((1<<HW_RCR_STKLVL_WIDTH)-1)<<HW_RCR_STKLVL_BITPOS)
                             5844 ; 116  |#define HW_RCR_SRST_SETMASK (((1<<HW_RCR_SRST_WIDTH)-1)<<HW_RCR_SRST_BITPOS)
                             5845 ; 117  |#define HW_RCR_IRQA_SETMASK (((1<<HW_RCR_IRQA_WIDTH)-1)<<HW_RCR_IRQA_BITPOS)
                             5846 ; 118  |#define HW_RCR_IRQB_SETMASK (((1<<HW_RCR_IRQB_WIDTH)-1)<<HW_RCR_IRQB_BITPOS)
                             5847 ; 119  |#define HW_RCR_NMI_SETMASK (((1<<HW_RCR_NMI_WIDTH)-1)<<HW_RCR_NMI_BITPOS)
                             5848 ; 120  |#define HW_RCR_SUNFLLVL_SETMASK (((1<<HW_RCR_SUNFLLVL_WIDTH)-1)<<HW_RCR_SUNFLLVL_BITPOS)
                             5849 ; 121  |#define HW_RCR_SUNFLEN_SETMASK (((1<<HW_RCR_SUNFLEN_WIDTH)-1)<<HW_RCR_SUNFLEN_BITPOS)
                             5850 ; 122  |#define HW_RCR_SOVFLLVL_SETMASK (((1<<HW_RCR_SOVFLLVL_WIDTH)-1)<<HW_RCR_SOVFLLVL_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  96

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5851 ; 123  |#define HW_RCR_SOVFLEN_SETMASK (((1<<HW_RCR_SOVFLEN_WIDTH)-1)<<HW_RCR_SOVFLEN_BITPOS)
                             5852 ; 124  |#define HW_RCR_IRQB2NMI_SETMASK (((1<<HW_RCR_IRQB2NMI_WIDTH)-1)<<HW_RCR_IRQB2NMI_BITPOS)
                             5853 ; 125  |#define HW_RCR_SUNFL_SETMASK (((1<<HW_RCR_SUNFL_WIDTH)-1)<<HW_RCR_SUNFL_BITPOS)
                             5854 ; 126  |#define HW_RCR_SOVFL_SETMASK (((1<<HW_RCR_SOVFL_WIDTH)-1)<<HW_RCR_SOVFL_BITPOS)
                             5855 ; 127  |
                             5856 ; 128  |#define HW_RCR_STKLVL_CLRMASK ~(WORD)HW_RCR_STKLVL_SETMASK
                             5857 ; 129  |#define HW_RCR_SRST_CLRMASK ~(WORD)HW_RCR_SRST_SETMASK
                             5858 ; 130  |#define HW_RCR_IRQA_CLRMASK ~(WORD)HW_RCR_IRQA_SETMASK
                             5859 ; 131  |#define HW_RCR_IRQB_CLRMASK ~(WORD)HW_RCR_IRQB_SETMASK
                             5860 ; 132  |#define HW_RCR_NMI_CLRMASK ~(WORD)HW_RCR_NMI_SETMASK
                             5861 ; 133  |#define HW_RCR_SUNFLLVL_CLRMASK ~(WORD)HW_RCR_SUNFLLVL_SETMASK
                             5862 ; 134  |#define HW_RCR_SUNFLEN_CLRMASK ~(WORD)HW_RCR_SUNFLEN_SETMASK
                             5863 ; 135  |#define HW_RCR_SOVFLLVL_CLRMASK ~(WORD)HW_RCR_SOVFLLVL_SETMASK
                             5864 ; 136  |#define HW_RCR_SOVFLEN_CLRMASK ~(WORD)HW_RCR_SOVFLEN_SETMASK
                             5865 ; 137  |#define HW_RCR_IRQB2NMI_CLRMASK ~(WORD)HW_RCR_IRQB2NMI_SETMASK
                             5866 ; 138  |#define HW_RCR_SUNFL_CLRMASK ~(WORD)HW_RCR_SUNFL_SETMASK
                             5867 ; 139  |#define HW_RCR_SOVFL_CLRMASK ~(WORD)HW_RCR_SOVFL_SETMASK
                             5868 ; 140  |
                             5869 ; 141  |typedef union               
                             5870 ; 142  |{
                             5871 ; 143  |    struct
                             5872 ; 144  |   {
                             5873 ; 145  |        int STKLVL   : HW_RCR_STKLVL_WIDTH;
                             5874 ; 146  |        int SRST     : HW_RCR_SRST_WIDTH;
                             5875 ; 147  |        int IRQA     : HW_RCR_IRQA_WIDTH;
                             5876 ; 148  |        int IRQB     : HW_RCR_IRQB_WIDTH;
                             5877 ; 149  |        int NMI      : HW_RCR_NMI_WIDTH;
                             5878 ; 150  |        int SUNFLLVL : HW_RCR_SUNFLLVL_WIDTH;
                             5879 ; 151  |        int SUNFLEN  : HW_RCR_SUNFLEN_WIDTH;
                             5880 ; 152  |        int SOVFLLVL : HW_RCR_SOVFLLVL_WIDTH;
                             5881 ; 153  |        int SOVFLEN  : HW_RCR_SOVFLEN_WIDTH;
                             5882 ; 154  |        int IRQB2NMI : HW_RCR_IRQB2NMI_WIDTH;
                             5883 ; 155  |        int SUNFL    : HW_RCR_SUNFL_WIDTH;
                             5884 ; 156  |        int SOVFL    : HW_RCR_SOVFL_WIDTH;
                             5885 ; 157  |    } B;
                             5886 ; 158  |
                             5887 ; 159  |    int I;
                             5888 ; 160  |    unsigned int U;
                             5889 ; 161  |
                             5890 ; 162  |} rcr_type;
                             5891 ; 163  |#define HW_RCR     (*(volatile rcr_type _X*) (0xFA01))
                             5892 ; 164  |
                             5893 ; 165  |
                             5894 ; 166  |/////////////////////////////////////////////////////////////////////////////////
                             5895 ; 167  |//  DCLK Count Lower register (HW_DCLKCNTL) Bit Positions
                             5896 ; 168  |#define HW_DCLKCNTL_LOW_BITPOS 0
                             5897 ; 169  |
                             5898 ; 170  |#define HW_DCLKCNTL_LOW_WIDTH (24)        
                             5899 ; 171  |
                             5900 ; 172  |#define HW_DCLKCNTL_LOW_SETMASK (((1<<HW_DCLKCNTL_LOW_WIDTH)-1)<<HW_DCLKCNTL_LOW_BITPOS) 
                             5901 ; 173  |#define HW_DCLKCNTL_LOW_CLRMASK ~(WORD)HW_DCLKCNTL_LOW_SETMASK
                             5902 ; 174  |typedef union               
                             5903 ; 175  |{
                             5904 ; 176  |    struct
                             5905 ; 177  |   {
                             5906 ; 178  |        int LOW;
                             5907 ; 179  |    } B;
                             5908 ; 180  |
                             5909 ; 181  |    int I;
                             5910 ; 182  |    unsigned int U;
                             5911 ; 183  |
                             5912 ; 184  |} dclkcntl_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  97

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5913 ; 185  |#define HW_DCLKCNTL (*(volatile dclkcntl_type _X*) (0xFFEA))
                             5914 ; 186  |
                             5915 ; 187  |/////////////////////////////////////////////////////////////////////////////////
                             5916 ; 188  |//  DCLK Count UPPER register (HW_DCLKCNTU) Bit Positions
                             5917 ; 189  |#define HW_DCLKCNTU_HIGH_BITPOS 0
                             5918 ; 190  |
                             5919 ; 191  |#define HW_DCLKCNTU_HIGH_WIDTH (24)        
                             5920 ; 192  |
                             5921 ; 193  |#define HW_DCLKCNTU_HIGH_SETMASK (((1<<HW_DCLKCNTU_HIGH_WIDTH)-1)<<HW_DCLKCNTU_HIGH_BITPOS
                                  ) 
                             5922 ; 194  |#define HW_DCLKCNTU_HIGH_CLRMASK ~(WORD)HW_DCLKCNTU_HIGH_SETMASK
                             5923 ; 195  |typedef union               
                             5924 ; 196  |{
                             5925 ; 197  |    struct
                             5926 ; 198  |   {
                             5927 ; 199  |        int HIGH;
                             5928 ; 200  |    } B;
                             5929 ; 201  |
                             5930 ; 202  |    int I;
                             5931 ; 203  |    unsigned int U;
                             5932 ; 204  |
                             5933 ; 205  |} dclkcntu_type;
                             5934 ; 206  |#define HW_DCLKCNTU (*(volatile dclkcntu_type _X*) (0xFFEB))
                             5935 ; 207  |
                             5936 ; 208  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                             5937 ; 209  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                             5938 ; 210  |// to update the actual files. Only the defines needed to build SDK2.400 were added. 
                             5939 ; 211  |
                             5940 ; 212  |// Clock count register (lower)
                             5941 ; 213  |#define HW_CLK_CNT_L 0x00FFEA         
                             5942 ; 214  |// Clock count register (upper)
                             5943 ; 215  |#define HW_CLK_CNT_U 0x00FFEB         
                             5944 ; 216  |// Cycle steal count register
                             5945 ; 217  |#define HW_CYC_STEAL 0x00FFEC         
                             5946 ; 218  |
                             5947 ; 219  |#endif
                             5948 ; 220  |
                             5949 ; 221  |
                             5950 
                             5952 
                             5953 ; 18   |#include "regscore.h"
                             5954 
                             5956 
                             5957 ; 1    |#if !(defined(__REGS_STATUS_INC))
                             5958 ; 2    |#define __REGS_STATUS_INC 1
                             5959 ; 3    |
                             5960 ; 4    |
                             5961 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             5962 ; 6    |//  OMR Register (HW_OMR) Bit Positions
                             5963 ; 7    |#define HW_OMR_MA_BITPOS 0
                             5964 ; 8    |#define HW_OMR_MB_BITPOS 1
                             5965 ; 9    |#define HW_OMR_DE_BITPOS 2
                             5966 ; 10   |#define HW_OMR_YE_BITPOS 3
                             5967 ; 11   |#define HW_OMR_MC_BITPOS 4
                             5968 ; 12   |#define HW_OMR_SD_BITPOS 6
                             5969 ; 13   |
                             5970 ; 14   |#define HW_OMR_MA_SETMASK 1<<HW_OMR_MA_BITPOS
                             5971 ; 15   |#define HW_OMR_MB_SETMASK 1<<HW_OMR_MB_BITPOS
                             5972 ; 16   |#define HW_OMR_DE_SETMASK 1<<HW_OMR_DE_BITPOS
                             5973 ; 17   |#define HW_OMR_YE_SETMASK 1<<HW_OMR_YE_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  98

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5974 ; 18   |#define HW_OMR_MC_SETMASK 1<<HW_OMR_MC_BITPOS
                             5975 ; 19   |#define HW_OMR_SD_SETMASK 1<<HW_OMR_SD_BITPOS
                             5976 ; 20   |
                             5977 ; 21   |#define HW_OMR_MA_CLRMASK ~(WORD)HW_OMR_MA_SETMASK
                             5978 ; 22   |#define HW_OMR_MB_CLRMASK ~(WORD)HW_OMR_MB_SETMASK
                             5979 ; 23   |#define HW_OMR_DE_CLRMASK ~(WORD)HW_OMR_DE_SETMASK
                             5980 ; 24   |#define HW_OMR_YE_CLRMASK ~(WORD)HW_OMR_YE_SETMASK
                             5981 ; 25   |#define HW_OMR_MC_CLRMASK ~(WORD)HW_OMR_MC_SETMASK
                             5982 ; 26   |#define HW_OMR_SD_CLRMASK ~(WORD)HW_OMR_SD_SETMASK
                             5983 ; 27   |
                             5984 ; 28   |
                             5985 ; 29   |/////////////////////////////////////////////////////////////////////////////////
                             5986 ; 30   |//  Status Register (HW_SR) Bit Positions
                             5987 ; 31   |#define HW_SR_C_BITPOS 0
                             5988 ; 32   |#define HW_SR_O_BITPOS 1
                             5989 ; 33   |#define HW_SR_Z_BITPOS 2
                             5990 ; 34   |#define HW_SR_N_BITPOS 3
                             5991 ; 35   |#define HW_SR_U_BITPOS 4
                             5992 ; 36   |#define HW_SR_E_BITPOS 5
                             5993 ; 37   |#define HW_SR_L_BITPOS 6
                             5994 ; 38   |#define HW_SR_IM_BITPOS 8
                             5995 ; 39   |#define HW_SR_IM0_BITPOS 8
                             5996 ; 40   |#define HW_SR_IM1_BITPOS 9
                             5997 ; 41   |#define HW_SR_SM_BITPOS 10
                             5998 ; 42   |#define HW_SR_SM0_BITPOS 10
                             5999 ; 43   |#define HW_SR_SM1_BITPOS 11
                             6000 ; 44   |#define HW_SR_TM_BITPOS 13
                             6001 ; 45   |#define HW_SR_DP_BITPOS 14
                             6002 ; 46   |#define HW_SR_LOOP_BITPOS 15
                             6003 ; 47   |
                             6004 ; 48   |#define HW_SR_C_SETMASK 1<<HW_SR_C_BITPOS
                             6005 ; 49   |#define HW_SR_O_SETMASK 1<<HW_SR_O_BITPOS
                             6006 ; 50   |#define HW_SR_Z_SETMASK 1<<HW_SR_Z_BITPOS
                             6007 ; 51   |#define HW_SR_N_SETMASK 1<<HW_SR_N_BITPOS
                             6008 ; 52   |#define HW_SR_U_SETMASK 1<<HW_SR_U_BITPOS
                             6009 ; 53   |#define HW_SR_E_SETMASK 1<<HW_SR_E_BITPOS
                             6010 ; 54   |#define HW_SR_L_SETMASK 1<<HW_SR_L_BITPOS
                             6011 ; 55   |#define HW_SR_IM_SETMASK 3<<HW_SR_IM_BITPOS
                             6012 ; 56   |#define HW_SR_IM0_SETMASK 1<<HW_SR_IM0_BITPOS
                             6013 ; 57   |#define HW_SR_IM1_SETMASK 1<<HW_SR_IM1_BITPOS
                             6014 ; 58   |#define HW_SR_IM_L0_SETMASK 0<<HW_SR_IM_BITPOS
                             6015 ; 59   |#define HW_SR_IM_L1_SETMASK 1<<HW_SR_IM_BITPOS
                             6016 ; 60   |#define HW_SR_IM_L2_SETMASK 2<<HW_SR_IM_BITPOS
                             6017 ; 61   |#define HW_SR_IM_L3_SETMASK 3<<HW_SR_IM_BITPOS
                             6018 ; 62   |#define HW_SR_SM_SETMASK 3<<HW_SR_SM_BITPOS
                             6019 ; 63   |#define HW_SR_SM0_SETMASK 1<<HW_SR_SM0_BITPOS
                             6020 ; 64   |#define HW_SR_SM1_SETMASK 1<<HW_SR_SM1_BITPOS
                             6021 ; 65   |#define HW_SR_TM_SETMASK 1<<HW_SR_TM_BITPOS
                             6022 ; 66   |#define HW_SR_DP_SETMASK 1<<HW_SR_DP_BITPOS
                             6023 ; 67   |#define HW_SR_LOOP_SETMASK 1<<HW_SR_LOOP_BITPOS
                             6024 ; 68   |
                             6025 ; 69   |#define HW_SR_C_CLRMASK ~(WORD)HW_SR_C_SETMASK
                             6026 ; 70   |#define HW_SR_O_CLRMASK ~(WORD)HW_SR_O_SETMASK
                             6027 ; 71   |#define HW_SR_Z_CLRMASK ~(WORD)HW_SR_Z_SETMASK
                             6028 ; 72   |#define HW_SR_N_CLRMASK ~(WORD)HW_SR_N_SETMASK
                             6029 ; 73   |#define HW_SR_U_CLRMASK ~(WORD)HW_SR_U_SETMASK
                             6030 ; 74   |#define HW_SR_E_CLRMASK ~(WORD)HW_SR_E_SETMASK
                             6031 ; 75   |#define HW_SR_L_CLRMASK ~(WORD)HW_SR_L_SETMASK
                             6032 ; 76   |#define HW_SR_IM_CLRMASK (0x00FFFF)&(~(WORD)HW_SR_IM_SETMASK)
                             6033 ; 77   |#define HW_SR_IM0_CLRMASK ~(WORD)HW_SR_IM0_SETMASK
                             6034 ; 78   |#define HW_SR_IM1_CLRMASK ~(WORD)HW_SR_IM1_SETMASK
                             6035 ; 79   |#define HW_SR_SM_CLRMASK ~(WORD)HW_SR_SM_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  99

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6036 ; 80   |#define HW_SR_SM0_CLRMASK ~(WORD)HW_SR_SM0_SETMASK
                             6037 ; 81   |#define HW_SR_SM1_CLRMASK ~(WORD)HW_SR_SM1_SETMASK
                             6038 ; 82   |#define HW_SR_TM_CLRMASK ~(WORD)HW_SR_TM_SETMASK
                             6039 ; 83   |#define HW_SR_DP_CLRMASK ~(WORD)HW_SR_DP_SETMASK
                             6040 ; 84   |#define HW_SR_LOOP_CLRMASK ~(WORD)HW_SR_LOOP_SETMASK
                             6041 ; 85   |
                             6042 ; 86   |/////////////////////////////////////////////////////////////////////////////////
                             6043 ; 87   |//  RAM/ROM Config Register Bit Positions
                             6044 ; 88   |#define HW_RAM_ROM_CFG_ROM_IMAGE_EN_BITPOS 18
                             6045 ; 89   |#define HW_RAM_ROM_CFG_ROM_CLK_EN_BITPOS 19
                             6046 ; 90   |#define HW_RAM_ROM_CFG_PXRAM_CLK_EN_BITPOS 20
                             6047 ; 91   |#define HW_RAM_ROM_CFG_PYRAM_CLK_EN_BITPOS 21
                             6048 ; 92   |#endif
                             6049 ; 93   |
                             6050 ; 94   |
                             6051 
                             6053 
                             6054 ; 19   |#include "regscodec.h"
                             6055 
                             6057 
                             6058 ; 1    |#if !(defined(regscodecinc))
                             6059 ; 2    |#define regscodecinc 1
                             6060 ; 3    |
                             6061 ; 4    |
                             6062 ; 5    |
                             6063 ; 6    |#include "types.h"
                             6064 
                             6066 
                             6067 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             6068 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             6069 ; 3    |//
                             6070 ; 4    |// Filename: types.h
                             6071 ; 5    |// Description: Standard data types
                             6072 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             6073 ; 7    |
                             6074 ; 8    |#ifndef _TYPES_H
                             6075 ; 9    |#define _TYPES_H
                             6076 ; 10   |
                             6077 ; 11   |// TODO:  move this outta here!
                             6078 ; 12   |#if !defined(NOERROR)
                             6079 ; 13   |#define NOERROR 0
                             6080 ; 14   |#define SUCCESS 0
                             6081 ; 15   |#endif 
                             6082 ; 16   |#if !defined(SUCCESS)
                             6083 ; 17   |#define SUCCESS  0
                             6084 ; 18   |#endif
                             6085 ; 19   |#if !defined(ERROR)
                             6086 ; 20   |#define ERROR   -1
                             6087 ; 21   |#endif
                             6088 ; 22   |#if !defined(FALSE)
                             6089 ; 23   |#define FALSE 0
                             6090 ; 24   |#endif
                             6091 ; 25   |#if !defined(TRUE)
                             6092 ; 26   |#define TRUE  1
                             6093 ; 27   |#endif
                             6094 ; 28   |
                             6095 ; 29   |#if !defined(NULL)
                             6096 ; 30   |#define NULL 0
                             6097 ; 31   |#endif
                             6098 ; 32   |
                             6099 ; 33   |#define MAX_INT     0x7FFFFF
                             6100 ; 34   |#define MAX_LONG    0x7FFFFFffffff
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 100

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6101 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             6102 ; 36   |#define MAX_ULONG   (-1) 
                             6103 ; 37   |
                             6104 ; 38   |#define WORD_SIZE   24              // word size in bits
                             6105 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             6106 ; 40   |
                             6107 ; 41   |
                             6108 ; 42   |#define BYTE    unsigned char       // btVarName
                             6109 ; 43   |#define CHAR    signed char         // cVarName
                             6110 ; 44   |#define USHORT  unsigned short      // usVarName
                             6111 ; 45   |#define SHORT   unsigned short      // sVarName
                             6112 ; 46   |#define WORD    unsigned int        // wVarName
                             6113 ; 47   |#define INT     signed int          // iVarName
                             6114 ; 48   |#define DWORD   unsigned long       // dwVarName
                             6115 ; 49   |#define LONG    signed long         // lVarName
                             6116 ; 50   |#define BOOL    unsigned int        // bVarName
                             6117 ; 51   |#define FRACT   _fract              // frVarName
                             6118 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             6119 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             6120 ; 54   |#define FLOAT   float               // fVarName
                             6121 ; 55   |#define DBL     double              // dVarName
                             6122 ; 56   |#define ENUM    enum                // eVarName
                             6123 ; 57   |#define CMX     _complex            // cmxVarName
                             6124 ; 58   |typedef WORD UCS3;                   // 
                             6125 ; 59   |
                             6126 ; 60   |#define UINT16  unsigned short
                             6127 ; 61   |#define UINT8   unsigned char   
                             6128 ; 62   |#define UINT32  unsigned long
                             6129 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             6130 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             6131 ; 65   |#define WCHAR   UINT16
                             6132 ; 66   |
                             6133 ; 67   |//UINT128 is 16 bytes or 6 words
                             6134 ; 68   |typedef struct UINT128_3500 {   
                             6135 ; 69   |    int val[6];     
                             6136 ; 70   |} UINT128_3500;
                             6137 ; 71   |
                             6138 ; 72   |#define UINT128   UINT128_3500
                             6139 ; 73   |
                             6140 ; 74   |// Little endian word packed byte strings:   
                             6141 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             6142 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             6143 ; 77   |// Little endian word packed byte strings:   
                             6144 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             6145 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             6146 ; 80   |
                             6147 ; 81   |// Declare Memory Spaces To Use When Coding
                             6148 ; 82   |// A. Sector Buffers
                             6149 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             6150 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             6151 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             6152 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             6153 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             6154 ; 88   |// B. Media DDI Memory
                             6155 ; 89   |#define MEDIA_DDI_MEM _Y
                             6156 ; 90   |
                             6157 ; 91   |
                             6158 ; 92   |
                             6159 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             6160 ; 94   |// Examples of circular pointers:
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 101

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6161 ; 95   |//    INT CIRC cpiVarName
                             6162 ; 96   |//    DWORD CIRC cpdwVarName
                             6163 ; 97   |
                             6164 ; 98   |#define RETCODE INT                 // rcVarName
                             6165 ; 99   |
                             6166 ; 100  |// generic bitfield structure
                             6167 ; 101  |struct Bitfield {
                             6168 ; 102  |    unsigned int B0  :1;
                             6169 ; 103  |    unsigned int B1  :1;
                             6170 ; 104  |    unsigned int B2  :1;
                             6171 ; 105  |    unsigned int B3  :1;
                             6172 ; 106  |    unsigned int B4  :1;
                             6173 ; 107  |    unsigned int B5  :1;
                             6174 ; 108  |    unsigned int B6  :1;
                             6175 ; 109  |    unsigned int B7  :1;
                             6176 ; 110  |    unsigned int B8  :1;
                             6177 ; 111  |    unsigned int B9  :1;
                             6178 ; 112  |    unsigned int B10 :1;
                             6179 ; 113  |    unsigned int B11 :1;
                             6180 ; 114  |    unsigned int B12 :1;
                             6181 ; 115  |    unsigned int B13 :1;
                             6182 ; 116  |    unsigned int B14 :1;
                             6183 ; 117  |    unsigned int B15 :1;
                             6184 ; 118  |    unsigned int B16 :1;
                             6185 ; 119  |    unsigned int B17 :1;
                             6186 ; 120  |    unsigned int B18 :1;
                             6187 ; 121  |    unsigned int B19 :1;
                             6188 ; 122  |    unsigned int B20 :1;
                             6189 ; 123  |    unsigned int B21 :1;
                             6190 ; 124  |    unsigned int B22 :1;
                             6191 ; 125  |    unsigned int B23 :1;
                             6192 ; 126  |};
                             6193 ; 127  |
                             6194 ; 128  |union BitInt {
                             6195 ; 129  |        struct Bitfield B;
                             6196 ; 130  |        int        I;
                             6197 ; 131  |};
                             6198 ; 132  |
                             6199 ; 133  |#define MAX_MSG_LENGTH 10
                             6200 ; 134  |struct CMessage
                             6201 ; 135  |{
                             6202 ; 136  |        unsigned int m_uLength;
                             6203 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             6204 ; 138  |};
                             6205 ; 139  |
                             6206 ; 140  |typedef struct {
                             6207 ; 141  |    WORD m_wLength;
                             6208 ; 142  |    WORD m_wMessage;
                             6209 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             6210 ; 144  |} Message;
                             6211 ; 145  |
                             6212 ; 146  |struct MessageQueueDescriptor
                             6213 ; 147  |{
                             6214 ; 148  |        int *m_pBase;
                             6215 ; 149  |        int m_iModulo;
                             6216 ; 150  |        int m_iSize;
                             6217 ; 151  |        int *m_pHead;
                             6218 ; 152  |        int *m_pTail;
                             6219 ; 153  |};
                             6220 ; 154  |
                             6221 ; 155  |struct ModuleEntry
                             6222 ; 156  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 102

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6223 ; 157  |    int m_iSignaledEventMask;
                             6224 ; 158  |    int m_iWaitEventMask;
                             6225 ; 159  |    int m_iResourceOfCode;
                             6226 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             6227 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             6228 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             6229 ; 163  |    int m_uTimeOutHigh;
                             6230 ; 164  |    int m_uTimeOutLow;
                             6231 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             6232 ; 166  |};
                             6233 ; 167  |
                             6234 ; 168  |union WaitMask{
                             6235 ; 169  |    struct B{
                             6236 ; 170  |        unsigned int m_bNone     :1;
                             6237 ; 171  |        unsigned int m_bMessage  :1;
                             6238 ; 172  |        unsigned int m_bTimer    :1;
                             6239 ; 173  |        unsigned int m_bButton   :1;
                             6240 ; 174  |    } B;
                             6241 ; 175  |    int I;
                             6242 ; 176  |} ;
                             6243 ; 177  |
                             6244 ; 178  |
                             6245 ; 179  |struct Button {
                             6246 ; 180  |        WORD wButtonEvent;
                             6247 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             6248 ; 182  |};
                             6249 ; 183  |
                             6250 ; 184  |struct Message {
                             6251 ; 185  |        WORD wMsgLength;
                             6252 ; 186  |        WORD wMsgCommand;
                             6253 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             6254 ; 188  |};
                             6255 ; 189  |
                             6256 ; 190  |union EventTypes {
                             6257 ; 191  |        struct CMessage msg;
                             6258 ; 192  |        struct Button Button ;
                             6259 ; 193  |        struct Message Message;
                             6260 ; 194  |};
                             6261 ; 195  |
                             6262 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             6263 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             6264 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             6265 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             6266 ; 200  |
                             6267 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             6268 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             6269 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             6270 ; 204  |
                             6271 ; 205  |#if DEBUG
                             6272 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             6273 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             6274 ; 208  |#else 
                             6275 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             6276 ; 210  |#define DebugBuildAssert(x)    
                             6277 ; 211  |#endif
                             6278 ; 212  |
                             6279 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             6280 ; 214  |//  #pragma asm
                             6281 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             6282 ; 216  |//  #pragma endasm
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 103

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6283 ; 217  |
                             6284 ; 218  |
                             6285 ; 219  |#ifdef COLOR_262K
                             6286 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             6287 ; 221  |#elif defined(COLOR_65K)
                             6288 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             6289 ; 223  |#else
                             6290 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             6291 ; 225  |#endif
                             6292 ; 226  |    
                             6293 ; 227  |#endif // #ifndef _TYPES_H
                             6294 
                             6296 
                             6297 ; 7    |
                             6298 ; 8    |
                             6299 ; 9    |
                             6300 ; 10   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             6301 ; 11   |
                             6302 ; 12   |//   SYSTEM STMP Registers 
                             6303 ; 13   |//      Last Edited 7.17.2003 M. Henson
                             6304 ; 14   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             6305 ; 15   |
                             6306 ; 16   |#define HW_CODEC_BASEADDR (0xFA00)
                             6307 ; 17   |
                             6308 ; 18   |
                             6309 ; 19   |
                             6310 ; 20   |
                             6311 ; 21   |
                             6312 ; 22   |
                             6313 ; 23   |/////////////////////////////////////////////////////////////////////////////////
                             6314 ; 24   |//   Headphone Control Register (HW_HPCTRL) Bit Definitions
                             6315 ; 25   |#define HW_HPCTRL_TESTIALL_BITPOS 0
                             6316 ; 26   |#define HW_HPCTRL_TESTI1_BITPOS 2
                             6317 ; 27   |#define HW_HPCTRL_POP0_BITPOS 4
                             6318 ; 28   |#define HW_HPCTRL_POP1_BITPOS 5
                             6319 ; 29   |#define HW_HPCTRL_POP2_BITPOS 6
                             6320 ; 30   |#define HW_HPCTRL_RSVD0_BITPOS 7
                             6321 ; 31   |#define HW_HPCTRL_HPPWD_BITPOS 8
                             6322 ; 32   |#define HW_HPCTRL_HPCLASSAB_BITPOS 9
                             6323 ; 33   |#define HW_HPCTRL_CAPLESS_BITPOS 10
                             6324 ; 34   |#define HW_HPCTRL_RSRVD1_BITPOS 11
                             6325 ; 35   |#define HW_HPCTRL_SHORTMODE_LR_BITPOS 12
                             6326 ; 36   |#define HW_HPCTRL_SHORTMODE_CM_BITPOS 14
                             6327 ; 37   |#define HW_HPCTRL_SHORT_LVLADJ_BITPOS 16
                             6328 ; 38   |#define HW_HPCTRL_RSRVD2_BITPOS 19
                             6329 ; 39   |#define HW_HPCTRL_CHOP_CLK_BITPOS 20
                             6330 ; 40   |#define HW_HPCTRL_SHORT_LR_BITPOS 22
                             6331 ; 41   |#define HW_HPCTRL_SHORT_CM_BITPOS 23
                             6332 ; 42   |
                             6333 ; 43   |#define HW_HPCTRL_TESTIALL_WIDTH 2
                             6334 ; 44   |#define HW_HPCTRL_TESTI1_WIDTH 2
                             6335 ; 45   |#define HW_HPCTRL_POP0_WIDTH 1
                             6336 ; 46   |#define HW_HPCTRL_POP1_WIDTH 1
                             6337 ; 47   |#define HW_HPCTRL_POP2_WIDTH 1
                             6338 ; 48   |#define HW_HPCTRL_RSVD0_WIDTH 1
                             6339 ; 49   |#define HW_HPCTRL_HPPWD_WIDTH 1
                             6340 ; 50   |#define HW_HPCTRL_HPCLASSAB_WIDTH 1
                             6341 ; 51   |#define HW_HPCTRL_CAPLESS_WIDTH 1
                             6342 ; 52   |#define HW_HPCTRL_RSRVD1_WIDTH 1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 104

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6343 ; 53   |#define HW_HPCTRL_SHORTMODE_LR_WIDTH 2
                             6344 ; 54   |#define HW_HPCTRL_SHORTMODE_CM_WIDTH 2
                             6345 ; 55   |#define HW_HPCTRL_SHORT_LVLADJ_WIDTH 3
                             6346 ; 56   |#define HW_HPCTRL_RSRVD2_WIDTH 1
                             6347 ; 57   |#define HW_HPCTRL_CHOP_CLK_WIDTH 2
                             6348 ; 58   |#define HW_HPCTRL_SHORT_LR_WIDTH 1
                             6349 ; 59   |#define HW_HPCTRL_SHORT_CM_WIDTH 1
                             6350 ; 60   |
                             6351 ; 61   |#define HW_HPCTRL_POP_SETMASK 0x7<<HW_HPCTRL_POP0_BITPOS
                             6352 ; 62   |#define HW_HPCTRL_POP_CLRMASK ~(WORD)HW_HPCTRL_POP_SETMASK
                             6353 ; 63   |
                             6354 ; 64   |#define HW_HPCTRL_SHORT_LVLADJ_0_25X_SETMASK 0x3<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             6355 ; 65   |#define HW_HPCTRL_SHORT_LVLADJ_0_50X_SETMASK 0x2<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             6356 ; 66   |#define HW_HPCTRL_SHORT_LVLADJ_0_75X_SETMASK 0x1<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             6357 ; 67   |#define HW_HPCTRL_SHORT_LVLADJ_1_00X_SETMASK 0x0<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             6358 ; 68   |#define HW_HPCTRL_SHORT_LVLADJ_1_25X_SETMASK 0x4<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             6359 ; 69   |#define HW_HPCTRL_SHORT_LVLADJ_1_50X_SETMASK 0x5<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             6360 ; 70   |#define HW_HPCTRL_SHORT_LVLADJ_1_75X_SETMASK 0x6<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             6361 ; 71   |#define HW_HPCTRL_SHORT_LVLADJ_2_00X_SETMASK 0x7<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             6362 ; 72   |
                             6363 ; 73   |#if defined(CAPLESS_HP)
                             6364 ; 74   |#define HP_SHORT_TRIP_POINT HW_HPCTRL_SHORT_LVLADJ_0_75X_SETMASK
                             6365 ; 75   |#else 
                             6366 ; 76   |#define HP_SHORT_TRIP_POINT HW_HPCTRL_SHORT_LVLADJ_1_00X_SETMASK
                             6367 ; 77   |#endif
                             6368 ; 78   |
                             6369 ; 79   |// Headphone control register
                             6370 ; 80   |#define HW_HPCTRL (*(volatile hpctrl_type _X*)(HW_GLUE_BASEADDR+21))
                             6371 ; 81   |/////////////////////////////////////////////////////////////////////////////////
                             6372 ; 82   |//   Headphone Conrol Volume Register (HW_HPCTRL) Bit Definitions
                             6373 ; 83   |typedef union               
                             6374 ; 84   |{
                             6375 ; 85   |    struct {
                             6376 ; 86   |        unsigned TESTIALL :HW_HPCTRL_TESTIALL_WIDTH;
                             6377 ; 87   |        unsigned TESTI1 :HW_HPCTRL_TESTI1_WIDTH;
                             6378 ; 88   |        unsigned POP0 :HW_HPCTRL_POP0_WIDTH; 
                             6379 ; 89   |        unsigned POP1 :HW_HPCTRL_POP1_WIDTH; 
                             6380 ; 90   |        unsigned POP2 :HW_HPCTRL_POP2_WIDTH; 
                             6381 ; 91   |        unsigned RSVD0 :HW_HPCTRL_RSVD0_WIDTH;
                             6382 ; 92   |        unsigned HPPWD :HW_HPCTRL_HPPWD_WIDTH;
                             6383 ; 93   |        unsigned HPCLASSAB :HW_HPCTRL_HPCLASSAB_WIDTH;
                             6384 ; 94   |        unsigned CAPLESS :HW_HPCTRL_CAPLESS_WIDTH; 
                             6385 ; 95   |        unsigned RSRVD1 :HW_HPCTRL_RSRVD1_WIDTH;
                             6386 ; 96   |        unsigned SHORTMODE_LR :HW_HPCTRL_SHORTMODE_LR_WIDTH; 
                             6387 ; 97   |        unsigned SHORTMODE_CM :HW_HPCTRL_SHORTMODE_CM_WIDTH;
                             6388 ; 98   |        unsigned SHORT_LVLADJ :HW_HPCTRL_SHORT_LVLADJ_WIDTH; 
                             6389 ; 99   |        unsigned RSRVD2 :HW_HPCTRL_RSRVD2_WIDTH;
                             6390 ; 100  |        unsigned CHOP_CLK :HW_HPCTRL_CHOP_CLK_WIDTH; 
                             6391 ; 101  |        unsigned SHORT_LR :HW_HPCTRL_SHORT_LR_WIDTH;
                             6392 ; 102  |        unsigned SHORT_CM :HW_HPCTRL_SHORT_CM_WIDTH;
                             6393 ; 103  |    } B;
                             6394 ; 104  |    int I;
                             6395 ; 105  |    unsigned int U;
                             6396 ; 106  |} hpctrl_type;
                             6397 ; 107  |// Headphone control short mode 2 bit values for above short bitfield.
                             6398 ; 108  |#define HW_AUTO_HEADAMP_SHUTDOWN_HOLD_RESET   0
                             6399 ; 109  |#define HW_AUTO_HEADAMP_SHUTDOWN_EN           1 
                             6400 ; 110  |#define HW_AUTO_HEADAMP_SHUTDOWN_DIS          2
                             6401 ; 111  |#define HW_AUTO_HEADAMP_SHUTDOWN_DIRECT       3
                             6402 ; 112  |
                             6403 ; 113  |
                             6404 ; 114  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 105

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6405 ; 115  |/////////////////////////////////////////////////////////////////////////////////
                             6406 ; 116  |/////////////////////////////////////////////////////////////////////////////////
                             6407 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                             6408 ; 118  |///////   MIXER REGISTERS ///////////////////////////////////////////////////////
                             6409 ; 119  |/////////////////////////////////////////////////////////////////////////////////
                             6410 ; 120  |/////////////////////////////////////////////////////////////////////////////////
                             6411 ; 121  |/////////////////////////////////////////////////////////////////////////////////
                             6412 ; 122  |
                             6413 ; 123  |
                             6414 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                             6415 ; 125  |//   Codec/Mixer Test Register (HW_MIXTBR) Bit Definitions 
                             6416 ; 126  |#define HW_MIXTBR_INV_USB_CLK_BITPOS 0
                             6417 ; 127  |#define HW_MIXTBR_USB_DFF_BYPASS_BITPOS 1
                             6418 ; 128  |#define HW_MIXTBR_HOLD_GND_BITPOS 2
                             6419 ; 129  |#define HW_MIXTBR_ACKI_BITPOS 3
                             6420 ; 130  |#define HW_MIXTBR_ASD2X_BITPOS 4
                             6421 ; 131  |#define HW_MIXTBR_PCPCU_BITPOS 5
                             6422 ; 132  |#define HW_MIXTBR_PCPCD_BITPOS 6
                             6423 ; 133  |#define HW_MIXTBR_DCKI_BITPOS 7
                             6424 ; 134  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_BITPOS 8
                             6425 ; 135  |#define HW_MIXTBR_PSRN_BITPOS 9
                             6426 ; 136  |#define HW_MIXTBR_FX2_BITPOS 10
                             6427 ; 137  |#define HW_MIXTBR_VCOS_BITPOS 11
                             6428 ; 138  |#define HW_MIXTBR_XBCO_BITPOS 12
                             6429 ; 139  |#define HW_MIXTBR_XBGC_BITPOS 13
                             6430 ; 140  |#define HW_MIXTBR_ADTHD_BITPOS 14
                             6431 ; 141  |#define HW_MIXTBR_MICBIAS_LSBITPOS 15
                             6432 ; 142  |#define HW_MIXTBR_PWDADC_BITPOS 16
                             6433 ; 143  |#define HW_MIXTBR_MICBIAS1_BITPOS 17
                             6434 ; 144  |#define HW_MIXTBR_EZD_BITPOS 18
                             6435 ; 145  |#define HW_MIXTBR_DZCDA_BITPOS 19
                             6436 ; 146  |#define HW_MIXTBR_DZCFM_BITPOS 20
                             6437 ; 147  |#define HW_MIXTBR_DZCLI_BITPOS 21
                             6438 ; 148  |#define HW_MIXTBR_DZCMI_BITPOS 22
                             6439 ; 149  |#define HW_MIXTBR_DZCMA_BITPOS 23
                             6440 ; 150  |
                             6441 ; 151  |#define HW_MIXTBR_INV_USB_CLK_WIDTH (1)
                             6442 ; 152  |#define HW_MIXTBR_USB_DFF_BYPASS_WIDTH (1)
                             6443 ; 153  |#define HW_MIXTBR_HOLD_GND_WIDTH (1)
                             6444 ; 154  |#define HW_MIXTBR_ACKI_WIDTH (1)
                             6445 ; 155  |#define HW_MIXTBR_ASD2X_WIDTH (1)
                             6446 ; 156  |#define HW_MIXTBR_PCPCU_WIDTH (1)
                             6447 ; 157  |#define HW_MIXTBR_PCPCD_WIDTH (1)
                             6448 ; 158  |#define HW_MIXTBR_DCKI_WIDTH (1)
                             6449 ; 159  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_WIDTH (1)
                             6450 ; 160  |#define HW_MIXTBR_PSRN_WIDTH (1)
                             6451 ; 161  |#define HW_MIXTBR_FX2_WIDTH (1)
                             6452 ; 162  |#define HW_MIXTBR_VCOS_WIDTH (1)
                             6453 ; 163  |#define HW_MIXTBR_XBCO_WIDTH (1)
                             6454 ; 164  |#define HW_MIXTBR_XBGC_WIDTH (1)
                             6455 ; 165  |#define HW_MIXTBR_ADTHD_WIDTH (1)
                             6456 ; 166  |#define HW_MIXTBR_MICBIAS_LSWIDTH (1)
                             6457 ; 167  |#define HW_MIXTBR_PWDADC_WIDTH (1)
                             6458 ; 168  |#define HW_MIXTBR_MICBIAS1_WIDTH (1)
                             6459 ; 169  |#define HW_MIXTBR_EZD_WIDTH (1)
                             6460 ; 170  |#define HW_MIXTBR_DZCDA_WIDTH (1)
                             6461 ; 171  |#define HW_MIXTBR_DZCFM_WIDTH (1)
                             6462 ; 172  |#define HW_MIXTBR_DZCLI_WIDTH (1)
                             6463 ; 173  |#define HW_MIXTBR_DZCMI_WIDTH (1)
                             6464 ; 174  |#define HW_MIXTBR_DZCMA_WIDTH (1)
                             6465 ; 175  |
                             6466 ; 176  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 106

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6467 ; 177  |#define HW_MIXTBR_INV_USB_CLK_SETMASK 1<<HW_MIXTBR_INV_USB_CLK_BITPOS
                             6468 ; 178  |#define HW_MIXTBR_USB_DFF_BYPASS_SETMASK 1<<HW_MIXTBR_USB_DFF_BYPASS_BITPOS
                             6469 ; 179  |#define HW_MIXTBR_HOLD_GND_SETMASK 1<<HW_MIXTBR_HOLD_GND_BITPOS
                             6470 ; 180  |#define HW_MIXTBR_ACKI_SETMASK 1<<HW_MIXTBR_ACKI_BITPOS
                             6471 ; 181  |#define HW_MIXTBR_ASD2X_SETMASK 1<<HW_MIXTBR_ASD2X_BITPOS
                             6472 ; 182  |#define HW_MIXTBR_PCPCU_SETMASK 1<<HW_MIXTBR_PCPCU_BITPOS
                             6473 ; 183  |#define HW_MIXTBR_PCPCD_SETMASK 1<<HW_MIXTBR_PCPCD_BITPOS
                             6474 ; 184  |#define HW_MIXTBR_DCKI_SETMASK 1<<HW_MIXTBR_DCKI_BITPOS
                             6475 ; 185  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_SETMASK 1<<HW_MIXTBR_MIC_BIAS_OUT_SEL_BITPOS
                             6476 ; 186  |#define HW_MIXTBR_PSRN_SETMASK 1<<HW_MIXTBR_PSRN_BITPOS
                             6477 ; 187  |#define HW_MIXTBR_FX2_SETMASK 1<<HW_MIXTBR_FX2_BITPOS
                             6478 ; 188  |#define HW_MIXTBR_VCOS_SETMASK 1<<HW_MIXTBR_VCOS_BITPOS
                             6479 ; 189  |#define HW_MIXTBR_XBCO_SETMASK 1<<HW_MIXTBR_XBCO_BITPOS
                             6480 ; 190  |#define HW_MIXTBR_XBGC_SETMASK 1<<HW_MIXTBR_XBGC_BITPOS
                             6481 ; 191  |#define HW_MIXTBR_ADTHD_SETMASK 1<<HW_MIXTBR_ADTHD_BITPOS
                             6482 ; 192  |#define HW_MIXTBR_MICBIAS_LSSETMASK 1<<HW_MIXTBR_MICBIAS_LSBITPOS
                             6483 ; 193  |#define HW_MIXTBR_PWDADC_SETMASK 1<<HW_MIXTBR_PWDADC_BITPOS
                             6484 ; 194  |#define HW_MIXTBR_MICBIAS1_SETMASK 1<<HW_MIXTBR_MICBIAS1_BITPOS
                             6485 ; 195  |#define HW_MIXTBR_EZD_SETMASK 1<<HW_MIXTBR_EZD_BITPOS
                             6486 ; 196  |#define HW_MIXTBR_DZCDA_SETMASK 1<<HW_MIXTBR_DZCDA_BITPOS
                             6487 ; 197  |#define HW_MIXTBR_DZCFM_SETMASK 1<<HW_MIXTBR_DZCFM_BITPOS
                             6488 ; 198  |#define HW_MIXTBR_DZCLI_SETMASK 1<<HW_MIXTBR_DZCLI_BITPOS
                             6489 ; 199  |#define HW_MIXTBR_DZCMI_SETMASK 1<<HW_MIXTBR_DZCMI_BITPOS
                             6490 ; 200  |#define HW_MIXTBR_DZCMA_SETMASK 1<<HW_MIXTBR_DZCMA_BITPOS
                             6491 ; 201  |
                             6492 ; 202  |#define HW_MIXTBR_INV_USB_CLK_CLRMASK ~(WORD)HW_MIXTBR_INV_USB_CLK_SETMASK
                             6493 ; 203  |#define HW_MIXTBR_USB_DFF_BYPASS_CLRMASK ~(WORD)HW_MIXTBR_USB_DFF_BYPASS_SETMASK
                             6494 ; 204  |#define HW_MIXTBR_HOLD_GND_CLRMASK ~(WORD)HW_MIXTBR_HOLD_GND_SETMASK
                             6495 ; 205  |#define HW_MIXTBR_ACKI_CLRMASK ~(WORD)HW_MIXTBR_ACKI_SETMASK
                             6496 ; 206  |#define HW_MIXTBR_ASD2X_CLRMASK ~(WORD)HW_MIXTBR_ASD2X_SETMASK
                             6497 ; 207  |#define HW_MIXTBR_PCPCU_CLRMASK ~(WORD)HW_MIXTBR_PCPCU_SETMASK
                             6498 ; 208  |#define HW_MIXTBR_PCPCD_CLRMASK ~(WORD)HW_MIXTBR_PCPCD_SETMASK
                             6499 ; 209  |#define HW_MIXTBR_DCKI_CLRMASK ~(WORD)HW_MIXTBR_DCKI_SETMASK
                             6500 ; 210  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_CLRMASK ~(WORD)HW_MIXTBR_MIC_BIAS_OUT_SEL_SETMASK
                             6501 ; 211  |#define HW_MIXTBR_PSRN_CLRMASK ~(WORD)HW_MIXTBR_PSRN_SETMASK
                             6502 ; 212  |#define HW_MIXTBR_FX2_CLRMASK ~(WORD)HW_MIXTBR_FX2_SETMASK
                             6503 ; 213  |#define HW_MIXTBR_VCOS_CLRMASK ~(WORD)HW_MIXTBR_VCOS_SETMASK
                             6504 ; 214  |#define HW_MIXTBR_XBCO_CLRMASK ~(WORD)HW_MIXTBR_XBCO_SETMASK
                             6505 ; 215  |#define HW_MIXTBR_XBGC_CLRMASK ~(WORD)HW_MIXTBR_XBGC_SETMASK
                             6506 ; 216  |#define HW_MIXTBR_ADTHD_CLRMASK ~(WORD)HW_MIXTBR_ADTHD_SETMASK
                             6507 ; 217  |#define HW_MIXTBR_MICBIAS_LSCLRMASK ~(WORD)HW_MIXTBR_MICBIAS_LSSETMASK
                             6508 ; 218  |#define HW_MIXTBR_PWDADC_CLRMASK ~(WORD)HW_MIXTBR_PWDADC_SETMASK
                             6509 ; 219  |#define HW_MIXTBR_MICBIAS1_CLRMASK ~(WORD)HW_MIXTBR_MICBIAS1_SETMASK
                             6510 ; 220  |#define HW_MIXTBR_EZD_CLRMASK ~(WORD)HW_MIXTBR_EZD_SETMASK
                             6511 ; 221  |#define HW_MIXTBR_DZCDA_CLRMASK ~(WORD)HW_MIXTBR_DZCDA_SETMASK
                             6512 ; 222  |#define HW_MIXTBR_DZCFM_CLRMASK ~(WORD)HW_MIXTBR_DZCFM_SETMASK
                             6513 ; 223  |#define HW_MIXTBR_DZCLI_CLRMASK ~(WORD)HW_MIXTBR_DZCLI_SETMASK
                             6514 ; 224  |#define HW_MIXTBR_DZCMI_CLRMASK ~(WORD)HW_MIXTBR_DZCMI_SETMASK
                             6515 ; 225  |#define HW_MIXTBR_DZCMA_CLRMASK ~(WORD)HW_MIXTBR_DZCMA_SETMASK
                             6516 ; 226  |
                             6517 ; 227  |typedef union               
                             6518 ; 228  |{
                             6519 ; 229  |    struct {
                             6520 ; 230  |        int INV_USB_CLK            : 1;
                             6521 ; 231  |        int USB_DFF_BYPASS         : 1;
                             6522 ; 232  |        int HOLD_GND               : 1;
                             6523 ; 233  |        int ACKI                   : 1;
                             6524 ; 234  |        int ASD2X                  : 1;
                             6525 ; 235  |        int PCPCU                  : 1;
                             6526 ; 236  |        int PCPCD                  : 1;
                             6527 ; 237  |        int DCKI                   : 1;
                             6528 ; 238  |        int MIC_BIAS_OUT_SEL       : 1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 107

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6529 ; 239  |        int PSRN                   : 1;
                             6530 ; 240  |        int FX2                    : 1;
                             6531 ; 241  |        int VCOS                   : 1;
                             6532 ; 242  |        int XBCO                   : 1;
                             6533 ; 243  |        int XBGC                   : 1;
                             6534 ; 244  |        int ADTHD                  : 1;
                             6535 ; 245  |        int MICBIAS_LSBITPOS       : 1;
                             6536 ; 246  |        int PWDADC                 : 1;
                             6537 ; 247  |        int MICBIAS1               : 1;
                             6538 ; 248  |        int EZD                    : 1;
                             6539 ; 249  |        int DZCDA                  : 1;
                             6540 ; 250  |        int DZCFM                  : 1;
                             6541 ; 251  |        int DZCLI                  : 1;
                             6542 ; 252  |        int DZCMI                  : 1;
                             6543 ; 253  |        int DZCMA                  : 1;
                             6544 ; 254  |    } B;
                             6545 ; 255  |    int I;
                             6546 ; 256  |    unsigned int U;
                             6547 ; 257  |} mix_tbr_type;
                             6548 ; 258  |#define HW_MIXTBR      (*(volatile mix_tbr_type _X*) (HW_CODEC_BASEADDR+3))
                             6549 ; 259  |
                             6550 ; 260  |
                             6551 ; 261  |/////////////////////////////////////////////////////////////////////////////////
                             6552 ; 262  |//   Generic Volume Register (HW_MIXMASTERVR) Bit Definitions
                             6553 ; 263  |#define HW_MIXVOLUMER_MR_BITPOS 0
                             6554 ; 264  |#define HW_MIXVOLUMER_ML_BITPOS 8
                             6555 ; 265  |#define HW_MIXVOLUMER_MUTE_BITPOS 15
                             6556 ; 266  |
                             6557 ; 267  |#define HW_MIXVOLUMER_MR_WIDTH (5)
                             6558 ; 268  |#define HW_MIXVOLUMER_ML_WIDTH (5)
                             6559 ; 269  |#define HW_MIXVOLUMER_MUTE_WIDTH 1
                             6560 ; 270  |
                             6561 ; 271  |#define HW_MIXVOLUMER_MR_SETMASK 0x1F<<HW_MIXVOLUMER_MR_BITPOS
                             6562 ; 272  |#define HW_MIXVOLUMER_ML_SETMASK 0x1F<<HW_MIXVOLUMER_ML_BITPOS
                             6563 ; 273  |#define HW_MIXVOLUMER_MUTE_SETMASK 1<<HW_MIXVOLUMER_MUTE_BITPOS
                             6564 ; 274  |
                             6565 ; 275  |#define HW_MIXVOLUMER_MR_CLRMASK ~(WORD)HW_MIXVOLUMER_MR_SETMASK
                             6566 ; 276  |#define HW_MIXVOLUMER_ML_CLRMASK ~(WORD)HW_MIXVOLUMER_ML_SETMASK
                             6567 ; 277  |#define HW_MIXVOLUMER_MUTE_CLRMASK ~(WORD)HW_MIXVOLUMER_MUTE_SETMASK
                             6568 ; 278  |
                             6569 ; 279  |#define HW_MIXVOLUMER_ML_PLUS_12P0_SETMASK 0<<HW_MIXVOLUMER_ML_BITPOS
                             6570 ; 280  |#define HW_MIXVOLUMER_ML_PLUS_10P5_SETMASK 1<<HW_MIXVOLUMER_ML_BITPOS
                             6571 ; 281  |#define HW_MIXVOLUMER_ML_PLUS_09P0_SETMASK 2<<HW_MIXVOLUMER_ML_BITPOS
                             6572 ; 282  |#define HW_MIXVOLUMER_ML_PLUS_07P5_SETMASK 3<<HW_MIXVOLUMER_ML_BITPOS
                             6573 ; 283  |#define HW_MIXVOLUMER_ML_PLUS_06P0_SETMASK 4<<HW_MIXVOLUMER_ML_BITPOS
                             6574 ; 284  |#define HW_MIXVOLUMER_ML_PLUS_04P5_SETMASK 5<<HW_MIXVOLUMER_ML_BITPOS
                             6575 ; 285  |#define HW_MIXVOLUMER_ML_PLUS_03P0_SETMASK 6<<HW_MIXVOLUMER_ML_BITPOS
                             6576 ; 286  |#define HW_MIXVOLUMER_ML_PLUS_01P5_SETMASK 7<<HW_MIXVOLUMER_ML_BITPOS
                             6577 ; 287  |#define HW_MIXVOLUMER_ML_ZERO_SETMASK 8<<HW_MIXVOLUMER_ML_BITPOS
                             6578 ; 288  |#define HW_MIXVOLUMER_ML_MINUS_01P5_SETMASK 9<<HW_MIXVOLUMER_ML_BITPOS
                             6579 ; 289  |#define HW_MIXVOLUMER_ML_MINUS_03P0_SETMASK 10<<HW_MIXVOLUMER_ML_BITPOS
                             6580 ; 290  |#define HW_MIXVOLUMER_ML_MINUS_04P5_SETMASK 11<<HW_MIXVOLUMER_ML_BITPOS
                             6581 ; 291  |#define HW_MIXVOLUMER_ML_MINUS_06P0_SETMASK 12<<HW_MIXVOLUMER_ML_BITPOS
                             6582 ; 292  |#define HW_MIXVOLUMER_ML_MINUS_07P5_SETMASK 13<<HW_MIXVOLUMER_ML_BITPOS
                             6583 ; 293  |#define HW_MIXVOLUMER_ML_MINUS_09P0_SETMASK 14<<HW_MIXVOLUMER_ML_BITPOS
                             6584 ; 294  |#define HW_MIXVOLUMER_ML_MINUS_10P5_SETMASK 15<<HW_MIXVOLUMER_ML_BITPOS
                             6585 ; 295  |#define HW_MIXVOLUMER_ML_MINUS_12P0_SETMASK 16<<HW_MIXVOLUMER_ML_BITPOS
                             6586 ; 296  |#define HW_MIXVOLUMER_ML_MINUS_13P5_SETMASK 17<<HW_MIXVOLUMER_ML_BITPOS
                             6587 ; 297  |#define HW_MIXVOLUMER_ML_MINUS_15P0_SETMASK 18<<HW_MIXVOLUMER_ML_BITPOS
                             6588 ; 298  |#define HW_MIXVOLUMER_ML_MINUS_16P5_SETMASK 19<<HW_MIXVOLUMER_ML_BITPOS
                             6589 ; 299  |#define HW_MIXVOLUMER_ML_MINUS_18P0_SETMASK 20<<HW_MIXVOLUMER_ML_BITPOS
                             6590 ; 300  |#define HW_MIXVOLUMER_ML_MINUS_19P5_SETMASK 21<<HW_MIXVOLUMER_ML_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 108

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6591 ; 301  |#define HW_MIXVOLUMER_ML_MINUS_21P0_SETMASK 22<<HW_MIXVOLUMER_ML_BITPOS
                             6592 ; 302  |#define HW_MIXVOLUMER_ML_MINUS_22P5_SETMASK 23<<HW_MIXVOLUMER_ML_BITPOS
                             6593 ; 303  |#define HW_MIXVOLUMER_ML_MINUS_24P0_SETMASK 24<<HW_MIXVOLUMER_ML_BITPOS
                             6594 ; 304  |#define HW_MIXVOLUMER_ML_MINUS_25P5_SETMASK 25<<HW_MIXVOLUMER_ML_BITPOS
                             6595 ; 305  |#define HW_MIXVOLUMER_ML_MINUS_27P0_SETMASK 26<<HW_MIXVOLUMER_ML_BITPOS
                             6596 ; 306  |#define HW_MIXVOLUMER_ML_MINUS_28P5_SETMASK 27<<HW_MIXVOLUMER_ML_BITPOS
                             6597 ; 307  |#define HW_MIXVOLUMER_ML_MINUS_30P0_SETMASK 28<<HW_MIXVOLUMER_ML_BITPOS
                             6598 ; 308  |#define HW_MIXVOLUMER_ML_MINUS_31P5_SETMASK 29<<HW_MIXVOLUMER_ML_BITPOS
                             6599 ; 309  |#define HW_MIXVOLUMER_ML_MINUS_33P0_SETMASK 30<<HW_MIXVOLUMER_ML_BITPOS
                             6600 ; 310  |#define HW_MIXVOLUMER_ML_MINUS_34P5_SETMASK 31<<HW_MIXVOLUMER_ML_BITPOS
                             6601 ; 311  |
                             6602 ; 312  |#define HW_MIXVOLUMER_MR_PLUS_12P0_SETMASK 0
                             6603 ; 313  |#define HW_MIXVOLUMER_MR_PLUS_10P5_SETMASK 1
                             6604 ; 314  |#define HW_MIXVOLUMER_MR_PLUS_09P0_SETMASK 2
                             6605 ; 315  |#define HW_MIXVOLUMER_MR_PLUS_07P5_SETMASK 3
                             6606 ; 316  |#define HW_MIXVOLUMER_MR_PLUS_06P0_SETMASK 4
                             6607 ; 317  |#define HW_MIXVOLUMER_MR_PLUS_04P5_SETMASK 5
                             6608 ; 318  |#define HW_MIXVOLUMER_MR_PLUS_03P0_SETMASK 6
                             6609 ; 319  |#define HW_MIXVOLUMER_MR_PLUS_01P5_SETMASK 7
                             6610 ; 320  |#define HW_MIXVOLUMER_MR_ZERO_SETMASK 8
                             6611 ; 321  |#define HW_MIXVOLUMER_MR_MINUS_01P5_SETMASK 9
                             6612 ; 322  |#define HW_MIXVOLUMER_MR_MINUS_03P0_SETMASK 10
                             6613 ; 323  |#define HW_MIXVOLUMER_MR_MINUS_04P5_SETMASK 11
                             6614 ; 324  |#define HW_MIXVOLUMER_MR_MINUS_06P0_SETMASK 12
                             6615 ; 325  |#define HW_MIXVOLUMER_MR_MINUS_07P5_SETMASK 13
                             6616 ; 326  |#define HW_MIXVOLUMER_MR_MINUS_09P0_SETMASK 14
                             6617 ; 327  |#define HW_MIXVOLUMER_MR_MINUS_10P5_SETMASK 15
                             6618 ; 328  |#define HW_MIXVOLUMER_MR_MINUS_12P0_SETMASK 16
                             6619 ; 329  |#define HW_MIXVOLUMER_MR_MINUS_13P5_SETMASK 17
                             6620 ; 330  |#define HW_MIXVOLUMER_MR_MINUS_15P0_SETMASK 18
                             6621 ; 331  |#define HW_MIXVOLUMER_MR_MINUS_16P5_SETMASK 19
                             6622 ; 332  |#define HW_MIXVOLUMER_MR_MINUS_18P0_SETMASK 20
                             6623 ; 333  |#define HW_MIXVOLUMER_MR_MINUS_19P5_SETMASK 21
                             6624 ; 334  |#define HW_MIXVOLUMER_MR_MINUS_21P0_SETMASK 22
                             6625 ; 335  |#define HW_MIXVOLUMER_MR_MINUS_22P5_SETMASK 23
                             6626 ; 336  |#define HW_MIXVOLUMER_MR_MINUS_24P0_SETMASK 24
                             6627 ; 337  |#define HW_MIXVOLUMER_MR_MINUS_25P5_SETMASK 25
                             6628 ; 338  |#define HW_MIXVOLUMER_MR_MINUS_27P0_SETMASK 26
                             6629 ; 339  |#define HW_MIXVOLUMER_MR_MINUS_28P5_SETMASK 27
                             6630 ; 340  |#define HW_MIXVOLUMER_MR_MINUS_30P0_SETMASK 28
                             6631 ; 341  |#define HW_MIXVOLUMER_MR_MINUS_31P5_SETMASK 29
                             6632 ; 342  |#define HW_MIXVOLUMER_MR_MINUS_33P0_SETMASK 30
                             6633 ; 343  |#define HW_MIXVOLUMER_MR_MINUS_34P5_SETMASK 31
                             6634 ; 344  |
                             6635 ; 345  |/////////////////////////////////////////////////////////////////////////////////
                             6636 ; 346  |//   Mixer Master Volume Register (HW_MIXMASTERVR) Bit Definitions
                             6637 ; 347  |#define HW_MIXMASTERVR_MR_BITPOS 0
                             6638 ; 348  |#define HW_MIXMASTERVR_ML_BITPOS 8
                             6639 ; 349  |#define HW_MIXMASTERVR_MUTE_BITPOS 15
                             6640 ; 350  |
                             6641 ; 351  |#define HW_MIXMASTERVR_MR_WIDTH (5)
                             6642 ; 352  |#define HW_MIXMASTERVR_ML_WIDTH (5)
                             6643 ; 353  |#define HW_MIXMASTERVR_MUTE_WIDTH (1)
                             6644 ; 354  |
                             6645 ; 355  |#define HW_MIXMASTERVR_MR_SETMASK 0x1F<<HW_MIXMASTERVR_MR_BITPOS
                             6646 ; 356  |#define HW_MIXMASTERVR_ML_SETMASK 0x1F<<HW_MIXMASTERVR_ML_BITPOS
                             6647 ; 357  |#define HW_MIXMASTERVR_MUTE_SETMASK 1<<HW_MIXMASTERVR_MUTE_BITPOS
                             6648 ; 358  |
                             6649 ; 359  |#define HW_MIXMASTERVR_MR_CLRMASK ~(WORD)HW_MIXMASTERVR_MR_SETMASK
                             6650 ; 360  |#define HW_MIXMASTERVR_ML_CLRMASK ~(WORD)HW_MIXMASTERVR_ML_SETMASK
                             6651 ; 361  |#define HW_MIXMASTERVR_MUTE_CLRMASK ~(WORD)HW_MIXMASTERVR_MUTE_SETMASK
                             6652 ; 362  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 109

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6653 ; 363  |
                             6654 ; 364  |typedef union               
                             6655 ; 365  |{
                             6656 ; 366  |    struct
                             6657 ; 367  |    {
                             6658 ; 368  |        unsigned MR :5;
                             6659 ; 369  |        int         :3;
                             6660 ; 370  |        unsigned ML :5;
                             6661 ; 371  |        int         :2;
                             6662 ; 372  |        int MUTE    :1;
                             6663 ; 373  |    } B;
                             6664 ; 374  |    int I;
                             6665 ; 375  |    unsigned int U;
                             6666 ; 376  |} mix_mastervr_type;
                             6667 ; 377  |#define HW_MIXMASTERVR (*(volatile mix_mastervr_type _X*) (HW_CODEC_BASEADDR+4))
                             6668 ; 378  |
                             6669 ; 379  |
                             6670 ; 380  |/////////////////////////////////////////////////////////////////////////////////
                             6671 ; 381  |//   Mixer Mic In Volume Register (HW_MIXMICINVR) Bit Definitions
                             6672 ; 382  |#define HW_MIXMICINVR_GN_BITPOS 0
                             6673 ; 383  |#define HW_MIXMICINVR_P20DB_BITPOS 6
                             6674 ; 384  |#define HW_MIXMICINVR_MUTE_BITPOS 15
                             6675 ; 385  |
                             6676 ; 386  |#define HW_MIXMICINVR_GN_WIDTH 5
                             6677 ; 387  |#define HW_MIXMICINVR_RSVD1_WIDTH 1
                             6678 ; 388  |#define HW_MIXMICINVR_P20DB_WIDTH 1
                             6679 ; 389  |#define HW_MIXMICINVR_RSVD2_WIDTH 8
                             6680 ; 390  |#define HW_MIXMICINVR_MUTE_WIDTH 1
                             6681 ; 391  |#define HW_MIXMICINVR_RSVD3_WIDTH 8
                             6682 ; 392  |
                             6683 ; 393  |#define HW_MIXMICINVR_GN_SETMASK 0x1F<<HW_MIXMICINVR_GN_BITPOS
                             6684 ; 394  |#define HW_MIXMICINVR_P20DB_SETMASK 1<<HW_MIXMICINVR_P20DB_BITPOS
                             6685 ; 395  |#define HW_MIXMICINVR_MUTE_SETMASK 1<<HW_MIXMICINVR_MUTE_BITPOS
                             6686 ; 396  |
                             6687 ; 397  |#define HW_MIXMICINVR_GN_CLRMASK ~(WORD)HW_MIXMICINVR_GN_SETMASK
                             6688 ; 398  |#define HW_MIXMICINVR_P20DB_CLRMASK ~(WORD)HW_MIXMICINVR_P20DB_SETMASK
                             6689 ; 399  |#define HW_MIXMICINVR_MUTE_CLRMASK ~(WORD)HW_MIXMICINVR_MUTE_SETMASK
                             6690 ; 400  |
                             6691 ; 401  |#define HW_MIXMICINVR_GN_PLUS_12P0_SETMASK 0
                             6692 ; 402  |#define HW_MIXMICINVR_GN_PLUS_10P5_SETMASK 1
                             6693 ; 403  |#define HW_MIXMICINVR_GN_PLUS_09P0_SETMASK 2
                             6694 ; 404  |#define HW_MIXMICINVR_GN_PLUS_07P5_SETMASK 3
                             6695 ; 405  |#define HW_MIXMICINVR_GN_PLUS_06P0_SETMASK 4
                             6696 ; 406  |#define HW_MIXMICINVR_GN_PLUS_04P5_SETMASK 5
                             6697 ; 407  |#define HW_MIXMICINVR_GN_PLUS_03P0_SETMASK 6
                             6698 ; 408  |#define HW_MIXMICINVR_GN_PLUS_01P5_SETMASK 7
                             6699 ; 409  |#define HW_MIXMICINVR_GN_ZERO_SETMASK 8
                             6700 ; 410  |#define HW_MIXMICINVR_GN_MINUS_01P5_SETMASK 9
                             6701 ; 411  |#define HW_MIXMICINVR_GN_MINUS_03P0_SETMASK 10
                             6702 ; 412  |#define HW_MIXMICINVR_GN_MINUS_04P5_SETMASK 11
                             6703 ; 413  |#define HW_MIXMICINVR_GN_MINUS_06P0_SETMASK 12
                             6704 ; 414  |#define HW_MIXMICINVR_GN_MINUS_07P5_SETMASK 13
                             6705 ; 415  |#define HW_MIXMICINVR_GN_MINUS_09P0_SETMASK 14
                             6706 ; 416  |#define HW_MIXMICINVR_GN_MINUS_10P5_SETMASK 15
                             6707 ; 417  |#define HW_MIXMICINVR_GN_MINUS_12P0_SETMASK 16
                             6708 ; 418  |#define HW_MIXMICINVR_GN_MINUS_13P5_SETMASK 17
                             6709 ; 419  |#define HW_MIXMICINVR_GN_MINUS_15P0_SETMASK 18
                             6710 ; 420  |#define HW_MIXMICINVR_GN_MINUS_16P5_SETMASK 19
                             6711 ; 421  |#define HW_MIXMICINVR_GN_MINUS_18P0_SETMASK 20
                             6712 ; 422  |#define HW_MIXMICINVR_GN_MINUS_19P5_SETMASK 21
                             6713 ; 423  |#define HW_MIXMICINVR_GN_MINUS_21P0_SETMASK 22
                             6714 ; 424  |#define HW_MIXMICINVR_GN_MINUS_22P5_SETMASK 23
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 110

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6715 ; 425  |#define HW_MIXMICINVR_GN_MINUS_24P0_SETMASK 24
                             6716 ; 426  |#define HW_MIXMICINVR_GN_MINUS_25P5_SETMASK 25
                             6717 ; 427  |#define HW_MIXMICINVR_GN_MINUS_27P0_SETMASK 26
                             6718 ; 428  |#define HW_MIXMICINVR_GN_MINUS_28P5_SETMASK 27
                             6719 ; 429  |#define HW_MIXMICINVR_GN_MINUS_30P0_SETMASK 28
                             6720 ; 430  |#define HW_MIXMICINVR_GN_MINUS_31P5_SETMASK 29
                             6721 ; 431  |#define HW_MIXMICINVR_GN_MINUS_33P0_SETMASK 30
                             6722 ; 432  |#define HW_MIXMICINVR_GN_MINUS_34P5_SETMASK 31
                             6723 ; 433  |
                             6724 ; 434  |typedef union               
                             6725 ; 435  |{
                             6726 ; 436  |    struct {
                             6727 ; 437  |        int GN          : HW_MIXMICINVR_GN_WIDTH;
                             6728 ; 438  |        int RSVD1       : HW_MIXMICINVR_RSVD1_WIDTH;
                             6729 ; 439  |        int P20DB       : HW_MIXMICINVR_P20DB_WIDTH;
                             6730 ; 440  |        int RSVD2       : HW_MIXMICINVR_RSVD2_WIDTH;
                             6731 ; 441  |        int MUTE        : HW_MIXMICINVR_MUTE_WIDTH;
                             6732 ; 442  |        int RSVD3       : HW_MIXMICINVR_RSVD3_WIDTH;
                             6733 ; 443  |    } B;
                             6734 ; 444  |    int I;
                             6735 ; 445  |    unsigned int U;
                             6736 ; 446  |} mix_micinvr_type;
                             6737 ; 447  |#define HW_MIXMICINVR (*(volatile mix_micinvr_type _X*) (HW_CODEC_BASEADDR+5))
                             6738 ; 448  |
                             6739 ; 449  |
                             6740 ; 450  |
                             6741 ; 451  |
                             6742 ; 452  |/////////////////////////////////////////////////////////////////////////////////
                             6743 ; 453  |//   Mixer Line1 In Volume Register (HW_MIXLINE1INVR) Bit Definitions
                             6744 ; 454  |#define HW_MIXLINE1INVR_GR_BITPOS 0
                             6745 ; 455  |#define HW_MIXLINE1INVR_GL_BITPOS 8
                             6746 ; 456  |#define HW_MIXLINE1INVR_MUTE_BITPOS 15
                             6747 ; 457  |
                             6748 ; 458  |#define HW_MIXLINE1INVR_GR_WIDTH 5
                             6749 ; 459  |#define HW_MIXLINE1INVR_RSVD1_WIDTH 3
                             6750 ; 460  |#define HW_MIXLINE1INVR_GL_WIDTH 5
                             6751 ; 461  |#define HW_MIXLINE1INVR_RSVD2_WIDTH 2
                             6752 ; 462  |#define HW_MIXLINE1INVR_MUTE_WIDTH 1
                             6753 ; 463  |#define HW_MIXLINE1INVR_RSVD3_WIDTH 8
                             6754 ; 464  |
                             6755 ; 465  |#define HW_MIXLINE1INVR_GR_SETMASK 0x1F<<HW_MIXLINE1INVR_GR_BITPOS
                             6756 ; 466  |#define HW_MIXLINE1INVR_GL_SETMASK 0x1F<<HW_MIXLINE1INVR_GL_BITPOS
                             6757 ; 467  |#define HW_MIXLINE1INVR_MUTE_SETMASK 1<<HW_MIXLINE1INVR_MUTE_BITPOS
                             6758 ; 468  |
                             6759 ; 469  |#define HW_MIXLINE1INVR_GR_CLRMASK ~(WORD)HW_MIXLINE1INVR_GR_SETMASK
                             6760 ; 470  |#define HW_MIXLINE1INVR_GL_CLRMASK ~(WORD)HW_MIXLINE1INVR_GL_SETMASK
                             6761 ; 471  |#define HW_MIXLINE1INVR_MUTE_CLRMASK ~(WORD)HW_MIXLINE1INVR_MUTE_SETMASK
                             6762 ; 472  |
                             6763 ; 473  |typedef union               
                             6764 ; 474  |{
                             6765 ; 475  |    struct {
                             6766 ; 476  |        int GR          : HW_MIXLINE1INVR_GR_WIDTH;
                             6767 ; 477  |        int RSVD1       : HW_MIXLINE1INVR_RSVD1_WIDTH;
                             6768 ; 478  |        int GL          : HW_MIXLINE1INVR_GL_WIDTH;
                             6769 ; 479  |        int RSVD2       : HW_MIXLINE1INVR_RSVD2_WIDTH;
                             6770 ; 480  |        int MUTE        : HW_MIXLINE1INVR_MUTE_WIDTH;
                             6771 ; 481  |        int RSVD3       : HW_MIXLINE1INVR_RSVD3_WIDTH;
                             6772 ; 482  |    } B;
                             6773 ; 483  |    int I;
                             6774 ; 484  |    unsigned int U;
                             6775 ; 485  |} mix_line1invr_type;
                             6776 ; 486  |#define HW_MIXLINE1INVR (*(volatile mix_line1invr_type _X*) (HW_CODEC_BASEADDR+6))
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 111

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6777 ; 487  |
                             6778 ; 488  |
                             6779 ; 489  |
                             6780 ; 490  |/////////////////////////////////////////////////////////////////////////////////
                             6781 ; 491  |//   Mixer Line2 In Volume Register (HW_MIXLINE2INVR) Bit Definitions
                             6782 ; 492  |#define HW_MIXLINE2INVR_GR_BITPOS 0
                             6783 ; 493  |#define HW_MIXLINE2INVR_GL_BITPOS 8
                             6784 ; 494  |#define HW_MIXLINE2INVR_MUTE_BITPOS 15
                             6785 ; 495  |
                             6786 ; 496  |#define HW_MIXLINE2INVR_GR_WIDTH 5
                             6787 ; 497  |#define HW_MIXLINE2INVR_RSVD1_WIDTH 3
                             6788 ; 498  |#define HW_MIXLINE2INVR_GL_WIDTH 5
                             6789 ; 499  |#define HW_MIXLINE2INVR_RSVD2_WIDTH 2
                             6790 ; 500  |#define HW_MIXLINE2INVR_MUTE_WIDTH 1
                             6791 ; 501  |#define HW_MIXLINE2INVR_RSVD3_WIDTH 8
                             6792 ; 502  |
                             6793 ; 503  |
                             6794 ; 504  |#define HW_MIXLINE2INVR_GR_SETMASK 0x1F<<HW_MIXLINE2INVR_GR_BITPOS
                             6795 ; 505  |#define HW_MIXLINE2INVR_GL_SETMASK 0x1F<<HW_MIXLINE2INVR_GL_BITPOS
                             6796 ; 506  |#define HW_MIXLINE2INVR_MUTE_SETMASK 1<<HW_MIXLINE2INVR_MUTE_BITPOS
                             6797 ; 507  |
                             6798 ; 508  |#define HW_MIXLINE2INVR_GR_CLRMASK ~(WORD)HW_MIXLINE2INVR_GR_SETMASK
                             6799 ; 509  |#define HW_MIXLINE2INVR_GL_CLRMASK ~(WORD)HW_MIXLINE2INVR_GL_SETMASK
                             6800 ; 510  |#define HW_MIXLINE2INVR_MUTE_CLRMASK ~(WORD)HW_MIXLINE2INVR_MUTE_SETMASK
                             6801 ; 511  |
                             6802 ; 512  |typedef union               
                             6803 ; 513  |{
                             6804 ; 514  |    struct {
                             6805 ; 515  |        int GR          : HW_MIXLINE2INVR_GR_WIDTH;
                             6806 ; 516  |        int RSVD1       : HW_MIXLINE2INVR_RSVD1_WIDTH;
                             6807 ; 517  |        int GL          : HW_MIXLINE2INVR_GL_WIDTH;
                             6808 ; 518  |        int RSVD2       : HW_MIXLINE2INVR_RSVD2_WIDTH;
                             6809 ; 519  |        int MUTE        : HW_MIXLINE2INVR_MUTE_WIDTH;
                             6810 ; 520  |        int RSVD3       : HW_MIXLINE2INVR_RSVD3_WIDTH;
                             6811 ; 521  |    } B;
                             6812 ; 522  |    int I;
                             6813 ; 523  |    unsigned int U;
                             6814 ; 524  |} mix_line2invr_type;
                             6815 ; 525  |#define HW_MIXLINE2INVR (*(volatile mix_line2invr_type _X*) (HW_CODEC_BASEADDR+7))
                             6816 ; 526  |
                             6817 ; 527  |
                             6818 ; 528  |
                             6819 ; 529  |/////////////////////////////////////////////////////////////////////////////////
                             6820 ; 530  |//   Mixer DAC In Volume Register (HW_MIXDACINVR) Bit Definitions
                             6821 ; 531  |#define HW_MIXDACINVR_MR_BITPOS 0
                             6822 ; 532  |#define HW_MIXDACINVR_ML_BITPOS 8
                             6823 ; 533  |#define HW_MIXDACINVR_MUTE_BITPOS 15
                             6824 ; 534  |
                             6825 ; 535  |#define HW_MIXDACINVR_MR_WIDTH (5)
                             6826 ; 536  |#define HW_MIXDACINVR_ML_WIDTH (5)
                             6827 ; 537  |#define HW_MIXDACINVR_MUTE_WIDTH (1)
                             6828 ; 538  |
                             6829 ; 539  |#define HW_MIXDACINVR_MR_SETMASK 0x1F<<HW_MIXDACINVR_MR_BITPOS
                             6830 ; 540  |#define HW_MIXDACINVR_ML_SETMASK 0x1F<<HW_MIXDACINVR_ML_BITPOS
                             6831 ; 541  |#define HW_MIXDACINVR_MUTE_SETMASK 1<<HW_MIXDACINVR_MUTE_BITPOS
                             6832 ; 542  |
                             6833 ; 543  |#define HW_MIXDACINVR_MR_CLRMASK ~(WORD)HW_MIXDACINVR_MR_SETMASK
                             6834 ; 544  |#define HW_MIXDACINVR_ML_CLRMASK ~(WORD)HW_MIXDACINVR_ML_SETMASK
                             6835 ; 545  |#define HW_MIXDACINVR_MUTE_CLRMASK ~(WORD)HW_MIXDACINVR_MUTE_SETMASK
                             6836 ; 546  |
                             6837 ; 547  |typedef union               
                             6838 ; 548  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 112

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6839 ; 549  |    struct {
                             6840 ; 550  |        int MR   : HW_MIXDACINVR_MR_WIDTH;
                             6841 ; 551  |        int ML   : HW_MIXDACINVR_ML_WIDTH;
                             6842 ; 552  |        int MUTE : HW_MIXDACINVR_MUTE_WIDTH;
                             6843 ; 553  |    } B;
                             6844 ; 554  |    int I;
                             6845 ; 555  |    unsigned int U;
                             6846 ; 556  |} mix_dacinvr_type;
                             6847 ; 557  |#define HW_MIXDACINVR (*(volatile mix_dacinvr_type _X*) (HW_CODEC_BASEADDR+8))
                             6848 ; 558  |
                             6849 ; 559  |
                             6850 ; 560  |/////////////////////////////////////////////////////////////////////////////////
                             6851 ; 561  |//   Mixer Record Select Register (HW_MIXRECSELR) Bit Definitions
                             6852 ; 562  |#define HW_MIXRECSELR_SR_BITPOS 0
                             6853 ; 563  |#define HW_MIXRECSELR_SL_BITPOS 8
                             6854 ; 564  |#define HW_MIXRECSELR_X_BITPOS 11
                             6855 ; 565  |
                             6856 ; 566  |#define HW_MIXRECSELR_SR_WIDTH 3
                             6857 ; 567  |#define HW_MIXRECSELR_RSVD1_WIDTH 5
                             6858 ; 568  |#define HW_MIXRECSELR_SL_WIDTH 3
                             6859 ; 569  |#define HW_MIXRECSELR_X_WIDTH 1
                             6860 ; 570  |#define HW_MIXRECSELR_RSVD2_WIDTH 12
                             6861 ; 571  |
                             6862 ; 572  |#define HW_MIXRECSELR_SR_SETMASK 7<<HW_MIXRECSELR_SR_BITPOS
                             6863 ; 573  |#define HW_MIXRECSELR_SL_SETMASK 7<<HW_MIXRECSELR_SL_BITPOS
                             6864 ; 574  |#define HW_MIXRECSELR_X_SETMASK 1<<HW_MIXRECSELR_X_BITPOS
                             6865 ; 575  |
                             6866 ; 576  |#define HW_MIXRECSELR_SR_MIC_SETMASK 0<<HW_MIXRECSELR_SR_BITPOS
                             6867 ; 577  |#define HW_MIXRECSELR_SR_LINEIN2_SETMASK 3<<HW_MIXRECSELR_SR_BITPOS
                             6868 ; 578  |#define HW_MIXRECSELR_SR_LINEIN1_SETMASK 4<<HW_MIXRECSELR_SR_BITPOS
                             6869 ; 579  |#define HW_MIXRECSELR_SR_MIX_SETMASK 5<<HW_MIXRECSELR_SR_BITPOS
                             6870 ; 580  |
                             6871 ; 581  |#define HW_MIXRECSELR_SL_MIC_SETMASK 0<<HW_MIXRECSELR_SL_BITPOS
                             6872 ; 582  |#define HW_MIXRECSELR_SL_LINEIN2_SETMASK 3<<HW_MIXRECSELR_SL_BITPOS
                             6873 ; 583  |#define HW_MIXRECSELR_SL_LINEIN1_SETMASK 4<<HW_MIXRECSELR_SL_BITPOS
                             6874 ; 584  |#define HW_MIXRECSELR_SL_MIX_SETMASK 5<<HW_MIXRECSELR_SL_BITPOS
                             6875 ; 585  |
                             6876 ; 586  |#define HW_MIXRECSELR_SR_CLRMASK ~(WORD)HW_MIXRECSELR_SR_SETMASK
                             6877 ; 587  |#define HW_MIXRECSELR_SL_CLRMASK ~(WORD)HW_MIXRECSELR_SL_SETMASK
                             6878 ; 588  |#define HW_MIXRECSELR_SR_SL_CLRMASK ~(WORD)(HW_MIXRECSELR_SR_SETMASK|HW_MIXRECSELR_SL_SETM
                                  ASK)
                             6879 ; 589  |#define HW_MIXRECSELR_X_CLRMASK ~(WORD)HW_MIXRECSELR_X_SETMASK
                             6880 ; 590  |
                             6881 ; 591  |typedef union               
                             6882 ; 592  |{
                             6883 ; 593  |    struct {
                             6884 ; 594  |        int SR          : HW_MIXRECSELR_SR_WIDTH;
                             6885 ; 595  |        int RSVD1       : HW_MIXRECSELR_RSVD1_WIDTH;
                             6886 ; 596  |        int SL          : HW_MIXRECSELR_SL_WIDTH;
                             6887 ; 597  |        int X           : HW_MIXRECSELR_X_WIDTH;
                             6888 ; 598  |        int RSVD2       : HW_MIXRECSELR_RSVD2_WIDTH;
                             6889 ; 599  |    } B;
                             6890 ; 600  |    int I;
                             6891 ; 601  |    unsigned int U;
                             6892 ; 602  |} mix_recselr_type;
                             6893 ; 603  |#define HW_MIXRECSELR (*(volatile mix_recselr_type _X*) (HW_CODEC_BASEADDR+9))
                             6894 ; 604  |
                             6895 ; 605  |
                             6896 ; 606  |
                             6897 ; 607  |/////////////////////////////////////////////////////////////////////////////////
                             6898 ; 608  |//   Mixer ADC In Gain Register (HW_MIXADCGAINR) Bit Definitions
                             6899 ; 609  |#define HW_MIXADCGAINR_GR_BITPOS 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 113

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6900 ; 610  |#define HW_MIXADCGAINR_GL_BITPOS 8
                             6901 ; 611  |#define HW_MIXADCGAINR_MUTE_BITPOS 15
                             6902 ; 612  |
                             6903 ; 613  |#define HW_MIXADCGAINR_GR_WIDTH 4
                             6904 ; 614  |#define HW_MIXADCGAINR_RSVD1_WIDTH 4
                             6905 ; 615  |#define HW_MIXADCGAINR_GL_WIDTH 4
                             6906 ; 616  |#define HW_MIXADCGAINR_RSVD2_WIDTH 3
                             6907 ; 617  |#define HW_MIXADCGAINR_MUTE_WIDTH 1
                             6908 ; 618  |#define HW_MIXADCGAINR_RSVD3_WIDTH 8
                             6909 ; 619  |
                             6910 ; 620  |#define HW_MIXADCGAINR_GR_SETMASK 0x1F<<HW_MIXADCGAINR_GR_BITPOS
                             6911 ; 621  |#define HW_MIXADCGAINR_GL_SETMASK 0x1F<<HW_MIXADCGAINR_GL_BITPOS
                             6912 ; 622  |#define HW_MIXADCGAINR_MUTE_SETMASK 1<<HW_MIXADCGAINR_MUTE_BITPOS
                             6913 ; 623  |
                             6914 ; 624  |#define HW_MIXADCGAINR_GR_CLRMASK ~(WORD)HW_MIXADCGAINR_GR_SETMASK
                             6915 ; 625  |#define HW_MIXADCGAINR_GL_CLRMASK ~(WORD)HW_MIXADCGAINR_GL_SETMASK
                             6916 ; 626  |#define HW_MIXADCGAINR_MUTE_CLRMASK ~(WORD)HW_MIXADCGAINR_MUTE_SETMASK
                             6917 ; 627  |
                             6918 ; 628  |#define HW_MIXADCGAINR_GL_00P0_SETMASK 0<<HW_MIXADCGAINR_GL_BITPOS
                             6919 ; 629  |#define HW_MIXADCGAINR_GL_01P5_SETMASK 1<<HW_MIXADCGAINR_GL_BITPOS
                             6920 ; 630  |#define HW_MIXADCGAINR_GL_03P0_SETMASK 2<<HW_MIXADCGAINR_GL_BITPOS
                             6921 ; 631  |#define HW_MIXADCGAINR_GL_04P5_SETMASK 3<<HW_MIXADCGAINR_GL_BITPOS
                             6922 ; 632  |#define HW_MIXADCGAINR_GL_06P0_SETMASK 4<<HW_MIXADCGAINR_GL_BITPOS
                             6923 ; 633  |#define HW_MIXADCGAINR_GL_07P5_SETMASK 5<<HW_MIXADCGAINR_GL_BITPOS
                             6924 ; 634  |#define HW_MIXADCGAINR_GL_09P0_SETMASK 6<<HW_MIXADCGAINR_GL_BITPOS
                             6925 ; 635  |#define HW_MIXADCGAINR_GL_10P5_SETMASK 7<<HW_MIXADCGAINR_GL_BITPOS
                             6926 ; 636  |#define HW_MIXADCGAINR_GL_12P0_SETMASK 8<<HW_MIXADCGAINR_GL_BITPOS
                             6927 ; 637  |#define HW_MIXADCGAINR_GL_13P5_SETMASK 9<<HW_MIXADCGAINR_GL_BITPOS
                             6928 ; 638  |#define HW_MIXADCGAINR_GL_15P0_SETMASK 10<<HW_MIXADCGAINR_GL_BITPOS
                             6929 ; 639  |#define HW_MIXADCGAINR_GL_16P5_SETMASK 11<<HW_MIXADCGAINR_GL_BITPOS
                             6930 ; 640  |#define HW_MIXADCGAINR_GL_18P0_SETMASK 12<<HW_MIXADCGAINR_GL_BITPOS
                             6931 ; 641  |#define HW_MIXADCGAINR_GL_19P5_SETMASK 13<<HW_MIXADCGAINR_GL_BITPOS
                             6932 ; 642  |#define HW_MIXADCGAINR_GL_21P0_SETMASK 14<<HW_MIXADCGAINR_GL_BITPOS
                             6933 ; 643  |#define HW_MIXADCGAINR_GL_22P5_SETMASK 15<<HW_MIXADCGAINR_GL_BITPOS
                             6934 ; 644  |
                             6935 ; 645  |#define HW_MIXADCGAINR_GR_00P0_SETMASK 0
                             6936 ; 646  |#define HW_MIXADCGAINR_GR_01P5_SETMASK 1
                             6937 ; 647  |#define HW_MIXADCGAINR_GR_03P0_SETMASK 2
                             6938 ; 648  |#define HW_MIXADCGAINR_GR_04P5_SETMASK 3
                             6939 ; 649  |#define HW_MIXADCGAINR_GR_06P0_SETMASK 4
                             6940 ; 650  |#define HW_MIXADCGAINR_GR_07P5_SETMASK 5
                             6941 ; 651  |#define HW_MIXADCGAINR_GR_09P0_SETMASK 6
                             6942 ; 652  |#define HW_MIXADCGAINR_GR_10P5_SETMASK 7
                             6943 ; 653  |#define HW_MIXADCGAINR_GR_12P0_SETMASK 8
                             6944 ; 654  |#define HW_MIXADCGAINR_GR_13P5_SETMASK 9
                             6945 ; 655  |#define HW_MIXADCGAINR_GR_15P0_SETMASK 10
                             6946 ; 656  |#define HW_MIXADCGAINR_GR_16P5_SETMASK 11
                             6947 ; 657  |#define HW_MIXADCGAINR_GR_18P0_SETMASK 12
                             6948 ; 658  |#define HW_MIXADCGAINR_GR_19P5_SETMASK 13
                             6949 ; 659  |#define HW_MIXADCGAINR_GR_21P0_SETMASK 14
                             6950 ; 660  |#define HW_MIXADCGAINR_GR_22P5_SETMASK 15
                             6951 ; 661  |
                             6952 ; 662  |typedef union               
                             6953 ; 663  |{
                             6954 ; 664  |    struct {
                             6955 ; 665  |        int GR          : HW_MIXADCGAINR_GR_WIDTH;
                             6956 ; 666  |        int RSVD1       : HW_MIXADCGAINR_RSVD1_WIDTH;
                             6957 ; 667  |        int GL          : HW_MIXADCGAINR_GL_WIDTH;
                             6958 ; 668  |        int RSVD2       : HW_MIXADCGAINR_RSVD2_WIDTH;
                             6959 ; 669  |        int MUTE        : HW_MIXADCGAINR_MUTE_WIDTH;
                             6960 ; 670  |        int RSVD3       : HW_MIXADCGAINR_RSVD3_WIDTH;
                             6961 ; 671  |    } B;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 114

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6962 ; 672  |    int I;
                             6963 ; 673  |    unsigned int U;
                             6964 ; 674  |} mix_adcgainr_type;
                             6965 ; 675  |#define HW_MIXADCGAINR (*(volatile mix_adcgainr_type _X*) (HW_CODEC_BASEADDR+10))
                             6966 ; 676  |
                             6967 ; 677  |
                             6968 ; 678  |
                             6969 ; 679  |/////////////////////////////////////////////////////////////////////////////////
                             6970 ; 680  |//   Mixer Power Down Register (HW_MIXPWRDNR) Bit Definitions
                             6971 ; 681  |#define HW_MIXPWRDNR_PR0_BITPOS 9
                             6972 ; 682  |#define HW_MIXPWRDNR_PR1_BITPOS 10
                             6973 ; 683  |#define HW_MIXPWRDNR_PR2_BITPOS 11
                             6974 ; 684  |
                             6975 ; 685  |#define HW_MIXPWRDNR_PR0_WIDTH (1)
                             6976 ; 686  |#define HW_MIXPWRDNR_PR1_WIDTH (1)
                             6977 ; 687  |#define HW_MIXPWRDNR_PR2_WIDTH (1)
                             6978 ; 688  |#define HW_MIXPWRDNR_RSVD_WIDTH (12)
                             6979 ; 689  |
                             6980 ; 690  |#define HW_MIXPWRDNR_PR_SETMASK 7<<HW_MIXPWRDNR_PR0_BITPOS
                             6981 ; 691  |
                             6982 ; 692  |#define HW_MIXPWRDNR_PR_CLRMASK ~(WORD)HW_MIXPWRDNR_PR_SETMASK
                             6983 ; 693  |
                             6984 ; 694  |typedef union               
                             6985 ; 695  |{
                             6986 ; 696  |    struct {
                             6987 ; 697  |                int                     : 9;
                             6988 ; 698  |       int PR0          : HW_MIXPWRDNR_PR0_WIDTH;
                             6989 ; 699  |       int PR1          : HW_MIXPWRDNR_PR1_WIDTH;
                             6990 ; 700  |       int PR2          : HW_MIXPWRDNR_PR2_WIDTH;
                             6991 ; 701  |       int RSVD         : HW_MIXPWRDNR_RSVD_WIDTH;
                             6992 ; 702  |    } B;
                             6993 ; 703  |    int I;
                             6994 ; 704  |    unsigned int U;
                             6995 ; 705  |} mix_pwrdnr_type;
                             6996 ; 706  |#define HW_MIXPWRDNR (*(volatile mix_pwrdnr_type _X*) (HW_CODEC_BASEADDR+11))
                             6997 ; 707  |
                             6998 ; 708  |
                             6999 ; 709  |/////////////////////////////////////////////////////////////////////////////////
                             7000 ; 710  |
                             7001 ; 711  |//  Mixer Test Register (HW_MIX_TEST) Bit Definitions
                             7002 ; 712  |
                             7003 ; 713  |#define HW_MIX_TEST_DAC_CHOP_CLK_WIDTH (2)
                             7004 ; 714  |
                             7005 ; 715  |#define HW_MIX_TEST_RSVD0_WIDTH (2)
                             7006 ; 716  |
                             7007 ; 717  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH (1)
                             7008 ; 718  |
                             7009 ; 719  |#define HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH (1)
                             7010 ; 720  |
                             7011 ; 721  |#define HW_MIX_TEST_RSVD1_WIDTH (2)
                             7012 ; 722  |
                             7013 ; 723  |#define HW_MIX_TEST_TMP_CFG_WIDTH (4)
                             7014 ; 724  |
                             7015 ; 725  |#define HW_MIX_TEST_TMPPWD_WIDTH (1)
                             7016 ; 726  |
                             7017 ; 727  |#define HW_MIX_TEST_RSVD2_WIDTH (11)
                             7018 ; 728  |
                             7019 ; 729  |
                             7020 ; 730  |
                             7021 ; 731  |#define HW_MIX_TEST_DAC_CHOP_CLK_BITPOS (0)
                             7022 ; 732  |
                             7023 ; 733  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_BITPOS (4)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 115

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7024 ; 734  |
                             7025 ; 735  |#define HW_MIX_TEST_DAC_MORE_AMP_I_BITPOS (5)
                             7026 ; 736  |
                             7027 ; 737  |#define HW_MIX_TEST_TMP_CFG_BITPOS (8)
                             7028 ; 738  |
                             7029 ; 739  |#define HW_MIX_TEST_TMPPWD_BITPOS (12)
                             7030 ; 740  |
                             7031 ; 741  |
                             7032 ; 742  |
                             7033 ; 743  |#define HW_MIX_TEST_DAC_CHOP_CLK_SETMASK (((1<<HW_MIX_TEST_DAC_CHOP_CLK_WIDTH)-1)<<HW_MIX_
                                  TEST_DAC_CHOP_CLK_BITPOS)        
                             7034 ; 744  |
                             7035 ; 745  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_SETMASK (((1<<HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH)-1)<<H
                                  W_MIX_TEST_DAC_DISABLE_RTZ_BITPOS)        
                             7036 ; 746  |
                             7037 ; 747  |#define HW_MIX_TEST_DAC_MORE_AMP_I_SETMASK (((1<<HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH)-1)<<HW_
                                  MIX_TEST_DAC_MORE_AMP_I_BITPOS) 
                             7038 ; 748  |
                             7039 ; 749  |#define HW_MIX_TEST_TMP_CFG_SETMASK (((1<<HW_MIX_TEST_TMP_CFG_WIDTH)-1)<<HW_MIX_TEST_TMP_C
                                  FG_BITPOS) 
                             7040 ; 750  |
                             7041 ; 751  |#define HW_MIX_TEST_TMPPWD_SETMASK (((1<<HW_MIX_TEST_TMPPWD_WIDTH)-1)<<HW_MIX_TEST_TMPPWD_
                                  BITPOS) 
                             7042 ; 752  |
                             7043 ; 753  |
                             7044 ; 754  |#define HW_MIX_TEST_DAC_CHOP_CLK_CLRMASK (~(WORD)HW_MIX_TEST_DAC_CHOP_CLK_SETMASK)     
                             7045 ; 755  |
                             7046 ; 756  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_CLRMASK (~(WORD)HW_MIX_TEST_DAC_DISABLE_RTZ_SETMASK)  
                                     
                             7047 ; 757  |
                             7048 ; 758  |#define HW_MIX_TEST_DAC_MORE_AMP_I_CLRMASK (~(WORD)HW_MIX_TEST_DAC_MORE_AMP_I_SETMASK) 
                             7049 ; 759  |
                             7050 ; 760  |#define HW_MIX_TEST_TMP_CFG_CLRMASK (~(WORD)HW_MIX_TEST_TMP_CFG_SETMASK) 
                             7051 ; 761  |
                             7052 ; 762  |#define HW_MIX_TEST_TMPPWD_CLRMASK (~(WORD)HW_MIX_TEST_TMPPWD_SETMASK) 
                             7053 ; 763  |
                             7054 ; 764  |
                             7055 ; 765  |typedef union               
                             7056 ; 766  |{
                             7057 ; 767  |    struct {
                             7058 ; 768  |        int DAC_CHOP_CLK                   : HW_MIX_TEST_DAC_CHOP_CLK_WIDTH;
                             7059 ; 769  |        int RSVD0                          : HW_MIX_TEST_RSVD0_WIDTH;
                             7060 ; 770  |        int DAC_DISABLE_RTZ                : HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH;
                             7061 ; 771  |        int DAC_MORE_AMP_I                 : HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH;
                             7062 ; 772  |        int RSVD1                          : HW_MIX_TEST_RSVD1_WIDTH;
                             7063 ; 773  |        int TMP_CFG                        : HW_MIX_TEST_TMP_CFG_WIDTH;
                             7064 ; 774  |        int TMPPWD                         : HW_MIX_TEST_TMPPWD_WIDTH;
                             7065 ; 775  |        int RSVD2                          : HW_MIX_TEST_RSVD2_WIDTH;
                             7066 ; 776  |    } B;
                             7067 ; 777  |    int I;
                             7068 ; 778  |    unsigned int U;
                             7069 ; 779  |} mix_test_type;
                             7070 ; 780  |#define HW_MIX_TEST      (*(volatile mix_test_type _X*) (HW_CODEC_BASEADDR+28))    /* Anal
                                  og Persistent Config Register */
                             7071 ; 781  |
                             7072 ; 782  |
                             7073 ; 783  |/////////////////////////////////////////////////////////////////////////////////
                             7074 ; 784  |//   Reference Control Register (HW_REF_CTRL) Bit Definitions
                             7075 ; 785  |#define HW_REF_CTRL_DACVBGVAL_BITPOS 0
                             7076 ; 786  |#define HW_REF_CTRL_ADJDAC_BITPOS 4
                             7077 ; 787  |#define HW_REF_CTRL_VAGVAL_BITPOS 5
                             7078 ; 788  |#define HW_REF_CTRL_ADJV_BITPOS 9
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 116

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7079 ; 789  |#define HW_REF_CTRL_ADCREFV_BITPOS 10
                             7080 ; 790  |#define HW_REF_CTRL_ADJADC_BITPOS 14
                             7081 ; 791  |#define HW_REF_CTRL_PWRDWNS_BITPOS 15
                             7082 ; 792  |#define HW_REF_CTRL_BIASC_BITPOS 16
                             7083 ; 793  |#define HW_REF_CTRL_LWREF_BITPOS 18
                             7084 ; 794  |#define HW_REF_CTRL_LOW_PWR_BITPOS 19 
                             7085 ; 795  |
                             7086 ; 796  |#define HW_REF_CTRL_DACVBGVAL_WIDTH (4)
                             7087 ; 797  |#define HW_REF_CTRL_ADJDAC_WIDTH (1)
                             7088 ; 798  |#define HW_REF_CTRL_VAGVAL_WIDTH (4)
                             7089 ; 799  |#define HW_REF_CTRL_ADJV_WIDTH (1)
                             7090 ; 800  |#define HW_REF_CTRL_ADCREFV_WIDTH (4)
                             7091 ; 801  |#define HW_REF_CTRL_ADJADC_WIDTH (1)
                             7092 ; 802  |#define HW_REF_CTRL_PWRDWNS_WIDTH (1)
                             7093 ; 803  |#define HW_REF_CTRL_BIASC_WIDTH (2)
                             7094 ; 804  |#define HW_REF_CTRL_LWREF_WIDTH (1)
                             7095 ; 805  |#define HW_REF_CTRL_LOW_PWR_WIDTH (1) 
                             7096 ; 806  |#define HW_REF_CTRL_RSVD_WIDTH (4)
                             7097 ; 807  |
                             7098 ; 808  |#define HW_REF_CTRL_DACVBGVAL_SETMASK (((1<<HW_REF_CTRL_DACVBGVAL_WIDTH)-1)<<HW_REF_CTRL_D
                                  ACVBGVAL_BITPOS)
                             7099 ; 809  |#define HW_REF_CTRL_ADJDAC_SETMASK (((1<<HW_REF_CTRL_ADJDAC_WIDTH)-1)<<HW_REF_CTRL_ADJDAC_
                                  BITPOS)
                             7100 ; 810  |#define HW_REF_CTRL_VAGVAL_SETMASK (((1<<HW_REF_CTRL_VAGVAL_WIDTH)-1)<<HW_REF_CTRL_VAGVAL_
                                  BITPOS)
                             7101 ; 811  |#define HW_REF_CTRL_ADJV_SETMASK (((1<<HW_REF_CTRL_ADJV_WIDTH)-1)<<HW_REF_CTRL_ADJV_BITPOS
                                  )
                             7102 ; 812  |#define HW_REF_CTRL_ADCREFV_SETMASK (((1<<HW_REF_CTRL_ADCREFV_WIDTH)-1)<<HW_REF_CTRL_ADCRE
                                  FV_BITPOS)
                             7103 ; 813  |#define HW_REF_CTRL_ADJADC_SETMASK (((1<<HW_REF_CTRL_ADJADC_WIDTH)-1)<<HW_REF_CTRL_ADJADC_
                                  BITPOS)
                             7104 ; 814  |#define HW_REF_CTRL_PWRDWNS_SETMASK (((1<<HW_REF_CTRL_PWRDWNS_WIDTH)-1)<<HW_REF_CTRL_PWRDW
                                  NS_BITPOS)
                             7105 ; 815  |#define HW_REF_CTRL_BIASC_SETMASK (((1<<HW_REF_CTRL_BIASC_WIDTH)-1)<<HW_REF_CTRL_BIASC_BIT
                                  POS)
                             7106 ; 816  |#define HW_REF_CTRL_LWREF_SETMASK (((1<<HW_REF_CTRL_LWREF_WIDTH)-1)<<HW_REF_CTRL_LWREF_BIT
                                  POS)
                             7107 ; 817  |#define HW_REF_CTRL_LOW_PWR_SETMASK (((1<<HW_REF_CTRL_LOW_PWR_WIDTH)-1)<<HW_REF_CTRL_LOW_P
                                  WR_BITPOS)
                             7108 ; 818  |
                             7109 ; 819  |#define HW_REF_CTRL_DACVBGVAL_CLRMASK ~(WORD)HW_REF_CTRL_DACVBGVAL_SETMASK
                             7110 ; 820  |#define HW_REF_CTRL_ADJDAC_CLRMASK ~(WORD)HW_REF_CTRL_ADJDAC_SETMASK
                             7111 ; 821  |#define HW_REF_CTRL_VAGVAL_CLRMASK ~(WORD)HW_REF_CTRL_VAGVAL_SETMASK
                             7112 ; 822  |#define HW_REF_CTRL_ADJV_CLRMASK ~(WORD)HW_REF_CTRL_ADJV_SETMASK
                             7113 ; 823  |#define HW_REF_CTRL_ADCREFV_CLRMASK ~(WORD)HW_REF_CTRL_ADCREFV_SETMASK
                             7114 ; 824  |#define HW_REF_CTRL_ADJADC_CLRMASK ~(WORD)HW_REF_CTRL_ADJADC_SETMASK
                             7115 ; 825  |#define HW_REF_CTRL_PWRDWNS_CLRMASK ~(WORD)HW_REF_CTRL_PWRDWNS_SETMASK
                             7116 ; 826  |#define HW_REF_CTRL_BIASC_CLRMASK ~(WORD)HW_REF_CTRL_BIASC_SETMASK
                             7117 ; 827  |#define HW_REF_CTRL_LWREF_CLRMASK ~(WORD)HW_REF_CTRL_LWREF_SETMASK
                             7118 ; 828  |#define HW_REF_CTRL_LOW_PWR_CLRMASK ~(WORD)HW_REF_CTRL_LOW_PWR_SETMASK
                             7119 ; 829  |
                             7120 ; 830  |typedef union               
                             7121 ; 831  |{
                             7122 ; 832  |    struct {
                             7123 ; 833  |        int DACVBGVAL      : HW_REF_CTRL_DACVBGVAL_WIDTH;
                             7124 ; 834  |        int ADJDAC                 : HW_REF_CTRL_ADJDAC_WIDTH;
                             7125 ; 835  |        int VAGVAL                 : HW_REF_CTRL_VAGVAL_WIDTH;
                             7126 ; 836  |        int ADJV                   : HW_REF_CTRL_ADJV_WIDTH;
                             7127 ; 837  |        int ADCREFV       : HW_REF_CTRL_ADCREFV_WIDTH;
                             7128 ; 838  |        int ADJADC                 : HW_REF_CTRL_ADJADC_WIDTH;
                             7129 ; 839  |        int PWRDWNS       : HW_REF_CTRL_PWRDWNS_WIDTH;
                             7130 ; 840  |        int BIASC         : HW_REF_CTRL_BIASC_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 117

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7131 ; 841  |        int LWREF         : HW_REF_CTRL_LWREF_WIDTH;
                             7132 ; 842  |        int LOW_PWR       : HW_REF_CTRL_LOW_PWR_WIDTH;
                             7133 ; 843  |        int RSVD               : HW_REF_CTRL_RSVD_WIDTH;
                             7134 ; 844  |    } B;
                             7135 ; 845  |    int I;
                             7136 ; 846  |    unsigned int U;
                             7137 ; 847  |} ref_ctrl_type;
                             7138 ; 848  |#define HW_REF_CTRL (*(volatile ref_ctrl_type _X*) (HW_CODEC_BASEADDR+25))
                             7139 ; 849  |
                             7140 ; 850  |
                             7141 ; 851  |
                             7142 ; 852  |/////////////////////////////////////////////////////////////////////////////////
                             7143 ; 853  |/////////////////////////////////////////////////////////////////////////////////
                             7144 ; 854  |/////////////////////////////////////////////////////////////////////////////////
                             7145 ; 855  |//////  DAC Registers
                             7146 ; 856  |/////////////////////////////////////////////////////////////////////////////////
                             7147 ; 857  |/////////////////////////////////////////////////////////////////////////////////
                             7148 ; 858  |/////////////////////////////////////////////////////////////////////////////////
                             7149 ; 859  |#define HW_DAC_BASEADDR 0xF800
                             7150 ; 860  |
                             7151 ; 861  |
                             7152 ; 862  |
                             7153 ; 863  |/////////////////////////////////////////////////////////////////////////////////
                             7154 ; 864  |//  DAC Control Status Register (HW_DACCSR) Bit Definitions
                             7155 ; 865  |#define HW_DACCSR_TXEN_BITPOS 0
                             7156 ; 866  |#define HW_DACCSR_TXIEN_BITPOS 1
                             7157 ; 867  |#define HW_DACCSR_TXI_BITPOS 2
                             7158 ; 868  |#define HW_DACCSR_TXEXC_BITPOS 3
                             7159 ; 869  |#define HW_DACCSR_LPBK_BITPOS 4
                             7160 ; 870  |#define HW_DACCSR_DMASEL_BITPOS 5
                             7161 ; 871  |#define HW_DACCSR_DAC_HIPPOP_EN_BITPOS 7
                             7162 ; 872  |#define HW_DACCSR_LVUP_BITPOS 8
                             7163 ; 873  |#define HW_DACCSR_RVUP_BITPOS 9
                             7164 ; 874  |#define HW_DACCSR_VUP_BITPOS 10
                             7165 ; 875  |#define HW_DACCSR_RSRVD_BITPOS 11
                             7166 ; 876  |#define HW_DACCSR_CLKGT_BITPOS 23
                             7167 ; 877  |
                             7168 ; 878  |#define HW_DACCSR_TXEN_WIDTH (1)
                             7169 ; 879  |#define HW_DACCSR_TXIEN_WIDTH (1)
                             7170 ; 880  |#define HW_DACCSR_TXI_WIDTH (1)
                             7171 ; 881  |#define HW_DACCSR_TXEXC_WIDTH (1)
                             7172 ; 882  |#define HW_DACCSR_LPBK_WIDTH (1)
                             7173 ; 883  |#define HW_DACCSR_DMASEL_WIDTH (2)
                             7174 ; 884  |#define HW_DACCSR_DAC_HIPPOP_EN_WIDTH (1)
                             7175 ; 885  |#define HW_DACCSR_LVUP_WIDTH (1)
                             7176 ; 886  |#define HW_DACCSR_RVUP_WIDTH (1)
                             7177 ; 887  |#define HW_DACCSR_VUP_WIDTH (1)
                             7178 ; 888  |#define HW_DACCSR_RSRVD_WIDTH (12)
                             7179 ; 889  |#define HW_DACCSR_CLKGT_WIDTH (1)
                             7180 ; 890  |
                             7181 ; 891  |#define HW_DACCSR_TXEN_SETMASK 1<<HW_DACCSR_TXEN_BITPOS
                             7182 ; 892  |#define HW_DACCSR_TXIEN_SETMASK 1<<HW_DACCSR_TXIEN_BITPOS
                             7183 ; 893  |#define HW_DACCSR_TXI_SETMASK 1<<HW_DACCSR_TXI_BITPOS
                             7184 ; 894  |#define HW_DACCSR_TXEXC_SETMASK 1<<HW_DACCSR_TXEXC_BITPOS
                             7185 ; 895  |#define HW_DACCSR_LPBK_SETMASK 1<<HW_DACCSR_LPBK_BITPOS
                             7186 ; 896  |#define HW_DACCSR_DMASEL_P_SETMASK ((2)<<(HW_DACCSR_DMASEL_BITPOS))
                             7187 ; 897  |#define HW_DACCSR_DMASEL_Y_SETMASK (1<<(HW_DACCSR_DMASEL_BITPOS))
                             7188 ; 898  |//         DMASEL_X has no asm setmask since X config value is 00 binary.
                             7189 ; 899  |#define HW_DACCSR_DAC_HIPPOP_EN_SETMASK (1<<HW_DACCSR_DAC_HIPPOP_EN_BITPOS)
                             7190 ; 900  |#define HW_DACCSR_LVUP_SETMASK (1<<HW_DACCSR_LVUP_BITPOS)
                             7191 ; 901  |#define HW_DACCSR_RVUP_SETMASK (1<<HW_DACCSR_RVUP_BITPOS)
                             7192 ; 902  |#define HW_DACCSR_VUP_SETMASK (1<<HW_DACCSR_VUP_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 118

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7193 ; 903  |#define HW_DACCSR_CLKGT_SETMASK (1<<HW_DACCSR_CLKGT_BITPOS)
                             7194 ; 904  |
                             7195 ; 905  |#define HW_DACCSR_TXEN_CLRMASK ~(WORD)HW_DACCSR_TXEN_SETMASK
                             7196 ; 906  |#define HW_DACCSR_TXIEN_CLRMASK ~(WORD)HW_DACCSR_TXIEN_SETMASK
                             7197 ; 907  |#define HW_DACCSR_TXI_CLRMASK ~(WORD)HW_DACCSR_TXI_SETMASK
                             7198 ; 908  |#define HW_DACCSR_TXEXC_CLRMASK ~(WORD)HW_DACCSR_TXEXC_SETMASK
                             7199 ; 909  |#define HW_DACCSR_LPBK_CLRMASK ~(WORD)HW_DACCSR_LPBK_SETMASK
                             7200 ; 910  |// No asm clrmask for 2 bit bitfield DMASEL
                             7201 ; 911  |#define HW_DACCSR_DAC_HIPPOP_EN_CLRMASK ~(WORD)HW_DACCSR_DAC_HIPPOP_EN_SETMASK
                             7202 ; 912  |#define HW_DACCSR_LVUP_CLRMASK ~(WORD)HW_DACCSR_LVUP_SETMASK
                             7203 ; 913  |#define HW_DACCSR_RVUP_CLRMASK ~(WORD)HW_DACCSR_RVUP_SETMASK
                             7204 ; 914  |#define HW_DACCSR_VUP_CLRMASK ~(WORD)HW_DACCSR_VUP_SETMASK
                             7205 ; 915  |#define HW_DACCSR_CLKGT_CLRMASK ~(WORD)HW_DACCSR_CLKGT_SETMASK 
                             7206 ; 916  |
                             7207 ; 917  |
                             7208 ; 918  |typedef union               
                             7209 ; 919  |{
                             7210 ; 920  |    struct {
                             7211 ; 921  |        int TXEN                        : HW_DACCSR_TXEN_WIDTH;
                             7212 ; 922  |        int TXIEN                       : HW_DACCSR_TXIEN_WIDTH;
                             7213 ; 923  |        int TXI                         : HW_DACCSR_TXI_WIDTH;
                             7214 ; 924  |        int TXEXC                       : HW_DACCSR_TXEXC_WIDTH;
                             7215 ; 925  |        int LPBK                        : HW_DACCSR_LPBK_WIDTH;
                             7216 ; 926  |        int DMASEL                      : HW_DACCSR_DMASEL_WIDTH;
                             7217 ; 927  |             #define HW_DACCSR_DMASEL_X_BITFIELD_VAL    0
                             7218 ; 928  |             #define HW_DACCSR_DMASEL_Y_BITFIELD_VAL    1
                             7219 ; 929  |             #define HW_DACCSR_DMASEL_P_BITFIELD_VAL    2       
                             7220 ; 930  |        int DAC_HIPPOP_EN               : HW_DACCSR_DAC_HIPPOP_EN_WIDTH;
                             7221 ; 931  |        int LVUP                        : HW_DACCSR_LVUP_WIDTH;
                             7222 ; 932  |        int RVUP                        : HW_DACCSR_RVUP_WIDTH;
                             7223 ; 933  |        int VUP                         : HW_DACCSR_VUP_WIDTH;
                             7224 ; 934  |        int RSVD                        : HW_DACCSR_RSRVD_WIDTH;
                             7225 ; 935  |        int CLKGT                       : HW_DACCSR_CLKGT_WIDTH;
                             7226 ; 936  |    } B;
                             7227 ; 937  |    int I;
                             7228 ; 938  |    unsigned int U;
                             7229 ; 939  |} dac_csr_type;
                             7230 ; 940  |#define HW_DACCSR      (*(volatile dac_csr_type _X*) (HW_DAC_BASEADDR))
                             7231 ; 941  |
                             7232 ; 942  |
                             7233 ; 943  |
                             7234 ; 944  |/////////////////////////////////////////////////////////////////////////////////
                             7235 ; 945  |//  DAC Sample Rate Register (HW_DACSRR) Bit Definitions
                             7236 ; 946  |#define HW_DACSRR_SR_BITPOS 0
                             7237 ; 947  |
                             7238 ; 948  |#define HW_DACSRR_SR_WIDTH (23)
                             7239 ; 949  |#define HW_DACSRR_RSVD_WIDTH (1)
                             7240 ; 950  |
                             7241 ; 951  |//HW_DACSRR_SR_SETMASK                    equ     $FFFFFF<<HW_DACSRR_SR_BITPOS
                             7242 ; 952  |#define HW_DACSRR_SR_SETMASK (((1<<HW_DACSRR_SR_WIDTH)-1)<<HW_DACSRR_SR_BITPOS)        
                             7243 ; 953  |
                             7244 ; 954  |#define HW_DACSRR_SR_CLRMASK ~(WORD)HW_DACSRR_SR_SETMASK
                             7245 ; 955  |
                             7246 ; 956  |typedef union               
                             7247 ; 957  |{
                             7248 ; 958  |    struct {
                             7249 ; 959  |        int SR                          : HW_DACSRR_SR_WIDTH;
                             7250 ; 960  |        int RSVD                        : HW_DACSRR_RSVD_WIDTH;
                             7251 ; 961  |    } B;
                             7252 ; 962  |    int I;
                             7253 ; 963  |    unsigned int U;
                             7254 ; 964  |} dac_srr_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 119

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7255 ; 965  |#define HW_DACSRR      (*(volatile dac_srr_type _X*) (HW_DAC_BASEADDR+1))
                             7256 ; 966  |
                             7257 ; 967  |
                             7258 ; 968  |
                             7259 ; 969  |/////////////////////////////////////////////////////////////////////////////////
                             7260 ; 970  |//  DAC Word Count Register (HW_DACWCR) Bit Definitions
                             7261 ; 971  |#define HW_DACWCR_WCR_BITPOS 0
                             7262 ; 972  |
                             7263 ; 973  |#define HW_DACWCR_WCR_WIDTH (10)
                             7264 ; 974  |#define HW_DACWCR_RSVD_WIDTH (12)
                             7265 ; 975  |
                             7266 ; 976  |//HW_DACWCR_WCR_SETMASK                   equ     $3FF<<HW_DACWCR_WCR_BITPOS
                             7267 ; 977  |#define HW_DACWCR_WCR_SETMASK (((1<<HW_DACWCR_WCR_WIDTH)-1)<<HW_DACWCR_WCR_BITPOS)        
                                  
                             7268 ; 978  |
                             7269 ; 979  |#define HW_DACWCR_WCR_CLRMASK ~(WORD)HW_DACWCR_WCR_SETMASK
                             7270 ; 980  |
                             7271 ; 981  |typedef union               
                             7272 ; 982  |{
                             7273 ; 983  |    struct {
                             7274 ; 984  |        int WCR                         : HW_DACWCR_WCR_WIDTH;
                             7275 ; 985  |        int RSVD                        : HW_DACWCR_RSVD_WIDTH;
                             7276 ; 986  |    } B;
                             7277 ; 987  |    int I;
                             7278 ; 988  |    unsigned int U;
                             7279 ; 989  |} dac_wcr_type;
                             7280 ; 990  |#define HW_DACWCR      (*(volatile dac_wcr_type _X*) (HW_DAC_BASEADDR+2))
                             7281 ; 991  |
                             7282 ; 992  |
                             7283 ; 993  |
                             7284 ; 994  |/////////////////////////////////////////////////////////////////////////////////
                             7285 ; 995  |//  DAC Current Position Register (HW_DACCPR) Bit Definitions
                             7286 ; 996  |#define HW_DACCPR_CPR_BITPOS 0
                             7287 ; 997  |
                             7288 ; 998  |#define HW_DACCPR_CPR_WIDTH (10)
                             7289 ; 999  |#define HW_DACCPR_RSVD_WIDTH (14)
                             7290 ; 1000 |
                             7291 ; 1001 |//HW_DACCPR_CPR_SETMASK                   equ     $3FF<<HW_DACCPR_CPR_BITPOS
                             7292 ; 1002 |#define HW_DACCPR_CPR_SETMASK (((1<<HW_DACCPR_CPR_WIDTH)-1)<<HW_DACCPR_CPR_BITPOS)        
                                  
                             7293 ; 1003 |
                             7294 ; 1004 |#define HW_DACCPR_CPR_CLRMASK ~(WORD)HW_DACCPR_CPR_SETMASK
                             7295 ; 1005 |
                             7296 ; 1006 |typedef union               
                             7297 ; 1007 |{
                             7298 ; 1008 |    struct {
                             7299 ; 1009 |        int CPR                         : HW_DACCPR_CPR_WIDTH;
                             7300 ; 1010 |        int RSVD                        : HW_DACCPR_RSVD_WIDTH;
                             7301 ; 1011 |    } B;
                             7302 ; 1012 |    int I;
                             7303 ; 1013 |    unsigned int U;
                             7304 ; 1014 |} dac_cpr_type;
                             7305 ; 1015 |#define HW_DACCPR      (*(volatile dac_cpr_type _X*) (HW_DAC_BASEADDR+3))
                             7306 ; 1016 |
                             7307 ; 1017 |
                             7308 ; 1018 |
                             7309 ; 1019 |/////////////////////////////////////////////////////////////////////////////////
                             7310 ; 1020 |//  DAC Modulo Register (HW_DACMR) Bit Definitions
                             7311 ; 1021 |#define HW_DACMR_MR_BITPOS 0
                             7312 ; 1022 |#define HW_DACMR_MR_WIDTH (10)
                             7313 ; 1023 |#define HW_DACMR_RSVD_WIDTH (14)
                             7314 ; 1024 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 120

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7315 ; 1025 |//HW_DACMR_MR_SETMASK                     equ     $3FF<<HW_DACMR_MR_BITPOS
                             7316 ; 1026 |#define HW_DACMR_MR_SETMASK (((1<<HW_DACMR_MR_WIDTH)-1)<<HW_DACMR_MR_BITPOS)        
                             7317 ; 1027 |
                             7318 ; 1028 |#define HW_DACMR_MR_CLRMASK ~(WORD)HW_DACMR_MR_SETMASK
                             7319 ; 1029 |
                             7320 ; 1030 |typedef union               
                             7321 ; 1031 |{
                             7322 ; 1032 |    struct {
                             7323 ; 1033 |        int MR                         : HW_DACMR_MR_WIDTH;
                             7324 ; 1034 |        int RSVD                       : HW_DACMR_RSVD_WIDTH;
                             7325 ; 1035 |    } B;
                             7326 ; 1036 |    int I;
                             7327 ; 1037 |    unsigned int U;
                             7328 ; 1038 |} dac_mr_type;
                             7329 ; 1039 |#define HW_DACMR      (*(volatile dac_mr_type _X*) (HW_DAC_BASEADDR+4))
                             7330 ; 1040 |
                             7331 ; 1041 |
                             7332 ; 1042 |
                             7333 ; 1043 |/////////////////////////////////////////////////////////////////////////////////
                             7334 ; 1044 |//   DAC Base Address Register (HW_DACBAR) Bit Definitions
                             7335 ; 1045 |#define HW_DACBAR_BAR_BITPOS 0
                             7336 ; 1046 |#define HW_DACBAR_BAR_WIDTH (16)
                             7337 ; 1047 |#define HW_DACBAR_RSVD_WIDTH (8)
                             7338 ; 1048 |
                             7339 ; 1049 |//HW_DACBAR_BAR_SETMASK                   equ     $FFFF<<HW_DACBAR_BAR_BITPOS
                             7340 ; 1050 |#define HW_DACBAR_BAR_SETMASK (((1<<HW_DACBAR_BAR_WIDTH)-1)<<HW_DACBAR_BAR_BITPOS)        
                                  
                             7341 ; 1051 |
                             7342 ; 1052 |#define HW_DACBAR_BAR_CLRMASK ~(WORD)HW_DACBAR_BAR_SETMASK
                             7343 ; 1053 |
                             7344 ; 1054 |typedef union               
                             7345 ; 1055 |{
                             7346 ; 1056 |    struct {
                             7347 ; 1057 |        int BAR                        : HW_DACBAR_BAR_WIDTH;
                             7348 ; 1058 |        int RSVD                       : HW_DACBAR_RSVD_WIDTH;
                             7349 ; 1059 |    } B;
                             7350 ; 1060 |    int I;
                             7351 ; 1061 |    unsigned int U;
                             7352 ; 1062 |} dac_bar_type;
                             7353 ; 1063 |#define HW_DACBAR      (*(volatile dac_bar_type _X*) (HW_DAC_BASEADDR+5))
                             7354 ; 1064 |
                             7355 ; 1065 |
                             7356 ; 1066 |
                             7357 ; 1067 |/////////////////////////////////////////////////////////////////////////////////
                             7358 ; 1068 |//  DAC Interrupt Control Register (HW_DACICR) Bit Definitions
                             7359 ; 1069 |#define HW_DACICR_IPT_BITPOS 0
                             7360 ; 1070 |
                             7361 ; 1071 |#define HW_DACICR_IPT_WIDTH (10)
                             7362 ; 1072 |#define HW_DACICR_RSVD_WIDTH (12)
                             7363 ; 1073 |
                             7364 ; 1074 |#define HW_DACICR_IPT_SETMASK (((1<<HW_DACICR_IPT_WIDTH)-1)<<HW_DACICR_IPT_BITPOS)        
                                  
                             7365 ; 1075 |
                             7366 ; 1076 |#define HW_DACICR_IPT_CLRMASK ~(WORD)HW_DACICR_IPT_SETMASK
                             7367 ; 1077 |
                             7368 ; 1078 |typedef union               
                             7369 ; 1079 |{
                             7370 ; 1080 |    struct {
                             7371 ; 1081 |        int IPT                         : HW_DACICR_IPT_WIDTH;
                             7372 ; 1082 |        int RSVD                        : HW_DACICR_RSVD_WIDTH;
                             7373 ; 1083 |    } B;
                             7374 ; 1084 |    int I;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 121

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7375 ; 1085 |    unsigned int U;
                             7376 ; 1086 |} dac_icr_type;
                             7377 ; 1087 |#define HW_DACICR      (*(volatile dac_icr_type _X*) (HW_DAC_BASEADDR+6))
                             7378 ; 1088 |
                             7379 ; 1089 |
                             7380 ; 1090 |
                             7381 ; 1091 |
                             7382 ; 1092 |
                             7383 ; 1093 |/////////////////////////////////////////////////////////////////////////////////
                             7384 ; 1094 |/////////////////////////////////////////////////////////////////////////////////
                             7385 ; 1095 |/////////////////////////////////////////////////////////////////////////////////
                             7386 ; 1096 |//////  ADC Registers
                             7387 ; 1097 |/////////////////////////////////////////////////////////////////////////////////
                             7388 ; 1098 |/////////////////////////////////////////////////////////////////////////////////
                             7389 ; 1099 |/////////////////////////////////////////////////////////////////////////////////
                             7390 ; 1100 |#define HW_ADC_BASEADDR 0xFB00
                             7391 ; 1101 |
                             7392 ; 1102 |
                             7393 ; 1103 |
                             7394 ; 1104 |/////////////////////////////////////////////////////////////////////////////////
                             7395 ; 1105 |//  ADC Control Status Register (HW_ADCCSR) Bit Definitions
                             7396 ; 1106 |#define HW_ADCCSR_TXEN_BITPOS 0
                             7397 ; 1107 |#define HW_ADCCSR_TXIEN_BITPOS 1
                             7398 ; 1108 |#define HW_ADCCSR_TXI_BITPOS 2
                             7399 ; 1109 |#define HW_ADCCSR_TXEXC_BITPOS 3
                             7400 ; 1110 |#define HW_ADCCSR_LPBK_BITPOS 4
                             7401 ; 1111 |#define HW_ADCCSR_DMASEL_BITPOS 5
                             7402 ; 1112 |#define HW_ADCCSR_LPFMODE_BITPOS 8
                             7403 ; 1113 |#define HW_ADCCSR_CLKGT_BITPOS 23
                             7404 ; 1114 |
                             7405 ; 1115 |#define HW_ADCCSR_TXEN_WIDTH (1)
                             7406 ; 1116 |#define HW_ADCCSR_TXIEN_WIDTH (1)
                             7407 ; 1117 |#define HW_ADCCSR_TXI_WIDTH (1)
                             7408 ; 1118 |#define HW_ADCCSR_TXEXC_WIDTH (1)
                             7409 ; 1119 |#define HW_ADCCSR_LPBK_WIDTH (1)
                             7410 ; 1120 |#define HW_ADCCSR_DMASEL_WIDTH (2)
                             7411 ; 1121 |#define HW_ADCCSR_RSVD1_WIDTH (1)
                             7412 ; 1122 |#define HW_ADCCSR_LPFMODE_WIDTH (4)
                             7413 ; 1123 |#define HW_ADCCSR_RSVD2_WIDTH (11)
                             7414 ; 1124 |#define HW_ADCCSR_CLKGT_WIDTH (1)
                             7415 ; 1125 |
                             7416 ; 1126 |#define HW_ADCCSR_TXEN_SETMASK 1<<HW_ADCCSR_TXEN_BITPOS
                             7417 ; 1127 |#define HW_ADCCSR_TXIEN_SETMASK 1<<HW_ADCCSR_TXIEN_BITPOS
                             7418 ; 1128 |#define HW_ADCCSR_TXI_SETMASK 1<<HW_ADCCSR_TXI_BITPOS
                             7419 ; 1129 |#define HW_ADCCSR_TXEXC_SETMASK 1<<HW_ADCCSR_TXEXC_BITPOS
                             7420 ; 1130 |#define HW_ADCCSR_LPBK_SETMASK 1<<HW_ADCCSR_LPBK_BITPOS
                             7421 ; 1131 |#define HW_ADCCSR_DMASEL_SETMASK (((1<<HW_ADCCSR_DMASEL_WIDTH)-1)<<HW_ADCCSR_DMASEL_BITPOS
                                  )        
                             7422 ; 1132 |#define HW_ADCCSR_LPFMODE_SETMASK (((1<<HW_ADCCSR_LPFMODE_WIDTH)-1)<<HW_ADCCSR_LPFMODE_BIT
                                  POS)        
                             7423 ; 1133 |#define HW_ADCCSR_CLKGT_SETMASK 1<<HW_ADCCSR_CLKGT_BITPOS
                             7424 ; 1134 |
                             7425 ; 1135 |#define HW_ADCCSR_TXEN_CLRMASK ~(WORD)HW_ADCCSR_TXEN_SETMASK
                             7426 ; 1136 |#define HW_ADCCSR_TXIEN_CLRMASK ~(WORD)HW_ADCCSR_TXIEN_SETMASK
                             7427 ; 1137 |#define HW_ADCCSR_TXI_CLRMASK ~(WORD)HW_ADCCSR_TXI_SETMASK
                             7428 ; 1138 |#define HW_ADCCSR_TXEXC_CLRMASK ~(WORD)HW_ADCCSR_TXEXC_SETMASK
                             7429 ; 1139 |#define HW_ADCCSR_LPBK_CLRMASK ~(WORD)HW_ADCCSR_LPBK_SETMASK
                             7430 ; 1140 |#define HW_ADCCSR_DMASEL_CLRMASK ~(WORD)HW_ADCCSR_DMASEL_SETMASK
                             7431 ; 1141 |#define HW_ADCCSR_LPFMODE_CLRMASK ~(WORD)HW_ADCCSR_LPFMODE_SETMASK
                             7432 ; 1142 |#define HW_ADCCSR_CLKGT_CLRMASK ~(WORD)HW_ADCCSR_CLKGT_SETMASK
                             7433 ; 1143 |
                             7434 ; 1144 |typedef union               
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 122

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7435 ; 1145 |{
                             7436 ; 1146 |    struct {
                             7437 ; 1147 |        int TXEN                        : HW_ADCCSR_TXEN_WIDTH;
                             7438 ; 1148 |        int TXIEN                       : HW_ADCCSR_TXIEN_WIDTH;
                             7439 ; 1149 |        int TXI                         : HW_ADCCSR_TXI_WIDTH;
                             7440 ; 1150 |        int TXEXC                       : HW_ADCCSR_TXEXC_WIDTH;
                             7441 ; 1151 |        int LPBK                        : HW_ADCCSR_LPBK_WIDTH;
                             7442 ; 1152 |        int RSVD1                       : HW_ADCCSR_RSVD1_WIDTH;
                             7443 ; 1153 |        int DMASEL                      : HW_ADCCSR_DMASEL_WIDTH;
                             7444 ; 1154 |        int LPFMODE                     : HW_ADCCSR_LPFMODE_WIDTH;
                             7445 ; 1155 |        int RSVD2                       : HW_ADCCSR_RSVD2_WIDTH;
                             7446 ; 1156 |        int CLKGT                       : HW_ADCCSR_CLKGT_WIDTH;
                             7447 ; 1157 |    } B;
                             7448 ; 1158 |    int I;
                             7449 ; 1159 |    unsigned int U;
                             7450 ; 1160 |} adc_csr_type;
                             7451 ; 1161 |#define HW_ADCCSR (*(volatile adc_csr_type _X*) (HW_ADC_BASEADDR+0))
                             7452 ; 1162 |
                             7453 ; 1163 |
                             7454 ; 1164 |/////////////////////////////////////////////////////////////////////////////////
                             7455 ; 1165 |//  ADC Word Count Register (HW_ADCWCR) Bit Definitions
                             7456 ; 1166 |#define HW_ADCWCR_WCR_BITPOS 0
                             7457 ; 1167 |
                             7458 ; 1168 |#define HW_ADCWCR_WCR_WIDTH (10)
                             7459 ; 1169 |#define HW_ADCWCR_RSVD_WIDTH (14)
                             7460 ; 1170 |
                             7461 ; 1171 |#define HW_ADCWCR_WCR_SETMASK (((1<<HW_ADCWCR_WCR_WIDTH)-1)<<HW_ADCWCR_WCR_BITPOS)        
                                  
                             7462 ; 1172 |
                             7463 ; 1173 |#define HW_ADCWCR_WCR_CLRMASK ~(WORD)HW_ADCWCR_WCR_SETMASK
                             7464 ; 1174 |
                             7465 ; 1175 |typedef union               
                             7466 ; 1176 |{
                             7467 ; 1177 |    struct {
                             7468 ; 1178 |        int WCR                         : HW_ADCWCR_WCR_WIDTH;
                             7469 ; 1179 |        int RSVD                        : HW_ADCWCR_RSVD_WIDTH;
                             7470 ; 1180 |    } B;
                             7471 ; 1181 |    int I;
                             7472 ; 1182 |    unsigned int U;
                             7473 ; 1183 |} adc_wcr_type;
                             7474 ; 1184 |#define HW_ADCWCR (*(volatile adc_wcr_type _X*) (HW_ADC_BASEADDR+2))
                             7475 ; 1185 |
                             7476 ; 1186 |
                             7477 ; 1187 |
                             7478 ; 1188 |/////////////////////////////////////////////////////////////////////////////////
                             7479 ; 1189 |//   ADC Base Address Register (HW_ADCBAR) Bit Definitions
                             7480 ; 1190 |#define HW_ADCBAR_BAR_BITPOS 0
                             7481 ; 1191 |#define HW_ADCBAR_BAR_WIDTH (16)
                             7482 ; 1192 |#define HW_ADCBAR_RSVD_WIDTH (8)
                             7483 ; 1193 |
                             7484 ; 1194 |//HW_ADCBAR_BAR_SETMASK                   equ     $FFFF<<HW_ADCBAR_BAR_BITPOS
                             7485 ; 1195 |#define HW_ADCBAR_BAR_SETMASK (((1<<HW_ADCBAR_BAR_WIDTH)-1)<<HW_ADCBAR_BAR_BITPOS)        
                                  
                             7486 ; 1196 |
                             7487 ; 1197 |#define HW_ADCBAR_BAR_CLRMASK ~(WORD)HW_ADCBAR_BAR_SETMASK
                             7488 ; 1198 |
                             7489 ; 1199 |typedef union               
                             7490 ; 1200 |{
                             7491 ; 1201 |    struct {
                             7492 ; 1202 |        int BAR                        : HW_ADCBAR_BAR_WIDTH;
                             7493 ; 1203 |        int RSVD                       : HW_ADCBAR_RSVD_WIDTH;
                             7494 ; 1204 |    } B;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 123

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7495 ; 1205 |    int I;
                             7496 ; 1206 |    unsigned int U;
                             7497 ; 1207 |} adc_bar_type;
                             7498 ; 1208 |#define HW_ADCBAR (*(volatile adc_bar_type _X*) (HW_ADC_BASEADDR+5))
                             7499 ; 1209 |
                             7500 ; 1210 |
                             7501 ; 1211 |
                             7502 ; 1212 |
                             7503 ; 1213 |
                             7504 ; 1214 |/////////////////////////////////////////////////////////////////////////////////
                             7505 ; 1215 |//  DAC Current Position Register (HW_ADCCPR) Bit Definitions
                             7506 ; 1216 |#define HW_ADCCPR_CPR_BITPOS 0
                             7507 ; 1217 |
                             7508 ; 1218 |#define HW_ADCCPR_CPR_WIDTH (10)
                             7509 ; 1219 |#define HW_ADCCPR_RSVD_WIDTH (14)
                             7510 ; 1220 |
                             7511 ; 1221 |#define HW_ADCCPR_CPR_SETMASK (((1<<HW_ADCCPR_CPR_WIDTH)-1)<<HW_ADCCPR_CPR_BITPOS)        
                                  
                             7512 ; 1222 |
                             7513 ; 1223 |#define HW_ADCCPR_CPR_CLRMASK ~(WORD)HW_ADCCPR_CPR_SETMASK
                             7514 ; 1224 |
                             7515 ; 1225 |typedef union               
                             7516 ; 1226 |{
                             7517 ; 1227 |    struct {
                             7518 ; 1228 |        int CPR                         : HW_ADCCPR_CPR_WIDTH;
                             7519 ; 1229 |        int RSVD                        : HW_ADCCPR_RSVD_WIDTH;
                             7520 ; 1230 |    } B;
                             7521 ; 1231 |    int I;
                             7522 ; 1232 |    unsigned int U;
                             7523 ; 1233 |} adc_cpr_type;
                             7524 ; 1234 |#define HW_ADCCPR (*(volatile adc_cpr_type _X*) (HW_ADC_BASEADDR+3))
                             7525 ; 1235 |
                             7526 ; 1236 |
                             7527 ; 1237 |/////////////////////////////////////////////////////////////////////////////////
                             7528 ; 1238 |//  ADC Modulo Register (HW_ADCMR) Bit Definitions
                             7529 ; 1239 |#define HW_ADCMR_MR_BITPOS 0
                             7530 ; 1240 |#define HW_ADCMR_MR_WIDTH (10)
                             7531 ; 1241 |#define HW_ADCMR_RSVD_WIDTH (14)
                             7532 ; 1242 |
                             7533 ; 1243 |//HW_ADCMR_MR_SETMASK                     equ     $3FF<<HW_ADCMR_MR_BITPOS
                             7534 ; 1244 |#define HW_ADCMR_MR_SETMASK (((1<<HW_ADCMR_MR_WIDTH)-1)<<HW_ADCMR_MR_BITPOS)        
                             7535 ; 1245 |
                             7536 ; 1246 |#define HW_ADCMR_MR_CLRMASK ~(WORD)HW_ADCMR_MR_SETMASK
                             7537 ; 1247 |
                             7538 ; 1248 |typedef union               
                             7539 ; 1249 |{
                             7540 ; 1250 |    struct {
                             7541 ; 1251 |        int MR                         : HW_ADCMR_MR_WIDTH;
                             7542 ; 1252 |        int RSVD                       : HW_ADCMR_RSVD_WIDTH;
                             7543 ; 1253 |    } B;
                             7544 ; 1254 |    int I;
                             7545 ; 1255 |    unsigned int U;
                             7546 ; 1256 |} adc_mr_type;
                             7547 ; 1257 |#define HW_ADCMR (*(volatile adc_mr_type _X*) (HW_ADC_BASEADDR+4))
                             7548 ; 1258 |
                             7549 ; 1259 |/////////////////////////////////////////////////////////////////////////////////
                             7550 ; 1260 |//  ADC Sample Rate Register (HW_ADCSRR) Bit Definitions
                             7551 ; 1261 |#define HW_ADCSRR_SR_BITPOS 0
                             7552 ; 1262 |
                             7553 ; 1263 |#define HW_ADCSRR_SR_WIDTH (23)
                             7554 ; 1264 |#define HW_ADCSRR_RSVD_WIDTH (1)
                             7555 ; 1265 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 124

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7556 ; 1266 |//HW_ADCSRR_SR_SETMASK                    equ     $FFFFFF<<HW_ADCSRR_SR_BITPOS
                             7557 ; 1267 |#define HW_ADCSRR_SR_SETMASK (((1<<HW_ADCSRR_SR_WIDTH)-1)<<HW_ADCSRR_SR_BITPOS)        
                             7558 ; 1268 |
                             7559 ; 1269 |#define HW_ADCSRR_SR_CLRMASK ~(WORD)HW_ADCSRR_SR_SETMASK
                             7560 ; 1270 |
                             7561 ; 1271 |typedef union               
                             7562 ; 1272 |{
                             7563 ; 1273 |    struct {
                             7564 ; 1274 |        int SR                          : HW_ADCSRR_SR_WIDTH;
                             7565 ; 1275 |        int RSVD                        : HW_ADCSRR_RSVD_WIDTH;
                             7566 ; 1276 |    } B;
                             7567 ; 1277 |    int I;
                             7568 ; 1278 |    unsigned int U;
                             7569 ; 1279 |} adc_srr_type;
                             7570 ; 1280 |#define HW_ADCSRR (*(volatile adc_srr_type _X*) (HW_ADC_BASEADDR+1))
                             7571 ; 1281 |
                             7572 ; 1282 |/////////////////////////////////////////////////////////////////////////////////
                             7573 ; 1283 |//  ADC Interrupt Control Register (HW_ADCICR) Bit Definitions
                             7574 ; 1284 |#define HW_ADCICR_IPT_BITPOS 0
                             7575 ; 1285 |
                             7576 ; 1286 |#define HW_ADCICR_IPT_WIDTH (10)
                             7577 ; 1287 |#define HW_ADCICR_RSVD_WIDTH (12)
                             7578 ; 1288 |
                             7579 ; 1289 |#define HW_ADCICR_IPT_SETMASK (((1<<HW_ADCICR_IPT_WIDTH)-1)<<HW_ADCICR_IPT_BITPOS)        
                                  
                             7580 ; 1290 |
                             7581 ; 1291 |#define HW_ADCICR_IPT_CLRMASK ~(WORD)HW_ADCICR_IPT_SETMASK
                             7582 ; 1292 |
                             7583 ; 1293 |typedef union               
                             7584 ; 1294 |{
                             7585 ; 1295 |    struct {
                             7586 ; 1296 |        int IPT                         : HW_ADCICR_IPT_WIDTH;
                             7587 ; 1297 |        int RSVD                        : HW_ADCICR_RSVD_WIDTH;
                             7588 ; 1298 |    } B;
                             7589 ; 1299 |    int I;
                             7590 ; 1300 |    unsigned int U;
                             7591 ; 1301 |} adc_icr_type;
                             7592 ; 1302 |#define HW_ADCICR (*(volatile adc_icr_type _X*) (HW_ADC_BASEADDR+6))
                             7593 ; 1303 |
                             7594 ; 1304 |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                             7595 ; 1305 |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                             7596 ; 1306 |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                             7597 ; 1307 |
                             7598 ; 1308 |#define HW_MIXTBR_PW_ADC_RIGHT_CH_BITPOS 16
                             7599 ; 1309 |
                             7600 ; 1310 |#define HW_MIXLINE1INVR_GN_ZERO_SETMASK 0x808
                             7601 ; 1311 |
                             7602 ; 1312 |#endif
                             7603 ; 1313 |
                             7604 
                             7606 
                             7607 ; 20   |#include "regsdcdc.h"
                             7608 
                             7610 
                             7611 ; 1    |#if !(defined(regsdcdcinc))
                             7612 ; 2    |
                             7613 ; 3    |#define regssysteminc 1
                             7614 ; 4    |
                             7615 ; 5    |
                             7616 ; 6    |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 125

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7617 ; 7    |#include "types.h"
                             7618 
                             7620 
                             7621 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             7622 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             7623 ; 3    |//
                             7624 ; 4    |// Filename: types.h
                             7625 ; 5    |// Description: Standard data types
                             7626 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             7627 ; 7    |
                             7628 ; 8    |#ifndef _TYPES_H
                             7629 ; 9    |#define _TYPES_H
                             7630 ; 10   |
                             7631 ; 11   |// TODO:  move this outta here!
                             7632 ; 12   |#if !defined(NOERROR)
                             7633 ; 13   |#define NOERROR 0
                             7634 ; 14   |#define SUCCESS 0
                             7635 ; 15   |#endif 
                             7636 ; 16   |#if !defined(SUCCESS)
                             7637 ; 17   |#define SUCCESS  0
                             7638 ; 18   |#endif
                             7639 ; 19   |#if !defined(ERROR)
                             7640 ; 20   |#define ERROR   -1
                             7641 ; 21   |#endif
                             7642 ; 22   |#if !defined(FALSE)
                             7643 ; 23   |#define FALSE 0
                             7644 ; 24   |#endif
                             7645 ; 25   |#if !defined(TRUE)
                             7646 ; 26   |#define TRUE  1
                             7647 ; 27   |#endif
                             7648 ; 28   |
                             7649 ; 29   |#if !defined(NULL)
                             7650 ; 30   |#define NULL 0
                             7651 ; 31   |#endif
                             7652 ; 32   |
                             7653 ; 33   |#define MAX_INT     0x7FFFFF
                             7654 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             7655 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             7656 ; 36   |#define MAX_ULONG   (-1) 
                             7657 ; 37   |
                             7658 ; 38   |#define WORD_SIZE   24              // word size in bits
                             7659 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             7660 ; 40   |
                             7661 ; 41   |
                             7662 ; 42   |#define BYTE    unsigned char       // btVarName
                             7663 ; 43   |#define CHAR    signed char         // cVarName
                             7664 ; 44   |#define USHORT  unsigned short      // usVarName
                             7665 ; 45   |#define SHORT   unsigned short      // sVarName
                             7666 ; 46   |#define WORD    unsigned int        // wVarName
                             7667 ; 47   |#define INT     signed int          // iVarName
                             7668 ; 48   |#define DWORD   unsigned long       // dwVarName
                             7669 ; 49   |#define LONG    signed long         // lVarName
                             7670 ; 50   |#define BOOL    unsigned int        // bVarName
                             7671 ; 51   |#define FRACT   _fract              // frVarName
                             7672 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             7673 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             7674 ; 54   |#define FLOAT   float               // fVarName
                             7675 ; 55   |#define DBL     double              // dVarName
                             7676 ; 56   |#define ENUM    enum                // eVarName
                             7677 ; 57   |#define CMX     _complex            // cmxVarName
                             7678 ; 58   |typedef WORD UCS3;                   // 
                             7679 ; 59   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 126

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7680 ; 60   |#define UINT16  unsigned short
                             7681 ; 61   |#define UINT8   unsigned char   
                             7682 ; 62   |#define UINT32  unsigned long
                             7683 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             7684 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             7685 ; 65   |#define WCHAR   UINT16
                             7686 ; 66   |
                             7687 ; 67   |//UINT128 is 16 bytes or 6 words
                             7688 ; 68   |typedef struct UINT128_3500 {   
                             7689 ; 69   |    int val[6];     
                             7690 ; 70   |} UINT128_3500;
                             7691 ; 71   |
                             7692 ; 72   |#define UINT128   UINT128_3500
                             7693 ; 73   |
                             7694 ; 74   |// Little endian word packed byte strings:   
                             7695 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7696 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7697 ; 77   |// Little endian word packed byte strings:   
                             7698 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7699 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7700 ; 80   |
                             7701 ; 81   |// Declare Memory Spaces To Use When Coding
                             7702 ; 82   |// A. Sector Buffers
                             7703 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             7704 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             7705 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             7706 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             7707 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             7708 ; 88   |// B. Media DDI Memory
                             7709 ; 89   |#define MEDIA_DDI_MEM _Y
                             7710 ; 90   |
                             7711 ; 91   |
                             7712 ; 92   |
                             7713 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             7714 ; 94   |// Examples of circular pointers:
                             7715 ; 95   |//    INT CIRC cpiVarName
                             7716 ; 96   |//    DWORD CIRC cpdwVarName
                             7717 ; 97   |
                             7718 ; 98   |#define RETCODE INT                 // rcVarName
                             7719 ; 99   |
                             7720 ; 100  |// generic bitfield structure
                             7721 ; 101  |struct Bitfield {
                             7722 ; 102  |    unsigned int B0  :1;
                             7723 ; 103  |    unsigned int B1  :1;
                             7724 ; 104  |    unsigned int B2  :1;
                             7725 ; 105  |    unsigned int B3  :1;
                             7726 ; 106  |    unsigned int B4  :1;
                             7727 ; 107  |    unsigned int B5  :1;
                             7728 ; 108  |    unsigned int B6  :1;
                             7729 ; 109  |    unsigned int B7  :1;
                             7730 ; 110  |    unsigned int B8  :1;
                             7731 ; 111  |    unsigned int B9  :1;
                             7732 ; 112  |    unsigned int B10 :1;
                             7733 ; 113  |    unsigned int B11 :1;
                             7734 ; 114  |    unsigned int B12 :1;
                             7735 ; 115  |    unsigned int B13 :1;
                             7736 ; 116  |    unsigned int B14 :1;
                             7737 ; 117  |    unsigned int B15 :1;
                             7738 ; 118  |    unsigned int B16 :1;
                             7739 ; 119  |    unsigned int B17 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 127

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7740 ; 120  |    unsigned int B18 :1;
                             7741 ; 121  |    unsigned int B19 :1;
                             7742 ; 122  |    unsigned int B20 :1;
                             7743 ; 123  |    unsigned int B21 :1;
                             7744 ; 124  |    unsigned int B22 :1;
                             7745 ; 125  |    unsigned int B23 :1;
                             7746 ; 126  |};
                             7747 ; 127  |
                             7748 ; 128  |union BitInt {
                             7749 ; 129  |        struct Bitfield B;
                             7750 ; 130  |        int        I;
                             7751 ; 131  |};
                             7752 ; 132  |
                             7753 ; 133  |#define MAX_MSG_LENGTH 10
                             7754 ; 134  |struct CMessage
                             7755 ; 135  |{
                             7756 ; 136  |        unsigned int m_uLength;
                             7757 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             7758 ; 138  |};
                             7759 ; 139  |
                             7760 ; 140  |typedef struct {
                             7761 ; 141  |    WORD m_wLength;
                             7762 ; 142  |    WORD m_wMessage;
                             7763 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             7764 ; 144  |} Message;
                             7765 ; 145  |
                             7766 ; 146  |struct MessageQueueDescriptor
                             7767 ; 147  |{
                             7768 ; 148  |        int *m_pBase;
                             7769 ; 149  |        int m_iModulo;
                             7770 ; 150  |        int m_iSize;
                             7771 ; 151  |        int *m_pHead;
                             7772 ; 152  |        int *m_pTail;
                             7773 ; 153  |};
                             7774 ; 154  |
                             7775 ; 155  |struct ModuleEntry
                             7776 ; 156  |{
                             7777 ; 157  |    int m_iSignaledEventMask;
                             7778 ; 158  |    int m_iWaitEventMask;
                             7779 ; 159  |    int m_iResourceOfCode;
                             7780 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             7781 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             7782 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             7783 ; 163  |    int m_uTimeOutHigh;
                             7784 ; 164  |    int m_uTimeOutLow;
                             7785 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             7786 ; 166  |};
                             7787 ; 167  |
                             7788 ; 168  |union WaitMask{
                             7789 ; 169  |    struct B{
                             7790 ; 170  |        unsigned int m_bNone     :1;
                             7791 ; 171  |        unsigned int m_bMessage  :1;
                             7792 ; 172  |        unsigned int m_bTimer    :1;
                             7793 ; 173  |        unsigned int m_bButton   :1;
                             7794 ; 174  |    } B;
                             7795 ; 175  |    int I;
                             7796 ; 176  |} ;
                             7797 ; 177  |
                             7798 ; 178  |
                             7799 ; 179  |struct Button {
                             7800 ; 180  |        WORD wButtonEvent;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 128

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7801 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             7802 ; 182  |};
                             7803 ; 183  |
                             7804 ; 184  |struct Message {
                             7805 ; 185  |        WORD wMsgLength;
                             7806 ; 186  |        WORD wMsgCommand;
                             7807 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             7808 ; 188  |};
                             7809 ; 189  |
                             7810 ; 190  |union EventTypes {
                             7811 ; 191  |        struct CMessage msg;
                             7812 ; 192  |        struct Button Button ;
                             7813 ; 193  |        struct Message Message;
                             7814 ; 194  |};
                             7815 ; 195  |
                             7816 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             7817 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             7818 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             7819 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             7820 ; 200  |
                             7821 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             7822 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             7823 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             7824 ; 204  |
                             7825 ; 205  |#if DEBUG
                             7826 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             7827 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             7828 ; 208  |#else 
                             7829 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             7830 ; 210  |#define DebugBuildAssert(x)    
                             7831 ; 211  |#endif
                             7832 ; 212  |
                             7833 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             7834 ; 214  |//  #pragma asm
                             7835 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             7836 ; 216  |//  #pragma endasm
                             7837 ; 217  |
                             7838 ; 218  |
                             7839 ; 219  |#ifdef COLOR_262K
                             7840 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             7841 ; 221  |#elif defined(COLOR_65K)
                             7842 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             7843 ; 223  |#else
                             7844 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             7845 ; 225  |#endif
                             7846 ; 226  |    
                             7847 ; 227  |#endif // #ifndef _TYPES_H
                             7848 
                             7850 
                             7851 ; 8    |
                             7852 ; 9    |
                             7853 ; 10   |
                             7854 ; 11   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             7855 ; 12   |
                             7856 ; 13   |//   SYSTEM STMP Registers 
                             7857 ; 14   |//      Last Edited 2.19.2003 M. May
                             7858 ; 15   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             7859 ; 16   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 129

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7860 ; 17   |#define HW_DCDC_BASEADDR (0xFA0C)
                             7861 ; 18   |
                             7862 ; 19   |
                             7863 ; 20   |
                             7864 ; 21   |
                             7865 ; 22   |
                             7866 ; 23   |
                             7867 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                             7868 ; 25   |
                             7869 ; 26   |//  DcDc#1 Control Register (HW_DCDC1_CTRL0) Bit Definitions
                             7870 ; 27   |
                             7871 ; 28   |#define HW_DCDC1_CTRL0_PLEVBU_WIDTH (5)
                             7872 ; 29   |#define HW_DCDC1_CTRL0_RSVD0_WIDTH (3)
                             7873 ; 30   |#define HW_DCDC1_CTRL0_PLEVBO_WIDTH (5)
                             7874 ; 31   |#define HW_DCDC1_CTRL0_RSVD1_WIDTH (3)
                             7875 ; 32   |#define HW_DCDC1_CTRL0_NLEV_WIDTH (5)
                             7876 ; 33   |
                             7877 ; 34   |#define HW_DCDC1_CTRL0_RSVD2_WIDTH (3)
                             7878 ; 35   |
                             7879 ; 36   |
                             7880 ; 37   |
                             7881 ; 38   |#define HW_DCDC1_CTRL0_PLEVBU_BITPOS (0)
                             7882 ; 39   |#define HW_DCDC1_CTRL0_PLEVBO_BITPOS (8)
                             7883 ; 40   |#define HW_DCDC1_CTRL0_NLEV_BITPOS (16)
                             7884 ; 41   |
                             7885 ; 42   |
                             7886 ; 43   |
                             7887 ; 44   |#define HW_DCDC1_CTRL0_PLEVBU_SETMASK (((1<<HW_DCDC1_CTRL0_PLEVBU_WIDTH)-1)<<HW_DCDC1_CTRL
                                  0_PLEVBU_BITPOS)        
                             7888 ; 45   |#define HW_DCDC1_CTRL0_PLEVBO_SETMASK (((1<<HW_DCDC1_CTRL0_PLEVBO_WIDTH)-1)<<HW_DCDC1_CTRL
                                  0_PLEVBO_BITPOS) 
                             7889 ; 46   |#define HW_DCDC1_CTRL0_NLEV_SETMASK (((1<<HW_DCDC1_CTRL0_NLEV_WIDTH)-1)<<HW_DCDC1_CTRL0_NL
                                  EV_BITPOS)  
                             7890 ; 47   |
                             7891 ; 48   |
                             7892 ; 49   |
                             7893 ; 50   |#define HW_DCDC1_CTRL0_PLEVBU_CLRMASK (~(WORD)HW_DCDC1_CTRL0_PLEVBU_SETMASK)     
                             7894 ; 51   |#define HW_DCDC1_CTRL0_PLEVBO_CLRMASK (~(WORD)HW_DCDC1_CTRL0_PLEVBO_SETMASK) 
                             7895 ; 52   |#define HW_DCDC1_CTRL0_NLEV_CLRMASK (~(WORD)HW_DCDC1_CTRL0_NLEV_SETMASK)  
                             7896 ; 53   |
                             7897 ; 54   |
                             7898 ; 55   |
                             7899 ; 56   |
                             7900 ; 57   |
                             7901 ; 58   |typedef union               
                             7902 ; 59   |{
                             7903 ; 60   |    struct {
                             7904 ; 61   |        unsigned int PLEVBU           : HW_DCDC1_CTRL0_PLEVBU_WIDTH;
                             7905 ; 62   |        unsigned int RSVD0            : HW_DCDC1_CTRL0_RSVD0_WIDTH;
                             7906 ; 63   |        unsigned int PLEVBO           : HW_DCDC1_CTRL0_PLEVBO_WIDTH;
                             7907 ; 64   |        unsigned int RSVD1            : HW_DCDC1_CTRL0_RSVD1_WIDTH;
                             7908 ; 65   |        unsigned int NLEV             : HW_DCDC1_CTRL0_NLEV_WIDTH;
                             7909 ; 66   |        unsigned int RSVD2            : HW_DCDC1_CTRL0_RSVD2_WIDTH;
                             7910 ; 67   |    } B;
                             7911 ; 68   |    unsigned int I;
                             7912 ; 69   |} dcdc1_ctrl0_type;
                             7913 ; 70   |#define HW_DCDC1_CTRL0      (*(volatile dcdc1_ctrl0_type _X*) (HW_DCDC_BASEADDR))    /* Dc
                                  Dc#1 Limit Level Register */
                             7914 ; 71   |
                             7915 ; 72   |
                             7916 ; 73   |
                             7917 ; 74   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 130

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7918 ; 75   |/////////////////////////////////////////////////////////////////////////////////
                             7919 ; 76   |
                             7920 ; 77   |//  DCDc#1 Control Register1 (HW_DCDC1_CTRL1) Bit Definitions
                             7921 ; 78   |
                             7922 ; 79   |#define HW_DCDC1_CTRL1_C_WIDTH (4)
                             7923 ; 80   |#define HW_DCDC1_CTRL1_R_WIDTH (4)
                             7924 ; 81   |#define HW_DCDC1_CTRL1_FFOR_WIDTH (3)
                             7925 ; 82   |#define HW_DCDC1_CTRL1_RSVD0_WIDTH (1)
                             7926 ; 83   |#define HW_DCDC1_CTRL1_PFMCTRL_WIDTH (12)
                             7927 ; 84   |
                             7928 ; 85   |
                             7929 ; 86   |
                             7930 ; 87   |#define HW_DCDC1_CTRL1_C_BITPOS (0)
                             7931 ; 88   |#define HW_DCDC1_CTRL1_R_BITPOS (4)
                             7932 ; 89   |#define HW_DCDC1_CTRL1_FFOR_BITPOS (8)
                             7933 ; 90   |#define HW_DCDC1_CTRL1_PFMCTRL_BITPOS (12) 
                             7934 ; 91   |
                             7935 ; 92   |#define HW_DCDC1_CTRL1_C_SETMASK (((1<<HW_DCDC1_CTRL1_C_WIDTH)-1)<<HW_DCDC1_CTRL1_C_BITPOS
                                  )        
                             7936 ; 93   |#define HW_DCDC1_CTRL1_R_SETMASK (((1<<HW_DCDC1_CTRL1_R_WIDTH)-1)<<HW_DCDC1_CTRL1_R_BITPOS
                                  ) 
                             7937 ; 94   |#define HW_DCDC1_CTRL1_FFOR_SETMASK (((1<<HW_DCDC1_CTRL1_FFOR_WIDTH)-1)<<HW_DCDC1_CTRL1_FF
                                  OR_BITPOS)  
                             7938 ; 95   |#define HW_DCDC1_CTRL1_PFMCTRL_SETMASK (((1<<HW_DCDC1_CTRL1_PFMCTRL_WIDTH)-1)<<HW_DCDC1_CT
                                  RL1_PFMCTRL_BITPOS)   
                             7939 ; 96   |
                             7940 ; 97   |#define HW_DCDC1_CTRL1_C_CLRMASK (~(WORD)HW_DCDC1_CTRL1_C_SETMASK)     
                             7941 ; 98   |#define HW_DCDC1_CTRL1_R_CLRMASK (~(WORD)HW_DCDC1_CTRL1_R_SETMASK) 
                             7942 ; 99   |#define HW_DCDC1_CTRL1_FFOR_CLRMASK (~(WORD)HW_DCDC1_CTRL1_FFOR_SETMASK)  
                             7943 ; 100  |#define HW_DCDC1_CTRL1_PFMCTRL_CLRMASK (~(WORD)HW_DCDC1_CTRL1_PFMCTRL_SETMASK)  
                             7944 ; 101  |
                             7945 ; 102  |
                             7946 ; 103  |typedef union               
                             7947 ; 104  |{
                             7948 ; 105  |    struct {
                             7949 ; 106  |        unsigned int C       : HW_DCDC1_CTRL1_C_WIDTH;
                             7950 ; 107  |        unsigned int R                : HW_DCDC1_CTRL1_R_WIDTH;
                             7951 ; 108  |        unsigned int FFOR             : HW_DCDC1_CTRL1_FFOR_WIDTH;
                             7952 ; 109  |        unsigned int RSVD0            : HW_DCDC1_CTRL1_RSVD0_WIDTH;
                             7953 ; 110  |        unsigned int PFMCTRL          : HW_DCDC1_CTRL1_FFOR_WIDTH;
                             7954 ; 111  |    } B;
                             7955 ; 112  |    unsigned int I;
                             7956 ; 113  |} dcdc1_ctrl1_type;
                             7957 ; 114  |#define HW_DCDC1_CTRL1      (*(volatile dcdc1_ctrl1_type _X*) (HW_DCDC_BASEADDR+1))    /* 
                                  DcDc#1 Ctrl #1 Register */
                             7958 ; 115  |
                             7959 ; 116  |
                             7960 ; 117  |
                             7961 ; 118  |
                             7962 ; 119  |/////////////////////////////////////////////////////////////////////////////////
                             7963 ; 120  |
                             7964 ; 121  |//  DcDc VDDIO Register (HW_DCDC_VDDIO) Bit Definitions
                             7965 ; 122  |
                             7966 ; 123  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH (5)
                             7967 ; 124  |#define HW_DCDC_VDDIO_RSVD0_WIDTH (3)
                             7968 ; 125  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH (5)
                             7969 ; 126  |#define HW_DCDC_VDDIO_RSVD1_WIDTH (3)
                             7970 ; 127  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH (1)
                             7971 ; 128  |#define HW_DCDC_VDDIO_RSVD2_WIDTH (3)
                             7972 ; 129  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH (1)
                             7973 ; 130  |#define HW_DCDC_VDDIO_OK_WIDTH (1)
                             7974 ; 131  |#define HW_DCDC_VDDIO_RSVD3_WIDTH (2)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 131

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7975 ; 132  |
                             7976 ; 133  |
                             7977 ; 134  |
                             7978 ; 135  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_BITPOS (0)
                             7979 ; 136  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_BITPOS (8)
                             7980 ; 137  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_BITPOS (16)
                             7981 ; 138  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_BITPOS (20)
                             7982 ; 139  |#define HW_DCDC_VDDIO_OK_BITPOS (21)
                             7983 ; 140  |
                             7984 ; 141  |
                             7985 ; 142  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH)-1)<<H
                                  W_DCDC_VDDIO_VOLTAGE_LEVEL_BITPOS)        
                             7986 ; 143  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH)-1)<
                                  <HW_DCDC_VDDIO_BROWNOUT_LEVEL_BITPOS) 
                             7987 ; 144  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH)-1
                                  )<<HW_DCDC_VDDIO_BROWNOUT_ENABLE_BITPOS)  
                             7988 ; 145  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH)-1
                                  )<<HW_DCDC_VDDIO_BROWNOUT_STATUS_BITPOS)  
                             7989 ; 146  |
                             7990 ; 147  |
                             7991 ; 148  |
                             7992 ; 149  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDIO_VOLTAGE_LEVEL_SETMASK)  
                                     
                             7993 ; 150  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_LEVEL_SETMASK)
                                   
                             7994 ; 151  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_ENABLE_SETMAS
                                  K)  
                             7995 ; 152  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_STATUS_SETMAS
                                  K)  
                             7996 ; 153  |
                             7997 ; 154  |
                             7998 ; 155  |typedef union               
                             7999 ; 156  |{
                             8000 ; 157  |    struct {
                             8001 ; 158  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH;
                             8002 ; 159  |        unsigned int RSVD0            : HW_DCDC_VDDIO_RSVD0_WIDTH;
                             8003 ; 160  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH;
                             8004 ; 161  |        unsigned int RSVD1            : HW_DCDC_VDDIO_RSVD1_WIDTH;
                             8005 ; 162  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH;
                             8006 ; 163  |        unsigned int RSVD2            : HW_DCDC_VDDIO_RSVD2_WIDTH;
                             8007 ; 164  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH;
                             8008 ; 165  |                 unsigned int VDDIO_OK        : HW_DCDC_VDDIO_OK_WIDTH;
                             8009 ; 166  |        unsigned int RSVD3            : HW_DCDC_VDDIO_RSVD3_WIDTH;
                             8010 ; 167  |    } B;
                             8011 ; 168  |    unsigned int I;
                             8012 ; 169  |} dcdc_vddio_type;
                             8013 ; 170  |#define HW_DCDC_VDDIO      (*(volatile dcdc_vddio_type _X*) (HW_DCDC_BASEADDR+2))    /* Dc
                                  Dc VDDIO Register */
                             8014 ; 171  |
                             8015 ; 172  |
                             8016 ; 173  |
                             8017 ; 174  |/////////////////////////////////////////////////////////////////////////////////
                             8018 ; 175  |//  DcDc VDDD Register (HW_DCDC_VDDD) Bit Definitions
                             8019 ; 176  |
                             8020 ; 177  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH (5)
                             8021 ; 178  |#define HW_DCDC_VDDD_RSVD0_WIDTH (3)
                             8022 ; 179  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH (5)
                             8023 ; 180  |#define HW_DCDC_VDDD_RSVD1_WIDTH (3)
                             8024 ; 181  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH (1)
                             8025 ; 182  |#define HW_DCDC_VDDD_RSVD2_WIDTH (3)
                             8026 ; 183  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH (1)
                             8027 ; 184  |#define HW_DCDC_VDDD_OK_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 132

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8028 ; 185  |#define HW_DCDC_VDDD_RSVD3_WIDTH (2)
                             8029 ; 186  |
                             8030 ; 187  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS (0)
                             8031 ; 188  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_BITPOS (8)
                             8032 ; 189  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_BITPOS (16)
                             8033 ; 190  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_BITPOS (20)
                             8034 ; 191  |#define HW_DCDC_VDDD_OK_BITPOS (21)
                             8035 ; 192  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH)-1)<<HW_
                                  DCDC_VDDD_VOLTAGE_LEVEL_BITPOS)        
                             8036 ; 193  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH)-1)<<H
                                  W_DCDC_VDDD_BROWNOUT_LEVEL_BITPOS) 
                             8037 ; 194  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH)-1)<
                                  <HW_DCDC_VDDD_BROWNOUT_ENABLE_BITPOS)  
                             8038 ; 195  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH)-1)<
                                  <HW_DCDC_VDDD_BROWNOUT_STATUS_BITPOS)  
                             8039 ; 196  |
                             8040 ; 197  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK)    
                                   
                             8041 ; 198  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_LEVEL_SETMASK) 
                             8042 ; 199  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_ENABLE_SETMASK)
                                    
                             8043 ; 200  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_STATUS_SETMASK)
                                    
                             8044 ; 201  |
                             8045 ; 202  |typedef union               
                             8046 ; 203  |{
                             8047 ; 204  |    struct {
                             8048 ; 205  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH;
                             8049 ; 206  |        unsigned int RSVD0            : HW_DCDC_VDDD_RSVD0_WIDTH;
                             8050 ; 207  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH;
                             8051 ; 208  |        unsigned int RSVD1            : HW_DCDC_VDDD_RSVD1_WIDTH;
                             8052 ; 209  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH;
                             8053 ; 210  |        unsigned int RSVD2            : HW_DCDC_VDDD_RSVD2_WIDTH;
                             8054 ; 211  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH;
                             8055 ; 212  |                 unsigned int VDD_OK           : HW_DCDC_VDDD_OK_WIDTH;
                             8056 ; 213  |        unsigned int RSVD3            : HW_DCDC_VDDD_RSVD3_WIDTH;
                             8057 ; 214  |    } B;
                             8058 ; 215  |   unsigned int I;
                             8059 ; 216  |        unsigned U;
                             8060 ; 217  |} dcdc_vddd_type;
                             8061 ; 218  |#define HW_DCDC_VDDD      (*(volatile dcdc_vddd_type _X*) (HW_DCDC_BASEADDR+3))    /* DcDc
                                   VDDD Register */
                             8062 ; 219  |
                             8063 ; 220  |
                             8064 ; 221  |
                             8065 ; 222  |
                             8066 ; 223  |/////////////////////////////////////////////////////////////////////////////////
                             8067 ; 224  |
                             8068 ; 225  |//  DcDc Vdda Register (HW_DCDC_VDDA) Bit Definitions
                             8069 ; 226  |
                             8070 ; 227  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH (5)
                             8071 ; 228  |#define HW_DCDC_VDDA_RSVD0_WIDTH (3)
                             8072 ; 229  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH (5)
                             8073 ; 230  |#define HW_DCDC_VDDA_RSVD1_WIDTH (3)
                             8074 ; 231  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH (1)
                             8075 ; 232  |#define HW_DCDC_VDDA_RSVD2_WIDTH (3)
                             8076 ; 233  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH (1)
                             8077 ; 234  |#define HW_DCDC_VDDA_OK_WIDTH (1)
                             8078 ; 235  |#define HW_DCDC_VDDA_RSVD3_WIDTH (2)
                             8079 ; 236  |
                             8080 ; 237  |
                             8081 ; 238  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 133

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8082 ; 239  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_BITPOS (0)
                             8083 ; 240  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_BITPOS (8)
                             8084 ; 241  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_BITPOS (16)
                             8085 ; 242  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_BITPOS (20)
                             8086 ; 243  |#define HW_DCDC_VDDA_OK_BITPOS (21)
                             8087 ; 244  |
                             8088 ; 245  |
                             8089 ; 246  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH)-1)<<HW_
                                  DCDC_VDDA_VOLTAGE_LEVEL_BITPOS)        
                             8090 ; 247  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH)-1)<<H
                                  W_DCDC_VDDA_BROWNOUT_LEVEL_BITPOS) 
                             8091 ; 248  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH)-1)<
                                  <HW_DCDC_VDDA_BROWNOUT_ENABLE_BITPOS)  
                             8092 ; 249  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH)-1)<
                                  <HW_DCDC_VDDA_BROWNOUT_STATUS_BITPOS)  
                             8093 ; 250  |
                             8094 ; 251  |
                             8095 ; 252  |
                             8096 ; 253  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDA_VOLTAGE_LEVEL_SETMASK)    
                                   
                             8097 ; 254  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_LEVEL_SETMASK) 
                             8098 ; 255  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_ENABLE_SETMASK)
                                    
                             8099 ; 256  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_STATUS_SETMASK)
                                    
                             8100 ; 257  |
                             8101 ; 258  |
                             8102 ; 259  |typedef union               
                             8103 ; 260  |{
                             8104 ; 261  |    struct {
                             8105 ; 262  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH;
                             8106 ; 263  |        unsigned int RSVD0            : HW_DCDC_VDDA_RSVD0_WIDTH;
                             8107 ; 264  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH;
                             8108 ; 265  |        unsigned int RSVD1            : HW_DCDC_VDDA_RSVD1_WIDTH;
                             8109 ; 266  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH;
                             8110 ; 267  |        unsigned int RSVD2            : HW_DCDC_VDDA_RSVD2_WIDTH;
                             8111 ; 268  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH;
                             8112 ; 269  |             unsigned int VDDA_OK          : HW_DCDC_VDDA_OK_WIDTH;
                             8113 ; 270  |        unsigned int RSVD3            : HW_DCDC_VDDA_RSVD3_WIDTH;
                             8114 ; 271  |    } B;
                             8115 ; 272  |    unsigned int I;
                             8116 ; 273  |} dcdc_vdda_type;
                             8117 ; 274  |#define HW_DCDC_VDDA      (*(volatile dcdc_vdda_type _X*) (HW_DCDC_BASEADDR+4))    /* DcDc
                                   VDDA Register */
                             8118 ; 275  |
                             8119 ; 276  |
                             8120 ; 277  |
                             8121 ; 278  |
                             8122 ; 279  |/////////////////////////////////////////////////////////////////////////////////
                             8123 ; 280  |
                             8124 ; 281  |//  DcDc#2 Control Register 0 (HW_DCDC2_CTRL0) Bit Definitions
                             8125 ; 282  |
                             8126 ; 283  |#define HW_DCDC2_CTRL0_PLEVBU_WIDTH (5)
                             8127 ; 284  |#define HW_DCDC2_CTRL0_RSVD0_WIDTH (3)
                             8128 ; 285  |#define HW_DCDC2_CTRL0_PLEVBO_WIDTH (5)
                             8129 ; 286  |#define HW_DCDC2_CTRL0_RSVD1_WIDTH (3)
                             8130 ; 287  |#define HW_DCDC2_CTRL0_NLEV_WIDTH (5)
                             8131 ; 288  |#define HW_DCDC2_CTRL0_RSVD2_WIDTH (3)
                             8132 ; 289  |
                             8133 ; 290  |
                             8134 ; 291  |
                             8135 ; 292  |#define HW_DCDC2_CTRL0_PLEVBU_BITPOS (0)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 134

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8136 ; 293  |#define HW_DCDC2_CTRL0_PLEVBO_BITPOS (8)
                             8137 ; 294  |#define HW_DCDC2_CTRL0_NLEV_BITPOS (16)
                             8138 ; 295  |
                             8139 ; 296  |#define HW_DCDC2_CTRL0_PLEVBU_SETMASK (((1<<HW_DCDC2_CTRL0_PLEVBU_WIDTH)-1)<<HW_DCDC2_CTRL
                                  0_PLEVBU_BITPOS)        
                             8140 ; 297  |#define HW_DCDC2_CTRL0_PLEVBO_SETMASK (((1<<HW_DCDC2_CTRL0_PLEVBO_WIDTH)-1)<<HW_DCDC2_CTRL
                                  0_PLEVBO_BITPOS) 
                             8141 ; 298  |#define HW_DCDC2_CTRL0_NLEV_SETMASK (((1<<HW_DCDC2_CTRL0_NLEV_WIDTH)-1)<<HW_DCDC2_CTRL0_NL
                                  EV_BITPOS)  
                             8142 ; 299  |
                             8143 ; 300  |#define HW_DCDC2_CTRL0_PLEVBU_CLRMASK (~(WORD)HW_DCDC2_CTRL0_PLEVBU_SETMASK)     
                             8144 ; 301  |#define HW_DCDC2_CTRL0_PLEVBO_CLRMASK (~(WORD)HW_DCDC2_CTRL0_PLEVBO_SETMASK) 
                             8145 ; 302  |#define HW_DCDC2_CTRL0_NLEV_CLRMASK (~(WORD)HW_DCDC2_CTRL0_NLEV_SETMASK)  
                             8146 ; 303  |
                             8147 ; 304  |
                             8148 ; 305  |typedef union               
                             8149 ; 306  |{
                             8150 ; 307  |    struct {
                             8151 ; 308  |        unsigned int PLEVBU           : HW_DCDC2_CTRL0_PLEVBU_WIDTH;
                             8152 ; 309  |        unsigned int RSVD0            : HW_DCDC2_CTRL0_RSVD0_WIDTH;
                             8153 ; 310  |        unsigned int PLEVBO           : HW_DCDC2_CTRL0_PLEVBO_WIDTH;
                             8154 ; 311  |        unsigned int RSVD1            : HW_DCDC2_CTRL0_RSVD1_WIDTH;
                             8155 ; 312  |        unsigned int NLEV             : HW_DCDC2_CTRL0_NLEV_WIDTH;
                             8156 ; 313  |        unsigned int RSVD2            : HW_DCDC2_CTRL0_RSVD2_WIDTH;
                             8157 ; 314  |    } B;
                             8158 ; 315  |    unsigned int I;
                             8159 ; 316  |} dcdc2_ctrl0_type; 
                             8160 ; 317  |#define HW_DCDC2_CTRL0      (*(volatile dcdc2_ctrl0_type _X*) (HW_DCDC_BASEADDR+5))    /* 
                                  DcDc#2 Limit Level Register */
                             8161 ; 318  |
                             8162 ; 319  |
                             8163 ; 320  |
                             8164 ; 321  |
                             8165 ; 322  |/////////////////////////////////////////////////////////////////////////////////
                             8166 ; 323  |
                             8167 ; 324  |//  DcDc#2 Control Register #1 (HW_DCDC2_CTRL1) Bit Definitions
                             8168 ; 325  |
                             8169 ; 326  |#define HW_DCDC2_CTRL1_C_WIDTH (4)
                             8170 ; 327  |#define HW_DCDC2_CTRL1_R_WIDTH (4)
                             8171 ; 328  |#define HW_DCDC2_CTRL1_FFOR_WIDTH (3)
                             8172 ; 329  |#define HW_DCDC2_CTRL1_RSVD0_WIDTH (1)
                             8173 ; 330  |#define HW_DCDC2_CTRL1_PFMCTRL_WIDTH (12)
                             8174 ; 331  |
                             8175 ; 332  |
                             8176 ; 333  |#define HW_DCDC2_CTRL1_C_BITPOS (0)
                             8177 ; 334  |#define HW_DCDC2_CTRL1_R_BITPOS (4)
                             8178 ; 335  |#define HW_DCDC2_CTRL1_FFOR_BITPOS (8)
                             8179 ; 336  |#define HW_DCDC2_CTRL1_PFMCTRL_BITPOS (12)
                             8180 ; 337  |
                             8181 ; 338  |
                             8182 ; 339  |
                             8183 ; 340  |#define HW_DCDC2_CTRL1_C_SETMASK (((1<<HW_DCDC2_CTRL1_C_WIDTH)-1)<<HW_DCDC2_CTRL1_C_BITPOS
                                  )        
                             8184 ; 341  |#define HW_DCDC2_CTRL1_R_SETMASK (((1<<HW_DCDC2_CTRL1_R_WIDTH)-1)<<HW_DCDC2_CTRL1_R_BITPOS
                                  ) 
                             8185 ; 342  |#define HW_DCDC2_CTRL1_FFOR_SETMASK (((1<<HW_DCDC2_CTRL1_FFOR_WIDTH)-1)<<HW_DCDC2_CTRL1_FF
                                  OR_BITPOS)  
                             8186 ; 343  |#define HW_DCDC2_CTRL1_PFMCTRL_SETMASK (((1<<HW_DCDC2_CTRL1_PFMCTRL_WIDTH)-1)<<HW_DCDC2_CT
                                  RL1_PFMCTRL_BITPOS)  
                             8187 ; 344  |
                             8188 ; 345  |
                             8189 ; 346  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 135

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8190 ; 347  |#define HW_DCDC2_CTRL1_C_CLRMASK (~(WORD)HW_DCDC2_CTRL1_C_SETMASK)     
                             8191 ; 348  |#define HW_DCDC2_CTRL1_R_CLRMASK (~(WORD)HW_DCDC2_CTRL1_R_SETMASK) 
                             8192 ; 349  |#define HW_DCDC2_CTRL1_FFOR_CLRMASK (~(WORD)HW_DCDC2_CTRL1_FFOR_SETMASK)  
                             8193 ; 350  |#define HW_DCDC2_CTRL1_PFMCTRL_CLRMASK (~(WORD)HW_DCDC2_CTRL1_PFMCTRL_SETMASK)  
                             8194 ; 351  |
                             8195 ; 352  |
                             8196 ; 353  |typedef union               
                             8197 ; 354  |{
                             8198 ; 355  |    struct {
                             8199 ; 356  |        unsigned int C                : HW_DCDC2_CTRL1_C_WIDTH;
                             8200 ; 357  |        unsigned int R                : HW_DCDC2_CTRL1_R_WIDTH;
                             8201 ; 358  |        unsigned int FFOR             : HW_DCDC2_CTRL1_FFOR_WIDTH;
                             8202 ; 359  |        unsigned int RSVD0            : HW_DCDC2_CTRL1_RSVD0_WIDTH;
                             8203 ; 360  |        unsigned int PFMCTRL          : HW_DCDC2_CTRL1_FFOR_WIDTH;
                             8204 ; 361  |    } B;
                             8205 ; 362  |    unsigned int I;
                             8206 ; 363  |} dcdc2_ctrl1_type;
                             8207 ; 364  |#define HW_DCDC2_CTRL1      (*(volatile dcdc2_ctrl1_type _X*) (HW_DCDC_BASEADDR+6))    /* 
                                  DcDc#2 Ctrl Register #1 */
                             8208 ; 365  |
                             8209 ; 366  |
                             8210 ; 367  |
                             8211 ; 368  |
                             8212 ; 369  |/////////////////////////////////////////////////////////////////////////////////
                             8213 ; 370  |
                             8214 ; 371  |//  Speed Monitoring Register (HW_SPEED) Bit Definitions
                             8215 ; 372  |
                             8216 ; 373  |#define HW_SPEED_OSC1_PWRUP_WIDTH (1)
                             8217 ; 374  |#define HW_SPEED_OSC1_START_COUNT_WIDTH (1)
                             8218 ; 375  |#define HW_SPEED_RSVD0_WIDTH (2)
                             8219 ; 376  |#define HW_SPEED_RINGOSC1_WIDTH (7)
                             8220 ; 377  |#define HW_SPEED_RSVD1_WIDTH (1)
                             8221 ; 378  |#define HW_SPEED_OSC2_PWRUP_WIDTH (1)
                             8222 ; 379  |#define HW_SPEED_OSC2_START_COUNT_WIDTH (1)
                             8223 ; 380  |#define HW_SPEED_RSVD2_WIDTH (2)
                             8224 ; 381  |#define HW_SPEED_RINGOSC2_WIDTH (7)
                             8225 ; 382  |#define HW_SPEED_RSVD3_WIDTH (1)
                             8226 ; 383  |
                             8227 ; 384  |
                             8228 ; 385  |
                             8229 ; 386  |#define HW_SPEED_OSC1_PWRUP_BITPOS (0)
                             8230 ; 387  |#define HW_SPEED_OSC1_START_COUNT_BITPOS (1)
                             8231 ; 388  |#define HW_SPEED_RINGOSC1_BITPOS (4)
                             8232 ; 389  |#define HW_SPEED_OSC2_PWRUP_BITPOS (12)
                             8233 ; 390  |#define HW_SPEED_OSC2_START_COUNT_BITPOS (13)
                             8234 ; 391  |#define HW_SPEED_RINGOSC2_BITPOS (16)
                             8235 ; 392  |
                             8236 ; 393  |
                             8237 ; 394  |#define HW_SPEED_OSC1_PWRUP_SETMASK (((1<<HW_SPEED_OSC1_PWRUP_WIDTH)-1)<<HW_SPEED_OSC1_PWR
                                  UP_BITPOS)        
                             8238 ; 395  |#define HW_SPEED_OSC1_START_COUNT_SETMASK (((1<<HW_SPEED_OSC1_START_COUNT_WIDTH)-1)<<HW_SP
                                  EED_OSC1_START_COUNT_BITPOS)        
                             8239 ; 396  |#define HW_SPEED_RINGOSC1_SETMASK (((1<<HW_SPEED_RINGOSC1_WIDTH)-1)<<HW_SPEED_RINGOSC1_BIT
                                  POS) 
                             8240 ; 397  |#define HW_SPEED_OSC2_PWRUP_SETMASK (((1<<HW_SPEED_OSC2_PWRUP_WIDTH)-1)<<HW_SPEED_OSC2_PWR
                                  UP_BITPOS)        
                             8241 ; 398  |
                             8242 ; 399  |#define HW_SPEED_OSC2_START_COUNT_SETMASK (((1<<HW_SPEED_OSC2_START_COUNT_WIDTH)-1)<<HW_SP
                                  EED_OSC2_START_COUNT_BITPOS)        
                             8243 ; 400  |#define HW_SPEED_RINGOSC2_SETMASK (((1<<HW_SPEED_RINGOSC2_WIDTH)-1)<<HW_SPEED_RINGOSC2_BIT
                                  POS) 
                             8244 ; 401  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 136

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8245 ; 402  |
                             8246 ; 403  |
                             8247 ; 404  |#define HW_SPEED_OSC1_PWRUP_CLRMASK (~(WORD)HW_SPEED_OSC1_PWRUP_SETMASK)     
                             8248 ; 405  |#define HW_SPEED_OSC1_START_COUNT_CLRMASK (~(WORD)HW_SPEED_OSC1_START_COUNT_SETMASK)     
                             8249 ; 406  |#define HW_SPEED_RINGOSC1_CLRMASK (~(WORD)HW_SPEED_RINGOSC1_SETMASK) 
                             8250 ; 407  |#define HW_SPEED_OSC2_PWRUP_CLRMASK (~(WORD)HW_SPEED_OSC2_PWRUP_SETMASK)   
                             8251 ; 408  |#define HW_SPEED_OSC2_START_COUNT_CLRMASK (~(WORD)HW_SPEED_OSC2_START_COUNT_SETMASK)     
                             8252 ; 409  |#define HW_SPEED_RINGOSC2_CLRMASK (~(WORD)HW_SPEED_RINGOSC2_SETMASK) 
                             8253 ; 410  |
                             8254 ; 411  |
                             8255 ; 412  |typedef union               
                             8256 ; 413  |{
                             8257 ; 414  |    struct {
                             8258 ; 415  |        unsigned int OSC1_PWRUP          : HW_SPEED_OSC1_PWRUP_WIDTH;
                             8259 ; 416  |        unsigned int OSC1_START_COUNT    : HW_SPEED_OSC1_START_COUNT_WIDTH;
                             8260 ; 417  |        unsigned int RSVD0               : HW_SPEED_RSVD0_WIDTH;
                             8261 ; 418  |        unsigned int RINGOSC1            : HW_SPEED_RINGOSC1_WIDTH;
                             8262 ; 419  |        unsigned int RSVD1               : HW_SPEED_RSVD1_WIDTH;
                             8263 ; 420  |        unsigned int OSC2_PWRUP          : HW_SPEED_OSC2_PWRUP_WIDTH;
                             8264 ; 421  |        unsigned int OSC2_START_COUNT    : HW_SPEED_OSC2_START_COUNT_WIDTH;
                             8265 ; 422  |        unsigned int RSVD2               : HW_SPEED_RSVD2_WIDTH;
                             8266 ; 423  |        unsigned int RINGOSC2            : HW_SPEED_RINGOSC2_WIDTH;
                             8267 ; 424  |        unsigned int RSVD3               : HW_SPEED_RSVD3_WIDTH;
                             8268 ; 425  |    } B;
                             8269 ; 426  |    unsigned int I;
                             8270 ; 427  |} speed_type;
                             8271 ; 428  |#define HW_SPEED      (*(volatile speed_type _X*) (HW_DCDC_BASEADDR+7))    /* Speed Measur
                                  ement Register */
                             8272 ; 429  |
                             8273 ; 430  |
                             8274 ; 431  |
                             8275 ; 432  |
                             8276 ; 433  |
                             8277 ; 434  |
                             8278 ; 435  |
                             8279 ; 436  |// DC DC Test Bit Register (HW_DCDCTBR) Definitions
                             8280 ; 437  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH 4
                             8281 ; 438  |#define HW_DCDC_TBR_DCDC1_DIS_5BIT_WIDTH 1
                             8282 ; 439  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH 1
                             8283 ; 440  |#define HW_DCDC_TBR_DCDC1_CLK4X_WIDTH 1
                             8284 ; 441  |#define HW_DCDC_TBR_DCDC1_CLK2X_WIDTH 1
                             8285 ; 442  |#define HW_DCDC_TBR_DCDC1_NOZERO_WIDTH 1
                             8286 ; 443  |#define HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_WIDTH 1
                             8287 ; 444  |#define HW_DCDC_TBR_DCDC1_PFM_WIDTH 1
                             8288 ; 445  |#define HW_DCDC_TBR_DCDC1_STOPCLK_WIDTH 1
                             8289 ; 446  |#define HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_WIDTH 1
                             8290 ; 447  |#define HW_DCDC_TBR_DCDC_ANA_LESSI_WIDTH 1
                             8291 ; 448  |#define HW_DCDC_TBR_DCDC_MORE_CAP_WIDTH 1
                             8292 ; 449  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH 1
                             8293 ; 450  |#define HW_DCDC_TBR_DCDC1_NEW_SCHEME_WIDTH 1
                             8294 ; 451  |#define HW_DCDC_TBR_DCDC1_HALF_FETS_WIDTH 1
                             8295 ; 452  |#define HW_DCDC_TBR_DCDC2_DIS_5BIT_WIDTH 1
                             8296 ; 453  |#define HW_DCDC_TBR_DCDC2_CLK4X_WIDTH 1
                             8297 ; 454  |#define HW_DCDC_TBR_DCDC2_CLK2X_WIDTH 1
                             8298 ; 455  |#define HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_WIDTH 1
                             8299 ; 456  |#define HW_DCDC_TBR_DCDC2_PFM_WIDTH 1
                             8300 ; 457  |#define HW_DCDC_TBR_DCDC2_STOPCLK_WIDTH 1
                             8301 ; 458  |
                             8302 ; 459  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS (0)
                             8303 ; 460  |#define HW_DCDC_TBR_DCDC1_DIS_5BIT_BITPOS (4)
                             8304 ; 461  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_BITPOS (5)
                             8305 ; 462  |#define HW_DCDC_TBR_DCDC1_CLK4X_BITPOS (6)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 137

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8306 ; 463  |#define HW_DCDC_TBR_DCDC1_CLK2X_BITPOS (7)
                             8307 ; 464  |#define HW_DCDC_TBR_DCDC1_NOZERO_BITPOS (8)
                             8308 ; 465  |#define HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_BITPOS (9)
                             8309 ; 466  |#define HW_DCDC_TBR_DCDC1_PFM_BITPOS (10)
                             8310 ; 467  |#define HW_DCDC_TBR_DCDC1_STOPCLK_BITPOS (11)
                             8311 ; 468  |#define HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_BITPOS (12)
                             8312 ; 469  |#define HW_DCDC_TBR_DCDC_ANA_LESSI_BITPOS (13)
                             8313 ; 470  |#define HW_DCDC_TBR_DCDC_MORE_CAP_BITPOS (14)
                             8314 ; 471  |#define HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS (15)
                             8315 ; 472  |#define HW_DCDC_TBR_DCDC1_NEW_SCHEME_BITPOS (16)
                             8316 ; 473  |#define HW_DCDC_TBR_DCDC1_HALF_FETS_BITPOS (17)
                             8317 ; 474  |#define HW_DCDC_TBR_DCDC2_DIS_5BIT_BITPOS (18)
                             8318 ; 475  |#define HW_DCDC_TBR_DCDC2_CLK4X_BITPOS (19)
                             8319 ; 476  |#define HW_DCDC_TBR_DCDC2_CLK2X_BITPOS (20)
                             8320 ; 477  |#define HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_BITPOS (21)
                             8321 ; 478  |#define HW_DCDC_TBR_DCDC2_PFM_BITPOS (22)
                             8322 ; 479  |#define HW_DCDC_TBR_DCDC2_STOPCLK_BITPOS (23)
                             8323 ; 480  |
                             8324 ; 481  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK (((1<<HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH)-1)<<HW_DCDC
                                  _TBR_DCDC1_ADJ_TN_BITPOS)
                             8325 ; 482  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK (((1<<HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH)-1)<<HW_DC
                                  DC_TBR_DCDC1_BAT_ADJ_BITPOS)
                             8326 ; 483  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK (((1<<HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH)-1
                                  )<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)
                             8327 ; 484  |
                             8328 ; 485  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK)
                             8329 ; 486  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK)
                             8330 ; 487  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMAS
                                  K)
                             8331 ; 488  |
                             8332 ; 489  |// Defines for What needs to change to be able to use a higher Core voltage and when the c
                                  hange should happen
                             8333 ; 490  |#define HW_DCDC_VDDD_CHANGE_TBR_CUTOFF_VALUE ((18<<HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS)&HW_D
                                  CDC_VDDD_VOLTAGE_LEVEL_SETMASK)
                             8334 ; 491  |#define HW_DCDC_TBR_VDDD_HI_VALUE ((1<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)&HW_DCDC_
                                  TBR_DCDC_ANA_BGR_BIAS_SETMASK)
                             8335 ; 492  |#define HW_DCDC_TBR_VDDD_LO_VALUE (((1<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)&HW_DCDC
                                  _TBR_DCDC_ANA_BGR_BIAS_SETMASK)+((2<<HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS)&HW_DCDC_TBR_DCDC1_ADJ_TN_SET
                                  MASK)+((1<<HW_DCDC_TBR_DCDC1_BAT_ADJ_BITPOS)&HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK))
                             8336 ; 493  |
                             8337 ; 494  |typedef union               
                             8338 ; 495  |{
                             8339 ; 496  |    struct {
                             8340 ; 497  |        unsigned int DCDC1_ADJ_TN               : HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH;
                             8341 ; 498  |        unsigned int DCDC1_DIS_5BIT             : HW_DCDC_TBR_DCDC1_DIS_5BIT_WIDTH;
                             8342 ; 499  |        unsigned int DCDC1_BAT_ADJ              : HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH;
                             8343 ; 500  |        unsigned int DCDC1_CLK4X                : HW_DCDC_TBR_DCDC1_CLK4X_WIDTH;
                             8344 ; 501  |        unsigned int DCDC1_CLK2X                : HW_DCDC_TBR_DCDC1_CLK2X_WIDTH;
                             8345 ; 502  |        unsigned int DCDC1_NOZERO               : HW_DCDC_TBR_DCDC1_NOZERO_WIDTH;
                             8346 ; 503  |        unsigned int DCDC1_VDD5V_ACTIVE         : HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_WIDTH;
                             8347 ; 504  |        unsigned int DCDC1_PFM                  : HW_DCDC_TBR_DCDC1_PFM_WIDTH;
                             8348 ; 505  |        unsigned int DCDC1_STOPCLK              : HW_DCDC_TBR_DCDC1_STOPCLK_WIDTH;
                             8349 ; 506  |        unsigned int PWRUP_VDDIO_BRNOUT         : HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_WIDTH;
                             8350 ; 507  |        unsigned int DCDC_ANA_LESSI             : HW_DCDC_TBR_DCDC_ANA_LESSI_WIDTH;
                             8351 ; 508  |        unsigned int DCDC_MORE_CAP              : HW_DCDC_TBR_DCDC_MORE_CAP_WIDTH;
                             8352 ; 509  |        unsigned int DCDC_ANA_BGR_BIAS          : HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH;
                             8353 ; 510  |        unsigned int DCDC1_NEW_SCHEME           : HW_DCDC_TBR_DCDC1_NEW_SCHEME_WIDTH;
                             8354 ; 511  |        unsigned int DCDC1_HALF_FETS            : HW_DCDC_TBR_DCDC1_HALF_FETS_WIDTH;
                             8355 ; 512  |        unsigned int DCDC2_DIS_5BIT             : HW_DCDC_TBR_DCDC2_DIS_5BIT_WIDTH;
                             8356 ; 513  |        unsigned int DCDC2_CLK4X                : HW_DCDC_TBR_DCDC2_CLK4X_WIDTH;
                             8357 ; 514  |        unsigned int DCDC2_CLK2X                : HW_DCDC_TBR_DCDC2_CLK2X_WIDTH;
                             8358 ; 515  |        unsigned int DCDC2_VDD5V_ACTIVE         : HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 138

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8359 ; 516  |        unsigned int DCDC2_PFM                  : HW_DCDC_TBR_DCDC2_PFM_WIDTH;
                             8360 ; 517  |        unsigned int DCDC2_STOPCLK              : HW_DCDC_TBR_DCDC2_STOPCLK_WIDTH;
                             8361 ; 518  |    } B;
                             8362 ; 519  |    unsigned int I;
                             8363 ; 520  |} usb_dcdctbr_type;
                             8364 ; 521  |#define HW_DCDC_TBR                     (*(volatile usb_dcdctbr_type _X*) (HW_DCDC_BASEADD
                                  R+8))    /* Analog test bit register*/
                             8365 ; 522  |
                             8366 ; 523  |
                             8367 ; 524  |/////////////////////////////////////////////////////////////////////////////////
                             8368 ; 525  |
                             8369 ; 526  |//  Analog Persistent Config (HW_VDD5V_PWR_CHARGE) Bit Definitions
                             8370 ; 527  |
                             8371 ; 528  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH (6)
                             8372 ; 529  |#define HW_VDD5V_PWR_CHARGE_RSVD0_WIDTH (2)
                             8373 ; 530  |#define HW_VDD5V_PWR_CHARGE_PWD_WIDTH (1)
                             8374 ; 531  |#define HW_VDD5V_PWR_CHARGE_RES_WIDTH (1)
                             8375 ; 532  |#define HW_VDD5V_PWR_CHARGE_NIMH_WIDTH (1)
                             8376 ; 533  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH (1)
                             8377 ; 534  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH (1)
                             8378 ; 535  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WIDTH (1)
                             8379 ; 536  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH (1)
                             8380 ; 537  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH (1)
                             8381 ; 538  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH (1)
                             8382 ; 539  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH (1)
                             8383 ; 540  |#define HW_VDD5V_PWR_CHARGE_RSVD1_WIDTH (2)
                             8384 ; 541  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH (1)
                             8385 ; 542  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_WIDTH (2)
                             8386 ; 543  |#define HW_VDD5V_PWR_CHARGE_RSVD2_WIDTH (3)
                             8387 ; 544  |
                             8388 ; 545  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_BITPOS (0)
                             8389 ; 546  |#define HW_VDD5V_PWR_CHARGE_PWD_BITPOS (8)
                             8390 ; 547  |#define HW_VDD5V_PWR_CHARGE_RES_BITPOS (9)
                             8391 ; 548  |#define HW_VDD5V_PWR_CHARGE_NIMH_BITPOS (10)
                             8392 ; 549  |
                             8393 ; 550  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_BITPOS (11)
                             8394 ; 551  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_BITPOS (12)
                             8395 ; 552  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_BITPOS (13)
                             8396 ; 553  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_BITPOS (14)
                             8397 ; 554  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_BITPOS (15)
                             8398 ; 555  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_BITPOS (16)
                             8399 ; 556  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_BITPOS (17)
                             8400 ; 557  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_BITPOS (20)
                             8401 ; 558  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_BITPOS (21)
                             8402 ; 559  |
                             8403 ; 560  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WI
                                  DTH)-1)<<HW_VDD5V_PWR_CHARGE_BATT_CURRENT_BITPOS)        
                             8404 ; 561  |#define HW_VDD5V_PWR_CHARGE_PWD_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_PWD_WIDTH)-1)<<HW_VDD5V_
                                  PWR_CHARGE_PWD_BITPOS)        
                             8405 ; 562  |#define HW_VDD5V_PWR_CHARGE_RES_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_RES_WIDTH)-1)<<HW_VDD5V_
                                  PWR_CHARGE_RES_BITPOS) 
                             8406 ; 563  |#define HW_VDD5V_PWR_CHARGE_NIMH_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_NIMH_WIDTH)-1)<<HW_VDD5
                                  V_PWR_CHARGE_NIMH_BITPOS) 
                             8407 ; 564  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH)-1)<<H
                                  W_VDD5V_PWR_CHARGE_LI_TYPE_BITPOS) 
                             8408 ; 565  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DISABLE_ILIMI
                                  T_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_BITPOS)        
                             8409 ; 566  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_PWDN_ON_IOB
                                  RNOUT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_BITPOS)        
                             8410 ; 567  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH)-1)<
                                  <HW_VDD5V_PWR_CHARGE_DCANA_LP_BITPOS) 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 139

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8411 ; 568  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WI
                                  DTH)-1)<<HW_VDD5V_PWR_CHARGE_TEST_USBREGS_BITPOS) 
                             8412 ; 569  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH)-1)<
                                  <HW_VDD5V_PWR_CHARGE_DRV_BATT_BITPOS) 
                             8413 ; 570  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH)
                                  -1)<<HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_BITPOS) 
                             8414 ; 571  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_
                                  WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_BITPOS) 
                             8415 ; 572  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_BATT_INFO_WIDTH)-1
                                  )<<HW_VDD5V_PWR_CHARGE_BATT_INFO_BITPOS) 
                             8416 ; 573  |
                             8417 ; 574  |
                             8418 ; 575  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_BATT_CURRENT_
                                  SETMASK)     
                             8419 ; 576  |#define HW_VDD5V_PWR_CHARGE_PWD_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_PWD_SETMASK)     
                             8420 ; 577  |#define HW_VDD5V_PWR_CHARGE_RES_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_RES_SETMASK) 
                             8421 ; 578  |#define HW_VDD5V_PWR_CHARGE_NIMH_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_NIMH_SETMASK) 
                             8422 ; 579  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_LI_TYPE_SETMASK) 
                             8423 ; 580  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DISABLE_ILI
                                  MIT_SETMASK)     
                             8424 ; 581  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_PWDN_ON_I
                                  OBRNOUT_SETMASK)     
                             8425 ; 582  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DCANA_LP_SETMASK)
                                   
                             8426 ; 583  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_TEST_USBREGS_
                                  SETMASK) 
                             8427 ; 584  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DRV_BATT_SETMASK)
                                   
                             8428 ; 585  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_SETM
                                  ASK) 
                             8429 ; 586  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_VDD5V_PRESEN
                                  T_SETMASK) 
                             8430 ; 587  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_BATT_INFO_SETMAS
                                  K) 
                             8431 ; 588  |
                             8432 ; 589  |typedef union               
                             8433 ; 590  |{
                             8434 ; 591  |    struct {
                             8435 ; 592  |        unsigned int BATT_CURRENT               : HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH;
                             8436 ; 593  |        unsigned int RSVD0                      : HW_VDD5V_PWR_CHARGE_RSVD0_WIDTH;
                             8437 ; 594  |        unsigned int PWD                        : HW_VDD5V_PWR_CHARGE_PWD_WIDTH;
                             8438 ; 595  |        unsigned int RES                        : HW_VDD5V_PWR_CHARGE_RES_WIDTH;
                             8439 ; 596  |        unsigned int NIMH                       : HW_VDD5V_PWR_CHARGE_NIMH_WIDTH;
                             8440 ; 597  |        unsigned int LI_TYPE                    : HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH;
                             8441 ; 598  |        unsigned int DISABLE_ILIMIT             : HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH
                                  ;
                             8442 ; 599  |        unsigned int PWDN_ON_IOBRNOUT           : HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WID
                                  TH;
                             8443 ; 600  |        unsigned int DCANA_LP                   : HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH;
                             8444 ; 601  |        unsigned int TEST_USBREGS               : HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH;
                             8445 ; 602  |        unsigned int DRV_BATT                   : HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH;
                             8446 ; 603  |        unsigned int SWCHRG_BAT                 : HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH;
                             8447 ; 604  |        unsigned int RSVD1                      : HW_VDD5V_PWR_CHARGE_RSVD1_WIDTH;
                             8448 ; 605  |        unsigned int VDD5V_PRESENT              : HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH;
                                  
                             8449 ; 606  |        unsigned int RSVD2                      : HW_VDD5V_PWR_CHARGE_RSVD2_WIDTH;
                             8450 ; 607  |    } B;
                             8451 ; 608  |    unsigned int I;
                             8452 ; 609  |} usb_pwr_charge_type;
                             8453 ; 610  |#define HW_VDD5V_PWR_CHARGE      (*(volatile usb_pwr_charge_type _X*) (HW_DCDC_BASEADDR+17
                                  ))    /* Analog Persistent Config Register */
                             8454 ; 611  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 140

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8455 ; 612  |#define HW_DCDC_PERSIST_AUTO_RESTART_STAT_WIDTH 1
                             8456 ; 613  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_WIDTH 1
                             8457 ; 614  |#define HW_DCDC_PERSIST_UPDATE_WIDTH 1
                             8458 ; 615  |#define HW_DCDC_PERSIST_AUTO_RESTART_WIDTH 1
                             8459 ; 616  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_WIDTH 1
                             8460 ; 617  |#define HW_DCDC_PERSIST_LOW_BATT_TYPE_WIDTH 1
                             8461 ; 618  |#define HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_WIDTH 1
                             8462 ; 619  |#define HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_WIDTH 1
                             8463 ; 620  |#define HW_DCDC_PERSIST_XTAL_TRIM1_WIDTH 1
                             8464 ; 621  |#define HW_DCDC_PERSIST_XTAL_TRIM0_WIDTH 1
                             8465 ; 622  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_WIDTH 1
                             8466 ; 623  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_WIDTH 1
                             8467 ; 624  |#define HW_DCDC_PERSIST_XTAL_TRM_ENABLE_WIDTH 1
                             8468 ; 625  |#define HW_DCDC_PERSIST_RSRVD_WIDTH 2
                             8469 ; 626  |
                             8470 ; 627  |#define HW_DCDC_PERSIST_AUTO_RESTART_STAT_BITPOS 12
                             8471 ; 628  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_BITPOS 11
                             8472 ; 629  |#define HW_DCDC_PERSIST_UPDATE_BITPOS 10
                             8473 ; 630  |#define HW_DCDC_PERSIST_AUTO_RESTART_BITPOS 9
                             8474 ; 631  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_BITPOS 8 
                             8475 ; 632  |#define HW_DCDC_PERSIST_LOW_BATT_TYPE_BITPOS 7
                             8476 ; 633  |#define HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_BITPOS 6
                             8477 ; 634  |#define HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_BITPOS 5
                             8478 ; 635  |#define HW_DCDC_PERSIST_XTAL_TRIM1_BITPOS 4
                             8479 ; 636  |#define HW_DCDC_PERSIST_XTAL_TRIM0_BITPOS 3
                             8480 ; 637  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_BITPOS 2
                             8481 ; 638  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_BITPOS 1
                             8482 ; 639  |#define HW_DCDC_PERSIST_XTAL_TRM_ENABLE_BITPOS 0
                             8483 ; 640  |
                             8484 ; 641  |typedef union               
                             8485 ; 642  |{
                             8486 ; 643  |    struct {       
                             8487 ; 644  |       int XTAL_TRM_ENABLE             : HW_DCDC_PERSIST_XTAL_TRM_ENABLE_WIDTH;
                             8488 ; 645  |       int XTAL_BIAS_DOWN0             : HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_WIDTH;
                             8489 ; 646  |       int XTAL_BIAS_DOWN1             : HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_WIDTH;
                             8490 ; 647  |       int XTAL_TRIM0                  : HW_DCDC_PERSIST_XTAL_TRIM0_WIDTH;
                             8491 ; 648  |       int XTAL_TRIM1                  : HW_DCDC_PERSIST_XTAL_TRIM1_WIDTH;
                             8492 ; 649  |       int SLEEP_XTAL_ENABLE           : HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_WIDTH;
                             8493 ; 650  |       int LOW_BATTERY_ENABLE          : HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_WIDTH;
                             8494 ; 651  |       int LOW_BATT_TYPE               : HW_DCDC_PERSIST_LOW_BATT_TYPE_WIDTH;
                             8495 ; 652  |       int DELAY_5V_AUTO_RESTART       : HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_WIDTH;
                             8496 ; 653  |       int AUTO_RESTART                : HW_DCDC_PERSIST_AUTO_RESTART_WIDTH;
                             8497 ; 654  |       int UPDATE                      : HW_DCDC_PERSIST_UPDATE_WIDTH;
                             8498 ; 655  |       int DELAY_5V_AUTO_RESTART_STAT  : HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_WIDTH;
                                  
                             8499 ; 656  |       int AUTO_RESTART_STAT           : HW_DCDC_PERSIST_AUTO_RESTART_STAT_WIDTH;
                             8500 ; 657  |       int RSRVD                       : HW_DCDC_PERSIST_RSRVD_WIDTH;
                             8501 ; 658  |    } B;
                             8502 ; 659  |    int I;
                             8503 ; 660  |} usb_dcdcpersist_type;
                             8504 ; 661  |#define HW_DCDC_PERSIST                (*(volatile usb_dcdcpersist_type _X*) (HW_DCDC_BASE
                                  ADDR+15))    /* Analog test bit register*/
                             8505 ; 662  |
                             8506 ; 663  |
                             8507 ; 664  |
                             8508 ; 665  |#endif
                             8509 ; 666  |
                             8510 ; 667  |
                             8511 ; 668  |
                             8512 
                             8514 
                             8515 ; 21   |#include "regsemc.h"
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 141

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8516 
                             8518 
                             8519 ; 1    |#if !(defined(__REGS_EMC_INC))
                             8520 ; 2    |#define __REGS_EMC_INC 1
                             8521 ; 3    |
                             8522 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                             8523 ; 5    |//   Module base addresses
                             8524 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                             8525 ; 7    |#define HW_EMC_BASEADDR 0xF000
                             8526 ; 8    |
                             8527 ; 9    |/////////////////////////////////////////////////////////////////////////////////
                             8528 ; 10   |//  EMC Registers
                             8529 ; 11   |/////////////////////////////////////////////////////////////////////////////////
                             8530 ; 12   |
                             8531 ; 13   |
                             8532 ; 14   |/////////////////////////////////////////////////////////////////////////////////
                             8533 ; 15   |//  Flash Control Register (HW_FLCR) Bit Definitions
                             8534 ; 16   |
                             8535 ; 17   |typedef union               /*Flash Control Register*/
                             8536 ; 18   |{
                             8537 ; 19   |    struct
                             8538 ; 20   |    {
                             8539 ; 21   |    int KICK        :1;
                             8540 ; 22   |    int RW          :1;
                             8541 ; 23   |    int TCIE        :1;
                             8542 ; 24   |    int IRQP        :1;
                             8543 ; 25   |    unsigned MMD    :2;
                             8544 ; 26   |    unsigned NB     :11;
                             8545 ; 27   |    unsigned RSVD   :4;
                             8546 ; 28   |    int SRST        :1;
                             8547 ; 29   |    } B;
                             8548 ; 30   |    int I;
                             8549 ; 31   |} flcr_type;
                             8550 ; 32   |
                             8551 ; 33   |#define HW_FLCR_KICK_BITPOS 0
                             8552 ; 34   |#define HW_FLCR_RW_BITPOS 1
                             8553 ; 35   |#define HW_FLCR_TCIE_BITPOS 2
                             8554 ; 36   |#define HW_FLCR_IRQP_BITPOS 3
                             8555 ; 37   |#define HW_FLCR_MMD_BITPOS 4
                             8556 ; 38   |#define HW_FLCR_NB_BITPOS 6
                             8557 ; 39   |#define HW_FLCR_SRST_BITPOS 21
                             8558 ; 40   |
                             8559 ; 41   |#define HW_FLCR_KICK_SETMASK 1<<HW_FLCR_KICK_BITPOS
                             8560 ; 42   |#define HW_FLCR_RW_SETMASK 1<<HW_FLCR_RW_BITPOS
                             8561 ; 43   |#define HW_FLCR_READ_KICK_SETMASK HW_FLCR_KICK_SETMASK|HW_FLCR_RW_SETMASK
                             8562 ; 44   |#define HW_FLCR_WRITE_KICK_SETMASK HW_FLCR_KICK_SETMASK
                             8563 ; 45   |#define HW_FLCR_TCIE_SETMASK 1<<HW_FLCR_TCIE_BITPOS
                             8564 ; 46   |#define HW_FLCR_IRQP_SETMASK 1<<HW_FLCR_IRQP_BITPOS
                             8565 ; 47   |#define HW_FLCR_MMD_SETMASK 3<<HW_FLCR_MMD_BITPOS
                             8566 ; 48   |#define HW_FLCR_NB_SETMASK 0x7FF<<HW_FLCR_NB_BITPOS
                             8567 ; 49   |#define HW_FLCR_SRST_SETMASK 1<<HW_FLCR_SRST_BITPOS
                             8568 ; 50   |
                             8569 ; 51   |#define HW_FLCR_KICK_CLRMASK ~(WORD)HW_FLCR_KICK_SETMASK
                             8570 ; 52   |#define HW_FLCR_RW_CLRMASK ~(WORD)HW_FLCR_RW_SETMASK
                             8571 ; 53   |#define HW_FLCR_TCIE_CLRMASK ~(WORD)HW_FLCR_TCIE_SETMASK
                             8572 ; 54   |#define HW_FLCR_IRQP_CLRMASK ~(WORD)HW_FLCR_IRQP_SETMASK
                             8573 ; 55   |#define HW_FLCR_MMD_CLRMASK ~(WORD)HW_FLCR_MMD_SETMASK
                             8574 ; 56   |#define HW_FLCR_NB_CLRMASK ~(WORD)HW_FLCR_NB_SETMASK
                             8575 ; 57   |#define HW_FLCR_SRST_CLRMASK ~(WORD)HW_FLCR_SRST_SETMASK
                             8576 ; 58   |
                             8577 ; 59   |
                             8578 ; 60   |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 142

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8579 ; 61   |//  Flash Start Address Low Register (HW_FLSALR) Bit Definitions
                             8580 ; 62   |
                             8581 ; 63   |typedef union           /* Flash Start Address Low*/
                             8582 ; 64   |{
                             8583 ; 65   |    struct
                             8584 ; 66   |    {
                             8585 ; 67   |    unsigned XA     : 24;
                             8586 ; 68   |    } B;
                             8587 ; 69   |    int I;
                             8588 ; 70   |} flsalr_type;
                             8589 ; 71   |
                             8590 ; 72   |#define HW_FLSALR_XA_BITPOS 0
                             8591 ; 73   |
                             8592 ; 74   |#define HW_FLSALR_XA_SETMASK 0xFFFFFF<<HW_FLSALR_XA_BITPOS
                             8593 ; 75   |
                             8594 ; 76   |#define HW_FLSALR_XA_CLRMASK ~(WORD)HW_FLSALR_XA_SETMASK
                             8595 ; 77   |
                             8596 ; 78   |
                             8597 ; 79   |/////////////////////////////////////////////////////////////////////////////////
                             8598 ; 80   |//  Flash Start Address High Register (HW_FLSAHR) Bit Definitions
                             8599 ; 81   |
                             8600 ; 82   |typedef union           /* Flash Start Address High*/
                             8601 ; 83   |{
                             8602 ; 84   |    struct
                             8603 ; 85   |    {
                             8604 ; 86   |    unsigned XA     :8;
                             8605 ; 87   |    unsigned DA     :16;
                             8606 ; 88   |    } B;
                             8607 ; 89   |    int I;
                             8608 ; 90   |} flsahr_type;
                             8609 ; 91   |
                             8610 ; 92   |#define HW_FLSAHR_XA_BITPOS 0
                             8611 ; 93   |
                             8612 ; 94   |#define HW_FLSAHR_XA_SETMASK 0xFFFFFF<<HW_FLSAHR_XA_BITPOS
                             8613 ; 95   |
                             8614 ; 96   |#define HW_FLSAHR_XA_CLRMASK ~(WORD)HW_FLSAHR_XA_SETMASK
                             8615 ; 97   |
                             8616 ; 98   |
                             8617 ; 99   |/////////////////////////////////////////////////////////////////////////////////
                             8618 ; 100  |//  EMC Flash CompactFlash Control Register (HW_FLCFCR) Bit Definitions
                             8619 ; 101  |
                             8620 ; 102  |typedef union           /* Flash CompactFlash Control Register*/
                             8621 ; 103  |{
                             8622 ; 104  |    struct
                             8623 ; 105  |    {
                             8624 ; 106  |        int WP          :1;
                             8625 ; 107  |        int CDP         :1;
                             8626 ; 108  |        unsigned SM     :2;
                             8627 ; 109  |        int XATTR       :1;
                             8628 ; 110  |        int CRST        :1;
                             8629 ; 111  |        int XWT         :1;
                             8630 ; 112  |        int RI          :1;
                             8631 ; 113  |        int IFCE        :1;
                             8632 ; 114  |        int ISCE        :1;
                             8633 ; 115  |        int INCE        :1;
                             8634 ; 116  |        int IFCS        :1;
                             8635 ; 117  |        int ISCS        :1;
                             8636 ; 118  |        int INCS        :1;
                             8637 ; 119  |        unsigned CFAI   :2;
                             8638 ; 120  |        int XDDI        :1;
                             8639 ; 121  |        unsigned CS     :2;
                             8640 ; 122  |        int CRE         :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 143

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8641 ; 123  |        unsigned VS     :2;
                             8642 ; 124  |        int DASP        :1;
                             8643 ; 125  |        int MODE16      :1; 
                             8644 ; 126  |    } B;
                             8645 ; 127  |    int I;
                             8646 ; 128  |} flcfcr_type;
                             8647 ; 129  |
                             8648 ; 130  |#define HW_FLCFCR_WP_BITPOS 0
                             8649 ; 131  |#define HW_FLCFCR_CDP_BITPOS 1
                             8650 ; 132  |#define HW_FLCFCR_SM_BITPOS 2
                             8651 ; 133  |#define HW_FLCFCR_XATTR_BITPOS 4
                             8652 ; 134  |#define HW_FLCFCR_CRST_BITPOS 5
                             8653 ; 135  |#define HW_FLCFCR_XWT_BITPOS 6
                             8654 ; 136  |#define HW_FLCFCR_RI_BITPOS 7
                             8655 ; 137  |#define HW_FLCFCR_IFCE_BITPOS 8
                             8656 ; 138  |#define HW_FLCFCR_ISCE_BITPOS 9
                             8657 ; 139  |#define HW_FLCFCR_INCE_BITPOS 10
                             8658 ; 140  |#define HW_FLCFCR_IFCS_BITPOS 11
                             8659 ; 141  |#define HW_FLCFCR_ISCS_BITPOS 12
                             8660 ; 142  |#define HW_FLCFCR_INCS_BITPOS 13
                             8661 ; 143  |#define HW_FLCFCR_CFAI_BITPOS 14
                             8662 ; 144  |#define HW_FLCFCR_XDDI_BITPOS 16
                             8663 ; 145  |#define HW_FLCFCR_CS_BITPOS 17
                             8664 ; 146  |#define HW_FLCFCR_CRE_BITPOS 19
                             8665 ; 147  |#define HW_FLCFCR_VS_BITPOS 20
                             8666 ; 148  |#define HW_FLCFCR_DASP_BITPOS 22
                             8667 ; 149  |
                             8668 ; 150  |#define HW_FLCFCR_WP_SETMASK 1<<HW_FLCFCR_WP_BITPOS
                             8669 ; 151  |#define HW_FLCFCR_CDP_SETMASK 1<<HW_FLCFCR_CDP_BITPOS
                             8670 ; 152  |#define HW_FLCFCR_SM_SETMASK 3<<HW_FLCFCR_SM_BITPOS
                             8671 ; 153  |#define HW_FLCFCR_XATTR_SETMASK 1<<HW_FLCFCR_XATTR_BITPOS
                             8672 ; 154  |#define HW_FLCFCR_CRST_SETMASK 1<<HW_FLCFCR_CRST_BITPOS
                             8673 ; 155  |#define HW_FLCFCR_XWT_SETMASK 1<<HW_FLCFCR_XWT_BITPOS
                             8674 ; 156  |#define HW_FLCFCR_RI_SETMASK 1<<HW_FLCFCR_RI_BITPOS
                             8675 ; 157  |#define HW_FLCFCR_IFCE_SETMASK 1<<HW_FLCFCR_IFCE_BITPOS
                             8676 ; 158  |#define HW_FLCFCR_ISCE_SETMASK 1<<HW_FLCFCR_ISCE_BITPOS
                             8677 ; 159  |#define HW_FLCFCR_INCE_SETMASK 1<<HW_FLCFCR_INCE_BITPOS
                             8678 ; 160  |#define HW_FLCFCR_IFCS_SETMASK 1<<HW_FLCFCR_IFCS_BITPOS
                             8679 ; 161  |#define HW_FLCFCR_ISCS_SETMASK 1<<HW_FLCFCR_ISCS_BITPOS
                             8680 ; 162  |#define HW_FLCFCR_INCS_SETMASK 1<<HW_FLCFCR_INCS_BITPOS
                             8681 ; 163  |#define HW_FLCFCR_CFAI_SETMASK 3<<HW_FLCFCR_CFAI_BITPOS
                             8682 ; 164  |#define HW_FLCFCR_XDDI_SETMASK 1<<HW_FLCFCR_XDDI_BITPOS
                             8683 ; 165  |#define HW_FLCFCR_CS_SETMASK 3<<HW_FLCFCR_CS_BITPOS
                             8684 ; 166  |#define HW_FLCFCR_CRE_SETMASK 1<<HW_FLCFCR_CRE_BITPOS
                             8685 ; 167  |#define HW_FLCFCR_VS_SETMASK 3<<HW_FLCFCR_VS_BITPOS
                             8686 ; 168  |#define HW_FLCFCR_DASP_SETMASK 1<<HW_FLCFCR_DASP_BITPOS
                             8687 ; 169  |
                             8688 ; 170  |#define HW_FLCFCR_WP_CLRMASK ~(WORD)HW_FLCFCR_WP_SETMASK
                             8689 ; 171  |#define HW_FLCFCR_CDP_CLRMASK ~(WORD)HW_FLCFCR_CDP_SETMASK
                             8690 ; 172  |#define HW_FLCFCR_SM_CLRMASK ~(WORD)HW_FLCFCR_SM_SETMASK
                             8691 ; 173  |#define HW_FLCFCR_XATTR_CLRMASK ~(WORD)HW_FLCFCR_XATTR_SETMASK
                             8692 ; 174  |#define HW_FLCFCR_CRST_CLRMASK ~(WORD)HW_FLCFCR_CRST_SETMASK
                             8693 ; 175  |#define HW_FLCFCR_XWT_CLRMASK ~(WORD)HW_FLCFCR_XWT_SETMASK
                             8694 ; 176  |#define HW_FLCFCR_RI_CLRMASK ~(WORD)HW_FLCFCR_RI_SETMASK
                             8695 ; 177  |#define HW_FLCFCR_IFCE_CLRMASK ~(WORD)HW_FLCFCR_IFCE_SETMASK
                             8696 ; 178  |#define HW_FLCFCR_ISCE_CLRMASK ~(WORD)HW_FLCFCR_ISCE_SETMASK
                             8697 ; 179  |#define HW_FLCFCR_INCE_CLRMASK ~(WORD)HW_FLCFCR_INCE_SETMASK
                             8698 ; 180  |#define HW_FLCFCR_IFCS_CLRMASK ~(WORD)HW_FLCFCR_IFCS_SETMASK
                             8699 ; 181  |#define HW_FLCFCR_ISCS_CLRMASK ~(WORD)HW_FLCFCR_ISCS_SETMASK
                             8700 ; 182  |#define HW_FLCFCR_INCS_CLRMASK ~(WORD)HW_FLCFCR_INCS_SETMASK
                             8701 ; 183  |#define HW_FLCFCR_CFAI_CLRMASK ~(WORD)HW_FLCFCR_CFAI_SETMASK
                             8702 ; 184  |#define HW_FLCFCR_XDDI_CLRMASK ~(WORD)HW_FLCFCR_XDDI_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 144

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8703 ; 185  |#define HW_FLCFCR_CS_CLRMASK ~(WORD)HW_FLCFCR_CS_SETMASK
                             8704 ; 186  |#define HW_FLCFCR_CRE_CLRMASK ~(WORD)HW_FLCFCR_CRE_SETMASK
                             8705 ; 187  |#define HW_FLCFCR_VS_CLRMASK ~(WORD)HW_FLCFCR_VS_SETMASK
                             8706 ; 188  |#define HW_FLCFCR_DASP_CLRMASK ~(WORD)HW_FLCFCR_DASP_SETMASK
                             8707 ; 189  |
                             8708 ; 190  |
                             8709 ; 191  |/////////////////////////////////////////////////////////////////////////////////
                             8710 ; 192  |//  EMC Flash Compact Flash Timer1 Register (HW_FLCFTMR1R) Bit Definitions
                             8711 ; 193  |
                             8712 ; 194  |typedef union           /* Flash CompactFlash Timer1 Register*/
                             8713 ; 195  |{
                             8714 ; 196  |    struct
                             8715 ; 197  |    {
                             8716 ; 198  |        unsigned TRWSU  :5;
                             8717 ; 199  |        unsigned TRPW   :7;
                             8718 ; 200  |        unsigned TWPW   :7;
                             8719 ; 201  |        unsigned TRWH   :5;
                             8720 ; 202  |    } B;
                             8721 ; 203  |    int I;
                             8722 ; 204  |} flcftmr1r_type;
                             8723 ; 205  |
                             8724 ; 206  |#define HW_FLCFTMR1R_TRWSU_BITPOS 0
                             8725 ; 207  |#define HW_FLCFTMR1R_TRPW_BITPOS 5
                             8726 ; 208  |#define HW_FLCFTMR1R_TWPW_BITPOS 12
                             8727 ; 209  |#define HW_FLCFTMR1R_TRWH_BITPOS 19
                             8728 ; 210  |
                             8729 ; 211  |#define HW_FLCFTMR1R_TRWSU_SETMASK 0x1F<<HW_FLCFTMR1R_TRWSU_BITPOS
                             8730 ; 212  |#define HW_FLCFTMR1R_TRPW_SETMASK 0x7F<<HW_FLCFTMR1R_TRPW_BITPOS
                             8731 ; 213  |#define HW_FLCFTMR1R_TWPW_SETMASK 0x7F<<HW_FLCFTMR1R_TWPW_BITPOS
                             8732 ; 214  |#define HW_FLCFTMR1R_TRWH_SETMASK 0x1F<<HW_FLCFTMR1R_TRWH_BITPOS
                             8733 ; 215  |
                             8734 ; 216  |#define HW_FLCFTMR1R_TRWSU_CLRMASK ~(WORD)HW_FLCFTMR1R_TRWSU_SETMASK
                             8735 ; 217  |#define HW_FLCFTMR1R_TRPW_CLRMASK ~(WORD)HW_FLCFTMR1R_TRPW_SETMASK
                             8736 ; 218  |#define HW_FLCFTMR1R_TWPW_CLRMASK ~(WORD)HW_FLCFTMR1R_TWPW_SETMASK
                             8737 ; 219  |#define HW_FLCFTMR1R_TRWH_CLRMASK ~(WORD)HW_FLCFTMR1R_TRWH_SETMASK
                             8738 ; 220  |
                             8739 ; 221  |
                             8740 ; 222  |/////////////////////////////////////////////////////////////////////////////////
                             8741 ; 223  |//  EMC Flash Compact Flash Timer1 Register (HW_FLCFTMR2R) Bit Definitions
                             8742 ; 224  |
                             8743 ; 225  |typedef union           /* Flash CompactFlash Timer2 Register*/
                             8744 ; 226  |{
                             8745 ; 227  |    struct
                             8746 ; 228  |    {
                             8747 ; 229  |        unsigned TWW    :4;
                             8748 ; 230  |        unsigned TWTO   :10;
                             8749 ; 231  |        unsigned THW    :5; 
                             8750 ; 232  |        unsigned TRAQ   :5;
                             8751 ; 233  |    } B;
                             8752 ; 234  |    int I;
                             8753 ; 235  |} flcftmr2r_type;
                             8754 ; 236  |
                             8755 ; 237  |#define HW_FLCFTMR2R_TWW_BITPOS 0
                             8756 ; 238  |#define HW_FLCFTMR2R_TWTO_BITPOS 4
                             8757 ; 239  |#define HW_FLCFTMR2R_THW_BITPOS 14
                             8758 ; 240  |#define HW_FLCFTMR2R_TRAQ_BITPOS 19
                             8759 ; 241  |
                             8760 ; 242  |#define HW_FLCFTMR2R_TWW_SETMASK 0xF<<HW_FLCFTMR2R_TWW_BITPOS
                             8761 ; 243  |#define HW_FLCFTMR2R_TWTO_SETMASK 0x3FF<<HW_FLCFTMR2R_TWTO_BITPOS
                             8762 ; 244  |#define HW_FLCFTMR2R_THW_SETMASK 0x1F<<HW_FLCFTMR2R_THW_BITPOS
                             8763 ; 245  |#define HW_FLCFTMR2R_TRAQ_SETMASK 0x1F<<HW_FLCFTMR2R_TRAQ_BITPOS
                             8764 ; 246  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 145

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8765 ; 247  |#define HW_FLCFTMR2R_TWW_CLRMASK ~(WORD)HW_FLCFTMR2R_TWW_SETMASK
                             8766 ; 248  |#define HW_FLCFTMR2R_TWTO_CLRMASK ~(WORD)HW_FLCFTMR2R_TWTO_SETMASK
                             8767 ; 249  |#define HW_FLCFTMR2R_THW_CLRMASK ~(WORD)HW_FLCFTMR2R_THW_SETMASK
                             8768 ; 250  |#define HW_FLCFTMR2R_TRAQ_CLRMASK ~(WORD)HW_FLCFTMR2R_TRAQ_SETMASK
                             8769 ; 251  |
                             8770 ; 252  |
                             8771 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                             8772 ; 254  |//  EMC Flash SmartMedia Control Register (HW_FLSMCR) Bit Definitions
                             8773 ; 255  |
                             8774 ; 256  |typedef union           /* Flash SmartMedia Control Register*/
                             8775 ; 257  |{
                             8776 ; 258  |    struct
                             8777 ; 259  |    {
                             8778 ; 260  |        unsigned CS     :2;
                             8779 ; 261  |        int SE          :1;
                             8780 ; 262  |        int WP          :1;
                             8781 ; 263  |        int SIZE        :1;
                             8782 ; 264  |        int ICMD        :8;
                             8783 ; 265  |        int TOIE        :1;
                             8784 ; 266  |        int BPIE        :1;
                             8785 ; 267  |        int TOIRQ       :1;
                             8786 ; 268  |        int BPIRQ       :1;
                             8787 ; 269  |    } B;
                             8788 ; 270  |    int I;
                             8789 ; 271  |} flsmcr_type;
                             8790 ; 272  |
                             8791 ; 273  |#define HW_FLSMCR_CS_BITPOS 0
                             8792 ; 274  |#define HW_FLSMCR_SE_BITPOS 2
                             8793 ; 275  |#define HW_FLSMCR_WP_BITPOS 3
                             8794 ; 276  |#define HW_FLSMCR_SIZE_BITPOS 4
                             8795 ; 277  |#define HW_FLSMCR_ICMD_BITPOS 5
                             8796 ; 278  |#define HW_FLSMCR_TOIE_BITPOS 13
                             8797 ; 279  |#define HW_FLSMCR_BPIE_BITPOS 14
                             8798 ; 280  |#define HW_FLSMCR_TOIRQ_BITPOS 15
                             8799 ; 281  |#define HW_FLSMCR_BPIRQ_BITPOS 16
                             8800 ; 282  |
                             8801 ; 283  |#define HW_FLSMCR_CS_SETMASK 1<<HW_FLSMCR_CS_BITPOS
                             8802 ; 284  |#define HW_FLSMCR_SE_SETMASK 1<<HW_FLSMCR_SE_BITPOS
                             8803 ; 285  |#define HW_FLSMCR_WP_SETMASK 1<<HW_FLSMCR_WP_BITPOS
                             8804 ; 286  |#define HW_FLSMCR_SIZE_SETMASK 1<<HW_FLSMCR_SIZE_BITPOS
                             8805 ; 287  |#define HW_FLSMCR_ICMD_SETMASK (0xFF)<<HW_FLSMCR_ICMD_BITPOS
                             8806 ; 288  |#define HW_FLSMCR_TOIE_SETMASK 1<<HW_FLSMCR_TOIE_BITPOS
                             8807 ; 289  |#define HW_FLSMCR_BPIE_SETMASK 1<<HW_FLSMCR_BPIE_BITPOS
                             8808 ; 290  |#define HW_FLSMCR_TOIRQ_SETMASK 1<<HW_FLSMCR_TOIRQ_BITPOS
                             8809 ; 291  |#define HW_FLSMCR_BPIRQ_SETMASK 1<<HW_FLSMCR_BPIRQ_BITPOS
                             8810 ; 292  |
                             8811 ; 293  |#define HW_FLSMCR_SE_ASSERT_SETMASK 0x000000
                             8812 ; 294  |#define HW_FLSMCR_SE_DEASSERT_SETMASK 0x000004
                             8813 ; 295  |#define HW_FLSMCR_WP_ASSERT_SETMASK 0x000000
                             8814 ; 296  |#define HW_FLSMCR_WP_DEASSERT_SETMASK 0x000008
                             8815 ; 297  |#define HW_FLSMCR_SIZE_SMALL_SETMASK 0x000000
                             8816 ; 298  |#define HW_FLSMCR_SIZE_LARGE_SETMASK 0x000010
                             8817 ; 299  |#define HW_FLSMCR_ICMD_RESET_SETMASK 0x001FE0
                             8818 ; 300  |#define HW_FLSMCR_ICMD_READ_STATUS_SETMASK 0x000E00
                             8819 ; 301  |#define HW_FLSMCR_ICMD_BLOCK_ERASE_SETMASK 0x000C00
                             8820 ; 302  |#define HW_FLSMCR_ICMD_ERASE_SETMASK 0x001A00
                             8821 ; 303  |#define HW_FLSMCR_ICMD_RP_FIRST_SETMASK 0x000000
                             8822 ; 304  |#define HW_FLSMCR_ICMD_RP_SECOND_SETMASK 0x000020
                             8823 ; 305  |#define HW_FLSMCR_ICMD_RP_SPARE_SETMASK 0x000A00
                             8824 ; 306  |#define HW_FLSMCR_ICMD_READ_ID_SETMASK 0x001200
                             8825 ; 307  |
                             8826 ; 308  |#define HW_FLSMCR_CS_CLRMASK ~(WORD)HW_FLSMCR_CS_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 146

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8827 ; 309  |#define HW_FLSMCR_SE_CLRMASK ~(WORD)HW_FLSMCR_SE_SETMASK
                             8828 ; 310  |#define HW_FLSMCR_WP_CLRMASK ~(WORD)HW_FLSMCR_WP_SETMASK
                             8829 ; 311  |#define HW_FLSMCR_SIZE_CLRMASK ~(WORD)HW_FLSMCR_SIZE_SETMASK
                             8830 ; 312  |#define HW_FLSMCR_ICMD_CLRMASK ~(WORD)HW_FLSMCR_ICMD_SETMASK
                             8831 ; 313  |#define HW_FLSMCR_TOIE_CLRMASK ~(WORD)HW_FLSMCR_TOIE_SETMASK
                             8832 ; 314  |#define HW_FLSMCR_BPIE_CLRMASK ~(WORD)HW_FLSMCR_BPIE_SETMASK
                             8833 ; 315  |#define HW_FLSMCR_TOIRQ_CLRMASK ~(WORD)HW_FLSMCR_TOIRQ_SETMASK
                             8834 ; 316  |#define HW_FLSMCR_BPIRQ_CLRMASK ~(WORD)HW_FLSMCR_BPIRQ_SETMASK
                             8835 ; 317  |
                             8836 ; 318  |
                             8837 ; 319  |/////////////////////////////////////////////////////////////////////////////////
                             8838 ; 320  |//  EMC Flash SmartMedia Timer1 Register (HW_FLSMTMR1R) Bit Definitions
                             8839 ; 321  |
                             8840 ; 322  |typedef union           /* Flash SmartMedia Timer1 Register*/
                             8841 ; 323  |{
                             8842 ; 324  |    struct
                             8843 ; 325  |    {
                             8844 ; 326  |        unsigned TRWSU  :5;
                             8845 ; 327  |        unsigned TRPW   :6;
                             8846 ; 328  |        unsigned TWPW   :6;
                             8847 ; 329  |        unsigned TRWH   :5;
                             8848 ; 330  |    } B;
                             8849 ; 331  |    int I;
                             8850 ; 332  |} flsmtmr1r_type;
                             8851 ; 333  |
                             8852 ; 334  |#define HW_FLSMTMR1R_TRWSU_BITPOS 0
                             8853 ; 335  |#define HW_FLSMTMR1R_TRPW_BITPOS 5
                             8854 ; 336  |#define HW_FLSMTMR1R_TWPW_BITPOS 11
                             8855 ; 337  |#define HW_FLSMTMR1R_TRWH_BITPOS 17
                             8856 ; 338  |
                             8857 ; 339  |#define HW_FLSMTMR1R_TRWSU_SETMASK 0x1F<<HW_FLSMTMR1R_TRWSU_BITPOS
                             8858 ; 340  |#define HW_FLSMTMR1R_TRPW_SETMASK 0x3F<<HW_FLSMTMR1R_TRPW_BITPOS
                             8859 ; 341  |#define HW_FLSMTMR1R_TWPW_SETMASK 0x3F<<HW_FLSMTMR1R_TWPW_BITPOS
                             8860 ; 342  |#define HW_FLSMTMR1R_TRWH_SETMASK 0x1F<<HW_FLSMTMR1R_TRWH_BITPOS
                             8861 ; 343  |
                             8862 ; 344  |#define HW_FLSMTMR1R_TRWSU_CLRMASK ~(WORD)HW_FLSMTMR1R_TRWSU_SETMASK
                             8863 ; 345  |#define HW_FLSMTMR1R_TRPW_CLRMASK ~(WORD)HW_FLSMTMR1R_TRPW_SETMASK
                             8864 ; 346  |#define HW_FLSMTMR1R_TWPW_CLRMASK ~(WORD)HW_FLSMTMR1R_TWPW_SETMASK
                             8865 ; 347  |#define HW_FLSMTMR1R_TRWH_CLRMASK ~(WORD)HW_FLSMTMR1R_TRWH_SETMASK
                             8866 ; 348  |
                             8867 ; 349  |
                             8868 ; 350  |/////////////////////////////////////////////////////////////////////////////////
                             8869 ; 351  |//  EMC Flash SmartMedia Timer2 Register (HW_FLSMTMR2R) Bit Definitions
                             8870 ; 352  |
                             8871 ; 353  |typedef union           /* Flash SmartMedia Timer2 Register*/
                             8872 ; 354  |{
                             8873 ; 355  |    struct
                             8874 ; 356  |    {
                             8875 ; 357  |        unsigned TWT    :6;
                             8876 ; 358  |        unsigned TWTO   :18;
                             8877 ; 359  |    } B;
                             8878 ; 360  |    int I;
                             8879 ; 361  |} flsmtmr2r_type;
                             8880 ; 362  |
                             8881 ; 363  |#define HW_FLSMTMR2R_TWT_BITPOS 0
                             8882 ; 364  |#define HW_FLSMTMR2R_TWTO_BITPOS 6
                             8883 ; 365  |
                             8884 ; 366  |#define HW_FLSMTMR2R_TWT_SETMASK 0x3F<<HW_FLSMTMR2R_TWT_BITPOS
                             8885 ; 367  |#define HW_FLSMTMR2R_TWTO_SETMASK 0x3FF<<HW_FLSMTMR2R_TWTO_BITPOS
                             8886 ; 368  |
                             8887 ; 369  |#define HW_FLSMTMR2R_TWT_CLRMASK ~(WORD)HW_FLSMTMR2R_TWT_SETMASK
                             8888 ; 370  |#define HW_FLSMTMR2R_TWTO_CLRMASK ~(WORD)HW_FLSMTMR2R_TWTO_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 147

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8889 ; 371  |
                             8890 ; 372  |/*//////////////////////////////////////////////////////////////////////////////
                             8891 ; 373  |  //  EMC Flash Control Status Register2 (HW_FLCR2) Bit Definitions     */
                             8892 ; 374  |typedef union 
                             8893 ; 375  |{
                             8894 ; 376  |  struct
                             8895 ; 377  |  {
                             8896 ; 378  |    unsigned ASEL     :2;        /* Memory Select */
                             8897 ; 379  |    unsigned RA       :1;        /* Right Align word into 24bit memory for True IDE  xfers
                                   */
                             8898 ; 380  |    unsigned LA       :1;        /* Left  Align word into 24bit memory for True IDE  xfers
                                   */
                             8899 ; 381  |    unsigned NEGDMA   :1;        /* Inverts data from Flash to memory */
                             8900 ; 382  |    unsigned NEGFL    :1;        /* Inverts data from memory to Flash */
                             8901 ; 383  |    unsigned CLKOFF   :1;        /* Power down - turns clk off */
                             8902 ; 384  |    int PAD0          :17;    
                             8903 ; 385  |  } B;
                             8904 ; 386  |  int I;
                             8905 ; 387  |} flcr2_type;
                             8906 ; 388  |
                             8907 ; 389  |/////////////////////////////////////////////////////////////////////////////////
                             8908 ; 390  |//  EMC Flash SmartMedia Status Register (HW_FLSMSR) Bit Definitions
                             8909 ; 391  |#define HW_FLSMSR_RDY_BITPOS 0
                             8910 ; 392  |#define HW_FLSMSR_BUSY_BITPOS 7
                             8911 ; 393  |
                             8912 ; 394  |#define HW_FLCR      (*(volatile flcr_type      _X*) (HW_EMC_BASEADDR))    /* EMC Flash Co
                                  ntrol Register */
                             8913 ; 395  |#define HW_FLSALR    (*(volatile flsalr_type    _X*) (HW_EMC_BASEADDR+1))  /* EMC Flash St
                                  art Address Low Register */
                             8914 ; 396  |#define HW_FLSAHR    (*(volatile flsahr_type    _X*) (HW_EMC_BASEADDR+2))  /* EMC Flash St
                                  art Address High Register */
                             8915 ; 397  |#define HW_FLSSMPR   (*(volatile flssmpr_type   _X*) (HW_EMC_BASEADDR+3))  /*  */
                             8916 ; 398  |#define HW_FLCR2     (*(volatile flcr2_type     _X*) (HW_EMC_BASEADDR+4))  /* EMC Flash Co
                                  ntrol Register2 */
                             8917 ; 399  |#define HW_FLCFCR    (*(volatile flcfcr_type    _X*) (HW_EMC_BASEADDR+8))  /* EMC Flash Co
                                  mpactFlash Control Register*/
                             8918 ; 400  |#define HW_FLCFTMR1R (*(volatile flcftmr1r_type _X*) (HW_EMC_BASEADDR+9))  /* EMC Flash Co
                                  mpact Flash Timer1 Register*/
                             8919 ; 401  |#define HW_FLCFTMR2R (*(volatile flcftmr2r_type _X*) (HW_EMC_BASEADDR+10)) /* EMC Flash Co
                                  mpact Flash Timer2 Register*/
                             8920 ; 402  |#define HW_FLSMCR    (*(volatile flsmcr_type    _X*) (HW_EMC_BASEADDR+16)) /* EMC Flash Sm
                                  artMedia Control Register*/
                             8921 ; 403  |#define HW_FLSMTMR1R (*(volatile flsmtmr1r_type _X*) (HW_EMC_BASEADDR+17)) /* EMC Flash Sm
                                  artMedia Timer1 Register*/
                             8922 ; 404  |#define HW_FLSMTMR2R (*(volatile flsmtmr2r_type _X*) (HW_EMC_BASEADDR+18)) /* EMC Flash Sm
                                  artMedia Timer2 Register*/
                             8923 ; 405  |#define HW_FLSMSR    (*(volatile flssmsr_type   _X*) (HW_EMC_BASEADDR+19)) /*  */
                             8924 ; 406  |
                             8925 ; 407  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                             8926 ; 408  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                             8927 ; 409  |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                             8928 ; 410  |
                             8929 ; 411  |#define HW_FLC2R HW_EMC_BASEADDR+4
                             8930 ; 412  |
                             8931 ; 413  |#endif
                             8932 ; 414  |
                             8933 
                             8935 
                             8936 ; 22   |#include "regsgpio.h"
                             8937 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 148

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8939 
                             8940 ; 1    |#if !(defined(__REGS_GPIO_INC))
                             8941 ; 2    |#define __REGS_GPIO_INC 1
                             8942 ; 3    |
                             8943 ; 4    |#include "types.h"
                             8944 
                             8946 
                             8947 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             8948 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             8949 ; 3    |//
                             8950 ; 4    |// Filename: types.h
                             8951 ; 5    |// Description: Standard data types
                             8952 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             8953 ; 7    |
                             8954 ; 8    |#ifndef _TYPES_H
                             8955 ; 9    |#define _TYPES_H
                             8956 ; 10   |
                             8957 ; 11   |// TODO:  move this outta here!
                             8958 ; 12   |#if !defined(NOERROR)
                             8959 ; 13   |#define NOERROR 0
                             8960 ; 14   |#define SUCCESS 0
                             8961 ; 15   |#endif 
                             8962 ; 16   |#if !defined(SUCCESS)
                             8963 ; 17   |#define SUCCESS  0
                             8964 ; 18   |#endif
                             8965 ; 19   |#if !defined(ERROR)
                             8966 ; 20   |#define ERROR   -1
                             8967 ; 21   |#endif
                             8968 ; 22   |#if !defined(FALSE)
                             8969 ; 23   |#define FALSE 0
                             8970 ; 24   |#endif
                             8971 ; 25   |#if !defined(TRUE)
                             8972 ; 26   |#define TRUE  1
                             8973 ; 27   |#endif
                             8974 ; 28   |
                             8975 ; 29   |#if !defined(NULL)
                             8976 ; 30   |#define NULL 0
                             8977 ; 31   |#endif
                             8978 ; 32   |
                             8979 ; 33   |#define MAX_INT     0x7FFFFF
                             8980 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             8981 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             8982 ; 36   |#define MAX_ULONG   (-1) 
                             8983 ; 37   |
                             8984 ; 38   |#define WORD_SIZE   24              // word size in bits
                             8985 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             8986 ; 40   |
                             8987 ; 41   |
                             8988 ; 42   |#define BYTE    unsigned char       // btVarName
                             8989 ; 43   |#define CHAR    signed char         // cVarName
                             8990 ; 44   |#define USHORT  unsigned short      // usVarName
                             8991 ; 45   |#define SHORT   unsigned short      // sVarName
                             8992 ; 46   |#define WORD    unsigned int        // wVarName
                             8993 ; 47   |#define INT     signed int          // iVarName
                             8994 ; 48   |#define DWORD   unsigned long       // dwVarName
                             8995 ; 49   |#define LONG    signed long         // lVarName
                             8996 ; 50   |#define BOOL    unsigned int        // bVarName
                             8997 ; 51   |#define FRACT   _fract              // frVarName
                             8998 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             8999 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             9000 ; 54   |#define FLOAT   float               // fVarName
                             9001 ; 55   |#define DBL     double              // dVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 149

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9002 ; 56   |#define ENUM    enum                // eVarName
                             9003 ; 57   |#define CMX     _complex            // cmxVarName
                             9004 ; 58   |typedef WORD UCS3;                   // 
                             9005 ; 59   |
                             9006 ; 60   |#define UINT16  unsigned short
                             9007 ; 61   |#define UINT8   unsigned char   
                             9008 ; 62   |#define UINT32  unsigned long
                             9009 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             9010 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             9011 ; 65   |#define WCHAR   UINT16
                             9012 ; 66   |
                             9013 ; 67   |//UINT128 is 16 bytes or 6 words
                             9014 ; 68   |typedef struct UINT128_3500 {   
                             9015 ; 69   |    int val[6];     
                             9016 ; 70   |} UINT128_3500;
                             9017 ; 71   |
                             9018 ; 72   |#define UINT128   UINT128_3500
                             9019 ; 73   |
                             9020 ; 74   |// Little endian word packed byte strings:   
                             9021 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9022 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9023 ; 77   |// Little endian word packed byte strings:   
                             9024 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9025 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9026 ; 80   |
                             9027 ; 81   |// Declare Memory Spaces To Use When Coding
                             9028 ; 82   |// A. Sector Buffers
                             9029 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             9030 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             9031 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             9032 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             9033 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             9034 ; 88   |// B. Media DDI Memory
                             9035 ; 89   |#define MEDIA_DDI_MEM _Y
                             9036 ; 90   |
                             9037 ; 91   |
                             9038 ; 92   |
                             9039 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             9040 ; 94   |// Examples of circular pointers:
                             9041 ; 95   |//    INT CIRC cpiVarName
                             9042 ; 96   |//    DWORD CIRC cpdwVarName
                             9043 ; 97   |
                             9044 ; 98   |#define RETCODE INT                 // rcVarName
                             9045 ; 99   |
                             9046 ; 100  |// generic bitfield structure
                             9047 ; 101  |struct Bitfield {
                             9048 ; 102  |    unsigned int B0  :1;
                             9049 ; 103  |    unsigned int B1  :1;
                             9050 ; 104  |    unsigned int B2  :1;
                             9051 ; 105  |    unsigned int B3  :1;
                             9052 ; 106  |    unsigned int B4  :1;
                             9053 ; 107  |    unsigned int B5  :1;
                             9054 ; 108  |    unsigned int B6  :1;
                             9055 ; 109  |    unsigned int B7  :1;
                             9056 ; 110  |    unsigned int B8  :1;
                             9057 ; 111  |    unsigned int B9  :1;
                             9058 ; 112  |    unsigned int B10 :1;
                             9059 ; 113  |    unsigned int B11 :1;
                             9060 ; 114  |    unsigned int B12 :1;
                             9061 ; 115  |    unsigned int B13 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 150

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9062 ; 116  |    unsigned int B14 :1;
                             9063 ; 117  |    unsigned int B15 :1;
                             9064 ; 118  |    unsigned int B16 :1;
                             9065 ; 119  |    unsigned int B17 :1;
                             9066 ; 120  |    unsigned int B18 :1;
                             9067 ; 121  |    unsigned int B19 :1;
                             9068 ; 122  |    unsigned int B20 :1;
                             9069 ; 123  |    unsigned int B21 :1;
                             9070 ; 124  |    unsigned int B22 :1;
                             9071 ; 125  |    unsigned int B23 :1;
                             9072 ; 126  |};
                             9073 ; 127  |
                             9074 ; 128  |union BitInt {
                             9075 ; 129  |        struct Bitfield B;
                             9076 ; 130  |        int        I;
                             9077 ; 131  |};
                             9078 ; 132  |
                             9079 ; 133  |#define MAX_MSG_LENGTH 10
                             9080 ; 134  |struct CMessage
                             9081 ; 135  |{
                             9082 ; 136  |        unsigned int m_uLength;
                             9083 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             9084 ; 138  |};
                             9085 ; 139  |
                             9086 ; 140  |typedef struct {
                             9087 ; 141  |    WORD m_wLength;
                             9088 ; 142  |    WORD m_wMessage;
                             9089 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             9090 ; 144  |} Message;
                             9091 ; 145  |
                             9092 ; 146  |struct MessageQueueDescriptor
                             9093 ; 147  |{
                             9094 ; 148  |        int *m_pBase;
                             9095 ; 149  |        int m_iModulo;
                             9096 ; 150  |        int m_iSize;
                             9097 ; 151  |        int *m_pHead;
                             9098 ; 152  |        int *m_pTail;
                             9099 ; 153  |};
                             9100 ; 154  |
                             9101 ; 155  |struct ModuleEntry
                             9102 ; 156  |{
                             9103 ; 157  |    int m_iSignaledEventMask;
                             9104 ; 158  |    int m_iWaitEventMask;
                             9105 ; 159  |    int m_iResourceOfCode;
                             9106 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             9107 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             9108 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             9109 ; 163  |    int m_uTimeOutHigh;
                             9110 ; 164  |    int m_uTimeOutLow;
                             9111 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             9112 ; 166  |};
                             9113 ; 167  |
                             9114 ; 168  |union WaitMask{
                             9115 ; 169  |    struct B{
                             9116 ; 170  |        unsigned int m_bNone     :1;
                             9117 ; 171  |        unsigned int m_bMessage  :1;
                             9118 ; 172  |        unsigned int m_bTimer    :1;
                             9119 ; 173  |        unsigned int m_bButton   :1;
                             9120 ; 174  |    } B;
                             9121 ; 175  |    int I;
                             9122 ; 176  |} ;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 151

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9123 ; 177  |
                             9124 ; 178  |
                             9125 ; 179  |struct Button {
                             9126 ; 180  |        WORD wButtonEvent;
                             9127 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             9128 ; 182  |};
                             9129 ; 183  |
                             9130 ; 184  |struct Message {
                             9131 ; 185  |        WORD wMsgLength;
                             9132 ; 186  |        WORD wMsgCommand;
                             9133 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             9134 ; 188  |};
                             9135 ; 189  |
                             9136 ; 190  |union EventTypes {
                             9137 ; 191  |        struct CMessage msg;
                             9138 ; 192  |        struct Button Button ;
                             9139 ; 193  |        struct Message Message;
                             9140 ; 194  |};
                             9141 ; 195  |
                             9142 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             9143 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             9144 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             9145 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             9146 ; 200  |
                             9147 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             9148 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             9149 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             9150 ; 204  |
                             9151 ; 205  |#if DEBUG
                             9152 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             9153 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             9154 ; 208  |#else 
                             9155 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             9156 ; 210  |#define DebugBuildAssert(x)    
                             9157 ; 211  |#endif
                             9158 ; 212  |
                             9159 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             9160 ; 214  |//  #pragma asm
                             9161 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             9162 ; 216  |//  #pragma endasm
                             9163 ; 217  |
                             9164 ; 218  |
                             9165 ; 219  |#ifdef COLOR_262K
                             9166 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             9167 ; 221  |#elif defined(COLOR_65K)
                             9168 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             9169 ; 223  |#else
                             9170 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             9171 ; 225  |#endif
                             9172 ; 226  |    
                             9173 ; 227  |#endif // #ifndef _TYPES_H
                             9174 
                             9176 
                             9177 ; 5    |
                             9178 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                             9179 ; 7    |//  Interrupt Collector Registers
                             9180 ; 8    |/////////////////////////////////////////////////////////////////////////////////
                             9181 ; 9    |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 152

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9182 ; 10   |#define HW_GPIO_BASEADDR 0xF400
                             9183 ; 11   |
                             9184 ; 12   |#define HW_GPB0_BASEADDR HW_GPIO_BASEADDR
                             9185 ; 13   |#define HW_GPB1_BASEADDR HW_GPIO_BASEADDR+0x10
                             9186 ; 14   |#define HW_GPB2_BASEADDR HW_GPIO_BASEADDR+0x20
                             9187 ; 15   |#define HW_GPB3_BASEADDR HW_GPIO_BASEADDR+0x30
                             9188 ; 16   |
                             9189 ; 17   |#define HW_GPB0_BLOCKNUM 0
                             9190 ; 18   |#define HW_GPB1_BLOCKNUM 1
                             9191 ; 19   |#define HW_GPB2_BLOCKNUM 2
                             9192 ; 20   |#define HW_GPB3_BLOCKNUM 3
                             9193 ; 21   |
                             9194 ; 22   |#define HW_GPB_GPENR 0
                             9195 ; 23   |#define HW_GPB_GPDOR 1
                             9196 ; 24   |#define HW_GPB_GPDIR 2
                             9197 ; 25   |#define HW_GPB_GPDOER 3
                             9198 ; 26   |#define HW_GPB_GPIPENR 4
                             9199 ; 27   |#define HW_GPB_GPIENR 5
                             9200 ; 28   |#define HW_GPB_GPILVLR 6
                             9201 ; 29   |#define HW_GPB_GPIPOLR 7
                             9202 ; 30   |#define HW_GPB_GPISTATR 8
                             9203 ; 31   |#define HW_GPB_GPPWR 9
                             9204 ; 32   |#define HW_GPB_GP8MA 10
                             9205 ; 33   |
                             9206 ; 34   |
                             9207 ; 35   |
                             9208 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                             9209 ; 37   |//  GPIO Register Bit Positions
                             9210 ; 38   |typedef union               /* GPIO Pin Register Bank 0 */
                             9211 ; 39   |{
                             9212 ; 40   |    struct Bitfield B;      // Bitfield is generic structure B0 - B23 in types.h
                             9213 ; 41   |    unsigned int I;
                             9214 ; 42   |    unsigned int U;
                             9215 ; 43   |} gpr_type;
                             9216 ; 44   |
                             9217 ; 45   |#define HW_GP_B0_BITPOS 0
                             9218 ; 46   |#define HW_GP_B1_BITPOS 1
                             9219 ; 47   |#define HW_GP_B2_BITPOS 2
                             9220 ; 48   |#define HW_GP_B3_BITPOS 3
                             9221 ; 49   |#define HW_GP_B4_BITPOS 4
                             9222 ; 50   |#define HW_GP_B5_BITPOS 5
                             9223 ; 51   |#define HW_GP_B6_BITPOS 6
                             9224 ; 52   |#define HW_GP_B7_BITPOS 7
                             9225 ; 53   |#define HW_GP_B8_BITPOS 8
                             9226 ; 54   |#define HW_GP_B9_BITPOS 9
                             9227 ; 55   |#define HW_GP_B10_BITPOS 10
                             9228 ; 56   |#define HW_GP_B11_BITPOS 11
                             9229 ; 57   |#define HW_GP_B12_BITPOS 12
                             9230 ; 58   |#define HW_GP_B13_BITPOS 13
                             9231 ; 59   |#define HW_GP_B14_BITPOS 14
                             9232 ; 60   |#define HW_GP_B15_BITPOS 15
                             9233 ; 61   |#define HW_GP_B16_BITPOS 16
                             9234 ; 62   |#define HW_GP_B17_BITPOS 17
                             9235 ; 63   |#define HW_GP_B18_BITPOS 18
                             9236 ; 64   |#define HW_GP_B19_BITPOS 19
                             9237 ; 65   |#define HW_GP_B20_BITPOS 20
                             9238 ; 66   |#define HW_GP_B21_BITPOS 21
                             9239 ; 67   |#define HW_GP_B22_BITPOS 22
                             9240 ; 68   |#define HW_GP_B23_BITPOS 23
                             9241 ; 69   |
                             9242 ; 70   |#define HW_GP_B0_SETMASK (1<<HW_GP_B0_BITPOS)
                             9243 ; 71   |#define HW_GP_B1_SETMASK (1<<HW_GP_B1_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 153

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9244 ; 72   |#define HW_GP_B2_SETMASK (1<<HW_GP_B2_BITPOS)
                             9245 ; 73   |#define HW_GP_B3_SETMASK (1<<HW_GP_B3_BITPOS)
                             9246 ; 74   |#define HW_GP_B4_SETMASK (1<<HW_GP_B4_BITPOS)
                             9247 ; 75   |#define HW_GP_B5_SETMASK (1<<HW_GP_B5_BITPOS)
                             9248 ; 76   |#define HW_GP_B6_SETMASK (1<<HW_GP_B6_BITPOS)
                             9249 ; 77   |#define HW_GP_B7_SETMASK (1<<HW_GP_B7_BITPOS)
                             9250 ; 78   |#define HW_GP_B8_SETMASK (1<<HW_GP_B8_BITPOS)
                             9251 ; 79   |#define HW_GP_B9_SETMASK (1<<HW_GP_B9_BITPOS)
                             9252 ; 80   |#define HW_GP_B10_SETMASK (1<<HW_GP_B10_BITPOS)
                             9253 ; 81   |#define HW_GP_B11_SETMASK (1<<HW_GP_B11_BITPOS)
                             9254 ; 82   |#define HW_GP_B12_SETMASK (1<<HW_GP_B12_BITPOS)
                             9255 ; 83   |#define HW_GP_B13_SETMASK (1<<HW_GP_B13_BITPOS)
                             9256 ; 84   |#define HW_GP_B14_SETMASK (1<<HW_GP_B14_BITPOS)
                             9257 ; 85   |#define HW_GP_B15_SETMASK (1<<HW_GP_B15_BITPOS)
                             9258 ; 86   |#define HW_GP_B16_SETMASK (1<<HW_GP_B16_BITPOS)
                             9259 ; 87   |#define HW_GP_B17_SETMASK (1<<HW_GP_B17_BITPOS)
                             9260 ; 88   |#define HW_GP_B18_SETMASK (1<<HW_GP_B18_BITPOS)
                             9261 ; 89   |#define HW_GP_B19_SETMASK (1<<HW_GP_B19_BITPOS)
                             9262 ; 90   |#define HW_GP_B20_SETMASK (1<<HW_GP_B20_BITPOS)
                             9263 ; 91   |#define HW_GP_B21_SETMASK (1<<HW_GP_B21_BITPOS)
                             9264 ; 92   |#define HW_GP_B22_SETMASK (1<<HW_GP_B22_BITPOS)
                             9265 ; 93   |#define HW_GP_B23_SETMASK (1<<HW_GP_B23_BITPOS)
                             9266 ; 94   |
                             9267 ; 95   |#define HW_GP_B0_CLRMASK (~(WORD)HW_GP_B0_SETMASK)
                             9268 ; 96   |#define HW_GP_B1_CLRMASK (~(WORD)HW_GP_B1_SETMASK)
                             9269 ; 97   |#define HW_GP_B2_CLRMASK (~(WORD)HW_GP_B2_SETMASK)
                             9270 ; 98   |#define HW_GP_B3_CLRMASK (~(WORD)HW_GP_B3_SETMASK)
                             9271 ; 99   |#define HW_GP_B4_CLRMASK (~(WORD)HW_GP_B4_SETMASK)
                             9272 ; 100  |#define HW_GP_B5_CLRMASK (~(WORD)HW_GP_B5_SETMASK)
                             9273 ; 101  |#define HW_GP_B6_CLRMASK (~(WORD)HW_GP_B6_SETMASK)
                             9274 ; 102  |#define HW_GP_B7_CLRMASK (~(WORD)HW_GP_B7_SETMASK)
                             9275 ; 103  |#define HW_GP_B8_CLRMASK (~(WORD)HW_GP_B8_SETMASK)
                             9276 ; 104  |#define HW_GP_B9_CLRMASK (~(WORD)HW_GP_B9_SETMASK)
                             9277 ; 105  |#define HW_GP_B10_CLRMASK (~(WORD)HW_GP_B10_SETMASK)
                             9278 ; 106  |#define HW_GP_B11_CLRMASK (~(WORD)HW_GP_B11_SETMASK)
                             9279 ; 107  |#define HW_GP_B12_CLRMASK (~(WORD)HW_GP_B12_SETMASK)
                             9280 ; 108  |#define HW_GP_B13_CLRMASK (~(WORD)HW_GP_B13_SETMASK)
                             9281 ; 109  |#define HW_GP_B14_CLRMASK (~(WORD)HW_GP_B14_SETMASK)
                             9282 ; 110  |#define HW_GP_B15_CLRMASK (~(WORD)HW_GP_B15_SETMASK)
                             9283 ; 111  |#define HW_GP_B16_CLRMASK (~(WORD)HW_GP_B16_SETMASK)
                             9284 ; 112  |#define HW_GP_B17_CLRMASK (~(WORD)HW_GP_B17_SETMASK)
                             9285 ; 113  |#define HW_GP_B18_CLRMASK (~(WORD)HW_GP_B18_SETMASK)
                             9286 ; 114  |#define HW_GP_B19_CLRMASK (~(WORD)HW_GP_B19_SETMASK)
                             9287 ; 115  |#define HW_GP_B20_CLRMASK (~(WORD)HW_GP_B20_SETMASK)
                             9288 ; 116  |#define HW_GP_B21_CLRMASK (~(WORD)HW_GP_B21_SETMASK)
                             9289 ; 117  |#define HW_GP_B22_CLRMASK (~(WORD)HW_GP_B22_SETMASK)
                             9290 ; 118  |#define HW_GP_B23_CLRMASK (~(WORD)HW_GP_B23_SETMASK)
                             9291 ; 119  |
                             9292 ; 120  |/////////////////////////////////////////////////////////////////////////////////
                             9293 ; 121  |//  GPIO 8mA Register Bit Positions
                             9294 ; 122  |#define HW_GP8MA_B7_B0_BITPOS 0
                             9295 ; 123  |#define HW_GP8MA_B15_B8_BITPOS 1
                             9296 ; 124  |#define HW_GP8MA_B23_B16_BITPOS 2
                             9297 ; 125  |#define HW_GP8MA_CLK_GATE_BITPOS 23
                             9298 ; 126  |
                             9299 ; 127  |
                             9300 ; 128  |/////////////////////////////////////////////////////////////////////////////////
                             9301 ; 129  |//  Logical GPIO numbers
                             9302 ; 130  |#define HW_GPIO_000 0
                             9303 ; 131  |#define HW_GPIO_001 1
                             9304 ; 132  |#define HW_GPIO_002 2
                             9305 ; 133  |#define HW_GPIO_003 3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 154

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9306 ; 134  |#define HW_GPIO_004 4
                             9307 ; 135  |#define HW_GPIO_005 5
                             9308 ; 136  |#define HW_GPIO_006 6
                             9309 ; 137  |#define HW_GPIO_007 7
                             9310 ; 138  |#define HW_GPIO_008 8
                             9311 ; 139  |#define HW_GPIO_009 9
                             9312 ; 140  |#define HW_GPIO_010 10
                             9313 ; 141  |#define HW_GPIO_011 11
                             9314 ; 142  |#define HW_GPIO_012 12
                             9315 ; 143  |#define HW_GPIO_013 13
                             9316 ; 144  |#define HW_GPIO_014 14
                             9317 ; 145  |#define HW_GPIO_015 15
                             9318 ; 146  |#define HW_GPIO_016 16
                             9319 ; 147  |#define HW_GPIO_017 17
                             9320 ; 148  |#define HW_GPIO_018 18
                             9321 ; 149  |#define HW_GPIO_019 19
                             9322 ; 150  |#define HW_GPIO_020 20
                             9323 ; 151  |#define HW_GPIO_021 21
                             9324 ; 152  |#define HW_GPIO_022 22
                             9325 ; 153  |#define HW_GPIO_023 23
                             9326 ; 154  |#define HW_GPIO_024 24
                             9327 ; 155  |#define HW_GPIO_025 25
                             9328 ; 156  |#define HW_GPIO_026 26
                             9329 ; 157  |#define HW_GPIO_027 27
                             9330 ; 158  |#define HW_GPIO_028 28
                             9331 ; 159  |#define HW_GPIO_029 29
                             9332 ; 160  |#define HW_GPIO_030 30
                             9333 ; 161  |#define HW_GPIO_031 31
                             9334 ; 162  |#define HW_GPIO_032 32
                             9335 ; 163  |#define HW_GPIO_033 33
                             9336 ; 164  |#define HW_GPIO_034 34
                             9337 ; 165  |#define HW_GPIO_035 35
                             9338 ; 166  |#define HW_GPIO_036 36
                             9339 ; 167  |#define HW_GPIO_037 37
                             9340 ; 168  |#define HW_GPIO_038 38
                             9341 ; 169  |#define HW_GPIO_039 39
                             9342 ; 170  |#define HW_GPIO_040 40
                             9343 ; 171  |#define HW_GPIO_041 41
                             9344 ; 172  |#define HW_GPIO_042 42
                             9345 ; 173  |#define HW_GPIO_043 43
                             9346 ; 174  |#define HW_GPIO_044 44
                             9347 ; 175  |#define HW_GPIO_045 45
                             9348 ; 176  |#define HW_GPIO_046 46
                             9349 ; 177  |#define HW_GPIO_047 47
                             9350 ; 178  |#define HW_GPIO_048 48
                             9351 ; 179  |#define HW_GPIO_049 49
                             9352 ; 180  |#define HW_GPIO_050 50
                             9353 ; 181  |#define HW_GPIO_051 51
                             9354 ; 182  |#define HW_GPIO_052 52
                             9355 ; 183  |#define HW_GPIO_053 53
                             9356 ; 184  |#define HW_GPIO_054 54
                             9357 ; 185  |#define HW_GPIO_055 55
                             9358 ; 186  |#define HW_GPIO_056 56
                             9359 ; 187  |#define HW_GPIO_057 57
                             9360 ; 188  |#define HW_GPIO_058 58
                             9361 ; 189  |#define HW_GPIO_059 59
                             9362 ; 190  |#define HW_GPIO_060 60
                             9363 ; 191  |#define HW_GPIO_061 61
                             9364 ; 192  |#define HW_GPIO_062 62
                             9365 ; 193  |#define HW_GPIO_063 63
                             9366 ; 194  |#define HW_GPIO_064 64
                             9367 ; 195  |#define HW_GPIO_065 65
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 155

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9368 ; 196  |#define HW_GPIO_066 66
                             9369 ; 197  |#define HW_GPIO_067 67
                             9370 ; 198  |#define HW_GPIO_068 68
                             9371 ; 199  |#define HW_GPIO_069 69
                             9372 ; 200  |#define HW_GPIO_070 70
                             9373 ; 201  |#define HW_GPIO_071 71
                             9374 ; 202  |#define HW_GPIO_072 72
                             9375 ; 203  |#define HW_GPIO_073 73
                             9376 ; 204  |#define HW_GPIO_074 74
                             9377 ; 205  |#define HW_GPIO_075 75
                             9378 ; 206  |#define HW_GPIO_076 76
                             9379 ; 207  |#define HW_GPIO_077 77
                             9380 ; 208  |#define HW_GPIO_078 78
                             9381 ; 209  |#define HW_GPIO_079 79
                             9382 ; 210  |#define HW_GPIO_080 80
                             9383 ; 211  |#define HW_GPIO_081 81
                             9384 ; 212  |#define HW_GPIO_082 82
                             9385 ; 213  |#define HW_GPIO_083 83
                             9386 ; 214  |#define HW_GPIO_084 84
                             9387 ; 215  |#define HW_GPIO_085 85
                             9388 ; 216  |#define HW_GPIO_086 86
                             9389 ; 217  |#define HW_GPIO_087 87
                             9390 ; 218  |#define HW_GPIO_088 88
                             9391 ; 219  |#define HW_GPIO_089 89
                             9392 ; 220  |#define HW_GPIO_090 90
                             9393 ; 221  |#define HW_GPIO_091 91
                             9394 ; 222  |#define HW_GPIO_092 92
                             9395 ; 223  |#define HW_GPIO_093 93
                             9396 ; 224  |#define HW_GPIO_094 94
                             9397 ; 225  |#define HW_GPIO_095 95
                             9398 ; 226  |#define HW_GPIO_LAST HW_GPIO_095
                             9399 ; 227  |
                             9400 ; 228  |#define HW_GP0ENR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPENR))  /* GPIO
                                   0 Enable Register   */
                             9401 ; 229  |#define HW_GP0DOR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  0 Data Out Register */
                             9402 ; 230  |#define HW_GP0DIR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  0 Dait In Register  */
                             9403 ; 231  |#define HW_GP0DOER     (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   0 Dait Out Enable Register  */
                             9404 ; 232  |#define HW_GP0IPENR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 0 Interrupt Pin Enable Register */
                             9405 ; 233  |#define HW_GP0IENR     (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   0 Interrupt Enable Register */
                             9406 ; 234  |#define HW_GP0ILVLR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 0 Interrupt Level Register  */
                             9407 ; 235  |#define HW_GP0IPOLR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 0 Interrupt Polarity Register   */
                             9408 ; 236  |#define HW_GP0ISTATR   (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 0 Interrupt Status Register */
                             9409 ; 237  |#define HW_GP0PWR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
                             9410 ; 238  |#define HW_GP08MA      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GP8MA)) 
                             9411 ; 239  |#define HW_GP1ENR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPENR))     /* G
                                  PIO 1 Enable Register   */
                             9412 ; 240  |#define HW_GP1DOR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  1 Data Out Register */
                             9413 ; 241  |#define HW_GP1DIR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  1 Dait In Register  */
                             9414 ; 242  |#define HW_GP1DOER     (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   1 Dait Out Enable Register  */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 156

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9415 ; 243  |#define HW_GP1IPENR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 1 Interrupt Pin Enable Register */
                             9416 ; 244  |#define HW_GP1IENR     (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   1 Interrupt Enable Register */
                             9417 ; 245  |#define HW_GP1ILVLR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 1 Interrupt Level Register  */
                             9418 ; 246  |#define HW_GP1IPOLR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 1 Interrupt Polarity Register   */
                             9419 ; 247  |#define HW_GP1ISTATR   (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 1 Interrupt Status Register */
                             9420 ; 248  |#define HW_GP1PWR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
                             9421 ; 249  |#define HW_GP18MA      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GP8MA)) 
                             9422 ; 250  |#define HW_GP2ENR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPENR))     /* G
                                  PIO 2 Enable Register   */
                             9423 ; 251  |#define HW_GP2DOR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  2 Data Out Register */
                             9424 ; 252  |#define HW_GP2DIR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  2 Dait In Register  */
                             9425 ; 253  |#define HW_GP2DOER     (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   2 Dait Out Enable Register  */
                             9426 ; 254  |#define HW_GP2IPENR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 2 Interrupt Pin Enable Register */
                             9427 ; 255  |#define HW_GP2IENR     (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   2 Interrupt Enable Register */
                             9428 ; 256  |#define HW_GP2ILVLR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 2 Interrupt Level Register  */
                             9429 ; 257  |#define HW_GP2IPOLR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 2 Interrupt Polarity Register   */
                             9430 ; 258  |#define HW_GP2ISTATR   (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 2 Interrupt Status Register */
                             9431 ; 259  |#define HW_GP2PWR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
                             9432 ; 260  |#define HW_GP28MA      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GP8MA)) 
                             9433 ; 261  |#define HW_GP3ENR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPENR))     /* G
                                  PIO 2 Enable Register   */
                             9434 ; 262  |#define HW_GP3DOR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  2 Data Out Register */
                             9435 ; 263  |#define HW_GP3DIR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  2 Dait In Register  */
                             9436 ; 264  |#define HW_GP3DOER     (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   2 Dait Out Enable Register  */
                             9437 ; 265  |#define HW_GP3IPENR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 2 Interrupt Pin Enable Register */
                             9438 ; 266  |#define HW_GP3IENR     (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   2 Interrupt Enable Register */
                             9439 ; 267  |#define HW_GP3ILVLR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 2 Interrupt Level Register  */
                             9440 ; 268  |#define HW_GP3IPOLR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 2 Interrupt Polarity Register   */
                             9441 ; 269  |#define HW_GP3ISTATR   (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 2 Interrupt Status Register */
                             9442 ; 270  |#define HW_GP3PWR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
                             9443 ; 271  |#define HW_GP38MA      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GP8MA)) 
                             9444 ; 272  |
                             9445 ; 273  |#endif
                             9446 ; 274  |
                             9447 
                             9449 
                             9450 ; 23   |#include "regsi2c.h"
                             9451 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 157

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9453 
                             9454 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             9455 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                             9456 ; 3    |// Filename: regsI2C.inc
                             9457 ; 4    |// Description: Register definitions for GPFLASH interface
                             9458 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             9459 ; 6    |// The following naming conventions are followed in this file.
                             9460 ; 7    |// All registers are named using the format...
                             9461 ; 8    |//     HW_<module>_<regname>
                             9462 ; 9    |// where <module> is the module name which can be any of the following...
                             9463 ; 10   |//     USB20
                             9464 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             9465 ; 12   |// module name includes a number starting from 0 for the first instance of
                             9466 ; 13   |// that module)
                             9467 ; 14   |// <regname> is the specific register within that module
                             9468 ; 15   |// We also define the following...
                             9469 ; 16   |//     HW_<module>_<regname>_BITPOS
                             9470 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             9471 ; 18   |//     HW_<module>_<regname>_SETMASK
                             9472 ; 19   |// which does something else, and
                             9473 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             9474 ; 21   |// which does something else.
                             9475 ; 22   |// Other rules
                             9476 ; 23   |//     All caps
                             9477 ; 24   |//     Numeric identifiers start at 0
                             9478 ; 25   |#if !(defined(regsi2cinc))
                             9479 ; 26   |#define regsi2cinc 1
                             9480 ; 27   |
                             9481 ; 28   |#include "types.h"
                             9482 
                             9484 
                             9485 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             9486 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             9487 ; 3    |//
                             9488 ; 4    |// Filename: types.h
                             9489 ; 5    |// Description: Standard data types
                             9490 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             9491 ; 7    |
                             9492 ; 8    |#ifndef _TYPES_H
                             9493 ; 9    |#define _TYPES_H
                             9494 ; 10   |
                             9495 ; 11   |// TODO:  move this outta here!
                             9496 ; 12   |#if !defined(NOERROR)
                             9497 ; 13   |#define NOERROR 0
                             9498 ; 14   |#define SUCCESS 0
                             9499 ; 15   |#endif 
                             9500 ; 16   |#if !defined(SUCCESS)
                             9501 ; 17   |#define SUCCESS  0
                             9502 ; 18   |#endif
                             9503 ; 19   |#if !defined(ERROR)
                             9504 ; 20   |#define ERROR   -1
                             9505 ; 21   |#endif
                             9506 ; 22   |#if !defined(FALSE)
                             9507 ; 23   |#define FALSE 0
                             9508 ; 24   |#endif
                             9509 ; 25   |#if !defined(TRUE)
                             9510 ; 26   |#define TRUE  1
                             9511 ; 27   |#endif
                             9512 ; 28   |
                             9513 ; 29   |#if !defined(NULL)
                             9514 ; 30   |#define NULL 0
                             9515 ; 31   |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 158

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9516 ; 32   |
                             9517 ; 33   |#define MAX_INT     0x7FFFFF
                             9518 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             9519 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             9520 ; 36   |#define MAX_ULONG   (-1) 
                             9521 ; 37   |
                             9522 ; 38   |#define WORD_SIZE   24              // word size in bits
                             9523 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             9524 ; 40   |
                             9525 ; 41   |
                             9526 ; 42   |#define BYTE    unsigned char       // btVarName
                             9527 ; 43   |#define CHAR    signed char         // cVarName
                             9528 ; 44   |#define USHORT  unsigned short      // usVarName
                             9529 ; 45   |#define SHORT   unsigned short      // sVarName
                             9530 ; 46   |#define WORD    unsigned int        // wVarName
                             9531 ; 47   |#define INT     signed int          // iVarName
                             9532 ; 48   |#define DWORD   unsigned long       // dwVarName
                             9533 ; 49   |#define LONG    signed long         // lVarName
                             9534 ; 50   |#define BOOL    unsigned int        // bVarName
                             9535 ; 51   |#define FRACT   _fract              // frVarName
                             9536 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             9537 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             9538 ; 54   |#define FLOAT   float               // fVarName
                             9539 ; 55   |#define DBL     double              // dVarName
                             9540 ; 56   |#define ENUM    enum                // eVarName
                             9541 ; 57   |#define CMX     _complex            // cmxVarName
                             9542 ; 58   |typedef WORD UCS3;                   // 
                             9543 ; 59   |
                             9544 ; 60   |#define UINT16  unsigned short
                             9545 ; 61   |#define UINT8   unsigned char   
                             9546 ; 62   |#define UINT32  unsigned long
                             9547 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             9548 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             9549 ; 65   |#define WCHAR   UINT16
                             9550 ; 66   |
                             9551 ; 67   |//UINT128 is 16 bytes or 6 words
                             9552 ; 68   |typedef struct UINT128_3500 {   
                             9553 ; 69   |    int val[6];     
                             9554 ; 70   |} UINT128_3500;
                             9555 ; 71   |
                             9556 ; 72   |#define UINT128   UINT128_3500
                             9557 ; 73   |
                             9558 ; 74   |// Little endian word packed byte strings:   
                             9559 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9560 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9561 ; 77   |// Little endian word packed byte strings:   
                             9562 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9563 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9564 ; 80   |
                             9565 ; 81   |// Declare Memory Spaces To Use When Coding
                             9566 ; 82   |// A. Sector Buffers
                             9567 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             9568 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             9569 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             9570 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             9571 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             9572 ; 88   |// B. Media DDI Memory
                             9573 ; 89   |#define MEDIA_DDI_MEM _Y
                             9574 ; 90   |
                             9575 ; 91   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 159

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9576 ; 92   |
                             9577 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             9578 ; 94   |// Examples of circular pointers:
                             9579 ; 95   |//    INT CIRC cpiVarName
                             9580 ; 96   |//    DWORD CIRC cpdwVarName
                             9581 ; 97   |
                             9582 ; 98   |#define RETCODE INT                 // rcVarName
                             9583 ; 99   |
                             9584 ; 100  |// generic bitfield structure
                             9585 ; 101  |struct Bitfield {
                             9586 ; 102  |    unsigned int B0  :1;
                             9587 ; 103  |    unsigned int B1  :1;
                             9588 ; 104  |    unsigned int B2  :1;
                             9589 ; 105  |    unsigned int B3  :1;
                             9590 ; 106  |    unsigned int B4  :1;
                             9591 ; 107  |    unsigned int B5  :1;
                             9592 ; 108  |    unsigned int B6  :1;
                             9593 ; 109  |    unsigned int B7  :1;
                             9594 ; 110  |    unsigned int B8  :1;
                             9595 ; 111  |    unsigned int B9  :1;
                             9596 ; 112  |    unsigned int B10 :1;
                             9597 ; 113  |    unsigned int B11 :1;
                             9598 ; 114  |    unsigned int B12 :1;
                             9599 ; 115  |    unsigned int B13 :1;
                             9600 ; 116  |    unsigned int B14 :1;
                             9601 ; 117  |    unsigned int B15 :1;
                             9602 ; 118  |    unsigned int B16 :1;
                             9603 ; 119  |    unsigned int B17 :1;
                             9604 ; 120  |    unsigned int B18 :1;
                             9605 ; 121  |    unsigned int B19 :1;
                             9606 ; 122  |    unsigned int B20 :1;
                             9607 ; 123  |    unsigned int B21 :1;
                             9608 ; 124  |    unsigned int B22 :1;
                             9609 ; 125  |    unsigned int B23 :1;
                             9610 ; 126  |};
                             9611 ; 127  |
                             9612 ; 128  |union BitInt {
                             9613 ; 129  |        struct Bitfield B;
                             9614 ; 130  |        int        I;
                             9615 ; 131  |};
                             9616 ; 132  |
                             9617 ; 133  |#define MAX_MSG_LENGTH 10
                             9618 ; 134  |struct CMessage
                             9619 ; 135  |{
                             9620 ; 136  |        unsigned int m_uLength;
                             9621 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             9622 ; 138  |};
                             9623 ; 139  |
                             9624 ; 140  |typedef struct {
                             9625 ; 141  |    WORD m_wLength;
                             9626 ; 142  |    WORD m_wMessage;
                             9627 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             9628 ; 144  |} Message;
                             9629 ; 145  |
                             9630 ; 146  |struct MessageQueueDescriptor
                             9631 ; 147  |{
                             9632 ; 148  |        int *m_pBase;
                             9633 ; 149  |        int m_iModulo;
                             9634 ; 150  |        int m_iSize;
                             9635 ; 151  |        int *m_pHead;
                             9636 ; 152  |        int *m_pTail;
                             9637 ; 153  |};
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 160

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9638 ; 154  |
                             9639 ; 155  |struct ModuleEntry
                             9640 ; 156  |{
                             9641 ; 157  |    int m_iSignaledEventMask;
                             9642 ; 158  |    int m_iWaitEventMask;
                             9643 ; 159  |    int m_iResourceOfCode;
                             9644 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             9645 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             9646 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             9647 ; 163  |    int m_uTimeOutHigh;
                             9648 ; 164  |    int m_uTimeOutLow;
                             9649 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             9650 ; 166  |};
                             9651 ; 167  |
                             9652 ; 168  |union WaitMask{
                             9653 ; 169  |    struct B{
                             9654 ; 170  |        unsigned int m_bNone     :1;
                             9655 ; 171  |        unsigned int m_bMessage  :1;
                             9656 ; 172  |        unsigned int m_bTimer    :1;
                             9657 ; 173  |        unsigned int m_bButton   :1;
                             9658 ; 174  |    } B;
                             9659 ; 175  |    int I;
                             9660 ; 176  |} ;
                             9661 ; 177  |
                             9662 ; 178  |
                             9663 ; 179  |struct Button {
                             9664 ; 180  |        WORD wButtonEvent;
                             9665 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             9666 ; 182  |};
                             9667 ; 183  |
                             9668 ; 184  |struct Message {
                             9669 ; 185  |        WORD wMsgLength;
                             9670 ; 186  |        WORD wMsgCommand;
                             9671 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             9672 ; 188  |};
                             9673 ; 189  |
                             9674 ; 190  |union EventTypes {
                             9675 ; 191  |        struct CMessage msg;
                             9676 ; 192  |        struct Button Button ;
                             9677 ; 193  |        struct Message Message;
                             9678 ; 194  |};
                             9679 ; 195  |
                             9680 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             9681 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             9682 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             9683 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             9684 ; 200  |
                             9685 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             9686 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             9687 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             9688 ; 204  |
                             9689 ; 205  |#if DEBUG
                             9690 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             9691 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             9692 ; 208  |#else 
                             9693 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             9694 ; 210  |#define DebugBuildAssert(x)    
                             9695 ; 211  |#endif
                             9696 ; 212  |
                             9697 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 161

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9698 ; 214  |//  #pragma asm
                             9699 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             9700 ; 216  |//  #pragma endasm
                             9701 ; 217  |
                             9702 ; 218  |
                             9703 ; 219  |#ifdef COLOR_262K
                             9704 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             9705 ; 221  |#elif defined(COLOR_65K)
                             9706 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             9707 ; 223  |#else
                             9708 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             9709 ; 225  |#endif
                             9710 ; 226  |    
                             9711 ; 227  |#endif // #ifndef _TYPES_H
                             9712 
                             9714 
                             9715 ; 29   |
                             9716 ; 30   |/////////////////////////////////////////////////////////////////////////////////
                             9717 ; 31   |////   I2C STMP Registers
                             9718 ; 32   |/////////////////////////////////////////////////////////////////////////////////
                             9719 ; 33   |
                             9720 ; 34   |#define HW_I2C_BASEADDR (0xFFE5)
                             9721 ; 35   |
                             9722 ; 36   |
                             9723 ; 37   |/////////////////////////////////////////////////////////////////////////////////
                             9724 ; 38   |////  I2C Clock Divider Register (HW_I2CDIV) Bit Definitions
                             9725 ; 39   |
                             9726 ; 40   |#define HW_I2CDIV_FACT_BITPOS (1)
                             9727 ; 41   |
                             9728 ; 42   |#define HW_I2CDIV_FACT_SETMASK (0xFF<<HW_I2CDIV_FACT_BITPOS)
                             9729 ; 43   |
                             9730 ; 44   |#define HW_I2CDIV_FACT_CLRMASK (~(WORD)HW_I2CDIV_FACT_SETMASK)
                             9731 ; 45   |
                             9732 ; 46   |typedef union               /* I2C Clock Divider Register */
                             9733 ; 47   |{
                             9734 ; 48   |    struct {
                             9735 ; 49   |        int                :1; 
                             9736 ; 50   |        unsigned FACT      :8;
                             9737 ; 51   |    } B;
                             9738 ; 52   |    int I;
                             9739 ; 53   |    unsigned U;
                             9740 ; 54   |} i2cdivr_type;
                             9741 ; 55   |#define HW_I2CDIV (*(volatile i2cdivr_type _X*) (HW_I2C_BASEADDR))       /* I2C Divfact Re
                                  gisters        */
                             9742 ; 56   |
                             9743 ; 57   |
                             9744 ; 58   |/////////////////////////////////////////////////////////////////////////////////
                             9745 ; 59   |////  I2C Data Register (HW_I2CDAT) Bit Definitions
                             9746 ; 60   |
                             9747 ; 61   |#define HW_I2CDAT_DATA_BITPOS (0)
                             9748 ; 62   |
                             9749 ; 63   |#define HW_I2CDAT_DATA_SETMASK (0xFFFFFF)
                             9750 ; 64   |
                             9751 ; 65   |#define HW_I2CDAT_DATA_CLRMASK (~(WORD)HW_I2CDAT_DATA_SETMASK)
                             9752 ; 66   |
                             9753 ; 67   |typedef union               /* I2C Data Register */
                             9754 ; 68   |{
                             9755 ; 69   |    struct {
                             9756 ; 70   |         unsigned DATA :24; 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 162

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9757 ; 71   |    } B;
                             9758 ; 72   |    int I;
                             9759 ; 73   |    unsigned U;
                             9760 ; 74   |} i2cdatr_type;
                             9761 ; 75   |#define HW_I2CDAT (*(volatile i2cdatr_type _X*) (HW_I2C_BASEADDR+1)) /* I2C Data Registers
                                   (I2CDAT)      */
                             9762 ; 76   |
                             9763 ; 77   |
                             9764 ; 78   |/////////////////////////////////////////////////////////////////////////////////
                             9765 ; 79   |////  I2C Control Status Register (HW_I2CCSR) Bit Definitions
                             9766 ; 80   |#define HW_I2CCSR_I2C_EN_BITPOS (0)
                             9767 ; 81   |#define HW_I2CCSR_RIE_BITPOS (1)
                             9768 ; 82   |#define HW_I2CCSR_BUSY_BITPOS (2)
                             9769 ; 83   |#define HW_I2CCSR_ARB_LOST_BITPOS (3)
                             9770 ; 84   |#define HW_I2CCSR_TIE_BITPOS (4)
                             9771 ; 85   |#define HW_I2CCSR_MODE_BITPOS (5)
                             9772 ; 86   |#define HW_I2CCSR_RDR_BITPOS (6)
                             9773 ; 87   |#define HW_I2CCSR_TDE_BITPOS (7)
                             9774 ; 88   |#define HW_I2CCSR_RWN_BITPOS (8)
                             9775 ; 89   |#define HW_I2CCSR_WL_BITPOS (9)
                             9776 ; 90   |#define HW_I2CCSR_WL0_BITPOS (9)
                             9777 ; 91   |#define HW_I2CCSR_WL1_BITPOS (10)
                             9778 ; 92   |#define HW_I2CCSR_TREQ_BITPOS (11)
                             9779 ; 93   |#define HW_I2CCSR_ROFL_BITPOS (12)
                             9780 ; 94   |#define HW_I2CCSR_TUFL_BITPOS (13)
                             9781 ; 95   |#define HW_I2CCSR_ACKF_BITPOS (14)
                             9782 ; 96   |#define HW_I2CCSR_B_CNT_BITPOS (15)
                             9783 ; 97   |#define HW_I2CCSR_B_CNT0_BITPOS (15)
                             9784 ; 98   |#define HW_I2CCSR_B_CNT1_BITPOS (16)
                             9785 ; 99   |#define HW_I2CCSR_L_WORD_BITPOS (17)
                             9786 ; 100  |#define HW_I2CCSR_SUBA_BITPOS (18)
                             9787 ; 101  |#define HW_I2CCSR_ROFLCL_BITPOS (19)
                             9788 ; 102  |#define HW_I2CCSR_TUFLCL_BITPOS (20)
                             9789 ; 103  |#define HW_I2CCSR_ONEBYTE_BITPOS (21)
                             9790 ; 104  |
                             9791 ; 105  |#define HW_I2CCSR_I2C_EN_SETMASK (1<<HW_I2CCSR_I2C_EN_BITPOS)
                             9792 ; 106  |#define HW_I2CCSR_RIE_SETMASK (1<<HW_I2CCSR_RIE_BITPOS)
                             9793 ; 107  |#define HW_I2CCSR_BUSY_SETMASK (1<<HW_I2CCSR_BUSY_BITPOS)
                             9794 ; 108  |#define HW_I2CCSR_ARB_LOST_SETMASK (1<<HW_I2CCSR_ARB_LOST_BITPOS)
                             9795 ; 109  |#define HW_I2CCSR_TIE_SETMASK (1<<HW_I2CCSR_TIE_BITPOS)
                             9796 ; 110  |#define HW_I2CCSR_MODE_SETMASK (1<<HW_I2CCSR_MODE_BITPOS)
                             9797 ; 111  |#define HW_I2CCSR_RDR_SETMASK (1<<HW_I2CCSR_RDR_BITPOS)
                             9798 ; 112  |#define HW_I2CCSR_TDE_SETMASK (1<<HW_I2CCSR_TDE_BITPOS)
                             9799 ; 113  |#define HW_I2CCSR_RWN_SETMASK (1<<HW_I2CCSR_RWN_BITPOS)
                             9800 ; 114  |#define HW_I2CCSR_WL_SETMASK (3<<HW_I2CCSR_WL_BITPOS)
                             9801 ; 115  |#define HW_I2CCSR_WL0_SETMASK (1<<HW_I2CCSR_WL0_BITPOS)
                             9802 ; 116  |#define HW_I2CCSR_WL1_SETMASK (1<<HW_I2CCSR_WL1_BITPOS)
                             9803 ; 117  |#define HW_I2CCSR_TREQ_SETMASK (1<<HW_I2CCSR_TREQ_BITPOS)
                             9804 ; 118  |#define HW_I2CCSR_ROFL_SETMASK (1<<HW_I2CCSR_ROFL_BITPOS)
                             9805 ; 119  |#define HW_I2CCSR_TUFL_SETMASK (1<<HW_I2CCSR_TUFL_BITPOS)
                             9806 ; 120  |#define HW_I2CCSR_ACKF_SETMASK (1<<HW_I2CCSR_ACKF_BITPOS)
                             9807 ; 121  |#define HW_I2CCSR_B_CNT_SETMASK (3<<HW_I2CCSR_B_CNT_BITPOS)
                             9808 ; 122  |#define HW_I2CCSR_B_CNT0_SETMASK (1<<HW_I2CCSR_B_CNT0_BITPOS)
                             9809 ; 123  |#define HW_I2CCSR_B_CNT1_SETMASK (1<<HW_I2CCSR_B_CNT1_BITPOS)
                             9810 ; 124  |#define HW_I2CCSR_L_WORD_SETMASK (1<<HW_I2CCSR_L_WORD_BITPOS)
                             9811 ; 125  |#define HW_I2CCSR_SUBA_SETMASK (1<<HW_I2CCSR_SUBA_BITPOS)
                             9812 ; 126  |#define HW_I2CCSR_ROFLCL_SETMASK (1<<HW_I2CCSR_ROFLCL_BITPOS)
                             9813 ; 127  |#define HW_I2CCSR_TUFLCL_SETMASK (1<<HW_I2CCSR_TUFLCL_BITPOS)
                             9814 ; 128  |#define HW_I2CCSR_ONEBYTE_SETMASK (1<<HW_I2CCSR_ONEBYTE_BITPOS)
                             9815 ; 129  |
                             9816 ; 130  |#define HW_I2CCSR_I2C_EN_CLRMASK (~(WORD)HW_I2CCSR_I2C_EN_SETMASK)
                             9817 ; 131  |#define HW_I2CCSR_RIE_CLRMASK (~(WORD)HW_I2CCSR_RIE_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 163

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9818 ; 132  |#define HW_I2CCSR_BUSY_CLRMASK (~(WORD)HW_I2CCSR_BUSY_SETMASK)
                             9819 ; 133  |#define HW_I2CCSR_ARB_LOST_CLRMASK (~(WORD)HW_I2CCSR_ARB_LOST_SETMASK)
                             9820 ; 134  |#define HW_I2CCSR_TIE_CLRMASK (~(WORD)HW_I2CCSR_TIE_SETMASK)
                             9821 ; 135  |#define HW_I2CCSR_MODE_CLRMASK (~(WORD)HW_I2CCSR_MODE_SETMASK)
                             9822 ; 136  |#define HW_I2CCSR_RDR_CLRMASK (~(WORD)HW_I2CCSR_RDR_SETMASK)
                             9823 ; 137  |#define HW_I2CCSR_TDE_CLRMASK (~(WORD)HW_I2CCSR_TDE_SETMASK)
                             9824 ; 138  |#define HW_I2CCSR_RWN_CLRMASK (~(WORD)HW_I2CCSR_RWN_SETMASK)
                             9825 ; 139  |#define HW_I2CCSR_WL_CLRMASK (~(WORD)HW_I2CCSR_WL_SETMASK)
                             9826 ; 140  |#define HW_I2CCSR_WL0_CLRMASK (~(WORD)HW_I2CCSR_WL0_SETMASK)
                             9827 ; 141  |#define HW_I2CCSR_WL1_CLRMASK (~(WORD)HW_I2CCSR_WL1_SETMASK)
                             9828 ; 142  |#define HW_I2CCSR_TREQ_CLRMASK (~(WORD)HW_I2CCSR_TREQ_SETMASK)
                             9829 ; 143  |#define HW_I2CCSR_ROFL_CLRMASK (~(WORD)HW_I2CCSR_ROFL_SETMASK)
                             9830 ; 144  |#define HW_I2CCSR_TUFL_CLRMASK (~(WORD)HW_I2CCSR_TUFL_SETMASK)
                             9831 ; 145  |#define HW_I2CCSR_ACKF_CLRMASK (~(WORD)HW_I2CCSR_ACKF_SETMASK)
                             9832 ; 146  |#define HW_I2CCSR_B_CNT_CLRMASK (~(WORD)HW_I2CCSR_B_CNT_SETMASK)
                             9833 ; 147  |#define HW_I2CCSR_B_CNT0_CLRMASK (~(WORD)HW_I2CCSR_B_CNT0_SETMASK)
                             9834 ; 148  |#define HW_I2CCSR_B_CNT1_CLRMASK (~(WORD)HW_I2CCSR_B_CNT1_SETMASK)
                             9835 ; 149  |#define HW_I2CCSR_L_WORD_CLRMASK (~(WORD)HW_I2CCSR_L_WORD_SETMASK)
                             9836 ; 150  |#define HW_I2CCSR_SUBA_CLRMASK (~(WORD)HW_I2CCSR_SUBA_SETMASK)
                             9837 ; 151  |#define HW_I2CCSR_ROFLCL_CLRMASK (~(WORD)HW_I2CCSR_ROFLCL_SETMASK)
                             9838 ; 152  |#define HW_I2CCSR_TUFLCL_CLRMASK (~(WORD)HW_I2CCSR_TUFLCL_SETMASK)
                             9839 ; 153  |#define HW_I2CCSR_ONEBYTE_CLRMASK (~(WORD)HW_I2CCSR_ONEBYTE_SETMASK)
                             9840 ; 154  |
                             9841 ; 155  |typedef union               /* I2C Control Register         */
                             9842 ; 156  |{
                             9843 ; 157  |    struct {
                             9844 ; 158  |        int I2C_EN      :1; /* Peripheral Enable            */
                             9845 ; 159  |        int RIE         :1; /* Receiver Interrupt Enable        */
                             9846 ; 160  |        int BUSY        :1; /* I2C Bus Busy             */
                             9847 ; 161  |        int ARBLOST     :1; /* Aritration lost          */
                             9848 ; 162  |        int TIE         :1; /* Transmitter Interrupt Enable     */
                             9849 ; 163  |        int MODE        :1; /* Operating Mode Bit           */
                             9850 ; 164  |        int RDR         :1; /* Receiver Data Ready          */
                             9851 ; 165  |       int TDE         :1; /* Transmitter Data Empty       */
                             9852 ; 166  |       int RWN         :1; /* Read/Not Write           */
                             9853 ; 167  |       unsigned WL     :2; /* Word Length              */
                             9854 ; 168  |        int TREQ        :1; /* DSP Transmit Request         */
                             9855 ; 169  |        int ROFL        :1; /* Receiver Overflow            */
                             9856 ; 170  |        int TUFL        :1; /* Transmitter Underflow        */
                             9857 ; 171  |        int ACKF        :1; /* Acknowledge Failure          */
                             9858 ; 172  |        unsigned BCNT   :2; /* Byte Count               */
                             9859 ; 173  |        int LWORD       :1; /* Last Word                */
                             9860 ; 174  |        int SUBA        :1; /* Sub Address              */
                             9861 ; 175  |        int ROFLCL      :1; /* Receiver Overflow Clear      */
                             9862 ; 176  |        int TUFLCL      :1; /* Transmitter Underflow Clear      */
                             9863 ; 177  |        int ONEBYTE     :1; /* Special One Data Byte Transmission Mode */
                             9864 ; 178  |    } B;
                             9865 ; 179  |    int I;
                             9866 ; 180  |    unsigned U;
                             9867 ; 181  |} i2ccsr_type;
                             9868 ; 182  |#define HW_I2CCSR (*(volatile i2ccsr_type _X*) (HW_I2C_BASEADDR+2)) /* I2C Control/Status 
                                  Register (I2CCSR) */
                             9869 ; 183  |
                             9870 ; 184  |#endif
                             9871 
                             9873 
                             9874 ; 24   |#include "regsi2s.h"
                             9875 
                             9877 
                             9878 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             9879 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                             9880 ; 3    |// Filename: regsi2s.inc
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 164

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9881 ; 4    |// Description: Register definitions for I2S interface
                             9882 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             9883 ; 6    |// The following naming conventions are followed in this file.
                             9884 ; 7    |// All registers are named using the format...
                             9885 ; 8    |//     HW_<module>_<regname>
                             9886 ; 9    |// where <module> is the module name which can be any of the following...
                             9887 ; 10   |//     USB20
                             9888 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             9889 ; 12   |// module name includes a number starting from 0 for the first instance of
                             9890 ; 13   |// that module)
                             9891 ; 14   |// <regname> is the specific register within that module
                             9892 ; 15   |// We also define the following...
                             9893 ; 16   |//     HW_<module>_<regname>_BITPOS
                             9894 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             9895 ; 18   |//     HW_<module>_<regname>_SETMASK
                             9896 ; 19   |// which does something else, and
                             9897 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             9898 ; 21   |// which does something else.
                             9899 ; 22   |// Other rules
                             9900 ; 23   |//     All caps
                             9901 ; 24   |//     Numeric identifiers start at 0
                             9902 ; 25   |#if !(defined(regsi2sinc))
                             9903 ; 26   |#define regsi2sinc 1
                             9904 ; 27   |
                             9905 ; 28   |#include "types.h"
                             9906 
                             9908 
                             9909 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             9910 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             9911 ; 3    |//
                             9912 ; 4    |// Filename: types.h
                             9913 ; 5    |// Description: Standard data types
                             9914 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             9915 ; 7    |
                             9916 ; 8    |#ifndef _TYPES_H
                             9917 ; 9    |#define _TYPES_H
                             9918 ; 10   |
                             9919 ; 11   |// TODO:  move this outta here!
                             9920 ; 12   |#if !defined(NOERROR)
                             9921 ; 13   |#define NOERROR 0
                             9922 ; 14   |#define SUCCESS 0
                             9923 ; 15   |#endif 
                             9924 ; 16   |#if !defined(SUCCESS)
                             9925 ; 17   |#define SUCCESS  0
                             9926 ; 18   |#endif
                             9927 ; 19   |#if !defined(ERROR)
                             9928 ; 20   |#define ERROR   -1
                             9929 ; 21   |#endif
                             9930 ; 22   |#if !defined(FALSE)
                             9931 ; 23   |#define FALSE 0
                             9932 ; 24   |#endif
                             9933 ; 25   |#if !defined(TRUE)
                             9934 ; 26   |#define TRUE  1
                             9935 ; 27   |#endif
                             9936 ; 28   |
                             9937 ; 29   |#if !defined(NULL)
                             9938 ; 30   |#define NULL 0
                             9939 ; 31   |#endif
                             9940 ; 32   |
                             9941 ; 33   |#define MAX_INT     0x7FFFFF
                             9942 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             9943 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 165

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9944 ; 36   |#define MAX_ULONG   (-1) 
                             9945 ; 37   |
                             9946 ; 38   |#define WORD_SIZE   24              // word size in bits
                             9947 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             9948 ; 40   |
                             9949 ; 41   |
                             9950 ; 42   |#define BYTE    unsigned char       // btVarName
                             9951 ; 43   |#define CHAR    signed char         // cVarName
                             9952 ; 44   |#define USHORT  unsigned short      // usVarName
                             9953 ; 45   |#define SHORT   unsigned short      // sVarName
                             9954 ; 46   |#define WORD    unsigned int        // wVarName
                             9955 ; 47   |#define INT     signed int          // iVarName
                             9956 ; 48   |#define DWORD   unsigned long       // dwVarName
                             9957 ; 49   |#define LONG    signed long         // lVarName
                             9958 ; 50   |#define BOOL    unsigned int        // bVarName
                             9959 ; 51   |#define FRACT   _fract              // frVarName
                             9960 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             9961 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             9962 ; 54   |#define FLOAT   float               // fVarName
                             9963 ; 55   |#define DBL     double              // dVarName
                             9964 ; 56   |#define ENUM    enum                // eVarName
                             9965 ; 57   |#define CMX     _complex            // cmxVarName
                             9966 ; 58   |typedef WORD UCS3;                   // 
                             9967 ; 59   |
                             9968 ; 60   |#define UINT16  unsigned short
                             9969 ; 61   |#define UINT8   unsigned char   
                             9970 ; 62   |#define UINT32  unsigned long
                             9971 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             9972 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             9973 ; 65   |#define WCHAR   UINT16
                             9974 ; 66   |
                             9975 ; 67   |//UINT128 is 16 bytes or 6 words
                             9976 ; 68   |typedef struct UINT128_3500 {   
                             9977 ; 69   |    int val[6];     
                             9978 ; 70   |} UINT128_3500;
                             9979 ; 71   |
                             9980 ; 72   |#define UINT128   UINT128_3500
                             9981 ; 73   |
                             9982 ; 74   |// Little endian word packed byte strings:   
                             9983 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9984 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9985 ; 77   |// Little endian word packed byte strings:   
                             9986 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9987 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9988 ; 80   |
                             9989 ; 81   |// Declare Memory Spaces To Use When Coding
                             9990 ; 82   |// A. Sector Buffers
                             9991 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             9992 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             9993 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             9994 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             9995 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             9996 ; 88   |// B. Media DDI Memory
                             9997 ; 89   |#define MEDIA_DDI_MEM _Y
                             9998 ; 90   |
                             9999 ; 91   |
                            10000 ; 92   |
                            10001 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            10002 ; 94   |// Examples of circular pointers:
                            10003 ; 95   |//    INT CIRC cpiVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 166

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10004 ; 96   |//    DWORD CIRC cpdwVarName
                            10005 ; 97   |
                            10006 ; 98   |#define RETCODE INT                 // rcVarName
                            10007 ; 99   |
                            10008 ; 100  |// generic bitfield structure
                            10009 ; 101  |struct Bitfield {
                            10010 ; 102  |    unsigned int B0  :1;
                            10011 ; 103  |    unsigned int B1  :1;
                            10012 ; 104  |    unsigned int B2  :1;
                            10013 ; 105  |    unsigned int B3  :1;
                            10014 ; 106  |    unsigned int B4  :1;
                            10015 ; 107  |    unsigned int B5  :1;
                            10016 ; 108  |    unsigned int B6  :1;
                            10017 ; 109  |    unsigned int B7  :1;
                            10018 ; 110  |    unsigned int B8  :1;
                            10019 ; 111  |    unsigned int B9  :1;
                            10020 ; 112  |    unsigned int B10 :1;
                            10021 ; 113  |    unsigned int B11 :1;
                            10022 ; 114  |    unsigned int B12 :1;
                            10023 ; 115  |    unsigned int B13 :1;
                            10024 ; 116  |    unsigned int B14 :1;
                            10025 ; 117  |    unsigned int B15 :1;
                            10026 ; 118  |    unsigned int B16 :1;
                            10027 ; 119  |    unsigned int B17 :1;
                            10028 ; 120  |    unsigned int B18 :1;
                            10029 ; 121  |    unsigned int B19 :1;
                            10030 ; 122  |    unsigned int B20 :1;
                            10031 ; 123  |    unsigned int B21 :1;
                            10032 ; 124  |    unsigned int B22 :1;
                            10033 ; 125  |    unsigned int B23 :1;
                            10034 ; 126  |};
                            10035 ; 127  |
                            10036 ; 128  |union BitInt {
                            10037 ; 129  |        struct Bitfield B;
                            10038 ; 130  |        int        I;
                            10039 ; 131  |};
                            10040 ; 132  |
                            10041 ; 133  |#define MAX_MSG_LENGTH 10
                            10042 ; 134  |struct CMessage
                            10043 ; 135  |{
                            10044 ; 136  |        unsigned int m_uLength;
                            10045 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            10046 ; 138  |};
                            10047 ; 139  |
                            10048 ; 140  |typedef struct {
                            10049 ; 141  |    WORD m_wLength;
                            10050 ; 142  |    WORD m_wMessage;
                            10051 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            10052 ; 144  |} Message;
                            10053 ; 145  |
                            10054 ; 146  |struct MessageQueueDescriptor
                            10055 ; 147  |{
                            10056 ; 148  |        int *m_pBase;
                            10057 ; 149  |        int m_iModulo;
                            10058 ; 150  |        int m_iSize;
                            10059 ; 151  |        int *m_pHead;
                            10060 ; 152  |        int *m_pTail;
                            10061 ; 153  |};
                            10062 ; 154  |
                            10063 ; 155  |struct ModuleEntry
                            10064 ; 156  |{
                            10065 ; 157  |    int m_iSignaledEventMask;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 167

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10066 ; 158  |    int m_iWaitEventMask;
                            10067 ; 159  |    int m_iResourceOfCode;
                            10068 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            10069 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            10070 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            10071 ; 163  |    int m_uTimeOutHigh;
                            10072 ; 164  |    int m_uTimeOutLow;
                            10073 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            10074 ; 166  |};
                            10075 ; 167  |
                            10076 ; 168  |union WaitMask{
                            10077 ; 169  |    struct B{
                            10078 ; 170  |        unsigned int m_bNone     :1;
                            10079 ; 171  |        unsigned int m_bMessage  :1;
                            10080 ; 172  |        unsigned int m_bTimer    :1;
                            10081 ; 173  |        unsigned int m_bButton   :1;
                            10082 ; 174  |    } B;
                            10083 ; 175  |    int I;
                            10084 ; 176  |} ;
                            10085 ; 177  |
                            10086 ; 178  |
                            10087 ; 179  |struct Button {
                            10088 ; 180  |        WORD wButtonEvent;
                            10089 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            10090 ; 182  |};
                            10091 ; 183  |
                            10092 ; 184  |struct Message {
                            10093 ; 185  |        WORD wMsgLength;
                            10094 ; 186  |        WORD wMsgCommand;
                            10095 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            10096 ; 188  |};
                            10097 ; 189  |
                            10098 ; 190  |union EventTypes {
                            10099 ; 191  |        struct CMessage msg;
                            10100 ; 192  |        struct Button Button ;
                            10101 ; 193  |        struct Message Message;
                            10102 ; 194  |};
                            10103 ; 195  |
                            10104 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            10105 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            10106 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            10107 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            10108 ; 200  |
                            10109 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            10110 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            10111 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            10112 ; 204  |
                            10113 ; 205  |#if DEBUG
                            10114 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            10115 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            10116 ; 208  |#else 
                            10117 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            10118 ; 210  |#define DebugBuildAssert(x)    
                            10119 ; 211  |#endif
                            10120 ; 212  |
                            10121 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            10122 ; 214  |//  #pragma asm
                            10123 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            10124 ; 216  |//  #pragma endasm
                            10125 ; 217  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 168

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10126 ; 218  |
                            10127 ; 219  |#ifdef COLOR_262K
                            10128 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            10129 ; 221  |#elif defined(COLOR_65K)
                            10130 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            10131 ; 223  |#else
                            10132 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            10133 ; 225  |#endif
                            10134 ; 226  |    
                            10135 ; 227  |#endif // #ifndef _TYPES_H
                            10136 
                            10138 
                            10139 ; 29   |
                            10140 ; 30   |///////////////////////////////////////////////////////////////////////////////////
                            10141 ; 31   |////  I2S Registers (SAI)
                            10142 ; 32   |///////////////////////////////////////////////////////////////////////////////////
                            10143 ; 33   |
                            10144 ; 34   |
                            10145 ; 35   |#define HW_SAI_BASEADDR (0xFFF0)
                            10146 ; 36   |
                            10147 ; 37   |
                            10148 ; 38   |
                            10149 ; 39   |
                            10150 ; 40   |#define HW_SAIRCSR_REN0_BITPOS (0)
                            10151 ; 41   |#define HW_SAIRCSR_REN1_BITPOS (1)
                            10152 ; 42   |#define HW_SAIRCSR_REN2_BITPOS (2)
                            10153 ; 43   |#define HW_SAIRCSR_RMME_BITPOS (3)
                            10154 ; 44   |#define HW_SAIRCSR_RSVD0_BITPOS (4)
                            10155 ; 45   |#define HW_SAIRCSR_RWL_BITPOS (5)
                            10156 ; 46   |#define HW_SAIRCSR_RDIR_BITPOS (7)
                            10157 ; 47   |#define HW_SAIRCSR_RLRS_BITPOS (8)
                            10158 ; 48   |#define HW_SAIRCSR_RCKP_BITPOS (9)
                            10159 ; 49   |#define HW_SAIRCSR_RREL_BITPOS (10)
                            10160 ; 50   |#define HW_SAIRCSR_RDWJ_BITPOS (11)
                            10161 ; 51   |#define HW_SAIRCSR_RXIE_BITPOS (12)
                            10162 ; 52   |#define HW_SAIRCSR_RSVD1_BITPOS (13)
                            10163 ; 53   |#define HW_SAIRCSR_ROFL_BITPOS (14)
                            10164 ; 54   |#define HW_SAIRCSR_RDR_BITPOS (15)
                            10165 ; 55   |#define HW_SAIRCSR_ROFCL_BITPOS (16)
                            10166 ; 56   |#define HW_SAIRCSR_RSVD2_BITPOS (17)
                            10167 ; 57   |
                            10168 ; 58   |
                            10169 ; 59   |#define HW_SAIRCSR_REN0_WIDTH (1)
                            10170 ; 60   |#define HW_SAIRCSR_REN1_WIDTH (1)
                            10171 ; 61   |#define HW_SAIRCSR_REN2_WIDTH (1)
                            10172 ; 62   |#define HW_SAIRCSR_RMME_WIDTH (1)
                            10173 ; 63   |#define HW_SAIRCSR_RSVD0_WIDTH (1)
                            10174 ; 64   |#define HW_SAIRCSR_RWL_WIDTH (2)
                            10175 ; 65   |#define HW_SAIRCSR_RDIR_WIDTH (1)
                            10176 ; 66   |#define HW_SAIRCSR_RLRS_WIDTH (1)
                            10177 ; 67   |#define HW_SAIRCSR_RCKP_WIDTH (1)
                            10178 ; 68   |#define HW_SAIRCSR_RREL_WIDTH (1)
                            10179 ; 69   |#define HW_SAIRCSR_RDWJ_WIDTH (1)
                            10180 ; 70   |#define HW_SAIRCSR_RXIE_WIDTH (1)
                            10181 ; 71   |#define HW_SAIRCSR_RSVD1_WIDTH (1)
                            10182 ; 72   |#define HW_SAIRCSR_ROFL_WIDTH (1)
                            10183 ; 73   |#define HW_SAIRCSR_RDR_WIDTH (1)
                            10184 ; 74   |#define HW_SAIRCSR_ROFCL_WIDTH (1)
                            10185 ; 75   |#define HW_SAIRCSR_RSVD2_WIDTH (7)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 169

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10186 ; 76   |
                            10187 ; 77   |
                            10188 ; 78   |#define HW_SAIRCSR_REN0_SETMASK (((1<HW_SAIRCSR_REN0_WIDTH)-1)<<HW_SAIRCSR_REN0_BITPOS)
                            10189 ; 79   |#define HW_SAIRCSR_REN1_SETMASK (((1<HW_SAIRCSR_REN1_WIDTH)-1)<<HW_SAIRCSR_REN1_BITPOS)
                            10190 ; 80   |#define HW_SAIRCSR_REN2_SETMASK (((1<HW_SAIRCSR_REN2_WIDTH)-1)<<HW_SAIRCSR_REN2_BITPOS)
                            10191 ; 81   |#define HW_SAIRCSR_RMME_SETMASK (((1<HW_SAIRCSR_RMME_WIDTH)-1)<<HW_SAIRCSR_RMME_BITPOS)
                            10192 ; 82   |#define HW_SAIRCSR_RSVD0_SETMASK (((1<HW_SAIRCSR_RSVD0_WIDTH)-1)<<HW_SAIRCSR_RSVD0_BITPOS)
                                  
                            10193 ; 83   |#define HW_SAIRCSR_RWL_SETMASK (((1<HW_SAIRCSR_RWL_WIDTH)-1)<<HW_SAIRCSR_RWL_BITPOS)
                            10194 ; 84   |#define HW_SAIRCSR_RDIR_SETMASK (((1<HW_SAIRCSR_RDIR_WIDTH)-1)<<HW_SAIRCSR_RDIR_BITPOS)
                            10195 ; 85   |#define HW_SAIRCSR_RLRS_SETMASK (((1<HW_SAIRCSR_RLRS_WIDTH)-1)<<HW_SAIRCSR_RLRS_BITPOS)
                            10196 ; 86   |#define HW_SAIRCSR_RCKP_SETMASK (((1<HW_SAIRCSR_RCKP_WIDTH)-1)<<HW_SAIRCSR_RCKP_BITPOS)
                            10197 ; 87   |#define HW_SAIRCSR_RREL_SETMASK (((1<HW_SAIRCSR_RREL_WIDTH)-1)<<HW_SAIRCSR_RREL_BITPOS)
                            10198 ; 88   |#define HW_SAIRCSR_RDWJ_SETMASK (((1<HW_SAIRCSR_RDWJ_WIDTH)-1)<<HW_SAIRCSR_RDWJ_BITPOS)
                            10199 ; 89   |#define HW_SAIRCSR_RXIE_SETMASK (((1<HW_SAIRCSR_RXIE_WIDTH)-1)<<HW_SAIRCSR_RXIE_BITPOS)
                            10200 ; 90   |#define HW_SAIRCSR_RSVD1_SETMASK (((1<HW_SAIRCSR_RSVD1_WIDTH)-1)<<HW_SAIRCSR_RSVD1_BITPOS)
                                  
                            10201 ; 91   |#define HW_SAIRCSR_ROFL_SETMASK (((1<HW_SAIRCSR_ROFL_WIDTH)-1)<<HW_SAIRCSR_ROFL_BITPOS)
                            10202 ; 92   |#define HW_SAIRCSR_RDR_SETMASK (((1<HW_SAIRCSR_RDR_WIDTH)-1)<<HW_SAIRCSR_RDR_BITPOS)
                            10203 ; 93   |#define HW_SAIRCSR_ROFCL_SETMASK (((1<HW_SAIRCSR_ROFCL_WIDTH)-1)<<HW_SAIRCSR_ROFCL_BITPOS)
                                  
                            10204 ; 94   |#define HW_SAIRCSR_RSVD2_SETMASK (((1<HW_SAIRCSR_RSVD2_WIDTH)-1)<<HW_SAIRCSR_RSVD2_BITPOS)
                                  
                            10205 ; 95   |
                            10206 ; 96   |
                            10207 ; 97   |#define HW_SAIRCSR_REN0_CLRMASK (~(WORD)HW_SAIRCSR_REN0_SETMASK)
                            10208 ; 98   |#define HW_SAIRCSR_REN1_CLRMASK (~(WORD)HW_SAIRCSR_REN1_SETMASK)
                            10209 ; 99   |#define HW_SAIRCSR_REN2_CLRMASK (~(WORD)HW_SAIRCSR_REN2_SETMASK)
                            10210 ; 100  |#define HW_SAIRCSR_RMME_CLRMASK (~(WORD)HW_SAIRCSR_RMME_SETMASK)
                            10211 ; 101  |#define HW_SAIRCSR_RSVD0_CLRMASK (~(WORD)HW_SAIRCSR_RSVD0_SETMASK)
                            10212 ; 102  |#define HW_SAIRCSR_RWL_CLRMASK (~(WORD)HW_SAIRCSR_RWL_SETMASK)
                            10213 ; 103  |#define HW_SAIRCSR_RDIR_CLRMASK (~(WORD)HW_SAIRCSR_RDIR_SETMASK)
                            10214 ; 104  |#define HW_SAIRCSR_RLRS_CLRMASK (~(WORD)HW_SAIRCSR_RLRS_SETMASK)
                            10215 ; 105  |#define HW_SAIRCSR_RCKP_CLRMASK (~(WORD)HW_SAIRCSR_RCKP_SETMASK)
                            10216 ; 106  |#define HW_SAIRCSR_RREL_CLRMASK (~(WORD)HW_SAIRCSR_RREL_SETMASK)
                            10217 ; 107  |#define HW_SAIRCSR_RDWJ_CLRMASK (~(WORD)HW_SAIRCSR_RDWJ_SETMASK)
                            10218 ; 108  |#define HW_SAIRCSR_RXIE_CLRMASK (~(WORD)HW_SAIRCSR_RXIE_SETMASK)
                            10219 ; 109  |#define HW_SAIRCSR_RSVD1_CLRMASK (~(WORD)HW_SAIRCSR_RSVD1_SETMASK)
                            10220 ; 110  |#define HW_SAIRCSR_ROFL_CLRMASK (~(WORD)HW_SAIRCSR_ROFL_SETMASK)
                            10221 ; 111  |#define HW_SAIRCSR_RDR_CLRMASK (~(WORD)HW_SAIRCSR_RDR_SETMASK)
                            10222 ; 112  |#define HW_SAIRCSR_ROFCL_CLRMASK (~(WORD)HW_SAIRCSR_ROFCL_SETMASK)
                            10223 ; 113  |#define HW_SAIRCSR_RSVD2_CLRMASK (~(WORD)HW_SAIRCSR_RSVD2_SETMASK)
                            10224 ; 114  |
                            10225 ; 115  |typedef union
                            10226 ; 116  |{
                            10227 ; 117  |    struct {
                            10228 ; 118  |        int REN0        :HW_SAIRCSR_REN0_WIDTH;        // Receiver 0 enable
                            10229 ; 119  |        int REN1        :HW_SAIRCSR_REN1_WIDTH;        // Receiver 1 enable
                            10230 ; 120  |        int REN2        :HW_SAIRCSR_REN2_WIDTH;        // Receiver 2 enable
                            10231 ; 121  |        int RMME        :HW_SAIRCSR_RMME_WIDTH;        // Receiver master mode enable
                            10232 ; 122  |        int RSVD0       :HW_SAIRCSR_RSVD0_WIDTH;       // Reserved
                            10233 ; 123  |        unsigned RWL    :HW_SAIRCSR_RWL_WIDTH;         // Receiver word length control
                            10234 ; 124  |        int RDIR        :HW_SAIRCSR_RDIR_WIDTH;        // Receiver data shift direction 
                            10235 ; 125  |        int RLRS        :HW_SAIRCSR_RLRS_WIDTH;        // Receiver left right select
                            10236 ; 126  |        int RCKP        :HW_SAIRCSR_RCKP_WIDTH;        // Receiver clock polarity
                            10237 ; 127  |        int RREL        :HW_SAIRCSR_RREL_WIDTH;        // Receiver relative timing
                            10238 ; 128  |        int RDWJ        :HW_SAIRCSR_RDWJ_WIDTH;        // Receiver data word justification
                                  
                            10239 ; 129  |        int RXIE        :HW_SAIRCSR_RXIE_WIDTH;        // Receiver interrupt enable
                            10240 ; 130  |        int RSVD1       :HW_SAIRCSR_RSVD1_WIDTH;       // Reserved
                            10241 ; 131  |        int ROFL        :HW_SAIRCSR_ROFL_WIDTH;        // Receiver data overflow
                            10242 ; 132  |        int RDR         :HW_SAIRCSR_RDR_WIDTH;         // Receiver data ready flag
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 170

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10243 ; 133  |        int ROFCL       :HW_SAIRCSR_ROFCL_WIDTH;       // Receiver data overflow clear
                            10244 ; 134  |        unsigned RSVD2  :HW_SAIRCSR_RSVD2_WIDTH;       // Reserved
                            10245 ; 135  |    } B;
                            10246 ; 136  |    int I;
                            10247 ; 137  |    unsigned U;
                            10248 ; 138  |} saircsr_type;
                            10249 ; 139  |
                            10250 ; 140  |#define HW_SAIRCSR (*(volatile saircsr_type _X*) (HW_SAI_BASEADDR))       /* I2S Receive C
                                  SR         */
                            10251 ; 141  |
                            10252 ; 142  |typedef union
                            10253 ; 143  |{
                            10254 ; 144  |    struct {
                            10255 ; 145  |        unsigned SAI :24;
                            10256 ; 146  |    } B;
                            10257 ; 147  |    int I;
                            10258 ; 148  |    unsigned U;
                            10259 ; 149  |} saixr_type;
                            10260 ; 150  |
                            10261 ; 151  |#define HW_SAIRX0R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+1))       /* I2S Received
                                   data reg 0 */
                            10262 ; 152  |#define HW_SAIRX1R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+2))       /* I2S Received
                                   data reg 1 */
                            10263 ; 153  |#define HW_SAIRX2R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+3))       /* I2S Received
                                   data reg 2 */
                            10264 ; 154  |
                            10265 ; 155  |
                            10266 ; 156  |#define HW_SAITCSR_TEN0_BITPOS (0)
                            10267 ; 157  |#define HW_SAITCSR_TEN1_BITPOS (1)
                            10268 ; 158  |#define HW_SAITCSR_TEN2_BITPOS (2)
                            10269 ; 159  |#define HW_SAITCSR_TMME_BITPOS (3)
                            10270 ; 160  |#define HW_SAITCSR_RSVD0_BITPOS (4)
                            10271 ; 161  |#define HW_SAITCSR_TWL_BITPOS (5)
                            10272 ; 162  |#define HW_SAITCSR_TDIR_BITPOS (7)
                            10273 ; 163  |#define HW_SAITCSR_TLRS_BITPOS (8)
                            10274 ; 164  |#define HW_SAITCSR_TCKP_BITPOS (9)
                            10275 ; 165  |#define HW_SAITCSR_TREL_BITPOS (10)
                            10276 ; 166  |#define HW_SAITCSR_TDWE_BITPOS (11)
                            10277 ; 167  |#define HW_SAITCSR_TXIE_BITPOS (12)
                            10278 ; 168  |#define HW_SAITCSR_RSVD1_BITPOS (13)
                            10279 ; 169  |#define HW_SAITCSR_TUFL_BITPOS (14)
                            10280 ; 170  |#define HW_SAITCSR_TDE_BITPOS (15)
                            10281 ; 171  |#define HW_SAITCSR_TUFCL_BITPOS (16)
                            10282 ; 172  |#define HW_SAITCSR_RSVD2_BITPOS (17)
                            10283 ; 173  |
                            10284 ; 174  |
                            10285 ; 175  |#define HW_SAITCSR_TEN0_WIDTH (1)
                            10286 ; 176  |#define HW_SAITCSR_TEN1_WIDTH (1)
                            10287 ; 177  |#define HW_SAITCSR_TEN2_WIDTH (1)
                            10288 ; 178  |#define HW_SAITCSR_TMME_WIDTH (1)
                            10289 ; 179  |#define HW_SAITCSR_RSVD0_WIDTH (1)
                            10290 ; 180  |#define HW_SAITCSR_TWL_WIDTH (2)
                            10291 ; 181  |#define HW_SAITCSR_TDIR_WIDTH (1)
                            10292 ; 182  |#define HW_SAITCSR_TLRS_WIDTH (1)
                            10293 ; 183  |#define HW_SAITCSR_TCKP_WIDTH (1)
                            10294 ; 184  |#define HW_SAITCSR_TREL_WIDTH (1)
                            10295 ; 185  |#define HW_SAITCSR_TDWE_WIDTH (1)
                            10296 ; 186  |#define HW_SAITCSR_TXIE_WIDTH (1)
                            10297 ; 187  |#define HW_SAITCSR_RSVD1_WIDTH (1)
                            10298 ; 188  |#define HW_SAITCSR_TUFL_WIDTH (1)
                            10299 ; 189  |#define HW_SAITCSR_TDE_WIDTH (1)
                            10300 ; 190  |#define HW_SAITCSR_TUFCL_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 171

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10301 ; 191  |#define HW_SAITCSR_RSVD2_WIDTH (7)
                            10302 ; 192  |
                            10303 ; 193  |
                            10304 ; 194  |#define HW_SAITCSR_TEN0_SETMASK (((1<HW_SAITCSR_TEN0_WIDTH)-1)<<HW_SAITCSR_TEN0_BITPOS)
                            10305 ; 195  |#define HW_SAITCSR_TEN1_SETMASK (((1<HW_SAITCSR_TEN1_WIDTH)-1)<<HW_SAITCSR_TEN1_BITPOS)
                            10306 ; 196  |#define HW_SAITCSR_TEN2_SETMASK (((1<HW_SAITCSR_TEN2_WIDTH)-1)<<HW_SAITCSR_TEN2_BITPOS)
                            10307 ; 197  |#define HW_SAITCSR_TMME_SETMASK (((1<HW_SAITCSR_TMME_WIDTH)-1)<<HW_SAITCSR_TMME_BITPOS)
                            10308 ; 198  |#define HW_SAITCSR_RSVD0_SETMASK (((1<HW_SAITCSR_RSVD0_WIDTH)-1)<<HW_SAITCSR_RSVD0_BITPOS)
                                  
                            10309 ; 199  |#define HW_SAITCSR_TWL_SETMASK (((1<HW_SAITCSR_TWL_WIDTH)-1)<<HW_SAITCSR_TWL_BITPOS)
                            10310 ; 200  |#define HW_SAITCSR_TDIR_SETMASK (((1<HW_SAITCSR_TDIR_WIDTH)-1)<<HW_SAITCSR_TDIR_BITPOS)
                            10311 ; 201  |#define HW_SAITCSR_TLRS_SETMASK (((1<HW_SAITCSR_TLRS_WIDTH)-1)<<HW_SAITCSR_TLRS_BITPOS)
                            10312 ; 202  |#define HW_SAITCSR_TCKP_SETMASK (((1<HW_SAITCSR_TCKP_WIDTH)-1)<<HW_SAITCSR_TCKP_BITPOS)
                            10313 ; 203  |#define HW_SAITCSR_TREL_SETMASK (((1<HW_SAITCSR_TREL_WIDTH)-1)<<HW_SAITCSR_TREL_BITPOS)
                            10314 ; 204  |#define HW_SAITCSR_TDWE_SETMASK (((1<HW_SAITCSR_TDWE_WIDTH)-1)<<HW_SAITCSR_TDWE_BITPOS)
                            10315 ; 205  |#define HW_SAITCSR_TXIE_SETMASK (((1<HW_SAITCSR_TXIE_WIDTH)-1)<<HW_SAITCSR_TXIE_BITPOS)
                            10316 ; 206  |#define HW_SAITCSR_RSVD1_SETMASK (((1<HW_SAITCSR_RSVD1_WIDTH)-1)<<HW_SAITCSR_RSVD1_BITPOS)
                                  
                            10317 ; 207  |#define HW_SAITCSR_TUFL_SETMASK (((1<HW_SAITCSR_TUFL_WIDTH)-1)<<HW_SAITCSR_TUFL_BITPOS)
                            10318 ; 208  |#define HW_SAITCSR_TDE_SETMASK (((1<HW_SAITCSR_TDE_WIDTH)-1)<<HW_SAITCSR_TDE_BITPOS)
                            10319 ; 209  |#define HW_SAITCSR_TUFCL_SETMASK (((1<HW_SAITCSR_TUFCL_WIDTH)-1)<<HW_SAITCSR_TUFCL_BITPOS)
                                  
                            10320 ; 210  |#define HW_SAITCSR_RSVD2_SETMASK (((1<HW_SAITCSR_RSVD2_WIDTH)-1)<<HW_SAITCSR_RSVD2_BITPOS)
                                  
                            10321 ; 211  |
                            10322 ; 212  |
                            10323 ; 213  |#define HW_SAITCSR_TEN0_CLRMASK (~(WORD)HW_SAITCSR_TEN0_SETMASK)
                            10324 ; 214  |#define HW_SAITCSR_TEN1_CLRMASK (~(WORD)HW_SAITCSR_TEN1_SETMASK)
                            10325 ; 215  |#define HW_SAITCSR_TEN2_CLRMASK (~(WORD)HW_SAITCSR_TEN2_SETMASK)
                            10326 ; 216  |#define HW_SAITCSR_TMME_CLRMASK (~(WORD)HW_SAITCSR_TMME_SETMASK)
                            10327 ; 217  |#define HW_SAITCSR_RSVD0_CLRMASK (~(WORD)HW_SAITCSR_RSVD0_SETMASK)
                            10328 ; 218  |#define HW_SAITCSR_TWL_CLRMASK (~(WORD)HW_SAITCSR_TWL_SETMASK)
                            10329 ; 219  |#define HW_SAITCSR_TDIR_CLRMASK (~(WORD)HW_SAITCSR_TDIR_SETMASK)
                            10330 ; 220  |#define HW_SAITCSR_TLRS_CLRMASK (~(WORD)HW_SAITCSR_TLRS_SETMASK)
                            10331 ; 221  |#define HW_SAITCSR_TCKP_CLRMASK (~(WORD)HW_SAITCSR_TCKP_SETMASK)
                            10332 ; 222  |#define HW_SAITCSR_TREL_CLRMASK (~(WORD)HW_SAITCSR_TREL_SETMASK)
                            10333 ; 223  |#define HW_SAITCSR_TDWE_CLRMASK (~(WORD)HW_SAITCSR_TDWE_SETMASK)
                            10334 ; 224  |#define HW_SAITCSR_TXIE_CLRMASK (~(WORD)HW_SAITCSR_TXIE_SETMASK)
                            10335 ; 225  |#define HW_SAITCSR_RSVD1_CLRMASK (~(WORD)HW_SAITCSR_RSVD1_SETMASK)
                            10336 ; 226  |#define HW_SAITCSR_TUFL_CLRMASK (~(WORD)HW_SAITCSR_TUFL_SETMASK)
                            10337 ; 227  |#define HW_SAITCSR_TDE_CLRMASK (~(WORD)HW_SAITCSR_TDE_SETMASK)
                            10338 ; 228  |#define HW_SAITCSR_TUFCL_CLRMASK (~(WORD)HW_SAITCSR_TUFCL_SETMASK)
                            10339 ; 229  |#define HW_SAITCSR_RSVD2_CLRMASK (~(WORD)HW_SAITCSR_RSVD2_SETMASK)
                            10340 ; 230  |
                            10341 ; 231  |
                            10342 ; 232  |typedef union
                            10343 ; 233  |{
                            10344 ; 234  |    struct {
                            10345 ; 235  |        int TEN0       :HW_SAITCSR_TEN0_WIDTH;         // Transmitter 0 enable
                            10346 ; 236  |        int TEN1       :HW_SAITCSR_TEN1_WIDTH;         // Transmitter 1 enable
                            10347 ; 237  |        int TEN2       :HW_SAITCSR_TEN2_WIDTH;         // Transmitter 2 enable
                            10348 ; 238  |        int TMME       :HW_SAITCSR_TMME_WIDTH;         // Transmitter master mode enable
                            10349 ; 239  |        int RSVD0      :HW_SAITCSR_RSVD0_WIDTH;        // Reserved
                            10350 ; 240  |        unsigned TWL   :HW_SAITCSR_TWL_WIDTH;          // Transmitter word length control
                            10351 ; 241  |        int TDIR       :HW_SAITCSR_TDIR_WIDTH;         // Transmitter data shift direction
                                   
                            10352 ; 242  |        int TLRS       :HW_SAITCSR_TLRS_WIDTH;         // Transmitter left right select
                            10353 ; 243  |        int TCKP       :HW_SAITCSR_TCKP_WIDTH;         // Transmitter clock polarity
                            10354 ; 244  |        int TREL       :HW_SAITCSR_TREL_WIDTH;         // Transmitter relative timing
                            10355 ; 245  |        int TDWE       :HW_SAITCSR_TDWE_WIDTH;         // Transmitter data word justificat
                                  ion
                            10356 ; 246  |        int TXIE       :HW_SAITCSR_TXIE_WIDTH;         // Transmitter interrupt enable
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 172

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10357 ; 247  |        int RSVD1      :HW_SAITCSR_RSVD1_WIDTH;        // Reserved
                            10358 ; 248  |        int TUFL       :HW_SAITCSR_TUFL_WIDTH;         // Transmitter data overflow
                            10359 ; 249  |        int TDE        :HW_SAITCSR_TDE_WIDTH;          // Transmitter data ready flag
                            10360 ; 250  |        int TUFCL      :HW_SAITCSR_TUFCL_WIDTH;        // Transmitter data overflow clear
                            10361 ; 251  |        unsigned RSVD2 :HW_SAITCSR_RSVD2_WIDTH;        // Reserved
                            10362 ; 252  |    } B;
                            10363 ; 253  |    int I;
                            10364 ; 254  |    unsigned U;
                            10365 ; 255  |} saitcsr_type;
                            10366 ; 256  |
                            10367 ; 257  |#define HW_SAITCSR (*(volatile saitcsr_type _X*) (HW_SAI_BASEADDR+5)) /* I2S Transmit CSR 
                                       */
                            10368 ; 258  |
                            10369 ; 259  |#define HW_SAITX0R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+6))       /* I2S Transmit
                                   data reg 0 */
                            10370 ; 260  |#define HW_SAITX1R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+7))       /* I2S Transmit
                                   data reg 1 */
                            10371 ; 261  |#define HW_SAITX2R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+8))       /* I2S Transmit
                                   data reg 2 */
                            10372 ; 262  |
                            10373 ; 263  |#endif
                            10374 
                            10376 
                            10377 ; 25   |#include "regsicoll.h"
                            10378 
                            10380 
                            10381 ; 1    |#if !defined(__REGS_ICOLL_INC)
                            10382 ; 2    |#define __REGS_ICOLL_INC 1
                            10383 ; 3    |
                            10384 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            10385 ; 5    |//  Interrupt Collector Registers
                            10386 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                            10387 ; 7    |
                            10388 ; 8    |#define HW_ICOLL_BASEADDR 0xF300
                            10389 ; 9    |
                            10390 ; 10   |
                            10391 ; 11   |
                            10392 ; 12   |/////////////////////////////////////////////////////////////////////////////////
                            10393 ; 13   |//  Interrupt Collector 0 Enable Register (HW_ICLENABLE0R) Bit Positions
                            10394 ; 14   |
                            10395 ; 15   |typedef union
                            10396 ; 16   |{
                            10397 ; 17   |    struct {
                            10398 ; 18   |        int SEN0        :1;
                            10399 ; 19   |        int SEN1        :1;
                            10400 ; 20   |        int SEN2        :1;
                            10401 ; 21   |        int SEN3        :1;
                            10402 ; 22   |        int SEN4        :1;
                            10403 ; 23   |        int SEN5        :1;
                            10404 ; 24   |        int SEN6        :1;
                            10405 ; 25   |        int SEN7        :1;
                            10406 ; 26   |        int SEN8        :1;
                            10407 ; 27   |        int SEN9        :1;
                            10408 ; 28   |        int SEN10       :1;
                            10409 ; 29   |        int SEN11       :1;
                            10410 ; 30   |        int SEN12       :1;
                            10411 ; 31   |        int SEN13       :1;
                            10412 ; 32   |        int SEN14       :1;
                            10413 ; 33   |        int SEN15       :1;
                            10414 ; 34   |        int SEN16       :1;
                            10415 ; 35   |        int SEN17       :1;
                            10416 ; 36   |        int SEN18       :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 173

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10417 ; 37   |        int SEN19       :1;
                            10418 ; 38   |        int SEN20       :1;
                            10419 ; 39   |        int SEN21       :1;
                            10420 ; 40   |        int SEN22       :1;
                            10421 ; 41   |        int SEN23       :1;
                            10422 ; 42   |    } B;
                            10423 ; 43   |    int I;
                            10424 ; 44   |} iclenable0_type;
                            10425 ; 45   |#define HW_ICLENABLE0R  (*(volatile iclenable0_type _X*) (HW_ICOLL_BASEADDR)) /* Interrupt
                                   Priority Register Core   */
                            10426 ; 46   |
                            10427 ; 47   |
                            10428 ; 48   |#define HW_ICLENABLE0R_SEN0_BITPOS 0
                            10429 ; 49   |#define HW_ICLENABLE0R_SEN1_BITPOS 1
                            10430 ; 50   |#define HW_ICLENABLE0R_SEN2_BITPOS 2
                            10431 ; 51   |#define HW_ICLENABLE0R_SEN3_BITPOS 3
                            10432 ; 52   |#define HW_ICLENABLE0R_SEN4_BITPOS 4
                            10433 ; 53   |#define HW_ICLENABLE0R_SEN5_BITPOS 5
                            10434 ; 54   |#define HW_ICLENABLE0R_SEN6_BITPOS 6
                            10435 ; 55   |#define HW_ICLENABLE0R_SEN7_BITPOS 7
                            10436 ; 56   |#define HW_ICLENABLE0R_SEN8_BITPOS 8
                            10437 ; 57   |#define HW_ICLENABLE0R_SEN9_BITPOS 9
                            10438 ; 58   |#define HW_ICLENABLE0R_SEN10_BITPOS 10
                            10439 ; 59   |#define HW_ICLENABLE0R_SEN11_BITPOS 11
                            10440 ; 60   |#define HW_ICLENABLE0R_SEN12_BITPOS 12
                            10441 ; 61   |#define HW_ICLENABLE0R_SEN13_BITPOS 13
                            10442 ; 62   |#define HW_ICLENABLE0R_SEN14_BITPOS 14
                            10443 ; 63   |#define HW_ICLENABLE0R_SEN15_BITPOS 15
                            10444 ; 64   |#define HW_ICLENABLE0R_SEN16_BITPOS 16
                            10445 ; 65   |#define HW_ICLENABLE0R_SEN17_BITPOS 17
                            10446 ; 66   |#define HW_ICLENABLE0R_SEN18_BITPOS 18
                            10447 ; 67   |#define HW_ICLENABLE0R_SEN19_BITPOS 19
                            10448 ; 68   |#define HW_ICLENABLE0R_SEN20_BITPOS 20
                            10449 ; 69   |#define HW_ICLENABLE0R_SEN21_BITPOS 21
                            10450 ; 70   |#define HW_ICLENABLE0R_SEN22_BITPOS 22
                            10451 ; 71   |#define HW_ICLENABLE0R_SEN23_BITPOS 23
                            10452 ; 72   |
                            10453 ; 73   |#define HW_ICLENABLE0R_SEN0_SETMASK 1<<HW_ICLENABLE0R_SEN0_BITPOS
                            10454 ; 74   |#define HW_ICLENABLE0R_SEN1_SETMASK 1<<HW_ICLENABLE0R_SEN1_BITPOS
                            10455 ; 75   |#define HW_ICLENABLE0R_SEN2_SETMASK 1<<HW_ICLENABLE0R_SEN2_BITPOS
                            10456 ; 76   |#define HW_ICLENABLE0R_SEN3_SETMASK 1<<HW_ICLENABLE0R_SEN3_BITPOS
                            10457 ; 77   |#define HW_ICLENABLE0R_SEN4_SETMASK 1<<HW_ICLENABLE0R_SEN4_BITPOS
                            10458 ; 78   |#define HW_ICLENABLE0R_SEN5_SETMASK 1<<HW_ICLENABLE0R_SEN5_BITPOS
                            10459 ; 79   |#define HW_ICLENABLE0R_SEN6_SETMASK 1<<HW_ICLENABLE0R_SEN6_BITPOS
                            10460 ; 80   |#define HW_ICLENABLE0R_SEN7_SETMASK 1<<HW_ICLENABLE0R_SEN7_BITPOS
                            10461 ; 81   |#define HW_ICLENABLE0R_SEN8_SETMASK 1<<HW_ICLENABLE0R_SEN8_BITPOS
                            10462 ; 82   |#define HW_ICLENABLE0R_SEN9_SETMASK 1<<HW_ICLENABLE0R_SEN9_BITPOS
                            10463 ; 83   |#define HW_ICLENABLE0R_SEN10_SETMASK 1<<HW_ICLENABLE0R_SEN10_BITPOS
                            10464 ; 84   |#define HW_ICLENABLE0R_SEN11_SETMASK 1<<HW_ICLENABLE0R_SEN11_BITPOS
                            10465 ; 85   |#define HW_ICLENABLE0R_SEN12_SETMASK 1<<HW_ICLENABLE0R_SEN12_BITPOS
                            10466 ; 86   |#define HW_ICLENABLE0R_SEN13_SETMASK 1<<HW_ICLENABLE0R_SEN13_BITPOS
                            10467 ; 87   |#define HW_ICLENABLE0R_SEN14_SETMASK 1<<HW_ICLENABLE0R_SEN14_BITPOS
                            10468 ; 88   |#define HW_ICLENABLE0R_SEN15_SETMASK 1<<HW_ICLENABLE0R_SEN15_BITPOS
                            10469 ; 89   |#define HW_ICLENABLE0R_SEN16_SETMASK 1<<HW_ICLENABLE0R_SEN16_BITPOS
                            10470 ; 90   |#define HW_ICLENABLE0R_SEN17_SETMASK 1<<HW_ICLENABLE0R_SEN17_BITPOS
                            10471 ; 91   |#define HW_ICLENABLE0R_SEN18_SETMASK 1<<HW_ICLENABLE0R_SEN18_BITPOS
                            10472 ; 92   |#define HW_ICLENABLE0R_SEN19_SETMASK 1<<HW_ICLENABLE0R_SEN19_BITPOS
                            10473 ; 93   |#define HW_ICLENABLE0R_SEN20_SETMASK 1<<HW_ICLENABLE0R_SEN20_BITPOS
                            10474 ; 94   |#define HW_ICLENABLE0R_SEN21_SETMASK 1<<HW_ICLENABLE0R_SEN21_BITPOS
                            10475 ; 95   |#define HW_ICLENABLE0R_SEN22_SETMASK 1<<HW_ICLENABLE0R_SEN22_BITPOS
                            10476 ; 96   |#define HW_ICLENABLE0R_SEN23_SETMASK 1<<HW_ICLENABLE0R_SEN23_BITPOS
                            10477 ; 97   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 174

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10478 ; 98   |#define HW_ICLENABLE0R_SEN0_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN0_SETMASK
                            10479 ; 99   |#define HW_ICLENABLE0R_SEN1_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN1_SETMASK
                            10480 ; 100  |#define HW_ICLENABLE0R_SEN2_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN2_SETMASK
                            10481 ; 101  |#define HW_ICLENABLE0R_SEN3_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN3_SETMASK
                            10482 ; 102  |#define HW_ICLENABLE0R_SEN4_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN4_SETMASK
                            10483 ; 103  |#define HW_ICLENABLE0R_SEN5_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN5_SETMASK
                            10484 ; 104  |#define HW_ICLENABLE0R_SEN6_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN6_SETMASK
                            10485 ; 105  |#define HW_ICLENABLE0R_SEN7_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN7_SETMASK
                            10486 ; 106  |#define HW_ICLENABLE0R_SEN8_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN8_SETMASK
                            10487 ; 107  |#define HW_ICLENABLE0R_SEN9_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN9_SETMASK
                            10488 ; 108  |#define HW_ICLENABLE0R_SEN10_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN10_SETMASK
                            10489 ; 109  |#define HW_ICLENABLE0R_SEN11_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN11_SETMASK
                            10490 ; 110  |#define HW_ICLENABLE0R_SEN12_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN12_SETMASK
                            10491 ; 111  |#define HW_ICLENABLE0R_SEN13_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN13_SETMASK
                            10492 ; 112  |#define HW_ICLENABLE0R_SEN14_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN14_SETMASK
                            10493 ; 113  |#define HW_ICLENABLE0R_SEN15_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN15_SETMASK
                            10494 ; 114  |#define HW_ICLENABLE0R_SEN16_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN16_SETMASK
                            10495 ; 115  |#define HW_ICLENABLE0R_SEN17_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN17_SETMASK
                            10496 ; 116  |#define HW_ICLENABLE0R_SEN18_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN18_SETMASK
                            10497 ; 117  |#define HW_ICLENABLE0R_SEN19_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN19_SETMASK
                            10498 ; 118  |#define HW_ICLENABLE0R_SEN20_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN20_SETMASK
                            10499 ; 119  |#define HW_ICLENABLE0R_SEN21_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN21_SETMASK
                            10500 ; 120  |#define HW_ICLENABLE0R_SEN22_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN22_SETMASK
                            10501 ; 121  |#define HW_ICLENABLE0R_SEN23_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN23_SETMASK
                            10502 ; 122  |
                            10503 ; 123  |
                            10504 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                            10505 ; 125  |//  Interrupt Collector 1 Enable Register (HW_ICLENABLE1R) Bit Positions
                            10506 ; 126  |typedef union
                            10507 ; 127  |{
                            10508 ; 128  |    struct {
                            10509 ; 129  |        
                            10510 ; 130  |        int SEN24       :1;
                            10511 ; 131  |        int SEN25       :1;
                            10512 ; 132  |        int SEN26       :1;
                            10513 ; 133  |        int SEN27       :1;
                            10514 ; 134  |        int SEN28       :1;
                            10515 ; 135  |        int SEN29       :1;
                            10516 ; 136  |        int SEN30       :1;
                            10517 ; 137  |        int SEN31       :1;
                            10518 ; 138  |        int SEN32       :1;
                            10519 ; 139  |        int SEN33       :1;
                            10520 ; 140  |    } B;
                            10521 ; 141  |    int I;
                            10522 ; 142  |} iclenable1_type;
                            10523 ; 143  |
                            10524 ; 144  |#define HW_ICLENABLE1R  (*(volatile iclenable1_type _X*) (HW_ICOLL_BASEADDR+1)) /* Interru
                                  pt Priority Register Core    */
                            10525 ; 145  |
                            10526 ; 146  |#define HW_ICLENABLE1R_SEN24_BITPOS 0
                            10527 ; 147  |#define HW_ICLENABLE1R_SEN25_BITPOS 1
                            10528 ; 148  |#define HW_ICLENABLE1R_SEN26_BITPOS 2
                            10529 ; 149  |#define HW_ICLENABLE1R_SEN27_BITPOS 3
                            10530 ; 150  |#define HW_ICLENABLE1R_SEN28_BITPOS 4
                            10531 ; 151  |#define HW_ICLENABLE1R_SEN29_BITPOS 5
                            10532 ; 152  |#define HW_ICLENABLE1R_SEN30_BITPOS 6
                            10533 ; 153  |#define HW_ICLENABLE1R_SEN31_BITPOS 7
                            10534 ; 154  |#define HW_ICLENABLE1R_SEN32_BITPOS 8
                            10535 ; 155  |#define HW_ICLENABLE1R_SEN33_BITPOS 9
                            10536 ; 156  |
                            10537 ; 157  |#define HW_ICLENABLE1R_SEN24_SETMASK 1<<HW_ICLENABLE1R_SEN24_BITPOS
                            10538 ; 158  |#define HW_ICLENABLE1R_SEN25_SETMASK 1<<HW_ICLENABLE1R_SEN25_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 175

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10539 ; 159  |#define HW_ICLENABLE1R_SEN26_SETMASK 1<<HW_ICLENABLE1R_SEN26_BITPOS
                            10540 ; 160  |#define HW_ICLENABLE1R_SEN27_SETMASK 1<<HW_ICLENABLE1R_SEN27_BITPOS
                            10541 ; 161  |#define HW_ICLENABLE1R_SEN28_SETMASK 1<<HW_ICLENABLE1R_SEN28_BITPOS
                            10542 ; 162  |#define HW_ICLENABLE1R_SEN29_SETMASK 1<<HW_ICLENABLE1R_SEN29_BITPOS
                            10543 ; 163  |#define HW_ICLENABLE1R_SEN30_SETMASK 1<<HW_ICLENABLE1R_SEN30_BITPOS
                            10544 ; 164  |#define HW_ICLENABLE1R_SEN31_SETMASK 1<<HW_ICLENABLE1R_SEN31_BITPOS
                            10545 ; 165  |#define HW_ICLENABLE1R_SEN32_SETMASK 1<<HW_ICLENABLE1R_SEN32_BITPOS
                            10546 ; 166  |#define HW_ICLENABLE1R_SEN33_SETMASK 1<<HW_ICLENABLE1R_SEN33_BITPOS
                            10547 ; 167  |
                            10548 ; 168  |#define HW_ICLENABLE1R_SEN24_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN24_SETMASK
                            10549 ; 169  |#define HW_ICLENABLE1R_SEN25_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN25_SETMASK
                            10550 ; 170  |#define HW_ICLENABLE1R_SEN26_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN26_SETMASK
                            10551 ; 171  |#define HW_ICLENABLE1R_SEN27_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN27_SETMASK
                            10552 ; 172  |#define HW_ICLENABLE1R_SEN28_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN28_SETMASK
                            10553 ; 173  |#define HW_ICLENABLE1R_SEN29_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN29_SETMASK
                            10554 ; 174  |#define HW_ICLENABLE1R_SEN30_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN30_SETMASK
                            10555 ; 175  |#define HW_ICLENABLE1R_SEN31_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN31_SETMASK
                            10556 ; 176  |#define HW_ICLENABLE1R_SEN32_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN32_SETMASK
                            10557 ; 177  |#define HW_ICLENABLE1R_SEN33_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN33_SETMASK
                            10558 ; 178  |
                            10559 ; 179  |
                            10560 ; 180  |/////////////////////////////////////////////////////////////////////////////////
                            10561 ; 181  |//  Interrupt Collector Status 0 Register (HW_ICLSTATUS0R) Bit Positions
                            10562 ; 182  |typedef union
                            10563 ; 183  |{
                            10564 ; 184  |    struct {
                            10565 ; 185  |        int SST0        :1;
                            10566 ; 186  |        int SST1        :1;
                            10567 ; 187  |        int SST2        :1;
                            10568 ; 188  |        int SST3        :1;
                            10569 ; 189  |        int SST4        :1;
                            10570 ; 190  |        int SST5        :1;
                            10571 ; 191  |        int SST6        :1;
                            10572 ; 192  |        int SST7        :1;
                            10573 ; 193  |        int SST8        :1;
                            10574 ; 194  |        int SST9        :1;
                            10575 ; 195  |        int SST10       :1;
                            10576 ; 196  |        int SST11       :1;
                            10577 ; 197  |        int SST12       :1;
                            10578 ; 198  |        int SST13       :1;
                            10579 ; 199  |        int SST14       :1;
                            10580 ; 200  |        int SST15       :1;
                            10581 ; 201  |        int SST16       :1;
                            10582 ; 202  |        int SST17       :1;
                            10583 ; 203  |        int SST18       :1;
                            10584 ; 204  |        int SST19       :1;
                            10585 ; 205  |        int SST20       :1;
                            10586 ; 206  |        int SST21       :1;
                            10587 ; 207  |        int SST22       :1;
                            10588 ; 208  |        int SST23       :1;
                            10589 ; 209  |    } B;
                            10590 ; 210  |    int I;
                            10591 ; 211  |} iclstatus0_type;
                            10592 ; 212  |#define HW_ICLSTATUS0R  (*(volatile iclstatus0_type _X*) (HW_ICOLL_BASEADDR+2)) /* Interru
                                  pt Priority Register Core */
                            10593 ; 213  |#define HW_ICLSTATUS0R_SST0_BITPOS 0
                            10594 ; 214  |#define HW_ICLSTATUS0R_SST1_BITPOS 1
                            10595 ; 215  |#define HW_ICLSTATUS0R_SST2_BITPOS 2
                            10596 ; 216  |#define HW_ICLSTATUS0R_SST3_BITPOS 3
                            10597 ; 217  |#define HW_ICLSTATUS0R_SST4_BITPOS 4
                            10598 ; 218  |#define HW_ICLSTATUS0R_SST5_BITPOS 5
                            10599 ; 219  |#define HW_ICLSTATUS0R_SST6_BITPOS 6
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 176

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10600 ; 220  |#define HW_ICLSTATUS0R_SST7_BITPOS 7
                            10601 ; 221  |#define HW_ICLSTATUS0R_SST8_BITPOS 8
                            10602 ; 222  |#define HW_ICLSTATUS0R_SST9_BITPOS 9
                            10603 ; 223  |#define HW_ICLSTATUS0R_SST10_BITPOS 10
                            10604 ; 224  |#define HW_ICLSTATUS0R_SST11_BITPOS 11
                            10605 ; 225  |#define HW_ICLSTATUS0R_SST12_BITPOS 12
                            10606 ; 226  |#define HW_ICLSTATUS0R_SST13_BITPOS 13
                            10607 ; 227  |#define HW_ICLSTATUS0R_SST14_BITPOS 14
                            10608 ; 228  |#define HW_ICLSTATUS0R_SST15_BITPOS 15
                            10609 ; 229  |#define HW_ICLSTATUS0R_SST16_BITPOS 16
                            10610 ; 230  |#define HW_ICLSTATUS0R_SST17_BITPOS 17
                            10611 ; 231  |#define HW_ICLSTATUS0R_SST18_BITPOS 18
                            10612 ; 232  |#define HW_ICLSTATUS0R_SST19_BITPOS 19
                            10613 ; 233  |#define HW_ICLSTATUS0R_SST20_BITPOS 20
                            10614 ; 234  |#define HW_ICLSTATUS0R_SST21_BITPOS 21
                            10615 ; 235  |#define HW_ICLSTATUS0R_SST22_BITPOS 22
                            10616 ; 236  |#define HW_ICLSTATUS0R_SST23_BITPOS 23
                            10617 ; 237  |
                            10618 ; 238  |#define HW_ICLSTATUS0R_SST0_SETMASK 1<<HW_ICLSTATUS0R_SST0_BITPOS
                            10619 ; 239  |#define HW_ICLSTATUS0R_SST1_SETMASK 1<<HW_ICLSTATUS0R_SST1_BITPOS
                            10620 ; 240  |#define HW_ICLSTATUS0R_SST2_SETMASK 1<<HW_ICLSTATUS0R_SST2_BITPOS
                            10621 ; 241  |#define HW_ICLSTATUS0R_SST3_SETMASK 1<<HW_ICLSTATUS0R_SST3_BITPOS
                            10622 ; 242  |#define HW_ICLSTATUS0R_SST4_SETMASK 1<<HW_ICLSTATUS0R_SST4_BITPOS
                            10623 ; 243  |#define HW_ICLSTATUS0R_SST5_SETMASK 1<<HW_ICLSTATUS0R_SST5_BITPOS
                            10624 ; 244  |#define HW_ICLSTATUS0R_SST6_SETMASK 1<<HW_ICLSTATUS0R_SST6_BITPOS
                            10625 ; 245  |#define HW_ICLSTATUS0R_SST7_SETMASK 1<<HW_ICLSTATUS0R_SST7_BITPOS
                            10626 ; 246  |#define HW_ICLSTATUS0R_SST8_SETMASK 1<<HW_ICLSTATUS0R_SST8_BITPOS
                            10627 ; 247  |#define HW_ICLSTATUS0R_SST9_SETMASK 1<<HW_ICLSTATUS0R_SST9_BITPOS
                            10628 ; 248  |#define HW_ICLSTATUS0R_SST10_SETMASK 1<<HW_ICLSTATUS0R_SST10_BITPOS
                            10629 ; 249  |#define HW_ICLSTATUS0R_SST11_SETMASK 1<<HW_ICLSTATUS0R_SST11_BITPOS
                            10630 ; 250  |#define HW_ICLSTATUS0R_SST12_SETMASK 1<<HW_ICLSTATUS0R_SST12_BITPOS
                            10631 ; 251  |#define HW_ICLSTATUS0R_SST13_SETMASK 1<<HW_ICLSTATUS0R_SST13_BITPOS
                            10632 ; 252  |#define HW_ICLSTATUS0R_SST14_SETMASK 1<<HW_ICLSTATUS0R_SST14_BITPOS
                            10633 ; 253  |#define HW_ICLSTATUS0R_SST15_SETMASK 1<<HW_ICLSTATUS0R_SST15_BITPOS
                            10634 ; 254  |#define HW_ICLSTATUS0R_SST16_SETMASK 1<<HW_ICLSTATUS0R_SST16_BITPOS
                            10635 ; 255  |#define HW_ICLSTATUS0R_SST17_SETMASK 1<<HW_ICLSTATUS0R_SST17_BITPOS
                            10636 ; 256  |#define HW_ICLSTATUS0R_SST18_SETMASK 1<<HW_ICLSTATUS0R_SST18_BITPOS
                            10637 ; 257  |#define HW_ICLSTATUS0R_SST19_SETMASK 1<<HW_ICLSTATUS0R_SST19_BITPOS
                            10638 ; 258  |#define HW_ICLSTATUS0R_SST20_SETMASK 1<<HW_ICLSTATUS0R_SST20_BITPOS
                            10639 ; 259  |#define HW_ICLSTATUS0R_SST21_SETMASK 1<<HW_ICLSTATUS0R_SST21_BITPOS
                            10640 ; 260  |#define HW_ICLSTATUS0R_SST22_SETMASK 1<<HW_ICLSTATUS0R_SST22_BITPOS
                            10641 ; 261  |#define HW_ICLSTATUS0R_SST23_SETMASK 1<<HW_ICLSTATUS0R_SST23_BITPOS
                            10642 ; 262  |
                            10643 ; 263  |#define HW_ICLSTATUS0R_SST0_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST0_SETMASK
                            10644 ; 264  |#define HW_ICLSTATUS0R_SST1_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST1_SETMASK
                            10645 ; 265  |#define HW_ICLSTATUS0R_SST2_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST2_SETMASK
                            10646 ; 266  |#define HW_ICLSTATUS0R_SST3_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST3_SETMASK
                            10647 ; 267  |#define HW_ICLSTATUS0R_SST4_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST4_SETMASK
                            10648 ; 268  |#define HW_ICLSTATUS0R_SST5_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST5_SETMASK
                            10649 ; 269  |#define HW_ICLSTATUS0R_SST6_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST6_SETMASK
                            10650 ; 270  |#define HW_ICLSTATUS0R_SST7_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST7_SETMASK
                            10651 ; 271  |#define HW_ICLSTATUS0R_SST8_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST8_SETMASK
                            10652 ; 272  |#define HW_ICLSTATUS0R_SST9_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST9_SETMASK
                            10653 ; 273  |#define HW_ICLSTATUS0R_SST10_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST10_SETMASK
                            10654 ; 274  |#define HW_ICLSTATUS0R_SST11_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST11_SETMASK
                            10655 ; 275  |#define HW_ICLSTATUS0R_SST12_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST12_SETMASK
                            10656 ; 276  |#define HW_ICLSTATUS0R_SST13_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST13_SETMASK
                            10657 ; 277  |#define HW_ICLSTATUS0R_SST14_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST14_SETMASK
                            10658 ; 278  |#define HW_ICLSTATUS0R_SST15_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST15_SETMASK
                            10659 ; 279  |#define HW_ICLSTATUS0R_SST16_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST16_SETMASK
                            10660 ; 280  |#define HW_ICLSTATUS0R_SST17_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST17_SETMASK
                            10661 ; 281  |#define HW_ICLSTATUS0R_SST18_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST18_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 177

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10662 ; 282  |#define HW_ICLSTATUS0R_SST19_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST19_SETMASK
                            10663 ; 283  |#define HW_ICLSTATUS0R_SST20_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST20_SETMASK
                            10664 ; 284  |#define HW_ICLSTATUS0R_SST21_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST21_SETMASK
                            10665 ; 285  |#define HW_ICLSTATUS0R_SST22_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST22_SETMASK
                            10666 ; 286  |#define HW_ICLSTATUS0R_SST23_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST23_SETMASK
                            10667 ; 287  |
                            10668 ; 288  |
                            10669 ; 289  |/////////////////////////////////////////////////////////////////////////////////
                            10670 ; 290  |//  Interrupt Collector Status 1 Register (HW_ICLSTATUS1R) Bit Positions
                            10671 ; 291  |typedef union
                            10672 ; 292  |{
                            10673 ; 293  |    struct {
                            10674 ; 294  |        int SST24       :1;
                            10675 ; 295  |        int SST25       :1;
                            10676 ; 296  |        int SST26       :1;
                            10677 ; 297  |        int SST27       :1;
                            10678 ; 298  |        int SST28       :1;
                            10679 ; 299  |        int SST29       :1;
                            10680 ; 300  |        int SST30       :1;
                            10681 ; 301  |        int SST31       :1;
                            10682 ; 302  |        int SST32       :1;
                            10683 ; 303  |        int SST33       :1;
                            10684 ; 304  |    } B;
                            10685 ; 305  |    int I;
                            10686 ; 306  |} iclstatus1_type;
                            10687 ; 307  |#define HW_ICLSTATUS1R  (*(volatile iclstatus1_type _X*) (HW_ICOLL_BASEADDR+3)) /* Interru
                                  pt Priority Register Core */
                            10688 ; 308  |#define HW_ICLSTATUS1R_SST24_BITPOS 0
                            10689 ; 309  |#define HW_ICLSTATUS1R_SST25_BITPOS 1
                            10690 ; 310  |#define HW_ICLSTATUS1R_SST26_BITPOS 2
                            10691 ; 311  |#define HW_ICLSTATUS1R_SST27_BITPOS 3
                            10692 ; 312  |#define HW_ICLSTATUS1R_SST28_BITPOS 4
                            10693 ; 313  |#define HW_ICLSTATUS1R_SST29_BITPOS 5
                            10694 ; 314  |#define HW_ICLSTATUS1R_SST30_BITPOS 6
                            10695 ; 315  |#define HW_ICLSTATUS1R_SST31_BITPOS 7
                            10696 ; 316  |#define HW_ICLSTATUS1R_SST32_BITPOS 8
                            10697 ; 317  |#define HW_ICLSTATUS1R_SST33_BITPOS 9
                            10698 ; 318  |
                            10699 ; 319  |#define HW_ICLSTATUS1R_SST24_SETMASK 1<<HW_ICLSTATUS1R_SST24_BITPOS
                            10700 ; 320  |#define HW_ICLSTATUS1R_SST25_SETMASK 1<<HW_ICLSTATUS1R_SST25_BITPOS
                            10701 ; 321  |#define HW_ICLSTATUS1R_SST26_SETMASK 1<<HW_ICLSTATUS1R_SST26_BITPOS
                            10702 ; 322  |#define HW_ICLSTATUS1R_SST27_SETMASK 1<<HW_ICLSTATUS1R_SST27_BITPOS
                            10703 ; 323  |#define HW_ICLSTATUS1R_SST28_SETMASK 1<<HW_ICLSTATUS1R_SST28_BITPOS
                            10704 ; 324  |#define HW_ICLSTATUS1R_SST29_SETMASK 1<<HW_ICLSTATUS1R_SST29_BITPOS
                            10705 ; 325  |#define HW_ICLSTATUS1R_SST30_SETMASK 1<<HW_ICLSTATUS1R_SST30_BITPOS
                            10706 ; 326  |#define HW_ICLSTATUS1R_SST31_SETMASK 1<<HW_ICLSTATUS1R_SST31_BITPOS
                            10707 ; 327  |#define HW_ICLSTATUS1R_SST32_SETMASK 1<<HW_ICLSTATUS1R_SST32_BITPOS
                            10708 ; 328  |#define HW_ICLSTATUS1R_SST33_SETMASK 1<<HW_ICLSTATUS1R_SST33_BITPOS
                            10709 ; 329  |
                            10710 ; 330  |#define HW_ICLSTATUS1R_SST24_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST24_SETMASK
                            10711 ; 331  |#define HW_ICLSTATUS1R_SST25_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST25_SETMASK
                            10712 ; 332  |#define HW_ICLSTATUS1R_SST26_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST26_SETMASK
                            10713 ; 333  |#define HW_ICLSTATUS1R_SST27_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST27_SETMASK
                            10714 ; 334  |#define HW_ICLSTATUS1R_SST28_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST28_SETMASK
                            10715 ; 335  |#define HW_ICLSTATUS1R_SST29_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST29_SETMASK
                            10716 ; 336  |#define HW_ICLSTATUS1R_SST30_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST30_SETMASK
                            10717 ; 337  |#define HW_ICLSTATUS1R_SST31_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST31_SETMASK
                            10718 ; 338  |#define HW_ICLSTATUS1R_SST32_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST32_SETMASK
                            10719 ; 339  |#define HW_ICLSTATUS1R_SST33_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST33_SETMASK
                            10720 ; 340  |
                            10721 ; 341  |
                            10722 ; 342  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 178

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10723 ; 343  |//  Interrupt Collector Priority Defs
                            10724 ; 344  |typedef union
                            10725 ; 345  |{
                            10726 ; 346  |    struct {
                            10727 ; 347  |        unsigned S0P    :3;
                            10728 ; 348  |        unsigned S1P    :3;
                            10729 ; 349  |        unsigned S2P    :3;
                            10730 ; 350  |        unsigned S3P    :3;
                            10731 ; 351  |        unsigned S4P    :3;
                            10732 ; 352  |        unsigned S5P    :3;
                            10733 ; 353  |        unsigned S6P    :3;
                            10734 ; 354  |        unsigned S7P    :3;
                            10735 ; 355  |    } B;
                            10736 ; 356  |    int I;
                            10737 ; 357  |
                            10738 ; 358  |} iclprior0_type;
                            10739 ; 359  |
                            10740 ; 360  |#define HW_ICLPRIOR0R   (*(volatile iclprior0_type _X*) (HW_ICOLL_BASEADDR+4)) /* Interrup
                                  t Collector Register 0 Priority   */
                            10741 ; 361  |
                            10742 ; 362  |#define HW_ICLPRIORR_SP_0 0
                            10743 ; 363  |#define HW_ICLPRIORR_SP_1 1
                            10744 ; 364  |#define HW_ICLPRIORR_SP_2 2
                            10745 ; 365  |#define HW_ICLPRIORR_SP_3 3
                            10746 ; 366  |#define HW_ICLPRIORR_SP_4 4
                            10747 ; 367  |#define HW_ICLPRIORR_SP_5 5
                            10748 ; 368  |#define HW_ICLPRIORR_SP_6 6
                            10749 ; 369  |#define HW_ICLPRIORR_SP_7 7
                            10750 ; 370  |
                            10751 ; 371  |
                            10752 ; 372  |/////////////////////////////////////////////////////////////////////////////////
                            10753 ; 373  |//  Interrupt Collector Priority 0 Register (HW_ICLPRIOR0R) Bit Positions
                            10754 ; 374  |#define HW_ICLPRIOR0R_S0P_BITPOS 0
                            10755 ; 375  |#define HW_ICLPRIOR0R_S1P_BITPOS 3
                            10756 ; 376  |#define HW_ICLPRIOR0R_S2P_BITPOS 6
                            10757 ; 377  |#define HW_ICLPRIOR0R_S3P_BITPOS 9
                            10758 ; 378  |#define HW_ICLPRIOR0R_S4P_BITPOS 12
                            10759 ; 379  |#define HW_ICLPRIOR0R_S5P_BITPOS 15
                            10760 ; 380  |#define HW_ICLPRIOR0R_S6P_BITPOS 18
                            10761 ; 381  |#define HW_ICLPRIOR0R_S7P_BITPOS 21
                            10762 ; 382  |
                            10763 ; 383  |#define HW_ICLPRIOR0R_S0P_SETMASK 7<<HW_ICLPRIOR0R_S0P_BITPOS
                            10764 ; 384  |#define HW_ICLPRIOR0R_S1P_SETMASK 7<<HW_ICLPRIOR0R_S1P_BITPOS
                            10765 ; 385  |#define HW_ICLPRIOR0R_S2P_SETMASK 7<<HW_ICLPRIOR0R_S2P_BITPOS
                            10766 ; 386  |#define HW_ICLPRIOR0R_S3P_SETMASK 7<<HW_ICLPRIOR0R_S3P_BITPOS
                            10767 ; 387  |#define HW_ICLPRIOR0R_S4P_SETMASK 7<<HW_ICLPRIOR0R_S4P_BITPOS
                            10768 ; 388  |#define HW_ICLPRIOR0R_S5P_SETMASK 7<<HW_ICLPRIOR0R_S5P_BITPOS
                            10769 ; 389  |#define HW_ICLPRIOR0R_S6P_SETMASK 7<<HW_ICLPRIOR0R_S6P_BITPOS
                            10770 ; 390  |#define HW_ICLPRIOR0R_S7P_SETMASK 7<<HW_ICLPRIOR0R_S7P_BITPOS
                            10771 ; 391  |
                            10772 ; 392  |#define HW_ICLPRIOR0R_S0P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S0P_SETMASK
                            10773 ; 393  |#define HW_ICLPRIOR0R_S1P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S1P_SETMASK
                            10774 ; 394  |#define HW_ICLPRIOR0R_S2P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S2P_SETMASK
                            10775 ; 395  |#define HW_ICLPRIOR0R_S3P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S3P_SETMASK
                            10776 ; 396  |#define HW_ICLPRIOR0R_S4P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S4P_SETMASK
                            10777 ; 397  |#define HW_ICLPRIOR0R_S5P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S5P_SETMASK
                            10778 ; 398  |#define HW_ICLPRIOR0R_S6P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S6P_SETMASK
                            10779 ; 399  |#define HW_ICLPRIOR0R_S7P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S7P_SETMASK
                            10780 ; 400  |
                            10781 ; 401  |
                            10782 ; 402  |/////////////////////////////////////////////////////////////////////////////////
                            10783 ; 403  |//  Interrupt Collector Priority 1 Register (HW_ICLPRIOR1R) Bit Positions
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 179

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10784 ; 404  |typedef union
                            10785 ; 405  |{
                            10786 ; 406  |    struct {
                            10787 ; 407  |        unsigned S8P    :3;
                            10788 ; 408  |        unsigned S9P    :3;
                            10789 ; 409  |        unsigned S10P   :3;
                            10790 ; 410  |        unsigned S11P   :3;
                            10791 ; 411  |        unsigned S12P   :3;
                            10792 ; 412  |        unsigned S13P   :3;
                            10793 ; 413  |        unsigned S14P   :3;
                            10794 ; 414  |        unsigned S15P   :3;
                            10795 ; 415  |    } B;
                            10796 ; 416  |    int I;
                            10797 ; 417  |} iclprior1_type;
                            10798 ; 418  |
                            10799 ; 419  |#define HW_ICLPRIOR1R   (*(volatile iclprior1_type _X*) (HW_ICOLL_BASEADDR+5)) /* Interrup
                                  t Collector Register 1 Priority   */
                            10800 ; 420  |
                            10801 ; 421  |#define HW_ICLPRIOR1R_S8P_BITPOS 0
                            10802 ; 422  |#define HW_ICLPRIOR1R_S9P_BITPOS 3
                            10803 ; 423  |#define HW_ICLPRIOR1R_S10P_BITPOS 6
                            10804 ; 424  |#define HW_ICLPRIOR1R_S11P_BITPOS 9
                            10805 ; 425  |#define HW_ICLPRIOR1R_S12P_BITPOS 12
                            10806 ; 426  |#define HW_ICLPRIOR1R_S13P_BITPOS 15
                            10807 ; 427  |#define HW_ICLPRIOR1R_S14P_BITPOS 18
                            10808 ; 428  |#define HW_ICLPRIOR1R_S15P_BITPOS 21
                            10809 ; 429  |
                            10810 ; 430  |#define HW_ICLPRIOR1R_S8P_SETMASK 7<<HW_ICLPRIOR1R_S8P_BITPOS
                            10811 ; 431  |#define HW_ICLPRIOR1R_S9P_SETMASK 7<<HW_ICLPRIOR1R_S9P_BITPOS
                            10812 ; 432  |#define HW_ICLPRIOR1R_S10P_SETMASK 7<<HW_ICLPRIOR1R_S10P_BITPOS
                            10813 ; 433  |#define HW_ICLPRIOR1R_S11P_SETMASK 7<<HW_ICLPRIOR1R_S11P_BITPOS
                            10814 ; 434  |#define HW_ICLPRIOR1R_S12P_SETMASK 7<<HW_ICLPRIOR1R_S12P_BITPOS
                            10815 ; 435  |#define HW_ICLPRIOR1R_S13P_SETMASK 7<<HW_ICLPRIOR1R_S13P_BITPOS
                            10816 ; 436  |#define HW_ICLPRIOR1R_S14P_SETMASK 7<<HW_ICLPRIOR1R_S14P_BITPOS
                            10817 ; 437  |#define HW_ICLPRIOR1R_S15P_SETMASK 7<<HW_ICLPRIOR1R_S15P_BITPOS
                            10818 ; 438  |
                            10819 ; 439  |#define HW_ICLPRIOR1R_S8P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S8P_SETMASK
                            10820 ; 440  |#define HW_ICLPRIOR1R_S9P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S9P_SETMASK
                            10821 ; 441  |#define HW_ICLPRIOR1R_S10P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S10P_SETMASK
                            10822 ; 442  |#define HW_ICLPRIOR1R_S11P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S11P_SETMASK
                            10823 ; 443  |#define HW_ICLPRIOR1R_S12P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S12P_SETMASK
                            10824 ; 444  |#define HW_ICLPRIOR1R_S13P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S13P_SETMASK
                            10825 ; 445  |#define HW_ICLPRIOR1R_S14P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S14P_SETMASK
                            10826 ; 446  |#define HW_ICLPRIOR1R_S15P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S15P_SETMASK
                            10827 ; 447  |
                            10828 ; 448  |
                            10829 ; 449  |/////////////////////////////////////////////////////////////////////////////////
                            10830 ; 450  |//  Interrupt Collector Priority 2 Register (HW_ICLPRI2R) Bit Positions
                            10831 ; 451  |typedef union               /* Interrupt Collector Priority 2 Register      */
                            10832 ; 452  |{
                            10833 ; 453  |    struct {
                            10834 ; 454  |        unsigned S16P   :3;
                            10835 ; 455  |        unsigned S17P   :3;
                            10836 ; 456  |        unsigned S18P   :3;
                            10837 ; 457  |        unsigned S19P   :3;
                            10838 ; 458  |        unsigned S20P   :3;
                            10839 ; 459  |        unsigned S21P   :3;
                            10840 ; 460  |        unsigned S22P   :3;
                            10841 ; 461  |        unsigned S23P   :3;
                            10842 ; 462  |    } B;
                            10843 ; 463  |    int I;
                            10844 ; 464  |} iclprior2_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 180

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10845 ; 465  |#define HW_ICLPRIOR2R   (*(volatile iclprior2_type _X*) (HW_ICOLL_BASEADDR+6)) /* Interrup
                                  t Collector Register 2 Priority   */
                            10846 ; 466  |#define HW_ICLPRIOR2R_S16P_BITPOS 0
                            10847 ; 467  |#define HW_ICLPRIOR2R_S17P_BITPOS 3
                            10848 ; 468  |#define HW_ICLPRIOR2R_S18P_BITPOS 6
                            10849 ; 469  |#define HW_ICLPRIOR2R_S19P_BITPOS 9
                            10850 ; 470  |#define HW_ICLPRIOR2R_S20P_BITPOS 12
                            10851 ; 471  |#define HW_ICLPRIOR2R_S21P_BITPOS 15
                            10852 ; 472  |#define HW_ICLPRIOR2R_S22P_BITPOS 18
                            10853 ; 473  |#define HW_ICLPRIOR2R_S23P_BITPOS 21
                            10854 ; 474  |
                            10855 ; 475  |#define HW_ICLPRIOR2R_S16P_SETMASK 7<<HW_ICLPRIOR2R_S16P_BITPOS
                            10856 ; 476  |#define HW_ICLPRIOR2R_S17P_SETMASK 7<<HW_ICLPRIOR2R_S17P_BITPOS
                            10857 ; 477  |#define HW_ICLPRIOR2R_S18P_SETMASK 7<<HW_ICLPRIOR2R_S18P_BITPOS
                            10858 ; 478  |#define HW_ICLPRIOR2R_S19P_SETMASK 7<<HW_ICLPRIOR2R_S19P_BITPOS
                            10859 ; 479  |#define HW_ICLPRIOR2R_S20P_SETMASK 7<<HW_ICLPRIOR2R_S20P_BITPOS
                            10860 ; 480  |#define HW_ICLPRIOR2R_S21P_SETMASK 7<<HW_ICLPRIOR2R_S21P_BITPOS
                            10861 ; 481  |#define HW_ICLPRIOR2R_S22P_SETMASK 7<<HW_ICLPRIOR2R_S22P_BITPOS
                            10862 ; 482  |#define HW_ICLPRIOR2R_S23P_SETMASK 7<<HW_ICLPRIOR2R_S23P_BITPOS
                            10863 ; 483  |
                            10864 ; 484  |#define HW_ICLPRIOR2R_S16P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S16P_SETMASK
                            10865 ; 485  |#define HW_ICLPRIOR2R_S17P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S17P_SETMASK
                            10866 ; 486  |#define HW_ICLPRIOR2R_S18P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S18P_SETMASK
                            10867 ; 487  |#define HW_ICLPRIOR2R_S19P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S19P_SETMASK
                            10868 ; 488  |#define HW_ICLPRIOR2R_S20P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S20P_SETMASK
                            10869 ; 489  |#define HW_ICLPRIOR2R_S21P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S21P_SETMASK
                            10870 ; 490  |#define HW_ICLPRIOR2R_S22P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S22P_SETMASK
                            10871 ; 491  |#define HW_ICLPRIOR2R_S23P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S23P_SETMASK
                            10872 ; 492  |
                            10873 ; 493  |
                            10874 ; 494  |/////////////////////////////////////////////////////////////////////////////////
                            10875 ; 495  |//  Interrupt Collector Priority 3 Register (HW_ICLPRI3R) Bit Positions
                            10876 ; 496  |typedef union               /* Interrupt Collector Priority 3 Register      */
                            10877 ; 497  |{
                            10878 ; 498  |    struct {
                            10879 ; 499  |        unsigned S24P   :3;
                            10880 ; 500  |        unsigned S25P   :3;
                            10881 ; 501  |        unsigned S26P   :3;
                            10882 ; 502  |        unsigned S27P   :3;
                            10883 ; 503  |        unsigned S28P   :3;
                            10884 ; 504  |        unsigned S29P   :3;
                            10885 ; 505  |        unsigned S30P   :3;
                            10886 ; 506  |        unsigned S31P   :3;
                            10887 ; 507  |    } B;
                            10888 ; 508  |    int I;
                            10889 ; 509  |} iclprior3_type;
                            10890 ; 510  |#define HW_ICLPRIOR3R   (*(volatile iclprior3_type _X*) (HW_ICOLL_BASEADDR+7)) /* Interrup
                                  t Collector Register 3 Priority   */
                            10891 ; 511  |
                            10892 ; 512  |#define HW_ICLPRIOR3R_S24P_BITPOS 0
                            10893 ; 513  |#define HW_ICLPRIOR3R_S25P_BITPOS 3
                            10894 ; 514  |#define HW_ICLPRIOR3R_S26P_BITPOS 6
                            10895 ; 515  |#define HW_ICLPRIOR3R_S27P_BITPOS 9
                            10896 ; 516  |#define HW_ICLPRIOR3R_S28P_BITPOS 12
                            10897 ; 517  |#define HW_ICLPRIOR3R_S29P_BITPOS 15
                            10898 ; 518  |#define HW_ICLPRIOR3R_S30P_BITPOS 18
                            10899 ; 519  |#define HW_ICLPRIOR3R_S31P_BITPOS 21
                            10900 ; 520  |
                            10901 ; 521  |#define HW_ICLPRIOR3R_S24P_SETMASK 7<<HW_ICLPRIOR3R_S24P_BITPOS
                            10902 ; 522  |#define HW_ICLPRIOR3R_S25P_SETMASK 7<<HW_ICLPRIOR3R_S25P_BITPOS
                            10903 ; 523  |#define HW_ICLPRIOR3R_S26P_SETMASK 7<<HW_ICLPRIOR3R_S26P_BITPOS
                            10904 ; 524  |#define HW_ICLPRIOR3R_S27P_SETMASK 7<<HW_ICLPRIOR3R_S27P_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 181

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10905 ; 525  |#define HW_ICLPRIOR3R_S28P_SETMASK 7<<HW_ICLPRIOR3R_S28P_BITPOS
                            10906 ; 526  |#define HW_ICLPRIOR3R_S29P_SETMASK 7<<HW_ICLPRIOR3R_S29P_BITPOS
                            10907 ; 527  |#define HW_ICLPRIOR3R_S30P_SETMASK 7<<HW_ICLPRIOR3R_S30P_BITPOS
                            10908 ; 528  |#define HW_ICLPRIOR3R_S31P_SETMASK 7<<HW_ICLPRIOR3R_S31P_BITPOS
                            10909 ; 529  |
                            10910 ; 530  |#define HW_ICLPRIOR3R_S24P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S24P_SETMASK
                            10911 ; 531  |#define HW_ICLPRIOR3R_S25P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S25P_SETMASK
                            10912 ; 532  |#define HW_ICLPRIOR3R_S26P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S26P_SETMASK
                            10913 ; 533  |#define HW_ICLPRIOR3R_S27P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S27P_SETMASK
                            10914 ; 534  |#define HW_ICLPRIOR3R_S28P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S28P_SETMASK
                            10915 ; 535  |#define HW_ICLPRIOR3R_S29P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S29P_SETMASK
                            10916 ; 536  |#define HW_ICLPRIOR3R_S30P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S30P_SETMASK
                            10917 ; 537  |#define HW_ICLPRIOR3R_S31P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S31P_SETMASK
                            10918 ; 538  |
                            10919 ; 539  |
                            10920 ; 540  |/////////////////////////////////////////////////////////////////////////////////
                            10921 ; 541  |//  Interrupt Collector Priority 4 Register (HW_ICLPRI4R) Bit Positions
                            10922 ; 542  |typedef union               /* Interrupt Collector Priority 3 Register      */
                            10923 ; 543  |{
                            10924 ; 544  |    struct {
                            10925 ; 545  |        unsigned S32P   :3;
                            10926 ; 546  |        unsigned S33P   :3;
                            10927 ; 547  |    } B;
                            10928 ; 548  |    int I;
                            10929 ; 549  |} iclprior4_type;
                            10930 ; 550  |#define HW_ICLPRIOR4R (*(volatile iclprior4_type _X*) (HW_ICOLL_BASEADDR+17)) /* Interrupt
                                   Collector Register 4 Priority   */
                            10931 ; 551  |
                            10932 ; 552  |#define HW_ICLPRIOR4R_S32P_BITPOS 0
                            10933 ; 553  |#define HW_ICLPRIOR4R_S33P_BITPOS 3
                            10934 ; 554  |
                            10935 ; 555  |#define HW_ICLPRIOR4R_S32P_SETMASK 7<<HW_ICLPRIOR4R_S32P_BITPOS
                            10936 ; 556  |#define HW_ICLPRIOR4R_S33P_SETMASK 7<<HW_ICLPRIOR4R_S33P_BITPOS
                            10937 ; 557  |
                            10938 ; 558  |#define HW_ICLPRIOR4R_S32P_CLRMASK ~(WORD)HW_ICLPRIOR4R_S32P_SETMASK
                            10939 ; 559  |#define HW_ICLPRIOR4R_S33P_CLRMASK ~(WORD)HW_ICLPRIOR4R_S33P_SETMASK
                            10940 ; 560  |
                            10941 ; 561  |
                            10942 ; 562  |/////////////////////////////////////////////////////////////////////////////////
                            10943 ; 563  |//  Interrupt Collector Steering 0 Register (HW_ICLSTEER0R) Bit Positions
                            10944 ; 564  |typedef union               /* Interrupt Collector Steering 0 Register      */
                            10945 ; 565  |{
                            10946 ; 566  |    struct {
                            10947 ; 567  |        unsigned S0S    :2;
                            10948 ; 568  |        unsigned S1S    :2;
                            10949 ; 569  |        unsigned S2S    :2;
                            10950 ; 570  |        unsigned S3S    :2;
                            10951 ; 571  |        unsigned S4S    :2;
                            10952 ; 572  |        unsigned S5S    :2;
                            10953 ; 573  |        unsigned S6S    :2;
                            10954 ; 574  |        unsigned S7S    :2;
                            10955 ; 575  |        unsigned S8S    :2;
                            10956 ; 576  |        unsigned S9S    :2;
                            10957 ; 577  |        unsigned S10S   :2;
                            10958 ; 578  |        unsigned S11S   :2;
                            10959 ; 579  |    } B;
                            10960 ; 580  |    int I;
                            10961 ; 581  |} iclsteer0_type;
                            10962 ; 582  |#define HW_ICLSTEER0R   (*(volatile iclsteer0_type _X*) (HW_ICOLL_BASEADDR+8)) /* Interrup
                                  t Collector Steering Register 0   */
                            10963 ; 583  |
                            10964 ; 584  |#define HW_ICLSTEER0R_S0P_BITPOS 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 182

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10965 ; 585  |#define HW_ICLSTEER0R_S1P_BITPOS 2
                            10966 ; 586  |#define HW_ICLSTEER0R_S2P_BITPOS 4
                            10967 ; 587  |#define HW_ICLSTEER0R_S3P_BITPOS 6
                            10968 ; 588  |#define HW_ICLSTEER0R_S4P_BITPOS 8
                            10969 ; 589  |#define HW_ICLSTEER0R_S5P_BITPOS 10
                            10970 ; 590  |#define HW_ICLSTEER0R_S6P_BITPOS 12
                            10971 ; 591  |#define HW_ICLSTEER0R_S7P_BITPOS 14
                            10972 ; 592  |#define HW_ICLSTEER0R_S8P_BITPOS 16
                            10973 ; 593  |#define HW_ICLSTEER0R_S9P_BITPOS 18
                            10974 ; 594  |#define HW_ICLSTEER0R_S10P_BITPOS 20
                            10975 ; 595  |#define HW_ICLSTEER0R_S11P_BITPOS 22
                            10976 ; 596  |
                            10977 ; 597  |#define HW_ICLSTEER0R_S0P_SETMASK 3<<HW_ICLSTEER0R_S0P_BITPOS
                            10978 ; 598  |#define HW_ICLSTEER0R_S1P_SETMASK 3<<HW_ICLSTEER0R_S1P_BITPOS
                            10979 ; 599  |#define HW_ICLSTEER0R_S2P_SETMASK 3<<HW_ICLSTEER0R_S2P_BITPOS
                            10980 ; 600  |#define HW_ICLSTEER0R_S3P_SETMASK 3<<HW_ICLSTEER0R_S3P_BITPOS
                            10981 ; 601  |#define HW_ICLSTEER0R_S4P_SETMASK 3<<HW_ICLSTEER0R_S4P_BITPOS
                            10982 ; 602  |#define HW_ICLSTEER0R_S5P_SETMASK 3<<HW_ICLSTEER0R_S5P_BITPOS
                            10983 ; 603  |#define HW_ICLSTEER0R_S6P_SETMASK 3<<HW_ICLSTEER0R_S6P_BITPOS
                            10984 ; 604  |#define HW_ICLSTEER0R_S7P_SETMASK 3<<HW_ICLSTEER0R_S7P_BITPOS
                            10985 ; 605  |#define HW_ICLSTEER0R_S8P_SETMASK 3<<HW_ICLSTEER0R_S8P_BITPOS
                            10986 ; 606  |#define HW_ICLSTEER0R_S9P_SETMASK 3<<HW_ICLSTEER0R_S9P_BITPOS
                            10987 ; 607  |#define HW_ICLSTEER0R_S10P_SETMASK 3<<HW_ICLSTEER0R_S10P_BITPOS
                            10988 ; 608  |#define HW_ICLSTEER0R_S11P_SETMASK 3<<HW_ICLSTEER0R_S11P_BITPOS
                            10989 ; 609  |
                            10990 ; 610  |#define HW_ICLSTEER0R_S0P_CLRMASK ~(WORD)HW_ICLSTEER0R_S0P_SETMASK
                            10991 ; 611  |#define HW_ICLSTEER0R_S1P_CLRMASK ~(WORD)HW_ICLSTEER0R_S1P_SETMASK
                            10992 ; 612  |#define HW_ICLSTEER0R_S2P_CLRMASK ~(WORD)HW_ICLSTEER0R_S2P_SETMASK
                            10993 ; 613  |#define HW_ICLSTEER0R_S3P_CLRMASK ~(WORD)HW_ICLSTEER0R_S3P_SETMASK
                            10994 ; 614  |#define HW_ICLSTEER0R_S4P_CLRMASK ~(WORD)HW_ICLSTEER0R_S4P_SETMASK
                            10995 ; 615  |#define HW_ICLSTEER0R_S5P_CLRMASK ~(WORD)HW_ICLSTEER0R_S5P_SETMASK
                            10996 ; 616  |#define HW_ICLSTEER0R_S6P_CLRMASK ~(WORD)HW_ICLSTEER0R_S6P_SETMASK
                            10997 ; 617  |#define HW_ICLSTEER0R_S7P_CLRMASK ~(WORD)HW_ICLSTEER0R_S7P_SETMASK
                            10998 ; 618  |#define HW_ICLSTEER0R_S8P_CLRMASK ~(WORD)HW_ICLSTEER0R_S8P_SETMASK
                            10999 ; 619  |#define HW_ICLSTEER0R_S9P_CLRMASK ~(WORD)HW_ICLSTEER0R_S9P_SETMASK
                            11000 ; 620  |#define HW_ICLSTEER0R_S10P_CLRMASK ~(WORD)HW_ICLSTEER0R_S10P_SETMASK
                            11001 ; 621  |#define HW_ICLSTEER0R_S11P_CLRMASK ~(WORD)HW_ICLSTEER0R_S11P_SETMASK
                            11002 ; 622  |
                            11003 ; 623  |
                            11004 ; 624  |/////////////////////////////////////////////////////////////////////////////////
                            11005 ; 625  |//  Interrupt Collector Steering 1 Register (HW_ICLSTEER1R) Bit Positions
                            11006 ; 626  |typedef union               /* Interrupt Collector Steering 1 Register      */
                            11007 ; 627  |{
                            11008 ; 628  |    struct {
                            11009 ; 629  |        unsigned S12S   :2;
                            11010 ; 630  |        unsigned S13S   :2;
                            11011 ; 631  |        unsigned S14S   :2;
                            11012 ; 632  |        unsigned S15S   :2;
                            11013 ; 633  |        unsigned S16S   :2;
                            11014 ; 634  |        unsigned S17S   :2;
                            11015 ; 635  |        unsigned S18S   :2;
                            11016 ; 636  |        unsigned S19S   :2;
                            11017 ; 637  |        unsigned S20S   :2;
                            11018 ; 638  |        unsigned S21S   :2;
                            11019 ; 639  |        unsigned S22S   :2;
                            11020 ; 640  |        unsigned S23S   :2;
                            11021 ; 641  |    } B;
                            11022 ; 642  |    int I;
                            11023 ; 643  |} iclsteer1_type;
                            11024 ; 644  |#define HW_ICLSTEER1R   (*(volatile iclsteer1_type _X*) (HW_ICOLL_BASEADDR+9)) /* Interrup
                                  t Collector Steering Register 1   */
                            11025 ; 645  |#define HW_ICLSTEER1R_S12P_BITPOS 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 183

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11026 ; 646  |#define HW_ICLSTEER1R_S13P_BITPOS 2
                            11027 ; 647  |#define HW_ICLSTEER1R_S14P_BITPOS 4
                            11028 ; 648  |#define HW_ICLSTEER1R_S15P_BITPOS 6
                            11029 ; 649  |#define HW_ICLSTEER1R_S16P_BITPOS 8
                            11030 ; 650  |#define HW_ICLSTEER1R_S17P_BITPOS 10
                            11031 ; 651  |#define HW_ICLSTEER1R_S18P_BITPOS 12
                            11032 ; 652  |#define HW_ICLSTEER1R_S19P_BITPOS 14
                            11033 ; 653  |#define HW_ICLSTEER1R_S20P_BITPOS 16
                            11034 ; 654  |#define HW_ICLSTEER1R_S21P_BITPOS 18
                            11035 ; 655  |#define HW_ICLSTEER1R_S22P_BITPOS 20
                            11036 ; 656  |#define HW_ICLSTEER1R_S23P_BITPOS 22
                            11037 ; 657  |
                            11038 ; 658  |#define HW_ICLSTEER1R_S12P_SETMASK 3<<HW_ICLSTEER1R_S12P_BITPOS
                            11039 ; 659  |#define HW_ICLSTEER1R_S13P_SETMASK 3<<HW_ICLSTEER1R_S13P_BITPOS
                            11040 ; 660  |#define HW_ICLSTEER1R_S14P_SETMASK 3<<HW_ICLSTEER1R_S14P_BITPOS
                            11041 ; 661  |#define HW_ICLSTEER1R_S15P_SETMASK 3<<HW_ICLSTEER1R_S15P_BITPOS
                            11042 ; 662  |#define HW_ICLSTEER1R_S16P_SETMASK 3<<HW_ICLSTEER1R_S16P_BITPOS
                            11043 ; 663  |#define HW_ICLSTEER1R_S17P_SETMASK 3<<HW_ICLSTEER1R_S17P_BITPOS
                            11044 ; 664  |#define HW_ICLSTEER1R_S18P_SETMASK 3<<HW_ICLSTEER1R_S18P_BITPOS
                            11045 ; 665  |#define HW_ICLSTEER1R_S19P_SETMASK 3<<HW_ICLSTEER1R_S19P_BITPOS
                            11046 ; 666  |#define HW_ICLSTEER1R_S20P_SETMASK 3<<HW_ICLSTEER1R_S20P_BITPOS
                            11047 ; 667  |#define HW_ICLSTEER1R_S21P_SETMASK 3<<HW_ICLSTEER1R_S21P_BITPOS
                            11048 ; 668  |#define HW_ICLSTEER1R_S22P_SETMASK 3<<HW_ICLSTEER1R_S22P_BITPOS
                            11049 ; 669  |#define HW_ICLSTEER1R_S23P_SETMASK 3<<HW_ICLSTEER1R_S23P_BITPOS
                            11050 ; 670  |
                            11051 ; 671  |#define HW_ICLSTEER1R_S12P_CLRMASK ~(WORD)HW_ICLSTEER1R_S12P_SETMASK
                            11052 ; 672  |#define HW_ICLSTEER1R_S13P_CLRMASK ~(WORD)HW_ICLSTEER1R_S13P_SETMASK
                            11053 ; 673  |#define HW_ICLSTEER1R_S14P_CLRMASK ~(WORD)HW_ICLSTEER1R_S14P_SETMASK
                            11054 ; 674  |#define HW_ICLSTEER1R_S15P_CLRMASK ~(WORD)HW_ICLSTEER1R_S15P_SETMASK
                            11055 ; 675  |#define HW_ICLSTEER1R_S16P_CLRMASK ~(WORD)HW_ICLSTEER1R_S16P_SETMASK
                            11056 ; 676  |#define HW_ICLSTEER1R_S17P_CLRMASK ~(WORD)HW_ICLSTEER1R_S17P_SETMASK
                            11057 ; 677  |#define HW_ICLSTEER1R_S18P_CLRMASK ~(WORD)HW_ICLSTEER1R_S18P_SETMASK
                            11058 ; 678  |#define HW_ICLSTEER1R_S19P_CLRMASK ~(WORD)HW_ICLSTEER1R_S19P_SETMASK
                            11059 ; 679  |#define HW_ICLSTEER1R_S20P_CLRMASK ~(WORD)HW_ICLSTEER1R_S20P_SETMASK
                            11060 ; 680  |#define HW_ICLSTEER1R_S21P_CLRMASK ~(WORD)HW_ICLSTEER1R_S21P_SETMASK
                            11061 ; 681  |#define HW_ICLSTEER1R_S22P_CLRMASK ~(WORD)HW_ICLSTEER1R_S22P_SETMASK
                            11062 ; 682  |#define HW_ICLSTEER1R_S23P_CLRMASK ~(WORD)HW_ICLSTEER1R_S23P_SETMASK
                            11063 ; 683  |
                            11064 ; 684  |
                            11065 ; 685  |/////////////////////////////////////////////////////////////////////////////////
                            11066 ; 686  |//  Interrupt Collector Steering 2 Register (HW_ICLSTEER2R) Bit Positions
                            11067 ; 687  |typedef union               /* Interrupt Collector Steering 2 Register      */
                            11068 ; 688  |{
                            11069 ; 689  |    struct {
                            11070 ; 690  |        unsigned S24S   :2;
                            11071 ; 691  |        unsigned S25S   :2;
                            11072 ; 692  |        unsigned S26S   :2;
                            11073 ; 693  |        unsigned S27S   :2;
                            11074 ; 694  |        unsigned S28S   :2;
                            11075 ; 695  |        unsigned S29S   :2;
                            11076 ; 696  |        unsigned S30S   :2;
                            11077 ; 697  |        unsigned S31S   :2;
                            11078 ; 698  |        unsigned S32S   :2;
                            11079 ; 699  |        unsigned S33S   :2;
                            11080 ; 700  |    } B;
                            11081 ; 701  |    int I;
                            11082 ; 702  |} iclsteer2_type;
                            11083 ; 703  |#define HW_ICLSTEER2R   (*(volatile iclsteer2_type _X*) (HW_ICOLL_BASEADDR+10)) /* Interru
                                  pt Collector Steering Register 2  */
                            11084 ; 704  |
                            11085 ; 705  |#define HW_ICLSTEER2R_S24P_BITPOS 0
                            11086 ; 706  |#define HW_ICLSTEER2R_S25P_BITPOS 2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 184

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11087 ; 707  |#define HW_ICLSTEER2R_S26P_BITPOS 4
                            11088 ; 708  |#define HW_ICLSTEER2R_S27P_BITPOS 6
                            11089 ; 709  |#define HW_ICLSTEER2R_S28P_BITPOS 8
                            11090 ; 710  |#define HW_ICLSTEER2R_S29P_BITPOS 10
                            11091 ; 711  |#define HW_ICLSTEER2R_S30P_BITPOS 12
                            11092 ; 712  |#define HW_ICLSTEER2R_S31P_BITPOS 14
                            11093 ; 713  |#define HW_ICLSTEER2R_S32P_BITPOS 16
                            11094 ; 714  |#define HW_ICLSTEER2R_S33P_BITPOS 18
                            11095 ; 715  |
                            11096 ; 716  |#define HW_ICLSTEER2R_S24P_SETMASK 3<<HW_ICLSTEER2R_S24P_BITPOS
                            11097 ; 717  |#define HW_ICLSTEER2R_S25P_SETMASK 3<<HW_ICLSTEER2R_S25P_BITPOS
                            11098 ; 718  |#define HW_ICLSTEER2R_S26P_SETMASK 3<<HW_ICLSTEER2R_S26P_BITPOS
                            11099 ; 719  |#define HW_ICLSTEER2R_S27P_SETMASK 3<<HW_ICLSTEER2R_S27P_BITPOS
                            11100 ; 720  |#define HW_ICLSTEER2R_S28P_SETMASK 3<<HW_ICLSTEER2R_S28P_BITPOS
                            11101 ; 721  |#define HW_ICLSTEER2R_S29P_SETMASK 3<<HW_ICLSTEER2R_S29P_BITPOS
                            11102 ; 722  |#define HW_ICLSTEER2R_S30P_SETMASK 3<<HW_ICLSTEER2R_S30P_BITPOS
                            11103 ; 723  |#define HW_ICLSTEER2R_S31P_SETMASK 3<<HW_ICLSTEER2R_S31P_BITPOS
                            11104 ; 724  |#define HW_ICLSTEER2R_S32P_SETMASK 3<<HW_ICLSTEER2R_S32P_BITPOS
                            11105 ; 725  |#define HW_ICLSTEER2R_S33P_SETMASK 3<<HW_ICLSTEER2R_S33P_BITPOS
                            11106 ; 726  |
                            11107 ; 727  |#define HW_ICLSTEER2R_S24P_CLRMASK ~(WORD)HW_ICLSTEER2R_S24P_SETMASK
                            11108 ; 728  |#define HW_ICLSTEER2R_S25P_CLRMASK ~(WORD)HW_ICLSTEER2R_S25P_SETMASK
                            11109 ; 729  |#define HW_ICLSTEER2R_S26P_CLRMASK ~(WORD)HW_ICLSTEER2R_S26P_SETMASK
                            11110 ; 730  |#define HW_ICLSTEER2R_S27P_CLRMASK ~(WORD)HW_ICLSTEER2R_S27P_SETMASK
                            11111 ; 731  |#define HW_ICLSTEER2R_S28P_CLRMASK ~(WORD)HW_ICLSTEER2R_S28P_SETMASK
                            11112 ; 732  |#define HW_ICLSTEER2R_S29P_CLRMASK ~(WORD)HW_ICLSTEER2R_S29P_SETMASK
                            11113 ; 733  |#define HW_ICLSTEER2R_S30P_CLRMASK ~(WORD)HW_ICLSTEER2R_S30P_SETMASK
                            11114 ; 734  |#define HW_ICLSTEER2R_S31P_CLRMASK ~(WORD)HW_ICLSTEER2R_S31P_SETMASK
                            11115 ; 735  |#define HW_ICLSTEER2R_S32P_CLRMASK ~(WORD)HW_ICLSTEER2R_S32P_SETMASK
                            11116 ; 736  |#define HW_ICLSTEER2R_S33P_CLRMASK ~(WORD)HW_ICLSTEER2R_S33P_SETMASK
                            11117 ; 737  |
                            11118 ; 738  |
                            11119 ; 739  |/////////////////////////////////////////////////////////////////////////////////
                            11120 ; 740  |//  Interrupt Collector Debug Force 0 Register (HW_ICLFORCE0R) Bit Positions
                            11121 ; 741  |typedef union               /* Interrupt Collector Debug Force 0 Register       */
                            11122 ; 742  |{
                            11123 ; 743  |    struct {
                            11124 ; 744  |        int S0FV        :1;
                            11125 ; 745  |        int S1FV        :1;
                            11126 ; 746  |        int S2FV        :1;
                            11127 ; 747  |        int S3FV        :1;
                            11128 ; 748  |        int S4FV        :1;
                            11129 ; 749  |        int S5FV        :1;
                            11130 ; 750  |        int S6FV        :1;
                            11131 ; 751  |        int S7FV        :1;
                            11132 ; 752  |        int S8FV        :1;
                            11133 ; 753  |        int S9FV        :1;
                            11134 ; 754  |        int S10FV       :1;
                            11135 ; 755  |        int S11FV       :1;
                            11136 ; 756  |        int S12FV       :1;
                            11137 ; 757  |        int S13FV       :1;
                            11138 ; 758  |        int S14FV       :1;
                            11139 ; 759  |        int S15FV       :1;
                            11140 ; 760  |        int S16FV       :1;
                            11141 ; 761  |        int S17FV       :1;
                            11142 ; 762  |        int S18FV       :1;
                            11143 ; 763  |        int S19FV       :1;
                            11144 ; 764  |        int S20FV       :1;
                            11145 ; 765  |        int S21FV       :1;
                            11146 ; 766  |        int S22FV       :1;
                            11147 ; 767  |        int S23FV       :1;
                            11148 ; 768  |    } B;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 185

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11149 ; 769  |    int I;
                            11150 ; 770  |} iclforce0_type;
                            11151 ; 771  |#define HW_ICLFORCE0R   (*(volatile iclforce0_type _X*) (HW_ICOLL_BASEADDR+11)) /* Interru
                                  pt Collector Debug Force Register 0   */
                            11152 ; 772  |#define HW_ICLFORCE0R_S0FV_BITPOS 0
                            11153 ; 773  |#define HW_ICLFORCE0R_S1FV_BITPOS 1
                            11154 ; 774  |#define HW_ICLFORCE0R_S2FV_BITPOS 2
                            11155 ; 775  |#define HW_ICLFORCE0R_S3FV_BITPOS 3
                            11156 ; 776  |#define HW_ICLFORCE0R_S4FV_BITPOS 4
                            11157 ; 777  |#define HW_ICLFORCE0R_S5FV_BITPOS 5
                            11158 ; 778  |#define HW_ICLFORCE0R_S6FV_BITPOS 6
                            11159 ; 779  |#define HW_ICLFORCE0R_S7FV_BITPOS 7
                            11160 ; 780  |#define HW_ICLFORCE0R_S8FV_BITPOS 8
                            11161 ; 781  |#define HW_ICLFORCE0R_S9FV_BITPOS 9
                            11162 ; 782  |#define HW_ICLFORCE0R_S10FV_BITPOS 10
                            11163 ; 783  |#define HW_ICLFORCE0R_S11FV_BITPOS 11
                            11164 ; 784  |#define HW_ICLFORCE0R_S12FV_BITPOS 12
                            11165 ; 785  |#define HW_ICLFORCE0R_S13FV_BITPOS 13
                            11166 ; 786  |#define HW_ICLFORCE0R_S14FV_BITPOS 14
                            11167 ; 787  |#define HW_ICLFORCE0R_S15FV_BITPOS 15
                            11168 ; 788  |#define HW_ICLFORCE0R_S16FV_BITPOS 16
                            11169 ; 789  |#define HW_ICLFORCE0R_S17FV_BITPOS 17
                            11170 ; 790  |#define HW_ICLFORCE0R_S18FV_BITPOS 18
                            11171 ; 791  |#define HW_ICLFORCE0R_S19FV_BITPOS 19
                            11172 ; 792  |#define HW_ICLFORCE0R_S20FV_BITPOS 20
                            11173 ; 793  |#define HW_ICLFORCE0R_S21FV_BITPOS 21
                            11174 ; 794  |#define HW_ICLFORCE0R_S22FV_BITPOS 22
                            11175 ; 795  |#define HW_ICLFORCE0R_S23FV_BITPOS 23
                            11176 ; 796  |
                            11177 ; 797  |#define HW_ICLFORCE0R_S0FV_SETMASK 1<<HW_ICLFORCE0R_S0FV_BITPOS
                            11178 ; 798  |#define HW_ICLFORCE0R_S1FV_SETMASK 1<<HW_ICLFORCE0R_S1FV_BITPOS
                            11179 ; 799  |#define HW_ICLFORCE0R_S2FV_SETMASK 1<<HW_ICLFORCE0R_S2FV_BITPOS
                            11180 ; 800  |#define HW_ICLFORCE0R_S3FV_SETMASK 1<<HW_ICLFORCE0R_S3FV_BITPOS
                            11181 ; 801  |#define HW_ICLFORCE0R_S4FV_SETMASK 1<<HW_ICLFORCE0R_S4FV_BITPOS
                            11182 ; 802  |#define HW_ICLFORCE0R_S5FV_SETMASK 1<<HW_ICLFORCE0R_S5FV_BITPOS
                            11183 ; 803  |#define HW_ICLFORCE0R_S6FV_SETMASK 1<<HW_ICLFORCE0R_S6FV_BITPOS
                            11184 ; 804  |#define HW_ICLFORCE0R_S7FV_SETMASK 1<<HW_ICLFORCE0R_S7FV_BITPOS
                            11185 ; 805  |#define HW_ICLFORCE0R_S8FV_SETMASK 1<<HW_ICLFORCE0R_S8FV_BITPOS
                            11186 ; 806  |#define HW_ICLFORCE0R_S9FV_SETMASK 1<<HW_ICLFORCE0R_S9FV_BITPOS
                            11187 ; 807  |#define HW_ICLFORCE0R_S10FV_SETMASK 1<<HW_ICLFORCE0R_S10FV_BITPOS
                            11188 ; 808  |#define HW_ICLFORCE0R_S11FV_SETMASK 1<<HW_ICLFORCE0R_S11FV_BITPOS
                            11189 ; 809  |#define HW_ICLFORCE0R_S12FV_SETMASK 1<<HW_ICLFORCE0R_S12FV_BITPOS
                            11190 ; 810  |#define HW_ICLFORCE0R_S13FV_SETMASK 1<<HW_ICLFORCE0R_S13FV_BITPOS
                            11191 ; 811  |#define HW_ICLFORCE0R_S14FV_SETMASK 1<<HW_ICLFORCE0R_S14FV_BITPOS
                            11192 ; 812  |#define HW_ICLFORCE0R_S15FV_SETMASK 1<<HW_ICLFORCE0R_S15FV_BITPOS
                            11193 ; 813  |#define HW_ICLFORCE0R_S16FV_SETMASK 1<<HW_ICLFORCE0R_S16FV_BITPOS
                            11194 ; 814  |#define HW_ICLFORCE0R_S17FV_SETMASK 1<<HW_ICLFORCE0R_S17FV_BITPOS
                            11195 ; 815  |#define HW_ICLFORCE0R_S18FV_SETMASK 1<<HW_ICLFORCE0R_S18FV_BITPOS
                            11196 ; 816  |#define HW_ICLFORCE0R_S19FV_SETMASK 1<<HW_ICLFORCE0R_S19FV_BITPOS
                            11197 ; 817  |#define HW_ICLFORCE0R_S20FV_SETMASK 1<<HW_ICLFORCE0R_S20FV_BITPOS
                            11198 ; 818  |#define HW_ICLFORCE0R_S21FV_SETMASK 1<<HW_ICLFORCE0R_S21FV_BITPOS
                            11199 ; 819  |#define HW_ICLFORCE0R_S22FV_SETMASK 1<<HW_ICLFORCE0R_S22FV_BITPOS
                            11200 ; 820  |#define HW_ICLFORCE0R_S23FV_SETMASK 1<<HW_ICLFORCE0R_S23FV_BITPOS
                            11201 ; 821  |
                            11202 ; 822  |#define HW_ICLFORCE0R_S0FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S0FV_SETMASK
                            11203 ; 823  |#define HW_ICLFORCE0R_S1FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S1FV_SETMASK
                            11204 ; 824  |#define HW_ICLFORCE0R_S2FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S2FV_SETMASK
                            11205 ; 825  |#define HW_ICLFORCE0R_S3FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S3FV_SETMASK
                            11206 ; 826  |#define HW_ICLFORCE0R_S4FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S4FV_SETMASK
                            11207 ; 827  |#define HW_ICLFORCE0R_S5FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S5FV_SETMASK
                            11208 ; 828  |#define HW_ICLFORCE0R_S6FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S6FV_SETMASK
                            11209 ; 829  |#define HW_ICLFORCE0R_S7FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S7FV_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 186

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11210 ; 830  |#define HW_ICLFORCE0R_S8FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S8FV_SETMASK
                            11211 ; 831  |#define HW_ICLFORCE0R_S9FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S9FV_SETMASK
                            11212 ; 832  |#define HW_ICLFORCE0R_S10FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S10FV_SETMASK
                            11213 ; 833  |#define HW_ICLFORCE0R_S11FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S11FV_SETMASK
                            11214 ; 834  |#define HW_ICLFORCE0R_S12FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S12FV_SETMASK
                            11215 ; 835  |#define HW_ICLFORCE0R_S13FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S13FV_SETMASK
                            11216 ; 836  |#define HW_ICLFORCE0R_S14FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S14FV_SETMASK
                            11217 ; 837  |#define HW_ICLFORCE0R_S15FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S15FV_SETMASK
                            11218 ; 838  |#define HW_ICLFORCE0R_S16FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S16FV_SETMASK
                            11219 ; 839  |#define HW_ICLFORCE0R_S17FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S17FV_SETMASK
                            11220 ; 840  |#define HW_ICLFORCE0R_S18FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S18FV_SETMASK
                            11221 ; 841  |#define HW_ICLFORCE0R_S19FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S19FV_SETMASK
                            11222 ; 842  |#define HW_ICLFORCE0R_S20FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S20FV_SETMASK
                            11223 ; 843  |#define HW_ICLFORCE0R_S21FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S21FV_SETMASK
                            11224 ; 844  |#define HW_ICLFORCE0R_S22FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S22FV_SETMASK
                            11225 ; 845  |#define HW_ICLFORCE0R_S23FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S23FV_SETMASK
                            11226 ; 846  |
                            11227 ; 847  |
                            11228 ; 848  |/////////////////////////////////////////////////////////////////////////////////
                            11229 ; 849  |//  Interrupt Collector Debug Force 1 Register (HW_ICLFORCE1R) Bit Positions
                            11230 ; 850  |typedef union               /* Interrupt Debug Force 1 Register     */
                            11231 ; 851  |{
                            11232 ; 852  |    struct {
                            11233 ; 853  |        int S24FV       :1;
                            11234 ; 854  |        int S25FV       :1;
                            11235 ; 855  |        int S26FV       :1;
                            11236 ; 856  |        int S27FV       :1;
                            11237 ; 857  |        int S28FV       :1;
                            11238 ; 858  |        int S29FV       :1;
                            11239 ; 859  |        int S30FV       :1;
                            11240 ; 860  |        int S31FV       :1;
                            11241 ; 861  |        int S32FV       :1;
                            11242 ; 862  |        int S33FV       :1;
                            11243 ; 863  |    } B;
                            11244 ; 864  |    int I;
                            11245 ; 865  |} iclforce1_type;
                            11246 ; 866  |#define HW_ICLFORCE1R   (*(volatile iclforce1_type _X*) (HW_ICOLL_BASEADDR+12)) /* Interru
                                  pt Collector Debug Force Register 1   */
                            11247 ; 867  |
                            11248 ; 868  |#define HW_ICLFORCE1R_S24FV_BITPOS 0
                            11249 ; 869  |#define HW_ICLFORCE1R_S25FV_BITPOS 1
                            11250 ; 870  |#define HW_ICLFORCE1R_S26FV_BITPOS 2
                            11251 ; 871  |#define HW_ICLFORCE1R_S27FV_BITPOS 3
                            11252 ; 872  |#define HW_ICLFORCE1R_S28FV_BITPOS 4
                            11253 ; 873  |#define HW_ICLFORCE1R_S29FV_BITPOS 5
                            11254 ; 874  |#define HW_ICLFORCE1R_S30FV_BITPOS 6
                            11255 ; 875  |#define HW_ICLFORCE1R_S31FV_BITPOS 7
                            11256 ; 876  |#define HW_ICLFORCE1R_S32FV_BITPOS 8
                            11257 ; 877  |#define HW_ICLFORCE1R_S33FV_BITPOS 9
                            11258 ; 878  |
                            11259 ; 879  |#define HW_ICLFORCE1R_S24FV_SETMASK 1<<HW_ICLFORCE1R_S24FV_BITPOS
                            11260 ; 880  |#define HW_ICLFORCE1R_S25FV_SETMASK 1<<HW_ICLFORCE1R_S25FV_BITPOS
                            11261 ; 881  |#define HW_ICLFORCE1R_S26FV_SETMASK 1<<HW_ICLFORCE1R_S26FV_BITPOS
                            11262 ; 882  |#define HW_ICLFORCE1R_S27FV_SETMASK 1<<HW_ICLFORCE1R_S27FV_BITPOS
                            11263 ; 883  |#define HW_ICLFORCE1R_S28FV_SETMASK 1<<HW_ICLFORCE1R_S28FV_BITPOS
                            11264 ; 884  |#define HW_ICLFORCE1R_S29FV_SETMASK 1<<HW_ICLFORCE1R_S29FV_BITPOS
                            11265 ; 885  |#define HW_ICLFORCE1R_S30FV_SETMASK 1<<HW_ICLFORCE1R_S30FV_BITPOS
                            11266 ; 886  |#define HW_ICLFORCE1R_S31FV_SETMASK 1<<HW_ICLFORCE1R_S31FV_BITPOS
                            11267 ; 887  |#define HW_ICLFORCE1R_S32FV_SETMASK 1<<HW_ICLFORCE1R_S32FV_BITPOS
                            11268 ; 888  |#define HW_ICLFORCE1R_S33FV_SETMASK 1<<HW_ICLFORCE1R_S33FV_BITPOS
                            11269 ; 889  |
                            11270 ; 890  |#define HW_ICLFORCE1R_S24FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S24FV_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 187

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11271 ; 891  |#define HW_ICLFORCE1R_S25FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S25FV_SETMASK
                            11272 ; 892  |#define HW_ICLFORCE1R_S26FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S26FV_SETMASK
                            11273 ; 893  |#define HW_ICLFORCE1R_S27FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S27FV_SETMASK
                            11274 ; 894  |#define HW_ICLFORCE1R_S28FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S28FV_SETMASK
                            11275 ; 895  |#define HW_ICLFORCE1R_S29FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S29FV_SETMASK
                            11276 ; 896  |#define HW_ICLFORCE1R_S30FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S30FV_SETMASK
                            11277 ; 897  |#define HW_ICLFORCE1R_S31FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S31FV_SETMASK
                            11278 ; 898  |#define HW_ICLFORCE1R_S32FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S32FV_SETMASK
                            11279 ; 899  |#define HW_ICLFORCE1R_S33FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S33FV_SETMASK
                            11280 ; 900  |
                            11281 ; 901  |
                            11282 ; 902  |/////////////////////////////////////////////////////////////////////////////////
                            11283 ; 903  |//  Interrupt Collector Force Enable 0 Register (HW_ICLFENABLE0R) Bit Positions
                            11284 ; 904  |typedef union               /* Interrupt Collector Force Enable 0 Register      */
                            11285 ; 905  |{
                            11286 ; 906  |    struct {
                            11287 ; 907  |        int S0FE        :1;
                            11288 ; 908  |        int S1FE        :1;
                            11289 ; 909  |        int S2FE        :1;
                            11290 ; 910  |        int S3FE        :1;
                            11291 ; 911  |        int S4FE        :1;
                            11292 ; 912  |        int S5FE        :1;
                            11293 ; 913  |        int S6FE        :1;
                            11294 ; 914  |        int S7FE        :1;
                            11295 ; 915  |        int S8FE        :1;
                            11296 ; 916  |        int S9FE        :1;
                            11297 ; 917  |        int S10FE       :1;
                            11298 ; 918  |        int S11FE       :1;
                            11299 ; 919  |        int S12FE       :1;
                            11300 ; 920  |        int S13FE       :1;
                            11301 ; 921  |        int S14FE       :1;
                            11302 ; 922  |        int S15FE       :1;
                            11303 ; 923  |        int S16FE       :1;
                            11304 ; 924  |        int S17FE       :1;
                            11305 ; 925  |        int S18FE       :1;
                            11306 ; 926  |        int S19FE       :1;
                            11307 ; 927  |        int S20FE       :1;
                            11308 ; 928  |        int S21FE       :1;
                            11309 ; 929  |        int S22FE       :1;
                            11310 ; 930  |        int S23FE       :1;
                            11311 ; 931  |    } B;
                            11312 ; 932  |    int I;
                            11313 ; 933  |} iclfenable0_type;
                            11314 ; 934  |#define HW_ICLFENABLE0R (*(volatile iclfenable0_type _X*) (HW_ICOLL_BASEADDR+13)) /* Inter
                                  rupt Collector Force Enable Register 0    */
                            11315 ; 935  |
                            11316 ; 936  |#define HW_ICLFENABLE0R_S0FE_BITPOS 0
                            11317 ; 937  |#define HW_ICLFENABLE0R_S1FE_BITPOS 1
                            11318 ; 938  |#define HW_ICLFENABLE0R_S2FE_BITPOS 2
                            11319 ; 939  |#define HW_ICLFENABLE0R_S3FE_BITPOS 3
                            11320 ; 940  |#define HW_ICLFENABLE0R_S4FE_BITPOS 4
                            11321 ; 941  |#define HW_ICLFENABLE0R_S5FE_BITPOS 5
                            11322 ; 942  |#define HW_ICLFENABLE0R_S6FE_BITPOS 6
                            11323 ; 943  |#define HW_ICLFENABLE0R_S7FE_BITPOS 7
                            11324 ; 944  |#define HW_ICLFENABLE0R_S8FE_BITPOS 8
                            11325 ; 945  |#define HW_ICLFENABLE0R_S9FE_BITPOS 9
                            11326 ; 946  |#define HW_ICLFENABLE0R_S10FE_BITPOS 10
                            11327 ; 947  |#define HW_ICLFENABLE0R_S11FE_BITPOS 11
                            11328 ; 948  |#define HW_ICLFENABLE0R_S12FE_BITPOS 12
                            11329 ; 949  |#define HW_ICLFENABLE0R_S13FE_BITPOS 13
                            11330 ; 950  |#define HW_ICLFENABLE0R_S14FE_BITPOS 14
                            11331 ; 951  |#define HW_ICLFENABLE0R_S15FE_BITPOS 15
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 188

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11332 ; 952  |#define HW_ICLFENABLE0R_S16FE_BITPOS 16
                            11333 ; 953  |#define HW_ICLFENABLE0R_S17FE_BITPOS 17
                            11334 ; 954  |#define HW_ICLFENABLE0R_S18FE_BITPOS 18
                            11335 ; 955  |#define HW_ICLFENABLE0R_S19FE_BITPOS 19
                            11336 ; 956  |#define HW_ICLFENABLE0R_S20FE_BITPOS 20
                            11337 ; 957  |#define HW_ICLFENABLE0R_S21FE_BITPOS 21
                            11338 ; 958  |#define HW_ICLFENABLE0R_S22FE_BITPOS 22
                            11339 ; 959  |#define HW_ICLFENABLE0R_S23FE_BITPOS 23
                            11340 ; 960  |
                            11341 ; 961  |#define HW_ICLFENABLE0R_S0FE_SETMASK 1<<HW_ICLFENABLE0R_S0FE_BITPOS
                            11342 ; 962  |#define HW_ICLFENABLE0R_S1FE_SETMASK 1<<HW_ICLFENABLE0R_S1FE_BITPOS
                            11343 ; 963  |#define HW_ICLFENABLE0R_S2FE_SETMASK 1<<HW_ICLFENABLE0R_S2FE_BITPOS
                            11344 ; 964  |#define HW_ICLFENABLE0R_S3FE_SETMASK 1<<HW_ICLFENABLE0R_S3FE_BITPOS
                            11345 ; 965  |#define HW_ICLFENABLE0R_S4FE_SETMASK 1<<HW_ICLFENABLE0R_S4FE_BITPOS
                            11346 ; 966  |#define HW_ICLFENABLE0R_S5FE_SETMASK 1<<HW_ICLFENABLE0R_S5FE_BITPOS
                            11347 ; 967  |#define HW_ICLFENABLE0R_S6FE_SETMASK 1<<HW_ICLFENABLE0R_S6FE_BITPOS
                            11348 ; 968  |#define HW_ICLFENABLE0R_S7FE_SETMASK 1<<HW_ICLFENABLE0R_S7FE_BITPOS
                            11349 ; 969  |#define HW_ICLFENABLE0R_S8FE_SETMASK 1<<HW_ICLFENABLE0R_S8FE_BITPOS
                            11350 ; 970  |#define HW_ICLFENABLE0R_S9FE_SETMASK 1<<HW_ICLFENABLE0R_S9FE_BITPOS
                            11351 ; 971  |#define HW_ICLFENABLE0R_S10FE_SETMASK 1<<HW_ICLFENABLE0R_S10FE_BITPOS
                            11352 ; 972  |#define HW_ICLFENABLE0R_S11FE_SETMASK 1<<HW_ICLFENABLE0R_S11FE_BITPOS
                            11353 ; 973  |#define HW_ICLFENABLE0R_S12FE_SETMASK 1<<HW_ICLFENABLE0R_S12FE_BITPOS
                            11354 ; 974  |#define HW_ICLFENABLE0R_S13FE_SETMASK 1<<HW_ICLFENABLE0R_S13FE_BITPOS
                            11355 ; 975  |#define HW_ICLFENABLE0R_S14FE_SETMASK 1<<HW_ICLFENABLE0R_S14FE_BITPOS
                            11356 ; 976  |#define HW_ICLFENABLE0R_S15FE_SETMASK 1<<HW_ICLFENABLE0R_S15FE_BITPOS
                            11357 ; 977  |#define HW_ICLFENABLE0R_S16FE_SETMASK 1<<HW_ICLFENABLE0R_S16FE_BITPOS
                            11358 ; 978  |#define HW_ICLFENABLE0R_S17FE_SETMASK 1<<HW_ICLFENABLE0R_S17FE_BITPOS
                            11359 ; 979  |#define HW_ICLFENABLE0R_S18FE_SETMASK 1<<HW_ICLFENABLE0R_S18FE_BITPOS
                            11360 ; 980  |#define HW_ICLFENABLE0R_S19FE_SETMASK 1<<HW_ICLFENABLE0R_S19FE_BITPOS
                            11361 ; 981  |#define HW_ICLFENABLE0R_S20FE_SETMASK 1<<HW_ICLFENABLE0R_S20FE_BITPOS
                            11362 ; 982  |#define HW_ICLFENABLE0R_S21FE_SETMASK 1<<HW_ICLFENABLE0R_S21FE_BITPOS
                            11363 ; 983  |#define HW_ICLFENABLE0R_S22FE_SETMASK 1<<HW_ICLFENABLE0R_S22FE_BITPOS
                            11364 ; 984  |#define HW_ICLFENABLE0R_S23FE_SETMASK 1<<HW_ICLFENABLE0R_S23FE_BITPOS
                            11365 ; 985  |
                            11366 ; 986  |#define HW_ICLFENABLE0R_S0FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S0FE_SETMASK
                            11367 ; 987  |#define HW_ICLFENABLE0R_S1FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S1FE_SETMASK
                            11368 ; 988  |#define HW_ICLFENABLE0R_S2FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S2FE_SETMASK
                            11369 ; 989  |#define HW_ICLFENABLE0R_S3FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S3FE_SETMASK
                            11370 ; 990  |#define HW_ICLFENABLE0R_S4FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S4FE_SETMASK
                            11371 ; 991  |#define HW_ICLFENABLE0R_S5FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S5FE_SETMASK
                            11372 ; 992  |#define HW_ICLFENABLE0R_S6FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S6FE_SETMASK
                            11373 ; 993  |#define HW_ICLFENABLE0R_S7FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S7FE_SETMASK
                            11374 ; 994  |#define HW_ICLFENABLE0R_S8FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S8FE_SETMASK
                            11375 ; 995  |#define HW_ICLFENABLE0R_S9FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S9FE_SETMASK
                            11376 ; 996  |#define HW_ICLFENABLE0R_S10FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S10FE_SETMASK
                            11377 ; 997  |#define HW_ICLFENABLE0R_S11FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S11FE_SETMASK
                            11378 ; 998  |#define HW_ICLFENABLE0R_S12FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S12FE_SETMASK
                            11379 ; 999  |#define HW_ICLFENABLE0R_S13FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S13FE_SETMASK
                            11380 ; 1000 |#define HW_ICLFENABLE0R_S14FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S14FE_SETMASK
                            11381 ; 1001 |#define HW_ICLFENABLE0R_S15FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S15FE_SETMASK
                            11382 ; 1002 |#define HW_ICLFENABLE0R_S16FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S16FE_SETMASK
                            11383 ; 1003 |#define HW_ICLFENABLE0R_S17FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S17FE_SETMASK
                            11384 ; 1004 |#define HW_ICLFENABLE0R_S18FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S18FE_SETMASK
                            11385 ; 1005 |#define HW_ICLFENABLE0R_S19FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S19FE_SETMASK
                            11386 ; 1006 |#define HW_ICLFENABLE0R_S20FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S20FE_SETMASK
                            11387 ; 1007 |#define HW_ICLFENABLE0R_S21FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S21FE_SETMASK
                            11388 ; 1008 |#define HW_ICLFENABLE0R_S22FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S22FE_SETMASK
                            11389 ; 1009 |#define HW_ICLFENABLE0R_S23FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S23FE_SETMASK
                            11390 ; 1010 |
                            11391 ; 1011 |
                            11392 ; 1012 |/////////////////////////////////////////////////////////////////////////////////
                            11393 ; 1013 |//  Interrupt Collector Force Enable 1 Register (HW_ICLFENABLE1R) Bit Positions
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 189

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11394 ; 1014 |typedef union               /* Interrupt Collector Force Enable 1 Register      */
                            11395 ; 1015 |{
                            11396 ; 1016 |    struct {
                            11397 ; 1017 |        int S24FE       :1;
                            11398 ; 1018 |        int S25FE       :1;
                            11399 ; 1019 |        int S26FE       :1;
                            11400 ; 1020 |        int S27FE       :1;
                            11401 ; 1021 |        int S28FE       :1;
                            11402 ; 1022 |        int S29FE       :1;
                            11403 ; 1023 |        int S30FE       :1;
                            11404 ; 1024 |        int S31FE       :1;
                            11405 ; 1025 |        int S32FE       :1;
                            11406 ; 1026 |        int S33FE       :1;
                            11407 ; 1027 |    } B;
                            11408 ; 1028 |    int I;
                            11409 ; 1029 |} iclfenable1_type;
                            11410 ; 1030 |#define HW_ICLFENABLE1R (*(volatile iclfenable1_type _X*) (HW_ICOLL_BASEADDR+14)) /* Inter
                                  rupt Collector Force Enable Register 1    */
                            11411 ; 1031 |#define HW_ICLFENABLE1R_S24FE_BITPOS 0
                            11412 ; 1032 |#define HW_ICLFENABLE1R_S25FE_BITPOS 1
                            11413 ; 1033 |#define HW_ICLFENABLE1R_S26FE_BITPOS 2
                            11414 ; 1034 |#define HW_ICLFENABLE1R_S27FE_BITPOS 3
                            11415 ; 1035 |#define HW_ICLFENABLE1R_S28FE_BITPOS 4
                            11416 ; 1036 |#define HW_ICLFENABLE1R_S29FE_BITPOS 5
                            11417 ; 1037 |#define HW_ICLFENABLE1R_S30FE_BITPOS 6
                            11418 ; 1038 |#define HW_ICLFENABLE1R_S31FE_BITPOS 7
                            11419 ; 1039 |#define HW_ICLFENABLE1R_S32FE_BITPOS 8
                            11420 ; 1040 |#define HW_ICLFENABLE1R_S33FE_BITPOS 9
                            11421 ; 1041 |
                            11422 ; 1042 |#define HW_ICLFENABLE1R_S24FE_SETMASK 1<<HW_ICLFENABLE1R_S24FE_BITPOS
                            11423 ; 1043 |#define HW_ICLFENABLE1R_S25FE_SETMASK 1<<HW_ICLFENABLE1R_S25FE_BITPOS
                            11424 ; 1044 |#define HW_ICLFENABLE1R_S26FE_SETMASK 1<<HW_ICLFENABLE1R_S26FE_BITPOS
                            11425 ; 1045 |#define HW_ICLFENABLE1R_S27FE_SETMASK 1<<HW_ICLFENABLE1R_S27FE_BITPOS
                            11426 ; 1046 |#define HW_ICLFENABLE1R_S28FE_SETMASK 1<<HW_ICLFENABLE1R_S28FE_BITPOS
                            11427 ; 1047 |#define HW_ICLFENABLE1R_S29FE_SETMASK 1<<HW_ICLFENABLE1R_S29FE_BITPOS
                            11428 ; 1048 |#define HW_ICLFENABLE1R_S30FE_SETMASK 1<<HW_ICLFENABLE1R_S30FE_BITPOS
                            11429 ; 1049 |#define HW_ICLFENABLE1R_S31FE_SETMASK 1<<HW_ICLFENABLE1R_S31FE_BITPOS
                            11430 ; 1050 |#define HW_ICLFENABLE1R_S32FE_SETMASK 1<<HW_ICLFENABLE1R_S32FE_BITPOS
                            11431 ; 1051 |#define HW_ICLFENABLE1R_S33FE_SETMASK 1<<HW_ICLFENABLE1R_S33FE_BITPOS
                            11432 ; 1052 |
                            11433 ; 1053 |#define HW_ICLFENABLE1R_S24FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S24FE_SETMASK
                            11434 ; 1054 |#define HW_ICLFENABLE1R_S25FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S25FE_SETMASK
                            11435 ; 1055 |#define HW_ICLFENABLE1R_S26FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S26FE_SETMASK
                            11436 ; 1056 |#define HW_ICLFENABLE1R_S27FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S27FE_SETMASK
                            11437 ; 1057 |#define HW_ICLFENABLE1R_S28FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S28FE_SETMASK
                            11438 ; 1058 |#define HW_ICLFENABLE1R_S29FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S29FE_SETMASK
                            11439 ; 1059 |#define HW_ICLFENABLE1R_S30FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S30FE_SETMASK
                            11440 ; 1060 |#define HW_ICLFENABLE1R_S31FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S31FE_SETMASK
                            11441 ; 1061 |#define HW_ICLFENABLE1R_S32FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S32FE_SETMASK
                            11442 ; 1062 |#define HW_ICLFENABLE1R_S33FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S33FE_SETMASK
                            11443 ; 1063 |
                            11444 ; 1064 |
                            11445 ; 1065 |/////////////////////////////////////////////////////////////////////////////////
                            11446 ; 1066 |//  Interrupt Collector Observation Register 0 Register (HW_ICLOBSVZ0R) Bit Positions
                            11447 ; 1067 |typedef union               /* Interrupt Collector Observation Register 0       */
                            11448 ; 1068 |{
                            11449 ; 1069 |    struct {
                            11450 ; 1070 |        unsigned RQ     :7;
                            11451 ; 1071 |        unsigned IVA    :7;
                            11452 ; 1072 |        unsigned IVB    :7;
                            11453 ; 1073 |    } B;
                            11454 ; 1074 |    int I;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 190

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11455 ; 1075 |} iclobsvz0_type;
                            11456 ; 1076 |#define HW_ICLOBSVZ0R   (*(volatile iclobsvz0_type _X*) (HW_ICOLL_BASEADDR+15)) /* Interru
                                  pt Collector Observation Register 0   */
                            11457 ; 1077 |
                            11458 ; 1078 |#define HW_ICLOBSVZ0R_RQ_BITPOS 0
                            11459 ; 1079 |#define HW_ICLOBSVZ0R_IVA_BITPOS 7
                            11460 ; 1080 |#define HW_ICLOBSVZ0R_IVB_BITPOS 14
                            11461 ; 1081 |
                            11462 ; 1082 |#define HW_ICLOBSVZ0R_RQ_SETMASK 0x3F<<HW_ICLOBSVZ0R_RQ_BITPOS
                            11463 ; 1083 |#define HW_ICLOBSVZ0R_IVA_SETMASK 0x3F<<HW_ICLOBSVZ0R_IVA_BITPOS
                            11464 ; 1084 |#define HW_ICLOBSVZ0R_IVB_SETMASK 0x3F<<HW_ICLOBSVZ0R_IVB_BITPOS
                            11465 ; 1085 |
                            11466 ; 1086 |#define HW_ICLOBSVZ0R_RQ_CLRMASK ~(WORD)HW_ICLOBSVZ0R_RQ_SETMASK
                            11467 ; 1087 |#define HW_ICLOBSVZ0R_IVA_CLRMASK ~(WORD)HW_ICLOBSVZ0R_IVA_SETMASK
                            11468 ; 1088 |#define HW_ICLOBSVZ0R_IVB_CLRMASK ~(WORD)HW_ICLOBSVZ0R_IVB_SETMASK
                            11469 ; 1089 |
                            11470 ; 1090 |
                            11471 ; 1091 |/////////////////////////////////////////////////////////////////////////////////
                            11472 ; 1092 |//  Interrupt Collector Observation Register 1 Register (HW_ICL1BSVZ0R) Bit Positions
                            11473 ; 1093 |#define HW_ICL1BSVZ0R_IVC_BITPOS 0
                            11474 ; 1094 |#define HW_ICL1BSVZ0R_IVD_BITPOS 7
                            11475 ; 1095 |
                            11476 ; 1096 |#define HW_ICL1BSVZ0R_IVC_SETMASK 0x3F<<HW_ICL1BSVZ0R_IVC_BITPOS
                            11477 ; 1097 |#define HW_ICL1BSVZ0R_IVD_SETMASK 0x3F<<HW_ICL1BSVZ0R_IVD_BITPOS
                            11478 ; 1098 |
                            11479 ; 1099 |#define HW_ICL1BSVZ0R_IVC_CLRMASK ~(WORD)HW_ICL1BSVZ0R_IVC_SETMASK
                            11480 ; 1100 |#define HW_ICL1BSVZ0R_IVD_CLRMASK ~(WORD)HW_ICL1BSVZ0R_IVD_SETMASK
                            11481 ; 1101 |
                            11482 ; 1102 |
                            11483 ; 1103 |
                            11484 ; 1104 |
                            11485 ; 1105 |/////////////////////////////////////////////////////////////////////////////////
                            11486 ; 1106 |//  Interrupt Vectors
                            11487 ; 1107 |/////////////////////////////////////////////////////////////////////////////////
                            11488 ; 1108 |// Reset Vector
                            11489 ; 1109 |#define HW_IVECRESET 0x0000           
                            11490 ; 1110 |// Stack Error
                            11491 ; 1111 |#define HW_IVECSTERR 0x0002           
                            11492 ; 1112 |// Trace
                            11493 ; 1113 |#define HW_IVECTRAC 0x0004           
                            11494 ; 1114 |// SWI
                            11495 ; 1115 |#define HW_IVECSWI 0x0006           
                            11496 ; 1116 |// ~IRQA
                            11497 ; 1117 |#define HW_IVECIRQA 0x0008           
                            11498 ; 1118 |// ~IRQB - BROWNOUT
                            11499 ; 1119 |#define HW_IVECIRQB 0x000A           
                            11500 ; 1120 |// Fatal Error
                            11501 ; 1121 |#define HW_IVECERROR 0x000C           
                            11502 ; 1122 |// SPI
                            11503 ; 1123 |#define HW_IVECSPI 0x000E           
                            11504 ; 1124 |// I2S TX Data Empty
                            11505 ; 1125 |#define HW_IVECI2STXDE 0x0010           
                            11506 ; 1126 |// I2S TX Underflow
                            11507 ; 1127 |#define HW_IVECI2STXUF 0x0012           
                            11508 ; 1128 |// I2S RX Data Full
                            11509 ; 1129 |#define HW_IVECI2SRXDF 0x0014           
                            11510 ; 1130 |// I2S RX Overflow
                            11511 ; 1131 |#define HW_IVECI2SRXOF 0x0016           
                            11512 ; 1132 |//                                       equ     $0018           ; Error, nothing vectors 
                                  here
                            11513 ; 1133 |//                                       equ     $001A           ; Error, nothing vectors 
                                  here
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 191

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11514 ; 1134 |//                                       equ     $001C           ; Error, nothing vectors 
                                  here
                            11515 ; 1135 |//                                       equ     $001E           ; Non-Maskable Interrupt
                            11516 ; 1136 |// GPIO1
                            11517 ; 1137 |#define HW_IVECGPIO1 0x0020           
                            11518 ; 1138 |// GPIO2
                            11519 ; 1139 |#define HW_IVECGPIO2 0x0022           
                            11520 ; 1140 |// GPIO0
                            11521 ; 1141 |#define HW_IVECGPIO0 0x0024           
                            11522 ; 1142 |// TIMER0
                            11523 ; 1143 |#define HW_IVECTIMER0 0x0026           
                            11524 ; 1144 |// TIMER1
                            11525 ; 1145 |#define HW_IVECTIMER1 0x0028           
                            11526 ; 1146 |// TIMER2
                            11527 ; 1147 |#define HW_IVECTIMER2 0x002A           
                            11528 ; 1148 |//                                       equ     $002C           ; Error, nothing vectors 
                                  here
                            11529 ; 1149 |//                                       equ     $002E           ; Error, nothing vectors 
                                  here
                            11530 ; 1150 |// I2C RX Data Ready
                            11531 ; 1151 |#define HW_IVECI2CRXDR 0x0030           
                            11532 ; 1152 |// I2C RX Overflow
                            11533 ; 1153 |#define HW_IVECI2CRXOF 0x0032           
                            11534 ; 1154 |// I2C TX Data Empty
                            11535 ; 1155 |#define HW_IVECI2CTXDE 0x0034           
                            11536 ; 1156 |// I2C TX Underflow
                            11537 ; 1157 |#define HW_IVECI2CTXUF 0x0036           
                            11538 ; 1158 |// Illegal Instruction
                            11539 ; 1159 |#define HW_IVECILI 0x0038           
                            11540 ; 1160 |//                                       equ     $003A           ; Error, nothing vectors 
                                  here
                            11541 ; 1161 |// DAC Empty ISR (DAC Request to Fill Buffer)
                            11542 ; 1162 |#define HW_IVECDACE 0x003C           
                            11543 ; 1163 |// DAC Underflow ISR
                            11544 ; 1164 |#define HW_IVECDACUF 0x003E           
                            11545 ; 1165 |//                                       equ     $0040           ; Error, nothing vectors 
                                  here
                            11546 ; 1166 |// ADC Full ISR
                            11547 ; 1167 |#define HW_IVECADCF 0x0042           
                            11548 ; 1168 |// ADC Overflow ISR
                            11549 ; 1169 |#define HW_IVECADCOF 0x0044           
                            11550 ; 1170 |//                                       equ     $0046           ; Error, nothing vectors 
                                  here
                            11551 ; 1171 |// TIMER3
                            11552 ; 1172 |#define HW_IVECTIMER3 0x0048           
                            11553 ; 1173 |// GPIO3
                            11554 ; 1174 |#define HW_IVECGPIO3 0x004A           
                            11555 ; 1175 |// SDRAM
                            11556 ; 1176 |#define HW_IVECSDRAM 0x004C           
                            11557 ; 1177 |//                                       equ     $004E           ; Error, nothing vectors 
                                  here
                            11558 ; 1178 |// 5 volt power connected
                            11559 ; 1179 |#define HW_IVECVDD5VCONN 0x0050           
                            11560 ; 1180 |// USB Controller
                            11561 ; 1181 |#define HW_IVECUSBCTLR 0x0052           
                            11562 ; 1182 |// USB Wakeup 
                            11563 ; 1183 |#define HW_IVECUSBWAKEUP 0x0054           
                            11564 ; 1184 |// 5 volt power disconnected
                            11565 ; 1185 |#define HW_IVECVDD5VDISC 0x0056           
                            11566 ; 1186 |// enhanced SPI
                            11567 ; 1187 |#define HW_IVECESPI 0x0058           
                            11568 ; 1188 |// filter coprocessor
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 192

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11569 ; 1189 |#define HW_IVECFILCO 0x005A           
                            11570 ; 1190 |// low res ADC #1
                            11571 ; 1191 |#define HW_IVECLRADC1 0x005C           
                            11572 ; 1192 |// real time clock alarm
                            11573 ; 1193 |#define HW_IVECRTCALARM 0x005E           
                            11574 ; 1194 |// low res ADC #2
                            11575 ; 1195 |#define HW_IVECLRADC2 0x0060           
                            11576 ; 1196 |// flash hardware ECC
                            11577 ; 1197 |#define HW_IVECHWECC 0x0062           
                            11578 ; 1198 |//                                       equ     $0064           ; Error, nothing vectors 
                                  here
                            11579 ; 1199 |// CDSYNC Interrupt
                            11580 ; 1200 |#define HW_IVECCDSYNC 0x0066           
                            11581 ; 1201 |// CDSYNC Exception
                            11582 ; 1202 |#define HW_IVECCDSYNCEX 0x0068           
                            11583 ; 1203 |// RS
                            11584 ; 1204 |#define HW_IVECRS 0x006A           
                            11585 ; 1205 |//                                       equ     $006C           ; Error, nothing vectors 
                                  here
                            11586 ; 1206 |// Flash Done ISR
                            11587 ; 1207 |#define HW_IVECFD 0x006E           
                            11588 ; 1208 |// CompactFlash ISR
                            11589 ; 1209 |#define HW_IVECCF 0x0070           
                            11590 ; 1210 |// SmartMedia Timeout ISR
                            11591 ; 1211 |#define HW_IVECSMTO 0x0072           
                            11592 ; 1212 |// SmartMedia Invalid Programming
                            11593 ; 1213 |#define HW_IVECSMIP 0x0074           
                            11594 ; 1214 |// CompactFlash No Card ISR
                            11595 ; 1215 |#define HW_IVECCFNC 0x0076           
                            11596 ; 1216 |// CompactFlash Status Change ISR
                            11597 ; 1217 |#define HW_IVECCFSC 0x0078           
                            11598 ; 1218 |//                                       equ     $007A           ; Error, nothing vectors 
                                  here
                            11599 ; 1219 |//                                       equ     $007C           ; Error, nothing vectors 
                                  here
                            11600 ; 1220 |// CDI
                            11601 ; 1221 |#define HW_IVECCDI 0x007E           
                            11602 ; 1222 |
                            11603 ; 1223 |/////////////////////////////////////////////////////////////////////////////////
                            11604 ; 1224 |//  Interrupt Vectors
                            11605 ; 1225 |/////////////////////////////////////////////////////////////////////////////////
                            11606 ; 1226 |// macro to allow setting vectors from C. Hex const below is jsr opcode.
                            11607 ; 1227 |#define VECTOR(address,isr) \ 
                            11608 ; 1228 |    (*(volatile int _P *)(address))=0x0BF080; \ 
                            11609 ; 1229 |    (*(volatile int _P *)(address+1))=(isr)
                            11610 ; 1230 |
                            11611 ; 1231 |
                            11612 ; 1232 |/////////////////////////////////////////////////////////////////////////////////
                            11613 ; 1233 |//  Interrupt Priority Register (HW_IPR) Bit Positions
                            11614 ; 1234 |#define HW_IPR_IRQA_BITPOS 0
                            11615 ; 1235 |#define HW_IPR_IRQA_ET_BITPOS 2
                            11616 ; 1236 |#define HW_IPR_IRQB_BITPOS 3
                            11617 ; 1237 |#define HW_IPR_IRQB_ET_BITPOS 5
                            11618 ; 1238 |#define HW_IPR_L0P_BITPOS 10
                            11619 ; 1239 |#define HW_IPR_L1P_BITPOS 12
                            11620 ; 1240 |#define HW_IPR_L2P_BITPOS 14
                            11621 ; 1241 |#define HW_IPR_L3P_BITPOS 16
                            11622 ; 1242 |#define HW_IPR_L4P_BITPOS 18
                            11623 ; 1243 |#define HW_IPR_L5P_BITPOS 20
                            11624 ; 1244 |#define HW_IPR_L6P_BITPOS 22
                            11625 ; 1245 |
                            11626 ; 1246 |// Interrupt Disabled
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 193

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11627 ; 1247 |#define HW_IPR_LP_0_SETMASK 0   
                            11628 ; 1248 |// Interrupt Priority Level 0
                            11629 ; 1249 |#define HW_IPR_LP_1_SETMASK 1   
                            11630 ; 1250 |// Interrupt Priority Level 1
                            11631 ; 1251 |#define HW_IPR_LP_2_SETMASK 2   
                            11632 ; 1252 |// Interrupt Priority Level 2
                            11633 ; 1253 |#define HW_IPR_LP_3_SETMASK 3   
                            11634 ; 1254 |
                            11635 ; 1255 |#define HW_IPR_IRQA_SETMASK 3<<HW_IPR_IRQA_BITPOS
                            11636 ; 1256 |#define HW_IPR_IRQA_ET_SETMASK 1<<HW_IPR_IRQA_ET_BITPOS
                            11637 ; 1257 |#define HW_IPR_IRQB_SETMASK 3<<HW_IPR_IRQB_BITPOS
                            11638 ; 1258 |#define HW_IPR_IRQB_ET_SETMASK 1<<HW_IPR_IRQB_ET_BITPOS
                            11639 ; 1259 |#define HW_IPR_L0P_SETMASK 3<<HW_IPR_L0P_BITPOS
                            11640 ; 1260 |#define HW_IPR_L1P_SETMASK 3<<HW_IPR_L1P_BITPOS
                            11641 ; 1261 |#define HW_IPR_L2P_SETMASK 3<<HW_IPR_L2P_BITPOS
                            11642 ; 1262 |#define HW_IPR_L3P_SETMASK 3<<HW_IPR_L3P_BITPOS
                            11643 ; 1263 |#define HW_IPR_L4P_SETMASK 3<<HW_IPR_L4P_BITPOS
                            11644 ; 1264 |#define HW_IPR_L5P_SETMASK 3<<HW_IPR_L5P_BITPOS
                            11645 ; 1265 |#define HW_IPR_L6P_SETMASK 3<<HW_IPR_L6P_BITPOS
                            11646 ; 1266 |
                            11647 ; 1267 |#define HW_IPR_IRQA_CLRMASK ~(WORD)HW_IPR_IRQA_SETMASK
                            11648 ; 1268 |#define HW_IPR_IRQA_ET_CLRMASK ~(WORD)HW_IPR_IRQA_ET_SETMASK
                            11649 ; 1269 |#define HW_IPR_IRQB_CLRMASK ~(WORD)HW_IPR_IRQB_SETMASK
                            11650 ; 1270 |#define HW_IPR_IRQB_ET_CLRMASK ~(WORD)HW_IPR_IRQB_ET_SETMASK
                            11651 ; 1271 |#define HW_IPR_L0P_CLRMASK ~(WORD)HW_IPR_L0P_SETMASK
                            11652 ; 1272 |#define HW_IPR_L1P_CLRMASK ~(WORD)HW_IPR_L1P_SETMASK
                            11653 ; 1273 |#define HW_IPR_L2P_CLRMASK ~(WORD)HW_IPR_L2P_SETMASK
                            11654 ; 1274 |#define HW_IPR_L3P_CLRMASK ~(WORD)HW_IPR_L3P_SETMASK
                            11655 ; 1275 |#define HW_IPR_L4P_CLRMASK ~(WORD)HW_IPR_L4P_SETMASK
                            11656 ; 1276 |#define HW_IPR_L5P_CLRMASK ~(WORD)HW_IPR_L5P_SETMASK
                            11657 ; 1277 |#define HW_IPR_L6P_CLRMASK ~(WORD)HW_IPR_L6P_SETMASK
                            11658 ; 1278 |
                            11659 ; 1279 |// Interrupt Priority register
                            11660 ; 1280 |typedef union               
                            11661 ; 1281 |{
                            11662 ; 1282 |    struct {
                            11663 ; 1283 |        unsigned int IRQAP  :2; /* IRQ A Priority: 00 disable, 01 10 11 enable  */
                            11664 ; 1284 |        unsigned int IRQAT  :1; /* IRQ A Type: 0 level, 1 negative edge         */
                            11665 ; 1285 |        unsigned int IRQBP  :2; /* IRQ B Priority: 00 disable, 01 10 11 enable  */
                            11666 ; 1286 |        unsigned int IRQBT  :1; /* IRQ B Type: 0 level, 1 negative edge.        */
                            11667 ; 1287 |        int                 :4; /* Reserved */
                            11668 ; 1288 |        unsigned int L0P    :2; /* Interrupt Priority for priority 0 (SAI)      */
                            11669 ; 1289 |        unsigned int L1P    :2; /* Interrupt Priority for priority 1 (IColl)    */
                            11670 ; 1290 |        unsigned int L2P    :2; /* Interrupt Priority for priority 2 (IColl)    */
                            11671 ; 1291 |        unsigned int L3P    :2; /* Interrupt Priority for priority 3 (IColl)    */
                            11672 ; 1292 |        unsigned int L4P    :2; /* Interrupt Priority for priority 4 (I2C)      */
                            11673 ; 1293 |        unsigned int L5P    :2; /* Interrupt Priority for priority 5 (SPI)      */
                            11674 ; 1294 |        unsigned int L6P    :2; /* Interrupt Priority for priority 6 (IColl)    */
                            11675 ; 1295 |    } B;
                            11676 ; 1296 |
                            11677 ; 1297 |    int I;
                            11678 ; 1298 |
                            11679 ; 1299 |} ipr_type;
                            11680 ; 1300 |#define HW_IPR         (*(volatile ipr_type _X*) 0x00FFFF)
                            11681 ; 1301 |
                            11682 ; 1302 |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                            11683 ; 1303 |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                            11684 ; 1304 |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                            11685 ; 1305 |
                            11686 ; 1306 |#define HW_IPR_L1P0_BITPOS 12
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 194

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11687 ; 1307 |#define HW_IPR_L2P0_BITPOS 14
                            11688 ; 1308 |#define HW_IPR_L3P0_BITPOS 16
                            11689 ; 1309 |#define HW_IPR_L6P0_BITPOS 22
                            11690 ; 1310 |
                            11691 ; 1311 |/////////////////////////////////////////////////////////////////////////////////
                            11692 ; 1312 |//  Interrupt Collector Steering 0 Register (HW_ICLSTEER0R) Bit Positions
                            11693 ; 1313 |#define HW_ICLSTEERR_SS_1 0
                            11694 ; 1314 |#define HW_ICLSTEERR_SS_2 1
                            11695 ; 1315 |#define HW_ICLSTEERR_SS_3 2
                            11696 ; 1316 |#define HW_ICLSTEERR_SS_6 3
                            11697 ; 1317 |
                            11698 ; 1318 |#endif
                            11699 ; 1319 |
                            11700 
                            11702 
                            11703 ; 26   |#include "regslradc.h"
                            11704 
                            11706 
                            11707 ; 1    |#if !(defined(regslradcinc))
                            11708 ; 2    |
                            11709 ; 3    |#define regslradcinc 1
                            11710 ; 4    |
                            11711 ; 5    |#include "types.h"
                            11712 
                            11714 
                            11715 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            11716 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            11717 ; 3    |//
                            11718 ; 4    |// Filename: types.h
                            11719 ; 5    |// Description: Standard data types
                            11720 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            11721 ; 7    |
                            11722 ; 8    |#ifndef _TYPES_H
                            11723 ; 9    |#define _TYPES_H
                            11724 ; 10   |
                            11725 ; 11   |// TODO:  move this outta here!
                            11726 ; 12   |#if !defined(NOERROR)
                            11727 ; 13   |#define NOERROR 0
                            11728 ; 14   |#define SUCCESS 0
                            11729 ; 15   |#endif 
                            11730 ; 16   |#if !defined(SUCCESS)
                            11731 ; 17   |#define SUCCESS  0
                            11732 ; 18   |#endif
                            11733 ; 19   |#if !defined(ERROR)
                            11734 ; 20   |#define ERROR   -1
                            11735 ; 21   |#endif
                            11736 ; 22   |#if !defined(FALSE)
                            11737 ; 23   |#define FALSE 0
                            11738 ; 24   |#endif
                            11739 ; 25   |#if !defined(TRUE)
                            11740 ; 26   |#define TRUE  1
                            11741 ; 27   |#endif
                            11742 ; 28   |
                            11743 ; 29   |#if !defined(NULL)
                            11744 ; 30   |#define NULL 0
                            11745 ; 31   |#endif
                            11746 ; 32   |
                            11747 ; 33   |#define MAX_INT     0x7FFFFF
                            11748 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            11749 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            11750 ; 36   |#define MAX_ULONG   (-1) 
                            11751 ; 37   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 195

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11752 ; 38   |#define WORD_SIZE   24              // word size in bits
                            11753 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            11754 ; 40   |
                            11755 ; 41   |
                            11756 ; 42   |#define BYTE    unsigned char       // btVarName
                            11757 ; 43   |#define CHAR    signed char         // cVarName
                            11758 ; 44   |#define USHORT  unsigned short      // usVarName
                            11759 ; 45   |#define SHORT   unsigned short      // sVarName
                            11760 ; 46   |#define WORD    unsigned int        // wVarName
                            11761 ; 47   |#define INT     signed int          // iVarName
                            11762 ; 48   |#define DWORD   unsigned long       // dwVarName
                            11763 ; 49   |#define LONG    signed long         // lVarName
                            11764 ; 50   |#define BOOL    unsigned int        // bVarName
                            11765 ; 51   |#define FRACT   _fract              // frVarName
                            11766 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            11767 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            11768 ; 54   |#define FLOAT   float               // fVarName
                            11769 ; 55   |#define DBL     double              // dVarName
                            11770 ; 56   |#define ENUM    enum                // eVarName
                            11771 ; 57   |#define CMX     _complex            // cmxVarName
                            11772 ; 58   |typedef WORD UCS3;                   // 
                            11773 ; 59   |
                            11774 ; 60   |#define UINT16  unsigned short
                            11775 ; 61   |#define UINT8   unsigned char   
                            11776 ; 62   |#define UINT32  unsigned long
                            11777 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            11778 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            11779 ; 65   |#define WCHAR   UINT16
                            11780 ; 66   |
                            11781 ; 67   |//UINT128 is 16 bytes or 6 words
                            11782 ; 68   |typedef struct UINT128_3500 {   
                            11783 ; 69   |    int val[6];     
                            11784 ; 70   |} UINT128_3500;
                            11785 ; 71   |
                            11786 ; 72   |#define UINT128   UINT128_3500
                            11787 ; 73   |
                            11788 ; 74   |// Little endian word packed byte strings:   
                            11789 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11790 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11791 ; 77   |// Little endian word packed byte strings:   
                            11792 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11793 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11794 ; 80   |
                            11795 ; 81   |// Declare Memory Spaces To Use When Coding
                            11796 ; 82   |// A. Sector Buffers
                            11797 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            11798 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            11799 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            11800 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            11801 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            11802 ; 88   |// B. Media DDI Memory
                            11803 ; 89   |#define MEDIA_DDI_MEM _Y
                            11804 ; 90   |
                            11805 ; 91   |
                            11806 ; 92   |
                            11807 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            11808 ; 94   |// Examples of circular pointers:
                            11809 ; 95   |//    INT CIRC cpiVarName
                            11810 ; 96   |//    DWORD CIRC cpdwVarName
                            11811 ; 97   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 196

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11812 ; 98   |#define RETCODE INT                 // rcVarName
                            11813 ; 99   |
                            11814 ; 100  |// generic bitfield structure
                            11815 ; 101  |struct Bitfield {
                            11816 ; 102  |    unsigned int B0  :1;
                            11817 ; 103  |    unsigned int B1  :1;
                            11818 ; 104  |    unsigned int B2  :1;
                            11819 ; 105  |    unsigned int B3  :1;
                            11820 ; 106  |    unsigned int B4  :1;
                            11821 ; 107  |    unsigned int B5  :1;
                            11822 ; 108  |    unsigned int B6  :1;
                            11823 ; 109  |    unsigned int B7  :1;
                            11824 ; 110  |    unsigned int B8  :1;
                            11825 ; 111  |    unsigned int B9  :1;
                            11826 ; 112  |    unsigned int B10 :1;
                            11827 ; 113  |    unsigned int B11 :1;
                            11828 ; 114  |    unsigned int B12 :1;
                            11829 ; 115  |    unsigned int B13 :1;
                            11830 ; 116  |    unsigned int B14 :1;
                            11831 ; 117  |    unsigned int B15 :1;
                            11832 ; 118  |    unsigned int B16 :1;
                            11833 ; 119  |    unsigned int B17 :1;
                            11834 ; 120  |    unsigned int B18 :1;
                            11835 ; 121  |    unsigned int B19 :1;
                            11836 ; 122  |    unsigned int B20 :1;
                            11837 ; 123  |    unsigned int B21 :1;
                            11838 ; 124  |    unsigned int B22 :1;
                            11839 ; 125  |    unsigned int B23 :1;
                            11840 ; 126  |};
                            11841 ; 127  |
                            11842 ; 128  |union BitInt {
                            11843 ; 129  |        struct Bitfield B;
                            11844 ; 130  |        int        I;
                            11845 ; 131  |};
                            11846 ; 132  |
                            11847 ; 133  |#define MAX_MSG_LENGTH 10
                            11848 ; 134  |struct CMessage
                            11849 ; 135  |{
                            11850 ; 136  |        unsigned int m_uLength;
                            11851 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            11852 ; 138  |};
                            11853 ; 139  |
                            11854 ; 140  |typedef struct {
                            11855 ; 141  |    WORD m_wLength;
                            11856 ; 142  |    WORD m_wMessage;
                            11857 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            11858 ; 144  |} Message;
                            11859 ; 145  |
                            11860 ; 146  |struct MessageQueueDescriptor
                            11861 ; 147  |{
                            11862 ; 148  |        int *m_pBase;
                            11863 ; 149  |        int m_iModulo;
                            11864 ; 150  |        int m_iSize;
                            11865 ; 151  |        int *m_pHead;
                            11866 ; 152  |        int *m_pTail;
                            11867 ; 153  |};
                            11868 ; 154  |
                            11869 ; 155  |struct ModuleEntry
                            11870 ; 156  |{
                            11871 ; 157  |    int m_iSignaledEventMask;
                            11872 ; 158  |    int m_iWaitEventMask;
                            11873 ; 159  |    int m_iResourceOfCode;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 197

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11874 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            11875 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            11876 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            11877 ; 163  |    int m_uTimeOutHigh;
                            11878 ; 164  |    int m_uTimeOutLow;
                            11879 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            11880 ; 166  |};
                            11881 ; 167  |
                            11882 ; 168  |union WaitMask{
                            11883 ; 169  |    struct B{
                            11884 ; 170  |        unsigned int m_bNone     :1;
                            11885 ; 171  |        unsigned int m_bMessage  :1;
                            11886 ; 172  |        unsigned int m_bTimer    :1;
                            11887 ; 173  |        unsigned int m_bButton   :1;
                            11888 ; 174  |    } B;
                            11889 ; 175  |    int I;
                            11890 ; 176  |} ;
                            11891 ; 177  |
                            11892 ; 178  |
                            11893 ; 179  |struct Button {
                            11894 ; 180  |        WORD wButtonEvent;
                            11895 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            11896 ; 182  |};
                            11897 ; 183  |
                            11898 ; 184  |struct Message {
                            11899 ; 185  |        WORD wMsgLength;
                            11900 ; 186  |        WORD wMsgCommand;
                            11901 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            11902 ; 188  |};
                            11903 ; 189  |
                            11904 ; 190  |union EventTypes {
                            11905 ; 191  |        struct CMessage msg;
                            11906 ; 192  |        struct Button Button ;
                            11907 ; 193  |        struct Message Message;
                            11908 ; 194  |};
                            11909 ; 195  |
                            11910 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            11911 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            11912 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            11913 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            11914 ; 200  |
                            11915 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            11916 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            11917 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            11918 ; 204  |
                            11919 ; 205  |#if DEBUG
                            11920 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            11921 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            11922 ; 208  |#else 
                            11923 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            11924 ; 210  |#define DebugBuildAssert(x)    
                            11925 ; 211  |#endif
                            11926 ; 212  |
                            11927 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            11928 ; 214  |//  #pragma asm
                            11929 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            11930 ; 216  |//  #pragma endasm
                            11931 ; 217  |
                            11932 ; 218  |
                            11933 ; 219  |#ifdef COLOR_262K
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 198

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11934 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            11935 ; 221  |#elif defined(COLOR_65K)
                            11936 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            11937 ; 223  |#else
                            11938 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            11939 ; 225  |#endif
                            11940 ; 226  |    
                            11941 ; 227  |#endif // #ifndef _TYPES_H
                            11942 
                            11944 
                            11945 ; 6    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11946 ; 7    |
                            11947 ; 8    |//   SYSTEM STMP Registers 
                            11948 ; 9    |//  Last Edited 6.26.2003 M. Henson
                            11949 ; 10   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11950 ; 11   |
                            11951 ; 12   |#define HW_LRADC_BASEADDR (0xFA20)
                            11952 ; 13   |
                            11953 ; 14   |
                            11954 ; 15   |
                            11955 ; 16   |/////////////////////////////////////////////////////////////////////////////////
                            11956 ; 17   |//  Battery LRADC Control Register (HW_BATT_CTRL) Bit Definitions
                            11957 ; 18   |#define HW_BATT_CTRL_INPUT_OFFSET_WIDTH (7)
                            11958 ; 19   |#define HW_BATT_CTRL_RSVD0_WIDTH (1)
                            11959 ; 20   |#define HW_BATT_CTRL_HALF_CMP_PWR_WIDTH (1)
                            11960 ; 21   |#define HW_BATT_CTRL_INPUT_DIV2_WIDTH (1)
                            11961 ; 22   |#define HW_BATT_CTRL_CLEAR_WIDTH (1)
                            11962 ; 23   |#define HW_BATT_CTRL_PWD_WIDTH (1)
                            11963 ; 24   |#define HW_BATT_CTRL_CLK_DIV_WIDTH (2)
                            11964 ; 25   |#define HW_BATT_CTRL_RSVD1_WIDTH (2)
                            11965 ; 26   |#define HW_BATT_CTRL_REF_VAL_WIDTH (2)
                            11966 ; 27   |#define HW_BATT_CTRL_RSVD2_WIDTH (2)
                            11967 ; 28   |#define HW_BATT_CTRL_IRQ_EN_EVENT0_WIDTH (1)
                            11968 ; 29   |#define HW_BATT_CTRL_IRQ_EN_EVENT1_WIDTH (1)
                            11969 ; 30   |#define HW_BATT_CTRL_POLARITY_EVENT0_WIDTH (1)
                            11970 ; 31   |#define HW_BATT_CTRL_POLARITY_EVENT1_WIDTH (1)
                            11971 ; 32   |
                            11972 ; 33   |#define HW_BATT_CTRL_INPUT_OFFSET_BITPOS (0)
                            11973 ; 34   |#define HW_BATT_CTRL_HALF_CMP_PWR_BITPOS (8)
                            11974 ; 35   |#define HW_BATT_CTRL_INPUT_DIV2_BITPOS (9)
                            11975 ; 36   |#define HW_BATT_CTRL_CLEAR_BITPOS (10)
                            11976 ; 37   |#define HW_BATT_CTRL_PWD_BITPOS (11)
                            11977 ; 38   |#define HW_BATT_CTRL_CLK_DIV_BITPOS (12)
                            11978 ; 39   |#define HW_BATT_CTRL_REF_VAL_BITPOS (16)
                            11979 ; 40   |
                            11980 ; 41   |#define HW_BATT_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_BATT_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_BA
                                  TT_CTRL_INPUT_OFFSET_BITPOS)        
                            11981 ; 42   |#define HW_BATT_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_BATT_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_BA
                                  TT_CTRL_HALF_CMP_PWR_BITPOS)        
                            11982 ; 43   |#define HW_BATT_CTRL_INPUT_DIV2_SETMASK (((1<<HW_BATT_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_BATT_C
                                  TRL_INPUT_DIV2_BITPOS) 
                            11983 ; 44   |#define HW_BATT_CTRL_CLEAR_SETMASK (((1<<HW_BATT_CTRL_CLEAR_WIDTH)-1)<<HW_BATT_CTRL_CLEAR_
                                  BITPOS) 
                            11984 ; 45   |#define HW_BATT_CTRL_PWD_SETMASK (((1<<HW_BATT_CTRL_PWD_WIDTH)-1)<<HW_BATT_CTRL_PWD_BITPOS
                                  ) 
                            11985 ; 46   |#define HW_BATT_CTRL_CLK_DIV_SETMASK (((1<<HW_BATT_CTRL_CLK_DIV_WIDTH)-1)<<HW_BATT_CTRL_CL
                                  K_DIV_BITPOS)        
                            11986 ; 47   |#define HW_BATT_CTRL_REF_VAL_SETMASK (((1<<HW_BATT_CTRL_REF_VAL_WIDTH)-1)<<HW_BATT_CTRL_RE
                                  F_VAL_BITPOS)        
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 199

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11987 ; 48   |
                            11988 ; 49   |#define HW_BATT_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_OFFSET_SETMASK)     
                            11989 ; 50   |#define HW_BATT_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_BATT_CTRL_HALF_CMP_PWR_SETMASK)     
                            11990 ; 51   |#define HW_BATT_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_DIV2_SETMASK) 
                            11991 ; 52   |#define HW_BATT_CTRL_CLEAR_CLRMASK (~(WORD)HW_BATT_CTRL_CLEAR_SETMASK) 
                            11992 ; 53   |#define HW_BATT_CTRL_PWD_CLRMASK (~(WORD)HW_BATT_CTRL_PWD_SETMASK) 
                            11993 ; 54   |#define HW_BATT_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_BATT_CTRL_CLK_DIV_SETMASK)     
                            11994 ; 55   |#define HW_BATT_CTRL_REF_VAL_CLRMASK (~(WORD)HW_BATT_CTRL_REF_VAL_SETMASK)
                            11995 ; 56   |
                            11996 ; 57   |typedef union               
                            11997 ; 58   |{
                            11998 ; 59   |    struct {
                            11999 ; 60   |        unsigned int INPUT_OFFSET                 : HW_BATT_CTRL_INPUT_OFFSET_WIDTH;
                            12000 ; 61   |        unsigned int RSVD0                        : HW_BATT_CTRL_RSVD0_WIDTH;
                            12001 ; 62   |        unsigned int HALF_CMP_PWR                 : HW_BATT_CTRL_HALF_CMP_PWR_WIDTH;
                            12002 ; 63   |        unsigned int INPUT_DIV2                   : HW_BATT_CTRL_INPUT_DIV2_WIDTH;
                            12003 ; 64   |        unsigned int CLEAR                        : HW_BATT_CTRL_CLEAR_WIDTH;
                            12004 ; 65   |        unsigned int PWD                          : HW_BATT_CTRL_PWD_WIDTH;
                            12005 ; 66   |        unsigned int CLK_DIV                      : HW_BATT_CTRL_CLK_DIV_WIDTH;
                            12006 ; 67   |        unsigned int RSVD1                        : HW_BATT_CTRL_RSVD1_WIDTH;
                            12007 ; 68   |        unsigned int REF_VAL                      : HW_BATT_CTRL_REF_VAL_WIDTH;
                            12008 ; 69   |        unsigned int RSVD2                        : HW_BATT_CTRL_RSVD2_WIDTH;
                            12009 ; 70   |                 unsigned int IRQ_EN_EVENT0                               : HW_BATT_CTRL_I
                                  RQ_EN_EVENT0_WIDTH;
                            12010 ; 71   |                 unsigned int IRQ_EN_EVENT1                               : HW_BATT_CTRL_I
                                  RQ_EN_EVENT1_WIDTH;
                            12011 ; 72   |             unsigned int POLARITY_EVENT0              : HW_BATT_CTRL_POLARITY_EVENT0_WIDT
                                  H;
                            12012 ; 73   |                 unsigned int POLARITY_EVENT1              : HW_BATT_CTRL_POLARITY_EVENT1_
                                  WIDTH;
                            12013 ; 74   |    } B;
                            12014 ; 75   |   unsigned int I;
                            12015 ; 76   |        unsigned int U;
                            12016 ; 77   |} lradc_ctrl_type;
                            12017 ; 78   |#define HW_BATT_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR))    /* Batt
                                  ery LRADC Control Register */
                            12018 ; 79   |
                            12019 ; 80   |
                            12020 ; 81   |/////////////////////////////////////////////////////////////////////////////////
                            12021 ; 82   |//  Battery LRADC Threshold Register (HW_BATT_THRSH) Bit Definitions
                            12022 ; 83   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH (9)
                            12023 ; 84   |#define HW_BATT_THRSH_RSVD0_WIDTH (3)
                            12024 ; 85   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH (9)
                            12025 ; 86   |#define HW_BATT_THRSH_RSVD1_WIDTH (3)
                            12026 ; 87   |
                            12027 ; 88   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS (0)
                            12028 ; 89   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS (12)
                            12029 ; 90   |
                            12030 ; 91   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH)
                                  -1)<<HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS)        
                            12031 ; 92   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH)
                                  -1)<<HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS)        
                            12032 ; 93   |
                            12033 ; 94   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT0_SETM
                                  ASK)     
                            12034 ; 95   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT1_SETM
                                  ASK)     
                            12035 ; 96   |
                            12036 ; 97   |
                            12037 ; 98   |typedef union               
                            12038 ; 99   |{
                            12039 ; 100  |    struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 200

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12040 ; 101  |        unsigned int THRESHOLD_EVENT0   : HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH;
                            12041 ; 102  |        unsigned int RSVD0                  : HW_BATT_THRSH_RSVD0_WIDTH;
                            12042 ; 103  |        unsigned int THRESHOLD_EVENT1   : HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH;
                            12043 ; 104  |        unsigned int RSVD1              : HW_BATT_THRSH_RSVD1_WIDTH;
                            12044 ; 105  |    } B;
                            12045 ; 106  |    unsigned int I;
                            12046 ; 107  |} lradc_thrsh_type;
                            12047 ; 108  |#define HW_BATT_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+1))    /* 
                                  Battery LRADC Threshold Register */
                            12048 ; 109  |
                            12049 ; 110  |
                            12050 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            12051 ; 112  |//  Battery LRADC Result Register (HW_BATT_RESULT) Bit Definitions
                            12052 ; 113  |#define HW_BATT_RESULT_EQ_EVENT1_WIDTH (1)
                            12053 ; 114  |#define HW_BATT_RESULT_EQ_EVENT0_WIDTH (1)
                            12054 ; 115  |#define HW_BATT_RESULT_GT_EVENT1_WIDTH (1)
                            12055 ; 116  |#define HW_BATT_RESULT_GT_EVENT0_WIDTH (1)
                            12056 ; 117  |#define HW_BATT_RESULT_LT_EVENT1_WIDTH (1)
                            12057 ; 118  |#define HW_BATT_RESULT_LT_EVENT0_WIDTH (1)
                            12058 ; 119  |#define HW_BATT_RESULT_RSVD0_WIDTH (2)
                            12059 ; 120  |#define HW_BATT_RESULT_DATA_OUT_WIDTH (9)
                            12060 ; 121  |#define HW_BATT_RESULT_RSVD1_WIDTH (3)
                            12061 ; 122  |#define HW_BATT_RESULT_IRQ_EVENT0_WIDTH (1)
                            12062 ; 123  |#define HW_BATT_RESULT_IRQ_EVENT1_WIDTH (1)
                            12063 ; 124  |#define HW_BATT_RESULT_RSVD2_WIDTH (2)
                            12064 ; 125  |
                            12065 ; 126  |#define HW_BATT_RESULT_EQ_EVENT1_BITPOS (0)
                            12066 ; 127  |#define HW_BATT_RESULT_EQ_EVENT0_BITPOS (1)
                            12067 ; 128  |#define HW_BATT_RESULT_GT_EVENT1_BITPOS (2)
                            12068 ; 129  |#define HW_BATT_RESULT_GT_EVENT0_BITPOS (3)
                            12069 ; 130  |#define HW_BATT_RESULT_LT_EVENT1_BITPOS (4)
                            12070 ; 131  |#define HW_BATT_RESULT_LT_EVENT0_BITPOS (5)
                            12071 ; 132  |#define HW_BATT_RESULT_RSVD0_BITPOS (6)
                            12072 ; 133  |#define HW_BATT_RESULT_DATA_OUT_BITPOS (8)
                            12073 ; 134  |#define HW_BATT_RESULT_RSVD1_BITPOS (17)
                            12074 ; 135  |#define HW_BATT_RESULT_IRQ_EVENT0_BITPOS (20)
                            12075 ; 136  |#define HW_BATT_RESULT_IRQ_EVENT1_BITPOS (21)
                            12076 ; 137  |#define HW_BATT_RESULT_RSVD2_BITPOS (22)
                            12077 ; 138  |
                            12078 ; 139  |
                            12079 ; 140  |
                            12080 ; 141  |#define HW_BATT_RESULT_EQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_BATT
                                  _RESULT_EQ_EVENT1_BITPOS)
                            12081 ; 142  |#define HW_BATT_RESULT_EQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_BATT
                                  _RESULT_EQ_EVENT0_BITPOS)
                            12082 ; 143  |#define HW_BATT_RESULT_GT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT1_WIDTH)-1)<<HW_BATT
                                  _RESULT_GT_EVENT1_BITPOS)
                            12083 ; 144  |#define HW_BATT_RESULT_GT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT0_WIDTH)-1)<<HW_BATT
                                  _RESULT_GT_EVENT0_BITPOS)
                            12084 ; 145  |#define HW_BATT_RESULT_LT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT1_WIDTH)-1)<<HW_BATT
                                  _RESULT_LT_EVENT1_BITPOS)
                            12085 ; 146  |#define HW_BATT_RESULT_LT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT0_WIDTH)-1)<<HW_BATT
                                  _RESULT_LT_EVENT0_BITPOS)
                            12086 ; 147  |#define HW_BATT_RESULT_RSVD0_SETMASK (((1<<HW_BATT_RESULT_RSVD0_WIDTH)-1)<<HW_BATT_RESULT_
                                  RSVD0_BITPOS)
                            12087 ; 148  |#define HW_BATT_RESULT_DATA_OUT_SETMASK (((1<<HW_BATT_RESULT_DATA_OUT_WIDTH)-1)<<HW_BATT_R
                                  ESULT_DATA_OUT_BITPOS)
                            12088 ; 149  |#define HW_BATT_RESULT_RSVD1_SETMASK (((1<<HW_BATT_RESULT_RSVD1_WIDTH)-1)<<HW_BATT_RESULT_
                                  RSVD1_BITPOS)
                            12089 ; 150  |#define HW_BATT_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_BA
                                  TT_RESULT_IRQ_EVENT0_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 201

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12090 ; 151  |#define HW_BATT_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_BA
                                  TT_RESULT_IRQ_EVENT1_BITPOS)
                            12091 ; 152  |#define HW_BATT_RESULT_RSVD2_SETMASK (((1<<HW_BATT_RESULT_RSVD2_WIDTH)-1)<<HW_BATT_RESULT_
                                  RSVD2_BITPOS)
                            12092 ; 153  |
                            12093 ; 154  |
                            12094 ; 155  |#define HW_BATT_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT1_SETMASK)
                            12095 ; 156  |#define HW_BATT_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT0_SETMASK)
                            12096 ; 157  |#define HW_BATT_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT1_SETMASK)
                            12097 ; 158  |#define HW_BATT_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT0_SETMASK)
                            12098 ; 159  |#define HW_BATT_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT1_SETMASK)
                            12099 ; 160  |#define HW_BATT_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT0_SETMASK)
                            12100 ; 161  |#define HW_BATT_RESULT_RSVD0_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD0_SETMASK)
                            12101 ; 162  |#define HW_BATT_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_BATT_RESULT_DATA_OUT_SETMASK)
                            12102 ; 163  |#define HW_BATT_RESULT_RSVD1_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD1_SETMASK)
                            12103 ; 164  |#define HW_BATT_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT0_SETMASK)
                            12104 ; 165  |#define HW_BATT_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT1_SETMASK)
                            12105 ; 166  |#define HW_BATT_RESULT_RSVD2_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD2_SETMASK)
                            12106 ; 167  |
                            12107 ; 168  |typedef union               
                            12108 ; 169  |{
                            12109 ; 170  |    struct {
                            12110 ; 171  |        unsigned int EQ_EVENT1                  : HW_BATT_RESULT_EQ_EVENT1_WIDTH;
                            12111 ; 172  |        unsigned int EQ_EVENT0                  : HW_BATT_RESULT_EQ_EVENT0_WIDTH;
                            12112 ; 173  |        unsigned int GT_EVENT1                  : HW_BATT_RESULT_GT_EVENT1_WIDTH;
                            12113 ; 174  |        unsigned int GT_EVENT0                  : HW_BATT_RESULT_GT_EVENT0_WIDTH;
                            12114 ; 175  |        unsigned int LT_EVENT1                  : HW_BATT_RESULT_LT_EVENT1_WIDTH;
                            12115 ; 176  |        unsigned int LT_EVENT0                  : HW_BATT_RESULT_LT_EVENT0_WIDTH;
                            12116 ; 177  |        unsigned int RSVD0                     : HW_BATT_RESULT_RSVD0_WIDTH;
                            12117 ; 178  |        unsigned int DATA_OUT                  : HW_BATT_RESULT_DATA_OUT_WIDTH;
                            12118 ; 179  |        unsigned int RSVD1                     : HW_BATT_RESULT_RSVD1_WIDTH;
                            12119 ; 180  |                 unsigned int IRQ_EVENT0                                : HW_BATT_RESULT_I
                                  RQ_EVENT0_WIDTH;
                            12120 ; 181  |                 unsigned int IRQ_EVENT1                                : HW_BATT_RESULT_I
                                  RQ_EVENT1_WIDTH;                        
                            12121 ; 182  |                 unsigned int RSVD2                                         : HW_BATT_RESU
                                  LT_RSVD2_WIDTH;
                            12122 ; 183  |    } B;
                            12123 ; 184  |    unsigned int I;
                            12124 ; 185  |} lradc_result_type;
                            12125 ; 186  |#define HW_BATT_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+2))    /
                                  * Battery LRADC Result Register */
                            12126 ; 187  |
                            12127 ; 188  |
                            12128 ; 189  |
                            12129 ; 190  |/////////////////////////////////////////////////////////////////////////////////
                            12130 ; 191  |//  LRADC1 Control Register (HW_LRADC1_CTRL) Bit Definitions
                            12131 ; 192  |#define HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH (7)
                            12132 ; 193  |#define HW_LRADC1_CTRL_RSVD0_WIDTH (1)
                            12133 ; 194  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH (1)
                            12134 ; 195  |#define HW_LRADC1_CTRL_INPUT_DIV2_WIDTH (1)
                            12135 ; 196  |#define HW_LRADC1_CTRL_CLEAR_WIDTH (1)
                            12136 ; 197  |#define HW_LRADC1_CTRL_PWD_WIDTH (1)
                            12137 ; 198  |#define HW_LRADC1_CTRL_CLK_DIV_WIDTH (2)
                            12138 ; 199  |#define HW_LRADC1_CTRL_RSVD1_WIDTH (2)
                            12139 ; 200  |#define HW_LRADC1_CTRL_REF_VAL_WIDTH (2)
                            12140 ; 201  |#define HW_LRADC1_CTRL_RSVD2_WIDTH (6)
                            12141 ; 202  |
                            12142 ; 203  |#define HW_LRADC1_CTRL_INPUT_OFFSET_BITPOS (0)
                            12143 ; 204  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_BITPOS (8)
                            12144 ; 205  |#define HW_LRADC1_CTRL_INPUT_DIV2_BITPOS (9)
                            12145 ; 206  |#define HW_LRADC1_CTRL_CLEAR_BITPOS (10)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 202

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12146 ; 207  |#define HW_LRADC1_CTRL_PWD_BITPOS (11)
                            12147 ; 208  |#define HW_LRADC1_CTRL_CLK_DIV_BITPOS (12)
                            12148 ; 209  |#define HW_LRADC1_CTRL_REF_VAL_BITPOS (16)
                            12149 ; 210  |
                            12150 ; 211  |#define HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH)-1)<<H
                                  W_LRADC1_CTRL_INPUT_OFFSET_BITPOS)        
                            12151 ; 212  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH)-1)<<H
                                  W_LRADC1_CTRL_HALF_CMP_PWR_BITPOS)        
                            12152 ; 213  |#define HW_LRADC1_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_LR
                                  ADC1_CTRL_INPUT_DIV2_BITPOS) 
                            12153 ; 214  |#define HW_LRADC1_CTRL_CLEAR_SETMASK (((1<<HW_LRADC1_CTRL_CLEAR_WIDTH)-1)<<HW_LRADC1_CTRL_
                                  CLEAR_BITPOS) 
                            12154 ; 215  |#define HW_LRADC1_CTRL_PWD_SETMASK (((1<<HW_LRADC1_CTRL_PWD_WIDTH)-1)<<HW_LRADC1_CTRL_PWD_
                                  BITPOS) 
                            12155 ; 216  |#define HW_LRADC1_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC1_CTRL_CLK_DIV_WIDTH)-1)<<HW_LRADC1_C
                                  TRL_CLK_DIV_BITPOS)        
                            12156 ; 217  |#define HW_LRADC1_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC1_CTRL_REF_VAL_WIDTH)-1)<<HW_LRADC1_C
                                  TRL_REF_VAL_BITPOS)        
                            12157 ; 218  |
                            12158 ; 219  |#define HW_LRADC1_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK)  
                                     
                            12159 ; 220  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK)  
                                     
                            12160 ; 221  |#define HW_LRADC1_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_DIV2_SETMASK) 
                            12161 ; 222  |#define HW_LRADC1_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLEAR_SETMASK) 
                            12162 ; 223  |#define HW_LRADC1_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC1_CTRL_PWD_SETMASK) 
                            12163 ; 224  |#define HW_LRADC1_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLK_DIV_SETMASK)     
                            12164 ; 225  |#define HW_LRADC1_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC1_CTRL_REF_VAL_SETMASK)     
                            12165 ; 226  |
                            12166 ; 227  |#define HW_LRADC1_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+3))    /* 
                                  LRADC1 Control Register */
                            12167 ; 228  |
                            12168 ; 229  |
                            12169 ; 230  |
                            12170 ; 231  |/////////////////////////////////////////////////////////////////////////////////
                            12171 ; 232  |//  LRADC1 Threshold Register (HW_LRADC1_THRSH) Bit Definitions
                            12172 ; 233  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH (9)
                            12173 ; 234  |#define HW_LRADC1_THRSH_RSVD0_WIDTH (3)
                            12174 ; 235  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH (9)
                            12175 ; 236  |#define HW_LRADC1_THRSH_RSVD1_WIDTH (3)
                            12176 ; 237  |
                            12177 ; 238  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS (0)
                            12178 ; 239  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS (12)
                            12179 ; 240  |
                            12180 ; 241  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS)        
                            12181 ; 242  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS)        
                            12182 ; 243  |
                            12183 ; 244  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MIN_THRESHOLD_SETMAS
                                  K)     
                            12184 ; 245  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MAX_THRESHOLD_SETMAS
                                  K)     
                            12185 ; 246  |
                            12186 ; 247  |#define HW_LRADC1_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+4))    /
                                  * LRADC1 Threshold Register */
                            12187 ; 248  |
                            12188 ; 249  |/////////////////////////////////////////////////////////////////////////////////
                            12189 ; 250  |//  LRADC1 Result Register (HW_LRADC1_RESULT) Bit Definitions
                            12190 ; 251  |#define HW_LRADC1_RESULT_EQ_EVENT1_WIDTH (1)
                            12191 ; 252  |#define HW_LRADC1_RESULT_EQ_EVENT0_WIDTH (1)
                            12192 ; 253  |#define HW_LRADC1_RESULT_GT_EVENT1_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 203

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12193 ; 254  |#define HW_LRADC1_RESULT_GT_EVENT0_WIDTH (1)
                            12194 ; 255  |#define HW_LRADC1_RESULT_LT_EVENT1_WIDTH (1)
                            12195 ; 256  |#define HW_LRADC1_RESULT_LT_EVENT0_WIDTH (1)
                            12196 ; 257  |#define HW_LRADC1_RESULT_RSVD0_WIDTH (2)
                            12197 ; 258  |#define HW_LRADC1_RESULT_DATA_OUT_WIDTH (9)
                            12198 ; 259  |#define HW_LRADC1_RESULT_RSVD1_WIDTH (3)
                            12199 ; 260  |#define HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH (1)
                            12200 ; 261  |#define HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH (1)
                            12201 ; 262  |#define HW_LRADC1_RESULT_RSVD2_WIDTH (2)
                            12202 ; 263  |
                            12203 ; 264  |#define HW_LRADC1_RESULT_EQ_EVENT1_BITPOS (0)
                            12204 ; 265  |#define HW_LRADC1_RESULT_EQ_EVENT0_BITPOS (1)
                            12205 ; 266  |#define HW_LRADC1_RESULT_GT_EVENT1_BITPOS (2)
                            12206 ; 267  |#define HW_LRADC1_RESULT_GT_EVENT0_BITPOS (3)
                            12207 ; 268  |#define HW_LRADC1_RESULT_LT_EVENT1_BITPOS (4)
                            12208 ; 269  |#define HW_LRADC1_RESULT_LT_EVENT0_BITPOS (5)
                            12209 ; 270  |#define HW_LRADC1_RESULT_RSVD0_BITPOS (6)
                            12210 ; 271  |#define HW_LRADC1_RESULT_DATA_OUT_BITPOS (8)
                            12211 ; 272  |#define HW_LRADC1_RESULT_RSVD1_BITPOS (17)
                            12212 ; 273  |#define HW_LRADC1_RESULT_IRQ_EVENT0_BITPOS (20)
                            12213 ; 274  |#define HW_LRADC1_RESULT_IRQ_EVENT1_BITPOS (21)
                            12214 ; 275  |#define HW_LRADC1_RESULT_RSVD2_BITPOS (22)
                            12215 ; 276  |
                            12216 ; 277  |#define HW_LRADC1_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_EQ_EVENT1_BITPOS)
                            12217 ; 278  |#define HW_LRADC1_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_EQ_EVENT0_BITPOS)
                            12218 ; 279  |#define HW_LRADC1_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_GT_EVENT1_BITPOS)
                            12219 ; 280  |#define HW_LRADC1_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_GT_EVENT0_BITPOS)
                            12220 ; 281  |#define HW_LRADC1_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_LT_EVENT1_BITPOS)
                            12221 ; 282  |#define HW_LRADC1_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_LT_EVENT0_BITPOS)
                            12222 ; 283  |#define HW_LRADC1_RESULT_RSVD0_SETMASK (((1<<HW_LRADC1_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC1_R
                                  ESULT_RSVD0_BITPOS)
                            12223 ; 284  |#define HW_LRADC1_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC1_RESULT_DATA_OUT_WIDTH)-1)<<HW_LR
                                  ADC1_RESULT_DATA_OUT_BITPOS)
                            12224 ; 285  |#define HW_LRADC1_RESULT_RSVD1_SETMASK (((1<<HW_LRADC1_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC1_R
                                  ESULT_RSVD1_BITPOS)
                            12225 ; 286  |#define HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH)-1)<<H
                                  W_LRADC1_RESULT_IRQ_EVENT0_BITPOS)
                            12226 ; 287  |#define HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH)-1)<<H
                                  W_LRADC1_RESULT_IRQ_EVENT1_BITPOS)
                            12227 ; 288  |#define HW_LRADC1_RESULT_RSVD2_SETMASK (((1<<HW_LRADC1_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC1_R
                                  ESULT_RSVD2_BITPOS)
                            12228 ; 289  |
                            12229 ; 290  |
                            12230 ; 291  |#define HW_LRADC1_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT1_SETMASK)
                            12231 ; 292  |#define HW_LRADC1_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT0_SETMASK)
                            12232 ; 293  |#define HW_LRADC1_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT1_SETMASK)
                            12233 ; 294  |#define HW_LRADC1_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT0_SETMASK)
                            12234 ; 295  |#define HW_LRADC1_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT1_SETMASK)
                            12235 ; 296  |#define HW_LRADC1_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT0_SETMASK)
                            12236 ; 297  |#define HW_LRADC1_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD0_SETMASK)
                            12237 ; 298  |#define HW_LRADC1_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC1_RESULT_DATA_OUT_SETMASK)
                            12238 ; 299  |#define HW_LRADC1_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD1_SETMASK)
                            12239 ; 300  |#define HW_LRADC1_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK)
                            12240 ; 301  |#define HW_LRADC1_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK)
                            12241 ; 302  |#define HW_LRADC1_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD2_SETMASK)
                            12242 ; 303  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 204

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12243 ; 304  |#define HW_LRADC1_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+5))   
                                   /* LRADC1 Result Register */
                            12244 ; 305  |
                            12245 ; 306  |/////////////////////////////////////////////////////////////////////////////////
                            12246 ; 307  |//  LRADC2_CTRL Control Register (HW_LRADC2_CTRL_CTRL) Bit Definitions
                            12247 ; 308  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WIDTH (7)
                            12248 ; 309  |#define HW_LRADC2_CTRL_CTRL_RSVD0_WIDTH (1)
                            12249 ; 310  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WIDTH (1)
                            12250 ; 311  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH (1)
                            12251 ; 312  |#define HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH (1)
                            12252 ; 313  |#define HW_LRADC2_CTRL_CTRL_PWD_WIDTH (1)
                            12253 ; 314  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH (2)
                            12254 ; 315  |#define HW_LRADC2_CTRL_CTRL_RSVD1_WIDTH (2)
                            12255 ; 316  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH (2)
                            12256 ; 317  |#define HW_LRADC2_CTRL_CTRL_RSVD2_WIDTH (6)
                            12257 ; 318  |
                            12258 ; 319  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS (0)
                            12259 ; 320  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS (8)
                            12260 ; 321  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS (9)
                            12261 ; 322  |#define HW_LRADC2_CTRL_CTRL_CLEAR_BITPOS (10)
                            12262 ; 323  |#define HW_LRADC2_CTRL_CTRL_PWD_BITPOS (11)
                            12263 ; 324  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS (12)
                            12264 ; 325  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_BITPOS (16)
                            12265 ; 326  |
                            12266 ; 327  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WI
                                  DTH)-1)<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS)        
                            12267 ; 328  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WI
                                  DTH)-1)<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS)        
                            12268 ; 329  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH)
                                  -1)<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS) 
                            12269 ; 330  |#define HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH)-1)<<HW_LR
                                  ADC2_CTRL_CTRL_CLEAR_BITPOS) 
                            12270 ; 331  |#define HW_LRADC2_CTRL_CTRL_PWD_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_PWD_WIDTH)-1)<<HW_LRADC2
                                  _CTRL_CTRL_PWD_BITPOS) 
                            12271 ; 332  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH)-1)<<H
                                  W_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS)        
                            12272 ; 333  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH)-1)<<H
                                  W_LRADC2_CTRL_CTRL_REF_VAL_BITPOS)        
                            12273 ; 334  |
                            12274 ; 335  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_
                                  SETMASK)     
                            12275 ; 336  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_
                                  SETMASK)     
                            12276 ; 337  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETM
                                  ASK) 
                            12277 ; 338  |#define HW_LRADC2_CTRL_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK) 
                            12278 ; 339  |#define HW_LRADC2_CTRL_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_PWD_SETMASK) 
                            12279 ; 340  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK)  
                                     
                            12280 ; 341  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK)  
                                     
                            12281 ; 342  |
                            12282 ; 343  |
                            12283 ; 344  |#define HW_LRADC2_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+6))    /* 
                                  LRADC2_CTRL Control Register */
                            12284 ; 345  |
                            12285 ; 346  |
                            12286 ; 347  |
                            12287 ; 348  |/////////////////////////////////////////////////////////////////////////////////
                            12288 ; 349  |//  LRADC2 Threshold Register (HW_LRADC2_THRSH) Bit Definitions
                            12289 ; 350  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH (9)
                            12290 ; 351  |#define HW_LRADC2_THRSH_RSVD0_WIDTH (3)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 205

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12291 ; 352  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH (9)
                            12292 ; 353  |#define HW_LRADC2_THRSH_RSVD1_WIDTH (3)
                            12293 ; 354  |
                            12294 ; 355  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS (0)
                            12295 ; 356  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS (12)
                            12296 ; 357  |
                            12297 ; 358  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS)        
                            12298 ; 359  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS)        
                            12299 ; 360  |
                            12300 ; 361  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MIN_THRESHOLD_SETMAS
                                  K)     
                            12301 ; 362  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MAX_THRESHOLD_SETMAS
                                  K)     
                            12302 ; 363  |
                            12303 ; 364  |#define HW_LRADC2_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+7))    /
                                  * LRADC2 Threshold Register */
                            12304 ; 365  |
                            12305 ; 366  |
                            12306 ; 367  |
                            12307 ; 368  |/////////////////////////////////////////////////////////////////////////////////
                            12308 ; 369  |//  LRADC2 Result Register (HW_LRADC2_RESULT) Bit Definitions
                            12309 ; 370  |#define HW_LRADC2_RESULT_EQ_EVENT1_WIDTH (1)
                            12310 ; 371  |#define HW_LRADC2_RESULT_EQ_EVENT0_WIDTH (1)
                            12311 ; 372  |#define HW_LRADC2_RESULT_GT_EVENT1_WIDTH (1)
                            12312 ; 373  |#define HW_LRADC2_RESULT_GT_EVENT0_WIDTH (1)
                            12313 ; 374  |#define HW_LRADC2_RESULT_LT_EVENT1_WIDTH (1)
                            12314 ; 375  |#define HW_LRADC2_RESULT_LT_EVENT0_WIDTH (1)
                            12315 ; 376  |#define HW_LRADC2_RESULT_RSVD0_WIDTH (2)
                            12316 ; 377  |#define HW_LRADC2_RESULT_DATA_OUT_WIDTH (9)
                            12317 ; 378  |#define HW_LRADC2_RESULT_RSVD1_WIDTH (3)
                            12318 ; 379  |#define HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH (1)
                            12319 ; 380  |#define HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH (1)
                            12320 ; 381  |#define HW_LRADC2_RESULT_RSVD2_WIDTH (2)
                            12321 ; 382  |
                            12322 ; 383  |#define HW_LRADC2_RESULT_EQ_EVENT1_BITPOS (0)
                            12323 ; 384  |#define HW_LRADC2_RESULT_EQ_EVENT0_BITPOS (1)
                            12324 ; 385  |#define HW_LRADC2_RESULT_GT_EVENT1_BITPOS (2)
                            12325 ; 386  |#define HW_LRADC2_RESULT_GT_EVENT0_BITPOS (3)
                            12326 ; 387  |#define HW_LRADC2_RESULT_LT_EVENT1_BITPOS (4)
                            12327 ; 388  |#define HW_LRADC2_RESULT_LT_EVENT0_BITPOS (5)
                            12328 ; 389  |#define HW_LRADC2_RESULT_RSVD0_BITPOS (6)
                            12329 ; 390  |#define HW_LRADC2_RESULT_DATA_OUT_BITPOS (8)
                            12330 ; 391  |#define HW_LRADC2_RESULT_RSVD1_BITPOS (17)
                            12331 ; 392  |#define HW_LRADC2_RESULT_IRQ_EVENT0_BITPOS (20)
                            12332 ; 393  |#define HW_LRADC2_RESULT_IRQ_EVENT1_BITPOS (21)
                            12333 ; 394  |#define HW_LRADC2_RESULT_RSVD2_BITPOS (22)
                            12334 ; 395  |
                            12335 ; 396  |#define HW_LRADC2_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_EQ_EVENT1_BITPOS)
                            12336 ; 397  |#define HW_LRADC2_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_EQ_EVENT0_BITPOS)
                            12337 ; 398  |#define HW_LRADC2_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_GT_EVENT1_BITPOS)
                            12338 ; 399  |#define HW_LRADC2_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_GT_EVENT0_BITPOS)
                            12339 ; 400  |#define HW_LRADC2_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_LT_EVENT1_BITPOS)
                            12340 ; 401  |#define HW_LRADC2_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_LT_EVENT0_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 206

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12341 ; 402  |#define HW_LRADC2_RESULT_RSVD0_SETMASK (((1<<HW_LRADC2_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC2_R
                                  ESULT_RSVD0_BITPOS)
                            12342 ; 403  |#define HW_LRADC2_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC2_RESULT_DATA_OUT_WIDTH)-1)<<HW_LR
                                  ADC2_RESULT_DATA_OUT_BITPOS)
                            12343 ; 404  |#define HW_LRADC2_RESULT_RSVD1_SETMASK (((1<<HW_LRADC2_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC2_R
                                  ESULT_RSVD1_BITPOS)
                            12344 ; 405  |#define HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH)-1)<<H
                                  W_LRADC2_RESULT_IRQ_EVENT0_BITPOS)
                            12345 ; 406  |#define HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH)-1)<<H
                                  W_LRADC2_RESULT_IRQ_EVENT1_BITPOS)
                            12346 ; 407  |#define HW_LRADC2_RESULT_RSVD2_SETMASK (((1<<HW_LRADC2_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC2_R
                                  ESULT_RSVD2_BITPOS)
                            12347 ; 408  |
                            12348 ; 409  |#define HW_LRADC2_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT1_SETMASK)
                            12349 ; 410  |#define HW_LRADC2_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT0_SETMASK)
                            12350 ; 411  |#define HW_LRADC2_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT1_SETMASK)
                            12351 ; 412  |#define HW_LRADC2_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT0_SETMASK)
                            12352 ; 413  |#define HW_LRADC2_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT1_SETMASK)
                            12353 ; 414  |#define HW_LRADC2_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT0_SETMASK)
                            12354 ; 415  |#define HW_LRADC2_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD0_SETMASK)
                            12355 ; 416  |#define HW_LRADC2_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC2_RESULT_DATA_OUT_SETMASK)
                            12356 ; 417  |#define HW_LRADC2_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD1_SETMASK)
                            12357 ; 418  |#define HW_LRADC2_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK)
                            12358 ; 419  |#define HW_LRADC2_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK)
                            12359 ; 420  |#define HW_LRADC2_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD2_SETMASK)
                            12360 ; 421  |
                            12361 ; 422  |#define HW_LRADC2_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+8))   
                                   /* LRADC2 Result Register */
                            12362 ; 423  |#define HW_LRADC_REF_0_SETMASK                  0x0<<HW_BATT_CTRL_REF_VAL_BITPOS
                            12363 ; 424  |#define HW_LRADC_REF_1_SETMASK                  0x1<<HW_BATT_CTRL_REF_VAL_BITPOS
                            12364 ; 425  |#define HW_LRADC_REF_2_SETMASK                  0x2<<HW_BATT_CTRL_REF_VAL_BITPOS
                            12365 ; 426  |#define HW_LRADC_REF_3_SETMASK                  0x3<<HW_BATT_CTRL_REF_VAL_BITPOS
                            12366 ; 427  |#define HW_LRADC_REF_4_SETMASK                  HW_LRADC_REF_0_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                            12367 ; 428  |#define HW_LRADC_REF_5_SETMASK                  HW_LRADC_REF_1_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                            12368 ; 429  |#define HW_LRADC_REF_6_SETMASK                  HW_LRADC_REF_2_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                            12369 ; 430  |#define HW_LRADC_REF_7_SETMASK                  HW_LRADC_REF_3_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                            12370 ; 431  |#define HW_LRADC_RES_REF_0                              80
                            12371 ; 432  |#define HW_LRADC_RES_REF_1                              77
                            12372 ; 433  |#define HW_LRADC_RES_REF_2                              100
                            12373 ; 434  |#define HW_LRADC_RES_REF_3                              129
                            12374 ; 435  |#define HW_LRADC_RES_REF_4                              160
                            12375 ; 436  |#define HW_LRADC_RES_REF_5                              154
                            12376 ; 437  |#define HW_LRADC_RES_REF_6                              200
                            12377 ; 438  |#define HW_LRADC_RES_REF_7                              258
                            12378 ; 439  |#define LRADC_HALF_POWER_SETMASK                HW_BATT_CTRL_HALF_CMP_PWR_SETMASK         
                                   
                            12379 ; 440  |// Translate the generic API enumerations into more meaningful labels for the implementati
                                  on
                            12380 ; 441  |#define REF_2700MV                      HW_LRADC_REF_0_SETMASK
                            12381 ; 442  |#define REF_2600MV              HW_LRADC_REF_1_SETMASK
                            12382 ; 443  |#define REF_2560MV              HW_LRADC_REF_2_SETMASK
                            12383 ; 444  |#define REF_VDDIO               HW_LRADC_REF_3_SETMASK
                            12384 ; 445  |#define REF_5400MV              HW_LRADC_REF_4_SETMASK
                            12385 ; 446  |#define REF_5200MV              HW_LRADC_REF_5_SETMASK
                            12386 ; 447  |#define REF_5120MV              HW_LRADC_REF_6_SETMASK
                            12387 ; 448  |#define REF_VDDIOx2             HW_LRADC_REF_7_SETMASK
                            12388 ; 449  |#define RES_REF_2700MV  HW_LRADC_RES_REF_0
                            12389 ; 450  |#define RES_REF_2600MV  HW_LRADC_RES_REF_1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 207

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12390 ; 451  |#define RES_REF_2560MV  HW_LRADC_RES_REF_2
                            12391 ; 452  |#define RES_REF_VDDIO   HW_LRADC_RES_REF_3
                            12392 ; 453  |#define RES_REF_5400MV  HW_LRADC_RES_REF_4
                            12393 ; 454  |#define RES_REF_5200MV  HW_LRADC_RES_REF_5
                            12394 ; 455  |#define RES_REF_5120MV  HW_LRADC_RES_REF_6
                            12395 ; 456  |#define RES_REF_VDDIOx2         HW_LRADC_RES_REF_7
                            12396 ; 457  |
                            12397 ; 458  |//Needed by button.asm
                            12398 ; 459  |#define LOW_RES_ADC_BATT_READ_MASK 0x01FF00
                            12399 ; 460  |#define LOW_RES_ADC_AUX_READ_MASK 0x01FF00
                            12400 ; 461  |#define LOW_RES_ADC_AUX2_READ_MASK 0x01FF00
                            12401 ; 462  |
                            12402 ; 463  |#define HW_LRADC_CTRL_AUXADC_SETMASK 3<<HW_BATT_CTRL_REF_VAL_BITPOS
                            12403 ; 464  |
                            12404 ; 465  |#endif
                            12405 ; 466  |
                            12406 ; 467  |
                            12407 
                            12409 
                            12410 ; 27   |#include "regspwm.h"
                            12411 
                            12413 
                            12414 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            12415 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2001
                            12416 ; 3    |// Filename: regspwm.inc
                            12417 ; 4    |// Description: Register definitions for PWM interface
                            12418 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            12419 ; 6    |// The following naming conventions are followed in this file.
                            12420 ; 7    |// All registers are named using the format...
                            12421 ; 8    |//     HW_<module>_<regname>
                            12422 ; 9    |// where <module> is the module name which can be any of the following...
                            12423 ; 10   |//     USB20
                            12424 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            12425 ; 12   |// module name includes a number starting from 0 for the first instance of
                            12426 ; 13   |// that module)
                            12427 ; 14   |// <regname> is the specific register within that module
                            12428 ; 15   |// We also define the following...
                            12429 ; 16   |//     HW_<module>_<regname>_BITPOS
                            12430 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            12431 ; 18   |//     HW_<module>_<regname>_SETMASK
                            12432 ; 19   |// which does something else, and
                            12433 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            12434 ; 21   |// which does something else.
                            12435 ; 22   |// Other rules
                            12436 ; 23   |//     All caps
                            12437 ; 24   |//     Numeric identifiers start at 0
                            12438 ; 25   |#if !(defined(regspwminc))
                            12439 ; 26   |#define regspwminc 1
                            12440 ; 27   |
                            12441 ; 28   |#include "types.h"
                            12442 
                            12444 
                            12445 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            12446 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            12447 ; 3    |//
                            12448 ; 4    |// Filename: types.h
                            12449 ; 5    |// Description: Standard data types
                            12450 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            12451 ; 7    |
                            12452 ; 8    |#ifndef _TYPES_H
                            12453 ; 9    |#define _TYPES_H
                            12454 ; 10   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 208

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12455 ; 11   |// TODO:  move this outta here!
                            12456 ; 12   |#if !defined(NOERROR)
                            12457 ; 13   |#define NOERROR 0
                            12458 ; 14   |#define SUCCESS 0
                            12459 ; 15   |#endif 
                            12460 ; 16   |#if !defined(SUCCESS)
                            12461 ; 17   |#define SUCCESS  0
                            12462 ; 18   |#endif
                            12463 ; 19   |#if !defined(ERROR)
                            12464 ; 20   |#define ERROR   -1
                            12465 ; 21   |#endif
                            12466 ; 22   |#if !defined(FALSE)
                            12467 ; 23   |#define FALSE 0
                            12468 ; 24   |#endif
                            12469 ; 25   |#if !defined(TRUE)
                            12470 ; 26   |#define TRUE  1
                            12471 ; 27   |#endif
                            12472 ; 28   |
                            12473 ; 29   |#if !defined(NULL)
                            12474 ; 30   |#define NULL 0
                            12475 ; 31   |#endif
                            12476 ; 32   |
                            12477 ; 33   |#define MAX_INT     0x7FFFFF
                            12478 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            12479 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            12480 ; 36   |#define MAX_ULONG   (-1) 
                            12481 ; 37   |
                            12482 ; 38   |#define WORD_SIZE   24              // word size in bits
                            12483 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            12484 ; 40   |
                            12485 ; 41   |
                            12486 ; 42   |#define BYTE    unsigned char       // btVarName
                            12487 ; 43   |#define CHAR    signed char         // cVarName
                            12488 ; 44   |#define USHORT  unsigned short      // usVarName
                            12489 ; 45   |#define SHORT   unsigned short      // sVarName
                            12490 ; 46   |#define WORD    unsigned int        // wVarName
                            12491 ; 47   |#define INT     signed int          // iVarName
                            12492 ; 48   |#define DWORD   unsigned long       // dwVarName
                            12493 ; 49   |#define LONG    signed long         // lVarName
                            12494 ; 50   |#define BOOL    unsigned int        // bVarName
                            12495 ; 51   |#define FRACT   _fract              // frVarName
                            12496 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            12497 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            12498 ; 54   |#define FLOAT   float               // fVarName
                            12499 ; 55   |#define DBL     double              // dVarName
                            12500 ; 56   |#define ENUM    enum                // eVarName
                            12501 ; 57   |#define CMX     _complex            // cmxVarName
                            12502 ; 58   |typedef WORD UCS3;                   // 
                            12503 ; 59   |
                            12504 ; 60   |#define UINT16  unsigned short
                            12505 ; 61   |#define UINT8   unsigned char   
                            12506 ; 62   |#define UINT32  unsigned long
                            12507 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            12508 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            12509 ; 65   |#define WCHAR   UINT16
                            12510 ; 66   |
                            12511 ; 67   |//UINT128 is 16 bytes or 6 words
                            12512 ; 68   |typedef struct UINT128_3500 {   
                            12513 ; 69   |    int val[6];     
                            12514 ; 70   |} UINT128_3500;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 209

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12515 ; 71   |
                            12516 ; 72   |#define UINT128   UINT128_3500
                            12517 ; 73   |
                            12518 ; 74   |// Little endian word packed byte strings:   
                            12519 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12520 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12521 ; 77   |// Little endian word packed byte strings:   
                            12522 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12523 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12524 ; 80   |
                            12525 ; 81   |// Declare Memory Spaces To Use When Coding
                            12526 ; 82   |// A. Sector Buffers
                            12527 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            12528 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            12529 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            12530 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            12531 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            12532 ; 88   |// B. Media DDI Memory
                            12533 ; 89   |#define MEDIA_DDI_MEM _Y
                            12534 ; 90   |
                            12535 ; 91   |
                            12536 ; 92   |
                            12537 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            12538 ; 94   |// Examples of circular pointers:
                            12539 ; 95   |//    INT CIRC cpiVarName
                            12540 ; 96   |//    DWORD CIRC cpdwVarName
                            12541 ; 97   |
                            12542 ; 98   |#define RETCODE INT                 // rcVarName
                            12543 ; 99   |
                            12544 ; 100  |// generic bitfield structure
                            12545 ; 101  |struct Bitfield {
                            12546 ; 102  |    unsigned int B0  :1;
                            12547 ; 103  |    unsigned int B1  :1;
                            12548 ; 104  |    unsigned int B2  :1;
                            12549 ; 105  |    unsigned int B3  :1;
                            12550 ; 106  |    unsigned int B4  :1;
                            12551 ; 107  |    unsigned int B5  :1;
                            12552 ; 108  |    unsigned int B6  :1;
                            12553 ; 109  |    unsigned int B7  :1;
                            12554 ; 110  |    unsigned int B8  :1;
                            12555 ; 111  |    unsigned int B9  :1;
                            12556 ; 112  |    unsigned int B10 :1;
                            12557 ; 113  |    unsigned int B11 :1;
                            12558 ; 114  |    unsigned int B12 :1;
                            12559 ; 115  |    unsigned int B13 :1;
                            12560 ; 116  |    unsigned int B14 :1;
                            12561 ; 117  |    unsigned int B15 :1;
                            12562 ; 118  |    unsigned int B16 :1;
                            12563 ; 119  |    unsigned int B17 :1;
                            12564 ; 120  |    unsigned int B18 :1;
                            12565 ; 121  |    unsigned int B19 :1;
                            12566 ; 122  |    unsigned int B20 :1;
                            12567 ; 123  |    unsigned int B21 :1;
                            12568 ; 124  |    unsigned int B22 :1;
                            12569 ; 125  |    unsigned int B23 :1;
                            12570 ; 126  |};
                            12571 ; 127  |
                            12572 ; 128  |union BitInt {
                            12573 ; 129  |        struct Bitfield B;
                            12574 ; 130  |        int        I;
                            12575 ; 131  |};
                            12576 ; 132  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 210

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12577 ; 133  |#define MAX_MSG_LENGTH 10
                            12578 ; 134  |struct CMessage
                            12579 ; 135  |{
                            12580 ; 136  |        unsigned int m_uLength;
                            12581 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            12582 ; 138  |};
                            12583 ; 139  |
                            12584 ; 140  |typedef struct {
                            12585 ; 141  |    WORD m_wLength;
                            12586 ; 142  |    WORD m_wMessage;
                            12587 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            12588 ; 144  |} Message;
                            12589 ; 145  |
                            12590 ; 146  |struct MessageQueueDescriptor
                            12591 ; 147  |{
                            12592 ; 148  |        int *m_pBase;
                            12593 ; 149  |        int m_iModulo;
                            12594 ; 150  |        int m_iSize;
                            12595 ; 151  |        int *m_pHead;
                            12596 ; 152  |        int *m_pTail;
                            12597 ; 153  |};
                            12598 ; 154  |
                            12599 ; 155  |struct ModuleEntry
                            12600 ; 156  |{
                            12601 ; 157  |    int m_iSignaledEventMask;
                            12602 ; 158  |    int m_iWaitEventMask;
                            12603 ; 159  |    int m_iResourceOfCode;
                            12604 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            12605 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            12606 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            12607 ; 163  |    int m_uTimeOutHigh;
                            12608 ; 164  |    int m_uTimeOutLow;
                            12609 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            12610 ; 166  |};
                            12611 ; 167  |
                            12612 ; 168  |union WaitMask{
                            12613 ; 169  |    struct B{
                            12614 ; 170  |        unsigned int m_bNone     :1;
                            12615 ; 171  |        unsigned int m_bMessage  :1;
                            12616 ; 172  |        unsigned int m_bTimer    :1;
                            12617 ; 173  |        unsigned int m_bButton   :1;
                            12618 ; 174  |    } B;
                            12619 ; 175  |    int I;
                            12620 ; 176  |} ;
                            12621 ; 177  |
                            12622 ; 178  |
                            12623 ; 179  |struct Button {
                            12624 ; 180  |        WORD wButtonEvent;
                            12625 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            12626 ; 182  |};
                            12627 ; 183  |
                            12628 ; 184  |struct Message {
                            12629 ; 185  |        WORD wMsgLength;
                            12630 ; 186  |        WORD wMsgCommand;
                            12631 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            12632 ; 188  |};
                            12633 ; 189  |
                            12634 ; 190  |union EventTypes {
                            12635 ; 191  |        struct CMessage msg;
                            12636 ; 192  |        struct Button Button ;
                            12637 ; 193  |        struct Message Message;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 211

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12638 ; 194  |};
                            12639 ; 195  |
                            12640 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            12641 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            12642 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            12643 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            12644 ; 200  |
                            12645 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            12646 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            12647 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            12648 ; 204  |
                            12649 ; 205  |#if DEBUG
                            12650 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            12651 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            12652 ; 208  |#else 
                            12653 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            12654 ; 210  |#define DebugBuildAssert(x)    
                            12655 ; 211  |#endif
                            12656 ; 212  |
                            12657 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            12658 ; 214  |//  #pragma asm
                            12659 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            12660 ; 216  |//  #pragma endasm
                            12661 ; 217  |
                            12662 ; 218  |
                            12663 ; 219  |#ifdef COLOR_262K
                            12664 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            12665 ; 221  |#elif defined(COLOR_65K)
                            12666 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            12667 ; 223  |#else
                            12668 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            12669 ; 225  |#endif
                            12670 ; 226  |    
                            12671 ; 227  |#endif // #ifndef _TYPES_H
                            12672 
                            12674 
                            12675 ; 29   |
                            12676 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12677 ; 31   |//   Pulse Width Modulator STMP Registers 
                            12678 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12679 ; 33   |#define HW_PWM_BASEADDR (0xFA31)
                            12680 ; 34   |
                            12681 ; 35   |
                            12682 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            12683 ; 37   |//  PWM CSR register (HW_PWM_CSR) Bit Definitions
                            12684 ; 38   |#define HW_PWM_CSR_PWM0_EN_BITPOS (0)
                            12685 ; 39   |#define HW_PWM_CSR_PWM1_EN_BITPOS (1) 
                            12686 ; 40   |#define HW_PWM_CSR_PWM2_EN_BITPOS (2)
                            12687 ; 41   |#define HW_PWM_CSR_PWM3_EN_BITPOS (3)
                            12688 ; 42   |#define HW_PWM_CSR_CDIV_BITPOS (8)
                            12689 ; 43   |#define HW_PWM_CSR_MSTR_EN_BITPOS (23)
                            12690 ; 44   |
                            12691 ; 45   |#define HW_PWM_CSR_PWM0_EN_WIDTH (1)
                            12692 ; 46   |#define HW_PWM_CSR_PWM1_EN_WIDTH (1) 
                            12693 ; 47   |#define HW_PWM_CSR_PWM2_EN_WIDTH (1)
                            12694 ; 48   |#define HW_PWM_CSR_PWM3_EN_WIDTH (1)
                            12695 ; 49   |#define HW_PWM_CSR_CDIV_WIDTH (2)
                            12696 ; 50   |#define HW_PWM_CSR_MSTR_EN_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 212

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12697 ; 51   |
                            12698 ; 52   |#define HW_PWM_CSR_PWM0_EN_SETMASK (((1<<HW_PWM_CSR_PWM0_EN_WIDTH)-1)<<HW_PWM_CSR_PWM0_EN_
                                  BITPOS)
                            12699 ; 53   |#define HW_PWM_CSR_PWM1_EN_SETMASK (((1<<HW_PWM_CSR_PWM1_EN_WIDTH)-1)<<HW_PWM_CSR_PWM1_EN_
                                  BITPOS)
                            12700 ; 54   |#define HW_PWM_CSR_PWM2_EN_SETMASK (((1<<HW_PWM_CSR_PWM2_EN_WIDTH)-1)<<HW_PWM_CSR_PWM2_EN_
                                  BITPOS)
                            12701 ; 55   |#define HW_PWM_CSR_PWM3_EN_SETMASK (((1<<HW_PWM_CSR_PWM3_EN_WIDTH)-1)<<HW_PWM_CSR_PWM3_EN_
                                  BITPOS)
                            12702 ; 56   |#define HW_PWM_CSR_CDIV_SETMASK (((1<<HW_PWM_CSR_CDIV_WIDTH)-1)<<HW_PWM_CSR_CDIV_BITPOS)
                            12703 ; 57   |#define HW_PWM_CSR_MSTR_EN_SETMASK (((1<<HW_PWM_CSR_MSTR_EN_WIDTH)-1)<<HW_PWM_CSR_MSTR_EN_
                                  BITPOS)
                            12704 ; 58   |
                            12705 ; 59   |#define HW_PWM_CSR_PWM0_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM0_EN_SETMASK)
                            12706 ; 60   |#define HW_PWM_CSR_PWM1_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM1_EN_SETMASK)
                            12707 ; 61   |#define HW_PWM_CSR_PWM2_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM2_EN_SETMASK)
                            12708 ; 62   |#define HW_PWM_CSR_PWM3_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM3_EN_SETMASK)
                            12709 ; 63   |#define HW_PWM_CSR_CDIV_CLRMASK (~(WORD)HW_PWM_CSR_CDIV_SETMASK)   
                            12710 ; 64   |#define HW_PWM_CSR_MSTR_EN_CLRMASK (~(WORD)HW_PWM_CSR_MSTR_EN_SETMASK)
                            12711 ; 65   |
                            12712 ; 66   |typedef union               
                            12713 ; 67   |{
                            12714 ; 68   |    struct {
                            12715 ; 69   |        int PWM0_EN                    :1;
                            12716 ; 70   |        int PWM1_EN                    :1;
                            12717 ; 71   |        int PWM2_EN                    :1;
                            12718 ; 72   |        int PWM3_EN                    :1;
                            12719 ; 73   |        int RSVD0                      :4;
                            12720 ; 74   |        int CDIV                       :2;
                            12721 ; 75   |        int RSVD1                      :13;
                            12722 ; 76   |        int MSTR_EN                    :1;
                            12723 ; 77   |    } B;
                            12724 ; 78   |    int I;
                            12725 ; 79   |} pwmcsr_type;
                            12726 ; 80   |#define HW_PWM_CSR        (*(volatile pwmcsr_type _X*) (HW_PWM_BASEADDR))  /* PWM Control 
                                  Status Register */
                            12727 ; 81   |
                            12728 ; 82   |/////////////////////////////////////////////////////////////////////////////////
                            12729 ; 83   |//  PWM CHANNEL 0 A  (HW_PWM_CH0AR) Bit Definitions
                            12730 ; 84   |#define HW_PWM_CH0AR_ACTIVE_BITPOS (0)
                            12731 ; 85   |#define HW_PWM_CH0AR_INACTIVE_BITPOS (12)
                            12732 ; 86   |
                            12733 ; 87   |#define HW_PWM_CH0AR_ACTIVE_WIDTH (12)
                            12734 ; 88   |#define HW_PWM_CH0AR_INACTIVE_WIDTH (12)
                            12735 ; 89   |
                            12736 ; 90   |#define HW_PWM_CH0AR_ACTIVE_SETMASK (((1<<HW_PWM_CH0AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH0AR_ACTI
                                  VE_BITPOS)
                            12737 ; 91   |#define HW_PWM_CH0AR_INACTIVE_SETMASK (((1<<HW_PWM_CH0AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH0AR_
                                  INACTIVE_BITPOS)
                            12738 ; 92   |
                            12739 ; 93   |#define HW_PWM_CH0AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH0AR_ACTIVE_SETMASK)
                            12740 ; 94   |#define HW_PWM_CH0AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH0AR_INACTIVE_SETMASK)
                            12741 ; 95   |
                            12742 ; 96   |/////////////////////////////////////////////////////////////////////////////////
                            12743 ; 97   |//  PWM CHANNEL 0 B  (HW_PWM_CH0BR) Bit Definitions
                            12744 ; 98   |#define HW_PWM_CH0BR_ACTIVE_BITPOS (0)
                            12745 ; 99   |#define HW_PWM_CH0BR_INACTIVE_BITPOS (12)
                            12746 ; 100  |
                            12747 ; 101  |#define HW_PWM_CH0BR_ACTIVE_WIDTH (12)
                            12748 ; 102  |#define HW_PWM_CH0BR_INACTIVE_WIDTH (12)
                            12749 ; 103  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 213

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12750 ; 104  |#define HW_PWM_CH0BR_ACTIVE_SETMASK (((1<<HW_PWM_CH0BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH0BR_ACTI
                                  VE_BITPOS)
                            12751 ; 105  |#define HW_PWM_CH0BR_INACTIVE_SETMASK (((1<<HW_PWM_CH0BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH0BR_
                                  INACTIVE_BITPOS)
                            12752 ; 106  |
                            12753 ; 107  |#define HW_PWM_CH0BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH0BR_ACTIVE_SETMASK)
                            12754 ; 108  |#define HW_PWM_CH0BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH0BR_INACTIVE_SETMASK)
                            12755 ; 109  |
                            12756 ; 110  |/////////////////////////////////////////////////////////////////////////////////
                            12757 ; 111  |//  PWM CHANNEL 1 A  (HW_PWM_CH1AR) Bit Definitions
                            12758 ; 112  |#define HW_PWM_CH1AR_ACTIVE_BITPOS (0)
                            12759 ; 113  |#define HW_PWM_CH1AR_INACTIVE_BITPOS (12)
                            12760 ; 114  |
                            12761 ; 115  |#define HW_PWM_CH1AR_ACTIVE_WIDTH (12)
                            12762 ; 116  |#define HW_PWM_CH1AR_INACTIVE_WIDTH (12)
                            12763 ; 117  |
                            12764 ; 118  |#define HW_PWM_CH1AR_ACTIVE_SETMASK (((1<<HW_PWM_CH1AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH1AR_ACTI
                                  VE_BITPOS)
                            12765 ; 119  |#define HW_PWM_CH1AR_INACTIVE_SETMASK (((1<<HW_PWM_CH1AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH1AR_
                                  INACTIVE_BITPOS)
                            12766 ; 120  |
                            12767 ; 121  |#define HW_PWM_CH1AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH1AR_ACTIVE_SETMASK)
                            12768 ; 122  |#define HW_PWM_CH1AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH1AR_INACTIVE_SETMASK)
                            12769 ; 123  |
                            12770 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                            12771 ; 125  |//  PWM CHANNEL 1 B  (HW_PWM_CH1BR) Bit Definitions
                            12772 ; 126  |#define HW_PWM_CH1BR_ACTIVE_BITPOS (0)
                            12773 ; 127  |#define HW_PWM_CH1BR_INACTIVE_BITPOS (12)
                            12774 ; 128  |
                            12775 ; 129  |#define HW_PWM_CH1BR_ACTIVE_WIDTH (12)
                            12776 ; 130  |#define HW_PWM_CH1BR_INACTIVE_WIDTH (12)
                            12777 ; 131  |
                            12778 ; 132  |#define HW_PWM_CH1BR_ACTIVE_SETMASK (((1<<HW_PWM_CH1BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH1BR_ACTI
                                  VE_BITPOS)
                            12779 ; 133  |#define HW_PWM_CH1BR_INACTIVE_SETMASK (((1<<HW_PWM_CH1BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH1BR_
                                  INACTIVE_BITPOS)
                            12780 ; 134  |
                            12781 ; 135  |#define HW_PWM_CH1BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH1BR_ACTIVE_SETMASK)
                            12782 ; 136  |#define HW_PWM_CH1BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH1BR_INACTIVE_SETMASK)
                            12783 ; 137  |
                            12784 ; 138  |/////////////////////////////////////////////////////////////////////////////////
                            12785 ; 139  |//  PWM CHANNEL 2 A  (HW_PWM_CH2AR) Bit Definitions
                            12786 ; 140  |#define HW_PWM_CH2AR_ACTIVE_BITPOS (0)
                            12787 ; 141  |#define HW_PWM_CH2AR_INACTIVE_BITPOS (12)
                            12788 ; 142  |
                            12789 ; 143  |#define HW_PWM_CH2AR_ACTIVE_WIDTH (12)
                            12790 ; 144  |#define HW_PWM_CH2AR_INACTIVE_WIDTH (12)
                            12791 ; 145  |
                            12792 ; 146  |#define HW_PWM_CH2AR_ACTIVE_SETMASK (((1<<HW_PWM_CH2AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH2AR_ACTI
                                  VE_BITPOS)
                            12793 ; 147  |#define HW_PWM_CH2AR_INACTIVE_SETMASK (((1<<HW_PWM_CH2AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH2AR_
                                  INACTIVE_BITPOS)
                            12794 ; 148  |
                            12795 ; 149  |#define HW_PWM_CH2AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH2AR_ACTIVE_SETMASK)
                            12796 ; 150  |#define HW_PWM_CH2AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH2AR_INACTIVE_SETMASK)
                            12797 ; 151  |
                            12798 ; 152  |/////////////////////////////////////////////////////////////////////////////////
                            12799 ; 153  |//  PWM CHANNEL 2 B  (HW_PWM_CH2BR) Bit Definitions
                            12800 ; 154  |#define HW_PWM_CH2BR_ACTIVE_BITPOS (0)
                            12801 ; 155  |#define HW_PWM_CH2BR_INACTIVE_BITPOS (12)
                            12802 ; 156  |
                            12803 ; 157  |#define HW_PWM_CH2BR_ACTIVE_WIDTH (12)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 214

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12804 ; 158  |#define HW_PWM_CH2BR_INACTIVE_WIDTH (12)
                            12805 ; 159  |
                            12806 ; 160  |#define HW_PWM_CH2BR_ACTIVE_SETMASK (((1<<HW_PWM_CH2BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH2BR_ACTI
                                  VE_BITPOS)
                            12807 ; 161  |#define HW_PWM_CH2BR_INACTIVE_SETMASK (((1<<HW_PWM_CH2BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH2BR_
                                  INACTIVE_BITPOS)
                            12808 ; 162  |
                            12809 ; 163  |#define HW_PWM_CH2BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH2BR_ACTIVE_SETMASK)
                            12810 ; 164  |#define HW_PWM_CH2BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH2BR_INACTIVE_SETMASK)
                            12811 ; 165  |
                            12812 ; 166  |/////////////////////////////////////////////////////////////////////////////////
                            12813 ; 167  |//  PWM CHANNEL 3 A  (HW_PWM_CH3AR) Bit Definitions
                            12814 ; 168  |#define HW_PWM_CH3AR_ACTIVE_BITPOS (0)
                            12815 ; 169  |#define HW_PWM_CH3AR_INACTIVE_BITPOS (12)
                            12816 ; 170  |
                            12817 ; 171  |#define HW_PWM_CH3AR_ACTIVE_WIDTH (12)
                            12818 ; 172  |#define HW_PWM_CH3AR_INACTIVE_WIDTH (12)
                            12819 ; 173  |
                            12820 ; 174  |#define HW_PWM_CH3AR_ACTIVE_SETMASK (((1<<HW_PWM_CH3AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH3AR_ACTI
                                  VE_BITPOS)
                            12821 ; 175  |#define HW_PWM_CH3AR_INACTIVE_SETMASK (((1<<HW_PWM_CH3AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH3AR_
                                  INACTIVE_BITPOS)
                            12822 ; 176  |
                            12823 ; 177  |#define HW_PWM_CH3AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH3AR_ACTIVE_SETMASK)
                            12824 ; 178  |#define HW_PWM_CH3AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH3AR_INACTIVE_SETMASK)
                            12825 ; 179  |
                            12826 ; 180  |/////////////////////////////////////////////////////////////////////////////////
                            12827 ; 181  |//  PWM CHANNEL 3 B  (HW_PWM_CH3BR) Bit Definitions
                            12828 ; 182  |#define HW_PWM_CH3BR_ACTIVE_BITPOS (0)
                            12829 ; 183  |#define HW_PWM_CH3BR_INACTIVE_BITPOS (12)
                            12830 ; 184  |
                            12831 ; 185  |#define HW_PWM_CH3BR_ACTIVE_WIDTH (12)
                            12832 ; 186  |#define HW_PWM_CH3BR_INACTIVE_WIDTH (12)
                            12833 ; 187  |
                            12834 ; 188  |#define HW_PWM_CH3BR_ACTIVE_SETMASK (((1<<HW_PWM_CH3BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH3BR_ACTI
                                  VE_BITPOS)
                            12835 ; 189  |#define HW_PWM_CH3BR_INACTIVE_SETMASK (((1<<HW_PWM_CH3BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH3BR_
                                  INACTIVE_BITPOS)
                            12836 ; 190  |
                            12837 ; 191  |#define HW_PWM_CH3BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH3BR_ACTIVE_SETMASK)
                            12838 ; 192  |#define HW_PWM_CH3BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH3BR_INACTIVE_SETMASK)
                            12839 ; 193  |
                            12840 ; 194  |typedef union               
                            12841 ; 195  |{
                            12842 ; 196  |    struct {
                            12843 ; 197  |       int ACTIVE                    :12;
                            12844 ; 198  |       int INACTIVE                  :12;
                            12845 ; 199  |    } B;
                            12846 ; 200  |    int I;
                            12847 ; 201  |} pwmchan_type;
                            12848 ; 202  |#define HW_PWM_CH0AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+1))  /* PWM Cha
                                  nnel 0 A Register */
                            12849 ; 203  |#define HW_PWM_CH0BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+2))  /* PWM Cha
                                  nnel 0 B Register */
                            12850 ; 204  |#define HW_PWM_CH1AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+3))  /* PWM Cha
                                  nnel 1 A Register */
                            12851 ; 205  |#define HW_PWM_CH1BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+4))  /* PWM Cha
                                  nnel 1 B Register */
                            12852 ; 206  |#define HW_PWM_CH2AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+5))  /* PWM Cha
                                  nnel 2 A Register */
                            12853 ; 207  |#define HW_PWM_CH2BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+6))  /* PWM Cha
                                  nnel 2 B Register */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 215

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12854 ; 208  |#define HW_PWM_CH3AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+7))  /* PWM Cha
                                  nnel 3 A Register */
                            12855 ; 209  |#define HW_PWM_CH3BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+8))  /* PWM Cha
                                  nnel 3 B Register */
                            12856 ; 210  |
                            12857 ; 211  |#endif
                            12858 ; 212  |
                            12859 ; 213  |
                            12860 ; 214  |
                            12861 ; 215  |
                            12862 
                            12864 
                            12865 ; 28   |#include "regsrevision.h"
                            12866 
                            12868 
                            12869 ; 1    |#if !(defined(__HW_REVR))
                            12870 ; 2    |#define __HW_REVR 1
                            12871 ; 3    |
                            12872 ; 4    |
                            12873 ; 5    |#define HW_GLUE_BASEADDR 0xFA00
                            12874 ; 6    |
                            12875 ; 7    |#define HW_REVR_RMN_BITPOS (0)
                            12876 ; 8    |#define HW_REVR_DCDCMODE_BITPOS (5)
                            12877 ; 9    |#define HW_REVR_RMJ_BITPOS (8)
                            12878 ; 10   |
                            12879 ; 11   |#define HW_REVR_RMN_WIDTH (5)
                            12880 ; 12   |#define HW_REVR_DCDCMODE_WIDTH (3)
                            12881 ; 13   |
                            12882 ; 14   |#define HW_REVR_DCDCMODE_SETMASK (((1<<HW_REVR_DCDCMODE_WIDTH)-1)<<HW_REVR_DCDCMODE_BITPOS
                                  )
                            12883 ; 15   |
                            12884 ; 16   |#define HW_REVR_DCDCMODE_CLRMASK (~(WORD)HW_REVR_DCDCMODE_SETMASK)
                            12885 ; 17   |
                            12886 ; 18   |
                            12887 ; 19   |/////////////////////////////////////////////////////////////////////////////////
                            12888 ; 20   |//  Revision Register (HW_REVR) bitfields and values. (read only)
                            12889 ; 21   |//  June15 2004: C struct updated to be correct: 
                            12890 ; 22   |//   Added DCDCMODE bitfield. Removed RMP bitfield. Reduced size of RMN bitfield to 5 bits
                                  .
                            12891 ; 23   |typedef union               
                            12892 ; 24   |{
                            12893 ; 25   |    struct {
                            12894 ; 26   |        unsigned RMN    :5;     //Minor Revision
                            12895 ; 27   |        unsigned DCDCMODE : 3;  //DCDC mode field function depends on DCDC mode pin strapp
                                  ing
                            12896 ; 28   |           #define DCDCMODE_7_CONVERTER1_2CH_BOOST_CONVERTER2_OFF      7
                            12897 ; 29   |           #define DCDCMODE_6_RESERVED                                 6
                            12898 ; 30   |           #define DCDCMODE_5_CONVERTER1_3CH_BOOST_CONVERTER2_OFF      5
                            12899 ; 31   |           #define DCDCMODE_4_RESERVED                                 4
                            12900 ; 32   |           #define DCDCMODE_3_CONVERTER1_1CH_BUCK_CONVERTER2_OFF       3
                            12901 ; 33   |           #define DCDCMODE_2_CONVERTER1_OFF_CONVERTER2_OFF            2
                            12902 ; 34   |           #define DCDCMODE_1_CONVERTER1_1CH_BUCK_CONVERTER2_1CH_BOOST 1
                            12903 ; 35   |           #define DCDCMODE_0_CONVERTER1_1CH_BUCK_CONVERTER2_1CH_BUCK  0
                            12904 ; 36   |           #define DCDCMODE_X_BUCK_MASKED_SETMASK 0x4
                            12905 ; 37   |        unsigned RMJ    :16;    //Major Revision
                            12906 ; 38   |    } B;
                            12907 ; 39   |
                            12908 ; 40   |    int I;
                            12909 ; 41   |
                            12910 ; 42   |} revr_type;
                            12911 ; 43   |#define HW_REVR (*(volatile revr_type _X*) (HW_GLUE_BASEADDR+2))
                            12912 ; 44   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 216

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12913 ; 45   |#define HW_REVR_DCDCMODE_B0_BITPOS 5
                            12914 ; 46   |#define HW_REVR_DCDCMODE_B1_BITPOS 6
                            12915 ; 47   |#define HW_REVR_DCDCMODE_B2_BITPOS 7
                            12916 ; 48   |
                            12917 ; 49   |#define HW_REVR_DCDCMODE_BUCK_MASK_POS HW_REVR_DCDCMODE_B2_BITPOS
                            12918 ; 50   |// 3 bit bitfield: (HW_REVR_DCDCMODE_B2_BITPOS|HW_REVR_DCDCMODE_B1_BITPOS|HW_REVR_DCDCMODE
                                  _B0_BITPOS)
                            12919 ; 51   |#define HW_REVR_DCDC_MODE_SETMASK 0x0000E0
                            12920 ; 52   |#define HW_REVR_RMN_SETMASK 0xFF<<HW_REVR_RMN_BITPOS
                            12921 ; 53   |#define HW_REVR_RMJ_SETMASK 0xFFFF<<HW_REVR_RMJ_BITPOS
                            12922 ; 54   |
                            12923 ; 55   |#define HW_REVR_RMN_CLRMASK ~(WORD)HW_REVR_RMN_SETMASK
                            12924 ; 56   |#define HW_REVR_RMJ_CLRMASK ~(WORD)HW_REVR_RMJ_SETMASK
                            12925 ; 57   |
                            12926 ; 58   |#endif //!@def(__HW_REVR)
                            12927 ; 59   |
                            12928 
                            12930 
                            12931 ; 29   |#include "regsrtc.h"
                            12932 
                            12934 
                            12935 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            12936 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            12937 ; 3    |// Filename: regsrtc.inc
                            12938 ; 4    |// Description: Register definitions for RTC interface
                            12939 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            12940 ; 6    |// The following naming conventions are followed in this file.
                            12941 ; 7    |// All registers are named using the format...
                            12942 ; 8    |//     HW_<module>_<regname>
                            12943 ; 9    |// where <module> is the module name which can be any of the following...
                            12944 ; 10   |//     USB20
                            12945 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            12946 ; 12   |// module name includes a number starting from 0 for the first instance of
                            12947 ; 13   |// that module)
                            12948 ; 14   |// <regname> is the specific register within that module
                            12949 ; 15   |// We also define the following...
                            12950 ; 16   |//     HW_<module>_<regname>_BITPOS
                            12951 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            12952 ; 18   |//     HW_<module>_<regname>_SETMASK
                            12953 ; 19   |// which does something else, and
                            12954 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            12955 ; 21   |// which does something else.
                            12956 ; 22   |// Other rules
                            12957 ; 23   |//     All caps
                            12958 ; 24   |//     Numeric identifiers start at 0
                            12959 ; 25   |#if !(defined(regsrtcinc))
                            12960 ; 26   |#define regsrtcinc 1
                            12961 ; 27   |
                            12962 ; 28   |#include "types.h"
                            12963 
                            12965 
                            12966 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            12967 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            12968 ; 3    |//
                            12969 ; 4    |// Filename: types.h
                            12970 ; 5    |// Description: Standard data types
                            12971 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            12972 ; 7    |
                            12973 ; 8    |#ifndef _TYPES_H
                            12974 ; 9    |#define _TYPES_H
                            12975 ; 10   |
                            12976 ; 11   |// TODO:  move this outta here!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 217

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12977 ; 12   |#if !defined(NOERROR)
                            12978 ; 13   |#define NOERROR 0
                            12979 ; 14   |#define SUCCESS 0
                            12980 ; 15   |#endif 
                            12981 ; 16   |#if !defined(SUCCESS)
                            12982 ; 17   |#define SUCCESS  0
                            12983 ; 18   |#endif
                            12984 ; 19   |#if !defined(ERROR)
                            12985 ; 20   |#define ERROR   -1
                            12986 ; 21   |#endif
                            12987 ; 22   |#if !defined(FALSE)
                            12988 ; 23   |#define FALSE 0
                            12989 ; 24   |#endif
                            12990 ; 25   |#if !defined(TRUE)
                            12991 ; 26   |#define TRUE  1
                            12992 ; 27   |#endif
                            12993 ; 28   |
                            12994 ; 29   |#if !defined(NULL)
                            12995 ; 30   |#define NULL 0
                            12996 ; 31   |#endif
                            12997 ; 32   |
                            12998 ; 33   |#define MAX_INT     0x7FFFFF
                            12999 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            13000 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            13001 ; 36   |#define MAX_ULONG   (-1) 
                            13002 ; 37   |
                            13003 ; 38   |#define WORD_SIZE   24              // word size in bits
                            13004 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            13005 ; 40   |
                            13006 ; 41   |
                            13007 ; 42   |#define BYTE    unsigned char       // btVarName
                            13008 ; 43   |#define CHAR    signed char         // cVarName
                            13009 ; 44   |#define USHORT  unsigned short      // usVarName
                            13010 ; 45   |#define SHORT   unsigned short      // sVarName
                            13011 ; 46   |#define WORD    unsigned int        // wVarName
                            13012 ; 47   |#define INT     signed int          // iVarName
                            13013 ; 48   |#define DWORD   unsigned long       // dwVarName
                            13014 ; 49   |#define LONG    signed long         // lVarName
                            13015 ; 50   |#define BOOL    unsigned int        // bVarName
                            13016 ; 51   |#define FRACT   _fract              // frVarName
                            13017 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            13018 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            13019 ; 54   |#define FLOAT   float               // fVarName
                            13020 ; 55   |#define DBL     double              // dVarName
                            13021 ; 56   |#define ENUM    enum                // eVarName
                            13022 ; 57   |#define CMX     _complex            // cmxVarName
                            13023 ; 58   |typedef WORD UCS3;                   // 
                            13024 ; 59   |
                            13025 ; 60   |#define UINT16  unsigned short
                            13026 ; 61   |#define UINT8   unsigned char   
                            13027 ; 62   |#define UINT32  unsigned long
                            13028 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            13029 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            13030 ; 65   |#define WCHAR   UINT16
                            13031 ; 66   |
                            13032 ; 67   |//UINT128 is 16 bytes or 6 words
                            13033 ; 68   |typedef struct UINT128_3500 {   
                            13034 ; 69   |    int val[6];     
                            13035 ; 70   |} UINT128_3500;
                            13036 ; 71   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 218

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13037 ; 72   |#define UINT128   UINT128_3500
                            13038 ; 73   |
                            13039 ; 74   |// Little endian word packed byte strings:   
                            13040 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            13041 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            13042 ; 77   |// Little endian word packed byte strings:   
                            13043 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            13044 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            13045 ; 80   |
                            13046 ; 81   |// Declare Memory Spaces To Use When Coding
                            13047 ; 82   |// A. Sector Buffers
                            13048 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            13049 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            13050 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            13051 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            13052 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            13053 ; 88   |// B. Media DDI Memory
                            13054 ; 89   |#define MEDIA_DDI_MEM _Y
                            13055 ; 90   |
                            13056 ; 91   |
                            13057 ; 92   |
                            13058 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            13059 ; 94   |// Examples of circular pointers:
                            13060 ; 95   |//    INT CIRC cpiVarName
                            13061 ; 96   |//    DWORD CIRC cpdwVarName
                            13062 ; 97   |
                            13063 ; 98   |#define RETCODE INT                 // rcVarName
                            13064 ; 99   |
                            13065 ; 100  |// generic bitfield structure
                            13066 ; 101  |struct Bitfield {
                            13067 ; 102  |    unsigned int B0  :1;
                            13068 ; 103  |    unsigned int B1  :1;
                            13069 ; 104  |    unsigned int B2  :1;
                            13070 ; 105  |    unsigned int B3  :1;
                            13071 ; 106  |    unsigned int B4  :1;
                            13072 ; 107  |    unsigned int B5  :1;
                            13073 ; 108  |    unsigned int B6  :1;
                            13074 ; 109  |    unsigned int B7  :1;
                            13075 ; 110  |    unsigned int B8  :1;
                            13076 ; 111  |    unsigned int B9  :1;
                            13077 ; 112  |    unsigned int B10 :1;
                            13078 ; 113  |    unsigned int B11 :1;
                            13079 ; 114  |    unsigned int B12 :1;
                            13080 ; 115  |    unsigned int B13 :1;
                            13081 ; 116  |    unsigned int B14 :1;
                            13082 ; 117  |    unsigned int B15 :1;
                            13083 ; 118  |    unsigned int B16 :1;
                            13084 ; 119  |    unsigned int B17 :1;
                            13085 ; 120  |    unsigned int B18 :1;
                            13086 ; 121  |    unsigned int B19 :1;
                            13087 ; 122  |    unsigned int B20 :1;
                            13088 ; 123  |    unsigned int B21 :1;
                            13089 ; 124  |    unsigned int B22 :1;
                            13090 ; 125  |    unsigned int B23 :1;
                            13091 ; 126  |};
                            13092 ; 127  |
                            13093 ; 128  |union BitInt {
                            13094 ; 129  |        struct Bitfield B;
                            13095 ; 130  |        int        I;
                            13096 ; 131  |};
                            13097 ; 132  |
                            13098 ; 133  |#define MAX_MSG_LENGTH 10
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 219

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13099 ; 134  |struct CMessage
                            13100 ; 135  |{
                            13101 ; 136  |        unsigned int m_uLength;
                            13102 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            13103 ; 138  |};
                            13104 ; 139  |
                            13105 ; 140  |typedef struct {
                            13106 ; 141  |    WORD m_wLength;
                            13107 ; 142  |    WORD m_wMessage;
                            13108 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            13109 ; 144  |} Message;
                            13110 ; 145  |
                            13111 ; 146  |struct MessageQueueDescriptor
                            13112 ; 147  |{
                            13113 ; 148  |        int *m_pBase;
                            13114 ; 149  |        int m_iModulo;
                            13115 ; 150  |        int m_iSize;
                            13116 ; 151  |        int *m_pHead;
                            13117 ; 152  |        int *m_pTail;
                            13118 ; 153  |};
                            13119 ; 154  |
                            13120 ; 155  |struct ModuleEntry
                            13121 ; 156  |{
                            13122 ; 157  |    int m_iSignaledEventMask;
                            13123 ; 158  |    int m_iWaitEventMask;
                            13124 ; 159  |    int m_iResourceOfCode;
                            13125 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            13126 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            13127 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            13128 ; 163  |    int m_uTimeOutHigh;
                            13129 ; 164  |    int m_uTimeOutLow;
                            13130 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            13131 ; 166  |};
                            13132 ; 167  |
                            13133 ; 168  |union WaitMask{
                            13134 ; 169  |    struct B{
                            13135 ; 170  |        unsigned int m_bNone     :1;
                            13136 ; 171  |        unsigned int m_bMessage  :1;
                            13137 ; 172  |        unsigned int m_bTimer    :1;
                            13138 ; 173  |        unsigned int m_bButton   :1;
                            13139 ; 174  |    } B;
                            13140 ; 175  |    int I;
                            13141 ; 176  |} ;
                            13142 ; 177  |
                            13143 ; 178  |
                            13144 ; 179  |struct Button {
                            13145 ; 180  |        WORD wButtonEvent;
                            13146 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            13147 ; 182  |};
                            13148 ; 183  |
                            13149 ; 184  |struct Message {
                            13150 ; 185  |        WORD wMsgLength;
                            13151 ; 186  |        WORD wMsgCommand;
                            13152 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            13153 ; 188  |};
                            13154 ; 189  |
                            13155 ; 190  |union EventTypes {
                            13156 ; 191  |        struct CMessage msg;
                            13157 ; 192  |        struct Button Button ;
                            13158 ; 193  |        struct Message Message;
                            13159 ; 194  |};
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 220

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13160 ; 195  |
                            13161 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            13162 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            13163 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            13164 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            13165 ; 200  |
                            13166 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            13167 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            13168 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            13169 ; 204  |
                            13170 ; 205  |#if DEBUG
                            13171 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            13172 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            13173 ; 208  |#else 
                            13174 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            13175 ; 210  |#define DebugBuildAssert(x)    
                            13176 ; 211  |#endif
                            13177 ; 212  |
                            13178 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            13179 ; 214  |//  #pragma asm
                            13180 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            13181 ; 216  |//  #pragma endasm
                            13182 ; 217  |
                            13183 ; 218  |
                            13184 ; 219  |#ifdef COLOR_262K
                            13185 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            13186 ; 221  |#elif defined(COLOR_65K)
                            13187 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            13188 ; 223  |#else
                            13189 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            13190 ; 225  |#endif
                            13191 ; 226  |    
                            13192 ; 227  |#endif // #ifndef _TYPES_H
                            13193 
                            13195 
                            13196 ; 29   |
                            13197 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13198 ; 31   |
                            13199 ; 32   |//   RTC STMP Registers 
                            13200 ; 33   |//   Edited 2/26/2002 J. Ferrara
                            13201 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13202 ; 35   |
                            13203 ; 36   |#define HW_RTC_BASEADDR (0xF500)
                            13204 ; 37   |
                            13205 ; 38   |
                            13206 ; 39   |
                            13207 ; 40   |
                            13208 ; 41   |
                            13209 ; 42   |/////////////////////////////////////////////////////////////////////////////////
                            13210 ; 43   |
                            13211 ; 44   |////  RTC Control Status Register (HW_RTC_CSR) Bit Definitions
                            13212 ; 45   |
                            13213 ; 46   |#define HW_RTC_CSR_ALARMINTEN_BITPOS (0)
                            13214 ; 47   |#define HW_RTC_CSR_ALARMINT_BITPOS (1)
                            13215 ; 48   |#define HW_RTC_CSR_WATCHDOGEN_BITPOS (2)
                            13216 ; 49   |#define HW_RTC_CSR_RSVD0_BITPOS (3)
                            13217 ; 50   |#define HW_RTC_CSR_STALEREGS_BITPOS (4)
                            13218 ; 51   |#define HW_RTC_CSR_RSVD1_BITPOS (9)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 221

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13219 ; 52   |#define HW_RTC_CSR_NEWREGS_BITPOS (12)
                            13220 ; 53   |#define HW_RTC_CSR_NEWREGS_XTALDIV_BITPOS (12)
                            13221 ; 54   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_BITPOS (13)
                            13222 ; 55   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS (14)
                            13223 ; 56   |#define HW_RTC_CSR_NEWREGS_PERSIST0_BITPOS (15)
                            13224 ; 57   |#define HW_RTC_CSR_NEWREGS_PERSIST1_BITPOS (16)
                            13225 ; 58   |#define HW_RTC_CSR_RSVD2_BITPOS (17)
                            13226 ; 59   |#define HW_RTC_CSR_FORCE_BITPOS (20)
                            13227 ; 60   |#define HW_RTC_CSR_RSVD3_BITPOS (21)
                            13228 ; 61   |#define HW_RTC_CSR_SFTRST_BITPOS (23)                                                     
                                                          
                            13229 ; 62   |#define HW_RTC_CSR_ALARMINTEN_WIDTH (1)
                            13230 ; 63   |#define HW_RTC_CSR_ALARMINT_WIDTH (1)
                            13231 ; 64   |#define HW_RTC_CSR_WATCHDOGEN_WIDTH (1)
                            13232 ; 65   |#define HW_RTC_CSR_RSVD0_WIDTH (1)
                            13233 ; 66   |#define HW_RTC_CSR_STALEREGS_WIDTH (5)
                            13234 ; 67   |#define HW_RTC_CSR_RSVD1_WIDTH (3)
                            13235 ; 68   |#define HW_RTC_CSR_NEWREGS_WIDTH (5)
                            13236 ; 69   |#define HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH (1)
                            13237 ; 70   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH (1)
                            13238 ; 71   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH (1)
                            13239 ; 72   |#define HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH (1)
                            13240 ; 73   |#define HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH (1)
                            13241 ; 74   |#define HW_RTC_CSR_RSVD2_WIDTH (3)
                            13242 ; 75   |#define HW_RTC_CSR_FORCE_WIDTH (1)
                            13243 ; 76   |#define HW_RTC_CSR_RSVD3_WIDTH (2)
                            13244 ; 77   |#define HW_RTC_CSR_SFTRST_WIDTH (1)
                            13245 ; 78   |
                            13246 ; 79   |#define HW_RTC_CSR_ALARMINT_SETMASK (((1<<HW_RTC_CSR_ALARMINT_WIDTH)-1)<<HW_RTC_CSR_ALARMI
                                  NT_BITPOS) 
                            13247 ; 80   |#define HW_RTC_CSR_ALARMINTEN_SETMASK (((1<<HW_RTC_CSR_ALARMINTEN_WIDTH)-1)<<HW_RTC_CSR_AL
                                  ARMINTEN_BITPOS) 
                            13248 ; 81   |#define HW_RTC_CSR_WATCHDOGEN_SETMASK (((1<<HW_RTC_CSR_WATCHDOGEN_WIDTH)-1)<<HW_RTC_CSR_WA
                                  TCHDOGEN_BITPOS) 
                            13249 ; 82   |#define HW_RTC_CSR_RSVD0_SETMASK (((1<<HW_RTC_CSR_RSVD0_WIDTH)-1)<<HW_RTC_CSR_RSVD0_BITPOS
                                  ) 
                            13250 ; 83   |#define HW_RTC_CSR_STALEREGS_SETMASK (((1<<HW_RTC_CSR_STALEREGS_WIDTH)-1)<<HW_RTC_CSR_STAL
                                  EREGS_BITPOS) 
                            13251 ; 84   |#define HW_RTC_CSR_RSVD1_SETMASK (((1<<HW_RTC_CSR_RSVD1_WIDTH)-1)<<HW_RTC_CSR_RSVD1_BITPOS
                                  ) 
                            13252 ; 85   |#define HW_RTC_CSR_NEWREGS_SETMASK (((1<<HW_RTC_CSR_NEWREGS_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_
                                  BITPOS) 
                            13253 ; 86   |#define HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK (((1<<HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH)-1)<<HW_
                                  RTC_CSR_NEWREGS_XTALDIV_BITPOS)   
                            13254 ; 87   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH)-1)<<HW_
                                  RTC_CSR_NEWREGS_MSCOUNT_BITPOS)
                            13255 ; 88   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH)-1)<
                                  <HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS)
                            13256 ; 89   |#define HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH)-1)<<H
                                  W_RTC_CSR_NEWREGS_PERSIST0_BITPOS)
                            13257 ; 90   |#define HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH)-1)<<H
                                  W_RTC_CSR_NEWREGS_PERSIST1_BITPOS)
                            13258 ; 91   |#define HW_RTC_CSR_RSVD2_SETMASK (((1<<HW_RTC_CSR_RSVD2_WIDTH)-1)<<HW_RTC_CSR_RSVD2_BITPOS
                                  ) 
                            13259 ; 92   |#define HW_RTC_CSR_FORCE_SETMASK (((1<<HW_RTC_CSR_FORCE_WIDTH)-1)<<HW_RTC_CSR_FORCE_BITPOS
                                  ) 
                            13260 ; 93   |#define HW_RTC_CSR_RSVD3_SETMASK (((1<<HW_RTC_CSR_RSVD3_WIDTH)-1)<<HW_RTC_CSR_RSVD3_BITPOS
                                  ) 
                            13261 ; 94   |#define HW_RTC_CSR_SFTRST_SETMASK (((1<<HW_RTC_CSR_SFTRST_WIDTH)-1)<<HW_RTC_CSR_SFTRST_BIT
                                  POS) 
                            13262 ; 95   |
                            13263 ; 96   |#define HW_RTC_CSR_ALARMINTEN_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINTEN_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 222

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13264 ; 97   |#define HW_RTC_CSR_ALARMINT_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINT_SETMASK)
                            13265 ; 98   |#define HW_RTC_CSR_WATCHDOGEN_CLRMASK (~(WORD)HW_RTC_CSR_WATCHDOGEN_SETMASK)
                            13266 ; 99   |#define HW_RTC_CSR_RSVD0_CLRMASK (~(WORD)HW_RTC_CSR_RSVD0_SETMASK)
                            13267 ; 100  |#define HW_RTC_CSR_STALEREGS_CLRMASK (~(WORD)HW_RTC_CSR_STALEREGS_SETMASK)
                            13268 ; 101  |#define HW_RTC_CSR_RSVD1_CLRMASK (~(WORD)HW_RTC_CSR_RSVD1_SETMASK)
                            13269 ; 102  |#define HW_RTC_CSR_NEWREGS_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_SETMASK)
                            13270 ; 103  |#define HW_RTC_CSR_NEWREGS_XTALDIV_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK)   
                            13271 ; 104  |#define HW_RTC_CSR_NEWREGS_MSCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK)
                            13272 ; 105  |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK)
                                  
                            13273 ; 106  |#define HW_RTC_CSR_NEWREGS_PERSIST0_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK)
                            13274 ; 107  |#define HW_RTC_CSR_NEWREGS_PERSIST1_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK)
                            13275 ; 108  |
                            13276 ; 109  |#define HW_RTC_CSR_RSVD2_CLRMASK (~(WORD)HW_RTC_CSR_RSVD2_SETMASK)
                            13277 ; 110  |#define HW_RTC_CSR_FORCE_CLRMASK (~(WORD)HW_RTC_CSR_FORCE_SETMASK)
                            13278 ; 111  |#define HW_RTC_CSR_RSVD3_CLRMASK (~(WORD)HW_RTC_CSR_RSVD3_SETMASK)
                            13279 ; 112  |#define HW_RTC_CSR_SFTRST_CLRMASK (~(WORD)HW_RTC_CSR_SFTRST_SETMASK)
                            13280 ; 113  |
                            13281 ; 114  |
                            13282 ; 115  |typedef union               
                            13283 ; 116  |{
                            13284 ; 117  |    struct {
                            13285 ; 118  |         int ALARMINTEN         : HW_RTC_CSR_ALARMINTEN_WIDTH;
                            13286 ; 119  |         int ALARMINT           : HW_RTC_CSR_ALARMINT_WIDTH;
                            13287 ; 120  |         int WATCHDOGEN         : HW_RTC_CSR_WATCHDOGEN_WIDTH;
                            13288 ; 121  |         int RSVD0              : HW_RTC_CSR_RSVD0_WIDTH;
                            13289 ; 122  |         unsigned int STALEREGS : HW_RTC_CSR_STALEREGS_WIDTH;
                            13290 ; 123  |         int RSVD1              : HW_RTC_CSR_RSVD1_WIDTH;
                            13291 ; 124  |         unsigned int NEWREGS   : HW_RTC_CSR_NEWREGS_WIDTH;
                            13292 ; 125  |         int RSVD2              : HW_RTC_CSR_RSVD2_WIDTH;
                            13293 ; 126  |         int FORCE             : HW_RTC_CSR_FORCE_WIDTH;
                            13294 ; 127  |         int RSVD3              : HW_RTC_CSR_RSVD3_WIDTH;
                            13295 ; 128  |         unsigned int SFTRST    : HW_RTC_CSR_SFTRST_WIDTH;
                            13296 ; 129  |    } B;
                            13297 ; 130  |    int I;
                            13298 ; 131  |    unsigned int U;
                            13299 ; 132  |} rtc_csr_type;
                            13300 ; 133  |#define HW_RTC_CSR      (*(volatile rtc_csr_type _X*) (HW_RTC_BASEADDR+0))    /* RTC Contr
                                  ol / Status Register */
                            13301 ; 134  |
                            13302 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                            13303 ; 136  |
                            13304 ; 137  |//  RTC Milliseconds Register0 (HW_RTC_MSECONDS0) Bit Definitions
                            13305 ; 138  |
                            13306 ; 139  |#define HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS (0)
                            13307 ; 140  |
                            13308 ; 141  |#define HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH (24)
                            13309 ; 142  |
                            13310 ; 143  |#define HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK (((1<<HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH)-1)<
                                  <HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS) 
                            13311 ; 144  |
                            13312 ; 145  |#define HW_RTC_MSECONDS0_MSECONDSLOW_CLRMASK (~(WORD)HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK)
                                  
                            13313 ; 146  |
                            13314 ; 147  |typedef union               
                            13315 ; 148  |{
                            13316 ; 149  |    struct {
                            13317 ; 150  |         int MSECONDSLOW        : HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH;
                            13318 ; 151  |    } B;
                            13319 ; 152  |    int I;
                            13320 ; 153  |    unsigned int U;
                            13321 ; 154  |} rtc_mseconds0_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 223

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13322 ; 155  |#define HW_RTC_MSECONDS0      (*(volatile rtc_mseconds0_type _X*) (HW_RTC_BASEADDR+1))    
                                  /* RTC MSECONDS Lower Word Register */
                            13323 ; 156  |#define HW_RTCLOWR            HW_RTC_MSECONDS0
                            13324 ; 157  |/////////////////////////////////////////////////////////////////////////////////
                            13325 ; 158  |
                            13326 ; 159  |//  RTC Milliseconds Register1 (HW_RTC_MSECONDS1) Bit Definitions
                            13327 ; 160  |
                            13328 ; 161  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS (0)
                            13329 ; 162  |
                            13330 ; 163  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH (24)
                            13331 ; 164  |
                            13332 ; 165  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_SETMASK (((1<<HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH)-1
                                  )<<HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS) 
                            13333 ; 166  |
                            13334 ; 167  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_CLRMASK (~(WORD)HW_RTC_MSECONDS1_MSECONDSHIGH_SETMAS
                                  K)
                            13335 ; 168  |
                            13336 ; 169  |typedef union               
                            13337 ; 170  |{
                            13338 ; 171  |    struct {
                            13339 ; 172  |         int MSECONDSHIGH       : HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH;
                            13340 ; 173  |    } B;
                            13341 ; 174  |    int I;
                            13342 ; 175  |    unsigned int U;
                            13343 ; 176  |} rtc_mseconds1_type;
                            13344 ; 177  |#define HW_RTC_MSECONDS1      (*(volatile rtc_mseconds1_type _X*) (HW_RTC_BASEADDR+2))    
                                  /* RTC MSECONDS Upper Word Register */
                            13345 ; 178  |#define HW_RTCUPR             HW_RTC_MSECONDS1
                            13346 ; 179  |
                            13347 ; 180  |#define HW_RTC_LOWER_OFFSET 1
                            13348 ; 181  |#define HW_RTC_UP_OFFSET 2
                            13349 ; 182  |
                            13350 ; 183  |
                            13351 ; 184  |/////////////////////////////////////////////////////////////////////////////////
                            13352 ; 185  |
                            13353 ; 186  |//  RTC Watchdog Count (HW_RTC_WATCHDOG) Bit Definitions
                            13354 ; 187  |
                            13355 ; 188  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_BITPOS (0)
                            13356 ; 189  |
                            13357 ; 190  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH (24)
                            13358 ; 191  |
                            13359 ; 192  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK (((1<<HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH)-1)<<HW_
                                  RTC_WATCHDOG_TIMEOUTCNT_BITPOS) 
                            13360 ; 193  |
                            13361 ; 194  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_CLRMASK (~(WORD)HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK)
                            13362 ; 195  |
                            13363 ; 196  |typedef union               
                            13364 ; 197  |{
                            13365 ; 198  |    struct {
                            13366 ; 199  |         int TIMEOUTCNT         : HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH;
                            13367 ; 200  |    } B;
                            13368 ; 201  |    int I;
                            13369 ; 202  |    unsigned int U;
                            13370 ; 203  |} rtc_watchdog_type;
                            13371 ; 204  |#define HW_RTC_WATCHDOG     (*(volatile rtc_watchdog_type _X*) (HW_RTC_BASEADDR+3))    /* 
                                  RTC Watchdog Timeout Register */
                            13372 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                            13373 ; 206  |
                            13374 ; 207  |//  RTC Alarm Register0 (HW_RTC_ALARM0) Bit Definitions
                            13375 ; 208  |
                            13376 ; 209  |#define HW_RTC_ALARM0_ALARMLOW_BITPOS (0)
                            13377 ; 210  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 224

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13378 ; 211  |#define HW_RTC_ALARM0_ALARMLOW_WIDTH (24)
                            13379 ; 212  |
                            13380 ; 213  |#define HW_RTC_ALARM0_ALARMLOW_SETMASK (((1<<HW_RTC_ALARM0_ALARMLOW_WIDTH)-1)<<HW_RTC_ALAR
                                  M0_ALARMLOW_BITPOS) 
                            13381 ; 214  |
                            13382 ; 215  |#define HW_RTC_ALARM0_ALARMLOW_CLRMASK (~(WORD)HW_RTC_ALARM0_ALARMLOW_SETMASK)
                            13383 ; 216  |
                            13384 ; 217  |typedef union               
                            13385 ; 218  |{
                            13386 ; 219  |    struct {
                            13387 ; 220  |         int ALARMLOW   : HW_RTC_ALARM0_ALARMLOW_WIDTH;
                            13388 ; 221  |    } B;
                            13389 ; 222  |    int I;
                            13390 ; 223  |    unsigned int U;
                            13391 ; 224  |} rtc_alarm0_type;
                            13392 ; 225  |#define HW_RTC_ALARM0      (*(volatile rtc_alarm0_type _X*) (HW_RTC_BASEADDR+4))    /* RTC
                                   ALARM Lower Word Register */
                            13393 ; 226  |/////////////////////////////////////////////////////////////////////////////////
                            13394 ; 227  |
                            13395 ; 228  |//  RTC Alarm Register1 (HW_RTC_ALARM1) Bit Definitions
                            13396 ; 229  |
                            13397 ; 230  |#define HW_RTC_ALARM1_ALARMHIGH_BITPOS (0)
                            13398 ; 231  |
                            13399 ; 232  |#define HW_RTC_ALARM1_ALARMHIGH_WIDTH (24)
                            13400 ; 233  |
                            13401 ; 234  |#define HW_RTC_ALARM1_ALARMHIGH_SETMASK (((1<<HW_RTC_ALARM1_ALARMHIGH_WIDTH)-1)<<HW_RTC_AL
                                  ARM1_ALARMHIGH_BITPOS) 
                            13402 ; 235  |
                            13403 ; 236  |#define HW_RTC_ALARM1_ALARMHIGH_CLRMASK (~(WORD)HW_RTC_ALARM1_ALARMHIGH_SETMASK)
                            13404 ; 237  |
                            13405 ; 238  |typedef union               
                            13406 ; 239  |{
                            13407 ; 240  |    struct {
                            13408 ; 241  |         int ALARMHIGH  : HW_RTC_ALARM1_ALARMHIGH_WIDTH;
                            13409 ; 242  |    } B;
                            13410 ; 243  |    int I;
                            13411 ; 244  |    unsigned int U;
                            13412 ; 245  |} rtc_alarm1_type;
                            13413 ; 246  |#define HW_RTC_ALARM1      (*(volatile rtc_alarm1_type _X*) (HW_RTC_BASEADDR+5))    /* RTC
                                   ALARM Upper Word Register */
                            13414 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                            13415 ; 248  |
                            13416 ; 249  |//  RTC Xtal-Clock Divide Register (HW_RTC_XTALDIVIDE) Bit Definitions
                            13417 ; 250  |
                            13418 ; 251  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_BITPOS (0)
                            13419 ; 252  |#define HW_RTC_XTALDIVIDE_RSVD0_BITPOS (16)
                            13420 ; 253  |
                            13421 ; 254  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH (16)
                            13422 ; 255  |#define HW_RTC_XTALDIVIDE_RSVD0_WIDTH (8)
                            13423 ; 256  |
                            13424 ; 257  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK (((1<<HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH)-1)<<HW_
                                  RTC_XTALDIVIDE_DIVCOUNT_BITPOS) 
                            13425 ; 258  |#define HW_RTC_XTALDIVIDE_RSVD0_SETMASK (((1<<HW_RTC_XTALDIVIDE_RSVD0_BITPOS)-1)<<HW_RTC_X
                                  TALDIVIDE_RSVD0_BITPOS) 
                            13426 ; 259  |
                            13427 ; 260  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK)
                            13428 ; 261  |#define HW_RTC_XTALDIVIDE_RSVD0_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_RSVD0_SETMASK)
                            13429 ; 262  |
                            13430 ; 263  |typedef union               
                            13431 ; 264  |{
                            13432 ; 265  |    struct {
                            13433 ; 266  |         int DIVCOUNT   : HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 225

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13434 ; 267  |         int RSVD0      : HW_RTC_XTALDIVIDE_RSVD0_WIDTH;
                            13435 ; 268  |    } B;
                            13436 ; 269  |    int I;
                            13437 ; 270  |    unsigned int U;
                            13438 ; 271  |} rtc_xtaldivide_type;
                            13439 ; 272  |#define HW_RTC_XTALDIVIDE   (*(volatile rtc_xtaldivide_type _X*) (HW_RTC_BASEADDR+6))  /* 
                                  RTC Xtal-clock Pre-Divider Word Register */
                            13440 ; 273  |/////////////////////////////////////////////////////////////////////////////////
                            13441 ; 274  |
                            13442 ; 275  |//  RTC PERSISTENT Register0 (HW_RTC_PERSISTENT0) Bit Definitions
                            13443 ; 276  |
                            13444 ; 277  |#define HW_RTC_PERSISTENT0_ALARMEN_BITPOS (0)
                            13445 ; 278  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS (1)
                            13446 ; 279  |#define HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS (2)
                            13447 ; 280  |#define HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS (3)
                            13448 ; 281  |#define HW_RTC_PERSISTENT0_RSVD0_BITPOS (4)
                            13449 ; 282  |
                            13450 ; 283  |#define HW_RTC_PERSISTENT0_ALARMEN_WIDTH (1)
                            13451 ; 284  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH (1)
                            13452 ; 285  |#define HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH (1)
                            13453 ; 286  |#define HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH (1)
                            13454 ; 287  |#define HW_RTC_PERSISTENT0_RSVD0_WIDTH (21)
                            13455 ; 288  |
                            13456 ; 289  |#define HW_RTC_PERSISTENT0_ALARMEN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMEN_WIDTH)-1)<<HW_
                                  RTC_PERSISTENT0_ALARMEN_BITPOS) 
                            13457 ; 290  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDT
                                  H)-1)<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS)
                            13458 ; 291  |#define HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH)-1)<
                                  <HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS) 
                            13459 ; 292  |#define HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK (((1<<HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH)-1)<
                                  <HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS) 
                            13460 ; 293  |#define HW_RTC_PERSISTENT0_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT0_RSVD0_WIDTH)-1)<<HW_RTC_
                                  PERSISTENT0_RSVD0_BITPOS) 
                            13461 ; 294  |
                            13462 ; 295  |#define HW_RTC_PERSISTENT0_ALARMEN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMEN_SETMASK)
                            13463 ; 296  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_EN_SE
                                  TMASK)
                            13464 ; 297  |#define HW_RTC_PERSISTENT0_ALARMWAKE_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK)
                                  
                            13465 ; 298  |#define HW_RTC_PERSISTENT0_XTALPDOWN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK)
                                  
                            13466 ; 299  |#define HW_RTC_PERSISTENT0_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_RSVD0_SETMASK)
                            13467 ; 300  |
                            13468 ; 301  |typedef union               
                            13469 ; 302  |{
                            13470 ; 303  |   struct {
                            13471 ; 304  |      int ALARMEN   : HW_RTC_PERSISTENT0_ALARMEN_WIDTH;
                            13472 ; 305  |           int ALARMWAKE_EN  :  HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH;
                            13473 ; 306  |      int ALARMWAKE : HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH;
                            13474 ; 307  |      int XTALPDOWN : HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH;
                            13475 ; 308  |      int RSVD0     : HW_RTC_PERSISTENT0_RSVD0_WIDTH;
                            13476 ; 309  |   } B;
                            13477 ; 310  |    int I;
                            13478 ; 311  |    unsigned int U;
                            13479 ; 312  |} rtc_PERSISTENT0_type;
                            13480 ; 313  |#define HW_RTC_PERSISTENT0   (*(volatile rtc_PERSISTENT0_type _X*) (HW_RTC_BASEADDR+7))  /
                                  * RTC PERSISTENT Register0 */
                            13481 ; 314  |
                            13482 ; 315  |/////////////////////////////////////////////////////////////////////////////////
                            13483 ; 316  |
                            13484 ; 317  |//  RTC PERSISTENT Register1 (HW_RTC_PERSISTENT1) Bit Definitions
                            13485 ; 318  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 226

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13486 ; 319  |#define HW_RTC_PERSISTENT1_RSVD0_BITPOS (0)
                            13487 ; 320  |
                            13488 ; 321  |#define HW_RTC_PERSISTENT1_RSVD0_WIDTH (24)
                            13489 ; 322  |
                            13490 ; 323  |#define HW_RTC_PERSISTENT1_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT1_RSVD0_WIDTH)-1)<<HW_RTC_
                                  PERSISTENT1_RSVD0_BITPOS) 
                            13491 ; 324  |
                            13492 ; 325  |#define HW_RTC_PERSISTENT1_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT1_RSVD0_SETMASK)
                            13493 ; 326  |
                            13494 ; 327  |
                            13495 ; 328  |typedef union               
                            13496 ; 329  |{
                            13497 ; 330  |    struct {
                            13498 ; 331  |         int RSVD0      : HW_RTC_PERSISTENT1_RSVD0_WIDTH;
                            13499 ; 332  |    } B;
                            13500 ; 333  |    int I;
                            13501 ; 334  |    unsigned int U;
                            13502 ; 335  |} rtc_PERSISTENT1_type;
                            13503 ; 336  |#define HW_RTC_PERSISTENT1   (*(volatile rtc_PERSISTENT1_type _X*) (HW_RTC_BASEADDR+8))  /
                                  * RTC PERSISTENT Register1 */
                            13504 ; 337  |
                            13505 ; 338  |
                            13506 ; 339  |#endif
                            13507 ; 340  |
                            13508 ; 341  |
                            13509 ; 342  |
                            13510 ; 343  |
                            13511 ; 344  |
                            13512 ; 345  |
                            13513 ; 346  |
                            13514 ; 347  |
                            13515 ; 348  |
                            13516 ; 349  |
                            13517 ; 350  |
                            13518 ; 351  |
                            13519 ; 352  |
                            13520 ; 353  |
                            13521 
                            13523 
                            13524 ; 30   |#include "regsspare.h"
                            13525 
                            13527 
                            13528 ; 1    |#if !(defined(RESGSSPARE_INC))
                            13529 ; 2    |#define RESGSSPARE_INC 1
                            13530 ; 3    |
                            13531 ; 4    |#define HW_SPARER_BASEADDR (0xFA16)
                            13532 ; 5    |
                            13533 ; 6    |
                            13534 ; 7    |#define HW_SPARER_I2SS_BITPOS 0
                            13535 ; 8    |#define HW_SPARER_USB_SELECT_BITPOS 1
                            13536 ; 9    |#define HW_SPARER_USB_PLUGIN_BITPOS 8
                            13537 ; 10   |#define HW_SPARER_PSWITCH_BITPOS 9
                            13538 ; 11   |
                            13539 ; 12   |#define HW_SPARER_I2SS_SETMASK 1<<HW_SPARER_I2SS_BITPOS
                            13540 ; 13   |#define HW_SPARER_USB_SELECT_SETMASK 1<<HW_SPARER_USB_SELECT_BITPOS
                            13541 ; 14   |
                            13542 ; 15   |#define HW_SPARER_I2SS_CLRMASK ~(WORD)HW_SPARER_I2SS_SETMASK
                            13543 ; 16   |#define HW_SPARER_USB_SELECT_CLRMASK ~(WORD)HW_SPARER_USB_SELECT_SETMASK
                            13544 ; 17   |
                            13545 ; 18   |
                            13546 ; 19   |
                            13547 ; 20   |typedef union               
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 227

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13548 ; 21   |{
                            13549 ; 22   |    struct {
                            13550 ; 23   |        int      I2SS       :1;     
                            13551 ; 24   |        int      USBSELECT  :1;     
                            13552 ; 25   |        unsigned            :6;
                            13553 ; 26   |        int      USBPLUGIN  :1;     
                            13554 ; 27   |        int      PSWITCH    :1;     
                            13555 ; 28   |    } B;
                            13556 ; 29   |
                            13557 ; 30   |    int I;
                            13558 ; 31   |
                            13559 ; 32   |} spare_type;
                            13560 ; 33   |#define HW_SPARER      (*(volatile spare_type _X*) (HW_SPARER_BASEADDR))
                            13561 ; 34   |
                            13562 ; 35   |
                            13563 ; 36   |
                            13564 ; 37   |#endif
                            13565 
                            13567 
                            13568 ; 31   |#include "regsspi.h"
                            13569 
                            13571 
                            13572 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13573 ; 2    |//;; Copyright(C) SigmaTel, Inc. 2002-2003
                            13574 ; 3    |//;; Filename    : regsspi.inc
                            13575 ; 4    |//;; Description : Register definitions for SPI interface
                            13576 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13577 ; 6    |
                            13578 ; 7    |/////////////////////////////////////////////////////////////////////////////////
                            13579 ; 8    |// The following naming conventions are followed in this file.
                            13580 ; 9    |// All registers are named using the format...
                            13581 ; 10   |//     HW_<module>_<regname>
                            13582 ; 11   |// where <module> is the module name which can be any of the following...
                            13583 ; 12   |//     USB20
                            13584 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            13585 ; 14   |// module name includes a number starting from 0 for the first instance of
                            13586 ; 15   |// that module)
                            13587 ; 16   |// <regname> is the specific register within that module
                            13588 ; 17   |// We also define the following...
                            13589 ; 18   |//     HW_<module>_<regname>_BITPOS
                            13590 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            13591 ; 20   |//     HW_<module>_<regname>_SETMASK
                            13592 ; 21   |// which does something else, and
                            13593 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            13594 ; 23   |// which does something else.
                            13595 ; 24   |// Other rules
                            13596 ; 25   |//     All caps
                            13597 ; 26   |//     Numeric identifiers start at 0
                            13598 ; 27   |#if !(defined(regsspiinc))
                            13599 ; 28   |#define regsspiinc 1
                            13600 ; 29   |
                            13601 ; 30   |#include "types.h"
                            13602 
                            13604 
                            13605 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            13606 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            13607 ; 3    |//
                            13608 ; 4    |// Filename: types.h
                            13609 ; 5    |// Description: Standard data types
                            13610 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            13611 ; 7    |
                            13612 ; 8    |#ifndef _TYPES_H
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 228

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13613 ; 9    |#define _TYPES_H
                            13614 ; 10   |
                            13615 ; 11   |// TODO:  move this outta here!
                            13616 ; 12   |#if !defined(NOERROR)
                            13617 ; 13   |#define NOERROR 0
                            13618 ; 14   |#define SUCCESS 0
                            13619 ; 15   |#endif 
                            13620 ; 16   |#if !defined(SUCCESS)
                            13621 ; 17   |#define SUCCESS  0
                            13622 ; 18   |#endif
                            13623 ; 19   |#if !defined(ERROR)
                            13624 ; 20   |#define ERROR   -1
                            13625 ; 21   |#endif
                            13626 ; 22   |#if !defined(FALSE)
                            13627 ; 23   |#define FALSE 0
                            13628 ; 24   |#endif
                            13629 ; 25   |#if !defined(TRUE)
                            13630 ; 26   |#define TRUE  1
                            13631 ; 27   |#endif
                            13632 ; 28   |
                            13633 ; 29   |#if !defined(NULL)
                            13634 ; 30   |#define NULL 0
                            13635 ; 31   |#endif
                            13636 ; 32   |
                            13637 ; 33   |#define MAX_INT     0x7FFFFF
                            13638 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            13639 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            13640 ; 36   |#define MAX_ULONG   (-1) 
                            13641 ; 37   |
                            13642 ; 38   |#define WORD_SIZE   24              // word size in bits
                            13643 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            13644 ; 40   |
                            13645 ; 41   |
                            13646 ; 42   |#define BYTE    unsigned char       // btVarName
                            13647 ; 43   |#define CHAR    signed char         // cVarName
                            13648 ; 44   |#define USHORT  unsigned short      // usVarName
                            13649 ; 45   |#define SHORT   unsigned short      // sVarName
                            13650 ; 46   |#define WORD    unsigned int        // wVarName
                            13651 ; 47   |#define INT     signed int          // iVarName
                            13652 ; 48   |#define DWORD   unsigned long       // dwVarName
                            13653 ; 49   |#define LONG    signed long         // lVarName
                            13654 ; 50   |#define BOOL    unsigned int        // bVarName
                            13655 ; 51   |#define FRACT   _fract              // frVarName
                            13656 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            13657 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            13658 ; 54   |#define FLOAT   float               // fVarName
                            13659 ; 55   |#define DBL     double              // dVarName
                            13660 ; 56   |#define ENUM    enum                // eVarName
                            13661 ; 57   |#define CMX     _complex            // cmxVarName
                            13662 ; 58   |typedef WORD UCS3;                   // 
                            13663 ; 59   |
                            13664 ; 60   |#define UINT16  unsigned short
                            13665 ; 61   |#define UINT8   unsigned char   
                            13666 ; 62   |#define UINT32  unsigned long
                            13667 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            13668 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            13669 ; 65   |#define WCHAR   UINT16
                            13670 ; 66   |
                            13671 ; 67   |//UINT128 is 16 bytes or 6 words
                            13672 ; 68   |typedef struct UINT128_3500 {   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 229

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13673 ; 69   |    int val[6];     
                            13674 ; 70   |} UINT128_3500;
                            13675 ; 71   |
                            13676 ; 72   |#define UINT128   UINT128_3500
                            13677 ; 73   |
                            13678 ; 74   |// Little endian word packed byte strings:   
                            13679 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            13680 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            13681 ; 77   |// Little endian word packed byte strings:   
                            13682 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            13683 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            13684 ; 80   |
                            13685 ; 81   |// Declare Memory Spaces To Use When Coding
                            13686 ; 82   |// A. Sector Buffers
                            13687 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            13688 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            13689 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            13690 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            13691 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            13692 ; 88   |// B. Media DDI Memory
                            13693 ; 89   |#define MEDIA_DDI_MEM _Y
                            13694 ; 90   |
                            13695 ; 91   |
                            13696 ; 92   |
                            13697 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            13698 ; 94   |// Examples of circular pointers:
                            13699 ; 95   |//    INT CIRC cpiVarName
                            13700 ; 96   |//    DWORD CIRC cpdwVarName
                            13701 ; 97   |
                            13702 ; 98   |#define RETCODE INT                 // rcVarName
                            13703 ; 99   |
                            13704 ; 100  |// generic bitfield structure
                            13705 ; 101  |struct Bitfield {
                            13706 ; 102  |    unsigned int B0  :1;
                            13707 ; 103  |    unsigned int B1  :1;
                            13708 ; 104  |    unsigned int B2  :1;
                            13709 ; 105  |    unsigned int B3  :1;
                            13710 ; 106  |    unsigned int B4  :1;
                            13711 ; 107  |    unsigned int B5  :1;
                            13712 ; 108  |    unsigned int B6  :1;
                            13713 ; 109  |    unsigned int B7  :1;
                            13714 ; 110  |    unsigned int B8  :1;
                            13715 ; 111  |    unsigned int B9  :1;
                            13716 ; 112  |    unsigned int B10 :1;
                            13717 ; 113  |    unsigned int B11 :1;
                            13718 ; 114  |    unsigned int B12 :1;
                            13719 ; 115  |    unsigned int B13 :1;
                            13720 ; 116  |    unsigned int B14 :1;
                            13721 ; 117  |    unsigned int B15 :1;
                            13722 ; 118  |    unsigned int B16 :1;
                            13723 ; 119  |    unsigned int B17 :1;
                            13724 ; 120  |    unsigned int B18 :1;
                            13725 ; 121  |    unsigned int B19 :1;
                            13726 ; 122  |    unsigned int B20 :1;
                            13727 ; 123  |    unsigned int B21 :1;
                            13728 ; 124  |    unsigned int B22 :1;
                            13729 ; 125  |    unsigned int B23 :1;
                            13730 ; 126  |};
                            13731 ; 127  |
                            13732 ; 128  |union BitInt {
                            13733 ; 129  |        struct Bitfield B;
                            13734 ; 130  |        int        I;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 230

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13735 ; 131  |};
                            13736 ; 132  |
                            13737 ; 133  |#define MAX_MSG_LENGTH 10
                            13738 ; 134  |struct CMessage
                            13739 ; 135  |{
                            13740 ; 136  |        unsigned int m_uLength;
                            13741 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            13742 ; 138  |};
                            13743 ; 139  |
                            13744 ; 140  |typedef struct {
                            13745 ; 141  |    WORD m_wLength;
                            13746 ; 142  |    WORD m_wMessage;
                            13747 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            13748 ; 144  |} Message;
                            13749 ; 145  |
                            13750 ; 146  |struct MessageQueueDescriptor
                            13751 ; 147  |{
                            13752 ; 148  |        int *m_pBase;
                            13753 ; 149  |        int m_iModulo;
                            13754 ; 150  |        int m_iSize;
                            13755 ; 151  |        int *m_pHead;
                            13756 ; 152  |        int *m_pTail;
                            13757 ; 153  |};
                            13758 ; 154  |
                            13759 ; 155  |struct ModuleEntry
                            13760 ; 156  |{
                            13761 ; 157  |    int m_iSignaledEventMask;
                            13762 ; 158  |    int m_iWaitEventMask;
                            13763 ; 159  |    int m_iResourceOfCode;
                            13764 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            13765 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            13766 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            13767 ; 163  |    int m_uTimeOutHigh;
                            13768 ; 164  |    int m_uTimeOutLow;
                            13769 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            13770 ; 166  |};
                            13771 ; 167  |
                            13772 ; 168  |union WaitMask{
                            13773 ; 169  |    struct B{
                            13774 ; 170  |        unsigned int m_bNone     :1;
                            13775 ; 171  |        unsigned int m_bMessage  :1;
                            13776 ; 172  |        unsigned int m_bTimer    :1;
                            13777 ; 173  |        unsigned int m_bButton   :1;
                            13778 ; 174  |    } B;
                            13779 ; 175  |    int I;
                            13780 ; 176  |} ;
                            13781 ; 177  |
                            13782 ; 178  |
                            13783 ; 179  |struct Button {
                            13784 ; 180  |        WORD wButtonEvent;
                            13785 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            13786 ; 182  |};
                            13787 ; 183  |
                            13788 ; 184  |struct Message {
                            13789 ; 185  |        WORD wMsgLength;
                            13790 ; 186  |        WORD wMsgCommand;
                            13791 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            13792 ; 188  |};
                            13793 ; 189  |
                            13794 ; 190  |union EventTypes {
                            13795 ; 191  |        struct CMessage msg;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 231

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13796 ; 192  |        struct Button Button ;
                            13797 ; 193  |        struct Message Message;
                            13798 ; 194  |};
                            13799 ; 195  |
                            13800 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            13801 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            13802 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            13803 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            13804 ; 200  |
                            13805 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            13806 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            13807 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            13808 ; 204  |
                            13809 ; 205  |#if DEBUG
                            13810 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            13811 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            13812 ; 208  |#else 
                            13813 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            13814 ; 210  |#define DebugBuildAssert(x)    
                            13815 ; 211  |#endif
                            13816 ; 212  |
                            13817 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            13818 ; 214  |//  #pragma asm
                            13819 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            13820 ; 216  |//  #pragma endasm
                            13821 ; 217  |
                            13822 ; 218  |
                            13823 ; 219  |#ifdef COLOR_262K
                            13824 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            13825 ; 221  |#elif defined(COLOR_65K)
                            13826 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            13827 ; 223  |#else
                            13828 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            13829 ; 225  |#endif
                            13830 ; 226  |    
                            13831 ; 227  |#endif // #ifndef _TYPES_H
                            13832 
                            13834 
                            13835 ; 31   |
                            13836 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13837 ; 33   |
                            13838 ; 34   |//   SPI STMP3500 Registers 
                            13839 ; 35   |//   Last Updated 7.7.2003 Dave Dyches
                            13840 ; 36   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13841 ; 37   |
                            13842 ; 38   |#define HW_SPI_BASEADDR (0xFFF9)
                            13843 ; 39   |
                            13844 ; 40   |
                            13845 ; 41   |
                            13846 ; 42   |// /////////////////////////////////////////////
                            13847 ; 43   |// //  SPI Control/Status Register Bit Definitions
                            13848 ; 44   |#define HW_SPCSR_SPE_BITPOS (0)
                            13849 ; 45   |#define HW_SPCSR_MSTR_BITPOS (1)
                            13850 ; 46   |#define HW_SPCSR_SPIE_BITPOS (2)
                            13851 ; 47   |#define HW_SPCSR_CPOL_BITPOS (3)
                            13852 ; 48   |#define HW_SPCSR_CPHA_BITPOS (4)
                            13853 ; 49   |#define HW_SPCSR_SPIF_BITPOS (5)
                            13854 ; 50   |#define HW_SPCSR_WCOL_BITPOS (6)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 232

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13855 ; 51   |#define HW_SPCSR_MODF_BITPOS (7)
                            13856 ; 52   |#define HW_SPCSR_DIV_BITPOS (8)
                            13857 ; 53   |#define HW_SPCSR_RSVD_BITPOS (16)
                            13858 ; 54   |
                            13859 ; 55   |#define HW_SPCSR_SPE_WIDTH (1)
                            13860 ; 56   |#define HW_SPCSR_MSTR_WIDTH (1)
                            13861 ; 57   |#define HW_SPCSR_SPIE_WIDTH (1)
                            13862 ; 58   |#define HW_SPCSR_CPOL_WIDTH (1)
                            13863 ; 59   |#define HW_SPCSR_CPHA_WIDTH (1)
                            13864 ; 60   |#define HW_SPCSR_SPIF_WIDTH (1)
                            13865 ; 61   |#define HW_SPCSR_WCOL_WIDTH (1)
                            13866 ; 62   |#define HW_SPCSR_MODF_WIDTH (1)
                            13867 ; 63   |#define HW_SPCSR_DIV_WIDTH (8)
                            13868 ; 64   |#define HW_SPCSR_RSVD_WIDTH (8)
                            13869 ; 65   |
                            13870 ; 66   |#define HW_SPCSR_SPE_SETMASK (((1<<HW_SPCSR_SPE_WIDTH)-1)<<HW_SPCSR_SPE_BITPOS)
                            13871 ; 67   |#define HW_SPCSR_MSTR_SETMASK (((1<<HW_SPCSR_MSTR_WIDTH)-1)<<HW_SPCSR_MSTR_BITPOS)
                            13872 ; 68   |#define HW_SPCSR_SPIE_SETMASK (((1<<HW_SPCSR_SPIE_WIDTH)-1)<<HW_SPCSR_SPIE_BITPOS)
                            13873 ; 69   |#define HW_SPCSR_CPOL_SETMASK (((1<<HW_SPCSR_CPOL_WIDTH)-1)<<HW_SPCSR_CPOL_BITPOS)
                            13874 ; 70   |#define HW_SPCSR_CPHA_SETMASK (((1<<HW_SPCSR_CPHA_WIDTH)-1)<<HW_SPCSR_CPHA_BITPOS)
                            13875 ; 71   |#define HW_SPCSR_SPIF_SETMASK (((1<<HW_SPCSR_SPIF_WIDTH)-1)<<HW_SPCSR_SPIF_BITPOS)
                            13876 ; 72   |#define HW_SPCSR_WCOL_SETMASK (((1<<HW_SPCSR_WCOL_WIDTH)-1)<<HW_SPCSR_WCOL_BITPOS)
                            13877 ; 73   |#define HW_SPCSR_MODF_SETMASK (((1<<HW_SPCSR_MODF_WIDTH)-1)<<HW_SPCSR_MODF_BITPOS)
                            13878 ; 74   |#define HW_SPCSR_DIV_SETMASK (((1<<HW_SPCSR_DIV_WIDTH)-1)<<HW_SPCSR_DIV_BITPOS)
                            13879 ; 75   |#define HW_SPCSR_RSVD_SETMASK (((1<<HW_SPCSR_RSVD_WIDTH)-1)<<HW_SPCSR_RSVD_BITPOS)
                            13880 ; 76   |
                            13881 ; 77   |#define HW_SPCSR_SPE_CLRMASK (~(WORD)HW_SPCSR_SPE_SETMASK)
                            13882 ; 78   |#define HW_SPCSR_MSTR_CLRMASK (~(WORD)HW_SPCSR_MSTR_SETMASK)
                            13883 ; 79   |#define HW_SPCSR_SPIE_CLRMASK (~(WORD)HW_SPCSR_SPIE_SETMASK)
                            13884 ; 80   |#define HW_SPCSR_CPOL_CLRMASK (~(WORD)HW_SPCSR_CPOL_SETMASK)
                            13885 ; 81   |#define HW_SPCSR_CPHA_CLRMASK (~(WORD)HW_SPCSR_CPHA_SETMASK)
                            13886 ; 82   |#define HW_SPCSR_SPIF_CLRMASK (~(WORD)HW_SPCSR_SPIF_SETMASK)
                            13887 ; 83   |#define HW_SPCSR_WCOL_CLRMASK (~(WORD)HW_SPCSR_WCOL_SETMASK)
                            13888 ; 84   |#define HW_SPCSR_MODF_CLRMASK (~(WORD)HW_SPCSR_MODF_SETMASK)
                            13889 ; 85   |#define HW_SPCSR_DIV_CLRMASK (~(WORD)HW_SPCSR_DIV_SETMASK)
                            13890 ; 86   |#define HW_SPCSR_RSVD_CLRMASK (~(WORD)HW_SPCSR_RSVD_SETMASK)
                            13891 ; 87   |
                            13892 ; 88   |typedef union               
                            13893 ; 89   |{
                            13894 ; 90   |    struct {
                            13895 ; 91   |        int SPE                 : HW_SPCSR_SPE_WIDTH;    
                            13896 ; 92   |        int MSTR                : HW_SPCSR_MSTR_WIDTH;
                            13897 ; 93   |        int SPIE                    : HW_SPCSR_SPIE_WIDTH;
                            13898 ; 94   |        int CPOL                : HW_SPCSR_CPOL_WIDTH;
                            13899 ; 95   |        int CPHA                : HW_SPCSR_CPHA_WIDTH;
                            13900 ; 96   |        int SPIF                : HW_SPCSR_SPIF_WIDTH;
                            13901 ; 97   |        int WCOL                    : HW_SPCSR_WCOL_WIDTH;
                            13902 ; 98   |        int MODF                : HW_SPCSR_MODF_WIDTH;
                            13903 ; 99   |        int DIV                 : HW_SPCSR_DIV_WIDTH;
                            13904 ; 100  |    } B;
                            13905 ; 101  |
                            13906 ; 102  |    int I;
                            13907 ; 103  |    unsigned int U;
                            13908 ; 104  |} spcsr_type;
                            13909 ; 105  |#define HW_SPCSR      (*(volatile spcsr_type _X*) (HW_SPI_BASEADDR))    /* SPI Control / S
                                  tatus Register */
                            13910 ; 106  |
                            13911 ; 107  |// /////////////////////////////////////////////
                            13912 ; 108  |// //  SPI Data Register Bit Definitions
                            13913 ; 109  |#define HW_SPDR_SPIDATA_BITPOS (0)
                            13914 ; 110  |#define HW_SPDR_RSVD_BITPOS (8)
                            13915 ; 111  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 233

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13916 ; 112  |#define HW_SPDR_SPIDATA_WIDTH (8)
                            13917 ; 113  |#define HW_SPDR_RSVD_WIDTH (16)
                            13918 ; 114  |
                            13919 ; 115  |#define HW_SPDR_SPIDATA_SETMASK (((1<<HW_SPDR_SPIDATA_WIDTH)-1)<<HW_SPDR_SPIDATA_BITPOS)
                            13920 ; 116  |#define HW_SPDR_RSVD_SETMASK (((1<<HW_SPDR_RSVD_WIDTH)-1)<<HW_SPDR_RSVD_BITPOS)
                            13921 ; 117  |
                            13922 ; 118  |#define HW_SPDR_SPIDATA_CLRMASK (~(WORD)HW_SPDR_SPIDATA_SETMASK) 
                            13923 ; 119  |#define HW_SPDR_RSVD_CLRMASK (~(WORD)HW_SPDR_RSVD_SETMASK)
                            13924 ; 120  |
                            13925 ; 121  |typedef union               
                            13926 ; 122  |{
                            13927 ; 123  |    struct {
                            13928 ; 124  |        int SPIDATA                     : HW_SPDR_SPIDATA_WIDTH;
                            13929 ; 125  |    } B;
                            13930 ; 126  |
                            13931 ; 127  |    int I;
                            13932 ; 128  |    unsigned int U;
                            13933 ; 129  |} spdr_type;
                            13934 ; 130  |#define HW_SPDR      (*(volatile spdr_type _X*) (HW_SPI_BASEADDR+1))    /* SPI Data Regist
                                  er */
                            13935 ; 131  |
                            13936 ; 132  |
                            13937 ; 133  |#endif
                            13938 ; 134  |
                            13939 ; 135  |
                            13940 
                            13942 
                            13943 ; 32   |#include "regsswizzle.h"
                            13944 
                            13946 
                            13947 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13948 ; 2    |//;; Copyright(C) SigmaTel, Inc. 2002-2003
                            13949 ; 3    |//;; Filename    : regsswizzle.inc
                            13950 ; 4    |//;; Description : Register definitions for Swizzle interface
                            13951 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13952 ; 6    |
                            13953 ; 7    |/////////////////////////////////////////////////////////////////////////////////
                            13954 ; 8    |// The following naming conventions are followed in this file.
                            13955 ; 9    |// All registers are named using the format...
                            13956 ; 10   |//     HW_<module>_<regname>
                            13957 ; 11   |// where <module> is the module name which can be any of the following...
                            13958 ; 12   |//     USB20
                            13959 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            13960 ; 14   |// module name includes a number starting from 0 for the first instance of
                            13961 ; 15   |// that module)
                            13962 ; 16   |// <regname> is the specific register within that module
                            13963 ; 17   |// We also define the following...
                            13964 ; 18   |//     HW_<module>_<regname>_BITPOS
                            13965 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            13966 ; 20   |//     HW_<module>_<regname>_SETMASK
                            13967 ; 21   |// which does something else, and
                            13968 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            13969 ; 23   |// which does something else.
                            13970 ; 24   |// Other rules
                            13971 ; 25   |//     All caps
                            13972 ; 26   |//     Numeric identifiers start at 0
                            13973 ; 27   |#if !(defined(regsswizzleinc))
                            13974 ; 28   |#define regsswizzleinc 1
                            13975 ; 29   |
                            13976 ; 30   |#include "types.h"
                            13977 
                            13979 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 234

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13980 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            13981 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            13982 ; 3    |//
                            13983 ; 4    |// Filename: types.h
                            13984 ; 5    |// Description: Standard data types
                            13985 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            13986 ; 7    |
                            13987 ; 8    |#ifndef _TYPES_H
                            13988 ; 9    |#define _TYPES_H
                            13989 ; 10   |
                            13990 ; 11   |// TODO:  move this outta here!
                            13991 ; 12   |#if !defined(NOERROR)
                            13992 ; 13   |#define NOERROR 0
                            13993 ; 14   |#define SUCCESS 0
                            13994 ; 15   |#endif 
                            13995 ; 16   |#if !defined(SUCCESS)
                            13996 ; 17   |#define SUCCESS  0
                            13997 ; 18   |#endif
                            13998 ; 19   |#if !defined(ERROR)
                            13999 ; 20   |#define ERROR   -1
                            14000 ; 21   |#endif
                            14001 ; 22   |#if !defined(FALSE)
                            14002 ; 23   |#define FALSE 0
                            14003 ; 24   |#endif
                            14004 ; 25   |#if !defined(TRUE)
                            14005 ; 26   |#define TRUE  1
                            14006 ; 27   |#endif
                            14007 ; 28   |
                            14008 ; 29   |#if !defined(NULL)
                            14009 ; 30   |#define NULL 0
                            14010 ; 31   |#endif
                            14011 ; 32   |
                            14012 ; 33   |#define MAX_INT     0x7FFFFF
                            14013 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            14014 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            14015 ; 36   |#define MAX_ULONG   (-1) 
                            14016 ; 37   |
                            14017 ; 38   |#define WORD_SIZE   24              // word size in bits
                            14018 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            14019 ; 40   |
                            14020 ; 41   |
                            14021 ; 42   |#define BYTE    unsigned char       // btVarName
                            14022 ; 43   |#define CHAR    signed char         // cVarName
                            14023 ; 44   |#define USHORT  unsigned short      // usVarName
                            14024 ; 45   |#define SHORT   unsigned short      // sVarName
                            14025 ; 46   |#define WORD    unsigned int        // wVarName
                            14026 ; 47   |#define INT     signed int          // iVarName
                            14027 ; 48   |#define DWORD   unsigned long       // dwVarName
                            14028 ; 49   |#define LONG    signed long         // lVarName
                            14029 ; 50   |#define BOOL    unsigned int        // bVarName
                            14030 ; 51   |#define FRACT   _fract              // frVarName
                            14031 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            14032 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            14033 ; 54   |#define FLOAT   float               // fVarName
                            14034 ; 55   |#define DBL     double              // dVarName
                            14035 ; 56   |#define ENUM    enum                // eVarName
                            14036 ; 57   |#define CMX     _complex            // cmxVarName
                            14037 ; 58   |typedef WORD UCS3;                   // 
                            14038 ; 59   |
                            14039 ; 60   |#define UINT16  unsigned short
                            14040 ; 61   |#define UINT8   unsigned char   
                            14041 ; 62   |#define UINT32  unsigned long
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 235

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14042 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            14043 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            14044 ; 65   |#define WCHAR   UINT16
                            14045 ; 66   |
                            14046 ; 67   |//UINT128 is 16 bytes or 6 words
                            14047 ; 68   |typedef struct UINT128_3500 {   
                            14048 ; 69   |    int val[6];     
                            14049 ; 70   |} UINT128_3500;
                            14050 ; 71   |
                            14051 ; 72   |#define UINT128   UINT128_3500
                            14052 ; 73   |
                            14053 ; 74   |// Little endian word packed byte strings:   
                            14054 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            14055 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            14056 ; 77   |// Little endian word packed byte strings:   
                            14057 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            14058 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            14059 ; 80   |
                            14060 ; 81   |// Declare Memory Spaces To Use When Coding
                            14061 ; 82   |// A. Sector Buffers
                            14062 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            14063 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            14064 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            14065 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            14066 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            14067 ; 88   |// B. Media DDI Memory
                            14068 ; 89   |#define MEDIA_DDI_MEM _Y
                            14069 ; 90   |
                            14070 ; 91   |
                            14071 ; 92   |
                            14072 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            14073 ; 94   |// Examples of circular pointers:
                            14074 ; 95   |//    INT CIRC cpiVarName
                            14075 ; 96   |//    DWORD CIRC cpdwVarName
                            14076 ; 97   |
                            14077 ; 98   |#define RETCODE INT                 // rcVarName
                            14078 ; 99   |
                            14079 ; 100  |// generic bitfield structure
                            14080 ; 101  |struct Bitfield {
                            14081 ; 102  |    unsigned int B0  :1;
                            14082 ; 103  |    unsigned int B1  :1;
                            14083 ; 104  |    unsigned int B2  :1;
                            14084 ; 105  |    unsigned int B3  :1;
                            14085 ; 106  |    unsigned int B4  :1;
                            14086 ; 107  |    unsigned int B5  :1;
                            14087 ; 108  |    unsigned int B6  :1;
                            14088 ; 109  |    unsigned int B7  :1;
                            14089 ; 110  |    unsigned int B8  :1;
                            14090 ; 111  |    unsigned int B9  :1;
                            14091 ; 112  |    unsigned int B10 :1;
                            14092 ; 113  |    unsigned int B11 :1;
                            14093 ; 114  |    unsigned int B12 :1;
                            14094 ; 115  |    unsigned int B13 :1;
                            14095 ; 116  |    unsigned int B14 :1;
                            14096 ; 117  |    unsigned int B15 :1;
                            14097 ; 118  |    unsigned int B16 :1;
                            14098 ; 119  |    unsigned int B17 :1;
                            14099 ; 120  |    unsigned int B18 :1;
                            14100 ; 121  |    unsigned int B19 :1;
                            14101 ; 122  |    unsigned int B20 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 236

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14102 ; 123  |    unsigned int B21 :1;
                            14103 ; 124  |    unsigned int B22 :1;
                            14104 ; 125  |    unsigned int B23 :1;
                            14105 ; 126  |};
                            14106 ; 127  |
                            14107 ; 128  |union BitInt {
                            14108 ; 129  |        struct Bitfield B;
                            14109 ; 130  |        int        I;
                            14110 ; 131  |};
                            14111 ; 132  |
                            14112 ; 133  |#define MAX_MSG_LENGTH 10
                            14113 ; 134  |struct CMessage
                            14114 ; 135  |{
                            14115 ; 136  |        unsigned int m_uLength;
                            14116 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            14117 ; 138  |};
                            14118 ; 139  |
                            14119 ; 140  |typedef struct {
                            14120 ; 141  |    WORD m_wLength;
                            14121 ; 142  |    WORD m_wMessage;
                            14122 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            14123 ; 144  |} Message;
                            14124 ; 145  |
                            14125 ; 146  |struct MessageQueueDescriptor
                            14126 ; 147  |{
                            14127 ; 148  |        int *m_pBase;
                            14128 ; 149  |        int m_iModulo;
                            14129 ; 150  |        int m_iSize;
                            14130 ; 151  |        int *m_pHead;
                            14131 ; 152  |        int *m_pTail;
                            14132 ; 153  |};
                            14133 ; 154  |
                            14134 ; 155  |struct ModuleEntry
                            14135 ; 156  |{
                            14136 ; 157  |    int m_iSignaledEventMask;
                            14137 ; 158  |    int m_iWaitEventMask;
                            14138 ; 159  |    int m_iResourceOfCode;
                            14139 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            14140 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            14141 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            14142 ; 163  |    int m_uTimeOutHigh;
                            14143 ; 164  |    int m_uTimeOutLow;
                            14144 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            14145 ; 166  |};
                            14146 ; 167  |
                            14147 ; 168  |union WaitMask{
                            14148 ; 169  |    struct B{
                            14149 ; 170  |        unsigned int m_bNone     :1;
                            14150 ; 171  |        unsigned int m_bMessage  :1;
                            14151 ; 172  |        unsigned int m_bTimer    :1;
                            14152 ; 173  |        unsigned int m_bButton   :1;
                            14153 ; 174  |    } B;
                            14154 ; 175  |    int I;
                            14155 ; 176  |} ;
                            14156 ; 177  |
                            14157 ; 178  |
                            14158 ; 179  |struct Button {
                            14159 ; 180  |        WORD wButtonEvent;
                            14160 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            14161 ; 182  |};
                            14162 ; 183  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 237

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14163 ; 184  |struct Message {
                            14164 ; 185  |        WORD wMsgLength;
                            14165 ; 186  |        WORD wMsgCommand;
                            14166 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            14167 ; 188  |};
                            14168 ; 189  |
                            14169 ; 190  |union EventTypes {
                            14170 ; 191  |        struct CMessage msg;
                            14171 ; 192  |        struct Button Button ;
                            14172 ; 193  |        struct Message Message;
                            14173 ; 194  |};
                            14174 ; 195  |
                            14175 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            14176 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            14177 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            14178 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            14179 ; 200  |
                            14180 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            14181 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            14182 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            14183 ; 204  |
                            14184 ; 205  |#if DEBUG
                            14185 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            14186 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            14187 ; 208  |#else 
                            14188 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            14189 ; 210  |#define DebugBuildAssert(x)    
                            14190 ; 211  |#endif
                            14191 ; 212  |
                            14192 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            14193 ; 214  |//  #pragma asm
                            14194 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            14195 ; 216  |//  #pragma endasm
                            14196 ; 217  |
                            14197 ; 218  |
                            14198 ; 219  |#ifdef COLOR_262K
                            14199 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            14200 ; 221  |#elif defined(COLOR_65K)
                            14201 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            14202 ; 223  |#else
                            14203 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            14204 ; 225  |#endif
                            14205 ; 226  |    
                            14206 ; 227  |#endif // #ifndef _TYPES_H
                            14207 
                            14209 
                            14210 ; 31   |
                            14211 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            14212 ; 33   |
                            14213 ; 34   |//   SWIZZLE STMP3500 Registers 
                            14214 ; 35   |//   Last Updated 7.11.2003 Dave Dyches
                            14215 ; 36   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            14216 ; 37   |
                            14217 ; 38   |
                            14218 ; 39   |
                            14219 ; 40   |
                            14220 ; 41   |
                            14221 ; 42   |#define HW_SWIZZLE_BASEADDR 0xF380
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 238

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14222 ; 43   |
                            14223 ; 44   |
                            14224 ; 45   |
                            14225 ; 46   |////  Swizzle CSR1 (HW_SWIZZLECSR1) Bit Definitions
                            14226 ; 47   |#define HW_SWIZZLECSR1_EN_BITPOS (0)
                            14227 ; 48   |#define HW_SWIZZLECSR1_LA_BITPOS (1)
                            14228 ; 49   |#define HW_SWIZZLECSR1_LNR_BITPOS (2)
                            14229 ; 50   |#define HW_SWIZZLECSR1_SIGN_BITPOS (3)
                            14230 ; 51   |#define HW_SWIZZLECSR1_SHIFT_BITPOS (4)
                            14231 ; 52   |#define HW_SWIZZLECSR1_MEM_BITPOS (8)
                            14232 ; 53   |#define HW_SWIZZLECSR1_CLK_OFF_BITPOS (9)
                            14233 ; 54   |#define HW_SWIZZLECSR1_NEWADD_BITPOS (10)
                            14234 ; 55   |#define HW_SWIZZLECSR1_RSVD_BITPOS (11)
                            14235 ; 56   |
                            14236 ; 57   |#define HW_SWIZZLECSR1_EN_WIDTH (1)
                            14237 ; 58   |#define HW_SWIZZLECSR1_LA_WIDTH (1)
                            14238 ; 59   |#define HW_SWIZZLECSR1_LNR_WIDTH (1)
                            14239 ; 60   |#define HW_SWIZZLECSR1_SIGN_WIDTH (1)
                            14240 ; 61   |#define HW_SWIZZLECSR1_SHIFT_WIDTH (4)
                            14241 ; 62   |#define HW_SWIZZLECSR1_MEM_WIDTH (1)
                            14242 ; 63   |#define HW_SWIZZLECSR1_CLK_OFF_WIDTH (1)
                            14243 ; 64   |#define HW_SWIZZLECSR1_NEWADD_WIDTH (1)
                            14244 ; 65   |#define HW_SWIZZLECSR1_RSVD_WIDTH (13)
                            14245 ; 66   |
                            14246 ; 67   |#define HW_SWIZZLECSR1_EN_SETMASK (((1<HW_SWIZZLECSR1_EN_WIDTH)-1)<<HW_SWIZZLECSR1_EN_BITP
                                  OS)
                            14247 ; 68   |#define HW_SWIZZLECSR1_LA_SETMASK (((1<HW_SWIZZLECSR1_LA_WIDTH)-1)<<HW_SWIZZLECSR1_LA_BITP
                                  OS)
                            14248 ; 69   |#define HW_SWIZZLECSR1_LNR_SETMASK (((1<HW_SWIZZLECSR1_LNR_WIDTH)-1)<<HW_SWIZZLECSR1_LNR_B
                                  ITPOS)
                            14249 ; 70   |#define HW_SWIZZLECSR1_SIGN_SETMASK (((1<HW_SWIZZLECSR1_SIGN_WIDTH)-1)<<HW_SWIZZLECSR1_SIG
                                  N_BITPOS)
                            14250 ; 71   |#define HW_SWIZZLECSR1_SHIFT_SETMASK (((1<HW_SWIZZLECSR1_SHIFT_WIDTH)-1)<<HW_SWIZZLECSR1_S
                                  HIFT_BITPOS)
                            14251 ; 72   |#define HW_SWIZZLECSR1_MEM_SETMASK (((1<HW_SWIZZLECSR1_MEM_WIDTH)-1)<<HW_SWIZZLECSR1_MEM_B
                                  ITPOS)
                            14252 ; 73   |#define HW_SWIZZLECSR1_CLK_OFF_SETMASK (((1<HW_SWIZZLECSR1_CLK_OFF_WIDTH)-1)<<HW_SWIZZLECS
                                  R1_CLK_OFF_BITPOS)
                            14253 ; 74   |#define HW_SWIZZLECSR1_NEWADD_SETMASK (((1<HW_SWIZZLECSR1_NEWADD_WIDTH)-1)<<HW_SWIZZLECSR1
                                  _NEWADD_BITPOS)
                            14254 ; 75   |#define HW_SWIZZLECSR1_RSVD_SETMASK (((1<HW_SWIZZLECSR1_RSVD_WIDTH)-1)<<HW_SWIZZLECSR1_RSV
                                  D_BITPOS)
                            14255 ; 76   |
                            14256 ; 77   |#define HW_SWIZZLECSR1_EN_CLRMASK (~(WORD)HW_SWIZZLECSR1_EN_SETMASK)
                            14257 ; 78   |#define HW_SWIZZLECSR1_LA_CLRMASK (~(WORD)HW_SWIZZLECSR1_LA_SETMASK)
                            14258 ; 79   |#define HW_SWIZZLECSR1_LNR_CLRMASK (~(WORD)HW_SWIZZLECSR1_LNR_SETMASK)
                            14259 ; 80   |#define HW_SWIZZLECSR1_SIGN_CLRMASK (~(WORD)HW_SWIZZLECSR1_SIGN_SETMASK)
                            14260 ; 81   |#define HW_SWIZZLECSR1_SHIFT_CLRMASK (~(WORD)HW_SWIZZLECSR1_SHIFT_SETMASK)
                            14261 ; 82   |#define HW_SWIZZLECSR1_MEM_CLRMASK (~(WORD)HW_SWIZZLECSR1_MEM_SETMASK)
                            14262 ; 83   |#define HW_SWIZZLECSR1_CLK_OFF_CLRMASK (~(WORD)HW_SWIZZLECSR1_CLK_OFF_SETMASK)
                            14263 ; 84   |#define HW_SWIZZLECSR1_NEWADD_CLRMASK (~(WORD)HW_SWIZZLECSR1_NEWADD_SETMASK)
                            14264 ; 85   |#define HW_SWIZZLECSR1_RSVD_CLRMASK (~(WORD)HW_SWIZZLECSR1_RSVD_SETMASK)
                            14265 ; 86   |
                            14266 ; 87   |////////////////////////////////////////////////////////////////////////////////
                            14267 ; 88   |//  Bit Manipulation Unit Registers
                            14268 ; 89   |////////////////////////////////////////////////////////////////////////////////
                            14269 ; 90   |typedef union
                            14270 ; 91   |{
                            14271 ; 92   |    struct
                            14272 ; 93   |    {
                            14273 ; 94   |    int EN      :1;     /* Swizzle Enable                           */
                            14274 ; 95   |    int LA      :1;     /* Left Align Data                          */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 239

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14275 ; 96   |    int LNR     :1;     /* Left Barrel Shift                        */
                            14276 ; 97   |    int SIGN    :1;     /* Sign Extend Data                         */
                            14277 ; 98   |    unsigned SHIFT :4;          /* Number of positions to shift (0 to 23)   */
                            14278 ; 99   |    int MEM     :1;     /* Manipulate in Memory (not in registers)  */
                            14279 ; 100  |    int CLK_OFF :1;     /* Gate the Clock, Power Off                */
                            14280 ; 101  |    int NEWADD  :1;     /* Place the data into a new location       */     
                            14281 ; 102  |    } B;
                            14282 ; 103  |    int I;
                            14283 ; 104  |    unsigned U;
                            14284 ; 105  |} swizzlecsr1_type;
                            14285 ; 106  |////////////////////////////////////////////////////////////////////////////////
                            14286 ; 107  |#define HW_SWIZZLECS1R (*(volatile swizzlecsr1_type _X*) (HW_SWIZZLE_BASEADDR))       /* S
                                  wizzle Control & Status Register 1 */
                            14287 ; 108  |
                            14288 ; 109  |////  Swizzle CSR2 (HW_SWIZZLECSR2) Bit Definitions
                            14289 ; 110  |#define HW_SWIZZLECSR2_KICK_BITPOS (0)
                            14290 ; 111  |#define HW_SWIZZLECSR2_SASEL_BITPOS (1)
                            14291 ; 112  |#define HW_SWIZZLECSR2_DESASEL_BITPOS (3)
                            14292 ; 113  |#define HW_SWIZZLECSR2_BIGE_BITPOS (5)
                            14293 ; 114  |#define HW_SWIZZLECSR2_BITREV_BITPOS (6)
                            14294 ; 115  |#define HW_SWIZZLECSR2_PLSB_BITPOS (7)
                            14295 ; 116  |#define HW_SWIZZLECSR2_PISB_OFF_BITPOS (8)
                            14296 ; 117  |#define HW_SWIZZLECSR2_PMSB_BITPOS (9)
                            14297 ; 118  |#define HW_SWIZZLECSR2_P16L_BITPOS (10)
                            14298 ; 119  |#define HW_SWIZZLECSR2_P16I_BITPOS (11)
                            14299 ; 120  |#define HW_SWIZZLECSR2_BS_EN_BITPOS (12)
                            14300 ; 121  |#define HW_SWIZZLECSR2_SBYTEDEST_BITPOS (13)
                            14301 ; 122  |#define HW_SWIZZLECSR2_UNKICK_BITPOS (15)
                            14302 ; 123  |#define HW_SWIZZLECSR2_RSVD_BITPOS (16)
                            14303 ; 124  |
                            14304 ; 125  |#define HW_SWIZZLECSR2_KICK_WIDTH (1)
                            14305 ; 126  |#define HW_SWIZZLECSR2_SASEL_WIDTH (2)
                            14306 ; 127  |#define HW_SWIZZLECSR2_DESASEL_WIDTH (2)
                            14307 ; 128  |#define HW_SWIZZLECSR2_BIGE_WIDTH (1)
                            14308 ; 129  |#define HW_SWIZZLECSR2_BITREV_WIDTH (1)
                            14309 ; 130  |#define HW_SWIZZLECSR2_PLSB_WIDTH (1)
                            14310 ; 131  |#define HW_SWIZZLECSR2_PMSB_WIDTH (1)
                            14311 ; 132  |#define HW_SWIZZLECSR2_P16L_WIDTH (1)
                            14312 ; 133  |#define HW_SWIZZLECSR2_P16I_WIDTH (1)
                            14313 ; 134  |#define HW_SWIZZLECSR2_BS_EN_WIDTH (1)
                            14314 ; 135  |#define HW_SWIZZLECSR2_SBYTEDEST_WIDTH (2)
                            14315 ; 136  |#define HW_SWIZZLECSR2_UNKICK_WIDTH (1)
                            14316 ; 137  |#define HW_SWIZZLECSR2_RSVD_WIDTH (8)
                            14317 ; 138  |
                            14318 ; 139  |#define HW_SWIZZLECSR2_KICK_SETMASK (((1<HW_SWIZZLECSR2_KICK_WIDTH)-1)<<HW_SWIZZLECSR2_KIC
                                  K_BITPOS)
                            14319 ; 140  |#define HW_SWIZZLECSR2_SASEL_SETMASK (((1<HW_SWIZZLECSR2_SASEL_WIDTH)-1)<<HW_SWIZZLECSR2_S
                                  ASEL_BITPOS)
                            14320 ; 141  |#define HW_SWIZZLECSR2_DESASEL_SETMASK (((1<HW_SWIZZLECSR2_DESASEL_WIDTH)-1)<<HW_SWIZZLECS
                                  R2_DESASEL_BITPOS)
                            14321 ; 142  |#define HW_SWIZZLECSR2_BIGE_SETMASK (((1<HW_SWIZZLECSR2_BIGE_WIDTH)-1)<<HW_SWIZZLECSR2_BIG
                                  E_BITPOS)
                            14322 ; 143  |#define HW_SWIZZLECSR2_BITREV_SETMASK (((1<HW_SWIZZLECSR2_BITREV_WIDTH)-1)<<HW_SWIZZLECSR2
                                  _BITREV_BITPOS)
                            14323 ; 144  |#define HW_SWIZZLECSR2_PLSB_SETMASK (((1<HW_SWIZZLECSR2_PLSB_WIDTH)-1)<<HW_SWIZZLECSR2_PLS
                                  B_BITPOS)
                            14324 ; 145  |#define HW_SWIZZLECSR2_PMSB_SETMASK (((1<HW_SWIZZLECSR2_PMSB_WIDTH)-1)<<HW_SWIZZLECSR2_PMS
                                  B_BITPOS)
                            14325 ; 146  |#define HW_SWIZZLECSR2_P16L_SETMASK (((1<HW_SWIZZLECSR2_P16L_WIDTH)-1)<<HW_SWIZZLECSR2_P16
                                  L_BITPOS)
                            14326 ; 147  |#define HW_SWIZZLECSR2_P16I_SETMASK (((1<HW_SWIZZLECSR2_P16I_WIDTH)-1)<<HW_SWIZZLECSR2_P16
                                  I_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 240

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14327 ; 148  |#define HW_SWIZZLECSR2_BS_EN_SETMASK (((1<HW_SWIZZLECSR2_BS_EN_WIDTH)-1)<<HW_SWIZZLECSR2_B
                                  S_EN_BITPOS)
                            14328 ; 149  |#define HW_SWIZZLECSR2_SBYTEDEST_SETMASK (((1<HW_SWIZZLECSR2_SBYTEDEST_WIDTH)-1)<<HW_SWIZZ
                                  LECSR2_SBYTEDEST_BITPOS)
                            14329 ; 150  |#define HW_SWIZZLECSR2_UNKICK_SETMASK (((1<HW_SWIZZLECSR2_UNKICK_WIDTH)-1)<<HW_SWIZZLECSR2
                                  _UNKICK_BITPOS)
                            14330 ; 151  |#define HW_SWIZZLECSR2_RSVD_SETMASK (((1<HW_SWIZZLECSR2_RSVD_WIDTH)-1)<<HW_SWIZZLECSR2_RSV
                                  D_BITPOS)
                            14331 ; 152  |
                            14332 ; 153  |#define HW_SWIZZLECSR2_KICK_CLRMASK (~(WORD)HW_SWIZZLECSR2_KICK_SETMASK)
                            14333 ; 154  |#define HW_SWIZZLECSR2_SASEL_CLRMASK (~(WORD)HW_SWIZZLECSR2_SASEL_SETMASK)
                            14334 ; 155  |#define HW_SWIZZLECSR2_DESASEL_CLRMASK (~(WORD)HW_SWIZZLECSR2_DESASEL_SETMASK)
                            14335 ; 156  |#define HW_SWIZZLECSR2_BIGE_CLRMASK (~(WORD)HW_SWIZZLECSR2_BIGE_SETMASK)
                            14336 ; 157  |#define HW_SWIZZLECSR2_BITREV_CLRMASK (~(WORD)HW_SWIZZLECSR2_BITREV_SETMASK)
                            14337 ; 158  |#define HW_SWIZZLECSR2_PLSB_CLRMASK (~(WORD)HW_SWIZZLECSR2_PLSB_SETMASK)
                            14338 ; 159  |#define HW_SWIZZLECSR2_PMSB_CLRMASK (~(WORD)HW_SWIZZLECSR2_PMSB_SETMASK)
                            14339 ; 160  |#define HW_SWIZZLECSR2_P16L_CLRMASK (~(WORD)HW_SWIZZLECSR2_P16L_SETMASK)
                            14340 ; 161  |#define HW_SWIZZLECSR2_P16I_CLRMASK (~(WORD)HW_SWIZZLECSR2_P16I_SETMASK)
                            14341 ; 162  |#define HW_SWIZZLECSR2_BS_EN_CLRMASK (~(WORD)HW_SWIZZLECSR2_BS_EN_SETMASK)
                            14342 ; 163  |#define HW_SWIZZLECSR2_SBYTEDEST_CLRMASK (~(WORD)HW_SWIZZLECSR2_SBYTEDEST_SETMASK)
                            14343 ; 164  |#define HW_SWIZZLECSR2_UNKICK_CLRMASK (~(WORD)HW_SWIZZLECSR2_UNKICK_SETMASK)
                            14344 ; 165  |#define HW_SWIZZLECSR2_RSVD_CLRMASK (~(WORD)HW_SWIZZLECSR2_RSVD_SETMASK)
                            14345 ; 166  |
                            14346 ; 167  |///////////////////////////////////////////////////////////////////////////////
                            14347 ; 168  |typedef union
                            14348 ; 169  |{
                            14349 ; 170  |    struct
                            14350 ; 171  |    {
                            14351 ; 172  |    int KICK    :1;         /* Start transfer                      */
                            14352 ; 173  |    unsigned SASEL :2;              /* Source memory Select                */
                            14353 ; 174  |    unsigned DESASEL :2;                    /* Destination memory Select           */
                            14354 ; 175  |    int BIGE        :1;             /* Big Endian Enable                   */
                            14355 ; 176  |    int BITREV      :1;     /* Bit reverse the data                */
                            14356 ; 177  |    int PLSB        :1;             /* Pass Least Significant Byte         */
                            14357 ; 178  |    int PISB        :1;     /* Pass Intermediate Byte              */
                            14358 ; 179  |    int PMSB        :1;     /* Pass Most Significant Byte          */
                            14359 ; 180  |    int P16L        :1;     /* Pass Least Significant word         */
                            14360 ; 181  |    int P16I        :1;     /* Pass Intermediate significant word  */
                            14361 ; 182  |    int BS_EN       :1;     /* Barrel Shift Enable                 */
                            14362 ; 183  |    unsigned SBYTE  :2;                     /* Start byte                          */
                            14363 ; 184  |    int UNKICK      :1;     /* Halt transfer                       */  
                            14364 ; 185  |    } B;
                            14365 ; 186  |    unsigned int I;
                            14366 ; 187  |    unsigned int U;
                            14367 ; 188  |} swizzlecsr2_type;
                            14368 ; 189  |///////////////////////////////////////////////////////////////////////////////
                            14369 ; 190  |#define HW_SWIZZLECS2R (*(volatile swizzlecsr2_type _X*) (HW_SWIZZLE_BASEADDR+1))     /* S
                                  wizzle Control & Status Register 2 */
                            14370 ; 191  |
                            14371 ; 192  |////  Swizzle SIZER (HW_SWIZZLESIZER) Bit Definitions
                            14372 ; 193  |#define HW_SWIZZLESIZER_SIZE_BITPOS (0)
                            14373 ; 194  |#define HW_SWIZZLESIZER_NEW_SHIFT_BITPOS (16)
                            14374 ; 195  |#define HW_SWIZZLESIZER_RSVD_BITPOS (21)
                            14375 ; 196  |
                            14376 ; 197  |#define HW_SWIZZLESIZER_SIZE_WIDTH (16)
                            14377 ; 198  |#define HW_SWIZZLESIZER_NEW_SHIFT_WIDTH (5)
                            14378 ; 199  |#define HW_SWIZZLESIZER_RSVD_WIDTH (3)
                            14379 ; 200  |
                            14380 ; 201  |#define HW_SWIZZLESIZER_SIZE_SETMASK (((1<HW_SWIZZLESIZER_SIZE_WIDTH)-1)<<HW_SWIZZLESIZER_
                                  SIZE_BITPOS)
                            14381 ; 202  |#define HW_SWIZZLESIZER_NEW_SHIFT_SETMASK (((1<HW_SWIZZLESIZER_NEW_SHIFT_WIDTH)-1)<<HW_SWI
                                  ZZLESIZER_NEW_SHIFT_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 241

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14382 ; 203  |#define HW_SWIZZLESIZER_RSVD_SETMASK (((1<HW_SWIZZLESIZER_RSVD_WIDTH)-1)<<HW_SWIZZLESIZER_
                                  RSVD_BITPOS)
                            14383 ; 204  |
                            14384 ; 205  |#define HW_SWIZZLESIZER_SIZE_CLRMASK (~(WORD)HW_SWIZZLESIZER_SIZE_SETMASK)
                            14385 ; 206  |#define HW_SWIZZLESIZER_NEW_SHIFT_CLRMASK (~(WORD)HW_SWIZZLESIZER_NEW_SHIFT_SETMASK)
                            14386 ; 207  |#define HW_SWIZZLESIZER_RSVD_CLRMASK (~(WORD)HW_SWIZZLESIZER_RSVD_SETMASK)
                            14387 ; 208  |
                            14388 ; 209  |///////////////////////////////////////////////////////////////////////////////
                            14389 ; 210  |typedef union
                            14390 ; 211  |{
                            14391 ; 212  |    struct
                            14392 ; 213  |    {
                            14393 ; 214  |    unsigned SIZE      :16;        /* Number of memory words to manipulate */
                            14394 ; 215  |    unsigned NEW_SHIFT :5;         /* Source memory Select                 */
                            14395 ; 216  |    } B;
                            14396 ; 217  |    int I;
                            14397 ; 218  |    unsigned U;
                            14398 ; 219  |} swizzlesizer_type;
                            14399 ; 220  |///////////////////////////////////////////////////////////////////////////////
                            14400 ; 221  |#define HW_SWIZZLESIZER (*(volatile swizzlesizer_type _X*) (HW_SWIZZLE_BASEADDR+2))       
                                   /* Swizzle Transfer Size Register */
                            14401 ; 222  |#define HW_SWIZZLESOURCER (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+3))      /* S
                                  wizzle Source Address Register */
                            14402 ; 223  |#define HW_SWIZZLEDATA1R (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+4))       /* S
                                  wizzle Data1 Register */
                            14403 ; 224  |#define HW_SWIZZLEDATA2R (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+5))       /* S
                                  wizzle Data2 Register */
                            14404 ; 225  |#define HW_SWIZZLEDESTADDRR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+6))    /* S
                                  wizzle Destination Address Register */
                            14405 ; 226  |#define HW_SWIZZLEBIGENDIANR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+7))   /* S
                                  wizzle Big Endian Register */
                            14406 ; 227  |#define HW_SWIZZLEBITREVR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+8))      /* S
                                  wizzle BITREV Register */
                            14407 ; 228  |#define HW_SWIZZLEPASSLSBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+9))     /* S
                                  wizzle Pass Least Significant Byte Register */
                            14408 ; 229  |#define HW_SWIZZLEPASSISBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+10))    /* S
                                  wizzle Pass Intermediate Byte Register */
                            14409 ; 230  |#define HW_SWIZZLEPASSMSBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+11))    /* S
                                  wizzle Pass Most Significant Byte Register */
                            14410 ; 231  |#define HW_SWIZZLEPASSLSWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+12))    /* S
                                  wizzle Pass Least Significant Word Register */
                            14411 ; 232  |#define HW_SWIZZLEPASSISWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+13))    /* S
                                  wizzle Pass Intermediate Significant Word Register */
                            14412 ; 233  |#define HW_SWIZZLEPASSMSWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+14))    /* S
                                  wizzle Pass Most Significant Word Register */
                            14413 ; 234  |#define HW_SWIZZLEBARRELR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+15))    /* Sw
                                  izzle Barrel Shift Register */
                            14414 ; 235  |#define HW_SWIZZLEDIV3LR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+16))    /* Swi
                                  zzle Divide By 3 Lower Register */
                            14415 ; 236  |
                            14416 ; 237  |
                            14417 ; 238  |////  Swizzle DIV3UR (HW_SWIZZLEDIV3UR) Bit Definitions
                            14418 ; 239  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_BITPOS (0)
                            14419 ; 240  |#define HW_SWIZZLEDIV3UR_RSVD0_BITPOS (8)
                            14420 ; 241  |#define HW_SWIZZLEDIV3UR_REMAINDER_BITPOS (20)
                            14421 ; 242  |#define HW_SWIZZLEDIV3UR_RSVD1_BITPOS (22)
                            14422 ; 243  |
                            14423 ; 244  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_WIDTH (8)
                            14424 ; 245  |#define HW_SWIZZLEDIV3UR_RSVD0_WIDTH (12)
                            14425 ; 246  |#define HW_SWIZZLEDIV3UR_REMAINDER_WIDTH (2)
                            14426 ; 247  |#define HW_SWIZZLEDIV3UR_RSVD1_WIDTH (2)
                            14427 ; 248  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 242

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14428 ; 249  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_SETMASK (((1<HW_SWIZZLEDIV3UR_DIV3_UPPER_WIDTH)-1)<<HW
                                  _SWIZZLEDIV3UR_DIV3_UPPER_BITPOS)
                            14429 ; 250  |#define HW_SWIZZLEDIV3UR_RSVD0_SETMASK (((1<HW_SWIZZLEDIV3UR_RSVD0_WIDTH)-1)<<HW_SWIZZLEDI
                                  V3UR_RSVD0_BITPOS)
                            14430 ; 251  |#define HW_SWIZZLEDIV3UR_REMAINDER_SETMASK (((1<HW_SWIZZLEDIV3UR_REMAINDER_WIDTH)-1)<<HW_S
                                  WIZZLEDIV3UR_REMAINDER_BITPOS)
                            14431 ; 252  |#define HW_SWIZZLEDIV3UR_RSVD1_SETMASK (((1<HW_SWIZZLEDIV3UR_RSVD1_WIDTH)-1)<<HW_SWIZZLEDI
                                  V3UR_RSVD1_BITPOS)
                            14432 ; 253  |
                            14433 ; 254  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_DIV3_UPPER_SETMASK)
                            14434 ; 255  |#define HW_SWIZZLEDIV3UR_RSVD0_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_RSVD0_SETMASK)
                            14435 ; 256  |#define HW_SWIZZLEDIV3UR_REMAINDER_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_REMAINDER_SETMASK)
                            14436 ; 257  |#define HW_SWIZZLEDIV3UR_RSVD1_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_RSVD1_SETMASK)
                            14437 ; 258  |
                            14438 ; 259  |///////////////////////////////////////////////////////////////////////////////
                            14439 ; 260  |typedef union
                            14440 ; 261  |{
                            14441 ; 262  |    struct
                            14442 ; 263  |    {
                            14443 ; 264  |    unsigned DIV3_UPPER    :8;     /* Number of memory words to manipulate */
                            14444 ; 265  |    unsigned RSVD0         :12;         /* Source memory Select                 */
                            14445 ; 266  |    unsigned REMAINDER     :2;         /* Source memory Select                 */
                            14446 ; 267  |    } B;
                            14447 ; 268  |    int I;
                            14448 ; 269  |    unsigned U;
                            14449 ; 270  |} swizzlediv3ur_type;
                            14450 ; 271  |///////////////////////////////////////////////////////////////////////////////
                            14451 ; 272  |#define HW_SWIZZLEDIV3UR (*(volatile swizzlediv3ur_type _X*) (HW_SWIZZLE_BASEADDR+17))    
                                  /* Swizzle Divide By 3 Upper Register */
                            14452 ; 273  |
                            14453 ; 274  |#endif
                            14454 ; 275  |
                            14455 
                            14457 
                            14458 ; 33   |#include "regssdram.h"
                            14459 
                            14461 
                            14462 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            14463 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2003
                            14464 ; 3    |//;  File        : regssdram.inc
                            14465 ; 4    |//;  Description : Mixed Signal IP Register definition
                            14466 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            14467 ; 6    |
                            14468 ; 7    |// The following naming conventions are followed in this file.
                            14469 ; 8    |// All registers are named using the format...
                            14470 ; 9    |//     HW_<module>_<regname>
                            14471 ; 10   |// where <module> is the module name which can be any of the following...
                            14472 ; 11   |//     SYSTEM
                            14473 ; 12   |// (Note that when there is more than one copy of a particular module, the
                            14474 ; 13   |// module name includes a number starting from 0 for the first instance of
                            14475 ; 14   |// that module)
                            14476 ; 15   |// <regname> is the specific register within that module
                            14477 ; 16   |// We also define the following...
                            14478 ; 17   |//     HW_<module>_<regname>_BITPOS
                            14479 ; 18   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            14480 ; 19   |//     HW_<module>_<regname>_SETMASK
                            14481 ; 20   |// which does something else, and
                            14482 ; 21   |//     HW_<module>_<regname>_CLRMASK
                            14483 ; 22   |// which does something else.
                            14484 ; 23   |// Other rules
                            14485 ; 24   |//     All caps
                            14486 ; 25   |//     Numeric identifiers start at 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 243

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14487 ; 26   |
                            14488 ; 27   |#if !(defined(regssdraminc))
                            14489 ; 28   |#define regssdraminc 1
                            14490 ; 29   |
                            14491 ; 30   |#include "types.h"
                            14492 
                            14494 
                            14495 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            14496 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            14497 ; 3    |//
                            14498 ; 4    |// Filename: types.h
                            14499 ; 5    |// Description: Standard data types
                            14500 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            14501 ; 7    |
                            14502 ; 8    |#ifndef _TYPES_H
                            14503 ; 9    |#define _TYPES_H
                            14504 ; 10   |
                            14505 ; 11   |// TODO:  move this outta here!
                            14506 ; 12   |#if !defined(NOERROR)
                            14507 ; 13   |#define NOERROR 0
                            14508 ; 14   |#define SUCCESS 0
                            14509 ; 15   |#endif 
                            14510 ; 16   |#if !defined(SUCCESS)
                            14511 ; 17   |#define SUCCESS  0
                            14512 ; 18   |#endif
                            14513 ; 19   |#if !defined(ERROR)
                            14514 ; 20   |#define ERROR   -1
                            14515 ; 21   |#endif
                            14516 ; 22   |#if !defined(FALSE)
                            14517 ; 23   |#define FALSE 0
                            14518 ; 24   |#endif
                            14519 ; 25   |#if !defined(TRUE)
                            14520 ; 26   |#define TRUE  1
                            14521 ; 27   |#endif
                            14522 ; 28   |
                            14523 ; 29   |#if !defined(NULL)
                            14524 ; 30   |#define NULL 0
                            14525 ; 31   |#endif
                            14526 ; 32   |
                            14527 ; 33   |#define MAX_INT     0x7FFFFF
                            14528 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            14529 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            14530 ; 36   |#define MAX_ULONG   (-1) 
                            14531 ; 37   |
                            14532 ; 38   |#define WORD_SIZE   24              // word size in bits
                            14533 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            14534 ; 40   |
                            14535 ; 41   |
                            14536 ; 42   |#define BYTE    unsigned char       // btVarName
                            14537 ; 43   |#define CHAR    signed char         // cVarName
                            14538 ; 44   |#define USHORT  unsigned short      // usVarName
                            14539 ; 45   |#define SHORT   unsigned short      // sVarName
                            14540 ; 46   |#define WORD    unsigned int        // wVarName
                            14541 ; 47   |#define INT     signed int          // iVarName
                            14542 ; 48   |#define DWORD   unsigned long       // dwVarName
                            14543 ; 49   |#define LONG    signed long         // lVarName
                            14544 ; 50   |#define BOOL    unsigned int        // bVarName
                            14545 ; 51   |#define FRACT   _fract              // frVarName
                            14546 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            14547 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            14548 ; 54   |#define FLOAT   float               // fVarName
                            14549 ; 55   |#define DBL     double              // dVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 244

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14550 ; 56   |#define ENUM    enum                // eVarName
                            14551 ; 57   |#define CMX     _complex            // cmxVarName
                            14552 ; 58   |typedef WORD UCS3;                   // 
                            14553 ; 59   |
                            14554 ; 60   |#define UINT16  unsigned short
                            14555 ; 61   |#define UINT8   unsigned char   
                            14556 ; 62   |#define UINT32  unsigned long
                            14557 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            14558 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            14559 ; 65   |#define WCHAR   UINT16
                            14560 ; 66   |
                            14561 ; 67   |//UINT128 is 16 bytes or 6 words
                            14562 ; 68   |typedef struct UINT128_3500 {   
                            14563 ; 69   |    int val[6];     
                            14564 ; 70   |} UINT128_3500;
                            14565 ; 71   |
                            14566 ; 72   |#define UINT128   UINT128_3500
                            14567 ; 73   |
                            14568 ; 74   |// Little endian word packed byte strings:   
                            14569 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            14570 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            14571 ; 77   |// Little endian word packed byte strings:   
                            14572 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            14573 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            14574 ; 80   |
                            14575 ; 81   |// Declare Memory Spaces To Use When Coding
                            14576 ; 82   |// A. Sector Buffers
                            14577 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            14578 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            14579 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            14580 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            14581 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            14582 ; 88   |// B. Media DDI Memory
                            14583 ; 89   |#define MEDIA_DDI_MEM _Y
                            14584 ; 90   |
                            14585 ; 91   |
                            14586 ; 92   |
                            14587 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            14588 ; 94   |// Examples of circular pointers:
                            14589 ; 95   |//    INT CIRC cpiVarName
                            14590 ; 96   |//    DWORD CIRC cpdwVarName
                            14591 ; 97   |
                            14592 ; 98   |#define RETCODE INT                 // rcVarName
                            14593 ; 99   |
                            14594 ; 100  |// generic bitfield structure
                            14595 ; 101  |struct Bitfield {
                            14596 ; 102  |    unsigned int B0  :1;
                            14597 ; 103  |    unsigned int B1  :1;
                            14598 ; 104  |    unsigned int B2  :1;
                            14599 ; 105  |    unsigned int B3  :1;
                            14600 ; 106  |    unsigned int B4  :1;
                            14601 ; 107  |    unsigned int B5  :1;
                            14602 ; 108  |    unsigned int B6  :1;
                            14603 ; 109  |    unsigned int B7  :1;
                            14604 ; 110  |    unsigned int B8  :1;
                            14605 ; 111  |    unsigned int B9  :1;
                            14606 ; 112  |    unsigned int B10 :1;
                            14607 ; 113  |    unsigned int B11 :1;
                            14608 ; 114  |    unsigned int B12 :1;
                            14609 ; 115  |    unsigned int B13 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 245

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14610 ; 116  |    unsigned int B14 :1;
                            14611 ; 117  |    unsigned int B15 :1;
                            14612 ; 118  |    unsigned int B16 :1;
                            14613 ; 119  |    unsigned int B17 :1;
                            14614 ; 120  |    unsigned int B18 :1;
                            14615 ; 121  |    unsigned int B19 :1;
                            14616 ; 122  |    unsigned int B20 :1;
                            14617 ; 123  |    unsigned int B21 :1;
                            14618 ; 124  |    unsigned int B22 :1;
                            14619 ; 125  |    unsigned int B23 :1;
                            14620 ; 126  |};
                            14621 ; 127  |
                            14622 ; 128  |union BitInt {
                            14623 ; 129  |        struct Bitfield B;
                            14624 ; 130  |        int        I;
                            14625 ; 131  |};
                            14626 ; 132  |
                            14627 ; 133  |#define MAX_MSG_LENGTH 10
                            14628 ; 134  |struct CMessage
                            14629 ; 135  |{
                            14630 ; 136  |        unsigned int m_uLength;
                            14631 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            14632 ; 138  |};
                            14633 ; 139  |
                            14634 ; 140  |typedef struct {
                            14635 ; 141  |    WORD m_wLength;
                            14636 ; 142  |    WORD m_wMessage;
                            14637 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            14638 ; 144  |} Message;
                            14639 ; 145  |
                            14640 ; 146  |struct MessageQueueDescriptor
                            14641 ; 147  |{
                            14642 ; 148  |        int *m_pBase;
                            14643 ; 149  |        int m_iModulo;
                            14644 ; 150  |        int m_iSize;
                            14645 ; 151  |        int *m_pHead;
                            14646 ; 152  |        int *m_pTail;
                            14647 ; 153  |};
                            14648 ; 154  |
                            14649 ; 155  |struct ModuleEntry
                            14650 ; 156  |{
                            14651 ; 157  |    int m_iSignaledEventMask;
                            14652 ; 158  |    int m_iWaitEventMask;
                            14653 ; 159  |    int m_iResourceOfCode;
                            14654 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            14655 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            14656 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            14657 ; 163  |    int m_uTimeOutHigh;
                            14658 ; 164  |    int m_uTimeOutLow;
                            14659 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            14660 ; 166  |};
                            14661 ; 167  |
                            14662 ; 168  |union WaitMask{
                            14663 ; 169  |    struct B{
                            14664 ; 170  |        unsigned int m_bNone     :1;
                            14665 ; 171  |        unsigned int m_bMessage  :1;
                            14666 ; 172  |        unsigned int m_bTimer    :1;
                            14667 ; 173  |        unsigned int m_bButton   :1;
                            14668 ; 174  |    } B;
                            14669 ; 175  |    int I;
                            14670 ; 176  |} ;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 246

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14671 ; 177  |
                            14672 ; 178  |
                            14673 ; 179  |struct Button {
                            14674 ; 180  |        WORD wButtonEvent;
                            14675 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            14676 ; 182  |};
                            14677 ; 183  |
                            14678 ; 184  |struct Message {
                            14679 ; 185  |        WORD wMsgLength;
                            14680 ; 186  |        WORD wMsgCommand;
                            14681 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            14682 ; 188  |};
                            14683 ; 189  |
                            14684 ; 190  |union EventTypes {
                            14685 ; 191  |        struct CMessage msg;
                            14686 ; 192  |        struct Button Button ;
                            14687 ; 193  |        struct Message Message;
                            14688 ; 194  |};
                            14689 ; 195  |
                            14690 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            14691 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            14692 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            14693 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            14694 ; 200  |
                            14695 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            14696 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            14697 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            14698 ; 204  |
                            14699 ; 205  |#if DEBUG
                            14700 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            14701 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            14702 ; 208  |#else 
                            14703 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            14704 ; 210  |#define DebugBuildAssert(x)    
                            14705 ; 211  |#endif
                            14706 ; 212  |
                            14707 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            14708 ; 214  |//  #pragma asm
                            14709 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            14710 ; 216  |//  #pragma endasm
                            14711 ; 217  |
                            14712 ; 218  |
                            14713 ; 219  |#ifdef COLOR_262K
                            14714 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            14715 ; 221  |#elif defined(COLOR_65K)
                            14716 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            14717 ; 223  |#else
                            14718 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            14719 ; 225  |#endif
                            14720 ; 226  |    
                            14721 ; 227  |#endif // #ifndef _TYPES_H
                            14722 
                            14724 
                            14725 ; 31   |
                            14726 ; 32   |#define HW_SDRAM_BASEADDR 0xF900
                            14727 ; 33   |
                            14728 ; 34   |
                            14729 ; 35   |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 247

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14730 ; 36   |//  SDRAM CSR (HW_SDRAM_CSR) Bit Definitions
                            14731 ; 37   |#define HW_SDRAM_CSR_SDRAMEN_BITPOS 0
                            14732 ; 38   |#define HW_SDRAM_CSR_IE_BITPOS 1
                            14733 ; 39   |#define HW_SDRAM_CSR_RNW_BITPOS 2
                            14734 ; 40   |#define HW_SDRAM_CSR_KICK_BITPOS 3
                            14735 ; 41   |#define HW_SDRAM_CSR_LM_BITPOS 4
                            14736 ; 42   |#define HW_SDRAM_CSR_ISTAT_BITPOS 5
                            14737 ; 43   |#define HW_SDRAM_CSR_PWDN_BITPOS 6
                            14738 ; 44   |#define HW_SDRAM_CSR_SBYTE_BITPOS 8
                            14739 ; 45   |#define HW_SDRAM_CSR_MEM_BITPOS 10
                            14740 ; 46   |#define HW_SDRAM_CSR_BIGE_BITPOS 12
                            14741 ; 47   |#define HW_SDRAM_CSR_ASIZE_BITPOS 13
                            14742 ; 48   |#define HW_SDRAM_CSR_UKICK_BITPOS 16
                            14743 ; 49   |#define HW_SDRAM_CSR_DIV_BITPOS 17
                            14744 ; 50   |#define HW_SDRAM_CSR_MULTI_BITPOS 21
                            14745 ; 51   |#define HW_SDRAM_CSR_SDRAM_BITPOS 22
                            14746 ; 52   |#define HW_SDRAM_CSR_SIGN_BITPOS 23
                            14747 ; 53   |
                            14748 ; 54   |#define HW_SDRAM_CSR_SDRAMEN_WIDTH 1
                            14749 ; 55   |#define HW_SDRAM_CSR_IE_WIDTH 1
                            14750 ; 56   |#define HW_SDRAM_CSR_RNW_WIDTH 1
                            14751 ; 57   |#define HW_SDRAM_CSR_KICK_WIDTH 1
                            14752 ; 58   |#define HW_SDRAM_CSR_LM_WIDTH 1
                            14753 ; 59   |#define HW_SDRAM_CSR_ISTAT_WIDTH 1
                            14754 ; 60   |#define HW_SDRAM_CSR_PWDN_WIDTH 1
                            14755 ; 61   |#define HW_SDRAM_CSR_SBYTE_WIDTH 2
                            14756 ; 62   |#define HW_SDRAM_CSR_MEM_WIDTH 2
                            14757 ; 63   |#define HW_SDRAM_CSR_BIGE_WIDTH 1
                            14758 ; 64   |#define HW_SDRAM_CSR_ASIZE_WIDTH 3
                            14759 ; 65   |#define HW_SDRAM_CSR_UKICK_WIDTH 1
                            14760 ; 66   |#define HW_SDRAM_CSR_DIV_WIDTH 4
                            14761 ; 67   |#define HW_SDRAM_CSR_MULTI_WIDTH 1
                            14762 ; 68   |#define HW_SDRAM_CSR_SDRAM_WIDTH 1
                            14763 ; 69   |#define HW_SDRAM_CSR_SIGN_WIDTH 1
                            14764 ; 70   |
                            14765 ; 71   |#define HW_SDRAM_CSR_SDRAMEN_SETMASK (((1<<HW_SDRAM_CSR_SDRAMEN_WIDTH)-1)<<HW_SDRAM_CSR_SD
                                  RAMEN_BITPOS)
                            14766 ; 72   |#define HW_SDRAM_CSR_IE_SETMASK (((1<<HW_SDRAM_CSR_IE_WIDTH)-1)<<HW_SDRAM_CSR_IE_BITPOS)
                            14767 ; 73   |#define HW_SDRAM_CSR_RNW_SETMASK (((1<<HW_SDRAM_CSR_RNW_WIDTH)-1)<<HW_SDRAM_CSR_RNW_BITPOS
                                  )
                            14768 ; 74   |#define HW_SDRAM_CSR_KICK_SETMASK (((1<<HW_SDRAM_CSR_KICK_WIDTH)-1)<<HW_SDRAM_CSR_KICK_BIT
                                  POS)
                            14769 ; 75   |#define HW_SDRAM_CSR_LM_SETMASK (((1<<HW_SDRAM_CSR_LM_WIDTH)-1)<<HW_SDRAM_CSR_LM_BITPOS)
                            14770 ; 76   |#define HW_SDRAM_CSR_ISTAT_SETMASK (((1<<HW_SDRAM_CSR_ISTAT_WIDTH)-1)<<HW_SDRAM_CSR_ISTAT_
                                  BITPOS)
                            14771 ; 77   |#define HW_SDRAM_CSR_PWDN_SETMASK (((1<<HW_SDRAM_CSR_PWDN_WIDTH)-1)<<HW_SDRAM_CSR_PWDN_BIT
                                  POS)
                            14772 ; 78   |#define HW_SDRAM_CSR_SBYTE_SETMASK (((1<<HW_SDRAM_CSR_SBYTE_WIDTH)-1)<<HW_SDRAM_CSR_SBYTE_
                                  BITPOS)
                            14773 ; 79   |#define HW_SDRAM_CSR_MEM_SETMASK (((1<<HW_SDRAM_CSR_MEM_WIDTH)-1)<<HW_SDRAM_CSR_MEM_BITPOS
                                  )
                            14774 ; 80   |#define HW_SDRAM_CSR_BIGE_SETMASK (((1<<HW_SDRAM_CSR_BIGE_WIDTH)-1)<<HW_SDRAM_CSR_BIGE_BIT
                                  POS)
                            14775 ; 81   |#define HW_SDRAM_CSR_ASIZE_SETMASK (((1<<HW_SDRAM_CSR_ASIZE_WIDTH)-1)<<HW_SDRAM_CSR_ASIZE_
                                  BITPOS)
                            14776 ; 82   |#define HW_SDRAM_CSR_UKICK_SETMASK (((1<<HW_SDRAM_CSR_UKICK_WIDTH)-1)<<HW_SDRAM_CSR_UKICK_
                                  BITPOS)
                            14777 ; 83   |#define HW_SDRAM_CSR_DIV_SETMASK (((1<<HW_SDRAM_CSR_DIV_WIDTH)-1)<<HW_SDRAM_CSR_DIV_BITPOS
                                  )
                            14778 ; 84   |#define HW_SDRAM_CSR_MULTI_SETMASK (((1<<HW_SDRAM_CSR_MULTI_WIDTH)-1)<<HW_SDRAM_CSR_MULTI_
                                  BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 248

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14779 ; 85   |#define HW_SDRAM_CSR_SDRAM_SETMASK (((1<<HW_SDRAM_CSR_SDRAM_WIDTH)-1)<<HW_SDRAM_CSR_SDRAM_
                                  BITPOS)
                            14780 ; 86   |#define HW_SDRAM_CSR_SIGN_SETMASK (((1<<HW_SDRAM_CSR_SIGN_WIDTH)-1)<<HW_SDRAM_CSR_SIGN_BIT
                                  POS)
                            14781 ; 87   |
                            14782 ; 88   |#define HW_SDRAM_CSR_SDRAMEN_CLRMASK ~(WORD)HW_SDRAM_CSR_SDRAMEN_SETMASK
                            14783 ; 89   |#define HW_SDRAM_CSR_IE_CLRMASK ~(WORD)HW_SDRAM_CSR_IE_SETMASK
                            14784 ; 90   |#define HW_SDRAM_CSR_RNW_CLRMASK ~(WORD)HW_SDRAM_CSR_RNW_SETMASK
                            14785 ; 91   |#define HW_SDRAM_CSR_KICK_CLRMASK ~(WORD)HW_SDRAM_CSR_KICK_SETMASK
                            14786 ; 92   |#define HW_SDRAM_CSR_LM_CLRMASK ~(WORD)HW_SDRAM_CSR_LM_SETMASK
                            14787 ; 93   |#define HW_SDRAM_CSR_ISTAT_CLRMASK ~(WORD)HW_SDRAM_CSR_ISTAT_SETMASK
                            14788 ; 94   |#define HW_SDRAM_CSR_PWDN_CLRMASK ~(WORD)HW_SDRAM_CSR_PWDN_SETMASK
                            14789 ; 95   |#define HW_SDRAM_CSR_SBYTE_CLRMASK ~(WORD)HW_SDRAM_CSR_SBYTE_SETMASK
                            14790 ; 96   |#define HW_SDRAM_CSR_MEM_CLRMASK ~(WORD)HW_SDRAM_CSR_MEM_SETMASK
                            14791 ; 97   |#define HW_SDRAM_CSR_BIGE_CLRMASK ~(WORD)HW_SDRAM_CSR_BIGE_SETMASK
                            14792 ; 98   |#define HW_SDRAM_CSR_ASIZE_CLRMASK ~(WORD)HW_SDRAM_CSR_ASIZE_SETMASK
                            14793 ; 99   |#define HW_SDRAM_CSR_UKICK_CLRMASK ~(WORD)HW_SDRAM_CSR_UKICK_SETMASK
                            14794 ; 100  |#define HW_SDRAM_CSR_DIV_CLRMASK ~(WORD)HW_SDRAM_CSR_DIV_SETMASK
                            14795 ; 101  |#define HW_SDRAM_CSR_MULTI_CLRMASK ~(WORD)HW_SDRAM_CSR_MULTI_SETMASK
                            14796 ; 102  |#define HW_SDRAM_CSR_SDRAM_CLRMASK ~(WORD)HW_SDRAM_CSR_SDRAM_SETMASK
                            14797 ; 103  |#define HW_SDRAM_CSR_SIGN_CLRMASK ~(WORD)HW_SDRAM_CSR_SIGN_SETMASK
                            14798 ; 104  |
                            14799 ; 105  |typedef union               
                            14800 ; 106  |{
                            14801 ; 107  |    struct {
                            14802 ; 108  |        int SDRAMEN                     :1;
                            14803 ; 109  |        int IE                          :1;
                            14804 ; 110  |        int RNW                         :1;
                            14805 ; 111  |        int KICK                        :1;
                            14806 ; 112  |        int LM                          :1;
                            14807 ; 113  |        int ISTAT                       :1;
                            14808 ; 114  |        int PWDN                        :1;
                            14809 ; 115  |        int RSVD                        :1;
                            14810 ; 116  |        int SBYTE                       :2;
                            14811 ; 117  |        int MEM                         :2;
                            14812 ; 118  |        int BIGE                        :1;
                            14813 ; 119  |        int ASIZE                       :3;
                            14814 ; 120  |        int UKICK                       :1;
                            14815 ; 121  |        int DIV                         :4;
                            14816 ; 122  |        int MULTI                       :1;
                            14817 ; 123  |        int SDRAM                       :1;
                            14818 ; 124  |        int SIGN                        :1;
                            14819 ; 125  |    } B;
                            14820 ; 126  |    int I;
                            14821 ; 127  |} sdramcsr_type;
                            14822 ; 128  |#define HW_SDRAM_CSR (*(volatile sdramcsr_type _X*) (HW_SDRAM_BASEADDR))        
                            14823 ; 129  |#define HW_SDRAM_ADDR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+1))
                            14824 ; 130  |#define HW_SDRAM_ADDR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+2))
                            14825 ; 131  |#define HW_SDRAM_SYSADDR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+3))
                            14826 ; 132  |#define HW_SDRAM_SIZE (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+4))
                            14827 ; 133  |#define HW_SDRAM_BAR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+7))
                            14828 ; 134  |#define HW_SDRAM_MR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+8))
                            14829 ; 135  |#define HW_SDRAM_DBAR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+9))
                            14830 ; 136  |#define HW_SDRAM_DBAR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+10))
                            14831 ; 137  |#define HW_SDRAM_DMR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+11))
                            14832 ; 138  |#define HW_SDRAM_DMR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+12))
                            14833 ; 139  |
                            14834 ; 140  |/////////////////////////////////////////////////////////////////////////////////
                            14835 ; 141  |//  SDRAM Start Address Low Register (HW_SDRAM_ADDR1) Bit Definitions
                            14836 ; 142  |#define HW_SDRAM_ADDR1_XA_BITPOS 0
                            14837 ; 143  |
                            14838 ; 144  |#define HW_SDRAM_ADDR1_XA_SETMASK 0xFFFFFF<<HW_SDRAM_ADDR1_XA_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 249

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14839 ; 145  |
                            14840 ; 146  |#define HW_SDRAM_ADDR1_XA_CLRMASK ~(WORD)HW_SDRAM_ADDR1_XA_SETMASK
                            14841 ; 147  |
                            14842 ; 148  |/////////////////////////////////////////////////////////////////////////////////
                            14843 ; 149  |//  SDRAM Start Address High Register (HW_SDRAM_ADDR2) Bit Definitions
                            14844 ; 150  |#define HW_SDRAM_ADDR2_XA_BITPOS 0
                            14845 ; 151  |
                            14846 ; 152  |#define HW_SDRAM_ADDR2_XA_SETMASK 0x1F<<HW_SDRAM_ADDR2_XA_BITPOS
                            14847 ; 153  |
                            14848 ; 154  |#define HW_SDRAM_ADDR2_XA_CLRMASK ~(WORD)HW_SDRAM_ADDR2_XA_SETMASK
                            14849 ; 155  |
                            14850 ; 156  |/////////////////////////////////////////////////////////////////////////////////
                            14851 ; 157  |//  System Start Address Register (HW_SDRAM_SYSADDR) Bit Definitions
                            14852 ; 158  |#define HW_SDRAM_SYSADDR_XA_BITPOS 0
                            14853 ; 159  |
                            14854 ; 160  |#define HW_SDRAM_SYSADDR_XA_SETMASK 0xFFFF<<HW_SDRAM_SYSADDR_XA_BITPOS
                            14855 ; 161  |
                            14856 ; 162  |#define HW_SDRAM_SYSADDR_XA_CLRMASK ~(WORD)HW_SDRAM_SYSADDR_XA_SETMASK
                            14857 ; 163  |
                            14858 ; 164  |/////////////////////////////////////////////////////////////////////////////////
                            14859 ; 165  |//  Number of Bytes to be transfered Register (HW_SDRAM_SIZE) Bit Definitions
                            14860 ; 166  |#define HW_SDRAM_SIZE_XA_BITPOS 0
                            14861 ; 167  |
                            14862 ; 168  |#define HW_SDRAM_SIZE_XA_SETMASK 0x3FFFF<<HW_SDRAM_SIZE_XA_BITPOS
                            14863 ; 169  |
                            14864 ; 170  |#define HW_SDRAM_SIZE_XA_CLRMASK ~(WORD)HW_SDRAM_SIZE_XA_SETMASK
                            14865 ; 171  |
                            14866 ; 172  |/////////////////////////////////////////////////////////////////////////////////
                            14867 ; 173  |//  SDRAM Timer1 Register (HW_SDRAM_TIMER1) Bit Definitions
                            14868 ; 174  |#define HW_SDRAM_TIMER1_INIT_BITPOS 0
                            14869 ; 175  |#define HW_SDRAM_TIMER1_TRP_BITPOS 16
                            14870 ; 176  |#define HW_SDRAM_TIMER1_TRFC_BITPOS 20
                            14871 ; 177  |
                            14872 ; 178  |#define HW_SDRAM_TIMER1_INIT_WIDTH 16
                            14873 ; 179  |#define HW_SDRAM_TIMER1_TRP_WIDTH 4
                            14874 ; 180  |#define HW_SDRAM_TIMER1_TRFC_WIDTH 4
                            14875 ; 181  |
                            14876 ; 182  |#define HW_SDRAM_TIMER1_INIT_SETMASK (((1<<HW_SDRAM_TIMER1_INIT_WIDTH)-1)<<HW_SDRAM_TIMER1
                                  _INIT_BITPOS)
                            14877 ; 183  |#define HW_SDRAM_TIMER1_TRP_SETMASK (((1<<HW_SDRAM_TIMER1_TRP_WIDTH)-1)<<HW_SDRAM_TIMER1_T
                                  RP_BITPOS)
                            14878 ; 184  |#define HW_SDRAM_TIMER1_TRFC_SETMASK (((1<<HW_SDRAM_TIMER1_TRFC_WIDTH)-1)<<HW_SDRAM_TIMER1
                                  _TRFC_BITPOS)
                            14879 ; 185  |
                            14880 ; 186  |#define HW_SDRAM_TIMER1_INIT_CLRMASK ~(WORD)HW_SDRAM_TIMER1_INIT_SETMASK
                            14881 ; 187  |#define HW_SDRAM_TIMER1_TRP_CLRMASK ~(WORD)HW_SDRAM_TIMER1_TRP_SETMASK
                            14882 ; 188  |#define HW_SDRAM_TIMER1_TRFC_CLRMASK ~(WORD)HW_SDRAM_TIMER1_TRFC_SETMASK
                            14883 ; 189  |
                            14884 ; 190  |typedef union               
                            14885 ; 191  |{
                            14886 ; 192  |    struct {
                            14887 ; 193  |        int INIT                :16;
                            14888 ; 194  |        int TRP                 :4;
                            14889 ; 195  |        int TRFC                :4;
                            14890 ; 196  |    } B;
                            14891 ; 197  |    int I;
                            14892 ; 198  |} sdramtimer1_type;
                            14893 ; 199  |#define HW_SDRAM_TIMER1 (*(volatile sdramtimer1_type _X*) (HW_SDRAM_BASEADDR+5))
                            14894 ; 200  |
                            14895 ; 201  |/////////////////////////////////////////////////////////////////////////////////
                            14896 ; 202  |//  SDRAM Timer2 Register (HW_SDRAM_TIMER2) Bit Definitions
                            14897 ; 203  |#define HW_SDRAM_TIMER2_TXSR_BITPOS 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 250

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14898 ; 204  |#define HW_SDRAM_TIMER2_TREF_BITPOS 4
                            14899 ; 205  |#define HW_SDRAM_TIMER2_TRCD_BITPOS 16
                            14900 ; 206  |
                            14901 ; 207  |#define HW_SDRAM_TIMER2_TXSR_WIDTH 4
                            14902 ; 208  |#define HW_SDRAM_TIMER2_TREF_WIDTH 12
                            14903 ; 209  |#define HW_SDRAM_TIMER2_TRCD_WIDTH 4
                            14904 ; 210  |
                            14905 ; 211  |#define HW_SDRAM_TIMER2_TXSR_SETMASK (((1<<HW_SDRAM_TIMER2_TXSR_WIDTH)-1)<<HW_SDRAM_TIMER2
                                  _TXSR_BITPOS)
                            14906 ; 212  |#define HW_SDRAM_TIMER2_TREF_SETMASK (((1<<HW_SDRAM_TIMER2_TREF_WIDTH)-1)<<HW_SDRAM_TIMER2
                                  _TREF_BITPOS)
                            14907 ; 213  |#define HW_SDRAM_TIMER2_TRCD_SETMASK (((1<<HW_SDRAM_TIMER2_TRCD_WIDTH)-1)<<HW_SDRAM_TIMER2
                                  _TRCD_BITPOS)
                            14908 ; 214  |
                            14909 ; 215  |#define HW_SDRAM_TIMER2_TXSR_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TXSR_SETMASK
                            14910 ; 216  |#define HW_SDRAM_TIMER2_TREF_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TREF_SETMASK
                            14911 ; 217  |#define HW_SDRAM_TIMER2_TRCD_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TRCD_SETMASK
                            14912 ; 218  |
                            14913 ; 219  |typedef union               
                            14914 ; 220  |{
                            14915 ; 221  |    struct {
                            14916 ; 222  |        int TXSR                :4;
                            14917 ; 223  |        int TREF                :12;
                            14918 ; 224  |        int TRCD                :4;
                            14919 ; 225  |        int RSVD                :4; 
                            14920 ; 226  |    } B;
                            14921 ; 227  |    int I;
                            14922 ; 228  |} sdramtimer2_type;
                            14923 ; 229  |#define HW_SDRAM_TIMER2 (*(volatile sdramtimer2_type _X*) (HW_SDRAM_BASEADDR+6))
                            14924 ; 230  |
                            14925 ; 231  |/////////////////////////////////////////////////////////////////////////////////
                            14926 ; 232  |//  System Modulo Base Address Register (HW_SDRAM_BAR) Bit Definitions
                            14927 ; 233  |#define HW_SDRAM_BAR_XA_BITPOS 0
                            14928 ; 234  |
                            14929 ; 235  |#define HW_SDRAM_BAR_XA_SETMASK 0xFFFF<<HW_SDRAM_BAR_XA_BITPOS
                            14930 ; 236  |
                            14931 ; 237  |#define HW_SDRAM_BAR_XA_CLRMASK ~(WORD)HW_SDRAM_BAR_XA_SETMASK
                            14932 ; 238  |
                            14933 ; 239  |/////////////////////////////////////////////////////////////////////////////////
                            14934 ; 240  |//  System Modulo Register (HW_SDRAM_MR) Bit Definitions
                            14935 ; 241  |#define HW_SDRAM_MR_XA_BITPOS 0
                            14936 ; 242  |
                            14937 ; 243  |#define HW_SDRAM_MR_XA_SETMASK 0xFFFF<<HW_SDRAM_MR_XA_BITPOS
                            14938 ; 244  |
                            14939 ; 245  |#define HW_SDRAM_MR_XA_CLRMASK ~(WORD)HW_SDRAM_MR_XA_SETMASK
                            14940 ; 246  |
                            14941 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                            14942 ; 248  |//  SDRAM Mode Register (HW_SDRAM_MODE) Bit Definitions
                            14943 ; 249  |#define HW_SDRAM_MODE_XA_BITPOS 0
                            14944 ; 250  |
                            14945 ; 251  |#define HW_SDRAM_MODE_XA_WIDTH 14
                            14946 ; 252  |
                            14947 ; 253  |#define HW_SDRAM_MODE_XA_SETMASK (((1<<HW_SDRAM_MODE_XA_WIDTH)-1)<<HW_SDRAM_MODE_XA_BITPOS
                                  )
                            14948 ; 254  |
                            14949 ; 255  |#define HW_SDRAM_MODE_XA_CLRMASK ~(WORD)HW_SDRAM_MODE_XA_SETMASK
                            14950 ; 256  |
                            14951 ; 257  |typedef union               
                            14952 ; 258  |{
                            14953 ; 259  |    struct {
                            14954 ; 260  |        int VALUE               :14;
                            14955 ; 261  |        int RSVD                :10; 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 251

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14956 ; 262  |    } B;
                            14957 ; 263  |    int I;
                            14958 ; 264  |} sdrammode_type;
                            14959 ; 265  |#define HW_SDRAM_MODE (*(volatile sdrammode_type _X*) (HW_SDRAM_BASEADDR+14))
                            14960 ; 266  |
                            14961 ; 267  |/////////////////////////////////////////////////////////////////////////////////
                            14962 ; 268  |//  SDRAM Type Register (HW_SDRAM_TYPE) Bit Definitions
                            14963 ; 269  |#define HW_SDRAM_TYPE_COLWIDTH_BITPOS 0
                            14964 ; 270  |#define HW_SDRAM_TYPE_ROWWIDTH_BITPOS 4
                            14965 ; 271  |
                            14966 ; 272  |#define HW_SDRAM_TYPE_COLWIDTH_WIDTH 4
                            14967 ; 273  |#define HW_SDRAM_TYPE_ROWWIDTH_WIDTH 4
                            14968 ; 274  |
                            14969 ; 275  |#define HW_SDRAM_TYPE_COLWIDTH_SETMASK (((1<<HW_SDRAM_TYPE_COLWIDTH_WIDTH)-1)<<HW_SDRAM_TY
                                  PE_COLWIDTH_BITPOS)
                            14970 ; 276  |#define HW_SDRAM_TYPE_ROWWIDTH_SETMASK (((1<<HW_SDRAM_TYPE_ROWWIDTH_WIDTH)-1)<<HW_SDRAM_TY
                                  PE_ROWWIDTH_BITPOS)
                            14971 ; 277  |
                            14972 ; 278  |#define HW_SDRAM_TYPE_COLWIDTH_CLRMASK (~(WORD)HW_SDRAM_TYPE_COLWIDTH_SETMASK)
                            14973 ; 279  |#define HW_SDRAM_TYPE_ROWWIDTH_CLRMASK (~(WORD)HW_SDRAM_TYPE_ROWWIDTH_SETMASK)
                            14974 ; 280  |
                            14975 ; 281  |typedef union               
                            14976 ; 282  |{
                            14977 ; 283  |    struct {
                            14978 ; 284  |        int COLWIDTH               :4;
                            14979 ; 285  |        int ROWWIDTH               :4; 
                            14980 ; 286  |    } B;
                            14981 ; 287  |    int I;
                            14982 ; 288  |} sdramtype_type;
                            14983 ; 289  |#define HW_SDRAM_TYPE (*(volatile sdramtype_type _X*) (HW_SDRAM_BASEADDR+14))
                            14984 ; 290  |
                            14985 ; 291  |#endif
                            14986 ; 292  |
                            14987 ; 293  |
                            14988 ; 294  |
                            14989 ; 295  |
                            14990 ; 296  |
                            14991 ; 297  |
                            14992 
                            14994 
                            14995 ; 34   |#include "regstb.h"
                            14996 
                            14998 
                            14999 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            15000 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                            15001 ; 3    |// Filename: regstb.inc
                            15002 ; 4    |// Description: Register definitions for Trace Buffer
                            15003 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            15004 ; 6    |// The following naming conventions are followed in this file.
                            15005 ; 7    |// All registers are named using the format...
                            15006 ; 8    |//     HW_<module>_<regname>
                            15007 ; 9    |// where <module> is the module name which can be any of the following...
                            15008 ; 10   |//     USB20
                            15009 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            15010 ; 12   |// module name includes a number starting from 0 for the first instance of
                            15011 ; 13   |// that module)
                            15012 ; 14   |// <regname> is the specific register within that module
                            15013 ; 15   |// We also define the following...
                            15014 ; 16   |//     HW_<module>_<regname>_BITPOS
                            15015 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            15016 ; 18   |//     HW_<module>_<regname>_SETMASK
                            15017 ; 19   |// which does something else, and
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 252

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15018 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            15019 ; 21   |// which does something else.
                            15020 ; 22   |// Other rules
                            15021 ; 23   |//     All caps
                            15022 ; 24   |//     Numeric identifiers start at 0
                            15023 ; 25   |#if !(defined(regstbinc))
                            15024 ; 26   |#define regstbinc 1
                            15025 ; 27   |
                            15026 ; 28   |#include "types.h"
                            15027 
                            15029 
                            15030 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            15031 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            15032 ; 3    |//
                            15033 ; 4    |// Filename: types.h
                            15034 ; 5    |// Description: Standard data types
                            15035 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            15036 ; 7    |
                            15037 ; 8    |#ifndef _TYPES_H
                            15038 ; 9    |#define _TYPES_H
                            15039 ; 10   |
                            15040 ; 11   |// TODO:  move this outta here!
                            15041 ; 12   |#if !defined(NOERROR)
                            15042 ; 13   |#define NOERROR 0
                            15043 ; 14   |#define SUCCESS 0
                            15044 ; 15   |#endif 
                            15045 ; 16   |#if !defined(SUCCESS)
                            15046 ; 17   |#define SUCCESS  0
                            15047 ; 18   |#endif
                            15048 ; 19   |#if !defined(ERROR)
                            15049 ; 20   |#define ERROR   -1
                            15050 ; 21   |#endif
                            15051 ; 22   |#if !defined(FALSE)
                            15052 ; 23   |#define FALSE 0
                            15053 ; 24   |#endif
                            15054 ; 25   |#if !defined(TRUE)
                            15055 ; 26   |#define TRUE  1
                            15056 ; 27   |#endif
                            15057 ; 28   |
                            15058 ; 29   |#if !defined(NULL)
                            15059 ; 30   |#define NULL 0
                            15060 ; 31   |#endif
                            15061 ; 32   |
                            15062 ; 33   |#define MAX_INT     0x7FFFFF
                            15063 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            15064 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            15065 ; 36   |#define MAX_ULONG   (-1) 
                            15066 ; 37   |
                            15067 ; 38   |#define WORD_SIZE   24              // word size in bits
                            15068 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            15069 ; 40   |
                            15070 ; 41   |
                            15071 ; 42   |#define BYTE    unsigned char       // btVarName
                            15072 ; 43   |#define CHAR    signed char         // cVarName
                            15073 ; 44   |#define USHORT  unsigned short      // usVarName
                            15074 ; 45   |#define SHORT   unsigned short      // sVarName
                            15075 ; 46   |#define WORD    unsigned int        // wVarName
                            15076 ; 47   |#define INT     signed int          // iVarName
                            15077 ; 48   |#define DWORD   unsigned long       // dwVarName
                            15078 ; 49   |#define LONG    signed long         // lVarName
                            15079 ; 50   |#define BOOL    unsigned int        // bVarName
                            15080 ; 51   |#define FRACT   _fract              // frVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 253

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15081 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            15082 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            15083 ; 54   |#define FLOAT   float               // fVarName
                            15084 ; 55   |#define DBL     double              // dVarName
                            15085 ; 56   |#define ENUM    enum                // eVarName
                            15086 ; 57   |#define CMX     _complex            // cmxVarName
                            15087 ; 58   |typedef WORD UCS3;                   // 
                            15088 ; 59   |
                            15089 ; 60   |#define UINT16  unsigned short
                            15090 ; 61   |#define UINT8   unsigned char   
                            15091 ; 62   |#define UINT32  unsigned long
                            15092 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            15093 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            15094 ; 65   |#define WCHAR   UINT16
                            15095 ; 66   |
                            15096 ; 67   |//UINT128 is 16 bytes or 6 words
                            15097 ; 68   |typedef struct UINT128_3500 {   
                            15098 ; 69   |    int val[6];     
                            15099 ; 70   |} UINT128_3500;
                            15100 ; 71   |
                            15101 ; 72   |#define UINT128   UINT128_3500
                            15102 ; 73   |
                            15103 ; 74   |// Little endian word packed byte strings:   
                            15104 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            15105 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            15106 ; 77   |// Little endian word packed byte strings:   
                            15107 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            15108 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            15109 ; 80   |
                            15110 ; 81   |// Declare Memory Spaces To Use When Coding
                            15111 ; 82   |// A. Sector Buffers
                            15112 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            15113 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            15114 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            15115 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            15116 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            15117 ; 88   |// B. Media DDI Memory
                            15118 ; 89   |#define MEDIA_DDI_MEM _Y
                            15119 ; 90   |
                            15120 ; 91   |
                            15121 ; 92   |
                            15122 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            15123 ; 94   |// Examples of circular pointers:
                            15124 ; 95   |//    INT CIRC cpiVarName
                            15125 ; 96   |//    DWORD CIRC cpdwVarName
                            15126 ; 97   |
                            15127 ; 98   |#define RETCODE INT                 // rcVarName
                            15128 ; 99   |
                            15129 ; 100  |// generic bitfield structure
                            15130 ; 101  |struct Bitfield {
                            15131 ; 102  |    unsigned int B0  :1;
                            15132 ; 103  |    unsigned int B1  :1;
                            15133 ; 104  |    unsigned int B2  :1;
                            15134 ; 105  |    unsigned int B3  :1;
                            15135 ; 106  |    unsigned int B4  :1;
                            15136 ; 107  |    unsigned int B5  :1;
                            15137 ; 108  |    unsigned int B6  :1;
                            15138 ; 109  |    unsigned int B7  :1;
                            15139 ; 110  |    unsigned int B8  :1;
                            15140 ; 111  |    unsigned int B9  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 254

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15141 ; 112  |    unsigned int B10 :1;
                            15142 ; 113  |    unsigned int B11 :1;
                            15143 ; 114  |    unsigned int B12 :1;
                            15144 ; 115  |    unsigned int B13 :1;
                            15145 ; 116  |    unsigned int B14 :1;
                            15146 ; 117  |    unsigned int B15 :1;
                            15147 ; 118  |    unsigned int B16 :1;
                            15148 ; 119  |    unsigned int B17 :1;
                            15149 ; 120  |    unsigned int B18 :1;
                            15150 ; 121  |    unsigned int B19 :1;
                            15151 ; 122  |    unsigned int B20 :1;
                            15152 ; 123  |    unsigned int B21 :1;
                            15153 ; 124  |    unsigned int B22 :1;
                            15154 ; 125  |    unsigned int B23 :1;
                            15155 ; 126  |};
                            15156 ; 127  |
                            15157 ; 128  |union BitInt {
                            15158 ; 129  |        struct Bitfield B;
                            15159 ; 130  |        int        I;
                            15160 ; 131  |};
                            15161 ; 132  |
                            15162 ; 133  |#define MAX_MSG_LENGTH 10
                            15163 ; 134  |struct CMessage
                            15164 ; 135  |{
                            15165 ; 136  |        unsigned int m_uLength;
                            15166 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            15167 ; 138  |};
                            15168 ; 139  |
                            15169 ; 140  |typedef struct {
                            15170 ; 141  |    WORD m_wLength;
                            15171 ; 142  |    WORD m_wMessage;
                            15172 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            15173 ; 144  |} Message;
                            15174 ; 145  |
                            15175 ; 146  |struct MessageQueueDescriptor
                            15176 ; 147  |{
                            15177 ; 148  |        int *m_pBase;
                            15178 ; 149  |        int m_iModulo;
                            15179 ; 150  |        int m_iSize;
                            15180 ; 151  |        int *m_pHead;
                            15181 ; 152  |        int *m_pTail;
                            15182 ; 153  |};
                            15183 ; 154  |
                            15184 ; 155  |struct ModuleEntry
                            15185 ; 156  |{
                            15186 ; 157  |    int m_iSignaledEventMask;
                            15187 ; 158  |    int m_iWaitEventMask;
                            15188 ; 159  |    int m_iResourceOfCode;
                            15189 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            15190 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            15191 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            15192 ; 163  |    int m_uTimeOutHigh;
                            15193 ; 164  |    int m_uTimeOutLow;
                            15194 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            15195 ; 166  |};
                            15196 ; 167  |
                            15197 ; 168  |union WaitMask{
                            15198 ; 169  |    struct B{
                            15199 ; 170  |        unsigned int m_bNone     :1;
                            15200 ; 171  |        unsigned int m_bMessage  :1;
                            15201 ; 172  |        unsigned int m_bTimer    :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 255

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15202 ; 173  |        unsigned int m_bButton   :1;
                            15203 ; 174  |    } B;
                            15204 ; 175  |    int I;
                            15205 ; 176  |} ;
                            15206 ; 177  |
                            15207 ; 178  |
                            15208 ; 179  |struct Button {
                            15209 ; 180  |        WORD wButtonEvent;
                            15210 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            15211 ; 182  |};
                            15212 ; 183  |
                            15213 ; 184  |struct Message {
                            15214 ; 185  |        WORD wMsgLength;
                            15215 ; 186  |        WORD wMsgCommand;
                            15216 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            15217 ; 188  |};
                            15218 ; 189  |
                            15219 ; 190  |union EventTypes {
                            15220 ; 191  |        struct CMessage msg;
                            15221 ; 192  |        struct Button Button ;
                            15222 ; 193  |        struct Message Message;
                            15223 ; 194  |};
                            15224 ; 195  |
                            15225 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            15226 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            15227 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            15228 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            15229 ; 200  |
                            15230 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            15231 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            15232 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            15233 ; 204  |
                            15234 ; 205  |#if DEBUG
                            15235 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            15236 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            15237 ; 208  |#else 
                            15238 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            15239 ; 210  |#define DebugBuildAssert(x)    
                            15240 ; 211  |#endif
                            15241 ; 212  |
                            15242 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            15243 ; 214  |//  #pragma asm
                            15244 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            15245 ; 216  |//  #pragma endasm
                            15246 ; 217  |
                            15247 ; 218  |
                            15248 ; 219  |#ifdef COLOR_262K
                            15249 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            15250 ; 221  |#elif defined(COLOR_65K)
                            15251 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            15252 ; 223  |#else
                            15253 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            15254 ; 225  |#endif
                            15255 ; 226  |    
                            15256 ; 227  |#endif // #ifndef _TYPES_H
                            15257 
                            15259 
                            15260 ; 29   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 256

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15261 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15262 ; 31   |
                            15263 ; 32   |//   Trace Buffer STMP Registers 
                            15264 ; 33   |//   Last Updated 6.30.2003 D. Baker
                            15265 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15266 ; 35   |
                            15267 ; 36   |#define HW_TB_BASEADDR (0xF080)
                            15268 ; 37   |
                            15269 ; 38   |
                            15270 ; 39   |
                            15271 ; 40   |
                            15272 ; 41   |/////////////////////////////////////////////////////////////////////////////////
                            15273 ; 42   |
                            15274 ; 43   |//  Trace Buffer Configuration Register (HW_TB_CFG) Bit Definitions
                            15275 ; 44   |
                            15276 ; 45   |#define HW_TB_CFG_CLK_ENABLE_BITPOS (0)
                            15277 ; 46   |#define HW_TB_CFG_ENABLE_BITPOS (1)
                            15278 ; 47   |#define HW_TB_CFG_DONE_BITPOS (3)
                            15279 ; 48   |#define HW_TB_CFG_DMA_ASEL_BITPOS (4)
                            15280 ; 49   |#define HW_TB_CFG_TRIG_EVENT_BITPOS (6)
                            15281 ; 50   |
                            15282 ; 51   |#define HW_TB_CFG_CLK_ENABLE_WIDTH (1)
                            15283 ; 52   |#define HW_TB_CFG_ENABLE_WIDTH (1)
                            15284 ; 53   |#define HW_TB_CFG_RSVD1_WIDTH (1)
                            15285 ; 54   |#define HW_TB_CFG_DONE_WIDTH (1)
                            15286 ; 55   |#define HW_TB_CFG_DMA_ASEL_WIDTH (2)
                            15287 ; 56   |#define HW_TB_CFG_TRIG_EVENT_WIDTH (1)
                            15288 ; 57   |#define HW_TB_CFG_RSVD2_WIDTH (17)
                            15289 ; 58   |
                            15290 ; 59   |#define HW_TB_CFG_CLK_ENABLE_SETMASK (((1<<HW_TB_CFG_CLK_ENABLE_WIDTH)-1)<<HW_TB_CFG_CLK_E
                                  NABLE_BITPOS) 
                            15291 ; 60   |#define HW_TB_CFG_ENABLE_SETMASK (((1<<HW_TB_CFG_ENABLE_WIDTH)-1)<<HW_TB_CFG_ENABLE_BITPOS
                                  ) 
                            15292 ; 61   |#define HW_TB_CFG_DONE_SETMASK (((1<<HW_TB_CFG_DONE_WIDTH)-1)<<HW_TB_CFG_DONE_BITPOS) 
                            15293 ; 62   |#define HW_TB_CFG_DMA_ASEL_SETMASK (((1<<HW_TB_CFG_DMA_ASEL_WIDTH)-1)<<HW_TB_CFG_DMA_ASEL_
                                  BITPOS) 
                            15294 ; 63   |#define HW_TB_CFG_TRIG_EVENT_SETMASK (((1<<HW_TB_CFG_TRIG_EVENT_WIDTH)-1)<<HW_TB_CFG_TRIG_
                                  EVENT_BITPOS) 
                            15295 ; 64   |
                            15296 ; 65   |#define HW_TB_CFG_CLK_ENABLE_CLRMASK (~(WORD)HW_TB_CFG_CLK_ENABLE_SETMASK)
                            15297 ; 66   |#define HW_TB_CFG_ENABLE_CLRMASK (~(WORD)HW_TB_CFG_ENABLE_SETMASK)
                            15298 ; 67   |#define HW_TB_CFG_DONE_CLRMASK (~(WORD)HW_TB_CFG_DONE_SETMASK)
                            15299 ; 68   |#define HW_TB_CFG_DMA_ASEL_CLRMASK (~(WORD)HW_TB_CFG_DMA_ASEL_SETMASK)
                            15300 ; 69   |#define HW_TB_CFG_TRIG_EVENT_CLRMASK (~(WORD)HW_TB_CFG_TRIG_EVENT_SETMASK)
                            15301 ; 70   |
                            15302 ; 71   |typedef union               
                            15303 ; 72   |{
                            15304 ; 73   |    struct {
                            15305 ; 74   |         int CLK_ENABLE      : HW_TB_CFG_CLK_ENABLE_WIDTH;
                            15306 ; 75   |         int ENABLE          : HW_TB_CFG_ENABLE_WIDTH;
                            15307 ; 76   |        int rsvd1           : HW_TB_CFG_RSVD1_WIDTH;
                            15308 ; 77   |         int DONE            : HW_TB_CFG_DONE_WIDTH;
                            15309 ; 78   |         int DMA_ASEL        : HW_TB_CFG_DMA_ASEL_WIDTH;
                            15310 ; 79   |         int TRIG_EVENT      : HW_TB_CFG_TRIG_EVENT_WIDTH;
                            15311 ; 80   |        int rsvd2           : HW_TB_CFG_RSVD2_WIDTH;
                            15312 ; 81   |    } B;
                            15313 ; 82   |    int I;
                            15314 ; 83   |    unsigned int U;
                            15315 ; 84   |} tb_cfg_type;
                            15316 ; 85   |#define HW_TB_CFG      (*(volatile tb_cfg_type _X*) (HW_TB_BASEADDR+0))    /* Trace Buffer
                                   Configuration Register */
                            15317 ; 86   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 257

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15318 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            15319 ; 88   |
                            15320 ; 89   |//  Trace Buffer Base Address Register (HW_TB_BAR) Bit Definitions
                            15321 ; 90   |
                            15322 ; 91   |#define HW_TB_BAR_ADDRESS_BITPOS (0)
                            15323 ; 92   |
                            15324 ; 93   |#define HW_TB_BAR_ADDRESS_WIDTH (16)        
                            15325 ; 94   |#define HW_TB_BAR_RSVD_WIDTH (8)
                            15326 ; 95   |
                            15327 ; 96   |#define HW_TB_BAR_ADDRESS_SETMASK (((1<<HW_TB_BAR_ADDRESS_WIDTH)-1)<<HW_TB_BAR_ADDRESS_BIT
                                  POS) 
                            15328 ; 97   |
                            15329 ; 98   |#define HW_TB_BAR_ADDRESS_CLRMASK (~(WORD)HW_TB_BAR_ADDRESS_SETMASK)
                            15330 ; 99   |
                            15331 ; 100  |typedef union               
                            15332 ; 101  |{
                            15333 ; 102  |    struct {
                            15334 ; 103  |         int ADDRESS      : HW_TB_BAR_ADDRESS_WIDTH;
                            15335 ; 104  |        int reserved     : HW_TB_BAR_RSVD_WIDTH;
                            15336 ; 105  |    } B;
                            15337 ; 106  |    int I;
                            15338 ; 107  |    unsigned int U;
                            15339 ; 108  |} tb_bar_type;
                            15340 ; 109  |#define HW_TB_BAR      (*(volatile tb_bar_type _X*) (HW_TB_BASEADDR+1))    /* Trace Buffer
                                   Base Address Register */
                            15341 ; 110  |
                            15342 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            15343 ; 112  |
                            15344 ; 113  |//  Trace Buffer Modulo Register (HW_TB_MOD) Bit Definitions
                            15345 ; 114  |
                            15346 ; 115  |#define HW_TB_MOD_MODULUS_BITPOS (0)
                            15347 ; 116  |
                            15348 ; 117  |#define HW_TB_MOD_MODULUS_WIDTH (14)        
                            15349 ; 118  |#define HW_TB_MOD_RSVD_WIDTH (10)
                            15350 ; 119  |
                            15351 ; 120  |#define HW_TB_MOD_MODULUS_SETMASK (((1<<HW_TB_MOD_MODULUS_WIDTH)-1)<<HW_TB_MOD_MODULUS_BIT
                                  POS) 
                            15352 ; 121  |
                            15353 ; 122  |#define HW_TB_MOD_MODULUS_CLRMASK (~(WORD)HW_TB_MOD_MODULUS_SETMASK)
                            15354 ; 123  |
                            15355 ; 124  |typedef union               
                            15356 ; 125  |{
                            15357 ; 126  |    struct {
                            15358 ; 127  |         int MODULUS      : HW_TB_MOD_MODULUS_WIDTH;
                            15359 ; 128  |        int reserved        : HW_TB_MOD_RSVD_WIDTH;
                            15360 ; 129  |    } B;
                            15361 ; 130  |    int I;
                            15362 ; 131  |    unsigned int U;
                            15363 ; 132  |} tb_mod_type;
                            15364 ; 133  |#define HW_TB_MOD      (*(volatile tb_mod_type _X*) (HW_TB_BASEADDR+2))    /* Trace Buffer
                                   Modulus Register */
                            15365 ; 134  |
                            15366 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                            15367 ; 136  |
                            15368 ; 137  |//  Trace Buffer Current Index Register (HW_TB_CIR) Bit Definitions
                            15369 ; 138  |
                            15370 ; 139  |#define HW_TB_CIR_INDEX_BITPOS (0)
                            15371 ; 140  |
                            15372 ; 141  |#define HW_TB_CIR_INDEX_WIDTH (14)        
                            15373 ; 142  |#define HW_TB_CIR_RSVD_WIDTH (10)
                            15374 ; 143  |
                            15375 ; 144  |#define HW_TB_CIR_INDEX_SETMASK (((1<<HW_TB_CIR_INDEX_WIDTH)-1)<<HW_TB_CIR_INDEX_BITPOS) 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 258

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15376 ; 145  |
                            15377 ; 146  |#define HW_TB_CIR_INDEX_CLRMASK (~(WORD)HW_TB_CIR_INDEX_SETMASK)
                            15378 ; 147  |
                            15379 ; 148  |typedef union               
                            15380 ; 149  |{
                            15381 ; 150  |    struct {
                            15382 ; 151  |         int INDEX        : HW_TB_CIR_INDEX_WIDTH;
                            15383 ; 152  |        int reserved     : HW_TB_CIR_RSVD_WIDTH;
                            15384 ; 153  |    } B;
                            15385 ; 154  |    int I;
                            15386 ; 155  |    unsigned int U;
                            15387 ; 156  |} tb_cir_type;
                            15388 ; 157  |#define HW_TB_CIR      (*(volatile tb_cir_type _X*) (HW_TB_BASEADDR+3))    /* Trace Buffer
                                   Current Index Register */
                            15389 ; 158  |
                            15390 ; 159  |/////////////////////////////////////////////////////////////////////////////////
                            15391 ; 160  |
                            15392 ; 161  |//  Trace Buffer One Byte Code Register (HW_TB_OBC) Bit Definitions
                            15393 ; 162  |
                            15394 ; 163  |#define HW_TB_OBC_CODE_BITPOS (0)
                            15395 ; 164  |
                            15396 ; 165  |#define HW_TB_OBC_CODE_WIDTH (8)        
                            15397 ; 166  |#define HW_TB_OBC_RSVD_WIDTH (16)
                            15398 ; 167  |
                            15399 ; 168  |#define HW_TB_OBC_CODE_SETMASK (((1<<HW_TB_OBC_CODE_WIDTH)-1)<<HW_TB_OBC_CODE_BITPOS) 
                            15400 ; 169  |
                            15401 ; 170  |#define HW_TB_OBC_CODE_CLRMASK (~(WORD)HW_TB_OBC_CODE_SETMASK)
                            15402 ; 171  |
                            15403 ; 172  |typedef union               
                            15404 ; 173  |{
                            15405 ; 174  |    struct {
                            15406 ; 175  |         int CODE        : HW_TB_OBC_CODE_WIDTH;
                            15407 ; 176  |        int reserved    : HW_TB_OBC_RSVD_WIDTH;
                            15408 ; 177  |    } B;
                            15409 ; 178  |    int I;
                            15410 ; 179  |    unsigned int U;
                            15411 ; 180  |} tb_obc_type;
                            15412 ; 181  |#define HW_TB_OBC      (*(volatile tb_obc_type _X*) (HW_TB_BASEADDR+4))    /* Trace Buffer
                                   one byte code Register */
                            15413 ; 182  |
                            15414 ; 183  |/////////////////////////////////////////////////////////////////////////////////
                            15415 ; 184  |
                            15416 ; 185  |//  Trace Buffer Trigger Command Register (HW_TB_TCS) Bit Definitions
                            15417 ; 186  |
                            15418 ; 187  |#define HW_TB_TCS_TRG_STYLE_BITPOS (0)
                            15419 ; 188  |#define HW_TB_TCS_CAP_CLASS_BITPOS (1)
                            15420 ; 189  |#define HW_TB_TCS_TRG_CLASS_BITPOS (3)
                            15421 ; 190  |#define HW_TB_TCS_FREEZE_BITPOS (5)
                            15422 ; 191  |
                            15423 ; 192  |#define HW_TB_TCS_TRG_STYLE_WIDTH (1)        
                            15424 ; 193  |#define HW_TB_TCS_CAP_CLASS_WIDTH (2)        
                            15425 ; 194  |#define HW_TB_TCS_TRG_CLASS_WIDTH (2)        
                            15426 ; 195  |#define HW_TB_TCS_FREEZE_WIDTH (1)        
                            15427 ; 196  |#define HW_TB_TCS_RSVD_WIDTH (18)
                            15428 ; 197  |
                            15429 ; 198  |#define HW_TB_TCS_TRG_STYLE_SETMASK (((1<<HW_TB_TCS_TRG_STYLE_WIDTH)-1)<<HW_TB_TCS_TRG_STY
                                  LE_BITPOS) 
                            15430 ; 199  |#define HW_TB_TCS_CAP_CLASS_SETMASK (((1<<HW_TB_TCS_CAP_CLASS_WIDTH)-1)<<HW_TB_TCS_CAP_CLA
                                  SS_BITPOS) 
                            15431 ; 200  |#define HW_TB_TCS_TRG_CLASS_SETMASK (((1<<HW_TB_TCS_TRG_CLASS_WIDTH)-1)<<HW_TB_TCS_TRG_CLA
                                  SS_BITPOS) 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 259

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15432 ; 201  |#define HW_TB_TCS_FREEZE_SETMASK (((1<<HW_TB_TCS_FREEZE_WIDTH)-1)<<HW_TB_TCS_FREEZE_BITPOS
                                  ) 
                            15433 ; 202  |
                            15434 ; 203  |#define HW_TB_TCS_TRG_STYLE_CLRMASK (~(WORD)HW_TB_TCS_TRG_STYLE_SETMASK)
                            15435 ; 204  |#define HW_TB_TCS_CAP_CLASS_CLRMASK (~(WORD)HW_TB_TCS_CAP_CLASS_SETMASK)
                            15436 ; 205  |#define HW_TB_TCS_TRG_CLASS_CLRMASK (~(WORD)HW_TB_TCS_TRG_CLASS_SETMASK)
                            15437 ; 206  |#define HW_TB_TCS_FREEZE_CLRMASK (~(WORD)HW_TB_TCS_FREEZE_SETMASK)
                            15438 ; 207  |
                            15439 ; 208  |typedef union               
                            15440 ; 209  |{
                            15441 ; 210  |    struct {
                            15442 ; 211  |         int TRG_STYLE       : HW_TB_TCS_TRG_STYLE_WIDTH;
                            15443 ; 212  |         int CAP_CLASS       : HW_TB_TCS_CAP_CLASS_WIDTH;
                            15444 ; 213  |         int TRG_CLASS       : HW_TB_TCS_TRG_CLASS_WIDTH;
                            15445 ; 214  |         int FREEZE          : HW_TB_TCS_FREEZE_WIDTH;
                            15446 ; 215  |        int reserved        : HW_TB_TCS_RSVD_WIDTH;
                            15447 ; 216  |    } B;
                            15448 ; 217  |    int I;
                            15449 ; 218  |    unsigned int U;
                            15450 ; 219  |} tb_tcs_type;
                            15451 ; 220  |#define HW_TB_TCS      (*(volatile tb_tcs_type _X*) (HW_TB_BASEADDR+16))    /* Trace Buffe
                                  r Trigger Command Register */
                            15452 ; 221  |
                            15453 ; 222  |/////////////////////////////////////////////////////////////////////////////////
                            15454 ; 223  |
                            15455 ; 224  |//  Trace Buffer Trigger Value Register (HW_TB_TVR) Bit Definitions
                            15456 ; 225  |
                            15457 ; 226  |#define HW_TB_TVR_MATCH_ADDR_BITPOS (0)
                            15458 ; 227  |
                            15459 ; 228  |#define HW_TB_TVR_MATCH_ADDR_WIDTH (16)        
                            15460 ; 229  |#define HW_TB_TVR_RSVD_WIDTH (8)
                            15461 ; 230  |
                            15462 ; 231  |#define HW_TB_TVR_MATCH_ADDR_SETMASK (((1<<HW_TB_TVR_MATCH_ADDR_WIDTH)-1)<<HW_TB_TVR_MATCH
                                  _ADDR_BITPOS) 
                            15463 ; 232  |
                            15464 ; 233  |#define HW_TB_TVR_MATCH_ADDR_CLRMASK (~(WORD)HW_TB_TVR_MATCH_ADDR_SETMASK)
                            15465 ; 234  |
                            15466 ; 235  |typedef union               
                            15467 ; 236  |{
                            15468 ; 237  |    struct {
                            15469 ; 238  |         int MATCH_ADDR      : HW_TB_TVR_MATCH_ADDR_WIDTH;
                            15470 ; 239  |        int reserved        : HW_TB_TVR_RSVD_WIDTH;
                            15471 ; 240  |    } B;
                            15472 ; 241  |    int I;
                            15473 ; 242  |    unsigned int U;
                            15474 ; 243  |} tb_tvr_type;
                            15475 ; 244  |#define HW_TB_TVR      (*(volatile tb_tvr_type _X*) (HW_TB_BASEADDR+24))    /* Trace Buffe
                                  r Trigger Value Register */
                            15476 ; 245  |
                            15477 ; 246  |
                            15478 ; 247  |
                            15479 ; 248  |#endif
                            15480 ; 249  |
                            15481 ; 250  |
                            15482 ; 251  |
                            15483 ; 252  |
                            15484 ; 253  |
                            15485 ; 254  |
                            15486 ; 255  |
                            15487 ; 256  |
                            15488 ; 257  |
                            15489 ; 258  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 260

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15490 ; 259  |
                            15491 ; 260  |
                            15492 ; 261  |
                            15493 ; 262  |
                            15494 ; 263  |
                            15495 ; 264  |
                            15496 ; 265  |
                            15497 
                            15499 
                            15500 ; 35   |#include "regstimer.h"
                            15501 
                            15503 
                            15504 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            15505 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2001
                            15506 ; 3    |// Filename: regstimer.inc
                            15507 ; 4    |// Description: Register definitions for  Timers interface
                            15508 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            15509 ; 6    |// The following naming conventions are followed in this file.
                            15510 ; 7    |// All registers are named using the format...
                            15511 ; 8    |//     HW_<module>_<regname>
                            15512 ; 9    |// where <module> is the module name which can be any of the following...
                            15513 ; 10   |//     USB20
                            15514 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            15515 ; 12   |// module name includes a number starting from 0 for the first instance of
                            15516 ; 13   |// that module)
                            15517 ; 14   |// <regname> is the specific register within that module
                            15518 ; 15   |// We also define the following...
                            15519 ; 16   |//     HW_<module>_<regname>_BITPOS
                            15520 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            15521 ; 18   |//     HW_<module>_<regname>_SETMASK
                            15522 ; 19   |// which does something else, and
                            15523 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            15524 ; 21   |// which does something else.
                            15525 ; 22   |// Other rules
                            15526 ; 23   |//     All caps
                            15527 ; 24   |//     Numeric identifiers start at 0
                            15528 ; 25   |#if !(defined(regstimerinc))
                            15529 ; 26   |#define regstimerinc 1
                            15530 ; 27   |
                            15531 ; 28   |#include "types.h"
                            15532 
                            15534 
                            15535 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            15536 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            15537 ; 3    |//
                            15538 ; 4    |// Filename: types.h
                            15539 ; 5    |// Description: Standard data types
                            15540 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            15541 ; 7    |
                            15542 ; 8    |#ifndef _TYPES_H
                            15543 ; 9    |#define _TYPES_H
                            15544 ; 10   |
                            15545 ; 11   |// TODO:  move this outta here!
                            15546 ; 12   |#if !defined(NOERROR)
                            15547 ; 13   |#define NOERROR 0
                            15548 ; 14   |#define SUCCESS 0
                            15549 ; 15   |#endif 
                            15550 ; 16   |#if !defined(SUCCESS)
                            15551 ; 17   |#define SUCCESS  0
                            15552 ; 18   |#endif
                            15553 ; 19   |#if !defined(ERROR)
                            15554 ; 20   |#define ERROR   -1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 261

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15555 ; 21   |#endif
                            15556 ; 22   |#if !defined(FALSE)
                            15557 ; 23   |#define FALSE 0
                            15558 ; 24   |#endif
                            15559 ; 25   |#if !defined(TRUE)
                            15560 ; 26   |#define TRUE  1
                            15561 ; 27   |#endif
                            15562 ; 28   |
                            15563 ; 29   |#if !defined(NULL)
                            15564 ; 30   |#define NULL 0
                            15565 ; 31   |#endif
                            15566 ; 32   |
                            15567 ; 33   |#define MAX_INT     0x7FFFFF
                            15568 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            15569 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            15570 ; 36   |#define MAX_ULONG   (-1) 
                            15571 ; 37   |
                            15572 ; 38   |#define WORD_SIZE   24              // word size in bits
                            15573 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            15574 ; 40   |
                            15575 ; 41   |
                            15576 ; 42   |#define BYTE    unsigned char       // btVarName
                            15577 ; 43   |#define CHAR    signed char         // cVarName
                            15578 ; 44   |#define USHORT  unsigned short      // usVarName
                            15579 ; 45   |#define SHORT   unsigned short      // sVarName
                            15580 ; 46   |#define WORD    unsigned int        // wVarName
                            15581 ; 47   |#define INT     signed int          // iVarName
                            15582 ; 48   |#define DWORD   unsigned long       // dwVarName
                            15583 ; 49   |#define LONG    signed long         // lVarName
                            15584 ; 50   |#define BOOL    unsigned int        // bVarName
                            15585 ; 51   |#define FRACT   _fract              // frVarName
                            15586 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            15587 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            15588 ; 54   |#define FLOAT   float               // fVarName
                            15589 ; 55   |#define DBL     double              // dVarName
                            15590 ; 56   |#define ENUM    enum                // eVarName
                            15591 ; 57   |#define CMX     _complex            // cmxVarName
                            15592 ; 58   |typedef WORD UCS3;                   // 
                            15593 ; 59   |
                            15594 ; 60   |#define UINT16  unsigned short
                            15595 ; 61   |#define UINT8   unsigned char   
                            15596 ; 62   |#define UINT32  unsigned long
                            15597 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            15598 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            15599 ; 65   |#define WCHAR   UINT16
                            15600 ; 66   |
                            15601 ; 67   |//UINT128 is 16 bytes or 6 words
                            15602 ; 68   |typedef struct UINT128_3500 {   
                            15603 ; 69   |    int val[6];     
                            15604 ; 70   |} UINT128_3500;
                            15605 ; 71   |
                            15606 ; 72   |#define UINT128   UINT128_3500
                            15607 ; 73   |
                            15608 ; 74   |// Little endian word packed byte strings:   
                            15609 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            15610 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            15611 ; 77   |// Little endian word packed byte strings:   
                            15612 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            15613 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            15614 ; 80   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 262

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15615 ; 81   |// Declare Memory Spaces To Use When Coding
                            15616 ; 82   |// A. Sector Buffers
                            15617 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            15618 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            15619 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            15620 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            15621 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            15622 ; 88   |// B. Media DDI Memory
                            15623 ; 89   |#define MEDIA_DDI_MEM _Y
                            15624 ; 90   |
                            15625 ; 91   |
                            15626 ; 92   |
                            15627 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            15628 ; 94   |// Examples of circular pointers:
                            15629 ; 95   |//    INT CIRC cpiVarName
                            15630 ; 96   |//    DWORD CIRC cpdwVarName
                            15631 ; 97   |
                            15632 ; 98   |#define RETCODE INT                 // rcVarName
                            15633 ; 99   |
                            15634 ; 100  |// generic bitfield structure
                            15635 ; 101  |struct Bitfield {
                            15636 ; 102  |    unsigned int B0  :1;
                            15637 ; 103  |    unsigned int B1  :1;
                            15638 ; 104  |    unsigned int B2  :1;
                            15639 ; 105  |    unsigned int B3  :1;
                            15640 ; 106  |    unsigned int B4  :1;
                            15641 ; 107  |    unsigned int B5  :1;
                            15642 ; 108  |    unsigned int B6  :1;
                            15643 ; 109  |    unsigned int B7  :1;
                            15644 ; 110  |    unsigned int B8  :1;
                            15645 ; 111  |    unsigned int B9  :1;
                            15646 ; 112  |    unsigned int B10 :1;
                            15647 ; 113  |    unsigned int B11 :1;
                            15648 ; 114  |    unsigned int B12 :1;
                            15649 ; 115  |    unsigned int B13 :1;
                            15650 ; 116  |    unsigned int B14 :1;
                            15651 ; 117  |    unsigned int B15 :1;
                            15652 ; 118  |    unsigned int B16 :1;
                            15653 ; 119  |    unsigned int B17 :1;
                            15654 ; 120  |    unsigned int B18 :1;
                            15655 ; 121  |    unsigned int B19 :1;
                            15656 ; 122  |    unsigned int B20 :1;
                            15657 ; 123  |    unsigned int B21 :1;
                            15658 ; 124  |    unsigned int B22 :1;
                            15659 ; 125  |    unsigned int B23 :1;
                            15660 ; 126  |};
                            15661 ; 127  |
                            15662 ; 128  |union BitInt {
                            15663 ; 129  |        struct Bitfield B;
                            15664 ; 130  |        int        I;
                            15665 ; 131  |};
                            15666 ; 132  |
                            15667 ; 133  |#define MAX_MSG_LENGTH 10
                            15668 ; 134  |struct CMessage
                            15669 ; 135  |{
                            15670 ; 136  |        unsigned int m_uLength;
                            15671 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            15672 ; 138  |};
                            15673 ; 139  |
                            15674 ; 140  |typedef struct {
                            15675 ; 141  |    WORD m_wLength;
                            15676 ; 142  |    WORD m_wMessage;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 263

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15677 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            15678 ; 144  |} Message;
                            15679 ; 145  |
                            15680 ; 146  |struct MessageQueueDescriptor
                            15681 ; 147  |{
                            15682 ; 148  |        int *m_pBase;
                            15683 ; 149  |        int m_iModulo;
                            15684 ; 150  |        int m_iSize;
                            15685 ; 151  |        int *m_pHead;
                            15686 ; 152  |        int *m_pTail;
                            15687 ; 153  |};
                            15688 ; 154  |
                            15689 ; 155  |struct ModuleEntry
                            15690 ; 156  |{
                            15691 ; 157  |    int m_iSignaledEventMask;
                            15692 ; 158  |    int m_iWaitEventMask;
                            15693 ; 159  |    int m_iResourceOfCode;
                            15694 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            15695 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            15696 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            15697 ; 163  |    int m_uTimeOutHigh;
                            15698 ; 164  |    int m_uTimeOutLow;
                            15699 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            15700 ; 166  |};
                            15701 ; 167  |
                            15702 ; 168  |union WaitMask{
                            15703 ; 169  |    struct B{
                            15704 ; 170  |        unsigned int m_bNone     :1;
                            15705 ; 171  |        unsigned int m_bMessage  :1;
                            15706 ; 172  |        unsigned int m_bTimer    :1;
                            15707 ; 173  |        unsigned int m_bButton   :1;
                            15708 ; 174  |    } B;
                            15709 ; 175  |    int I;
                            15710 ; 176  |} ;
                            15711 ; 177  |
                            15712 ; 178  |
                            15713 ; 179  |struct Button {
                            15714 ; 180  |        WORD wButtonEvent;
                            15715 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            15716 ; 182  |};
                            15717 ; 183  |
                            15718 ; 184  |struct Message {
                            15719 ; 185  |        WORD wMsgLength;
                            15720 ; 186  |        WORD wMsgCommand;
                            15721 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            15722 ; 188  |};
                            15723 ; 189  |
                            15724 ; 190  |union EventTypes {
                            15725 ; 191  |        struct CMessage msg;
                            15726 ; 192  |        struct Button Button ;
                            15727 ; 193  |        struct Message Message;
                            15728 ; 194  |};
                            15729 ; 195  |
                            15730 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            15731 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            15732 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            15733 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            15734 ; 200  |
                            15735 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            15736 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            15737 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 264

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15738 ; 204  |
                            15739 ; 205  |#if DEBUG
                            15740 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            15741 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            15742 ; 208  |#else 
                            15743 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            15744 ; 210  |#define DebugBuildAssert(x)    
                            15745 ; 211  |#endif
                            15746 ; 212  |
                            15747 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            15748 ; 214  |//  #pragma asm
                            15749 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            15750 ; 216  |//  #pragma endasm
                            15751 ; 217  |
                            15752 ; 218  |
                            15753 ; 219  |#ifdef COLOR_262K
                            15754 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            15755 ; 221  |#elif defined(COLOR_65K)
                            15756 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            15757 ; 223  |#else
                            15758 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            15759 ; 225  |#endif
                            15760 ; 226  |    
                            15761 ; 227  |#endif // #ifndef _TYPES_H
                            15762 
                            15764 
                            15765 ; 29   |
                            15766 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15767 ; 31   |//   TIMER STMP Registers 
                            15768 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15769 ; 33   |#define HW_TMR_BASEADDR (0xF100)
                            15770 ; 34   |
                            15771 ; 35   |#define HW_TMR0_BASEADDR HW_TMR_BASEADDR
                            15772 ; 36   |#define HW_TMR1_BASEADDR HW_TMR_BASEADDR+0x40
                            15773 ; 37   |#define HW_TMR2_BASEADDR HW_TMR_BASEADDR+0x80
                            15774 ; 38   |#define HW_TMR3_BASEADDR HW_TMR_BASEADDR+0xC0
                            15775 ; 39   |
                            15776 ; 40   |#define HW_TIMER_NUMBER_0 0
                            15777 ; 41   |#define HW_TIMER_NUMBER_1 1
                            15778 ; 42   |#define HW_TIMER_NUMBER_2 2
                            15779 ; 43   |#define HW_TIMER_NUMBER_3 3
                            15780 ; 44   |
                            15781 ; 45   |#define HW_TMRCSR 0
                            15782 ; 46   |#define HW_TMRCNTR 1
                            15783 ; 47   |
                            15784 ; 48   |
                            15785 ; 49   |/////////////////////////////////////////////////////////////////////////////////
                            15786 ; 50   |//  TIMER CSR (HW_TMR0CSR) Bit Definitions
                            15787 ; 51   |#define HW_TMR0CSR_TIMER_ENABLE_BITPOS (0)
                            15788 ; 52   |#define HW_TMR0CSR_TIMER_INT_EN_BITPOS (1)
                            15789 ; 53   |#define HW_TMR0CSR_INVERT_BITPOS (2)
                            15790 ; 54   |#define HW_TMR0CSR_TIMER_CONTROL_BITPOS (3)
                            15791 ; 55   |#define HW_TMR0CSR_TIMER_STATUS_BITPOS (7)
                            15792 ; 56   |#define HW_TMR0CSR_TIMER_MODE_BITPOS (8)
                            15793 ; 57   |#define HW_TMR0CSR_CLKGT_BITPOS (23)
                            15794 ; 58   |
                            15795 ; 59   |#define HW_TMR0CSR_TIMER_ENABLE_WIDTH (1)
                            15796 ; 60   |#define HW_TMR0CSR_TIMER_INT_EN_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 265

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15797 ; 61   |#define HW_TMR0CSR_INVERT_WIDTH (1)
                            15798 ; 62   |#define HW_TMR0CSR_TIMER_CONTROL_WIDTH (3)
                            15799 ; 63   |#define HW_TMR0CSR_TIMER_STATUS_WIDTH (1)
                            15800 ; 64   |#define HW_TMR0CSR_TIMER_MODE_WIDTH (2)
                            15801 ; 65   |#define HW_TMR0CSR_CLKGT_WIDTH (1)
                            15802 ; 66   |
                            15803 ; 67   |#define HW_TMR0CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR0CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR0CS
                                  R_TIMER_ENABLE_BITPOS)
                            15804 ; 68   |#define HW_TMR0CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR0CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR0CS
                                  R_TIMER_INT_EN_BITPOS)
                            15805 ; 69   |#define HW_TMR0CSR_INVERT_SETMASK (((1<<HW_TMR0CSR_INVERT_WIDTH)-1)<<HW_TMR0CSR_INVERT_BIT
                                  POS)
                            15806 ; 70   |#define HW_TMR0CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR0CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR0
                                  CSR_TIMER_CONTROL_BITPOS)
                            15807 ; 71   |#define HW_TMR0CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR0CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR0CS
                                  R_TIMER_STATUS_BITPOS)
                            15808 ; 72   |#define HW_TMR0CSR_TIMER_MODE_SETMASK (((1<<HW_TMR0CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR0CSR_TI
                                  MER_MODE_BITPOS)
                            15809 ; 73   |#define HW_TMR0CSR_CLKGT_SETMASK (((1<<HW_TMR0CSR_CLKGT_WIDTH)-1)<<HW_TMR0CSR_CLKGT_BITPOS
                                  )
                            15810 ; 74   |
                            15811 ; 75   |#define HW_TMR0CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_ENABLE_SETMASK)
                            15812 ; 76   |#define HW_TMR0CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_INT_EN_SETMASK)
                            15813 ; 77   |#define HW_TMR0CSR_INVERT_CLRMASK (~(WORD)HW_TMR0CSR_INVERT_SETMASK)
                            15814 ; 78   |#define HW_TMR0CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_CONTROL_SETMASK)
                            15815 ; 79   |#define HW_TMR0CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_STATUS_SETMASK)
                            15816 ; 80   |#define HW_TMR0CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_MODE_SETMASK)
                            15817 ; 81   |#define HW_TMR0CSR_CLKGT_CLRMASK (~(WORD)HW_TMR0CSR_CLKGT_SETMASK)
                            15818 ; 82   |
                            15819 ; 83   |/////////////////////////////////////////////////////////////////////////////////
                            15820 ; 84   |//  TIMER CSR (HW_TMR1CSR) Bit Definitions
                            15821 ; 85   |#define HW_TMR1CSR_TIMER_ENABLE_BITPOS (0)
                            15822 ; 86   |#define HW_TMR1CSR_TIMER_INT_EN_BITPOS (1)
                            15823 ; 87   |#define HW_TMR1CSR_INVERT_BITPOS (2)
                            15824 ; 88   |#define HW_TMR1CSR_TIMER_CONTROL_BITPOS (3)
                            15825 ; 89   |#define HW_TMR1CSR_TIMER_STATUS_BITPOS (7)
                            15826 ; 90   |#define HW_TMR1CSR_TIMER_MODE_BITPOS (8)
                            15827 ; 91   |#define HW_TMR1CSR_CLKGT_BITPOS (23)
                            15828 ; 92   |
                            15829 ; 93   |#define HW_TMR1CSR_TIMER_ENABLE_WIDTH (1)
                            15830 ; 94   |#define HW_TMR1CSR_TIMER_INT_EN_WIDTH (1)
                            15831 ; 95   |#define HW_TMR1CSR_INVERT_WIDTH (1)
                            15832 ; 96   |#define HW_TMR1CSR_TIMER_CONTROL_WIDTH (3)
                            15833 ; 97   |#define HW_TMR1CSR_TIMER_STATUS_WIDTH (1)
                            15834 ; 98   |#define HW_TMR1CSR_TIMER_MODE_WIDTH (2)
                            15835 ; 99   |#define HW_TMR1CSR_CLKGT_WIDTH (1)
                            15836 ; 100  |
                            15837 ; 101  |#define HW_TMR1CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR1CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR1CS
                                  R_TIMER_ENABLE_BITPOS)
                            15838 ; 102  |#define HW_TMR1CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR1CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR1CS
                                  R_TIMER_INT_EN_BITPOS)
                            15839 ; 103  |#define HW_TMR1CSR_INVERT_SETMASK (((1<<HW_TMR1CSR_INVERT_WIDTH)-1)<<HW_TMR1CSR_INVERT_BIT
                                  POS)
                            15840 ; 104  |#define HW_TMR1CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR1CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR1
                                  CSR_TIMER_CONTROL_BITPOS)
                            15841 ; 105  |#define HW_TMR1CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR1CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR1CS
                                  R_TIMER_STATUS_BITPOS)
                            15842 ; 106  |#define HW_TMR1CSR_TIMER_MODE_SETMASK (((1<<HW_TMR1CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR1CSR_TI
                                  MER_MODE_BITPOS)
                            15843 ; 107  |#define HW_TMR1CSR_CLKGT_SETMASK (((1<<HW_TMR1CSR_CLKGT_WIDTH)-1)<<HW_TMR1CSR_CLKGT_BITPOS
                                  )
                            15844 ; 108  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 266

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15845 ; 109  |#define HW_TMR1CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_ENABLE_SETMASK)
                            15846 ; 110  |#define HW_TMR1CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_INT_EN_SETMASK)
                            15847 ; 111  |#define HW_TMR1CSR_INVERT_CLRMASK (~(WORD)HW_TMR1CSR_INVERT_SETMASK)
                            15848 ; 112  |#define HW_TMR1CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_CONTROL_SETMASK)
                            15849 ; 113  |#define HW_TMR1CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_STATUS_SETMASK)
                            15850 ; 114  |#define HW_TMR1CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_MODE_SETMASK)
                            15851 ; 115  |#define HW_TMR1CSR_CLKGT_CLRMASK (~(WORD)HW_TMR1CSR_CLKGT_SETMASK)
                            15852 ; 116  |
                            15853 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                            15854 ; 118  |//  TIMER CSR (HW_TMR2CSR) Bit Definitions
                            15855 ; 119  |#define HW_TMR2CSR_TIMER_ENABLE_BITPOS (0)
                            15856 ; 120  |#define HW_TMR2CSR_TIMER_INT_EN_BITPOS (1)
                            15857 ; 121  |#define HW_TMR2CSR_INVERT_BITPOS (2)
                            15858 ; 122  |#define HW_TMR2CSR_TIMER_CONTROL_BITPOS (3)
                            15859 ; 123  |#define HW_TMR2CSR_TIMER_STATUS_BITPOS (7)
                            15860 ; 124  |#define HW_TMR2CSR_TIMER_MODE_BITPOS (8)
                            15861 ; 125  |#define HW_TMR2CSR_CLKGT_BITPOS (23)
                            15862 ; 126  |
                            15863 ; 127  |#define HW_TMR2CSR_TIMER_ENABLE_WIDTH (1)
                            15864 ; 128  |#define HW_TMR2CSR_TIMER_INT_EN_WIDTH (1)
                            15865 ; 129  |#define HW_TMR2CSR_INVERT_WIDTH (1)
                            15866 ; 130  |#define HW_TMR2CSR_TIMER_CONTROL_WIDTH (3)
                            15867 ; 131  |#define HW_TMR2CSR_TIMER_STATUS_WIDTH (1)
                            15868 ; 132  |#define HW_TMR2CSR_TIMER_MODE_WIDTH (2)
                            15869 ; 133  |#define HW_TMR2CSR_CLKGT_WIDTH (1)
                            15870 ; 134  |
                            15871 ; 135  |#define HW_TMR2CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR2CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR2CS
                                  R_TIMER_ENABLE_BITPOS)
                            15872 ; 136  |#define HW_TMR2CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR2CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR2CS
                                  R_TIMER_INT_EN_BITPOS)
                            15873 ; 137  |#define HW_TMR2CSR_INVERT_SETMASK (((1<<HW_TMR2CSR_INVERT_WIDTH)-1)<<HW_TMR2CSR_INVERT_BIT
                                  POS)
                            15874 ; 138  |#define HW_TMR2CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR2CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR2
                                  CSR_TIMER_CONTROL_BITPOS)
                            15875 ; 139  |#define HW_TMR2CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR2CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR2CS
                                  R_TIMER_STATUS_BITPOS)
                            15876 ; 140  |#define HW_TMR2CSR_TIMER_MODE_SETMASK (((1<<HW_TMR2CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR2CSR_TI
                                  MER_MODE_BITPOS)
                            15877 ; 141  |#define HW_TMR2CSR_CLKGT_SETMASK (((1<<HW_TMR2CSR_CLKGT_WIDTH)-1)<<HW_TMR2CSR_CLKGT_BITPOS
                                  )
                            15878 ; 142  |
                            15879 ; 143  |#define HW_TMR2CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_ENABLE_SETMASK)
                            15880 ; 144  |#define HW_TMR2CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_INT_EN_SETMASK)
                            15881 ; 145  |#define HW_TMR2CSR_INVERT_CLRMASK (~(WORD)HW_TMR2CSR_INVERT_SETMASK)
                            15882 ; 146  |#define HW_TMR2CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_CONTROL_SETMASK)
                            15883 ; 147  |#define HW_TMR2CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_STATUS_SETMASK)
                            15884 ; 148  |#define HW_TMR2CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_MODE_SETMASK)
                            15885 ; 149  |#define HW_TMR2CSR_CLKGT_CLRMASK (~(WORD)HW_TMR2CSR_CLKGT_SETMASK)
                            15886 ; 150  |
                            15887 ; 151  |/////////////////////////////////////////////////////////////////////////////////
                            15888 ; 152  |//  TIMER CSR (HW_TMR3CSR) Bit Definitions
                            15889 ; 153  |#define HW_TMR3CSR_TIMER_ENABLE_BITPOS (0)
                            15890 ; 154  |#define HW_TMR3CSR_TIMER_INT_EN_BITPOS (1)
                            15891 ; 155  |#define HW_TMR3CSR_INVERT_BITPOS (2)
                            15892 ; 156  |#define HW_TMR3CSR_TIMER_CONTROL_BITPOS (3)
                            15893 ; 157  |#define HW_TMR3CSR_TIMER_STATUS_BITPOS (7)
                            15894 ; 158  |#define HW_TMR3CSR_TIMER_MODE_BITPOS (8)
                            15895 ; 159  |#define HW_TMR3CSR_CLKGT_BITPOS (23)
                            15896 ; 160  |
                            15897 ; 161  |#define HW_TMR3CSR_TIMER_ENABLE_WIDTH (1)
                            15898 ; 162  |#define HW_TMR3CSR_TIMER_INT_EN_WIDTH (1)
                            15899 ; 163  |#define HW_TMR3CSR_INVERT_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 267

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15900 ; 164  |#define HW_TMR3CSR_TIMER_CONTROL_WIDTH (3)
                            15901 ; 165  |#define HW_TMR3CSR_TIMER_STATUS_WIDTH (1)
                            15902 ; 166  |#define HW_TMR3CSR_TIMER_MODE_WIDTH (2)
                            15903 ; 167  |#define HW_TMR3CSR_CLKGT_WIDTH (1)
                            15904 ; 168  |
                            15905 ; 169  |#define HW_TMR3CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR3CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR3CS
                                  R_TIMER_ENABLE_BITPOS)
                            15906 ; 170  |#define HW_TMR3CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR3CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR3CS
                                  R_TIMER_INT_EN_BITPOS)
                            15907 ; 171  |#define HW_TMR3CSR_INVERT_SETMASK (((1<<HW_TMR3CSR_INVERT_WIDTH)-1)<<HW_TMR3CSR_INVERT_BIT
                                  POS)
                            15908 ; 172  |#define HW_TMR3CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR3CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR3
                                  CSR_TIMER_CONTROL_BITPOS)
                            15909 ; 173  |#define HW_TMR3CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR3CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR3CS
                                  R_TIMER_STATUS_BITPOS)
                            15910 ; 174  |#define HW_TMR3CSR_TIMER_MODE_SETMASK (((1<<HW_TMR3CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR3CSR_TI
                                  MER_MODE_BITPOS)
                            15911 ; 175  |#define HW_TMR3CSR_CLKGT_SETMASK (((1<<HW_TMR3CSR_CLKGT_WIDTH)-1)<<HW_TMR3CSR_CLKGT_BITPOS
                                  )
                            15912 ; 176  |
                            15913 ; 177  |#define HW_TMR3CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_ENABLE_SETMASK)
                            15914 ; 178  |#define HW_TMR3CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_INT_EN_SETMASK)
                            15915 ; 179  |#define HW_TMR3CSR_INVERT_CLRMASK (~(WORD)HW_TMR3CSR_INVERT_SETMASK)
                            15916 ; 180  |#define HW_TMR3CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_CONTROL_SETMASK)
                            15917 ; 181  |#define HW_TMR3CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_STATUS_SETMASK)
                            15918 ; 182  |#define HW_TMR3CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_MODE_SETMASK)
                            15919 ; 183  |#define HW_TMR3CSR_CLKGT_CLRMASK (~(WORD)HW_TMR3CSR_CLKGT_SETMASK)
                            15920 ; 184  |
                            15921 ; 185  |typedef union               
                            15922 ; 186  |{
                            15923 ; 187  |    struct {
                            15924 ; 188  |       int TIMER_ENABLE              :1;
                            15925 ; 189  |       int TIMER_INT_EN              :1;
                            15926 ; 190  |       int INVERT                    :1;
                            15927 ; 191  |       int TIMER_CONTROL             :3;
                            15928 ; 192  |       int RSVD0                     :1;
                            15929 ; 193  |       int TIMER_STATUS              :1;
                            15930 ; 194  |       int TIMER_MODE                :2;
                            15931 ; 195  |       int RSVD1                     :13;
                            15932 ; 196  |       int CLKGT                     :1;
                            15933 ; 197  |    } B;
                            15934 ; 198  |    int I;
                            15935 ; 199  |} timercsr_type;
                            15936 ; 200  |#define HW_TMR0CSR        (*(volatile timercsr_type _X*) (HW_TMR0_BASEADDR+HW_TMRCSR))  /*
                                   Timer0 Control Status Register */
                            15937 ; 201  |#define HW_TMR1CSR        (*(volatile timercsr_type _X*) (HW_TMR1_BASEADDR+HW_TMRCSR))  /*
                                   Timer1 Control Status Register */
                            15938 ; 202  |#define HW_TMR2CSR        (*(volatile timercsr_type _X*) (HW_TMR2_BASEADDR+HW_TMRCSR))  /*
                                   Timer2 Control Status Register */
                            15939 ; 203  |#define HW_TMR3CSR        (*(volatile timercsr_type _X*) (HW_TMR3_BASEADDR+HW_TMRCSR))  /*
                                   Timer3 Control Status Register */
                            15940 ; 204  |
                            15941 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                            15942 ; 206  |//  TIMER CNTR register (HW_TMR0CNTR) Bit Definitions
                            15943 ; 207  |#define HW_TMR0CNTR_COUNT_BITPOS 0
                            15944 ; 208  |#define HW_TMR0CNTR_COUNT_WIDTH 24
                            15945 ; 209  |#define HW_TMR0CNTR_COUNT_SETMASK (((1<<HW_TMR0CNTR_COUNT_WIDTH)-1)<<HW_TMR0CNTR_COUNT_BIT
                                  POS)
                            15946 ; 210  |#define HW_TMR0CNTR_COUNT_CLRMASK (~(WORD)HW_TMR0CNTR_COUNT_SETMASK)
                            15947 ; 211  |
                            15948 ; 212  |/////////////////////////////////////////////////////////////////////////////////
                            15949 ; 213  |//  TIMER CNTR register (HW_TMR1CNTR) Bit Definitions
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 268

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15950 ; 214  |#define HW_TMR1CNTR_COUNT_BITPOS 0
                            15951 ; 215  |#define HW_TMR1CNTR_COUNT_WIDTH 24
                            15952 ; 216  |#define HW_TMR1CNTR_COUNT_SETMASK (((1<<HW_TMR1CNTR_COUNT_WIDTH)-1)<<HW_TMR1CNTR_COUNT_BIT
                                  POS)
                            15953 ; 217  |#define HW_TMR1CNTR_COUNT_CLRMASK (~(WORD)HW_TMR1CNTR_COUNT_SETMASK)
                            15954 ; 218  |
                            15955 ; 219  |/////////////////////////////////////////////////////////////////////////////////
                            15956 ; 220  |//  TIMER CNTR register (HW_TMR2CNTR) Bit Definitions
                            15957 ; 221  |#define HW_TMR2CNTR_COUNT_BITPOS 0
                            15958 ; 222  |#define HW_TMR2CNTR_COUNT_WIDTH 24
                            15959 ; 223  |#define HW_TMR2CNTR_COUNT_SETMASK (((1<<HW_TMR2CNTR_COUNT_WIDTH)-1)<<HW_TMR2CNTR_COUNT_BIT
                                  POS)
                            15960 ; 224  |#define HW_TMR2CNTR_COUNT_CLRMASK (~(WORD)HW_TMR2CNTR_COUNT_SETMASK)
                            15961 ; 225  |
                            15962 ; 226  |typedef union               
                            15963 ; 227  |{
                            15964 ; 228  |    struct {
                            15965 ; 229  |       int COUNT                    :24;
                            15966 ; 230  |    } B;
                            15967 ; 231  |    int I;
                            15968 ; 232  |} tmrcntr_type;
                            15969 ; 233  |#define HW_TMR0CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR0_BASEADDR+HW_TMRCNTR))  /
                                  * Timer0 Count Register */
                            15970 ; 234  |#define HW_TMR1CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR1_BASEADDR+HW_TMRCNTR))  /
                                  * Timer1 Count Register */
                            15971 ; 235  |#define HW_TMR2CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR2_BASEADDR+HW_TMRCNTR))  /
                                  * Timer2 Count Register */
                            15972 ; 236  |#define HW_TMR3CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR3_BASEADDR+HW_TMRCNTR))  /
                                  * Timer3 Count Register */
                            15973 ; 237  |
                            15974 ; 238  |
                            15975 ; 239  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                            15976 ; 240  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                            15977 ; 241  |// to update the actual files. Only the defines needed to build SDK2.400 were added.   
                            15978 ; 242  |#define HW_TIMER_BASEADDR 0xF100
                            15979 ; 243  |
                            15980 ; 244  |#define HW_TIMER0_BASEADDR HW_TIMER_BASEADDR
                            15981 ; 245  |#define HW_TIMER1_BASEADDR HW_TIMER0_BASEADDR+0x40
                            15982 ; 246  |#define HW_TIMER2_BASEADDR HW_TIMER1_BASEADDR+0x40
                            15983 ; 247  |#define HW_TIMER3_BASEADDR HW_TIMER2_BASEADDR+0x40
                            15984 ; 248  |
                            15985 ; 249  |#define HW_TMR0CR HW_TMR0_BASEADDR
                            15986 ; 250  |#define HW_TMR1CR HW_TMR1_BASEADDR
                            15987 ; 251  |#define HW_TMR2CR HW_TMR2_BASEADDR
                            15988 ; 252  |#define HW_TMR3CR HW_TIMER3_BASEADDR
                            15989 ; 253  |
                            15990 ; 254  |// Timer enable
                            15991 ; 255  |#define HW_TMRCR_TE_BITPOS 0   
                            15992 ; 256  |// Timer clock gating control
                            15993 ; 257  |#define HW_TMR3CR_CG_BITPOS 23  
                            15994 ; 258  |#define HW_TMR3CR_CG_SETMASK 1<<HW_TMR3CR_CG_BITPOS
                            15995 ; 259  |#define HW_TMR3CR_CG_CLRMASK ~(WORD)HW_TMR3CR_CG_SETMASK
                            15996 ; 260  |#endif
                            15997 ; 261  |
                            15998 ; 262  |
                            15999 ; 263  |
                            16000 ; 264  |
                            16001 
                            16003 
                            16004 ; 36   |#include "regsusb20.h"
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 269

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16005 
                            16007 
                            16008 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16009 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2003
                            16010 ; 3    |//;  File        : regsusb20ip.inc
                            16011 ; 4    |//;  Description : USB20 IP Register definition
                            16012 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16013 ; 6    |
                            16014 ; 7    |// The following naming conventions are followed in this file.
                            16015 ; 8    |// All registers are named using the format...
                            16016 ; 9    |//     HW_<module>_<regname>
                            16017 ; 10   |// where <module> is the module name which can be any of the following...
                            16018 ; 11   |//     USB20
                            16019 ; 12   |// (Note that when there is more than one copy of a particular module, the
                            16020 ; 13   |// module name includes a number starting from 0 for the first instance of
                            16021 ; 14   |// that module)
                            16022 ; 15   |// <regname> is the specific register within that module
                            16023 ; 16   |// We also define the following...
                            16024 ; 17   |//     HW_<module>_<regname>_BITPOS
                            16025 ; 18   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            16026 ; 19   |//     HW_<module>_<regname>_SETMASK
                            16027 ; 20   |// which does something else, and
                            16028 ; 21   |//     HW_<module>_<regname>_CLRMASK
                            16029 ; 22   |// which does something else.
                            16030 ; 23   |// Other rules
                            16031 ; 24   |//     All caps
                            16032 ; 25   |//     Numeric identifiers start at 0
                            16033 ; 26   |
                            16034 ; 27   |#if !(defined(regsusb20inc))
                            16035 ; 28   |#define regsusb20inc 1
                            16036 ; 29   |
                            16037 ; 30   |#include "types.h"
                            16038 
                            16040 
                            16041 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            16042 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            16043 ; 3    |//
                            16044 ; 4    |// Filename: types.h
                            16045 ; 5    |// Description: Standard data types
                            16046 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            16047 ; 7    |
                            16048 ; 8    |#ifndef _TYPES_H
                            16049 ; 9    |#define _TYPES_H
                            16050 ; 10   |
                            16051 ; 11   |// TODO:  move this outta here!
                            16052 ; 12   |#if !defined(NOERROR)
                            16053 ; 13   |#define NOERROR 0
                            16054 ; 14   |#define SUCCESS 0
                            16055 ; 15   |#endif 
                            16056 ; 16   |#if !defined(SUCCESS)
                            16057 ; 17   |#define SUCCESS  0
                            16058 ; 18   |#endif
                            16059 ; 19   |#if !defined(ERROR)
                            16060 ; 20   |#define ERROR   -1
                            16061 ; 21   |#endif
                            16062 ; 22   |#if !defined(FALSE)
                            16063 ; 23   |#define FALSE 0
                            16064 ; 24   |#endif
                            16065 ; 25   |#if !defined(TRUE)
                            16066 ; 26   |#define TRUE  1
                            16067 ; 27   |#endif
                            16068 ; 28   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 270

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16069 ; 29   |#if !defined(NULL)
                            16070 ; 30   |#define NULL 0
                            16071 ; 31   |#endif
                            16072 ; 32   |
                            16073 ; 33   |#define MAX_INT     0x7FFFFF
                            16074 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            16075 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            16076 ; 36   |#define MAX_ULONG   (-1) 
                            16077 ; 37   |
                            16078 ; 38   |#define WORD_SIZE   24              // word size in bits
                            16079 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            16080 ; 40   |
                            16081 ; 41   |
                            16082 ; 42   |#define BYTE    unsigned char       // btVarName
                            16083 ; 43   |#define CHAR    signed char         // cVarName
                            16084 ; 44   |#define USHORT  unsigned short      // usVarName
                            16085 ; 45   |#define SHORT   unsigned short      // sVarName
                            16086 ; 46   |#define WORD    unsigned int        // wVarName
                            16087 ; 47   |#define INT     signed int          // iVarName
                            16088 ; 48   |#define DWORD   unsigned long       // dwVarName
                            16089 ; 49   |#define LONG    signed long         // lVarName
                            16090 ; 50   |#define BOOL    unsigned int        // bVarName
                            16091 ; 51   |#define FRACT   _fract              // frVarName
                            16092 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            16093 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            16094 ; 54   |#define FLOAT   float               // fVarName
                            16095 ; 55   |#define DBL     double              // dVarName
                            16096 ; 56   |#define ENUM    enum                // eVarName
                            16097 ; 57   |#define CMX     _complex            // cmxVarName
                            16098 ; 58   |typedef WORD UCS3;                   // 
                            16099 ; 59   |
                            16100 ; 60   |#define UINT16  unsigned short
                            16101 ; 61   |#define UINT8   unsigned char   
                            16102 ; 62   |#define UINT32  unsigned long
                            16103 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            16104 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            16105 ; 65   |#define WCHAR   UINT16
                            16106 ; 66   |
                            16107 ; 67   |//UINT128 is 16 bytes or 6 words
                            16108 ; 68   |typedef struct UINT128_3500 {   
                            16109 ; 69   |    int val[6];     
                            16110 ; 70   |} UINT128_3500;
                            16111 ; 71   |
                            16112 ; 72   |#define UINT128   UINT128_3500
                            16113 ; 73   |
                            16114 ; 74   |// Little endian word packed byte strings:   
                            16115 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            16116 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            16117 ; 77   |// Little endian word packed byte strings:   
                            16118 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            16119 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            16120 ; 80   |
                            16121 ; 81   |// Declare Memory Spaces To Use When Coding
                            16122 ; 82   |// A. Sector Buffers
                            16123 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            16124 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            16125 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            16126 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            16127 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            16128 ; 88   |// B. Media DDI Memory
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 271

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16129 ; 89   |#define MEDIA_DDI_MEM _Y
                            16130 ; 90   |
                            16131 ; 91   |
                            16132 ; 92   |
                            16133 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            16134 ; 94   |// Examples of circular pointers:
                            16135 ; 95   |//    INT CIRC cpiVarName
                            16136 ; 96   |//    DWORD CIRC cpdwVarName
                            16137 ; 97   |
                            16138 ; 98   |#define RETCODE INT                 // rcVarName
                            16139 ; 99   |
                            16140 ; 100  |// generic bitfield structure
                            16141 ; 101  |struct Bitfield {
                            16142 ; 102  |    unsigned int B0  :1;
                            16143 ; 103  |    unsigned int B1  :1;
                            16144 ; 104  |    unsigned int B2  :1;
                            16145 ; 105  |    unsigned int B3  :1;
                            16146 ; 106  |    unsigned int B4  :1;
                            16147 ; 107  |    unsigned int B5  :1;
                            16148 ; 108  |    unsigned int B6  :1;
                            16149 ; 109  |    unsigned int B7  :1;
                            16150 ; 110  |    unsigned int B8  :1;
                            16151 ; 111  |    unsigned int B9  :1;
                            16152 ; 112  |    unsigned int B10 :1;
                            16153 ; 113  |    unsigned int B11 :1;
                            16154 ; 114  |    unsigned int B12 :1;
                            16155 ; 115  |    unsigned int B13 :1;
                            16156 ; 116  |    unsigned int B14 :1;
                            16157 ; 117  |    unsigned int B15 :1;
                            16158 ; 118  |    unsigned int B16 :1;
                            16159 ; 119  |    unsigned int B17 :1;
                            16160 ; 120  |    unsigned int B18 :1;
                            16161 ; 121  |    unsigned int B19 :1;
                            16162 ; 122  |    unsigned int B20 :1;
                            16163 ; 123  |    unsigned int B21 :1;
                            16164 ; 124  |    unsigned int B22 :1;
                            16165 ; 125  |    unsigned int B23 :1;
                            16166 ; 126  |};
                            16167 ; 127  |
                            16168 ; 128  |union BitInt {
                            16169 ; 129  |        struct Bitfield B;
                            16170 ; 130  |        int        I;
                            16171 ; 131  |};
                            16172 ; 132  |
                            16173 ; 133  |#define MAX_MSG_LENGTH 10
                            16174 ; 134  |struct CMessage
                            16175 ; 135  |{
                            16176 ; 136  |        unsigned int m_uLength;
                            16177 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            16178 ; 138  |};
                            16179 ; 139  |
                            16180 ; 140  |typedef struct {
                            16181 ; 141  |    WORD m_wLength;
                            16182 ; 142  |    WORD m_wMessage;
                            16183 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            16184 ; 144  |} Message;
                            16185 ; 145  |
                            16186 ; 146  |struct MessageQueueDescriptor
                            16187 ; 147  |{
                            16188 ; 148  |        int *m_pBase;
                            16189 ; 149  |        int m_iModulo;
                            16190 ; 150  |        int m_iSize;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 272

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16191 ; 151  |        int *m_pHead;
                            16192 ; 152  |        int *m_pTail;
                            16193 ; 153  |};
                            16194 ; 154  |
                            16195 ; 155  |struct ModuleEntry
                            16196 ; 156  |{
                            16197 ; 157  |    int m_iSignaledEventMask;
                            16198 ; 158  |    int m_iWaitEventMask;
                            16199 ; 159  |    int m_iResourceOfCode;
                            16200 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            16201 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            16202 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            16203 ; 163  |    int m_uTimeOutHigh;
                            16204 ; 164  |    int m_uTimeOutLow;
                            16205 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            16206 ; 166  |};
                            16207 ; 167  |
                            16208 ; 168  |union WaitMask{
                            16209 ; 169  |    struct B{
                            16210 ; 170  |        unsigned int m_bNone     :1;
                            16211 ; 171  |        unsigned int m_bMessage  :1;
                            16212 ; 172  |        unsigned int m_bTimer    :1;
                            16213 ; 173  |        unsigned int m_bButton   :1;
                            16214 ; 174  |    } B;
                            16215 ; 175  |    int I;
                            16216 ; 176  |} ;
                            16217 ; 177  |
                            16218 ; 178  |
                            16219 ; 179  |struct Button {
                            16220 ; 180  |        WORD wButtonEvent;
                            16221 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            16222 ; 182  |};
                            16223 ; 183  |
                            16224 ; 184  |struct Message {
                            16225 ; 185  |        WORD wMsgLength;
                            16226 ; 186  |        WORD wMsgCommand;
                            16227 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            16228 ; 188  |};
                            16229 ; 189  |
                            16230 ; 190  |union EventTypes {
                            16231 ; 191  |        struct CMessage msg;
                            16232 ; 192  |        struct Button Button ;
                            16233 ; 193  |        struct Message Message;
                            16234 ; 194  |};
                            16235 ; 195  |
                            16236 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            16237 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            16238 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            16239 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            16240 ; 200  |
                            16241 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            16242 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            16243 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            16244 ; 204  |
                            16245 ; 205  |#if DEBUG
                            16246 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            16247 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            16248 ; 208  |#else 
                            16249 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            16250 ; 210  |#define DebugBuildAssert(x)    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 273

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16251 ; 211  |#endif
                            16252 ; 212  |
                            16253 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            16254 ; 214  |//  #pragma asm
                            16255 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            16256 ; 216  |//  #pragma endasm
                            16257 ; 217  |
                            16258 ; 218  |
                            16259 ; 219  |#ifdef COLOR_262K
                            16260 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            16261 ; 221  |#elif defined(COLOR_65K)
                            16262 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            16263 ; 223  |#else
                            16264 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            16265 ; 225  |#endif
                            16266 ; 226  |    
                            16267 ; 227  |#endif // #ifndef _TYPES_H
                            16268 
                            16270 
                            16271 ; 31   |
                            16272 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16273 ; 33   |//   USB2.0 STMP Registers 
                            16274 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16275 ; 35   |#define HW_USB_BASEADDR (0xF200)
                            16276 ; 36   |
                            16277 ; 37   |
                            16278 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            16279 ; 39   |//  USB Control Status Register (HW_USBCSR) Bit Definitions
                            16280 ; 40   |#define HW_USBCSR_USBEN_BITPOS (0)
                            16281 ; 41   |#define HW_USBCSR_WAKEUPIRQ_BITPOS (1)
                            16282 ; 42   |#define HW_USBCSR_WAKEUPIE_BITPOS (2)
                            16283 ; 43   |#define HW_USBCSR_VBUSCXIRQ_BITPOS (3)
                            16284 ; 44   |#define HW_USBCSR_VBUSCXIE_BITPOS (4)
                            16285 ; 45   |#define HW_USBCSR_VBUSDISCXIRQ_BITPOS (5)
                            16286 ; 46   |#define HW_USBCSR_VBUSDISCXIE_BITPOS (6)
                            16287 ; 47   |#define HW_USBCSR_CLKOFF_BITPOS (7)
                            16288 ; 48   |#define HW_USBCSR_SUSP_BITPOS (8)
                            16289 ; 49   |#define HW_USBCSR_SUSPF_BITPOS (9)
                            16290 ; 50   |#define HW_USBCSR_UTMITST_BITPOS (10)
                            16291 ; 51   |#define HW_USBCSR_UTMI_EXT_BITPOS (11)
                            16292 ; 52   |#define HW_USBCSR_PLUGGEDIN_EN_BITPOS (12)
                            16293 ; 53   |#define HW_USBCSR_PLUGGEDIN_BITPOS (13)
                            16294 ; 54   |#define HW_USBCSR_HOSTDISCONNECT_BITPOS (22)
                            16295 ; 55   |#define HW_USBCSR_VBUSSENSE_BITPOS (23)
                            16296 ; 56   |
                            16297 ; 57   |#define HW_USBCSR_USBEN_SETMASK (1<<HW_USBCSR_USBEN_BITPOS)        
                            16298 ; 58   |#define HW_USBCSR_WAKEUPIRQ_SETMASK (1<<HW_USBCSR_WAKEUPIRQ_BITPOS) 
                            16299 ; 59   |#define HW_USBCSR_WAKEUPIE_SETMASK (1<<HW_USBCSR_WAKEUPIE_BITPOS)  
                            16300 ; 60   |#define HW_USBCSR_VBUSCXIRQ_SETMASK (1<<HW_USBCSR_VBUSCXIRQ_BITPOS)
                            16301 ; 61   |#define HW_USBCSR_VBUSCXIE_SETMASK (1<<HW_USBCSR_VBUSCXIE_BITPOS)
                            16302 ; 62   |#define HW_USBCSR_VBUSDISCXIRQ_SETMASK (1<<HW_USBCSR_VBUSDISCXIRQ_BITPOS)
                            16303 ; 63   |#define HW_USBCSR_VBUSDISCXIE_SETMASK (1<<HW_USBCSR_VBUSDISCXIE_BITPOS)
                            16304 ; 64   |#define HW_USBCSR_CLKOFF_SETMASK (1<<HW_USBCSR_CLKOFF_BITPOS)    
                            16305 ; 65   |#define HW_USBCSR_SUSP_SETMASK (1<<HW_USBCSR_SUSP_BITPOS)      
                            16306 ; 66   |#define HW_USBCSR_SUSPF_SETMASK (1<<HW_USBCSR_SUSPF_BITPOS)     
                            16307 ; 67   |#define HW_USBCSR_UTMITST_SETMASK (1<<HW_USBCSR_UTMITST_BITPOS)   
                            16308 ; 68   |#define HW_USBCSR_UTMI_EXT_SETMASK (1<<HW_USBCSR_UTMI_EXT_BITPOS)
                            16309 ; 69   |#define HW_USBCSR_VBUSSENSE_SETMASK (1<<HW_USBCSR_VBUSSENSE_BITPOS)
                            16310 ; 70   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 274

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16311 ; 71   |
                            16312 ; 72   |#define HW_USBCSR_USBEN_CLRMASK (~(WORD)HW_USBCSR_USBEN_SETMASK)     
                            16313 ; 73   |#define HW_USBCSR_WAKEUPIRQ_CLRMASK (~(WORD)HW_USBCSR_WAKEUPIRQ_SETMASK) 
                            16314 ; 74   |#define HW_USBCSR_WAKEUPIE_CLRMASK (~(WORD)HW_USBCSR_WAKEUPIE_SETMASK)  
                            16315 ; 75   |#define HW_USBCSR_VBUSCXIRQ_CLRMASK (~(WORD)HW_USBCSR_VBUSCXIRQ_SETMASK)
                            16316 ; 76   |#define HW_USBCSR_VBUSCXIE_CLRMASK (~(WORD)HW_USBCSR_VBUSCXIE_SETMASK)
                            16317 ; 77   |#define HW_USBCSR_VBUSDISCXIRQ_CLRMASK (~(WORD)HW_USBCSR_VBUSDISCXIRQ_SETMASK)
                            16318 ; 78   |#define HW_USBCSR_VBUSDISCXIE_CLRMASK (~(WORD)HW_USBCSR_VBUSDISCXIE_SETMASK) 
                            16319 ; 79   |#define HW_USBCSR_CLKOFF_CLRMASK (~(WORD)HW_USBCSR_CLKOFF_SETMASK)    
                            16320 ; 80   |#define HW_USBCSR_SUSP_CLRMASK (~(WORD)HW_USBCSR_SUSP_SETMASK)      
                            16321 ; 81   |#define HW_USBCSR_SUSPF_CLRMASK (~(WORD)HW_USBCSR_SUSPF_SETMASK)     
                            16322 ; 82   |#define HW_USBCSR_UTMITST_CLRMASK (~(WORD)HW_USBCSR_UTMITST_SETMASK)   
                            16323 ; 83   |#define HW_USBCSR_UTMI_EXT_CLRMASK (~(WORD)HW_USBCSR_UTMI_EXT_SETMASK) 
                            16324 ; 84   |#define HW_USBCSR_VBUSSENSE_CLRMASK (~(WORD)HW_USBCSR_VBUSSENSE_SETMASK) 
                            16325 ; 85   |
                            16326 ; 86   |typedef union               
                            16327 ; 87   |{
                            16328 ; 88   |    struct {
                            16329 ; 89   |        int USBEN          :1;
                            16330 ; 90   |        int WAKEUPIRQ      :1;
                            16331 ; 91   |        int WAKEUPIE       :1;
                            16332 ; 92   |        int VBUSCXIRQ      :1;
                            16333 ; 93   |        int VBUSCXIE       :1;
                            16334 ; 94   |        int VBUSDISCXIRQ   :1;
                            16335 ; 95   |        int VBUSDISCXIE    :1;
                            16336 ; 96   |        int CLKOFF         :1;
                            16337 ; 97   |        int SUSP           :1;
                            16338 ; 98   |        int SUSPF          :1;
                            16339 ; 99   |        int UTMITST        :1;
                            16340 ; 100  |        int ARCCONNECT     :1;
                            16341 ; 101  |        int PLUGGEDIN_EN   :1;
                            16342 ; 102  |        int PLUGGEDIN      :1;
                            16343 ; 103  |        int                :8;
                            16344 ; 104  |        int HOSTDISCONNECT :1;
                            16345 ; 105  |        int VBUSSENSE      :1;
                            16346 ; 106  |    } B;
                            16347 ; 107  |    int I;
                            16348 ; 108  |} usbcsr_type;
                            16349 ; 109  |#define HW_USBCSR      (*(volatile usbcsr_type _X*) (HW_USB_BASEADDR))    /* USB Control /
                                   Status Register */
                            16350 ; 110  |
                            16351 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            16352 ; 112  |//  USB DMA OFFSET register (HW_USBDMAOFF) Bit Definitions
                            16353 ; 113  |#define HW_USBDMAOFF_MEM_BITPOS (16)
                            16354 ; 114  |
                            16355 ; 115  |#define HW_USBDMAOFF_ADD_SETMASK (0x00FFFF)
                            16356 ; 116  |#define HW_USBDMAOFF_MEM_SETMASK (3<<HW_USBDMAOFF_MEM_BITPOS)
                            16357 ; 117  |
                            16358 ; 118  |#define HW_USBDMAOFF_ADD_CLRMASK (~(WORD)HW_USBDMAOFF_ADD_SETMASK)
                            16359 ; 119  |#define HW_USBDMAOFF_MEM_CLRMASK (~(WORD)HW_USBDMAOFF_MEM_SETMASK)
                            16360 ; 120  |
                            16361 ; 121  |typedef union               
                            16362 ; 122  |{
                            16363 ; 123  |    struct {
                            16364 ; 124  |        int ADD            :16;
                            16365 ; 125  |        int MEM            :2;
                            16366 ; 126  |        int                :6;
                            16367 ; 127  |    } B;
                            16368 ; 128  |    int I;
                            16369 ; 129  |} usbdmaoff_type;
                            16370 ; 130  |#define HW_USBDMAOFF      (*(volatile usbdmaoff_type _X*) (HW_USB_BASEADDR+1))    
                            16371 ; 131  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 275

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16372 ; 132  |/////////////////////////////////////////////////////////////////////////////////
                            16373 ; 133  |//  USB ARC ACCESS register (HW_USBARCACCESS) Bit Definitions
                            16374 ; 134  |#define HW_USBARCACCESS_RWB_BITPOS (16)
                            16375 ; 135  |#define HW_USBARCACCESS_KICK_BITPOS (23)
                            16376 ; 136  |
                            16377 ; 137  |#define HW_USBARCACCESS_ADD_SETMASK (0x0001FF)
                            16378 ; 138  |#define HW_USBARCACCESS_RWB_SETMASK (1<<HW_USBARCACCESS_RWB_BITPOS)
                            16379 ; 139  |#define HW_USBARCACCESS_KICK_SETMASK (23<<HW_USBDMAOFF_MEM_BITPOS)
                            16380 ; 140  |
                            16381 ; 141  |#define HW_USBARCACCESS_ADD_CLRMASK (~(WORD)HW_USBARCACCESS_ADD_SETMASK)
                            16382 ; 142  |#define HW_USBARCACCESS_RWB_CLRMASK (~(WORD)HW_USBARCACCESS_RWB_SETMASK) 
                            16383 ; 143  |#define HW_USBARCACCESS_KICK_CLRMASK (~(WORD)HW_USBARCACCESS_KICK_SETMASK)
                            16384 ; 144  |
                            16385 ; 145  |typedef union               
                            16386 ; 146  |{
                            16387 ; 147  |    struct {
                            16388 ; 148  |        int ADD            :9;
                            16389 ; 149  |        int                :7;
                            16390 ; 150  |        int RWB            :1;
                            16391 ; 151  |        int                :14;
                            16392 ; 152  |        int KICK           :1;
                            16393 ; 153  |    } B;
                            16394 ; 154  |    int I;
                            16395 ; 155  |} usbarcaccess_type;
                            16396 ; 156  |#define HW_USBARCACCESS      (*(volatile usbarcaccess_type _X*) (HW_USB_BASEADDR+2))    
                            16397 ; 157  |
                            16398 ; 158  |/////////////////////////////////////////////////////////////////////////////////
                            16399 ; 159  |//  USB ARC DATA LOW register (HW_USBARCDATALOW) Bit Definitions
                            16400 ; 160  |#define HW_USBARCDATALOW_DATA_SETMASK (0x00FFFF)
                            16401 ; 161  |
                            16402 ; 162  |#define HW_USBARCDATALOW_ADD_CLRMASK (~(WORD)HW_USBARCDATALOW_DATA_SETMASK)
                            16403 ; 163  |
                            16404 ; 164  |typedef union               
                            16405 ; 165  |{
                            16406 ; 166  |    struct {
                            16407 ; 167  |        int DATA           :16;
                            16408 ; 168  |        int                :8;
                            16409 ; 169  |    } B;
                            16410 ; 170  |    int I;
                            16411 ; 171  |} usbarcdatalow_type;
                            16412 ; 172  |#define HW_USBARCDATALOW      (*(volatile usbarcdatalow_type _X*) (HW_USB_BASEADDR+3))    
                                  
                            16413 ; 173  |
                            16414 ; 174  |/////////////////////////////////////////////////////////////////////////////////
                            16415 ; 175  |//  USB ARC DATA HIGH register (HW_USBARCDATAHIGH) Bit Definitions
                            16416 ; 176  |#define HW_USBARCDATAHIGH_DATA_SETMASK (0x00FFFF)
                            16417 ; 177  |
                            16418 ; 178  |#define HW_USBARCDATAHIGH_ADD_CLRMASK (~(WORD)HW_USBARCDATAHIGH_DATA_SETMASK)
                            16419 ; 179  |
                            16420 ; 180  |typedef union               
                            16421 ; 181  |{
                            16422 ; 182  |    struct {
                            16423 ; 183  |        int DATA           :16;
                            16424 ; 184  |        int                :8;
                            16425 ; 185  |    } B;
                            16426 ; 186  |    int I;
                            16427 ; 187  |} usbarcdatahigh_type;
                            16428 ; 188  |#define HW_USBARCDATAHIGH     (*(volatile usbarcdatahigh_type _X*) (HW_USB_BASEADDR+4))   
                                   
                            16429 ; 189  |
                            16430 ; 190  |
                            16431 ; 191  |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 276

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16432 ; 192  |//   USB2.0 ARC Registers 
                            16433 ; 193  |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16434 ; 194  |#define HW_ARC_BASE_ADDR (0x0000)
                            16435 ; 195  |
                            16436 ; 196  |#define HW_ARC_HCSPARAMS (HW_ARC_BASE_ADDR+0x104)
                            16437 ; 197  |#define HW_ARC_USBCMD (HW_ARC_BASE_ADDR+0x140)
                            16438 ; 198  |#define HW_ARC_USBSTS (HW_ARC_BASE_ADDR+0x144)
                            16439 ; 199  |#define HW_ARC_USBINTR (HW_ARC_BASE_ADDR+0x148)
                            16440 ; 200  |#define HW_ARC_DEVADDR (HW_ARC_BASE_ADDR+0x154)
                            16441 ; 201  |#define HW_ARC_ENDPTLISTADDR (HW_ARC_BASE_ADDR+0x158)
                            16442 ; 202  |#define HW_ARC_PORTSC1 (HW_ARC_BASE_ADDR+0x184)
                            16443 ; 203  |#define HW_ARC_USBMODE (HW_ARC_BASE_ADDR+0x1a8)
                            16444 ; 204  |#define HW_ARC_ENDPTSETUPSTAT (HW_ARC_BASE_ADDR+0x1ac)
                            16445 ; 205  |#define HW_ARC_ENDPTPRIME (HW_ARC_BASE_ADDR+0x1b0)
                            16446 ; 206  |#define HW_ARC_ENDPTFLUSH (HW_ARC_BASE_ADDR+0x1b4)
                            16447 ; 207  |#define HW_ARC_ENDPTSTATUS (HW_ARC_BASE_ADDR+0x1b8)
                            16448 ; 208  |#define HW_ARC_ENDPTCOMPLETE (HW_ARC_BASE_ADDR+0x1bc)
                            16449 ; 209  |#define HW_ARC_ENDPTCTRL0 (HW_ARC_BASE_ADDR+0x1c0)
                            16450 ; 210  |#define HW_ARC_ENDPTCTRL1 (HW_ARC_BASE_ADDR+0x1c4)
                            16451 ; 211  |#define HW_ARC_ENDPTCTRL2 (HW_ARC_BASE_ADDR+0x1c8)
                            16452 ; 212  |#define HW_ARC_ENDPTCTRL3 (HW_ARC_BASE_ADDR+0x1cc)
                            16453 ; 213  |#define HW_ARC_ENDPTCTRL4 (HW_ARC_BASE_ADDR+0x1d0)
                            16454 ; 214  |#define HW_ARC_ENDPTCTRL5 (HW_ARC_BASE_ADDR+0x1d4)
                            16455 ; 215  |#define HW_ARC_ENDPTCTRL6 (HW_ARC_BASE_ADDR+0x1d8)
                            16456 ; 216  |#define HW_ARC_ENDPTCTRL7 (HW_ARC_BASE_ADDR+0x1dc)
                            16457 ; 217  |#define HW_ARC_ENDPTCTRL8 (HW_ARC_BASE_ADDR+0x1e0)
                            16458 ; 218  |#define HW_ARC_ENDPTCTRL9 (HW_ARC_BASE_ADDR+0x1e4)
                            16459 ; 219  |#define HW_ARC_ENDPTCTRL10 (HW_ARC_BASE_ADDR+0x1e8)
                            16460 ; 220  |#define HW_ARC_ENDPTCTRL11 (HW_ARC_BASE_ADDR+0x1ec)
                            16461 ; 221  |#define HW_ARC_ENDPTCTRL12 (HW_ARC_BASE_ADDR+0x1f0)
                            16462 ; 222  |#define HW_ARC_ENDPTCTRL13 (HW_ARC_BASE_ADDR+0x1f4)
                            16463 ; 223  |#define HW_ARC_ENDPTCTRL14 (HW_ARC_BASE_ADDR+0x1f8)
                            16464 ; 224  |#define HW_ARC_ENDPTCTRL15 (HW_ARC_BASE_ADDR+0x1fc)
                            16465 ; 225  |
                            16466 ; 226  |#define HW_ARC_ENDPTCTRL(n) (HW_ARC_ENDPTCTRL0+((n)*4))    
                            16467 ; 227  |/////////////////////////////////////////////////////////////////////////////////
                            16468 ; 228  |//  USB ARC Register Host Control Structural Parameters (HW_ARC_HCSPARAMS)
                            16469 ; 229  |
                            16470 ; 230  |#define HW_ARC_HCSPARAMS_NPORTS_BITPOS (0)
                            16471 ; 231  |#define HW_ARC_HCSPARAMS_PPC_BITPOS (4)
                            16472 ; 232  |#define HW_ARC_HCSPARAMS_NPCC_BITPOS (8)
                            16473 ; 233  |#define HW_ARC_HCSPARAMS_NCC_BITPOS (12)
                            16474 ; 234  |#define HW_ARC_HCSPARAMS_PI_BITPOS (16)
                            16475 ; 235  |#define HW_ARC_HCSPARAMS_NPTT_BITPOS (20)
                            16476 ; 236  |#define HW_ARC_HCSPARAMS_NTT_BITPOS (24)
                            16477 ; 237  |
                            16478 ; 238  |#define HW_ARC_HCSPARAMS_NPORTS_SETMASK (15<<HW_ARC_HCSPARAMS_NPORTS_BITPOS)
                            16479 ; 239  |#define HW_ARC_HCSPARAMS_PPC_SETMASK (1<<HW_ARC_HCSPARAMS_PPC_BITPOS)        
                            16480 ; 240  |#define HW_ARC_HCSPARAMS_NPCC_SETMASK (15<<HW_ARC_HCSPARAMS_NPCC_BITPOS)  
                            16481 ; 241  |#define HW_ARC_HCSPARAMS_NCC_SETMASK (15<<HW_ARC_HCSPARAMS_NCC_BITPOS)       
                            16482 ; 242  |#define HW_ARC_HCSPARAMS_PI_SETMASK (1<<HW_ARC_HCSPARAMS_PI_BITPOS)     
                            16483 ; 243  |#define HW_ARC_HCSPARAMS_NPTT_SETMASK (15<<HW_ARC_HCSPARAMS_NPTT_BITPOS)  
                            16484 ; 244  |#define HW_ARC_HCSPARAMS_NTT_SETMASK (15<<HW_ARC_HCSPARAMS_NTT_BITPOS)       
                            16485 ; 245  |
                            16486 ; 246  |#define HW_ARC_HCSPARAMS_NPORTS_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPORTS_SETMASK)
                            16487 ; 247  |#define HW_ARC_HCSPARAMS_PPC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_PPC_SETMASK)
                            16488 ; 248  |#define HW_ARC_HCSPARAMS_NPCC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPCC_SETMASK)
                            16489 ; 249  |#define HW_ARC_HCSPARAMS_NCC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NCC_SETMASK)
                            16490 ; 250  |#define HW_ARC_HCSPARAMS_PI_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_PI_SETMASK)  
                            16491 ; 251  |#define HW_ARC_HCSPARAMS_NPTT_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPTT_SETMASK)
                            16492 ; 252  |#define HW_ARC_HCSPARAMS_NTT_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NTT_SETMASK)
                            16493 ; 253  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 277

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16494 ; 254  |typedef union               
                            16495 ; 255  |{
                            16496 ; 256  |    struct {
                            16497 ; 257  |        int N_PORTS         :4;
                            16498 ; 258  |        int PPC             :1;
                            16499 ; 259  |        int                 :3;
                            16500 ; 260  |        int N_PCC           :4;
                            16501 ; 261  |        int N_CC            :4;
                            16502 ; 262  |        int PI              :1;
                            16503 ; 263  |        int                 :3;
                            16504 ; 264  |        int N_PTT           :4;
                            16505 ; 265  |        int N_TT            :4;
                            16506 ; 266  |        int                 :20;
                            16507 ; 267  |    } B;
                            16508 ; 268  |    DWORD I;
                            16509 ; 269  |} hcsparams_type;
                            16510 ; 270  |// #define HW_ARC_HCSPARAMS (*(volatile hcsparams_type _X*) (HW_ARC_BASEADDR))    
                            16511 ; 271  |
                            16512 ; 272  |/////////////////////////////////////////////////////////////////////////////////
                            16513 ; 273  |//  USB ARC Register USB Command (HW_ARC_USBCMD)
                            16514 ; 274  |
                            16515 ; 275  |#define HW_ARC_USBCMD_RS_BITPOS (0)
                            16516 ; 276  |#define HW_ARC_USBCMD_RST_BITPOS (1)
                            16517 ; 277  |#define HW_ARC_USBCMD_FS0_BITPOS (2)
                            16518 ; 278  |#define HW_ARC_USBCMD_FS1_BITPOS (3)
                            16519 ; 279  |#define HW_ARC_USBCMD_PSE_BITPOS (4)
                            16520 ; 280  |#define HW_ARC_USBCMD_ASE_BITPOS (5)
                            16521 ; 281  |#define HW_ARC_USBCMD_IAA_BITPOS (6)
                            16522 ; 282  |#define HW_ARC_USBCMD_LR_BITPOS (7)
                            16523 ; 283  |#define HW_ARC_USBCMD_ASP0_BITPOS (8)
                            16524 ; 284  |#define HW_ARC_USBCMD_ASP1_BITPOS (9)
                            16525 ; 285  |#define HW_ARC_USBCMD_ASPE_BITPOS (11)
                            16526 ; 286  |#define HW_ARC_USBCMD_FS2_BITPOS (15)
                            16527 ; 287  |#define HW_ARC_USBCMD_ITC_BITPOS (16)
                            16528 ; 288  |
                            16529 ; 289  |#define HW_ARC_USBCMD_RS_SETMASK (1<<HW_ARC_USBCMD_RS_BITPOS)                
                            16530 ; 290  |#define HW_ARC_USBCMD_RST_SETMASK (1<<HW_ARC_USBCMD_RST_BITPOS)   
                            16531 ; 291  |#define HW_ARC_USBCMD_FS0_SETMASK (1<<HW_ARC_USBCMD_FS0_BITPOS)   
                            16532 ; 292  |#define HW_ARC_USBCMD_FS1_SETMASK (1<<HW_ARC_USBCMD_FS1_BITPOS)   
                            16533 ; 293  |#define HW_ARC_USBCMD_PSE_SETMASK (1<<HW_ARC_USBCMD_PSE_BITPOS)   
                            16534 ; 294  |#define HW_ARC_USBCMD_ASE_SETMASK (1<<HW_ARC_USBCMD_ASE_BITPOS)   
                            16535 ; 295  |#define HW_ARC_USBCMD_IAA_SETMASK (1<<HW_ARC_USBCMD_IAA_BITPOS)   
                            16536 ; 296  |#define HW_ARC_USBCMD_LR_SETMASK (1<<HW_ARC_USBCMD_LR_BITPOS)        
                            16537 ; 297  |#define HW_ARC_USBCMD_ASP0_SETMASK (1<<HW_ARC_USBCMD_ASP0_BITPOS)
                            16538 ; 298  |#define HW_ARC_USBCMD_ASP1_SETMASK (1<<HW_ARC_USBCMD_ASP1_BITPOS)
                            16539 ; 299  |#define HW_ARC_USBCMD_ASPE_SETMASK (1<<HW_ARC_USBCMD_ASPE_BITPOS)
                            16540 ; 300  |#define HW_ARC_USBCMD_FS2_SETMASK (1<<HW_ARC_USBCMD_FS2_BITPOS)    
                            16541 ; 301  |#define HW_ARC_USBCMD_ITC_SETMASK (255<<HW_ARC_USBCMD_ITC_BITPOS)
                            16542 ; 302  |
                            16543 ; 303  |#define HW_ARC_USBCMD_RS_CLRMASK (~(WORD)HW_ARC_USBCMD_RS_SETMASK)     
                            16544 ; 304  |#define HW_ARC_USBCMD_RST_CLRMASK (~(WORD)HW_ARC_USBCMD_RST_SETMASK)    
                            16545 ; 305  |#define HW_ARC_USBCMD_FS0_CLRMASK (~(WORD)HW_ARC_USBCMD_FS0_SETMASK)    
                            16546 ; 306  |#define HW_ARC_USBCMD_FS1_CLRMASK (~(WORD)HW_ARC_USBCMD_FS1_SETMASK)    
                            16547 ; 307  |#define HW_ARC_USBCMD_PSE_CLRMASK (~(WORD)HW_ARC_USBCMD_PSE_SETMASK)    
                            16548 ; 308  |#define HW_ARC_USBCMD_ASE_CLRMASK (~(WORD)HW_ARC_USBCMD_ASE_SETMASK)    
                            16549 ; 309  |#define HW_ARC_USBCMD_IAA_CLRMASK (~(WORD)HW_ARC_USBCMD_IAA_SETMASK)    
                            16550 ; 310  |#define HW_ARC_USBCMD_LR_CLRMASK (~(WORD)HW_ARC_USBCMD_LR_SETMASK) 
                            16551 ; 311  |#define HW_ARC_USBCMD_ASP0_CLRMASK (~(WORD)HW_ARC_USBCMD_ASP0_SETMASK)
                            16552 ; 312  |#define HW_ARC_USBCMD_ASP1_CLRMASK (~(WORD)HW_ARC_USBCMD_ASP1_SETMASK)
                            16553 ; 313  |#define HW_ARC_USBCMD_ASPE_CLRMASK (~(WORD)HW_ARC_USBCMD_ASPE_SETMASK)
                            16554 ; 314  |#define HW_ARC_USBCMD_FS2_CLRMASK (~(WORD)HW_ARC_USBCMD_FS2_SETMASK)    
                            16555 ; 315  |#define HW_ARC_USBCMD_ITC_CLRMASK (~(WORD)HW_ARC_USBCMD_ITC_SETMASK)    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 278

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16556 ; 316  |
                            16557 ; 317  |typedef union               
                            16558 ; 318  |{
                            16559 ; 319  |    struct {
                            16560 ; 320  |        int RS              :1;
                            16561 ; 321  |        int RST             :1;
                            16562 ; 322  |        int FS0             :1;
                            16563 ; 323  |        int FS1             :1;
                            16564 ; 324  |        int PSE             :1;
                            16565 ; 325  |        int ASE             :1;
                            16566 ; 326  |        int IAA             :1;
                            16567 ; 327  |        int LR              :1;
                            16568 ; 328  |        int ASP0            :1;
                            16569 ; 329  |        int ASP1            :1;
                            16570 ; 330  |        int                 :1;
                            16571 ; 331  |        int ASPE            :1;
                            16572 ; 332  |        int                 :3;
                            16573 ; 333  |        int FS2             :1;
                            16574 ; 334  |        int ITC             :8;
                            16575 ; 335  |        int                 :24;
                            16576 ; 336  |    } B;
                            16577 ; 337  |    DWORD I;
                            16578 ; 338  |} usbcmd_type;
                            16579 ; 339  |//#define HW_ARC_USBCMD ((volatile usbcmd_type _X*) (HW_ARC_BASEADDR+0x140))    
                            16580 ; 340  |
                            16581 ; 341  |/////////////////////////////////////////////////////////////////////////////////
                            16582 ; 342  |//  USB ARC Register USB Status (HW_ARC_USBSTS)
                            16583 ; 343  |
                            16584 ; 344  |#define HW_ARC_USBSTS_UI_BITPOS (0)
                            16585 ; 345  |#define HW_ARC_USBSTS_UEI_BITPOS (1)
                            16586 ; 346  |#define HW_ARC_USBSTS_PCI_BITPOS (2)
                            16587 ; 347  |#define HW_ARC_USBSTS_FRI_BITPOS (3)
                            16588 ; 348  |#define HW_ARC_USBSTS_SEI_BITPOS (4)
                            16589 ; 349  |#define HW_ARC_USBSTS_AAI_BITPOS (5)
                            16590 ; 350  |#define HW_ARC_USBSTS_URI_BITPOS (6)
                            16591 ; 351  |#define HW_ARC_USBSTS_SRI_BITPOS (7)
                            16592 ; 352  |#define HW_ARC_USBSTS_SLI_BITPOS (8)
                            16593 ; 353  |#define HW_ARC_USBSTS_HCH_BITPOS (12)
                            16594 ; 354  |#define HW_ARC_USBSTS_RCL_BITPOS (13)
                            16595 ; 355  |#define HW_ARC_USBSTS_PS_BITPOS (14)
                            16596 ; 356  |#define HW_ARC_USBSTS_AS_BITPOS (15)
                            16597 ; 357  |
                            16598 ; 358  |#define HW_ARC_USBSTS_UI_SETMASK (1<<HW_ARC_USBSTS_UI_BITPOS)    
                            16599 ; 359  |#define HW_ARC_USBSTS_UEI_SETMASK (1<<HW_ARC_USBSTS_UEI_BITPOS)
                            16600 ; 360  |#define HW_ARC_USBSTS_PCI_SETMASK (1<<HW_ARC_USBSTS_PCI_BITPOS)
                            16601 ; 361  |#define HW_ARC_USBSTS_FRI_SETMASK (1<<HW_ARC_USBSTS_FRI_BITPOS)
                            16602 ; 362  |#define HW_ARC_USBSTS_SEI_SETMASK (1<<HW_ARC_USBSTS_SEI_BITPOS)
                            16603 ; 363  |#define HW_ARC_USBSTS_AAI_SETMASK (1<<HW_ARC_USBSTS_AAI_BITPOS)
                            16604 ; 364  |#define HW_ARC_USBSTS_URI_SETMASK (1<<HW_ARC_USBSTS_URI_BITPOS)
                            16605 ; 365  |#define HW_ARC_USBSTS_SRI_SETMASK (1<<HW_ARC_USBSTS_SRI_BITPOS)
                            16606 ; 366  |#define HW_ARC_USBSTS_SLI_SETMASK (1<<HW_ARC_USBSTS_SLI_BITPOS)
                            16607 ; 367  |#define HW_ARC_USBSTS_HCH_SETMASK (1<<HW_ARC_USBSTS_HCH_BITPOS)
                            16608 ; 368  |#define HW_ARC_USBSTS_RCL_SETMASK (1<<HW_ARC_USBSTS_RCL_BITPOS)
                            16609 ; 369  |#define HW_ARC_USBSTS_PS_SETMASK (1<<HW_ARC_USBSTS_PS_BITPOS)    
                            16610 ; 370  |#define HW_ARC_USBSTS_AS_SETMASK (1<<HW_ARC_USBSTS_AS_BITPOS)    
                            16611 ; 371  |
                            16612 ; 372  |#define HW_ARC_USBSTS_UI_CLRMASK (~(WORD)HW_ARC_USBSTS_UI_SETMASK)
                            16613 ; 373  |#define HW_ARC_USBSTS_UEI_CLRMASK (~(WORD)HW_ARC_USBSTS_UEI_SETMASK)
                            16614 ; 374  |#define HW_ARC_USBSTS_PCI_CLRMASK (~(WORD)HW_ARC_USBSTS_PCI_SETMASK)
                            16615 ; 375  |#define HW_ARC_USBSTS_FRI_CLRMASK (~(WORD)HW_ARC_USBSTS_FRI_SETMASK)
                            16616 ; 376  |#define HW_ARC_USBSTS_SEI_CLRMASK (~(WORD)HW_ARC_USBSTS_SEI_SETMASK)
                            16617 ; 377  |#define HW_ARC_USBSTS_AAI_CLRMASK (~(WORD)HW_ARC_USBSTS_AAI_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 279

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16618 ; 378  |#define HW_ARC_USBSTS_URI_CLRMASK (~(WORD)HW_ARC_USBSTS_URI_SETMASK)
                            16619 ; 379  |#define HW_ARC_USBSTS_SRI_CLRMASK (~(WORD)HW_ARC_USBSTS_SRI_SETMASK)
                            16620 ; 380  |#define HW_ARC_USBSTS_SLI_CLRMASK (~(WORD)HW_ARC_USBSTS_SLI_SETMASK)
                            16621 ; 381  |#define HW_ARC_USBSTS_HCH_CLRMASK (~(WORD)HW_ARC_USBSTS_HCH_SETMASK)
                            16622 ; 382  |#define HW_ARC_USBSTS_RCL_CLRMASK (~(WORD)HW_ARC_USBSTS_RCL_SETMASK)
                            16623 ; 383  |#define HW_ARC_USBSTS_PS_CLRMASK (~(WORD)HW_ARC_USBSTS_PS_SETMASK)
                            16624 ; 384  |#define HW_ARC_USBSTS_AS_CLRMASK (~(WORD)HW_ARC_USBSTS_AS_SETMASK)
                            16625 ; 385  |
                            16626 ; 386  |
                            16627 ; 387  |typedef union               
                            16628 ; 388  |{
                            16629 ; 389  |    struct {
                            16630 ; 390  |        int UI              :1;
                            16631 ; 391  |        int UEI             :1;
                            16632 ; 392  |        int PCI             :1;
                            16633 ; 393  |        int FRI             :1;
                            16634 ; 394  |        int SEI             :1;
                            16635 ; 395  |        int AAI             :1;
                            16636 ; 396  |        int URI             :1;
                            16637 ; 397  |        int STI             :1;
                            16638 ; 398  |        int SLI             :1;
                            16639 ; 399  |        int                 :3;
                            16640 ; 400  |        int HCH             :1;
                            16641 ; 401  |        int RCL             :1;
                            16642 ; 402  |        int PS              :1;
                            16643 ; 403  |        int AS              :1;
                            16644 ; 404  |        int                 :24;
                            16645 ; 405  |    } B;
                            16646 ; 406  |    DWORD I;
                            16647 ; 407  |} usbsts_type;
                            16648 ; 408  |//#define HW_ARC_USBSTS (*(volatile usbsts_type _X*) (HW_ARC_BASEADDR+0x144))    
                            16649 ; 409  |
                            16650 ; 410  |/////////////////////////////////////////////////////////////////////////////////
                            16651 ; 411  |//  USB ARC Register USB Interrupt Enable (HW_ARC_USBINTR)
                            16652 ; 412  |
                            16653 ; 413  |#define HW_ARC_USBINTR_UE_BITPOS (0)
                            16654 ; 414  |#define HW_ARC_USBINTR_UEE_BITPOS (1)
                            16655 ; 415  |#define HW_ARC_USBINTR_PCE_BITPOS (2)
                            16656 ; 416  |#define HW_ARC_USBINTR_FRE_BITPOS (3)
                            16657 ; 417  |#define HW_ARC_USBINTR_SEE_BITPOS (4)
                            16658 ; 418  |#define HW_ARC_USBINTR_AAE_BITPOS (5)
                            16659 ; 419  |#define HW_ARC_USBINTR_URE_BITPOS (6)
                            16660 ; 420  |#define HW_ARC_USBINTR_SRE_BITPOS (7)
                            16661 ; 421  |#define HW_ARC_USBINTR_SLE_BITPOS (8)
                            16662 ; 422  |
                            16663 ; 423  |#define HW_ARC_USBINTR_UE_SETMASK (1<<HW_ARC_USBINTR_UE_BITPOS)   
                            16664 ; 424  |#define HW_ARC_USBINTR_UEE_SETMASK (1<<HW_ARC_USBINTR_UEE_BITPOS)
                            16665 ; 425  |#define HW_ARC_USBINTR_PCE_SETMASK (1<<HW_ARC_USBINTR_PCE_BITPOS)
                            16666 ; 426  |#define HW_ARC_USBINTR_FRE_SETMASK (1<<HW_ARC_USBINTR_FRE_BITPOS)
                            16667 ; 427  |#define HW_ARC_USBINTR_SEE_SETMASK (1<<HW_ARC_USBINTR_SEE_BITPOS)
                            16668 ; 428  |#define HW_ARC_USBINTR_AAE_SETMASK (1<<HW_ARC_USBINTR_AAE_BITPOS)
                            16669 ; 429  |#define HW_ARC_USBINTR_URE_SETMASK (1<<HW_ARC_USBINTR_URE_BITPOS)
                            16670 ; 430  |#define HW_ARC_USBINTR_SRE_SETMASK (1<<HW_ARC_USBINTR_SRE_BITPOS)
                            16671 ; 431  |#define HW_ARC_USBINTR_SLE_SETMASK (1<<HW_ARC_USBINTR_SLE_BITPOS)
                            16672 ; 432  |
                            16673 ; 433  |#define HW_ARC_USBINTR_UE_CLRMASK (~(WORD)HW_ARC_USBINTR_UE_SETMASK)
                            16674 ; 434  |#define HW_ARC_USBINTR_UEE_CLRMASK (~(WORD)HW_ARC_USBINTR_UEE_SETMASK)
                            16675 ; 435  |#define HW_ARC_USBINTR_PCE_CLRMASK (~(WORD)HW_ARC_USBINTR_PCE_SETMASK)
                            16676 ; 436  |#define HW_ARC_USBINTR_FRE_CLRMASK (~(WORD)HW_ARC_USBINTR_FRE_SETMASK)
                            16677 ; 437  |#define HW_ARC_USBINTR_SEE_CLRMASK (~(WORD)HW_ARC_USBINTR_SEE_SETMASK)
                            16678 ; 438  |#define HW_ARC_USBINTR_AAE_CLRMASK (~(WORD)HW_ARC_USBINTR_AAE_SETMASK)
                            16679 ; 439  |#define HW_ARC_USBINTR_URE_CLRMASK (~(WORD)HW_ARC_USBINTR_URE_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 280

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16680 ; 440  |#define HW_ARC_USBINTR_SRE_CLRMASK (~(WORD)HW_ARC_USBINTR_SRE_SETMASK)
                            16681 ; 441  |#define HW_ARC_USBINTR_SLE_CLRMASK (~(WORD)HW_ARC_USBINTR_SLE_SETMASK)
                            16682 ; 442  |
                            16683 ; 443  |
                            16684 ; 444  |typedef union               
                            16685 ; 445  |{
                            16686 ; 446  |    struct {
                            16687 ; 447  |        int UE              :1;
                            16688 ; 448  |        int UEE             :1;
                            16689 ; 449  |        int PCE             :1;
                            16690 ; 450  |        int FRE             :1;
                            16691 ; 451  |        int SEE             :1;
                            16692 ; 452  |        int AAE             :1;
                            16693 ; 453  |        int URE             :1;
                            16694 ; 454  |        int STE             :1;
                            16695 ; 455  |        int SLE             :1;
                            16696 ; 456  |        int                 :39;
                            16697 ; 457  |    } B;
                            16698 ; 458  |    DWORD I;
                            16699 ; 459  |} usbintr_type;
                            16700 ; 460  |//#define HW_ARC_USBINTR (*(volatile usbintr_type _X*) (HW_ARC_BASEADDR+0x148))    
                            16701 ; 461  |
                            16702 ; 462  |
                            16703 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            16704 ; 464  |//  USB ARC Register USB Device Controller Device Address (HW_ARC_DEVADDR)
                            16705 ; 465  |
                            16706 ; 466  |#define HW_ARC_DEVADDR_ADD_BITPOS (25)
                            16707 ; 467  |
                            16708 ; 468  |#define HW_ARC_DEVADDR_ADD_SETMASK (127<<HW_ARC_DEVADDR_ADD_BITPOS)    
                            16709 ; 469  |
                            16710 ; 470  |#define HW_ARC_DEVEADDR_ADD_CLRMASK (~(WORD)HW_ARC_DEVADDR_ADD_SETMASK)   
                            16711 ; 471  |
                            16712 ; 472  |typedef union               
                            16713 ; 473  |{
                            16714 ; 474  |    struct {
                            16715 ; 475  |        int                 :25;
                            16716 ; 476  |        int ADD             :7;
                            16717 ; 477  |        int                 :16;
                            16718 ; 478  |    } B;
                            16719 ; 479  |    DWORD I;
                            16720 ; 480  |} devaddr_type;
                            16721 ; 481  |//#define HW_ARC_DEVADDR (*(volatile devaddr_type _X*) (HW_ARC_BASEADDR+0x154))    
                            16722 ; 482  |
                            16723 ; 483  |
                            16724 ; 484  |/////////////////////////////////////////////////////////////////////////////////
                            16725 ; 485  |//  USB ARC Register USB Device Controller Endpoint List Address (HW_ARC_ENDPTLISTADDR)
                            16726 ; 486  |
                            16727 ; 487  |#define HW_ARC_ENDPTLISTADDR_ADD_BITPOS (11)
                            16728 ; 488  |
                            16729 ; 489  |#define HW_ARC_ENDPTLISTADDR_ADD_SETMASK (0x400000<<HW_ARC_ENDPTLISTADDR_ADD_BITPOS) 
                            16730 ; 490  |
                            16731 ; 491  |#define HW_ARC_ENDPTLISTADDR_ADD_CLRMASK (~(WORD)HW_ARC_ENDPTLISTADDR_ADD_SETMASK) 
                            16732 ; 492  |
                            16733 ; 493  |typedef union               
                            16734 ; 494  |{
                            16735 ; 495  |    struct {
                            16736 ; 496  |        int                 :10;
                            16737 ; 497  |        int ADD             :22;
                            16738 ; 498  |        int                 :16;
                            16739 ; 499  |    } B;
                            16740 ; 500  |    DWORD I;
                            16741 ; 501  |} endptlistaddr_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 281

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16742 ; 502  |//#define HW_ARC_ENDPTLISTADDR (*(volatile endptlistaddr_type _X*) (HW_ARC_BASEADDR+0x158)
                                  )    
                            16743 ; 503  |
                            16744 ; 504  |
                            16745 ; 505  |/////////////////////////////////////////////////////////////////////////////////
                            16746 ; 506  |//  USB ARC Register USB Port Status Control 1 (HW_ARC_PORTSC1)
                            16747 ; 507  |
                            16748 ; 508  |#define HW_ARC_PORTSC1_CCS_BITPOS (0)
                            16749 ; 509  |#define HW_ARC_PORTSC1_CSC_BITPOS (1)
                            16750 ; 510  |#define HW_ARC_PORTSC1_PE_BITPOS (2)
                            16751 ; 511  |#define HW_ARC_PORTSC1_PEC_BITPOS (3)
                            16752 ; 512  |#define HW_ARC_PORTSC1_OCA_BITPOS (4)
                            16753 ; 513  |#define HW_ARC_PORTSC1_OCC_BITPOS (5)
                            16754 ; 514  |#define HW_ARC_PORTSC1_FPR_BITPOS (6)
                            16755 ; 515  |#define HW_ARC_PORTSC1_SUSP_BITPOS (7)
                            16756 ; 516  |#define HW_ARC_PORTSC1_PR_BITPOS (8)
                            16757 ; 517  |#define HW_ARC_PORTSC1_HSP_BITPOS (9)
                            16758 ; 518  |#define HW_ARC_PORTSC1_LS_BITPOS (10)
                            16759 ; 519  |#define HW_ARC_PORTSC1_PP_BITPOS (12)
                            16760 ; 520  |#define HW_ARC_PORTSC1_PO_BITPOS (13)
                            16761 ; 521  |#define HW_ARC_PORTSC1_PIC_BITPOS (14)
                            16762 ; 522  |#define HW_ARC_PORTSC1_PTC_BITPOS (16)
                            16763 ; 523  |#define HW_ARC_PORTSC1_WKCN_BITPOS (20)
                            16764 ; 524  |#define HW_ARC_PORTSC1_WKDS_BITPOS (21)
                            16765 ; 525  |#define HW_ARC_PORTSC1_WKOC_BITPOS (22)
                            16766 ; 526  |#define HW_ARC_PORTSC1_PHCD_BITPOS (23)
                            16767 ; 527  |#define HW_ARC_PORTSC1_PFSC_BITPOS (24)
                            16768 ; 528  |#define HW_ARC_PORTSC1_PSPD_BITPOS (26)
                            16769 ; 529  |#define HW_ARC_PORTSC1_PTW_BITPOS (29)
                            16770 ; 530  |#define HW_ARC_PORTSC1_STS_BITPOS (30)
                            16771 ; 531  |#define HW_ARC_PORTSC1_PTS_BITPOS (31)
                            16772 ; 532  |
                            16773 ; 533  |#define HW_ARC_PORTSC1_CCS_SETMASK (1<<HW_ARC_PORTSC1_CCS_BITPOS)  
                            16774 ; 534  |#define HW_ARC_PORTSC1_CSC_SETMASK (1<<HW_ARC_PORTSC1_CSC_BITPOS)  
                            16775 ; 535  |#define HW_ARC_PORTSC1_PE_SETMASK (1<<HW_ARC_PORTSC1_PE_BITPOS)   
                            16776 ; 536  |#define HW_ARC_PORTSC1_PEC_SETMASK (1<<HW_ARC_PORTSC1_PEC_BITPOS)  
                            16777 ; 537  |#define HW_ARC_PORTSC1_OCA_SETMASK (1<<HW_ARC_PORTSC1_OCA_BITPOS)  
                            16778 ; 538  |#define HW_ARC_PORTSC1_OCC_SETMASK (1<<HW_ARC_PORTSC1_OCC_BITPOS)  
                            16779 ; 539  |#define HW_ARC_PORTSC1_FPR_SETMASK (1<<HW_ARC_PORTSC1_FPR_BITPOS)  
                            16780 ; 540  |#define HW_ARC_PORTSC1_SUSP_SETMASK (1<<HW_ARC_PORTSC1_SUSP_BITPOS)
                            16781 ; 541  |#define HW_ARC_PORTSC1_PR_SETMASK (1<<HW_ARC_PORTSC1_PR_BITPOS)   
                            16782 ; 542  |#define HW_ARC_PORTSC1_HSP_SETMASK (1<<HW_ARC_PORTSC1_HSP_BITPOS)  
                            16783 ; 543  |#define HW_ARC_PORTSC1_LS_SETMASK (3<<HW_ARC_PORTSC1_LS_BITPOS)   
                            16784 ; 544  |#define HW_ARC_PORTSC1_PP_SETMASK (1<<HW_ARC_PORTSC1_PP_BITPOS)   
                            16785 ; 545  |#define HW_ARC_PORTSC1_PO_SETMASK (1<<HW_ARC_PORTSC1_PO_BITPOS)   
                            16786 ; 546  |#define HW_ARC_PORTSC1_PIC_SETMASK (3<<HW_ARC_PORTSC1_PIC_BITPOS)  
                            16787 ; 547  |#define HW_ARC_PORTSC1_PTC_SETMASK (15<<HW_ARC_PORTSC1_PTC_BITPOS) 
                            16788 ; 548  |#define HW_ARC_PORTSC1_WKCN_SETMASK (1<<HW_ARC_PORTSC1_WKCN_BITPOS)
                            16789 ; 549  |#define HW_ARC_PORTSC1_WKDS_SETMASK (1<<HW_ARC_PORTSC1_WKDS_BITPOS)
                            16790 ; 550  |#define HW_ARC_PORTSC1_WKOC_SETMASK (1<<HW_ARC_PORTSC1_WKOC_BITPOS)
                            16791 ; 551  |#define HW_ARC_PORTSC1_PHCD_SETMASK (1<<HW_ARC_PORTSC1_PHCD_BITPOS)
                            16792 ; 552  |
                            16793 ; 553  |// We need to equate the following label like this due to a sign extension problem
                            16794 ; 554  |// if equated like so (1<<HW_ARC_PORTSC1_PFSC_SETMASK)
                            16795 ; 555  |#define HW_ARC_PORTSC1_PFSC_SETMASK (0x01000000)
                            16796 ; 556  |
                            16797 ; 557  |#define HW_ARC_PORTSC1_PSPD_SETMASK (3<<HW_ARC_PORTSC1_PSPD_BITPOS)
                            16798 ; 558  |#define HW_ARC_PORTSC1_PTW_SETMASK (1<<HW_ARC_PORTSC1_PTW_BITPOS)  
                            16799 ; 559  |#define HW_ARC_PORTSC1_STS_SETMASK (1<<HW_ARC_PORTSC1_STS_BITPOS)  
                            16800 ; 560  |#define HW_ARC_PORTSC1_PTS_SETMASK (1<<HW_ARC_PORTSC1_PTS_BITPOS)  
                            16801 ; 561  |
                            16802 ; 562  |#define HW_ARC_PORTSC1_CCS_CLRMASK (~(WORD)HW_ARC_PORTSC1_CCS_SETMASK)   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 282

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16803 ; 563  |#define HW_ARC_PORTSC1_CSC_CLRMASK (~(WORD)HW_ARC_PORTSC1_CSC_SETMASK)   
                            16804 ; 564  |#define HW_ARC_PORTSC1_PE_CLRMASK (~(WORD)HW_ARC_PORTSC1_PE_SETMASK)    
                            16805 ; 565  |#define HW_ARC_PORTSC1_PEC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PEC_SETMASK)   
                            16806 ; 566  |#define HW_ARC_PORTSC1_OCA_CLRMASK (~(WORD)HW_ARC_PORTSC1_OCA_SETMASK)   
                            16807 ; 567  |#define HW_ARC_PORTSC1_OCC_CLRMASK (~(WORD)HW_ARC_PORTSC1_OCC_SETMASK)   
                            16808 ; 568  |#define HW_ARC_PORTSC1_FPR_CLRMASK (~(WORD)HW_ARC_PORTSC1_FPR_SETMASK)   
                            16809 ; 569  |#define HW_ARC_PORTSC1_SUSP_CLRMASK (~(WORD)HW_ARC_PORTSC1_SUSP_SETMASK)
                            16810 ; 570  |#define HW_ARC_PORTSC1_PR_CLRMASK (~(WORD)HW_ARC_PORTSC1_PR_SETMASK)    
                            16811 ; 571  |#define HW_ARC_PORTSC1_HSP_CLRMASK (~(WORD)HW_ARC_PORTSC1_HSP_SETMASK)   
                            16812 ; 572  |#define HW_ARC_PORTSC1_LS_CLRMASK (~(WORD)HW_ARC_PORTSC1_LS_SETMASK)    
                            16813 ; 573  |#define HW_ARC_PORTSC1_PP_CLRMASK (~(WORD)HW_ARC_PORTSC1_PP_SETMASK)    
                            16814 ; 574  |#define HW_ARC_PORTSC1_PO_CLRMASK (~(WORD)HW_ARC_PORTSC1_PO_SETMASK)    
                            16815 ; 575  |#define HW_ARC_PORTSC1_PIC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PIC_SETMASK)   
                            16816 ; 576  |#define HW_ARC_PORTSC1_PTC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTC_SETMASK)   
                            16817 ; 577  |#define HW_ARC_PORTSC1_WKCN_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKCN_SETMASK)
                            16818 ; 578  |#define HW_ARC_PORTSC1_WKDS_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKDS_SETMASK)
                            16819 ; 579  |#define HW_ARC_PORTSC1_WKOC_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKOC_SETMASK)
                            16820 ; 580  |#define HW_ARC_PORTSC1_PHCD_CLRMASK (~(WORD)HW_ARC_PORTSC1_PHCD_SETMASK)
                            16821 ; 581  |#define HW_ARC_PORTSC1_PFSC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PFSC_SETMASK)
                            16822 ; 582  |#define HW_ARC_PORTSC1_PSPD_CLRMASK (~(WORD)HW_ARC_PORTSC1_PSPD_SETMASK)
                            16823 ; 583  |#define HW_ARC_PORTSC1_PTW_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTW_SETMASK)   
                            16824 ; 584  |#define HW_ARC_PORTSC1_STS_CLRMASK (~(WORD)HW_ARC_PORTSC1_STS_SETMASK)   
                            16825 ; 585  |#define HW_ARC_PORTSC1_PTS_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTS_SETMASK)   
                            16826 ; 586  |
                            16827 ; 587  |typedef union               
                            16828 ; 588  |{
                            16829 ; 589  |    struct {
                            16830 ; 590  |        int CCS             :1;
                            16831 ; 591  |        int CSC             :1;
                            16832 ; 592  |        int PE              :1;
                            16833 ; 593  |        int PEC             :1;
                            16834 ; 594  |        int OCA             :1;
                            16835 ; 595  |        int OCC             :1;
                            16836 ; 596  |        int FPR             :1;
                            16837 ; 597  |        int SUSP            :1;
                            16838 ; 598  |        int PR              :1;
                            16839 ; 599  |        int HSP             :1;
                            16840 ; 600  |        int LS              :2;
                            16841 ; 601  |        int PP              :1;
                            16842 ; 602  |        int PO              :1;
                            16843 ; 603  |        int PIC             :2;
                            16844 ; 604  |        int PTC             :4;
                            16845 ; 605  |        int WKCN            :1;
                            16846 ; 606  |        int WKDS            :1;
                            16847 ; 607  |        int WKOC            :1;
                            16848 ; 608  |        int PHCD            :1;
                            16849 ; 609  |        int PFSC            :1;
                            16850 ; 610  |        int                 :1;
                            16851 ; 611  |        int PSPD            :2;
                            16852 ; 612  |        int                 :1;
                            16853 ; 613  |        int PTW             :1;
                            16854 ; 614  |        int STS             :1;
                            16855 ; 615  |        int PTS             :1;
                            16856 ; 616  |        int                 :16;
                            16857 ; 617  |    } B;
                            16858 ; 618  |    DWORD I;
                            16859 ; 619  |} portsc1_type;
                            16860 ; 620  |//#define HW_ARC_PORTSC1 (*(volatile portsc1_type _X*) (HW_ARC_BASEADDR+0x184))    
                            16861 ; 621  |
                            16862 ; 622  |
                            16863 ; 623  |/////////////////////////////////////////////////////////////////////////////////
                            16864 ; 624  |//  USB ARC Register USB Device Mode (HW_ARC_USBMODE)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 283

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16865 ; 625  |
                            16866 ; 626  |#define HW_ARC_USBMODE_CM_BITPOS (0)
                            16867 ; 627  |#define HW_ARC_USBMODE_ES_BITPOS (2)
                            16868 ; 628  |
                            16869 ; 629  |#define HW_ARC_USBMODE_CM_SETMASK (3<<HW_ARC_USBMODE_CM_BITPOS)   
                            16870 ; 630  |#define HW_ARC_USBMODE_ES_SETMASK (1<<HW_ARC_USBMODE_ES_BITPOS)   
                            16871 ; 631  |
                            16872 ; 632  |#define HW_ARC_USBMODE_CM_CLRMASK (~(WORD)HW_ARC_USBMODE_CM_SETMASK) 
                            16873 ; 633  |#define HW_ARC_USBMODE_ES_CLRMASK (~(WORD)HW_ARC_USBMODE_ES_SETMASK)    
                            16874 ; 634  |
                            16875 ; 635  |typedef union               
                            16876 ; 636  |{
                            16877 ; 637  |    struct {
                            16878 ; 638  |        int CM              :2;
                            16879 ; 639  |        int ES              :1;
                            16880 ; 640  |        int                 :46;
                            16881 ; 641  |    } B;
                            16882 ; 642  |    DWORD I;
                            16883 ; 643  |} usbmode_type;
                            16884 ; 644  |//#define HW_ARC_USBMODE (*(volatile usbmode_type _X*) (HW_ARC_BASEADDR+0x1a8))    
                            16885 ; 645  |
                            16886 ; 646  |
                            16887 ; 647  |/////////////////////////////////////////////////////////////////////////////////
                            16888 ; 648  |//  The following endpoint equates are common for the following registers
                            16889 ; 649  |
                            16890 ; 650  |#define ENDPOINT0_BITPOS (0)
                            16891 ; 651  |#define ENDPOINT1_BITPOS (1)
                            16892 ; 652  |#define ENDPOINT2_BITPOS (2)
                            16893 ; 653  |#define ENDPOINT3_BITPOS (3)
                            16894 ; 654  |#define ENDPOINT4_BITPOS (4)
                            16895 ; 655  |#define ENDPOINT5_BITPOS (5)
                            16896 ; 656  |#define ENDPOINT6_BITPOS (6)
                            16897 ; 657  |#define ENDPOINT7_BITPOS (7)
                            16898 ; 658  |#define ENDPOINT8_BITPOS (8)
                            16899 ; 659  |#define ENDPOINT9_BITPOS (9)
                            16900 ; 660  |#define ENDPOINT10_BITPOS (10)
                            16901 ; 661  |#define ENDPOINT11_BITPOS (11)
                            16902 ; 662  |#define ENDPOINT12_BITPOS (12)
                            16903 ; 663  |#define ENDPOINT13_BITPOS (13)
                            16904 ; 664  |#define ENDPOINT14_BITPOS (14)
                            16905 ; 665  |#define ENDPOINT15_BITPOS (15)
                            16906 ; 666  |
                            16907 ; 667  |#define ENDPOINT0_SETMASK (1<<ENDPOINT0_BITPOS)
                            16908 ; 668  |#define ENDPOINT1_SETMASK (1<<ENDPOINT1_BITPOS)
                            16909 ; 669  |#define ENDPOINT2_SETMASK (1<<ENDPOINT2_BITPOS)
                            16910 ; 670  |#define ENDPOINT3_SETMASK (1<<ENDPOINT3_BITPOS)
                            16911 ; 671  |#define ENDPOINT4_SETMASK (1<<ENDPOINT4_BITPOS)
                            16912 ; 672  |#define ENDPOINT5_SETMASK (1<<ENDPOINT5_BITPOS)
                            16913 ; 673  |#define ENDPOINT6_SETMASK (1<<ENDPOINT6_BITPOS)
                            16914 ; 674  |#define ENDPOINT7_SETMASK (1<<ENDPOINT7_BITPOS)
                            16915 ; 675  |#define ENDPOINT8_SETMASK (1<<ENDPOINT8_BITPOS)
                            16916 ; 676  |#define ENDPOINT9_SETMASK (1<<ENDPOINT9_BITPOS)
                            16917 ; 677  |#define ENDPOINT10_SETMASK (1<<ENDPOINT10_BITPOS)
                            16918 ; 678  |#define ENDPOINT11_SETMASK (1<<ENDPOINT11_BITPOS)
                            16919 ; 679  |#define ENDPOINT12_SETMASK (1<<ENDPOINT12_BITPOS)
                            16920 ; 680  |#define ENDPOINT13_SETMASK (1<<ENDPOINT13_BITPOS)
                            16921 ; 681  |#define ENDPOINT14_SETMASK (1<<ENDPOINT14_BITPOS)
                            16922 ; 682  |#define ENDPOINT15_SETMASK (1<<ENDPOINT15_BITPOS)
                            16923 ; 683  |
                            16924 ; 684  |#define ENDPOINT0_CLRMASK (~(WORD)ENDPOINT0_SETMASK)    
                            16925 ; 685  |#define ENDPOINT1_CLRMASK (~(WORD)ENDPOINT1_SETMASK)    
                            16926 ; 686  |#define ENDPOINT2_CLRMASK (~(WORD)ENDPOINT2_SETMASK)    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 284

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16927 ; 687  |#define ENDPOINT3_CLRMASK (~(WORD)ENDPOINT3_SETMASK)    
                            16928 ; 688  |#define ENDPOINT4_CLRMASK (~(WORD)ENDPOINT4_SETMASK)    
                            16929 ; 689  |#define ENDPOINT5_CLRMASK (~(WORD)ENDPOINT5_SETMASK)    
                            16930 ; 690  |#define ENDPOINT6_CLRMASK (~(WORD)ENDPOINT6_SETMASK)    
                            16931 ; 691  |#define ENDPOINT7_CLRMASK (~(WORD)ENDPOINT7_SETMASK)    
                            16932 ; 692  |#define ENDPOINT8_CLRMASK (~(WORD)ENDPOINT8_SETMASK)    
                            16933 ; 693  |#define ENDPOINT9_CLRMASK (~(WORD)ENDPOINT9_SETMASK)    
                            16934 ; 694  |#define ENDPOINT10_CLRMASK (~(WORD)ENDPOINT10_SETMASK)
                            16935 ; 695  |#define ENDPOINT11_CLRMASK (~(WORD)ENDPOINT11_SETMASK)
                            16936 ; 696  |#define ENDPOINT12_CLRMASK (~(WORD)ENDPOINT12_SETMASK)
                            16937 ; 697  |#define ENDPOINT13_CLRMASK (~(WORD)ENDPOINT13_SETMASK)
                            16938 ; 698  |#define ENDPOINT14_CLRMASK (~(WORD)ENDPOINT14_SETMASK)
                            16939 ; 699  |#define ENDPOINT15_CLRMASK (~(WORD)ENDPOINT15_SETMASK)
                            16940 ; 700  |
                            16941 ; 701  |typedef union               
                            16942 ; 702  |{
                            16943 ; 703  |    struct {
                            16944 ; 704  |        int EP0              :1;
                            16945 ; 705  |        int EP1              :1;
                            16946 ; 706  |        int EP2              :1;
                            16947 ; 707  |        int EP3              :1;
                            16948 ; 708  |        int EP4              :1;
                            16949 ; 709  |        int EP5              :1;
                            16950 ; 710  |        int EP6              :1;
                            16951 ; 711  |        int EP7              :1;
                            16952 ; 712  |        int EP8              :1;
                            16953 ; 713  |        int EP9              :1;
                            16954 ; 714  |        int EP10             :1;
                            16955 ; 715  |        int EP11             :1;
                            16956 ; 716  |        int EP12             :1;
                            16957 ; 717  |        int EP13             :1;
                            16958 ; 718  |        int EP14             :1;
                            16959 ; 719  |        int EP15             :1;
                            16960 ; 720  |        int                  :32;
                            16961 ; 721  |    } B;
                            16962 ; 722  |    DWORD I;
                            16963 ; 723  |} endpsetupstat_type;
                            16964 ; 724  |
                            16965 ; 725  |//#define HW_ARC_ENDPTSETUPSTAT (*(volatile endpsetupstat_type _X*) (HW_ARC_BASEADDR+0x1ac
                                  ))    
                            16966 ; 726  |
                            16967 ; 727  |typedef union               
                            16968 ; 728  |{
                            16969 ; 729  |    struct {
                            16970 ; 730  |        int EP0              :1;
                            16971 ; 731  |        int EP1              :1;
                            16972 ; 732  |        int EP2              :1;
                            16973 ; 733  |        int EP3              :1;
                            16974 ; 734  |        int EP4              :1;
                            16975 ; 735  |        int EP5              :1;
                            16976 ; 736  |        int EP6              :1;
                            16977 ; 737  |        int EP7              :1;
                            16978 ; 738  |        int EP8              :1;
                            16979 ; 739  |        int EP9              :1;
                            16980 ; 740  |        int EP10             :1;
                            16981 ; 741  |        int EP11             :1;
                            16982 ; 742  |        int EP12             :1;
                            16983 ; 743  |        int EP13             :1;
                            16984 ; 744  |        int EP14             :1;
                            16985 ; 745  |        int EP15             :1;
                            16986 ; 746  |        int                  :8;
                            16987 ; 747  |    } B;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 285

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16988 ; 748  |    WORD I;
                            16989 ; 749  |} endpt_type;
                            16990 
                            17028 
                            17029 ; 750  |
                            17030 ; 751  |typedef union
                            17031 ; 752  |{
                            17032 ; 753  |   struct {
                            17033 ; 754  |       endpt_type  RX;
                            17034 ; 755  |       endpt_type  TX;
                            17035 ; 756  |   } W;
                            17036 ; 757  |   DWORD DW;
                            17037 ; 758  |} endptrxtx_type;
                            17038 ; 759  |
                            17039 ; 760  |//#define HW_ARC_ENDPTPRIME    (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b0))   
                                   
                            17040 ; 761  |//#define HW_ARC_ENDPTFLUSH    (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b4))   
                                   
                            17041 ; 762  |//#define HW_ARC_ENDPTSTAT     (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b8))   
                                   
                            17042 ; 763  |//#define HW_ARC_ENDPTCOMPLETE (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1bc))   
                                   
                            17043 ; 764  |
                            17044 ; 765  |
                            17045 ; 766  |
                            17046 ; 767  |/////////////////////////////////////////////////////////////////////////////////
                            17047 ; 768  |//  USB ARC Register Endpoint control (HW_ARC_ENDPTCTRL)
                            17048 ; 769  |
                            17049 ; 770  |#define HW_ARC_ENDPTCTRL_RXS_BITPOS (0)
                            17050 ; 771  |#define HW_ARC_ENDPTCTRL_RXD_BITPOS (1)
                            17051 ; 772  |#define HW_ARC_ENDPTCTRL_RXT_BITPOS (2)
                            17052 ; 773  |#define HW_ARC_ENDPTCTRL_RXI_BITPOS (5)
                            17053 ; 774  |#define HW_ARC_ENDPTCTRL_RXR_BITPOS (6)
                            17054 ; 775  |#define HW_ARC_ENDPTCTRL_RXE_BITPOS (7)
                            17055 ; 776  |#define HW_ARC_ENDPTCTRL_TXS_BITPOS (16)
                            17056 ; 777  |#define HW_ARC_ENDPTCTRL_TXD_BITPOS (17)
                            17057 ; 778  |#define HW_ARC_ENDPTCTRL_TXT_BITPOS (18)
                            17058 ; 779  |#define HW_ARC_ENDPTCTRL_TXI_BITPOS (21)
                            17059 ; 780  |#define HW_ARC_ENDPTCTRL_TXR_BITPOS (22)
                            17060 ; 781  |#define HW_ARC_ENDPTCTRL_TXE_BITPOS (23)
                            17061 ; 782  |
                            17062 ; 783  |#define HW_ARC_ENDPTCTRL_RXS_SETMASK (1<<HW_ARC_ENDPTCTRL_RXS_BITPOS)
                            17063 ; 784  |#define HW_ARC_ENDPTCTRL_RXD_SETMASK (1<<HW_ARC_ENDPTCTRL_RXD_BITPOS)
                            17064 ; 785  |#define HW_ARC_ENDPTCTRL_RXT_SETMASK (3<<HW_ARC_ENDPTCTRL_RXT_BITPOS)
                            17065 ; 786  |#define HW_ARC_ENDPTCTRL_RXI_SETMASK (1<<HW_ARC_ENDPTCTRL_RXI_BITPOS)
                            17066 ; 787  |#define HW_ARC_ENDPTCTRL_RXR_SETMASK (1<<HW_ARC_ENDPTCTRL_RXR_BITPOS)
                            17067 ; 788  |#define HW_ARC_ENDPTCTRL_RXE_SETMASK (1<<HW_ARC_ENDPTCTRL_RXE_BITPOS)
                            17068 ; 789  |#define HW_ARC_ENDPTCTRL_TXS_SETMASK (1<<HW_ARC_ENDPTCTRL_TXS_BITPOS)
                            17069 ; 790  |#define HW_ARC_ENDPTCTRL_TXD_SETMASK (1<<HW_ARC_ENDPTCTRL_TXD_BITPOS)
                            17070 ; 791  |#define HW_ARC_ENDPTCTRL_TXT_SETMASK (3<<HW_ARC_ENDPTCTRL_TXT_BITPOS)
                            17071 ; 792  |#define HW_ARC_ENDPTCTRL_TXI_SETMASK (1<<HW_ARC_ENDPTCTRL_TXI_BITPOS)
                            17072 ; 793  |#define HW_ARC_ENDPTCTRL_TXR_SETMASK (1<<HW_ARC_ENDPTCTRL_TXR_BITPOS)
                            17073 ; 794  |
                            17074 ; 795  |// We need to equate the following label like this due to a sign extension problem
                            17075 ; 796  |// if equated like so (1<<HW_ARC_ENDPTCTRL_TXE_BITPOS)
                            17076 ; 797  |#define HW_ARC_ENDPTCTRL_TXE_SETMASK (0x00800000)
                            17077 ; 798  |//HW_ARC_ENDPTCTRL_TXE_SETMASK    equ     (1<<HW_ARC_ENDPTCTRL_TXE_BITPOS)
                            17078 ; 799  |
                            17079 ; 800  |#define HW_ARC_ENDPTCTRL_RXS_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXS_SETMASK)
                            17080 ; 801  |#define HW_ARC_ENDPTCTRL_RXD_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXD_SETMASK)
                            17081 ; 802  |#define HW_ARC_ENDPTCTRL_RXT_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXT_SETMASK)
                            17082 ; 803  |#define HW_ARC_ENDPTCTRL_RXI_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXI_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 286

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17083 ; 804  |#define HW_ARC_ENDPTCTRL_RXR_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXR_SETMASK)
                            17084 ; 805  |#define HW_ARC_ENDPTCTRL_RXE_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXE_SETMASK)
                            17085 ; 806  |#define HW_ARC_ENDPTCTRL_TXS_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXS_SETMASK)
                            17086 ; 807  |#define HW_ARC_ENDPTCTRL_TXD_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXD_SETMASK)
                            17087 ; 808  |#define HW_ARC_ENDPTCTRL_TXT_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXT_SETMASK)
                            17088 ; 809  |#define HW_ARC_ENDPTCTRL_TXI_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXI_SETMASK)
                            17089 ; 810  |#define HW_ARC_ENDPTCTRL_TXR_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXR_SETMASK)
                            17090 ; 811  |#define HW_ARC_ENDPTCTRL_TXE_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXE_SETMASK)
                            17091 ; 812  |
                            17092 ; 813  |
                            17093 ; 814  |typedef union               
                            17094 ; 815  |{
                            17095 ; 816  |    struct {
                            17096 ; 817  |        int RXS             :1;
                            17097 ; 818  |        int RXD             :1;
                            17098 ; 819  |        int RXT             :2;
                            17099 ; 820  |        int                 :1;
                            17100 ; 821  |        int RXI             :1;
                            17101 ; 822  |        int RXR             :1;
                            17102 ; 823  |        int RXE             :1;
                            17103 ; 824  |        int                 :8;
                            17104 ; 825  |        int TXS             :1;
                            17105 ; 826  |        int TXD             :1;
                            17106 ; 827  |        int TXT             :2;
                            17107 ; 828  |        int                 :1;
                            17108 ; 829  |        int TXI             :1;
                            17109 ; 830  |        int TXR             :1;
                            17110 ; 831  |        int TXE             :1;
                            17111 ; 832  |        int                 :24;
                            17112 ; 833  |    } B;
                            17113 ; 834  |    DWORD I;
                            17114 ; 835  |} endptctrl_type;
                            17115 ; 836  |//#define HW_ARC_ENDPTCTRL[n] (*(volatile usbintr_type _X*) (HW_ARC_BASEADDR+0x1c0+((n)*4)
                                  ))    
                            17116 ; 837  |
                            17117 ; 838  |#endif
                            17118 ; 839  |
                            17119 ; 840  |
                            17120 
                            17122 
                            17123 ; 37   |#include "regsusb20phy.h"
                            17124 
                            17126 
                            17127 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17128 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2005
                            17129 ; 3    |//;  File        : regsusbphy.inc
                            17130 ; 4    |//;  Description : USB20 PHY Register definition
                            17131 ; 5    |//;  Updated 2.23.2003 By M. Henson
                            17132 ; 6    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17133 ; 7    |
                            17134 ; 8    |// The following naming conventions are followed in this file.
                            17135 ; 9    |// All registers are named using the format...
                            17136 ; 10   |//     HW_<module>_<regname>
                            17137 ; 11   |// where <module> is the module name which can be any of the following...
                            17138 ; 12   |//     USB20
                            17139 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            17140 ; 14   |// module name includes a number starting from 0 for the first instance of
                            17141 ; 15   |// that module)
                            17142 ; 16   |// <regname> is the specific register within that module
                            17143 ; 17   |// We also define the following...
                            17144 ; 18   |//     HW_<module>_<regname>_BITPOS
                            17145 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 287

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17146 ; 20   |//     HW_<module>_<regname>_SETMASK
                            17147 ; 21   |// which does something else, and
                            17148 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            17149 ; 23   |// which does something else.
                            17150 ; 24   |// Other rules
                            17151 ; 25   |//     All caps
                            17152 ; 26   |//     Numeric identifiers start at 0
                            17153 ; 27   |
                            17154 ; 28   |#if !(defined(regsusbphyinc))
                            17155 ; 29   |#define regsusbphyinc 1
                            17156 ; 30   |
                            17157 ; 31   |#include "types.h"
                            17158 
                            17160 
                            17161 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            17162 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            17163 ; 3    |//
                            17164 ; 4    |// Filename: types.h
                            17165 ; 5    |// Description: Standard data types
                            17166 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            17167 ; 7    |
                            17168 ; 8    |#ifndef _TYPES_H
                            17169 ; 9    |#define _TYPES_H
                            17170 ; 10   |
                            17171 ; 11   |// TODO:  move this outta here!
                            17172 ; 12   |#if !defined(NOERROR)
                            17173 ; 13   |#define NOERROR 0
                            17174 ; 14   |#define SUCCESS 0
                            17175 ; 15   |#endif 
                            17176 ; 16   |#if !defined(SUCCESS)
                            17177 ; 17   |#define SUCCESS  0
                            17178 ; 18   |#endif
                            17179 ; 19   |#if !defined(ERROR)
                            17180 ; 20   |#define ERROR   -1
                            17181 ; 21   |#endif
                            17182 ; 22   |#if !defined(FALSE)
                            17183 ; 23   |#define FALSE 0
                            17184 ; 24   |#endif
                            17185 ; 25   |#if !defined(TRUE)
                            17186 ; 26   |#define TRUE  1
                            17187 ; 27   |#endif
                            17188 ; 28   |
                            17189 ; 29   |#if !defined(NULL)
                            17190 ; 30   |#define NULL 0
                            17191 ; 31   |#endif
                            17192 ; 32   |
                            17193 ; 33   |#define MAX_INT     0x7FFFFF
                            17194 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            17195 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            17196 ; 36   |#define MAX_ULONG   (-1) 
                            17197 ; 37   |
                            17198 ; 38   |#define WORD_SIZE   24              // word size in bits
                            17199 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            17200 ; 40   |
                            17201 ; 41   |
                            17202 ; 42   |#define BYTE    unsigned char       // btVarName
                            17203 ; 43   |#define CHAR    signed char         // cVarName
                            17204 ; 44   |#define USHORT  unsigned short      // usVarName
                            17205 ; 45   |#define SHORT   unsigned short      // sVarName
                            17206 ; 46   |#define WORD    unsigned int        // wVarName
                            17207 ; 47   |#define INT     signed int          // iVarName
                            17208 ; 48   |#define DWORD   unsigned long       // dwVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 288

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17209 ; 49   |#define LONG    signed long         // lVarName
                            17210 ; 50   |#define BOOL    unsigned int        // bVarName
                            17211 ; 51   |#define FRACT   _fract              // frVarName
                            17212 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            17213 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            17214 ; 54   |#define FLOAT   float               // fVarName
                            17215 ; 55   |#define DBL     double              // dVarName
                            17216 ; 56   |#define ENUM    enum                // eVarName
                            17217 ; 57   |#define CMX     _complex            // cmxVarName
                            17218 ; 58   |typedef WORD UCS3;                   // 
                            17219 ; 59   |
                            17220 ; 60   |#define UINT16  unsigned short
                            17221 ; 61   |#define UINT8   unsigned char   
                            17222 ; 62   |#define UINT32  unsigned long
                            17223 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            17224 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            17225 ; 65   |#define WCHAR   UINT16
                            17226 ; 66   |
                            17227 ; 67   |//UINT128 is 16 bytes or 6 words
                            17228 ; 68   |typedef struct UINT128_3500 {   
                            17229 ; 69   |    int val[6];     
                            17230 ; 70   |} UINT128_3500;
                            17231 ; 71   |
                            17232 ; 72   |#define UINT128   UINT128_3500
                            17233 ; 73   |
                            17234 ; 74   |// Little endian word packed byte strings:   
                            17235 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            17236 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            17237 ; 77   |// Little endian word packed byte strings:   
                            17238 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            17239 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            17240 ; 80   |
                            17241 ; 81   |// Declare Memory Spaces To Use When Coding
                            17242 ; 82   |// A. Sector Buffers
                            17243 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            17244 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            17245 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            17246 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            17247 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            17248 ; 88   |// B. Media DDI Memory
                            17249 ; 89   |#define MEDIA_DDI_MEM _Y
                            17250 ; 90   |
                            17251 ; 91   |
                            17252 ; 92   |
                            17253 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            17254 ; 94   |// Examples of circular pointers:
                            17255 ; 95   |//    INT CIRC cpiVarName
                            17256 ; 96   |//    DWORD CIRC cpdwVarName
                            17257 ; 97   |
                            17258 ; 98   |#define RETCODE INT                 // rcVarName
                            17259 ; 99   |
                            17260 ; 100  |// generic bitfield structure
                            17261 ; 101  |struct Bitfield {
                            17262 ; 102  |    unsigned int B0  :1;
                            17263 ; 103  |    unsigned int B1  :1;
                            17264 ; 104  |    unsigned int B2  :1;
                            17265 ; 105  |    unsigned int B3  :1;
                            17266 ; 106  |    unsigned int B4  :1;
                            17267 ; 107  |    unsigned int B5  :1;
                            17268 ; 108  |    unsigned int B6  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 289

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17269 ; 109  |    unsigned int B7  :1;
                            17270 ; 110  |    unsigned int B8  :1;
                            17271 ; 111  |    unsigned int B9  :1;
                            17272 ; 112  |    unsigned int B10 :1;
                            17273 ; 113  |    unsigned int B11 :1;
                            17274 ; 114  |    unsigned int B12 :1;
                            17275 ; 115  |    unsigned int B13 :1;
                            17276 ; 116  |    unsigned int B14 :1;
                            17277 ; 117  |    unsigned int B15 :1;
                            17278 ; 118  |    unsigned int B16 :1;
                            17279 ; 119  |    unsigned int B17 :1;
                            17280 ; 120  |    unsigned int B18 :1;
                            17281 ; 121  |    unsigned int B19 :1;
                            17282 ; 122  |    unsigned int B20 :1;
                            17283 ; 123  |    unsigned int B21 :1;
                            17284 ; 124  |    unsigned int B22 :1;
                            17285 ; 125  |    unsigned int B23 :1;
                            17286 ; 126  |};
                            17287 ; 127  |
                            17288 ; 128  |union BitInt {
                            17289 ; 129  |        struct Bitfield B;
                            17290 ; 130  |        int        I;
                            17291 ; 131  |};
                            17292 ; 132  |
                            17293 ; 133  |#define MAX_MSG_LENGTH 10
                            17294 ; 134  |struct CMessage
                            17295 ; 135  |{
                            17296 ; 136  |        unsigned int m_uLength;
                            17297 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            17298 ; 138  |};
                            17299 ; 139  |
                            17300 ; 140  |typedef struct {
                            17301 ; 141  |    WORD m_wLength;
                            17302 ; 142  |    WORD m_wMessage;
                            17303 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            17304 ; 144  |} Message;
                            17305 ; 145  |
                            17306 ; 146  |struct MessageQueueDescriptor
                            17307 ; 147  |{
                            17308 ; 148  |        int *m_pBase;
                            17309 ; 149  |        int m_iModulo;
                            17310 ; 150  |        int m_iSize;
                            17311 ; 151  |        int *m_pHead;
                            17312 ; 152  |        int *m_pTail;
                            17313 ; 153  |};
                            17314 ; 154  |
                            17315 ; 155  |struct ModuleEntry
                            17316 ; 156  |{
                            17317 ; 157  |    int m_iSignaledEventMask;
                            17318 ; 158  |    int m_iWaitEventMask;
                            17319 ; 159  |    int m_iResourceOfCode;
                            17320 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            17321 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            17322 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            17323 ; 163  |    int m_uTimeOutHigh;
                            17324 ; 164  |    int m_uTimeOutLow;
                            17325 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            17326 ; 166  |};
                            17327 ; 167  |
                            17328 ; 168  |union WaitMask{
                            17329 ; 169  |    struct B{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 290

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17330 ; 170  |        unsigned int m_bNone     :1;
                            17331 ; 171  |        unsigned int m_bMessage  :1;
                            17332 ; 172  |        unsigned int m_bTimer    :1;
                            17333 ; 173  |        unsigned int m_bButton   :1;
                            17334 ; 174  |    } B;
                            17335 ; 175  |    int I;
                            17336 ; 176  |} ;
                            17337 ; 177  |
                            17338 ; 178  |
                            17339 ; 179  |struct Button {
                            17340 ; 180  |        WORD wButtonEvent;
                            17341 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            17342 ; 182  |};
                            17343 ; 183  |
                            17344 ; 184  |struct Message {
                            17345 ; 185  |        WORD wMsgLength;
                            17346 ; 186  |        WORD wMsgCommand;
                            17347 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            17348 ; 188  |};
                            17349 ; 189  |
                            17350 ; 190  |union EventTypes {
                            17351 ; 191  |        struct CMessage msg;
                            17352 ; 192  |        struct Button Button ;
                            17353 ; 193  |        struct Message Message;
                            17354 ; 194  |};
                            17355 ; 195  |
                            17356 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            17357 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            17358 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            17359 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            17360 ; 200  |
                            17361 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            17362 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            17363 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            17364 ; 204  |
                            17365 ; 205  |#if DEBUG
                            17366 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            17367 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            17368 ; 208  |#else 
                            17369 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            17370 ; 210  |#define DebugBuildAssert(x)    
                            17371 ; 211  |#endif
                            17372 ; 212  |
                            17373 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            17374 ; 214  |//  #pragma asm
                            17375 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            17376 ; 216  |//  #pragma endasm
                            17377 ; 217  |
                            17378 ; 218  |
                            17379 ; 219  |#ifdef COLOR_262K
                            17380 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            17381 ; 221  |#elif defined(COLOR_65K)
                            17382 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            17383 ; 223  |#else
                            17384 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            17385 ; 225  |#endif
                            17386 ; 226  |    
                            17387 ; 227  |#endif // #ifndef _TYPES_H
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 291

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17388 
                            17390 
                            17391 ; 32   |
                            17392 ; 33   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17393 ; 34   |//   USB2.0 PHY STMP Registers 
                            17394 ; 35   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17395 ; 36   |#define HW_USBPHY_BASEADDR (0xF210)
                            17396 ; 37   |
                            17397 ; 38   |
                            17398 ; 39   |/////////////////////////////////////////////////////////////////////////////////
                            17399 ; 40   |//  USB PHY Powerdown Register (HW_USBPHYPWD) Bit Definitions
                            17400 ; 41   |
                            17401 ; 42   |#define HW_USBPHYPWD_TXDISCON1500_BITPOS (5)
                            17402 ; 43   |#define HW_USBPHYPWD_PLLVCOPWD_BITPOS (6)
                            17403 ; 44   |#define HW_USBPHYPWD_PLLVCPPWD_BITPOS (7)
                            17404 ; 45   |#define HW_USBPHYPWD_TXPWDFS_BITPOS (10)
                            17405 ; 46   |#define HW_USBPHYPWD_TXPWDIBIAS_BITPOS (11)
                            17406 ; 47   |#define HW_USBPHYPWD_TXPWDV2I_BITPOS (12)
                            17407 ; 48   |#define HW_USBPHYPWD_TXPWDVBG_BITPOS (13)
                            17408 ; 49   |#define HW_USBPHYPWD_TXPWDCOMP_BITPOS (14)
                            17409 ; 50   |#define HW_USBPHYPWD_RXPWDDISCONDET_BITPOS (16)
                            17410 ; 51   |#define HW_USBPHYPWD_RXPWDENV_BITPOS (17)
                            17411 ; 52   |#define HW_USBPHYPWD_RXPWD1PT1_BITPOS (18)
                            17412 ; 53   |#define HW_USBPHYPWD_RXPWDDIFF_BITPOS (19)
                            17413 ; 54   |#define HW_USBPHYPWD_RXPWDRX_BITPOS (20)
                            17414 ; 55   |#define HW_USBPHYPWD_PWDIBIAS_BITPOS (22)
                            17415 ; 56   |#define HW_USBPHYPWD_REGRESET_BITPOS (23)
                            17416 ; 57   |
                            17417 ; 58   |#define HW_USBPHYPWD_TXDISCON1500_SETMASK (1<<HW_USBPHYPWD_TXDISCON1500_BITPOS)
                            17418 ; 59   |#define HW_USBPHYPWD_PLLVCOPWD_SETMASK (1<<HW_USBPHYPWD_PLLVCOPWD_BITPOS)
                            17419 ; 60   |#define HW_USBPHYPWD_PLLVCPPWD_SETMASK (1<<HW_USBPHYPWD_PLLVCPPWD_BITPOS)
                            17420 ; 61   |#define HW_USBPHYPWD_TXPWDFS_SETMASK (1<<HW_USBPHYPWD_TXPWDFS_BITPOS)
                            17421 ; 62   |#define HW_USBPHYPWD_TXPWDIBIAS_SETMASK (1<<HW_USBPHYPWD_TXPWDIBIAS_BITPOS)
                            17422 ; 63   |#define HW_USBPHYPWD_TXPWDV2I_SETMASK (1<<HW_USBPHYPWD_TXPWDV2I_BITPOS)
                            17423 ; 64   |#define HW_USBPHYPWD_TXPWDVBG_SETMASK (1<<HW_USBPHYPWD_TXPWDVBG_BITPOS)
                            17424 ; 65   |#define HW_USBPHYPWD_TXPWDCOMP_SETMASK (1<<HW_USBPHYPWD_TXPWDCOMP_BITPOS)
                            17425 ; 66   |#define HW_USBPHYPWD_RXPWDDISCONDET_SETMASK (1<<HW_USBPHYPWD_RXPWDDISCONDET_BITPOS)
                            17426 ; 67   |#define HW_USBPHYPWD_RXPWDENV_SETMASK (1<<HW_USBPHYPWD_RXPWDENV_BITPOS)
                            17427 ; 68   |#define HW_USBPHYPWD_RXPWD1PT1_SETMASK (1<<HW_USBPHYPWD_RXPWD1PT1_BITPOS)
                            17428 ; 69   |#define HW_USBPHYPWD_RXPWDDIFF_SETMASK (1<<HW_USBPHYPWD_RXPWDDIFF_BITPOS)
                            17429 ; 70   |#define HW_USBPHYPWD_RXPWDRX_SETMASK (1<<HW_USBPHYPWD_RXPWDRX_BITPOS)
                            17430 ; 71   |#define HW_USBPHYPWD_PWDIBIAS_SETMASK (1<<HW_USBPHYPWD_PWDIBIAS_BITPOS)
                            17431 ; 72   |#define HW_USBPHYPWD_REGRESET_SETMASK (1<<HW_USBPHYPWD_REGRESET_BITPOS)
                            17432 ; 73   |
                            17433 ; 74   |#define HW_USBPHYPWD_TXDISCON1500_CLRMASK (~(WORD)HW_USBPHYPWD_TXDISCON1500_SETMASK)
                            17434 ; 75   |#define HW_USBPHYPWD_PLLVCOPWD_CLRMASK (~(WORD)HW_USBPHYPWD_PLLVCOPWD_SETMASK)
                            17435 ; 76   |#define HW_USBPHYPWD_PLLVCPPWD_CLRMASK (~(WORD)HW_USBPHYPWD_PLLVCPPWD_SETMASK)
                            17436 ; 77   |#define HW_USBPHYPWD_TXPWDFS_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDFS_SETMASK)
                            17437 ; 78   |#define HW_USBPHYPWD_TXPWDIBIAS_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDIBIAS_SETMASK)
                            17438 ; 79   |#define HW_USBPHYPWD_TXPWDV2I_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDV2I_SETMASK)
                            17439 ; 80   |#define HW_USBPHYPWD_TXPWDVBG_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDVBG_SETMASK)
                            17440 ; 81   |#define HW_USBPHYPWD_TXPWDCOMP_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDCOMP_SETMASK)
                            17441 ; 82   |#define HW_USBPHYPWD_RXPWDDISCONDET_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDDISCONDET_SETMASK)
                            17442 ; 83   |#define HW_USBPHYPWD_RXPWDENV_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDENV_SETMASK)
                            17443 ; 84   |#define HW_USBPHYPWD_RXPWD1PT1_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWD1PT1_SETMASK)
                            17444 ; 85   |#define HW_USBPHYPWD_RXPWDDIFF_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDDIFF_SETMASK)
                            17445 ; 86   |#define HW_USBPHYPWD_RXPWDRX_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDRX_SETMASK)
                            17446 ; 87   |#define HW_USBPHYPWD_PWDIBIAS_CLRMASK (~(WORD)HW_USBPHYPWD_PWDIBIAS_SETMASK)
                            17447 ; 88   |#define HW_USBPHYPWD_REGRESET_CLRMASK (~(WORD)HW_USBPHYPWD_REGRESET_SETMASK)
                            17448 ; 89   |
                            17449 ; 90   |typedef union               
                            17450 ; 91   |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 292

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17451 ; 92   |    struct {
                            17452 ; 93   |        int RSVD0          :5;
                            17453 ; 94   |        int TXDISCON1500   :1;
                            17454 ; 95   |        int PLLVCOPWD      :1;
                            17455 ; 96   |        int PLLVCPPWD      :1;
                            17456 ; 97   |        int RSVD1          :2;
                            17457 ; 98   |        int TXPWDFS        :1;
                            17458 ; 99   |        int TXPWDIBIAS     :1;
                            17459 ; 100  |        int TXPWDV2I       :1;
                            17460 ; 101  |        int TXPWDVBG       :1;
                            17461 ; 102  |        int TXPWDCOMP      :1;
                            17462 ; 103  |        int RSVD2          :1;
                            17463 ; 104  |        int RXPWDDISCONDET :1;
                            17464 ; 105  |        int RXPWDENV       :1;
                            17465 ; 106  |        int RXPWD1PT1      :1;
                            17466 ; 107  |        int RXPWDDIFF      :1;
                            17467 ; 108  |        int RXPWDRX        :1;
                            17468 ; 109  |        int RSVD3          :1;
                            17469 ; 110  |        int PWDIBIAS       :1;
                            17470 ; 111  |        int REGRESET       :1;
                            17471 ; 112  |    } B;
                            17472 ; 113  |    int I;
                            17473 ; 114  |} usbphypwd_type;
                            17474 ; 115  |#define HW_USBPHYPWD      (*(volatile usbphypwd_type _X*) (HW_USBPHY_BASEADDR))    /* USB 
                                  PHY Powerdown Register */
                            17475 ; 116  |
                            17476 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                            17477 ; 118  |//  USB PHY Transmit register (HW_USBPHYTX) Bit Definitions
                            17478 ; 119  |#define HW_USBPHYTX_TXCAL1500_BITPOS (0)
                            17479 ; 120  |#define HW_USBPHYTX_TXENCAL1500_BITPOS (5)
                            17480 ; 121  |#define HW_USBPHYTX_TXHSXCVR_BITPOS (6)
                            17481 ; 122  |#define HW_USBPHYTX_TXCALIBRATE_BITPOS (7)
                            17482 ; 123  |#define HW_USBPHYTX_TXCAL45DN_BITPOS (8)
                            17483 ; 124  |#define HW_USBPHYTX_TXENCAL45DN_BITPOS (13)
                            17484 ; 125  |#define HW_USBPHYTX_TXHSTERM_BITPOS (14)
                            17485 ; 126  |#define HW_USBPHYTX_TXSKEW_BITPOS (15)
                            17486 ; 127  |#define HW_USBPHYTX_TXCAL45DP_BITPOS (16)
                            17487 ; 128  |#define HW_USBPHYTX_TXENCAL45DP_BITPOS (21)
                            17488 ; 129  |#define HW_USBPHYTX_TXFSHIZ_BITPOS (22)
                            17489 ; 130  |#define HW_USBPHYTX_TXCOMPOUT_BITPOS (23)
                            17490 ; 131  |
                            17491 ; 132  |#define HW_USBPHYTX_TXCAL1500_WIDTH (4)
                            17492 ; 133  |#define HW_USBPHYTX_TXENCAL1500_WIDTH (1)
                            17493 ; 134  |#define HW_USBPHYTX_TXHSXCVR_WIDTH (1)
                            17494 ; 135  |#define HW_USBPHYTX_TXCALIBRATE_WIDTH (1)
                            17495 ; 136  |#define HW_USBPHYTX_TXCAL45DN_WIDTH (4)
                            17496 ; 137  |#define HW_USBPHYTX_TXENCAL45DN_WIDTH (1)
                            17497 ; 138  |#define HW_USBPHYTX_TXHSTERM_WIDTH (1)
                            17498 ; 139  |#define HW_USBPHYTX_TXSKEW_WIDTH (1)
                            17499 ; 140  |#define HW_USBPHYTX_TXCAL45DP_WIDTH (4)
                            17500 ; 141  |#define HW_USBPHYTX_TXENCAL45DP_WIDTH (1)
                            17501 ; 142  |#define HW_USBPHYTX_TXFSHIZ_WIDTH (1)
                            17502 ; 143  |#define HW_USBPHYTX_TXCOMPOUT_WIDTH (1)
                            17503 ; 144  |
                            17504 ; 145  |#define HW_USBPHYTX_TXCAL1500_SETMASK (((1<<HW_USBPHYTX_TXCAL1500_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCAL1500_BITPOS)
                            17505 ; 146  |#define HW_USBPHYTX_TXENCAL1500_SETMASK (((1<<HW_USBPHYTX_TXENCAL1500_WIDTH)-1)<<HW_USBPHY
                                  TX_TXENCAL1500_BITPOS)
                            17506 ; 147  |#define HW_USBPHYTX_TXHSXCVR_SETMASK (((1<<HW_USBPHYTX_TXHSXCVR_WIDTH)-1)<<HW_USBPHYTX_TXH
                                  SXCVR_BITPOS)
                            17507 ; 148  |#define HW_USBPHYTX_TXCALIBRATE_SETMASK (((1<<HW_USBPHYTX_TXCALIBRATE_WIDTH)-1)<<HW_USBPHY
                                  TX_TXCALIBRATE_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 293

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17508 ; 149  |#define HW_USBPHYTX_TXCAL45DN_SETMASK (((1<<HW_USBPHYTX_TXCAL45DN_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCAL45DN_BITPOS)
                            17509 ; 150  |#define HW_USBPHYTX_TXENCAL45DN_SETMASK (((1<<HW_USBPHYTX_TXENCAL45DN_WIDTH)-1)<<HW_USBPHY
                                  TX_TXENCAL45DN_BITPOS)
                            17510 ; 151  |#define HW_USBPHYTX_TXHSTERM_SETMASK (((1<<HW_USBPHYTX_TXHSTERM_WIDTH)-1)<<HW_USBPHYTX_TXH
                                  STERM_BITPOS)
                            17511 ; 152  |#define HW_USBPHYTX_TXSKEW_SETMASK (((1<<HW_USBPHYTX_TXSKEW_WIDTH)-1)<<HW_USBPHYTX_TXSKEW_
                                  BITPOS)
                            17512 ; 153  |#define HW_USBPHYTX_TXCAL45DP_SETMASK (((1<<HW_USBPHYTX_TXCAL45DP_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCAL45DP_BITPOS)
                            17513 ; 154  |#define HW_USBPHYTX_TXENCAL45DP_SETMASK (((1<<HW_USBPHYTX_TXENCAL45DP_WIDTH)-1)<<HW_USBPHY
                                  TX_TXENCAL45DP_BITPOS)
                            17514 ; 155  |#define HW_USBPHYTX_TXFSHIZ_SETMASK (((1<<HW_USBPHYTX_TXFSHIZ_WIDTH)-1)<<HW_USBPHYTX_TXFSH
                                  IZ_BITPOS)
                            17515 ; 156  |#define HW_USBPHYTX_TXCOMPOUT_SETMASK (((1<<HW_USBPHYTX_TXCOMPOUT_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCOMPOUT_BITPOS)
                            17516 ; 157  |
                            17517 ; 158  |#define HW_USBPHYTX_TXCAL1500_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL1500_SETMASK)
                            17518 ; 159  |#define HW_USBPHYTX_TXENCAL1500_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL1500_SETMASK)
                            17519 ; 160  |#define HW_USBPHYTX_TXHSXCVR_CLRMASK (~(WORD)HW_USBPHYTX_TXHSXCVR_SETMASK)
                            17520 ; 161  |#define HW_USBPHYTX_TXCALIBRATE_CLRMASK (~(WORD)HW_USBPHYTX_TXCALIBRATE_SETMASK)
                            17521 ; 162  |#define HW_USBPHYTX_TXCAL45DN_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL45DN_SETMASK)
                            17522 ; 163  |#define HW_USBPHYTX_TXENCAL45DN_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL45DN_SETMASK)
                            17523 ; 164  |#define HW_USBPHYTX_TXHSTERM_CLRMASK (~(WORD)HW_USBPHYTX_TXHSTERM_SETMASK)
                            17524 ; 165  |#define HW_USBPHYTX_TXSKEW_CLRMASK (~(WORD)HW_USBPHYTX_TXSKEW_SETMASK)
                            17525 ; 166  |#define HW_USBPHYTX_TXCAL45DP_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL45DP_SETMASK)
                            17526 ; 167  |#define HW_USBPHYTX_TXENCAL45DP_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL45DP_SETMASK)
                            17527 ; 168  |#define HW_USBPHYTX_TXFSHIZ_CLRMASK (~(WORD)HW_USBPHYTX_TXFSHIZ_SETMASK)
                            17528 ; 169  |#define HW_USBPHYTX_TXCOMPOUT_CLRMASK (~(WORD)HW_USBPHYTX_TXCOMPOUT_SETMASK)
                            17529 ; 170  |
                            17530 ; 171  |typedef union               
                            17531 ; 172  |{
                            17532 ; 173  |    struct {
                            17533 ; 174  |        int TXCAL1500          :4;
                            17534 ; 175  |        int RSVD0              :1;
                            17535 ; 176  |        int TXENCAL1500        :1;
                            17536 ; 177  |        int TXHSXCVR           :1;
                            17537 ; 178  |        int TXCALIBRATE        :1;
                            17538 ; 179  |        int TXCAL45DN          :4;
                            17539 ; 180  |        int RSVD1              :1;
                            17540 ; 181  |        int TXENCAL45DN        :1;
                            17541 ; 182  |        int TXHSTERM           :1;
                            17542 ; 183  |        int TXSKEW             :1;
                            17543 ; 184  |        int TXCAL45DP          :4;
                            17544 ; 185  |        int RSVD2              :1;
                            17545 ; 186  |        int TXENCAL45DP        :1;
                            17546 ; 187  |        int TXFSHIZ            :1;
                            17547 ; 188  |        int TXCOMPOUT          :1;
                            17548 ; 189  |    } B;
                            17549 ; 190  |    int I;
                            17550 ; 191  |} usbphytx_type;
                            17551 ; 192  |#define HW_USBPHYTX      (*(volatile usbphytx_type _X*) (HW_USBPHY_BASEADDR+1))    
                            17552 ; 193  |
                            17553 ; 194  |/////////////////////////////////////////////////////////////////////////////////
                            17554 ; 195  |//  USB PHY PLL register (HW_USBPHYPLL) Bit Definitions
                            17555 ; 196  |#define HW_USBPHYPLL_PLLV2ISEL_BITPOS (0)
                            17556 ; 197  |#define HW_USBPHYPLL_PLLCPDBLIP_BITPOS (5)
                            17557 ; 198  |#define HW_USBPHYPLL_PLLVCOCLK2_BITPOS (6)
                            17558 ; 199  |#define HW_USBPHYPLL_PLLVCOCLK24_BITPOS (7)
                            17559 ; 200  |#define HW_USBPHYPLL_PLLCPNSEL_BITPOS (8)
                            17560 ; 201  |#define HW_USBPHYPLL_PLLCLKDIVSEL_BITPOS (12)
                            17561 ; 202  |#define HW_USBPHYPLL_PLLPFDRST_BITPOS (20)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 294

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17562 ; 203  |#define HW_USBPHYPLL_PLLCPSHORTLFR_BITPOS (21)
                            17563 ; 204  |#define HW_USBPHYPLL_PLLVCOKSTART_BITPOS (22)
                            17564 ; 205  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_BITPOS (23)
                            17565 ; 206  |
                            17566 ; 207  |#define HW_USBPHYPLL_PLLV2ISEL_WIDTH (4)
                            17567 ; 208  |#define HW_USBPHYPLL_PLLCPDBLIP_WIDTH (1)
                            17568 ; 209  |#define HW_USBPHYPLL_PLLVCOCLK2_WIDTH (1)
                            17569 ; 210  |#define HW_USBPHYPLL_PLLVCOCLK24_WIDTH (1)
                            17570 ; 211  |#define HW_USBPHYPLL_PLLCPNSEL_WIDTH (4)
                            17571 ; 212  |#define HW_USBPHYPLL_PLLCLKDIVSEL_WIDTH (4)
                            17572 ; 213  |#define HW_USBPHYPLL_PLLPFDRST_WIDTH (1)
                            17573 ; 214  |#define HW_USBPHYPLL_PLLCPSHORTLFR_WIDTH (1)
                            17574 ; 215  |#define HW_USBPHYPLL_PLLVCOKSTART_WIDTH (1)
                            17575 ; 216  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_WIDTH (1)
                            17576 ; 217  |
                            17577 ; 218  |#define HW_USBPHYPLL_PLLV2ISEL_SETMASK (((1<<HW_USBPHYPLL_PLLV2ISEL_WIDTH)-1)<<HW_USBPHYPL
                                  L_PLLV2ISEL_BITPOS)
                            17578 ; 219  |#define HW_USBPHYPLL_PLLCPDBLIP_SETMASK (((1<<HW_USBPHYPLL_PLLCPDBLIP_WIDTH)-1)<<HW_USBPHY
                                  PLL_PLLCPDBLIP_BITPOS)
                            17579 ; 220  |#define HW_USBPHYPLL_PLLVCOCLK2_SETMASK (((1<<HW_USBPHYPLL_PLLVCOCLK2_WIDTH)-1)<<HW_USBPHY
                                  PLL_PLLVCOCLK2_BITPOS)
                            17580 ; 221  |#define HW_USBPHYPLL_PLLVCOCLK24_SETMASK (((1<<HW_USBPHYPLL_PLLVCOCLK24_WIDTH)-1)<<HW_USBP
                                  HYPLL_PLLVCOCLK24_BITPOS)
                            17581 ; 222  |#define HW_USBPHYPLL_PLLCPNSEL_SETMASK (((1<<HW_USBPHYPLL_PLLCPNSEL_WIDTH)-1)<<HW_USBPHYPL
                                  L_PLLCPNSEL_BITPOS)
                            17582 ; 223  |#define HW_USBPHYPLL_PLLCLKDIVSEL_SETMASK (((1<<HW_USBPHYPLL_PLLCLKDIVSEL_WIDTH)-1)<<HW_US
                                  BPHYPLL_PLLCLKDIVSEL_BITPOS)
                            17583 ; 224  |#define HW_USBPHYPLL_PLLPFDRST_SETMASK (((1<<HW_USBPHYPLL_PLLPFDRST_WIDTH)-1)<<HW_USBPHYPL
                                  L_PLLPFDRST_BITPOS)
                            17584 ; 225  |#define HW_USBPHYPLL_PLLCPSHORTLFR_SETMASK (((1<<HW_USBPHYPLL_PLLCPSHORTLFR_WIDTH)-1)<<HW_
                                  USBPHYPLL_PLLCPSHORTLFR_BITPOS)
                            17585 ; 226  |#define HW_USBPHYPLL_PLLVCOKSTART_SETMASK (((1<<HW_USBPHYPLL_PLLVCOKSTART_WIDTH)-1)<<HW_US
                                  BPHYPLL_PLLVCOKSTART_BITPOS)
                            17586 ; 227  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_SETMASK (((1<<HW_USBPHYPLL_PLLCLKDIVRSTZ_WIDTH)-1)<<HW_
                                  USBPHYPLL_PLLCLKDIVRSTZ_BITPOS)
                            17587 ; 228  |
                            17588 ; 229  |#define HW_USBPHYPLL_PLLV2ISEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLV2ISEL_SETMASK)
                            17589 ; 230  |#define HW_USBPHYPLL_PLLCPDBLIP_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPDBLIP_SETMASK)
                            17590 ; 231  |#define HW_USBPHYPLL_PLLVCOCLK2_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOCLK2_SETMASK)
                            17591 ; 232  |#define HW_USBPHYPLL_PLLVCOCLK24_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOCLK24_SETMASK)
                            17592 ; 233  |#define HW_USBPHYPLL_PLLCPNSEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPNSEL_SETMASK)
                            17593 ; 234  |#define HW_USBPHYPLL_PLLCLKDIVSEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCLKDIVSEL_SETMASK)
                            17594 ; 235  |#define HW_USBPHYPLL_PLLPFDRST_CLRMASK (~(WORD)HW_USBPHYPLL_PLLPFDRST_SETMASK)
                            17595 ; 236  |#define HW_USBPHYPLL_PLLCPSHORTLFR_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPSHORTLFR_SETMASK)
                            17596 ; 237  |#define HW_USBPHYPLL_PLLVCOKSTART_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOKSTART_SETMASK)
                            17597 ; 238  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCLKDIVRSTZ_SETMASK)
                            17598 ; 239  |
                            17599 ; 240  |typedef union               
                            17600 ; 241  |{
                            17601 ; 242  |    struct {
                            17602 ; 243  |        int PLLV2ISEL        :4;
                            17603 ; 244  |        int RSVD0            :1;
                            17604 ; 245  |        int PLLCPDBLIP       :1;
                            17605 ; 246  |        int PLLVCOCLK2       :1;
                            17606 ; 247  |        int PLLVCOCLK24      :1;
                            17607 ; 248  |        int PLLCPNSEL        :4;
                            17608 ; 249  |        int PLLCLKDIVSEL     :4;
                            17609 ; 250  |        int RSVD1            :4;
                            17610 ; 251  |        int PLLPFDRST        :1;
                            17611 ; 252  |        int PLLCPSHORTLFR    :1;
                            17612 ; 253  |        int PLLVCOKSTART     :1;
                            17613 ; 254  |        int PLLCLKDIVRSTZ    :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 295

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17614 ; 255  |    } B;
                            17615 ; 256  |    int I;
                            17616 ; 257  |} usbphypll_type;
                            17617 ; 258  |#define HW_USBPHYPLL      (*(volatile usbphypll_type _X*) (HW_USBPHY_BASEADDR+2))    
                            17618 ; 259  |
                            17619 ; 260  |/////////////////////////////////////////////////////////////////////////////////
                            17620 ; 261  |//  USB PHY PLL register (HW_USBPHYRX) Bit Definitions
                            17621 ; 262  |#define HW_USBRX_ENVADJ_BITPOS (0)
                            17622 ; 263  |#define HW_USBRX_DISCONADJ_BITPOS (4)
                            17623 ; 264  |#define HW_USBRX_DEBUGMODE_BITPOS (8)
                            17624 ; 265  |#define HW_USBRX_PLLLKTIMECTL_BITPOS (12)
                            17625 ; 266  |#define HW_USBRX_PLLCKDIVCTL_BITPOS (16)
                            17626 ; 267  |#define HW_USBRX_HOSTMODETEST_BITPOS (20)
                            17627 ; 268  |#define HW_USBRX_FSCKSOURCESEL_BITPOS (21)
                            17628 ; 269  |#define HW_USBRX_REGRXDBYPASS_BITPOS (22)
                            17629 ; 270  |#define HW_USBRX_PLLLOCKED_BITPOS (23)
                            17630 ; 271  |
                            17631 ; 272  |#define HW_USBRX_ENVADJ_WIDTH (4)
                            17632 ; 273  |#define HW_USBRX_DISCONADJ_WIDTH (4)
                            17633 ; 274  |#define HW_USBRX_DEBUGMODE_WIDTH (4)
                            17634 ; 275  |#define HW_USBRX_PLLLKTIMECTL_WIDTH (4)
                            17635 ; 276  |#define HW_USBRX_PLLCKDIVCTL_WIDTH (4)
                            17636 ; 277  |#define HW_USBRX_HOSTMODETEST_WIDTH (1)
                            17637 ; 278  |#define HW_USBRX_FSCKSOURCESEL_WIDTH (1)
                            17638 ; 279  |#define HW_USBRX_REGRXDBYPASS_WIDTH (1)
                            17639 ; 280  |#define HW_USBRX_PLLLOCKED_WIDTH (1)
                            17640 ; 281  |
                            17641 ; 282  |#define HW_USBRX_ENVADJ_SETMASK (((1<<HW_USBRX_ENVADJ_WIDTH)-1)<<HW_USBRX_ENVADJ_BITPOS)
                            17642 ; 283  |#define HW_USBRX_DISCONADJ_SETMASK (((1<<HW_USBRX_DISCONADJ_WIDTH)-1)<<HW_USBRX_DISCONADJ_
                                  BITPOS)
                            17643 ; 284  |#define HW_USBRX_DEBUGMODE_SETMASK (((1<<HW_USBRX_DEBUGMODE_WIDTH)-1)<<HW_USBRX_DEBUGMODE_
                                  BITPOS)
                            17644 ; 285  |#define HW_USBRX_PLLLKTIMECTL_SETMASK (((1<<HW_USBRX_PLLLKTIMECTL_WIDTH)-1)<<HW_USBRX_PLLL
                                  KTIMECTL_BITPOS)
                            17645 ; 286  |#define HW_USBRX_PLLCKDIVCTL_SETMASK (((1<<HW_USBRX_PLLCKDIVCTL_WIDTH)-1)<<HW_USBRX_PLLCKD
                                  IVCTL_BITPOS)
                            17646 ; 287  |// 480 MHz PLL is divided by named number here. Setmask divider field nibble of 7 gives ac
                                  tual divider of 8 and so on. (8 gives 9, 9 gives 10)
                            17647 ; 288  |//              480Mhz/7 =68.57Mhz
                            17648 ; 289  |#define HW_USBPHYRX_PLLDIV_BY_7 0x060000
                            17649 ; 290  |
                            17650 ; 291  |//              480Mhz/8 ~60Mhz
                            17651 ; 292  |#define HW_USBPHYRX_PLLDIV_BY_8 0x070000
                            17652 ; 293  |
                            17653 ; 294  |//              480Mhz/9 =53.3Mhz
                            17654 ; 295  |#define HW_USBPHYRX_PLLDIV_BY_9 0x080000
                            17655 ; 296  |
                            17656 ; 297  |//              480Mhz/10 =48Mhz
                            17657 ; 298  |#define HW_USBPHYRX_PLLDIV_BY_10 0x090000
                            17658 ; 299  |
                            17659 ; 300  |
                            17660 ; 301  |#define HW_USBRX_HOSTMODETEST_SETMASK (((1<<HW_USBRX_HOSTMODETEST_WIDTH)-1)<<HW_USBRX_HOST
                                  MODETEST_BITPOS)
                            17661 ; 302  |#define HW_USBRX_FSCKSOURCESEL_SETMASK (((1<<HW_USBRX_FSCKSOURCESEL_WIDTH)-1)<<HW_USBRX_FS
                                  CKSOURCESEL_BITPOS)
                            17662 ; 303  |#define HW_USBRX_REGRXDBYPASS_SETMASK (((1<<HW_USBRX_REGRXDBYPASS_WIDTH)-1)<<HW_USBRX_REGR
                                  XDBYPASS_BITPOS)
                            17663 ; 304  |#define HW_USBRX_PLLLOCKED_SETMASK (((1<<HW_USBRX_PLLLOCKED_WIDTH)-1)<<HW_USBRX_PLLLOCKED_
                                  BITPOS)
                            17664 ; 305  |
                            17665 ; 306  |#define HW_USBRX_ENVADJ_CLRMASK (~(WORD)HW_USBRX_ENVADJ_SETMASK)
                            17666 ; 307  |#define HW_USBRX_DISCONADJ_CLRMASK (~(WORD)HW_USBRX_DISCONADJ_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 296

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17667 ; 308  |#define HW_USBRX_DEBUGMODE_CLRMASK (~(WORD)HW_USBRX_DEBUGMODE_SETMASK)
                            17668 ; 309  |#define HW_USBRX_PLLLKTIMECTL_CLRMASK (~(WORD)HW_USBRX_PLLLKTIMECTL_SETMASK)
                            17669 ; 310  |#define HW_USBRX_PLLCKDIVCTL_CLRMASK (~(WORD)HW_USBRX_PLLCKDIVCTL_SETMASK)
                            17670 ; 311  |#define HW_USBRX_HOSTMODETEST_CLRMASK (~(WORD)HW_USBRX_HOSTMODETEST_SETMASK)
                            17671 ; 312  |#define HW_USBRX_FSCKSOURCESEL_CLRMASK (~(WORD)HW_USBRX_FSCKSOURCESEL_SETMASK)
                            17672 ; 313  |#define HW_USBRX_REGRXDBYPASS_CLRMASK (~(WORD)HW_USBRX_REGRXDBYPASS_SETMASK)
                            17673 ; 314  |#define HW_USBRX_PLLLOCKED_CLRMASK (~(WORD)HW_USBRX_PLLLOCKED_SETMASK)
                            17674 ; 315  |
                            17675 ; 316  |typedef union               
                            17676 ; 317  |{
                            17677 ; 318  |    struct {
                            17678 ; 319  |     int ENVADJ               :4;
                            17679 ; 320  |     int DISCONADJ            :4;
                            17680 ; 321  |     int DEBUGMODE            :4;
                            17681 ; 322  |     int PLLLKTIMECTL         :4;
                            17682 ; 323  |     int PLLCKDIVCTL          :4;
                            17683 ; 324  |     int HOSTMODETEST         :1;
                            17684 ; 325  |     int FSCKSOURCESEL        :1;
                            17685 ; 326  |     int REGRXDBYPASS         :1;
                            17686 ; 327  |     int PLLLOCKED            :1;
                            17687 ; 328  |    } B;
                            17688 ; 329  |    int I;
                            17689 ; 330  |} usbphyrx_type;
                            17690 ; 331  |#define HW_USBPHYRX      (*(volatile usbphyrx_type _X*) (HW_USBPHY_BASEADDR+3))    
                            17691 ; 332  |
                            17692 ; 333  |#endif
                            17693 ; 334  |
                            17694 
                            17696 
                            17697 ; 38   |
                            17698 ; 39   |
                            17699 ; 40   |#endif // if (!@def(hwequ))
                            17700 ; 41   |
                            17701 
                            17703 
                            17704 ; 12   |#else 
                            17705 ; 13   |//include "regscodec.inc"
                            17706 ; 14   |#endif
                            17707 ; 15   |
                            17708 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            17709 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults
                                   ON) & 
                            17710 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm
                                  . STMP00012148
                            17711 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal
                                  ). 
                            17712 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's spe
                                  cs can 
                            17713 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player m
                                  ode.  
                            17714 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            17715 ; 23   |
                            17716 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            17717 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            17718 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            17719 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define bel
                                  ow by defining
                            17720 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            17721 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            17722 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            17723 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot 
                                  config above- 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 297

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17724 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down thresh
                                  holds by maybe 50mV.
                            17725 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed
                                  .
                            17726 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            17727 ; 35   |
                            17728 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            17729 ; 37   |// MEDIA DEFINITIONS
                            17730 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            17731 ; 39   |
                            17732 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            17733 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            17734 ; 42   |#if defined(NAND1)
                            17735 ; 43   |#define SM_INTERNAL_CHIPS 1
                            17736 ; 44   |#else 
                            17737 ; 45   |#if defined(NAND2)
                            17738 ; 46   |#define SM_INTERNAL_CHIPS 2
                            17739 ; 47   |#else 
                            17740 ; 48   |#if defined(NAND3)
                            17741 ; 49   |#define SM_INTERNAL_CHIPS 3
                            17742 ; 50   |#else 
                            17743 ; 51   |#if defined(NAND4)
                            17744 ; 52   |#define SM_INTERNAL_CHIPS 4
                            17745 ; 53   |#else 
                            17746 ; 54   |#define SM_INTERNAL_CHIPS 1
                            17747 ; 55   |#endif
                            17748 ; 56   |#endif
                            17749 ; 57   |#endif
                            17750 ; 58   |#endif
                            17751 ; 59   |
                            17752 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            17753 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            17754 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it rea
                                  ds 0.  
                            17755 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            17756 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it rea
                                  ds 1.
                            17757 ; 65   |//*** comment out if active high ****
                            17758 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            17759 ; 67   |
                            17760 ; 68   |#if defined(SMEDIA)
                            17761 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            17762 ; 70   |#define NUM_SM_EXTERNAL 1
                            17763 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            17764 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            17765 ; 73   |#else 
                            17766 ; 74   |#if defined(MMC)
                            17767 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            17768 ; 76   |#define NUM_SM_EXTERNAL 0
                            17769 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            17770 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            17771 ; 79   |#else 
                            17772 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            17773 ; 81   |#define NUM_SM_EXTERNAL 0
                            17774 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            17775 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            17776 ; 84   |#endif
                            17777 ; 85   |#endif
                            17778 ; 86   |
                            17779 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            17780 ; 88   |// Mass Storage Class definitions
                            17781 ; 89   |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 298

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17782 ; 90   |// Set to 0 if Composite Device build is desired.    
                            17783 ; 91   |#define MULTI_LUN_BUILD 1   
                            17784 ; 92   |
                            17785 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            17786 ; 94   |//  SCSI
                            17787 ; 95   |#if (MULTI_LUN_BUILD==0)
                            17788 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            17789 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            17790 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            17791 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            17792 ; 100  |  #else
                            17793 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            17794 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            17795 ; 103  |  #endif
                            17796 ; 104  |#else
                            17797 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            17798 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            17799 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            17800 ; 108  |  #else
                            17801 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            17802 ; 110  |  #endif
                            17803 ; 111  |#endif
                            17804 ; 112  |
                            17805 ; 113  |
                            17806 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            17807 ; 115  |
                            17808 ; 116  |
                            17809 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            17810 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            17811 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            17812 ; 120  |#ifdef MMC
                            17813 ; 121  |#ifdef MTP_BUILD
                            17814 ; 122  |// --------------------
                            17815 ; 123  |// MTP and MMC
                            17816 ; 124  |// --------------------
                            17817 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            17818 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            17819 ; 127  |#else  // ifndef MTP_BUILD
                            17820 ; 128  |#ifdef STMP_BUILD_PLAYER
                            17821 ; 129  |// --------------------
                            17822 ; 130  |// Player and MMC
                            17823 ; 131  |// --------------------
                            17824 ; 132  |#else
                            17825 ; 133  |// --------------------
                            17826 ; 134  |// USBMSC and MMC
                            17827 ; 135  |// --------------------
                            17828 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            17829 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            17830 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            17831 ; 139  |#endif // ifdef MTP_BUILD
                            17832 ; 140  |#else  // ifndef MMC
                            17833 ; 141  |#ifdef MTP_BUILD
                            17834 ; 142  |// --------------------
                            17835 ; 143  |// MTP and NAND only
                            17836 ; 144  |// --------------------
                            17837 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            17838 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            17839 ; 147  |#else  // ifndef MTP_BUILD
                            17840 ; 148  |#ifdef STMP_BUILD_PLAYER
                            17841 ; 149  |// --------------------
                            17842 ; 150  |// Player and NAND only
                            17843 ; 151  |// --------------------
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 299

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17844 ; 152  |#else
                            17845 ; 153  |// --------------------
                            17846 ; 154  |// USBMSC and NAND only
                            17847 ; 155  |// --------------------
                            17848 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            17849 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            17850 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            17851 ; 159  |#endif // ifdef MTP_BUILD
                            17852 ; 160  |#endif // ifdef MMC 
                            17853 ; 161  |
                            17854 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            17855 ; 163  |#if (defined(MTP_BUILD))
                            17856 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            17857 ; 165  |
                            17858 ; 166  |////!
                            17859 ; 167  |////! This varible holds the watchdog count for the store flush.
                            17860 ; 168  |////!
                            17861 ; 169  |///
                            17862 ; 170  |#include <types.h>
                            17863 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            17864 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            17865 ; 173  |#endif
                            17866 ; 174  |
                            17867 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            17868 ; 176  |// These are needed here for Mass Storage Class
                            17869 ; 177  |// Needs to be cleaned up
                            17870 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            17871 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            17872 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            17873 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            17874 ; 182  |
                            17875 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            17876 ; 184  |
                            17877 ; 185  |#endif
                            17878 ; 186  |
                            17879 ; 187  |
                            17880 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            17881 ; 189  |// SmartMedia/NAND defs
                            17882 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            17883 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            17884 ; 192  |
                            17885 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            17886 ; 194  |// Sysloadresources defs
                            17887 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            17888 ; 196  |
                            17889 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            17890 ; 198  |// MMC defs
                            17891 ; 199  |#define MMC_MAX_PARTITIONS 1
                            17892 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            17893 ; 201  |
                            17894 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            17895 ; 203  |// SPI defs
                            17896 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            17897 ; 205  |
                            17898 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            17899 ; 207  |// Global media defs
                            17900 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            17901 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            17902 ; 210  |
                            17903 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            17904 ; 212  |// DO NOT CHANGE THESE!!!
                            17905 ; 213  |#define SM_MAX_PARTITIONS 4
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 300

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17906 ; 214  |#define MAX_HANDLES 2
                            17907 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            17908 ; 216  |
                            17909 ; 217  |
                            17910 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            17911 ; 219  |// Battery LRADC Values 
                            17912 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            17913 ; 221  |// brownout trip point in mV (moved by RS)
                            17914 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            17915 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            17916 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            17917 ; 225  |//     audio recording to media.
                            17918 ; 226  |#define BATT_SAFETY_MARGIN 10
                            17919 ; 227  |
                            17920 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                                  
                            17921 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline vol
                                  tage to do a refresh.
                            17922 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            17923 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            17924 ; 232  |
                            17925 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc 
                                  presence.
                            17926 ; 234  |
                            17927 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            17928 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat che
                                  ck.
                            17929 ; 237  |#if (!defined(CLCD))
                            17930 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            17931 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            17932 ; 240  |#else 
                            17933 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            17934 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            17935 ; 243  |#endif
                            17936 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            17937 ; 245  |
                            17938 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            17939 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIo
                                  n.
                            17940 ; 248  |// See mp3 encoder overlay.
                            17941 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            17942 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            17943 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            17944 ; 252  |
                            17945 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            17946 ; 254  |// Voice recording filenames
                            17947 ; 255  |// number of digits in filename Vxxx.wav
                            17948 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            17949 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            17950 ; 258  |
                            17951 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            17952 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            17953 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            17954 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            17955 ; 263  |#if defined(DEVICE_3500)
                            17956 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            17957 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            17958 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            17959 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, 
                                  & demo player)
                            17960 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            17961 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 301

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17962 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            17963 ; 271  |
                            17964 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn whe
                                  n bias not yet ready.
                            17965 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            17966 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevent
                                  ion if you use rec button from outside voice menu.
                            17967 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latenc
                                  y in the record-from-music-menu use-case.
                            17968 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            17969 ; 277  |
                            17970 ; 278  |#else 
                            17971 ; 279  |// STMP3410
                            17972 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            17973 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            17974 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            17975 ; 283  |#endif
                            17976 ; 284  |
                            17977 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            17978 ; 286  |// Number of available soft timers
                            17979 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            17980 ; 288  |#if defined(SYNC_LYRICS)
                            17981 ; 289  |#define SOFT_TIMERS 10
                            17982 ; 290  |#else 
                            17983 ; 291  |#if defined(JPEG_DECODER)
                            17984 ; 292  |#define SOFT_TIMERS 10
                            17985 ; 293  |#else 
                            17986 ; 294  |#define SOFT_TIMERS 9
                            17987 ; 295  |#endif
                            17988 ; 296  |#endif
                            17989 ; 297  |
                            17990 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            17991 ; 299  |//  sizes
                            17992 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            17993 ; 301  |#if defined(MMC)
                            17994 ; 302  |#if defined(USE_PLAYLIST5)
                            17995 ; 303  |#define MENU_STACK_SIZE 1500
                            17996 ; 304  |#else 
                            17997 ; 305  |#define MENU_STACK_SIZE 1250
                            17998 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            17999 ; 307  |#else 
                            18000 ; 308  |#if defined(USE_PLAYLIST5)
                            18001 ; 309  |#define MENU_STACK_SIZE 1500
                            18002 ; 310  |#else 
                            18003 ; 311  |#define MENU_STACK_SIZE 1250
                            18004 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            18005 ; 313  |#endif //if @def('MMC')
                            18006 ; 314  |
                            18007 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 75
                                  0 else 550 for other builds? TOVERIFY. MYALLOC
                            18008 ; 316  |// 
                            18009 ; 317  |#define STACK_L1_SIZE 750
                            18010 ; 318  |#define STACK_L2_SIZE 100
                            18011 ; 319  |#define STACK_L3_SIZE 160
                            18012 ; 320  |
                            18013 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            18014 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            18015 ; 323  |// is ok with switching code.
                            18016 ; 324  |#if defined(MTP_BUILD)
                            18017 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            18018 ; 326  |#endif
                            18019 ; 327  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 302

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18020 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            18021 ; 329  |// maximum number of nested funclets 
                            18022 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            18023 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            18024 ; 332  |
                            18025 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            18026 ; 334  |//    LCD DEFINITIONS
                            18027 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            18028 ; 336  |
                            18029 ; 337  |#define SPACE_CHAR 0x000020          
                            18030 ; 338  |#define ZERO_CHAR 0x000030
                            18031 ; 339  |#define COLON_CHAR 0x00003A
                            18032 ; 340  |#define PERIOD_CHAR 0x00002E
                            18033 ; 341  |
                            18034 ; 342  |#if (defined(S6B33B0A_LCD))
                            18035 ; 343  |#define LCD_X_SIZE 128
                            18036 ; 344  |#define LCD_Y_SIZE 159
                            18037 ; 345  |#endif
                            18038 ; 346  |
                            18039 ; 347  |#if (defined(SED15XX_LCD))
                            18040 ; 348  |#define LCD_X_SIZE 128
                            18041 ; 349  |#define LCD_Y_SIZE 64
                            18042 ; 350  |#endif
                            18043 ; 351  |
                            18044 ; 352  |
                            18045 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            18046 ; 354  |//   Details on Customizing Contrast
                            18047 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            18048 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            18049 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            18050 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            18051 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            18052 ; 360  |//   unless the ezact sequence is remembered.
                            18053 ; 361  |//   To find out what range your player supports: 
                            18054 ; 362  |//   change these equs to full range or comment out (full range is default)
                            18055 ; 363  |//;;;;;;
                            18056 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            18057 ; 365  |// recommended calibration using player -- uncomment 
                            18058 ; 366  |//;;;;;;
                            18059 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            18060 ; 368  |////////////////////////////
                            18061 ; 369  |#if (defined(DEMO_HW))
                            18062 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi 
                                  LCD (June6'05)
                            18063 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            18064 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            18065 ; 373  |#else 
                            18066 ; 374  |
                            18067 ; 375  |#if (defined(S6B33B0A_LCD))
                            18068 ; 376  |#define LCD_MAX_CONTRAST 210
                            18069 ; 377  |#define LCD_MIN_CONTRAST 160    
                            18070 ; 378  |#endif
                            18071 ; 379  |
                            18072 ; 380  |#if (defined(SED15XX_LCD))
                            18073 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            18074 ; 382  |// Engineering board regs support range [17-37].
                            18075 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            18076 ; 384  |//   One default contrast range [24-42] works for both.
                            18077 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            18078 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            18079 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            18080 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 303

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18081 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            18082 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            18083 ; 391  |
                            18084 ; 392  |#if (defined(NEWSHINGYIH))
                            18085 ; 393  |#define LCD_MAX_CONTRAST 250
                            18086 ; 394  |#define LCD_MIN_CONTRAST 0
                            18087 ; 395  |#else 
                            18088 ; 396  |//-----
                            18089 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            18090 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for bo
                                  th LCDs.
                            18091 ; 399  |#define LCD_MAX_CONTRAST 250
                            18092 ; 400  |#define LCD_MIN_CONTRAST 0
                            18093 ; 401  |
                            18094 ; 402  |//=====
                            18095 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            18096 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this hi
                                  storic ver.
                            18097 ; 405  |//LCD_MAX_CONTRAST equ 42
                            18098 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            18099 ; 407  |
                            18100 ; 408  |#endif
                            18101 ; 409  |#endif
                            18102 ; 410  |
                            18103 ; 411  |#endif
                            18104 ; 412  |
                            18105 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            18106 ; 414  |// The default value of the lcd contrast in % of range
                            18107 ; 415  |//   the default value is used when no settings.dat is available
                            18108 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            18109 ; 417  |
                            18110 ; 418  |#if (defined(S6B33B0A_LCD))
                            18111 ; 419  |// 60% of range is default value
                            18112 ; 420  |#define DEFAULT_CONTRAST 50 
                            18113 ; 421  |#endif
                            18114 ; 422  |
                            18115 ; 423  |#if (defined(SED15XX_LCD))
                            18116 ; 424  |// % of range is default value (was 60%)
                            18117 ; 425  |#define DEFAULT_CONTRAST 50 
                            18118 ; 426  |#endif
                            18119 ; 427  |
                            18120 ; 428  |
                            18121 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            18122 ; 430  |// make lower when doing calibration
                            18123 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            18124 ; 432  |
                            18125 ; 433  |
                            18126 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            18127 ; 435  |// For FFWD and RWND
                            18128 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            18129 ; 437  |#define SECONDS_TO_SKIP 1
                            18130 ; 438  |#define SECONDS_TO_SKIP1 3
                            18131 ; 439  |#define SECONDS_TO_SKIP2 6
                            18132 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            18133 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            18134 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            18135 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            18136 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            18137 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            18138 ; 446  |
                            18139 ; 447  |// For audible FFW/RWD
                            18140 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 304

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18141 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            18142 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            18143 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            18144 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            18145 ; 453  |#define LEVEL1_BOUNDARY 17 
                            18146 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            18147 ; 455  |#define LEVEL2_BOUNDARY 33 
                            18148 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            18149 ; 457  |#define LEVEL3_BOUNDARY 50 
                            18150 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            18151 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            18152 ; 460  |// Short Song Time, songs too short to play.
                            18153 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            18154 ; 462  |
                            18155 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            18156 ; 464  |// MP3 Sync Values
                            18157 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            18158 ; 466  |// # bytes to look for sync before marking it bad
                            18159 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            18160 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            18161 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            18162 ; 470  |// once we have sync'd, the isr should be called this frequently
                            18163 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            18164 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            18165 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            18166 ; 474  |
                            18167 ; 475  |
                            18168 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            18169 ; 477  |//// Multi-Stage Volume Control Definitions
                            18170 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            18171 ; 479  |//// Use Multi-Stage Volume
                            18172 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            18173 ; 481  |
                            18174 ; 482  |//// Master Volume definitions
                            18175 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            18176 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            18177 ; 485  |
                            18178 ; 486  |//// DAC-Mode definitions
                            18179 ; 487  |//// Adjusts 0dB point
                            18180 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            18181 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            18182 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines 
                                  above.
                            18183 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            18184 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provid
                                  es 1.5 dB gain on Stmp34x0; 
                            18185 ; 493  |//                                               Max gain possible: 8 step diff would prov
                                  ide +12dB gain.   
                            18186 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            18187 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            18188 ; 496  |
                            18189 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            18190 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            18191 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                                  
                            18192 ; 500  |
                            18193 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not t
                                  he default
                            18194 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoin
                                  t.
                            18195 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            18196 ; 504  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 305

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18197 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the def
                                  ault
                            18198 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            18199 ; 507  |
                            18200 ; 508  |
                            18201 ; 509  |//// Line In definitions (used for Line-In 1)
                            18202 ; 510  |//// 0dB point of the Line In
                            18203 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            18204 ; 512  |//// Minimum volume of Line In
                            18205 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            18206 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            18207 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            18208 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            18209 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            18210 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS
                                  +1)
                            18211 ; 519  |
                            18212 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            18213 ; 521  |//// 0dB point of the Line In
                            18214 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            18215 ; 523  |//// Minimum volume of Line In
                            18216 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            18217 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            18218 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            18219 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            18220 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            18221 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            18222 ; 530  |
                            18223 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            18224 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid dea
                                  dlock states & recovers. 
                            18225 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            18226 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            18227 ; 535  |
                            18228 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            18229 ; 537  |////
                            18230 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            18231 ; 539  |////
                            18232 ; 540  |///
                            18233 ; 541  |#include <types.h>
                            18234 ; 542  |extern volatile WORD g_wActivityState;
                            18235 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            18236 ; 544  |
                            18237 ; 545  |void _reentrant Init5VSense(void);
                            18238 ; 546  |void _reentrant ServiceDCDC(void);
                            18239 ; 547  |
                            18240 ; 548  |////////////////////////////////////////////////////////////////////////////
                            18241 ; 549  |//// JPEG Thumbnail Mode Setting
                            18242 ; 550  |//// number of column in thumbnail mode
                            18243 ; 551  |#define THUMBNAIL_X 2           
                            18244 ; 552  |//// number of row in  thumbnail mode
                            18245 ; 553  |#define THUMBNAIL_Y 2           
                            18246 ; 554  |//// thumbnail boundary offset x
                            18247 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            18248 ; 556  |//// thumbnail boundary offset y
                            18249 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            18250 ; 558  |
                            18251 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            18252 ; 560  |
                            18253 
                            18255 
                            18256 ; 26   |#include "metadata.h"
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 306

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18257 
                            18259 
                            18260 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            18261 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            18262 ; 3    |//
                            18263 ; 4    |// Filename: metadata.h
                            18264 ; 5    |// Description:
                            18265 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            18266 ; 7    |
                            18267 ; 8    |#ifndef _METADATA_H
                            18268 ; 9    |#define _METADATA_H
                            18269 ; 10   |
                            18270 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            18271 ; 12   |// MetaData definitions
                            18272 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            18273 ; 14   |
                            18274 ; 15   |//#define MMC_CMD59       0x40|59
                            18275 ; 16   |
                            18276 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            18277 ; 18   |// Meta Data structure definitions
                            18278 ; 19   |///////////////////////////////////////////////////////////////////////////////
                            18279 ; 20   |
                            18280 ; 21   |///////////////////////////////////////////////////////////////////////////////
                            18281 ; 22   |// MetaData definitions
                            18282 ; 23   |
                            18283 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                            18284 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                            18285 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            18286 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                            18287 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                            18288 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                            18289 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                            18290 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                            18291 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
                            18292 ; 33   |
                            18293 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
                            18294 ; 35   |
                            18295 ; 36   |// VBR
                            18296 ; 37   |#define VBR_NOT_DETERMINED 0
                            18297 ; 38   |#define VBR_TRUE 1
                            18298 ; 39   |
                            18299 ; 40   |#ifndef TITLE_SIZE
                            18300 ; 41   |//#define TITLE_SIZE 30
                            18301 ; 42   |#ifndef USE_PLAYLIST3
                            18302 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                            18303 ; 44   |#else
                            18304 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                            18305 ; 46   |#endif
                            18306 ; 47   |#endif
                            18307 ; 48   |
                            18308 ; 49   |#ifndef ARTIST_SIZE
                            18309 ; 50   |#ifndef USE_PLAYLIST3
                            18310 ; 51   |//#define ARTIST_SIZE 30
                            18311 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            18312 ; 53   |#else
                            18313 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            18314 ; 55   |#endif
                            18315 ; 56   |#endif
                            18316 ; 57   |
                            18317 ; 58   |#ifndef ALBUM_SIZE
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 307

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18318 ; 59   |#ifndef USE_PLAYLIST3
                            18319 ; 60   |//#define ALBUM_SIZE 30
                            18320 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            18321 ; 62   |#else
                            18322 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            18323 ; 64   |#endif
                            18324 ; 65   |#endif
                            18325 ; 66   |
                            18326 ; 67   |#ifdef USE_PLAYLIST3
                            18327 ; 68   |#ifndef GENRE_SIZE
                            18328 ; 69   |#define GENRE_SIZE 20
                            18329 ; 70   |#endif
                            18330 ; 71   |
                            18331 ; 72   |#ifndef YEAR_SIZE
                            18332 ; 73   |#define YEAR_SIZE 8
                            18333 ; 74   |#endif
                            18334 ; 75   |
                            18335 ; 76   |#ifndef TRACKNUM_SIZE
                            18336 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                            18337 ; 78   |#endif
                            18338 ; 79   |
                            18339 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                            18340 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                            18341 ; 82   |#endif
                            18342 ; 83   |
                            18343 ; 84   |#define XING_TOC_SIZE   100
                            18344 ; 85   |#if MTP_BUILD
                            18345 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                            18346 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                            18347 ; 88   |#define VBR_TOC_SIZE    2
                            18348 ; 89   |#else
                            18349 ; 90   |#define VBR_TOC_SIZE    200
                            18350 ; 91   |#endif
                            18351 ; 92   |
                            18352 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                            18353 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                            18354 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            18355 ; 96   |#ifdef USE_PLAYLIST3
                            18356 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                            18357 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                            18358 ; 99   |extern WORD g_wSongTrackNum;
                            18359 ; 100  |#endif
                            18360 ; 101  |
                            18361 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                            18362 ; 103  |
                            18363 ; 104  |typedef struct {
                            18364 ; 105  |    WORD        iTitleBufferLength;
                            18365 ; 106  |        UCS3       *wTitle;        // Title of Song
                            18366 ; 107  |    WORD        iArtistBufferLength;
                            18367 ; 108  |    UCS3       *wArtist;
                            18368 ; 109  |    WORD        iAlbumBufferLength;
                            18369 ; 110  |    UCS3       *wAlbum;
                            18370 ; 111  |#ifdef USE_PLAYLIST3
                            18371 ; 112  |    WORD        iGenreBufferLength;
                            18372 ; 113  |    UCS3       *wGenre;
                            18373 ; 114  |    WORD        iYearBufferLength;
                            18374 ; 115  |    UCS3       *wYear;
                            18375 ; 116  |    WORD        wTrackNum;
                            18376 ; 117  |#endif
                            18377 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 308

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18378 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
                            18379 ; 120  |        WORD       wNumChannels;
                            18380 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitr
                                  ate found)
                            18381 ; 122  |        LONG       iTime;                 // Length of song in seconds
                            18382 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the deco
                                  der)
                            18383 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                            18384 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                            18385 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
                            18386 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see qu
                                  estion below**)
                            18387 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = I
                                  MA ADPCM, etc (use defines below)
                            18388 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed fo
                                  r this file
                            18389 ; 130  |} FILE_META_DATA;
                            18390 ; 131  |
                            18391 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                            18392 ; 133  |#define UNKNOWN_TYPE   0
                            18393 ; 134  |#define MP3_TYPE       1
                            18394 ; 135  |#define WMA_TYPE       2
                            18395 ; 136  |#define AAC_TYPE       4
                            18396 ; 137  |#define IMA_ADPCM_TYPE 8
                            18397 ; 138  |#define MS_ADPCM_TYPE  16
                            18398 ; 139  |#define PCM_WAV_TYPE   32
                            18399 ; 140  |#define ASF_TYPE       64
                            18400 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                            18401 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                            18402 ; 143  |
                            18403 ; 144  |#define SMV_ADPCM_TYPE 512
                            18404 ; 145  |
                            18405 ; 146  |
                            18406 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                            18407 ; 148  |// Sample rates
                            18408 ; 149  |#ifdef WOW
                            18409 ; 150  |#define SR_48KHZ        48000
                            18410 ; 151  |#define SR_44KHZ        44100
                            18411 ; 152  |#define SR_32KHZ        32000
                            18412 ; 153  |#define SR_24KHZ        24000
                            18413 ; 154  |#define SR_22KHZ        22050
                            18414 ; 155  |#define SR_16KHZ        16000
                            18415 ; 156  |#define SR_12KHZ        12000
                            18416 ; 157  |#define SR_11KHZ        11025
                            18417 ; 158  |#define SR_8KHZ          8000
                            18418 ; 159  |#endif
                            18419 ; 160  |
                            18420 ; 161  |
                            18421 ; 162  |///////////////////////////////////////////////////////////////////////////////
                            18422 ; 163  |// MetaData prototypes
                            18423 ; 164  |///////////////////////////////////////////////////////////////////////////////
                            18424 ; 165  |
                            18425 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_ME
                                  TA_DATA *MetaData);
                            18426 
                            18454 
                            18455 ; 167  |#ifdef USE_PLAYLIST3
                            18456 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAd
                                  dress);
                            18457 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                            18458 ; 170  |#endif
                            18459 ; 171  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 309

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18460 ; 172  |#endif // #ifndef _METADATA_H
                            18461 
                            18463 
                            18464 ; 27   |#include "sysspeed.h"
                            18465 
                            18467 
                            18468 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            18469 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            18470 ; 3    |// Speed defs
                            18471 ; 4    |// NOTE: sysspeed.H is generated from sysspeed.INC. Only modify inc version.
                            18472 ; 5    |// Speed clients: See SPEED_CLIENT_ defines and non 3400 Speed Indeces
                            18473 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                            18474 ; 7    |
                            18475 ; 8    |#if (!defined(SYSSPEED_INC))
                            18476 ; 9    |#define SYSSPEED_INC 1
                            18477 ; 10   |
                            18478 ; 11   |// PLL Frequency Divider (Assume DDIV=0)
                            18479 ; 12   |// PLL Output Frequency = (33+PDIV)*(XTAL/20)   XTAL=24 MHz
                            18480 ; 13   |// PDIV = (Speed * 20 / 24) - 33  (if DDIV=0)
                            18481 ; 14   |// Digital Clock Post Divider 
                            18482 ; 15   |// Digital Clock = PLL Output Fequency / 2^DDIV   (Speed is in MHz)
                            18483 ; 16   |// GP Flash Timing Registers
                            18484 ; 17   |// x:HW_GPFLASH_TIMING1R
                            18485 ; 18   |//      TSU = 0ns 
                            18486 ; 19   |//      TH = 10ns Min
                            18487 ; 20   |// Use Default Settings since max speed is 75.6 MHz or 13.2275 ns
                            18488 ; 21   |// Add Register if needed
                            18489 ; 22   |// x:HW_GPFLASH_TIMING2R 
                            18490 ; 23   |//      TDS = 25ns Min  data setup time
                            18491 ; 24   |//      TDH = 15ns Min  data hold  time
                            18492 ; 25   |//      TDS + TDH must be > 50 nS
                            18493 ; 26   |// Speed Indexes (into the speed table)
                            18494 ; 27   |//!!!!! ** MUST BE ORDERED FROM LOWEST TO HIGHEST FREQ ** !!!!!
                            18495 ; 28   |// NOTE: Executive speed client must only use speed index 1 or 0 (IDLE).
                            18496 ; 29   |#define SPEED_IDLE 0 
                            18497 ; 30   |#define SPEED_AUDIBLE_MP3 1
                            18498 ; 31   |#define SPEED_AUDIBLE_ACELP_SR8KHz 2
                            18499 ; 32   |#define SPEED_FM 3
                            18500 ; 33   |#define SPEED_FM_EQ 4
                            18501 ; 34   |#define SPEED_AUDIBLE_ACELP_SR16KHz 5
                            18502 ; 35   |#define SPEED_MP3 6
                            18503 ; 36   |#define SPEED_ADPCM 7
                            18504 ; 37   |#define SPEED_MIXER 8
                            18505 ; 38   |#define SPEED_ADCBASE 9
                            18506 ; 39   |#define SPEED_MAX 10
                            18507 ; 40   |#define SPEED_WMA 11
                            18508 ; 41   |#define SPEED_MP3ENCODE 12
                            18509 ; 42   |#define SPEED_PEAK 13
                            18510 ; 43   |#define SPEED_LAST SPEED_PEAK
                            18511 ; 44   |#define SPEED_UNINITIALIZED SPEED_LAST+1
                            18512 ; 45   |// SPEED_UNINITIALIZED must be the highest index value
                            18513 ; 46   |
                            18514 ; 47   |// Idle speed is 10 MHz  (98.04nS)
                            18515 ; 48   |#define IDLE_SPEED 10              
                            18516 ; 49   |// (1+33)*(24/20) = 40.8
                            18517 ; 50   |#define IDLE_PDIV 1               
                            18518 ; 51   |// 40.5504 / (2^2) = 10.2 MHz
                            18519 ; 52   |#define IDLE_DDIV 2               
                            18520 ; 53   |// 1.37v
                            18521 ; 54   |#define IDLE_VOLTAGE 0x00000B         
                            18522 ; 55   |// 1.28v 
                            18523 ; 56   |#define IDLE_BOVOLTAGE 0x000800         
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 310

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18524 ; 57   |
                            18525 ; 58   |
                            18526 ; 59   |// tdh and tds: hold and setup times in n dclks are 6-bit fields that are right justified 
                                  byte aligned
                            18527 ; 60   |// 60MHz MSC uses the following clock setup: 
                            18528 ; 61   |// NAND1     $000203 -> (2+3)/60MHz =  83.3ns   2 dclk hold and 3 dclk setup
                            18529 ; 62   |// NAND2     $000304 -> (3+4)/60MHz = 116.7ns
                            18530 ; 63   |// NAND3     $000305 -> (3+5)/60MHz = 133.3ns
                            18531 ; 64   |// NAND4     $000305 -> (3+5)/60MHz = 133.3ns
                            18532 ; 65   |// So, for 10MHz idle speed:
                            18533 ; 66   |// NAND1,2,4 may use $000101 
                            18534 ; 67   |#if (defined(DEBUG))
                            18535 ; 68   |#if (defined(NAND1))
                            18536 ; 69   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18537 ; 70   |#define IDLE_GPSPEED 0x000101         
                            18538 ; 71   |#else 
                            18539 ; 72   |#if (defined(NAND2))
                            18540 ; 73   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18541 ; 74   |#define IDLE_GPSPEED 0x000101         
                            18542 ; 75   |#else 
                            18543 ; 76   |#if (defined(NAND3))
                            18544 ; 77   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18545 ; 78   |#define IDLE_GPSPEED 0x000101         
                            18546 ; 79   |#else 
                            18547 ; 80   |#if (defined(NAND4))
                            18548 ; 81   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18549 ; 82   |#define IDLE_GPSPEED 0x000101         
                            18550 ; 83   |#else 
                            18551 ; 84   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18552 ; 85   |#define IDLE_GPSPEED 0x000101         
                            18553 ; 86   |#endif
                            18554 ; 87   |#endif
                            18555 ; 88   |#endif
                            18556 ; 89   |#endif
                            18557 ; 90   |#else 
                            18558 ; 91   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18559 ; 92   |#define IDLE_GPSPEED 0x000101         
                            18560 ; 93   |#endif
                            18561 ; 94   |//---------    
                            18562 ; 95   |
                            18563 ; 96   |// speed is 15 MHz(66.6nS)
                            18564 ; 97   |#define AUDIBLE_MP3_SPEED 15              
                            18565 ; 98   |// PLL O/P freq = (33 + PDIV)*(24/20) = (33 + 17)*(24/20) = 60MHz
                            18566 ; 99   |#define AUDIBLE_MP3_PDIV 17              
                            18567 ; 100  |// DCLK = 40.8MHz/(2^DDIV) = 15MHz
                            18568 ; 101  |#define AUDIBLE_MP3_DDIV 2               
                            18569 ; 102  |// 1.37V
                            18570 ; 103  |#define AUDIBLE_MP3_VOLTAGE 0x00000B         
                            18571 ; 104  |// 1.28V 
                            18572 ; 105  |#define AUDIBLE_MP3_BOVOLTAGE 0x000800         
                            18573 ; 106  |
                            18574 ; 107  |// NAND1     15MHz *  83.3ns = 1.249 -> $000101
                            18575 ; 108  |// NAND2     15MHz * 116.7ns = 1.750 -> $000101
                            18576 ; 109  |// NAND3|4   15MHz * 133.3ns = 1.999 -> $000101
                            18577 ; 110  |
                            18578 ; 111  |#if (defined(DEBUG))
                            18579 ; 112  |#if (defined(NAND1))
                            18580 ; 113  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18581 ; 114  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            18582 ; 115  |#else 
                            18583 ; 116  |#if (defined(NAND2))
                            18584 ; 117  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 311

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18585 ; 118  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            18586 ; 119  |#else 
                            18587 ; 120  |#if (defined(NAND3))
                            18588 ; 121  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18589 ; 122  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            18590 ; 123  |#else 
                            18591 ; 124  |#if (defined(NAND4))
                            18592 ; 125  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18593 ; 126  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            18594 ; 127  |#else 
                            18595 ; 128  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18596 ; 129  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            18597 ; 130  |#endif
                            18598 ; 131  |#endif
                            18599 ; 132  |#endif
                            18600 ; 133  |#endif
                            18601 ; 134  |#else 
                            18602 ; 135  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18603 ; 136  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            18604 ; 137  |#endif
                            18605 ; 138  |//---------   
                            18606 ; 139  |
                            18607 ; 140  |// speed is 15 MHz(66.6nS)
                            18608 ; 141  |#define AUDIBLE_ACELP_SR8KHz_SPEED 15              
                            18609 ; 142  |// PLL O/P freq = (33 + PDIV)*(24/20) = (33 + 17)*(24/20) = 60MHz
                            18610 ; 143  |#define AUDIBLE_ACELP_SR8KHz_PDIV 17              
                            18611 ; 144  |// DCLK = 40.8MHz/(2^DDIV) = 15MHz
                            18612 ; 145  |#define AUDIBLE_ACELP_SR8KHz_DDIV 2               
                            18613 ; 146  |// 1.37V
                            18614 ; 147  |#define AUDIBLE_ACELP_SR8KHz_VOLTAGE 0x00000B         
                            18615 ; 148  |// 1.28V 
                            18616 ; 149  |#define AUDIBLE_ACELP_SR8KHz_BOVOLTAGE 0x000800         
                            18617 ; 150  |
                            18618 ; 151  |// NAND1     15MHz *  83.3ns = 1.249 -> $000101
                            18619 ; 152  |// NAND2     15MHz * 116.7ns = 1.750 -> $000101
                            18620 ; 153  |// NAND3|4   15MHz * 133.3ns = 1.999 -> $000101
                            18621 ; 154  |
                            18622 ; 155  |#if (defined(DEBUG))
                            18623 ; 156  |#if (defined(NAND1))
                            18624 ; 157  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18625 ; 158  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            18626 ; 159  |#else 
                            18627 ; 160  |#if (defined(NAND2))
                            18628 ; 161  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18629 ; 162  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            18630 ; 163  |#else 
                            18631 ; 164  |#if (defined(NAND3))
                            18632 ; 165  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18633 ; 166  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            18634 ; 167  |#else 
                            18635 ; 168  |#if (defined(NAND4))
                            18636 ; 169  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18637 ; 170  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            18638 ; 171  |#else 
                            18639 ; 172  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18640 ; 173  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            18641 ; 174  |#endif
                            18642 ; 175  |#endif
                            18643 ; 176  |#endif
                            18644 ; 177  |#endif
                            18645 ; 178  |#else 
                            18646 ; 179  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 312

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18647 ; 180  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            18648 ; 181  |#endif
                            18649 ; 182  |//--------- 
                            18650 ; 183  |// Changed speed from 18Mhz to 24Mhz stmp10415
                            18651 ; 184  |// stmp10415   was 18              ; FM speed is 18 MHz, which is as low as possible for S
                                  teely Dan Tuner in sdk 2.610. In 3.110 we need >22Mhz so we use 24Mhz. 
                            18652 ; 185  |#define FM_SPEED 24 
                            18653 ; 186  |// stmp10415   was 27              ; (27+33)*(24/20) = 72 in sdk2.610.  In sdk 3.110 we us
                                  e (7+33)*(24/20) = 48.
                            18654 ; 187  |#define FM_PDIV 7  
                            18655 ; 188  |// stmp10415   was  2              ; 72 / (2^2) = 18 MHz in sdk 2.610.    In 3.110 we use 
                                  48/2^1 = 24Mhz. 
                            18656 ; 189  |#define FM_DDIV 1  
                            18657 ; 190  |
                            18658 ; 191  |// 1.44V        - Steely Dan spec at 1.35V
                            18659 ; 192  |#define FM_VOLTAGE 0x00000d         
                            18660 ; 193  |// 1.28v
                            18661 ; 194  |#define FM_BOVOLTAGE 0x000800         
                            18662 ; 195  |#if (defined(DEBUG))
                            18663 ; 196  |#if (defined(NAND1))
                            18664 ; 197  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            18665 ; 198  |#define FM_GPSPEED 0x000102         
                            18666 ; 199  |#else 
                            18667 ; 200  |#if (defined(NAND2))
                            18668 ; 201  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            18669 ; 202  |#define FM_GPSPEED 0x000203         
                            18670 ; 203  |#else 
                            18671 ; 204  |#if (defined(NAND3))
                            18672 ; 205  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            18673 ; 206  |#define FM_GPSPEED 0x000203         
                            18674 ; 207  |#else 
                            18675 ; 208  |#if (defined(NAND4))
                            18676 ; 209  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            18677 ; 210  |#define FM_GPSPEED 0x000203         
                            18678 ; 211  |#else 
                            18679 ; 212  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            18680 ; 213  |#define FM_GPSPEED 0x000102         
                            18681 ; 214  |#endif
                            18682 ; 215  |#endif
                            18683 ; 216  |#endif
                            18684 ; 217  |#endif
                            18685 ; 218  |#else 
                            18686 ; 219  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            18687 ; 220  |#define FM_GPSPEED 0x000203         
                            18688 ; 221  |#endif
                            18689 ; 222  |//---------
                            18690 ; 223  |// Increase to 30 MHz to support equalizer
                            18691 ; 224  |#define FM_EQ_SPEED 30  
                            18692 ; 225  |// (17+33)*(24/20) = 60
                            18693 ; 226  |#define FM_EQ_PDIV 17  
                            18694 ; 227  |//  60 / (2^1) = 30 MHz  
                            18695 ; 228  |#define FM_EQ_DDIV 1   
                            18696 ; 229  |
                            18697 ; 230  |// Higher voltages when using equalizer and TA2 STFM1000 to prevent lockup when changing E
                                  Q settings rapidly
                            18698 ; 231  |//1.44v  - Steely Dan spec at 1.35V
                            18699 ; 232  |#define FM_EQ_VOLTAGE 0x00000D   
                            18700 ; 233  |//1.31v     
                            18701 ; 234  |#define FM_EQ_BOVOLTAGE 0x000900   
                            18702 ; 235  |
                            18703 ; 236  |#if (defined(DEBUG))
                            18704 ; 237  |#if (defined(NAND1))
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 313

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18705 ; 238  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            18706 ; 239  |#define FM_EQ_GPSPEED 0x000102         
                            18707 ; 240  |#else 
                            18708 ; 241  |#if (defined(NAND2))
                            18709 ; 242  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            18710 ; 243  |#define FM_EQ_GPSPEED 0x000203         
                            18711 ; 244  |#else 
                            18712 ; 245  |#if (defined(NAND3))
                            18713 ; 246  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            18714 ; 247  |#define FM_EQ_GPSPEED 0x000203         
                            18715 ; 248  |#else 
                            18716 ; 249  |#if (defined(NAND4))
                            18717 ; 250  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            18718 ; 251  |#define FM_EQ_GPSPEED 0x000203         
                            18719 ; 252  |#else 
                            18720 ; 253  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            18721 ; 254  |#define FM_EQ_GPSPEED 0x000102         
                            18722 ; 255  |#endif
                            18723 ; 256  |#endif
                            18724 ; 257  |#endif
                            18725 ; 258  |#endif
                            18726 ; 259  |#else 
                            18727 ; 260  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            18728 ; 261  |#define FM_EQ_GPSPEED 0x000203         
                            18729 ; 262  |#endif
                            18730 ; 263  |//---------
                            18731 ; 264  |
                            18732 ; 265  |
                            18733 ; 266  |// Audible Acelp speed is 36 MHz(27.78nS)
                            18734 ; 267  |#define AUDIBLE_ACELP_SR16KHz_SPEED 36            
                            18735 ; 268  |// PLL O/P freq = (33 + PDIV)*(24/20)   = (33+27)*(24/20) = 72MHz
                            18736 ; 269  |#define AUDIBLE_ACELP_SR16KHz_PDIV 27              
                            18737 ; 270  |// DCLK = 60MHz/(2^DDIV) = 36MHz
                            18738 ; 271  |#define AUDIBLE_ACELP_SR16KHz_DDIV 1             
                            18739 ; 272  |// 1.37V
                            18740 ; 273  |#define AUDIBLE_ACELP_SR16KHz_VOLTAGE 0x00000B       
                            18741 ; 274  |// 1.28V 
                            18742 ; 275  |#define AUDIBLE_ACELP_SR16KHz_BOVOLTAGE 0x000800       
                            18743 ; 276  |
                            18744 ; 277  |// NAND1     36MHz *  83.3ns = 2.999 -> $000102
                            18745 ; 278  |// NAND2     36MHz * 116.7ns = 4.201 -> $000203
                            18746 ; 279  |// NAND4     36MHz * 133.3ns = 4.788 -> $000203
                            18747 ; 280  |#if (defined(DEBUG))
                            18748 ; 281  |#if (defined(NAND1))
                            18749 ; 282  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18750 ; 283  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000102         
                            18751 ; 284  |#else 
                            18752 ; 285  |#if (defined(NAND2))
                            18753 ; 286  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18754 ; 287  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000203         
                            18755 ; 288  |#else 
                            18756 ; 289  |#if (defined(NAND3))
                            18757 ; 290  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18758 ; 291  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000203         
                            18759 ; 292  |#else 
                            18760 ; 293  |#if (defined(NAND4))
                            18761 ; 294  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18762 ; 295  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000203         
                            18763 ; 296  |#else 
                            18764 ; 297  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18765 ; 298  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000102         
                            18766 ; 299  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 314

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18767 ; 300  |#endif
                            18768 ; 301  |#endif
                            18769 ; 302  |#endif
                            18770 ; 303  |#else 
                            18771 ; 304  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18772 ; 305  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000102         
                            18773 ; 306  |#endif
                            18774 ; 307  |//---------   
                            18775 ; 308  |
                            18776 ; 309  |
                            18777 ; 310  |
                            18778 ; 311  |
                            18779 ; 312  |// MP3 speed is 36 MHz  (27.78nS)
                            18780 ; 313  |#define MP3_SPEED 36              
                            18781 ; 314  |// (27+33)*(24/20) = 72
                            18782 ; 315  |#define MP3_PDIV 27              
                            18783 ; 316  |// 72 / (2^1) = 36 MHz
                            18784 ; 317  |#define MP3_DDIV 1               
                            18785 ; 318  |// 1.37v
                            18786 ; 319  |#define MP3_VOLTAGE 0x00000B         
                            18787 ; 320  |// 1.28v
                            18788 ; 321  |#define MP3_BOVOLTAGE 0x000800         
                            18789 ; 322  |
                            18790 ; 323  |// NAND1     36MHz *  83.3ns = 2.999 -> $000102
                            18791 ; 324  |// NAND2     36MHz * 116.7ns = 4.201 -> $000203
                            18792 ; 325  |// NAND4     36MHz * 133.3ns = 4.788 -> $000203
                            18793 ; 326  |#if (defined(DEBUG))
                            18794 ; 327  |#if (defined(NAND1))
                            18795 ; 328  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18796 ; 329  |#define MP3_GPSPEED 0x000102         
                            18797 ; 330  |#else 
                            18798 ; 331  |#if (defined(NAND2))
                            18799 ; 332  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18800 ; 333  |#define MP3_GPSPEED 0x000203         
                            18801 ; 334  |#else 
                            18802 ; 335  |#if (defined(NAND3))
                            18803 ; 336  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18804 ; 337  |#define MP3_GPSPEED 0x000203         
                            18805 ; 338  |#else 
                            18806 ; 339  |#if (defined(NAND4))
                            18807 ; 340  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18808 ; 341  |#define MP3_GPSPEED 0x000203         
                            18809 ; 342  |#else 
                            18810 ; 343  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18811 ; 344  |#define MP3_GPSPEED 0x000102         
                            18812 ; 345  |#endif
                            18813 ; 346  |#endif
                            18814 ; 347  |#endif
                            18815 ; 348  |#endif
                            18816 ; 349  |#else 
                            18817 ; 350  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18818 ; 351  |#define MP3_GPSPEED 0x000102         
                            18819 ; 352  |#endif
                            18820 ; 353  |//---------
                            18821 ; 354  |// ADPCM speed is 36 MHz  (27.78nS)
                            18822 ; 355  |#define ADPCM_SPEED 36              
                            18823 ; 356  |// (27+33)*(24/20) = 72
                            18824 ; 357  |#define ADPCM_PDIV 27              
                            18825 ; 358  |// 72 / (2^1) = 36 MHz
                            18826 ; 359  |#define ADPCM_DDIV 1               
                            18827 ; 360  |// 1.37v
                            18828 ; 361  |#define ADPCM_VOLTAGE 0x00000B         
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 315

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18829 ; 362  |// 1.28v
                            18830 ; 363  |#define ADPCM_BOVOLTAGE 0x000800         
                            18831 ; 364  |
                            18832 ; 365  |// NAND1     36MHz *  83.3ns = 2.999 -> $000102
                            18833 ; 366  |// NAND2     36MHz * 116.7ns = 4.201 -> $000203
                            18834 ; 367  |// NAND3|4   36MHz * 133.3ns = 4.788 -> $000203
                            18835 ; 368  |#if (defined(DEBUG))
                            18836 ; 369  |#if (defined(NAND1))
                            18837 ; 370  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18838 ; 371  |#define ADPCM_GPSPEED 0x000102         
                            18839 ; 372  |#else 
                            18840 ; 373  |#if (defined(NAND2))
                            18841 ; 374  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18842 ; 375  |#define ADPCM_GPSPEED 0x000203         
                            18843 ; 376  |#else 
                            18844 ; 377  |#if (defined(NAND3))
                            18845 ; 378  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18846 ; 379  |#define ADPCM_GPSPEED 0x000203         
                            18847 ; 380  |#else 
                            18848 ; 381  |#if (defined(NAND4))
                            18849 ; 382  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18850 ; 383  |#define ADPCM_GPSPEED 0x000203         
                            18851 ; 384  |#else 
                            18852 ; 385  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18853 ; 386  |#define ADPCM_GPSPEED 0x000102         
                            18854 ; 387  |#endif
                            18855 ; 388  |#endif
                            18856 ; 389  |#endif
                            18857 ; 390  |#endif
                            18858 ; 391  |#else 
                            18859 ; 392  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18860 ; 393  |#define ADPCM_GPSPEED 0x000102         
                            18861 ; 394  |#endif
                            18862 ; 395  |//---------
                            18863 ; 396  |// Mixer use requires a min vddd. Reason for this: 
                            18864 ; 397  |// ************
                            18865 ; 398  |// Stmp00004930: Field failure: Distortion from the mixer. Very worst case 
                            18866 ; 399  |//           conditions (at cold) will cause the ADC to not provide any samples.
                            18867 ; 400  |//           All mixer/adc functions must run VDDD>=1.43V. This includes encoding
                            18868 ; 401  |//           and Fmtuner  operation (uses line-in via mixer) in the SDK. 
                            18869 ; 402  |// ************
                            18870 ; 403  |// same as Idle speed defined above
                            18871 ; 404  |#define MIXER_SPEED IDLE_SPEED      
                            18872 ; 405  |// same as idle case defined above
                            18873 ; 406  |#define MIXER_PDIV IDLE_PDIV       
                            18874 ; 407  |// same as idle case defined above
                            18875 ; 408  |#define MIXER_DDIV IDLE_DDIV       
                            18876 ; 409  |// 1.44v
                            18877 ; 410  |#define MIXER_VOLTAGE 0x00000D         
                            18878 ; 411  |// 1.34v as in the MAX_BOVOLTAGE case below which has same Vddd.
                            18879 ; 412  |#define MIXER_BOVOLTAGE 0x000A00         
                            18880 ; 413  |
                            18881 ; 414  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18882 ; 415  |#define MIXER_GPSPEED IDLE_GPSPEED    
                            18883 ; 416  |//---------
                            18884 ; 417  |// ADCBASE speed is 36 MHz  (27.78nS)
                            18885 ; 418  |#define ADCBASE_SPEED 36              
                            18886 ; 419  |// (27+33)*(24/20) = 72
                            18887 ; 420  |#define ADCBASE_PDIV 27              
                            18888 ; 421  |// 72 / (2^1) = 36 MHz
                            18889 ; 422  |#define ADCBASE_DDIV 1               
                            18890 ; 423  |// 1.44v Min vddd voltage to operate high res ADC @ low temp.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 316

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18891 ; 424  |#define ADCBASE_VOLTAGE 0x00000D         
                            18892 ; 425  |// 1.34v Voltages same as max case. Rest matches ADPCM case.
                            18893 ; 426  |#define ADCBASE_BOVOLTAGE 0x000A00         
                            18894 ; 427  |
                            18895 ; 428  |// NAND1     36MHz *  83.3ns = 2.999 -> $000102
                            18896 ; 429  |// NAND2     36MHz * 116.7ns = 4.201 -> $000203
                            18897 ; 430  |// NAND4     36MHz * 133.3ns = 4.788 -> $000203
                            18898 ; 431  |#if (defined(DEBUG))
                            18899 ; 432  |#if (defined(NAND1))
                            18900 ; 433  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18901 ; 434  |#define ADCBASE_GPSPEED 0x000102         
                            18902 ; 435  |#else 
                            18903 ; 436  |#if (defined(NAND2))
                            18904 ; 437  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18905 ; 438  |#define ADCBASE_GPSPEED 0x000203         
                            18906 ; 439  |#else 
                            18907 ; 440  |#if (defined(NAND3))
                            18908 ; 441  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18909 ; 442  |#define ADCBASE_GPSPEED 0x000203         
                            18910 ; 443  |#else 
                            18911 ; 444  |#if (defined(NAND4))
                            18912 ; 445  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18913 ; 446  |#define ADCBASE_GPSPEED 0x000203         
                            18914 ; 447  |#else 
                            18915 ; 448  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18916 ; 449  |#define ADCBASE_GPSPEED 0x000102         
                            18917 ; 450  |#endif
                            18918 ; 451  |#endif
                            18919 ; 452  |#endif
                            18920 ; 453  |#endif
                            18921 ; 454  |#else 
                            18922 ; 455  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18923 ; 456  |#define ADCBASE_GPSPEED 0x000102         
                            18924 ; 457  |#endif
                            18925 ; 458  |//---------
                            18926 ; 459  |// MAX speed is 48 MHz (20.83ns)
                            18927 ; 460  |#define MAX_SPEED 48              
                            18928 ; 461  |// (7+33)*(24/20) = 48
                            18929 ; 462  |#define MAX_PDIV 7               
                            18930 ; 463  |// 47.9232 / (2^0) = 48 MHz
                            18931 ; 464  |#define MAX_DDIV 0               
                            18932 ; 465  |// 1.44v
                            18933 ; 466  |#define MAX_VOLTAGE 0x00000D         
                            18934 ; 467  |// 1.34v
                            18935 ; 468  |#define MAX_BOVOLTAGE 0x000A00         
                            18936 ; 469  |
                            18937 ; 470  |// NAND1     48MHz *  83.3ns = 3.998 -> $000202 -> $000203 required (setup needs 3dclk)
                            18938 ; 471  |// NAND2     48MHz * 116.7ns = 5.602 -> $000303
                            18939 ; 472  |// NAND3|4   48MHz * 133.3ns = 6.398 -> $000304
                            18940 ; 473  |#if (defined(DEBUG))
                            18941 ; 474  |#if (defined(NAND1))
                            18942 ; 475  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18943 ; 476  |#define MAX_GPSPEED 0x000203         
                            18944 ; 477  |#else 
                            18945 ; 478  |#if (defined(NAND2))
                            18946 ; 479  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 3 for TDS
                            18947 ; 480  |#define MAX_GPSPEED 0x000303         
                            18948 ; 481  |#else 
                            18949 ; 482  |#if (defined(NAND3))
                            18950 ; 483  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            18951 ; 484  |#define MAX_GPSPEED 0x000304         
                            18952 ; 485  |#else 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 317

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18953 ; 486  |#if (defined(NAND4))
                            18954 ; 487  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            18955 ; 488  |#define MAX_GPSPEED 0x000304         
                            18956 ; 489  |#else 
                            18957 ; 490  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18958 ; 491  |#define MAX_GPSPEED 0x000203         
                            18959 ; 492  |#endif
                            18960 ; 493  |#endif
                            18961 ; 494  |#endif
                            18962 ; 495  |#endif
                            18963 ; 496  |#else 
                            18964 ; 497  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18965 ; 498  |#define MAX_GPSPEED 0x000203         
                            18966 ; 499  |#endif
                            18967 ; 500  |//---------
                            18968 ; 501  |// WMA speed is 60MHz   (16.67nS)
                            18969 ; 502  |#define WMA_SPEED 60              
                            18970 ; 503  |// (17+33)*(24/20) = 60
                            18971 ; 504  |#define WMA_PDIV 17              
                            18972 ; 505  |// 60 / (2^0) = 60 MHz
                            18973 ; 506  |#define WMA_DDIV 0               
                            18974 ; 507  |// 1.63V
                            18975 ; 508  |#define WMA_VOLTAGE 0x000013         
                            18976 ; 509  |// 1.54V
                            18977 ; 510  |#define WMA_BOVOLTAGE 0x001000         
                            18978 ; 511  |
                            18979 ; 512  |// Matching values for MSC (see note above for IDLE_GPSPEED)
                            18980 ; 513  |#if (defined(DEBUG))
                            18981 ; 514  |#if (defined(NAND1))
                            18982 ; 515  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18983 ; 516  |#define WMA_GPSPEED 0x000203         
                            18984 ; 517  |#else 
                            18985 ; 518  |#if (defined(NAND2))
                            18986 ; 519  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            18987 ; 520  |#define WMA_GPSPEED 0x000304         
                            18988 ; 521  |#else 
                            18989 ; 522  |#if (defined(NAND3))
                            18990 ; 523  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 5 for TDS
                            18991 ; 524  |#define WMA_GPSPEED 0x000305         
                            18992 ; 525  |#else 
                            18993 ; 526  |#if (defined(NAND4))
                            18994 ; 527  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 5 for TDS
                            18995 ; 528  |#define WMA_GPSPEED 0x000305         
                            18996 ; 529  |#else 
                            18997 ; 530  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18998 ; 531  |#define WMA_GPSPEED 0x000203         
                            18999 ; 532  |#endif
                            19000 ; 533  |#endif
                            19001 ; 534  |#endif
                            19002 ; 535  |#endif
                            19003 ; 536  |#else 
                            19004 ; 537  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            19005 ; 538  |#define WMA_GPSPEED 0x000203         
                            19006 ; 539  |#endif
                            19007 ; 540  |//---------
                            19008 ; 541  |// MP3ENCODE speed is 65MHz   (15.35nS) but see next line
                            19009 ; 542  |#define MP3ENCODE_SPEED 65              
                            19010 ; 543  |// (22+33)*(24/20) = 65; but   (20+33)*(24/20)=63.6 (T=15.723 ns)
                            19011 ; 544  |#define MP3ENCODE_PDIV 20              
                            19012 ; 545  |// 65.1264 / (2^0) = 65 MHz;   63.6 / 2^0 = 63.6 MHz
                            19013 ; 546  |#define MP3ENCODE_DDIV 0               
                            19014 ; 547  |// 1.82V
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 318

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19015 ; 548  |#define MP3ENCODE_VOLTAGE 0x000019         
                            19016 ; 549  |// 1.76 v 
                            19017 ; 550  |#define MP3ENCODE_BOVOLTAGE 0x001700         
                            19018 ; 551  |
                            19019 ; 552  |// NAND1     65MHz *  83.3ns = 5.415 -> $000303
                            19020 ; 553  |// NAND2     65MHz * 116.7ns = 7.586 -> $000404
                            19021 ; 554  |// NAND3|4   65MHz * 133.3ns = 8.665 -> $000405
                            19022 ; 555  |#if (defined(DEBUG))
                            19023 ; 556  |#if (defined(NAND1))
                            19024 ; 557  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 3 for TDS
                            19025 ; 558  |#define MP3ENCODE_GPSPEED 0x000303         
                            19026 ; 559  |#else 
                            19027 ; 560  |#if (defined(NAND2))
                            19028 ; 561  |// HW_GPFLASH_TIMING2R - 4dclk/access time for TDH and 4 for TDS
                            19029 ; 562  |#define MP3ENCODE_GPSPEED 0x000404         
                            19030 ; 563  |#else 
                            19031 ; 564  |#if (defined(NAND3))
                            19032 ; 565  |// HW_GPFLASH_TIMING2R - 4dclk/access time for TDH and 5 for TDS
                            19033 ; 566  |#define MP3ENCODE_GPSPEED 0x000405         
                            19034 ; 567  |#else 
                            19035 ; 568  |#if (defined(NAND4))
                            19036 ; 569  |// HW_GPFLASH_TIMING2R - 4dclk/access time for TDH and 5 for TDS
                            19037 ; 570  |#define MP3ENCODE_GPSPEED 0x000405         
                            19038 ; 571  |#else 
                            19039 ; 572  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 3 for TDS
                            19040 ; 573  |#define MP3ENCODE_GPSPEED 0x000303         
                            19041 ; 574  |#endif
                            19042 ; 575  |#endif
                            19043 ; 576  |#endif
                            19044 ; 577  |#endif
                            19045 ; 578  |#else 
                            19046 ; 579  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 3 for TDS
                            19047 ; 580  |#define MP3ENCODE_GPSPEED 0x000303         
                            19048 ; 581  |#endif
                            19049 ; 582  |//---------
                            19050 ; 583  |// x:HW_GPFLASH_TIMING2R 
                            19051 ; 584  |//      TDS = 25ns Min data setup time. Note usbmsc says 45 for min. 20ns is a typical nan
                                  d flash.
                            19052 ; 585  |//      TDH = 15ns Min data hold  time. Note usbmsc says 30 for min. But has min (tds+tdh)
                                  >50ns.
                            19053 ; 586  |//      TDS + TDH must be > 50 nS
                            19054 ; 587  |// PEAK speed is 75.6MHz T=13.2275 ns  
                            19055 ; 588  |#define PEAK_SPEED 75              
                            19056 ; 589  |// (29+33)*(24/20) = 75.6          
                            19057 ; 590  |#define PEAK_PDIV 30              
                            19058 ; 591  |// 75.6 / (2^0) = 75.6 MHz     
                            19059 ; 592  |#define PEAK_DDIV 0               
                            19060 ; 593  |// 1.92V 
                            19061 ; 594  |#define PEAK_VOLTAGE 0x00001c         
                            19062 ; 595  |// 1.82V                        
                            19063 ; 596  |#define PEAK_BOVOLTAGE 0x001900         
                            19064 ; 597  |
                            19065 ; 598  |// DEBUG builds have different setup&hold due to engineering board's capacitance. RETAIL B
                                  UILDS USE ONE VALUE. 
                            19066 ; 599  |// ns times below are from usbmsc's total (tds + tdh) = setup+hold. USBMSC runs at 60 MHz.
                                  
                            19067 ; 600  |// NAND1     75.6 MHz *  83.3ns = 6.247 DCLKs so 7 -> $000304      
                            19068 ; 601  |// NAND2     75.6 MHz * 116.7ns = 8.823 DCLKs so 9 -> $000405      
                            19069 ; 602  |// NAND3|4   75.6 MHz * 133.3ns = 10.078 DCLKs     -> $000505 If issues try 000506 here (T
                                  DS=6).     
                            19070 ; 603  |#if (defined(DEBUG))
                            19071 ; 604  |#if (defined(NAND1))
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 319

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19072 ; 605  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            19073 ; 606  |#define PEAK_GPSPEED 0x000304         
                            19074 ; 607  |#else 
                            19075 ; 608  |#if (defined(NAND2))
                            19076 ; 609  |// HW_GPFLASH_TIMING2R - 4dclk/access time for TDH and 5 for TDS; nand1 settings work on m
                                  ultinand if good layout.
                            19077 ; 610  |#define PEAK_GPSPEED 0x000405         
                            19078 ; 611  |#else 
                            19079 ; 612  |#if (defined(NAND3))
                            19080 ; 613  |// HW_GPFLASH_TIMING2R - 5dclk/access time for TDH and 5 for TDS
                            19081 ; 614  |#define PEAK_GPSPEED 0x000505         
                            19082 ; 615  |#else 
                            19083 ; 616  |#if (defined(NAND4))
                            19084 ; 617  |// HW_GPFLASH_TIMING2R - 5dclk/access time for TDH and 5 for TDS
                            19085 ; 618  |#define PEAK_GPSPEED 0x000505         
                            19086 ; 619  |#else 
                            19087 ; 620  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            19088 ; 621  |#define PEAK_GPSPEED 0x000304         
                            19089 ; 622  |#endif
                            19090 ; 623  |#endif
                            19091 ; 624  |#endif
                            19092 ; 625  |#endif
                            19093 ; 626  |#else 
                            19094 ; 627  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            19095 ; 628  |#define PEAK_GPSPEED 0x000304         
                            19096 ; 629  |#endif
                            19097 ; 630  |
                            19098 ; 631  |//------------------------------------------
                            19099 ; 632  |//> 
                            19100 ; 633  |// Multi-Client Clock Speed Adjustment API:  
                            19101 ; 634  |// Prototypes here are exported from sysspeed.inc to sysspeed.h by incToC util
                            19102 ; 635  |_reentrant INT SysGetSpeed(void);
                            19103 ; 636  |//             or asm input params: none
                            19104 ; 637  |//             Returns the CurrentSpeedIndex
                            19105 ; 638  |_reentrant INT SysSpeedIncrease(int SpeedIndex, int clockUserId); 
                            19106 ; 639  |//             or asm input parms:            x1,              y0
                            19107 ; 640  |//       Returns resulting SpeedIndex from SysGetSpeed
                            19108 ; 641  |_reentrant INT SysSpeedClockFree(int clockUserId);  
                            19109 ; 642  |//                   or asm input:              y0
                            19110 ; 643  |//       Returns resulting SpeedIndex from SysGetSpeed
                            19111 ; 644  |// Generally, new clock adjusting modules must insert a bit equate below 
                            19112 ; 645  |// (speed ordered) and use the API calls:
                            19113 ; 646  |// SysSpeedIncrease(SpeedIndex, MY_BIT) and SysSpeedClockFree(MY_BIT) 
                            19114 ; 647  |// passing in the client's clockUserId below for these calls
                            19115 ; 648  |// which manipulate a corresponding speed client bit in clockUserFlag.
                            19116 ; 649  |// SysSpeedClockFree(MY_BIT) reduces clock speed to that of highest active client
                            19117 ; 650  |// or IDLE. Each bit here is a client active indicator managed via this speed API.
                            19118 ; 651  |// clockUserFlag  dc      0      ; Module private var defined in sysspeed.asm
                            19119 ; 652  |// ORDER MUST BE LOWEST TO HIGHEST FREQ so insert your new speed client ID and renumber.
                            19120 ; 653  |// Exec turns up the clock on button events. 
                            19121 ; 654  |#define SPEED_CLIENT_EXECUTIVE 0 
                            19122 ; 655  |#define SPEED_CLIENT_AUDIBLE_MP3 1
                            19123 ; 656  |#define SPEED_CLIENT_STFM_DEC 2
                            19124 ; 657  |#define SPEED_CLIENT_AUDIBLE_ACELP 3
                            19125 ; 658  |#define SPEED_CLIENT_STFM_EQ 4
                            19126 ; 659  |#define SPEED_CLIENT_MP3_DEC 5
                            19127 ; 660  |#define SPEED_CLIENT_ADPCM_DEC 6
                            19128 ; 661  |#define SPEED_CLIENT_ADPCM_ENC 7
                            19129 ; 662  |#define SPEED_CLIENT_MIXER 8
                            19130 ; 663  |#define SPEED_CLIENT_MP3_DEC_SYNC 9
                            19131 ; 664  |// Music and voice parser share this client
                            19132 ; 665  |#define SPEED_CLIENT_PARSER 10 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 320

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19133 ; 666  |// Same speed as parser.asm or higher. C client. Rename if using.
                            19134 ; 667  |#define SPEED_CLIENT_MENU_WOW 11 
                            19135 ; 668  |#define SPEED_CLIENT_MVIDEO 12
                            19136 ; 669  |#define SPEED_CLIENT_METADATA 13
                            19137 ; 670  |#define SPEED_CLIENT_PLAYERLIB 14
                            19138 ; 671  |#define SPEED_CLIENT_PLAYLIST1 15 
                            19139 ; 672  |#define SPEED_CLIENT_WMA_DEC 16
                            19140 ; 673  |// Move line when used to maintain speed order
                            19141 ; 674  |#define SPEED_CLIENT_MP3_ENC 17 
                            19142 ; 675  |#define SPEED_CLIENT_JPEG_DEC 18 
                            19143 ; 676  |// change value to match high bit pos above
                            19144 ; 677  |#define SPEED_CLIENT_HIGHEST_USER 18 
                            19145 ; 678  |
                            19146 ; 679  |// Above equates are exported to incToC utility generated sysspeed.h file.
                            19147 ; 680  |// <
                            19148 ; 681  |//-----------------------------------------
                            19149 ; 682  |
                            19150 ; 683  |
                            19151 ; 684  |#endif // IF (!@def(SYSSPEED_INC))
                            19152 ; 685  |
                            19153 ; 686  |
                            19154 ; 687  |
                            19155 
                            19157 
                            19158 ; 28   |#include "filesystem.h"
                            19159 
                            19161 
                            19162 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            19163 ; 2    |//  Copyright(C) SigmaTel, Inc. 2001
                            19164 ; 3    |//
                            19165 ; 4    |//  File        : FileSystem.h
                            19166 ; 5    |//  Description : Header File for File System
                            19167 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            19168 ; 7    |
                            19169 ; 8    |#ifndef _FILESYSTEM_H
                            19170 ; 9    |#define _FILESYSTEM_H
                            19171 ; 10   |
                            19172 ; 11   |#include "types.h"
                            19173 
                            19175 
                            19176 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            19177 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            19178 ; 3    |//
                            19179 ; 4    |// Filename: types.h
                            19180 ; 5    |// Description: Standard data types
                            19181 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            19182 ; 7    |
                            19183 ; 8    |#ifndef _TYPES_H
                            19184 ; 9    |#define _TYPES_H
                            19185 ; 10   |
                            19186 ; 11   |// TODO:  move this outta here!
                            19187 ; 12   |#if !defined(NOERROR)
                            19188 ; 13   |#define NOERROR 0
                            19189 ; 14   |#define SUCCESS 0
                            19190 ; 15   |#endif 
                            19191 ; 16   |#if !defined(SUCCESS)
                            19192 ; 17   |#define SUCCESS  0
                            19193 ; 18   |#endif
                            19194 ; 19   |#if !defined(ERROR)
                            19195 ; 20   |#define ERROR   -1
                            19196 ; 21   |#endif
                            19197 ; 22   |#if !defined(FALSE)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 321

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19198 ; 23   |#define FALSE 0
                            19199 ; 24   |#endif
                            19200 ; 25   |#if !defined(TRUE)
                            19201 ; 26   |#define TRUE  1
                            19202 ; 27   |#endif
                            19203 ; 28   |
                            19204 ; 29   |#if !defined(NULL)
                            19205 ; 30   |#define NULL 0
                            19206 ; 31   |#endif
                            19207 ; 32   |
                            19208 ; 33   |#define MAX_INT     0x7FFFFF
                            19209 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            19210 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            19211 ; 36   |#define MAX_ULONG   (-1) 
                            19212 ; 37   |
                            19213 ; 38   |#define WORD_SIZE   24              // word size in bits
                            19214 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            19215 ; 40   |
                            19216 ; 41   |
                            19217 ; 42   |#define BYTE    unsigned char       // btVarName
                            19218 ; 43   |#define CHAR    signed char         // cVarName
                            19219 ; 44   |#define USHORT  unsigned short      // usVarName
                            19220 ; 45   |#define SHORT   unsigned short      // sVarName
                            19221 ; 46   |#define WORD    unsigned int        // wVarName
                            19222 ; 47   |#define INT     signed int          // iVarName
                            19223 ; 48   |#define DWORD   unsigned long       // dwVarName
                            19224 ; 49   |#define LONG    signed long         // lVarName
                            19225 ; 50   |#define BOOL    unsigned int        // bVarName
                            19226 ; 51   |#define FRACT   _fract              // frVarName
                            19227 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            19228 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            19229 ; 54   |#define FLOAT   float               // fVarName
                            19230 ; 55   |#define DBL     double              // dVarName
                            19231 ; 56   |#define ENUM    enum                // eVarName
                            19232 ; 57   |#define CMX     _complex            // cmxVarName
                            19233 ; 58   |typedef WORD UCS3;                   // 
                            19234 ; 59   |
                            19235 ; 60   |#define UINT16  unsigned short
                            19236 ; 61   |#define UINT8   unsigned char   
                            19237 ; 62   |#define UINT32  unsigned long
                            19238 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            19239 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            19240 ; 65   |#define WCHAR   UINT16
                            19241 ; 66   |
                            19242 ; 67   |//UINT128 is 16 bytes or 6 words
                            19243 ; 68   |typedef struct UINT128_3500 {   
                            19244 ; 69   |    int val[6];     
                            19245 ; 70   |} UINT128_3500;
                            19246 ; 71   |
                            19247 ; 72   |#define UINT128   UINT128_3500
                            19248 ; 73   |
                            19249 ; 74   |// Little endian word packed byte strings:   
                            19250 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            19251 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            19252 ; 77   |// Little endian word packed byte strings:   
                            19253 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            19254 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            19255 ; 80   |
                            19256 ; 81   |// Declare Memory Spaces To Use When Coding
                            19257 ; 82   |// A. Sector Buffers
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 322

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19258 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            19259 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            19260 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            19261 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            19262 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            19263 ; 88   |// B. Media DDI Memory
                            19264 ; 89   |#define MEDIA_DDI_MEM _Y
                            19265 ; 90   |
                            19266 ; 91   |
                            19267 ; 92   |
                            19268 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            19269 ; 94   |// Examples of circular pointers:
                            19270 ; 95   |//    INT CIRC cpiVarName
                            19271 ; 96   |//    DWORD CIRC cpdwVarName
                            19272 ; 97   |
                            19273 ; 98   |#define RETCODE INT                 // rcVarName
                            19274 ; 99   |
                            19275 ; 100  |// generic bitfield structure
                            19276 ; 101  |struct Bitfield {
                            19277 ; 102  |    unsigned int B0  :1;
                            19278 ; 103  |    unsigned int B1  :1;
                            19279 ; 104  |    unsigned int B2  :1;
                            19280 ; 105  |    unsigned int B3  :1;
                            19281 ; 106  |    unsigned int B4  :1;
                            19282 ; 107  |    unsigned int B5  :1;
                            19283 ; 108  |    unsigned int B6  :1;
                            19284 ; 109  |    unsigned int B7  :1;
                            19285 ; 110  |    unsigned int B8  :1;
                            19286 ; 111  |    unsigned int B9  :1;
                            19287 ; 112  |    unsigned int B10 :1;
                            19288 ; 113  |    unsigned int B11 :1;
                            19289 ; 114  |    unsigned int B12 :1;
                            19290 ; 115  |    unsigned int B13 :1;
                            19291 ; 116  |    unsigned int B14 :1;
                            19292 ; 117  |    unsigned int B15 :1;
                            19293 ; 118  |    unsigned int B16 :1;
                            19294 ; 119  |    unsigned int B17 :1;
                            19295 ; 120  |    unsigned int B18 :1;
                            19296 ; 121  |    unsigned int B19 :1;
                            19297 ; 122  |    unsigned int B20 :1;
                            19298 ; 123  |    unsigned int B21 :1;
                            19299 ; 124  |    unsigned int B22 :1;
                            19300 ; 125  |    unsigned int B23 :1;
                            19301 ; 126  |};
                            19302 ; 127  |
                            19303 ; 128  |union BitInt {
                            19304 ; 129  |        struct Bitfield B;
                            19305 ; 130  |        int        I;
                            19306 ; 131  |};
                            19307 ; 132  |
                            19308 ; 133  |#define MAX_MSG_LENGTH 10
                            19309 ; 134  |struct CMessage
                            19310 ; 135  |{
                            19311 ; 136  |        unsigned int m_uLength;
                            19312 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            19313 ; 138  |};
                            19314 ; 139  |
                            19315 ; 140  |typedef struct {
                            19316 ; 141  |    WORD m_wLength;
                            19317 ; 142  |    WORD m_wMessage;
                            19318 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            19319 ; 144  |} Message;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 323

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19320 ; 145  |
                            19321 ; 146  |struct MessageQueueDescriptor
                            19322 ; 147  |{
                            19323 ; 148  |        int *m_pBase;
                            19324 ; 149  |        int m_iModulo;
                            19325 ; 150  |        int m_iSize;
                            19326 ; 151  |        int *m_pHead;
                            19327 ; 152  |        int *m_pTail;
                            19328 ; 153  |};
                            19329 ; 154  |
                            19330 ; 155  |struct ModuleEntry
                            19331 ; 156  |{
                            19332 ; 157  |    int m_iSignaledEventMask;
                            19333 ; 158  |    int m_iWaitEventMask;
                            19334 ; 159  |    int m_iResourceOfCode;
                            19335 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            19336 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            19337 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            19338 ; 163  |    int m_uTimeOutHigh;
                            19339 ; 164  |    int m_uTimeOutLow;
                            19340 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            19341 ; 166  |};
                            19342 ; 167  |
                            19343 ; 168  |union WaitMask{
                            19344 ; 169  |    struct B{
                            19345 ; 170  |        unsigned int m_bNone     :1;
                            19346 ; 171  |        unsigned int m_bMessage  :1;
                            19347 ; 172  |        unsigned int m_bTimer    :1;
                            19348 ; 173  |        unsigned int m_bButton   :1;
                            19349 ; 174  |    } B;
                            19350 ; 175  |    int I;
                            19351 ; 176  |} ;
                            19352 ; 177  |
                            19353 ; 178  |
                            19354 ; 179  |struct Button {
                            19355 ; 180  |        WORD wButtonEvent;
                            19356 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            19357 ; 182  |};
                            19358 ; 183  |
                            19359 ; 184  |struct Message {
                            19360 ; 185  |        WORD wMsgLength;
                            19361 ; 186  |        WORD wMsgCommand;
                            19362 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            19363 ; 188  |};
                            19364 ; 189  |
                            19365 ; 190  |union EventTypes {
                            19366 ; 191  |        struct CMessage msg;
                            19367 ; 192  |        struct Button Button ;
                            19368 ; 193  |        struct Message Message;
                            19369 ; 194  |};
                            19370 ; 195  |
                            19371 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            19372 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            19373 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            19374 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            19375 ; 200  |
                            19376 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            19377 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            19378 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            19379 ; 204  |
                            19380 ; 205  |#if DEBUG
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 324

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19381 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            19382 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            19383 ; 208  |#else 
                            19384 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            19385 ; 210  |#define DebugBuildAssert(x)    
                            19386 ; 211  |#endif
                            19387 ; 212  |
                            19388 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            19389 ; 214  |//  #pragma asm
                            19390 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            19391 ; 216  |//  #pragma endasm
                            19392 ; 217  |
                            19393 ; 218  |
                            19394 ; 219  |#ifdef COLOR_262K
                            19395 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            19396 ; 221  |#elif defined(COLOR_65K)
                            19397 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            19398 ; 223  |#else
                            19399 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            19400 ; 225  |#endif
                            19401 ; 226  |    
                            19402 ; 227  |#endif // #ifndef _TYPES_H
                            19403 
                            19405 
                            19406 ; 12   |
                            19407 ; 13   |
                            19408 ; 14   |// File attributes
                            19409 ; 15   |#ifndef _FS_ATTRIBUTES
                            19410 ; 16   |#define _FS_ATTRIBUTES
                            19411 ; 17   |#define READ        1
                            19412 ; 18   |#define WRITE       2
                            19413 ; 19   |#define WRITE_PLUS  3
                            19414 ; 20   |#define APPEND      4
                            19415 ; 21   |#define TRUNCATE    8
                            19416 ; 22   |#define CREATE      16
                            19417 ; 23   |#endif
                            19418 ; 24   |
                            19419 ; 25   |//#ifndef FAT12
                            19420 ; 26   |//#define FAT12   1
                            19421 ; 27   |//#endif
                            19422 ; 28   |//
                            19423 ; 29   |#ifndef FAT16
                            19424 ; 30   |#define FAT16   2
                            19425 ; 31   |#endif
                            19426 ; 32   |
                            19427 ; 33   |#define MEM_SPACE_P 0x100000
                            19428 ; 34   |#define MEM_SPACE_Y 0x400000
                            19429 ; 35   |#define MEM_SPACE_X 0x800000
                            19430 ; 36   |
                            19431 ; 37   |#define FILE_SYS_MODE_READ  0
                            19432 ; 38   |#define FILE_SYS_MODE_WRITE 1
                            19433 ; 39   | 
                            19434 ; 40   |#define ATTR_READ_ONLY      0x01
                            19435 ; 41   |#define ATTR_HIDDEN         0x02
                            19436 ; 42   |#define ATTR_SYSTEM         0x04
                            19437 ; 43   |#define ATTR_VOLUME_ID      0x08
                            19438 ; 44   |#define ATTR_DIRECTORY      0x10
                            19439 ; 45   |#define ATTR_ARCHIVE        0x20
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 325

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19440 ; 46   |#define ATTR_LONG_NAME      ATTR_READ_ONLY|ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID
                            19441 ; 47   |
                            19442 ; 48   |#define SEEK_SET           -1
                            19443 ; 49   |#define SEEK_CUR            0
                            19444 ; 50   |#define SEEK_END            1
                            19445 ; 51   |
                            19446 ; 52   |#define DEVICE_INSTALLED              (WORD)(0)
                            19447 ; 53   |#define DEVICE_NOT_FOUND              (WORD)(2)
                            19448 ; 54   |#define INVALID_FILESYSTEM                        (WORD)(3)
                            19449 ; 55   |#define DEVICE_INVALID                (WORD)(-1)
                            19450 ; 56   |#define DEVICE_ERROR_WRITE_PROTECTED  (WORD)(-2)
                            19451 ; 57   |
                            19452 ; 58   |#define MEDIA_SIZE_TOTAL_SECTORS    0
                            19453 ; 59   |#define MEDIA_SIZE_TOTAL_BYTES      1
                            19454 ; 60   |#define MEDIA_SIZE_BYTES_PER_SECTOR 2
                            19455 ; 61   |#define MEDIA_SIZE_IN_MEGABYTES     3     
                            19456 ; 62   |
                            19457 ; 63   |#define READ_TYPE_NORMAL            0
                            19458 ; 64   |#define READ_TYPE_FAT               1
                            19459 ; 65   |#define READ_TYPE_RAW               2
                            19460 ; 66   |
                            19461 ; 67   |
                            19462 ; 68   |#ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            19463 ; 69   |    #define WRITE_TYPE_RANDOM                   0
                            19464 ; 70   |    #define WRITE_TYPE_SEQ_FIRST                1
                            19465 ; 71   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            19466 ; 72   |    #define WRITE_TYPE_RESET_CLEAN_UP           3
                            19467 ; 73   |    #define WRITE_TYPE_PARTIAL_SEQ_FIRST        4
                            19468 ; 74   |    #define WRITE_TYPE_PARTIAL_SEQ_NEXT         5
                            19469 ; 75   |    #define WRITE_TYPE_PARTIAL_SEQ_LAST         6
                            19470 ; 76   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            19471 ; 77   |        #define WRITE_TYPE_RANDOM_RAW               7
                            19472 ; 78   |        #define WRITE_TYPE_SEQ_FIRST_RAW            8
                            19473 ; 79   |        #define WRITE_TYPE_SEQ_NEXT_RAW             9
                            19474 ; 80   |        #define WRITE_TYPE_PARTIAL_SEQ_FIRST_RAW    10
                            19475 ; 81   |        #define WRITE_TYPE_PARTIAL_SEQ_NEXT_RAW     11
                            19476 ; 82   |        #define WRITE_TYPE_PARTIAL_SEQ_LAST_RAW     12
                            19477 ; 83   |    #endif
                            19478 ; 84   |#else
                            19479 ; 85   |    #define WRITE_TYPE_RANDOM                   0
                            19480 ; 86   |    #define WRITE_TYPE_SEQ_FIRST                1
                            19481 ; 87   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            19482 ; 88   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            19483 ; 89   |        #define WRITE_TYPE_RANDOM_RAW               3
                            19484 ; 90   |        #define WRITE_TYPE_SEQ_FIRST_RAW            4
                            19485 ; 91   |        #define WRITE_TYPE_SEQ_NEXT_RAW             5
                            19486 ; 92   |    #endif
                            19487 ; 93   |#endif
                            19488 ; 94   |    #define WRITE_TYPE_UNDEFINED 0xFFFFFF
                            19489 ; 95   |
                            19490 ; 96   |
                            19491 ; 97   |#ifndef MAX_FILENAME_LENGTH
                            19492 ; 98   |#define MAX_FILENAME_LENGTH 256
                            19493 ; 99   |#endif
                            19494 ; 100  |
                            19495 ; 101  |typedef struct {
                            19496 ; 102  |    WORD wNumberOfZones;
                            19497 ; 103  |    WORD wSizeInMegaBytes;
                            19498 ; 104  |} SMARTMEDIA_CHIP_INFO;
                            19499 ; 105  |
                            19500 ; 106  |typedef struct {
                            19501 ; 107  |    WORD wBootIdentification;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 326

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19502 ; 108  |    WORD wStartHeadNumber;
                            19503 ; 109  |    WORD wStartSectorNumber;
                            19504 ; 110  |    WORD wStartCylinderNumber;
                            19505 ; 111  |    WORD wSystemIdentification;
                            19506 ; 112  |    WORD wEndHeadNumber;
                            19507 ; 113  |    WORD wEndSectorNumber;
                            19508 ; 114  |    WORD wEndCylinderNumber;
                            19509 ; 115  |    WORD wStartLogicalSectorNumberHigh;
                            19510 ; 116  |    WORD wStartLogicalSectorNumberLow;
                            19511 ; 117  |    WORD wPartitionSizeHigh;
                            19512 ; 118  |    WORD wPartitionSizeLow;
                            19513 ; 119  |} SMARTMEDIA_PARTITION_TABLE;
                            19514 ; 120  |
                            19515 ; 121  |typedef struct {
                            19516 ; 122  |    WORD wWord0;
                            19517 ; 123  |    WORD wWord1;
                            19518 ; 124  |    WORD wWord2;
                            19519 ; 125  |} SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME;
                            19520 ; 126  |
                            19521 ; 127  |typedef struct {
                            19522 ; 128  |    WORD wWord0;
                            19523 ; 129  |    WORD wWord1;
                            19524 ; 130  |} SMARTMEDIA_CIS_IDI_PRODUCT_NAME;
                            19525 ; 131  |
                            19526 ; 132  |typedef struct {
                            19527 ; 133  |    WORD wWord0;
                            19528 ; 134  |    WORD wWord1;
                            19529 ; 135  |} SMARTMEDIA_CIS_IDI_PRODUCT_VERSION;
                            19530 ; 136  |
                            19531 ; 137  |typedef struct {
                            19532 ; 138  |    WORD wWord0;
                            19533 ; 139  |    WORD wWord1;
                            19534 ; 140  |    WORD wWord2;
                            19535 ; 141  |    WORD wWord3;
                            19536 ; 142  |} SMARTMEDIA_CIS_IDI_SERIAL_NUMBER;
                            19537 ; 143  |
                            19538 ; 144  |typedef struct {
                            19539 ; 145  |    WORD wWord0;
                            19540 ; 146  |} SMARTMEDIA_CIS_IDI_MODEL_NUMBER;
                            19541 
                            19564 
                            19565 ; 147  |
                            19566 ; 148  |typedef struct {
                            19567 ; 149  |    SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME ManufacturerName;
                            19568 ; 150  |    SMARTMEDIA_CIS_IDI_PRODUCT_NAME ProductName;
                            19569 ; 151  |    SMARTMEDIA_CIS_IDI_PRODUCT_VERSION ProductVersion;
                            19570 ; 152  |    SMARTMEDIA_CIS_IDI_SERIAL_NUMBER SerialNumber;
                            19571 ; 153  |    SMARTMEDIA_CIS_IDI_MODEL_NUMBER ModelNumber;
                            19572 ; 154  |} SMARTMEDIA_CIS_IDI_TABLE;
                            19573 
                            19595 
                            19596 ; 155  |   
                            19597 ; 156  |typedef struct {
                            19598 ; 157  |    WORD wPageSizeInBytes;
                            19599 ; 158  |    WORD wRedundantAreaSizeInBytes;
                            19600 ; 159  |    WORD wNumberOfPagesPerBlock;
                            19601 ; 160  |    WORD wNumberOfBlocksPerZone;
                            19602 ; 161  |    WORD wNumberOfZonesInMedia;
                            19603 ; 162  |    WORD wMediaSizeInMBytes;
                            19604 ; 163  |    SMARTMEDIA_PARTITION_TABLE * pPartitionTable;
                            19605 ; 164  |    SMARTMEDIA_CIS_IDI_TABLE * pCisIdiTable;
                            19606 ; 165  |    WORD wMediaFlagStatus;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 327

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19607 ; 166  |    WORD wNumberOfBlocksToTheCisIdiBlock;
                            19608 ; 167  |    WORD wTotalNumberOfPhysicalBlocks;
                            19609 ; 168  |    WORD wNumberOfSystemBlocks;
                            19610 ; 169  |} SMARTMEDIA_ENTRY_TABLE;
                            19611 ; 170  |
                            19612 ; 171  |typedef struct {
                            19613 ; 172  |    WORD wDevice;        
                            19614 ; 173  |    WORD wDirtyBlockFlag;
                            19615 ; 174  |    WORD wCleanTailFlag; 
                            19616 ; 175  |    WORD wLogDOSPage;    
                            19617 ; 176  |    WORD wSrcLogBlock;   
                            19618 ; 177  |    WORD wSrcPhyBlock;   
                            19619 ; 178  |    WORD wDestPhyBlock;  
                            19620 ; 179  |    WORD wStartSrcPage;  
                            19621 ; 180  |    WORD wStartDestPage; 
                            19622 ; 181  |    WORD wPagesToCopy;   
                            19623 ; 182  |    WORD wReplaceBuff;   
                            19624 ; 183  |    WORD wReplaceRdnt;
                            19625 ; 184  |    #ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            19626 ; 185  |        WORD wFirstCount;
                            19627 ; 186  |        WORD wNextCount;
                            19628 ; 187  |        WORD wLastCount;
                            19629 ; 188  |    #endif
                            19630 ; 189  |} SMARTMEDIA_FWPPS_TABLE;
                            19631 ; 190  |
                            19632 ; 191  |typedef struct {
                            19633 ; 192  |    WORD wWord0;
                            19634 ; 193  |    WORD wWord1;
                            19635 ; 194  |    WORD wWord2;
                            19636 ; 195  |    WORD wWord3;
                            19637 ; 196  |} DIRECTORY_NAME;
                            19638 ; 197  |
                            19639 ; 198  |typedef struct {
                            19640 ; 199  |    WORD wWord0;
                            19641 ; 200  |    WORD wWord1;
                            19642 ; 201  |} DIRECTORY_EXTENSION;
                            19643 ; 202  |
                            19644 ; 203  |typedef struct {
                            19645 ; 204  |    WORD wWord0;
                            19646 ; 205  |    WORD wWord1;
                            19647 ; 206  |} DIRECTORY_SIZE;
                            19648 
                            19663 
                            19664 ; 207  |
                            19665 ; 208  |typedef struct {
                            19666 ; 209  |    DIRECTORY_NAME Name;
                            19667 ; 210  |    DIRECTORY_EXTENSION Extension;
                            19668 ; 211  |    WORD wAttribute;
                            19669 ; 212  |    WORD wReserved[4];
                            19670 ; 213  |    WORD wCreationTime;
                            19671 ; 214  |    WORD wCreationData;
                            19672 ; 215  |    WORD wFirstCluster;
                            19673 ; 216  |    DIRECTORY_SIZE Size;
                            19674 ; 217  |    WORD wCurrentCluster;
                            19675 ; 218  |    WORD wPointer;
                            19676 ; 219  |    WORD wRecord;
                            19677 ; 220  |    WORD wRd;
                            19678 ; 221  |} DIRECTORY_FILE_CONTROL_BLOCK;
                            19679 ; 222  |
                            19680 ; 223  |// TODO:  clean this up.  There are two versions.
                            19681 ; 224  |struct FCB
                            19682 ; 225  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 328

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19683 ; 226  |    _packed BYTE m_szFileName[9];       //0-2
                            19684 ; 227  |    int     m_wReserved;                //3
                            19685 ; 228  |    _packed BYTE m_szExt[4];            //4-5
                            19686 ; 229  |    int     m_wAttributes;              //6
                            19687 ; 230  |    int     m_wReserved2[4];            //7,8,9,a
                            19688 ; 231  |    int     m_wTimeofCreation;          //b
                            19689 ; 232  |    int     m_wDateofCreation;          //c
                            19690 ; 233  |    int     m_wFirstCluster;            //d
                            19691 ; 234  |    int     m_wFileSizeHigh;            //e
                            19692 ; 235  |    int     m_wFileSizeLow;             //f
                            19693 ; 236  |};
                            19694 
                            19710 
                            19711 ; 237  |
                            19712 ; 238  |
                            19713 ; 239  |typedef struct {
                            19714 ; 240  |    WORD wFirstClusterCurrentDirectory;
                            19715 ; 241  |    WORD wFirstClusterParentDirectory;
                            19716 ; 242  |    WORD wAbsSectorCurrentlyCached;
                            19717 ; 243  |    WORD wCurrentRelativeSector;
                            19718 ; 244  |    WORD wNumberOfSectors;
                            19719 ; 245  |    WORD wCurrentRecordLoadedInDcb;
                            19720 ; 246  |    WORD wBufferedRecord;
                            19721 ; 247  |    WORD wMaxNumberRecordsCurrentDirectory;
                            19722 ; 248  |    WORD * pwPointerToBuffer;
                            19723 ; 249  |    WORD * pwPointerToPath;
                            19724 ; 250  |    DIRECTORY_FILE_CONTROL_BLOCK * pDirFcb;
                            19725 ; 251  |} DIRECTORY_CONTROL_BLOCK;
                            19726 ; 252  |
                            19727 ; 253  |typedef struct {
                            19728 ; 254  |    WORD wWord0;
                            19729 ; 255  |    WORD wWord1;
                            19730 ; 256  |    WORD wWord2;
                            19731 ; 257  |    WORD wWord3;
                            19732 ; 258  |} FILE_NAME;
                            19733 ; 259  |
                            19734 ; 260  |typedef struct {
                            19735 ; 261  |    WORD wWord0;
                            19736 ; 262  |    WORD wWord1;
                            19737 ; 263  |} FILE_EXTENSION;
                            19738 ; 264  |
                            19739 ; 265  |typedef struct {
                            19740 ; 266  |    WORD wWord0;
                            19741 ; 267  |    WORD wWord1;
                            19742 ; 268  |} FILE_SIZE;
                            19743 ; 269  |
                            19744 ; 270  |typedef union {
                            19745 ; 271  |    struct {
                            19746 ; 272  |        int Read        :1;
                            19747 ; 273  |        int Write       :1;
                            19748 ; 274  |        int Append      :1;
                            19749 ; 275  |        int Truncate    :1;
                            19750 ; 276  |        int Create      :1;
                            19751 ; 277  |        int Rsrv        :3;
                            19752 ; 278  |        int Mode        :8;
                            19753 ; 279  |        int Device      :8;
                            19754 ; 280  |    } B;
                            19755 ; 281  |    int I;
                            19756 ; 282  |} FILE_FLAGS;
                            19757 ; 283  |
                            19758 ; 284  |typedef struct {
                            19759 ; 285  |    WORD wWord0;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 329

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19760 ; 286  |    WORD wWord1;
                            19761 ; 287  |} FILE_BYTE_CURRENT;
                            19762 
                            19802 
                            19803 ; 288  |
                            19804 ; 289  |typedef struct {
                            19805 ; 290  |    FILE_NAME Name;
                            19806 ; 291  |    FILE_EXTENSION Extension;
                            19807 ; 292  |    WORD wAttributes;
                            19808 ; 293  |    WORD wReserved[4];
                            19809 ; 294  |    WORD wCreationTime;
                            19810 ; 295  |    WORD wCreationData;
                            19811 ; 296  |    WORD wFirstCluster;
                            19812 ; 297  |    FILE_SIZE Size;
                            19813 ; 298  |    WORD wCurrentCluster;
                            19814 ; 299  |    WORD wPointer;
                            19815 ; 300  |    WORD wRecord;
                            19816 ; 301  |    WORD wRd;
                            19817 ; 302  |    FILE_FLAGS Flags;
                            19818 ; 303  |    FILE_BYTE_CURRENT FcbByteCurrent;
                            19819 ; 304  |    WORD wFcbFlagEndOfCx;
                            19820 ; 305  |} FILE_CONTROL_BLOCK;    
                            19821 ; 306  |
                            19822 ; 307  |typedef struct {
                            19823 ; 308  |    WORD wWord0;
                            19824 ; 309  |    WORD wWord1;
                            19825 ; 310  |    WORD wWord2;
                            19826 ; 311  |    WORD wWord3;
                            19827 ; 312  |} VOLUME_LABEL;
                            19828 ; 313  |
                            19829 ; 314  |typedef struct {
                            19830 ; 315  |    WORD wFATPhysicalBlock1;
                            19831 ; 316  |    WORD wFATPhysicalBlock2;
                            19832 ; 317  |    WORD wFATPhysicalBlock3;
                            19833 ; 318  |    WORD wFATPhysicalBlock4;
                            19834 ; 319  |} FAT_PHYSICAL_BLOCK_LIST;
                            19835 
                            19842 
                            19843 ; 320  |
                            19844 ; 321  |typedef struct {
                            19845 ; 322  |    WORD wFATSectorInCache;
                            19846 ; 323  |    WORD wLastClusterFree;
                            19847 ; 324  |    WORD wNumberOfUsedClusters;
                            19848 ; 325  |    WORD wNumberOfFreeClusters;
                            19849 ; 326  |    WORD wNumberOfBadClusters;
                            19850 ; 327  |    WORD wNumberOfReservedClusters;
                            19851 ; 328  |    WORD wControl;
                            19852 ; 329  |    WORD * pwSectorCache;
                            19853 ; 330  |    FAT_PHYSICAL_BLOCK_LIST FATPhysicalLocationList;
                            19854 ; 331  |} FAT_TABLE;
                            19855 
                            19862 
                            19863 ; 332  |
                            19864 ; 333  |typedef struct {
                            19865 ; 334  |    WORD wStateMediaTable;
                            19866 ; 335  |    WORD wTypeFs;
                            19867 ; 336  |    WORD wBytesPerSector;
                            19868 ; 337  |    WORD wSectorsPerCluster;
                            19869 ; 338  |    WORD wNumberOfReservedSectors;
                            19870 ; 339  |    WORD wMaximumNumberOfFATs;
                            19871 ; 340  |    WORD wMaxRootDirectoryEntries;
                            19872 ; 341  |    WORD wTotalSectors;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 330

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19873 ; 342  |    WORD wNumberOfFATSectors;
                            19874 ; 343  |    WORD wNumberOfSectorsPerTrack;
                            19875 ; 344  |    WORD wNumberOfHeads;
                            19876 ; 345  |    WORD wNumberOfHiddenSectorsMSB;
                            19877 ; 346  |    WORD wNumberOfHiddenSectorsLSB;
                            19878 ; 347  |    WORD wTotalSectors32MSB;
                            19879 ; 348  |    WORD wTotalSectors32LSB;
                            19880 ; 349  |    WORD wDriverNumber;
                            19881 ; 350  |    WORD wExtendedBootSignature;
                            19882 ; 351  |    WORD wVolumeIDMSB;
                            19883 ; 352  |    WORD wVolumeIDLSB;
                            19884 ; 353  |    VOLUME_LABEL VolumeLabel;
                            19885 ; 354  |    WORD * pwWriteBuffer;
                            19886 ; 355  |    WORD wPrimaryFATRelativeSector;
                            19887 ; 356  |    WORD wSecondaryFATRelativeSector;
                            19888 ; 357  |    WORD wRootDirectoryRelativeSector;
                            19889 ; 358  |    WORD wFirstSectorNumberDataZone;
                            19890 ; 359  |    WORD wMaxNumberOfFATEntries;
                            19891 ; 360  |    WORD wRootDirectorySizeInSectors;
                            19892 ; 361  |    WORD wDataAreaSizeInSectors;
                            19893 ; 362  |} MEDIA_TABLE;
                            19894 
                            19953 
                            19954 ; 363  |
                            19955 ; 364  |typedef struct {
                            19956 ; 365  |    MEDIA_TABLE * pMediaTable;
                            19957 ; 366  |    DIRECTORY_CONTROL_BLOCK * pDirectoryControlBlock;
                            19958 ; 367  |    FAT_TABLE * pFATTable;
                            19959 ; 368  |} DEVICE_CONTROL_TABLE;
                            19960 ; 369  |    
                            19961 ; 370  |typedef struct {
                            19962 ; 371  |    WORD dwTotalSizeInMegaBytes;        // dwTotalSizeInMegaBytes is limited
                            19963 ; 372  |                                        //  to 2-bytes for compatibility with
                            19964 ; 373  |                                        //  older host drivers.
                            19965 ; 374  |    DWORD dwTotalNumberOfSectors;
                            19966 ; 375  |    DWORD dwTotalNumberOfBytes;
                            19967 ; 376  |    WORD wSectorSizeInBytes;
                            19968 ; 377  |} MEDIA_SIZE;
                            19969 ; 378  |
                            19970 ; 379  |typedef struct {
                            19971 ; 380  |    BOOL    bInstalled;
                            19972 ; 381  |    INT     iPbsSectorOffset;   // from the beginning of the data drive 
                            19973 ; 382  |    DWORD   dwSize;
                            19974 ; 383  |} DATA_DRIVE_PBS_LOC;
                            19975 ; 384  |extern  INT _reentrant FSFileOpen(_packed BYTE *fname,INT attribute, INT DeviceNumber);
                            19976 ; 385  |extern  INT _reentrant FSFastOpen(DWORD Key, INT attribute);
                            19977 ; 386  |extern  INT FSFileDelete(_packed BYTE *fname,INT DeviceNumber);
                            19978 ; 387  |extern  INT FSFileCreate(_packed BYTE *fname,INT DeviceNumber);
                            19979 ; 388  |extern  INT _reentrant FSChangeDir(_packed BYTE *dirname,INT DeviceNumber);
                            19980 ; 389  |extern  INT _reentrant FSCreateDir(_packed BYTE *dirname,INT DeviceNumber);
                            19981 ; 390  |extern  INT _reentrant FSDeleteDir(_packed BYTE *dirname,INT DeviceNumber);
                            19982 ; 391  |extern  INT _reentrant FSFileAppend(_packed BYTE *fname,INT DeviceNumber);
                            19983 ; 392  |extern  INT _reentrant FSFileRead(INT BytestoRead, INT Handle, INT memory_type, INT modulo
                                  , WORD *buffer);
                            19984 ; 393  |extern  INT _reentrant FSFileWrite(INT wNumberBytes, INT Handle, INT memory_type, INT iMod
                                  ulo, WORD *buffer);
                            19985 ; 394  |extern  INT _reentrant FSFileClose(INT Handle);
                            19986 ; 395  |extern  LONG _reentrant FSFileSize(INT HandleNumber);
                            19987 ; 396  |extern  LONG  FSSize(INT DeviceNum, INT TYPE);   
                            19988 ; 397  |extern  INT FSFreeClusters(INT Device);
                            19989 ; 398  |extern  INT BytesPerCluster(INT Device);
                            19990 ; 399  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 331

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19991 ; 400  |
                            19992 ; 401  |
                            19993 ; 402  |//extern  INT FSFileCreate(_packed BYTE *pbFileName, BYTE bDevice);
                            19994 ; 403  |//extern  INT FSFileDelete(_packed BYTE *pbFileName, BYTE bDevice);
                            19995 ; 404  |extern  INT FSFileRename(_packed BYTE *pbCurFilename, _packed BYTE *pbNewFilename, BYTE bD
                                  evice);
                            19996 ; 405  |//extern  INT _reentrant FSFileAttribute(_packed BYTE *pbFilename, WORD wAttributes, BYTE 
                                  bDevice);
                            19997 ; 406  |//extern  INT FSFileAppend(_packed BYTE *pbFileName, BYTE bDevice);
                            19998 ; 407  |//extern  INT FSFileOpen(_packed BYTE *pbFileName, WORD wAttributes, BYTE bDevice);
                            19999 ; 408  |//extern  INT FSFileClose(INT bHandle);
                            20000 ; 409  |//extern  INT FSFileRead(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WOR
                                  D *pwBuffer);
                            20001 ; 410  |//extern  INT FSFileWrite(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WO
                                  RD *pwBuffer);
                            20002 ; 411  |extern  INT _reentrant fseek( INT handle , LONG offset, INT iOrigin );
                            20003 ; 412  |extern  INT _reentrant FSFileEof(INT Handle);
                            20004 ; 413  |extern INT _reentrant FSFileAttribute(INT Attributes, _packed BYTE *fname, INT DeviceNumbe
                                  r);
                            20005 ; 414  |extern INT _reentrant FSFileAttributeClear(INT Attributes, _packed BYTE *fname, INT Device
                                  Number);
                            20006 ; 415  |//extern  LONG FSFileSize(INT bHandle);
                            20007 ; 416  |extern _asmfunc INT FSPresent(BYTE bDevice);
                            20008 ; 417  |extern _asmfunc INT FSType(BYTE bDevice);
                            20009 ; 418  |//extern LONG FSSize(WORD wDevice, WORD wReturnType);
                            20010 ; 419  |//extern INT FSChangeDir(_packed BYTE *pbDirName, BYTE bDevice);
                            20011 ; 420  |//extern INT FSCreateDir(_packed BYTE *pbDirName, BYTE bDevice);
                            20012 ; 421  |//extern INT FSDeleteDir(_packed BYTE *pbDirName, BYTE bDevice);
                            20013 ; 422  |extern _asmfunc void SysLoadFATWrite(void);
                            20014 ; 423  |extern _asmfunc INT SysUnLoadFATWrite(void);
                            20015 ; 424  |extern LONG _reentrant ftell(INT iHandle);
                            20016 ; 425  |extern _asmfunc struct FCB * ReadDirectory(int iDevice, int iEntry);
                            20017 ; 426  |
                            20018 ; 427  |#endif
                            20019 
                            20021 
                            20022 ; 29   |#ifdef WOW
                            20023 ; 30   |#include "wowmenu.h"
                            20024 ; 31   |#endif
                            20025 ; 32   |#ifdef   USE_PLAYLIST1
                            20026 ; 33   |#include "playlist1.h"
                            20027 ; 34   |#include "playlist1internal.h"
                            20028 ; 35   |#else
                            20029 ; 36   |#ifdef   USE_PLAYLIST2
                            20030 ; 37   |#include  "playlist2.h"
                            20031 ; 38   |#include  "playlist2internal.h"
                            20032 ; 39   |#else
                            20033 ; 40   |#ifdef   USE_PLAYLIST3
                            20034 ; 41   |#include  "playlist3.h"
                            20035 
                            20037 
                            20038 ; 1    |#ifndef _PLAYLIST3_H
                            20039 ; 2    |#define _PLAYLIST3_H
                            20040 ; 3    |#include "playlist.h"
                            20041 
                            20043 
                            20044 ; 1    |#ifndef PLAYLIST_H
                            20045 ; 2    |#define PLAYLIST_H
                            20046 ; 3    |
                            20047 ; 4    |#include "types.h"
                            20048 ; 5    |
                            20049 ; 6    |typedef struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 332

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20050 ; 7    |    WORD    m_wTrack;                       
                            20051 ; 8    |    WORD    m_wDeviceID;
                            20052 ; 9    |    WORD    m_wBufferLength;            //this is in BYTES, not WORDS!
                            20053 ; 10   |    _packed BYTE *m_pFilename;
                            20054 ; 11   |} SONGFILEINFO;
                            20055 ; 12   |
                            20056 ; 13   |#define PLAYLIST_SUCCESS                                0
                            20057 ; 14   |#define PLAYLIST_FILE_ERROR                             1
                            20058 ; 15   |#define PLAYLIST_END_OF_LIST                    2
                            20059 ; 16   |#define PLAYLIST_TRACK_NOT_FOUND                3
                            20060 ; 17   |#define PLAYLIST_DIR_NOT_EMPTY          4 
                            20061 ; 18   |#define PLAYLIST_REBUILD                5
                            20062 ; 19   |#define PLAYLIST_LAST_RETCODE                   5               //The value should always 
                                  be the same as the last RETCODE
                            20063 ; 20   |
                            20064 ; 21   |
                            20065 ; 22   |#ifdef  USE_PLAYLIST1
                            20066 ; 23   |RETCODE ChangeDIRtoFileEntryDir(struct FileEntry *pCurrentEntry, _packed BYTE * buffer);
                            20067 ; 24   |#endif
                            20068 ; 25   |RETCODE _reentrant Playlist_LFNGetFileName(int,int,UCS3*);                      //UCS3 is 
                                  actually typdef WORD
                            20069 ; 26   |RETCODE _reentrant Playlist_MarkCurrentSongPlayed(int,int,int*);
                            20070 ; 27   |RETCODE _reentrant Playlist_GetCurrentSongFileInfo(int, int, int*);
                            20071 ; 28   |RETCODE _reentrant Playlist_GetNextSongFileInfo(int, int , int*);
                            20072 ; 29   |RETCODE _reentrant Playlist_GetPreviousSongFileInfo(int,int,int*);
                            20073 ; 30   |#ifdef USE_PLAYLIST1
                            20074 ; 31   |_reentrant INT Playlist_LocateEntryFromName(INT,INT,INT*);
                            20075 ; 32   |#endif
                            20076 ; 33   |
                            20077 ; 34   |#endif 
                            20078 
                            20080 
                            20081 ; 4    |#include "playlist3internal.h"
                            20082 
                            20084 
                            20085 ; 1    |#ifndef __PLAYLIST3INTERNAL_H
                            20086 ; 2    |#define __PLAYLIST3INTERNAL_H
                            20087 ; 3    |
                            20088 ; 4    |#include "project.h"
                            20089 
                            20091 
                            20092 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            20093 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            20094 ; 3    |//  Filename: project.inc
                            20095 ; 4    |//  Description: 
                            20096 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            20097 ; 6    |
                            20098 ; 7    |#if (!defined(_PROJECT_INC))
                            20099 ; 8    |#define _PROJECT_INC 1
                            20100 ; 9    |
                            20101 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            20102 ; 11   |#include "hwequ.h"
                            20103 ; 12   |#else 
                            20104 ; 13   |//include "regscodec.inc"
                            20105 ; 14   |#endif
                            20106 ; 15   |
                            20107 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            20108 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults
                                   ON) & 
                            20109 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm
                                  . STMP00012148
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 333

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20110 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal
                                  ). 
                            20111 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's spe
                                  cs can 
                            20112 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player m
                                  ode.  
                            20113 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            20114 ; 23   |
                            20115 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            20116 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            20117 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            20118 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define bel
                                  ow by defining
                            20119 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            20120 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            20121 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            20122 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot 
                                  config above- 
                            20123 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down thresh
                                  holds by maybe 50mV.
                            20124 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed
                                  .
                            20125 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            20126 ; 35   |
                            20127 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            20128 ; 37   |// MEDIA DEFINITIONS
                            20129 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            20130 ; 39   |
                            20131 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            20132 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            20133 ; 42   |#if defined(NAND1)
                            20134 ; 43   |#define SM_INTERNAL_CHIPS 1
                            20135 ; 44   |#else 
                            20136 ; 45   |#if defined(NAND2)
                            20137 ; 46   |#define SM_INTERNAL_CHIPS 2
                            20138 ; 47   |#else 
                            20139 ; 48   |#if defined(NAND3)
                            20140 ; 49   |#define SM_INTERNAL_CHIPS 3
                            20141 ; 50   |#else 
                            20142 ; 51   |#if defined(NAND4)
                            20143 ; 52   |#define SM_INTERNAL_CHIPS 4
                            20144 ; 53   |#else 
                            20145 ; 54   |#define SM_INTERNAL_CHIPS 1
                            20146 ; 55   |#endif
                            20147 ; 56   |#endif
                            20148 ; 57   |#endif
                            20149 ; 58   |#endif
                            20150 ; 59   |
                            20151 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            20152 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            20153 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it rea
                                  ds 0.  
                            20154 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            20155 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it rea
                                  ds 1.
                            20156 ; 65   |//*** comment out if active high ****
                            20157 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            20158 ; 67   |
                            20159 ; 68   |#if defined(SMEDIA)
                            20160 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            20161 ; 70   |#define NUM_SM_EXTERNAL 1
                            20162 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 334

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20163 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            20164 ; 73   |#else 
                            20165 ; 74   |#if defined(MMC)
                            20166 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            20167 ; 76   |#define NUM_SM_EXTERNAL 0
                            20168 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            20169 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            20170 ; 79   |#else 
                            20171 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            20172 ; 81   |#define NUM_SM_EXTERNAL 0
                            20173 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            20174 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            20175 ; 84   |#endif
                            20176 ; 85   |#endif
                            20177 ; 86   |
                            20178 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            20179 ; 88   |// Mass Storage Class definitions
                            20180 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            20181 ; 90   |// Set to 0 if Composite Device build is desired.    
                            20182 ; 91   |#define MULTI_LUN_BUILD 1   
                            20183 ; 92   |
                            20184 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            20185 ; 94   |//  SCSI
                            20186 ; 95   |#if (MULTI_LUN_BUILD==0)
                            20187 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            20188 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            20189 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            20190 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            20191 ; 100  |  #else
                            20192 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            20193 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            20194 ; 103  |  #endif
                            20195 ; 104  |#else
                            20196 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            20197 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            20198 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            20199 ; 108  |  #else
                            20200 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            20201 ; 110  |  #endif
                            20202 ; 111  |#endif
                            20203 ; 112  |
                            20204 ; 113  |
                            20205 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            20206 ; 115  |
                            20207 ; 116  |
                            20208 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            20209 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            20210 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            20211 ; 120  |#ifdef MMC
                            20212 ; 121  |#ifdef MTP_BUILD
                            20213 ; 122  |// --------------------
                            20214 ; 123  |// MTP and MMC
                            20215 ; 124  |// --------------------
                            20216 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            20217 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            20218 ; 127  |#else  // ifndef MTP_BUILD
                            20219 ; 128  |#ifdef STMP_BUILD_PLAYER
                            20220 ; 129  |// --------------------
                            20221 ; 130  |// Player and MMC
                            20222 ; 131  |// --------------------
                            20223 ; 132  |#else
                            20224 ; 133  |// --------------------
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 335

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20225 ; 134  |// USBMSC and MMC
                            20226 ; 135  |// --------------------
                            20227 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            20228 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            20229 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            20230 ; 139  |#endif // ifdef MTP_BUILD
                            20231 ; 140  |#else  // ifndef MMC
                            20232 ; 141  |#ifdef MTP_BUILD
                            20233 ; 142  |// --------------------
                            20234 ; 143  |// MTP and NAND only
                            20235 ; 144  |// --------------------
                            20236 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            20237 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            20238 ; 147  |#else  // ifndef MTP_BUILD
                            20239 ; 148  |#ifdef STMP_BUILD_PLAYER
                            20240 ; 149  |// --------------------
                            20241 ; 150  |// Player and NAND only
                            20242 ; 151  |// --------------------
                            20243 ; 152  |#else
                            20244 ; 153  |// --------------------
                            20245 ; 154  |// USBMSC and NAND only
                            20246 ; 155  |// --------------------
                            20247 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            20248 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            20249 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            20250 ; 159  |#endif // ifdef MTP_BUILD
                            20251 ; 160  |#endif // ifdef MMC 
                            20252 ; 161  |
                            20253 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            20254 ; 163  |#if (defined(MTP_BUILD))
                            20255 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            20256 ; 165  |
                            20257 ; 166  |////!
                            20258 ; 167  |////! This varible holds the watchdog count for the store flush.
                            20259 ; 168  |////!
                            20260 ; 169  |///
                            20261 ; 170  |#include <types.h>
                            20262 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            20263 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            20264 ; 173  |#endif
                            20265 ; 174  |
                            20266 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            20267 ; 176  |// These are needed here for Mass Storage Class
                            20268 ; 177  |// Needs to be cleaned up
                            20269 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            20270 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            20271 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            20272 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            20273 ; 182  |
                            20274 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            20275 ; 184  |
                            20276 ; 185  |#endif
                            20277 ; 186  |
                            20278 ; 187  |
                            20279 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            20280 ; 189  |// SmartMedia/NAND defs
                            20281 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            20282 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            20283 ; 192  |
                            20284 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            20285 ; 194  |// Sysloadresources defs
                            20286 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 336

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20287 ; 196  |
                            20288 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            20289 ; 198  |// MMC defs
                            20290 ; 199  |#define MMC_MAX_PARTITIONS 1
                            20291 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            20292 ; 201  |
                            20293 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            20294 ; 203  |// SPI defs
                            20295 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            20296 ; 205  |
                            20297 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            20298 ; 207  |// Global media defs
                            20299 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            20300 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            20301 ; 210  |
                            20302 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            20303 ; 212  |// DO NOT CHANGE THESE!!!
                            20304 ; 213  |#define SM_MAX_PARTITIONS 4
                            20305 ; 214  |#define MAX_HANDLES 2
                            20306 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            20307 ; 216  |
                            20308 ; 217  |
                            20309 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            20310 ; 219  |// Battery LRADC Values 
                            20311 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            20312 ; 221  |// brownout trip point in mV (moved by RS)
                            20313 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            20314 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            20315 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            20316 ; 225  |//     audio recording to media.
                            20317 ; 226  |#define BATT_SAFETY_MARGIN 10
                            20318 ; 227  |
                            20319 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                                  
                            20320 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline vol
                                  tage to do a refresh.
                            20321 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            20322 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            20323 ; 232  |
                            20324 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc 
                                  presence.
                            20325 ; 234  |
                            20326 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            20327 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat che
                                  ck.
                            20328 ; 237  |#if (!defined(CLCD))
                            20329 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            20330 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            20331 ; 240  |#else 
                            20332 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            20333 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            20334 ; 243  |#endif
                            20335 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            20336 ; 245  |
                            20337 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            20338 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIo
                                  n.
                            20339 ; 248  |// See mp3 encoder overlay.
                            20340 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            20341 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            20342 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            20343 ; 252  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 337

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20344 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            20345 ; 254  |// Voice recording filenames
                            20346 ; 255  |// number of digits in filename Vxxx.wav
                            20347 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            20348 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            20349 ; 258  |
                            20350 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            20351 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            20352 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            20353 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            20354 ; 263  |#if defined(DEVICE_3500)
                            20355 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            20356 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            20357 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            20358 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, 
                                  & demo player)
                            20359 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            20360 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            20361 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            20362 ; 271  |
                            20363 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn whe
                                  n bias not yet ready.
                            20364 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            20365 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevent
                                  ion if you use rec button from outside voice menu.
                            20366 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latenc
                                  y in the record-from-music-menu use-case.
                            20367 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            20368 ; 277  |
                            20369 ; 278  |#else 
                            20370 ; 279  |// STMP3410
                            20371 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            20372 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            20373 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            20374 ; 283  |#endif
                            20375 ; 284  |
                            20376 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            20377 ; 286  |// Number of available soft timers
                            20378 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            20379 ; 288  |#if defined(SYNC_LYRICS)
                            20380 ; 289  |#define SOFT_TIMERS 10
                            20381 ; 290  |#else 
                            20382 ; 291  |#if defined(JPEG_DECODER)
                            20383 ; 292  |#define SOFT_TIMERS 10
                            20384 ; 293  |#else 
                            20385 ; 294  |#define SOFT_TIMERS 9
                            20386 ; 295  |#endif
                            20387 ; 296  |#endif
                            20388 ; 297  |
                            20389 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            20390 ; 299  |//  sizes
                            20391 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            20392 ; 301  |#if defined(MMC)
                            20393 ; 302  |#if defined(USE_PLAYLIST5)
                            20394 ; 303  |#define MENU_STACK_SIZE 1500
                            20395 ; 304  |#else 
                            20396 ; 305  |#define MENU_STACK_SIZE 1250
                            20397 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            20398 ; 307  |#else 
                            20399 ; 308  |#if defined(USE_PLAYLIST5)
                            20400 ; 309  |#define MENU_STACK_SIZE 1500
                            20401 ; 310  |#else 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 338

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20402 ; 311  |#define MENU_STACK_SIZE 1250
                            20403 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            20404 ; 313  |#endif //if @def('MMC')
                            20405 ; 314  |
                            20406 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 75
                                  0 else 550 for other builds? TOVERIFY. MYALLOC
                            20407 ; 316  |// 
                            20408 ; 317  |#define STACK_L1_SIZE 750
                            20409 ; 318  |#define STACK_L2_SIZE 100
                            20410 ; 319  |#define STACK_L3_SIZE 160
                            20411 ; 320  |
                            20412 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            20413 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            20414 ; 323  |// is ok with switching code.
                            20415 ; 324  |#if defined(MTP_BUILD)
                            20416 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            20417 ; 326  |#endif
                            20418 ; 327  |
                            20419 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            20420 ; 329  |// maximum number of nested funclets 
                            20421 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            20422 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            20423 ; 332  |
                            20424 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            20425 ; 334  |//    LCD DEFINITIONS
                            20426 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            20427 ; 336  |
                            20428 ; 337  |#define SPACE_CHAR 0x000020          
                            20429 ; 338  |#define ZERO_CHAR 0x000030
                            20430 ; 339  |#define COLON_CHAR 0x00003A
                            20431 ; 340  |#define PERIOD_CHAR 0x00002E
                            20432 ; 341  |
                            20433 ; 342  |#if (defined(S6B33B0A_LCD))
                            20434 ; 343  |#define LCD_X_SIZE 128
                            20435 ; 344  |#define LCD_Y_SIZE 159
                            20436 ; 345  |#endif
                            20437 ; 346  |
                            20438 ; 347  |#if (defined(SED15XX_LCD))
                            20439 ; 348  |#define LCD_X_SIZE 128
                            20440 ; 349  |#define LCD_Y_SIZE 64
                            20441 ; 350  |#endif
                            20442 ; 351  |
                            20443 ; 352  |
                            20444 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            20445 ; 354  |//   Details on Customizing Contrast
                            20446 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            20447 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            20448 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            20449 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            20450 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            20451 ; 360  |//   unless the ezact sequence is remembered.
                            20452 ; 361  |//   To find out what range your player supports: 
                            20453 ; 362  |//   change these equs to full range or comment out (full range is default)
                            20454 ; 363  |//;;;;;;
                            20455 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            20456 ; 365  |// recommended calibration using player -- uncomment 
                            20457 ; 366  |//;;;;;;
                            20458 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            20459 ; 368  |////////////////////////////
                            20460 ; 369  |#if (defined(DEMO_HW))
                            20461 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi 
                                  LCD (June6'05)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 339

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20462 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            20463 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            20464 ; 373  |#else 
                            20465 ; 374  |
                            20466 ; 375  |#if (defined(S6B33B0A_LCD))
                            20467 ; 376  |#define LCD_MAX_CONTRAST 210
                            20468 ; 377  |#define LCD_MIN_CONTRAST 160    
                            20469 ; 378  |#endif
                            20470 ; 379  |
                            20471 ; 380  |#if (defined(SED15XX_LCD))
                            20472 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            20473 ; 382  |// Engineering board regs support range [17-37].
                            20474 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            20475 ; 384  |//   One default contrast range [24-42] works for both.
                            20476 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            20477 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            20478 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            20479 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            20480 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            20481 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            20482 ; 391  |
                            20483 ; 392  |#if (defined(NEWSHINGYIH))
                            20484 ; 393  |#define LCD_MAX_CONTRAST 250
                            20485 ; 394  |#define LCD_MIN_CONTRAST 0
                            20486 ; 395  |#else 
                            20487 ; 396  |//-----
                            20488 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            20489 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for bo
                                  th LCDs.
                            20490 ; 399  |#define LCD_MAX_CONTRAST 250
                            20491 ; 400  |#define LCD_MIN_CONTRAST 0
                            20492 ; 401  |
                            20493 ; 402  |//=====
                            20494 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            20495 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this hi
                                  storic ver.
                            20496 ; 405  |//LCD_MAX_CONTRAST equ 42
                            20497 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            20498 ; 407  |
                            20499 ; 408  |#endif
                            20500 ; 409  |#endif
                            20501 ; 410  |
                            20502 ; 411  |#endif
                            20503 ; 412  |
                            20504 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            20505 ; 414  |// The default value of the lcd contrast in % of range
                            20506 ; 415  |//   the default value is used when no settings.dat is available
                            20507 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            20508 ; 417  |
                            20509 ; 418  |#if (defined(S6B33B0A_LCD))
                            20510 ; 419  |// 60% of range is default value
                            20511 ; 420  |#define DEFAULT_CONTRAST 50 
                            20512 ; 421  |#endif
                            20513 ; 422  |
                            20514 ; 423  |#if (defined(SED15XX_LCD))
                            20515 ; 424  |// % of range is default value (was 60%)
                            20516 ; 425  |#define DEFAULT_CONTRAST 50 
                            20517 ; 426  |#endif
                            20518 ; 427  |
                            20519 ; 428  |
                            20520 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            20521 ; 430  |// make lower when doing calibration
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 340

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20522 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            20523 ; 432  |
                            20524 ; 433  |
                            20525 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            20526 ; 435  |// For FFWD and RWND
                            20527 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            20528 ; 437  |#define SECONDS_TO_SKIP 1
                            20529 ; 438  |#define SECONDS_TO_SKIP1 3
                            20530 ; 439  |#define SECONDS_TO_SKIP2 6
                            20531 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            20532 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            20533 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            20534 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            20535 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            20536 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            20537 ; 446  |
                            20538 ; 447  |// For audible FFW/RWD
                            20539 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            20540 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            20541 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            20542 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            20543 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            20544 ; 453  |#define LEVEL1_BOUNDARY 17 
                            20545 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            20546 ; 455  |#define LEVEL2_BOUNDARY 33 
                            20547 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            20548 ; 457  |#define LEVEL3_BOUNDARY 50 
                            20549 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            20550 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            20551 ; 460  |// Short Song Time, songs too short to play.
                            20552 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            20553 ; 462  |
                            20554 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            20555 ; 464  |// MP3 Sync Values
                            20556 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            20557 ; 466  |// # bytes to look for sync before marking it bad
                            20558 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            20559 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            20560 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            20561 ; 470  |// once we have sync'd, the isr should be called this frequently
                            20562 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            20563 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            20564 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            20565 ; 474  |
                            20566 ; 475  |
                            20567 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            20568 ; 477  |//// Multi-Stage Volume Control Definitions
                            20569 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            20570 ; 479  |//// Use Multi-Stage Volume
                            20571 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            20572 ; 481  |
                            20573 ; 482  |//// Master Volume definitions
                            20574 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            20575 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            20576 ; 485  |
                            20577 ; 486  |//// DAC-Mode definitions
                            20578 ; 487  |//// Adjusts 0dB point
                            20579 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            20580 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            20581 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines 
                                  above.
                            20582 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 341

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20583 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provid
                                  es 1.5 dB gain on Stmp34x0; 
                            20584 ; 493  |//                                               Max gain possible: 8 step diff would prov
                                  ide +12dB gain.   
                            20585 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            20586 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            20587 ; 496  |
                            20588 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            20589 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            20590 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                                  
                            20591 ; 500  |
                            20592 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not t
                                  he default
                            20593 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoin
                                  t.
                            20594 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            20595 ; 504  |
                            20596 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the def
                                  ault
                            20597 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            20598 ; 507  |
                            20599 ; 508  |
                            20600 ; 509  |//// Line In definitions (used for Line-In 1)
                            20601 ; 510  |//// 0dB point of the Line In
                            20602 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            20603 ; 512  |//// Minimum volume of Line In
                            20604 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            20605 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            20606 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            20607 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            20608 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            20609 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS
                                  +1)
                            20610 ; 519  |
                            20611 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            20612 ; 521  |//// 0dB point of the Line In
                            20613 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            20614 ; 523  |//// Minimum volume of Line In
                            20615 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            20616 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            20617 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            20618 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            20619 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            20620 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            20621 ; 530  |
                            20622 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            20623 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid dea
                                  dlock states & recovers. 
                            20624 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            20625 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            20626 ; 535  |
                            20627 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            20628 ; 537  |////
                            20629 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            20630 ; 539  |////
                            20631 ; 540  |///
                            20632 ; 541  |#include <types.h>
                            20633 ; 542  |extern volatile WORD g_wActivityState;
                            20634 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            20635 ; 544  |
                            20636 ; 545  |void _reentrant Init5VSense(void);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 342

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20637 ; 546  |void _reentrant ServiceDCDC(void);
                            20638 ; 547  |
                            20639 ; 548  |////////////////////////////////////////////////////////////////////////////
                            20640 ; 549  |//// JPEG Thumbnail Mode Setting
                            20641 ; 550  |//// number of column in thumbnail mode
                            20642 ; 551  |#define THUMBNAIL_X 2           
                            20643 ; 552  |//// number of row in  thumbnail mode
                            20644 ; 553  |#define THUMBNAIL_Y 2           
                            20645 ; 554  |//// thumbnail boundary offset x
                            20646 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            20647 ; 556  |//// thumbnail boundary offset y
                            20648 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            20649 ; 558  |
                            20650 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            20651 ; 560  |
                            20652 
                            20654 
                            20655 ; 5    |
                            20656 ; 6    |#include "filesystem.h"
                            20657 
                            20659 
                            20660 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            20661 ; 2    |//  Copyright(C) SigmaTel, Inc. 2001
                            20662 ; 3    |//
                            20663 ; 4    |//  File        : FileSystem.h
                            20664 ; 5    |//  Description : Header File for File System
                            20665 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            20666 ; 7    |
                            20667 ; 8    |#ifndef _FILESYSTEM_H
                            20668 ; 9    |#define _FILESYSTEM_H
                            20669 ; 10   |
                            20670 ; 11   |#include "types.h"
                            20671 ; 12   |
                            20672 ; 13   |
                            20673 ; 14   |// File attributes
                            20674 ; 15   |#ifndef _FS_ATTRIBUTES
                            20675 ; 16   |#define _FS_ATTRIBUTES
                            20676 ; 17   |#define READ        1
                            20677 ; 18   |#define WRITE       2
                            20678 ; 19   |#define WRITE_PLUS  3
                            20679 ; 20   |#define APPEND      4
                            20680 ; 21   |#define TRUNCATE    8
                            20681 ; 22   |#define CREATE      16
                            20682 ; 23   |#endif
                            20683 ; 24   |
                            20684 ; 25   |//#ifndef FAT12
                            20685 ; 26   |//#define FAT12   1
                            20686 ; 27   |//#endif
                            20687 ; 28   |//
                            20688 ; 29   |#ifndef FAT16
                            20689 ; 30   |#define FAT16   2
                            20690 ; 31   |#endif
                            20691 ; 32   |
                            20692 ; 33   |#define MEM_SPACE_P 0x100000
                            20693 ; 34   |#define MEM_SPACE_Y 0x400000
                            20694 ; 35   |#define MEM_SPACE_X 0x800000
                            20695 ; 36   |
                            20696 ; 37   |#define FILE_SYS_MODE_READ  0
                            20697 ; 38   |#define FILE_SYS_MODE_WRITE 1
                            20698 ; 39   | 
                            20699 ; 40   |#define ATTR_READ_ONLY      0x01
                            20700 ; 41   |#define ATTR_HIDDEN         0x02
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 343

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20701 ; 42   |#define ATTR_SYSTEM         0x04
                            20702 ; 43   |#define ATTR_VOLUME_ID      0x08
                            20703 ; 44   |#define ATTR_DIRECTORY      0x10
                            20704 ; 45   |#define ATTR_ARCHIVE        0x20
                            20705 ; 46   |#define ATTR_LONG_NAME      ATTR_READ_ONLY|ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID
                            20706 ; 47   |
                            20707 ; 48   |#define SEEK_SET           -1
                            20708 ; 49   |#define SEEK_CUR            0
                            20709 ; 50   |#define SEEK_END            1
                            20710 ; 51   |
                            20711 ; 52   |#define DEVICE_INSTALLED              (WORD)(0)
                            20712 ; 53   |#define DEVICE_NOT_FOUND              (WORD)(2)
                            20713 ; 54   |#define INVALID_FILESYSTEM                        (WORD)(3)
                            20714 ; 55   |#define DEVICE_INVALID                (WORD)(-1)
                            20715 ; 56   |#define DEVICE_ERROR_WRITE_PROTECTED  (WORD)(-2)
                            20716 ; 57   |
                            20717 ; 58   |#define MEDIA_SIZE_TOTAL_SECTORS    0
                            20718 ; 59   |#define MEDIA_SIZE_TOTAL_BYTES      1
                            20719 ; 60   |#define MEDIA_SIZE_BYTES_PER_SECTOR 2
                            20720 ; 61   |#define MEDIA_SIZE_IN_MEGABYTES     3     
                            20721 ; 62   |
                            20722 ; 63   |#define READ_TYPE_NORMAL            0
                            20723 ; 64   |#define READ_TYPE_FAT               1
                            20724 ; 65   |#define READ_TYPE_RAW               2
                            20725 ; 66   |
                            20726 ; 67   |
                            20727 ; 68   |#ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            20728 ; 69   |    #define WRITE_TYPE_RANDOM                   0
                            20729 ; 70   |    #define WRITE_TYPE_SEQ_FIRST                1
                            20730 ; 71   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            20731 ; 72   |    #define WRITE_TYPE_RESET_CLEAN_UP           3
                            20732 ; 73   |    #define WRITE_TYPE_PARTIAL_SEQ_FIRST        4
                            20733 ; 74   |    #define WRITE_TYPE_PARTIAL_SEQ_NEXT         5
                            20734 ; 75   |    #define WRITE_TYPE_PARTIAL_SEQ_LAST         6
                            20735 ; 76   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            20736 ; 77   |        #define WRITE_TYPE_RANDOM_RAW               7
                            20737 ; 78   |        #define WRITE_TYPE_SEQ_FIRST_RAW            8
                            20738 ; 79   |        #define WRITE_TYPE_SEQ_NEXT_RAW             9
                            20739 ; 80   |        #define WRITE_TYPE_PARTIAL_SEQ_FIRST_RAW    10
                            20740 ; 81   |        #define WRITE_TYPE_PARTIAL_SEQ_NEXT_RAW     11
                            20741 ; 82   |        #define WRITE_TYPE_PARTIAL_SEQ_LAST_RAW     12
                            20742 ; 83   |    #endif
                            20743 ; 84   |#else
                            20744 ; 85   |    #define WRITE_TYPE_RANDOM                   0
                            20745 ; 86   |    #define WRITE_TYPE_SEQ_FIRST                1
                            20746 ; 87   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            20747 ; 88   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            20748 ; 89   |        #define WRITE_TYPE_RANDOM_RAW               3
                            20749 ; 90   |        #define WRITE_TYPE_SEQ_FIRST_RAW            4
                            20750 ; 91   |        #define WRITE_TYPE_SEQ_NEXT_RAW             5
                            20751 ; 92   |    #endif
                            20752 ; 93   |#endif
                            20753 ; 94   |    #define WRITE_TYPE_UNDEFINED 0xFFFFFF
                            20754 ; 95   |
                            20755 ; 96   |
                            20756 ; 97   |#ifndef MAX_FILENAME_LENGTH
                            20757 ; 98   |#define MAX_FILENAME_LENGTH 256
                            20758 ; 99   |#endif
                            20759 ; 100  |
                            20760 ; 101  |typedef struct {
                            20761 ; 102  |    WORD wNumberOfZones;
                            20762 ; 103  |    WORD wSizeInMegaBytes;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 344

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20763 ; 104  |} SMARTMEDIA_CHIP_INFO;
                            20764 ; 105  |
                            20765 ; 106  |typedef struct {
                            20766 ; 107  |    WORD wBootIdentification;
                            20767 ; 108  |    WORD wStartHeadNumber;
                            20768 ; 109  |    WORD wStartSectorNumber;
                            20769 ; 110  |    WORD wStartCylinderNumber;
                            20770 ; 111  |    WORD wSystemIdentification;
                            20771 ; 112  |    WORD wEndHeadNumber;
                            20772 ; 113  |    WORD wEndSectorNumber;
                            20773 ; 114  |    WORD wEndCylinderNumber;
                            20774 ; 115  |    WORD wStartLogicalSectorNumberHigh;
                            20775 ; 116  |    WORD wStartLogicalSectorNumberLow;
                            20776 ; 117  |    WORD wPartitionSizeHigh;
                            20777 ; 118  |    WORD wPartitionSizeLow;
                            20778 ; 119  |} SMARTMEDIA_PARTITION_TABLE;
                            20779 ; 120  |
                            20780 ; 121  |typedef struct {
                            20781 ; 122  |    WORD wWord0;
                            20782 ; 123  |    WORD wWord1;
                            20783 ; 124  |    WORD wWord2;
                            20784 ; 125  |} SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME;
                            20785 ; 126  |
                            20786 ; 127  |typedef struct {
                            20787 ; 128  |    WORD wWord0;
                            20788 ; 129  |    WORD wWord1;
                            20789 ; 130  |} SMARTMEDIA_CIS_IDI_PRODUCT_NAME;
                            20790 ; 131  |
                            20791 ; 132  |typedef struct {
                            20792 ; 133  |    WORD wWord0;
                            20793 ; 134  |    WORD wWord1;
                            20794 ; 135  |} SMARTMEDIA_CIS_IDI_PRODUCT_VERSION;
                            20795 ; 136  |
                            20796 ; 137  |typedef struct {
                            20797 ; 138  |    WORD wWord0;
                            20798 ; 139  |    WORD wWord1;
                            20799 ; 140  |    WORD wWord2;
                            20800 ; 141  |    WORD wWord3;
                            20801 ; 142  |} SMARTMEDIA_CIS_IDI_SERIAL_NUMBER;
                            20802 ; 143  |
                            20803 ; 144  |typedef struct {
                            20804 ; 145  |    WORD wWord0;
                            20805 ; 146  |} SMARTMEDIA_CIS_IDI_MODEL_NUMBER;
                            20806 ; 147  |
                            20807 ; 148  |typedef struct {
                            20808 ; 149  |    SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME ManufacturerName;
                            20809 ; 150  |    SMARTMEDIA_CIS_IDI_PRODUCT_NAME ProductName;
                            20810 ; 151  |    SMARTMEDIA_CIS_IDI_PRODUCT_VERSION ProductVersion;
                            20811 ; 152  |    SMARTMEDIA_CIS_IDI_SERIAL_NUMBER SerialNumber;
                            20812 ; 153  |    SMARTMEDIA_CIS_IDI_MODEL_NUMBER ModelNumber;
                            20813 ; 154  |} SMARTMEDIA_CIS_IDI_TABLE;
                            20814 ; 155  |   
                            20815 ; 156  |typedef struct {
                            20816 ; 157  |    WORD wPageSizeInBytes;
                            20817 ; 158  |    WORD wRedundantAreaSizeInBytes;
                            20818 ; 159  |    WORD wNumberOfPagesPerBlock;
                            20819 ; 160  |    WORD wNumberOfBlocksPerZone;
                            20820 ; 161  |    WORD wNumberOfZonesInMedia;
                            20821 ; 162  |    WORD wMediaSizeInMBytes;
                            20822 ; 163  |    SMARTMEDIA_PARTITION_TABLE * pPartitionTable;
                            20823 ; 164  |    SMARTMEDIA_CIS_IDI_TABLE * pCisIdiTable;
                            20824 ; 165  |    WORD wMediaFlagStatus;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 345

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20825 ; 166  |    WORD wNumberOfBlocksToTheCisIdiBlock;
                            20826 ; 167  |    WORD wTotalNumberOfPhysicalBlocks;
                            20827 ; 168  |    WORD wNumberOfSystemBlocks;
                            20828 ; 169  |} SMARTMEDIA_ENTRY_TABLE;
                            20829 ; 170  |
                            20830 ; 171  |typedef struct {
                            20831 ; 172  |    WORD wDevice;        
                            20832 ; 173  |    WORD wDirtyBlockFlag;
                            20833 ; 174  |    WORD wCleanTailFlag; 
                            20834 ; 175  |    WORD wLogDOSPage;    
                            20835 ; 176  |    WORD wSrcLogBlock;   
                            20836 ; 177  |    WORD wSrcPhyBlock;   
                            20837 ; 178  |    WORD wDestPhyBlock;  
                            20838 ; 179  |    WORD wStartSrcPage;  
                            20839 ; 180  |    WORD wStartDestPage; 
                            20840 ; 181  |    WORD wPagesToCopy;   
                            20841 ; 182  |    WORD wReplaceBuff;   
                            20842 ; 183  |    WORD wReplaceRdnt;
                            20843 ; 184  |    #ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            20844 ; 185  |        WORD wFirstCount;
                            20845 ; 186  |        WORD wNextCount;
                            20846 ; 187  |        WORD wLastCount;
                            20847 ; 188  |    #endif
                            20848 ; 189  |} SMARTMEDIA_FWPPS_TABLE;
                            20849 ; 190  |
                            20850 ; 191  |typedef struct {
                            20851 ; 192  |    WORD wWord0;
                            20852 ; 193  |    WORD wWord1;
                            20853 ; 194  |    WORD wWord2;
                            20854 ; 195  |    WORD wWord3;
                            20855 ; 196  |} DIRECTORY_NAME;
                            20856 ; 197  |
                            20857 ; 198  |typedef struct {
                            20858 ; 199  |    WORD wWord0;
                            20859 ; 200  |    WORD wWord1;
                            20860 ; 201  |} DIRECTORY_EXTENSION;
                            20861 ; 202  |
                            20862 ; 203  |typedef struct {
                            20863 ; 204  |    WORD wWord0;
                            20864 ; 205  |    WORD wWord1;
                            20865 ; 206  |} DIRECTORY_SIZE;
                            20866 ; 207  |
                            20867 ; 208  |typedef struct {
                            20868 ; 209  |    DIRECTORY_NAME Name;
                            20869 ; 210  |    DIRECTORY_EXTENSION Extension;
                            20870 ; 211  |    WORD wAttribute;
                            20871 ; 212  |    WORD wReserved[4];
                            20872 ; 213  |    WORD wCreationTime;
                            20873 ; 214  |    WORD wCreationData;
                            20874 ; 215  |    WORD wFirstCluster;
                            20875 ; 216  |    DIRECTORY_SIZE Size;
                            20876 ; 217  |    WORD wCurrentCluster;
                            20877 ; 218  |    WORD wPointer;
                            20878 ; 219  |    WORD wRecord;
                            20879 ; 220  |    WORD wRd;
                            20880 ; 221  |} DIRECTORY_FILE_CONTROL_BLOCK;
                            20881 ; 222  |
                            20882 ; 223  |// TODO:  clean this up.  There are two versions.
                            20883 ; 224  |struct FCB
                            20884 ; 225  |{
                            20885 ; 226  |    _packed BYTE m_szFileName[9];       //0-2
                            20886 ; 227  |    int     m_wReserved;                //3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 346

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20887 ; 228  |    _packed BYTE m_szExt[4];            //4-5
                            20888 ; 229  |    int     m_wAttributes;              //6
                            20889 ; 230  |    int     m_wReserved2[4];            //7,8,9,a
                            20890 ; 231  |    int     m_wTimeofCreation;          //b
                            20891 ; 232  |    int     m_wDateofCreation;          //c
                            20892 ; 233  |    int     m_wFirstCluster;            //d
                            20893 ; 234  |    int     m_wFileSizeHigh;            //e
                            20894 ; 235  |    int     m_wFileSizeLow;             //f
                            20895 ; 236  |};
                            20896 ; 237  |
                            20897 ; 238  |
                            20898 ; 239  |typedef struct {
                            20899 ; 240  |    WORD wFirstClusterCurrentDirectory;
                            20900 ; 241  |    WORD wFirstClusterParentDirectory;
                            20901 ; 242  |    WORD wAbsSectorCurrentlyCached;
                            20902 ; 243  |    WORD wCurrentRelativeSector;
                            20903 ; 244  |    WORD wNumberOfSectors;
                            20904 ; 245  |    WORD wCurrentRecordLoadedInDcb;
                            20905 ; 246  |    WORD wBufferedRecord;
                            20906 ; 247  |    WORD wMaxNumberRecordsCurrentDirectory;
                            20907 ; 248  |    WORD * pwPointerToBuffer;
                            20908 ; 249  |    WORD * pwPointerToPath;
                            20909 ; 250  |    DIRECTORY_FILE_CONTROL_BLOCK * pDirFcb;
                            20910 ; 251  |} DIRECTORY_CONTROL_BLOCK;
                            20911 ; 252  |
                            20912 ; 253  |typedef struct {
                            20913 ; 254  |    WORD wWord0;
                            20914 ; 255  |    WORD wWord1;
                            20915 ; 256  |    WORD wWord2;
                            20916 ; 257  |    WORD wWord3;
                            20917 ; 258  |} FILE_NAME;
                            20918 ; 259  |
                            20919 ; 260  |typedef struct {
                            20920 ; 261  |    WORD wWord0;
                            20921 ; 262  |    WORD wWord1;
                            20922 ; 263  |} FILE_EXTENSION;
                            20923 ; 264  |
                            20924 ; 265  |typedef struct {
                            20925 ; 266  |    WORD wWord0;
                            20926 ; 267  |    WORD wWord1;
                            20927 ; 268  |} FILE_SIZE;
                            20928 ; 269  |
                            20929 ; 270  |typedef union {
                            20930 ; 271  |    struct {
                            20931 ; 272  |        int Read        :1;
                            20932 ; 273  |        int Write       :1;
                            20933 ; 274  |        int Append      :1;
                            20934 ; 275  |        int Truncate    :1;
                            20935 ; 276  |        int Create      :1;
                            20936 ; 277  |        int Rsrv        :3;
                            20937 ; 278  |        int Mode        :8;
                            20938 ; 279  |        int Device      :8;
                            20939 ; 280  |    } B;
                            20940 ; 281  |    int I;
                            20941 ; 282  |} FILE_FLAGS;
                            20942 ; 283  |
                            20943 ; 284  |typedef struct {
                            20944 ; 285  |    WORD wWord0;
                            20945 ; 286  |    WORD wWord1;
                            20946 ; 287  |} FILE_BYTE_CURRENT;
                            20947 ; 288  |
                            20948 ; 289  |typedef struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 347

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20949 ; 290  |    FILE_NAME Name;
                            20950 ; 291  |    FILE_EXTENSION Extension;
                            20951 ; 292  |    WORD wAttributes;
                            20952 ; 293  |    WORD wReserved[4];
                            20953 ; 294  |    WORD wCreationTime;
                            20954 ; 295  |    WORD wCreationData;
                            20955 ; 296  |    WORD wFirstCluster;
                            20956 ; 297  |    FILE_SIZE Size;
                            20957 ; 298  |    WORD wCurrentCluster;
                            20958 ; 299  |    WORD wPointer;
                            20959 ; 300  |    WORD wRecord;
                            20960 ; 301  |    WORD wRd;
                            20961 ; 302  |    FILE_FLAGS Flags;
                            20962 ; 303  |    FILE_BYTE_CURRENT FcbByteCurrent;
                            20963 ; 304  |    WORD wFcbFlagEndOfCx;
                            20964 ; 305  |} FILE_CONTROL_BLOCK;    
                            20965 ; 306  |
                            20966 ; 307  |typedef struct {
                            20967 ; 308  |    WORD wWord0;
                            20968 ; 309  |    WORD wWord1;
                            20969 ; 310  |    WORD wWord2;
                            20970 ; 311  |    WORD wWord3;
                            20971 ; 312  |} VOLUME_LABEL;
                            20972 ; 313  |
                            20973 ; 314  |typedef struct {
                            20974 ; 315  |    WORD wFATPhysicalBlock1;
                            20975 ; 316  |    WORD wFATPhysicalBlock2;
                            20976 ; 317  |    WORD wFATPhysicalBlock3;
                            20977 ; 318  |    WORD wFATPhysicalBlock4;
                            20978 ; 319  |} FAT_PHYSICAL_BLOCK_LIST;
                            20979 ; 320  |
                            20980 ; 321  |typedef struct {
                            20981 ; 322  |    WORD wFATSectorInCache;
                            20982 ; 323  |    WORD wLastClusterFree;
                            20983 ; 324  |    WORD wNumberOfUsedClusters;
                            20984 ; 325  |    WORD wNumberOfFreeClusters;
                            20985 ; 326  |    WORD wNumberOfBadClusters;
                            20986 ; 327  |    WORD wNumberOfReservedClusters;
                            20987 ; 328  |    WORD wControl;
                            20988 ; 329  |    WORD * pwSectorCache;
                            20989 ; 330  |    FAT_PHYSICAL_BLOCK_LIST FATPhysicalLocationList;
                            20990 ; 331  |} FAT_TABLE;
                            20991 ; 332  |
                            20992 ; 333  |typedef struct {
                            20993 ; 334  |    WORD wStateMediaTable;
                            20994 ; 335  |    WORD wTypeFs;
                            20995 ; 336  |    WORD wBytesPerSector;
                            20996 ; 337  |    WORD wSectorsPerCluster;
                            20997 ; 338  |    WORD wNumberOfReservedSectors;
                            20998 ; 339  |    WORD wMaximumNumberOfFATs;
                            20999 ; 340  |    WORD wMaxRootDirectoryEntries;
                            21000 ; 341  |    WORD wTotalSectors;
                            21001 ; 342  |    WORD wNumberOfFATSectors;
                            21002 ; 343  |    WORD wNumberOfSectorsPerTrack;
                            21003 ; 344  |    WORD wNumberOfHeads;
                            21004 ; 345  |    WORD wNumberOfHiddenSectorsMSB;
                            21005 ; 346  |    WORD wNumberOfHiddenSectorsLSB;
                            21006 ; 347  |    WORD wTotalSectors32MSB;
                            21007 ; 348  |    WORD wTotalSectors32LSB;
                            21008 ; 349  |    WORD wDriverNumber;
                            21009 ; 350  |    WORD wExtendedBootSignature;
                            21010 ; 351  |    WORD wVolumeIDMSB;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 348

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21011 ; 352  |    WORD wVolumeIDLSB;
                            21012 ; 353  |    VOLUME_LABEL VolumeLabel;
                            21013 ; 354  |    WORD * pwWriteBuffer;
                            21014 ; 355  |    WORD wPrimaryFATRelativeSector;
                            21015 ; 356  |    WORD wSecondaryFATRelativeSector;
                            21016 ; 357  |    WORD wRootDirectoryRelativeSector;
                            21017 ; 358  |    WORD wFirstSectorNumberDataZone;
                            21018 ; 359  |    WORD wMaxNumberOfFATEntries;
                            21019 ; 360  |    WORD wRootDirectorySizeInSectors;
                            21020 ; 361  |    WORD wDataAreaSizeInSectors;
                            21021 ; 362  |} MEDIA_TABLE;
                            21022 ; 363  |
                            21023 ; 364  |typedef struct {
                            21024 ; 365  |    MEDIA_TABLE * pMediaTable;
                            21025 ; 366  |    DIRECTORY_CONTROL_BLOCK * pDirectoryControlBlock;
                            21026 ; 367  |    FAT_TABLE * pFATTable;
                            21027 ; 368  |} DEVICE_CONTROL_TABLE;
                            21028 ; 369  |    
                            21029 ; 370  |typedef struct {
                            21030 ; 371  |    WORD dwTotalSizeInMegaBytes;        // dwTotalSizeInMegaBytes is limited
                            21031 ; 372  |                                        //  to 2-bytes for compatibility with
                            21032 ; 373  |                                        //  older host drivers.
                            21033 ; 374  |    DWORD dwTotalNumberOfSectors;
                            21034 ; 375  |    DWORD dwTotalNumberOfBytes;
                            21035 ; 376  |    WORD wSectorSizeInBytes;
                            21036 ; 377  |} MEDIA_SIZE;
                            21037 ; 378  |
                            21038 ; 379  |typedef struct {
                            21039 ; 380  |    BOOL    bInstalled;
                            21040 ; 381  |    INT     iPbsSectorOffset;   // from the beginning of the data drive 
                            21041 ; 382  |    DWORD   dwSize;
                            21042 ; 383  |} DATA_DRIVE_PBS_LOC;
                            21043 ; 384  |extern  INT _reentrant FSFileOpen(_packed BYTE *fname,INT attribute, INT DeviceNumber);
                            21044 ; 385  |extern  INT _reentrant FSFastOpen(DWORD Key, INT attribute);
                            21045 ; 386  |extern  INT FSFileDelete(_packed BYTE *fname,INT DeviceNumber);
                            21046 ; 387  |extern  INT FSFileCreate(_packed BYTE *fname,INT DeviceNumber);
                            21047 ; 388  |extern  INT _reentrant FSChangeDir(_packed BYTE *dirname,INT DeviceNumber);
                            21048 ; 389  |extern  INT _reentrant FSCreateDir(_packed BYTE *dirname,INT DeviceNumber);
                            21049 ; 390  |extern  INT _reentrant FSDeleteDir(_packed BYTE *dirname,INT DeviceNumber);
                            21050 ; 391  |extern  INT _reentrant FSFileAppend(_packed BYTE *fname,INT DeviceNumber);
                            21051 ; 392  |extern  INT _reentrant FSFileRead(INT BytestoRead, INT Handle, INT memory_type, INT modulo
                                  , WORD *buffer);
                            21052 ; 393  |extern  INT _reentrant FSFileWrite(INT wNumberBytes, INT Handle, INT memory_type, INT iMod
                                  ulo, WORD *buffer);
                            21053 ; 394  |extern  INT _reentrant FSFileClose(INT Handle);
                            21054 ; 395  |extern  LONG _reentrant FSFileSize(INT HandleNumber);
                            21055 ; 396  |extern  LONG  FSSize(INT DeviceNum, INT TYPE);   
                            21056 ; 397  |extern  INT FSFreeClusters(INT Device);
                            21057 ; 398  |extern  INT BytesPerCluster(INT Device);
                            21058 ; 399  |
                            21059 ; 400  |
                            21060 ; 401  |
                            21061 ; 402  |//extern  INT FSFileCreate(_packed BYTE *pbFileName, BYTE bDevice);
                            21062 ; 403  |//extern  INT FSFileDelete(_packed BYTE *pbFileName, BYTE bDevice);
                            21063 ; 404  |extern  INT FSFileRename(_packed BYTE *pbCurFilename, _packed BYTE *pbNewFilename, BYTE bD
                                  evice);
                            21064 ; 405  |//extern  INT _reentrant FSFileAttribute(_packed BYTE *pbFilename, WORD wAttributes, BYTE 
                                  bDevice);
                            21065 ; 406  |//extern  INT FSFileAppend(_packed BYTE *pbFileName, BYTE bDevice);
                            21066 ; 407  |//extern  INT FSFileOpen(_packed BYTE *pbFileName, WORD wAttributes, BYTE bDevice);
                            21067 ; 408  |//extern  INT FSFileClose(INT bHandle);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 349

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21068 ; 409  |//extern  INT FSFileRead(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WOR
                                  D *pwBuffer);
                            21069 ; 410  |//extern  INT FSFileWrite(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WO
                                  RD *pwBuffer);
                            21070 ; 411  |extern  INT _reentrant fseek( INT handle , LONG offset, INT iOrigin );
                            21071 ; 412  |extern  INT _reentrant FSFileEof(INT Handle);
                            21072 ; 413  |extern INT _reentrant FSFileAttribute(INT Attributes, _packed BYTE *fname, INT DeviceNumbe
                                  r);
                            21073 ; 414  |extern INT _reentrant FSFileAttributeClear(INT Attributes, _packed BYTE *fname, INT Device
                                  Number);
                            21074 ; 415  |//extern  LONG FSFileSize(INT bHandle);
                            21075 ; 416  |extern _asmfunc INT FSPresent(BYTE bDevice);
                            21076 ; 417  |extern _asmfunc INT FSType(BYTE bDevice);
                            21077 ; 418  |//extern LONG FSSize(WORD wDevice, WORD wReturnType);
                            21078 ; 419  |//extern INT FSChangeDir(_packed BYTE *pbDirName, BYTE bDevice);
                            21079 ; 420  |//extern INT FSCreateDir(_packed BYTE *pbDirName, BYTE bDevice);
                            21080 ; 421  |//extern INT FSDeleteDir(_packed BYTE *pbDirName, BYTE bDevice);
                            21081 ; 422  |extern _asmfunc void SysLoadFATWrite(void);
                            21082 ; 423  |extern _asmfunc INT SysUnLoadFATWrite(void);
                            21083 ; 424  |extern LONG _reentrant ftell(INT iHandle);
                            21084 ; 425  |extern _asmfunc struct FCB * ReadDirectory(int iDevice, int iEntry);
                            21085 ; 426  |
                            21086 ; 427  |#endif
                            21087 
                            21089 
                            21090 ; 7    |#include "metadata.h"
                            21091 
                            21093 
                            21094 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            21095 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            21096 ; 3    |//
                            21097 ; 4    |// Filename: metadata.h
                            21098 ; 5    |// Description:
                            21099 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            21100 ; 7    |
                            21101 ; 8    |#ifndef _METADATA_H
                            21102 ; 9    |#define _METADATA_H
                            21103 ; 10   |
                            21104 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            21105 ; 12   |// MetaData definitions
                            21106 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            21107 ; 14   |
                            21108 ; 15   |//#define MMC_CMD59       0x40|59
                            21109 ; 16   |
                            21110 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            21111 ; 18   |// Meta Data structure definitions
                            21112 ; 19   |///////////////////////////////////////////////////////////////////////////////
                            21113 ; 20   |
                            21114 ; 21   |///////////////////////////////////////////////////////////////////////////////
                            21115 ; 22   |// MetaData definitions
                            21116 ; 23   |
                            21117 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                            21118 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                            21119 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            21120 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                            21121 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                            21122 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                            21123 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                            21124 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                            21125 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
                            21126 ; 33   |
                            21127 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 350

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21128 ; 35   |
                            21129 ; 36   |// VBR
                            21130 ; 37   |#define VBR_NOT_DETERMINED 0
                            21131 ; 38   |#define VBR_TRUE 1
                            21132 ; 39   |
                            21133 ; 40   |#ifndef TITLE_SIZE
                            21134 ; 41   |//#define TITLE_SIZE 30
                            21135 ; 42   |#ifndef USE_PLAYLIST3
                            21136 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                            21137 ; 44   |#else
                            21138 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                            21139 ; 46   |#endif
                            21140 ; 47   |#endif
                            21141 ; 48   |
                            21142 ; 49   |#ifndef ARTIST_SIZE
                            21143 ; 50   |#ifndef USE_PLAYLIST3
                            21144 ; 51   |//#define ARTIST_SIZE 30
                            21145 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            21146 ; 53   |#else
                            21147 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            21148 ; 55   |#endif
                            21149 ; 56   |#endif
                            21150 ; 57   |
                            21151 ; 58   |#ifndef ALBUM_SIZE
                            21152 ; 59   |#ifndef USE_PLAYLIST3
                            21153 ; 60   |//#define ALBUM_SIZE 30
                            21154 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            21155 ; 62   |#else
                            21156 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            21157 ; 64   |#endif
                            21158 ; 65   |#endif
                            21159 ; 66   |
                            21160 ; 67   |#ifdef USE_PLAYLIST3
                            21161 ; 68   |#ifndef GENRE_SIZE
                            21162 ; 69   |#define GENRE_SIZE 20
                            21163 ; 70   |#endif
                            21164 ; 71   |
                            21165 ; 72   |#ifndef YEAR_SIZE
                            21166 ; 73   |#define YEAR_SIZE 8
                            21167 ; 74   |#endif
                            21168 ; 75   |
                            21169 ; 76   |#ifndef TRACKNUM_SIZE
                            21170 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                            21171 ; 78   |#endif
                            21172 ; 79   |
                            21173 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                            21174 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                            21175 ; 82   |#endif
                            21176 ; 83   |
                            21177 ; 84   |#define XING_TOC_SIZE   100
                            21178 ; 85   |#if MTP_BUILD
                            21179 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                            21180 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                            21181 ; 88   |#define VBR_TOC_SIZE    2
                            21182 ; 89   |#else
                            21183 ; 90   |#define VBR_TOC_SIZE    200
                            21184 ; 91   |#endif
                            21185 ; 92   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 351

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21186 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                            21187 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                            21188 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            21189 ; 96   |#ifdef USE_PLAYLIST3
                            21190 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                            21191 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                            21192 ; 99   |extern WORD g_wSongTrackNum;
                            21193 ; 100  |#endif
                            21194 ; 101  |
                            21195 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                            21196 ; 103  |
                            21197 ; 104  |typedef struct {
                            21198 ; 105  |    WORD        iTitleBufferLength;
                            21199 ; 106  |        UCS3       *wTitle;        // Title of Song
                            21200 ; 107  |    WORD        iArtistBufferLength;
                            21201 ; 108  |    UCS3       *wArtist;
                            21202 ; 109  |    WORD        iAlbumBufferLength;
                            21203 ; 110  |    UCS3       *wAlbum;
                            21204 ; 111  |#ifdef USE_PLAYLIST3
                            21205 ; 112  |    WORD        iGenreBufferLength;
                            21206 ; 113  |    UCS3       *wGenre;
                            21207 ; 114  |    WORD        iYearBufferLength;
                            21208 ; 115  |    UCS3       *wYear;
                            21209 ; 116  |    WORD        wTrackNum;
                            21210 ; 117  |#endif
                            21211 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
                            21212 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
                            21213 ; 120  |        WORD       wNumChannels;
                            21214 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitr
                                  ate found)
                            21215 ; 122  |        LONG       iTime;                 // Length of song in seconds
                            21216 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the deco
                                  der)
                            21217 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                            21218 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                            21219 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
                            21220 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see qu
                                  estion below**)
                            21221 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = I
                                  MA ADPCM, etc (use defines below)
                            21222 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed fo
                                  r this file
                            21223 ; 130  |} FILE_META_DATA;
                            21224 ; 131  |
                            21225 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                            21226 ; 133  |#define UNKNOWN_TYPE   0
                            21227 ; 134  |#define MP3_TYPE       1
                            21228 ; 135  |#define WMA_TYPE       2
                            21229 ; 136  |#define AAC_TYPE       4
                            21230 ; 137  |#define IMA_ADPCM_TYPE 8
                            21231 ; 138  |#define MS_ADPCM_TYPE  16
                            21232 ; 139  |#define PCM_WAV_TYPE   32
                            21233 ; 140  |#define ASF_TYPE       64
                            21234 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                            21235 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                            21236 ; 143  |
                            21237 ; 144  |#define SMV_ADPCM_TYPE 512
                            21238 ; 145  |
                            21239 ; 146  |
                            21240 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                            21241 ; 148  |// Sample rates
                            21242 ; 149  |#ifdef WOW
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 352

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21243 ; 150  |#define SR_48KHZ        48000
                            21244 ; 151  |#define SR_44KHZ        44100
                            21245 ; 152  |#define SR_32KHZ        32000
                            21246 ; 153  |#define SR_24KHZ        24000
                            21247 ; 154  |#define SR_22KHZ        22050
                            21248 ; 155  |#define SR_16KHZ        16000
                            21249 ; 156  |#define SR_12KHZ        12000
                            21250 ; 157  |#define SR_11KHZ        11025
                            21251 ; 158  |#define SR_8KHZ          8000
                            21252 ; 159  |#endif
                            21253 ; 160  |
                            21254 ; 161  |
                            21255 ; 162  |///////////////////////////////////////////////////////////////////////////////
                            21256 ; 163  |// MetaData prototypes
                            21257 ; 164  |///////////////////////////////////////////////////////////////////////////////
                            21258 ; 165  |
                            21259 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_ME
                                  TA_DATA *MetaData);
                            21260 ; 167  |#ifdef USE_PLAYLIST3
                            21261 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAd
                                  dress);
                            21262 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                            21263 ; 170  |#endif
                            21264 ; 171  |
                            21265 ; 172  |#endif // #ifndef _METADATA_H
                            21266 
                            21268 
                            21269 ; 8    |
                            21270 ; 9    |#define MAX_NUM_DIR 1           //max supported directories including all subdirectories
                            21271 ; 10   |#define MAX_NUM_FILES   1       //max supported files
                            21272 ; 11   |#define MAX_SORT_ENTRIES_PER_DIRECTORY  15
                            21273 ; 12   |
                            21274 ; 13   |#define MAX_RECORDS_PER_DIRECTORY   4096        //calculated from the bits in the m_iRecor
                                  dNum field in the following data structures.
                            21275 ; 14   |                                                                                        //
                                  An entry can have multiple records in the FAT for LFNs.
                            21276 ; 15   |                                                                                        //
                                  Records more than this number will not be included in the playlist content
                            21277 ; 16   |
                            21278 ; 17   |#define SFN_LENGTH      13      //8.3\ + NULL
                            21279 ; 18   |
                            21280 ; 19   |#define  _MAX_DIR_DEPTH 8
                            21281 ; 20   |#define  MAX_DIRNAME_LENGTH ((SFN_LENGTH*_MAX_DIR_DEPTH)+1)
                            21282 ; 21   |
                            21283 ; 22   |struct Bookmark{
                            21284 ; 23   |        INT       m_iTracknum;
                            21285 ; 24   |        DWORD m_dwTrackPosBytes;
                            21286 ; 25   |}; //this will save the num and position of the song selected for bookmark
                            21287 ; 26   |
                            21288 ; 27   |
                            21289 ; 28   |typedef struct{
                            21290 ; 29   |    unsigned int    m_pNext:16;                 //points to the next inline DirEntry. 
                            21291 ; 30   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            21292 ; 31   |    unsigned int    m_iDevice:1;
                            21293 ; 32   |        unsigned int    m_bIsRoot:1;    //1=ROOT directory, 0= Any directory except ROOT.
                            21294 ; 33   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //
                            21295 ; 34   |    unsigned int    m_pDirContents:16;  //points to the first content which is a dir.
                            21296 ; 35   |//////////////////////////////////////////////////////////////////////////////////////////
                                  /
                            21297 ; 36   |        unsigned int    m_pFileContents:16; //pointer in FileEntryPool where the file cont
                                  ents for this directory begin.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 353

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21298 ; 37   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //
                            21299 ; 38   |        unsigned int    m_iDirSector1:21;
                            21300 ; 39   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //
                            21301 ; 40   |        unsigned int    m_iDirOffset:12;
                            21302 ; 41   |        unsigned int    m_iRecordNum:12;        //record number of the directory record (L
                                  FN use).
                            21303 ; 42   |
                            21304 ; 43   |        unsigned int    m_iDirSector2:11;
                            21305 ; 44   |        //!! The above are implicitly used as a struct*. Using INT bitfields to save memor
                                  y !!!
                            21306 ; 45   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //      
                            21307 ; 46   |#ifdef DEBUG_SFN
                            21308 ; 47   |        _packed BYTE name[SFN_LENGTH];
                            21309 ; 48   |#endif
                            21310 ; 49   |}DirEntry;
                            21311 ; 50   |
                            21312 ; 51   |typedef struct{
                            21313 ; 52   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            21314 ; 53   |        unsigned int    m_bCurrentPlayset:1;    //1=Belongs to the current playset.
                            21315 ; 54   |        unsigned int    m_bTrackPlayed:1;               //Indicates if the track was playe
                                  d atleast once. Currently not used.
                            21316 ; 55   |        unsigned int    m_iDirSector1:21;
                            21317 ; 56   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            21318 ; 57   |        unsigned int    m_iTrackOrder:10;               //Order of this track in the curre
                                  nt playset.
                            21319 ; 58   |        unsigned int    m_iDirOffset:12;
                            21320 ; 59   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            21321 ; 60   |        unsigned int    m_iDevice:1;
                            21322 ; 61   |        unsigned int    m_iRecordNum:12;        //Record number of the file record (LFN us
                                  e).
                            21323 ; 62   |        unsigned int    m_iDirSector2:11;
                            21324 ; 63   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            21325 ; 64   |        unsigned int    m_pNext:16;             // //points to the next inline file.
                            21326 ; 65   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            21327 ; 66   |#ifdef DEBUG_SFN
                            21328 ; 67   |        _packed BYTE name[SFN_LENGTH];
                            21329 ; 68   |#endif
                            21330 ; 69   |}FileEntry;
                            21331 
                            21376 
                            21377 ; 70   |
                            21378 ; 71   |typedef struct{
                            21379 ; 72   |        DirEntry _X* pDirEntry; //Start traversing from this directory entry
                            21380 ; 73   |        unsigned int    iReason;
                            21381 ; 74   |        unsigned int iDevice;
                            21382 ; 75   |        unsigned int iPlayset;
                            21383 ; 76   |        unsigned int iDepth;
                            21384 ; 77   |        unsigned int iTrackOrder;
                            21385 ; 78   |        unsigned int iTrackNum;
                            21386 ; 79   |        FileEntry* pFileEntry;
                            21387 ; 80   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];  //maintains a dynamic list of directory li
                                  nks within the recursion
                            21388 ; 81   |        unsigned int    iTotalLinks;
                            21389 ; 82   |}TraverseTreeParams;
                            21390 ; 83   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 354

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21391 ; 84   |typedef struct{
                            21392 ; 85   |        unsigned int EntryType;                         //TYPE_DIR or TYPE_FILE
                            21393 ; 86   |        FileEntry* pFileEntry;          //used if TYPE_FILE
                            21394 ; 87   |        DirEntry _X* pDirEntry;                 //used if TYPE_DIR
                            21395 ; 88   |        unsigned int iTrackNum;
                            21396 ; 89   |        unsigned int iTrackOrder;
                            21397 ; 90   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];
                            21398 ; 91   |        unsigned int iTotalLinks;
                            21399 ; 92   |}EntryAccessInfo;
                            21400 ; 93   |
                            21401 ; 94   |typedef struct{
                            21402 ; 95   |        void* pEntry;
                            21403 ; 96   |        _packed BYTE name[SFN_LENGTH];
                            21404 ; 97   |}SFNStorage;
                            21405 ; 98   |
                            21406 ; 99   |extern DirEntry _X g_DirEntryPerDevice[];               //ROOT(s)
                            21407 ; 100  |extern DirEntry _X g_DirEntryPool[];            //Pool of directory entries, Does not cont
                                  ain files.
                            21408 ; 101  |extern FileEntry g_FileEntryPool[];
                            21409 
                            21424 
                            21425 ; 102  |extern EntryAccessInfo g_CurrentTrack;
                            21426 ; 103  |extern int g_iPlaylistRepeat;
                            21427 ; 104  |extern int g_bPlaylistShuffle;
                            21428 
                            21436 
                            21437 ; 105  |extern SFNStorage g_TempSFNSpace[];
                            21438 ; 106  |extern int g_iTotalTracks;
                            21439 ; 107  |
                            21440 ; 108  |extern int g_iPlaySet;
                            21441 ; 109  |
                            21442 ; 110  |extern struct Bookmark g_MarkerMusic, g_MarkerVoice;
                            21443 ; 111  |extern int g_iTotalDir;
                            21444 ; 112  |extern int g_iTotalFiles;
                            21445 ; 113  |
                            21446 ; 114  |void _reentrant ML_building_engine_init_playlist3(void);
                            21447 ; 115  |void _reentrant ML_voice_build_engine_init_playlist3(void);
                            21448 ; 116  |void _reentrant ML_merging_engine_init_playlist3(void);
                            21449 ; 117  |_reentrant void Rebuild_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                            21450 ; 118  |_reentrant void Rebuild_GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FI
                                  LE_META_DATA *MetaData);
                            21451 ; 119  |_reentrant RETCODE AddDirToLibrary(INT iDrive, INT iDirDepth);
                            21452 ; 120  |RETCODE _reentrant ML_GetLFN(DWORD dwFastKey, INT iRecordNum, UCS3 *pBuf);
                            21453 ; 121  |
                            21454 ; 122  |#endif
                            21455 
                            21457 
                            21458 ; 5    |#include "musiclib_ghdr.h"
                            21459 
                            21461 
                            21462 ; 1    |#ifndef MUSICLIB_GHDR_H
                            21463 ; 2    |#define MUSICLIB_GHDR_H
                            21464 ; 3    |
                            21465 ; 4    |#ifdef __cplusplus
                            21466 ; 5    |extern "C" {
                            21467 ; 6    |#endif
                            21468 ; 7    |
                            21469 ; 8    |/*========================================================================================
                                  ==========
                            21470 ; 9    |
                            21471 ; 10   |                                        General Description
                            21472 ; 11   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 355

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21473 ; 12   |==========================================================================================
                                  ==========
                            21474 ; 13   |
                            21475 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            21476 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            21477 ; 16   |
                            21478 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            21479 ; 18   |
                            21480 ; 19   |PRODUCT NAMES: All
                            21481 ; 20   |
                            21482 ; 21   |GENERAL DESCRIPTION:
                            21483 ; 22   |
                            21484 ; 23   |    General description of this grouping of functions.
                            21485 ; 24   |
                            21486 ; 25   |Portability: All
                            21487 ; 26   |
                            21488 ; 27   |
                            21489 ; 28   |Revision History:
                            21490 ; 29   |
                            21491 ; 30   |                         Modification        Tracking
                            21492 ; 31   |Author                       Date             Number           Description of Changes
                            21493 ; 32   |---------------------    ------------        ----------        ---------------------------
                                  ----------
                            21494 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of change
                                  s made
                            21495 ; 34   |
                            21496 ; 35   |
                            21497 ; 36   |==========================================================================================
                                  ==========
                            21498 ; 37   |                                            DESCRIPTION
                            21499 ; 38   |==========================================================================================
                                  ==========
                            21500 ; 39   |
                            21501 ; 40   |GLOBAL FUNCTIONS:
                            21502 ; 41   |    MF_global_func_name()
                            21503 ; 42   |
                            21504 ; 43   |TRACEABILITY MATRIX:
                            21505 ; 44   |    None
                            21506 ; 45   |
                            21507 ; 46   |==========================================================================================
                                  ========*/
                            21508 ; 47   |
                            21509 ; 48   |/*========================================================================================
                                  ==========
                            21510 ; 49   |                                                                Conditional Compilation Di
                                  rectives
                            21511 ; 50   |==========================================================================================
                                  ========*/
                            21512 ; 51   |#ifdef WIN32
                            21513 ; 52   |#define _PC_SIMULATION_
                            21514 ; 53   |#else
                            21515 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            21516 ; 55   |#endif  // WIN32
                            21517 ; 56   |
                            21518 ; 57   |#if 1
                            21519 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            21520 ; 59   |#endif
                            21521 ; 60   |
                            21522 ; 61   |#if 1
                            21523 ; 62   |#define _AUDIBLE_       /* install audible list */
                            21524 ; 63   |#endif
                            21525 ; 64   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 356

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21526 ; 65   |#if 1
                            21527 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            21528 ; 67   |#endif
                            21529 ; 68   |
                            21530 ; 69   |#ifdef PL3_FB
                            21531 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            21532 ; 71   |#endif
                            21533 ; 72   |
                            21534 ; 73   |#if 1
                            21535 ; 74   |#define _SUPPORT_2000_SONGS_
                            21536 ; 75   |#endif
                            21537 ; 76   |
                            21538 ; 77   |/*========================================================================================
                                  ==========
                            21539 ; 78   |                                           INCLUDE FILES
                            21540 ; 79   |==========================================================================================
                                  ========*/
                            21541 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            21542 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            21543 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            21544 ; 83   |#define OEM_SEEK_END    SEEK_END
                            21545 ; 84   |#else
                            21546 ; 85   |#define _X
                            21547 ; 86   |#define _Y
                            21548 ; 87   |#define _packed
                            21549 ; 88   |
                            21550 ; 89   |#define _asmfunc
                            21551 ; 90   |#define _reentrant
                            21552 ; 91   |
                            21553 ; 92   |#define OEM_SEEK_CUR    1
                            21554 ; 93   |#define OEM_SEEK_SET    0
                            21555 ; 94   |#define OEM_SEEK_END    2
                            21556 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            21557 ; 96   |
                            21558 ; 97   |#include "types.h"
                            21559 
                            21561 
                            21562 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            21563 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            21564 ; 3    |//
                            21565 ; 4    |// Filename: types.h
                            21566 ; 5    |// Description: Standard data types
                            21567 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            21568 ; 7    |
                            21569 ; 8    |#ifndef _TYPES_H
                            21570 ; 9    |#define _TYPES_H
                            21571 ; 10   |
                            21572 ; 11   |// TODO:  move this outta here!
                            21573 ; 12   |#if !defined(NOERROR)
                            21574 ; 13   |#define NOERROR 0
                            21575 ; 14   |#define SUCCESS 0
                            21576 ; 15   |#endif 
                            21577 ; 16   |#if !defined(SUCCESS)
                            21578 ; 17   |#define SUCCESS  0
                            21579 ; 18   |#endif
                            21580 ; 19   |#if !defined(ERROR)
                            21581 ; 20   |#define ERROR   -1
                            21582 ; 21   |#endif
                            21583 ; 22   |#if !defined(FALSE)
                            21584 ; 23   |#define FALSE 0
                            21585 ; 24   |#endif
                            21586 ; 25   |#if !defined(TRUE)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 357

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21587 ; 26   |#define TRUE  1
                            21588 ; 27   |#endif
                            21589 ; 28   |
                            21590 ; 29   |#if !defined(NULL)
                            21591 ; 30   |#define NULL 0
                            21592 ; 31   |#endif
                            21593 ; 32   |
                            21594 ; 33   |#define MAX_INT     0x7FFFFF
                            21595 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            21596 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            21597 ; 36   |#define MAX_ULONG   (-1) 
                            21598 ; 37   |
                            21599 ; 38   |#define WORD_SIZE   24              // word size in bits
                            21600 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            21601 ; 40   |
                            21602 ; 41   |
                            21603 ; 42   |#define BYTE    unsigned char       // btVarName
                            21604 ; 43   |#define CHAR    signed char         // cVarName
                            21605 ; 44   |#define USHORT  unsigned short      // usVarName
                            21606 ; 45   |#define SHORT   unsigned short      // sVarName
                            21607 ; 46   |#define WORD    unsigned int        // wVarName
                            21608 ; 47   |#define INT     signed int          // iVarName
                            21609 ; 48   |#define DWORD   unsigned long       // dwVarName
                            21610 ; 49   |#define LONG    signed long         // lVarName
                            21611 ; 50   |#define BOOL    unsigned int        // bVarName
                            21612 ; 51   |#define FRACT   _fract              // frVarName
                            21613 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            21614 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            21615 ; 54   |#define FLOAT   float               // fVarName
                            21616 ; 55   |#define DBL     double              // dVarName
                            21617 ; 56   |#define ENUM    enum                // eVarName
                            21618 ; 57   |#define CMX     _complex            // cmxVarName
                            21619 ; 58   |typedef WORD UCS3;                   // 
                            21620 ; 59   |
                            21621 ; 60   |#define UINT16  unsigned short
                            21622 ; 61   |#define UINT8   unsigned char   
                            21623 ; 62   |#define UINT32  unsigned long
                            21624 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            21625 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            21626 ; 65   |#define WCHAR   UINT16
                            21627 ; 66   |
                            21628 ; 67   |//UINT128 is 16 bytes or 6 words
                            21629 ; 68   |typedef struct UINT128_3500 {   
                            21630 ; 69   |    int val[6];     
                            21631 ; 70   |} UINT128_3500;
                            21632 ; 71   |
                            21633 ; 72   |#define UINT128   UINT128_3500
                            21634 ; 73   |
                            21635 ; 74   |// Little endian word packed byte strings:   
                            21636 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            21637 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            21638 ; 77   |// Little endian word packed byte strings:   
                            21639 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            21640 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            21641 ; 80   |
                            21642 ; 81   |// Declare Memory Spaces To Use When Coding
                            21643 ; 82   |// A. Sector Buffers
                            21644 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            21645 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            21646 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 358

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21647 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            21648 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            21649 ; 88   |// B. Media DDI Memory
                            21650 ; 89   |#define MEDIA_DDI_MEM _Y
                            21651 ; 90   |
                            21652 ; 91   |
                            21653 ; 92   |
                            21654 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            21655 ; 94   |// Examples of circular pointers:
                            21656 ; 95   |//    INT CIRC cpiVarName
                            21657 ; 96   |//    DWORD CIRC cpdwVarName
                            21658 ; 97   |
                            21659 ; 98   |#define RETCODE INT                 // rcVarName
                            21660 ; 99   |
                            21661 ; 100  |// generic bitfield structure
                            21662 ; 101  |struct Bitfield {
                            21663 ; 102  |    unsigned int B0  :1;
                            21664 ; 103  |    unsigned int B1  :1;
                            21665 ; 104  |    unsigned int B2  :1;
                            21666 ; 105  |    unsigned int B3  :1;
                            21667 ; 106  |    unsigned int B4  :1;
                            21668 ; 107  |    unsigned int B5  :1;
                            21669 ; 108  |    unsigned int B6  :1;
                            21670 ; 109  |    unsigned int B7  :1;
                            21671 ; 110  |    unsigned int B8  :1;
                            21672 ; 111  |    unsigned int B9  :1;
                            21673 ; 112  |    unsigned int B10 :1;
                            21674 ; 113  |    unsigned int B11 :1;
                            21675 ; 114  |    unsigned int B12 :1;
                            21676 ; 115  |    unsigned int B13 :1;
                            21677 ; 116  |    unsigned int B14 :1;
                            21678 ; 117  |    unsigned int B15 :1;
                            21679 ; 118  |    unsigned int B16 :1;
                            21680 ; 119  |    unsigned int B17 :1;
                            21681 ; 120  |    unsigned int B18 :1;
                            21682 ; 121  |    unsigned int B19 :1;
                            21683 ; 122  |    unsigned int B20 :1;
                            21684 ; 123  |    unsigned int B21 :1;
                            21685 ; 124  |    unsigned int B22 :1;
                            21686 ; 125  |    unsigned int B23 :1;
                            21687 ; 126  |};
                            21688 ; 127  |
                            21689 ; 128  |union BitInt {
                            21690 ; 129  |        struct Bitfield B;
                            21691 ; 130  |        int        I;
                            21692 ; 131  |};
                            21693 ; 132  |
                            21694 ; 133  |#define MAX_MSG_LENGTH 10
                            21695 ; 134  |struct CMessage
                            21696 ; 135  |{
                            21697 ; 136  |        unsigned int m_uLength;
                            21698 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            21699 ; 138  |};
                            21700 ; 139  |
                            21701 ; 140  |typedef struct {
                            21702 ; 141  |    WORD m_wLength;
                            21703 ; 142  |    WORD m_wMessage;
                            21704 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            21705 ; 144  |} Message;
                            21706 ; 145  |
                            21707 ; 146  |struct MessageQueueDescriptor
                            21708 ; 147  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 359

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21709 ; 148  |        int *m_pBase;
                            21710 ; 149  |        int m_iModulo;
                            21711 ; 150  |        int m_iSize;
                            21712 ; 151  |        int *m_pHead;
                            21713 ; 152  |        int *m_pTail;
                            21714 ; 153  |};
                            21715 ; 154  |
                            21716 ; 155  |struct ModuleEntry
                            21717 ; 156  |{
                            21718 ; 157  |    int m_iSignaledEventMask;
                            21719 ; 158  |    int m_iWaitEventMask;
                            21720 ; 159  |    int m_iResourceOfCode;
                            21721 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            21722 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            21723 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            21724 ; 163  |    int m_uTimeOutHigh;
                            21725 ; 164  |    int m_uTimeOutLow;
                            21726 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            21727 ; 166  |};
                            21728 ; 167  |
                            21729 ; 168  |union WaitMask{
                            21730 ; 169  |    struct B{
                            21731 ; 170  |        unsigned int m_bNone     :1;
                            21732 ; 171  |        unsigned int m_bMessage  :1;
                            21733 ; 172  |        unsigned int m_bTimer    :1;
                            21734 ; 173  |        unsigned int m_bButton   :1;
                            21735 ; 174  |    } B;
                            21736 ; 175  |    int I;
                            21737 ; 176  |} ;
                            21738 ; 177  |
                            21739 ; 178  |
                            21740 ; 179  |struct Button {
                            21741 ; 180  |        WORD wButtonEvent;
                            21742 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            21743 ; 182  |};
                            21744 ; 183  |
                            21745 ; 184  |struct Message {
                            21746 ; 185  |        WORD wMsgLength;
                            21747 ; 186  |        WORD wMsgCommand;
                            21748 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            21749 ; 188  |};
                            21750 ; 189  |
                            21751 ; 190  |union EventTypes {
                            21752 ; 191  |        struct CMessage msg;
                            21753 ; 192  |        struct Button Button ;
                            21754 ; 193  |        struct Message Message;
                            21755 ; 194  |};
                            21756 ; 195  |
                            21757 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            21758 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            21759 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            21760 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            21761 ; 200  |
                            21762 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            21763 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            21764 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            21765 ; 204  |
                            21766 ; 205  |#if DEBUG
                            21767 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            21768 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            21769 ; 208  |#else 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 360

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21770 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            21771 ; 210  |#define DebugBuildAssert(x)    
                            21772 ; 211  |#endif
                            21773 ; 212  |
                            21774 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            21775 ; 214  |//  #pragma asm
                            21776 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            21777 ; 216  |//  #pragma endasm
                            21778 ; 217  |
                            21779 ; 218  |
                            21780 ; 219  |#ifdef COLOR_262K
                            21781 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            21782 ; 221  |#elif defined(COLOR_65K)
                            21783 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            21784 ; 223  |#else
                            21785 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            21786 ; 225  |#endif
                            21787 ; 226  |    
                            21788 ; 227  |#endif // #ifndef _TYPES_H
                            21789 
                            21791 
                            21792 ; 98   |#include "exec.h"
                            21793 
                            21795 
                            21796 ; 1    |#ifndef EXEC_H
                            21797 ; 2    |#define EXEC_H
                            21798 ; 3    |
                            21799 ; 4    |
                            21800 ; 5    |void _reentrant SysPostMessage(int iLength,...);
                            21801 ; 6    |int _asmfunc GetMessage(struct MessageQueueDescriptor*,struct CMessage * );
                            21802 ; 7    |long _asmfunc SysGetCurrentTime(void);
                            21803 ; 8    |
                            21804 ; 9    |
                            21805 ; 10   |#endif
                            21806 
                            21808 
                            21809 ; 99   |#include "messages.h"
                            21810 
                            21812 
                            21813 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            21814 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                            21815 ; 3    |// Message defs
                            21816 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            21817 ; 5    |
                            21818 ; 6    |#if (!defined(MSGEQU_INC))
                            21819 ; 7    |#define MSGEQU_INC 1
                            21820 ; 8    |
                            21821 ; 9    |
                            21822 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                            21823 ; 11   |
                            21824 ; 12   |
                            21825 ; 13   |#define MSG_TYPE_DECODER 0x000000
                            21826 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                            21827 ; 15   |#define MSG_TYPE_PARSER 0x020000
                            21828 ; 16   |#define MSG_TYPE_LCD 0x030000
                            21829 ; 17   |#define MSG_TYPE_MIXER 0x040000
                            21830 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                            21831 ; 19   |#define MSG_TYPE_MENU 0x060000
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 361

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21832 ; 20   |#define MSG_TYPE_LED 0x070000
                            21833 ; 21   |#define MSG_TYPE_TUNER 0x080000
                            21834 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                            21835 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                            21836 ; 24   |// Equalizer and other effects
                            21837 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                            21838 ; 26   |#if (defined(USE_PLAYLIST3))
                            21839 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                            21840 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                            21841 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                            21842 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                            21843 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                            21844 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                            21845 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                            21846 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                            21847 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                            21848 ; 36   |#if defined(USE_PLAYLIST5)
                            21849 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                            21850 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                            21851 ; 39   |#endif // if @def('USE_PLAYLIST5')
                            21852 ; 40   |
                            21853 ; 41   |// Message Structure Offsets
                            21854 ; 42   |#define MSG_Length 0
                            21855 ; 43   |#define MSG_ID 1
                            21856 ; 44   |#define MSG_Argument1 2
                            21857 ; 45   |#define MSG_Argument2 3
                            21858 ; 46   |#define MSG_Argument3 4
                            21859 ; 47   |#define MSG_Argument4 5
                            21860 ; 48   |#define MSG_Argument5 6
                            21861 ; 49   |#define MSG_Argument6 7
                            21862 ; 50   |
                            21863 ; 51   |
                            21864 ; 52   |
                            21865 ; 53   |// LCD Message IDs
                            21866 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                            21867 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                            21868 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                            21869 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                            21870 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                            21871 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                            21872 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                            21873 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                            21874 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                            21875 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                            21876 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                            21877 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                            21878 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                            21879 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                            21880 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                            21881 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                            21882 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                            21883 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                            21884 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                            21885 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                            21886 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                            21887 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                            21888 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                            21889 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                            21890 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                            21891 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                            21892 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                            21893 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 362

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21894 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                            21895 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                            21896 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                            21897 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                            21898 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                            21899 ; 87   |//send a NULL as Param1 to return to root frame buffer
                            21900 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                            21901 ; 89   |//Param1 = left
                            21902 ; 90   |//Param2 = top
                            21903 ; 91   |//Param3 = right
                            21904 ; 92   |//Param4 = bottom
                            21905 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                            21906 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                            21907 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                            21908 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                            21909 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                            21910 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                            21911 ; 99   |
                            21912 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                            21913 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                            21914 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                            21915 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                            21916 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                            21917 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                            21918 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                            21919 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                            21920 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                            21921 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                            21922 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                            21923 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                            21924 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                            21925 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                            21926 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                            21927 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                            21928 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                            21929 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                            21930 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                            21931 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                            21932 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                            21933 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                            21934 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                            21935 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                            21936 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                            21937 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                            21938 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                            21939 ; 127  |
                            21940 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                            21941 ; 129  |
                            21942 ; 130  |#if defined(CLCD_16BIT)
                            21943 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                            21944 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                            21945 ; 133  |
                            21946 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                            21947 ; 135  |#else 
                            21948 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                            21949 ; 137  |#endif
                            21950 ; 138  |
                            21951 ; 139  |// If you change the LCD message ID's then you must
                            21952 ; 140  |// also change the jump table in lcdapi.asm
                            21953 ; 141  |
                            21954 ; 142  |// Character LCD Message IDs
                            21955 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 363

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21956 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                            21957 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                            21958 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                            21959 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                            21960 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                            21961 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                            21962 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                            21963 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                            21964 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                            21965 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                            21966 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                            21967 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                            21968 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                            21969 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                            21970 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                            21971 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                            21972 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                            21973 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                            21974 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                            21975 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                            21976 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                            21977 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                            21978 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                            21979 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                            21980 ; 168  |// also change the jump table in lcdapi.asm
                            21981 ; 169  |
                            21982 ; 170  |// Decoder Message IDs
                            21983 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                            21984 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                            21985 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                            21986 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                            21987 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                            21988 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                            21989 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                            21990 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                            21991 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                            21992 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                            21993 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                            21994 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                            21995 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                            21996 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                            21997 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                            21998 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                            21999 ; 187  |// If you change the Decoder message ID's, then you must
                            22000 ; 188  |// also change the jump table in decoder_overlay.asm
                            22001 ; 189  |// and in dec_adpcm_overlay.asm.
                            22002 ; 190  |
                            22003 ; 191  |// Encoder Message IDs
                            22004 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                            22005 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                            22006 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                            22007 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                            22008 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                            22009 ; 197  |// If you change the Encoder message ID's, then you must
                            22010 ; 198  |// also change the jump table in all encoder overlay modules.
                            22011 ; 199  |
                            22012 ; 200  |// Parser Message IDs
                            22013 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                            22014 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                            22015 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                            22016 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                            22017 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 364

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22018 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                            22019 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                            22020 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                            22021 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                            22022 ; 210  |// If you change the Parser message ID's, then you must
                            22023 ; 211  |// also change the jump table in parser.asm
                            22024 ; 212  |
                            22025 ; 213  |// Button Message IDs
                            22026 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                            22027 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                            22028 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                            22029 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                            22030 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                            22031 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                            22032 ; 220  |
                            22033 ; 221  |// Mixer Message IDs
                            22034 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                            22035 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                            22036 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                            22037 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                            22038 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                            22039 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                            22040 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                            22041 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                            22042 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                            22043 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                            22044 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                            22045 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                            22046 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                            22047 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                            22048 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                            22049 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                            22050 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                            22051 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                            22052 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                            22053 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                            22054 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                            22055 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                            22056 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                            22057 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                            22058 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                            22059 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                            22060 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                            22061 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                            22062 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                            22063 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                            22064 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                            22065 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                            22066 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                            22067 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                            22068 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                            22069 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                            22070 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                            22071 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                            22072 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                            22073 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                            22074 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                            22075 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                            22076 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                            22077 ; 265  |// If you change the mixer message ID's then you must
                            22078 ; 266  |// also change the jump table in mixer.asm
                            22079 ; 267  |#define MIXER_ON 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 365

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22080 ; 268  |#define MIXER_OFF 1
                            22081 ; 269  |
                            22082 ; 270  |
                            22083 ; 271  |// System Message IDs
                            22084 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                            22085 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                            22086 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                            22087 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                            22088 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                            22089 ; 277  |// If you change the system message ID's then you must
                            22090 ; 278  |// also change the jump table in systemapi.asm
                            22091 ; 279  |
                            22092 ; 280  |// Menu IDs
                            22093 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                            22094 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                            22095 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                            22096 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                            22097 ; 285  |//sub parameters for this message:
                            22098 ; 286  |#define RECORDER_START 0
                            22099 ; 287  |#define RECORDER_PAUSE 0x2000
                            22100 ; 288  |#define RECORDER_RESUME 0x4000
                            22101 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                            22102 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                            22103 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                            22104 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                            22105 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                            22106 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                            22107 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                            22108 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                            22109 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                            22110 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                            22111 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                            22112 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                            22113 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                            22114 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                            22115 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                            22116 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                            22117 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                            22118 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                            22119 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                            22120 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                            22121 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                            22122 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                            22123 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                            22124 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                            22125 ; 313  |
                            22126 ; 314  |// Note that other versions of this file have different msg equates.
                            22127 ; 315  |// If you change the system message ID's then you must
                            22128 ; 316  |// also change the jump table in all menu *.asm
                            22129 ; 317  |
                            22130 ; 318  |// LED Message IDs
                            22131 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                            22132 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                            22133 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                            22134 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                            22135 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                            22136 ; 324  |// If you change the LeD message ID's then you must
                            22137 ; 325  |// also change the jump table in ledapi.asm
                            22138 ; 326  |
                            22139 ; 327  |#if (!defined(REMOVE_FM))
                            22140 ; 328  |// FM Tuner Message IDs
                            22141 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 366

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22142 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                            22143 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                            22144 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                            22145 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                            22146 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                            22147 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                            22148 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                            22149 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                            22150 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                            22151 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                            22152 ; 340  |//one parameter--the sensitivity in uV
                            22153 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                            22154 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                            22155 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                            22156 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                            22157 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                            22158 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                            22159 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                            22160 ; 348  |#endif
                            22161 ; 349  |
                            22162 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                            22163 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                            22164 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                            22165 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                            22166 ; 354  |
                            22167 ; 355  |
                            22168 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                            22169 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                            22170 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                            22171 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                            22172 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                            22173 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                            22174 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                            22175 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                            22176 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                            22177 ; 365  |
                            22178 ; 366  |#if (defined(USE_PLAYLIST3))
                            22179 ; 367  |// Music Library
                            22180 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                            22181 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                            22182 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                            22183 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                            22184 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                            22185 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                            22186 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                            22187 ; 375  |
                            22188 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                            22189 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                            22190 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                            22191 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                            22192 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                            22193 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                            22194 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                            22195 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                            22196 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                            22197 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                            22198 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                            22199 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                            22200 ; 388  |
                            22201 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            22202 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            22203 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 367

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22204 ; 392  |
                            22205 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            22206 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            22207 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            22208 ; 396  |
                            22209 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            22210 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                            22211 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            22212 ; 400  |
                            22213 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                            22214 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                            22215 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                            22216 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                            22217 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                            22218 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                            22219 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                            22220 ; 408  |
                            22221 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            22222 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            22223 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            22224 ; 412  |
                            22225 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                            22226 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                            22227 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                            22228 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                            22229 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                            22230 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                            22231 ; 419  |
                            22232 ; 420  |#if defined(USE_PLAYLIST5)
                            22233 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                            22234 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                            22235 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                            22236 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                            22237 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                            22238 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                            22239 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                            22240 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                            22241 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                            22242 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                            22243 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                            22244 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                            22245 ; 433  |
                            22246 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                            22247 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                            22248 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                            22249 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                            22250 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                            22251 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                            22252 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                            22253 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                            22254 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                            22255 ; 443  |#endif // if @def('USE_PLAYLIST5')
                            22256 ; 444  |// Events
                            22257 ; 445  |// No event
                            22258 ; 446  |#define EVENT_NONE 0x000001   
                            22259 ; 447  |// A message has been posted
                            22260 ; 448  |#define EVENT_MESSAGE 0x000002   
                            22261 ; 449  |// Run if wait time elapsed
                            22262 ; 450  |#define EVENT_TIMER 0x000004   
                            22263 ; 451  |// Run if a button event occured
                            22264 ; 452  |#define EVENT_BUTTON 0x000008   
                            22265 ; 453  |// Run if a background event occured
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 368

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22266 ; 454  |#define EVENT_BACKGROUND 0x000010   
                            22267 ; 455  |// The executive should immediately repeat this module
                            22268 ; 456  |#define EVENT_REPEAT 0x000020   
                            22269 ; 457  |// Run the module's init routine
                            22270 ; 458  |#define EVENT_INIT 0x800000   
                            22271 ; 459  |
                            22272 ; 460  |#define EVENT_NONE_BITPOS 0
                            22273 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                            22274 ; 462  |#define EVENT_TIMER_BITPOS 2
                            22275 ; 463  |#define EVENT_BUTTON_BITPOS 3
                            22276 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                            22277 ; 465  |#define EVENT_REPEAT_BITPOS 5
                            22278 ; 466  |#define EVENT_INIT_BITPOS 23
                            22279 ; 467  |
                            22280 ; 468  |// Parser Message Buffers
                            22281 ; 469  |#define ParserPlayBit 0
                            22282 ; 470  |#define ButtonPressBit 1
                            22283 ; 471  |#define ParserRwndBit 1
                            22284 ; 472  |#define ParserFfwdBit 2
                            22285 ; 473  |
                            22286 ; 474  |//NextSong Message Parameters
                            22287 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                            22288 ; 476  |#define NEXT_SONG 2             
                            22289 ; 477  |// ButtonPressBit1 cleared
                            22290 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                            22291 ; 479  |// ButtonPressBit1 set
                            22292 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                            22293 ; 481  |// NextSong + Ffwd
                            22294 ; 482  |#define NEXT_SONG_FFWD 4          
                            22295 ; 483  |
                            22296 ; 484  |//PrevSong Message Parameters
                            22297 ; 485  |// PrevSong + Stopped
                            22298 ; 486  |#define PREV_SONG 0          
                            22299 ; 487  |// PrevSong + Play
                            22300 ; 488  |#define PREV_SONG_PLAY 1          
                            22301 ; 489  |// PrevSong + Rwnd
                            22302 ; 490  |#define PREV_SONG_RWND 2          
                            22303 ; 491  |
                            22304 ; 492  |
                            22305 ; 493  |
                            22306 ; 494  |
                            22307 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                            22308 ; 496  |
                            22309 ; 497  |
                            22310 
                            22312 
                            22313 ; 100  |#include "project.h"
                            22314 
                            22316 
                            22317 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            22318 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            22319 ; 3    |//  Filename: project.inc
                            22320 ; 4    |//  Description: 
                            22321 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            22322 ; 6    |
                            22323 ; 7    |#if (!defined(_PROJECT_INC))
                            22324 ; 8    |#define _PROJECT_INC 1
                            22325 ; 9    |
                            22326 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            22327 ; 11   |#include "hwequ.h"
                            22328 ; 12   |#else 
                            22329 ; 13   |//include "regscodec.inc"
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 369

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22330 ; 14   |#endif
                            22331 ; 15   |
                            22332 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            22333 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults
                                   ON) & 
                            22334 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm
                                  . STMP00012148
                            22335 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal
                                  ). 
                            22336 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's spe
                                  cs can 
                            22337 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player m
                                  ode.  
                            22338 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            22339 ; 23   |
                            22340 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            22341 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            22342 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            22343 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define bel
                                  ow by defining
                            22344 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            22345 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            22346 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            22347 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot 
                                  config above- 
                            22348 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down thresh
                                  holds by maybe 50mV.
                            22349 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed
                                  .
                            22350 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            22351 ; 35   |
                            22352 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            22353 ; 37   |// MEDIA DEFINITIONS
                            22354 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            22355 ; 39   |
                            22356 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            22357 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            22358 ; 42   |#if defined(NAND1)
                            22359 ; 43   |#define SM_INTERNAL_CHIPS 1
                            22360 ; 44   |#else 
                            22361 ; 45   |#if defined(NAND2)
                            22362 ; 46   |#define SM_INTERNAL_CHIPS 2
                            22363 ; 47   |#else 
                            22364 ; 48   |#if defined(NAND3)
                            22365 ; 49   |#define SM_INTERNAL_CHIPS 3
                            22366 ; 50   |#else 
                            22367 ; 51   |#if defined(NAND4)
                            22368 ; 52   |#define SM_INTERNAL_CHIPS 4
                            22369 ; 53   |#else 
                            22370 ; 54   |#define SM_INTERNAL_CHIPS 1
                            22371 ; 55   |#endif
                            22372 ; 56   |#endif
                            22373 ; 57   |#endif
                            22374 ; 58   |#endif
                            22375 ; 59   |
                            22376 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            22377 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            22378 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it rea
                                  ds 0.  
                            22379 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            22380 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it rea
                                  ds 1.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 370

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22381 ; 65   |//*** comment out if active high ****
                            22382 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            22383 ; 67   |
                            22384 ; 68   |#if defined(SMEDIA)
                            22385 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            22386 ; 70   |#define NUM_SM_EXTERNAL 1
                            22387 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            22388 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            22389 ; 73   |#else 
                            22390 ; 74   |#if defined(MMC)
                            22391 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            22392 ; 76   |#define NUM_SM_EXTERNAL 0
                            22393 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            22394 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            22395 ; 79   |#else 
                            22396 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            22397 ; 81   |#define NUM_SM_EXTERNAL 0
                            22398 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            22399 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            22400 ; 84   |#endif
                            22401 ; 85   |#endif
                            22402 ; 86   |
                            22403 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            22404 ; 88   |// Mass Storage Class definitions
                            22405 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            22406 ; 90   |// Set to 0 if Composite Device build is desired.    
                            22407 ; 91   |#define MULTI_LUN_BUILD 1   
                            22408 ; 92   |
                            22409 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            22410 ; 94   |//  SCSI
                            22411 ; 95   |#if (MULTI_LUN_BUILD==0)
                            22412 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            22413 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            22414 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            22415 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            22416 ; 100  |  #else
                            22417 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            22418 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            22419 ; 103  |  #endif
                            22420 ; 104  |#else
                            22421 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            22422 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            22423 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            22424 ; 108  |  #else
                            22425 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            22426 ; 110  |  #endif
                            22427 ; 111  |#endif
                            22428 ; 112  |
                            22429 ; 113  |
                            22430 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            22431 ; 115  |
                            22432 ; 116  |
                            22433 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            22434 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            22435 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            22436 ; 120  |#ifdef MMC
                            22437 ; 121  |#ifdef MTP_BUILD
                            22438 ; 122  |// --------------------
                            22439 ; 123  |// MTP and MMC
                            22440 ; 124  |// --------------------
                            22441 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            22442 ; 126  |#define NUM_LOGICAL_DRIVES      8
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 371

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22443 ; 127  |#else  // ifndef MTP_BUILD
                            22444 ; 128  |#ifdef STMP_BUILD_PLAYER
                            22445 ; 129  |// --------------------
                            22446 ; 130  |// Player and MMC
                            22447 ; 131  |// --------------------
                            22448 ; 132  |#else
                            22449 ; 133  |// --------------------
                            22450 ; 134  |// USBMSC and MMC
                            22451 ; 135  |// --------------------
                            22452 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            22453 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            22454 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            22455 ; 139  |#endif // ifdef MTP_BUILD
                            22456 ; 140  |#else  // ifndef MMC
                            22457 ; 141  |#ifdef MTP_BUILD
                            22458 ; 142  |// --------------------
                            22459 ; 143  |// MTP and NAND only
                            22460 ; 144  |// --------------------
                            22461 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            22462 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            22463 ; 147  |#else  // ifndef MTP_BUILD
                            22464 ; 148  |#ifdef STMP_BUILD_PLAYER
                            22465 ; 149  |// --------------------
                            22466 ; 150  |// Player and NAND only
                            22467 ; 151  |// --------------------
                            22468 ; 152  |#else
                            22469 ; 153  |// --------------------
                            22470 ; 154  |// USBMSC and NAND only
                            22471 ; 155  |// --------------------
                            22472 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            22473 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            22474 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            22475 ; 159  |#endif // ifdef MTP_BUILD
                            22476 ; 160  |#endif // ifdef MMC 
                            22477 ; 161  |
                            22478 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            22479 ; 163  |#if (defined(MTP_BUILD))
                            22480 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            22481 ; 165  |
                            22482 ; 166  |////!
                            22483 ; 167  |////! This varible holds the watchdog count for the store flush.
                            22484 ; 168  |////!
                            22485 ; 169  |///
                            22486 ; 170  |#include <types.h>
                            22487 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            22488 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            22489 ; 173  |#endif
                            22490 ; 174  |
                            22491 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            22492 ; 176  |// These are needed here for Mass Storage Class
                            22493 ; 177  |// Needs to be cleaned up
                            22494 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            22495 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            22496 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            22497 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            22498 ; 182  |
                            22499 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            22500 ; 184  |
                            22501 ; 185  |#endif
                            22502 ; 186  |
                            22503 ; 187  |
                            22504 ; 188  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 372

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22505 ; 189  |// SmartMedia/NAND defs
                            22506 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            22507 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            22508 ; 192  |
                            22509 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            22510 ; 194  |// Sysloadresources defs
                            22511 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            22512 ; 196  |
                            22513 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            22514 ; 198  |// MMC defs
                            22515 ; 199  |#define MMC_MAX_PARTITIONS 1
                            22516 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            22517 ; 201  |
                            22518 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            22519 ; 203  |// SPI defs
                            22520 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            22521 ; 205  |
                            22522 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            22523 ; 207  |// Global media defs
                            22524 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            22525 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            22526 ; 210  |
                            22527 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            22528 ; 212  |// DO NOT CHANGE THESE!!!
                            22529 ; 213  |#define SM_MAX_PARTITIONS 4
                            22530 ; 214  |#define MAX_HANDLES 2
                            22531 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            22532 ; 216  |
                            22533 ; 217  |
                            22534 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            22535 ; 219  |// Battery LRADC Values 
                            22536 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            22537 ; 221  |// brownout trip point in mV (moved by RS)
                            22538 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            22539 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            22540 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            22541 ; 225  |//     audio recording to media.
                            22542 ; 226  |#define BATT_SAFETY_MARGIN 10
                            22543 ; 227  |
                            22544 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                                  
                            22545 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline vol
                                  tage to do a refresh.
                            22546 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            22547 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            22548 ; 232  |
                            22549 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc 
                                  presence.
                            22550 ; 234  |
                            22551 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            22552 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat che
                                  ck.
                            22553 ; 237  |#if (!defined(CLCD))
                            22554 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            22555 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            22556 ; 240  |#else 
                            22557 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            22558 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            22559 ; 243  |#endif
                            22560 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            22561 ; 245  |
                            22562 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 373

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22563 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIo
                                  n.
                            22564 ; 248  |// See mp3 encoder overlay.
                            22565 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            22566 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            22567 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            22568 ; 252  |
                            22569 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            22570 ; 254  |// Voice recording filenames
                            22571 ; 255  |// number of digits in filename Vxxx.wav
                            22572 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            22573 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            22574 ; 258  |
                            22575 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            22576 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            22577 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            22578 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            22579 ; 263  |#if defined(DEVICE_3500)
                            22580 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            22581 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            22582 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            22583 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, 
                                  & demo player)
                            22584 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            22585 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            22586 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            22587 ; 271  |
                            22588 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn whe
                                  n bias not yet ready.
                            22589 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            22590 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevent
                                  ion if you use rec button from outside voice menu.
                            22591 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latenc
                                  y in the record-from-music-menu use-case.
                            22592 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            22593 ; 277  |
                            22594 ; 278  |#else 
                            22595 ; 279  |// STMP3410
                            22596 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            22597 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            22598 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            22599 ; 283  |#endif
                            22600 ; 284  |
                            22601 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            22602 ; 286  |// Number of available soft timers
                            22603 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            22604 ; 288  |#if defined(SYNC_LYRICS)
                            22605 ; 289  |#define SOFT_TIMERS 10
                            22606 ; 290  |#else 
                            22607 ; 291  |#if defined(JPEG_DECODER)
                            22608 ; 292  |#define SOFT_TIMERS 10
                            22609 ; 293  |#else 
                            22610 ; 294  |#define SOFT_TIMERS 9
                            22611 ; 295  |#endif
                            22612 ; 296  |#endif
                            22613 ; 297  |
                            22614 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            22615 ; 299  |//  sizes
                            22616 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            22617 ; 301  |#if defined(MMC)
                            22618 ; 302  |#if defined(USE_PLAYLIST5)
                            22619 ; 303  |#define MENU_STACK_SIZE 1500
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 374

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22620 ; 304  |#else 
                            22621 ; 305  |#define MENU_STACK_SIZE 1250
                            22622 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            22623 ; 307  |#else 
                            22624 ; 308  |#if defined(USE_PLAYLIST5)
                            22625 ; 309  |#define MENU_STACK_SIZE 1500
                            22626 ; 310  |#else 
                            22627 ; 311  |#define MENU_STACK_SIZE 1250
                            22628 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            22629 ; 313  |#endif //if @def('MMC')
                            22630 ; 314  |
                            22631 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 75
                                  0 else 550 for other builds? TOVERIFY. MYALLOC
                            22632 ; 316  |// 
                            22633 ; 317  |#define STACK_L1_SIZE 750
                            22634 ; 318  |#define STACK_L2_SIZE 100
                            22635 ; 319  |#define STACK_L3_SIZE 160
                            22636 ; 320  |
                            22637 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            22638 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            22639 ; 323  |// is ok with switching code.
                            22640 ; 324  |#if defined(MTP_BUILD)
                            22641 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            22642 ; 326  |#endif
                            22643 ; 327  |
                            22644 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            22645 ; 329  |// maximum number of nested funclets 
                            22646 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            22647 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            22648 ; 332  |
                            22649 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            22650 ; 334  |//    LCD DEFINITIONS
                            22651 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            22652 ; 336  |
                            22653 ; 337  |#define SPACE_CHAR 0x000020          
                            22654 ; 338  |#define ZERO_CHAR 0x000030
                            22655 ; 339  |#define COLON_CHAR 0x00003A
                            22656 ; 340  |#define PERIOD_CHAR 0x00002E
                            22657 ; 341  |
                            22658 ; 342  |#if (defined(S6B33B0A_LCD))
                            22659 ; 343  |#define LCD_X_SIZE 128
                            22660 ; 344  |#define LCD_Y_SIZE 159
                            22661 ; 345  |#endif
                            22662 ; 346  |
                            22663 ; 347  |#if (defined(SED15XX_LCD))
                            22664 ; 348  |#define LCD_X_SIZE 128
                            22665 ; 349  |#define LCD_Y_SIZE 64
                            22666 ; 350  |#endif
                            22667 ; 351  |
                            22668 ; 352  |
                            22669 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            22670 ; 354  |//   Details on Customizing Contrast
                            22671 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            22672 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            22673 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            22674 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            22675 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            22676 ; 360  |//   unless the ezact sequence is remembered.
                            22677 ; 361  |//   To find out what range your player supports: 
                            22678 ; 362  |//   change these equs to full range or comment out (full range is default)
                            22679 ; 363  |//;;;;;;
                            22680 ; 364  |// uncomment the line below to build code that will provide raw contrast value
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 375

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22681 ; 365  |// recommended calibration using player -- uncomment 
                            22682 ; 366  |//;;;;;;
                            22683 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            22684 ; 368  |////////////////////////////
                            22685 ; 369  |#if (defined(DEMO_HW))
                            22686 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi 
                                  LCD (June6'05)
                            22687 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            22688 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            22689 ; 373  |#else 
                            22690 ; 374  |
                            22691 ; 375  |#if (defined(S6B33B0A_LCD))
                            22692 ; 376  |#define LCD_MAX_CONTRAST 210
                            22693 ; 377  |#define LCD_MIN_CONTRAST 160    
                            22694 ; 378  |#endif
                            22695 ; 379  |
                            22696 ; 380  |#if (defined(SED15XX_LCD))
                            22697 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            22698 ; 382  |// Engineering board regs support range [17-37].
                            22699 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            22700 ; 384  |//   One default contrast range [24-42] works for both.
                            22701 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            22702 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            22703 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            22704 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            22705 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            22706 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            22707 ; 391  |
                            22708 ; 392  |#if (defined(NEWSHINGYIH))
                            22709 ; 393  |#define LCD_MAX_CONTRAST 250
                            22710 ; 394  |#define LCD_MIN_CONTRAST 0
                            22711 ; 395  |#else 
                            22712 ; 396  |//-----
                            22713 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            22714 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for bo
                                  th LCDs.
                            22715 ; 399  |#define LCD_MAX_CONTRAST 250
                            22716 ; 400  |#define LCD_MIN_CONTRAST 0
                            22717 ; 401  |
                            22718 ; 402  |//=====
                            22719 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            22720 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this hi
                                  storic ver.
                            22721 ; 405  |//LCD_MAX_CONTRAST equ 42
                            22722 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            22723 ; 407  |
                            22724 ; 408  |#endif
                            22725 ; 409  |#endif
                            22726 ; 410  |
                            22727 ; 411  |#endif
                            22728 ; 412  |
                            22729 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            22730 ; 414  |// The default value of the lcd contrast in % of range
                            22731 ; 415  |//   the default value is used when no settings.dat is available
                            22732 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            22733 ; 417  |
                            22734 ; 418  |#if (defined(S6B33B0A_LCD))
                            22735 ; 419  |// 60% of range is default value
                            22736 ; 420  |#define DEFAULT_CONTRAST 50 
                            22737 ; 421  |#endif
                            22738 ; 422  |
                            22739 ; 423  |#if (defined(SED15XX_LCD))
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 376

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22740 ; 424  |// % of range is default value (was 60%)
                            22741 ; 425  |#define DEFAULT_CONTRAST 50 
                            22742 ; 426  |#endif
                            22743 ; 427  |
                            22744 ; 428  |
                            22745 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            22746 ; 430  |// make lower when doing calibration
                            22747 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            22748 ; 432  |
                            22749 ; 433  |
                            22750 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            22751 ; 435  |// For FFWD and RWND
                            22752 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            22753 ; 437  |#define SECONDS_TO_SKIP 1
                            22754 ; 438  |#define SECONDS_TO_SKIP1 3
                            22755 ; 439  |#define SECONDS_TO_SKIP2 6
                            22756 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            22757 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            22758 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            22759 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            22760 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            22761 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            22762 ; 446  |
                            22763 ; 447  |// For audible FFW/RWD
                            22764 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            22765 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            22766 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            22767 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            22768 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            22769 ; 453  |#define LEVEL1_BOUNDARY 17 
                            22770 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            22771 ; 455  |#define LEVEL2_BOUNDARY 33 
                            22772 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            22773 ; 457  |#define LEVEL3_BOUNDARY 50 
                            22774 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            22775 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            22776 ; 460  |// Short Song Time, songs too short to play.
                            22777 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            22778 ; 462  |
                            22779 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            22780 ; 464  |// MP3 Sync Values
                            22781 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            22782 ; 466  |// # bytes to look for sync before marking it bad
                            22783 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            22784 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            22785 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            22786 ; 470  |// once we have sync'd, the isr should be called this frequently
                            22787 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            22788 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            22789 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            22790 ; 474  |
                            22791 ; 475  |
                            22792 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            22793 ; 477  |//// Multi-Stage Volume Control Definitions
                            22794 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            22795 ; 479  |//// Use Multi-Stage Volume
                            22796 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            22797 ; 481  |
                            22798 ; 482  |//// Master Volume definitions
                            22799 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            22800 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            22801 ; 485  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 377

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22802 ; 486  |//// DAC-Mode definitions
                            22803 ; 487  |//// Adjusts 0dB point
                            22804 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            22805 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            22806 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines 
                                  above.
                            22807 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            22808 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provid
                                  es 1.5 dB gain on Stmp34x0; 
                            22809 ; 493  |//                                               Max gain possible: 8 step diff would prov
                                  ide +12dB gain.   
                            22810 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            22811 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            22812 ; 496  |
                            22813 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            22814 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            22815 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                                  
                            22816 ; 500  |
                            22817 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not t
                                  he default
                            22818 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoin
                                  t.
                            22819 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            22820 ; 504  |
                            22821 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the def
                                  ault
                            22822 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            22823 ; 507  |
                            22824 ; 508  |
                            22825 ; 509  |//// Line In definitions (used for Line-In 1)
                            22826 ; 510  |//// 0dB point of the Line In
                            22827 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            22828 ; 512  |//// Minimum volume of Line In
                            22829 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            22830 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            22831 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            22832 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            22833 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            22834 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS
                                  +1)
                            22835 ; 519  |
                            22836 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            22837 ; 521  |//// 0dB point of the Line In
                            22838 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            22839 ; 523  |//// Minimum volume of Line In
                            22840 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            22841 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            22842 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            22843 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            22844 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            22845 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            22846 ; 530  |
                            22847 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            22848 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid dea
                                  dlock states & recovers. 
                            22849 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            22850 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            22851 ; 535  |
                            22852 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            22853 ; 537  |////
                            22854 ; 538  |////! This varible holds the lcd display state for the mtp project.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 378

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22855 ; 539  |////
                            22856 ; 540  |///
                            22857 ; 541  |#include <types.h>
                            22858 ; 542  |extern volatile WORD g_wActivityState;
                            22859 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            22860 ; 544  |
                            22861 ; 545  |void _reentrant Init5VSense(void);
                            22862 ; 546  |void _reentrant ServiceDCDC(void);
                            22863 ; 547  |
                            22864 ; 548  |////////////////////////////////////////////////////////////////////////////
                            22865 ; 549  |//// JPEG Thumbnail Mode Setting
                            22866 ; 550  |//// number of column in thumbnail mode
                            22867 ; 551  |#define THUMBNAIL_X 2           
                            22868 ; 552  |//// number of row in  thumbnail mode
                            22869 ; 553  |#define THUMBNAIL_Y 2           
                            22870 ; 554  |//// thumbnail boundary offset x
                            22871 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            22872 ; 556  |//// thumbnail boundary offset y
                            22873 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            22874 ; 558  |
                            22875 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            22876 ; 560  |
                            22877 
                            22879 
                            22880 ; 101  |
                            22881 ; 102  |/*========================================================================================
                                  ==========
                            22882 ; 103  |                                             CONSTANTS
                            22883 ; 104  |==========================================================================================
                                  ========*/
                            22884 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            22885 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            22886 ; 107  |Artistname                              1:0
                            22887 ; 108  |Albumname                               3:2
                            22888 ; 109  |Genrename                               5:4
                            22889 ; 110  |Songname                                7:6
                            22890 ; 111  |----------------------------------------------------------
                            22891 ; 112  |    Value (2 bits)                      Meanings
                            22892 ; 113  |    0                                   RAW and All ASCII
                            22893 ; 114  |    1                                   Uni-code
                            22894 ; 115  |    2                                   Mixed, non-unicode
                            22895 ; 116  |
                            22896 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            22897 ; 118  |*/
                            22898 ; 119  |#define BITMASK_ARTIST  (0x03)
                            22899 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            22900 ; 121  |#define BITMASK_GENRE   (0x30)
                            22901 ; 122  |#define BITMASK_SONG    (0xC0)
                            22902 ; 123  |
                            22903 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            22904 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            22905 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            22906 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            22907 ; 128  |
                            22908 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            22909 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            22910 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            22911 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            22912 ; 133  |
                            22913 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            22914 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            22915 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 379

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22916 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            22917 ; 138  |
                            22918 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            22919 ; 140  |
                            22920 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            22921 ; 142  |
                            22922 ; 143  |#define INDEX_EOF       0xFFF
                            22923 ; 144  |#ifdef _FOLDER_BROWSE_
                            22924 ; 145  |#define INDEX_ROOT  0xffe
                            22925 ; 146  |#define UNKNOWN_RECORD  0xfff
                            22926 ; 147  |#endif  // _FOLDER_BROWSE_
                            22927 ; 148  |
                            22928 ; 149  |/* Constant for item_type */
                            22929 ; 150  |#define         ITEM_ARTIST                     0
                            22930 ; 151  |#define         ITEM_ALBUM                      1
                            22931 ; 152  |#define         ITEM_GENRE                      2
                            22932 ; 153  |#define         ITEM_TRACK                      3
                            22933 ; 154  |#define         ITEM_YEAR                       4
                            22934 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            22935 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            22936 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            22937 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            22938 ; 159  |#ifdef _NEWMUSIC_
                            22939 ; 160  |#define         ITEM_1DAY                       10
                            22940 ; 161  |#define         ITEM_1WEEK                      11
                            22941 ; 162  |#define         ITEM_1MONTH                     12
                            22942 ; 163  |#endif
                            22943 ; 164  |#ifdef _AUDIBLE_
                            22944 ; 165  |#define         ITEM_AUDIBLE            13
                            22945 ; 166  |#endif
                            22946 ; 167  |#define         ITEM_ON_THE_GO          14
                            22947 ; 168  |
                            22948 ; 169  |#define         ITEM_VOICE                      15
                            22949 ; 170  |#define         ITEM_FMREC                      16
                            22950 ; 171  |#define         ITEM_PHOTO                      17
                            22951 ; 172  |#ifdef _FOLDER_BROWSE_
                            22952 ; 173  |#define         ITEM_INTERNAL           18
                            22953 ; 174  |#define         ITEM_EXTERNAL       19
                            22954 ; 175  |#endif  // _FOLDER_BROWSE_
                            22955 ; 176  |#define     ITEM_UNKNOWN        0xff
                            22956 ; 177  |
                            22957 ; 178  |/*
                            22958 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_inf
                                  o, int16 option);
                            22959 ; 180  |option input.
                            22960 ; 181  |*/
                            22961 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            22962 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            22963 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            22964 ; 185  |#ifdef _FOLDER_BROWSE_
                            22965 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            22966 ; 187  |#endif  // _FOLDER_BROWSE_
                            22967 ; 188  |
                            22968 ; 189  |/* Constant for key action */
                            22969 ; 190  |#define         ACTION_OK                               0               /* Press OK button
                                   */
                            22970 ; 191  |#define         ACTION_BACK                             1               /* Press BACK butt
                                  on */
                            22971 ; 192  |#define         ACTION_UP                               2               /* Press UP button
                                   */
                            22972 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN butt
                                  on */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 380

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22973 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            22974 ; 195  |#define         ACTION_MENU                             5               /* Back the browsi
                                  ng tree to root */
                            22975 ; 196  |
                            22976 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            22977 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            22978 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            22979 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            22980 ; 201  |
                            22981 ; 202  |#define         NO_SD                                   0
                            22982 ; 203  |#define         HAS_SD                                  1
                            22983 ; 204  |
                            22984 ; 205  |#define         PLAY_NORMAL                             0
                            22985 ; 206  |#define         PLAY_SHUFFLE                    1
                            22986 ; 207  |
                            22987 ; 208  |#define     PLAY_REPEAT_OFF         0
                            22988 ; 209  |#define     PLAY_REPEAT_ON          1
                            22989 ; 210  |
                            22990 ; 211  |#define     PLAY_SELECT_FLASH       0
                            22991 ; 212  |#define     PLAY_SELECT_SD          1
                            22992 ; 213  |
                            22993 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            22994 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            22995 ; 216  |
                            22996 ; 217  |#define         ON_THE_GO_EXIST                 0
                            22997 ; 218  |#define         ON_THE_GO_FULL                  1
                            22998 ; 219  |#define         ON_THE_GO_FREE                  2
                            22999 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            23000 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            23001 ; 222  |
                            23002 ; 223  |#define         REC_VOICE_TYPE                  0
                            23003 ; 224  |#define         REC_FMREC_TYPE                  1
                            23004 ; 225  |#define         REC_PHOTO_TYPE                  2
                            23005 ; 226  |#define         VOICE_FILE_ADD                  0
                            23006 ; 227  |#define         VOICE_FILE_DEL                  1
                            23007 ; 228  |
                            23008 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            23009 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            23010 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            23011 ; 232  |flash or external SD card */
                            23012 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            23013 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            23014 ; 235  |#else
                            23015 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            23016 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            23017 ; 238  |
                            23018 ; 239  |/* number of byte in one DSP word */
                            23019 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            23020 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            23021 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            23022 ; 243  |are 10 level directory structure */
                            23023 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            23024 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            23025 ; 246  |
                            23026 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            23027 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            23028 ; 249  |/* number of songs in each new music list */
                            23029 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            23030 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            23031 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            23032 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            23033 ; 254  |/* number of songs in the on-the-fly list */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 381

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23034 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            23035 ; 256  |/* number of files audible list */
                            23036 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            23037 ; 258  |
                            23038 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            23039 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            23040 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            23041 ; 262  |
                            23042 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            23043 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            23044 ; 265  |#ifdef _FOLDER_BROWSE_
                            23045 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            23046 ; 267  |#else
                            23047 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            23048 ; 269  |#endif  // _FOLDER_BROWSE_
                            23049 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            23050 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            23051 ; 272  |
                            23052 ; 273  |#ifndef _MAX_DIR_DEPTH
                            23053 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            23054 ; 275  |#endif  // _MAX_DIR_DEPTH
                            23055 ; 276  |
                            23056 ; 277  |/*========================================================================================
                                  ==========*/
                            23057 ; 278  |
                            23058 ; 279  |
                            23059 ; 280  |/*========================================================================================
                                  ==========
                            23060 ; 281  |                                               MACROS
                            23061 ; 282  |==========================================================================================
                                  ========*/
                            23062 ; 283  |
                            23063 ; 284  |/*========================================================================================
                                  ==========
                            23064 ; 285  |                                               ENUMS
                            23065 ; 286  |==========================================================================================
                                  ========*/
                            23066 ; 287  |#define NUM_OF_MEDIA                            (2)
                            23067 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            23068 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            23069 ; 290  |/*========================================================================================
                                  ==========
                            23070 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            23071 ; 292  |==========================================================================================
                                  ========*/
                            23072 ; 293  |
                            23073 ; 294  |typedef char    int8;
                            23074 ; 295  |typedef short   int16;
                            23075 ; 296  |typedef int     int24;
                            23076 ; 297  |typedef long    int32;
                            23077 ; 298  |
                            23078 ; 299  |typedef int     intx;
                            23079 ; 300  |
                            23080 ; 301  |typedef unsigned char   uint8;
                            23081 ; 302  |typedef unsigned short  uint16;
                            23082 ; 303  |typedef unsigned int    uint24;
                            23083 ; 304  |typedef unsigned long   uint32;
                            23084 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 382

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23088 
                            23089 ; 305  |
                            23090 ; 306  |/*
                            23091 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode form
                                  at.
                            23092 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            23093 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            23094 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            23095 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            23096 ; 312  |*/
                            23097 ; 313  |/*
                            23098 ; 314  |path_name[] _must_have_data_:
                            23099 ; 315  |path_name[] = (Max. 120 Characters);
                            23100 ; 316  |year range:
                            23101 ; 317  |year = 0x000000-0xFFFFFF;
                            23102 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            23103 ; 319  |Unknown track number:
                            23104 ; 320  |track_number = 0x7FFFFF;
                            23105 ; 321  |unicode refer to above #define BITMASK_*
                            23106 ; 322  |*/
                            23107 ; 323  |/*
                            23108 ; 324  |Interface of UI and Music Library
                            23109 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            23110 ; 326  |
                            23111 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            23112 ; 328  |
                            23113 ; 329  |3) UI to Music Library variable passing length definition:
                            23114 ; 330  |        All ASCII Characters:
                            23115 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            23116 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            23117 ; 333  |        Unicode Characters:
                            23118 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            23119 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            23120 ; 336  |
                            23121 ; 337  |4) UI input data to Music Library in two formats.
                            23122 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            23123 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            23124 ; 340  |
                            23125 ; 341  |5) UI calling function:
                            23126 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            23127 ; 343  |        int16 option definition:
                            23128 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            23129 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            23130 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            23131 ; 347  |
                            23132 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            23133 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_l
                                  ist separately.
                            23134 ; 350  |
                            23135 ; 351  |6) Modification Date:
                            23136 ; 352  |        uint24 g_file_time:
                            23137 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            23138 ; 354  |*/
                            23139 ; 355  |
                            23140 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            23141 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            23142 ; 358  |typedef struct _ram_song_info {
                            23143 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23144 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23145 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23146 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23147 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 383

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23148 ; 364  |    uint32 g_songFastKey;
                            23149 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23150 ; 366  |        uint24 year;
                            23151 ; 367  |        uint24 track_number;
                            23152 ; 368  |        uint8 unicode;
                            23153 ; 369  |} RAM_SONG_INFO_T;
                            23154 ; 370  |
                            23155 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            23156 ; 372  |typedef struct _flash_group_name {
                            23157 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23158 ; 374  |        uint8 unicode;
                            23159 ; 375  |} FLASH_GROUP_NAME_T;
                            23160 ; 376  |
                            23161 ; 377  |// struct to store directories information passed from UI
                            23162 ; 378  |#ifdef _FOLDER_BROWSE_
                            23163 ; 379  |typedef struct _ml_DirInfo {
                            23164 ; 380  |        uint24  u8Unicode : 8;
                            23165 ; 381  |        uint24  u12DirDepth : 12;
                            23166 ; 382  |        uint24  u4Added : 4;            
                            23167 ; 383  |        INT     iDirRecord;
                            23168 ; 384  |        DWORD   dwFastKey;
                            23169 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23170 ; 386  |} ML_DIRINFO_T;
                            23171 ; 387  |#endif  // _FOLDER_BROWSE_
                            23172 ; 388  |
                            23173 ; 389  |/*========================================================================================
                                  ==========
                            23174 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            23175 ; 391  |==========================================================================================
                                  ========*/
                            23176 ; 392  |extern uint24   IsPlayOnTheGo;
                            23177 
                            23183 
                            23184 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            23185 ; 394  |extern uint24   merge_id_list_flash[];
                            23186 ; 395  |extern uint24   merge_id_list_sd[];
                            23187 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            23188 ; 397  |#ifdef _FOLDER_BROWSE_
                            23189 
                            23202 
                            23203 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            23204 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23205 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            23206 ; 401  |#endif  // _FOLDER_BROWSE_
                            23207 ; 402  |extern INT _X    *sec_temp_buf_X;
                            23208 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 =
                                   repeat on/off(0=off/1=on) */
                            23209 ; 404  |
                            23210 ; 405  |/*========================================================================================
                                  ==========
                            23211 ; 406  |                                        FUNCTION PROTOTYPES
                            23212 ; 407  |==========================================================================================
                                  ========*/
                            23213 ; 408  |
                            23214 ; 409  |///////////////////////////////////////////////////////////////////////
                            23215 ; 410  |//! \brief
                            23216 ; 411  |//!
                            23217 ; 412  |//! \fntype Function
                            23218 ; 413  |//!
                            23219 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            23220 ; 415  |//! Call only once before inserting items. Call once for each media.
                            23221 ; 416  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 384

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23222 ; 417  |//! \param[in]  none
                            23223 ; 418  |//!
                            23224 ; 419  |//! \return
                            23225 ; 420  |//!
                            23226 ; 421  |///////////////////////////////////////////////////////////////////////
                            23227 ; 422  |void ML_InitLibraryParameter(void);
                            23228 ; 423  |
                            23229 ; 424  |///////////////////////////////////////////////////////////////////////
                            23230 ; 425  |//! \brief
                            23231 ; 426  |//!
                            23232 ; 427  |//! \fntype Function
                            23233 ; 428  |//!
                            23234 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            23235 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            23236 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each son
                                  g,
                            23237 ; 432  |//! the song information is recorded in music library.
                            23238 ; 433  |//!
                            23239 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            23240 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passe
                                  d from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            23241 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav f
                                  ormat file.
                            23242 ; 437  |//!
                            23243 ; 438  |//! \return
                            23244 ; 439  |//!
                            23245 ; 440  |///////////////////////////////////////////////////////////////////////
                            23246 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            23247 
                            23261 
                            23262 ; 442  |
                            23263 ; 443  |///////////////////////////////////////////////////////////////////////
                            23264 ; 444  |//! \brief
                            23265 ; 445  |//!
                            23266 ; 446  |//! \fntype Function
                            23267 ; 447  |//!
                            23268 ; 448  |//! \param[in]
                            23269 ; 449  |//!
                            23270 ; 450  |//! \return
                            23271 ; 451  |//!
                            23272 ; 452  |///////////////////////////////////////////////////////////////////////
                            23273 ; 453  |#ifdef _FOLDER_BROWSE_
                            23274 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int1
                                  6 i16Option);
                            23275 ; 455  |#endif  // _FOLDER_BROWSE_
                            23276 ; 456  |
                            23277 ; 457  |///////////////////////////////////////////////////////////////////////
                            23278 ; 458  |//! \brief
                            23279 ; 459  |//!
                            23280 ; 460  |//! \fntype Function
                            23281 ; 461  |//!
                            23282 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            23283 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            23284 ; 464  |//! music library for that particular media.
                            23285 ; 465  |//!
                            23286 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            23287 ; 467  |//!
                            23288 ; 468  |//! \return
                            23289 ; 469  |//!
                            23290 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 385

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23291 ; 471  |//!         function.
                            23292 ; 472  |///////////////////////////////////////////////////////////////////////
                            23293 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            23294 ; 474  |
                            23295 ; 475  |///////////////////////////////////////////////////////////////////////
                            23296 ; 476  |//! \brief
                            23297 ; 477  |//!
                            23298 ; 478  |//! \fntype Function
                            23299 ; 479  |//!
                            23300 ; 480  |//! \param[in]
                            23301 ; 481  |//!
                            23302 ; 482  |//! \return
                            23303 ; 483  |//!
                            23304 ; 484  |///////////////////////////////////////////////////////////////////////
                            23305 ; 485  |#ifdef _NEWMUSIC_
                            23306 ; 486  |void ML_UpdateNewMusic(void);
                            23307 ; 487  |#endif
                            23308 ; 488  |
                            23309 ; 489  |///////////////////////////////////////////////////////////////////////
                            23310 ; 490  |//! \brief
                            23311 ; 491  |//!
                            23312 ; 492  |//! \fntype Function
                            23313 ; 493  |//!
                            23314 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            23315 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            23316 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            23317 ; 497  |//!
                            23318 ; 498  |//! \param[in]  none
                            23319 ; 499  |//!
                            23320 ; 500  |//! \return
                            23321 ; 501  |//!
                            23322 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            23323 ; 503  |//!         must be called before calling any other music library functions.
                            23324 ; 504  |///////////////////////////////////////////////////////////////////////
                            23325 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            23326 ; 506  |
                            23327 ; 507  |///////////////////////////////////////////////////////////////////////
                            23328 ; 508  |//! \brief
                            23329 ; 509  |//!
                            23330 ; 510  |//! \fntype Function
                            23331 ; 511  |//!
                            23332 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            23333 ; 513  |//! library operation.
                            23334 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            23335 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file
                                   and the
                            23336 ; 516  |//! music.sec file do not exist.
                            23337 ; 517  |//!
                            23338 ; 518  |//! \param[in]  none
                            23339 ; 519  |//!
                            23340 ; 520  |//! \return
                            23341 ; 521  |//!
                            23342 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            23343 ; 523  |//!         must be called before calling any other music library functions.
                            23344 ; 524  |///////////////////////////////////////////////////////////////////////
                            23345 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            23346 ; 526  |
                            23347 ; 527  |///////////////////////////////////////////////////////////////////////
                            23348 ; 528  |//! \brief
                            23349 ; 529  |//!
                            23350 ; 530  |//! \fntype Function
                            23351 ; 531  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 386

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23352 ; 532  |//! Preload the list, prepare for renew.
                            23353 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            23354 ; 534  |//! structure in RAM.
                            23355 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            23356 ; 536  |//! in RAM.
                            23357 ; 537  |//!
                            23358 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            23359 ; 539  |//!
                            23360 ; 540  |//! \return
                            23361 ; 541  |//!
                            23362 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            23363 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            23364 ; 544  |///////////////////////////////////////////////////////////////////////
                            23365 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            23366 ; 546  |
                            23367 ; 547  |///////////////////////////////////////////////////////////////////////
                            23368 ; 548  |//! \brief
                            23369 ; 549  |//!
                            23370 ; 550  |//! \fntype Function
                            23371 ; 551  |//!
                            23372 ; 552  |//! Save the list to flash memory.
                            23373 ; 553  |//!
                            23374 ; 554  |//! \param[in]
                            23375 ; 555  |//!
                            23376 ; 556  |//! \return
                            23377 ; 557  |//!
                            23378 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            23379 ; 559  |//!         changed by the user.
                            23380 ; 560  |///////////////////////////////////////////////////////////////////////
                            23381 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            23382 ; 562  |
                            23383 ; 563  |///////////////////////////////////////////////////////////////////////
                            23384 ; 564  |//! \brief
                            23385 ; 565  |//!
                            23386 ; 566  |//! \fntype Function
                            23387 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            23388 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in
                                   the
                            23389 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the l
                                  ist.
                            23390 ; 570  |//! Otherwise the song is deleted.
                            23391 ; 571  |//!
                            23392 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            23393 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            23394 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            23395 ; 575  |//!
                            23396 ; 576  |//! \return
                            23397 ; 577  |//!
                            23398 ; 578  |///////////////////////////////////////////////////////////////////////
                            23399 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            23400 ; 580  |
                            23401 ; 581  |///////////////////////////////////////////////////////////////////////
                            23402 ; 582  |//! \brief
                            23403 ; 583  |//!
                            23404 ; 584  |//! \fntype Function
                            23405 ; 585  |//!
                            23406 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            23407 ; 587  |//! in the ML_UpdateOnTheGo().
                            23408 ; 588  |//!
                            23409 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 387

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23410 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDE
                                  X_EOF (song will be deleted)
                            23411 ; 591  |//!
                            23412 ; 592  |//! \return
                            23413 ; 593  |//!
                            23414 ; 594  |///////////////////////////////////////////////////////////////////////
                            23415 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            23416 ; 596  |
                            23417 ; 597  |///////////////////////////////////////////////////////////////////////
                            23418 ; 598  |//! \brief
                            23419 ; 599  |//!
                            23420 ; 600  |//! \fntype Function
                            23421 ; 601  |//!
                            23422 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            23423 ; 603  |//!
                            23424 ; 604  |//! \param[in]  none
                            23425 ; 605  |//!
                            23426 ; 606  |//! \return
                            23427 ; 607  |//!
                            23428 ; 608  |///////////////////////////////////////////////////////////////////////
                            23429 ; 609  |void ML_UpdateOnTheGo(void);
                            23430 ; 610  |
                            23431 ; 611  |///////////////////////////////////////////////////////////////////////
                            23432 ; 612  |//! \brief
                            23433 ; 613  |//!
                            23434 ; 614  |//! \fntype Function
                            23435 ; 615  |//!
                            23436 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            23437 ; 617  |//! Call only once before inserting items. Call once for each media.
                            23438 ; 618  |//!
                            23439 ; 619  |//! \param[in]  none
                            23440 ; 620  |//!
                            23441 ; 621  |//! \return
                            23442 ; 622  |//!
                            23443 ; 623  |///////////////////////////////////////////////////////////////////////
                            23444 ; 624  |void ML_InitVoiceParameter(void);
                            23445 ; 625  |
                            23446 ; 626  |///////////////////////////////////////////////////////////////////////
                            23447 ; 627  |//! \brief
                            23448 ; 628  |//!
                            23449 ; 629  |//! \fntype Function
                            23450 ; 630  |//!
                            23451 ; 631  |//! \param[in]
                            23452 ; 632  |//!
                            23453 ; 633  |//! \return
                            23454 ; 634  |//!
                            23455 ; 635  |///////////////////////////////////////////////////////////////////////
                            23456 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            23457 ; 637  |
                            23458 ; 638  |///////////////////////////////////////////////////////////////////////
                            23459 ; 639  |//! \brief
                            23460 ; 640  |//!
                            23461 ; 641  |//! \fntype Function
                            23462 ; 642  |//!
                            23463 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            23464 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names
                                  .
                            23465 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            23466 ; 646  |//!
                            23467 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            23468 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed f
                                  rom UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 388

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23469 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            23470 ; 650  |//!
                            23471 ; 651  |//! \return
                            23472 ; 652  |//!
                            23473 ; 653  |///////////////////////////////////////////////////////////////////////
                            23474 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            23475 ; 655  |
                            23476 ; 656  |///////////////////////////////////////////////////////////////////////
                            23477 ; 657  |//! \brief
                            23478 ; 658  |//!
                            23479 ; 659  |//! \fntype Function
                            23480 ; 660  |//!
                            23481 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            23482 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice buildi
                                  ng
                            23483 ; 663  |//! of music library for that particular media.
                            23484 ; 664  |//!
                            23485 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            23486 ; 666  |//!
                            23487 ; 667  |//! \return
                            23488 ; 668  |//!
                            23489 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            23490 ; 670  |//!         function.
                            23491 ; 671  |///////////////////////////////////////////////////////////////////////
                            23492 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            23493 ; 673  |
                            23494 ; 674  |///////////////////////////////////////////////////////////////////////
                            23495 ; 675  |//! \brief
                            23496 ; 676  |//!
                            23497 ; 677  |//! \fntype Function
                            23498 ; 678  |//!
                            23499 ; 679  |//! Called by UI, the merge the music library tables album,
                            23500 ; 680  |//! artist, genre, song and year.
                            23501 ; 681  |//!
                            23502 ; 682  |//! \param[in]  none
                            23503 ; 683  |//!
                            23504 ; 684  |//! \return
                            23505 ; 685  |//!
                            23506 ; 686  |///////////////////////////////////////////////////////////////////////
                            23507 ; 687  |void ML_MergeLibraryTables(void);
                            23508 ; 688  |
                            23509 ; 689  |///////////////////////////////////////////////////////////////////////
                            23510 ; 690  |//! \brief
                            23511 ; 691  |//!
                            23512 ; 692  |//! \fntype Function
                            23513 ; 693  |//!
                            23514 ; 694  |//! Called by UI, the merge the music library tables album,
                            23515 ; 695  |//! artist, genre, song and year.
                            23516 ; 696  |//!
                            23517 ; 697  |//! \param[in]  none
                            23518 ; 698  |//!
                            23519 ; 699  |//! \return
                            23520 ; 700  |//!
                            23521 ; 701  |///////////////////////////////////////////////////////////////////////
                            23522 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            23523 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            23524 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            23525 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            23526 ; 706  |
                            23527 ; 707  |///////////////////////////////////////////////////////////////////////
                            23528 ; 708  |//! \brief
                            23529 ; 709  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 389

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23530 ; 710  |//! \fntype Function
                            23531 ; 711  |//!
                            23532 ; 712  |//! \param[in]
                            23533 ; 713  |//!
                            23534 ; 714  |//! \return
                            23535 ; 715  |//!
                            23536 ; 716  |///////////////////////////////////////////////////////////////////////
                            23537 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            23538 ; 718  |
                            23539 ; 719  |/*========================================================================================
                                  ========*/
                            23540 ; 720  |
                            23541 ; 721  |// Siukoon 2005-02-28
                            23542 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            23543 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            23544 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            23545 ; 725  |#else
                            23546 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            23547 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            23548 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            23549 ; 729  |#define WORD_PER_SECTOR             (171)
                            23550 ; 730  |#define BYTE_PER_SECTOR             (512)
                            23551 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            23552 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PE
                                  R_SECTOR)
                            23553 ; 733  |
                            23554 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            23555 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            23556 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_B
                                  YTE_PER_SECTOR)
                            23557 ; 737  |
                            23558 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            23559 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            23560 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            23561 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            23562 ; 742  |
                            23563 ; 743  |/////////////////////
                            23564 ; 744  |
                            23565 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            23566 ; 746  |
                            23567 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            23568 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            23569 ; 749  |#else
                            23570 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            23571 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            23572 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                                  
                            23573 ; 753  |
                            23574 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            23575 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            23576 ; 756  |
                            23577 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            23578 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            23579 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            23580 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            23581 ; 761  |#else
                            23582 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            23583 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            23584 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            23585 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 390

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23586 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            23587 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            23588 ; 768  |
                            23589 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            23590 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            23591 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            23592 ; 772  |#else
                            23593 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG
                                  _PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            23594 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            23595 ; 775  |
                            23596 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            23597 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SI
                                  ZE_IN_BYTE)
                            23598 ; 778  |
                            23599 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            23600 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            23601 ; 781  |
                            23602 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            23603 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            23604 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            23605 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            23606 ; 786  |#else
                            23607 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            23608 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            23609 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            23610 ; 790  |
                            23611 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            23612 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6
                                  )
                            23613 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            23614 ; 794  |#else
                            23615 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            23616 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            23617 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            23618 ; 798  |
                            23619 ; 799  |#ifdef __cplusplus
                            23620 ; 800  |}
                            23621 ; 801  |#endif
                            23622 ; 802  |
                            23623 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            23624 
                            23626 
                            23627 ; 6    |#include "fsapi.h"
                            23628 
                            23630 
                            23631 ; 1    |#ifndef _FSAPI_H_
                            23632 ; 2    |#define _FSAPI_H_
                            23633 ; 3    |#include "filespec.h"
                            23634 
                            23636 
                            23637 ; 1    |#ifndef _FILESPEC_H_
                            23638 ; 2    |#define _FILESPEC_H_
                            23639 ; 3    |#include  "fstypes.h"
                            23640 
                            23642 
                            23643 ; 1    |#ifndef _FS_TYPE_H_
                            23644 ; 2    |#define _FS_TYPE_H_
                            23645 ; 3    |
                            23646 ; 4    |#include   "types.h"
                            23647 
                            23649 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 391

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23650 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            23651 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            23652 ; 3    |//
                            23653 ; 4    |// Filename: types.h
                            23654 ; 5    |// Description: Standard data types
                            23655 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            23656 ; 7    |
                            23657 ; 8    |#ifndef _TYPES_H
                            23658 ; 9    |#define _TYPES_H
                            23659 ; 10   |
                            23660 ; 11   |// TODO:  move this outta here!
                            23661 ; 12   |#if !defined(NOERROR)
                            23662 ; 13   |#define NOERROR 0
                            23663 ; 14   |#define SUCCESS 0
                            23664 ; 15   |#endif 
                            23665 ; 16   |#if !defined(SUCCESS)
                            23666 ; 17   |#define SUCCESS  0
                            23667 ; 18   |#endif
                            23668 ; 19   |#if !defined(ERROR)
                            23669 ; 20   |#define ERROR   -1
                            23670 ; 21   |#endif
                            23671 ; 22   |#if !defined(FALSE)
                            23672 ; 23   |#define FALSE 0
                            23673 ; 24   |#endif
                            23674 ; 25   |#if !defined(TRUE)
                            23675 ; 26   |#define TRUE  1
                            23676 ; 27   |#endif
                            23677 ; 28   |
                            23678 ; 29   |#if !defined(NULL)
                            23679 ; 30   |#define NULL 0
                            23680 ; 31   |#endif
                            23681 ; 32   |
                            23682 ; 33   |#define MAX_INT     0x7FFFFF
                            23683 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            23684 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            23685 ; 36   |#define MAX_ULONG   (-1) 
                            23686 ; 37   |
                            23687 ; 38   |#define WORD_SIZE   24              // word size in bits
                            23688 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            23689 ; 40   |
                            23690 ; 41   |
                            23691 ; 42   |#define BYTE    unsigned char       // btVarName
                            23692 ; 43   |#define CHAR    signed char         // cVarName
                            23693 ; 44   |#define USHORT  unsigned short      // usVarName
                            23694 ; 45   |#define SHORT   unsigned short      // sVarName
                            23695 ; 46   |#define WORD    unsigned int        // wVarName
                            23696 ; 47   |#define INT     signed int          // iVarName
                            23697 ; 48   |#define DWORD   unsigned long       // dwVarName
                            23698 ; 49   |#define LONG    signed long         // lVarName
                            23699 ; 50   |#define BOOL    unsigned int        // bVarName
                            23700 ; 51   |#define FRACT   _fract              // frVarName
                            23701 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            23702 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            23703 ; 54   |#define FLOAT   float               // fVarName
                            23704 ; 55   |#define DBL     double              // dVarName
                            23705 ; 56   |#define ENUM    enum                // eVarName
                            23706 ; 57   |#define CMX     _complex            // cmxVarName
                            23707 ; 58   |typedef WORD UCS3;                   // 
                            23708 ; 59   |
                            23709 ; 60   |#define UINT16  unsigned short
                            23710 ; 61   |#define UINT8   unsigned char   
                            23711 ; 62   |#define UINT32  unsigned long
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 392

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23712 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            23713 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            23714 ; 65   |#define WCHAR   UINT16
                            23715 ; 66   |
                            23716 ; 67   |//UINT128 is 16 bytes or 6 words
                            23717 ; 68   |typedef struct UINT128_3500 {   
                            23718 ; 69   |    int val[6];     
                            23719 ; 70   |} UINT128_3500;
                            23720 ; 71   |
                            23721 ; 72   |#define UINT128   UINT128_3500
                            23722 ; 73   |
                            23723 ; 74   |// Little endian word packed byte strings:   
                            23724 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            23725 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            23726 ; 77   |// Little endian word packed byte strings:   
                            23727 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            23728 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            23729 ; 80   |
                            23730 ; 81   |// Declare Memory Spaces To Use When Coding
                            23731 ; 82   |// A. Sector Buffers
                            23732 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            23733 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            23734 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            23735 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            23736 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            23737 ; 88   |// B. Media DDI Memory
                            23738 ; 89   |#define MEDIA_DDI_MEM _Y
                            23739 ; 90   |
                            23740 ; 91   |
                            23741 ; 92   |
                            23742 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            23743 ; 94   |// Examples of circular pointers:
                            23744 ; 95   |//    INT CIRC cpiVarName
                            23745 ; 96   |//    DWORD CIRC cpdwVarName
                            23746 ; 97   |
                            23747 ; 98   |#define RETCODE INT                 // rcVarName
                            23748 ; 99   |
                            23749 ; 100  |// generic bitfield structure
                            23750 ; 101  |struct Bitfield {
                            23751 ; 102  |    unsigned int B0  :1;
                            23752 ; 103  |    unsigned int B1  :1;
                            23753 ; 104  |    unsigned int B2  :1;
                            23754 ; 105  |    unsigned int B3  :1;
                            23755 ; 106  |    unsigned int B4  :1;
                            23756 ; 107  |    unsigned int B5  :1;
                            23757 ; 108  |    unsigned int B6  :1;
                            23758 ; 109  |    unsigned int B7  :1;
                            23759 ; 110  |    unsigned int B8  :1;
                            23760 ; 111  |    unsigned int B9  :1;
                            23761 ; 112  |    unsigned int B10 :1;
                            23762 ; 113  |    unsigned int B11 :1;
                            23763 ; 114  |    unsigned int B12 :1;
                            23764 ; 115  |    unsigned int B13 :1;
                            23765 ; 116  |    unsigned int B14 :1;
                            23766 ; 117  |    unsigned int B15 :1;
                            23767 ; 118  |    unsigned int B16 :1;
                            23768 ; 119  |    unsigned int B17 :1;
                            23769 ; 120  |    unsigned int B18 :1;
                            23770 ; 121  |    unsigned int B19 :1;
                            23771 ; 122  |    unsigned int B20 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 393

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23772 ; 123  |    unsigned int B21 :1;
                            23773 ; 124  |    unsigned int B22 :1;
                            23774 ; 125  |    unsigned int B23 :1;
                            23775 ; 126  |};
                            23776 ; 127  |
                            23777 ; 128  |union BitInt {
                            23778 ; 129  |        struct Bitfield B;
                            23779 ; 130  |        int        I;
                            23780 ; 131  |};
                            23781 ; 132  |
                            23782 ; 133  |#define MAX_MSG_LENGTH 10
                            23783 ; 134  |struct CMessage
                            23784 ; 135  |{
                            23785 ; 136  |        unsigned int m_uLength;
                            23786 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            23787 ; 138  |};
                            23788 ; 139  |
                            23789 ; 140  |typedef struct {
                            23790 ; 141  |    WORD m_wLength;
                            23791 ; 142  |    WORD m_wMessage;
                            23792 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            23793 ; 144  |} Message;
                            23794 ; 145  |
                            23795 ; 146  |struct MessageQueueDescriptor
                            23796 ; 147  |{
                            23797 ; 148  |        int *m_pBase;
                            23798 ; 149  |        int m_iModulo;
                            23799 ; 150  |        int m_iSize;
                            23800 ; 151  |        int *m_pHead;
                            23801 ; 152  |        int *m_pTail;
                            23802 ; 153  |};
                            23803 ; 154  |
                            23804 ; 155  |struct ModuleEntry
                            23805 ; 156  |{
                            23806 ; 157  |    int m_iSignaledEventMask;
                            23807 ; 158  |    int m_iWaitEventMask;
                            23808 ; 159  |    int m_iResourceOfCode;
                            23809 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            23810 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            23811 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            23812 ; 163  |    int m_uTimeOutHigh;
                            23813 ; 164  |    int m_uTimeOutLow;
                            23814 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            23815 ; 166  |};
                            23816 ; 167  |
                            23817 ; 168  |union WaitMask{
                            23818 ; 169  |    struct B{
                            23819 ; 170  |        unsigned int m_bNone     :1;
                            23820 ; 171  |        unsigned int m_bMessage  :1;
                            23821 ; 172  |        unsigned int m_bTimer    :1;
                            23822 ; 173  |        unsigned int m_bButton   :1;
                            23823 ; 174  |    } B;
                            23824 ; 175  |    int I;
                            23825 ; 176  |} ;
                            23826 ; 177  |
                            23827 ; 178  |
                            23828 ; 179  |struct Button {
                            23829 ; 180  |        WORD wButtonEvent;
                            23830 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            23831 ; 182  |};
                            23832 ; 183  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 394

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23833 ; 184  |struct Message {
                            23834 ; 185  |        WORD wMsgLength;
                            23835 ; 186  |        WORD wMsgCommand;
                            23836 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            23837 ; 188  |};
                            23838 ; 189  |
                            23839 ; 190  |union EventTypes {
                            23840 ; 191  |        struct CMessage msg;
                            23841 ; 192  |        struct Button Button ;
                            23842 ; 193  |        struct Message Message;
                            23843 ; 194  |};
                            23844 ; 195  |
                            23845 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            23846 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            23847 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            23848 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            23849 ; 200  |
                            23850 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            23851 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            23852 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            23853 ; 204  |
                            23854 ; 205  |#if DEBUG
                            23855 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            23856 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            23857 ; 208  |#else 
                            23858 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            23859 ; 210  |#define DebugBuildAssert(x)    
                            23860 ; 211  |#endif
                            23861 ; 212  |
                            23862 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            23863 ; 214  |//  #pragma asm
                            23864 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            23865 ; 216  |//  #pragma endasm
                            23866 ; 217  |
                            23867 ; 218  |
                            23868 ; 219  |#ifdef COLOR_262K
                            23869 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            23870 ; 221  |#elif defined(COLOR_65K)
                            23871 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            23872 ; 223  |#else
                            23873 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            23874 ; 225  |#endif
                            23875 ; 226  |    
                            23876 ; 227  |#endif // #ifndef _TYPES_H
                            23877 
                            23879 
                            23880 ; 5    |
                            23881 ; 6    |// move FSMEDIA_TABLE from devicetable.h  15Apr2005   First moved in SDK2.6.
                            23882 ; 7    |typedef struct
                            23883 ; 8    |{
                            23884 ; 9    |
                            23885 ; 10   |INT     _Y BytesPerSector;
                            23886 ; 11   |INT     _Y SectorsPerCluster;
                            23887 ; 12   |INT     _Y RsvdSectors;
                            23888 ; 13   |INT     _Y NoOfFATs;
                            23889 ; 14   |INT     _Y MaxRootDirEntries;
                            23890 ; 15   |LONG    _Y TotalSectors;
                            23891 ; 16   |LONG    _Y FATSize;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 395

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23892 ; 17   |LONG    _Y RootdirCluster;
                            23893 ; 18   |//INT   _Y FSInfoSector;
                            23894 ; 19   |//INT   _Y BkBootSector;
                            23895 ; 20   |LONG    _Y NextFreeCluster;
                            23896 ; 21   |LONG    _Y TotalFreeClusters;
                            23897 ; 22   |INT     _Y RootDirSectors;
                            23898 ; 23   |INT     _Y FIRSTDataSector;
                            23899 ; 24   |INT    _Y FATType;
                            23900 ; 25   |LONG   _Y TotalNoofclusters;
                            23901 ; 26   |INT    _Y ClusterMask;
                            23902 ; 27   |INT    _Y ClusterShift;
                            23903 ; 28   |INT    _Y SectorShift;
                            23904 ; 29   |INT    _Y SectorMask;
                            23905 ; 30   |INT    _Y DevicePresent;
                            23906 ; 31   |LONG   _Y FirRootdirsec;
                            23907 ; 32   |INT             _Y FSInfoSector;
                            23908 ; 33   |}FSMEDIA_TABLE;
                            23909 ; 34   |
                            23910 ; 35   |
                            23911 ; 36   |#define         MAXDEVICES              2
                            23912 ; 37   |//#define       NUMCACHES               8  // this is already in fsproj.h (2 for player 2 
                                  for mtp as of 28jun2005) TOVERIFY 2 ok for player and mtp. 
                            23913 ; 38   |
                            23914 ; 39   |// NOTE:  This offset is the same no matter what the sector actual size!  
                            23915 ; 40   |//        TOVERIFY 3.0 doesn't have this defined but uses it in filesystempresent.c. lbmlc
                                   def'd it here so I insert it here.
                            23916 ; 41   |#define         FATFS_SIGNATURE_OFFSET  510
                            23917 ; 42   |#define         BOOTSECTOR              0
                            23918 ; 43   |#define     FSINFOSECTOR        1
                            23919 ; 44   |
                            23920 ; 45   |#define     READ_MODE           1
                            23921 ; 46   |#define     WRITE_MODE          2
                            23922 ; 47   |#define     APPEND_MODE         4
                            23923 ; 48   |#define     SEQ_WRITE_MODE      8
                            23924 ; 49   |#define     DIRECTORY_MODE         16
                            23925 ; 50   |#define     CREATE_MODE        32
                            23926 ; 51   |
                            23927 ; 52   |#define     RPLUS               5
                            23928 ; 53   |#define     WPLUS                   6
                            23929 ; 54   |#define     APLUS               7
                            23930 ; 55   |
                            23931 ; 56   |
                            23932 ; 57   |
                            23933 ; 58   |#define     X_MEMORY            0
                            23934 ; 59   |#define     Y_MEMORY            2
                            23935 ; 60   |#define     P_MEMORY            4
                            23936 ; 61   |
                            23937 ; 62   |#define     FAT12               0 
                            23938 ; 63   |#define     FAT16               1   
                            23939 ; 64   |#define     FAT32               2 
                            23940 ; 65   |
                            23941 ; 66   |
                            23942 ; 67   |#define FAT12EOF            0x0FFF
                            23943 ; 68   |#define FAT16EOF            0xFFFF
                            23944 ; 69   |#define FAT32EOF            0x0FFFFFFF
                            23945 ; 70   |
                            23946 ; 71   |
                            23947 ; 72   |
                            23948 ; 73   |#define FAT12FREECX         0x000
                            23949 ; 74   |#define FAT16FREECX         0x0000
                            23950 ; 75   |#define FAT32FREECX         0x00000000
                            23951 ; 76   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 396

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23952 ; 77   |
                            23953 ; 78   |#define  DBCS               1
                            23954 ; 79   |#define  UNICODE            2
                            23955 ; 80   |
                            23956 ; 81   |
                            23957 ; 82   |#define     CREATION_DATE       1
                            23958 ; 83   |#define     CREATION_TIME       2
                            23959 ; 84   |#define     MODIFICATION_DATE   3
                            23960 ; 85   |#define     MODIFICATION_TIME   4
                            23961 ; 86   |
                            23962 ; 87   |
                            23963 ; 88   |#define     READ_ONLY      0X01
                            23964 ; 89   |#define     HIDDEN         0X02
                            23965 ; 90   |#define     SYSTEM         0X04
                            23966 ; 91   |#define     VOLUME_ID      0X08
                            23967 ; 92   |#define     DIRECTORY      0X10
                            23968 ; 93   |#define     ARCHIVE        0X20
                            23969 ; 94   |
                            23970 ; 95   |#define READCOUNTER         105
                            23971 ; 96   |#define WRITECOUNTER        100
                            23972 ; 97   |#define FLUSHCOUNTER        200
                            23973 ; 98   |
                            23974 ; 99   |
                            23975 ; 100  |#define DEFAULT_MEMORY      Y_MEMORY
                            23976 ; 101  |
                            23977 ; 102  |#define  CWD_HANDLE           0
                            23978 ; 103  |#define  DIRECTORY_HANDLE     1
                            23979 ; 104  |#define  FIRST_VALID_HANDLE   2
                            23980 ; 105  |#define  END_OF_DIR_PATH      3
                            23981 ; 106  |
                            23982 ; 107  |//Constants for Sector read and write (Normal and FAT 
                            23983 ; 108  |#define         NORMALTYPE              0
                            23984 ; 109  |#define         FATTYPE                 1
                            23985 ; 110  |#define     RAWTYPE         2
                            23986 ; 111  |
                            23987 ; 112  |#define  SHORTNAMERES_CH      6
                            23988 ; 113  |#define  LONGNAMERES_CH       9
                            23989 ; 114  |#define  MAXFILENAME_CH       260
                            23990 ; 115  |
                            23991 ; 116  |#define VOLUME_TYPE          0
                            23992 ; 117  |#define DIR_TYPE             1
                            23993 ; 118  |#define FILE_TYPE            2
                            23994 ; 119  |                                           
                            23995 ; 120  |#define WRITE_TYPE_RANDOM               0
                            23996 ; 121  |#define WRITE_TYPE_SEQ_FIRST    1
                            23997 ; 122  |#define WRITE_TYPE_SEQ_NEXT             2
                            23998 ; 123  |#define WRITE_TYPE_NOREADBACK   3
                            23999 ; 124  |                  
                            24000 ; 125  |
                            24001 ; 126  |#define     HANDLEENTRYSIZE         19
                            24002 ; 127  |
                            24003 ; 128  |// DEVICERECORDSIZE is now only defined in cachedef.h so deleted from here in first 3.1 pr
                                  elim 
                            24004 ; 129  |
                            24005 ; 130  |#define     CACHEDESCRSIZE          8
                            24006 ; 131  |#define     CACHEBUFSIZE            705
                            24007 ; 132  |
                            24008 ; 133  |#define     UCS2s                     0
                            24009 ; 134  |#define     UCS3s                     1
                            24010 ; 135  |
                            24011 ; 136  |#define     FAT32FSIFREECOUNTSIZE       4
                            24012 ; 137  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 397

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24013 ; 138  |#endif // _FS_TYPE_H_
                            24014 ; 139  |
                            24015 
                            24017 
                            24018 ; 4    |#define MAX_FILESNAME   13
                            24019 ; 5    |
                            24020 ; 6    |typedef struct {
                            24021 ; 7    |    INT     gCurrentRecord;
                            24022 ; 8    |    INT     DirAttribute;
                            24023 ; 9    |    _packed char    FileName[9];
                            24024 ; 10   |    _packed char    FileExtension[4];
                            24025 ; 11   |}FILESPEC;
                            24026 ; 12   |
                            24027 ; 13   |typedef struct {
                            24028 ; 14   |    INT attrib;
                            24029 ; 15   |        LONG FileSize;
                            24030 ; 16   |    int  device;
                            24031 ; 17   |    INT startrecord;
                            24032 ; 18   |    _packed char name[MAX_FILESNAME];
                            24033 ; 19   |        LONG Key;
                            24034 ; 20   |}Finddata;
                            24035 ; 21   |#endif
                            24036 ; 22   |
                            24037 
                            24039 
                            24040 ; 4    |extern _reentrant LONG Ftell(INT HandleNumber);
                            24041 ; 5    |extern _reentrant LONG Feof(INT HandleNumber);
                            24042 ; 6    |extern _reentrant INT *Fputs(INT HandleNumber,INT *Buffer);
                            24043 ; 7    |extern _reentrant LONG Fread(INT HandleNumber,INT *Buffer,LONG NumBytesToRead,INT Source_M
                                  emory,INT MOdulo);
                            24044 ; 8    |extern _reentrant INT Fgetc(INT HandleNumber);
                            24045 ; 9    |extern _reentrant INT Fputc(INT HandleNumber,INT ByteToWrite);
                            24046 ; 10   |extern _reentrant LONG ReadDirectoryRecord(INT HandleNumber,INT RecordNumber,INT *Buffer);
                                  
                            24047 ; 11   |extern _reentrant INT Fseek(INT HandleNumber,LONG NumBytesToSeek,INT SeekPosition);
                            24048 ; 12   |extern _reentrant INT Fopen(_packed char *filepath,_packed char *mode);
                            24049 ; 13   |extern _reentrant LONG Fwrite(INT HandleNumber,INT  *Buffer,LONG NumBytesToWrite,INT Sourc
                                  e_Memory,INT MOdulo);
                            24050 ; 14   |extern _reentrant LONG Totalfreecluster(INT DeviceNum);
                            24051 ; 15   |extern _reentrant INT Rmdir(_packed char *filepath);
                            24052 ; 16   |extern _reentrant INT Rmdirw(_packed char *filepath);
                            24053 ; 17   |extern _reentrant INT Mkdir(_packed char *filepath);
                            24054 ; 18   |
                            24055 ; 19   |        //      SGTL-HK 27-05-2005
                            24056 ; 20   |extern _reentrant INT Mkdirw(UCS3 *filepath);
                            24057 ; 21   |
                            24058 ; 22   |extern _reentrant INT Chdir(_packed char *filepath);
                            24059 ; 23   |extern _reentrant INT FastOpen(LONG Key,_packed char *mode);
                            24060 ; 24   |
                            24061 ; 25   |extern _reentrant INT Setcwd(_packed char *filepath, _packed char *gCworkingDir,INT index,
                                  INT length);
                            24062 ; 26   |extern _reentrant _packed char *Getcwd(void);
                            24063 ; 27   |extern  _reentrant _packed char *Fgets(INT HandleNumber,INT NumBytesToRead, _packed char *
                                  Buffer);
                            24064 ; 28   |extern INT  FSInit(INT _X *bufx, INT _Y *bufy, INT maxdevices, INT maxhandles, INT maxcach
                                  es);
                            24065 ; 29   |extern INT  FlushCache(void);
                            24066 ; 30   |extern _reentrant INT FsShutDown(void);
                            24067 ; 31   |extern _reentrant LONG GetFileSize(INT HandleNumber);
                            24068 ; 32   |
                            24069 ; 33   |extern _reentrant INT filegetattrib(_packed char *FilePath);
                            24070 ; 34   |extern _reentrant INT Fopenw(INT *filepath,_packed char *mode);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 398

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24071 ; 35   |extern _reentrant INT Fremove(_packed char *filepath);
                            24072 ; 36   |extern _reentrant INT Fremovew(_packed char *filepath);
                            24073 ; 37   |extern _reentrant void DBCSToUnicode(_packed unsigned char *pDBCS, WORD *pUnicode,INT iLen
                                  gth);
                            24074 ; 38   |extern INT FlushCache(void);
                            24075 ; 39   |extern _reentrant INT DeleteTree(_packed char *Path);
                            24076 ; 40   |extern _reentrant INT Fclose(INT HandleNumber);
                            24077 ; 41   |extern INT FSMediaPresent(INT DeviceNum);
                            24078 ; 42   |extern INT FSFATType (INT DeviceNum);
                            24079 ; 43   |extern  INT _reentrant  GetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            24080 ; 44   |extern _reentrant INT SetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            24081 ; 45   |extern _reentrant LONG FgetFastHandle(INT HandleNumber);
                            24082 ; 46   |
                            24083 ; 47   |extern _reentrant INT ConstructLongFileName(INT HandleNumber, INT RecordNumber, INT *LFNBu
                                  ffer);
                            24084 ; 48   |extern _reentrant void Uppercase(_packed char *file); 
                            24085 ; 49   |extern _reentrant INT FindNext(INT HandleNumber,Finddata *_finddata);
                            24086 
                            24096 
                            24097 ; 50   |extern _reentrant INT FindFirst(Finddata *_finddata,_packed char *FileName);
                            24098 ; 51   |extern _reentrant void ClearData(Finddata *_finddata);
                            24099 ; 52   |extern _reentrant INT GetShortfilename(LONG Key,INT *Buffer);
                            24100 ; 53   |
                            24101 ; 54   |
                            24102 ; 55   |
                            24103 ; 56   |
                            24104 ; 57   |typedef struct
                            24105 ; 58   |{
                            24106 ; 59   |
                            24107 ; 60   |INT             Day;
                            24108 ; 61   |INT             Month;
                            24109 ; 62   |INT             Year;
                            24110 ; 63   |}DIR_DATE;
                            24111 ; 64   |
                            24112 ; 65   |
                            24113 ; 66   |typedef struct
                            24114 ; 67   |{
                            24115 ; 68   |
                            24116 ; 69   |INT             Second;
                            24117 ; 70   |INT             Minute;
                            24118 ; 71   |INT             Hour;
                            24119 ; 72   |}DIR_TIME;
                            24120 ; 73   |
                            24121 ; 74   |
                            24122 ; 75   |typedef struct
                            24123 ; 76   |{
                            24124 ; 77   |LONG CurrentOffset;     
                            24125 ; 78   |LONG CurrentCluster;
                            24126 ; 79   |}HANDLECONTEXT;
                            24127 ; 80   |
                            24128 ; 81   |extern _reentrant INT filesetattrib(INT HandleNumber,INT dirattribute);
                            24129 ; 82   |extern _reentrant INT filesetdate(_packed char *FilePath,INT crt_mod_date_time_para,DIR_DA
                                  TE *dirdate,DIR_TIME *dirtime);
                            24130 
                            24141 
                            24142 ; 83   |extern _reentrant INT filegetdate(INT HandleNumber,INT crt_mod_date_time_para,DIR_DATE *di
                                  rdate,DIR_TIME *dirtime);
                            24143 ; 84   |#endif
                            24144 
                            24146 
                            24147 ; 7    |////////////////////////////////////////////////////////////////////////////////
                            24148 ; 8    |//  Equates
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 399

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24149 ; 9    |////////////////////////////////////////////////////////////////////////////////
                            24150 ; 10   |//Traversal return types
                            24151 ; 11   |#define PLAYLIST_END_TRAVERSAL_SUCCESS  (PLAYLIST_LAST_RETCODE + 1)
                            24152 ; 12   |#define PLAYLIST_END_TRAVERSAL_FAILURE  (PLAYLIST_LAST_RETCODE + 2)
                            24153 ; 13   |#define PLAYLIST_FILE_LOCATE_SUCCESS    (PLAYLIST_LAST_RETCODE + 3)
                            24154 ; 14   |
                            24155 ; 15   |#define PLAYSET_MUSIC 0
                            24156 ; 16   |#define PLAYSET_VOICE 1
                            24157 ; 17   |#define PLAYSET_FOLDER_PLAY 2
                            24158 ; 18   |#define PLAYSET_FAVORITES 3
                            24159 ; 19   |
                            24160 ; 20   |#define PLAYLIST_REPEAT_OFF     0
                            24161 ; 21   |#define PLAYLIST_REPEAT_ALL     1
                            24162 ; 22   |#define PLAYLIST_REPEAT_ONE     2
                            24163 ; 23   |
                            24164 ; 24   |#define SELECT_TRACKS   0
                            24165 ; 25   |#define ORDER_TRACKS    1
                            24166 ; 26   |#define BUILD_FILE_LINKS        2
                            24167 ; 27   |#define RESTORE_BOOKMARK 3
                            24168 ; 28   |        //      SGTL-HK 28-10-2004
                            24169 ; 29   |#define BUILD_DIR_LINKS         4
                            24170 ; 30   |
                            24171 ; 31   |
                            24172 ; 32   |#define ATTR_UNACCEPTABLE  (ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID)
                            24173 ; 33   |
                            24174 ; 34   |#define DIR_SEPARATOR   0x00002f        // "\"
                            24175 ; 35   |#define ROOT_SEPARATOR  0x002f3A        // ":\" swizzled
                            24176 ; 36   |
                            24177 ; 37   |#define DEPTH_VOICE_DIR 1       //depth of voice directory
                            24178 ; 38   |
                            24179 ; 39   |#define TYPE_DIR 0
                            24180 ; 40   |#define TYPE_FILE 1
                            24181 ; 41   |
                            24182 ; 42   |#define IS_TRASH        0
                            24183 ; 43   |#define IS_VOICE_DIR 1
                            24184 ; 44   |#define IS_VALID_AUDIO 2
                            24185 ; 45   |#define IS_VOICE_FILE  3
                            24186 ; 46   |
                            24187 ; 47   |//List containing audio file extensions
                            24188 ; 48   |#define WMA_FILE_EXT     0x414D57
                            24189 ; 49   |#define MP3_FILE_EXT     0x33504d
                            24190 ; 50   |#define WAV_FILE_EXT     0x564157
                            24191 ; 51   |#define MP4_FILE_EXT     0x34504d
                            24192 ; 52   |#define M4A_FILE_EXT     0x41344d
                            24193 ; 53   |#define ASF_FILE_EXT     0x465341
                            24194 ; 54   |#define AUDIBLE_FILE_EXT         0x004141
                            24195 ; 55   |#define JPG_FILE_EXT     0x47504a
                            24196 ; 56   |#define BMP_FILE_EXT     0x504d42
                            24197 ; 57   |#define SMV_FILE_EXT     0x564d53
                            24198 ; 58   |
                            24199 ; 59   |#define VOICE_PATH_0    0x2f3a61        // a:/ in dyslexical order
                            24200 ; 60   |#define VOICE_PATH_1    0x494f56        // VOI in dyslexical order
                            24201 ; 61   |#define VOICE_PATH_2    0x2f4543        // CE/ in dyslexical order
                            24202 ; 62   |#define VOICE_PATH_3    0x000000        // terminating 0
                            24203 ; 63   |
                            24204 ; 64   |#define FM_PATH_0               0x2f3a61        // a:/ in dyslexical order
                            24205 ; 65   |#define FM_PATH_1               0x2f4d46        // FM/ in dyslexical order
                            24206 ; 66   |#define FM_PATH_2               0x000000        // terminating 0
                            24207 ; 67   |
                            24208 ; 68   |#define LINEIN_PATH_0   0x2f3a61        // a:/ in dyslexical order
                            24209 ; 69   |#define LINEIN_PATH_1   0x4e494c        // LIN in dyslexical order
                            24210 ; 70   |#define LINEIN_PATH_2   0x492d45        // E-I in dyslexical order
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 400

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24211 ; 71   |#define LINEIN_PATH_3   0x002f4e        // N/  in dyslexical order
                            24212 ; 72   |
                            24213 ; 73   |#define NAME_SFN        0
                            24214 ; 74   |#define NAME_LFN        1
                            24215 ; 75   |//Error code for unsupported file Names or Extensions
                            24216 ; 76   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            24217 ; 77   |
                            24218 ; 78   |#define FINDDATA_CACHE_SIZE   20
                            24219 ; 79   |
                            24220 ; 80   |// this number is used to skip mac resource fork files when loading the playlist
                            24221 ; 81   |// the resource SFN start with _ end with the same extension (i.e. mp3)
                            24222 ; 82   |// a SMALL sample of test files shows that the resource file is typically 82 bytes.
                            24223 ; 83   |#define MAC_RESOURCE_NUM_BYTES   512
                            24224 ; 84   |
                            24225 ; 85   |extern int g_iPlaylistRepeat;
                            24226 ; 86   |extern int g_bPlaylistShuffle;
                            24227 ; 87   |extern DWORD dStart, dEnd, dDiff;       //for timing measurements
                            24228 ; 88   |extern _packed BYTE DirPath[MAX_DIRNAME_LENGTH];
                            24229 ; 89   |extern BOOL g_Rebuild;
                            24230 ; 90   |extern RAM_SONG_INFO_T  song_info;
                            24231 ; 91   |extern INT  g_file_time;
                            24232 ; 92   |extern INT  g_unicode;
                            24233 ; 93   |extern DWORD    g_dwFastKey;
                            24234 ; 94   |extern INT  g_iRecordNum;
                            24235 ; 95   |extern DWORD    g_FileKey;
                            24236 ; 96   |extern DIR_DATE g_dirdate;
                            24237 ; 97   |extern DIR_TIME g_dirtime;
                            24238 ; 98   |extern INT  *pHighestNumber;
                            24239 ; 99   |extern INT  g_iHighestVoiceNumber;
                            24240 ; 100  |extern INT  g_iHighestFMNumber;
                            24241 ; 101  |extern INT  g_iHighestLineNumber;
                            24242 ; 102  |
                            24243 ; 103  |INT _reentrant Playlist_GetPlaySet(void);
                            24244 ; 104  |INT _reentrant Playlist_SetPlaySet(INT, INT, INT*);
                            24245 ; 105  |INT _reentrant Playlist_Initialize(INT, INT, INT*);
                            24246 ; 106  |INT _reentrant Playlist_BuildMusicLib(INT iIgnored1, INT iIgnored2, INT* pIgnored);
                            24247 ; 107  |_reentrant RETCODE Playlist_PopulateMusicLib(int iDevice, int iDepth, DWORD dwDirKey,INT R
                                  ecordNumber);
                            24248 ; 108  |_reentrant INT Playlist_SetPlaySet(INT , INT, INT*);
                            24249 ; 109  |void _reentrant Playlist_ResetPlayset(void);
                            24250 ; 110  |BOOL _reentrant Playlist_ValidateEntry(INT iEntryType,INT iReason, INT* pPtr);
                            24251 ; 111  |
                            24252 ; 112  |//////////////////////////////////////////////////////////////////////////////////////////
                                  /////////////////
                            24253 ; 113  |/////playlist3 helper functions
                            24254 ; 114  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////////
                            24255 ; 115  |BOOL _reentrant Playlist_IsValidAudioFile(LONG lFileSize, _packed BYTE* pFileName);
                            24256 ; 116  |_reentrant INT Playlist_GetFileExtention(INT iIgnored1, INT iIgnored2, INT* pPtr);
                            24257 ; 117  |_reentrant BOOL IsTrashDir(_packed BYTE* pszName);
                            24258 ; 118  |_reentrant DWORD Playlist_GenerateFastKey(INT iDevice,LONG DirSector,INT iDirOffset);
                            24259 ; 119  |_reentrant INT ExtractDirSector1(DWORD Key);
                            24260 ; 120  |_reentrant INT ExtractDirSector2(DWORD Key);
                            24261 ; 121  |_reentrant INT ExtractDirOffset(DWORD Key);
                            24262 ; 122  |_reentrant RETCODE Playlist_GetRootString(_packed BYTE* pBuffer, INT iDevice);
                            24263 ; 123  |_reentrant RETCODE Playlist_LocateFileEntryFromName(INT iUnused1, INT iUnused2, INT* pPtr)
                                  ;
                            24264 ; 124  |_reentrant INT Playlist_LocateDirEntryFromName(INT iUnused1, INT iUnused2, INT* pPtr);
                            24265 ; 125  |_reentrant BOOL IsVoiceDir(DirEntry _X* pDirEntry);
                            24266 ; 126  |_reentrant RETCODE Playlist_GetSFN(INT iEntryType , INT pEntry, INT* pName);
                            24267 ; 127  |_reentrant RETCODE Playlist_GetLFN(INT iEntryType , INT pEntry, INT* pName);
                            24268 ; 128  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 401

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24269 ; 129  |
                            24270 ; 130  |DWORD GetDclkCount(void);
                            24271 ; 131  |
                            24272 ; 132  |_reentrant INT CopyFindFirst(int mDirEntry, int mfinddata, int *mFileSpec);
                            24273 ; 133  |_reentrant INT CopyFindNext(INT HandleNumber,int mfinddata, int* ptr);
                            24274 ; 134  |
                            24275 ; 135  |_reentrant void BuildVoiceFilePath(void);
                            24276 ; 136  |_reentrant void BuildFMFilePath(void);
                            24277 ; 137  |_reentrant void BuildLINEINFilePath(void);
                            24278 ; 138  |_reentrant void GetVoiceFastKey(WORD wFastKeyBitField);
                            24279 ; 139  |_reentrant INT AddSongToLibrary(int a, int drive, void* b);
                            24280 ; 140  |#endif
                            24281 
                            24283 
                            24284 ; 42   |#include  "playlist3internal.h"
                            24285 
                            24287 
                            24288 ; 1    |#ifndef __PLAYLIST3INTERNAL_H
                            24289 ; 2    |#define __PLAYLIST3INTERNAL_H
                            24290 ; 3    |
                            24291 ; 4    |#include "project.h"
                            24292 ; 5    |
                            24293 ; 6    |#include "filesystem.h"
                            24294 ; 7    |#include "metadata.h"
                            24295 ; 8    |
                            24296 ; 9    |#define MAX_NUM_DIR 1           //max supported directories including all subdirectories
                            24297 ; 10   |#define MAX_NUM_FILES   1       //max supported files
                            24298 ; 11   |#define MAX_SORT_ENTRIES_PER_DIRECTORY  15
                            24299 ; 12   |
                            24300 ; 13   |#define MAX_RECORDS_PER_DIRECTORY   4096        //calculated from the bits in the m_iRecor
                                  dNum field in the following data structures.
                            24301 ; 14   |                                                                                        //
                                  An entry can have multiple records in the FAT for LFNs.
                            24302 ; 15   |                                                                                        //
                                  Records more than this number will not be included in the playlist content
                            24303 ; 16   |
                            24304 ; 17   |#define SFN_LENGTH      13      //8.3\ + NULL
                            24305 ; 18   |
                            24306 ; 19   |#define  _MAX_DIR_DEPTH 8
                            24307 ; 20   |#define  MAX_DIRNAME_LENGTH ((SFN_LENGTH*_MAX_DIR_DEPTH)+1)
                            24308 ; 21   |
                            24309 ; 22   |struct Bookmark{
                            24310 ; 23   |        INT       m_iTracknum;
                            24311 ; 24   |        DWORD m_dwTrackPosBytes;
                            24312 ; 25   |}; //this will save the num and position of the song selected for bookmark
                            24313 ; 26   |
                            24314 ; 27   |
                            24315 ; 28   |typedef struct{
                            24316 ; 29   |    unsigned int    m_pNext:16;                 //points to the next inline DirEntry. 
                            24317 ; 30   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            24318 ; 31   |    unsigned int    m_iDevice:1;
                            24319 ; 32   |        unsigned int    m_bIsRoot:1;    //1=ROOT directory, 0= Any directory except ROOT.
                            24320 ; 33   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //
                            24321 ; 34   |    unsigned int    m_pDirContents:16;  //points to the first content which is a dir.
                            24322 ; 35   |//////////////////////////////////////////////////////////////////////////////////////////
                                  /
                            24323 ; 36   |        unsigned int    m_pFileContents:16; //pointer in FileEntryPool where the file cont
                                  ents for this directory begin.
                            24324 ; 37   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //
                            24325 ; 38   |        unsigned int    m_iDirSector1:21;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 402

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24326 ; 39   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //
                            24327 ; 40   |        unsigned int    m_iDirOffset:12;
                            24328 ; 41   |        unsigned int    m_iRecordNum:12;        //record number of the directory record (L
                                  FN use).
                            24329 ; 42   |
                            24330 ; 43   |        unsigned int    m_iDirSector2:11;
                            24331 ; 44   |        //!! The above are implicitly used as a struct*. Using INT bitfields to save memor
                                  y !!!
                            24332 ; 45   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //      
                            24333 ; 46   |#ifdef DEBUG_SFN
                            24334 ; 47   |        _packed BYTE name[SFN_LENGTH];
                            24335 ; 48   |#endif
                            24336 ; 49   |}DirEntry;
                            24337 ; 50   |
                            24338 ; 51   |typedef struct{
                            24339 ; 52   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            24340 ; 53   |        unsigned int    m_bCurrentPlayset:1;    //1=Belongs to the current playset.
                            24341 ; 54   |        unsigned int    m_bTrackPlayed:1;               //Indicates if the track was playe
                                  d atleast once. Currently not used.
                            24342 ; 55   |        unsigned int    m_iDirSector1:21;
                            24343 ; 56   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            24344 ; 57   |        unsigned int    m_iTrackOrder:10;               //Order of this track in the curre
                                  nt playset.
                            24345 ; 58   |        unsigned int    m_iDirOffset:12;
                            24346 ; 59   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            24347 ; 60   |        unsigned int    m_iDevice:1;
                            24348 ; 61   |        unsigned int    m_iRecordNum:12;        //Record number of the file record (LFN us
                                  e).
                            24349 ; 62   |        unsigned int    m_iDirSector2:11;
                            24350 ; 63   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            24351 ; 64   |        unsigned int    m_pNext:16;             // //points to the next inline file.
                            24352 ; 65   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            24353 ; 66   |#ifdef DEBUG_SFN
                            24354 ; 67   |        _packed BYTE name[SFN_LENGTH];
                            24355 ; 68   |#endif
                            24356 ; 69   |}FileEntry;
                            24357 ; 70   |
                            24358 ; 71   |typedef struct{
                            24359 ; 72   |        DirEntry _X* pDirEntry; //Start traversing from this directory entry
                            24360 ; 73   |        unsigned int    iReason;
                            24361 ; 74   |        unsigned int iDevice;
                            24362 ; 75   |        unsigned int iPlayset;
                            24363 ; 76   |        unsigned int iDepth;
                            24364 ; 77   |        unsigned int iTrackOrder;
                            24365 ; 78   |        unsigned int iTrackNum;
                            24366 ; 79   |        FileEntry* pFileEntry;
                            24367 ; 80   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];  //maintains a dynamic list of directory li
                                  nks within the recursion
                            24368 ; 81   |        unsigned int    iTotalLinks;
                            24369 ; 82   |}TraverseTreeParams;
                            24370 ; 83   |
                            24371 ; 84   |typedef struct{
                            24372 ; 85   |        unsigned int EntryType;                         //TYPE_DIR or TYPE_FILE
                            24373 ; 86   |        FileEntry* pFileEntry;          //used if TYPE_FILE
                            24374 ; 87   |        DirEntry _X* pDirEntry;                 //used if TYPE_DIR
                            24375 ; 88   |        unsigned int iTrackNum;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 403

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24376 ; 89   |        unsigned int iTrackOrder;
                            24377 ; 90   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];
                            24378 ; 91   |        unsigned int iTotalLinks;
                            24379 ; 92   |}EntryAccessInfo;
                            24380 ; 93   |
                            24381 ; 94   |typedef struct{
                            24382 ; 95   |        void* pEntry;
                            24383 ; 96   |        _packed BYTE name[SFN_LENGTH];
                            24384 ; 97   |}SFNStorage;
                            24385 ; 98   |
                            24386 ; 99   |extern DirEntry _X g_DirEntryPerDevice[];               //ROOT(s)
                            24387 ; 100  |extern DirEntry _X g_DirEntryPool[];            //Pool of directory entries, Does not cont
                                  ain files.
                            24388 ; 101  |extern FileEntry g_FileEntryPool[];
                            24389 ; 102  |extern EntryAccessInfo g_CurrentTrack;
                            24390 ; 103  |extern int g_iPlaylistRepeat;
                            24391 ; 104  |extern int g_bPlaylistShuffle;
                            24392 ; 105  |extern SFNStorage g_TempSFNSpace[];
                            24393 ; 106  |extern int g_iTotalTracks;
                            24394 ; 107  |
                            24395 ; 108  |extern int g_iPlaySet;
                            24396 ; 109  |
                            24397 ; 110  |extern struct Bookmark g_MarkerMusic, g_MarkerVoice;
                            24398 ; 111  |extern int g_iTotalDir;
                            24399 ; 112  |extern int g_iTotalFiles;
                            24400 ; 113  |
                            24401 ; 114  |void _reentrant ML_building_engine_init_playlist3(void);
                            24402 ; 115  |void _reentrant ML_voice_build_engine_init_playlist3(void);
                            24403 ; 116  |void _reentrant ML_merging_engine_init_playlist3(void);
                            24404 ; 117  |_reentrant void Rebuild_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                            24405 ; 118  |_reentrant void Rebuild_GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FI
                                  LE_META_DATA *MetaData);
                            24406 ; 119  |_reentrant RETCODE AddDirToLibrary(INT iDrive, INT iDirDepth);
                            24407 ; 120  |RETCODE _reentrant ML_GetLFN(DWORD dwFastKey, INT iRecordNum, UCS3 *pBuf);
                            24408 ; 121  |
                            24409 ; 122  |#endif
                            24410 
                            24412 
                            24413 ; 43   |#include  "musiclib_ghdr.h"
                            24414 
                            24416 
                            24417 ; 1    |#ifndef MUSICLIB_GHDR_H
                            24418 ; 2    |#define MUSICLIB_GHDR_H
                            24419 ; 3    |
                            24420 ; 4    |#ifdef __cplusplus
                            24421 ; 5    |extern "C" {
                            24422 ; 6    |#endif
                            24423 ; 7    |
                            24424 ; 8    |/*========================================================================================
                                  ==========
                            24425 ; 9    |
                            24426 ; 10   |                                        General Description
                            24427 ; 11   |
                            24428 ; 12   |==========================================================================================
                                  ==========
                            24429 ; 13   |
                            24430 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            24431 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            24432 ; 16   |
                            24433 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            24434 ; 18   |
                            24435 ; 19   |PRODUCT NAMES: All
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 404

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24436 ; 20   |
                            24437 ; 21   |GENERAL DESCRIPTION:
                            24438 ; 22   |
                            24439 ; 23   |    General description of this grouping of functions.
                            24440 ; 24   |
                            24441 ; 25   |Portability: All
                            24442 ; 26   |
                            24443 ; 27   |
                            24444 ; 28   |Revision History:
                            24445 ; 29   |
                            24446 ; 30   |                         Modification        Tracking
                            24447 ; 31   |Author                       Date             Number           Description of Changes
                            24448 ; 32   |---------------------    ------------        ----------        ---------------------------
                                  ----------
                            24449 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of change
                                  s made
                            24450 ; 34   |
                            24451 ; 35   |
                            24452 ; 36   |==========================================================================================
                                  ==========
                            24453 ; 37   |                                            DESCRIPTION
                            24454 ; 38   |==========================================================================================
                                  ==========
                            24455 ; 39   |
                            24456 ; 40   |GLOBAL FUNCTIONS:
                            24457 ; 41   |    MF_global_func_name()
                            24458 ; 42   |
                            24459 ; 43   |TRACEABILITY MATRIX:
                            24460 ; 44   |    None
                            24461 ; 45   |
                            24462 ; 46   |==========================================================================================
                                  ========*/
                            24463 ; 47   |
                            24464 ; 48   |/*========================================================================================
                                  ==========
                            24465 ; 49   |                                                                Conditional Compilation Di
                                  rectives
                            24466 ; 50   |==========================================================================================
                                  ========*/
                            24467 ; 51   |#ifdef WIN32
                            24468 ; 52   |#define _PC_SIMULATION_
                            24469 ; 53   |#else
                            24470 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            24471 ; 55   |#endif  // WIN32
                            24472 ; 56   |
                            24473 ; 57   |#if 1
                            24474 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            24475 ; 59   |#endif
                            24476 ; 60   |
                            24477 ; 61   |#if 1
                            24478 ; 62   |#define _AUDIBLE_       /* install audible list */
                            24479 ; 63   |#endif
                            24480 ; 64   |
                            24481 ; 65   |#if 1
                            24482 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            24483 ; 67   |#endif
                            24484 ; 68   |
                            24485 ; 69   |#ifdef PL3_FB
                            24486 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            24487 ; 71   |#endif
                            24488 ; 72   |
                            24489 ; 73   |#if 1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 405

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24490 ; 74   |#define _SUPPORT_2000_SONGS_
                            24491 ; 75   |#endif
                            24492 ; 76   |
                            24493 ; 77   |/*========================================================================================
                                  ==========
                            24494 ; 78   |                                           INCLUDE FILES
                            24495 ; 79   |==========================================================================================
                                  ========*/
                            24496 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            24497 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            24498 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            24499 ; 83   |#define OEM_SEEK_END    SEEK_END
                            24500 ; 84   |#else
                            24501 ; 85   |#define _X
                            24502 ; 86   |#define _Y
                            24503 ; 87   |#define _packed
                            24504 ; 88   |
                            24505 ; 89   |#define _asmfunc
                            24506 ; 90   |#define _reentrant
                            24507 ; 91   |
                            24508 ; 92   |#define OEM_SEEK_CUR    1
                            24509 ; 93   |#define OEM_SEEK_SET    0
                            24510 ; 94   |#define OEM_SEEK_END    2
                            24511 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            24512 ; 96   |
                            24513 ; 97   |#include "types.h"
                            24514 ; 98   |#include "exec.h"
                            24515 ; 99   |#include "messages.h"
                            24516 ; 100  |#include "project.h"
                            24517 ; 101  |
                            24518 ; 102  |/*========================================================================================
                                  ==========
                            24519 ; 103  |                                             CONSTANTS
                            24520 ; 104  |==========================================================================================
                                  ========*/
                            24521 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            24522 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            24523 ; 107  |Artistname                              1:0
                            24524 ; 108  |Albumname                               3:2
                            24525 ; 109  |Genrename                               5:4
                            24526 ; 110  |Songname                                7:6
                            24527 ; 111  |----------------------------------------------------------
                            24528 ; 112  |    Value (2 bits)                      Meanings
                            24529 ; 113  |    0                                   RAW and All ASCII
                            24530 ; 114  |    1                                   Uni-code
                            24531 ; 115  |    2                                   Mixed, non-unicode
                            24532 ; 116  |
                            24533 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            24534 ; 118  |*/
                            24535 ; 119  |#define BITMASK_ARTIST  (0x03)
                            24536 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            24537 ; 121  |#define BITMASK_GENRE   (0x30)
                            24538 ; 122  |#define BITMASK_SONG    (0xC0)
                            24539 ; 123  |
                            24540 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            24541 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            24542 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            24543 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            24544 ; 128  |
                            24545 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            24546 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            24547 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 406

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24548 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            24549 ; 133  |
                            24550 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            24551 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            24552 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            24553 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            24554 ; 138  |
                            24555 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            24556 ; 140  |
                            24557 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            24558 ; 142  |
                            24559 ; 143  |#define INDEX_EOF       0xFFF
                            24560 ; 144  |#ifdef _FOLDER_BROWSE_
                            24561 ; 145  |#define INDEX_ROOT  0xffe
                            24562 ; 146  |#define UNKNOWN_RECORD  0xfff
                            24563 ; 147  |#endif  // _FOLDER_BROWSE_
                            24564 ; 148  |
                            24565 ; 149  |/* Constant for item_type */
                            24566 ; 150  |#define         ITEM_ARTIST                     0
                            24567 ; 151  |#define         ITEM_ALBUM                      1
                            24568 ; 152  |#define         ITEM_GENRE                      2
                            24569 ; 153  |#define         ITEM_TRACK                      3
                            24570 ; 154  |#define         ITEM_YEAR                       4
                            24571 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            24572 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            24573 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            24574 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            24575 ; 159  |#ifdef _NEWMUSIC_
                            24576 ; 160  |#define         ITEM_1DAY                       10
                            24577 ; 161  |#define         ITEM_1WEEK                      11
                            24578 ; 162  |#define         ITEM_1MONTH                     12
                            24579 ; 163  |#endif
                            24580 ; 164  |#ifdef _AUDIBLE_
                            24581 ; 165  |#define         ITEM_AUDIBLE            13
                            24582 ; 166  |#endif
                            24583 ; 167  |#define         ITEM_ON_THE_GO          14
                            24584 ; 168  |
                            24585 ; 169  |#define         ITEM_VOICE                      15
                            24586 ; 170  |#define         ITEM_FMREC                      16
                            24587 ; 171  |#define         ITEM_PHOTO                      17
                            24588 ; 172  |#ifdef _FOLDER_BROWSE_
                            24589 ; 173  |#define         ITEM_INTERNAL           18
                            24590 ; 174  |#define         ITEM_EXTERNAL       19
                            24591 ; 175  |#endif  // _FOLDER_BROWSE_
                            24592 ; 176  |#define     ITEM_UNKNOWN        0xff
                            24593 ; 177  |
                            24594 ; 178  |/*
                            24595 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_inf
                                  o, int16 option);
                            24596 ; 180  |option input.
                            24597 ; 181  |*/
                            24598 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            24599 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            24600 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            24601 ; 185  |#ifdef _FOLDER_BROWSE_
                            24602 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            24603 ; 187  |#endif  // _FOLDER_BROWSE_
                            24604 ; 188  |
                            24605 ; 189  |/* Constant for key action */
                            24606 ; 190  |#define         ACTION_OK                               0               /* Press OK button
                                   */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 407

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24607 ; 191  |#define         ACTION_BACK                             1               /* Press BACK butt
                                  on */
                            24608 ; 192  |#define         ACTION_UP                               2               /* Press UP button
                                   */
                            24609 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN butt
                                  on */
                            24610 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            24611 ; 195  |#define         ACTION_MENU                             5               /* Back the browsi
                                  ng tree to root */
                            24612 ; 196  |
                            24613 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            24614 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            24615 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            24616 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            24617 ; 201  |
                            24618 ; 202  |#define         NO_SD                                   0
                            24619 ; 203  |#define         HAS_SD                                  1
                            24620 ; 204  |
                            24621 ; 205  |#define         PLAY_NORMAL                             0
                            24622 ; 206  |#define         PLAY_SHUFFLE                    1
                            24623 ; 207  |
                            24624 ; 208  |#define     PLAY_REPEAT_OFF         0
                            24625 ; 209  |#define     PLAY_REPEAT_ON          1
                            24626 ; 210  |
                            24627 ; 211  |#define     PLAY_SELECT_FLASH       0
                            24628 ; 212  |#define     PLAY_SELECT_SD          1
                            24629 ; 213  |
                            24630 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            24631 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            24632 ; 216  |
                            24633 ; 217  |#define         ON_THE_GO_EXIST                 0
                            24634 ; 218  |#define         ON_THE_GO_FULL                  1
                            24635 ; 219  |#define         ON_THE_GO_FREE                  2
                            24636 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            24637 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            24638 ; 222  |
                            24639 ; 223  |#define         REC_VOICE_TYPE                  0
                            24640 ; 224  |#define         REC_FMREC_TYPE                  1
                            24641 ; 225  |#define         REC_PHOTO_TYPE                  2
                            24642 ; 226  |#define         VOICE_FILE_ADD                  0
                            24643 ; 227  |#define         VOICE_FILE_DEL                  1
                            24644 ; 228  |
                            24645 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            24646 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            24647 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            24648 ; 232  |flash or external SD card */
                            24649 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            24650 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            24651 ; 235  |#else
                            24652 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            24653 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            24654 ; 238  |
                            24655 ; 239  |/* number of byte in one DSP word */
                            24656 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            24657 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            24658 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            24659 ; 243  |are 10 level directory structure */
                            24660 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            24661 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            24662 ; 246  |
                            24663 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            24664 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 408

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24665 ; 249  |/* number of songs in each new music list */
                            24666 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            24667 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            24668 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            24669 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            24670 ; 254  |/* number of songs in the on-the-fly list */
                            24671 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            24672 ; 256  |/* number of files audible list */
                            24673 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            24674 ; 258  |
                            24675 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            24676 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            24677 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            24678 ; 262  |
                            24679 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            24680 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            24681 ; 265  |#ifdef _FOLDER_BROWSE_
                            24682 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            24683 ; 267  |#else
                            24684 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            24685 ; 269  |#endif  // _FOLDER_BROWSE_
                            24686 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            24687 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            24688 ; 272  |
                            24689 ; 273  |#ifndef _MAX_DIR_DEPTH
                            24690 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            24691 ; 275  |#endif  // _MAX_DIR_DEPTH
                            24692 ; 276  |
                            24693 ; 277  |/*========================================================================================
                                  ==========*/
                            24694 ; 278  |
                            24695 ; 279  |
                            24696 ; 280  |/*========================================================================================
                                  ==========
                            24697 ; 281  |                                               MACROS
                            24698 ; 282  |==========================================================================================
                                  ========*/
                            24699 ; 283  |
                            24700 ; 284  |/*========================================================================================
                                  ==========
                            24701 ; 285  |                                               ENUMS
                            24702 ; 286  |==========================================================================================
                                  ========*/
                            24703 ; 287  |#define NUM_OF_MEDIA                            (2)
                            24704 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            24705 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            24706 ; 290  |/*========================================================================================
                                  ==========
                            24707 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            24708 ; 292  |==========================================================================================
                                  ========*/
                            24709 ; 293  |
                            24710 ; 294  |typedef char    int8;
                            24711 ; 295  |typedef short   int16;
                            24712 ; 296  |typedef int     int24;
                            24713 ; 297  |typedef long    int32;
                            24714 ; 298  |
                            24715 ; 299  |typedef int     intx;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 409

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24716 ; 300  |
                            24717 ; 301  |typedef unsigned char   uint8;
                            24718 ; 302  |typedef unsigned short  uint16;
                            24719 ; 303  |typedef unsigned int    uint24;
                            24720 ; 304  |typedef unsigned long   uint32;
                            24721 ; 305  |
                            24722 ; 306  |/*
                            24723 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode form
                                  at.
                            24724 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            24725 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            24726 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            24727 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            24728 ; 312  |*/
                            24729 ; 313  |/*
                            24730 ; 314  |path_name[] _must_have_data_:
                            24731 ; 315  |path_name[] = (Max. 120 Characters);
                            24732 ; 316  |year range:
                            24733 ; 317  |year = 0x000000-0xFFFFFF;
                            24734 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            24735 ; 319  |Unknown track number:
                            24736 ; 320  |track_number = 0x7FFFFF;
                            24737 ; 321  |unicode refer to above #define BITMASK_*
                            24738 ; 322  |*/
                            24739 ; 323  |/*
                            24740 ; 324  |Interface of UI and Music Library
                            24741 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            24742 ; 326  |
                            24743 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            24744 ; 328  |
                            24745 ; 329  |3) UI to Music Library variable passing length definition:
                            24746 ; 330  |        All ASCII Characters:
                            24747 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            24748 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            24749 ; 333  |        Unicode Characters:
                            24750 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            24751 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            24752 ; 336  |
                            24753 ; 337  |4) UI input data to Music Library in two formats.
                            24754 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            24755 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            24756 ; 340  |
                            24757 ; 341  |5) UI calling function:
                            24758 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            24759 ; 343  |        int16 option definition:
                            24760 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            24761 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            24762 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            24763 ; 347  |
                            24764 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            24765 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_l
                                  ist separately.
                            24766 ; 350  |
                            24767 ; 351  |6) Modification Date:
                            24768 ; 352  |        uint24 g_file_time:
                            24769 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            24770 ; 354  |*/
                            24771 ; 355  |
                            24772 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            24773 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            24774 ; 358  |typedef struct _ram_song_info {
                            24775 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 410

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24776 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            24777 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            24778 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            24779 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            24780 ; 364  |    uint32 g_songFastKey;
                            24781 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            24782 ; 366  |        uint24 year;
                            24783 ; 367  |        uint24 track_number;
                            24784 ; 368  |        uint8 unicode;
                            24785 ; 369  |} RAM_SONG_INFO_T;
                            24786 ; 370  |
                            24787 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            24788 ; 372  |typedef struct _flash_group_name {
                            24789 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            24790 ; 374  |        uint8 unicode;
                            24791 ; 375  |} FLASH_GROUP_NAME_T;
                            24792 ; 376  |
                            24793 ; 377  |// struct to store directories information passed from UI
                            24794 ; 378  |#ifdef _FOLDER_BROWSE_
                            24795 ; 379  |typedef struct _ml_DirInfo {
                            24796 ; 380  |        uint24  u8Unicode : 8;
                            24797 ; 381  |        uint24  u12DirDepth : 12;
                            24798 ; 382  |        uint24  u4Added : 4;            
                            24799 ; 383  |        INT     iDirRecord;
                            24800 ; 384  |        DWORD   dwFastKey;
                            24801 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            24802 ; 386  |} ML_DIRINFO_T;
                            24803 ; 387  |#endif  // _FOLDER_BROWSE_
                            24804 ; 388  |
                            24805 ; 389  |/*========================================================================================
                                  ==========
                            24806 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            24807 ; 391  |==========================================================================================
                                  ========*/
                            24808 ; 392  |extern uint24   IsPlayOnTheGo;
                            24809 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            24810 ; 394  |extern uint24   merge_id_list_flash[];
                            24811 ; 395  |extern uint24   merge_id_list_sd[];
                            24812 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            24813 ; 397  |#ifdef _FOLDER_BROWSE_
                            24814 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            24815 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            24816 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            24817 ; 401  |#endif  // _FOLDER_BROWSE_
                            24818 ; 402  |extern INT _X    *sec_temp_buf_X;
                            24819 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 =
                                   repeat on/off(0=off/1=on) */
                            24820 ; 404  |
                            24821 ; 405  |/*========================================================================================
                                  ==========
                            24822 ; 406  |                                        FUNCTION PROTOTYPES
                            24823 ; 407  |==========================================================================================
                                  ========*/
                            24824 ; 408  |
                            24825 ; 409  |///////////////////////////////////////////////////////////////////////
                            24826 ; 410  |//! \brief
                            24827 ; 411  |//!
                            24828 ; 412  |//! \fntype Function
                            24829 ; 413  |//!
                            24830 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            24831 ; 415  |//! Call only once before inserting items. Call once for each media.
                            24832 ; 416  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 411

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24833 ; 417  |//! \param[in]  none
                            24834 ; 418  |//!
                            24835 ; 419  |//! \return
                            24836 ; 420  |//!
                            24837 ; 421  |///////////////////////////////////////////////////////////////////////
                            24838 ; 422  |void ML_InitLibraryParameter(void);
                            24839 ; 423  |
                            24840 ; 424  |///////////////////////////////////////////////////////////////////////
                            24841 ; 425  |//! \brief
                            24842 ; 426  |//!
                            24843 ; 427  |//! \fntype Function
                            24844 ; 428  |//!
                            24845 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            24846 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            24847 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each son
                                  g,
                            24848 ; 432  |//! the song information is recorded in music library.
                            24849 ; 433  |//!
                            24850 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            24851 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passe
                                  d from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            24852 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav f
                                  ormat file.
                            24853 ; 437  |//!
                            24854 ; 438  |//! \return
                            24855 ; 439  |//!
                            24856 ; 440  |///////////////////////////////////////////////////////////////////////
                            24857 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            24858 ; 442  |
                            24859 ; 443  |///////////////////////////////////////////////////////////////////////
                            24860 ; 444  |//! \brief
                            24861 ; 445  |//!
                            24862 ; 446  |//! \fntype Function
                            24863 ; 447  |//!
                            24864 ; 448  |//! \param[in]
                            24865 ; 449  |//!
                            24866 ; 450  |//! \return
                            24867 ; 451  |//!
                            24868 ; 452  |///////////////////////////////////////////////////////////////////////
                            24869 ; 453  |#ifdef _FOLDER_BROWSE_
                            24870 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int1
                                  6 i16Option);
                            24871 ; 455  |#endif  // _FOLDER_BROWSE_
                            24872 ; 456  |
                            24873 ; 457  |///////////////////////////////////////////////////////////////////////
                            24874 ; 458  |//! \brief
                            24875 ; 459  |//!
                            24876 ; 460  |//! \fntype Function
                            24877 ; 461  |//!
                            24878 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            24879 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            24880 ; 464  |//! music library for that particular media.
                            24881 ; 465  |//!
                            24882 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            24883 ; 467  |//!
                            24884 ; 468  |//! \return
                            24885 ; 469  |//!
                            24886 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            24887 ; 471  |//!         function.
                            24888 ; 472  |///////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 412

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24889 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            24890 ; 474  |
                            24891 ; 475  |///////////////////////////////////////////////////////////////////////
                            24892 ; 476  |//! \brief
                            24893 ; 477  |//!
                            24894 ; 478  |//! \fntype Function
                            24895 ; 479  |//!
                            24896 ; 480  |//! \param[in]
                            24897 ; 481  |//!
                            24898 ; 482  |//! \return
                            24899 ; 483  |//!
                            24900 ; 484  |///////////////////////////////////////////////////////////////////////
                            24901 ; 485  |#ifdef _NEWMUSIC_
                            24902 ; 486  |void ML_UpdateNewMusic(void);
                            24903 ; 487  |#endif
                            24904 ; 488  |
                            24905 ; 489  |///////////////////////////////////////////////////////////////////////
                            24906 ; 490  |//! \brief
                            24907 ; 491  |//!
                            24908 ; 492  |//! \fntype Function
                            24909 ; 493  |//!
                            24910 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            24911 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            24912 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            24913 ; 497  |//!
                            24914 ; 498  |//! \param[in]  none
                            24915 ; 499  |//!
                            24916 ; 500  |//! \return
                            24917 ; 501  |//!
                            24918 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            24919 ; 503  |//!         must be called before calling any other music library functions.
                            24920 ; 504  |///////////////////////////////////////////////////////////////////////
                            24921 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            24922 ; 506  |
                            24923 ; 507  |///////////////////////////////////////////////////////////////////////
                            24924 ; 508  |//! \brief
                            24925 ; 509  |//!
                            24926 ; 510  |//! \fntype Function
                            24927 ; 511  |//!
                            24928 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            24929 ; 513  |//! library operation.
                            24930 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            24931 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file
                                   and the
                            24932 ; 516  |//! music.sec file do not exist.
                            24933 ; 517  |//!
                            24934 ; 518  |//! \param[in]  none
                            24935 ; 519  |//!
                            24936 ; 520  |//! \return
                            24937 ; 521  |//!
                            24938 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            24939 ; 523  |//!         must be called before calling any other music library functions.
                            24940 ; 524  |///////////////////////////////////////////////////////////////////////
                            24941 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            24942 ; 526  |
                            24943 ; 527  |///////////////////////////////////////////////////////////////////////
                            24944 ; 528  |//! \brief
                            24945 ; 529  |//!
                            24946 ; 530  |//! \fntype Function
                            24947 ; 531  |//!
                            24948 ; 532  |//! Preload the list, prepare for renew.
                            24949 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 413

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24950 ; 534  |//! structure in RAM.
                            24951 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            24952 ; 536  |//! in RAM.
                            24953 ; 537  |//!
                            24954 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            24955 ; 539  |//!
                            24956 ; 540  |//! \return
                            24957 ; 541  |//!
                            24958 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            24959 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            24960 ; 544  |///////////////////////////////////////////////////////////////////////
                            24961 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            24962 ; 546  |
                            24963 ; 547  |///////////////////////////////////////////////////////////////////////
                            24964 ; 548  |//! \brief
                            24965 ; 549  |//!
                            24966 ; 550  |//! \fntype Function
                            24967 ; 551  |//!
                            24968 ; 552  |//! Save the list to flash memory.
                            24969 ; 553  |//!
                            24970 ; 554  |//! \param[in]
                            24971 ; 555  |//!
                            24972 ; 556  |//! \return
                            24973 ; 557  |//!
                            24974 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            24975 ; 559  |//!         changed by the user.
                            24976 ; 560  |///////////////////////////////////////////////////////////////////////
                            24977 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            24978 ; 562  |
                            24979 ; 563  |///////////////////////////////////////////////////////////////////////
                            24980 ; 564  |//! \brief
                            24981 ; 565  |//!
                            24982 ; 566  |//! \fntype Function
                            24983 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            24984 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in
                                   the
                            24985 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the l
                                  ist.
                            24986 ; 570  |//! Otherwise the song is deleted.
                            24987 ; 571  |//!
                            24988 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            24989 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            24990 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            24991 ; 575  |//!
                            24992 ; 576  |//! \return
                            24993 ; 577  |//!
                            24994 ; 578  |///////////////////////////////////////////////////////////////////////
                            24995 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            24996 ; 580  |
                            24997 ; 581  |///////////////////////////////////////////////////////////////////////
                            24998 ; 582  |//! \brief
                            24999 ; 583  |//!
                            25000 ; 584  |//! \fntype Function
                            25001 ; 585  |//!
                            25002 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            25003 ; 587  |//! in the ML_UpdateOnTheGo().
                            25004 ; 588  |//!
                            25005 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            25006 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDE
                                  X_EOF (song will be deleted)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 414

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25007 ; 591  |//!
                            25008 ; 592  |//! \return
                            25009 ; 593  |//!
                            25010 ; 594  |///////////////////////////////////////////////////////////////////////
                            25011 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            25012 ; 596  |
                            25013 ; 597  |///////////////////////////////////////////////////////////////////////
                            25014 ; 598  |//! \brief
                            25015 ; 599  |//!
                            25016 ; 600  |//! \fntype Function
                            25017 ; 601  |//!
                            25018 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            25019 ; 603  |//!
                            25020 ; 604  |//! \param[in]  none
                            25021 ; 605  |//!
                            25022 ; 606  |//! \return
                            25023 ; 607  |//!
                            25024 ; 608  |///////////////////////////////////////////////////////////////////////
                            25025 ; 609  |void ML_UpdateOnTheGo(void);
                            25026 ; 610  |
                            25027 ; 611  |///////////////////////////////////////////////////////////////////////
                            25028 ; 612  |//! \brief
                            25029 ; 613  |//!
                            25030 ; 614  |//! \fntype Function
                            25031 ; 615  |//!
                            25032 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            25033 ; 617  |//! Call only once before inserting items. Call once for each media.
                            25034 ; 618  |//!
                            25035 ; 619  |//! \param[in]  none
                            25036 ; 620  |//!
                            25037 ; 621  |//! \return
                            25038 ; 622  |//!
                            25039 ; 623  |///////////////////////////////////////////////////////////////////////
                            25040 ; 624  |void ML_InitVoiceParameter(void);
                            25041 ; 625  |
                            25042 ; 626  |///////////////////////////////////////////////////////////////////////
                            25043 ; 627  |//! \brief
                            25044 ; 628  |//!
                            25045 ; 629  |//! \fntype Function
                            25046 ; 630  |//!
                            25047 ; 631  |//! \param[in]
                            25048 ; 632  |//!
                            25049 ; 633  |//! \return
                            25050 ; 634  |//!
                            25051 ; 635  |///////////////////////////////////////////////////////////////////////
                            25052 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            25053 ; 637  |
                            25054 ; 638  |///////////////////////////////////////////////////////////////////////
                            25055 ; 639  |//! \brief
                            25056 ; 640  |//!
                            25057 ; 641  |//! \fntype Function
                            25058 ; 642  |//!
                            25059 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            25060 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names
                                  .
                            25061 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            25062 ; 646  |//!
                            25063 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            25064 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed f
                                  rom UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            25065 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            25066 ; 650  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 415

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25067 ; 651  |//! \return
                            25068 ; 652  |//!
                            25069 ; 653  |///////////////////////////////////////////////////////////////////////
                            25070 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            25071 ; 655  |
                            25072 ; 656  |///////////////////////////////////////////////////////////////////////
                            25073 ; 657  |//! \brief
                            25074 ; 658  |//!
                            25075 ; 659  |//! \fntype Function
                            25076 ; 660  |//!
                            25077 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            25078 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice buildi
                                  ng
                            25079 ; 663  |//! of music library for that particular media.
                            25080 ; 664  |//!
                            25081 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            25082 ; 666  |//!
                            25083 ; 667  |//! \return
                            25084 ; 668  |//!
                            25085 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            25086 ; 670  |//!         function.
                            25087 ; 671  |///////////////////////////////////////////////////////////////////////
                            25088 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            25089 ; 673  |
                            25090 ; 674  |///////////////////////////////////////////////////////////////////////
                            25091 ; 675  |//! \brief
                            25092 ; 676  |//!
                            25093 ; 677  |//! \fntype Function
                            25094 ; 678  |//!
                            25095 ; 679  |//! Called by UI, the merge the music library tables album,
                            25096 ; 680  |//! artist, genre, song and year.
                            25097 ; 681  |//!
                            25098 ; 682  |//! \param[in]  none
                            25099 ; 683  |//!
                            25100 ; 684  |//! \return
                            25101 ; 685  |//!
                            25102 ; 686  |///////////////////////////////////////////////////////////////////////
                            25103 ; 687  |void ML_MergeLibraryTables(void);
                            25104 ; 688  |
                            25105 ; 689  |///////////////////////////////////////////////////////////////////////
                            25106 ; 690  |//! \brief
                            25107 ; 691  |//!
                            25108 ; 692  |//! \fntype Function
                            25109 ; 693  |//!
                            25110 ; 694  |//! Called by UI, the merge the music library tables album,
                            25111 ; 695  |//! artist, genre, song and year.
                            25112 ; 696  |//!
                            25113 ; 697  |//! \param[in]  none
                            25114 ; 698  |//!
                            25115 ; 699  |//! \return
                            25116 ; 700  |//!
                            25117 ; 701  |///////////////////////////////////////////////////////////////////////
                            25118 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            25119 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            25120 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            25121 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            25122 ; 706  |
                            25123 ; 707  |///////////////////////////////////////////////////////////////////////
                            25124 ; 708  |//! \brief
                            25125 ; 709  |//!
                            25126 ; 710  |//! \fntype Function
                            25127 ; 711  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 416

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25128 ; 712  |//! \param[in]
                            25129 ; 713  |//!
                            25130 ; 714  |//! \return
                            25131 ; 715  |//!
                            25132 ; 716  |///////////////////////////////////////////////////////////////////////
                            25133 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            25134 ; 718  |
                            25135 ; 719  |/*========================================================================================
                                  ========*/
                            25136 ; 720  |
                            25137 ; 721  |// Siukoon 2005-02-28
                            25138 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            25139 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            25140 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            25141 ; 725  |#else
                            25142 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            25143 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            25144 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            25145 ; 729  |#define WORD_PER_SECTOR             (171)
                            25146 ; 730  |#define BYTE_PER_SECTOR             (512)
                            25147 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            25148 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PE
                                  R_SECTOR)
                            25149 ; 733  |
                            25150 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            25151 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            25152 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_B
                                  YTE_PER_SECTOR)
                            25153 ; 737  |
                            25154 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            25155 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            25156 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            25157 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            25158 ; 742  |
                            25159 ; 743  |/////////////////////
                            25160 ; 744  |
                            25161 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            25162 ; 746  |
                            25163 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            25164 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            25165 ; 749  |#else
                            25166 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            25167 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            25168 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                                  
                            25169 ; 753  |
                            25170 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            25171 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            25172 ; 756  |
                            25173 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            25174 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            25175 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            25176 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            25177 ; 761  |#else
                            25178 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            25179 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            25180 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            25181 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            25182 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            25183 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 417

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25184 ; 768  |
                            25185 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            25186 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            25187 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            25188 ; 772  |#else
                            25189 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG
                                  _PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            25190 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            25191 ; 775  |
                            25192 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            25193 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SI
                                  ZE_IN_BYTE)
                            25194 ; 778  |
                            25195 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            25196 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            25197 ; 781  |
                            25198 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            25199 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            25200 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            25201 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            25202 ; 786  |#else
                            25203 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            25204 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            25205 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            25206 ; 790  |
                            25207 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            25208 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6
                                  )
                            25209 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            25210 ; 794  |#else
                            25211 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            25212 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            25213 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            25214 ; 798  |
                            25215 ; 799  |#ifdef __cplusplus
                            25216 ; 800  |}
                            25217 ; 801  |#endif
                            25218 ; 802  |
                            25219 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            25220 
                            25222 
                            25223 ; 44   |#include "playmodemenu.h"
                            25224 
                            25226 
                            25227 ; 1    |#ifndef _PLAYMODE_H
                            25228 ; 2    |#define _PLAYMODE_H
                            25229 ; 3    |
                            25230 ; 4    |#include "types.h"
                            25231 
                            25233 
                            25234 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            25235 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            25236 ; 3    |//
                            25237 ; 4    |// Filename: types.h
                            25238 ; 5    |// Description: Standard data types
                            25239 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            25240 ; 7    |
                            25241 ; 8    |#ifndef _TYPES_H
                            25242 ; 9    |#define _TYPES_H
                            25243 ; 10   |
                            25244 ; 11   |// TODO:  move this outta here!
                            25245 ; 12   |#if !defined(NOERROR)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 418

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25246 ; 13   |#define NOERROR 0
                            25247 ; 14   |#define SUCCESS 0
                            25248 ; 15   |#endif 
                            25249 ; 16   |#if !defined(SUCCESS)
                            25250 ; 17   |#define SUCCESS  0
                            25251 ; 18   |#endif
                            25252 ; 19   |#if !defined(ERROR)
                            25253 ; 20   |#define ERROR   -1
                            25254 ; 21   |#endif
                            25255 ; 22   |#if !defined(FALSE)
                            25256 ; 23   |#define FALSE 0
                            25257 ; 24   |#endif
                            25258 ; 25   |#if !defined(TRUE)
                            25259 ; 26   |#define TRUE  1
                            25260 ; 27   |#endif
                            25261 ; 28   |
                            25262 ; 29   |#if !defined(NULL)
                            25263 ; 30   |#define NULL 0
                            25264 ; 31   |#endif
                            25265 ; 32   |
                            25266 ; 33   |#define MAX_INT     0x7FFFFF
                            25267 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            25268 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            25269 ; 36   |#define MAX_ULONG   (-1) 
                            25270 ; 37   |
                            25271 ; 38   |#define WORD_SIZE   24              // word size in bits
                            25272 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            25273 ; 40   |
                            25274 ; 41   |
                            25275 ; 42   |#define BYTE    unsigned char       // btVarName
                            25276 ; 43   |#define CHAR    signed char         // cVarName
                            25277 ; 44   |#define USHORT  unsigned short      // usVarName
                            25278 ; 45   |#define SHORT   unsigned short      // sVarName
                            25279 ; 46   |#define WORD    unsigned int        // wVarName
                            25280 ; 47   |#define INT     signed int          // iVarName
                            25281 ; 48   |#define DWORD   unsigned long       // dwVarName
                            25282 ; 49   |#define LONG    signed long         // lVarName
                            25283 ; 50   |#define BOOL    unsigned int        // bVarName
                            25284 ; 51   |#define FRACT   _fract              // frVarName
                            25285 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            25286 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            25287 ; 54   |#define FLOAT   float               // fVarName
                            25288 ; 55   |#define DBL     double              // dVarName
                            25289 ; 56   |#define ENUM    enum                // eVarName
                            25290 ; 57   |#define CMX     _complex            // cmxVarName
                            25291 ; 58   |typedef WORD UCS3;                   // 
                            25292 ; 59   |
                            25293 ; 60   |#define UINT16  unsigned short
                            25294 ; 61   |#define UINT8   unsigned char   
                            25295 ; 62   |#define UINT32  unsigned long
                            25296 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            25297 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            25298 ; 65   |#define WCHAR   UINT16
                            25299 ; 66   |
                            25300 ; 67   |//UINT128 is 16 bytes or 6 words
                            25301 ; 68   |typedef struct UINT128_3500 {   
                            25302 ; 69   |    int val[6];     
                            25303 ; 70   |} UINT128_3500;
                            25304 ; 71   |
                            25305 ; 72   |#define UINT128   UINT128_3500
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 419

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25306 ; 73   |
                            25307 ; 74   |// Little endian word packed byte strings:   
                            25308 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            25309 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            25310 ; 77   |// Little endian word packed byte strings:   
                            25311 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            25312 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            25313 ; 80   |
                            25314 ; 81   |// Declare Memory Spaces To Use When Coding
                            25315 ; 82   |// A. Sector Buffers
                            25316 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            25317 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            25318 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            25319 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            25320 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            25321 ; 88   |// B. Media DDI Memory
                            25322 ; 89   |#define MEDIA_DDI_MEM _Y
                            25323 ; 90   |
                            25324 ; 91   |
                            25325 ; 92   |
                            25326 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            25327 ; 94   |// Examples of circular pointers:
                            25328 ; 95   |//    INT CIRC cpiVarName
                            25329 ; 96   |//    DWORD CIRC cpdwVarName
                            25330 ; 97   |
                            25331 ; 98   |#define RETCODE INT                 // rcVarName
                            25332 ; 99   |
                            25333 ; 100  |// generic bitfield structure
                            25334 ; 101  |struct Bitfield {
                            25335 ; 102  |    unsigned int B0  :1;
                            25336 ; 103  |    unsigned int B1  :1;
                            25337 ; 104  |    unsigned int B2  :1;
                            25338 ; 105  |    unsigned int B3  :1;
                            25339 ; 106  |    unsigned int B4  :1;
                            25340 ; 107  |    unsigned int B5  :1;
                            25341 ; 108  |    unsigned int B6  :1;
                            25342 ; 109  |    unsigned int B7  :1;
                            25343 ; 110  |    unsigned int B8  :1;
                            25344 ; 111  |    unsigned int B9  :1;
                            25345 ; 112  |    unsigned int B10 :1;
                            25346 ; 113  |    unsigned int B11 :1;
                            25347 ; 114  |    unsigned int B12 :1;
                            25348 ; 115  |    unsigned int B13 :1;
                            25349 ; 116  |    unsigned int B14 :1;
                            25350 ; 117  |    unsigned int B15 :1;
                            25351 ; 118  |    unsigned int B16 :1;
                            25352 ; 119  |    unsigned int B17 :1;
                            25353 ; 120  |    unsigned int B18 :1;
                            25354 ; 121  |    unsigned int B19 :1;
                            25355 ; 122  |    unsigned int B20 :1;
                            25356 ; 123  |    unsigned int B21 :1;
                            25357 ; 124  |    unsigned int B22 :1;
                            25358 ; 125  |    unsigned int B23 :1;
                            25359 ; 126  |};
                            25360 ; 127  |
                            25361 ; 128  |union BitInt {
                            25362 ; 129  |        struct Bitfield B;
                            25363 ; 130  |        int        I;
                            25364 ; 131  |};
                            25365 ; 132  |
                            25366 ; 133  |#define MAX_MSG_LENGTH 10
                            25367 ; 134  |struct CMessage
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 420

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25368 ; 135  |{
                            25369 ; 136  |        unsigned int m_uLength;
                            25370 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            25371 ; 138  |};
                            25372 ; 139  |
                            25373 ; 140  |typedef struct {
                            25374 ; 141  |    WORD m_wLength;
                            25375 ; 142  |    WORD m_wMessage;
                            25376 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            25377 ; 144  |} Message;
                            25378 ; 145  |
                            25379 ; 146  |struct MessageQueueDescriptor
                            25380 ; 147  |{
                            25381 ; 148  |        int *m_pBase;
                            25382 ; 149  |        int m_iModulo;
                            25383 ; 150  |        int m_iSize;
                            25384 ; 151  |        int *m_pHead;
                            25385 ; 152  |        int *m_pTail;
                            25386 ; 153  |};
                            25387 ; 154  |
                            25388 ; 155  |struct ModuleEntry
                            25389 ; 156  |{
                            25390 ; 157  |    int m_iSignaledEventMask;
                            25391 ; 158  |    int m_iWaitEventMask;
                            25392 ; 159  |    int m_iResourceOfCode;
                            25393 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            25394 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            25395 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            25396 ; 163  |    int m_uTimeOutHigh;
                            25397 ; 164  |    int m_uTimeOutLow;
                            25398 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            25399 ; 166  |};
                            25400 ; 167  |
                            25401 ; 168  |union WaitMask{
                            25402 ; 169  |    struct B{
                            25403 ; 170  |        unsigned int m_bNone     :1;
                            25404 ; 171  |        unsigned int m_bMessage  :1;
                            25405 ; 172  |        unsigned int m_bTimer    :1;
                            25406 ; 173  |        unsigned int m_bButton   :1;
                            25407 ; 174  |    } B;
                            25408 ; 175  |    int I;
                            25409 ; 176  |} ;
                            25410 ; 177  |
                            25411 ; 178  |
                            25412 ; 179  |struct Button {
                            25413 ; 180  |        WORD wButtonEvent;
                            25414 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            25415 ; 182  |};
                            25416 ; 183  |
                            25417 ; 184  |struct Message {
                            25418 ; 185  |        WORD wMsgLength;
                            25419 ; 186  |        WORD wMsgCommand;
                            25420 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            25421 ; 188  |};
                            25422 ; 189  |
                            25423 ; 190  |union EventTypes {
                            25424 ; 191  |        struct CMessage msg;
                            25425 ; 192  |        struct Button Button ;
                            25426 ; 193  |        struct Message Message;
                            25427 ; 194  |};
                            25428 ; 195  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 421

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25429 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            25430 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            25431 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            25432 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            25433 ; 200  |
                            25434 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            25435 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            25436 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            25437 ; 204  |
                            25438 ; 205  |#if DEBUG
                            25439 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            25440 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            25441 ; 208  |#else 
                            25442 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            25443 ; 210  |#define DebugBuildAssert(x)    
                            25444 ; 211  |#endif
                            25445 ; 212  |
                            25446 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            25447 ; 214  |//  #pragma asm
                            25448 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            25449 ; 216  |//  #pragma endasm
                            25450 ; 217  |
                            25451 ; 218  |
                            25452 ; 219  |#ifdef COLOR_262K
                            25453 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            25454 ; 221  |#elif defined(COLOR_65K)
                            25455 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            25456 ; 223  |#else
                            25457 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            25458 ; 225  |#endif
                            25459 ; 226  |    
                            25460 ; 227  |#endif // #ifndef _TYPES_H
                            25461 
                            25463 
                            25464 ; 5    |
                            25465 ; 6    |// order of PLAYMODE selection
                            25466 ; 7    |// must match order of struct MenuItem defined in eqmenu.c
                            25467 ; 8    |#define FIRST_PM        0
                            25468 ; 9    |#define PM_NORMAL       0
                            25469 ; 10   |#define PM_REPEAT1      1
                            25470 ; 11   |#define PM_REPEATALL    2
                            25471 ; 12   |#define LAST_VOICE_PM   2
                            25472 ; 13   |#define PM_SHUFFLE              3   
                            25473 ; 14   |#define PM_SHUFFLE_REPEAT 4 
                            25474 ; 15   |#define LAST_PM     4
                            25475 ; 16   |#define PMMENU_COUNT   (LAST_PM+1)
                            25476 ; 17   |
                            25477 ; 18   |#ifdef S6B33B0A_LCD
                            25478 ; 19   |#define PMMENU_PAGE1_COUNT      PMMENU_COUNT
                            25479 ; 20   |#endif
                            25480 ; 21   |
                            25481 ; 22   |#ifdef SED15XX_LCD
                            25482 ; 23   |#define PMMENU_PAGE1_COUNT      4
                            25483 ; 24   |#endif
                            25484 ; 25   |
                            25485 ; 26   |//Repeat Message Parameters
                            25486 ; 27   |#define REPEAT_OFF         0
                            25487 ; 28   |#define REPEAT_ONE         1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 422

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25488 ; 29   |#define REPEAT_ALL         2
                            25489 ; 30   |//#define REPEAT_SONG        2
                            25490 ; 31   |
                            25491 ; 32   |//Shuffle Message Parameters
                            25492 ; 33   |#define SHUFFLE_OFF        0
                            25493 ; 34   |#define SHUFFLE_ON         1
                            25494 ; 35   |
                            25495 ; 36   |extern INT g_iPlayModeSetting;
                            25496 ; 37   |#ifdef USE_PLAYLIST3
                            25497 ; 38   |extern INT  g_shuffle_start;
                            25498 ; 39   |extern INT  g_iShuffleSetting;   // Shuffle Setting
                            25499 ; 40   |extern INT  g_iRepeatSetting;    // Repeat Setting
                            25500 ; 41   |#endif  // USE_PLAYLIST3
                            25501 ; 42   |
                            25502 ; 43   |#endif
                            25503 
                            25505 
                            25506 ; 45   |#include "mainmenu.h"
                            25507 
                            25509 
                            25510 ; 1    |#ifndef _MAIN_MENU_H
                            25511 ; 2    |#define _MAIN_MENU_H
                            25512 ; 3    |
                            25513 ; 4    |// menus in mainmenu
                            25514 ; 5    |#define MAINMENU_FIRST  0
                            25515 ; 6    |
                            25516 ; 7    |enum _MENU_ID
                            25517 ; 8    |{
                            25518 ; 9    |        MENU_MUSIC = 0,
                            25519 ; 10   |#ifdef JPEG_APP
                            25520 ; 11   |        MENU_JPEG_DISPLAY,
                            25521 ; 12   |#endif
                            25522 ; 13   |#ifdef MOTION_VIDEO
                            25523 ; 14   |        MENU_MVIDEO,
                            25524 ; 15   |#endif
                            25525 ; 16   |        MENU_VOICE,
                            25526 ; 17   |
                            25527 ; 18   |/*This version does not use PL5
                            25528 ; 19   |#ifdef USE_PLAYLIST5
                            25529 ; 20   |#ifndef REMOVE_FM
                            25530 ; 21   |    MENU_FMREC,
                            25531 ; 22   |#endif
                            25532 ; 23   |    MENU_LINEIN,
                            25533 ; 24   |#ifdef AUDIBLE
                            25534 ; 25   |        MENU_AUDIBLE,
                            25535 ; 26   |#endif
                            25536 ; 27   |#endif  // #ifdef USE_PLAYLIST5
                            25537 ; 28   |*/
                            25538 ; 29   |
                            25539 ; 30   |#ifdef USE_PLAYLIST3
                            25540 ; 31   |#ifdef AUDIBLE
                            25541 ; 32   |        MENU_AUDIBLE,
                            25542 ; 33   |#endif
                            25543 ; 34   |#endif
                            25544 ; 35   |#ifndef REMOVE_FM
                            25545 ; 36   |        MENU_FMTUNER,
                            25546 ; 37   |#endif
                            25547 ; 38   |        MENU_RECORD,
                            25548 ; 39   |        MENU_SETTINGS,
                            25549 ; 40   |        MENU_SHUTDOWN,
                            25550 ; 41   |        MENU_TIME_DATE,
                            25551 ; 42   |        MENU_AB,
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 423

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25552 ; 43   |        MENU_DELETE,
                            25553 ; 44   |        MENU_ABOUT,
                            25554 ; 45   |#ifdef SPECTRUM_ANAL
                            25555 ; 46   |        MENU_SPECTROGRAM,
                            25556 ; 47   |#endif
                            25557 ; 48   |        MENU_MAIN_EXIT
                            25558 ; 49   |};
                            25559 ; 50   |
                            25560 ; 51   |
                            25561 ; 52   |#define MAINMENU_LAST    MENU_MAIN_EXIT
                            25562 ; 53   |#define MAINMENU_COUNT  (MAINMENU_LAST+1)
                            25563 ; 54   |
                            25564 ; 55   |#ifdef S6B33B0A_LCD
                            25565 ; 56   |#define MAINMENU_PAGE1_COUNT    MAINMENU_COUNT
                            25566 ; 57   |#endif
                            25567 ; 58   |
                            25568 ; 59   |#ifdef SED15XX_LCD
                            25569 ; 60   |#define MAINMENU_PAGE1_COUNT    4
                            25570 ; 61   |#endif
                            25571 ; 62   |
                            25572 ; 63   |
                            25573 ; 64   |// Media error constants
                            25574 ; 65   |// Each device gets 5 bits for error codes, in the global g_FSinitErrorCode.
                            25575 ; 66   |// If there is no external device, the internal device uses bits 0-4.  If there
                            25576 ; 67   |// is an external device, the internal device is shifted up 5 bits (to bits 5-9),
                            25577 ; 68   |// and the external device uses bits 0-4.  (More than one external device is not
                            25578 ; 69   |// supported in the current code.)
                            25579 ; 70   |
                            25580 ; 71   |#define ERROR_ON_INTERNAL_MEDIA         0x0F
                            25581 ; 72   |#define INTERNAL_MEDIA_NOT_SIGMATEL_FORMAT      0x010
                            25582 ; 73   |
                            25583 ; 74   |#define ERROR_ON_EXTERNAL_MEDIA                         0x0E
                            25584 ; 75   |#define EXTERNAL_MEDIA_NOT_SIGMATEL_FORMAT      0x010
                            25585 ; 76   |
                            25586 ; 77   |#define ERROR_ON_INTERNAL_MEDIA_SHIFTED         0x01E0
                            25587 ; 78   |#define INTERNAL_MEDIA_NOT_SIGMATEL_FORMAT_SHIFTED      0x020
                            25588 ; 79   |
                            25589 ; 80   |#ifdef USE_PLAYLIST3
                            25590 ; 81   |extern INT  g_current_index;
                            25591 ; 82   |extern INT  g_current_size;
                            25592 ; 83   |extern _packed BYTE g_strMusicLib_FilePath[];
                            25593 ; 84   |extern _packed BYTE g_strMusicLib_SecTable_FilePath[];
                            25594 ; 85   |extern INT  g_iFileHandle;
                            25595 ; 86   |extern INT  g_ML_save_on_exit;
                            25596 ; 87   |extern WORD g_rsrc_TimeDate_CodeBank;
                            25597 ; 88   |#endif  // USE_PLAYLIST3
                            25598 ; 89   |
                            25599 ; 90   |////////////////////////////////////////////////////////////////////////////////
                            25600 ; 91   |//  Prototypes
                            25601 ; 92   |////////////////////////////////////////////////////////////////////////////////
                            25602 ; 93   |#ifdef USE_PLAYLIST3
                            25603 ; 94   |void _reentrant ML_building_engine_init(void);
                            25604 ; 95   |#endif  // USE_PLAYLIST3
                            25605 ; 96   |
                            25606 ; 97   |#endif
                            25607 
                            25609 
                            25610 ; 46   |#include "browsemenu.h"
                            25611 
                            25613 
                            25614 ; 1    |#ifndef BROWSEMENU_H
                            25615 ; 2    |#define BROWSEMENU_H
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 424

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25616 ; 3    |
                            25617 ; 4    |#include "musiclib_ghdr.h"
                            25618 
                            25620 
                            25621 ; 1    |#ifndef MUSICLIB_GHDR_H
                            25622 ; 2    |#define MUSICLIB_GHDR_H
                            25623 ; 3    |
                            25624 ; 4    |#ifdef __cplusplus
                            25625 ; 5    |extern "C" {
                            25626 ; 6    |#endif
                            25627 ; 7    |
                            25628 ; 8    |/*========================================================================================
                                  ==========
                            25629 ; 9    |
                            25630 ; 10   |                                        General Description
                            25631 ; 11   |
                            25632 ; 12   |==========================================================================================
                                  ==========
                            25633 ; 13   |
                            25634 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            25635 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            25636 ; 16   |
                            25637 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            25638 ; 18   |
                            25639 ; 19   |PRODUCT NAMES: All
                            25640 ; 20   |
                            25641 ; 21   |GENERAL DESCRIPTION:
                            25642 ; 22   |
                            25643 ; 23   |    General description of this grouping of functions.
                            25644 ; 24   |
                            25645 ; 25   |Portability: All
                            25646 ; 26   |
                            25647 ; 27   |
                            25648 ; 28   |Revision History:
                            25649 ; 29   |
                            25650 ; 30   |                         Modification        Tracking
                            25651 ; 31   |Author                       Date             Number           Description of Changes
                            25652 ; 32   |---------------------    ------------        ----------        ---------------------------
                                  ----------
                            25653 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of change
                                  s made
                            25654 ; 34   |
                            25655 ; 35   |
                            25656 ; 36   |==========================================================================================
                                  ==========
                            25657 ; 37   |                                            DESCRIPTION
                            25658 ; 38   |==========================================================================================
                                  ==========
                            25659 ; 39   |
                            25660 ; 40   |GLOBAL FUNCTIONS:
                            25661 ; 41   |    MF_global_func_name()
                            25662 ; 42   |
                            25663 ; 43   |TRACEABILITY MATRIX:
                            25664 ; 44   |    None
                            25665 ; 45   |
                            25666 ; 46   |==========================================================================================
                                  ========*/
                            25667 ; 47   |
                            25668 ; 48   |/*========================================================================================
                                  ==========
                            25669 ; 49   |                                                                Conditional Compilation Di
                                  rectives
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 425

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25670 ; 50   |==========================================================================================
                                  ========*/
                            25671 ; 51   |#ifdef WIN32
                            25672 ; 52   |#define _PC_SIMULATION_
                            25673 ; 53   |#else
                            25674 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            25675 ; 55   |#endif  // WIN32
                            25676 ; 56   |
                            25677 ; 57   |#if 1
                            25678 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            25679 ; 59   |#endif
                            25680 ; 60   |
                            25681 ; 61   |#if 1
                            25682 ; 62   |#define _AUDIBLE_       /* install audible list */
                            25683 ; 63   |#endif
                            25684 ; 64   |
                            25685 ; 65   |#if 1
                            25686 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            25687 ; 67   |#endif
                            25688 ; 68   |
                            25689 ; 69   |#ifdef PL3_FB
                            25690 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            25691 ; 71   |#endif
                            25692 ; 72   |
                            25693 ; 73   |#if 1
                            25694 ; 74   |#define _SUPPORT_2000_SONGS_
                            25695 ; 75   |#endif
                            25696 ; 76   |
                            25697 ; 77   |/*========================================================================================
                                  ==========
                            25698 ; 78   |                                           INCLUDE FILES
                            25699 ; 79   |==========================================================================================
                                  ========*/
                            25700 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            25701 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            25702 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            25703 ; 83   |#define OEM_SEEK_END    SEEK_END
                            25704 ; 84   |#else
                            25705 ; 85   |#define _X
                            25706 ; 86   |#define _Y
                            25707 ; 87   |#define _packed
                            25708 ; 88   |
                            25709 ; 89   |#define _asmfunc
                            25710 ; 90   |#define _reentrant
                            25711 ; 91   |
                            25712 ; 92   |#define OEM_SEEK_CUR    1
                            25713 ; 93   |#define OEM_SEEK_SET    0
                            25714 ; 94   |#define OEM_SEEK_END    2
                            25715 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            25716 ; 96   |
                            25717 ; 97   |#include "types.h"
                            25718 ; 98   |#include "exec.h"
                            25719 ; 99   |#include "messages.h"
                            25720 ; 100  |#include "project.h"
                            25721 ; 101  |
                            25722 ; 102  |/*========================================================================================
                                  ==========
                            25723 ; 103  |                                             CONSTANTS
                            25724 ; 104  |==========================================================================================
                                  ========*/
                            25725 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            25726 ; 106  |Variable Represented            Bits used in "uint8 unicode"
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 426

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25727 ; 107  |Artistname                              1:0
                            25728 ; 108  |Albumname                               3:2
                            25729 ; 109  |Genrename                               5:4
                            25730 ; 110  |Songname                                7:6
                            25731 ; 111  |----------------------------------------------------------
                            25732 ; 112  |    Value (2 bits)                      Meanings
                            25733 ; 113  |    0                                   RAW and All ASCII
                            25734 ; 114  |    1                                   Uni-code
                            25735 ; 115  |    2                                   Mixed, non-unicode
                            25736 ; 116  |
                            25737 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            25738 ; 118  |*/
                            25739 ; 119  |#define BITMASK_ARTIST  (0x03)
                            25740 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            25741 ; 121  |#define BITMASK_GENRE   (0x30)
                            25742 ; 122  |#define BITMASK_SONG    (0xC0)
                            25743 ; 123  |
                            25744 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            25745 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            25746 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            25747 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            25748 ; 128  |
                            25749 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            25750 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            25751 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            25752 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            25753 ; 133  |
                            25754 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            25755 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            25756 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            25757 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            25758 ; 138  |
                            25759 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            25760 ; 140  |
                            25761 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            25762 ; 142  |
                            25763 ; 143  |#define INDEX_EOF       0xFFF
                            25764 ; 144  |#ifdef _FOLDER_BROWSE_
                            25765 ; 145  |#define INDEX_ROOT  0xffe
                            25766 ; 146  |#define UNKNOWN_RECORD  0xfff
                            25767 ; 147  |#endif  // _FOLDER_BROWSE_
                            25768 ; 148  |
                            25769 ; 149  |/* Constant for item_type */
                            25770 ; 150  |#define         ITEM_ARTIST                     0
                            25771 ; 151  |#define         ITEM_ALBUM                      1
                            25772 ; 152  |#define         ITEM_GENRE                      2
                            25773 ; 153  |#define         ITEM_TRACK                      3
                            25774 ; 154  |#define         ITEM_YEAR                       4
                            25775 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            25776 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            25777 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            25778 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            25779 ; 159  |#ifdef _NEWMUSIC_
                            25780 ; 160  |#define         ITEM_1DAY                       10
                            25781 ; 161  |#define         ITEM_1WEEK                      11
                            25782 ; 162  |#define         ITEM_1MONTH                     12
                            25783 ; 163  |#endif
                            25784 ; 164  |#ifdef _AUDIBLE_
                            25785 ; 165  |#define         ITEM_AUDIBLE            13
                            25786 ; 166  |#endif
                            25787 ; 167  |#define         ITEM_ON_THE_GO          14
                            25788 ; 168  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 427

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25789 ; 169  |#define         ITEM_VOICE                      15
                            25790 ; 170  |#define         ITEM_FMREC                      16
                            25791 ; 171  |#define         ITEM_PHOTO                      17
                            25792 ; 172  |#ifdef _FOLDER_BROWSE_
                            25793 ; 173  |#define         ITEM_INTERNAL           18
                            25794 ; 174  |#define         ITEM_EXTERNAL       19
                            25795 ; 175  |#endif  // _FOLDER_BROWSE_
                            25796 ; 176  |#define     ITEM_UNKNOWN        0xff
                            25797 ; 177  |
                            25798 ; 178  |/*
                            25799 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_inf
                                  o, int16 option);
                            25800 ; 180  |option input.
                            25801 ; 181  |*/
                            25802 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            25803 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            25804 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            25805 ; 185  |#ifdef _FOLDER_BROWSE_
                            25806 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            25807 ; 187  |#endif  // _FOLDER_BROWSE_
                            25808 ; 188  |
                            25809 ; 189  |/* Constant for key action */
                            25810 ; 190  |#define         ACTION_OK                               0               /* Press OK button
                                   */
                            25811 ; 191  |#define         ACTION_BACK                             1               /* Press BACK butt
                                  on */
                            25812 ; 192  |#define         ACTION_UP                               2               /* Press UP button
                                   */
                            25813 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN butt
                                  on */
                            25814 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            25815 ; 195  |#define         ACTION_MENU                             5               /* Back the browsi
                                  ng tree to root */
                            25816 ; 196  |
                            25817 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            25818 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            25819 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            25820 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            25821 ; 201  |
                            25822 ; 202  |#define         NO_SD                                   0
                            25823 ; 203  |#define         HAS_SD                                  1
                            25824 ; 204  |
                            25825 ; 205  |#define         PLAY_NORMAL                             0
                            25826 ; 206  |#define         PLAY_SHUFFLE                    1
                            25827 ; 207  |
                            25828 ; 208  |#define     PLAY_REPEAT_OFF         0
                            25829 ; 209  |#define     PLAY_REPEAT_ON          1
                            25830 ; 210  |
                            25831 ; 211  |#define     PLAY_SELECT_FLASH       0
                            25832 ; 212  |#define     PLAY_SELECT_SD          1
                            25833 ; 213  |
                            25834 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            25835 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            25836 ; 216  |
                            25837 ; 217  |#define         ON_THE_GO_EXIST                 0
                            25838 ; 218  |#define         ON_THE_GO_FULL                  1
                            25839 ; 219  |#define         ON_THE_GO_FREE                  2
                            25840 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            25841 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            25842 ; 222  |
                            25843 ; 223  |#define         REC_VOICE_TYPE                  0
                            25844 ; 224  |#define         REC_FMREC_TYPE                  1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 428

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25845 ; 225  |#define         REC_PHOTO_TYPE                  2
                            25846 ; 226  |#define         VOICE_FILE_ADD                  0
                            25847 ; 227  |#define         VOICE_FILE_DEL                  1
                            25848 ; 228  |
                            25849 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            25850 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            25851 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            25852 ; 232  |flash or external SD card */
                            25853 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            25854 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            25855 ; 235  |#else
                            25856 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            25857 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            25858 ; 238  |
                            25859 ; 239  |/* number of byte in one DSP word */
                            25860 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            25861 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            25862 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            25863 ; 243  |are 10 level directory structure */
                            25864 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            25865 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            25866 ; 246  |
                            25867 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            25868 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            25869 ; 249  |/* number of songs in each new music list */
                            25870 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            25871 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            25872 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            25873 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            25874 ; 254  |/* number of songs in the on-the-fly list */
                            25875 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            25876 ; 256  |/* number of files audible list */
                            25877 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            25878 ; 258  |
                            25879 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            25880 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            25881 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            25882 ; 262  |
                            25883 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            25884 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            25885 ; 265  |#ifdef _FOLDER_BROWSE_
                            25886 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            25887 ; 267  |#else
                            25888 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            25889 ; 269  |#endif  // _FOLDER_BROWSE_
                            25890 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            25891 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            25892 ; 272  |
                            25893 ; 273  |#ifndef _MAX_DIR_DEPTH
                            25894 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            25895 ; 275  |#endif  // _MAX_DIR_DEPTH
                            25896 ; 276  |
                            25897 ; 277  |/*========================================================================================
                                  ==========*/
                            25898 ; 278  |
                            25899 ; 279  |
                            25900 ; 280  |/*========================================================================================
                                  ==========
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 429

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25901 ; 281  |                                               MACROS
                            25902 ; 282  |==========================================================================================
                                  ========*/
                            25903 ; 283  |
                            25904 ; 284  |/*========================================================================================
                                  ==========
                            25905 ; 285  |                                               ENUMS
                            25906 ; 286  |==========================================================================================
                                  ========*/
                            25907 ; 287  |#define NUM_OF_MEDIA                            (2)
                            25908 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            25909 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            25910 ; 290  |/*========================================================================================
                                  ==========
                            25911 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            25912 ; 292  |==========================================================================================
                                  ========*/
                            25913 ; 293  |
                            25914 ; 294  |typedef char    int8;
                            25915 ; 295  |typedef short   int16;
                            25916 ; 296  |typedef int     int24;
                            25917 ; 297  |typedef long    int32;
                            25918 ; 298  |
                            25919 ; 299  |typedef int     intx;
                            25920 ; 300  |
                            25921 ; 301  |typedef unsigned char   uint8;
                            25922 ; 302  |typedef unsigned short  uint16;
                            25923 ; 303  |typedef unsigned int    uint24;
                            25924 ; 304  |typedef unsigned long   uint32;
                            25925 ; 305  |
                            25926 ; 306  |/*
                            25927 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode form
                                  at.
                            25928 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            25929 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            25930 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            25931 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            25932 ; 312  |*/
                            25933 ; 313  |/*
                            25934 ; 314  |path_name[] _must_have_data_:
                            25935 ; 315  |path_name[] = (Max. 120 Characters);
                            25936 ; 316  |year range:
                            25937 ; 317  |year = 0x000000-0xFFFFFF;
                            25938 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            25939 ; 319  |Unknown track number:
                            25940 ; 320  |track_number = 0x7FFFFF;
                            25941 ; 321  |unicode refer to above #define BITMASK_*
                            25942 ; 322  |*/
                            25943 ; 323  |/*
                            25944 ; 324  |Interface of UI and Music Library
                            25945 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            25946 ; 326  |
                            25947 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            25948 ; 328  |
                            25949 ; 329  |3) UI to Music Library variable passing length definition:
                            25950 ; 330  |        All ASCII Characters:
                            25951 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            25952 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            25953 ; 333  |        Unicode Characters:
                            25954 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            25955 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            25956 ; 336  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 430

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25957 ; 337  |4) UI input data to Music Library in two formats.
                            25958 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            25959 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            25960 ; 340  |
                            25961 ; 341  |5) UI calling function:
                            25962 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            25963 ; 343  |        int16 option definition:
                            25964 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            25965 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            25966 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            25967 ; 347  |
                            25968 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            25969 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_l
                                  ist separately.
                            25970 ; 350  |
                            25971 ; 351  |6) Modification Date:
                            25972 ; 352  |        uint24 g_file_time:
                            25973 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            25974 ; 354  |*/
                            25975 ; 355  |
                            25976 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            25977 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            25978 ; 358  |typedef struct _ram_song_info {
                            25979 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25980 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25981 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25982 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25983 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25984 ; 364  |    uint32 g_songFastKey;
                            25985 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25986 ; 366  |        uint24 year;
                            25987 ; 367  |        uint24 track_number;
                            25988 ; 368  |        uint8 unicode;
                            25989 ; 369  |} RAM_SONG_INFO_T;
                            25990 ; 370  |
                            25991 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            25992 ; 372  |typedef struct _flash_group_name {
                            25993 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25994 ; 374  |        uint8 unicode;
                            25995 ; 375  |} FLASH_GROUP_NAME_T;
                            25996 ; 376  |
                            25997 ; 377  |// struct to store directories information passed from UI
                            25998 ; 378  |#ifdef _FOLDER_BROWSE_
                            25999 ; 379  |typedef struct _ml_DirInfo {
                            26000 ; 380  |        uint24  u8Unicode : 8;
                            26001 ; 381  |        uint24  u12DirDepth : 12;
                            26002 ; 382  |        uint24  u4Added : 4;            
                            26003 ; 383  |        INT     iDirRecord;
                            26004 ; 384  |        DWORD   dwFastKey;
                            26005 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            26006 ; 386  |} ML_DIRINFO_T;
                            26007 ; 387  |#endif  // _FOLDER_BROWSE_
                            26008 ; 388  |
                            26009 ; 389  |/*========================================================================================
                                  ==========
                            26010 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            26011 ; 391  |==========================================================================================
                                  ========*/
                            26012 ; 392  |extern uint24   IsPlayOnTheGo;
                            26013 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            26014 ; 394  |extern uint24   merge_id_list_flash[];
                            26015 ; 395  |extern uint24   merge_id_list_sd[];
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 431

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26016 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            26017 ; 397  |#ifdef _FOLDER_BROWSE_
                            26018 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            26019 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            26020 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            26021 ; 401  |#endif  // _FOLDER_BROWSE_
                            26022 ; 402  |extern INT _X    *sec_temp_buf_X;
                            26023 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 =
                                   repeat on/off(0=off/1=on) */
                            26024 ; 404  |
                            26025 ; 405  |/*========================================================================================
                                  ==========
                            26026 ; 406  |                                        FUNCTION PROTOTYPES
                            26027 ; 407  |==========================================================================================
                                  ========*/
                            26028 ; 408  |
                            26029 ; 409  |///////////////////////////////////////////////////////////////////////
                            26030 ; 410  |//! \brief
                            26031 ; 411  |//!
                            26032 ; 412  |//! \fntype Function
                            26033 ; 413  |//!
                            26034 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            26035 ; 415  |//! Call only once before inserting items. Call once for each media.
                            26036 ; 416  |//!
                            26037 ; 417  |//! \param[in]  none
                            26038 ; 418  |//!
                            26039 ; 419  |//! \return
                            26040 ; 420  |//!
                            26041 ; 421  |///////////////////////////////////////////////////////////////////////
                            26042 ; 422  |void ML_InitLibraryParameter(void);
                            26043 ; 423  |
                            26044 ; 424  |///////////////////////////////////////////////////////////////////////
                            26045 ; 425  |//! \brief
                            26046 ; 426  |//!
                            26047 ; 427  |//! \fntype Function
                            26048 ; 428  |//!
                            26049 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            26050 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            26051 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each son
                                  g,
                            26052 ; 432  |//! the song information is recorded in music library.
                            26053 ; 433  |//!
                            26054 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            26055 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passe
                                  d from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            26056 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav f
                                  ormat file.
                            26057 ; 437  |//!
                            26058 ; 438  |//! \return
                            26059 ; 439  |//!
                            26060 ; 440  |///////////////////////////////////////////////////////////////////////
                            26061 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            26062 ; 442  |
                            26063 ; 443  |///////////////////////////////////////////////////////////////////////
                            26064 ; 444  |//! \brief
                            26065 ; 445  |//!
                            26066 ; 446  |//! \fntype Function
                            26067 ; 447  |//!
                            26068 ; 448  |//! \param[in]
                            26069 ; 449  |//!
                            26070 ; 450  |//! \return
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 432

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26071 ; 451  |//!
                            26072 ; 452  |///////////////////////////////////////////////////////////////////////
                            26073 ; 453  |#ifdef _FOLDER_BROWSE_
                            26074 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int1
                                  6 i16Option);
                            26075 ; 455  |#endif  // _FOLDER_BROWSE_
                            26076 ; 456  |
                            26077 ; 457  |///////////////////////////////////////////////////////////////////////
                            26078 ; 458  |//! \brief
                            26079 ; 459  |//!
                            26080 ; 460  |//! \fntype Function
                            26081 ; 461  |//!
                            26082 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            26083 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            26084 ; 464  |//! music library for that particular media.
                            26085 ; 465  |//!
                            26086 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            26087 ; 467  |//!
                            26088 ; 468  |//! \return
                            26089 ; 469  |//!
                            26090 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            26091 ; 471  |//!         function.
                            26092 ; 472  |///////////////////////////////////////////////////////////////////////
                            26093 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            26094 ; 474  |
                            26095 ; 475  |///////////////////////////////////////////////////////////////////////
                            26096 ; 476  |//! \brief
                            26097 ; 477  |//!
                            26098 ; 478  |//! \fntype Function
                            26099 ; 479  |//!
                            26100 ; 480  |//! \param[in]
                            26101 ; 481  |//!
                            26102 ; 482  |//! \return
                            26103 ; 483  |//!
                            26104 ; 484  |///////////////////////////////////////////////////////////////////////
                            26105 ; 485  |#ifdef _NEWMUSIC_
                            26106 ; 486  |void ML_UpdateNewMusic(void);
                            26107 ; 487  |#endif
                            26108 ; 488  |
                            26109 ; 489  |///////////////////////////////////////////////////////////////////////
                            26110 ; 490  |//! \brief
                            26111 ; 491  |//!
                            26112 ; 492  |//! \fntype Function
                            26113 ; 493  |//!
                            26114 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            26115 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            26116 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            26117 ; 497  |//!
                            26118 ; 498  |//! \param[in]  none
                            26119 ; 499  |//!
                            26120 ; 500  |//! \return
                            26121 ; 501  |//!
                            26122 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            26123 ; 503  |//!         must be called before calling any other music library functions.
                            26124 ; 504  |///////////////////////////////////////////////////////////////////////
                            26125 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            26126 ; 506  |
                            26127 ; 507  |///////////////////////////////////////////////////////////////////////
                            26128 ; 508  |//! \brief
                            26129 ; 509  |//!
                            26130 ; 510  |//! \fntype Function
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 433

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26131 ; 511  |//!
                            26132 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            26133 ; 513  |//! library operation.
                            26134 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            26135 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file
                                   and the
                            26136 ; 516  |//! music.sec file do not exist.
                            26137 ; 517  |//!
                            26138 ; 518  |//! \param[in]  none
                            26139 ; 519  |//!
                            26140 ; 520  |//! \return
                            26141 ; 521  |//!
                            26142 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            26143 ; 523  |//!         must be called before calling any other music library functions.
                            26144 ; 524  |///////////////////////////////////////////////////////////////////////
                            26145 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            26146 ; 526  |
                            26147 ; 527  |///////////////////////////////////////////////////////////////////////
                            26148 ; 528  |//! \brief
                            26149 ; 529  |//!
                            26150 ; 530  |//! \fntype Function
                            26151 ; 531  |//!
                            26152 ; 532  |//! Preload the list, prepare for renew.
                            26153 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            26154 ; 534  |//! structure in RAM.
                            26155 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            26156 ; 536  |//! in RAM.
                            26157 ; 537  |//!
                            26158 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            26159 ; 539  |//!
                            26160 ; 540  |//! \return
                            26161 ; 541  |//!
                            26162 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            26163 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            26164 ; 544  |///////////////////////////////////////////////////////////////////////
                            26165 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            26166 ; 546  |
                            26167 ; 547  |///////////////////////////////////////////////////////////////////////
                            26168 ; 548  |//! \brief
                            26169 ; 549  |//!
                            26170 ; 550  |//! \fntype Function
                            26171 ; 551  |//!
                            26172 ; 552  |//! Save the list to flash memory.
                            26173 ; 553  |//!
                            26174 ; 554  |//! \param[in]
                            26175 ; 555  |//!
                            26176 ; 556  |//! \return
                            26177 ; 557  |//!
                            26178 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            26179 ; 559  |//!         changed by the user.
                            26180 ; 560  |///////////////////////////////////////////////////////////////////////
                            26181 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            26182 ; 562  |
                            26183 ; 563  |///////////////////////////////////////////////////////////////////////
                            26184 ; 564  |//! \brief
                            26185 ; 565  |//!
                            26186 ; 566  |//! \fntype Function
                            26187 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            26188 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in
                                   the
                            26189 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the l
                                  ist.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 434

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26190 ; 570  |//! Otherwise the song is deleted.
                            26191 ; 571  |//!
                            26192 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            26193 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            26194 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            26195 ; 575  |//!
                            26196 ; 576  |//! \return
                            26197 ; 577  |//!
                            26198 ; 578  |///////////////////////////////////////////////////////////////////////
                            26199 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            26200 ; 580  |
                            26201 ; 581  |///////////////////////////////////////////////////////////////////////
                            26202 ; 582  |//! \brief
                            26203 ; 583  |//!
                            26204 ; 584  |//! \fntype Function
                            26205 ; 585  |//!
                            26206 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            26207 ; 587  |//! in the ML_UpdateOnTheGo().
                            26208 ; 588  |//!
                            26209 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            26210 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDE
                                  X_EOF (song will be deleted)
                            26211 ; 591  |//!
                            26212 ; 592  |//! \return
                            26213 ; 593  |//!
                            26214 ; 594  |///////////////////////////////////////////////////////////////////////
                            26215 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            26216 ; 596  |
                            26217 ; 597  |///////////////////////////////////////////////////////////////////////
                            26218 ; 598  |//! \brief
                            26219 ; 599  |//!
                            26220 ; 600  |//! \fntype Function
                            26221 ; 601  |//!
                            26222 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            26223 ; 603  |//!
                            26224 ; 604  |//! \param[in]  none
                            26225 ; 605  |//!
                            26226 ; 606  |//! \return
                            26227 ; 607  |//!
                            26228 ; 608  |///////////////////////////////////////////////////////////////////////
                            26229 ; 609  |void ML_UpdateOnTheGo(void);
                            26230 ; 610  |
                            26231 ; 611  |///////////////////////////////////////////////////////////////////////
                            26232 ; 612  |//! \brief
                            26233 ; 613  |//!
                            26234 ; 614  |//! \fntype Function
                            26235 ; 615  |//!
                            26236 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            26237 ; 617  |//! Call only once before inserting items. Call once for each media.
                            26238 ; 618  |//!
                            26239 ; 619  |//! \param[in]  none
                            26240 ; 620  |//!
                            26241 ; 621  |//! \return
                            26242 ; 622  |//!
                            26243 ; 623  |///////////////////////////////////////////////////////////////////////
                            26244 ; 624  |void ML_InitVoiceParameter(void);
                            26245 ; 625  |
                            26246 ; 626  |///////////////////////////////////////////////////////////////////////
                            26247 ; 627  |//! \brief
                            26248 ; 628  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 435

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26249 ; 629  |//! \fntype Function
                            26250 ; 630  |//!
                            26251 ; 631  |//! \param[in]
                            26252 ; 632  |//!
                            26253 ; 633  |//! \return
                            26254 ; 634  |//!
                            26255 ; 635  |///////////////////////////////////////////////////////////////////////
                            26256 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            26257 ; 637  |
                            26258 ; 638  |///////////////////////////////////////////////////////////////////////
                            26259 ; 639  |//! \brief
                            26260 ; 640  |//!
                            26261 ; 641  |//! \fntype Function
                            26262 ; 642  |//!
                            26263 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            26264 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names
                                  .
                            26265 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            26266 ; 646  |//!
                            26267 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            26268 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed f
                                  rom UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            26269 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            26270 ; 650  |//!
                            26271 ; 651  |//! \return
                            26272 ; 652  |//!
                            26273 ; 653  |///////////////////////////////////////////////////////////////////////
                            26274 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            26275 ; 655  |
                            26276 ; 656  |///////////////////////////////////////////////////////////////////////
                            26277 ; 657  |//! \brief
                            26278 ; 658  |//!
                            26279 ; 659  |//! \fntype Function
                            26280 ; 660  |//!
                            26281 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            26282 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice buildi
                                  ng
                            26283 ; 663  |//! of music library for that particular media.
                            26284 ; 664  |//!
                            26285 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            26286 ; 666  |//!
                            26287 ; 667  |//! \return
                            26288 ; 668  |//!
                            26289 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            26290 ; 670  |//!         function.
                            26291 ; 671  |///////////////////////////////////////////////////////////////////////
                            26292 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            26293 ; 673  |
                            26294 ; 674  |///////////////////////////////////////////////////////////////////////
                            26295 ; 675  |//! \brief
                            26296 ; 676  |//!
                            26297 ; 677  |//! \fntype Function
                            26298 ; 678  |//!
                            26299 ; 679  |//! Called by UI, the merge the music library tables album,
                            26300 ; 680  |//! artist, genre, song and year.
                            26301 ; 681  |//!
                            26302 ; 682  |//! \param[in]  none
                            26303 ; 683  |//!
                            26304 ; 684  |//! \return
                            26305 ; 685  |//!
                            26306 ; 686  |///////////////////////////////////////////////////////////////////////
                            26307 ; 687  |void ML_MergeLibraryTables(void);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 436

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26308 ; 688  |
                            26309 ; 689  |///////////////////////////////////////////////////////////////////////
                            26310 ; 690  |//! \brief
                            26311 ; 691  |//!
                            26312 ; 692  |//! \fntype Function
                            26313 ; 693  |//!
                            26314 ; 694  |//! Called by UI, the merge the music library tables album,
                            26315 ; 695  |//! artist, genre, song and year.
                            26316 ; 696  |//!
                            26317 ; 697  |//! \param[in]  none
                            26318 ; 698  |//!
                            26319 ; 699  |//! \return
                            26320 ; 700  |//!
                            26321 ; 701  |///////////////////////////////////////////////////////////////////////
                            26322 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            26323 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            26324 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            26325 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            26326 ; 706  |
                            26327 ; 707  |///////////////////////////////////////////////////////////////////////
                            26328 ; 708  |//! \brief
                            26329 ; 709  |//!
                            26330 ; 710  |//! \fntype Function
                            26331 ; 711  |//!
                            26332 ; 712  |//! \param[in]
                            26333 ; 713  |//!
                            26334 ; 714  |//! \return
                            26335 ; 715  |//!
                            26336 ; 716  |///////////////////////////////////////////////////////////////////////
                            26337 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            26338 ; 718  |
                            26339 ; 719  |/*========================================================================================
                                  ========*/
                            26340 ; 720  |
                            26341 ; 721  |// Siukoon 2005-02-28
                            26342 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            26343 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            26344 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            26345 ; 725  |#else
                            26346 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            26347 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            26348 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            26349 ; 729  |#define WORD_PER_SECTOR             (171)
                            26350 ; 730  |#define BYTE_PER_SECTOR             (512)
                            26351 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            26352 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PE
                                  R_SECTOR)
                            26353 ; 733  |
                            26354 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            26355 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            26356 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_B
                                  YTE_PER_SECTOR)
                            26357 ; 737  |
                            26358 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            26359 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            26360 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            26361 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            26362 ; 742  |
                            26363 ; 743  |/////////////////////
                            26364 ; 744  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 437

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26365 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            26366 ; 746  |
                            26367 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            26368 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            26369 ; 749  |#else
                            26370 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            26371 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            26372 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                                  
                            26373 ; 753  |
                            26374 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            26375 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            26376 ; 756  |
                            26377 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            26378 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            26379 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            26380 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            26381 ; 761  |#else
                            26382 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            26383 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            26384 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            26385 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            26386 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            26387 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            26388 ; 768  |
                            26389 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            26390 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            26391 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            26392 ; 772  |#else
                            26393 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG
                                  _PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            26394 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            26395 ; 775  |
                            26396 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            26397 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SI
                                  ZE_IN_BYTE)
                            26398 ; 778  |
                            26399 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            26400 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            26401 ; 781  |
                            26402 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            26403 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            26404 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            26405 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            26406 ; 786  |#else
                            26407 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            26408 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            26409 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            26410 ; 790  |
                            26411 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            26412 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6
                                  )
                            26413 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            26414 ; 794  |#else
                            26415 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            26416 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            26417 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            26418 ; 798  |
                            26419 ; 799  |#ifdef __cplusplus
                            26420 ; 800  |}
                            26421 ; 801  |#endif
                            26422 ; 802  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 438

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26423 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            26424 
                            26426 
                            26427 ; 5    |#ifdef _FOLDER_BROWSE_
                            26428 ; 6    |#define BROWSE_MAX_LEVEL    8
                            26429 ; 7    |#else
                            26430 ; 8    |#define BROWSE_MAX_LEVEL    3
                            26431 ; 9    |#endif  // _FOLDER_BROWSE_
                            26432 ; 10   |
                            26433 ; 11   |typedef struct _disp_year_list_arg
                            26434 ; 12   |{
                            26435 ; 13   |    int                 iHighLightedItem;
                            26436 ; 14   |    FLASH_GROUP_NAME_T* browse_item_name;
                            26437 ; 15   |    int                 num_of_item;
                            26438 ; 16   |    int                 window_offset;
                            26439 ; 17   |    BOOL                bHavePlayAll;
                            26440 ; 18   |} DISP_YEAR_LIST_ARG_T;
                            26441 ; 19   |
                            26442 ; 20   |typedef struct _browsemenu_init_arg
                            26443 ; 21   |{
                            26444 ; 22   |    INT     browse_type;
                            26445 ; 23   |    INT     browse_lv;
                            26446 ; 24   |    INT*    pbrowse_max_lv;
                            26447 ; 25   |    INT*    num_of_item;
                            26448 ; 26   |    BOOL*   bHaveNext;
                            26449 ; 27   |} BROWSEMENU_INIT_ARG_T;
                            26450 ; 28   |
                            26451 ; 29   |extern BOOL g_bDeleteBrowse;
                            26452 ; 30   |extern BOOL bPlayVoice;
                            26453 ; 31   |extern BOOL bFavoritesUpdate;
                            26454 ; 32   |
                            26455 ; 33   |
                            26456 ; 34   |#endif  /* BROWSEMENU_H */
                            26457 
                            26459 
                            26460 ; 47   |#include "menus.h"
                            26461 
                            26463 
                            26464 ; 1    |#ifndef _MENU_H
                            26465 ; 2    |#define _MENU_H
                            26466 ; 3    |
                            26467 ; 4    |#include "types.h"
                            26468 
                            26470 
                            26471 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            26472 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            26473 ; 3    |//
                            26474 ; 4    |// Filename: types.h
                            26475 ; 5    |// Description: Standard data types
                            26476 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            26477 ; 7    |
                            26478 ; 8    |#ifndef _TYPES_H
                            26479 ; 9    |#define _TYPES_H
                            26480 ; 10   |
                            26481 ; 11   |// TODO:  move this outta here!
                            26482 ; 12   |#if !defined(NOERROR)
                            26483 ; 13   |#define NOERROR 0
                            26484 ; 14   |#define SUCCESS 0
                            26485 ; 15   |#endif 
                            26486 ; 16   |#if !defined(SUCCESS)
                            26487 ; 17   |#define SUCCESS  0
                            26488 ; 18   |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 439

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26489 ; 19   |#if !defined(ERROR)
                            26490 ; 20   |#define ERROR   -1
                            26491 ; 21   |#endif
                            26492 ; 22   |#if !defined(FALSE)
                            26493 ; 23   |#define FALSE 0
                            26494 ; 24   |#endif
                            26495 ; 25   |#if !defined(TRUE)
                            26496 ; 26   |#define TRUE  1
                            26497 ; 27   |#endif
                            26498 ; 28   |
                            26499 ; 29   |#if !defined(NULL)
                            26500 ; 30   |#define NULL 0
                            26501 ; 31   |#endif
                            26502 ; 32   |
                            26503 ; 33   |#define MAX_INT     0x7FFFFF
                            26504 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            26505 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            26506 ; 36   |#define MAX_ULONG   (-1) 
                            26507 ; 37   |
                            26508 ; 38   |#define WORD_SIZE   24              // word size in bits
                            26509 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            26510 ; 40   |
                            26511 ; 41   |
                            26512 ; 42   |#define BYTE    unsigned char       // btVarName
                            26513 ; 43   |#define CHAR    signed char         // cVarName
                            26514 ; 44   |#define USHORT  unsigned short      // usVarName
                            26515 ; 45   |#define SHORT   unsigned short      // sVarName
                            26516 ; 46   |#define WORD    unsigned int        // wVarName
                            26517 ; 47   |#define INT     signed int          // iVarName
                            26518 ; 48   |#define DWORD   unsigned long       // dwVarName
                            26519 ; 49   |#define LONG    signed long         // lVarName
                            26520 ; 50   |#define BOOL    unsigned int        // bVarName
                            26521 ; 51   |#define FRACT   _fract              // frVarName
                            26522 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            26523 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            26524 ; 54   |#define FLOAT   float               // fVarName
                            26525 ; 55   |#define DBL     double              // dVarName
                            26526 ; 56   |#define ENUM    enum                // eVarName
                            26527 ; 57   |#define CMX     _complex            // cmxVarName
                            26528 ; 58   |typedef WORD UCS3;                   // 
                            26529 ; 59   |
                            26530 ; 60   |#define UINT16  unsigned short
                            26531 ; 61   |#define UINT8   unsigned char   
                            26532 ; 62   |#define UINT32  unsigned long
                            26533 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            26534 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            26535 ; 65   |#define WCHAR   UINT16
                            26536 ; 66   |
                            26537 ; 67   |//UINT128 is 16 bytes or 6 words
                            26538 ; 68   |typedef struct UINT128_3500 {   
                            26539 ; 69   |    int val[6];     
                            26540 ; 70   |} UINT128_3500;
                            26541 ; 71   |
                            26542 ; 72   |#define UINT128   UINT128_3500
                            26543 ; 73   |
                            26544 ; 74   |// Little endian word packed byte strings:   
                            26545 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            26546 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            26547 ; 77   |// Little endian word packed byte strings:   
                            26548 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 440

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26549 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            26550 ; 80   |
                            26551 ; 81   |// Declare Memory Spaces To Use When Coding
                            26552 ; 82   |// A. Sector Buffers
                            26553 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            26554 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            26555 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            26556 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            26557 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            26558 ; 88   |// B. Media DDI Memory
                            26559 ; 89   |#define MEDIA_DDI_MEM _Y
                            26560 ; 90   |
                            26561 ; 91   |
                            26562 ; 92   |
                            26563 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            26564 ; 94   |// Examples of circular pointers:
                            26565 ; 95   |//    INT CIRC cpiVarName
                            26566 ; 96   |//    DWORD CIRC cpdwVarName
                            26567 ; 97   |
                            26568 ; 98   |#define RETCODE INT                 // rcVarName
                            26569 ; 99   |
                            26570 ; 100  |// generic bitfield structure
                            26571 ; 101  |struct Bitfield {
                            26572 ; 102  |    unsigned int B0  :1;
                            26573 ; 103  |    unsigned int B1  :1;
                            26574 ; 104  |    unsigned int B2  :1;
                            26575 ; 105  |    unsigned int B3  :1;
                            26576 ; 106  |    unsigned int B4  :1;
                            26577 ; 107  |    unsigned int B5  :1;
                            26578 ; 108  |    unsigned int B6  :1;
                            26579 ; 109  |    unsigned int B7  :1;
                            26580 ; 110  |    unsigned int B8  :1;
                            26581 ; 111  |    unsigned int B9  :1;
                            26582 ; 112  |    unsigned int B10 :1;
                            26583 ; 113  |    unsigned int B11 :1;
                            26584 ; 114  |    unsigned int B12 :1;
                            26585 ; 115  |    unsigned int B13 :1;
                            26586 ; 116  |    unsigned int B14 :1;
                            26587 ; 117  |    unsigned int B15 :1;
                            26588 ; 118  |    unsigned int B16 :1;
                            26589 ; 119  |    unsigned int B17 :1;
                            26590 ; 120  |    unsigned int B18 :1;
                            26591 ; 121  |    unsigned int B19 :1;
                            26592 ; 122  |    unsigned int B20 :1;
                            26593 ; 123  |    unsigned int B21 :1;
                            26594 ; 124  |    unsigned int B22 :1;
                            26595 ; 125  |    unsigned int B23 :1;
                            26596 ; 126  |};
                            26597 ; 127  |
                            26598 ; 128  |union BitInt {
                            26599 ; 129  |        struct Bitfield B;
                            26600 ; 130  |        int        I;
                            26601 ; 131  |};
                            26602 ; 132  |
                            26603 ; 133  |#define MAX_MSG_LENGTH 10
                            26604 ; 134  |struct CMessage
                            26605 ; 135  |{
                            26606 ; 136  |        unsigned int m_uLength;
                            26607 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            26608 ; 138  |};
                            26609 ; 139  |
                            26610 ; 140  |typedef struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 441

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26611 ; 141  |    WORD m_wLength;
                            26612 ; 142  |    WORD m_wMessage;
                            26613 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            26614 ; 144  |} Message;
                            26615 ; 145  |
                            26616 ; 146  |struct MessageQueueDescriptor
                            26617 ; 147  |{
                            26618 ; 148  |        int *m_pBase;
                            26619 ; 149  |        int m_iModulo;
                            26620 ; 150  |        int m_iSize;
                            26621 ; 151  |        int *m_pHead;
                            26622 ; 152  |        int *m_pTail;
                            26623 ; 153  |};
                            26624 ; 154  |
                            26625 ; 155  |struct ModuleEntry
                            26626 ; 156  |{
                            26627 ; 157  |    int m_iSignaledEventMask;
                            26628 ; 158  |    int m_iWaitEventMask;
                            26629 ; 159  |    int m_iResourceOfCode;
                            26630 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            26631 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            26632 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            26633 ; 163  |    int m_uTimeOutHigh;
                            26634 ; 164  |    int m_uTimeOutLow;
                            26635 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            26636 ; 166  |};
                            26637 ; 167  |
                            26638 ; 168  |union WaitMask{
                            26639 ; 169  |    struct B{
                            26640 ; 170  |        unsigned int m_bNone     :1;
                            26641 ; 171  |        unsigned int m_bMessage  :1;
                            26642 ; 172  |        unsigned int m_bTimer    :1;
                            26643 ; 173  |        unsigned int m_bButton   :1;
                            26644 ; 174  |    } B;
                            26645 ; 175  |    int I;
                            26646 ; 176  |} ;
                            26647 ; 177  |
                            26648 ; 178  |
                            26649 ; 179  |struct Button {
                            26650 ; 180  |        WORD wButtonEvent;
                            26651 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            26652 ; 182  |};
                            26653 ; 183  |
                            26654 ; 184  |struct Message {
                            26655 ; 185  |        WORD wMsgLength;
                            26656 ; 186  |        WORD wMsgCommand;
                            26657 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            26658 ; 188  |};
                            26659 ; 189  |
                            26660 ; 190  |union EventTypes {
                            26661 ; 191  |        struct CMessage msg;
                            26662 ; 192  |        struct Button Button ;
                            26663 ; 193  |        struct Message Message;
                            26664 ; 194  |};
                            26665 ; 195  |
                            26666 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            26667 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            26668 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            26669 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            26670 ; 200  |
                            26671 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 442

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26672 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            26673 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            26674 ; 204  |
                            26675 ; 205  |#if DEBUG
                            26676 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            26677 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            26678 ; 208  |#else 
                            26679 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            26680 ; 210  |#define DebugBuildAssert(x)    
                            26681 ; 211  |#endif
                            26682 ; 212  |
                            26683 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            26684 ; 214  |//  #pragma asm
                            26685 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            26686 ; 216  |//  #pragma endasm
                            26687 ; 217  |
                            26688 ; 218  |
                            26689 ; 219  |#ifdef COLOR_262K
                            26690 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            26691 ; 221  |#elif defined(COLOR_65K)
                            26692 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            26693 ; 223  |#else
                            26694 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            26695 ; 225  |#endif
                            26696 ; 226  |    
                            26697 ; 227  |#endif // #ifndef _TYPES_H
                            26698 
                            26700 
                            26701 ; 5    |
                            26702 ; 6    |#define TIMER_ANIMATE           0
                            26703 ; 7    |#define TIMER_AUTO_SHUTDOWN     1
                            26704 ; 8    |#define TIMER_BATT_CHK          2
                            26705 ; 9    |#define TIMER_SONG_CHANGE       3
                            26706 ; 10   |#define TIMER_TUNER                             4
                            26707 ; 11   |#define TIMER_BACKLIGHT                 5
                            26708 ; 12   |#define TIMER_FFRWND                6
                            26709 ; 13   |#define TIMER_BATTERY_CHARGER   7
                            26710 ; 14   |#define TIMER_TIMEDATE                  8
                            26711 ; 15   |#define TIMER_JPEG_DECODER_CALLBACK 6 //shared with TIMER_FFRWND since they won't use toge
                                  ther
                            26712 ; 16   |#define TIMER_APIC_UPDATE               9
                            26713 ; 17   |
                            26714 ; 18   |#define MENU_MSG_ANIMATE            MENU_LAST_MSG_ID+1
                            26715 ; 19   |#define MENU_MSG_AUTOSHUTDOWN       MENU_LAST_MSG_ID+2
                            26716 ; 20   |#define MENU_SONG_CHANGE_TIMEOUT    MENU_LAST_MSG_ID+3
                            26717 ; 21   |#define MENU_TUNER_READY                        MENU_LAST_MSG_ID+4
                            26718 ; 22   |#define MENU_MSG_TURN_OFF_BACKLIGHT MENU_LAST_MSG_ID+5
                            26719 ; 23   |#define MENU_MSG_SEND_FF            MENU_LAST_MSG_ID+6
                            26720 ; 24   |#define MENU_MSG_SEND_RWND          MENU_LAST_MSG_ID+7
                            26721 ; 25   |#define MENU_BATTERY_CHARGER_TIMEOUT  MENU_LAST_MSG_ID+8
                            26722 ; 26   |#define MENU_MSG_REFRESH_TIMEDATE       MENU_LAST_MSG_ID+9
                            26723 ; 27   |#ifdef USE_PLAYLIST3
                            26724 ; 28   |#define MENU_PAGE_ITEM_COUNT    (4)
                            26725 ; 29   |#define MENU_ITEM_HEIGHT                (8)
                            26726 ; 30   |#define MENU_ITEM_X_OFFSET      (0)
                            26727 ; 31   |#define MENU_ITEM_Y_OFFSET      (16)
                            26728 ; 32   |
                            26729 ; 33   |#define PLAYLIST_ENABLE         (0)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 443

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26730 ; 34   |#endif
                            26731 ; 35   |#define ANIMATE_PERIOD          (100)
                            26732 ; 36   |#define MENU_MSG_JPEG_CALLBACK            MENU_LAST_MSG_ID+10
                            26733 ; 37   |#define MENU_JPEG_THUMBNAIL_CURSOR  MENU_LAST_MSG_ID+11
                            26734 ; 38   |#define MENU_JPEG_NEXT_PICTURE          MENU_LAST_MSG_ID+12
                            26735 ; 39   |#define MENU_MSG_APIC_UPDATE            MENU_LAST_MSG_ID+13
                            26736 ; 40   |#ifdef USE_PLAYLIST5
                            26737 ; 41   |#define MENU_MSG_PL5_PLAY_SONG          MENU_LAST_MSG_ID+14
                            26738 ; 42   |#endif
                            26739 ; 43   |
                            26740 ; 44   |#define MENU_BATTERY_CHARGER_TIMEOUT  MENU_LAST_MSG_ID+8
                            26741 ; 45   |#define FILE_NAME_BUFFER_SIZE  7
                            26742 ; 46   |#define TIMER_JPEG_DECODER_TIMEOUT_MS 5
                            26743 ; 47   |
                            26744 ; 48   |// used with shutdown menu
                            26745 ; 49   |// FORCESHUTDOWN does not allow abort
                            26746 ; 50   |// USERSHUTDOWN allows user abort if PH_STOP is not held long enough
                            26747 ; 51   |#define FORCESHUTDOWN                   TRUE
                            26748 ; 52   |#define USERSHUTDOWN                    FALSE
                            26749 ; 53   |
                            26750 ; 54   |// if low battery display low battery message
                            26751 ; 55   |#define LOWBATT                                 TRUE
                            26752 ; 56   |#define REGBATT                                 FALSE
                            26753 ; 57   |
                            26754 ; 58   |//Backlight Define Statements
                            26755 ; 59   |#ifdef CLCD
                            26756 ; 60   |#ifdef CLCD_16BIT
                            26757 ; 61   |#define BACKLIGHT_CONTROL_REGISTER              HW_PWM_CH0AR.I
                            26758 ; 62   |#define BACKLIGHT_CONTROL_REGISTER_ENABLE       HW_GP0ENR.B.B9  //PWM2
                            26759 ; 63   |#define BACKLIGHT_CONTROL_REGISTER_DIRECTION    HW_GP0DOER.B.B9
                            26760 ; 64   |#define BACKLIGHT_ON                            0x06C000
                            26761 ; 65   |#define BACKLIGHT_OFF                           0x024000
                            26762 ; 66   |#else
                            26763 ; 67   |#define BACKLIGHT_CONTROL_REGISTER              HW_PWM_CH2AR.I
                            26764 ; 68   |#define BACKLIGHT_CONTROL_REGISTER_ENABLE       HW_GP0ENR.B.B9  //PWM2
                            26765 ; 69   |#define BACKLIGHT_CONTROL_REGISTER_DIRECTION    HW_GP0DOER.B.B9
                            26766 ; 70   |#define BACKLIGHT_ON                            0x006000
                            26767 ; 71   |#define BACKLIGHT_OFF                           0x002000
                            26768 ; 72   |#endif
                            26769 ; 73   |#else
                            26770 ; 74   |#define BACKLIGHT_CONTROL_REGISTER              HW_GP0DOR.B.B9
                            26771 ; 75   |#define BACKLIGHT_CONTROL_REGISTER_ENABLE       HW_GP0ENR.B.B9
                            26772 ; 76   |#define BACKLIGHT_CONTROL_REGISTER_DIRECTION    HW_GP0DOER.B.B9
                            26773 ; 77   |#define BACKLIGHT_ON                            TRUE
                            26774 ; 78   |#define BACKLIGHT_OFF                           FALSE
                            26775 ; 79   |#endif
                            26776 ; 80   |#define BACKLIGHT_TIME                                          5000            //5 second
                                  s
                            26777 ; 81   |
                            26778 ; 82   |// used with NextEQ / NextPlayMode to indicate direction
                            26779 ; 83   |#define INCREMENT 1
                            26780 ; 84   |#define DECREMENT 0
                            26781 ; 85   |
                            26782 ; 86   |//These two sit outside the boundary of MENU_FIRST and MENU_LAST simply because they're
                            26783 ; 87   |//states that aren't included in the displayed list.
                            26784 ; 88   |#define MENU_EXIT       101
                            26785 ; 89   |#define MENU_MAIN       100
                            26786 ; 90   |
                            26787 ; 91   |// menu flags
                            26788 ; 92   |#define MENU_FLAG_POWER_DOWN_ENABLED    B0      // when clear, disable tracking
                            26789 ; 93   |#define MENU_FLAG_ESCAPE_TO_MUSIC               B1      // when set, escape all menu nesti
                                  ng to music
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 444

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26790 ; 94   |#define MENU_FLAG_SAVE_CHANGES          B2  // true if fast escape interrupted by save cha
                                  nges?
                            26791 ; 95   |#if (defined USE_PLAYLIST3) || (defined USE_PLAYLIST5)
                            26792 ; 96   |#define MENU_FLAG_ESCAPE_TO_RECORD              B2      // when set, escape all menu nesti
                                  ng to voice/fm menu and start recording
                            26793 ; 97   |#define MENU_FLAG_RETURN_TO_MUSIC               B3      // when set, escape all menu nesti
                                  ng to music
                            26794 ; 98   |#endif
                            26795 ; 99   |
                            26796 ; 100  |#define LANGUAGES_ENG   0
                            26797 ; 101  |#define LANGUAGES_VIE   1
                            26798 ; 102  |#define LANGUAGES_FIRST LANGUAGES_ENG
                            26799 ; 103  |#define LANGUAGES_LAST          LANGUAGES_VIE
                            26800 ; 104  |
                            26801 ; 105  |// 1 word menu variable -- bit flags
                            26802 ; 106  |extern struct Bitfield g_MenuFlags;
                            26803 ; 107  |
                            26804 ; 108  |// This data type is declared in mainmenu.c, but is externed here for all other menus.
                            26805 ; 109  |extern union EventTypes gEventInfo;
                            26806 ; 110  |
                            26807 ; 111  |//each menu should set g_iCurrentMenu to make sure the menu icon shows up correctly.
                            26808 ; 112  |extern INT g_iCurrentMenu;
                            26809 ; 113  |
                            26810 ; 114  |//Backlight State
                            26811 ; 115  |extern INT g_iBackLightState;
                            26812 ; 116  |
                            26813 ; 117  |//Language state
                            26814 ; 118  |extern INT g_iLanguage;
                            26815 ; 119  |
                            26816 ; 120  |//Export all Menu prototypes for calls allowed from other code banks
                            26817 ; 121  |void _reentrant UserTask(int a, int b, int *pPtr);
                            26818 ; 122  |_reentrant INT ShutdownMenu( INT iIgnored1, INT iIgnored2, INT *pPtr);
                            26819 ; 123  |_reentrant INT SplashScreen( INT iResource, INT iMilliseconds, INT *pPtr);
                            26820 ; 124  |int _reentrant MusicMenu(INT a, INT b, INT *c);
                            26821 ; 125  |#ifdef USE_PLAYLIST3
                            26822 ; 126  |int _reentrant PlayMusicMenu(INT a, INT b, INT *c);
                            26823 ; 127  |int _reentrant NewMusicMenu(INT a, INT b, INT *c);
                            26824 ; 128  |int _reentrant BrowseMenu(INT a, INT b, INT *c);
                            26825 ; 129  |#endif // #ifdef USE_PLAYLIST3
                            26826 ; 130  |#ifdef MOTION_VIDEO
                            26827 ; 131  |int _reentrant MotionVideoMenu(INT a, INT b, INT *c);
                            26828 ; 132  |#endif
                            26829 ; 133  |#ifdef JPEG_APP
                            26830 ; 134  |int _reentrant JpegDisplayMenu(int a, int b, int *pPtr);
                            26831 ; 135  |int _reentrant JpegManualMenu(int a, int b, int *pPtr);
                            26832 ; 136  |int _reentrant JpegSlideshowMenu(int a, int b, int *pPtr);
                            26833 ; 137  |int _reentrant JpegThumbnailMenu(int a, int b, int *pPtr);
                            26834 ; 138  |#endif
                            26835 ; 139  |int _reentrant SpectrogramMenu(INT a, INT b, INT *pPtr);
                            26836 ; 140  |int _reentrant VoiceMenu(int a, int b, int *c);
                            26837 ; 141  |int _reentrant SettingsMenu(int a, int b, int *pPtr);
                            26838 ; 142  |int _reentrant EqMenu(int a, int b, int *pPtr);
                            26839 ; 143  |int _reentrant SendEQ(int iCurrentEQ, int b, int *pPtr);
                            26840 ; 144  |
                            26841 ; 145  |int _reentrant PlayModeMenu(int a, int b, int *pPtr);
                            26842 ; 146  |int _reentrant NextPlayMode(int iDirection, int b, int *c);
                            26843 ; 147  |int _reentrant ContrastMenu(int a, int b, int *pPtr);
                            26844 ; 148  |int _reentrant AboutMenu(int a, int b, int *pPtr);
                            26845 ; 149  |#ifdef USE_PLAYLIST5
                            26846 ; 150  |int _reentrant BrowseMenu(INT a, INT b, INT *c);
                            26847 ; 151  |#endif
                            26848 ; 152  |int _reentrant DeleteMenu(int a, int b, int *pPtr);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 445

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26849 ; 153  |int _reentrant PwrSavingsMenu(int a, int b, int *pPtr);
                            26850 ; 154  |int _reentrant BackLightMenu(int a, int b, int *pPtr);
                            26851 ; 155  |int _reentrant RecordSettingsMenu(int a, int b, int *pPtr);
                            26852 ; 156  |int _reentrant TimeDateMenu(int a, int b, int *pPtr);
                            26853 ; 157  |int _reentrant SetTimeMenu(int a, int b, int *pPtr);
                            26854 ; 158  |int _reentrant SetDateMenu(int a, int b, int *pPtr);
                            26855 ; 159  |
                            26856 ; 160  |int _reentrant TestMenu(int a, int b, int *pPtr);
                            26857 ; 161  |void _reentrant RecordTestMenu(void);
                            26858 ; 162  |
                            26859 ; 163  |int _reentrant FMTunerMenu(int a, int b, int *c);
                            26860 ; 164  |int _reentrant InitPlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr);
                            26861 ; 165  |int _reentrant HandlePlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr);
                            26862 ; 166  |int _reentrant ExitPlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr);
                            26863 ; 167  |_reentrant int InitRecorderStateMachine(int EncodingType, int InputSource, int *c);
                            26864 ; 168  |_reentrant int HandleRecorderStateMachine(int a, int b, int *c);
                            26865 ; 169  |_reentrant int ExitRecorderStateMachine(int InputSource, int b, int *c);
                            26866 ; 170  |int _reentrant NextEQ(INT iDirection, INT b, INT *c);
                            26867 ; 171  |_reentrant INT RecordVoiceFile(INT a, INT b, INT *pPtr);
                            26868 ; 172  |_reentrant int RefreshDisplay           ( int iDisplayHint, int a, int *pPtr);
                            26869 ; 173  |_reentrant void DisplayClearDisplay      ( int iDisplayHint, int a, int *pPtr);
                            26870 ; 174  |_reentrant int DisplayEQIcon            ( int iDisplayHint, int a, int *pPtr);
                            26871 ; 175  |_reentrant int DisplayVolume            ( int iDisplayHint, int a, int *pPtr);
                            26872 ; 176  |_reentrant int DisplayShutdownProgress  ( int iDisplayHint, int a, int *pPtr);
                            26873 ; 177  |_reentrant int DisplayDefragmentstore  ( int iDisplayHint, int a, int *pPtr);
                            26874 ; 178  |_reentrant int DisplayKickOff           ( int iDisplayHint, int a, int *pPtr);
                            26875 ; 179  |_reentrant int DisplayKickOffLocked     ( int iDisplayHint, int a, int *pPtr);
                            26876 ; 180  |_reentrant void DisplayLockIcon          ( int iDisplayHint, int a, int *pPtr);
                            26877 ; 181  |_reentrant void ChangePlaySet(INT mode);
                            26878 ; 182  |void _reentrant UpdateAutoShutdownTimer (void);
                            26879 ; 183  |int _reentrant SetPwrSetting (int iCurrentPwrSetting, int b, int *pPtr);
                            26880 ; 184  |int  _reentrant SendPlayMode(int iCurrentPlayMode, int b, int *pPtr);
                            26881 ; 185  |_reentrant int DeleteFilePrompt(int a,int b, int *pPtr);
                            26882 ; 186  |#endif
                            26883 ; 187  |
                            26884 
                            26886 
                            26887 ; 48   |#else
                            26888 ; 49   |#ifdef   USE_PLAYLIST5
                            26889 ; 50   |#include "playlist5.h"
                            26890 ; 51   |#endif
                            26891 ; 52   |#endif
                            26892 ; 53   |#endif
                            26893 ; 54   |#endif
                            26894 ; 55   |#ifdef WOW
                            26895 ; 56   |#include "wow_ed.h"
                            26896 ; 57   |#endif
                            26897 ; 58   |
                            26898 ; 59   |#ifdef AUDIBLE
                            26899 ; 60   |#include "audiblesongposition.h"
                            26900 ; 61   |
                            26901 ; 62   |extern INT DecoderResourcePtr;
                            26902 ; 63   |#endif
                            26903 ; 64   |#include "menus.h"
                            26904 
                            26906 
                            26907 ; 1    |#ifndef _MENU_H
                            26908 ; 2    |#define _MENU_H
                            26909 ; 3    |
                            26910 ; 4    |#include "types.h"
                            26911 ; 5    |
                            26912 ; 6    |#define TIMER_ANIMATE           0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 446

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26913 ; 7    |#define TIMER_AUTO_SHUTDOWN     1
                            26914 ; 8    |#define TIMER_BATT_CHK          2
                            26915 ; 9    |#define TIMER_SONG_CHANGE       3
                            26916 ; 10   |#define TIMER_TUNER                             4
                            26917 ; 11   |#define TIMER_BACKLIGHT                 5
                            26918 ; 12   |#define TIMER_FFRWND                6
                            26919 ; 13   |#define TIMER_BATTERY_CHARGER   7
                            26920 ; 14   |#define TIMER_TIMEDATE                  8
                            26921 ; 15   |#define TIMER_JPEG_DECODER_CALLBACK 6 //shared with TIMER_FFRWND since they won't use toge
                                  ther
                            26922 ; 16   |#define TIMER_APIC_UPDATE               9
                            26923 ; 17   |
                            26924 ; 18   |#define MENU_MSG_ANIMATE            MENU_LAST_MSG_ID+1
                            26925 ; 19   |#define MENU_MSG_AUTOSHUTDOWN       MENU_LAST_MSG_ID+2
                            26926 ; 20   |#define MENU_SONG_CHANGE_TIMEOUT    MENU_LAST_MSG_ID+3
                            26927 ; 21   |#define MENU_TUNER_READY                        MENU_LAST_MSG_ID+4
                            26928 ; 22   |#define MENU_MSG_TURN_OFF_BACKLIGHT MENU_LAST_MSG_ID+5
                            26929 ; 23   |#define MENU_MSG_SEND_FF            MENU_LAST_MSG_ID+6
                            26930 ; 24   |#define MENU_MSG_SEND_RWND          MENU_LAST_MSG_ID+7
                            26931 ; 25   |#define MENU_BATTERY_CHARGER_TIMEOUT  MENU_LAST_MSG_ID+8
                            26932 ; 26   |#define MENU_MSG_REFRESH_TIMEDATE       MENU_LAST_MSG_ID+9
                            26933 ; 27   |#ifdef USE_PLAYLIST3
                            26934 ; 28   |#define MENU_PAGE_ITEM_COUNT    (4)
                            26935 ; 29   |#define MENU_ITEM_HEIGHT                (8)
                            26936 ; 30   |#define MENU_ITEM_X_OFFSET      (0)
                            26937 ; 31   |#define MENU_ITEM_Y_OFFSET      (16)
                            26938 ; 32   |
                            26939 ; 33   |#define PLAYLIST_ENABLE         (0)
                            26940 ; 34   |#endif
                            26941 ; 35   |#define ANIMATE_PERIOD          (100)
                            26942 ; 36   |#define MENU_MSG_JPEG_CALLBACK            MENU_LAST_MSG_ID+10
                            26943 ; 37   |#define MENU_JPEG_THUMBNAIL_CURSOR  MENU_LAST_MSG_ID+11
                            26944 ; 38   |#define MENU_JPEG_NEXT_PICTURE          MENU_LAST_MSG_ID+12
                            26945 ; 39   |#define MENU_MSG_APIC_UPDATE            MENU_LAST_MSG_ID+13
                            26946 ; 40   |#ifdef USE_PLAYLIST5
                            26947 ; 41   |#define MENU_MSG_PL5_PLAY_SONG          MENU_LAST_MSG_ID+14
                            26948 ; 42   |#endif
                            26949 ; 43   |
                            26950 ; 44   |#define MENU_BATTERY_CHARGER_TIMEOUT  MENU_LAST_MSG_ID+8
                            26951 ; 45   |#define FILE_NAME_BUFFER_SIZE  7
                            26952 ; 46   |#define TIMER_JPEG_DECODER_TIMEOUT_MS 5
                            26953 ; 47   |
                            26954 ; 48   |// used with shutdown menu
                            26955 ; 49   |// FORCESHUTDOWN does not allow abort
                            26956 ; 50   |// USERSHUTDOWN allows user abort if PH_STOP is not held long enough
                            26957 ; 51   |#define FORCESHUTDOWN                   TRUE
                            26958 ; 52   |#define USERSHUTDOWN                    FALSE
                            26959 ; 53   |
                            26960 ; 54   |// if low battery display low battery message
                            26961 ; 55   |#define LOWBATT                                 TRUE
                            26962 ; 56   |#define REGBATT                                 FALSE
                            26963 ; 57   |
                            26964 ; 58   |//Backlight Define Statements
                            26965 ; 59   |#ifdef CLCD
                            26966 ; 60   |#ifdef CLCD_16BIT
                            26967 ; 61   |#define BACKLIGHT_CONTROL_REGISTER              HW_PWM_CH0AR.I
                            26968 ; 62   |#define BACKLIGHT_CONTROL_REGISTER_ENABLE       HW_GP0ENR.B.B9  //PWM2
                            26969 ; 63   |#define BACKLIGHT_CONTROL_REGISTER_DIRECTION    HW_GP0DOER.B.B9
                            26970 ; 64   |#define BACKLIGHT_ON                            0x06C000
                            26971 ; 65   |#define BACKLIGHT_OFF                           0x024000
                            26972 ; 66   |#else
                            26973 ; 67   |#define BACKLIGHT_CONTROL_REGISTER              HW_PWM_CH2AR.I
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 447

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26974 ; 68   |#define BACKLIGHT_CONTROL_REGISTER_ENABLE       HW_GP0ENR.B.B9  //PWM2
                            26975 ; 69   |#define BACKLIGHT_CONTROL_REGISTER_DIRECTION    HW_GP0DOER.B.B9
                            26976 ; 70   |#define BACKLIGHT_ON                            0x006000
                            26977 ; 71   |#define BACKLIGHT_OFF                           0x002000
                            26978 ; 72   |#endif
                            26979 ; 73   |#else
                            26980 ; 74   |#define BACKLIGHT_CONTROL_REGISTER              HW_GP0DOR.B.B9
                            26981 ; 75   |#define BACKLIGHT_CONTROL_REGISTER_ENABLE       HW_GP0ENR.B.B9
                            26982 ; 76   |#define BACKLIGHT_CONTROL_REGISTER_DIRECTION    HW_GP0DOER.B.B9
                            26983 ; 77   |#define BACKLIGHT_ON                            TRUE
                            26984 ; 78   |#define BACKLIGHT_OFF                           FALSE
                            26985 ; 79   |#endif
                            26986 ; 80   |#define BACKLIGHT_TIME                                          5000            //5 second
                                  s
                            26987 ; 81   |
                            26988 ; 82   |// used with NextEQ / NextPlayMode to indicate direction
                            26989 ; 83   |#define INCREMENT 1
                            26990 ; 84   |#define DECREMENT 0
                            26991 ; 85   |
                            26992 ; 86   |//These two sit outside the boundary of MENU_FIRST and MENU_LAST simply because they're
                            26993 ; 87   |//states that aren't included in the displayed list.
                            26994 ; 88   |#define MENU_EXIT       101
                            26995 ; 89   |#define MENU_MAIN       100
                            26996 ; 90   |
                            26997 ; 91   |// menu flags
                            26998 ; 92   |#define MENU_FLAG_POWER_DOWN_ENABLED    B0      // when clear, disable tracking
                            26999 ; 93   |#define MENU_FLAG_ESCAPE_TO_MUSIC               B1      // when set, escape all menu nesti
                                  ng to music
                            27000 ; 94   |#define MENU_FLAG_SAVE_CHANGES          B2  // true if fast escape interrupted by save cha
                                  nges?
                            27001 ; 95   |#if (defined USE_PLAYLIST3) || (defined USE_PLAYLIST5)
                            27002 ; 96   |#define MENU_FLAG_ESCAPE_TO_RECORD              B2      // when set, escape all menu nesti
                                  ng to voice/fm menu and start recording
                            27003 ; 97   |#define MENU_FLAG_RETURN_TO_MUSIC               B3      // when set, escape all menu nesti
                                  ng to music
                            27004 ; 98   |#endif
                            27005 ; 99   |
                            27006 ; 100  |#define LANGUAGES_ENG   0
                            27007 ; 101  |#define LANGUAGES_VIE   1
                            27008 ; 102  |#define LANGUAGES_FIRST LANGUAGES_ENG
                            27009 ; 103  |#define LANGUAGES_LAST          LANGUAGES_VIE
                            27010 ; 104  |
                            27011 ; 105  |// 1 word menu variable -- bit flags
                            27012 ; 106  |extern struct Bitfield g_MenuFlags;
                            27013 ; 107  |
                            27014 ; 108  |// This data type is declared in mainmenu.c, but is externed here for all other menus.
                            27015 ; 109  |extern union EventTypes gEventInfo;
                            27016 ; 110  |
                            27017 ; 111  |//each menu should set g_iCurrentMenu to make sure the menu icon shows up correctly.
                            27018 ; 112  |extern INT g_iCurrentMenu;
                            27019 ; 113  |
                            27020 ; 114  |//Backlight State
                            27021 ; 115  |extern INT g_iBackLightState;
                            27022 ; 116  |
                            27023 ; 117  |//Language state
                            27024 ; 118  |extern INT g_iLanguage;
                            27025 ; 119  |
                            27026 ; 120  |//Export all Menu prototypes for calls allowed from other code banks
                            27027 ; 121  |void _reentrant UserTask(int a, int b, int *pPtr);
                            27028 ; 122  |_reentrant INT ShutdownMenu( INT iIgnored1, INT iIgnored2, INT *pPtr);
                            27029 ; 123  |_reentrant INT SplashScreen( INT iResource, INT iMilliseconds, INT *pPtr);
                            27030 ; 124  |int _reentrant MusicMenu(INT a, INT b, INT *c);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 448

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27031 ; 125  |#ifdef USE_PLAYLIST3
                            27032 ; 126  |int _reentrant PlayMusicMenu(INT a, INT b, INT *c);
                            27033 ; 127  |int _reentrant NewMusicMenu(INT a, INT b, INT *c);
                            27034 ; 128  |int _reentrant BrowseMenu(INT a, INT b, INT *c);
                            27035 ; 129  |#endif // #ifdef USE_PLAYLIST3
                            27036 ; 130  |#ifdef MOTION_VIDEO
                            27037 ; 131  |int _reentrant MotionVideoMenu(INT a, INT b, INT *c);
                            27038 ; 132  |#endif
                            27039 ; 133  |#ifdef JPEG_APP
                            27040 ; 134  |int _reentrant JpegDisplayMenu(int a, int b, int *pPtr);
                            27041 ; 135  |int _reentrant JpegManualMenu(int a, int b, int *pPtr);
                            27042 ; 136  |int _reentrant JpegSlideshowMenu(int a, int b, int *pPtr);
                            27043 ; 137  |int _reentrant JpegThumbnailMenu(int a, int b, int *pPtr);
                            27044 ; 138  |#endif
                            27045 ; 139  |int _reentrant SpectrogramMenu(INT a, INT b, INT *pPtr);
                            27046 ; 140  |int _reentrant VoiceMenu(int a, int b, int *c);
                            27047 ; 141  |int _reentrant SettingsMenu(int a, int b, int *pPtr);
                            27048 ; 142  |int _reentrant EqMenu(int a, int b, int *pPtr);
                            27049 ; 143  |int _reentrant SendEQ(int iCurrentEQ, int b, int *pPtr);
                            27050 ; 144  |
                            27051 ; 145  |int _reentrant PlayModeMenu(int a, int b, int *pPtr);
                            27052 ; 146  |int _reentrant NextPlayMode(int iDirection, int b, int *c);
                            27053 ; 147  |int _reentrant ContrastMenu(int a, int b, int *pPtr);
                            27054 ; 148  |int _reentrant AboutMenu(int a, int b, int *pPtr);
                            27055 ; 149  |#ifdef USE_PLAYLIST5
                            27056 ; 150  |int _reentrant BrowseMenu(INT a, INT b, INT *c);
                            27057 ; 151  |#endif
                            27058 ; 152  |int _reentrant DeleteMenu(int a, int b, int *pPtr);
                            27059 ; 153  |int _reentrant PwrSavingsMenu(int a, int b, int *pPtr);
                            27060 ; 154  |int _reentrant BackLightMenu(int a, int b, int *pPtr);
                            27061 ; 155  |int _reentrant RecordSettingsMenu(int a, int b, int *pPtr);
                            27062 ; 156  |int _reentrant TimeDateMenu(int a, int b, int *pPtr);
                            27063 ; 157  |int _reentrant SetTimeMenu(int a, int b, int *pPtr);
                            27064 ; 158  |int _reentrant SetDateMenu(int a, int b, int *pPtr);
                            27065 ; 159  |
                            27066 ; 160  |int _reentrant TestMenu(int a, int b, int *pPtr);
                            27067 ; 161  |void _reentrant RecordTestMenu(void);
                            27068 ; 162  |
                            27069 ; 163  |int _reentrant FMTunerMenu(int a, int b, int *c);
                            27070 ; 164  |int _reentrant InitPlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr);
                            27071 ; 165  |int _reentrant HandlePlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr);
                            27072 ; 166  |int _reentrant ExitPlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr);
                            27073 ; 167  |_reentrant int InitRecorderStateMachine(int EncodingType, int InputSource, int *c);
                            27074 ; 168  |_reentrant int HandleRecorderStateMachine(int a, int b, int *c);
                            27075 ; 169  |_reentrant int ExitRecorderStateMachine(int InputSource, int b, int *c);
                            27076 ; 170  |int _reentrant NextEQ(INT iDirection, INT b, INT *c);
                            27077 ; 171  |_reentrant INT RecordVoiceFile(INT a, INT b, INT *pPtr);
                            27078 ; 172  |_reentrant int RefreshDisplay           ( int iDisplayHint, int a, int *pPtr);
                            27079 ; 173  |_reentrant void DisplayClearDisplay      ( int iDisplayHint, int a, int *pPtr);
                            27080 ; 174  |_reentrant int DisplayEQIcon            ( int iDisplayHint, int a, int *pPtr);
                            27081 ; 175  |_reentrant int DisplayVolume            ( int iDisplayHint, int a, int *pPtr);
                            27082 ; 176  |_reentrant int DisplayShutdownProgress  ( int iDisplayHint, int a, int *pPtr);
                            27083 ; 177  |_reentrant int DisplayDefragmentstore  ( int iDisplayHint, int a, int *pPtr);
                            27084 ; 178  |_reentrant int DisplayKickOff           ( int iDisplayHint, int a, int *pPtr);
                            27085 ; 179  |_reentrant int DisplayKickOffLocked     ( int iDisplayHint, int a, int *pPtr);
                            27086 ; 180  |_reentrant void DisplayLockIcon          ( int iDisplayHint, int a, int *pPtr);
                            27087 ; 181  |_reentrant void ChangePlaySet(INT mode);
                            27088 ; 182  |void _reentrant UpdateAutoShutdownTimer (void);
                            27089 ; 183  |int _reentrant SetPwrSetting (int iCurrentPwrSetting, int b, int *pPtr);
                            27090 ; 184  |int  _reentrant SendPlayMode(int iCurrentPlayMode, int b, int *pPtr);
                            27091 ; 185  |_reentrant int DeleteFilePrompt(int a,int b, int *pPtr);
                            27092 ; 186  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 449

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27093 ; 187  |
                            27094 
                            27096 
                            27097 ; 65   |#ifdef JPEG_ALBUM_ART
                            27098 ; 66   |extern _X BOOL  g_bApicFrameFound;      // declared in "attachedpictureframe.c"
                            27099 ; 67   |
                            27100 ; 68   |RETCODE _reentrant ApicPostMessage(INT a, INT b, INT *c);       // defined in "attachedpic
                                  tureframe.c"
                            27101 ; 69   |#endif
                            27102 ; 70   |#ifdef SYNC_LYRICS
                            27103 ; 71   |#include "synclyrics.h"
                            27104 
                            27106 
                            27107 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            27108 ; 2    |// Copyright(C) SigmaTel, Inc. 2004-2006
                            27109 ; 3    |//
                            27110 ; 4    |// File        : synclyrics.h
                            27111 ; 5    |// Description : sync lyrics header file
                            27112 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            27113 ; 7    |#ifndef __SYNC_LYRICS_H
                            27114 ; 8    |#define __SYNC_LYRICS_H
                            27115 ; 9    |
                            27116 ; 10   |#include "types.h"
                            27117 
                            27119 
                            27120 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            27121 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            27122 ; 3    |//
                            27123 ; 4    |// Filename: types.h
                            27124 ; 5    |// Description: Standard data types
                            27125 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            27126 ; 7    |
                            27127 ; 8    |#ifndef _TYPES_H
                            27128 ; 9    |#define _TYPES_H
                            27129 ; 10   |
                            27130 ; 11   |// TODO:  move this outta here!
                            27131 ; 12   |#if !defined(NOERROR)
                            27132 ; 13   |#define NOERROR 0
                            27133 ; 14   |#define SUCCESS 0
                            27134 ; 15   |#endif 
                            27135 ; 16   |#if !defined(SUCCESS)
                            27136 ; 17   |#define SUCCESS  0
                            27137 ; 18   |#endif
                            27138 ; 19   |#if !defined(ERROR)
                            27139 ; 20   |#define ERROR   -1
                            27140 ; 21   |#endif
                            27141 ; 22   |#if !defined(FALSE)
                            27142 ; 23   |#define FALSE 0
                            27143 ; 24   |#endif
                            27144 ; 25   |#if !defined(TRUE)
                            27145 ; 26   |#define TRUE  1
                            27146 ; 27   |#endif
                            27147 ; 28   |
                            27148 ; 29   |#if !defined(NULL)
                            27149 ; 30   |#define NULL 0
                            27150 ; 31   |#endif
                            27151 ; 32   |
                            27152 ; 33   |#define MAX_INT     0x7FFFFF
                            27153 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            27154 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            27155 ; 36   |#define MAX_ULONG   (-1) 
                            27156 ; 37   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 450

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27157 ; 38   |#define WORD_SIZE   24              // word size in bits
                            27158 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            27159 ; 40   |
                            27160 ; 41   |
                            27161 ; 42   |#define BYTE    unsigned char       // btVarName
                            27162 ; 43   |#define CHAR    signed char         // cVarName
                            27163 ; 44   |#define USHORT  unsigned short      // usVarName
                            27164 ; 45   |#define SHORT   unsigned short      // sVarName
                            27165 ; 46   |#define WORD    unsigned int        // wVarName
                            27166 ; 47   |#define INT     signed int          // iVarName
                            27167 ; 48   |#define DWORD   unsigned long       // dwVarName
                            27168 ; 49   |#define LONG    signed long         // lVarName
                            27169 ; 50   |#define BOOL    unsigned int        // bVarName
                            27170 ; 51   |#define FRACT   _fract              // frVarName
                            27171 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            27172 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            27173 ; 54   |#define FLOAT   float               // fVarName
                            27174 ; 55   |#define DBL     double              // dVarName
                            27175 ; 56   |#define ENUM    enum                // eVarName
                            27176 ; 57   |#define CMX     _complex            // cmxVarName
                            27177 ; 58   |typedef WORD UCS3;                   // 
                            27178 ; 59   |
                            27179 ; 60   |#define UINT16  unsigned short
                            27180 ; 61   |#define UINT8   unsigned char   
                            27181 ; 62   |#define UINT32  unsigned long
                            27182 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            27183 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            27184 ; 65   |#define WCHAR   UINT16
                            27185 ; 66   |
                            27186 ; 67   |//UINT128 is 16 bytes or 6 words
                            27187 ; 68   |typedef struct UINT128_3500 {   
                            27188 ; 69   |    int val[6];     
                            27189 ; 70   |} UINT128_3500;
                            27190 ; 71   |
                            27191 ; 72   |#define UINT128   UINT128_3500
                            27192 ; 73   |
                            27193 ; 74   |// Little endian word packed byte strings:   
                            27194 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            27195 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            27196 ; 77   |// Little endian word packed byte strings:   
                            27197 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            27198 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            27199 ; 80   |
                            27200 ; 81   |// Declare Memory Spaces To Use When Coding
                            27201 ; 82   |// A. Sector Buffers
                            27202 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            27203 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            27204 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            27205 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            27206 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            27207 ; 88   |// B. Media DDI Memory
                            27208 ; 89   |#define MEDIA_DDI_MEM _Y
                            27209 ; 90   |
                            27210 ; 91   |
                            27211 ; 92   |
                            27212 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            27213 ; 94   |// Examples of circular pointers:
                            27214 ; 95   |//    INT CIRC cpiVarName
                            27215 ; 96   |//    DWORD CIRC cpdwVarName
                            27216 ; 97   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 451

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27217 ; 98   |#define RETCODE INT                 // rcVarName
                            27218 ; 99   |
                            27219 ; 100  |// generic bitfield structure
                            27220 ; 101  |struct Bitfield {
                            27221 ; 102  |    unsigned int B0  :1;
                            27222 ; 103  |    unsigned int B1  :1;
                            27223 ; 104  |    unsigned int B2  :1;
                            27224 ; 105  |    unsigned int B3  :1;
                            27225 ; 106  |    unsigned int B4  :1;
                            27226 ; 107  |    unsigned int B5  :1;
                            27227 ; 108  |    unsigned int B6  :1;
                            27228 ; 109  |    unsigned int B7  :1;
                            27229 ; 110  |    unsigned int B8  :1;
                            27230 ; 111  |    unsigned int B9  :1;
                            27231 ; 112  |    unsigned int B10 :1;
                            27232 ; 113  |    unsigned int B11 :1;
                            27233 ; 114  |    unsigned int B12 :1;
                            27234 ; 115  |    unsigned int B13 :1;
                            27235 ; 116  |    unsigned int B14 :1;
                            27236 ; 117  |    unsigned int B15 :1;
                            27237 ; 118  |    unsigned int B16 :1;
                            27238 ; 119  |    unsigned int B17 :1;
                            27239 ; 120  |    unsigned int B18 :1;
                            27240 ; 121  |    unsigned int B19 :1;
                            27241 ; 122  |    unsigned int B20 :1;
                            27242 ; 123  |    unsigned int B21 :1;
                            27243 ; 124  |    unsigned int B22 :1;
                            27244 ; 125  |    unsigned int B23 :1;
                            27245 ; 126  |};
                            27246 ; 127  |
                            27247 ; 128  |union BitInt {
                            27248 ; 129  |        struct Bitfield B;
                            27249 ; 130  |        int        I;
                            27250 ; 131  |};
                            27251 ; 132  |
                            27252 ; 133  |#define MAX_MSG_LENGTH 10
                            27253 ; 134  |struct CMessage
                            27254 ; 135  |{
                            27255 ; 136  |        unsigned int m_uLength;
                            27256 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            27257 ; 138  |};
                            27258 ; 139  |
                            27259 ; 140  |typedef struct {
                            27260 ; 141  |    WORD m_wLength;
                            27261 ; 142  |    WORD m_wMessage;
                            27262 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            27263 ; 144  |} Message;
                            27264 ; 145  |
                            27265 ; 146  |struct MessageQueueDescriptor
                            27266 ; 147  |{
                            27267 ; 148  |        int *m_pBase;
                            27268 ; 149  |        int m_iModulo;
                            27269 ; 150  |        int m_iSize;
                            27270 ; 151  |        int *m_pHead;
                            27271 ; 152  |        int *m_pTail;
                            27272 ; 153  |};
                            27273 ; 154  |
                            27274 ; 155  |struct ModuleEntry
                            27275 ; 156  |{
                            27276 ; 157  |    int m_iSignaledEventMask;
                            27277 ; 158  |    int m_iWaitEventMask;
                            27278 ; 159  |    int m_iResourceOfCode;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 452

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27279 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            27280 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            27281 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            27282 ; 163  |    int m_uTimeOutHigh;
                            27283 ; 164  |    int m_uTimeOutLow;
                            27284 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            27285 ; 166  |};
                            27286 ; 167  |
                            27287 ; 168  |union WaitMask{
                            27288 ; 169  |    struct B{
                            27289 ; 170  |        unsigned int m_bNone     :1;
                            27290 ; 171  |        unsigned int m_bMessage  :1;
                            27291 ; 172  |        unsigned int m_bTimer    :1;
                            27292 ; 173  |        unsigned int m_bButton   :1;
                            27293 ; 174  |    } B;
                            27294 ; 175  |    int I;
                            27295 ; 176  |} ;
                            27296 ; 177  |
                            27297 ; 178  |
                            27298 ; 179  |struct Button {
                            27299 ; 180  |        WORD wButtonEvent;
                            27300 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            27301 ; 182  |};
                            27302 ; 183  |
                            27303 ; 184  |struct Message {
                            27304 ; 185  |        WORD wMsgLength;
                            27305 ; 186  |        WORD wMsgCommand;
                            27306 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            27307 ; 188  |};
                            27308 ; 189  |
                            27309 ; 190  |union EventTypes {
                            27310 ; 191  |        struct CMessage msg;
                            27311 ; 192  |        struct Button Button ;
                            27312 ; 193  |        struct Message Message;
                            27313 ; 194  |};
                            27314 ; 195  |
                            27315 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            27316 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            27317 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            27318 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            27319 ; 200  |
                            27320 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            27321 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            27322 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            27323 ; 204  |
                            27324 ; 205  |#if DEBUG
                            27325 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            27326 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            27327 ; 208  |#else 
                            27328 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            27329 ; 210  |#define DebugBuildAssert(x)    
                            27330 ; 211  |#endif
                            27331 ; 212  |
                            27332 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            27333 ; 214  |//  #pragma asm
                            27334 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            27335 ; 216  |//  #pragma endasm
                            27336 ; 217  |
                            27337 ; 218  |
                            27338 ; 219  |#ifdef COLOR_262K
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 453

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27339 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            27340 ; 221  |#elif defined(COLOR_65K)
                            27341 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            27342 ; 223  |#else
                            27343 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            27344 ; 225  |#endif
                            27345 ; 226  |    
                            27346 ; 227  |#endif // #ifndef _TYPES_H
                            27347 
                            27349 
                            27350 ; 11   |#include "project.h"
                            27351 
                            27353 
                            27354 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            27355 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            27356 ; 3    |//  Filename: project.inc
                            27357 ; 4    |//  Description: 
                            27358 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            27359 ; 6    |
                            27360 ; 7    |#if (!defined(_PROJECT_INC))
                            27361 ; 8    |#define _PROJECT_INC 1
                            27362 ; 9    |
                            27363 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            27364 ; 11   |#include "hwequ.h"
                            27365 ; 12   |#else 
                            27366 ; 13   |//include "regscodec.inc"
                            27367 ; 14   |#endif
                            27368 ; 15   |
                            27369 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            27370 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults
                                   ON) & 
                            27371 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm
                                  . STMP00012148
                            27372 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal
                                  ). 
                            27373 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's spe
                                  cs can 
                            27374 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player m
                                  ode.  
                            27375 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            27376 ; 23   |
                            27377 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            27378 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            27379 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            27380 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define bel
                                  ow by defining
                            27381 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            27382 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            27383 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            27384 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot 
                                  config above- 
                            27385 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down thresh
                                  holds by maybe 50mV.
                            27386 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed
                                  .
                            27387 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            27388 ; 35   |
                            27389 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            27390 ; 37   |// MEDIA DEFINITIONS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 454

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27391 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            27392 ; 39   |
                            27393 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            27394 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            27395 ; 42   |#if defined(NAND1)
                            27396 ; 43   |#define SM_INTERNAL_CHIPS 1
                            27397 ; 44   |#else 
                            27398 ; 45   |#if defined(NAND2)
                            27399 ; 46   |#define SM_INTERNAL_CHIPS 2
                            27400 ; 47   |#else 
                            27401 ; 48   |#if defined(NAND3)
                            27402 ; 49   |#define SM_INTERNAL_CHIPS 3
                            27403 ; 50   |#else 
                            27404 ; 51   |#if defined(NAND4)
                            27405 ; 52   |#define SM_INTERNAL_CHIPS 4
                            27406 ; 53   |#else 
                            27407 ; 54   |#define SM_INTERNAL_CHIPS 1
                            27408 ; 55   |#endif
                            27409 ; 56   |#endif
                            27410 ; 57   |#endif
                            27411 ; 58   |#endif
                            27412 ; 59   |
                            27413 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            27414 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            27415 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it rea
                                  ds 0.  
                            27416 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            27417 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it rea
                                  ds 1.
                            27418 ; 65   |//*** comment out if active high ****
                            27419 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            27420 ; 67   |
                            27421 ; 68   |#if defined(SMEDIA)
                            27422 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            27423 ; 70   |#define NUM_SM_EXTERNAL 1
                            27424 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            27425 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            27426 ; 73   |#else 
                            27427 ; 74   |#if defined(MMC)
                            27428 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            27429 ; 76   |#define NUM_SM_EXTERNAL 0
                            27430 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            27431 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            27432 ; 79   |#else 
                            27433 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            27434 ; 81   |#define NUM_SM_EXTERNAL 0
                            27435 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            27436 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            27437 ; 84   |#endif
                            27438 ; 85   |#endif
                            27439 ; 86   |
                            27440 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            27441 ; 88   |// Mass Storage Class definitions
                            27442 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            27443 ; 90   |// Set to 0 if Composite Device build is desired.    
                            27444 ; 91   |#define MULTI_LUN_BUILD 1   
                            27445 ; 92   |
                            27446 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            27447 ; 94   |//  SCSI
                            27448 ; 95   |#if (MULTI_LUN_BUILD==0)
                            27449 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            27450 ; 97   |    #define SCSI_NUM_TARGETS                        2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 455

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27451 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            27452 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            27453 ; 100  |  #else
                            27454 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            27455 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            27456 ; 103  |  #endif
                            27457 ; 104  |#else
                            27458 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            27459 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            27460 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            27461 ; 108  |  #else
                            27462 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            27463 ; 110  |  #endif
                            27464 ; 111  |#endif
                            27465 ; 112  |
                            27466 ; 113  |
                            27467 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            27468 ; 115  |
                            27469 ; 116  |
                            27470 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            27471 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            27472 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            27473 ; 120  |#ifdef MMC
                            27474 ; 121  |#ifdef MTP_BUILD
                            27475 ; 122  |// --------------------
                            27476 ; 123  |// MTP and MMC
                            27477 ; 124  |// --------------------
                            27478 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            27479 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            27480 ; 127  |#else  // ifndef MTP_BUILD
                            27481 ; 128  |#ifdef STMP_BUILD_PLAYER
                            27482 ; 129  |// --------------------
                            27483 ; 130  |// Player and MMC
                            27484 ; 131  |// --------------------
                            27485 ; 132  |#else
                            27486 ; 133  |// --------------------
                            27487 ; 134  |// USBMSC and MMC
                            27488 ; 135  |// --------------------
                            27489 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            27490 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            27491 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            27492 ; 139  |#endif // ifdef MTP_BUILD
                            27493 ; 140  |#else  // ifndef MMC
                            27494 ; 141  |#ifdef MTP_BUILD
                            27495 ; 142  |// --------------------
                            27496 ; 143  |// MTP and NAND only
                            27497 ; 144  |// --------------------
                            27498 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            27499 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            27500 ; 147  |#else  // ifndef MTP_BUILD
                            27501 ; 148  |#ifdef STMP_BUILD_PLAYER
                            27502 ; 149  |// --------------------
                            27503 ; 150  |// Player and NAND only
                            27504 ; 151  |// --------------------
                            27505 ; 152  |#else
                            27506 ; 153  |// --------------------
                            27507 ; 154  |// USBMSC and NAND only
                            27508 ; 155  |// --------------------
                            27509 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            27510 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            27511 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            27512 ; 159  |#endif // ifdef MTP_BUILD
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 456

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27513 ; 160  |#endif // ifdef MMC 
                            27514 ; 161  |
                            27515 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            27516 ; 163  |#if (defined(MTP_BUILD))
                            27517 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            27518 ; 165  |
                            27519 ; 166  |////!
                            27520 ; 167  |////! This varible holds the watchdog count for the store flush.
                            27521 ; 168  |////!
                            27522 ; 169  |///
                            27523 ; 170  |#include <types.h>
                            27524 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            27525 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            27526 ; 173  |#endif
                            27527 ; 174  |
                            27528 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            27529 ; 176  |// These are needed here for Mass Storage Class
                            27530 ; 177  |// Needs to be cleaned up
                            27531 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            27532 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            27533 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            27534 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            27535 ; 182  |
                            27536 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            27537 ; 184  |
                            27538 ; 185  |#endif
                            27539 ; 186  |
                            27540 ; 187  |
                            27541 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            27542 ; 189  |// SmartMedia/NAND defs
                            27543 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            27544 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            27545 ; 192  |
                            27546 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            27547 ; 194  |// Sysloadresources defs
                            27548 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            27549 ; 196  |
                            27550 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            27551 ; 198  |// MMC defs
                            27552 ; 199  |#define MMC_MAX_PARTITIONS 1
                            27553 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            27554 ; 201  |
                            27555 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            27556 ; 203  |// SPI defs
                            27557 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            27558 ; 205  |
                            27559 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            27560 ; 207  |// Global media defs
                            27561 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            27562 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            27563 ; 210  |
                            27564 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            27565 ; 212  |// DO NOT CHANGE THESE!!!
                            27566 ; 213  |#define SM_MAX_PARTITIONS 4
                            27567 ; 214  |#define MAX_HANDLES 2
                            27568 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            27569 ; 216  |
                            27570 ; 217  |
                            27571 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            27572 ; 219  |// Battery LRADC Values 
                            27573 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            27574 ; 221  |// brownout trip point in mV (moved by RS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 457

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27575 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            27576 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            27577 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            27578 ; 225  |//     audio recording to media.
                            27579 ; 226  |#define BATT_SAFETY_MARGIN 10
                            27580 ; 227  |
                            27581 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                                  
                            27582 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline vol
                                  tage to do a refresh.
                            27583 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            27584 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            27585 ; 232  |
                            27586 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc 
                                  presence.
                            27587 ; 234  |
                            27588 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            27589 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat che
                                  ck.
                            27590 ; 237  |#if (!defined(CLCD))
                            27591 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            27592 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            27593 ; 240  |#else 
                            27594 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            27595 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            27596 ; 243  |#endif
                            27597 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            27598 ; 245  |
                            27599 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            27600 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIo
                                  n.
                            27601 ; 248  |// See mp3 encoder overlay.
                            27602 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            27603 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            27604 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            27605 ; 252  |
                            27606 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            27607 ; 254  |// Voice recording filenames
                            27608 ; 255  |// number of digits in filename Vxxx.wav
                            27609 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            27610 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            27611 ; 258  |
                            27612 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            27613 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            27614 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            27615 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            27616 ; 263  |#if defined(DEVICE_3500)
                            27617 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            27618 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            27619 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            27620 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, 
                                  & demo player)
                            27621 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            27622 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            27623 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            27624 ; 271  |
                            27625 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn whe
                                  n bias not yet ready.
                            27626 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            27627 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevent
                                  ion if you use rec button from outside voice menu.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 458

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27628 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latenc
                                  y in the record-from-music-menu use-case.
                            27629 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            27630 ; 277  |
                            27631 ; 278  |#else 
                            27632 ; 279  |// STMP3410
                            27633 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            27634 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            27635 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            27636 ; 283  |#endif
                            27637 ; 284  |
                            27638 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            27639 ; 286  |// Number of available soft timers
                            27640 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            27641 ; 288  |#if defined(SYNC_LYRICS)
                            27642 ; 289  |#define SOFT_TIMERS 10
                            27643 ; 290  |#else 
                            27644 ; 291  |#if defined(JPEG_DECODER)
                            27645 ; 292  |#define SOFT_TIMERS 10
                            27646 ; 293  |#else 
                            27647 ; 294  |#define SOFT_TIMERS 9
                            27648 ; 295  |#endif
                            27649 ; 296  |#endif
                            27650 ; 297  |
                            27651 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            27652 ; 299  |//  sizes
                            27653 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            27654 ; 301  |#if defined(MMC)
                            27655 ; 302  |#if defined(USE_PLAYLIST5)
                            27656 ; 303  |#define MENU_STACK_SIZE 1500
                            27657 ; 304  |#else 
                            27658 ; 305  |#define MENU_STACK_SIZE 1250
                            27659 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            27660 ; 307  |#else 
                            27661 ; 308  |#if defined(USE_PLAYLIST5)
                            27662 ; 309  |#define MENU_STACK_SIZE 1500
                            27663 ; 310  |#else 
                            27664 ; 311  |#define MENU_STACK_SIZE 1250
                            27665 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            27666 ; 313  |#endif //if @def('MMC')
                            27667 ; 314  |
                            27668 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 75
                                  0 else 550 for other builds? TOVERIFY. MYALLOC
                            27669 ; 316  |// 
                            27670 ; 317  |#define STACK_L1_SIZE 750
                            27671 ; 318  |#define STACK_L2_SIZE 100
                            27672 ; 319  |#define STACK_L3_SIZE 160
                            27673 ; 320  |
                            27674 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            27675 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            27676 ; 323  |// is ok with switching code.
                            27677 ; 324  |#if defined(MTP_BUILD)
                            27678 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            27679 ; 326  |#endif
                            27680 ; 327  |
                            27681 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            27682 ; 329  |// maximum number of nested funclets 
                            27683 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            27684 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            27685 ; 332  |
                            27686 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            27687 ; 334  |//    LCD DEFINITIONS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 459

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27688 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            27689 ; 336  |
                            27690 ; 337  |#define SPACE_CHAR 0x000020          
                            27691 ; 338  |#define ZERO_CHAR 0x000030
                            27692 ; 339  |#define COLON_CHAR 0x00003A
                            27693 ; 340  |#define PERIOD_CHAR 0x00002E
                            27694 ; 341  |
                            27695 ; 342  |#if (defined(S6B33B0A_LCD))
                            27696 ; 343  |#define LCD_X_SIZE 128
                            27697 ; 344  |#define LCD_Y_SIZE 159
                            27698 ; 345  |#endif
                            27699 ; 346  |
                            27700 ; 347  |#if (defined(SED15XX_LCD))
                            27701 ; 348  |#define LCD_X_SIZE 128
                            27702 ; 349  |#define LCD_Y_SIZE 64
                            27703 ; 350  |#endif
                            27704 ; 351  |
                            27705 ; 352  |
                            27706 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            27707 ; 354  |//   Details on Customizing Contrast
                            27708 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            27709 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            27710 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            27711 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            27712 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            27713 ; 360  |//   unless the ezact sequence is remembered.
                            27714 ; 361  |//   To find out what range your player supports: 
                            27715 ; 362  |//   change these equs to full range or comment out (full range is default)
                            27716 ; 363  |//;;;;;;
                            27717 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            27718 ; 365  |// recommended calibration using player -- uncomment 
                            27719 ; 366  |//;;;;;;
                            27720 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            27721 ; 368  |////////////////////////////
                            27722 ; 369  |#if (defined(DEMO_HW))
                            27723 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi 
                                  LCD (June6'05)
                            27724 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            27725 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            27726 ; 373  |#else 
                            27727 ; 374  |
                            27728 ; 375  |#if (defined(S6B33B0A_LCD))
                            27729 ; 376  |#define LCD_MAX_CONTRAST 210
                            27730 ; 377  |#define LCD_MIN_CONTRAST 160    
                            27731 ; 378  |#endif
                            27732 ; 379  |
                            27733 ; 380  |#if (defined(SED15XX_LCD))
                            27734 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            27735 ; 382  |// Engineering board regs support range [17-37].
                            27736 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            27737 ; 384  |//   One default contrast range [24-42] works for both.
                            27738 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            27739 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            27740 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            27741 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            27742 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            27743 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            27744 ; 391  |
                            27745 ; 392  |#if (defined(NEWSHINGYIH))
                            27746 ; 393  |#define LCD_MAX_CONTRAST 250
                            27747 ; 394  |#define LCD_MIN_CONTRAST 0
                            27748 ; 395  |#else 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 460

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27749 ; 396  |//-----
                            27750 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            27751 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for bo
                                  th LCDs.
                            27752 ; 399  |#define LCD_MAX_CONTRAST 250
                            27753 ; 400  |#define LCD_MIN_CONTRAST 0
                            27754 ; 401  |
                            27755 ; 402  |//=====
                            27756 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            27757 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this hi
                                  storic ver.
                            27758 ; 405  |//LCD_MAX_CONTRAST equ 42
                            27759 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            27760 ; 407  |
                            27761 ; 408  |#endif
                            27762 ; 409  |#endif
                            27763 ; 410  |
                            27764 ; 411  |#endif
                            27765 ; 412  |
                            27766 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            27767 ; 414  |// The default value of the lcd contrast in % of range
                            27768 ; 415  |//   the default value is used when no settings.dat is available
                            27769 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            27770 ; 417  |
                            27771 ; 418  |#if (defined(S6B33B0A_LCD))
                            27772 ; 419  |// 60% of range is default value
                            27773 ; 420  |#define DEFAULT_CONTRAST 50 
                            27774 ; 421  |#endif
                            27775 ; 422  |
                            27776 ; 423  |#if (defined(SED15XX_LCD))
                            27777 ; 424  |// % of range is default value (was 60%)
                            27778 ; 425  |#define DEFAULT_CONTRAST 50 
                            27779 ; 426  |#endif
                            27780 ; 427  |
                            27781 ; 428  |
                            27782 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            27783 ; 430  |// make lower when doing calibration
                            27784 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            27785 ; 432  |
                            27786 ; 433  |
                            27787 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            27788 ; 435  |// For FFWD and RWND
                            27789 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            27790 ; 437  |#define SECONDS_TO_SKIP 1
                            27791 ; 438  |#define SECONDS_TO_SKIP1 3
                            27792 ; 439  |#define SECONDS_TO_SKIP2 6
                            27793 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            27794 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            27795 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            27796 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            27797 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            27798 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            27799 ; 446  |
                            27800 ; 447  |// For audible FFW/RWD
                            27801 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            27802 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            27803 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            27804 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            27805 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            27806 ; 453  |#define LEVEL1_BOUNDARY 17 
                            27807 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            27808 ; 455  |#define LEVEL2_BOUNDARY 33 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 461

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27809 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            27810 ; 457  |#define LEVEL3_BOUNDARY 50 
                            27811 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            27812 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            27813 ; 460  |// Short Song Time, songs too short to play.
                            27814 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            27815 ; 462  |
                            27816 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            27817 ; 464  |// MP3 Sync Values
                            27818 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            27819 ; 466  |// # bytes to look for sync before marking it bad
                            27820 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            27821 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            27822 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            27823 ; 470  |// once we have sync'd, the isr should be called this frequently
                            27824 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            27825 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            27826 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            27827 ; 474  |
                            27828 ; 475  |
                            27829 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            27830 ; 477  |//// Multi-Stage Volume Control Definitions
                            27831 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            27832 ; 479  |//// Use Multi-Stage Volume
                            27833 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            27834 ; 481  |
                            27835 ; 482  |//// Master Volume definitions
                            27836 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            27837 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            27838 ; 485  |
                            27839 ; 486  |//// DAC-Mode definitions
                            27840 ; 487  |//// Adjusts 0dB point
                            27841 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            27842 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            27843 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines 
                                  above.
                            27844 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            27845 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provid
                                  es 1.5 dB gain on Stmp34x0; 
                            27846 ; 493  |//                                               Max gain possible: 8 step diff would prov
                                  ide +12dB gain.   
                            27847 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            27848 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            27849 ; 496  |
                            27850 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            27851 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            27852 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                                  
                            27853 ; 500  |
                            27854 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not t
                                  he default
                            27855 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoin
                                  t.
                            27856 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            27857 ; 504  |
                            27858 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the def
                                  ault
                            27859 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            27860 ; 507  |
                            27861 ; 508  |
                            27862 ; 509  |//// Line In definitions (used for Line-In 1)
                            27863 ; 510  |//// 0dB point of the Line In
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 462

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27864 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            27865 ; 512  |//// Minimum volume of Line In
                            27866 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            27867 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            27868 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            27869 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            27870 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            27871 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS
                                  +1)
                            27872 ; 519  |
                            27873 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            27874 ; 521  |//// 0dB point of the Line In
                            27875 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            27876 ; 523  |//// Minimum volume of Line In
                            27877 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            27878 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            27879 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            27880 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            27881 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            27882 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            27883 ; 530  |
                            27884 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            27885 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid dea
                                  dlock states & recovers. 
                            27886 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            27887 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            27888 ; 535  |
                            27889 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            27890 ; 537  |////
                            27891 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            27892 ; 539  |////
                            27893 ; 540  |///
                            27894 ; 541  |#include <types.h>
                            27895 ; 542  |extern volatile WORD g_wActivityState;
                            27896 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            27897 ; 544  |
                            27898 ; 545  |void _reentrant Init5VSense(void);
                            27899 ; 546  |void _reentrant ServiceDCDC(void);
                            27900 ; 547  |
                            27901 ; 548  |////////////////////////////////////////////////////////////////////////////
                            27902 ; 549  |//// JPEG Thumbnail Mode Setting
                            27903 ; 550  |//// number of column in thumbnail mode
                            27904 ; 551  |#define THUMBNAIL_X 2           
                            27905 ; 552  |//// number of row in  thumbnail mode
                            27906 ; 553  |#define THUMBNAIL_Y 2           
                            27907 ; 554  |//// thumbnail boundary offset x
                            27908 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            27909 ; 556  |//// thumbnail boundary offset y
                            27910 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            27911 ; 558  |
                            27912 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            27913 ; 560  |
                            27914 
                            27916 
                            27917 ; 12   |#include "messages.h"
                            27918 
                            27920 
                            27921 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            27922 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                            27923 ; 3    |// Message defs
                            27924 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            27925 ; 5    |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 463

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27926 ; 6    |#if (!defined(MSGEQU_INC))
                            27927 ; 7    |#define MSGEQU_INC 1
                            27928 ; 8    |
                            27929 ; 9    |
                            27930 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                            27931 ; 11   |
                            27932 ; 12   |
                            27933 ; 13   |#define MSG_TYPE_DECODER 0x000000
                            27934 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                            27935 ; 15   |#define MSG_TYPE_PARSER 0x020000
                            27936 ; 16   |#define MSG_TYPE_LCD 0x030000
                            27937 ; 17   |#define MSG_TYPE_MIXER 0x040000
                            27938 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                            27939 ; 19   |#define MSG_TYPE_MENU 0x060000
                            27940 ; 20   |#define MSG_TYPE_LED 0x070000
                            27941 ; 21   |#define MSG_TYPE_TUNER 0x080000
                            27942 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                            27943 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                            27944 ; 24   |// Equalizer and other effects
                            27945 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                            27946 ; 26   |#if (defined(USE_PLAYLIST3))
                            27947 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                            27948 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                            27949 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                            27950 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                            27951 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                            27952 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                            27953 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                            27954 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                            27955 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                            27956 ; 36   |#if defined(USE_PLAYLIST5)
                            27957 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                            27958 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                            27959 ; 39   |#endif // if @def('USE_PLAYLIST5')
                            27960 ; 40   |
                            27961 ; 41   |// Message Structure Offsets
                            27962 ; 42   |#define MSG_Length 0
                            27963 ; 43   |#define MSG_ID 1
                            27964 ; 44   |#define MSG_Argument1 2
                            27965 ; 45   |#define MSG_Argument2 3
                            27966 ; 46   |#define MSG_Argument3 4
                            27967 ; 47   |#define MSG_Argument4 5
                            27968 ; 48   |#define MSG_Argument5 6
                            27969 ; 49   |#define MSG_Argument6 7
                            27970 ; 50   |
                            27971 ; 51   |
                            27972 ; 52   |
                            27973 ; 53   |// LCD Message IDs
                            27974 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                            27975 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                            27976 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                            27977 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                            27978 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                            27979 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                            27980 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                            27981 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                            27982 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                            27983 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                            27984 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                            27985 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                            27986 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                            27987 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 464

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27988 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                            27989 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                            27990 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                            27991 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                            27992 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                            27993 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                            27994 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                            27995 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                            27996 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                            27997 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                            27998 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                            27999 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                            28000 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                            28001 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                            28002 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                            28003 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                            28004 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                            28005 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                            28006 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                            28007 ; 87   |//send a NULL as Param1 to return to root frame buffer
                            28008 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                            28009 ; 89   |//Param1 = left
                            28010 ; 90   |//Param2 = top
                            28011 ; 91   |//Param3 = right
                            28012 ; 92   |//Param4 = bottom
                            28013 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                            28014 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                            28015 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                            28016 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                            28017 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                            28018 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                            28019 ; 99   |
                            28020 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                            28021 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                            28022 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                            28023 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                            28024 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                            28025 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                            28026 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                            28027 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                            28028 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                            28029 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                            28030 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                            28031 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                            28032 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                            28033 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                            28034 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                            28035 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                            28036 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                            28037 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                            28038 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                            28039 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                            28040 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                            28041 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                            28042 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                            28043 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                            28044 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                            28045 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                            28046 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                            28047 ; 127  |
                            28048 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                            28049 ; 129  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 465

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28050 ; 130  |#if defined(CLCD_16BIT)
                            28051 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                            28052 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                            28053 ; 133  |
                            28054 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                            28055 ; 135  |#else 
                            28056 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                            28057 ; 137  |#endif
                            28058 ; 138  |
                            28059 ; 139  |// If you change the LCD message ID's then you must
                            28060 ; 140  |// also change the jump table in lcdapi.asm
                            28061 ; 141  |
                            28062 ; 142  |// Character LCD Message IDs
                            28063 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                            28064 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                            28065 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                            28066 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                            28067 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                            28068 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                            28069 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                            28070 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                            28071 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                            28072 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                            28073 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                            28074 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                            28075 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                            28076 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                            28077 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                            28078 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                            28079 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                            28080 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                            28081 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                            28082 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                            28083 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                            28084 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                            28085 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                            28086 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                            28087 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                            28088 ; 168  |// also change the jump table in lcdapi.asm
                            28089 ; 169  |
                            28090 ; 170  |// Decoder Message IDs
                            28091 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                            28092 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                            28093 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                            28094 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                            28095 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                            28096 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                            28097 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                            28098 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                            28099 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                            28100 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                            28101 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                            28102 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                            28103 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                            28104 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                            28105 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                            28106 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                            28107 ; 187  |// If you change the Decoder message ID's, then you must
                            28108 ; 188  |// also change the jump table in decoder_overlay.asm
                            28109 ; 189  |// and in dec_adpcm_overlay.asm.
                            28110 ; 190  |
                            28111 ; 191  |// Encoder Message IDs
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 466

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28112 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                            28113 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                            28114 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                            28115 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                            28116 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                            28117 ; 197  |// If you change the Encoder message ID's, then you must
                            28118 ; 198  |// also change the jump table in all encoder overlay modules.
                            28119 ; 199  |
                            28120 ; 200  |// Parser Message IDs
                            28121 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                            28122 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                            28123 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                            28124 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                            28125 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                            28126 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                            28127 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                            28128 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                            28129 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                            28130 ; 210  |// If you change the Parser message ID's, then you must
                            28131 ; 211  |// also change the jump table in parser.asm
                            28132 ; 212  |
                            28133 ; 213  |// Button Message IDs
                            28134 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                            28135 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                            28136 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                            28137 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                            28138 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                            28139 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                            28140 ; 220  |
                            28141 ; 221  |// Mixer Message IDs
                            28142 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                            28143 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                            28144 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                            28145 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                            28146 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                            28147 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                            28148 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                            28149 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                            28150 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                            28151 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                            28152 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                            28153 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                            28154 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                            28155 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                            28156 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                            28157 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                            28158 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                            28159 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                            28160 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                            28161 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                            28162 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                            28163 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                            28164 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                            28165 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                            28166 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                            28167 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                            28168 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                            28169 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                            28170 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                            28171 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                            28172 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                            28173 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 467

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28174 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                            28175 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                            28176 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                            28177 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                            28178 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                            28179 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                            28180 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                            28181 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                            28182 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                            28183 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                            28184 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                            28185 ; 265  |// If you change the mixer message ID's then you must
                            28186 ; 266  |// also change the jump table in mixer.asm
                            28187 ; 267  |#define MIXER_ON 0
                            28188 ; 268  |#define MIXER_OFF 1
                            28189 ; 269  |
                            28190 ; 270  |
                            28191 ; 271  |// System Message IDs
                            28192 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                            28193 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                            28194 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                            28195 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                            28196 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                            28197 ; 277  |// If you change the system message ID's then you must
                            28198 ; 278  |// also change the jump table in systemapi.asm
                            28199 ; 279  |
                            28200 ; 280  |// Menu IDs
                            28201 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                            28202 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                            28203 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                            28204 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                            28205 ; 285  |//sub parameters for this message:
                            28206 ; 286  |#define RECORDER_START 0
                            28207 ; 287  |#define RECORDER_PAUSE 0x2000
                            28208 ; 288  |#define RECORDER_RESUME 0x4000
                            28209 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                            28210 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                            28211 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                            28212 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                            28213 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                            28214 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                            28215 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                            28216 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                            28217 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                            28218 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                            28219 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                            28220 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                            28221 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                            28222 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                            28223 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                            28224 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                            28225 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                            28226 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                            28227 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                            28228 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                            28229 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                            28230 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                            28231 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                            28232 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                            28233 ; 313  |
                            28234 ; 314  |// Note that other versions of this file have different msg equates.
                            28235 ; 315  |// If you change the system message ID's then you must
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 468

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28236 ; 316  |// also change the jump table in all menu *.asm
                            28237 ; 317  |
                            28238 ; 318  |// LED Message IDs
                            28239 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                            28240 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                            28241 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                            28242 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                            28243 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                            28244 ; 324  |// If you change the LeD message ID's then you must
                            28245 ; 325  |// also change the jump table in ledapi.asm
                            28246 ; 326  |
                            28247 ; 327  |#if (!defined(REMOVE_FM))
                            28248 ; 328  |// FM Tuner Message IDs
                            28249 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                            28250 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                            28251 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                            28252 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                            28253 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                            28254 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                            28255 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                            28256 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                            28257 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                            28258 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                            28259 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                            28260 ; 340  |//one parameter--the sensitivity in uV
                            28261 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                            28262 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                            28263 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                            28264 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                            28265 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                            28266 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                            28267 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                            28268 ; 348  |#endif
                            28269 ; 349  |
                            28270 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                            28271 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                            28272 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                            28273 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                            28274 ; 354  |
                            28275 ; 355  |
                            28276 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                            28277 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                            28278 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                            28279 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                            28280 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                            28281 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                            28282 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                            28283 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                            28284 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                            28285 ; 365  |
                            28286 ; 366  |#if (defined(USE_PLAYLIST3))
                            28287 ; 367  |// Music Library
                            28288 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                            28289 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                            28290 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                            28291 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                            28292 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                            28293 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                            28294 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                            28295 ; 375  |
                            28296 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                            28297 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 469

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28298 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                            28299 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                            28300 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                            28301 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                            28302 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                            28303 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                            28304 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                            28305 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                            28306 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                            28307 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                            28308 ; 388  |
                            28309 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            28310 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            28311 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            28312 ; 392  |
                            28313 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            28314 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            28315 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            28316 ; 396  |
                            28317 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            28318 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                            28319 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            28320 ; 400  |
                            28321 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                            28322 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                            28323 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                            28324 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                            28325 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                            28326 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                            28327 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                            28328 ; 408  |
                            28329 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            28330 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            28331 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            28332 ; 412  |
                            28333 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                            28334 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                            28335 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                            28336 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                            28337 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                            28338 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                            28339 ; 419  |
                            28340 ; 420  |#if defined(USE_PLAYLIST5)
                            28341 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                            28342 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                            28343 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                            28344 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                            28345 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                            28346 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                            28347 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                            28348 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                            28349 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                            28350 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                            28351 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                            28352 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                            28353 ; 433  |
                            28354 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                            28355 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                            28356 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                            28357 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                            28358 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                            28359 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 470

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28360 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                            28361 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                            28362 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                            28363 ; 443  |#endif // if @def('USE_PLAYLIST5')
                            28364 ; 444  |// Events
                            28365 ; 445  |// No event
                            28366 ; 446  |#define EVENT_NONE 0x000001   
                            28367 ; 447  |// A message has been posted
                            28368 ; 448  |#define EVENT_MESSAGE 0x000002   
                            28369 ; 449  |// Run if wait time elapsed
                            28370 ; 450  |#define EVENT_TIMER 0x000004   
                            28371 ; 451  |// Run if a button event occured
                            28372 ; 452  |#define EVENT_BUTTON 0x000008   
                            28373 ; 453  |// Run if a background event occured
                            28374 ; 454  |#define EVENT_BACKGROUND 0x000010   
                            28375 ; 455  |// The executive should immediately repeat this module
                            28376 ; 456  |#define EVENT_REPEAT 0x000020   
                            28377 ; 457  |// Run the module's init routine
                            28378 ; 458  |#define EVENT_INIT 0x800000   
                            28379 ; 459  |
                            28380 ; 460  |#define EVENT_NONE_BITPOS 0
                            28381 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                            28382 ; 462  |#define EVENT_TIMER_BITPOS 2
                            28383 ; 463  |#define EVENT_BUTTON_BITPOS 3
                            28384 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                            28385 ; 465  |#define EVENT_REPEAT_BITPOS 5
                            28386 ; 466  |#define EVENT_INIT_BITPOS 23
                            28387 ; 467  |
                            28388 ; 468  |// Parser Message Buffers
                            28389 ; 469  |#define ParserPlayBit 0
                            28390 ; 470  |#define ButtonPressBit 1
                            28391 ; 471  |#define ParserRwndBit 1
                            28392 ; 472  |#define ParserFfwdBit 2
                            28393 ; 473  |
                            28394 ; 474  |//NextSong Message Parameters
                            28395 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                            28396 ; 476  |#define NEXT_SONG 2             
                            28397 ; 477  |// ButtonPressBit1 cleared
                            28398 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                            28399 ; 479  |// ButtonPressBit1 set
                            28400 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                            28401 ; 481  |// NextSong + Ffwd
                            28402 ; 482  |#define NEXT_SONG_FFWD 4          
                            28403 ; 483  |
                            28404 ; 484  |//PrevSong Message Parameters
                            28405 ; 485  |// PrevSong + Stopped
                            28406 ; 486  |#define PREV_SONG 0          
                            28407 ; 487  |// PrevSong + Play
                            28408 ; 488  |#define PREV_SONG_PLAY 1          
                            28409 ; 489  |// PrevSong + Rwnd
                            28410 ; 490  |#define PREV_SONG_RWND 2          
                            28411 ; 491  |
                            28412 ; 492  |
                            28413 ; 493  |
                            28414 ; 494  |
                            28415 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                            28416 ; 496  |
                            28417 ; 497  |
                            28418 
                            28420 
                            28421 ; 13   |#include "metadata.h"
                            28422 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 471

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28424 
                            28425 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            28426 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            28427 ; 3    |//
                            28428 ; 4    |// Filename: metadata.h
                            28429 ; 5    |// Description:
                            28430 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            28431 ; 7    |
                            28432 ; 8    |#ifndef _METADATA_H
                            28433 ; 9    |#define _METADATA_H
                            28434 ; 10   |
                            28435 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            28436 ; 12   |// MetaData definitions
                            28437 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            28438 ; 14   |
                            28439 ; 15   |//#define MMC_CMD59       0x40|59
                            28440 ; 16   |
                            28441 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            28442 ; 18   |// Meta Data structure definitions
                            28443 ; 19   |///////////////////////////////////////////////////////////////////////////////
                            28444 ; 20   |
                            28445 ; 21   |///////////////////////////////////////////////////////////////////////////////
                            28446 ; 22   |// MetaData definitions
                            28447 ; 23   |
                            28448 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                            28449 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                            28450 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            28451 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                            28452 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                            28453 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                            28454 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                            28455 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                            28456 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
                            28457 ; 33   |
                            28458 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
                            28459 ; 35   |
                            28460 ; 36   |// VBR
                            28461 ; 37   |#define VBR_NOT_DETERMINED 0
                            28462 ; 38   |#define VBR_TRUE 1
                            28463 ; 39   |
                            28464 ; 40   |#ifndef TITLE_SIZE
                            28465 ; 41   |//#define TITLE_SIZE 30
                            28466 ; 42   |#ifndef USE_PLAYLIST3
                            28467 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                            28468 ; 44   |#else
                            28469 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                            28470 ; 46   |#endif
                            28471 ; 47   |#endif
                            28472 ; 48   |
                            28473 ; 49   |#ifndef ARTIST_SIZE
                            28474 ; 50   |#ifndef USE_PLAYLIST3
                            28475 ; 51   |//#define ARTIST_SIZE 30
                            28476 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            28477 ; 53   |#else
                            28478 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            28479 ; 55   |#endif
                            28480 ; 56   |#endif
                            28481 ; 57   |
                            28482 ; 58   |#ifndef ALBUM_SIZE
                            28483 ; 59   |#ifndef USE_PLAYLIST3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 472

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28484 ; 60   |//#define ALBUM_SIZE 30
                            28485 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            28486 ; 62   |#else
                            28487 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            28488 ; 64   |#endif
                            28489 ; 65   |#endif
                            28490 ; 66   |
                            28491 ; 67   |#ifdef USE_PLAYLIST3
                            28492 ; 68   |#ifndef GENRE_SIZE
                            28493 ; 69   |#define GENRE_SIZE 20
                            28494 ; 70   |#endif
                            28495 ; 71   |
                            28496 ; 72   |#ifndef YEAR_SIZE
                            28497 ; 73   |#define YEAR_SIZE 8
                            28498 ; 74   |#endif
                            28499 ; 75   |
                            28500 ; 76   |#ifndef TRACKNUM_SIZE
                            28501 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                            28502 ; 78   |#endif
                            28503 ; 79   |
                            28504 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                            28505 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                            28506 ; 82   |#endif
                            28507 ; 83   |
                            28508 ; 84   |#define XING_TOC_SIZE   100
                            28509 ; 85   |#if MTP_BUILD
                            28510 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                            28511 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                            28512 ; 88   |#define VBR_TOC_SIZE    2
                            28513 ; 89   |#else
                            28514 ; 90   |#define VBR_TOC_SIZE    200
                            28515 ; 91   |#endif
                            28516 ; 92   |
                            28517 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                            28518 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                            28519 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            28520 ; 96   |#ifdef USE_PLAYLIST3
                            28521 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                            28522 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                            28523 ; 99   |extern WORD g_wSongTrackNum;
                            28524 ; 100  |#endif
                            28525 ; 101  |
                            28526 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                            28527 ; 103  |
                            28528 ; 104  |typedef struct {
                            28529 ; 105  |    WORD        iTitleBufferLength;
                            28530 ; 106  |        UCS3       *wTitle;        // Title of Song
                            28531 ; 107  |    WORD        iArtistBufferLength;
                            28532 ; 108  |    UCS3       *wArtist;
                            28533 ; 109  |    WORD        iAlbumBufferLength;
                            28534 ; 110  |    UCS3       *wAlbum;
                            28535 ; 111  |#ifdef USE_PLAYLIST3
                            28536 ; 112  |    WORD        iGenreBufferLength;
                            28537 ; 113  |    UCS3       *wGenre;
                            28538 ; 114  |    WORD        iYearBufferLength;
                            28539 ; 115  |    UCS3       *wYear;
                            28540 ; 116  |    WORD        wTrackNum;
                            28541 ; 117  |#endif
                            28542 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
                            28543 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 473

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28544 ; 120  |        WORD       wNumChannels;
                            28545 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitr
                                  ate found)
                            28546 ; 122  |        LONG       iTime;                 // Length of song in seconds
                            28547 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the deco
                                  der)
                            28548 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                            28549 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                            28550 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
                            28551 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see qu
                                  estion below**)
                            28552 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = I
                                  MA ADPCM, etc (use defines below)
                            28553 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed fo
                                  r this file
                            28554 ; 130  |} FILE_META_DATA;
                            28555 ; 131  |
                            28556 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                            28557 ; 133  |#define UNKNOWN_TYPE   0
                            28558 ; 134  |#define MP3_TYPE       1
                            28559 ; 135  |#define WMA_TYPE       2
                            28560 ; 136  |#define AAC_TYPE       4
                            28561 ; 137  |#define IMA_ADPCM_TYPE 8
                            28562 ; 138  |#define MS_ADPCM_TYPE  16
                            28563 ; 139  |#define PCM_WAV_TYPE   32
                            28564 ; 140  |#define ASF_TYPE       64
                            28565 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                            28566 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                            28567 ; 143  |
                            28568 ; 144  |#define SMV_ADPCM_TYPE 512
                            28569 ; 145  |
                            28570 ; 146  |
                            28571 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                            28572 ; 148  |// Sample rates
                            28573 ; 149  |#ifdef WOW
                            28574 ; 150  |#define SR_48KHZ        48000
                            28575 ; 151  |#define SR_44KHZ        44100
                            28576 ; 152  |#define SR_32KHZ        32000
                            28577 ; 153  |#define SR_24KHZ        24000
                            28578 ; 154  |#define SR_22KHZ        22050
                            28579 ; 155  |#define SR_16KHZ        16000
                            28580 ; 156  |#define SR_12KHZ        12000
                            28581 ; 157  |#define SR_11KHZ        11025
                            28582 ; 158  |#define SR_8KHZ          8000
                            28583 ; 159  |#endif
                            28584 ; 160  |
                            28585 ; 161  |
                            28586 ; 162  |///////////////////////////////////////////////////////////////////////////////
                            28587 ; 163  |// MetaData prototypes
                            28588 ; 164  |///////////////////////////////////////////////////////////////////////////////
                            28589 ; 165  |
                            28590 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_ME
                                  TA_DATA *MetaData);
                            28591 ; 167  |#ifdef USE_PLAYLIST3
                            28592 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAd
                                  dress);
                            28593 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                            28594 ; 170  |#endif
                            28595 ; 171  |
                            28596 ; 172  |#endif // #ifndef _METADATA_H
                            28597 
                            28599 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 474

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28600 ; 14   |
                            28601 ; 15   |
                            28602 ; 16   |// Menu message, MUST check with menus.h to avoid duplicate
                            28603 ; 17   |// Change the menu message and timer value to match your project
                            28604 ; 18   |//#define MENU_MSG_LYRICS_UPDATE                MENU_LAST_MSG_ID+8              // moved i
                                  nto msgequ.inc
                            28605 ; 19   |#define TIMER_LYRICS_UPDATE                     9
                            28606 ; 20   |/////////////////////////////////////////////////////////////////
                            28607 ; 21   |
                            28608 ; 22   |#define SLT                                     ('S'|('L'<<8)|('T'<<16))        // V2.2 fr
                                  ame identifiers
                            28609 ; 23   |#define SYLT                            ('Y'|('L'<<8)|('T'<<16))        // V2.3 and V2.4 f
                                  rame identifiers
                            28610 ; 24   |#define MAX_LYRICS_STRING       100             // Max. number of characters per lyrics in
                                  cluding terminate zero
                            28611 ; 25   |#define LYRICS_ROW_BUF_SIZE     ((LCD_X_SIZE/4)+1)
                            28612 ; 26   |
                            28613 ; 27   |// ASF Header Extension Object
                            28614 ; 28   |#define ASF_HEADER_EXTENSION_GUID_0             0xbf03b5
                            28615 ; 29   |#define ASF_HEADER_EXTENSION_GUID_1             0xa92e5f
                            28616 ; 30   |#define ASF_HEADER_EXTENSION_GUID_2             0x8e11cf
                            28617 ; 31   |#define ASF_HEADER_EXTENSION_GUID_3             0xc000e3
                            28618 ; 32   |#define ASF_HEADER_EXTENSION_GUID_4             0x53200c
                            28619 ; 33   |#define ASF_HEADER_EXTENSION_GUID_5             0x000065
                            28620 ; 34   |
                            28621 ; 35   |// ASF Reserved 1
                            28622 ; 36   |#define ASF_RESERVED_1_GUID_0                   0xd3d211
                            28623 ; 37   |#define ASF_RESERVED_1_GUID_1                   0xa9baab
                            28624 ; 38   |#define ASF_RESERVED_1_GUID_2                   0x8e11cf
                            28625 ; 39   |#define ASF_RESERVED_1_GUID_3                   0xc000e6
                            28626 ; 40   |#define ASF_RESERVED_1_GUID_4                   0x53200c
                            28627 ; 41   |#define ASF_RESERVED_1_GUID_5                   0x000065
                            28628 ; 42   |
                            28629 ; 43   |// ASF Metadata Library Object
                            28630 ; 44   |#define ASF_METADATA_LIBRARY_GUID_0             0x231c94
                            28631 ; 45   |#define ASF_METADATA_LIBRARY_GUID_1             0x949844
                            28632 ; 46   |#define ASF_METADATA_LIBRARY_GUID_2             0xa149d1
                            28633 ; 47   |#define ASF_METADATA_LIBRARY_GUID_3             0x131d41
                            28634 ; 48   |#define ASF_METADATA_LIBRARY_GUID_4             0x70454e
                            28635 ; 49   |#define ASF_METADATA_LIBRARY_GUID_5             0x000054
                            28636 ; 50   |
                            28637 ; 51   |// Data structure for lyrics library
                            28638 ; 52   |typedef struct {
                            28639 ; 53   |        WORD    iTitleBufferLength;
                            28640 ; 54   |        UCS3    *wTitle;
                            28641 ; 55   |        WORD    iArtistBufferLength;
                            28642 ; 56   |        UCS3    *wArtist;
                            28643 ; 57   |        WORD    iAlbumBufferLength;
                            28644 ; 58   |        UCS3    *wAlbum;
                            28645 ; 59   |        DWORD   dwNumBytes;
                            28646 ; 60   |} LYRICS_FILE_META_DATA;
                            28647 ; 61   |
                            28648 ; 62   |// Function Prototypes
                            28649 ; 63   |RETCODE _reentrant Id3V2LyricsReadFrame(INT iHandle, WORD uFrameSize, INT *ptr);
                            28650 ; 64   |RETCODE _reentrant Mp3MetaDataReadLyrics3(INT iHandle,INT iIgnored, INT *pMetaData);
                            28651 ; 65   |RETCODE _reentrant Mp3MetaDataReadLRC(INT iIgnored1,INT iIgnored2, INT *pMetaData);
                            28652 ; 66   |RETCODE _reentrant WMALyricsReadFrame(INT iHandle, WORD uFrameSize, INT *ptr);
                            28653 ; 67   |RETCODE _reentrant LyricsInit(INT a, INT b, INT *c);
                            28654 ; 68   |RETCODE _reentrant LyricsStart(INT a, INT b, INT *c);
                            28655 ; 69   |RETCODE _reentrant LyricsPause(INT a, INT b, INT *c);
                            28656 ; 70   |RETCODE _reentrant LyricsGetNext(INT a, INT b, INT *c);
                            28657 ; 71   |RETCODE _reentrant LyricsStop(INT a, INT b, INT *c);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 475

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28658 ; 72   |RETCODE _reentrant LyricsIsValid(void);
                            28659 ; 73   |RETCODE _reentrant LyricsSkipping(INT a, INT b, INT *c);
                            28660 ; 74   |RETCODE _reentrant LyricsGetNextLyricsTime(INT a, INT b, INT *pTime);
                            28661 ; 75   |DWORD _reentrant LyricsGetFirstLyricsTime(void);
                            28662 ; 76   |
                            28663 ; 77   |extern UCS3 _X * _X     g_pSongLyrics;
                            28664 ; 78   |
                            28665 ; 79   |#endif
                            28666 
                            28668 
                            28669 ; 72   |#endif
                            28670 ; 73   |
                            28671 ; 74   |#ifdef   USE_PLAYLIST3
                            28672 ; 75   |#include  "jpegfileutil.h"
                            28673 
                            28675 
                            28676 ; 1    |#ifndef _JPEGFILEUTIL_H
                            28677 ; 2    |#define _JPEGFILEUTIL_H
                            28678 ; 3    |
                            28679 ; 4    |/* Following is copied form playlist2.h */
                            28680 ; 5    |#define PLAYSET_PHOTO 4
                            28681 ; 6    |#define PLAYSET_MVIDEO  5
                            28682 ; 7    |
                            28683 ; 8    |extern _packed BYTE DirPath[];
                            28684 ; 9    |extern _packed char sStartDir[][25];
                            28685 ; 10   |
                            28686 ; 11   |extern INT _reentrant JpegFile_SetPlaySet(INT iPlayset, INT bUnused, INT *pUnused);
                            28687 ; 12   |extern RETCODE _reentrant JpegFile_GetCurrentSongFileInfo(int, int, int*);
                            28688 ; 13   |extern RETCODE _reentrant JpegFile_GetPreviousSongFileInfo(int, int, int*);
                            28689 ; 14   |extern RETCODE _reentrant JpegFile_GetNextSongFileInfo(int, int, int*);
                            28690 ; 15   |
                            28691 ; 16   |#endif
                            28692 
                            28694 
                            28695 ; 76   |extern   INT  iJpegPlaySet;
                            28696 ; 77   |#endif
                            28697 ; 78   |
                            28698 ; 79   |#ifdef USE_PLAYLIST5
                            28699 ; 80   |extern JanusDRMLicExpired;  
                            28700 ; 81   |extern HasJanusDRMLICFail;
                            28701 ; 82   |extern bDRMLicExpired;
                            28702 ; 83   |
                            28703 ; 84   |extern BOOL g_bWait;
                            28704 ; 85   |
                            28705 ; 86   |extern int   _Y filest_bHasDRM;
                            28706 ; 87   |extern  filest_bHasJanusDRM;
                            28707 ; 88   |#endif
                            28708 ; 89   |
                            28709 ; 90   |#ifdef USE_PLAYLIST2
                            28710 ; 91   |#ifdef AUDIBLE
                            28711 ; 92   |BOOL g_bStartOfList = FALSE;
                            28712 ; 93   |#endif
                            28713 ; 94   |#endif
                            28714 ; 95   |
                            28715 ; 96   |///////////////////////////////////////////////////////////////////////////////
                            28716 ; 97   |//  Prototypes
                            28717 ; 98   |///////////////////////////////////////////////////////////////////////////////
                            28718 ; 99   |
                            28719 ; 100  |
                            28720 ; 101  |////////////////////////////////////////////////////////////////////////////////
                            28721 ; 102  |//  Y Memory
                            28722 ; 103  |////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 476

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28723 ; 104  |BOOL g_bPlayListEnabled = TRUE;
                            28724 
                            28725 
Y:0000                      28726         org     y,".ydataplayerlib",init:
                            28727 Fg_bPlayListEnabled:
Y:0000 000001               28728         dc      $000001
                            28731 
                            28732 ; 105  |_packed BYTE g_CurrentSongName[MAX_FILENAME_LENGTH];
                            28733 ; 106  |#ifdef USE_PLAYLIST5
                            28734 ; 107  |long g_CurrentFastKey=0;
                            28735 ; 108  |#endif
                            28736 ; 109  |DWORD g_CurrentSongFastkey;
                            28737 ; 110  |
                            28738 ; 111  |// Stmp00010296 Ticket #71685: for song shorter than the min. skip size
                            28739 ; 112  |BOOL bCurrentSongShort = FALSE;         //local variable only
                            28740 
                            28741 FbCurrentSongShort:
Y:0001 000000               28742         dc      $000000
                            28745 
                            28746 ; 113  |////////////////////////////////////////////////////////////////////////////////
                            28747 ; 114  |//  X Memory
                            28748 ; 115  |////////////////////////////////////////////////////////////////////////////////
                            28749 ; 116  |_X INT g_iPlayerState = DECODER_STOPPED;
                            28750 
                            28751 
X:0000                      28752         org     x,".xdataplayerlib",init:
                            28753 Fg_iPlayerState:
X:0000 000040               28754         dc      $000040
                            28757 
                            28758 ; 117  |
                            28759 ; 118  |////////////////////////////////////////////////////////////////////////////////
                            28760 ; 119  |//  P Memory
                            28761 ; 120  |////////////////////////////////////////////////////////////////////////////////
                            28762 ; 121  |_asmfunc DecoderForceInit(void);
                            28763 ; 122  |
                            28764 ; 123  |
                            28765 ; 124  |///////////////////////////////////////////////////////////////////////////////
                            28766 ; 125  |//> Name:        PlayerLib_SetState
                            28767 ; 126  |//
                            28768 ; 127  |//  Type:        Function
                            28769 ; 128  |//
                            28770 ; 129  |//  Description: Use the function to set the decoder to a specified state:
                            28771 ; 130  |//                  STOP, PLAY, PAUSE, TOGGLE (switches between PLAY & PAUSE,
                            28772 ; 131  |//                                             PLAYs if STOPPED)
                            28773 ; 132  |//
                            28774 ; 133  |//  Inputs:      iState = state to set decoder to
                            28775 ; 134  |//               bWait  = if TRUE, function will not return until state is set
                            28776 ; 135  |//  Outputs:     Success returned if successful, Error if not.
                            28777 ; 136  |//
                            28778 ; 137  |//  Notes:
                            28779 ; 138  |//<
                            28780 ; 139  |///////////////////////////////////////////////////////////////////////////////
                            28781 ; 140  |RETCODE _reentrant PlayerLib_SetState (int iState,int bWait,int*ignored)
                            28782 ; 141  |{
                            28783 
P:0000                      28784         org     p,".ptextplayerlib":
                            28791 FPlayerLib_SetState:
P:0000 055F7C         2    228792         movec   ssh,y:(r7)+
P:0001 205F00         2    428795         move    (r7)+
                            28805 
                            28806 ; 142  |    RETCODE rtn=PLAYERLIB_SUCCESS;
                            28807 ; 143  |    ignored;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 477

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28808 ; 144  |    switch (iState)                              // switch on the desired decoder state
                            28809 
P:0002 65F403 rrrrrr  3    728811         tst     a       #L95,r5
P:0004 0AF0AB rrrrrr  6   1328812         jmi     L84
P:0006 46F400 000004  3   1628813         move    #>4,y0
P:0008 21DD55         2   1828814         cmp     y0,a    a,n5
P:0009 0AF0A7 rrrrrr  6   2428815         jgt     L84
P:000B 07ED95         8   3228816         movem   p:(r5+n5),r5
P:000C 000000         2   3428817         nop
P:000D 0AE580         4   3828818         jmp     (r5)
                            28819 
P:000E rrrrrr               28820 L95:    dc      L65     ; case 0:
P:000F rrrrrr               28821         dc      L70     ; case 1:
P:0010 rrrrrr               28822         dc      L76     ; case 2:
P:0011 rrrrrr               28823         dc      L84     ; default:
P:0012 rrrrrr               28824         dc      L81     ; case 4:
                            28825 
                            28826 
                            28827 ; 145  |    {
                            28828 ; 146  |    case DECODER_STATE_STOP:                     // set Decoder to STOP state
                            28829 
P:0013 045FA0         2   4028831 L65:    movec   m0,n7
P:0014 000000         2   4228832         nop
P:0015 5D6F00         4   4628833         move    b1,y:(r7+n7)
                            28836 
                            28837 ; 147  |      if(!(g_wDecoderSR & DECODER_STOPPED))      // if Decoder NOT stopped-->
                            28838 
P:0016 56F000 rrrrrr  3   4928840         move    x:Fg_wDecoderSR,a
P:0018 46F400 000040  3   5228842         move    #>$40,y0
P:001A 200056         2   5428843         and     y0,a
P:001B 2A0000         2   5628844         move    #0,a2
P:001C 200003         2   5828845         tst     a
P:001D 0AF0A2 rrrrrr  6   6428846         jne     L69
                            28847 
                            28848 ; 148  |      {
                            28849 ; 149  |#ifdef SYNC_LYRICS
                            28850 ; 150  |          SysCallFunction(RSRC_LYRICS_API_CODEBANK,LyricsStop,0,0,0);
                            28851 
P:001F 240000         2   6628853         move    #0,x0
P:0020 20001B         2   6828854         clr     b   
P:0021 340000         2   7028855         move    #0,r4
P:0022 60F400 rrrrrr  3   7328856         move    #FLyricsStop,r0
P:0024 56F400 0001F1  3   7628857         move    #$1F1,a
P:0026 0BF080 rrrrrr  6   8228858         jsr     SysCallFunction
                            28860 
                            28861 ; 151  |#endif
                            28862 ; 152  |          SysPostMessage(2,DECODER_STOP);        // -->then post a message to STOP
                            28863 
P:0028 290300         2   8428865         move    #3,b0
P:0029 595F00         2   8628866         move    b0,y:(r7)+
P:002A 290200         2   8828868         move    #2,b0
P:002B 595F00         2   9028869         move    b0,y:(r7)+
P:002C 0BF080 rrrrrr  6   9628871         jsr     FSysPostMessage
P:002E 205700         2   9828872         move    (r7)-
P:002F 205700         2  10028874         move    (r7)-
                            28876 
                            28877 ; 153  |          if(bWait)                              // check if we need to WAIT for STOP to o
                                  ccur
                            28878 
P:0030 045FA0         2  10228880         movec   m0,n7
P:0031 000000         2  10428881         nop
P:0032 5FEF00         4  10828882         move    y:(r7+n7),b
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 478

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0033 20000B         2  11028883         tst     b
P:0034 0AF0AA rrrrrr  6  11628886         jeq     L69
                            28887 
                            28888 ; 154  |          {
                            28889 ; 155  |            while(!(g_wDecoderSR & DECODER_STOPPED))
                            28890 
P:0036 0AF080 rrrrrr  6  12228892         jmp     L67
                            28893 
                            28894 ; 156  |              SysWaitOnEvent(EVENT_TIMER,0,10);  // wait, 10ms ...
                            28895 
P:0038 300000         2  12428897 L66:    move    #0,r0
P:0039 57F400 00000A  3  12728898         move    #>10,b
P:003B 56F400 000004  3  13028899         move    #>4,a
P:003D 0BF080 rrrrrr  6  13628900         jsr     SysWaitOnEvent
P:003F 55F000 rrrrrr  3  13928903 L67:    move    x:Fg_wDecoderSR,b1
P:0041 44F400 000040  3  14228904         move    #>$40,x0
P:0043 20004E         2  14428905         and     x0,b
P:0044 21AF00         2  14628906         move    b1,b
P:0045 2B0000         2  14828907         move    #0,b2
P:0046 20000B         2  15028908         tst     b
P:0047 0AF0AA rrrrrr  6  15628909         jeq     L66
                            28910 
                            28911 ; 157  |          }
                            28912 ; 158  |      }
                            28913 ; 159  |          // For fix FF hang
                            28914 ; 160  |      DecoderForceInit();                               // update decoder and force init
                            28915 
P:0049 0BF080 rrrrrr  6  16228917 L69:    jsr     DecoderForceInit
                            28918 
                            28919 ; 161  |      SysPostMessage(2,DECODER_RESET);
                            28920 
P:004B 20001B         2  16428922         clr     b   
P:004C 5F5F00         2  16628923         move    b,y:(r7)+
P:004D 290200         2  16828925         move    #2,b0
P:004E 595F00         2  17028926         move    b0,y:(r7)+
P:004F 0BF080 rrrrrr  6  17628928         jsr     FSysPostMessage
P:0051 205700         2  17828929         move    (r7)-
P:0052 205700         2  18028931         move    (r7)-
                            28933 
                            28934 ; 162  |#ifdef AUDIBLE
                            28935 ; 163  |                  if( (DecoderResourcePtr != RSRC_AUDIBLE_ACELPDEC_CODE) && (DecoderResour
                                  cePtr != RSRC_AUDIBLE_DECMOD_CODE) ) {
                            28936 ; 164  |                        DecSetSongPosZero();                       // reset byte positions
                                   to beginning of file
                            28937 ; 165  |                  }
                            28938 ; 166  |#else
                            28939 ; 167  |        DecSetSongPosZero();                       // reset byte positions to beginning of
                                   file
                            28940 
P:0053 0BF080 rrrrrr  6  18628942         jsr     DecSetSongPosZero
                            28943 
                            28944 ; 168  |#endif
                            28945 ; 169  |
                            28946 ; 170  |#ifdef WOW
                            28947 ; 171  |          SysSpeedClockFree(SPEED_CLIENT_MENU_WOW);  // let speed return to IDLE if not pl
                                  aying
                            28948 ; 172  |#endif
                            28949 ; 173  |
                            28950 ; 174  |      break;
                            28951 
P:0055 0AF080 rrrrrr  6  19228953         jmp     L94
                            28954 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 479

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28955 ; 175  |
                            28956 ; 176  |    case DECODER_STATE_PLAY:                     // set Decoder to PLAY state
                            28957 
                            28959 L70:
P:0057 045FA0         2  19428961         movec   m0,n7
P:0058 000000         2  19628962         nop
P:0059 5D6F00         4  20028963         move    b1,y:(r7+n7)
                            28966 
                            28967 ; 177  |      //it is possible that the player is already heading into play state and our play mes
                                  sage will cause it to
                            28968 ; 178  |      //go to pause state.   The decoder should be fixed to avoid this problem. See decode
                                  r settling interval.
                            28969 ; 179  |      g_iPlayerState = DECODER_PLAYING;
                            28970 
P:005A 51F400 001000  3  20328972         move    #$1000,b0
P:005C 517000 rrrrrr  3  20628973         move    b0,x:Fg_iPlayerState
                            28974 
                            28975 ; 180  |
                            28976 ; 181  |      // Wait decoder settling interval (ms), before checking decoder status.
                            28977 ; 182  |      SysWaitOnEvent(EVENT_TIMER,0,100); // Prevents hang by keeping playerlib & decoder s
                                  ynchronized.
                            28978 
P:005E 20001B         2  20828980         clr     b   
P:005F 56F400 000004  3  21128981         move    #>4,a
P:0061 21B000         2  21328982         move    b1,r0
P:0062 57F400 000064  3  21628983         move    #>100,b
P:0064 0BF080 rrrrrr  6  22228984         jsr     SysWaitOnEvent
                            28985 
                            28986 ; 183  |      // Now check the Decoder's updated status.
                            28987 ; 184  |
                            28988 ; 185  |      if(!(g_wDecoderSR & DECODER_PLAYING))      // if Decoder NOT playing-->
                            28989 
P:0066 55F000 rrrrrr  3  22528991         move    x:Fg_wDecoderSR,b1
P:0068 47F400 001000  3  22828992         move    #$1000,y1
P:006A 20007E         2  23028993         and     y1,b
P:006B 21AF00         2  23228994         move    b1,b
P:006C 2B0000         2  23428995         move    #0,b2
P:006D 20000B         2  23628996         tst     b
P:006E 0AF0A2 rrrrrr  6  24228997         jne     L94
                            28998 
                            28999 ; 186  |      {
                            29000 ; 187  |#ifdef WOW
                            29001 ; 188  |        // Calling SysSpeedIncrease() will decrease battery life,
                            29002 ; 189  |        // so only call for WOW to increase battery life. (Stmp00008309)
                            29003 ; 190  |        // But inter-song delay will be increased if speed is not increased.
                            29004 ; 191  |        SysSpeedIncrease(SPEED_MAX,SPEED_CLIENT_MENU_WOW);  // boost speed on MP3s
                            29005 ; 192  |#endif
                            29006 ; 193  |#ifdef SYNC_LYRICS
                            29007 ; 194  |                SysCallFunction(RSRC_LYRICS_API_CODEBANK,LyricsStart,0,0,0);
                            29008 
P:0070 20001B         2  24429010         clr     b   
P:0071 200013         2  24629011         clr     a   
P:0072 240000         2  24829012         move    #0,x0
P:0073 219400         2  25029013         move    a1,r4
P:0074 56F400 0001F1  3  25329014         move    #$1F1,a
P:0076 60F400 rrrrrr  3  25629015         move    #FLyricsStart,r0
P:0078 0BF080 rrrrrr  6  26229016         jsr     SysCallFunction
                            29017 
                            29018 ; 195  |#endif
                            29019 ; 196  |
                            29020 ; 197  |#ifndef USE_PLAYLIST5
                            29021 ; 198  |        SysPostMessage(2,DECODER_PLAY);          // -->then post a message to PLAY
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 480

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29022 
P:007A 2D0200         2  26429024         move    #2,b1
P:007B 290200         2  26629025         move    #2,b0
P:007C 595F00         2  26829026         move    b0,y:(r7)+
P:007D 5D5F00         2  27029028         move    b1,y:(r7)+
P:007E 0BF080 rrrrrr  6  27629030         jsr     FSysPostMessage
P:0080 205700         2  27829031         move    (r7)-
P:0081 205700         2  28029033         move    (r7)-
                            29035 
                            29036 ; 199  |#else        
                            29037 ; 200  |                if((!g_bWait)|| filest_bHasDRM || filest_bHasJanusDRM)
                            29038 ; 201  |                        bWait = FALSE;
                            29039 ; 202  |
                            29040 ; 203  |        SysPostMessage(2,DECODER_PLAY);          // -->then post a message to PLAY
                            29041 ; 204  |//         bWait = FALSE;
                            29042 ; 205  |#endif
                            29043 ; 206  |#ifdef MOTION_VIDEO
                            29044 ; 207  |#ifdef USE_PLAYLIST3
                            29045 ; 208  |        if(iJpegPlaySet == PLAYSET_MVIDEO)              bWait = FALSE;
                            29046 ; 209  |#else
                            29047 ; 210  |#ifndef USE_PLAYLIST5
                            29048 ; 211  |        if(Playlist_GetPlaySet() == PLAYSET_MVIDEO) bWait = FALSE;
                            29049 ; 212  |#endif          
                            29050 ; 213  |#endif
                            29051 ; 214  |#endif
                            29052 ; 215  |        if(bWait)                                // check if we need to WAIT for PLAY to o
                                  ccur
                            29053 
P:0082 045FA0         2  28229055         movec   m0,n7
P:0083 000000         2  28429056         nop
P:0084 5FEF00         4  28829057         move    y:(r7+n7),b
P:0085 20000B         2  29029058         tst     b
P:0086 0AF0AA rrrrrr  6  29629061         jeq     L94
                            29062 
                            29063 ; 216  |        {
                            29064 ; 217  |          while(!(((g_wDecoderSR & (DECODER_PLAYING|DECODER_BAD_FILE))||g_wCurrentSongBad)
                                  ))
                            29065 
P:0088 0AF080 rrrrrr  6  30229067         jmp     L72
                            29068 
                            29069 ; 218  |          {   SysWaitOnEvent(EVENT_TIMER,0,10);    // wait, 10 ms ...
                            29070 
P:008A 56F400 000004  3  30529072 L71:    move    #>4,a
P:008C 300000         2  30729073         move    #0,r0
P:008D 57F400 00000A  3  31029074         move    #>10,b
P:008F 0BF080 rrrrrr  6  31629075         jsr     SysWaitOnEvent
P:0091 54F000 rrrrrr  3  31929078 L72:    move    x:Fg_wDecoderSR,a1
P:0093 218D00         2  32129079         move    a1,b1
P:0094 46F400 201000  3  32429080         move    #$201000,y0
P:0096 200056         2  32629081         and     y0,a
P:0097 218E00         2  32829082         move    a1,a
P:0098 2A0000         2  33029083         move    #0,a2
P:0099 200003         2  33229084         tst     a
P:009A 0AF0A2 rrrrrr  6  33829085         jne     L73
P:009C 5EF000 rrrrrr  3  34129086         move    y:Fg_wCurrentSongBad,a
P:009E 2A0000         2  34329087         move    #0,a2
P:009F 200003         2  34529088         tst     a
P:00A0 0AF0AA rrrrrr  6  35129089         jeq     L71
                            29090 
                            29091 ; 219  |#ifdef USE_PLAYLIST5          
                            29092 ; 220  |                if (bDRMLicExpired || filest_bHasDRM || filest_bHasJanusDRM)
                            29093 ; 221  |                    break;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 481

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29094 ; 222  |#endif
                            29095 ; 223  |          }
                            29096 ; 224  |          if((g_wDecoderSR & DECODER_BAD_FILE) || g_wCurrentSongBad)
                            29097 
P:00A2 262000         2  35329099 L73:    move    #<$20,y0
P:00A3 20005E         2  35529100         and     y0,b
P:00A4 21AF00         2  35729101         move    b1,b
P:00A5 2B0000         2  35929102         move    #0,b2
P:00A6 20000B         2  36129103         tst     b
P:00A7 0AF0A2 rrrrrr  6  36729104         jne     L74
P:00A9 5FF000 rrrrrr  3  37029105         move    y:Fg_wCurrentSongBad,b
P:00AB 2B0000         2  37229106         move    #0,b2
P:00AC 20000B         2  37429107         tst     b
P:00AD 0AF0AA rrrrrr  6  38029108         jeq     L75
                            29109 
                            29110 ; 225  |          {
                            29111 ; 226  |              g_iPlayerState = DECODER_STOPPED;
                            29112 
P:00AF 2C4000         2  38229114 L74:    move    #$40,a1
P:00B0 547000 rrrrrr  3  38529115         move    a1,x:Fg_iPlayerState
                            29116 
                            29117 ; 227  |              rtn = PLAYERLIB_BAD_FILE;          // return error code if file will not pla
                                  y
                            29118 ; 228  |          }
                            29119 
P:00B2 0AF080 rrrrrr  6  39129121         jmp     L94
                            29122 
                            29123 ; 229  |          else // else, mark the current song as played in playlist
                            29124 ; 230  |          {   SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_MarkCurrentSongPlayed,0,0,0)
                                  ;
                            29125 
P:00B4 240000         2  39329127 L75:    move    #0,x0
P:00B5 20001B         2  39529128         clr     b   
P:00B6 56F400 000058  3  39829129         move    #>88,a
P:00B8 60F400 rrrrrr  3  40129130         move    #FPlaylist_MarkCurrentSongPlayed,r0
P:00BA 340000         2  40329131         move    #0,r4
P:00BB 0BF080 rrrrrr  6  40929132         jsr     SysCallFunction
                            29133 
                            29134 ; 231  |          }
                            29135 ; 232  |        }
                            29136 ; 233  |      }
                            29137 ; 234  |      break;
                            29138 
P:00BD 0AF080 rrrrrr  6  41529140         jmp     L94
                            29141 
                            29142 ; 235  |
                            29143 ; 236  |    case DECODER_STATE_PAUSE:
                            29144 
                            29146 L76:
P:00BF 045FA0         2  41729148         movec   m0,n7
P:00C0 000000         2  41929149         nop
P:00C1 5D6F00         4  42329150         move    b1,y:(r7+n7)
                            29153 
                            29154 ; 237  |      //it is possible that the player is already heading into pause state and our play me
                                  ssage will cause it to
                            29155 ; 238  |      //go to play state.   The decoder should be fixed to avoid this problem.
                            29156 ; 239  |
                            29157 ; 240  |#ifdef SYNC_LYRICS
                            29158 ; 241  |      SysCallFunction(RSRC_LYRICS_API_CODEBANK,LyricsPause,0,0,0);
                            29159 
P:00C2 240000         2  42529161         move    #0,x0
P:00C3 20001B         2  42729162         clr     b   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 482

M:ADDR CODE           CYCLES LINE SOURCELINE
P:00C4 340000         2  42929163         move    #0,r4
P:00C5 56F400 0001F1  3  43229164         move    #$1F1,a
P:00C7 60F400 rrrrrr  3  43529165         move    #FLyricsPause,r0
P:00C9 0BF080 rrrrrr  6  44129166         jsr     SysCallFunction
                            29167 
                            29168 ; 242  |#endif
                            29169 ; 243  |      // Decoder settling time wait (ms) prevents hang after PLAY, PR_FF, quickly followed
                                   by PH_FF.
                            29170 ; 244  |      // Keeps playerlib & decoder synchronized. Stmp00003027/2947  Verified with decoder 
                                  bitrate limits.
                            29171 ; 245  |      // Note: Decoder settling time of 30 ms is insufficient for some MPEG rates. 100 ms 
                                  prevents hang.
                            29172 ; 246  |      if (bWait)  // If we haven't yet waited for decoder settling time to expire, do so n
                                  ow.
                            29173 
P:00CB 045FA0         2  44329175         movec   m0,n7
P:00CC 000000         2  44529176         nop
P:00CD 5FEF00         4  44929177         move    y:(r7+n7),b
P:00CE 20000B         2  45129178         tst     b
P:00CF 0AF0AA rrrrrr  6  45729179         jeq     L77
                            29180 
                            29181 ; 247  |      {  SysWaitOnEvent(EVENT_TIMER,0,100);
                            29182 
P:00D1 300000         2  45929184         move    #0,r0
P:00D2 56F400 000004  3  46229185         move    #>4,a
P:00D4 57F400 000064  3  46529186         move    #>100,b
P:00D6 0BF080 rrrrrr  6  47129187         jsr     SysWaitOnEvent
                            29188 
                            29189 ; 248  |      }
                            29190 ; 249  |
                            29191 ; 250  |      if(!(g_wDecoderSR & DECODER_PAUSED))       // if Decoder NOT paused-->
                            29192 
P:00D8 54F000 rrrrrr  3  47429194 L77:    move    x:Fg_wDecoderSR,a1
P:00DA 218F00         2  47629195         move    a1,b
P:00DB 47F400 000020  3  47929196         move    #>$20,y1
P:00DD 20007E         2  48129197         and     y1,b
P:00DE 2B0000         2  48329198         move    #0,b2
P:00DF 20000B         2  48529199         tst     b
P:00E0 0AF0A2 rrrrrr  6  49129200         jne     L94
                            29201 
                            29202 ; 251  |      {
                            29203 ; 252  |        if(g_wDecoderSR & DECODER_STOPPED)       // if Decoder stopped==>
                            29204 
P:00E2 45F400 000040  3  49429206         move    #>$40,x1
P:00E4 200066         2  49629207         and     x1,a
P:00E5 218E00         2  49829208         move    a1,a
P:00E6 2A0000         2  50029209         move    #0,a2
P:00E7 200003         2  50229210         tst     a
P:00E8 0AF0AA rrrrrr  6  50829211         jeq     L78
                            29212 
                            29213 ; 253  |          SysPostMessage(2,DECODER_PLAY);        // ==>then post a message to PLAY
                            29214 
P:00EA 2D0200         2  51029216         move    #2,b1
P:00EB 290200         2  51229217         move    #2,b0
P:00EC 595F00         2  51429218         move    b0,y:(r7)+
P:00ED 5D5F00         2  51629220         move    b1,y:(r7)+
P:00EE 0BF080 rrrrrr  6  52229222         jsr     FSysPostMessage
P:00F0 205700         2  52429223         move    (r7)-
P:00F1 205700         2  52629225         move    (r7)-
                            29227 
                            29228 ; 254  |        SysPostMessage(2,DECODER_PLAY);          // -->then post a message to PLAY/PAUSE
                            29229 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 483

M:ADDR CODE           CYCLES LINE SOURCELINE
P:00F2 2D0200         2  52829231 L78:    move    #2,b1
P:00F3 290200         2  53029232         move    #2,b0
P:00F4 595F00         2  53229233         move    b0,y:(r7)+
P:00F5 5D5F00         2  53429235         move    b1,y:(r7)+
P:00F6 0BF080 rrrrrr  6  54029237         jsr     FSysPostMessage
P:00F8 205700         2  54229238         move    (r7)-
P:00F9 205700         2  54429240         move    (r7)-
                            29242 
                            29243 ; 255  |        if(bWait)                                // check if we need to WAIT for PAUSE to 
                                  occur
                            29244 
P:00FA 045FA0         2  54629246         movec   m0,n7
P:00FB 000000         2  54829247         nop
P:00FC 5FEF00         4  55229248         move    y:(r7+n7),b
P:00FD 20000B         2  55429249         tst     b
P:00FE 0AF0AA rrrrrr  6  56029252         jeq     L94
                            29253 
                            29254 ; 256  |        {
                            29255 ; 257  |          while(!((g_wDecoderSR & (DECODER_PLAYING|DECODER_BAD_FILE)||g_wCurrentSongBad)))
                                  
                            29256 
P:0100 0AF080 rrrrrr  6  56629258         jmp     L80
                            29259 
                            29260 ; 258  |            SysWaitOnEvent(EVENT_TIMER,0,10);    // wait, 10 ms ...
                            29261 
P:0102 300000         2  56829263 L79:    move    #0,r0
P:0103 56F400 000004  3  57129264         move    #>4,a
P:0105 57F400 00000A  3  57429265         move    #>10,b
P:0107 0BF080 rrrrrr  6  58029266         jsr     SysWaitOnEvent
P:0109 55F000 rrrrrr  3  58329269 L80:    move    x:Fg_wDecoderSR,b1
P:010B 44F400 201000  3  58629270         move    #$201000,x0
P:010D 20004E         2  58829271         and     x0,b
P:010E 21AF00         2  59029272         move    b1,b
P:010F 2B0000         2  59229273         move    #0,b2
P:0110 20000B         2  59429274         tst     b
P:0111 0AF0A2 rrrrrr  6  60029275         jne     L94
P:0113 5FF000 rrrrrr  3  60329276         move    y:Fg_wCurrentSongBad,b
P:0115 2B0000         2  60529277         move    #0,b2
P:0116 20000B         2  60729278         tst     b
P:0117 0AF0AA rrrrrr  6  61329279         jeq     L79
                            29280 
                            29281 ; 259  |          if(g_wDecoderSR & DECODER_BAD_FILE)
                            29282 ; 260  |            rtn = PLAYERLIB_BAD_FILE;            // return error code if file will not pla
                                  y
                            29283 ; 261  |        }
                            29284 ; 262  |      }
                            29285 ; 263  |      break;
                            29286 
P:0119 0AF080 rrrrrr  6  61929288         jmp     L94
                            29289 
                            29290 ; 264  |
                            29291 ; 265  |    case DECODER_STATE_TOGGLE:                  // this function simply toggles between PL
                                  AY and PAUSE
                            29292 ; 266  |#ifdef SYNC_LYRICS
                            29293 ; 267  |      if(!(g_wDecoderSR & DECODER_PAUSED))       // if Decoder NOT paused-->
                            29294 
P:011B 55F000 rrrrrr  3  62229296 L81:    move    x:Fg_wDecoderSR,b1
P:011D 46F400 000020  3  62529297         move    #>$20,y0
P:011F 20005E         2  62729298         and     y0,b
P:0120 21AF00         2  62929299         move    b1,b
P:0121 2B0000         2  63129300         move    #0,b2
P:0122 20000B         2  63329301         tst     b
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 484

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0123 0AF0A2 rrrrrr  6  63929302         jne     L82
                            29303 
                            29304 ; 268  |         SysCallFunction(RSRC_LYRICS_API_CODEBANK,LyricsPause,0,0,0);
                            29305 
P:0125 240000         2  64129307         move    #0,x0
P:0126 20001B         2  64329308         clr     b   
P:0127 340000         2  64529309         move    #0,r4
P:0128 56F400 0001F1  3  64829310         move    #$1F1,a
P:012A 60F400 rrrrrr  3  65129311         move    #FLyricsPause,r0
P:012C 0AF080 rrrrrr  6  65729312         jmp     L83
                            29313 
                            29314 ; 269  |      else
                            29315 ; 270  |         SysCallFunction(RSRC_LYRICS_API_CODEBANK,LyricsStart,0,0,0);
                            29316 
P:012E 240000         2  65929318 L82:    move    #0,x0
P:012F 20001B         2  66129319         clr     b   
P:0130 340000         2  66329320         move    #0,r4
P:0131 56F400 0001F1  3  66629321         move    #$1F1,a
P:0133 60F400 rrrrrr  3  66929322         move    #FLyricsStart,r0
P:0135 0BF080 rrrrrr  6  67529323 L83:    jsr     SysCallFunction
                            29324 
                            29325 ; 271  |#endif
                            29326 ; 272  |      // As with state pause, decoder settling time wait (ms) prevents hang. Keeps playerl
                                  ib & decoder synchronized.
                            29327 ; 273  |      // Note: See comments for case decoder state pause above.
                            29328 ; 274  |      SysWaitOnEvent(EVENT_TIMER,0,100);
                            29329 
P:0137 300000         2  67729331         move    #0,r0
P:0138 56F400 000004  3  68029332         move    #>4,a
P:013A 57F400 000064  3  68329333         move    #>100,b
P:013C 0BF080 rrrrrr  6  68929334         jsr     SysWaitOnEvent
                            29335 
                            29336 ; 275  |      SysPostMessage(2,DECODER_PLAY);           // if STOPPED -- toggle will cause a play
                            29337 
P:013E 2D0200         2  69129339         move    #2,b1
P:013F 290200         2  69329340         move    #2,b0
P:0140 595F00         2  69529341         move    b0,y:(r7)+
P:0141 5D5F00         2  69729343         move    b1,y:(r7)+
P:0142 0BF080 rrrrrr  6  70329345         jsr     FSysPostMessage
P:0144 205700         2  70529346         move    (r7)-
P:0145 205700         2  70729348         move    (r7)-
                            29350 
                            29351 ; 276  |      if(bWait)
                            29352 ; 277  |      {
                            29353 ; 278  |        //ignoring wait for now.
                            29354 ; 279  |      }
                            29355 ; 280  |      break;
                            29356 
P:0146 0AF080 rrrrrr  6  71329358         jmp     L94
                            29359 
                            29360 ; 281  |    default:
                            29361 
P:0148 000200         4  71729363 L84:     debug
                            29364 
                            29365 
                            29366 ; 282  |        _asm ( " debug");
                            29367 ; 283  |        break;
                            29368 ; 284  |    }
                            29369 ; 285  |    return PLAYERLIB_SUCCESS;
                            29370 
P:0149 200013         2  71929372 L94:    clr     a   
                            29373 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 485

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29374 ; 286  |}
                            29375 
P:014A 205700         2  72129377         move    (r7)-
P:014B 05FF7C         4  72529379         movec   y:-(r7),ssh
P:014C 000000         2  72729382         nop
P:014D 00000C         4  73129383         rts
                            29385 
                            29386 ; 287  |
                            29387 ; 288  |///////////////////////////////////////////////////////////////////////////////
                            29388 ; 289  |//> Name:        PlayerLib_FastForward
                            29389 ; 290  |//
                            29390 ; 291  |//  Type:        Function
                            29391 ; 292  |//
                            29392 ; 293  |//  Description: Use the function to FFWD through the song
                            29393 ; 294  |//                  For SDK: Works from STOP, PLAY, or PAUSE.
                            29394 ; 295  |//                  For FFWD garble: Works from PLAY or PAUSE.
                            29395 ; 296  |//
                            29396 ; 297  |//  Inputs:      None (currently)
                            29397 ; 298  |//
                            29398 ; 299  |//  Outputs:     Success returned if successful, Error if not.
                            29399 ; 300  |//
                            29400 ; 301  |//  Notes:
                            29401 ; 302  |//<
                            29402 ; 303  |///////////////////////////////////////////////////////////////////////////////
                            29403 ; 304  |RETCODE _reentrant PlayerLib_FastForward (int bPlayDuring,int ignored1,int*ignored2)
                            29404 ; 305  |{
                            29405 
                            29410 FPlayerLib_FastForward:
P:014E 055F7C         2  73329411         movec   ssh,y:(r7)+
P:014F 205F00         2  73529414         move    (r7)+
                            29424 
                            29425 ; 306  |    RETCODE rtn=PLAYERLIB_SUCCESS;
                            29426 ; 307  |    ignored1;ignored2;
                            29427 ; 308  |    //bPlayDuring is ignored for now.
                            29428 ; 309  |
                            29429 ; 310  |        // Stmp00010296 Ticket #68703: for bad file(s) handling
                            29430 ; 311  |        // Stmp00010296 Ticket #71685 for song shorter than the min. skip size
                            29431 ; 312  |        if (!(g_wDecoderCSR & DECODER_BAD_FILE) &&
                            29432 ; 313  |            !bCurrentSongShort)
                            29433 
P:0150 57F000 rrrrrr  3  73829435         move    x:Fg_wDecoderCSR,b
P:0152 262000         2  74029437         move    #<$20,y0
P:0153 20005E         2  74229438         and     y0,b
P:0154 2B0000         2  74429439         move    #0,b2
P:0155 20000B         2  74629440         tst     b
P:0156 0AF0A2 rrrrrr  6  75229441         jne     L100
P:0158 5FF000 rrrrrr  3  75529442         move    y:FbCurrentSongShort,b
P:015A 2B0000         2  75729443         move    #0,b2
P:015B 20000B         2  75929444         tst     b
P:015C 0AF0A2 rrrrrr  6  76529445         jne     L100
                            29446 
                            29447 ; 314  |        {
                            29448 ; 315  |    SysWaitOnEvent(EVENT_TIMER,0,0); // Wait decoder settling time, prevents hang.Stmp0000
                                  3027/2947
                            29449 
P:015E 300000         2  76729451         move    #0,r0
P:015F 20001B         2  76929453         clr     b   
P:0160 56F400 000004  3  77229454         move    #>4,a
P:0162 0BF080 rrrrrr  6  77829456         jsr     SysWaitOnEvent
                            29457 
                            29458 ; 316  |    // Note: decoder settling time + PH_FF cycle rate vs quickswitch timeout affects seque
                                  ncing.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 486

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29459 ; 317  |
                            29460 ; 318  |    //set into pause state
                            29461 ; 319  |#ifndef USE_PLAYLIST3
                            29462 ; 320  |    if((g_wDecoderSR & DECODER_PLAYING))        // if PLAYING --> then set to PAUSE state
                            29463 ; 321  |#endif
                            29464 ; 322  |      rtn = PlayerLib_SetState (DECODER_STATE_PAUSE,FALSE,NULL);
                            29465 
P:0164 300000         2  78029467         move    #0,r0
P:0165 56F400 000002  3  78329468         move    #>2,a
P:0167 20001B         2  78529469         clr     b   
P:0168 0BF080 rrrrrr  6  79129470         jsr     FPlayerLib_SetState
P:016A 045FA0         2  79329471         movec   m0,n7
P:016B 000000         2  79529472         nop
P:016C 5E6F00         4  79929473         move    a,y:(r7+n7)
P:016D 290400         2  80129475         move    #4,b0
P:016E 595F00         2  80329476         move    b0,y:(r7)+
P:016F 290200         2  80529478         move    #2,b0
P:0170 595F00         2  80729479         move    b0,y:(r7)+
                            29481 
                            29482 ; 323  |    SysPostMessage(2,DECODER_FFWD);             // post message to FFWD
                            29483 
P:0171 0BF080 rrrrrr  6  81329485         jsr     FSysPostMessage
P:0173 205700         2  81529486         move    (r7)-
P:0174 205700         2  81729488         move    (r7)-
                            29490 
                            29491 ; 324  |        }
                            29492 
P:0175 0AF080 rrrrrr  6  82329494         jmp     L101
                            29495 
                            29496 ; 325  |        else
                            29497 ; 326  |                rtn = PLAYERLIB_BAD_FILE;
                            29498 
P:0177 57F400 000001  3  82629500 L100:   move    #>1,b
P:0179 045FA0         2  82829503         movec   m0,n7
P:017A 000000         2  83029504         nop
P:017B 5F6F00         4  83429505         move    b,y:(r7+n7)
                            29508 
                            29509 ; 327  |
                            29510 ; 328  |    return rtn;                                 // return success or failure
                            29511 
P:017C 045FA0         2  83629513 L101:   movec   m0,n7
P:017D 000000         2  83829514         nop
P:017E 5EEF00         4  84229515         move    y:(r7+n7),a
                            29518 
                            29519 ; 329  |}
                            29520 
P:017F 204F00         2  84429522         move    (r7)+n7
P:0180 05FF7C         4  84829524         movec   y:-(r7),ssh
P:0181 000000         2  85029527         nop
P:0182 00000C         4  85429528         rts
                            29531 
                            29532 ; 330  |
                            29533 ; 331  |///////////////////////////////////////////////////////////////////////////////
                            29534 ; 332  |//> Name:        PlayerLib_Rewind
                            29535 ; 333  |//
                            29536 ; 334  |//  Type:        Function
                            29537 ; 335  |//
                            29538 ; 336  |//  Description: Use the function to rewind through the song
                            29539 ; 337  |//                  For SDK: Works from STOP, PLAY, or PAUSE.
                            29540 ; 338  |//                  For FFWD garble: Works from PLAY or PAUSE.
                            29541 ; 339  |//
                            29542 ; 340  |//  Inputs:      None (currently)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 487

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29543 ; 341  |//
                            29544 ; 342  |//  Outputs:     Success returned if successful, Error if not.
                            29545 ; 343  |//
                            29546 ; 344  |//  Notes:
                            29547 ; 345  |//<
                            29548 ; 346  |///////////////////////////////////////////////////////////////////////////////
                            29549 ; 347  |RETCODE _reentrant PlayerLib_Rewind(int bPlayDuring,int ignored1,int*ignored2)
                            29550 ; 348  |{
                            29551 
                            29556 FPlayerLib_Rewind:
P:0183 055F7C         2  85629557         movec   ssh,y:(r7)+
P:0184 205F00         2  85829560         move    (r7)+
                            29571 
                            29572 ; 349  |    RETCODE rtn=PLAYERLIB_SUCCESS;
                            29573 
P:0185 045FA0         2  86029575         movec   m0,n7
P:0186 000000         2  86229576         nop
P:0187 596F00         4  86629577         move    b0,y:(r7+n7)
                            29580 
                            29581 ; 350  |    ignored1;ignored2;
                            29582 ; 351  |    //bPlayingDuring is ignored for now.
                            29583 ; 352  |
                            29584 ; 353  |      SysWaitOnEvent(EVENT_TIMER,0,0); // Wait decoder settling time, prevents hang. stmp7
                                  634
                            29585 
P:0188 300000         2  86829587         move    #0,r0
P:0189 20001B         2  87029589         clr     b   
P:018A 56F400 000004  3  87329591         move    #>4,a
P:018C 0BF080 rrrrrr  6  87929592         jsr     SysWaitOnEvent
                            29594 
                            29595 ; 354  |        // Stmp00010296 Ticket #68703: for bad file(s) handling
                            29596 ; 355  |        // Stmp00010296 Ticket #71685 for song shorter than the min. skip size
                            29597 ; 356  |        if (!(g_wDecoderCSR & DECODER_BAD_FILE) && !bCurrentSongShort)
                            29598 
P:018E 55F000 rrrrrr  3  88229600         move    x:Fg_wDecoderCSR,b1
P:0190 262000         2  88429601         move    #<$20,y0
P:0191 20005E         2  88629602         and     y0,b
P:0192 21AF00         2  88829603         move    b1,b
P:0193 2B0000         2  89029604         move    #0,b2
P:0194 20000B         2  89229605         tst     b
P:0195 0AF0A2 rrrrrr  6  89829606         jne     L104
P:0197 5FF000 rrrrrr  3  90129607         move    y:FbCurrentSongShort,b
P:0199 2B0000         2  90329608         move    #0,b2
P:019A 20000B         2  90529609         tst     b
P:019B 0AF0A2 rrrrrr  6  91129610         jne     L104
                            29611 
                            29612 ; 357  |        {
                            29613 ; 358  |            if((g_wDecoderSR & DECODER_PLAYING))        // if PLAYING --> then set to PAUS
                                  E state
                            29614 
P:019D 55F000 rrrrrr  3  91429616         move    x:Fg_wDecoderSR,b1
P:019F 46F400 001000  3  91729617         move    #$1000,y0
P:01A1 20005E         2  91929618         and     y0,b
P:01A2 21AF00         2  92129619         move    b1,b
P:01A3 2B0000         2  92329620         move    #0,b2
P:01A4 20000B         2  92529621         tst     b
P:01A5 0AF0AA rrrrrr  6  93129622         jeq     L102
                            29623 
                            29624 ; 359  |              rtn = PlayerLib_SetState (DECODER_STATE_PAUSE,FALSE,NULL);
                            29625 
P:01A7 300000         2  93329627         move    #0,r0
P:01A8 56F400 000002  3  93629628         move    #>2,a
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 488

M:ADDR CODE           CYCLES LINE SOURCELINE
P:01AA 20001B         2  93829629         clr     b   
P:01AB 0BF080 rrrrrr  6  94429630         jsr     FPlayerLib_SetState
P:01AD 045FA0         2  94629631         movec   m0,n7
P:01AE 000000         2  94829632         nop
P:01AF 5E6F00         4  95229633         move    a,y:(r7+n7)
                            29634 
                            29635 ; 360  |            SysPostMessage(2,DECODER_RWND);             // post message to rewind
                            29636 
P:01B0 290500         2  95429638 L102:   move    #5,b0
P:01B1 595F00         2  95629639         move    b0,y:(r7)+
P:01B2 290200         2  95829641         move    #2,b0
P:01B3 595F00         2  96029642         move    b0,y:(r7)+
P:01B4 0BF080 rrrrrr  6  96629644         jsr     FSysPostMessage
P:01B6 205700         2  96829645         move    (r7)-
P:01B7 205700         2  97029647         move    (r7)-
                            29649 
                            29650 ; 361  |        }
                            29651 
P:01B8 0AF080 rrrrrr  6  97629653         jmp     L105
                            29654 
                            29655 ; 362  |        else
                            29656 ; 363  |                rtn = PLAYERLIB_BAD_FILE;
                            29657 
P:01BA 2D0100         2  97829659 L104:   move    #1,b1
P:01BB 045FA0         2  98029662         movec   m0,n7
P:01BC 000000         2  98229663         nop
P:01BD 5D6F00         4  98629664         move    b1,y:(r7+n7)
                            29667 
                            29668 ; 364  |//    SysPostMessage(2,DECODER_RWND);             // post message to rewind
                            29669 ; 365  |    return rtn;;                                // return success or failure
                            29670 
P:01BE 045FA0         2  98829672 L105:   movec   m0,n7
P:01BF 000000         2  99029673         nop
P:01C0 5EEF00         4  99429674         move    y:(r7+n7),a
                            29677 
                            29678 ; 366  |}
                            29679 
P:01C1 204F00         2  99629681         move    (r7)+n7
P:01C2 05FF7C         4 100029683         movec   y:-(r7),ssh
P:01C3 000000         2 100229686         nop
P:01C4 00000C         4 100629687         rts
                            29690 
                            29691 ; 367  |
                            29692 ; 368  |
                            29693 ; 369  |///////////////////////////////////////////////////////////////////////////////
                            29694 ; 370  |//> Name:        PlayerLib_SkipToNextSong
                            29695 ; 371  |//
                            29696 ; 372  |//  Type:        Function
                            29697 ; 373  |//
                            29698 ; 374  |//  Description: This function is responsible for advancing to the next song in
                            29699 ; 375  |//               the playlist and then returning the decoder to the proper state
                            29700 ; 376  |//               for the new song (play, stop, ffwd, etc.)
                            29701 ; 377  |//
                            29702 ; 378  |//  Inputs:      wMode : NEXT song parameter (i.e. button push, end of song,
                            29703 ; 379  |//                       ffwd over boundary ...)
                            29704 ; 380  |//
                            29705 ; 381  |//  Outputs:     PLAYERLIB_SUCCESS if next song is successfully found and loaded
                            29706 ; 382  |//               PLAYERLIB_END_OF_LIST if end of list reached (**currently
                            29707 ; 383  |//                                results in song stopped on first song in list)
                            29708 ; 384  |//
                            29709 ; 385  |//  Notes:       Need to devise a complete method for passing the cause for the
                            29710 ; 386  |//               NEXT song on to the playlist.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 489

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29711 ; 387  |//<
                            29712 ; 388  |///////////////////////////////////////////////////////////////////////////////
                            29713 ; 389  |RETCODE _reentrant PlayerLib_SkipToNextSong(WORD bUseMode,WORD wMode,int*ignored2)
                            29714 ; 390  |{
                            29715 
                            29720 FPlayerLib_SkipToNextSong:
P:01C5 055F7C         2 100829721         movec   ssh,y:(r7)+
P:01C6 3F0400         2 101029724         move    #4,n7
P:01C7 000000         2 101229725         nop
P:01C8 204F00         2 101429726         move    (r7)+n7
                            29736 
                            29737 ; 391  |#ifdef USE_PLAYLIST3
                            29738 ; 392  |        _packed BYTE *szFilename = DirPath; // use *szFilename_temp point to SongInfo[1]
                            29739 
P:01C9 77F400 FFFFFC  3 101729741         move    #-4,n7
P:01CB 000000         2 101929742         nop
P:01CC 5D6F00         4 102329743         move    b1,y:(r7+n7)
P:01CD 66F400 rrrrrr  3 102629746         move    #FDirPath,r6
                            29750 
                            29751 ; 393  |        RETCODE rtn = PLAYERLIB_ERROR;
                            29752 
P:01CF 46F400 000002  3 102929754         move    #>2,y0
P:01D1 20C500         2 103129755         move    y0,x1
                            29759 
                            29760 ; 394  |
                            29761 ; 395  |    INT  iTemp = 0;
                            29762 
P:01D2 240000         2 103329764         move    #0,x0
                            29766 
                            29767 ; 396  |
                            29768 ; 397  |    if (g_iRepeatSetting != REPEAT_ALL)
                            29769 
P:01D3 5FF000 rrrrrr  3 103629771         move    y:Fg_iRepeatSetting,b
P:01D5 20005D         2 103829772         cmp     y0,b
P:01D6 0AF0AA rrrrrr  6 104429773         jeq     L139
                            29774 
                            29775 ; 398  |        iTemp = g_current_index;
                            29776 
P:01D8 4CF000 rrrrrr  3 104729778         move    y:Fg_current_index,x0
                            29779 
                            29780 ; 399  |
                            29781 ; 400  |
                            29782 ; 401  |        //This is a bit of a hack to remember what we were doing prior to stopping
                            29783 ; 402  |        if(!bUseMode && (g_wDecoderSR & (DECODER_PLAYING|DECODER_PAUSED)))
                            29784 
P:01DA 2A0000         2 104929786 L139:   move    #0,a2
P:01DB 200003         2 105129787         tst     a
P:01DC 0AF0A2 rrrrrr  6 105729788         jne     L141
P:01DE 55F000 rrrrrr  3 106029789         move    x:Fg_wDecoderSR,b1
P:01E0 47F400 001020  3 106329790         move    #4128,y1
P:01E2 20007E         2 106529791         and     y1,b
P:01E3 21AF00         2 106729792         move    b1,b
P:01E4 2B0000         2 106929793         move    #0,b2
P:01E5 20000B         2 107129794         tst     b
P:01E6 0AF0AA rrrrrr  6 107729795         jeq     L141
                            29796 
                            29797 ; 403  |                wMode = NEXTSONG_PLAY_BUTTON;
                            29798 
P:01E8 57F400 000003  3 108029800         move    #>3,b
P:01EA 77F400 FFFFFC  3 108329803         move    #-4,n7
P:01EC 000000         2 108529804         nop
P:01ED 5D6F00         4 108929805         move    b1,y:(r7+n7)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 490

M:ADDR CODE           CYCLES LINE SOURCELINE
P:01EE 045FA0         2 109129808 L141:   movec   m0,n7
P:01EF 000000         2 109329809         nop
P:01F0 4C6F00         4 109729810         move    x0,y:(r7+n7)
P:01F1 77F400 FFFFFE  3 110029813         move    #-2,n7
P:01F3 000000         2 110229814         nop
P:01F4 4D6F00         4 110629815         move    x1,y:(r7+n7)
P:01F5 77F400 FFFFFD  3 110929818         move    #-3,n7
P:01F7 000000         2 111129819         nop
P:01F8 6E6F00         4 111529820         move    r6,y:(r7+n7)
                            29823 
                            29824 ; 404  |
                            29825 ; 405  |        // First, we make sure decoder is in STOP state.
                            29826 ; 406  |        PlayerLib_SetState(DECODER_STATE_STOP,TRUE,NULL);
                            29827 
P:01F9 200013         2 111729829         clr     a   
P:01FA 57F400 000001  3 112029831         move    #>1,b
P:01FC 219000         2 112229832         move    a1,r0
P:01FD 0BF080 rrrrrr  6 112829834         jsr     FPlayerLib_SetState
                            29835 
                            29836 ; 407  |
                            29837 ; 408  |        // Goto Next Song
                            29838 ; 409  |        while (rtn != PLAYERLIB_SUCCESS)
                            29839 
P:01FF 0AF080 rrrrrr  6 113429841         jmp     L169
                            29842 
                            29843 ; 410  |        {
                            29844 ; 411  |                if (iTemp++ >= g_current_size)
                            29845 
P:0201 045FA0         2 113629847 L142:   movec   m0,n7
P:0202 000000         2 113829848         nop
P:0203 5FEF00         4 114229849         move    y:(r7+n7),b
P:0204 200001         2 114429850         tfr     b,a
P:0205 44F400 000001  3 114729855         move    #>1,x0
P:0207 200048         2 114929856         add     x0,b
P:0208 5D6F00         4 115329859         move    b1,y:(r7+n7)
P:0209 5FF000 rrrrrr  3 115629862         move    y:Fg_current_size,b
P:020B 200005         2 115829863         cmp     b,a
P:020C 0AF0A9 rrrrrr  6 116429864         jlt     L143
                            29865 
                            29866 ; 412  |                {
                            29867 ; 413  |                    rtn = PLAYERLIB_END_OF_LIST;
                            29868 
P:020E 56F400 000003  3 116729870         move    #>3,a
                            29873 
                            29874 ; 414  |                    break;
                            29875 
P:0210 0AF080 rrrrrr  6 117329877         jmp     L170
                            29878 
                            29879 ; 415  |                }
                            29880 ; 416  |
                            29881 ; 417  |                // Use C Speed client Dclock freq Increase call.
                            29882 ; 418  |                // Defines are in SysSpeed.inc.  Sysspeed.h is generated
                            29883 ; 419  |                SysSpeedIncrease(SPEED_MAX, SPEED_CLIENT_PLAYERLIB);
                            29884 
P:0212 57F400 00000E  3 117629886 L143:   move    #>14,b
P:0214 56F400 00000A  3 117929887         move    #>10,a
P:0216 0BF080 rrrrrr  6 118529888         jsr     FSysSpeedIncrease
                            29890 
                            29891 ; 420  |
                            29892 ; 421  |                if (g_iRepeatSetting != REPEAT_ONE)
                            29893 
P:0218 5FF000 rrrrrr  3 118829895         move    y:Fg_iRepeatSetting,b
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 491

M:ADDR CODE           CYCLES LINE SOURCELINE
P:021A 56F400 000001  3 119129896         move    #>1,a
P:021C 20000D         2 119329897         cmp     a,b
P:021D 45F400 000100  3 119629898         move    #$100,x1
P:021F 0AF0AA rrrrrr  6 120229899         jeq     L151
                            29900 
                            29901 ; 422  |                {
                            29902 ; 423  |                        //SysCallFunction(RSRC_METADATA_CODEBANK,GetRelativePath,g_current
                                  _index,(INT)(DirPath),0);
                            29903 ; 424  |                        if ((g_iShuffleSetting) && (bPlayVoice == FALSE))
                            29904 
P:0221 5FF000 rrrrrr  3 120529906         move    y:Fg_iShuffleSetting,b
P:0223 20000B         2 120729907         tst     b
P:0224 0AF0AA rrrrrr  6 121329908         jeq     L145
P:0226 5EF000 rrrrrr  3 121629909         move    y:FbPlayVoice,a
P:0228 2A0000         2 121829910         move    #0,a2
P:0229 200003         2 122029911         tst     a
P:022A 0AF0A2 rrrrrr  6 122629912         jne     L145
                            29913 
                            29914 ; 425  |                                SysPostMessage(4,MUSICLIB_SHUFFLE_NEXT,SHUFFLE_NEXT_SONG,&
                                  g_current_index);
                            29915 
P:022C 20001B         2 122829917         clr     b   
P:022D 74F400 rrrrrr  3 123129918         move    #Fg_current_index,n4
P:022F 7C5F00         2 123329919         move    n4,y:(r7)+
P:0230 5F5F00         2 123529921         move    b,y:(r7)+
P:0231 260F00         2 123729923         move    #<$F,y0
P:0232 4E5F00         2 123929924         move    y0,y:(r7)+
P:0233 290400         2 124129926         move    #4,b0
P:0234 595F00         2 124329927         move    b0,y:(r7)+
P:0235 0BF080 rrrrrr  6 124929929         jsr     FSysPostMessage
P:0237 3F0400         2 125129930         move    #4,n7
P:0238 0AF080 rrrrrr  6 125729931         jmp     L146
                            29932 
                            29933 ; 426  |                        else
                            29934 ; 427  |                                SysPostMessage(3,MUSICLIB_PLAYNEXTSONG,&g_current_index);
                            29935 
P:023A 290300         2 125929937 L145:   move    #3,b0
P:023B 73F400 rrrrrr  3 126229938         move    #Fg_current_index,n3
P:023D 7B5F00         2 126429939         move    n3,y:(r7)+
P:023E 260D00         2 126629941         move    #<$D,y0
P:023F 4E5F00         2 126829942         move    y0,y:(r7)+
P:0240 595F00         2 127029944         move    b0,y:(r7)+
P:0241 0BF080 rrrrrr  6 127629946         jsr     FSysPostMessage
P:0243 3F0300         2 127829947         move    #3,n7
P:0244 000000         2 128029948 L146:   nop
P:0245 204700         2 128229949         move    (r7)-n7
                            29951 
                            29952 ; 428  |                        SysWaitOnEvent(0,0,0);
                            29953 
P:0246 300000         2 128429955         move    #0,r0
P:0247 200013         2 128629956         clr     a   
P:0248 20001B         2 128829957         clr     b   
P:0249 0BF080 rrrrrr  6 129429958         jsr     SysWaitOnEvent
                            29959 
                            29960 ; 429  |
                            29961 ; 430  |                        SysCallFunction(RSRC_METADATA_CODEBANK,RetrieveSongInfo,0,0,(INT*)
                                  (DirPath));
                            29962 
P:024B 20001B         2 129629964         clr     b   
P:024C 64F400 rrrrrr  3 129929965         move    #FDirPath,r4
P:024E 240000         2 130129966         move    #0,x0
P:024F 60F400 rrrrrr  3 130429967         move    #FRetrieveSongInfo,r0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 492

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0251 56F400 0001E4  3 130729968         move    #484,a
P:0253 0BF080 rrrrrr  6 131329969         jsr     SysCallFunction
                            29970 
                            29971 ; 431  |
                            29972 ; 432  |                        // Fill in card number, song name (& path), and song number
                            29973 ; 433  |                        if ( (szFilename[0] == 0x2f3a62) || (szFilename[0] == 0x2f3a42))
                            29974 
P:0255 77F400 FFFFFD  3 131629976         move    #-3,n7
P:0257 000000         2 131829977         nop
P:0258 6EEF00         4 132229978         move    y:(r7+n7),r6
P:0259 000000         2 132429979         nop
P:025A 5FE600         2 132629980         move    y:(r6),b
P:025B 47F400 2F3A62  3 132929983         move    #3095138,y1
P:025D 20007D         2 133129984         cmp     y1,b
P:025E 2E0000         2 133329985         move    #0,a
P:025F 0AF0AA rrrrrr  6 133929986         jeq     L147
P:0261 46F400 2F3A42  3 134229987         move    #3095106,y0
P:0263 20005D         2 134429988         cmp     y0,b
P:0264 0AF0A2 rrrrrr  6 135029989         jne     L148
                            29990 
                            29991 ; 434  |                                g_wCurrentDirDevId = 1;
                            29992 
P:0266 290100         2 135229994 L147:   move    #1,b0
P:0267 597000 rrrrrr  3 135529995         move    b0,y:Fg_wCurrentDirDevId
P:0269 0AF080 rrrrrr  6 136129996         jmp     L149
                            29997 
                            29998 ; 435  |                        else
                            29999 ; 436  |                                g_wCurrentDirDevId = 0;
                            30000 
P:026B 5C7000 rrrrrr  3 136430002 L148:   move    a1,y:Fg_wCurrentDirDevId
                            30003 
                            30004 ; 437  |                        packed_strcpy(g_CurrentSongName, szFilename);
                            30005 
P:026D 77F400 FFFFFD  3 136730007 L149:   move    #-3,n7
P:026F 000000         2 136930008         nop
P:0270 6E6F00         4 137330009         move    r6,y:(r7+n7)
P:0271 22D400         2 137530010         move    r6,r4
P:0272 60F400 rrrrrr  3 137830015         move    #Fg_CurrentSongName,r0
P:0274 0BF080 rrrrrr  6 138430016         jsr     packed_strcpy
                            30019 
                            30020 ; 438  |
                            30021 ; 439  |                        // Find meta-data information for new song
                            30022 ; 440  |                        if (wMode < 256)         // do not update metadata while deleting 
                                  file
                            30023 
P:0276 45F400 000100  3 138730025         move    #$100,x1
P:0278 77F400 FFFFFC  3 139030026         move    #-4,n7
P:027A 000000         2 139230027         nop
P:027B 5FEF00         4 139630028         move    y:(r7+n7),b
P:027C 2B0000         2 139830029         move    #0,b2
P:027D 20006D         2 140030030         cmp     x1,b
P:027E 0AF0A1 rrrrrr  6 140630031         jge     L151
                            30032 
                            30033 ; 441  |                                rtn = SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,Playe
                                  rLib_GetMetaData,0,0,0);
                            30034 
P:0280 20001B         2 140830036         clr     b   
P:0281 340000         2 141030037         move    #0,r4
P:0282 240000         2 141230038         move    #0,x0
P:0283 56F400 00006C  3 141530039         move    #>108,a
P:0285 60F400 rrrrrr  3 141830040         move    #FPlayerLib_GetMetaData,r0
P:0287 0BF080 rrrrrr  6 142430041         jsr     SysCallFunction
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 493

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0289 45F400 000100  3 142730043         move    #$100,x1
P:028B 0AF080 rrrrrr  6 143330044         jmp     L152
                            30045 
                            30046 ; 442  |                        else
                            30047 ; 443  |                                rtn = PLAYERLIB_SUCCESS;                  // Fake the rtn 
                                  code while skiping alot of file. ms
                            30048 ; 444  |                }
                            30049 ; 445  |                else
                            30050 ; 446  |                    rtn = PLAYERLIB_SUCCESS;              // Fake the rtn code while skipi
                                  ng alot of file. ms
                            30051 
P:028D 200013         2 143530053 L151:   clr     a   
                            30054 
                            30055 ; 447  |
                            30056 ; 448  |                // stmp6855
                            30057 ; 449  |                // If PlayerLib_GetMetaData() returns PLAYERLIB_ERROR for invalid song (ex
                                  tension doesn't match metadata)
                            30058 ; 450  |                // and we are here because of the delete menu, we should still allow an in
                                  valid file to be shown and deleted.
                            30059 ; 451  |                if((rtn == PLAYERLIB_ERROR) && (wMode == NEXTSONG_DELETE_MENU))
                            30060 
P:028E 44F400 000002  3 143830062 L152:   move    #>2,x0
P:0290 200045         2 144030063         cmp     x0,a
P:0291 0AF0A2 rrrrrr  6 144630064         jne     L154
P:0293 77F400 FFFFFC  3 144930065         move    #-4,n7
P:0295 000000         2 145130066         nop
P:0296 5FEF00         4 145530067         move    y:(r7+n7),b
P:0297 47F400 000005  3 145830068         move    #>5,y1
P:0299 2B0000         2 146030069         move    #0,b2
P:029A 20007D         2 146230070         cmp     y1,b
P:029B 0AF0A2 rrrrrr  6 146830071         jne     L154
                            30072 
                            30073 ; 452  |                {
                            30074 ; 453  |                        rtn = PLAYERLIB_SUCCESS;
                            30075 
P:029D 200013         2 147030077         clr     a   
                            30078 
                            30079 ; 454  |                }
                            30080 ; 455  |
                            30081 ; 456  |                // Make sure it is a valid song
                            30082 ; 457  |                if (rtn == PLAYERLIB_SUCCESS)
                            30083 
P:029E 77F400 FFFFFE  3 147330085 L154:   move    #-2,n7
P:02A0 000000         2 147530086         nop
P:02A1 5C6F00         4 147930087         move    a1,y:(r7+n7)
P:02A2 200003         2 148130088         tst     a
P:02A3 0AF0A2 rrrrrr  6 148730091         jne     L164
                            30092 
                            30093 ; 458  |                {
                            30094 ; 459  |                        //check and see if the decoder changed.  If so, update the decoder
                                   and force init.
                            30095 ; 460  |                        DecoderForceInit();
                            30096 
P:02A5 0BF080 rrrrrr  6 149330098         jsr     DecoderForceInit
P:02A7 290200         2 149530099         move    #2,b0
P:02A8 200013         2 149730100         clr     a   
P:02A9 5E5F00         2 149930101         move    a,y:(r7)+
P:02AA 595F00         2 150130103         move    b0,y:(r7)+
                            30105 
                            30106 ; 461  |                        SysPostMessage(2,DECODER_RESET);
                            30107 
P:02AB 0BF080 rrrrrr  6 150730109         jsr     FSysPostMessage
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 494

M:ADDR CODE           CYCLES LINE SOURCELINE
P:02AD 205700         2 150930110         move    (r7)-
P:02AE 205700         2 151130112         move    (r7)-
                            30114 
                            30115 ; 462  |#ifdef AUDIBLE
                            30116 ; 463  |                        if( (DecoderResourcePtr != RSRC_AUDIBLE_ACELPDEC_CODE) && (Decoder
                                  ResourcePtr != RSRC_AUDIBLE_DECMOD_CODE) ) {
                            30117 ; 464  |                                DecSetSongPosZero();                       // reset byte p
                                  ositions to beginning of file
                            30118 ; 465  |                        }
                            30119 ; 466  |#else
                            30120 ; 467  |                        DecSetSongPosZero();                       // reset file byte posi
                                  tions to 0
                            30121 
P:02AF 0BF080 rrrrrr  6 151730123         jsr     DecSetSongPosZero
P:02B1 56F400 00000E  3 152030124         move    #>14,a
                            30125 
                            30126 ; 468  |#endif
                            30127 ; 469  |                        SysSpeedClockFree(SPEED_CLIENT_PLAYERLIB); // C Speed client frees
                                   the shared speed resource
                            30128 
P:02B3 0BF080 rrrrrr  6 152630130         jsr     FSysSpeedClockFree
                            30131 
                            30132 ; 470  |
                            30133 ; 471  |                        switch (wMode)
                            30134 
P:02B5 77F400 FFFFFC  3 152930136         move    #-4,n7
P:02B7 000000         2 153130137         nop
P:02B8 5FEF00         4 153530138         move    y:(r7+n7),b
P:02B9 56F400 000003  3 153830139         move    #>3,a
P:02BB 2B0000         2 154030140         move    #0,b2
P:02BC 56F40D 000004  3 154330141         cmp     a,b     #>4,a
P:02BE 0AF0AA rrrrrr  6 154930142         jeq     L157
P:02C0 56F40D 000001  3 155230143         cmp     a,b     #>1,a
P:02C2 0AF0AA rrrrrr  6 155830144         jeq     L155
P:02C4 20000D         2 156030145         cmp     a,b
P:02C5 0AF0AA rrrrrr  6 156630146         jeq     L157
P:02C7 0AF080 rrrrrr  6 157230147         jmp     L159
                            30148 
                            30149 ; 472  |                        // wMode contains the parameter attached to next song
                            30150 ; 473  |                        // this needs more work to ensure that all cases are covered and h
                                  andled properly <<<<
                            30151 ; 474  |                        {
                            30152 ; 475  |                        case NEXTSONG_PLAY_EOF:
                            30153 ; 476  |                        case NEXTSONG_PLAY_BUTTON:
                            30154 ; 477  |#ifdef JPEG_ALBUM_ART
                            30155 ; 478  |                        if (g_bApicFrameFound) {
                            30156 ; 479  |                                // Post a message to display album art
                            30157 ; 480  |                                SysCallFunction(RSRC_APIC_FRAME_CODEBANK, ApicPostMessage,
                                   0, 0, NULL);
                            30158 ; 481  |                        } else
                            30159 ; 482  |#endif
                            30160 ; 483  |                        {
                            30161 ; 484  |                                // decoder was playing and NEXT button was pressed
                            30162 ; 485  |                                PlayerLib_SetState (DECODER_STATE_PLAY,TRUE,NULL);
                            30163 ; 486  |            }
                            30164 ; 487  |                                SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_MarkCurren
                                  tSongPlayed,0,0,0);
                            30165 ; 488  |                                break;
                            30166 ; 489  |                        case NEXTSONG_FFWD:
                            30167 ; 490  |                                // decoder was fast forwarding and reached the end of a so
                                  ng
                            30168 ; 491  |                                PlayerLib_FastForward(0,0,0);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 495

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30169 
P:02C9 200013         2 157430171 L155:   clr     a   
P:02CA 300000         2 157630172         move    #0,r0
P:02CB 20001B         2 157830173         clr     b   
P:02CC 0BF080 rrrrrr  6 158430174         jsr     FPlayerLib_FastForward
                            30175 
                            30176 ; 492  |                                break;
                            30177 
P:02CE 0AF080 rrrrrr  6 159030179         jmp     L159
P:02D0 56F400 000001  3 159330181 L157:   move    #>1,a
P:02D2 200009         2 159530182         tfr     a,b
P:02D3 300000         2 159730183         move    #0,r0
P:02D4 0BF080 rrrrrr  6 160330184         jsr     FPlayerLib_SetState
P:02D6 20001B         2 160530186         clr     b   
P:02D7 340000         2 160730187         move    #0,r4
P:02D8 240000         2 160930188         move    #0,x0
P:02D9 56F400 000058  3 161230189         move    #>88,a
P:02DB 60F400 rrrrrr  3 161530190         move    #FPlaylist_MarkCurrentSongPlayed,r0
P:02DD 0BF080 rrrrrr  6 162130191         jsr     SysCallFunction
                            30192 
                            30193 ; 493  |                        default:
                            30194 ; 494  |                                // else -- decoder is stopped, do nothing
                            30195 ; 495  |                                break;
                            30196 ; 496  |                        } // switch (wMode)
                            30197 ; 497  |
                            30198 ; 498  |                        //no repeat and already wrap around
                            30199 ; 499  |                        if (    (g_iRepeatSetting == REPEAT_OFF) &&
                            30200 ; 500  |                                (((g_iShuffleSetting == SHUFFLE_OFF)&&(g_current_index == 
                                  0)) ||
                            30201 ; 501  |                                ((g_iShuffleSetting == SHUFFLE_ON)&&(g_current_index == g_
                                  shuffle_start)))        )
                            30202 
P:02DF 5FF000 rrrrrr  3 162430204 L159:   move    y:Fg_iRepeatSetting,b
P:02E1 20000B         2 162630205         tst     b
P:02E2 0AF0A2 rrrrrr  6 163230206         jne     L169
P:02E4 5FF000 rrrrrr  3 163530207         move    y:Fg_iShuffleSetting,b
P:02E6 20000B         2 163730208         tst     b
P:02E7 0AF0A2 rrrrrr  6 164330209         jne     L160
P:02E9 5EF000 rrrrrr  3 164630210         move    y:Fg_current_index,a
P:02EB 200003         2 164830211         tst     a
P:02EC 0AF0AA rrrrrr  6 165430212         jeq     L161
P:02EE 46F400 000001  3 165730213 L160:   move    #>1,y0
P:02F0 20005D         2 165930214         cmp     y0,b
P:02F1 0AF0A2 rrrrrr  6 166530215         jne     L169
P:02F3 5EF000 rrrrrr  3 166830216         move    y:Fg_current_index,a
P:02F5 4CF000 rrrrrr  3 167130217         move    y:Fg_shuffle_start,x0
P:02F7 200045         2 167330218         cmp     x0,a
P:02F8 0AF0A2 rrrrrr  6 167930219         jne     L169
                            30220 
                            30221 ; 502  |                        {
                            30222 ; 503  |                                if (bPlayVoice)
                            30223 
P:02FA 5FF000 rrrrrr  3 168230225 L161:   move    y:FbPlayVoice,b
P:02FC 2B0000         2 168430226         move    #0,b2
P:02FD 20000B         2 168630227         tst     b
P:02FE 0AF0AA rrrrrr  6 169230228         jeq     L162
P:0300 290300         2 169430229         move    #3,b0
P:0301 2D0200         2 169630230         move    #2,b1
P:0302 595F00         2 169830231         move    b0,y:(r7)+
P:0303 5D5F00         2 170030233         move    b1,y:(r7)+
                            30235 
                            30236 ; 504  |                                        SysPostMessage(2,DECODER_STOP);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 496

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30237 
P:0304 0BF080 rrrrrr  6 170630239         jsr     FSysPostMessage
P:0306 205700         2 170830240         move    (r7)-
P:0307 205700         2 171030242         move    (r7)-
P:0308 0AF080 rrrrrr  6 171630244         jmp     L163
P:030A 57F400 000001  3 171930245 L162:   move    #>1,b
P:030C 300000         2 172130246         move    #0,r0
P:030D 200013         2 172330247         clr     a   
                            30248 
                            30249 ; 505  |                                else
                            30250 ; 506  |                                        PlayerLib_SetState (DECODER_STATE_STOP,TRUE,NULL);
                                  
                            30251 
P:030E 0BF080 rrrrrr  6 172930253         jsr     FPlayerLib_SetState
                            30254 
                            30255 ; 507  |                                g_iPlayerState = DECODER_STOPPED;
                            30256 
P:0310 294000         2 173130258 L163:   move    #$40,b0
P:0311 517000 rrrrrr  3 173430259         move    b0,x:Fg_iPlayerState
                            30260 
                            30261 ; 508  |                                SysWaitOnEvent(0,0,0);
                            30262 
P:0313 300000         2 173630264         move    #0,r0
P:0314 200013         2 173830265         clr     a   
P:0315 20001B         2 174030266         clr     b   
P:0316 0BF080 rrrrrr  6 174630267         jsr     SysWaitOnEvent
                            30268 
                            30269 ; 509  |#if 0   //enable only if want to go back to music menu after playback without repeat
                            30270 ; 510  |                                if (wMode != NEXTSONG_FFWD)
                            30271 ; 511  |                                        g_MenuFlags.MENU_FLAG_RETURN_TO_MUSIC = TRUE;
                            30272 ; 512  |#endif
                            30273 ; 513  |                        }
                            30274 ; 514  |
                            30275 ; 515  |                }
                            30276 
P:0318 0AF080 rrrrrr  6 175230278         jmp     L169
                            30279 
                            30280 ; 516  |                else
                            30281 ; 517  |                        SysSpeedClockFree(SPEED_CLIENT_PLAYERLIB); // C Speed client frees
                                   the shared speed resource
                            30282 
P:031A 56F400 00000E  3 175530284 L164:   move    #>14,a
P:031C 0BF080 rrrrrr  6 176130285         jsr     FSysSpeedClockFree
P:031E 77F400 FFFFFE  3 176430287 L169:   move    #-2,n7
P:0320 000000         2 176630288         nop
P:0321 5EEF00         4 177030289         move    y:(r7+n7),a
P:0322 200003         2 177230290         tst     a
P:0323 0AF0A2 rrrrrr  6 177830293         jne     L142
                            30294 
                            30295 ; 518  |        } // while loop
                            30296 
                            30298 L170:
                            30299 
                            30300 ; 519  |#else   // #ifdef USE_PLAYLIST3
                            30301 ; 520  |                INT  iTemp=0;
                            30302 ; 521  |
                            30303 ; 522  |    RETCODE rtn = PLAYERLIB_ERROR;
                            30304 ; 523  |        RETCODE TmpRtn;
                            30305 ; 524  |    _packed BYTE szFilename[MAX_FILENAME_LENGTH];
                            30306 ; 525  |    SONGFILEINFO SongInfo;
                            30307 ; 526  |    SONGTIME time;
                            30308 ; 527  |    SongInfo.m_wBufferLength = MAX_FILENAME_LENGTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 497

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30309 ; 528  |    SongInfo.m_pFilename = szFilename;
                            30310 ; 529  |
                            30311 ; 530  |    //This is a bit of a hack to remember what we were doing prior to stopping
                            30312 ; 531  |    if(!bUseMode
                            30313 ; 532  |        && (g_wDecoderSR & (DECODER_PLAYING|DECODER_PAUSED)))
                            30314 ; 533  |        wMode = NEXTSONG_PLAY_BUTTON;
                            30315 ; 534  |    // First, we make sure decoder is in STOP state.
                            30316 ; 535  |    PlayerLib_SetState(DECODER_STATE_STOP,TRUE,NULL);
                            30317 ; 536  |
                            30318 ; 537  |    // Goto Next Song
                            30319 ; 538  |
                            30320 ; 539  |    while (rtn != PLAYERLIB_SUCCESS)
                            30321 ; 540  |    {
                            30322 ; 541  |      // Stmp00010296 Ticket #68703: for the 0 byte file deadloop in REPEAT_1/REPEAT_ALL m
                                  ode
                            30323 ; 542  |#ifdef USE_PLAYLIST5
                            30324 ; 543  |
                            30325 ; 544  |          TmpRtn = SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_GetNextSongFileInfo,wMo
                                  de,0,(void*)&SongInfo);
                            30326 ; 545  |
                            30327 ; 546  |          if(
                            30328 ; 547  |                
                            30329 ; 548  |#else
                            30330 ; 549  |                TmpRtn = SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_GetNextSongFileIn
                                  fo,wMode,0,(void*)&SongInfo);
                            30331 ; 550  |      if ( (iTemp++ <= g_iTotalTracks) &&
                            30332 ; 551  |#endif
                            30333 ; 552  |           (TmpRtn == PLAYLIST_SUCCESS) )
                            30334 ; 553  |      {
                            30335 ; 554  |
                            30336 ; 555  |        // Use C Speed client Dclock freq Increase call.
                            30337 ; 556  |        // Defines are in SysSpeed.inc.  Sysspeed.h is generated
                            30338 ; 557  |        SysSpeedIncrease(SPEED_MAX, SPEED_CLIENT_PLAYERLIB);
                            30339 ; 558  |
                            30340 ; 559  |        // Fill in card number, song name (& path), and song number
                            30341 ; 560  |        g_wCurrentDirDevId = SongInfo.m_wDeviceID;
                            30342 ; 561  |        packed_strcpy(g_CurrentSongName, szFilename);
                            30343 ; 562  |#ifndef USE_PLAYLIST5           
                            30344 ; 563  |        g_wCurrentSongNumber = SongInfo.m_wTrack;
                            30345 ; 564  |#endif
                            30346 ; 565  |
                            30347 ; 566  |        // Find meta-data information for new song
                            30348 ; 567  |        if (wMode < 256)         // do not update metadata while deleting file
                            30349 ; 568  |            rtn = SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetMetaData,0,0
                                  ,0);
                            30350 ; 569  |                else
                            30351 ; 570  |                    rtn = PLAYERLIB_SUCCESS;              // Fake the rtn code while skipi
                                  ng alot of file. ms
                            30352 ; 571  |
                            30353 ; 572  |
                            30354 ; 573  |        // stmp6855
                            30355 ; 574  |        // If PlayerLib_GetMetaData() returns PLAYERLIB_ERROR for invalid song (extension 
                                  doesn't match metadata)
                            30356 ; 575  |        // and we are here because of the delete menu, we should still allow an invalid fi
                                  le to be shown and deleted.
                            30357 ; 576  |        if((rtn == PLAYERLIB_ERROR) && (wMode == NEXTSONG_DELETE_MENU))
                            30358 ; 577  |        {
                            30359 ; 578  |            rtn = PLAYERLIB_SUCCESS;
                            30360 ; 579  |        }
                            30361 ; 580  |
                            30362 ; 581  |        // Make sure it is a valid song
                            30363 ; 582  |        if (rtn == PLAYERLIB_SUCCESS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 498

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30364 ; 583  |        {
                            30365 ; 584  |          //check and see if the decoder changed.  If so, update the decoder and force ini
                                  t.
                            30366 ; 585  |          DecoderForceInit();
                            30367 ; 586  |          SysPostMessage(2,DECODER_RESET);
                            30368 ; 587  |          DecSetSongPosZero();  // Stmp00010296 reset file byte positions to 0
                            30369 ; 588  |#ifdef AUDIBLE
                            30370 ; 589  |                  if( (DecoderResourcePtr != RSRC_AUDIBLE_ACELPDEC_CODE) && (DecoderResour
                                  cePtr != RSRC_AUDIBLE_DECMOD_CODE) ) {
                            30371 ; 590  |                        DecSetSongPosZero();                       // reset byte positions
                                   to beginning of file
                            30372 ; 591  |                  }
                            30373 ; 592  |#else
                            30374 ; 593  |                  DecSetSongPosZero();                       // reset byte positions to be
                                  ginning of file
                            30375 ; 594  |#endif
                            30376 ; 595  |
                            30377 ; 596  |          SysSpeedClockFree(SPEED_CLIENT_PLAYERLIB); // C Speed client frees the shared sp
                                  eed resource
                            30378 ; 597  |
                            30379 ; 598  |          switch (wMode)
                            30380 ; 599  |            // wMode contains the parameter attached to next song
                            30381 ; 600  |            // this needs more work to ensure that all cases are covered and handled prope
                                  rly <<<<
                            30382 ; 601  |          {
                            30383 ; 602  |          case NEXTSONG_PLAY_EOF:
                            30384 ; 603  |            // decoder was playing and reached the end of a file
                            30385 ; 604  |          case NEXTSONG_PLAY_BUTTON:
                            30386 ; 605  |#ifdef JPEG_ALBUM_ART
                            30387 ; 606  |                        if (g_bApicFrameFound) {
                            30388 ; 607  |                                // Post a message to display album art
                            30389 ; 608  |                                SysCallFunction(RSRC_APIC_FRAME_CODEBANK, ApicPostMessage,
                                   0, 0, NULL);
                            30390 ; 609  |                        } else
                            30391 ; 610  |#endif
                            30392 ; 611  |                        {
                            30393 ; 612  |#ifdef USE_PLAYLIST5
                            30394 ; 613  |                                if((g_wTotalSongCount == 0) && (g_PL5_PL_queue.head != g_P
                                  L5_PL_queue.tail))
                            30395 ; 614  |                                    g_wTotalSongCount = 1;
                            30396 ; 615  |#endif
                            30397 ; 616  |            // decoder was playing and NEXT button was pressed
                            30398 ; 617  |                PlayerLib_SetState (DECODER_STATE_PLAY,TRUE,NULL);
                            30399 ; 618  |
                            30400 ; 619  |                        }
                            30401 ; 620  |            SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_MarkCurrentSongPlayed,0,0,0);
                            30402 ; 621  |            break;
                            30403 ; 622  |          case NEXTSONG_FFWD:
                            30404 ; 623  |            // decoder was fast forwarding and reached the end of a song
                            30405 ; 624  |            PlayerLib_FastForward(0,0,0);
                            30406 ; 625  |            break;
                            30407 ; 626  |          default:
                            30408 ; 627  |            // else -- decoder is stopped, do nothing
                            30409 ; 628  |            break;
                            30410 ; 629  |          } // switch (wMode)
                            30411 ; 630  |        }
                            30412 ; 631  |        else
                            30413 ; 632  |           SysSpeedClockFree(SPEED_CLIENT_PLAYERLIB); // C Speed client frees the shared s
                                  peed resource
                            30414 ; 633  |      }
                            30415 ; 634  |      else
                            30416 ; 635  |      {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 499

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30417 ; 636  |          // PlayList had no more songs -- reset to first song
                            30418 ; 637  |          // Set player state to stopped.
                            30419 ; 638  |          g_iPlayerState = DECODER_STOPPED;
                            30420 ; 639  |          SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong,0,0,0);
                            30421 ; 640  |#ifdef USE_PLAYLIST5          
                            30422 ; 641  |          PlayerLib_SetState (DECODER_STATE_STOP,TRUE,NULL);
                            30423 ; 642  |#endif          
                            30424 ; 643  |
                            30425 ; 644  |          SysPostMessage(2,MENU_DECODER_STATE_CHNG);
                            30426 ; 645  |#ifdef USE_PLAYLIST2
                            30427 ; 646  |#ifdef AUDIBLE
                            30428 ; 647  |                  g_bStartOfList = TRUE;
                            30429 ; 648  |#endif
                            30430 ; 649  |#endif
                            30431 ; 650  |          rtn = PLAYERLIB_END_OF_LIST;
                            30432 ; 651  |          break;
                            30433 ; 652  |      }
                            30434 ; 653  |    } // while loop
                            30435 ; 654  |#endif  // #ifdef USE_PLAYLIST3
                            30436 ; 655  |
                            30437 ; 656  |    return rtn;
                            30438 ; 657  |}
                            30439 
P:0325 77F400 FFFFFB  3 178130441         move    #-5,n7
P:0327 000000         2 178330442         nop
P:0328 05EF7C         4 178730443         movec   y:(r7+n7),ssh
P:0329 204F00         2 178930445         move    (r7)+n7
P:032A 00000C         4 179330447         rts
                            30453 
                            30454 ; 658  |
                            30455 ; 659  |///////////////////////////////////////////////////////////////////////////////
                            30456 ; 660  |//> Name:        PlayerLib_SkipToPreviousSong
                            30457 ; 661  |//
                            30458 ; 662  |//  Type:        Function
                            30459 ; 663  |//
                            30460 ; 664  |//  Description: This function is responsible for backing up to the previous
                            30461 ; 665  |//               song and then returning the decoder to the proper state (stop,
                            30462 ; 666  |//               play, rwnd, etc.)
                            30463 ; 667  |//
                            30464 ; 668  |//  Inputs:      wMode : PREV song parameter (i.e. "PREV" button push, rewind
                            30465 ; 669  |//                       over boundary, etc.)
                            30466 ; 670  |//
                            30467 ; 671  |//  Outputs:     PLAYERLIB_SUCCESS if prev song is successfully found and loaded
                            30468 ; 672  |//               PLAYERLIB_END_OF_LIST if no songs available
                            30469 ; 673  |//
                            30470 ; 674  |//  Notes:       Need to devise a complete method for passing the cause for the
                            30471 ; 675  |//               PREV song on to the playlist.
                            30472 ; 676  |//<
                            30473 ; 677  |///////////////////////////////////////////////////////////////////////////////
                            30474 ; 678  |RETCODE _reentrant PlayerLib_SkipToPreviousSong(WORD bUseMode, WORD wMode,int*ignored2)
                            30475 ; 679  |{
                            30476 
                            30481 FPlayerLib_SkipToPreviousSong:
P:032B 055F7C         2 179530482         movec   ssh,y:(r7)+
P:032C 3F0300         2 179730485         move    #3,n7
P:032D 000000         2 179930486         nop
P:032E 204F00         2 180130487         move    (r7)+n7
                            30497 
                            30498 ; 680  |#ifdef USE_PLAYLIST3
                            30499 ; 681  |        _packed BYTE *szFilename = DirPath; // use *szFilename_temp point to SongInfo[1]
                            30500 
P:032F 66F400 rrrrrr  3 180430502         move    #FDirPath,r6
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 500

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0331 77F400 FFFFFE  3 180730504         move    #-2,n7
P:0333 000000         2 180930505         nop
P:0334 6E6F00         4 181330506         move    r6,y:(r7+n7)
                            30511 
                            30512 ; 682  |        RETCODE rtn = PLAYERLIB_ERROR;
                            30513 ; 683  |
                            30514 ; 684  |        // Go to PREVIOUS song ...
                            30515 ; 685  |        if(!(wMode & PREVSONG_RWND))
                            30516 
P:0335 77F400 FFFFFD  3 181630518         move    #-3,n7
P:0337 000000         2 181830519         nop
P:0338 5D6F00         4 182230520         move    b1,y:(r7+n7)
P:0339 47F400 000002  3 182530521         move    #>2,y1
P:033B 20007E         2 182730522         and     y1,b
P:033C 045FA0         2 182930525         movec   m0,n7
P:033D 000000         2 183130526         nop
P:033E 5D6F00         4 183530527         move    b1,y:(r7+n7)
P:033F 2B0000         2 183730528         move    #0,b2
P:0340 20000B         2 183930529         tst     b
P:0341 0AF0A2 rrrrrr  6 184530530         jne     L183
                            30531 
                            30532 ; 686  |                PlayerLib_SetState(DECODER_STATE_STOP,TRUE,NULL);
                            30533 
P:0343 300000         2 184730535         move    #0,r0
P:0344 200013         2 184930537         clr     a   
P:0345 57F400 000001  3 185230538         move    #>1,b
P:0347 0BF080 rrrrrr  6 185830539         jsr     FPlayerLib_SetState
                            30541 
                            30542 ; 687  |        // Use C Speed client Dclock freq Increase call.
                            30543 ; 688  |        // Defines are in SysSpeed.inc.  Sysspeed.h is generated
                            30544 ; 689  |        SysSpeedIncrease(SPEED_MAX, SPEED_CLIENT_PLAYERLIB);
                            30545 
P:0349 57F400 00000E  3 186130547 L183:   move    #>14,b
P:034B 56F400 00000A  3 186430548         move    #>10,a
P:034D 0BF080 rrrrrr  6 187030549         jsr     FSysSpeedIncrease
                            30550 
                            30551 ; 690  |
                            30552 ; 691  |//      //get the previous track by using PD musiclib
                            30553 ; 692  |        if ((g_iShuffleSetting) && (bPlayVoice == FALSE))
                            30554 
P:034F 5EF000 rrrrrr  3 187330556         move    y:Fg_iShuffleSetting,a
P:0351 200003         2 187530557         tst     a
P:0352 0AF0AA rrrrrr  6 188130558         jeq     L185
P:0354 5FF000 rrrrrr  3 188430559         move    y:FbPlayVoice,b
P:0356 2B0000         2 188630560         move    #0,b2
P:0357 20000B         2 188830561         tst     b
P:0358 0AF0A2 rrrrrr  6 189430562         jne     L185
                            30563 
                            30564 ; 693  |                SysPostMessage(4,MUSICLIB_SHUFFLE_NEXT,SHUFFLE_PREVIOUS_SONG,&g_current_in
                                  dex);
                            30565 
P:035A 64F400 rrrrrr  3 189730567         move    #Fg_current_index,r4
P:035C 6C5F00         2 189930568         move    r4,y:(r7)+
P:035D 290100         2 190130570         move    #1,b0
P:035E 595F00         2 190330571         move    b0,y:(r7)+
P:035F 260F00         2 190530573         move    #<$F,y0
P:0360 4E5F00         2 190730574         move    y0,y:(r7)+
P:0361 290400         2 190930576         move    #4,b0
P:0362 595F00         2 191130577         move    b0,y:(r7)+
P:0363 0BF080 rrrrrr  6 191730579         jsr     FSysPostMessage
P:0365 3F0400         2 191930580         move    #4,n7
P:0366 0AF080 rrrrrr  6 192530581         jmp     L186
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 501

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30582 
                            30583 ; 694  |        else
                            30584 ; 695  |                SysPostMessage(3,MUSICLIB_PLAYPREVIOUSSONG,&g_current_index);
                            30585 
P:0368 62F400 rrrrrr  3 192830587 L185:   move    #Fg_current_index,r2
P:036A 6A5F00         2 193030588         move    r2,y:(r7)+
P:036B 260E00         2 193230590         move    #<$E,y0
P:036C 4E5F00         2 193430591         move    y0,y:(r7)+
P:036D 290300         2 193630593         move    #3,b0
P:036E 595F00         2 193830594         move    b0,y:(r7)+
P:036F 0BF080 rrrrrr  6 194430596         jsr     FSysPostMessage
P:0371 3F0300         2 194630597         move    #3,n7
P:0372 000000         2 194830598 L186:   nop
P:0373 204700         2 195030599         move    (r7)-n7
                            30601 
                            30602 ; 696  |        SysWaitOnEvent(0,0,0);
                            30603 
P:0374 300000         2 195230605         move    #0,r0
P:0375 200013         2 195430606         clr     a   
P:0376 20001B         2 195630607         clr     b   
P:0377 0BF080 rrrrrr  6 196230608         jsr     SysWaitOnEvent
                            30609 
                            30610 ; 697  |        SysCallFunction(RSRC_METADATA_CODEBANK,RetrieveSongInfo,0,0,(INT*)(DirPath));
                            30611 
P:0379 20001B         2 196430613         clr     b   
P:037A 64F400 rrrrrr  3 196730614         move    #FDirPath,r4
P:037C 240000         2 196930615         move    #0,x0
P:037D 56F400 0001E4  3 197230616         move    #484,a
P:037F 60F400 rrrrrr  3 197530617         move    #FRetrieveSongInfo,r0
P:0381 0BF080 rrrrrr  6 198130618         jsr     SysCallFunction
                            30619 
                            30620 ; 698  |
                            30621 ; 699  |        if ( (szFilename[0] == 0x2f3a62) || (szFilename[0] == 0x2f3a42))
                            30622 
P:0383 77F400 FFFFFE  3 198430624         move    #-2,n7
P:0385 000000         2 198630625         nop
P:0386 6EEF00         4 199030626         move    y:(r7+n7),r6
P:0387 000000         2 199230627         nop
P:0388 5FE600         2 199430628         move    y:(r6),b
P:0389 46F400 2F3A62  3 199730631         move    #3095138,y0
P:038B 20005D         2 199930632         cmp     y0,b
P:038C 0AF0AA rrrrrr  6 200530633         jeq     L187
P:038E 47F400 2F3A42  3 200830634         move    #3095106,y1
P:0390 20007D         2 201030635         cmp     y1,b
P:0391 0AF0A2 rrrrrr  6 201630636         jne     L188
                            30637 
                            30638 ; 700  |                g_wCurrentDirDevId = 1;
                            30639 
P:0393 47F400 000001  3 201930641 L187:   move    #>1,y1
P:0395 4F7000 rrrrrr  3 202230642         move    y1,y:Fg_wCurrentDirDevId
P:0397 0AF080 rrrrrr  6 202830643         jmp     L189
                            30644 
                            30645 ; 701  |        else
                            30646 ; 702  |                g_wCurrentDirDevId = 0;
                            30647 
P:0399 20001B         2 203030649 L188:   clr     b   
P:039A 5D7000 rrrrrr  3 203330650         move    b1,y:Fg_wCurrentDirDevId
                            30651 
                            30652 ; 703  |        packed_strcpy(g_CurrentSongName, DirPath);
                            30653 
P:039C 60F400 rrrrrr  3 203630655 L189:   move    #Fg_CurrentSongName,r0
P:039E 64F400 rrrrrr  3 203930656         move    #FDirPath,r4
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 502

M:ADDR CODE           CYCLES LINE SOURCELINE
P:03A0 0BF080 rrrrrr  6 204530657         jsr     packed_strcpy
                            30659 
                            30660 ; 704  |        SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetMetaData,0,0,0);
                            30661 
P:03A2 20001B         2 204730663         clr     b   
P:03A3 200013         2 204930664         clr     a   
P:03A4 219400         2 205130665         move    a1,r4
P:03A5 240000         2 205330666         move    #0,x0
P:03A6 56F400 00006C  3 205630667         move    #>108,a
P:03A8 60F400 rrrrrr  3 205930668         move    #FPlayerLib_GetMetaData,r0
P:03AA 0BF080 rrrrrr  6 206530669         jsr     SysCallFunction
                            30670 
                            30671 ; 705  |
                            30672 ; 706  |        SysSpeedClockFree(SPEED_CLIENT_PLAYERLIB); // C Speed client frees the shared spee
                                  d resource
                            30673 
P:03AC 56F400 00000E  3 206830675         move    #>14,a
P:03AE 0BF080 rrrrrr  6 207430676         jsr     FSysSpeedClockFree
                            30677 
                            30678 ; 707  |
                            30679 ; 708  |        //check and see if the decoder changed.  If so, update the decoder and force init.
                                  
                            30680 ; 709  |        DecoderForceInit();
                            30681 
P:03B0 0BF080 rrrrrr  6 208030683         jsr     DecoderForceInit
P:03B2 20001B         2 208230684         clr     b   
P:03B3 5D5F00         2 208430685         move    b1,y:(r7)+
P:03B4 290200         2 208630687         move    #2,b0
P:03B5 595F00         2 208830688         move    b0,y:(r7)+
                            30690 
                            30691 ; 710  |        SysPostMessage(2,DECODER_RESET);
                            30692 
P:03B6 0BF080 rrrrrr  6 209430694         jsr     FSysPostMessage
P:03B8 205700         2 209630695         move    (r7)-
P:03B9 205700         2 209830697         move    (r7)-
                            30699 
                            30700 ; 711  |#ifdef AUDIBLE
                            30701 ; 712  |                  if( (DecoderResourcePtr != RSRC_AUDIBLE_ACELPDEC_CODE) && (DecoderResour
                                  cePtr != RSRC_AUDIBLE_DECMOD_CODE) ) {
                            30702 ; 713  |                        DecSetSongPosZero();                       // reset byte positions
                                   to beginning of file
                            30703 ; 714  |                  }
                            30704 ; 715  |#else
                            30705 ; 716  |      DecSetSongPosZero();                       // reset byte positions to beginning of f
                                  ile
                            30706 
P:03BA 0BF080 rrrrrr  6 210430708         jsr     DecSetSongPosZero
                            30709 
                            30710 ; 717  |#endif
                            30711 ; 718  |        if(wMode & PREVSONG_PLAY)      // decoder was playing and PREV button pressed
                            30712 
P:03BC 77F400 FFFFFD  3 210730714         move    #-3,n7
P:03BE 000000         2 210930715         nop
P:03BF 5EEF00         4 211330716         move    y:(r7+n7),a
P:03C0 46F400 000001  3 211630717         move    #>1,y0
P:03C2 200056         2 211830718         and     y0,a
P:03C3 2A0000         2 212030722         move    #0,a2
P:03C4 200003         2 212230723         tst     a
P:03C5 0AF0A2 rrrrrr  6 212830724         jne     L190
                            30725 
                            30726 ; 719  |        {
                            30727 ; 720  |#ifdef JPEG_ALBUM_ART
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 503

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30728 ; 721  |                if (g_bApicFrameFound) {
                            30729 ; 722  |                        // Post a message to display album art
                            30730 ; 723  |                        SysCallFunction(RSRC_APIC_FRAME_CODEBANK, ApicPostMessage, 0, 0, N
                                  ULL);
                            30731 ; 724  |                } else
                            30732 ; 725  |#endif
                            30733 ; 726  |                {
                            30734 ; 727  |                PlayerLib_SetState(DECODER_STATE_PLAY,TRUE,NULL);
                            30735 ; 728  |            }
                            30736 ; 729  |        }
                            30737 ; 730  |        else if (wMode & PREVSONG_RWND)  // decoder was rewinding and hit beginning of son
                                  g
                            30738 
P:03C7 045FA0         2 213030740         movec   m0,n7
P:03C8 000000         2 213230741         nop
P:03C9 5FEF00         4 213630742         move    y:(r7+n7),b
P:03CA 2B0000         2 213830743         move    #0,b2
P:03CB 20000B         2 214030744         tst     b
P:03CC 0AF0AA rrrrrr  6 214630745         jeq     L192
                            30746 
                            30747 ; 731  |        {
                            30748 ; 732  |                DecSetSongPosEnd();
                            30749 
P:03CE 0BF080 rrrrrr  6 215230751         jsr     DecSetSongPosEnd
                            30752 
                            30753 ; 733  |                rtn =PlayerLib_Rewind(0,0,0);
                            30754 
P:03D0 200013         2 215430756         clr     a   
P:03D1 20001B         2 215630757         clr     b   
P:03D2 300000         2 215830758         move    #0,r0
P:03D3 0BF080 rrrrrr  6 216430759         jsr     FPlayerLib_Rewind
                            30761 
                            30762 ; 734  |                if (rtn != PLAYERLIB_SUCCESS)   //return with error
                            30763 
P:03D5 200003         2 216630765         tst     a
P:03D6 0AF0AA rrrrrr  6 217230766         jeq     L192
                            30767 
                            30768 ; 735  |                    return rtn;
                            30769 
P:03D8 0AF080 rrrrrr  6 217830771         jmp     L193
P:03DA 200051         2 218030773 L190:   tfr     y0,a
P:03DB 300000         2 218230775         move    #0,r0
P:03DC 200059         2 218430776         tfr     y0,b
P:03DD 0BF080 rrrrrr  6 219030777         jsr     FPlayerLib_SetState
                            30778 
                            30779 ; 736  |        }
                            30780 ; 737  |        else
                            30781 ; 738  |        {
                            30782 ; 739  |                // else -- decoder is stopped, do nothing
                            30783 ; 740  |        }
                            30784 ; 741  |        rtn = PLAYERLIB_SUCCESS;
                            30785 ; 742  |#else   // #ifdef USE_PLAYLIST3
                            30786 ; 743  |    RETCODE rtn = PLAYERLIB_END_OF_LIST;
                            30787 ; 744  |    _packed BYTE szFilename[MAX_FILENAME_LENGTH];
                            30788 ; 745  |        RETCODE TmpRtn;         
                            30789 ; 746  |
                            30790 ; 747  |    SONGFILEINFO SongInfo;
                            30791 ; 748  |    SONGTIME time;
                            30792 ; 749  |    SongInfo.m_wBufferLength = MAX_FILENAME_LENGTH;
                            30793 ; 750  |    SongInfo.m_pFilename = szFilename;
                            30794 ; 751  |
                            30795 ; 752  |     // Go to PREVIOUS song ...
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 504

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30796 ; 753  |    if(!(wMode & PREVSONG_RWND))
                            30797 ; 754  |        PlayerLib_SetState(DECODER_STATE_STOP,TRUE,NULL);
                            30798 ; 755  |
                            30799 ; 756  |#ifdef USE_PLAYLIST5                    
                            30800 ; 757  |        if((g_iPlaylistRepeat == PLAYLIST_REPEAT_ONE) && (wMode !=PREVSONG_PLAY) )
                            30801 ; 758  |        {
                            30802 ; 759  |                TmpRtn = PLAYLIST_SUCCESS;
                            30803 ; 760  |        SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_GetCurrentSongFileInfo,0,0,(int*)&
                                  SongInfo);
                            30804 ; 761  |
                            30805 ; 762  |        }
                            30806 ; 763  |        else
                            30807 ; 764  |        {
                            30808 ; 765  |                TmpRtn = SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_GetPreviousSongFi
                                  leInfo,0,0,(void*)&SongInfo);
                            30809 ; 766  |        }
                            30810 ; 767  |    if(TmpRtn==PLAYLIST_SUCCESS)
                            30811 ; 768  |#else
                            30812 ; 769  |    if(SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_GetPreviousSongFileInfo,0,0,(void*)
                                  &SongInfo)==PLAYLIST_SUCCESS)
                            30813 ; 770  |#endif    
                            30814 ; 771  |    {
                            30815 ; 772  |      // Use C Speed client Dclock freq Increase call.
                            30816 ; 773  |      // Defines are in SysSpeed.inc.  Sysspeed.h is generated
                            30817 ; 774  |      SysSpeedIncrease(SPEED_MAX, SPEED_CLIENT_PLAYERLIB);
                            30818 ; 775  |
                            30819 ; 776  |      g_wCurrentDirDevId = SongInfo.m_wDeviceID;
                            30820 ; 777  |      packed_strcpy(g_CurrentSongName, szFilename);
                            30821 ; 778  |#ifndef USE_PLAYLIST5     
                            30822 ; 779  |      g_wCurrentSongNumber = SongInfo.m_wTrack;
                            30823 ; 780  |#endif
                            30824 ; 781  |      rtn = SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetMetaData,0,0,0); /
                                  / Stmp00010296
                            30825 ; 782  |
                            30826 ; 783  |      SysSpeedClockFree(SPEED_CLIENT_PLAYERLIB); // C Speed client frees the shared speed 
                                  resource
                            30827 ; 784  |
                            30828 ; 785  |                if (rtn == META_DATA_FOUND)     // Stmp00010296
                            30829 ; 786  |        {
                            30830 ; 787  |          //check and see if the decoder changed.  If so, update the decoder and force ini
                                  t.
                            30831 ; 788  |          DecoderForceInit();
                            30832 ; 789  |          SysPostMessage(2,DECODER_RESET);
                            30833 ; 790  |          DecSetSongPosZero();              // Stmp00010296 reset file byte positions to 0
                                  .
                            30834 ; 791  |
                            30835 ; 792  |#ifdef AUDIBLE
                            30836 ; 793  |                  if( (DecoderResourcePtr != RSRC_AUDIBLE_ACELPDEC_CODE) && (DecoderResour
                                  cePtr != RSRC_AUDIBLE_DECMOD_CODE) ) {
                            30837 ; 794  |                        DecSetSongPosZero();                       // reset byte positions
                                   to beginning of file
                            30838 ; 795  |                  }
                            30839 ; 796  |#else
                            30840 ; 797  |      DecSetSongPosZero();                       // reset byte positions to beginning of f
                                  ile
                            30841 ; 798  |#endif
                            30842 ; 799  |
                            30843 ; 800  |      if(wMode & PREVSONG_PLAY)      // decoder was playing and PREV button pressed
                            30844 ; 801  |      {
                            30845 ; 802  |#ifdef JPEG_ALBUM_ART
                            30846 ; 803  |                if (g_bApicFrameFound) {
                            30847 ; 804  |                        // Post a message to display album art
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 505

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30848 ; 805  |                        SysCallFunction(RSRC_APIC_FRAME_CODEBANK, ApicPostMessage, 0, 0, N
                                  ULL);
                            30849 ; 806  |                } else
                            30850 ; 807  |#endif
                            30851 ; 808  |                {
                            30852 ; 809  |        PlayerLib_SetState(DECODER_STATE_PLAY,TRUE,NULL);
                            30853 ; 810  |                }
                            30854 ; 811  |      }
                            30855 ; 812  |      else if (wMode & PREVSONG_RWND)  // decoder was rewinding and hit beginning of song
                            30856 ; 813  |      {
                            30857 ; 814  |        DecSetSongPosEnd();
                            30858 ; 815  |        PlayerLib_Rewind(0,0,0);
                            30859 ; 816  |      }
                            30860 ; 817  |      else
                            30861 ; 818  |      {
                            30862 ; 819  |          // else -- decoder is stopped, do nothing
                            30863 ; 820  |      }
                            30864 ; 821  |      rtn = PLAYERLIB_SUCCESS;
                            30865 ; 822  |            }   // Stmp00010296
                            30866 ; 823  |    }
                            30867 ; 824  |#ifdef USE_PLAYLIST5    
                            30868 ; 825  |        else
                            30869 ; 826  |        {
                            30870 ; 827  |      g_iPlayerState = DECODER_STOPPED;
                            30871 ; 828  |      SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong,0,0,0);
                            30872 ; 829  |      PlayerLib_SetState (DECODER_STATE_STOP,TRUE,NULL);
                            30873 ; 830  |
                            30874 ; 831  |      SysPostMessage(2,MENU_DECODER_STATE_CHNG);
                            30875 ; 832  |      rtn = PLAYERLIB_END_OF_LIST;
                            30876 ; 833  |        }
                            30877 ; 834  |#endif  
                            30878 ; 835  |#endif  // #ifdef USE_PLAYLIST3
                            30879 ; 836  |    return rtn;
                            30880 
P:03DF 200013         2 219230882 L192:   clr     a   
P:03E0 218E00         2 219430883         move    a1,a
                            30884 
                            30885 ; 837  |}
                            30886 
P:03E1 77F400 FFFFFC  3 219730888 L193:   move    #-4,n7
P:03E3 000000         2 219930889         nop
P:03E4 05EF7C         4 220330890         movec   y:(r7+n7),ssh
P:03E5 204F00         2 220530892         move    (r7)+n7
P:03E6 00000C         4 220930894         rts
                            30896 
                            30897 ; 838  |
                            30898 ; 839  |///////////////////////////////////////////////////////////////////////////////
                            30899 ; 840  |//> Name:        PlayerLib_EnablePlaylist
                            30900 ; 841  |//
                            30901 ; 842  |//  Type:        Function
                            30902 ; 843  |//
                            30903 ; 844  |//  Description: Enable the playlist.
                            30904 ; 845  |//
                            30905 ; 846  |//  Inputs:      None used.
                            30906 ; 847  |//
                            30907 ; 848  |//  Outputs:     PLAYERLIB_SUCCESS
                            30908 ; 849  |//
                            30909 ; 850  |//<
                            30910 ; 851  |///////////////////////////////////////////////////////////////////////////////
                            30911 ; 852  |RETCODE _reentrant PlayerLib_EnablePlaylist(int bTrueFalse,int ignored1,int*ignored2)
                            30912 ; 853  |{
                            30913 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 506

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30918 FPlayerLib_EnablePlaylist:
                            30925 
                            30926 ; 854  |    g_bPlayListEnabled = bTrueFalse;
                            30927 
P:03E7 5C7000 rrrrrr  3 221230929         move    a1,y:Fg_bPlayListEnabled
                            30930 
                            30931 ; 855  |    return PLAYERLIB_SUCCESS;
                            30932 
P:03E9 200013         2 221430934         clr     a   
                            30936 
                            30937 ; 856  |}
                            30938 
P:03EA 00000C         4 221830940         rts
                            30944 
                            30945 ; 857  |
                            30946 
                            30956 
                            30959 
Y:0000                      30960         org     y,".ybssplayerlib",bss:
                            30961 Fg_CurrentSongFastkey:
Y:0000                      30962         ds      2
   |   RESERVED                   
Y:0001
                            30969 Fg_CurrentSongName:
Y:0002                      30970         ds      86
   |   RESERVED                   
Y:0057
                            30990 
                            30991         extern  DecSetSongPosEnd, DecSetSongPosZero, DecoderForceInit
                            30992         extern  SysCallFunction, SysWaitOnEvent, packed_strcpy, y:FDirPath
                            30993         extern  FLyricsPause, FLyricsStart, FLyricsStop
                            30994         extern  FPlayerLib_GetMetaData, FPlaylist_MarkCurrentSongPlayed
                            30995         extern  FRetrieveSongInfo, FSysPostMessage, FSysSpeedClockFree
                            30996         extern  FSysSpeedIncrease, y:FbPlayVoice, y:Fg_current_index
                            30997         extern  y:Fg_current_size, y:Fg_iRepeatSetting
                            30998         extern  y:Fg_iShuffleSetting, y:Fg_shuffle_start
                            30999         extern  y:Fg_wCurrentDirDevId, y:Fg_wCurrentSongBad
                            31000         extern  x:Fg_wDecoderCSR, x:Fg_wDecoderSR
                            31001 
                            31002         global  FPlayerLib_EnablePlaylist, FPlayerLib_FastForward
                            31003         global  FPlayerLib_Rewind, FPlayerLib_SetState
                            31004         global  FPlayerLib_SkipToNextSong, FPlayerLib_SkipToPreviousSong
                            31005         global  FbCurrentSongShort, Fg_CurrentSongFastkey
                            31006         global  Fg_CurrentSongName, Fg_bPlayListEnabled, Fg_iPlayerState
                            31007 
                            31008         local   L65, L66, L67, L69, L70, L71, L72, L73, L74, L75, L76, L77
                            31009         local   L78, L79, L80, L81, L82, L83, L84, L94, L95, L100, L101
                            31010         local   L102, L104, L105, L139, L141, L142, L143, L145, L146, L147
                            31011         local   L148, L149, L151, L152, L154, L155, L157, L159, L160, L161
                            31012         local   L162, L163, L164, L169, L170, L183, L185, L186, L187, L188
                            31013         local   L189, L190, L192, L193
                            31014 
                            31015         calls   "PlayerLib_FastForward", "PlayerLib_SetState"
                            31016         calls   "PlayerLib_FastForward", "SysPostMessage", "SysWaitOnEvent"
                            31017         calls   "PlayerLib_Rewind", "PlayerLib_SetState", "SysPostMessage"
                            31018         calls   "PlayerLib_Rewind", "SysWaitOnEvent"
                            31019         calls   "PlayerLib_SetState", "DecSetSongPosZero"
                            31020         calls   "PlayerLib_SetState", "DecoderForceInit", "SysCallFunction"
                            31021         calls   "PlayerLib_SetState", "SysPostMessage", "SysWaitOnEvent"
                            31022         calls   "PlayerLib_SkipToNextSong", "DecSetSongPosZero"
                            31023         calls   "PlayerLib_SkipToNextSong", "DecoderForceInit"
                            31024         calls   "PlayerLib_SkipToNextSong", "PlayerLib_FastForward"
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 507

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31025         calls   "PlayerLib_SkipToNextSong", "PlayerLib_SetState"
                            31026         calls   "PlayerLib_SkipToNextSong", "SysCallFunction"
                            31027         calls   "PlayerLib_SkipToNextSong", "SysPostMessage"
                            31028         calls   "PlayerLib_SkipToNextSong", "SysSpeedClockFree"
                            31029         calls   "PlayerLib_SkipToNextSong", "SysSpeedIncrease"
                            31030         calls   "PlayerLib_SkipToNextSong", "SysWaitOnEvent"
                            31031         calls   "PlayerLib_SkipToNextSong", "packed_strcpy"
                            31032         calls   "PlayerLib_SkipToPreviousSong", "DecSetSongPosEnd"
                            31033         calls   "PlayerLib_SkipToPreviousSong", "DecSetSongPosZero"
                            31034         calls   "PlayerLib_SkipToPreviousSong", "DecoderForceInit"
                            31035         calls   "PlayerLib_SkipToPreviousSong", "PlayerLib_Rewind"
                            31036         calls   "PlayerLib_SkipToPreviousSong", "PlayerLib_SetState"
                            31037         calls   "PlayerLib_SkipToPreviousSong", "SysCallFunction"
                            31038         calls   "PlayerLib_SkipToPreviousSong", "SysPostMessage"
                            31039         calls   "PlayerLib_SkipToPreviousSong", "SysSpeedClockFree"
                            31040         calls   "PlayerLib_SkipToPreviousSong", "SysSpeedIncrease"
                            31041         calls   "PlayerLib_SkipToPreviousSong", "SysWaitOnEvent"
                            31042         calls   "PlayerLib_SkipToPreviousSong", "packed_strcpy"
                            31043 
